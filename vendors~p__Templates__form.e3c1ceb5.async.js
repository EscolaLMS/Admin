(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"3dVZ":function(wt,ft,ze){},"D6/r":function(wt,ft,ze){},H7XF:function(wt,ft,ze){"use strict";ft.byteLength=C,ft.toByteArray=h,ft.fromByteArray=w;for(var qe=[],Ye=[],ot=typeof Uint8Array!="undefined"?Uint8Array:Array,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=0,ne=Qe.length;X<ne;++X)qe[X]=Qe[X],Ye[Qe.charCodeAt(X)]=X;Ye["-".charCodeAt(0)]=62,Ye["_".charCodeAt(0)]=63;function D(m){var o=m.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=m.indexOf("=");i===-1&&(i=o);var e=i===o?0:4-i%4;return[i,e]}function C(m){var o=D(m),i=o[0],e=o[1];return(i+e)*3/4-e}function _(m,o,i){return(o+i)*3/4-i}function h(m){var o,i=D(m),e=i[0],r=i[1],n=new ot(_(m,e,r)),c=0,t=r>0?e-4:e,d;for(d=0;d<t;d+=4)o=Ye[m.charCodeAt(d)]<<18|Ye[m.charCodeAt(d+1)]<<12|Ye[m.charCodeAt(d+2)]<<6|Ye[m.charCodeAt(d+3)],n[c++]=o>>16&255,n[c++]=o>>8&255,n[c++]=o&255;return r===2&&(o=Ye[m.charCodeAt(d)]<<2|Ye[m.charCodeAt(d+1)]>>4,n[c++]=o&255),r===1&&(o=Ye[m.charCodeAt(d)]<<10|Ye[m.charCodeAt(d+1)]<<4|Ye[m.charCodeAt(d+2)]>>2,n[c++]=o>>8&255,n[c++]=o&255),n}function p(m){return qe[m>>18&63]+qe[m>>12&63]+qe[m>>6&63]+qe[m&63]}function f(m,o,i){for(var e,r=[],n=o;n<i;n+=3)e=(m[n]<<16&16711680)+(m[n+1]<<8&65280)+(m[n+2]&255),r.push(p(e));return r.join("")}function w(m){for(var o,i=m.length,e=i%3,r=[],n=16383,c=0,t=i-e;c<t;c+=n)r.push(f(m,c,c+n>t?t:c+n));return e===1?(o=m[i-1],r.push(qe[o>>2]+qe[o<<4&63]+"==")):e===2&&(o=(m[i-2]<<8)+m[i-1],r.push(qe[o>>10]+qe[o>>4&63]+qe[o<<2&63]+"=")),r.join("")}},HDXh:function(wt,ft,ze){"use strict";(function(qe){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var Ye=ze("H7XF"),ot=ze("kVK+"),Qe=ze("v3Qx");ft.Buffer=C,ft.SlowBuffer=r,ft.INSPECT_MAX_BYTES=50,C.TYPED_ARRAY_SUPPORT=qe.TYPED_ARRAY_SUPPORT!==void 0?qe.TYPED_ARRAY_SUPPORT:X(),ft.kMaxLength=ne();function X(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},K.foo()===42&&typeof K.subarray=="function"&&K.subarray(1,1).byteLength===0}catch(k){return!1}}function ne(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(K,k){if(ne()<k)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(K=new Uint8Array(k),K.__proto__=C.prototype):(K===null&&(K=new C(k)),K.length=k),K}function C(K,k,I){if(!C.TYPED_ARRAY_SUPPORT&&!(this instanceof C))return new C(K,k,I);if(typeof K=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,K)}return _(this,K,k,I)}C.poolSize=8192,C._augment=function(K){return K.__proto__=C.prototype,K};function _(K,k,I,W){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&k instanceof ArrayBuffer?o(K,k,I,W):typeof k=="string"?w(K,k,I):i(K,k)}C.from=function(K,k,I){return _(null,K,k,I)},C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0}));function h(K){if(typeof K!="number")throw new TypeError('"size" argument must be a number');if(K<0)throw new RangeError('"size" argument must not be negative')}function p(K,k,I,W){return h(k),k<=0?D(K,k):I!==void 0?typeof W=="string"?D(K,k).fill(I,W):D(K,k).fill(I):D(K,k)}C.alloc=function(K,k,I){return p(null,K,k,I)};function f(K,k){if(h(k),K=D(K,k<0?0:e(k)|0),!C.TYPED_ARRAY_SUPPORT)for(var I=0;I<k;++I)K[I]=0;return K}C.allocUnsafe=function(K){return f(null,K)},C.allocUnsafeSlow=function(K){return f(null,K)};function w(K,k,I){if((typeof I!="string"||I==="")&&(I="utf8"),!C.isEncoding(I))throw new TypeError('"encoding" must be a valid string encoding');var W=n(k,I)|0;K=D(K,W);var re=K.write(k,I);return re!==W&&(K=K.slice(0,re)),K}function m(K,k){var I=k.length<0?0:e(k.length)|0;K=D(K,I);for(var W=0;W<I;W+=1)K[W]=k[W]&255;return K}function o(K,k,I,W){if(k.byteLength,I<0||k.byteLength<I)throw new RangeError("'offset' is out of bounds");if(k.byteLength<I+(W||0))throw new RangeError("'length' is out of bounds");return I===void 0&&W===void 0?k=new Uint8Array(k):W===void 0?k=new Uint8Array(k,I):k=new Uint8Array(k,I,W),C.TYPED_ARRAY_SUPPORT?(K=k,K.__proto__=C.prototype):K=m(K,k),K}function i(K,k){if(C.isBuffer(k)){var I=e(k.length)|0;return K=D(K,I),K.length===0||k.copy(K,0,0,I),K}if(k){if(typeof ArrayBuffer!="undefined"&&k.buffer instanceof ArrayBuffer||"length"in k)return typeof k.length!="number"||ge(k.length)?D(K,0):m(K,k);if(k.type==="Buffer"&&Qe(k.data))return m(K,k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function e(K){if(K>=ne())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ne().toString(16)+" bytes");return K|0}function r(K){return+K!=K&&(K=0),C.alloc(+K)}C.isBuffer=function(k){return!!(k!=null&&k._isBuffer)},C.compare=function(k,I){if(!C.isBuffer(k)||!C.isBuffer(I))throw new TypeError("Arguments must be Buffers");if(k===I)return 0;for(var W=k.length,re=I.length,Y=0,ae=Math.min(W,re);Y<ae;++Y)if(k[Y]!==I[Y]){W=k[Y],re=I[Y];break}return W<re?-1:re<W?1:0},C.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(k,I){if(!Qe(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return C.alloc(0);var W;if(I===void 0)for(I=0,W=0;W<k.length;++W)I+=k[W].length;var re=C.allocUnsafe(I),Y=0;for(W=0;W<k.length;++W){var ae=k[W];if(!C.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(re,Y),Y+=ae.length}return re};function n(K,k){if(C.isBuffer(K))return K.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(K)||K instanceof ArrayBuffer))return K.byteLength;typeof K!="string"&&(K=""+K);var I=K.length;if(I===0)return 0;for(var W=!1;;)switch(k){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":case void 0:return be(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return je(K).length;default:if(W)return be(K).length;k=(""+k).toLowerCase(),W=!0}}C.byteLength=n;function c(K,k,I){var W=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,k>>>=0,I<=k))return"";for(K||(K="utf8");;)switch(K){case"hex":return V(this,k,I);case"utf8":case"utf-8":return M(this,k,I);case"ascii":return te(this,k,I);case"latin1":case"binary":return ee(this,k,I);case"base64":return H(this,k,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,k,I);default:if(W)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),W=!0}}C.prototype._isBuffer=!0;function t(K,k,I){var W=K[k];K[k]=K[I],K[I]=W}C.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<k;I+=2)t(this,I,I+1);return this},C.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<k;I+=4)t(this,I,I+3),t(this,I+1,I+2);return this},C.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<k;I+=8)t(this,I,I+7),t(this,I+1,I+6),t(this,I+2,I+5),t(this,I+3,I+4);return this},C.prototype.toString=function(){var k=this.length|0;return k===0?"":arguments.length===0?M(this,0,k):c.apply(this,arguments)},C.prototype.equals=function(k){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:C.compare(this,k)===0},C.prototype.inspect=function(){var k="",I=ft.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(k+=" ... ")),"<Buffer "+k+">"},C.prototype.compare=function(k,I,W,re,Y){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(I===void 0&&(I=0),W===void 0&&(W=k?k.length:0),re===void 0&&(re=0),Y===void 0&&(Y=this.length),I<0||W>k.length||re<0||Y>this.length)throw new RangeError("out of range index");if(re>=Y&&I>=W)return 0;if(re>=Y)return-1;if(I>=W)return 1;if(I>>>=0,W>>>=0,re>>>=0,Y>>>=0,this===k)return 0;for(var ae=Y-re,Ce=W-I,he=Math.min(ae,Ce),Oe=this.slice(re,Y),Ve=k.slice(I,W),Ze=0;Ze<he;++Ze)if(Oe[Ze]!==Ve[Ze]){ae=Oe[Ze],Ce=Ve[Ze];break}return ae<Ce?-1:Ce<ae?1:0};function d(K,k,I,W,re){if(K.length===0)return-1;if(typeof I=="string"?(W=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,isNaN(I)&&(I=re?0:K.length-1),I<0&&(I=K.length+I),I>=K.length){if(re)return-1;I=K.length-1}else if(I<0)if(re)I=0;else return-1;if(typeof k=="string"&&(k=C.from(k,W)),C.isBuffer(k))return k.length===0?-1:y(K,k,I,W,re);if(typeof k=="number")return k=k&255,C.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(K,k,I):Uint8Array.prototype.lastIndexOf.call(K,k,I):y(K,[k],I,W,re);throw new TypeError("val must be string, number or Buffer")}function y(K,k,I,W,re){var Y=1,ae=K.length,Ce=k.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(K.length<2||k.length<2)return-1;Y=2,ae/=2,Ce/=2,I/=2}function he(ht,Ct){return Y===1?ht[Ct]:ht.readUInt16BE(Ct*Y)}var Oe;if(re){var Ve=-1;for(Oe=I;Oe<ae;Oe++)if(he(K,Oe)===he(k,Ve===-1?0:Oe-Ve)){if(Ve===-1&&(Ve=Oe),Oe-Ve+1===Ce)return Ve*Y}else Ve!==-1&&(Oe-=Oe-Ve),Ve=-1}else for(I+Ce>ae&&(I=ae-Ce),Oe=I;Oe>=0;Oe--){for(var Ze=!0,et=0;et<Ce;et++)if(he(K,Oe+et)!==he(k,et)){Ze=!1;break}if(Ze)return Oe}return-1}C.prototype.includes=function(k,I,W){return this.indexOf(k,I,W)!==-1},C.prototype.indexOf=function(k,I,W){return d(this,k,I,W,!0)},C.prototype.lastIndexOf=function(k,I,W){return d(this,k,I,W,!1)};function E(K,k,I,W){I=Number(I)||0;var re=K.length-I;W?(W=Number(W),W>re&&(W=re)):W=re;var Y=k.length;if(Y%2!=0)throw new TypeError("Invalid hex string");W>Y/2&&(W=Y/2);for(var ae=0;ae<W;++ae){var Ce=parseInt(k.substr(ae*2,2),16);if(isNaN(Ce))return ae;K[I+ae]=Ce}return ae}function T(K,k,I,W){return z(be(k,K.length-I),K,I,W)}function A(K,k,I,W){return z(de(k),K,I,W)}function P(K,k,I,W){return A(K,k,I,W)}function O(K,k,I,W){return z(je(k),K,I,W)}function N(K,k,I,W){return z(Pe(k,K.length-I),K,I,W)}C.prototype.write=function(k,I,W,re){if(I===void 0)re="utf8",W=this.length,I=0;else if(W===void 0&&typeof I=="string")re=I,W=this.length,I=0;else if(isFinite(I))I=I|0,isFinite(W)?(W=W|0,re===void 0&&(re="utf8")):(re=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-I;if((W===void 0||W>Y)&&(W=Y),k.length>0&&(W<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var ae=!1;;)switch(re){case"hex":return E(this,k,I,W);case"utf8":case"utf-8":return T(this,k,I,W);case"ascii":return A(this,k,I,W);case"latin1":case"binary":return P(this,k,I,W);case"base64":return O(this,k,I,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,k,I,W);default:if(ae)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ae=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(K,k,I){return k===0&&I===K.length?Ye.fromByteArray(K):Ye.fromByteArray(K.slice(k,I))}function M(K,k,I){I=Math.min(K.length,I);for(var W=[],re=k;re<I;){var Y=K[re],ae=null,Ce=Y>239?4:Y>223?3:Y>191?2:1;if(re+Ce<=I){var he,Oe,Ve,Ze;switch(Ce){case 1:Y<128&&(ae=Y);break;case 2:he=K[re+1],(he&192)==128&&(Ze=(Y&31)<<6|he&63,Ze>127&&(ae=Ze));break;case 3:he=K[re+1],Oe=K[re+2],(he&192)==128&&(Oe&192)==128&&(Ze=(Y&15)<<12|(he&63)<<6|Oe&63,Ze>2047&&(Ze<55296||Ze>57343)&&(ae=Ze));break;case 4:he=K[re+1],Oe=K[re+2],Ve=K[re+3],(he&192)==128&&(Oe&192)==128&&(Ve&192)==128&&(Ze=(Y&15)<<18|(he&63)<<12|(Oe&63)<<6|Ve&63,Ze>65535&&Ze<1114112&&(ae=Ze))}}ae===null?(ae=65533,Ce=1):ae>65535&&(ae-=65536,W.push(ae>>>10&1023|55296),ae=56320|ae&1023),W.push(ae),re+=Ce}return B(W)}var Z=4096;function B(K){var k=K.length;if(k<=Z)return String.fromCharCode.apply(String,K);for(var I="",W=0;W<k;)I+=String.fromCharCode.apply(String,K.slice(W,W+=Z));return I}function te(K,k,I){var W="";I=Math.min(K.length,I);for(var re=k;re<I;++re)W+=String.fromCharCode(K[re]&127);return W}function ee(K,k,I){var W="";I=Math.min(K.length,I);for(var re=k;re<I;++re)W+=String.fromCharCode(K[re]);return W}function V(K,k,I){var W=K.length;(!k||k<0)&&(k=0),(!I||I<0||I>W)&&(I=W);for(var re="",Y=k;Y<I;++Y)re+=pe(K[Y]);return re}function $(K,k,I){for(var W=K.slice(k,I),re="",Y=0;Y<W.length;Y+=2)re+=String.fromCharCode(W[Y]+W[Y+1]*256);return re}C.prototype.slice=function(k,I){var W=this.length;k=~~k,I=I===void 0?W:~~I,k<0?(k+=W,k<0&&(k=0)):k>W&&(k=W),I<0?(I+=W,I<0&&(I=0)):I>W&&(I=W),I<k&&(I=k);var re;if(C.TYPED_ARRAY_SUPPORT)re=this.subarray(k,I),re.__proto__=C.prototype;else{var Y=I-k;re=new C(Y,void 0);for(var ae=0;ae<Y;++ae)re[ae]=this[ae+k]}return re};function F(K,k,I){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+k>I)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function(k,I,W){k=k|0,I=I|0,W||F(k,I,this.length);for(var re=this[k],Y=1,ae=0;++ae<I&&(Y*=256);)re+=this[k+ae]*Y;return re},C.prototype.readUIntBE=function(k,I,W){k=k|0,I=I|0,W||F(k,I,this.length);for(var re=this[k+--I],Y=1;I>0&&(Y*=256);)re+=this[k+--I]*Y;return re},C.prototype.readUInt8=function(k,I){return I||F(k,1,this.length),this[k]},C.prototype.readUInt16LE=function(k,I){return I||F(k,2,this.length),this[k]|this[k+1]<<8},C.prototype.readUInt16BE=function(k,I){return I||F(k,2,this.length),this[k]<<8|this[k+1]},C.prototype.readUInt32LE=function(k,I){return I||F(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},C.prototype.readUInt32BE=function(k,I){return I||F(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},C.prototype.readIntLE=function(k,I,W){k=k|0,I=I|0,W||F(k,I,this.length);for(var re=this[k],Y=1,ae=0;++ae<I&&(Y*=256);)re+=this[k+ae]*Y;return Y*=128,re>=Y&&(re-=Math.pow(2,8*I)),re},C.prototype.readIntBE=function(k,I,W){k=k|0,I=I|0,W||F(k,I,this.length);for(var re=I,Y=1,ae=this[k+--re];re>0&&(Y*=256);)ae+=this[k+--re]*Y;return Y*=128,ae>=Y&&(ae-=Math.pow(2,8*I)),ae},C.prototype.readInt8=function(k,I){return I||F(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},C.prototype.readInt16LE=function(k,I){I||F(k,2,this.length);var W=this[k]|this[k+1]<<8;return W&32768?W|4294901760:W},C.prototype.readInt16BE=function(k,I){I||F(k,2,this.length);var W=this[k+1]|this[k]<<8;return W&32768?W|4294901760:W},C.prototype.readInt32LE=function(k,I){return I||F(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},C.prototype.readInt32BE=function(k,I){return I||F(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},C.prototype.readFloatLE=function(k,I){return I||F(k,4,this.length),ot.read(this,k,!0,23,4)},C.prototype.readFloatBE=function(k,I){return I||F(k,4,this.length),ot.read(this,k,!1,23,4)},C.prototype.readDoubleLE=function(k,I){return I||F(k,8,this.length),ot.read(this,k,!0,52,8)},C.prototype.readDoubleBE=function(k,I){return I||F(k,8,this.length),ot.read(this,k,!1,52,8)};function G(K,k,I,W,re,Y){if(!C.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>re||k<Y)throw new RangeError('"value" argument is out of bounds');if(I+W>K.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function(k,I,W,re){if(k=+k,I=I|0,W=W|0,!re){var Y=Math.pow(2,8*W)-1;G(this,k,I,W,Y,0)}var ae=1,Ce=0;for(this[I]=k&255;++Ce<W&&(ae*=256);)this[I+Ce]=k/ae&255;return I+W},C.prototype.writeUIntBE=function(k,I,W,re){if(k=+k,I=I|0,W=W|0,!re){var Y=Math.pow(2,8*W)-1;G(this,k,I,W,Y,0)}var ae=W-1,Ce=1;for(this[I+ae]=k&255;--ae>=0&&(Ce*=256);)this[I+ae]=k/Ce&255;return I+W},C.prototype.writeUInt8=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,1,255,0),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[I]=k&255,I+1};function q(K,k,I,W){k<0&&(k=65535+k+1);for(var re=0,Y=Math.min(K.length-I,2);re<Y;++re)K[I+re]=(k&255<<8*(W?re:1-re))>>>(W?re:1-re)*8}C.prototype.writeUInt16LE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):q(this,k,I,!0),I+2},C.prototype.writeUInt16BE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):q(this,k,I,!1),I+2};function L(K,k,I,W){k<0&&(k=4294967295+k+1);for(var re=0,Y=Math.min(K.length-I,4);re<Y;++re)K[I+re]=k>>>(W?re:3-re)*8&255}C.prototype.writeUInt32LE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I+3]=k>>>24,this[I+2]=k>>>16,this[I+1]=k>>>8,this[I]=k&255):L(this,k,I,!0),I+4},C.prototype.writeUInt32BE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):L(this,k,I,!1),I+4},C.prototype.writeIntLE=function(k,I,W,re){if(k=+k,I=I|0,!re){var Y=Math.pow(2,8*W-1);G(this,k,I,W,Y-1,-Y)}var ae=0,Ce=1,he=0;for(this[I]=k&255;++ae<W&&(Ce*=256);)k<0&&he===0&&this[I+ae-1]!==0&&(he=1),this[I+ae]=(k/Ce>>0)-he&255;return I+W},C.prototype.writeIntBE=function(k,I,W,re){if(k=+k,I=I|0,!re){var Y=Math.pow(2,8*W-1);G(this,k,I,W,Y-1,-Y)}var ae=W-1,Ce=1,he=0;for(this[I+ae]=k&255;--ae>=0&&(Ce*=256);)k<0&&he===0&&this[I+ae+1]!==0&&(he=1),this[I+ae]=(k/Ce>>0)-he&255;return I+W},C.prototype.writeInt8=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,1,127,-128),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[I]=k&255,I+1},C.prototype.writeInt16LE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):q(this,k,I,!0),I+2},C.prototype.writeInt16BE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):q(this,k,I,!1),I+2},C.prototype.writeInt32LE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8,this[I+2]=k>>>16,this[I+3]=k>>>24):L(this,k,I,!0),I+4},C.prototype.writeInt32BE=function(k,I,W){return k=+k,I=I|0,W||G(this,k,I,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):L(this,k,I,!1),I+4};function J(K,k,I,W,re,Y){if(I+W>K.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function ce(K,k,I,W,re){return re||J(K,k,I,4,34028234663852886e22,-34028234663852886e22),ot.write(K,k,I,W,23,4),I+4}C.prototype.writeFloatLE=function(k,I,W){return ce(this,k,I,!0,W)},C.prototype.writeFloatBE=function(k,I,W){return ce(this,k,I,!1,W)};function se(K,k,I,W,re){return re||J(K,k,I,8,17976931348623157e292,-17976931348623157e292),ot.write(K,k,I,W,52,8),I+8}C.prototype.writeDoubleLE=function(k,I,W){return se(this,k,I,!0,W)},C.prototype.writeDoubleBE=function(k,I,W){return se(this,k,I,!1,W)},C.prototype.copy=function(k,I,W,re){if(W||(W=0),!re&&re!==0&&(re=this.length),I>=k.length&&(I=k.length),I||(I=0),re>0&&re<W&&(re=W),re===W||k.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("sourceStart out of bounds");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),k.length-I<re-W&&(re=k.length-I+W);var Y=re-W,ae;if(this===k&&W<I&&I<re)for(ae=Y-1;ae>=0;--ae)k[ae+I]=this[ae+W];else if(Y<1e3||!C.TYPED_ARRAY_SUPPORT)for(ae=0;ae<Y;++ae)k[ae+I]=this[ae+W];else Uint8Array.prototype.set.call(k,this.subarray(W,W+Y),I);return Y},C.prototype.fill=function(k,I,W,re){if(typeof k=="string"){if(typeof I=="string"?(re=I,I=0,W=this.length):typeof W=="string"&&(re=W,W=this.length),k.length===1){var Y=k.charCodeAt(0);Y<256&&(k=Y)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!C.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof k=="number"&&(k=k&255);if(I<0||this.length<I||this.length<W)throw new RangeError("Out of range index");if(W<=I)return this;I=I>>>0,W=W===void 0?this.length:W>>>0,k||(k=0);var ae;if(typeof k=="number")for(ae=I;ae<W;++ae)this[ae]=k;else{var Ce=C.isBuffer(k)?k:be(new C(k,re).toString()),he=Ce.length;for(ae=0;ae<W-I;++ae)this[ae+I]=Ce[ae%he]}return this};var ve=/[^+\/0-9A-Za-z-_]/g;function ie(K){if(K=oe(K).replace(ve,""),K.length<2)return"";for(;K.length%4!=0;)K=K+"=";return K}function oe(K){return K.trim?K.trim():K.replace(/^\s+|\s+$/g,"")}function pe(K){return K<16?"0"+K.toString(16):K.toString(16)}function be(K,k){k=k||Infinity;for(var I,W=K.length,re=null,Y=[],ae=0;ae<W;++ae){if(I=K.charCodeAt(ae),I>55295&&I<57344){if(!re){if(I>56319){(k-=3)>-1&&Y.push(239,191,189);continue}else if(ae+1===W){(k-=3)>-1&&Y.push(239,191,189);continue}re=I;continue}if(I<56320){(k-=3)>-1&&Y.push(239,191,189),re=I;continue}I=(re-55296<<10|I-56320)+65536}else re&&(k-=3)>-1&&Y.push(239,191,189);if(re=null,I<128){if((k-=1)<0)break;Y.push(I)}else if(I<2048){if((k-=2)<0)break;Y.push(I>>6|192,I&63|128)}else if(I<65536){if((k-=3)<0)break;Y.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((k-=4)<0)break;Y.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return Y}function de(K){for(var k=[],I=0;I<K.length;++I)k.push(K.charCodeAt(I)&255);return k}function Pe(K,k){for(var I,W,re,Y=[],ae=0;ae<K.length&&!((k-=2)<0);++ae)I=K.charCodeAt(ae),W=I>>8,re=I%256,Y.push(re),Y.push(W);return Y}function je(K){return Ye.toByteArray(ie(K))}function z(K,k,I,W){for(var re=0;re<W&&!(re+I>=k.length||re>=K.length);++re)k[re+I]=K[re];return re}function ge(K){return K!==K}}).call(this,ze("IyRk"))},Iab2:function(wt,ft,ze){(function(qe){var Ye,ot,Qe;(function(X,ne){ot=[],Ye=ne,Qe=typeof Ye=="function"?Ye.apply(ft,ot):Ye,Qe!==void 0&&(wt.exports=Qe)})(this,function(){"use strict";function X(f,w){return typeof w=="undefined"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function ne(f,w,m){var o=new XMLHttpRequest;o.open("GET",f),o.responseType="blob",o.onload=function(){p(o.response,w,m)},o.onerror=function(){console.error("could not download file")},o.send()}function D(f){var w=new XMLHttpRequest;w.open("HEAD",f,!1);try{w.send()}catch(m){}return 200<=w.status&&299>=w.status}function C(f){try{f.dispatchEvent(new MouseEvent("click"))}catch(m){var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(w)}}var _=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof qe=="object"&&qe.global===qe?qe:void 0,h=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=_.saveAs||(typeof window!="object"||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(f,w,m){var o=_.URL||_.webkitURL,i=document.createElement("a");w=w||f.name||"download",i.download=w,i.rel="noopener",typeof f=="string"?(i.href=f,i.origin===location.origin?C(i):D(i.href)?ne(f,w,m):C(i,i.target="_blank")):(i.href=o.createObjectURL(f),setTimeout(function(){o.revokeObjectURL(i.href)},4e4),setTimeout(function(){C(i)},0))}:"msSaveOrOpenBlob"in navigator?function(f,w,m){if(w=w||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(X(f,m),w);else if(D(f))ne(f,w,m);else{var o=document.createElement("a");o.href=f,o.target="_blank",setTimeout(function(){C(o)})}}:function(f,w,m,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof f=="string")return ne(f,w,m);var i=f.type==="application/octet-stream",e=/constructor/i.test(_.HTMLElement)||_.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&e||h)&&typeof FileReader!="undefined"){var n=new FileReader;n.onloadend=function(){var d=n.result;d=r?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=d:location=d,o=null},n.readAsDataURL(f)}else{var c=_.URL||_.webkitURL,t=c.createObjectURL(f);o?o.location=t:location.href=t,o=null,setTimeout(function(){c.revokeObjectURL(t)},4e4)}});_.saveAs=p.saveAs=p,wt.exports=p})}).call(this,ze("IyRk"))},PGov:function(wt,ft,ze){"use strict";var qe=ze("i8i4"),Ye=ze.n(qe),ot=ze("oOwn"),Qe=ze.n(ot),X=ze("bBst"),ne=ze.n(X),D=ze("q1tI"),C=ze.n(D);function _(F,G,q){return G in F?Object.defineProperty(F,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):F[G]=q,F}function h(F){for(var G=1;G<arguments.length;G++){var q=arguments[G]!=null?arguments[G]:{},L=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(L=L.concat(Object.getOwnPropertySymbols(q).filter(function(J){return Object.getOwnPropertyDescriptor(q,J).enumerable}))),L.forEach(function(J){_(F,J,q[J])})}return F}function p(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")}function f(F,G){for(var q=0;q<G.length;q++){var L=G[q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}}function w(F,G,q){return G&&f(F.prototype,G),q&&f(F,q),F}function m(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(q){return typeof q}:m=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},m(F)}function o(F){return typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?o=function(q){return m(q)}:o=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":m(q)},o(F)}function i(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function e(F,G){return G&&(o(G)==="object"||typeof G=="function")?G:i(F)}function r(F){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},r(F)}function n(F,G){return n=Object.setPrototypeOf||function(L,J){return L.__proto__=J,L},n(F,G)}function c(F,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(G&&G.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),G&&n(F,G)}function t(F){if(Array.isArray(F)){for(var G=0,q=new Array(F.length);G<F.length;G++)q[G]=F[G];return q}}function d(F){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]")return Array.from(F)}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E(F){return t(F)||d(F)||y()}var T={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},A=function F(){var G=this;p(this,F),this.startListen=function(q){!q||q.addEventListener("keydown",G.f)},this.stopListen=function(q){!q||q.removeEventListener("keydown",G.f)},this.add=function(q,L){var J=q;return typeof J!="object"&&(J=[J]),G.listeners[G.index]={keyCode:J,fn:L},G.index++},this.remove=function(q){delete G.listeners[q]},this.removeAll=function(){G.listeners={},G.index=1},this.index=1,this.listeners={},this.f=function(q){if(!!q){var L=q.keyCode||q.which;Object.values(G.listeners).forEach(function(J){var ce=J.keyCode,se=J.fn;ce.includes(L)&&(q.stopPropagation(),q.preventDefault(),se(q))})}}},P=new A,O=function(F){c(G,F);function G(){var q,L;p(this,G);for(var J=arguments.length,ce=new Array(J),se=0;se<J;se++)ce[se]=arguments[se];return L=e(this,(q=r(G)).call.apply(q,[this].concat(ce))),L.selectItem=function(){var ve=L.props,ie=ve.item,oe=ve.onSelectHandler;oe(ie)},L}return w(G,[{key:"shouldComponentUpdate",value:function(L){return this.props.item!==L.item||this.props.selected!==L.selected||this.props.style!==L.style||this.props.className!==L.className}},{key:"render",value:function(){var L=this,J=this.props,ce=J.component,se=J.style,ve=J.onClickHandler,ie=J.item,oe=J.selected,pe=J.className,be=J.innerRef;return C.a.createElement("li",{className:"rta__item  ".concat(oe===!0?"rta__item--selected":""," ").concat(pe||""),style:se},C.a.createElement("div",{className:"rta__entity ".concat(oe===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:ve,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){L.clicked=!0,L.selectItem()},onTouchEnd:function(Pe){Pe.preventDefault(),L.clicked&&ve(Pe)},onTouchMove:function(){L.clicked=!1},onTouchCancel:function(){L.clicked=!1},ref:be},C.a.createElement(ce,{selected:oe,entity:ie})))}}]),G}(C.a.Component),N=function(F){c(G,F);function G(){var q,L;p(this,G);for(var J=arguments.length,ce=new Array(J),se=0;se<J;se++)ce[se]=arguments[se];return L=e(this,(q=r(G)).call.apply(q,[this].concat(ce))),L.state={selectedItem:null},L.cachedIdOfItems=new Map,L.onPressEnter=function(ve){typeof ve!="undefined"&&ve.preventDefault();var ie=L.props.values;L.modifyText(ie[L.getPositionInList()])},L.getPositionInList=function(){var ve=L.props.values,ie=L.state.selectedItem;return ie?ve.findIndex(function(oe){return L.getId(oe)===L.getId(ie)}):0},L.getId=function(ve){if(L.cachedIdOfItems.has(ve))return L.cachedIdOfItems.get(ve);var ie=L.props.getTextToReplace(ve),oe=function(){if(ie){if(ie.key)return ie.key;if(typeof ve=="string"||!ve.key)return ie.text}if(!ve.key)throw new Error("Item ".concat(JSON.stringify(ve),' has to have defined "key" property'));return ve.key},pe=oe();return L.cachedIdOfItems.set(ve,pe),pe},L.listeners=[],L.itemsRef={},L.modifyText=function(ve){if(!!ve){var ie=L.props.onSelect;ie(ve)}},L.selectItem=function(ve){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=L.props.onItemHighlighted;L.state.selectedItem!==ve&&L.setState({selectedItem:ve},function(){oe(ve),ie&&L.props.dropdownScroll(L.itemsRef[L.getId(ve)])})},L.scroll=function(ve){ve.preventDefault();var ie=L.props.values,oe=ve.keyCode||ve.which,pe=L.getPositionInList(),be;switch(oe){case T.DOWN:be=pe+1;break;case T.UP:be=pe-1;break;default:be=pe;break}be=(be%ie.length+ie.length)%ie.length,L.selectItem(ie[be],[T.DOWN,T.UP].includes(oe))},L.isSelected=function(ve){var ie=L.state.selectedItem;return ie?L.getId(ie)===L.getId(ve):!1},L}return w(G,[{key:"componentDidMount",value:function(){this.listeners.push(P.add([T.DOWN,T.UP],this.scroll),P.add([T.ENTER,T.TAB],this.onPressEnter));var L=this.props.values;L&&L[0]&&this.selectItem(L[0])}},{key:"componentDidUpdate",value:function(L){var J=this,ce=L.values,se=this.props.values,ve=ce.map(function(oe){return J.getId(oe)}).join(""),ie=se.map(function(oe){return J.getId(oe)}).join("");ve!==ie&&se&&se[0]&&this.selectItem(se[0])}},{key:"componentWillUnmount",value:function(){for(var L;this.listeners.length;)L=this.listeners.pop(),P.remove(L)}},{key:"render",value:function(){var L=this,J=this.props,ce=J.values,se=J.component,ve=J.style,ie=J.itemClassName,oe=J.className,pe=J.itemStyle;return C.a.createElement("ul",{className:"rta__list ".concat(oe||""),style:ve},ce.map(function(be){return C.a.createElement(O,{key:L.getId(be),innerRef:function(Pe){L.itemsRef[L.getId(be)]=Pe},selected:L.isSelected(be),item:be,className:ie,style:pe,onClickHandler:L.onPressEnter,onSelectHandler:L.selectItem,component:se})}))}}]),G}(C.a.Component);function H(F,G){var q=parseInt(getComputedStyle(G).getPropertyValue("height"),10),L=parseInt(getComputedStyle(F).getPropertyValue("height"),10)-q,J=G.offsetTop,ce=F.scrollTop;J<ce+L&&ce<J||(F.scrollTop=J)}var M="next",Z={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},B=function(G){return console.error("RTA: dataProvider fails: ".concat(G,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},te=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],ee=function(G){return E(G).map(function(q){return te.includes(q)?"\\".concat(q):q}).join("")},V=function(F){c(G,F);function G(){return p(this,G),e(this,r(G).apply(this,arguments))}return w(G,[{key:"componentDidMount",value:function(){var L=this.props.boundariesElement;if(typeof L=="string"){var J=document.querySelector(L);if(!J)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=J}else if(L instanceof HTMLElement)this.containerElem=L;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var L,J,ce=this.props.top||0,se=this.props.left||0,ve=[],ie=[],oe=0,pe=0,be=this.containerElem.getBoundingClientRect(),de=this.ref.getBoundingClientRect(),Pe=this.props.textareaRef.getBoundingClientRect(),je=window.getComputedStyle(this.ref),z=parseInt(je.getPropertyValue("margin-top"),10),ge=parseInt(je.getPropertyValue("margin-bottom"),10),K=parseInt(je.getPropertyValue("margin-left"),10),k=parseInt(je.getPropertyValue("margin-right"),10),I=z+ge+Pe.top+ce+de.height,W=K+k+Pe.left+se+de.width;W>be.right&&Pe.left+se>de.width?(pe=se-de.width,ve.push(Z.X.LEFT),ie.push(Z.X.RIGHT)):(pe=se,ve.push(Z.X.RIGHT),ie.push(Z.X.LEFT)),I>be.bottom&&Pe.top+ce>de.height?(oe=ce-de.height,ve.push(Z.Y.TOP),ie.push(Z.Y.BOTTOM)):(oe=ce,ve.push(Z.Y.BOTTOM),ie.push(Z.Y.TOP)),this.props.renderToBody&&(oe+=Pe.top,pe+=Pe.left),this.ref.style.top="".concat(oe,"px"),this.ref.style.left="".concat(pe,"px"),(L=this.ref.classList).remove.apply(L,ie),(J=this.ref.classList).add.apply(J,ve)}},{key:"render",value:function(){var L=this,J=this.props,ce=J.style,se=J.className,ve=J.innerRef,ie=J.children,oe=J.renderToBody,pe=document.body,be=C.a.createElement("div",{ref:function(Pe){L.ref=Pe,ve(Pe)},className:"rta__autocomplete ".concat(se||""),style:ce},ie);return oe&&pe!==null?Ye.a.createPortal(be,pe):be}}]),G}(C.a.Component),$=function(F){c(G,F);function G(q){var L;p(this,G),L=e(this,r(G).call(this,q)),L.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},L.escListenerInit=function(){L.escListener||(L.escListener=P.add(T.ESC,L._closeAutocomplete))},L.escListenerDestroy=function(){L.escListener&&(P.remove(L.escListener),L.escListener=null)},L.getSelectionPosition=function(){return L.textareaRef?{selectionStart:L.textareaRef.selectionStart,selectionEnd:L.textareaRef.selectionEnd}:null},L.getSelectedText=function(){if(!L.textareaRef)return null;var ie=L.textareaRef,oe=ie.selectionStart,pe=ie.selectionEnd;return oe===pe?null:L.state.value.substr(oe,pe-oe)},L.setCaretPosition=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!L.textareaRef||(L.textareaRef.focus(),L.textareaRef.setSelectionRange(ie,ie))},L.getCaretPosition=function(){if(!L.textareaRef)return 0;var ie=L.textareaRef.selectionEnd;return ie},L._handleCaretChange=function(ie){var oe=function(){var de=L.getCaretPosition()-1;L.lastTrigger=L.lastTrigger?de:0};if(ie.type==="keydown"){var pe=ie.keyCode||ie.which;switch(pe){case T.UP:case T.DOWN:L._isAutocompleteOpen()||oe();break;case T.LEFT:case T.RIGHT:oe();break;default:}return}oe()},L._onSelect=function(ie){var oe=L.state,pe=oe.selectionEnd,be=oe.currentTrigger,de=oe.value,Pe=L.props.onItemSelected;if(!!be){var je=L._getTextToReplace(be);if(!je){L._closeAutocomplete();return}var z=je(ie);if(!z){L._closeAutocomplete();return}Pe&&Pe({currentTrigger:be,item:ie});var ge=function(Oe,Ve,Ze){switch(Oe){case"start":return Ze;case"next":case"end":return Ze+Ve.length;default:if(!Number.isInteger(Oe))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return Oe}},K=de.slice(0,pe),k=ee(be),I=K.length-K.lastIndexOf(be),W=K.search(new RegExp("(?!".concat(k,")$")))-I,re=z.caretPosition==="next"?"".concat(z.text," "):z.text,Y=ge(z.caretPosition,re,W),ae=K.substring(0,W)+re,Ce=de.replace(K,ae);L.setState({value:Ce,dataLoading:!1},function(){var he=L.tokenRegExpEnding.exec(re),Oe=he?he[0].length:1;L.lastTrigger=Y&&Y-Oe,L.textareaRef.value=Ce,L.textareaRef.selectionEnd=Y,L._changeHandler();var Ve=L.textareaRef.scrollTop;L.setCaretPosition(Y),window.chrome&&(L.textareaRef.scrollTop=Ve)})}},L._getTextToReplace=function(ie){var oe=L.props.trigger[ie];if(!ie||!oe)return null;var pe=oe.output;return function(be){if(typeof be=="object"&&(!pe||typeof pe!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(pe){var de=pe(be,ie);if(de===void 0||typeof de=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(de),'". Check the implementation for trigger "').concat(ie,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(de===null)return null;if(typeof de=="string")return{text:de,caretPosition:M};if(!de.text&&typeof de.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ie,`"
`));if(!de.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ie,`"
`));return de}if(typeof be!="string")throw new Error(`Output item should be string
`);return{text:"".concat(ie).concat(be).concat(ie),caretPosition:M}}},L._getCurrentTriggerSettings=function(){var ie=L.state.currentTrigger;return ie?L.props.trigger[ie]:null},L._getValuesFromProvider=function(){var ie=L.state,oe=ie.currentTrigger,pe=ie.actualToken,be=L._getCurrentTriggerSettings();if(!(!oe||!be)){var de=be.dataProvider,Pe=be.component;if(typeof de!="function")throw new Error("Trigger provider has to be a function!");L.setState({dataLoading:!0});var je=de(pe);je instanceof Promise||(je=Promise.resolve(je)),je.then(function(z){if(!Array.isArray(z))throw new Error("Trigger provider has to provide an array!");if(typeof Pe!="function")throw new Error("Component should be defined!");if(oe===L.state.currentTrigger){if(!z.length){L._closeAutocomplete();return}L.setState({dataLoading:!1,data:z,component:Pe})}}).catch(function(z){return B(z.message)})}},L._getSuggestions=function(){var ie=L.state,oe=ie.currentTrigger,pe=ie.data;return!oe||!pe||pe&&!pe.length?null:pe},L._createRegExp=function(){var ie=L.props.trigger;L.tokenRegExp=new RegExp("(".concat(Object.keys(ie).sort(function(oe,pe){return oe<pe?1:oe>pe?-1:0}).map(function(oe){return ee(oe)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),L.tokenRegExpEnding=new RegExp("(".concat(Object.keys(ie).sort(function(oe,pe){return oe<pe?1:oe>pe?-1:0}).map(function(oe){return ee(oe)}).join("|"),")$"))},L._closeAutocomplete=function(){var ie=L.state.currentTrigger;L.escListenerDestroy(),L.setState({data:null,dataLoading:!1,currentTrigger:null},function(){ie&&L._onItemHighlightedHandler(null)})},L._cleanUpProps=function(){var ie=h({},L.props),oe=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var pe in ie)oe.includes(pe)&&delete ie[pe];return ie},L._changeHandler=function(ie){var oe=L.props,pe=oe.trigger,be=oe.onChange,de=oe.minChar,Pe=oe.onCaretPositionChange,je=oe.movePopupAsYouType,z=L.state,ge=z.top,K=z.left,k=ie;k||(k=new ne.a("change",{bubbles:!0}),L.textareaRef.dispatchEvent(k));var I=k.target||L.textareaRef,W=I.selectionEnd,re=I.value;if(L.lastValueBubbledEvent=re,be&&k&&(k.persist&&k.persist(),be(new Proxy(k,{get:function(Bt,At,nr){return At==="target"?I:Reflect.get(Bt,At,nr)}}))),Pe){var Y=L.getCaretPosition();Pe(Y)}L.setState({value:re});var ae=function(){var Bt=Qe()(I,W),At=Bt.top,nr=Bt.left;L.setState({top:At-L.textareaRef.scrollTop||0,left:nr})},Ce=function(Bt){L.lastTrigger=W-Bt,L._closeAutocomplete(),ae()};if(W<=L.lastTrigger){var he=re.slice(0,W),Oe=L.tokenRegExp.exec(he);Ce(Oe?Oe[0].length:0)}var Ve=re.slice(L.lastTrigger,W),Ze=L.tokenRegExp.exec(Ve),et=Ze&&Ze[0],ht=Ze&&Ze[1]||null,Ct=ht?ht.length-1:0,kt=L.tokenRegExpEnding.exec(Ve);if(kt?Ce(kt[0].length):L._isAutocompleteOpen()||L._closeAutocomplete(),(!et||et.length<=de+Ct)&&(L.state.currentTrigger&&!pe[L.state.currentTrigger].allowWhitespace||!L.state.currentTrigger)){L._closeAutocomplete();return}if(ht&&pe[ht].afterWhitespace&&!/\s/.test(re[W-et.length-1])&&re[W-et.length-1]!==void 0){L._closeAutocomplete();return}if(L.state.currentTrigger&&pe[L.state.currentTrigger].allowWhitespace){if(Ze=new RegExp("".concat(ee(L.state.currentTrigger),".*$")).exec(re.slice(0,W)),et=Ze&&Ze[0],!et){L._closeAutocomplete();return}ht=Object.keys(pe).find(function(jt){return jt.slice(0,Ct+1)===et.slice(0,Ct+1)})||null}var Xt=et.slice(1);if(!!ht){(je||ge===null&&K===null||L.state.currentTrigger!==ht)&&ae(),L.escListenerInit();var vt=L._getTextToReplace(ht);L.setState({selectionEnd:W,currentTrigger:ht,textToReplace:vt,actualToken:Xt},function(){try{L._getValuesFromProvider()}catch(jt){B(jt.message)}})}},L._selectHandler=function(ie){var oe=L.props,pe=oe.onCaretPositionChange,be=oe.onSelect;if(pe){var de=L.getCaretPosition();pe(de)}be&&(ie.persist(),be(ie))},L._shouldStayOpen=function(ie){var oe=ie.relatedTarget;return oe===null&&(oe=document.activeElement),!!(L.dropdownRef&&oe instanceof Node&&L.dropdownRef.contains(oe))},L._onClick=function(ie){var oe=L.props.onClick;oe&&(ie.persist(),oe(ie)),!L._shouldStayOpen(ie)&&L._closeAutocomplete()},L._onBlur=function(ie){var oe=L.props.onBlur;oe&&(ie.persist(),oe(ie)),!L._shouldStayOpen(ie)&&L._closeAutocomplete()},L._onScrollHandler=function(){L._closeAutocomplete()},L._onItemHighlightedHandler=function(ie){var oe=L.props.onItemHighlighted,pe=L.state.currentTrigger;if(oe)if(typeof oe=="function")oe({currentTrigger:pe,item:ie});else throw new Error("`onItemHighlighted` has to be a function")},L._dropdownScroll=function(ie){var oe=L.props.scrollToItem;if(!!oe){if(oe===!0){H(L.dropdownRef,ie);return}if(typeof oe!="function"||oe.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");oe(L.dropdownRef,ie)}},L._isAutocompleteOpen=function(){var ie=L.state,oe=ie.dataLoading,pe=ie.currentTrigger,be=L._getSuggestions();return!!((oe||be)&&pe)},L._textareaRef=function(ie){L.props.innerRef&&L.props.innerRef(ie),L.textareaRef=ie},L.lastTrigger=0,L.escListener=null;var J=L.props,ce=J.loadingComponent,se=J.trigger,ve=J.value;if(ve&&(L.state.value=ve),L._createRegExp(),!ce)throw new Error("RTA: loadingComponent is not defined");if(!se)throw new Error("RTA: trigger is not defined");return L}return w(G,[{key:"componentDidMount",value:function(){P.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(L){var J=L.trigger,ce=L.value,se=this.props,ve=se.trigger,ie=se.value;Object.keys(ve).join("")!==Object.keys(J).join("")&&this._createRegExp(),ce!==ie&&this.lastValueBubbledEvent!==ie&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),P.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var L=this,J=this.props,ce=J.loadingComponent,se=J.style,ve=J.className,ie=J.listStyle,oe=J.itemStyle,pe=J.boundariesElement,be=J.movePopupAsYouType,de=J.listClassName,Pe=J.itemClassName,je=J.dropdownClassName,z=J.dropdownStyle,ge=J.containerStyle,K=J.containerClassName,k=J.loaderStyle,I=J.loaderClassName,W=J.textAreaComponent,re=J.renderToBody,Y=this.state,ae=Y.left,Ce=Y.top,he=Y.dataLoading,Oe=Y.component,Ve=Y.value,Ze=Y.textToReplace,et=this._isAutocompleteOpen(),ht=this._getSuggestions(),Ct={},kt;return W.component?(kt=W.component,Ct[W.ref]=this._textareaRef):(kt=W,Ct.ref=this._textareaRef),C.a.createElement("div",{className:"rta ".concat(he===!0?"rta--loading":""," ").concat(K||""),style:ge},C.a.createElement(kt,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(ve||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:Ve,style:se},Ct)),et&&C.a.createElement(V,{innerRef:function(vt){L.dropdownRef=vt},top:Ce,left:ae,style:z,className:je,movePopupAsYouType:be,boundariesElement:pe,textareaRef:this.textareaRef,renderToBody:re},ht&&Oe&&Ze&&C.a.createElement(N,{values:ht,component:Oe,style:ie,className:de,itemClassName:Pe,itemStyle:oe,getTextToReplace:Ze,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),he&&C.a.createElement("div",{className:"rta__loader ".concat(ht!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(I||""),style:k},C.a.createElement(ce,{data:ht}))))}}],[{key:"getDerivedStateFromProps",value:function(L){var J=L.value;return J==null?null:{value:J}}}]),G}(C.a.Component);$.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},ft.a=$},UF3W:function(wt,ft,ze){(function(qe){/*! For license information please see reportbro.js.LICENSE.txt */(function(){var Ye={1924:function(ne,D,C){"use strict";var _=C(210),h=C(5559),p=h(_("String.prototype.indexOf"));ne.exports=function(f,w){var m=_(f,!!w);return typeof m=="function"&&p(f,".prototype.")>-1?h(m):m}},5559:function(ne,D,C){"use strict";var _=C(8612),h=C(210),p=h("%Function.prototype.apply%"),f=h("%Function.prototype.call%"),w=h("%Reflect.apply%",!0)||_.call(f,p),m=h("%Object.getOwnPropertyDescriptor%",!0),o=h("%Object.defineProperty%",!0),i=h("%Math.max%");if(o)try{o({},"a",{value:1})}catch(r){o=null}ne.exports=function(r){var n=w(_,f,arguments);if(m&&o){var c=m(n,"length");c.configurable&&o(n,"length",{value:1+i(0,r.length-(arguments.length-1))})}return n};var e=function(){return w(_,p,arguments)};o?o(ne.exports,"apply",{value:e}):ne.exports.apply=e},251:function(ne,D,C){var _=C(2215),h=C(2584),p=C(609),f=C(8420),w=C(2847),m=C(8923),o=Date.prototype.getTime;function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}ne.exports=function r(n,c,t){var d=t||{};return!!(d.strict?p(n,c):n===c)||(!n||!c||typeof n!="object"&&typeof c!="object"?d.strict?p(n,c):n==c:function(y,E,T){var A,P;if(typeof y!=typeof E||i(y)||i(E)||y.prototype!==E.prototype||h(y)!==h(E))return!1;var O=f(y),N=f(E);if(O!==N)return!1;if(O||N)return y.source===E.source&&w(y)===w(E);if(m(y)&&m(E))return o.call(y)===o.call(E);var H=e(y),M=e(E);if(H!==M)return!1;if(H||M){if(y.length!==E.length)return!1;for(A=0;A<y.length;A++)if(y[A]!==E[A])return!1;return!0}if(typeof y!=typeof E)return!1;try{var Z=_(y),B=_(E)}catch(te){return!1}if(Z.length!==B.length)return!1;for(Z.sort(),B.sort(),A=Z.length-1;A>=0;A--)if(Z[A]!=B[A])return!1;for(A=Z.length-1;A>=0;A--)if(!r(y[P=Z[A]],E[P],T))return!1;return!0}(n,c,d))}},4289:function(ne,D,C){"use strict";var _=C(2215),h=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",p=Object.prototype.toString,f=Array.prototype.concat,w=Object.defineProperty,m=w&&function(){var e={};try{for(var r in w(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),o=function(r,n,c,t){var d;(!(n in r)||typeof(d=t)=="function"&&p.call(d)==="[object Function]"&&t())&&(m?w(r,n,{configurable:!0,enumerable:!1,value:c,writable:!0}):r[n]=c)},i=function(r,n){var c=arguments.length>2?arguments[2]:{},t=_(n);h&&(t=f.call(t,Object.getOwnPropertySymbols(n)));for(var d=0;d<t.length;d+=1)o(r,t[d],n[t[d]],c[t[d]])};i.supportsDescriptors=!!m,ne.exports=i},5987:function(ne){"use strict";var D={single_source_shortest_paths:function(_,h,p){var f={},w={};w[h]=0;var m,o,i,e,r,n,c,t=D.PriorityQueue.make();for(t.push(h,0);!t.empty();)for(i in o=(m=t.pop()).value,e=m.cost,r=_[o]||{})r.hasOwnProperty(i)&&(n=e+r[i],c=w[i],(w[i]===void 0||c>n)&&(w[i]=n,t.push(i,n),f[i]=o));if(p!==void 0&&w[p]===void 0){var d=["Could not find a path from ",h," to ",p,"."].join("");throw new Error(d)}return f},extract_shortest_path_from_predecessor_list:function(_,h){for(var p=[],f=h;f;)p.push(f),_[f],f=_[f];return p.reverse(),p},find_path:function(_,h,p){var f=D.single_source_shortest_paths(_,h,p);return D.extract_shortest_path_from_predecessor_list(f,p)},PriorityQueue:{make:function(_){var h,p=D.PriorityQueue,f={};for(h in _=_||{},p)p.hasOwnProperty(h)&&(f[h]=p[h]);return f.queue=[],f.sorter=_.sorter||p.default_sorter,f},default_sorter:function(_,h){return _.cost-h.cost},push:function(_,h){var p={value:_,cost:h};this.queue.push(p),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};ne.exports=D},2378:function(ne){"use strict";ne.exports=function(D){for(var C=[],_=D.length,h=0;h<_;h++){var p=D.charCodeAt(h);if(p>=55296&&p<=56319&&_>h+1){var f=D.charCodeAt(h+1);f>=56320&&f<=57343&&(p=1024*(p-55296)+f-56320+65536,h+=1)}p<128?C.push(p):p<2048?(C.push(p>>6|192),C.push(63&p|128)):p<55296||p>=57344&&p<65536?(C.push(p>>12|224),C.push(p>>6&63|128),C.push(63&p|128)):p>=65536&&p<=1114111?(C.push(p>>18|240),C.push(p>>12&63|128),C.push(p>>6&63|128),C.push(63&p|128)):C.push(239,191,189)}return new Uint8Array(C).buffer}},4470:function(ne){"use strict";var D=Object.prototype.hasOwnProperty,C=Object.prototype.toString,_=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p=function(i){return typeof Array.isArray=="function"?Array.isArray(i):C.call(i)==="[object Array]"},f=function(i){if(!i||C.call(i)!=="[object Object]")return!1;var e,r=D.call(i,"constructor"),n=i.constructor&&i.constructor.prototype&&D.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!r&&!n)return!1;for(e in i);return e===void 0||D.call(i,e)},w=function(i,e){_&&e.name==="__proto__"?_(i,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):i[e.name]=e.newValue},m=function(i,e){if(e==="__proto__"){if(!D.call(i,e))return;if(h)return h(i,e).value}return i[e]};ne.exports=function o(){var i,e,r,n,c,t,d=arguments[0],y=1,E=arguments.length,T=!1;for(typeof d=="boolean"&&(T=d,d=arguments[1]||{},y=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});y<E;++y)if((i=arguments[y])!=null)for(e in i)r=m(d,e),d!==(n=m(i,e))&&(T&&n&&(f(n)||(c=p(n)))?(c?(c=!1,t=r&&p(r)?r:[]):t=r&&f(r)?r:{},w(d,{name:e,newValue:o(T,t,n)})):n!==void 0&&w(d,{name:e,newValue:n}));return d}},7529:function(ne){var D=-1;function C(o,i,e){if(o==i)return o?[[0,o]]:[];(e<0||o.length<e)&&(e=null);var r=h(o,i),n=o.substring(0,r);r=p(o=o.substring(r),i=i.substring(r));var c=o.substring(o.length-r),t=function(d,y){var E;if(!d)return[[1,y]];if(!y)return[[D,d]];var T=d.length>y.length?d:y,A=d.length>y.length?y:d,P=T.indexOf(A);if(P!=-1)return E=[[1,T.substring(0,P)],[0,A],[1,T.substring(P+A.length)]],d.length>y.length&&(E[0][0]=E[2][0]=D),E;if(A.length==1)return[[D,d],[1,y]];var O=function(V,$){var F=V.length>$.length?V:$,G=V.length>$.length?$:V;if(F.length<4||2*G.length<F.length)return null;function q(pe,be,de){for(var Pe,je,z,ge,K=pe.substring(de,de+Math.floor(pe.length/4)),k=-1,I="";(k=be.indexOf(K,k+1))!=-1;){var W=h(pe.substring(de),be.substring(k)),re=p(pe.substring(0,de),be.substring(0,k));I.length<re+W&&(I=be.substring(k-re,k)+be.substring(k,k+W),Pe=pe.substring(0,de-re),je=pe.substring(de+W),z=be.substring(0,k-re),ge=be.substring(k+W))}return 2*I.length>=pe.length?[Pe,je,z,ge,I]:null}var L,J,ce,se,ve,ie=q(F,G,Math.ceil(F.length/4)),oe=q(F,G,Math.ceil(F.length/2));return ie||oe?(L=oe?ie&&ie[4].length>oe[4].length?ie:oe:ie,V.length>$.length?(J=L[0],ce=L[1],se=L[2],ve=L[3]):(se=L[0],ve=L[1],J=L[2],ce=L[3]),[J,ce,se,ve,L[4]]):null}(d,y);if(O){var N=O[0],H=O[1],M=O[2],Z=O[3],B=O[4],te=C(N,M),ee=C(H,Z);return te.concat([[0,B]],ee)}return function(V,$){for(var F=V.length,G=$.length,q=Math.ceil((F+G)/2),L=q,J=2*q,ce=new Array(J),se=new Array(J),ve=0;ve<J;ve++)ce[ve]=-1,se[ve]=-1;ce[L+1]=0,se[L+1]=0;for(var ie=F-G,oe=ie%2!=0,pe=0,be=0,de=0,Pe=0,je=0;je<q;je++){for(var z=-je+pe;z<=je-be;z+=2){for(var ge=L+z,K=(Y=z==-je||z!=je&&ce[ge-1]<ce[ge+1]?ce[ge+1]:ce[ge-1]+1)-z;Y<F&&K<G&&V.charAt(Y)==$.charAt(K);)Y++,K++;if(ce[ge]=Y,Y>F)be+=2;else if(K>G)pe+=2;else if(oe&&(W=L+ie-z)>=0&&W<J&&se[W]!=-1&&Y>=(I=F-se[W]))return _(V,$,Y,K)}for(var k=-je+de;k<=je-Pe;k+=2){for(var I,W=L+k,re=(I=k==-je||k!=je&&se[W-1]<se[W+1]?se[W+1]:se[W-1]+1)-k;I<F&&re<G&&V.charAt(F-I-1)==$.charAt(G-re-1);)I++,re++;if(se[W]=I,I>F)Pe+=2;else if(re>G)de+=2;else if(!oe){var Y;if((ge=L+ie-k)>=0&&ge<J&&ce[ge]!=-1&&(K=L+(Y=ce[ge])-ge,Y>=(I=F-I)))return _(V,$,Y,K)}}}return[[D,V],[1,$]]}(d,y)}(o=o.substring(0,o.length-r),i=i.substring(0,i.length-r));return n&&t.unshift([0,n]),c&&t.push([0,c]),f(t),e!=null&&(t=function(d,y){var E=function(H,M){if(M===0)return[0,H];for(var Z=0,B=0;B<H.length;B++){var te=H[B];if(te[0]===D||te[0]===0){var ee=Z+te[1].length;if(M===ee)return[B+1,H];if(M<ee){H=H.slice();var V=M-Z,$=[te[0],te[1].slice(0,V)],F=[te[0],te[1].slice(V)];return H.splice(B,1,$,F),[B+1,H]}Z=ee}}throw new Error("cursor_pos is out of bounds!")}(d,y),T=E[1],A=E[0],P=T[A],O=T[A+1];if(P==null||P[0]!==0)return d;if(O!=null&&P[1]+O[1]===O[1]+P[1])return T.splice(A,2,O,P),m(T,A,2);if(O!=null&&O[1].indexOf(P[1])===0){T.splice(A,2,[O[0],P[1]],[0,P[1]]);var N=O[1].slice(P[1].length);return N.length>0&&T.splice(A+2,0,[O[0],N]),m(T,A,3)}return d}(t,e)),function(d){for(var y=!1,E=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},T=2;T<d.length;T+=1)d[T-2][0]===0&&(A=d[T-2][1]).charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319&&d[T-1][0]===D&&E(d[T-1][1])&&d[T][0]===1&&E(d[T][1])&&(y=!0,d[T-1][1]=d[T-2][1].slice(-1)+d[T-1][1],d[T][1]=d[T-2][1].slice(-1)+d[T][1],d[T-2][1]=d[T-2][1].slice(0,-1));var A;if(!y)return d;var P=[];for(T=0;T<d.length;T+=1)d[T][1].length>0&&P.push(d[T]);return P}(t)}function _(o,i,e,r){var n=o.substring(0,e),c=i.substring(0,r),t=o.substring(e),d=i.substring(r),y=C(n,c),E=C(t,d);return y.concat(E)}function h(o,i){if(!o||!i||o.charAt(0)!=i.charAt(0))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,c=0;e<n;)o.substring(c,n)==i.substring(c,n)?c=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function p(o,i){if(!o||!i||o.charAt(o.length-1)!=i.charAt(i.length-1))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,c=0;e<n;)o.substring(o.length-n,o.length-c)==i.substring(i.length-n,i.length-c)?c=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function f(o){o.push([0,""]);for(var i,e=0,r=0,n=0,c="",t="";e<o.length;)switch(o[e][0]){case 1:n++,t+=o[e][1],e++;break;case D:r++,c+=o[e][1],e++;break;case 0:r+n>1?(r!==0&&n!==0&&((i=h(t,c))!==0&&(e-r-n>0&&o[e-r-n-1][0]==0?o[e-r-n-1][1]+=t.substring(0,i):(o.splice(0,0,[0,t.substring(0,i)]),e++),t=t.substring(i),c=c.substring(i)),(i=p(t,c))!==0&&(o[e][1]=t.substring(t.length-i)+o[e][1],t=t.substring(0,t.length-i),c=c.substring(0,c.length-i))),r===0?o.splice(e-n,r+n,[1,t]):n===0?o.splice(e-r,r+n,[D,c]):o.splice(e-r-n,r+n,[D,c],[1,t]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&o[e-1][0]==0?(o[e-1][1]+=o[e][1],o.splice(e,1)):e++,n=0,r=0,c="",t=""}o[o.length-1][1]===""&&o.pop();var d=!1;for(e=1;e<o.length-1;)o[e-1][0]==0&&o[e+1][0]==0&&(o[e][1].substring(o[e][1].length-o[e-1][1].length)==o[e-1][1]?(o[e][1]=o[e-1][1]+o[e][1].substring(0,o[e][1].length-o[e-1][1].length),o[e+1][1]=o[e-1][1]+o[e+1][1],o.splice(e-1,1),d=!0):o[e][1].substring(0,o[e+1][1].length)==o[e+1][1]&&(o[e-1][1]+=o[e+1][1],o[e][1]=o[e][1].substring(o[e+1][1].length)+o[e+1][1],o.splice(e+1,1),d=!0)),e++;d&&f(o)}var w=C;function m(o,i,e){for(var r=i+e-1;r>=0&&r>=i-1;r--)if(r+1<o.length){var n=o[r],c=o[r+1];n[0]===c[1]&&o.splice(r,2,[n[0],n[1]+c[1]])}return o}w.INSERT=1,w.DELETE=D,w.EQUAL=0,ne.exports=w},7648:function(ne){"use strict";var D="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,_=Object.prototype.toString,h="[object Function]";ne.exports=function(p){var f=this;if(typeof f!="function"||_.call(f)!==h)throw new TypeError(D+f);for(var w,m=C.call(arguments,1),o=function(){if(this instanceof w){var t=f.apply(this,m.concat(C.call(arguments)));return Object(t)===t?t:this}return f.apply(p,m.concat(C.call(arguments)))},i=Math.max(0,f.length-m.length),e=[],r=0;r<i;r++)e.push("$"+r);if(w=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this,arguments); }")(o),f.prototype){var n=function(){};n.prototype=f.prototype,w.prototype=new n,n.prototype=null}return w}},8612:function(ne,D,C){"use strict";var _=C(7648);ne.exports=Function.prototype.bind||_},5972:function(ne){"use strict";var D=function(){return typeof function(){}.name=="string"},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch(h){C=null}D.functionsHaveConfigurableNames=function(){if(!D()||!C)return!1;var h=C(function(){},"name");return!!h&&!!h.configurable};var _=Function.prototype.bind;D.boundFunctionsHaveNames=function(){return D()&&typeof _=="function"&&function(){}.bind().name!==""},ne.exports=D},210:function(ne,D,C){"use strict";var _,h=SyntaxError,p=Function,f=TypeError,w=function(ee){try{return p('"use strict"; return ('+ee+").constructor;")()}catch(V){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(te){m=null}var o=function(){throw new f},i=m?function(){try{return o}catch(te){try{return m(arguments,"callee").get}catch(ee){return o}}}():o,e=C(1405)(),r=Object.getPrototypeOf||function(te){return te.__proto__},n={},c=typeof Uint8Array=="undefined"?_:r(Uint8Array),t={"%AggregateError%":typeof AggregateError=="undefined"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?_:ArrayBuffer,"%ArrayIteratorPrototype%":e?r([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics=="undefined"?_:Atomics,"%BigInt%":typeof BigInt=="undefined"?_:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?_:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?_:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array=="undefined"?_:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?_:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e?r(r([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map=="undefined"?_:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&e?r(new Map()[Symbol.iterator]()):_,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?_:Promise,"%Proxy%":typeof Proxy=="undefined"?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?_:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&e?r(new Set()[Symbol.iterator]()):_,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e?r(""[Symbol.iterator]()):_,"%Symbol%":e?Symbol:_,"%SyntaxError%":h,"%ThrowTypeError%":i,"%TypedArray%":c,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array=="undefined"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?_:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?_:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?_:WeakSet},d=function te(ee){var V;if(ee==="%AsyncFunction%")V=w("async function () {}");else if(ee==="%GeneratorFunction%")V=w("function* () {}");else if(ee==="%AsyncGeneratorFunction%")V=w("async function* () {}");else if(ee==="%AsyncGenerator%"){var $=te("%AsyncGeneratorFunction%");$&&(V=$.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var F=te("%AsyncGenerator%");F&&(V=r(F.prototype))}return t[ee]=V,V},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=C(8612),T=C(7642),A=E.call(Function.call,Array.prototype.concat),P=E.call(Function.apply,Array.prototype.splice),O=E.call(Function.call,String.prototype.replace),N=E.call(Function.call,String.prototype.slice),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,Z=function(ee){var V=N(ee,0,1),$=N(ee,-1);if(V==="%"&&$!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if($==="%"&&V!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var F=[];return O(ee,H,function(G,q,L,J){F[F.length]=L?O(J,M,"$1"):q||G}),F},B=function(ee,V){var $,F=ee;if(T(y,F)&&(F="%"+($=y[F])[0]+"%"),T(t,F)){var G=t[F];if(G===n&&(G=d(F)),G===void 0&&!V)throw new f("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:$,name:F,value:G}}throw new h("intrinsic "+ee+" does not exist!")};ne.exports=function(te,ee){if(typeof te!="string"||te.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new f('"allowMissing" argument must be a boolean');var V=Z(te),$=V.length>0?V[0]:"",F=B("%"+$+"%",ee),G=F.name,q=F.value,L=!1,J=F.alias;J&&($=J[0],P(V,A([0,1],J)));for(var ce=1,se=!0;ce<V.length;ce+=1){var ve=V[ce],ie=N(ve,0,1),oe=N(ve,-1);if((ie==='"'||ie==="'"||ie==="`"||oe==='"'||oe==="'"||oe==="`")&&ie!==oe)throw new h("property names with quotes must have matching quotes");if(ve!=="constructor"&&se||(L=!0),T(t,G="%"+($+="."+ve)+"%"))q=t[G];else if(q!=null){if(!(ve in q)){if(!ee)throw new f("base intrinsic for "+te+" exists, but the property is not available.");return}if(m&&ce+1>=V.length){var pe=m(q,ve);q=(se=!!pe)&&"get"in pe&&!("originalValue"in pe.get)?pe.get:q[ve]}else se=T(q,ve),q=q[ve];se&&!L&&(t[G]=q)}}return q}},1405:function(ne,D,C){"use strict";var _=typeof Symbol!="undefined"&&Symbol,h=C(5419);ne.exports=function(){return typeof _=="function"&&typeof Symbol=="function"&&typeof _("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&h()}},5419:function(ne){"use strict";ne.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var D={},C=Symbol("test"),_=Object(C);if(typeof C=="string"||Object.prototype.toString.call(C)!=="[object Symbol]"||Object.prototype.toString.call(_)!=="[object Symbol]")return!1;for(C in D[C]=42,D)return!1;if(typeof Object.keys=="function"&&Object.keys(D).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(D).length!==0)return!1;var h=Object.getOwnPropertySymbols(D);if(h.length!==1||h[0]!==C||!Object.prototype.propertyIsEnumerable.call(D,C))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(D,C);if(p.value!==42||p.enumerable!==!0)return!1}return!0}},7642:function(ne,D,C){"use strict";var _=C(8612);ne.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},2584:function(ne,D,C){"use strict";var _=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",h=C(1924)("Object.prototype.toString"),p=function(o){return!(_&&o&&typeof o=="object"&&Symbol.toStringTag in o)&&h(o)==="[object Arguments]"},f=function(o){return!!p(o)||o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&h(o)!=="[object Array]"&&h(o.callee)==="[object Function]"},w=function(){return p(arguments)}();p.isLegacyArguments=f,ne.exports=w?p:f},8923:function(ne){"use strict";var D=Date.prototype.getDay,C=Object.prototype.toString,_=typeof Symbol=="function"&&!!Symbol.toStringTag;ne.exports=function(h){return typeof h=="object"&&h!==null&&(_?function(p){try{return D.call(p),!0}catch(f){return!1}}(h):C.call(h)==="[object Date]")}},8420:function(ne,D,C){"use strict";var _,h,p,f,w=C(1924),m=C(5419)()&&!!Symbol.toStringTag;if(m){_=w("Object.prototype.hasOwnProperty"),h=w("RegExp.prototype.exec"),p={};var o=function(){throw p};f={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(f[Symbol.toPrimitive]=o)}var i=w("Object.prototype.toString"),e=Object.getOwnPropertyDescriptor;ne.exports=m?function(r){if(!r||typeof r!="object")return!1;var n=e(r,"lastIndex");if(!n||!_(n,"value"))return!1;try{h(r,f)}catch(c){return c===p}}:function(r){return!(!r||typeof r!="object"&&typeof r!="function")&&i(r)==="[object RegExp]"}},5961:function(ne,D,C){"use strict";var _=r(C(2289)),h=r(C(2276)),p=r(C(5443)),f=r(C(7044)),w=r(C(9972)),m=r(C(5065)),o=r(C(8532)),i=C(2362),e=r(C(6025));function r(A){return A&&A.__esModule?A:{default:A}}var n=function(){},c=function(P,O,N){var H=new n;if(P===void 0)throw Error("No element to render on was provided.");return H._renderProperties=(0,w.default)(P),H._encodings=[],H._options=e.default,H._errorHandler=new o.default(H),O!==void 0&&((N=N||{}).format||(N.format=E()),H.options(N)[N.format](O,N).render()),H};for(var t in c.getModule=function(A){return _.default[A]},_.default)_.default.hasOwnProperty(t)&&d(_.default,t);function d(A,P){n.prototype[P]=n.prototype[P.toUpperCase()]=n.prototype[P.toLowerCase()]=function(O,N){var H=this;return H._errorHandler.wrapBarcodeCall(function(){N.text=N.text===void 0?void 0:""+N.text;var M=(0,h.default)(H._options,N);M=(0,m.default)(M);var Z=A[P],B=y(O,Z,M);return H._encodings.push(B),H})}}function y(A,P,O){var N=new P(A=""+A,O);if(!N.valid())throw new i.InvalidInputException(N.constructor.name,A);var H=N.encode();H=(0,p.default)(H);for(var M=0;M<H.length;M++)H[M].options=(0,h.default)(O,H[M].options);return H}function E(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function T(A,P,O){P=(0,p.default)(P);for(var N=0;N<P.length;N++)P[N].options=(0,h.default)(O,P[N].options),(0,f.default)(P[N].options);(0,f.default)(O),new A.renderer(A.element,P,O).render(),A.afterRender&&A.afterRender()}n.prototype.options=function(A){return this._options=(0,h.default)(this._options,A),this},n.prototype.blank=function(A){var P=new Array(A+1).join("0");return this._encodings.push({data:P}),this},n.prototype.init=function(){var A;if(this._renderProperties)for(var P in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){A=this._renderProperties[P];var O=(0,h.default)(this._options,A.options);O.format=="auto"&&(O.format=E()),this._errorHandler.wrapBarcodeCall(function(){var N=y(O.value,_.default[O.format.toUpperCase()],O);T(A,N,O)})}},n.prototype.render=function(){if(!this._renderProperties)throw new i.NoElementException;if(Array.isArray(this._renderProperties))for(var A=0;A<this._renderProperties.length;A++)T(this._renderProperties[A],this._encodings,this._options);else T(this._renderProperties,this._encodings,this._options);return this},n.prototype._defaults=e.default,typeof window!="undefined"&&(window.JsBarcode=c),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(A,P){var O=[];return jQuery(this).each(function(){O.push(this)}),c(O,A,P)}),ne.exports=c},8012:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function C(_,h){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,C),this.data=_,this.text=h.text||_,this.options=h}},2089:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(8012))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i.substring(1),e));return r.bytes=i.split("").map(function(n){return n.charCodeAt(0)}),r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=f.SET_BY_CODE[r];if(n===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&e.unshift(f.FNC1);var c=o.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:o.getBar(r)+c.result+o.getBar((c.checksum+r)%f.MODULO)+o.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return typeof e=="string"&&(e=e.toLowerCase()==="true"),e}}],[{key:"getBar",value:function(e){return f.BARS[e]?f.BARS[e].toString():""}},{key:"correctIndex",value:function(e,r){if(r===f.SET_A){var n=e.shift();return n<32?n+64:n-32}return r===f.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var c=void 0,t=void 0;if(e[0]>=200){t=e.shift()-105;var d=f.SWAP[t];d!==void 0?c=o.next(e,r+1,d):(n!==f.SET_A&&n!==f.SET_B||t!==f.SHIFT||(e[0]=n===f.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),c=o.next(e,r+1,n))}else t=o.correctIndex(e,n),c=o.next(e,r+1,n);var y=t*r;return{result:o.getBar(t)+c.result,checksum:y+c.checksum}}}]),o}(p.default);D.default=w},8238:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2089))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.A_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),o}(p.default);D.default=w},1180:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2089))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.B_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),o}(p.default);D.default=w},944:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2089))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.C_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),o}(p.default);D.default=w},8845:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=p(C(2089)),h=p(C(7293));function p(m){return m&&m.__esModule?m:{default:m}}function f(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}var w=function(m){function o(i,e){if(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}(this,o),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,(0,h.default)(i),e));else r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return f(r)}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),o}(_.default);D.default=w},7293:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=C(4602),h=function(i){return i.match(new RegExp("^"+_.A_CHARS+"*"))[0].length},p=function(i){return i.match(new RegExp("^"+_.B_CHARS+"*"))[0].length},f=function(i){return i.match(new RegExp("^"+_.C_CHARS+"*"))[0]};function w(o,i){var e=i?_.A_CHARS:_.B_CHARS,r=o.match(new RegExp("^("+e+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+m(o.substring(r[1].length));var n=o.match(new RegExp("^"+e+"+"))[0];return n.length===o.length?o:n+String.fromCharCode(i?205:206)+w(o.substring(n.length),!i)}function m(o){var i=f(o),e=i.length;if(e===o.length)return o;o=o.substring(e);var r=h(o)>=p(o);return i+String.fromCharCode(r?206:205)+w(o,r)}D.default=function(o){var i=void 0;if(f(o).length>=2)i=_.C_START_CHAR+m(o);else{var e=h(o)>p(o);i=(e?_.A_START_CHAR:_.B_START_CHAR)+w(o,e)}return i.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,n){return String.fromCharCode(203)+n})}},4602:function(ne,D){"use strict";var C;function _(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}Object.defineProperty(D,"__esModule",{value:!0});var h=D.SET_A=0,p=D.SET_B=1,f=D.SET_C=2,w=(D.SHIFT=98,D.START_A=103),m=D.START_B=104,o=D.START_C=105;D.MODULO=103,D.STOP=106,D.FNC1=207,D.SET_BY_CODE=(_(C={},w,h),_(C,m,p),_(C,o,f),C),D.SWAP={101:h,100:p,99:f},D.A_START_CHAR=String.fromCharCode(208),D.B_START_CHAR=String.fromCharCode(209),D.C_START_CHAR=String.fromCharCode(210),D.A_CHARS="[\0-_\xC8-\xCF]",D.B_CHARS="[ -\x7F\xC8-\xCF]",D.C_CHARS="(\xCF*[0-9]{2}\xCF*)",D.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},4935:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.CODE128C=D.CODE128B=D.CODE128A=D.CODE128=void 0;var _=w(C(8845)),h=w(C(8238)),p=w(C(1180)),f=w(C(944));function w(m){return m&&m.__esModule?m:{default:m}}D.CODE128=_.default,D.CODE128A=h.default,D.CODE128B=p.default,D.CODE128C=f.default},3361:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.CODE39=void 0;var _,h=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),p=function(i){function e(r,n){return function(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=r.toUpperCase(),n.mod43&&(r+=function(c){return f[c]}(function(c){for(var t=0,d=0;d<c.length;d++)t+=o(c[d]);return t%43}(r))),function(c,t){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?c:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),h(e,[{key:"encode",value:function(){for(var n=m("*"),c=0;c<this.data.length;c++)n+=m(this.data[c])+"0";return{data:n+=m("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(((_=C(8012))&&_.__esModule?_:{default:_}).default),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],w=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(i){return function(e){return w[e].toString(2)}(o(i))}function o(i){return f.indexOf(i)}D.CODE39=p},6454:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.fontSize=!e.flat&&e.fontSize>10*e.width?10*e.width:e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,r){return this.text.substr(e,r)}},{key:"leftEncode",value:function(e,r){return(0,p.default)(e,r)}},{key:"rightText",value:function(e,r){return this.text.substr(e,r)}},{key:"rightEncode",value:function(e,r){return(0,p.default)(e,r)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:h.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:e},{data:h.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:e},{data:h.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){return{data:[h.SIDE_BIN,this.leftEncode(),h.MIDDLE_BIN,this.rightEncode(),h.SIDE_BIN].join(""),text:this.text}}}]),o}(f(C(8012)).default);D.default=w},23:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),p=function i(e,r,n){e===null&&(e=Function.prototype);var c=Object.getOwnPropertyDescriptor(e,r);if(c===void 0){var t=Object.getPrototypeOf(e);return t===null?void 0:i(t,r,n)}if("value"in c)return c.value;var d=c.get;return d!==void 0?d.call(n):void 0},f=C(1239),w=(_=C(6454))&&_.__esModule?_:{default:_},m=function(e){return(10-e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,n,c){return c%2?r+3*n:r+n},0)%10)%10},o=function(i){function e(r,n){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=m(r));var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return c.lastChar=n.lastChar,c}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),h(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),c=f.EAN13_STRUCTURE[this.data[0]];return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,c)}},{key:"rightText",value:function(){return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(w.default);D.default=o},6552:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var e=h.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,p.default)(this.data,e,"01"),text:this.text}}}]),o}(f(C(8012)).default);D.default=w},9668:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var e,r=h.EAN5_STRUCTURE[e=this.data,e.split("").map(function(n){return+n}).reduce(function(n,c,t){return t%2?n+9*c:n+3*c},0)%10];return{data:"1011"+(0,p.default)(this.data,r,"01"),text:this.text}}}]),o}(f(C(8012)).default);D.default=w},5218:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=function o(i,e,r){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(n===void 0){var c=Object.getPrototypeOf(i);return c===null?void 0:o(c,e,r)}if("value"in n)return n.value;var t=n.get;return t!==void 0?t.call(r):void 0},f=(_=C(6454))&&_.__esModule?_:{default:_},w=function(i){return(10-i.substr(0,7).split("").map(function(e){return+e}).reduce(function(e,r,n){return n%2?e+r:e+3*r},0)%10)%10},m=function(o){function i(e,r){return function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),e.search(/^[0-9]{7}$/)!==-1&&(e+=w(e)),function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,r))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),h(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===w(this.data)}},{key:"leftText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),i}(f.default);D.default=m},5314:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}();D.checksum=w;var h=p(C(5532));function p(m){return m&&m.__esModule?m:{default:m}}var f=function(m){function o(i,e){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),i.search(/^[0-9]{11}$/)!==-1&&(i+=w(i));var r=function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.displayValue=e.displayValue,e.fontSize>10*e.width?r.fontSize=10*e.width:r.fontSize=e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==w(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,h.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,h.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,h.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,h.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,h.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,h.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),o}(p(C(8012)).default);function w(m){var o,i=0;for(o=1;o<11;o+=2)i+=parseInt(m[o]);for(o=0;o<11;o+=2)i+=3*parseInt(m[o]);return(10-i%10)%10}D.default=f},930:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=function(){function n(c,t){for(var d=0;d<t.length;d++){var y=t[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,t,d){return t&&n(c.prototype,t),d&&n(c,d),c}}(),h=w(C(5532)),p=w(C(8012)),f=C(5314);function w(n){return n&&n.__esModule?n:{default:n}}function m(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}var o=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],i=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],e=function(n){function c(t,d){(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,c);var y=m(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t,d));if(y.isValid=!1,t.search(/^[0-9]{6}$/)!==-1)y.middleDigits=t,y.upcA=r(t,"0"),y.text=d.text||""+y.upcA[0]+t+y.upcA[y.upcA.length-1],y.isValid=!0;else{if(t.search(/^[01][0-9]{7}$/)===-1||(y.middleDigits=t.substring(1,t.length-1),y.upcA=r(y.middleDigits,t[0]),y.upcA[y.upcA.length-1]!==t[t.length-1]))return m(y);y.isValid=!0}return y.displayValue=d.displayValue,d.fontSize>10*d.width?y.fontSize=10*d.width:y.fontSize=d.fontSize,y.guardHeight=d.height+y.fontSize/2+d.textMargin,y}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),_(c,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=this.encodeMiddleDigits(),{data:d+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101",options:{height:this.guardHeight}}),d.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),d.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),d}},{key:"encodeMiddleDigits",value:function(){var d=this.upcA[0],y=this.upcA[this.upcA.length-1],E=i[parseInt(y)][parseInt(d)];return(0,h.default)(this.middleDigits,E)}}]),c}(p.default);function r(n,c){for(var t=parseInt(n[n.length-1]),d=o[t],y="",E=0,T=0;T<d.length;T++){var A=d[T];y+=A==="X"?n[E++]:A}return(y=""+c+y)+(0,f.checksum)(y)}D.default=e},1239:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.SIDE_BIN="101",D.MIDDLE_BIN="01010",D.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},D.EAN2_STRUCTURE=["LL","LG","GL","GG"],D.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],D.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},5532:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=C(1239);D.default=function(h,p,f){var w=h.split("").map(function(o,i){return _.BINARIES[p[i]]}).map(function(o,i){return o?o[h[i]]:""});if(f){var m=h.length-1;w=w.map(function(o,i){return i<m?o+f:o})}return w.join("")}},5321:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.UPCE=D.UPC=D.EAN2=D.EAN5=D.EAN8=D.EAN13=void 0;var _=o(C(23)),h=o(C(5218)),p=o(C(9668)),f=o(C(6552)),w=o(C(5314)),m=o(C(930));function o(i){return i&&i.__esModule?i:{default:i}}D.EAN13=_.default,D.EAN8=h.default,D.EAN5=p.default,D.EAN2=f.default,D.UPC=w.default,D.UPCE=m.default},6447:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.GenericBarcode=void 0;var _,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){return function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o))}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),w}(((_=C(8012))&&_.__esModule?_:{default:_}).default);D.GenericBarcode=p},3074:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=C(4477);function f(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function w(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?o:i}var m=function(o){function i(){return f(this,i),w(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),h(i,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,n=this.data.match(/.{2}/g).map(function(c){return r.encodePair(c)}).join("");return{data:p.START_BIN+n+p.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var n=p.BINARIES[r[1]];return p.BINARIES[r[0]].split("").map(function(c,t){return(c==="1"?"111":"1")+(n[t]==="1"?"000":"0")}).join("")}}]),i}(((_=C(8012))&&_.__esModule?_:{default:_}).default);D.default=m},6972:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(3074))&&_.__esModule?_:{default:_},f=function(o){var i=o.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,r,n){return e+r*(3-n%2*2)},0);return 10*Math.ceil(i/10)-i},w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),i.search(/^[0-9]{13}$/)!==-1&&(i+=f(i)),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),o}(p.default);D.default=w},4477:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.START_BIN="1010",D.END_BIN="11101",D.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5984:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.ITF14=D.ITF=void 0;var _=p(C(3074)),h=p(C(6972));function p(f){return f&&f.__esModule?f:{default:f}}D.ITF=_.default,D.ITF14=h.default},2582:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function w(m,o){for(var i=0;i<o.length;i++){var e=o[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,o,i){return o&&w(m.prototype,o),i&&w(m,i),m}}(),p=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),h(m,[{key:"encode",value:function(){for(var i="110",e=0;e<this.data.length;e++){var r=parseInt(this.data[e]).toString(2);r=f(r,4-r.length);for(var n=0;n<r.length;n++)i+=r[n]=="0"?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(((_=C(8012))&&_.__esModule?_:{default:_}).default);function f(w,m){for(var o=0;o<m;o++)w="0"+w;return w}D.default=p},7839:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,p.mod10)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);D.default=f},8035:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,p.mod10)(o),o+=(0,p.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);D.default=f},5883:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,p.mod11)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);D.default=f},6287:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,p.mod11)(o),o+=(0,p.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);D.default=f},4348:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.mod10=function(C){for(var _=0,h=0;h<C.length;h++){var p=parseInt(C[h]);(h+C.length)%2==0?_+=p:_+=2*p%10+Math.floor(2*p/10)}return(10-_%10)%10},D.mod11=function(C){for(var _=0,h=[2,3,4,5,6,7],p=0;p<C.length;p++){var f=parseInt(C[C.length-1-p]);_+=h[p%h.length]*f}return(11-_%11)%11}},8458:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.MSI1110=D.MSI1010=D.MSI11=D.MSI10=D.MSI=void 0;var _=m(C(2582)),h=m(C(7839)),p=m(C(5883)),f=m(C(8035)),w=m(C(6287));function m(o){return o&&o.__esModule?o:{default:o}}D.MSI=_.default,D.MSI10=h.default,D.MSI11=p.default,D.MSI1010=f.default,D.MSI1110=w.default},123:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.codabar=void 0;var _,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m.toUpperCase(),o));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var o=[],i=this.getEncodings(),e=0;e<this.data.length;e++)o.push(i[this.data.charAt(e)]),e!==this.data.length-1&&o.push("0");return{text:this.text,data:o.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),w}(((_=C(8012))&&_.__esModule?_:{default:_}).default);D.codabar=p},2289:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=C(3361),h=C(4935),p=C(5321),f=C(5984),w=C(8458),m=C(3840),o=C(123),i=C(6447);D.default={CODE39:_.CODE39,CODE128:h.CODE128,CODE128A:h.CODE128A,CODE128B:h.CODE128B,CODE128C:h.CODE128C,EAN13:p.EAN13,EAN8:p.EAN8,EAN5:p.EAN5,EAN2:p.EAN2,UPC:p.UPC,UPCE:p.UPCE,ITF14:f.ITF14,ITF:f.ITF,MSI:w.MSI,MSI10:w.MSI10,MSI11:w.MSI11,MSI1010:w.MSI1010,MSI1110:w.MSI1110,pharmacode:m.pharmacode,codabar:o.codabar,GenericBarcode:i.GenericBarcode}},3840:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.pharmacode=void 0;var _,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w);var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o));return i.number=parseInt(m,10),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"encode",value:function(){for(var o=this.number,i="";!isNaN(o)&&o!=0;)o%2==0?(i="11100"+i,o=(o-2)/2):(i="100"+i,o=(o-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),w}(((_=C(8012))&&_.__esModule?_:{default:_}).default);D.pharmacode=p},8532:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var C=function(){function h(p,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,w){return f&&h(p.prototype,f),w&&h(p,w),p}}(),_=function(){function h(p){(function(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")})(this,h),this.api=p}return C(h,[{key:"handleCatch",value:function(f){if(f.name!=="InvalidInputException")throw f;if(this.api._options.valid===this.api._defaults.valid)throw f.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(f){try{var w=f.apply(void 0,arguments);return this.api._options.valid(!0),w}catch(m){return this.handleCatch(m),this.api}}}]),h}();D.default=_},2362:function(ne,D){"use strict";function C(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}function _(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}function h(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}Object.defineProperty(D,"__esModule",{value:!0});var p=function(m){function o(i,e){C(this,o);var r=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=e,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return h(o,Error),o}(),f=function(m){function o(){C(this,o);var i=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return h(o,Error),o}(),w=function(m){function o(){C(this,o);var i=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return h(o,Error),o}();D.InvalidInputException=p,D.InvalidElementException=f,D.NoElementException=w},7044:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(C){return C.marginTop=C.marginTop||C.margin,C.marginBottom=C.marginBottom||C.margin,C.marginRight=C.marginRight||C.margin,C.marginLeft=C.marginLeft||C.margin,C}},3898:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=p(C(5065)),h=p(C(6025));function p(f){return f&&f.__esModule?f:{default:f}}D.default=function(f){var w={};for(var m in h.default)h.default.hasOwnProperty(m)&&(f.hasAttribute("jsbarcode-"+m.toLowerCase())&&(w[m]=f.getAttribute("jsbarcode-"+m.toLowerCase())),f.hasAttribute("data-"+m.toLowerCase())&&(w[m]=f.getAttribute("data-"+m.toLowerCase())));return w.value=f.getAttribute("jsbarcode-value")||f.getAttribute("data-value"),(0,_.default)(w)}},9972:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h=w(C(3898)),p=w(C(2804)),f=C(2362);function w(m){return m&&m.__esModule?m:{default:m}}D.default=function m(o){if(typeof o=="string")return function(c){var t=document.querySelectorAll(c);if(t.length!==0){for(var d=[],y=0;y<t.length;y++)d.push(m(t[y]));return d}}(o);if(Array.isArray(o)){for(var i=[],e=0;e<o.length;e++)i.push(m(o[e]));return i}if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLImageElement)return r=o,{element:n=document.createElement("canvas"),options:(0,h.default)(r),renderer:p.default.CanvasRenderer,afterRender:function(){r.setAttribute("src",n.toDataURL())}};if(o&&o.nodeName&&o.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&o instanceof SVGElement)return{element:o,options:(0,h.default)(o),renderer:p.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLCanvasElement)return{element:o,options:(0,h.default)(o),renderer:p.default.CanvasRenderer};if(o&&o.getContext)return{element:o,renderer:p.default.CanvasRenderer};if(o&&(o===void 0?"undefined":_(o))==="object"&&!o.nodeName)return{element:o,renderer:p.default.ObjectRenderer};throw new f.InvalidElementException;var r,n}},5443:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(C){var _=[];return function h(p){if(Array.isArray(p))for(var f=0;f<p.length;f++)h(p[f]);else p.text=p.text||"",p.data=p.data||"",_.push(p)}(C),_}},2276:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var C=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(_[f]=p[f])}return _};D.default=function(_,h){return C({},_,h)}},5065:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(C){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var h in _)_.hasOwnProperty(h)&&typeof C[h=_[h]]=="string"&&(C[h]=parseInt(C[h],10));return typeof C.displayValue=="string"&&(C.displayValue=C.displayValue!="false"),C}},6025:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8204:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2276))&&_.__esModule?_:{default:_},f=C(7899),w=function(){function m(o,i,e){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.canvas=o,this.encodings=i,this.options=e}return h(m,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var e=(0,p.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(e,this.encodings[i]),this.drawCanvasText(e,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,f.calculateEncodingAttributes)(this.encodings,this.options,i);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,e){var r,n=this.canvas.getContext("2d"),c=e.data;r=i.textPosition=="top"?i.marginTop+i.fontSize+i.textMargin:i.marginTop,n.fillStyle=i.lineColor;for(var t=0;t<c.length;t++){var d=t*i.width+e.barcodePadding;c[t]==="1"?n.fillRect(d,r,i.width,i.height):c[t]&&n.fillRect(d,r,i.width,i.height*c[t])}}},{key:"drawCanvasText",value:function(i,e){var r,n,c=this.canvas.getContext("2d"),t=i.fontOptions+" "+i.fontSize+"px "+i.font;i.displayValue&&(n=i.textPosition=="top"?i.marginTop+i.fontSize-i.textMargin:i.height+i.textMargin+i.marginTop+i.fontSize,c.font=t,i.textAlign=="left"||e.barcodePadding>0?(r=0,c.textAlign="left"):i.textAlign=="right"?(r=e.width-1,c.textAlign="right"):(r=e.width/2,c.textAlign="center"),c.fillText(e.text,r,n))}},{key:"moveCanvasDrawing",value:function(i){this.canvas.getContext("2d").translate(i.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),m}();D.default=w},2804:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _=f(C(8204)),h=f(C(6917)),p=f(C(8652));function f(w){return w&&w.__esModule?w:{default:w}}D.default={CanvasRenderer:_.default,SVGRenderer:h.default,ObjectRenderer:p.default}},8652:function(ne,D){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var C=function(){function h(p,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,w){return f&&h(p.prototype,f),w&&h(p,w),p}}(),_=function(){function h(p,f,w){(function(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")})(this,h),this.object=p,this.encodings=f,this.options=w}return C(h,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),h}();D.default=_},7899:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.getTotalWidthOfEncodings=D.calculateEncodingAttributes=D.getBarcodePadding=D.getEncodingHeight=D.getMaximumHeightOfEncodings=void 0;var _,h=(_=C(2276))&&_.__esModule?_:{default:_};function p(m,o){return o.height+(o.displayValue&&m.text.length>0?o.fontSize+o.textMargin:0)+o.marginTop+o.marginBottom}function f(m,o,i){if(i.displayValue&&o<m){if(i.textAlign=="center")return Math.floor((m-o)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(m-o)}return 0}function w(m,o,i){var e;if(i)e=i;else{if(typeof document=="undefined")return 0;e=document.createElement("canvas").getContext("2d")}e.font=o.fontOptions+" "+o.fontSize+"px "+o.font;var r=e.measureText(m);return r?r.width:0}D.getMaximumHeightOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)m[i].height>o&&(o=m[i].height);return o},D.getEncodingHeight=p,D.getBarcodePadding=f,D.calculateEncodingAttributes=function(m,o,i){for(var e=0;e<m.length;e++){var r,n=m[e],c=(0,h.default)(o,n.options);r=c.displayValue?w(n.text,c,i):0;var t=n.data.length*c.width;n.width=Math.ceil(Math.max(r,t)),n.height=p(n,c),n.barcodePadding=f(r,t,c)}},D.getTotalWidthOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)o+=m[i].width;return o}},6917:function(ne,D,C){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var _,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=(_=C(2276))&&_.__esModule?_:{default:_},f=C(7899),w="http://www.w3.org/2000/svg",m=function(){function o(i,e,r){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.svg=i,this.encodings=e,this.options=r,this.document=r.xmlDocument||document}return h(o,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var n=this.encodings[r],c=(0,p.default)(this.options,n.options),t=this.createGroup(e,c.marginTop,this.svg);this.setGroupOptions(t,c),this.drawSvgBarcode(t,c,n),this.drawSVGText(t,c,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,r),this.options.background&&this.drawRect(0,0,n,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,r,n){var c,t=n.data;c=r.textPosition=="top"?r.fontSize+r.textMargin:0;for(var d=0,y=0,E=0;E<t.length;E++)y=E*r.width+n.barcodePadding,t[E]==="1"?d++:d>0&&(this.drawRect(y-r.width*d,c,r.width*d,r.height,e),d=0);d>0&&this.drawRect(y-r.width*(d-1),c,r.width*d,r.height,e)}},{key:"drawSVGText",value:function(e,r,n){var c,t,d=this.document.createElementNS(w,"text");r.displayValue&&(d.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),t=r.textPosition=="top"?r.fontSize-r.textMargin:r.height+r.textMargin+r.fontSize,r.textAlign=="left"||n.barcodePadding>0?(c=0,d.setAttribute("text-anchor","start")):r.textAlign=="right"?(c=n.width-1,d.setAttribute("text-anchor","end")):(c=n.width/2,d.setAttribute("text-anchor","middle")),d.setAttribute("x",c),d.setAttribute("y",t),d.appendChild(this.document.createTextNode(n.text)),e.appendChild(d))}},{key:"setSvgAttributes",value:function(e,r){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",r+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+r),n.setAttribute("xmlns",w),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,r,n){var c=this.document.createElementNS(w,"g");return c.setAttribute("transform","translate("+e+", "+r+")"),n.appendChild(c),c}},{key:"setGroupOptions",value:function(e,r){e.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(e,r,n,c,t){var d=this.document.createElementNS(w,"rect");return d.setAttribute("x",e),d.setAttribute("y",r),d.setAttribute("width",n),d.setAttribute("height",c),t.appendChild(d),d}}]),o}();D.default=m},4244:function(ne){"use strict";var D=function(_){return _!=_};ne.exports=function(C,_){return C===0&&_===0?1/C==1/_:C===_||!(!D(C)||!D(_))}},609:function(ne,D,C){"use strict";var _=C(4289),h=C(5559),p=C(4244),f=C(5624),w=C(2281),m=h(f(),Object);_(m,{getPolyfill:f,implementation:p,shim:w}),ne.exports=m},5624:function(ne,D,C){"use strict";var _=C(4244);ne.exports=function(){return typeof Object.is=="function"?Object.is:_}},2281:function(ne,D,C){"use strict";var _=C(5624),h=C(4289);ne.exports=function(){var p=_();return h(Object,{is:p},{is:function(){return Object.is!==p}}),p}},8987:function(ne,D,C){"use strict";var _;if(!Object.keys){var h=Object.prototype.hasOwnProperty,p=Object.prototype.toString,f=C(1414),w=Object.prototype.propertyIsEnumerable,m=!w.call({toString:null},"toString"),o=w.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(t){var d=t.constructor;return d&&d.prototype===t},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window=="undefined")return!1;for(var c in window)try{if(!r["$"+c]&&h.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{e(window[c])}catch(t){return!0}}catch(t){return!0}return!1}();_=function(t){var d=t!==null&&typeof t=="object",y=p.call(t)==="[object Function]",E=f(t),T=d&&p.call(t)==="[object String]",A=[];if(!d&&!y&&!E)throw new TypeError("Object.keys called on a non-object");var P=o&&y;if(T&&t.length>0&&!h.call(t,0))for(var O=0;O<t.length;++O)A.push(String(O));if(E&&t.length>0)for(var N=0;N<t.length;++N)A.push(String(N));else for(var H in t)P&&H==="prototype"||!h.call(t,H)||A.push(String(H));if(m)for(var M=function(B){if(typeof window=="undefined"||!n)return e(B);try{return e(B)}catch(te){return!1}}(t),Z=0;Z<i.length;++Z)M&&i[Z]==="constructor"||!h.call(t,i[Z])||A.push(i[Z]);return A}}ne.exports=_},2215:function(ne,D,C){"use strict";var _=Array.prototype.slice,h=C(1414),p=Object.keys,f=p?function(m){return p(m)}:C(8987),w=Object.keys;f.shim=function(){if(Object.keys){var m=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);m||(Object.keys=function(o){return h(o)?w(_.call(o)):w(o)})}else Object.keys=f;return Object.keys||f},ne.exports=f},1414:function(ne){"use strict";var D=Object.prototype.toString;ne.exports=function(C){var _=D.call(C),h=_==="[object Arguments]";return h||(h=_!=="[object Array]"&&C!==null&&typeof C=="object"&&typeof C.length=="number"&&C.length>=0&&D.call(C.callee)==="[object Function]"),h}},2592:function(ne,D,C){var _=C(7138),h=C(5115),p=C(6907),f=C(3776);function w(m,o,i,e,r){var n=[].slice.call(arguments,1),c=n.length,t=typeof n[c-1]=="function";if(!t&&!_())throw new Error("Callback required as last argument");if(!t){if(c<1)throw new Error("Too few arguments provided");return c===1?(i=o,o=e=void 0):c!==2||o.getContext||(e=i,i=o,o=void 0),new Promise(function(y,E){try{var T=h.create(i,e);y(m(T,o,e))}catch(A){E(A)}})}if(c<2)throw new Error("Too few arguments provided");c===2?(r=i,i=o,o=e=void 0):c===3&&(o.getContext&&r===void 0?(r=e,e=void 0):(r=e,e=i,i=o,o=void 0));try{var d=h.create(i,e);r(null,m(d,o,e))}catch(y){r(y)}}D.create=h.create,D.toCanvas=w.bind(null,p.render),D.toDataURL=w.bind(null,p.renderToDataURL),D.toString=w.bind(null,function(m,o,i){return f.render(m,i)})},7138:function(ne){ne.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},1845:function(ne,D,C){var _=C(242).getSymbolSize;D.getRowColCoords=function(h){if(h===1)return[];for(var p=Math.floor(h/7)+2,f=_(h),w=f===145?26:2*Math.ceil((f-13)/(2*p-2)),m=[f-7],o=1;o<p-1;o++)m[o]=m[o-1]-w;return m.push(6),m.reverse()},D.getPositions=function(h){for(var p=[],f=D.getRowColCoords(h),w=f.length,m=0;m<w;m++)for(var o=0;o<w;o++)m===0&&o===0||m===0&&o===w-1||m===w-1&&o===0||p.push([f[m],f[o]]);return p}},8260:function(ne,D,C){var _=C(6910),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function p(f){this.mode=_.ALPHANUMERIC,this.data=f}p.getBitsLength=function(f){return 11*Math.floor(f/2)+f%2*6},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){var w;for(w=0;w+2<=this.data.length;w+=2){var m=45*h.indexOf(this.data[w]);m+=h.indexOf(this.data[w+1]),f.put(m,11)}this.data.length%2&&f.put(h.indexOf(this.data[w]),6)},ne.exports=p},7245:function(ne){function D(){this.buffer=[],this.length=0}D.prototype={get:function(_){var h=Math.floor(_/8);return(this.buffer[h]>>>7-_%8&1)==1},put:function(_,h){for(var p=0;p<h;p++)this.putBit((_>>>h-p-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(_){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),_&&(this.buffer[h]|=128>>>this.length%8),this.length++}},ne.exports=D},3280:function(ne){function D(C){if(!C||C<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=C,this.data=new Uint8Array(C*C),this.reservedBit=new Uint8Array(C*C)}D.prototype.set=function(C,_,h,p){var f=C*this.size+_;this.data[f]=h,p&&(this.reservedBit[f]=!0)},D.prototype.get=function(C,_){return this.data[C*this.size+_]},D.prototype.xor=function(C,_,h){this.data[C*this.size+_]^=h},D.prototype.isReserved=function(C,_){return this.reservedBit[C*this.size+_]},ne.exports=D},3424:function(ne,D,C){var _=C(2378),h=C(6910);function p(f){this.mode=h.BYTE,this.data=new Uint8Array(_(f))}p.getBitsLength=function(f){return 8*f},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){for(var w=0,m=this.data.length;w<m;w++)f.put(this.data[w],8)},ne.exports=p},5393:function(ne,D,C){var _=C(4908),h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],p=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];D.getBlocksCount=function(f,w){switch(w){case _.L:return h[4*(f-1)+0];case _.M:return h[4*(f-1)+1];case _.Q:return h[4*(f-1)+2];case _.H:return h[4*(f-1)+3];default:return}},D.getTotalCodewordsCount=function(f,w){switch(w){case _.L:return p[4*(f-1)+0];case _.M:return p[4*(f-1)+1];case _.Q:return p[4*(f-1)+2];case _.H:return p[4*(f-1)+3];default:return}}},4908:function(ne,D){D.L={bit:1},D.M={bit:0},D.Q={bit:3},D.H={bit:2},D.isValid=function(C){return C&&C.bit!==void 0&&C.bit>=0&&C.bit<4},D.from=function(C,_){if(D.isValid(C))return C;try{return function(h){if(typeof h!="string")throw new Error("Param is not a string");switch(h.toLowerCase()){case"l":case"low":return D.L;case"m":case"medium":return D.M;case"q":case"quartile":return D.Q;case"h":case"high":return D.H;default:throw new Error("Unknown EC Level: "+h)}}(C)}catch(h){return _}}},6526:function(ne,D,C){var _=C(242).getSymbolSize;D.getPositions=function(h){var p=_(h);return[[0,0],[p-7,0],[0,p-7]]}},1642:function(ne,D,C){var _=C(242),h=_.getBCHDigit(1335);D.getEncodedBits=function(p,f){for(var w=p.bit<<3|f,m=w<<10;_.getBCHDigit(m)-h>=0;)m^=1335<<_.getBCHDigit(m)-h;return 21522^(w<<10|m)}},9729:function(ne,D){var C=new Uint8Array(512),_=new Uint8Array(256);(function(){for(var h=1,p=0;p<255;p++)C[p]=h,_[h]=p,h<<=1,256&h&&(h^=285);for(var f=255;f<512;f++)C[f]=C[f-255]})(),D.log=function(h){if(h<1)throw new Error("log("+h+")");return _[h]},D.exp=function(h){return C[h]},D.mul=function(h,p){return h===0||p===0?0:C[_[h]+_[p]]}},5442:function(ne,D,C){var _=C(6910),h=C(242);function p(f){this.mode=_.KANJI,this.data=f}p.getBitsLength=function(f){return 13*f},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){var w;for(w=0;w<this.data.length;w++){var m=h.toSJIS(this.data[w]);if(m>=33088&&m<=40956)m-=33088;else{if(!(m>=57408&&m<=60351))throw new Error("Invalid SJIS character: "+this.data[w]+`
Make sure your charset is UTF-8`);m-=49472}m=192*(m>>>8&255)+(255&m),f.put(m,13)}},ne.exports=p},7126:function(ne,D){D.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function C(_,h,p){switch(_){case D.Patterns.PATTERN000:return(h+p)%2==0;case D.Patterns.PATTERN001:return h%2==0;case D.Patterns.PATTERN010:return p%3==0;case D.Patterns.PATTERN011:return(h+p)%3==0;case D.Patterns.PATTERN100:return(Math.floor(h/2)+Math.floor(p/3))%2==0;case D.Patterns.PATTERN101:return h*p%2+h*p%3==0;case D.Patterns.PATTERN110:return(h*p%2+h*p%3)%2==0;case D.Patterns.PATTERN111:return(h*p%3+(h+p)%2)%2==0;default:throw new Error("bad maskPattern:"+_)}}D.isValid=function(_){return _!=null&&_!==""&&!isNaN(_)&&_>=0&&_<=7},D.from=function(_){return D.isValid(_)?parseInt(_,10):void 0},D.getPenaltyN1=function(_){for(var h=_.size,p=0,f=0,w=0,m=null,o=null,i=0;i<h;i++){f=w=0,m=o=null;for(var e=0;e<h;e++){var r=_.get(i,e);r===m?f++:(f>=5&&(p+=f-5+3),m=r,f=1),r=_.get(e,i),r===o?w++:(w>=5&&(p+=w-5+3),o=r,w=1)}f>=5&&(p+=f-5+3),w>=5&&(p+=w-5+3)}return p},D.getPenaltyN2=function(_){for(var h=_.size,p=0,f=0;f<h-1;f++)for(var w=0;w<h-1;w++){var m=_.get(f,w)+_.get(f,w+1)+_.get(f+1,w)+_.get(f+1,w+1);m!==4&&m!==0||p++}return 3*p},D.getPenaltyN3=function(_){for(var h=_.size,p=0,f=0,w=0,m=0;m<h;m++){f=w=0;for(var o=0;o<h;o++)f=f<<1&2047|_.get(m,o),o>=10&&(f===1488||f===93)&&p++,w=w<<1&2047|_.get(o,m),o>=10&&(w===1488||w===93)&&p++}return 40*p},D.getPenaltyN4=function(_){for(var h=0,p=_.data.length,f=0;f<p;f++)h+=_.data[f];return 10*Math.abs(Math.ceil(100*h/p/5)-10)},D.applyMask=function(_,h){for(var p=h.size,f=0;f<p;f++)for(var w=0;w<p;w++)h.isReserved(w,f)||h.xor(w,f,C(_,w,f))},D.getBestMask=function(_,h){for(var p=Object.keys(D.Patterns).length,f=0,w=1/0,m=0;m<p;m++){h(m),D.applyMask(m,_);var o=D.getPenaltyN1(_)+D.getPenaltyN2(_)+D.getPenaltyN3(_)+D.getPenaltyN4(_);D.applyMask(m,_),o<w&&(w=o,f=m)}return f}},6910:function(ne,D,C){var _=C(3114),h=C(7007);D.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},D.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},D.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},D.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},D.MIXED={bit:-1},D.getCharCountIndicator=function(p,f){if(!p.ccBits)throw new Error("Invalid mode: "+p);if(!_.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?p.ccBits[0]:f<27?p.ccBits[1]:p.ccBits[2]},D.getBestModeForData=function(p){return h.testNumeric(p)?D.NUMERIC:h.testAlphanumeric(p)?D.ALPHANUMERIC:h.testKanji(p)?D.KANJI:D.BYTE},D.toString=function(p){if(p&&p.id)return p.id;throw new Error("Invalid mode")},D.isValid=function(p){return p&&p.bit&&p.ccBits},D.from=function(p,f){if(D.isValid(p))return p;try{return function(w){if(typeof w!="string")throw new Error("Param is not a string");switch(w.toLowerCase()){case"numeric":return D.NUMERIC;case"alphanumeric":return D.ALPHANUMERIC;case"kanji":return D.KANJI;case"byte":return D.BYTE;default:throw new Error("Unknown mode: "+w)}}(p)}catch(w){return f}}},1085:function(ne,D,C){var _=C(6910);function h(p){this.mode=_.NUMERIC,this.data=p.toString()}h.getBitsLength=function(p){return 10*Math.floor(p/3)+(p%3?p%3*3+1:0)},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(p){var f,w,m;for(f=0;f+3<=this.data.length;f+=3)w=this.data.substr(f,3),m=parseInt(w,10),p.put(m,10);var o=this.data.length-f;o>0&&(w=this.data.substr(f),m=parseInt(w,10),p.put(m,3*o+1))},ne.exports=h},6143:function(ne,D,C){var _=C(9729);D.mul=function(h,p){for(var f=new Uint8Array(h.length+p.length-1),w=0;w<h.length;w++)for(var m=0;m<p.length;m++)f[w+m]^=_.mul(h[w],p[m]);return f},D.mod=function(h,p){for(var f=new Uint8Array(h);f.length-p.length>=0;){for(var w=f[0],m=0;m<p.length;m++)f[m]^=_.mul(p[m],w);for(var o=0;o<f.length&&f[o]===0;)o++;f=f.slice(o)}return f},D.generateECPolynomial=function(h){for(var p=new Uint8Array([1]),f=0;f<h;f++)p=D.mul(p,new Uint8Array([1,_.exp(f)]));return p}},5115:function(ne,D,C){var _=C(242),h=C(4908),p=C(7245),f=C(3280),w=C(1845),m=C(6526),o=C(7126),i=C(5393),e=C(2882),r=C(3103),n=C(1642),c=C(6910),t=C(6130);function d(E,T,A){var P=E.size,O=n.getEncodedBits(T,A),N,H;for(N=0;N<15;N++)H=(O>>N&1)==1,N<6?E.set(N,8,H,!0):N<8?E.set(N+1,8,H,!0):E.set(P-15+N,8,H,!0),N<8?E.set(8,P-N-1,H,!0):N<9?E.set(8,15-N-1+1,H,!0):E.set(8,15-N-1,H,!0);E.set(P-8,8,1,!0)}function y(E,T,A,P){var O;if(Array.isArray(E))O=t.fromArray(E);else{if(typeof E!="string")throw new Error("Invalid data");{var N=T;if(!N){var H=t.rawSplit(E);N=r.getBestVersionForData(H,A)}O=t.fromString(E,N||40)}}var M=r.getBestVersionForData(O,A);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(T){if(T<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`)}else T=M;var Z=function(ee,V,$){var F=new p;$.forEach(function(J){F.put(J.mode.bit,4),F.put(J.getLength(),c.getCharCountIndicator(J.mode,ee)),J.write(F)});var G=8*(_.getSymbolTotalCodewords(ee)-i.getTotalCodewordsCount(ee,V));for(F.getLengthInBits()+4<=G&&F.put(0,4);F.getLengthInBits()%8!=0;)F.putBit(0);for(var q=(G-F.getLengthInBits())/8,L=0;L<q;L++)F.put(L%2?17:236,8);return function(J,ce,se){for(var ve=_.getSymbolTotalCodewords(ce),ie=ve-i.getTotalCodewordsCount(ce,se),oe=i.getBlocksCount(ce,se),pe=oe-ve%oe,be=Math.floor(ve/oe),de=Math.floor(ie/oe),Pe=de+1,je=be-de,z=new e(je),ge=0,K=new Array(oe),k=new Array(oe),I=0,W=new Uint8Array(J.buffer),re=0;re<oe;re++){var Y=re<pe?de:Pe;K[re]=W.slice(ge,ge+Y),k[re]=z.encode(K[re]),ge+=Y,I=Math.max(I,Y)}var ae=new Uint8Array(ve),Ce,he,Oe=0;for(Ce=0;Ce<I;Ce++)for(he=0;he<oe;he++)Ce<K[he].length&&(ae[Oe++]=K[he][Ce]);for(Ce=0;Ce<je;Ce++)for(he=0;he<oe;he++)ae[Oe++]=k[he][Ce];return ae}(F,ee,V)}(T,A,O),B=_.getSymbolSize(T),te=new f(B);return function(ee,V){for(var $=ee.size,F=m.getPositions(V),G=0;G<F.length;G++)for(var q=F[G][0],L=F[G][1],J=-1;J<=7;J++)if(!(q+J<=-1||$<=q+J))for(var ce=-1;ce<=7;ce++)L+ce<=-1||$<=L+ce||(J>=0&&J<=6&&(ce===0||ce===6)||ce>=0&&ce<=6&&(J===0||J===6)||J>=2&&J<=4&&ce>=2&&ce<=4?ee.set(q+J,L+ce,!0,!0):ee.set(q+J,L+ce,!1,!0))}(te,T),function(ee){for(var V=ee.size,$=8;$<V-8;$++){var F=$%2==0;ee.set($,6,F,!0),ee.set(6,$,F,!0)}}(te),function(ee,V){for(var $=w.getPositions(V),F=0;F<$.length;F++)for(var G=$[F][0],q=$[F][1],L=-2;L<=2;L++)for(var J=-2;J<=2;J++)L===-2||L===2||J===-2||J===2||L===0&&J===0?ee.set(G+L,q+J,!0,!0):ee.set(G+L,q+J,!1,!0)}(te,T),d(te,A,0),T>=7&&function(ee,V){for(var $=ee.size,F=r.getEncodedBits(V),G,q,L,J=0;J<18;J++)G=Math.floor(J/3),q=J%3+$-8-3,L=(F>>J&1)==1,ee.set(G,q,L,!0),ee.set(q,G,L,!0)}(te,T),function(ee,V){for(var $=ee.size,F=-1,G=$-1,q=7,L=0,J=$-1;J>0;J-=2)for(J===6&&J--;;){for(var ce=0;ce<2;ce++)if(!ee.isReserved(G,J-ce)){var se=!1;L<V.length&&(se=(V[L]>>>q&1)==1),ee.set(G,J-ce,se),q--,q===-1&&(L++,q=7)}if(G+=F,G<0||$<=G){G-=F,F=-F;break}}}(te,Z),isNaN(P)&&(P=o.getBestMask(te,d.bind(null,te,A))),o.applyMask(P,te),d(te,A,P),{modules:te,version:T,errorCorrectionLevel:A,maskPattern:P,segments:O}}D.create=function(E,T){if(E===void 0||E==="")throw new Error("No input text");var A,P,O=h.M;return T!==void 0&&(O=h.from(T.errorCorrectionLevel,h.M),A=r.from(T.version),P=o.from(T.maskPattern),T.toSJISFunc&&_.setToSJISFunction(T.toSJISFunc)),y(E,A,O,P)}},2882:function(ne,D,C){var _=C(6143);function h(p){this.genPoly=void 0,this.degree=p,this.degree&&this.initialize(this.degree)}h.prototype.initialize=function(p){this.degree=p,this.genPoly=_.generateECPolynomial(this.degree)},h.prototype.encode=function(p){if(!this.genPoly)throw new Error("Encoder not initialized");var f=new Uint8Array(p.length+this.degree);f.set(p);var w=_.mod(f,this.genPoly),m=this.degree-w.length;if(m>0){var o=new Uint8Array(this.degree);return o.set(w,m),o}return w},ne.exports=h},7007:function(ne,D){var C="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";C=C.replace(/u/g,"\\u");var _="(?:(?![A-Z0-9 $%*+\\-./:]|"+C+`)(?:.|[\r
]))+`;D.KANJI=new RegExp(C,"g"),D.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),D.BYTE=new RegExp(_,"g"),D.NUMERIC=new RegExp("[0-9]+","g"),D.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var h=new RegExp("^"+C+"$"),p=new RegExp("^[0-9]+$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");D.testKanji=function(w){return h.test(w)},D.testNumeric=function(w){return p.test(w)},D.testAlphanumeric=function(w){return f.test(w)}},6130:function(ne,D,C){var _=C(6910),h=C(1085),p=C(8260),f=C(3424),w=C(5442),m=C(7007),o=C(242),i=C(5987);function e(d){return unescape(encodeURIComponent(d)).length}function r(d,y,E){for(var T=[],A;(A=d.exec(E))!==null;)T.push({data:A[0],index:A.index,mode:y,length:A[0].length});return T}function n(d){var y=r(m.NUMERIC,_.NUMERIC,d),E=r(m.ALPHANUMERIC,_.ALPHANUMERIC,d),T,A;return o.isKanjiModeEnabled()?(T=r(m.BYTE,_.BYTE,d),A=r(m.KANJI,_.KANJI,d)):(T=r(m.BYTE_KANJI,_.BYTE,d),A=[]),y.concat(E,T,A).sort(function(P,O){return P.index-O.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function c(d,y){switch(y){case _.NUMERIC:return h.getBitsLength(d);case _.ALPHANUMERIC:return p.getBitsLength(d);case _.KANJI:return w.getBitsLength(d);case _.BYTE:return f.getBitsLength(d)}}function t(d,y){var E,T=_.getBestModeForData(d);if(E=_.from(y,T),E!==_.BYTE&&E.bit<T.bit)throw new Error('"'+d+'" cannot be encoded with mode '+_.toString(E)+`.
 Suggested mode is: `+_.toString(T));switch(E!==_.KANJI||o.isKanjiModeEnabled()||(E=_.BYTE),E){case _.NUMERIC:return new h(d);case _.ALPHANUMERIC:return new p(d);case _.KANJI:return new w(d);case _.BYTE:return new f(d)}}D.fromArray=function(d){return d.reduce(function(y,E){return typeof E=="string"?y.push(t(E,null)):E.data&&y.push(t(E.data,E.mode)),y},[])},D.fromString=function(d,y){for(var E=function(N){for(var H=[],M=0;M<N.length;M++){var Z=N[M];switch(Z.mode){case _.NUMERIC:H.push([Z,{data:Z.data,mode:_.ALPHANUMERIC,length:Z.length},{data:Z.data,mode:_.BYTE,length:Z.length}]);break;case _.ALPHANUMERIC:H.push([Z,{data:Z.data,mode:_.BYTE,length:Z.length}]);break;case _.KANJI:H.push([Z,{data:Z.data,mode:_.BYTE,length:e(Z.data)}]);break;case _.BYTE:H.push([{data:Z.data,mode:_.BYTE,length:e(Z.data)}])}}return H}(n(d,o.isKanjiModeEnabled())),T=function(N,H){for(var M={},Z={start:{}},B=["start"],te=0;te<N.length;te++){for(var ee=N[te],V=[],$=0;$<ee.length;$++){var F=ee[$],G=""+te+$;V.push(G),M[G]={node:F,lastCount:0},Z[G]={};for(var q=0;q<B.length;q++){var L=B[q];M[L]&&M[L].node.mode===F.mode?(Z[L][G]=c(M[L].lastCount+F.length,F.mode)-c(M[L].lastCount,F.mode),M[L].lastCount+=F.length):(M[L]&&(M[L].lastCount=F.length),Z[L][G]=c(F.length,F.mode)+4+_.getCharCountIndicator(F.mode,H))}}B=V}for(var J=0;J<B.length;J++)Z[B[J]].end=0;return{map:Z,table:M}}(E,y),A=i.find_path(T.map,"start","end"),P=[],O=1;O<A.length-1;O++)P.push(T.table[A[O]].node);return D.fromArray(P.reduce(function(N,H){var M=N.length-1>=0?N[N.length-1]:null;return M&&M.mode===H.mode?(N[N.length-1].data+=H.data,N):(N.push(H),N)},[]))},D.rawSplit=function(d){return D.fromArray(n(d,o.isKanjiModeEnabled()))}},242:function(ne,D){var C,_=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D.getSymbolSize=function(h){if(!h)throw new Error('"version" cannot be null or undefined');if(h<1||h>40)throw new Error('"version" should be in range from 1 to 40');return 4*h+17},D.getSymbolTotalCodewords=function(h){return _[h]},D.getBCHDigit=function(h){for(var p=0;h!==0;)p++,h>>>=1;return p},D.setToSJISFunction=function(h){if(typeof h!="function")throw new Error('"toSJISFunc" is not a valid function.');C=h},D.isKanjiModeEnabled=function(){return C!==void 0},D.toSJIS=function(h){return C(h)}},3114:function(ne,D){D.isValid=function(C){return!isNaN(C)&&C>=1&&C<=40}},3103:function(ne,D,C){var _=C(242),h=C(5393),p=C(4908),f=C(6910),w=C(3114),m=_.getBCHDigit(7973);function o(e,r){return f.getCharCountIndicator(e,r)+4}function i(e,r){var n=0;return e.forEach(function(c){var t=o(c.mode,r);n+=t+c.getBitsLength()}),n}D.from=function(e,r){return w.isValid(e)?parseInt(e,10):r},D.getCapacity=function(e,r,n){if(!w.isValid(e))throw new Error("Invalid QR Code version");n===void 0&&(n=f.BYTE);var c=8*(_.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,r));if(n===f.MIXED)return c;var t=c-o(n,e);switch(n){case f.NUMERIC:return Math.floor(t/10*3);case f.ALPHANUMERIC:return Math.floor(t/11*2);case f.KANJI:return Math.floor(t/13);case f.BYTE:default:return Math.floor(t/8)}},D.getBestVersionForData=function(e,r){var n,c=p.from(r,p.M);if(Array.isArray(e)){if(e.length>1)return function(t,d){for(var y=1;y<=40;y++)if(i(t,y)<=D.getCapacity(y,d,f.MIXED))return y}(e,c);if(e.length===0)return 1;n=e[0]}else n=e;return function(t,d,y){for(var E=1;E<=40;E++)if(d<=D.getCapacity(E,y,t))return E}(n.mode,n.getLength(),c)},D.getEncodedBits=function(e){if(!w.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;_.getBCHDigit(r)-m>=0;)r^=7973<<_.getBCHDigit(r)-m;return e<<12|r}},6907:function(ne,D,C){var _=C(9653);D.render=function(h,p,f){var w=f,m=p;w!==void 0||p&&p.getContext||(w=p,p=void 0),p||(m=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),w=_.getOptions(w);var o=_.getImageWidth(h.modules.size,w),i=m.getContext("2d"),e=i.createImageData(o,o);return _.qrToImageData(e.data,h,w),function(r,n,c){r.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=c,n.width=c,n.style.height=c+"px",n.style.width=c+"px"}(i,m,o),i.putImageData(e,0,0),m},D.renderToDataURL=function(h,p,f){var w=f;w!==void 0||p&&p.getContext||(w=p,p=void 0),w||(w={});var m=D.render(h,p,w),o=w.type||"image/png",i=w.rendererOpts||{};return m.toDataURL(o,i.quality)}},3776:function(ne,D,C){var _=C(9653);function h(f,w){var m=f.a/255,o=w+'="'+f.hex+'"';return m<1?o+" "+w+'-opacity="'+m.toFixed(2).slice(1)+'"':o}function p(f,w,m){var o=f+w;return m!==void 0&&(o+=" "+m),o}D.render=function(f,w,m){var o=_.getOptions(w),i=f.modules.size,e=f.modules.data,r=i+2*o.margin,n=o.color.light.a?"<path "+h(o.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",c="<path "+h(o.color.dark,"stroke")+' d="'+function(y,E,T){for(var A="",P=0,O=!1,N=0,H=0;H<y.length;H++){var M=Math.floor(H%E),Z=Math.floor(H/E);M||O||(O=!0),y[H]?(N++,H>0&&M>0&&y[H-1]||(A+=O?p("M",M+T,.5+Z+T):p("m",P,0),P=0,O=!1),M+1<E&&y[H+1]||(A+=p("h",N),N=0)):P++}return A}(e,i,o.margin)+'"/>',t='viewBox="0 0 '+r+" "+r+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+t+' shape-rendering="crispEdges">'+n+c+`</svg>
`;return typeof m=="function"&&m(null,d),d}},9653:function(ne,D){function C(_){if(typeof _=="number"&&(_=_.toString()),typeof _!="string")throw new Error("Color should be defined as hex string");var h=_.slice().replace("#","").split("");if(h.length<3||h.length===5||h.length>8)throw new Error("Invalid hex color: "+_);h.length!==3&&h.length!==4||(h=Array.prototype.concat.apply([],h.map(function(f){return[f,f]}))),h.length===6&&h.push("F","F");var p=parseInt(h.join(""),16);return{r:p>>24&255,g:p>>16&255,b:p>>8&255,a:255&p,hex:"#"+h.slice(0,6).join("")}}D.getOptions=function(_){_||(_={}),_.color||(_.color={});var h=_.margin===void 0||_.margin===null||_.margin<0?4:_.margin,p=_.width&&_.width>=21?_.width:void 0,f=_.scale||4;return{width:p,scale:p?4:f,margin:h,color:{dark:C(_.color.dark||"#000000ff"),light:C(_.color.light||"#ffffffff")},type:_.type,rendererOpts:_.rendererOpts||{}}},D.getScale=function(_,h){return h.width&&h.width>=_+2*h.margin?h.width/(_+2*h.margin):h.scale},D.getImageWidth=function(_,h){var p=D.getScale(_,h);return Math.floor((_+2*h.margin)*p)},D.qrToImageData=function(_,h,p){for(var f=h.modules.size,w=h.modules.data,m=D.getScale(f,p),o=Math.floor((f+2*p.margin)*m),i=p.margin*m,e=[p.color.light,p.color.dark],r=0;r<o;r++)for(var n=0;n<o;n++){var c=4*(r*o+n),t=p.color.light;r>=i&&n>=i&&r<o-i&&n<o-i&&(t=e[w[Math.floor((r-i)/m)*f+Math.floor((n-i)/m)]?1:0]),_[c++]=t.r,_[c++]=t.g,_[c++]=t.b,_[c]=t.a}}},4175:function(ne,D,C){var _=C(7529),h=C(251),p=C(4470),f=C(4644),w=String.fromCharCode(0),m=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};m.prototype.insert=function(o,i){var e={};return o.length===0?this:(e.insert=o,i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e))},m.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},m.prototype.retain=function(o,i){if(o<=0)return this;var e={retain:o};return i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e)},m.prototype.push=function(o){var i=this.ops.length,e=this.ops[i-1];if(o=p(!0,{},o),typeof e=="object"){if(typeof o.delete=="number"&&typeof e.delete=="number")return this.ops[i-1]={delete:e.delete+o.delete},this;if(typeof e.delete=="number"&&o.insert!=null&&(i-=1,typeof(e=this.ops[i-1])!="object"))return this.ops.unshift(o),this;if(h(o.attributes,e.attributes)){if(typeof o.insert=="string"&&typeof e.insert=="string")return this.ops[i-1]={insert:e.insert+o.insert},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof e.retain=="number")return this.ops[i-1]={retain:e.retain+o.retain},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this}}return i===this.ops.length?this.ops.push(o):this.ops.splice(i,0,o),this},m.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},m.prototype.filter=function(o){return this.ops.filter(o)},m.prototype.forEach=function(o){this.ops.forEach(o)},m.prototype.map=function(o){return this.ops.map(o)},m.prototype.partition=function(o){var i=[],e=[];return this.forEach(function(r){(o(r)?i:e).push(r)}),[i,e]},m.prototype.reduce=function(o,i){return this.ops.reduce(o,i)},m.prototype.changeLength=function(){return this.reduce(function(o,i){return i.insert?o+f.length(i):i.delete?o-i.delete:o},0)},m.prototype.length=function(){return this.reduce(function(o,i){return o+f.length(i)},0)},m.prototype.slice=function(o,i){o=o||0,typeof i!="number"&&(i=1/0);for(var e=[],r=f.iterator(this.ops),n=0;n<i&&r.hasNext();){var c;n<o?c=r.next(o-n):(c=r.next(i-n),e.push(c)),n+=f.length(c)}return new m(e)},m.prototype.compose=function(o){var i=f.iterator(this.ops),e=f.iterator(o.ops),r=[],n=e.peek();if(n!=null&&typeof n.retain=="number"&&n.attributes==null){for(var c=n.retain;i.peekType()==="insert"&&i.peekLength()<=c;)c-=i.peekLength(),r.push(i.next());n.retain-c>0&&e.next(n.retain-c)}for(var t=new m(r);i.hasNext()||e.hasNext();)if(e.peekType()==="insert")t.push(e.next());else if(i.peekType()==="delete")t.push(i.next());else{var d=Math.min(i.peekLength(),e.peekLength()),y=i.next(d),E=e.next(d);if(typeof E.retain=="number"){var T={};typeof y.retain=="number"?T.retain=d:T.insert=y.insert;var A=f.attributes.compose(y.attributes,E.attributes,typeof y.retain=="number");if(A&&(T.attributes=A),t.push(T),!e.hasNext()&&h(t.ops[t.ops.length-1],T)){var P=new m(i.rest());return t.concat(P).chop()}}else typeof E.delete=="number"&&typeof y.retain=="number"&&t.push(E)}return t.chop()},m.prototype.concat=function(o){var i=new m(this.ops.slice());return o.ops.length>0&&(i.push(o.ops[0]),i.ops=i.ops.concat(o.ops.slice(1))),i},m.prototype.diff=function(o,i){if(this.ops===o.ops)return new m;var e=[this,o].map(function(d){return d.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:w;throw new Error("diff() called "+(d===o?"on":"with")+" non-document")}).join("")}),r=new m,n=_(e[0],e[1],i),c=f.iterator(this.ops),t=f.iterator(o.ops);return n.forEach(function(d){for(var y=d[1].length;y>0;){var E=0;switch(d[0]){case _.INSERT:E=Math.min(t.peekLength(),y),r.push(t.next(E));break;case _.DELETE:E=Math.min(y,c.peekLength()),c.next(E),r.delete(E);break;case _.EQUAL:E=Math.min(c.peekLength(),t.peekLength(),y);var T=c.next(E),A=t.next(E);h(T.insert,A.insert)?r.retain(E,f.attributes.diff(T.attributes,A.attributes)):r.push(A).delete(E)}y-=E}}),r.chop()},m.prototype.eachLine=function(o,i){i=i||`
`;for(var e=f.iterator(this.ops),r=new m,n=0;e.hasNext();){if(e.peekType()!=="insert")return;var c=e.peek(),t=f.length(c)-e.peekLength(),d=typeof c.insert=="string"?c.insert.indexOf(i,t)-t:-1;if(d<0)r.push(e.next());else if(d>0)r.push(e.next(d));else{if(o(r,e.next(1).attributes||{},n)===!1)return;n+=1,r=new m}}r.length()>0&&o(r,{},n)},m.prototype.transform=function(o,i){if(i=!!i,typeof o=="number")return this.transformPosition(o,i);for(var e=f.iterator(this.ops),r=f.iterator(o.ops),n=new m;e.hasNext()||r.hasNext();)if(e.peekType()!=="insert"||!i&&r.peekType()==="insert")if(r.peekType()==="insert")n.push(r.next());else{var c=Math.min(e.peekLength(),r.peekLength()),t=e.next(c),d=r.next(c);if(t.delete)continue;d.delete?n.push(d):n.retain(c,f.attributes.transform(t.attributes,d.attributes,i))}else n.retain(f.length(e.next()));return n.chop()},m.prototype.transformPosition=function(o,i){i=!!i;for(var e=f.iterator(this.ops),r=0;e.hasNext()&&r<=o;){var n=e.peekLength(),c=e.peekType();e.next(),c!=="delete"?(c==="insert"&&(r<o||!i)&&(o+=n),r+=n):o-=Math.min(n,o-r)}return o},ne.exports=m},4644:function(ne,D,C){var _=C(251),h=C(4470),p={attributes:{compose:function(m,o,i){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var e=h(!0,{},o);for(var r in i||(e=Object.keys(e).reduce(function(n,c){return e[c]!=null&&(n[c]=e[c]),n},{})),m)m[r]!==void 0&&o[r]===void 0&&(e[r]=m[r]);return Object.keys(e).length>0?e:void 0},diff:function(m,o){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var i=Object.keys(m).concat(Object.keys(o)).reduce(function(e,r){return _(m[r],o[r])||(e[r]=o[r]===void 0?null:o[r]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(m,o,i){if(typeof m!="object")return o;if(typeof o=="object"){if(!i)return o;var e=Object.keys(o).reduce(function(r,n){return m[n]===void 0&&(r[n]=o[n]),r},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(m){return new f(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function f(w){this.ops=w,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(w){w||(w=1/0);var m=this.ops[this.index];if(m){var o=this.offset,i=p.length(m);if(w>=i-o?(w=i-o,this.index+=1,this.offset=0):this.offset+=w,typeof m.delete=="number")return{delete:w};var e={};return m.attributes&&(e.attributes=m.attributes),typeof m.retain=="number"?e.retain=w:typeof m.insert=="string"?e.insert=m.insert.substr(o,w):e.insert=m.insert,e}return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?p.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var w=this.offset,m=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=w,this.index=m,[o].concat(i)}return[]},ne.exports=p},6095:function(ne){var D;D=function(){return function(_){var h={};function p(f){if(h[f])return h[f].exports;var w=h[f]={i:f,l:!1,exports:{}};return _[f].call(w.exports,w,w.exports,p),w.l=!0,w.exports}return p.m=_,p.c=h,p.d=function(f,w,m){p.o(f,w)||Object.defineProperty(f,w,{configurable:!1,enumerable:!0,get:m})},p.n=function(f){var w=f&&f.__esModule?function(){return f.default}:function(){return f};return p.d(w,"a",w),w},p.o=function(f,w){return Object.prototype.hasOwnProperty.call(f,w)},p.p="",p(p.s=109)}([function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(17),w=p(18),m=p(19),o=p(45),i=p(46),e=p(47),r=p(48),n=p(49),c=p(12),t=p(32),d=p(33),y=p(31),E=p(1),T={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:f.default,Format:w.default,Leaf:m.default,Embed:r.default,Scroll:o.default,Block:e.default,Inline:i.default,Text:n.default,Attributor:{Attribute:c.default,Class:t.default,Style:d.default,Store:y.default}};h.default=T},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,d){t.__proto__=d}||function(t,d){for(var y in d)d.hasOwnProperty(y)&&(t[y]=d[y])},function(t,d){function y(){this.constructor=t}f(t,d),t.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)});Object.defineProperty(h,"__esModule",{value:!0});var m=function(t){function d(y){var E=this;return y="[Parchment] "+y,(E=t.call(this,y)||this).message=y,E.name=E.constructor.name,E}return w(d,t),d}(Error);h.ParchmentError=m;var o,i={},e={},r={},n={};function c(t,d){var y;if(d===void 0&&(d=o.ANY),typeof t=="string")y=n[t]||i[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)y=n.text;else if(typeof t=="number")t&o.LEVEL&o.BLOCK?y=n.block:t&o.LEVEL&o.INLINE&&(y=n.inline);else if(t instanceof HTMLElement){var E=(t.getAttribute("class")||"").split(/\s+/);for(var T in E)if(y=e[E[T]])break;y=y||r[t.tagName]}return y==null?null:d&o.LEVEL&y.scope&&d&o.TYPE&y.scope?y:null}h.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(o=h.Scope||(h.Scope={})),h.create=function(t,d){var y=c(t);if(y==null)throw new m("Unable to create "+t+" blot");var E=y,T=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:E.create(d);return new E(T,d)},h.find=function t(d,y){return y===void 0&&(y=!1),d==null?null:d[h.DATA_KEY]!=null?d[h.DATA_KEY].blot:y?t(d.parentNode,y):null},h.query=c,h.register=function t(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];if(d.length>1)return d.map(function(A){return t(A)});var E=d[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new m("Invalid definition");if(E.blotName==="abstract")throw new m("Cannot register abstract class");if(n[E.blotName||E.attrName]=E,typeof E.keyName=="string")i[E.keyName]=E;else if(E.className!=null&&(e[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(A){return A.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var T=Array.isArray(E.tagName)?E.tagName:[E.tagName];T.forEach(function(A){r[A]!=null&&E.className!=null||(r[A]=E)})}return E}},function(_,h,p){var f=p(51),w=p(11),m=p(3),o=p(20),i=String.fromCharCode(0),e=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};e.prototype.insert=function(r,n){var c={};return r.length===0?this:(c.insert=r,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(c.attributes=n),this.push(c))},e.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},e.prototype.retain=function(r,n){if(r<=0)return this;var c={retain:r};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(c.attributes=n),this.push(c)},e.prototype.push=function(r){var n=this.ops.length,c=this.ops[n-1];if(r=m(!0,{},r),typeof c=="object"){if(typeof r.delete=="number"&&typeof c.delete=="number")return this.ops[n-1]={delete:c.delete+r.delete},this;if(typeof c.delete=="number"&&r.insert!=null&&(n-=1,typeof(c=this.ops[n-1])!="object"))return this.ops.unshift(r),this;if(w(r.attributes,c.attributes)){if(typeof r.insert=="string"&&typeof c.insert=="string")return this.ops[n-1]={insert:c.insert+r.insert},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof c.retain=="number")return this.ops[n-1]={retain:c.retain+r.retain},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this}}return n===this.ops.length?this.ops.push(r):this.ops.splice(n,0,r),this},e.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},e.prototype.filter=function(r){return this.ops.filter(r)},e.prototype.forEach=function(r){this.ops.forEach(r)},e.prototype.map=function(r){return this.ops.map(r)},e.prototype.partition=function(r){var n=[],c=[];return this.forEach(function(t){(r(t)?n:c).push(t)}),[n,c]},e.prototype.reduce=function(r,n){return this.ops.reduce(r,n)},e.prototype.changeLength=function(){return this.reduce(function(r,n){return n.insert?r+o.length(n):n.delete?r-n.delete:r},0)},e.prototype.length=function(){return this.reduce(function(r,n){return r+o.length(n)},0)},e.prototype.slice=function(r,n){r=r||0,typeof n!="number"&&(n=1/0);for(var c=[],t=o.iterator(this.ops),d=0;d<n&&t.hasNext();){var y;d<r?y=t.next(r-d):(y=t.next(n-d),c.push(y)),d+=o.length(y)}return new e(c)},e.prototype.compose=function(r){var n=o.iterator(this.ops),c=o.iterator(r.ops),t=[],d=c.peek();if(d!=null&&typeof d.retain=="number"&&d.attributes==null){for(var y=d.retain;n.peekType()==="insert"&&n.peekLength()<=y;)y-=n.peekLength(),t.push(n.next());d.retain-y>0&&c.next(d.retain-y)}for(var E=new e(t);n.hasNext()||c.hasNext();)if(c.peekType()==="insert")E.push(c.next());else if(n.peekType()==="delete")E.push(n.next());else{var T=Math.min(n.peekLength(),c.peekLength()),A=n.next(T),P=c.next(T);if(typeof P.retain=="number"){var O={};typeof A.retain=="number"?O.retain=T:O.insert=A.insert;var N=o.attributes.compose(A.attributes,P.attributes,typeof A.retain=="number");if(N&&(O.attributes=N),E.push(O),!c.hasNext()&&w(E.ops[E.ops.length-1],O)){var H=new e(n.rest());return E.concat(H).chop()}}else typeof P.delete=="number"&&typeof A.retain=="number"&&E.push(P)}return E.chop()},e.prototype.concat=function(r){var n=new e(this.ops.slice());return r.ops.length>0&&(n.push(r.ops[0]),n.ops=n.ops.concat(r.ops.slice(1))),n},e.prototype.diff=function(r,n){if(this.ops===r.ops)return new e;var c=[this,r].map(function(T){return T.map(function(A){if(A.insert!=null)return typeof A.insert=="string"?A.insert:i;throw new Error("diff() called "+(T===r?"on":"with")+" non-document")}).join("")}),t=new e,d=f(c[0],c[1],n),y=o.iterator(this.ops),E=o.iterator(r.ops);return d.forEach(function(T){for(var A=T[1].length;A>0;){var P=0;switch(T[0]){case f.INSERT:P=Math.min(E.peekLength(),A),t.push(E.next(P));break;case f.DELETE:P=Math.min(A,y.peekLength()),y.next(P),t.delete(P);break;case f.EQUAL:P=Math.min(y.peekLength(),E.peekLength(),A);var O=y.next(P),N=E.next(P);w(O.insert,N.insert)?t.retain(P,o.attributes.diff(O.attributes,N.attributes)):t.push(N).delete(P)}A-=P}}),t.chop()},e.prototype.eachLine=function(r,n){n=n||`
`;for(var c=o.iterator(this.ops),t=new e,d=0;c.hasNext();){if(c.peekType()!=="insert")return;var y=c.peek(),E=o.length(y)-c.peekLength(),T=typeof y.insert=="string"?y.insert.indexOf(n,E)-E:-1;if(T<0)t.push(c.next());else if(T>0)t.push(c.next(T));else{if(r(t,c.next(1).attributes||{},d)===!1)return;d+=1,t=new e}}t.length()>0&&r(t,{},d)},e.prototype.transform=function(r,n){if(n=!!n,typeof r=="number")return this.transformPosition(r,n);for(var c=o.iterator(this.ops),t=o.iterator(r.ops),d=new e;c.hasNext()||t.hasNext();)if(c.peekType()!=="insert"||!n&&t.peekType()==="insert")if(t.peekType()==="insert")d.push(t.next());else{var y=Math.min(c.peekLength(),t.peekLength()),E=c.next(y),T=t.next(y);if(E.delete)continue;T.delete?d.push(T):d.retain(y,o.attributes.transform(E.attributes,T.attributes,n))}else d.retain(o.length(c.next()));return d.chop()},e.prototype.transformPosition=function(r,n){n=!!n;for(var c=o.iterator(this.ops),t=0;c.hasNext()&&t<=r;){var d=c.peekLength(),y=c.peekType();c.next(),y!=="delete"?(y==="insert"&&(t<r||!n)&&(r+=d),t+=d):r-=Math.min(d,r-t)}return r},_.exports=e},function(_,h){"use strict";var p=Object.prototype.hasOwnProperty,f=Object.prototype.toString,w=Object.defineProperty,m=Object.getOwnPropertyDescriptor,o=function(c){return typeof Array.isArray=="function"?Array.isArray(c):f.call(c)==="[object Array]"},i=function(c){if(!c||f.call(c)!=="[object Object]")return!1;var t,d=p.call(c,"constructor"),y=c.constructor&&c.constructor.prototype&&p.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!y)return!1;for(t in c);return t===void 0||p.call(c,t)},e=function(c,t){w&&t.name==="__proto__"?w(c,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):c[t.name]=t.newValue},r=function(c,t){if(t==="__proto__"){if(!p.call(c,t))return;if(m)return m(c,t).value}return c[t]};_.exports=function n(){var c,t,d,y,E,T,A=arguments[0],P=1,O=arguments.length,N=!1;for(typeof A=="boolean"&&(N=A,A=arguments[1]||{},P=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});P<O;++P)if((c=arguments[P])!=null)for(t in c)d=r(A,t),A!==(y=r(c,t))&&(N&&y&&(i(y)||(E=o(y)))?(E?(E=!1,T=d&&o(d)?d:[]):T=d&&i(d)?d:{},e(A,{name:t,newValue:n(N,T,y)})):y!==void 0&&e(A,{name:t,newValue:y}));return A}},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BlockEmbed=h.bubbleFormats=void 0;var f=function(){function P(O,N){for(var H=0;H<N.length;H++){var M=N[H];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,N,H){return N&&P(O.prototype,N),H&&P(O,H),O}}(),w=function P(O,N,H){O===null&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,N);if(M===void 0){var Z=Object.getPrototypeOf(O);return Z===null?void 0:P(Z,N,H)}if("value"in M)return M.value;var B=M.get;return B!==void 0?B.call(H):void 0},m=c(p(3)),o=c(p(2)),i=c(p(0)),e=c(p(16)),r=c(p(6)),n=c(p(7));function c(P){return P&&P.__esModule?P:{default:P}}function t(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function d(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?P:O}function y(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}var E=function(P){function O(){return t(this,O),d(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return y(O,P),f(O,[{key:"attach",value:function(){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new o.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,M){var Z=i.default.query(H,i.default.Scope.BLOCK_ATTRIBUTE);Z!=null&&this.attributes.attribute(Z,M)}},{key:"formatAt",value:function(H,M,Z,B){this.format(Z,B)}},{key:"insertAt",value:function(H,M,Z){if(typeof M=="string"&&M.endsWith(`
`)){var B=i.default.create(T.blotName);this.parent.insertBefore(B,H===0?this:this.next),B.insertAt(0,M.slice(0,-1))}else w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,H,M,Z)}}]),O}(i.default.Embed);E.scope=i.default.Scope.BLOCK_BLOT;var T=function(P){function O(N){t(this,O);var H=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N));return H.cache={},H}return y(O,P),f(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(H,M){return M.length()===0?H:H.insert(M.value(),A(M))},new o.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(H,M){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,H,M),this.cache={}}},{key:"formatAt",value:function(H,M,Z,B){M<=0||(i.default.query(Z,i.default.Scope.BLOCK)?H+M===this.length()&&this.format(Z,B):w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,H,Math.min(M,this.length()-H-1),Z,B),this.cache={})}},{key:"insertAt",value:function(H,M,Z){if(Z!=null)return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,H,M,Z);if(M.length!==0){var B=M.split(`
`),te=B.shift();te.length>0&&(H<this.length()-1||this.children.tail==null?w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),te):this.children.tail.insertAt(this.children.tail.length(),te),this.cache={});var ee=this;B.reduce(function(V,$){return(ee=ee.split(V,!0)).insertAt(0,$),$.length},H+te.length)}}},{key:"insertBefore",value:function(H,M){var Z=this.children.head;w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,H,M),Z instanceof e.default&&Z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(H,M){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,H,M),this.cache={}}},{key:"optimize",value:function(H){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var M=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(M&&(H===0||H>=this.length()-1)){var Z=this.clone();return H===0?(this.parent.insertBefore(Z,this),this):(this.parent.insertBefore(Z,this.next),Z)}var B=w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,H,M);return this.cache={},B}}]),O}(i.default.Block);function A(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null?O:(typeof P.formats=="function"&&(O=(0,m.default)(O,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope?O:A(P.parent,O))}T.blotName="block",T.tagName="P",T.defaultChild="break",T.allowedChildren=[r.default,i.default.Embed,n.default],h.bubbleFormats=A,h.BlockEmbed=E,h.default=T},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.overload=h.expandConfig=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},w=function(ee,V){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return function($,F){var G=[],q=!0,L=!1,J=void 0;try{for(var ce,se=$[Symbol.iterator]();!(q=(ce=se.next()).done)&&(G.push(ce.value),!F||G.length!==F);q=!0);}catch(ve){L=!0,J=ve}finally{try{!q&&se.return&&se.return()}finally{if(L)throw J}}return G}(ee,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function te(ee,V){for(var $=0;$<V.length;$++){var F=V[$];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(ee,F.key,F)}}return function(ee,V,$){return V&&te(ee.prototype,V),$&&te(ee,$),ee}}();p(50);var o=T(p(2)),i=T(p(14)),e=T(p(8)),r=T(p(9)),n=T(p(0)),c=p(15),t=T(c),d=T(p(3)),y=T(p(10)),E=T(p(34));function T(te){return te&&te.__esModule?te:{default:te}}function A(te,ee,V){return ee in te?Object.defineProperty(te,ee,{value:V,enumerable:!0,configurable:!0,writable:!0}):te[ee]=V,te}function P(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}var O=(0,y.default)("quill"),N=function(){function te(ee){var V=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,te),this.options=H(ee,$),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",ee);this.options.debug&&te.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new e.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new t.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(e.default.events.EDITOR_CHANGE,function(q){q===e.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(e.default.events.SCROLL_UPDATE,function(q,L){var J=V.selection.lastRange,ce=J&&J.length===0?J.index:void 0;M.call(V,function(){return V.editor.update(null,L,ce)},q)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return m(te,null,[{key:"debug",value:function(V){V===!0&&(V="log"),y.default.level(V)}},{key:"find",value:function(V){return V.__quill||n.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&O.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,$){var F=this,G=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof V!="string"){var q=V.attrName||V.blotName;typeof q=="string"?this.register("formats/"+q,V,$):Object.keys(V).forEach(function(L){F.register(L,V[L],$)})}else this.imports[V]==null||G||O.warn("Overwriting "+V+" with",$),this.imports[V]=$,(V.startsWith("blots/")||V.startsWith("formats/"))&&$.blotName!=="abstract"?n.default.register($):V.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]),m(te,[{key:"addContainer",value:function(V){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var F=V;(V=document.createElement("div")).classList.add(F)}return this.container.insertBefore(V,$),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,$,F){var G=this,q=Z(V,$,F),L=w(q,4);return V=L[0],$=L[1],F=L[3],M.call(this,function(){return G.editor.deleteText(V,$)},F,V,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,$){var F=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;return M.call(this,function(){var q=F.getSelection(!0),L=new o.default;if(q==null)return L;if(n.default.query(V,n.default.Scope.BLOCK))L=F.editor.formatLine(q.index,q.length,A({},V,$));else{if(q.length===0)return F.selection.format(V,$),L;L=F.editor.formatText(q.index,q.length,A({},V,$))}return F.setSelection(q,e.default.sources.SILENT),L},G)}},{key:"formatLine",value:function(V,$,F,G,q){var L,J=this,ce=Z(V,$,F,G,q),se=w(ce,4);return V=se[0],$=se[1],L=se[2],q=se[3],M.call(this,function(){return J.editor.formatLine(V,$,L)},q,V,0)}},{key:"formatText",value:function(V,$,F,G,q){var L,J=this,ce=Z(V,$,F,G,q),se=w(ce,4);return V=se[0],$=se[1],L=se[2],q=se[3],M.call(this,function(){return J.editor.formatText(V,$,L)},q,V,0)}},{key:"getBounds",value:function(V){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;F=typeof V=="number"?this.selection.getBounds(V,$):this.selection.getBounds(V.index,V.length);var G=this.container.getBoundingClientRect();return{bottom:F.bottom-G.top,height:F.height,left:F.left-G.left,right:F.right-G.left,top:F.top-G.top,width:F.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,F=Z(V,$),G=w(F,2);return V=G[0],$=G[1],this.editor.getContents(V,$)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,$):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,$)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,F=Z(V,$),G=w(F,2);return V=G[0],$=G[1],this.editor.getText(V,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,$,F){var G=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:te.sources.API;return M.call(this,function(){return G.editor.insertEmbed(V,$,F)},q,V)}},{key:"insertText",value:function(V,$,F,G,q){var L,J=this,ce=Z(V,0,F,G,q),se=w(ce,4);return V=se[0],L=se[2],q=se[3],M.call(this,function(){return J.editor.insertText(V,$,L)},q,V,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,$,F){this.clipboard.dangerouslyPasteHTML(V,$,F)}},{key:"removeFormat",value:function(V,$,F){var G=this,q=Z(V,$,F),L=w(q,4);return V=L[0],$=L[1],F=L[3],M.call(this,function(){return G.editor.removeFormat(V,$)},F,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var $=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return M.call(this,function(){V=new o.default(V);var G=$.getLength(),q=$.editor.deleteText(0,G),L=$.editor.applyDelta(V),J=L.ops[L.ops.length-1];return J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),L.delete(1)),q.compose(L)},F)}},{key:"setSelection",value:function(V,$,F){if(V==null)this.selection.setRange(null,$||te.sources.API);else{var G=Z(V,$,F),q=w(G,4);V=q[0],$=q[1],F=q[3],this.selection.setRange(new c.Range(V,$),F),F!==e.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API,F=new o.default().insert(V);return this.setContents(F,$)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,$=this.scroll.update(V);return this.selection.update(V),$}},{key:"updateContents",value:function(V){var $=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return M.call(this,function(){return V=new o.default(V),$.editor.applyDelta(V,F)},F,!0)}}]),te}();function H(te,ee){if((ee=(0,d.default)(!0,{container:te,modules:{clipboard:!0,keyboard:!0,history:!0}},ee)).theme&&ee.theme!==N.DEFAULTS.theme){if(ee.theme=N.import("themes/"+ee.theme),ee.theme==null)throw new Error("Invalid theme "+ee.theme+". Did you register it?")}else ee.theme=E.default;var V=(0,d.default)(!0,{},ee.theme.DEFAULTS);[V,ee].forEach(function(F){F.modules=F.modules||{},Object.keys(F.modules).forEach(function(G){F.modules[G]===!0&&(F.modules[G]={})})});var $=Object.keys(V.modules).concat(Object.keys(ee.modules)).reduce(function(F,G){var q=N.import("modules/"+G);return q==null?O.error("Cannot load "+G+" module. Are you sure you registered it?"):F[G]=q.DEFAULTS||{},F},{});return ee.modules!=null&&ee.modules.toolbar&&ee.modules.toolbar.constructor!==Object&&(ee.modules.toolbar={container:ee.modules.toolbar}),ee=(0,d.default)(!0,{},N.DEFAULTS,{modules:$},V,ee),["bounds","container","scrollingContainer"].forEach(function(F){typeof ee[F]=="string"&&(ee[F]=document.querySelector(ee[F]))}),ee.modules=Object.keys(ee.modules).reduce(function(F,G){return ee.modules[G]&&(F[G]=ee.modules[G]),F},{}),ee}function M(te,ee,V,$){if(this.options.strict&&!this.isEnabled()&&ee===e.default.sources.USER)return new o.default;var F=V==null?null:this.getSelection(),G=this.editor.delta,q=te();if(F!=null&&(V===!0&&(V=F.index),$==null?F=B(F,q,ee):$!==0&&(F=B(F,V,$,ee)),this.setSelection(F,e.default.sources.SILENT)),q.length()>0){var L,J,ce=[e.default.events.TEXT_CHANGE,q,G,ee];(L=this.emitter).emit.apply(L,[e.default.events.EDITOR_CHANGE].concat(ce)),ee!==e.default.sources.SILENT&&(J=this.emitter).emit.apply(J,ce)}return q}function Z(te,ee,V,$,F){var G={};return typeof te.index=="number"&&typeof te.length=="number"?typeof ee!="number"?(F=$,$=V,V=ee,ee=te.length,te=te.index):(ee=te.length,te=te.index):typeof ee!="number"&&(F=$,$=V,V=ee,ee=0),(V===void 0?"undefined":f(V))==="object"?(G=V,F=$):typeof V=="string"&&($!=null?G[V]=$:F=V),[te,ee,G,F=F||e.default.sources.API]}function B(te,ee,V,$){if(te==null)return null;var F=void 0,G=void 0;if(ee instanceof o.default){var q=[te.index,te.index+te.length].map(function(se){return ee.transformPosition(se,$!==e.default.sources.USER)}),L=w(q,2);F=L[0],G=L[1]}else{var J=[te.index,te.index+te.length].map(function(se){return se<ee||se===ee&&$===e.default.sources.USER?se:V>=0?se+V:Math.max(ee,se+V)}),ce=w(J,2);F=ce[0],G=ce[1]}return new c.Range(F,G-F)}N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=e.default.events,N.sources=e.default.sources,N.version="1.3.7",N.imports={delta:o.default,parchment:n.default,"core/module":r.default,"core/theme":E.default},h.expandConfig=H,h.overload=Z,h.default=N},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function c(t,d){for(var y=0;y<d.length;y++){var E=d[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(t,E.key,E)}}return function(t,d,y){return d&&c(t.prototype,d),y&&c(t,y),t}}(),w=function c(t,d,y){t===null&&(t=Function.prototype);var E=Object.getOwnPropertyDescriptor(t,d);if(E===void 0){var T=Object.getPrototypeOf(t);return T===null?void 0:c(T,d,y)}if("value"in E)return E.value;var A=E.get;return A!==void 0?A.call(y):void 0},m=i(p(7)),o=i(p(0));function i(c){return c&&c.__esModule?c:{default:c}}function e(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}function r(c,t){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?c:t}var n=function(c){function t(){return e(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(t,c),f(t,[{key:"formatAt",value:function(y,E,T,A){if(t.compare(this.statics.blotName,T)<0&&o.default.query(T,o.default.Scope.BLOT)){var P=this.isolate(y,E);A&&P.wrap(T,A)}else w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,y,E,T,A)}},{key:"optimize",value:function(y){if(w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,y),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(y,E){var T=t.order.indexOf(y),A=t.order.indexOf(E);return T>=0||A>=0?T-A:y===E?0:y<E?-1:1}}]),t}(o.default.Inline);n.allowedChildren=[n,o.default.Embed,m.default],n.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],h.default=n},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(0))&&f.__esModule?f:{default:f}).default.Text);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),w=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var y=Object.getPrototypeOf(n);return y===null?void 0:r(y,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0},m=o(p(54));function o(r){return r&&r.__esModule?r:{default:r}}var i=(0,o(p(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(r){document.addEventListener(r,function(){for(var n=arguments.length,c=Array(n),t=0;t<n;t++)c[t]=arguments[t];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(d){var y;d.__quill&&d.__quill.emitter&&(y=d.__quill.emitter).handleDOM.apply(y,c)})})});var e=function(r){function n(){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,n);var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return c.listeners={},c.on("error",i.error),c}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),f(n,[{key:"emit",value:function(){i.log.apply(i,arguments),w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var d=arguments.length,y=Array(d>1?d-1:0),E=1;E<d;E++)y[E-1]=arguments[E];(this.listeners[t.type]||[]).forEach(function(T){var A=T.node,P=T.handler;(t.target===A||A.contains(t.target))&&P.apply(void 0,[t].concat(y))})}},{key:"listenDOM",value:function(t,d,y){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:d,handler:y})}}]),n}(m.default);e.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},e.sources={API:"api",SILENT:"silent",USER:"user"},h.default=e},function(_,h,p){"use strict";function f(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var w=function m(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f(this,m),this.quill=o,this.options=i};w.DEFAULTS={},h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=["error","warn","log","info"],w="warn";function m(i){if(f.indexOf(i)<=f.indexOf(w)){for(var e,r=arguments.length,n=Array(r>1?r-1:0),c=1;c<r;c++)n[c-1]=arguments[c];(e=console)[i].apply(e,n)}}function o(i){return f.reduce(function(e,r){return e[r]=m.bind(console,r,i),e},{})}m.level=o.level=function(i){w=i},h.default=o},function(_,h,p){var f=Array.prototype.slice,w=p(52),m=p(53),o=_.exports=function(r,n,c){return c||(c={}),r===n||(r instanceof Date&&n instanceof Date?r.getTime()===n.getTime():!r||!n||typeof r!="object"&&typeof n!="object"?c.strict?r===n:r==n:function(t,d,y){var E,T;if(i(t)||i(d)||t.prototype!==d.prototype)return!1;if(m(t))return!!m(d)&&(t=f.call(t),d=f.call(d),o(t,d,y));if(e(t)){if(!e(d)||t.length!==d.length)return!1;for(E=0;E<t.length;E++)if(t[E]!==d[E])return!1;return!0}try{var A=w(t),P=w(d)}catch(O){return!1}if(A.length!=P.length)return!1;for(A.sort(),P.sort(),E=A.length-1;E>=0;E--)if(A[E]!=P[E])return!1;for(E=A.length-1;E>=0;E--)if(T=A[E],!o(t[T],d[T],y))return!1;return typeof t==typeof d}(r,n,c))};function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(1),w=function(){function m(o,i,e){e===void 0&&(e={}),this.attrName=o,this.keyName=i;var r=f.Scope.TYPE&f.Scope.ATTRIBUTE;e.scope!=null?this.scope=e.scope&f.Scope.LEVEL|r:this.scope=f.Scope.ATTRIBUTE,e.whitelist!=null&&(this.whitelist=e.whitelist)}return m.keys=function(o){return[].map.call(o.attributes,function(i){return i.name})},m.prototype.add=function(o,i){return!!this.canAdd(o,i)&&(o.setAttribute(this.keyName,i),!0)},m.prototype.canAdd=function(o,i){return f.query(o,f.Scope.BLOT&(this.scope|f.Scope.TYPE))!=null&&(this.whitelist==null||(typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1))},m.prototype.remove=function(o){o.removeAttribute(this.keyName)},m.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},m}();h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.Code=void 0;var f=function(P,O){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(N,H){var M=[],Z=!0,B=!1,te=void 0;try{for(var ee,V=N[Symbol.iterator]();!(Z=(ee=V.next()).done)&&(M.push(ee.value),!H||M.length!==H);Z=!0);}catch($){B=!0,te=$}finally{try{!Z&&V.return&&V.return()}finally{if(B)throw te}}return M}(P,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(P,O){for(var N=0;N<O.length;N++){var H=O[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,H.key,H)}}return function(P,O,N){return O&&A(P.prototype,O),N&&A(P,N),P}}(),m=function A(P,O,N){P===null&&(P=Function.prototype);var H=Object.getOwnPropertyDescriptor(P,O);if(H===void 0){var M=Object.getPrototypeOf(P);return M===null?void 0:A(M,O,N)}if("value"in H)return H.value;var Z=H.get;return Z!==void 0?Z.call(N):void 0},o=c(p(2)),i=c(p(0)),e=c(p(4)),r=c(p(6)),n=c(p(7));function c(A){return A&&A.__esModule?A:{default:A}}function t(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function d(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?A:P}function y(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var E=function(A){function P(){return t(this,P),d(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return y(P,A),P}(r.default);E.blotName="code",E.tagName="CODE";var T=function(A){function P(){return t(this,P),d(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return y(P,A),w(P,[{key:"delta",value:function(){var N=this,H=this.domNode.textContent;return H.endsWith(`
`)&&(H=H.slice(0,-1)),H.split(`
`).reduce(function(M,Z){return M.insert(Z).insert(`
`,N.formats())},new o.default)}},{key:"format",value:function(N,H){if(N!==this.statics.blotName||!H){var M=this.descendant(n.default,this.length()-1),Z=f(M,1)[0];Z!=null&&Z.deleteAt(Z.length()-1,1),m(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,N,H)}}},{key:"formatAt",value:function(N,H,M,Z){if(H!==0&&i.default.query(M,i.default.Scope.BLOCK)!=null&&(M!==this.statics.blotName||Z!==this.statics.formats(this.domNode))){var B=this.newlineIndex(N);if(!(B<0||B>=N+H)){var te=this.newlineIndex(N,!0)+1,ee=B-te+1,V=this.isolate(te,ee),$=V.next;V.format(M,Z),$ instanceof P&&$.formatAt(0,N-te+H-ee,M,Z)}}}},{key:"insertAt",value:function(N,H,M){if(M==null){var Z=this.descendant(n.default,N),B=f(Z,2),te=B[0],ee=B[1];te.insertAt(ee,H)}}},{key:"length",value:function(){var N=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?N:N+1}},{key:"newlineIndex",value:function(N){var H=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(H)return this.domNode.textContent.slice(0,N).lastIndexOf(`
`);var M=this.domNode.textContent.slice(N).indexOf(`
`);return M>-1?N+M:-1}},{key:"optimize",value:function(N){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),m(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,N);var H=this.next;H!=null&&H.prev===this&&H.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===H.statics.formats(H.domNode)&&(H.optimize(N),H.moveChildren(this),H.remove())}},{key:"replace",value:function(N){m(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,N),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(H){var M=i.default.find(H);M==null?H.parentNode.removeChild(H):M instanceof i.default.Embed?M.remove():M.unwrap()})}}],[{key:"create",value:function(N){var H=m(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,N);return H.setAttribute("spellcheck",!1),H}},{key:"formats",value:function(){return!0}}]),P}(e.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",h.Code=E,h.default=T},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},w=function(M,Z){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(B,te){var ee=[],V=!0,$=!1,F=void 0;try{for(var G,q=B[Symbol.iterator]();!(V=(G=q.next()).done)&&(ee.push(G.value),!te||ee.length!==te);V=!0);}catch(L){$=!0,F=L}finally{try{!V&&q.return&&q.return()}finally{if($)throw F}}return ee}(M,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function H(M,Z){for(var B=0;B<Z.length;B++){var te=Z[B];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(M,te.key,te)}}return function(M,Z,B){return Z&&H(M.prototype,Z),B&&H(M,B),M}}(),o=A(p(2)),i=A(p(20)),e=A(p(0)),r=A(p(13)),n=A(p(24)),c=p(4),t=A(c),d=A(p(16)),y=A(p(21)),E=A(p(11)),T=A(p(3));function A(H){return H&&H.__esModule?H:{default:H}}var P=/^[ -~]*$/,O=function(){function H(M){(function(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")})(this,H),this.scroll=M,this.delta=this.getDelta()}return m(H,[{key:"applyDelta",value:function(Z){var B=this,te=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),(Z=function(V){return V.reduce(function($,F){if(F.insert===1){var G=(0,y.default)(F.attributes);return delete G.image,$.insert({image:F.attributes.image},G)}if(F.attributes==null||F.attributes.list!==!0&&F.attributes.bullet!==!0||((F=(0,y.default)(F)).attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var q=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(q,F.attributes)}return $.push(F)},new o.default)}(Z)).reduce(function(V,$){var F=$.retain||$.delete||$.insert.length||1,G=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var q=$.insert;q.endsWith(`
`)&&te&&(te=!1,q=q.slice(0,-1)),V>=ee&&!q.endsWith(`
`)&&(te=!0),B.scroll.insertAt(V,q);var L=B.scroll.line(V),J=w(L,2),ce=J[0],se=J[1],ve=(0,T.default)({},(0,c.bubbleFormats)(ce));if(ce instanceof t.default){var ie=ce.descendant(e.default.Leaf,se),oe=w(ie,1)[0];ve=(0,T.default)(ve,(0,c.bubbleFormats)(oe))}G=i.default.attributes.diff(ve,G)||{}}else if(f($.insert)==="object"){var pe=Object.keys($.insert)[0];if(pe==null)return V;B.scroll.insertAt(V,pe,$.insert[pe])}ee+=F}return Object.keys(G).forEach(function(be){B.scroll.formatAt(V,F,be,G[be])}),V+F},0),Z.reduce(function(V,$){return typeof $.delete=="number"?(B.scroll.deleteAt(V,$.delete),V):V+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(Z)}},{key:"deleteText",value:function(Z,B){return this.scroll.deleteAt(Z,B),this.update(new o.default().retain(Z).delete(B))}},{key:"formatLine",value:function(Z,B){var te=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(V){if(te.scroll.whitelist==null||te.scroll.whitelist[V]){var $=te.scroll.lines(Z,Math.max(B,1)),F=B;$.forEach(function(G){var q=G.length();if(G instanceof r.default){var L=Z-G.offset(te.scroll),J=G.newlineIndex(L+F)-L+1;G.formatAt(L,J,V,ee[V])}else G.format(V,ee[V]);F-=q})}}),this.scroll.optimize(),this.update(new o.default().retain(Z).retain(B,(0,y.default)(ee)))}},{key:"formatText",value:function(Z,B){var te=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(V){te.scroll.formatAt(Z,B,V,ee[V])}),this.update(new o.default().retain(Z).retain(B,(0,y.default)(ee)))}},{key:"getContents",value:function(Z,B){return this.delta.slice(Z,Z+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Z,B){return Z.concat(B.delta())},new o.default)}},{key:"getFormat",value:function(Z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,te=[],ee=[];B===0?this.scroll.path(Z).forEach(function($){var F=w($,1)[0];F instanceof t.default?te.push(F):F instanceof e.default.Leaf&&ee.push(F)}):(te=this.scroll.lines(Z,B),ee=this.scroll.descendants(e.default.Leaf,Z,B));var V=[te,ee].map(function($){if($.length===0)return{};for(var F=(0,c.bubbleFormats)($.shift());Object.keys(F).length>0;){var G=$.shift();if(G==null)return F;F=N((0,c.bubbleFormats)(G),F)}return F});return T.default.apply(T.default,V)}},{key:"getText",value:function(Z,B){return this.getContents(Z,B).filter(function(te){return typeof te.insert=="string"}).map(function(te){return te.insert}).join("")}},{key:"insertEmbed",value:function(Z,B,te){return this.scroll.insertAt(Z,B,te),this.update(new o.default().retain(Z).insert(function(ee,V,$){return V in ee?Object.defineProperty(ee,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):ee[V]=$,ee}({},B,te)))}},{key:"insertText",value:function(Z,B){var te=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Z,B),Object.keys(ee).forEach(function(V){te.scroll.formatAt(Z,B.length,V,ee[V])}),this.update(new o.default().retain(Z).insert(B,(0,y.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Z=this.scroll.children.head;return Z.statics.blotName===t.default.blotName&&!(Z.children.length>1)&&Z.children.head instanceof d.default}},{key:"removeFormat",value:function(Z,B){var te=this.getText(Z,B),ee=this.scroll.line(Z+B),V=w(ee,2),$=V[0],F=V[1],G=0,q=new o.default;$!=null&&(G=$ instanceof r.default?$.newlineIndex(F)-F+1:$.length()-F,q=$.delta().slice(F,F+G-1).insert(`
`));var L=this.getContents(Z,B+G).diff(new o.default().insert(te).concat(q)),J=new o.default().retain(Z).concat(L);return this.applyDelta(J)}},{key:"update",value:function(Z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(P)&&e.default.find(B[0].target)){var V=e.default.find(B[0].target),$=(0,c.bubbleFormats)(V),F=V.offset(this.scroll),G=B[0].oldValue.replace(n.default.CONTENTS,""),q=new o.default().insert(G),L=new o.default().insert(V.value()),J=new o.default().retain(F).concat(q.diff(L,te));Z=J.reduce(function(ce,se){return se.insert?ce.insert(se.insert,$):ce.push(se)},new o.default),this.delta=ee.compose(Z)}else this.delta=this.getDelta(),Z&&(0,E.default)(ee.compose(Z),this.delta)||(Z=ee.diff(this.delta,te));return Z}}]),H}();function N(H,M){return Object.keys(M).reduce(function(Z,B){return H[B]==null||(M[B]===H[B]?Z[B]=M[B]:Array.isArray(M[B])?M[B].indexOf(H[B])<0&&(Z[B]=M[B].concat([H[B]])):Z[B]=[M[B],H[B]]),Z},{})}h.default=O},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.Range=void 0;var f=function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function(O,N){var H=[],M=!0,Z=!1,B=void 0;try{for(var te,ee=O[Symbol.iterator]();!(M=(te=ee.next()).done)&&(H.push(te.value),!N||H.length!==N);M=!0);}catch(V){Z=!0,B=V}finally{try{!M&&ee.return&&ee.return()}finally{if(Z)throw B}}return H}(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function T(A,P){for(var O=0;O<P.length;O++){var N=P[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,P,O){return P&&T(A.prototype,P),O&&T(A,O),A}}(),m=r(p(0)),o=r(p(21)),i=r(p(11)),e=r(p(8));function r(T){return T&&T.__esModule?T:{default:T}}function n(T){if(Array.isArray(T)){for(var A=0,P=Array(T.length);A<T.length;A++)P[A]=T[A];return P}return Array.from(T)}function c(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}var t=(0,r(p(10)).default)("quill:selection"),d=function T(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;c(this,T),this.index=A,this.length=P},y=function(){function T(A,P){var O=this;c(this,T),this.emitter=P,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,e.default.sources.USER),1)}),this.emitter.on(e.default.events.EDITOR_CHANGE,function(N,H){N===e.default.events.TEXT_CHANGE&&H.length()>0&&O.update(e.default.sources.SILENT)}),this.emitter.on(e.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var N=O.getNativeRange();N!=null&&N.start.node!==O.cursor.textNode&&O.emitter.once(e.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch(H){}})}}),this.emitter.on(e.default.events.SCROLL_OPTIMIZE,function(N,H){if(H.range){var M=H.range,Z=M.startNode,B=M.startOffset,te=M.endNode,ee=M.endOffset;O.setNativeRange(Z,B,te,ee)}}),this.update(e.default.sources.SILENT)}return w(T,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var O=P.cursor.restore();if(!O)return;setTimeout(function(){P.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(e.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,O){if(this.scroll.whitelist==null||this.scroll.whitelist[P]){this.scroll.update();var N=this.getNativeRange();if(N!=null&&N.native.collapsed&&!m.default.query(P,m.default.Scope.BLOCK)){if(N.start.node!==this.cursor.textNode){var H=m.default.find(N.start.node,!1);if(H==null)return;if(H instanceof m.default.Leaf){var M=H.split(N.start.offset);H.parent.insertBefore(this.cursor,M)}else H.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(P,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();P=Math.min(P,N-1),O=Math.min(P+O,N-1)-P;var H=void 0,M=this.scroll.leaf(P),Z=f(M,2),B=Z[0],te=Z[1];if(B==null)return null;var ee=B.position(te,!0),V=f(ee,2);H=V[0],te=V[1];var $=document.createRange();if(O>0){$.setStart(H,te);var F=this.scroll.leaf(P+O),G=f(F,2);if(B=G[0],te=G[1],B==null)return null;var q=B.position(te,!0),L=f(q,2);return H=L[0],te=L[1],$.setEnd(H,te),$.getBoundingClientRect()}var J="left",ce=void 0;return H instanceof Text?(te<H.data.length?($.setStart(H,te),$.setEnd(H,te+1)):($.setStart(H,te-1),$.setEnd(H,te),J="right"),ce=$.getBoundingClientRect()):(ce=B.domNode.getBoundingClientRect(),te>0&&(J="right")),{bottom:ce.top+ce.height,height:ce.height,left:ce[J],right:ce[J],top:ce.top,width:0}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var O=P.getRangeAt(0);if(O==null)return null;var N=this.normalizeNative(O);return t.info("getNativeRange",N),N}},{key:"getRange",value:function(){var P=this.getNativeRange();return P==null?[null,null]:[this.normalizedToRange(P),P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var O=this,N=[[P.start.node,P.start.offset]];P.native.collapsed||N.push([P.end.node,P.end.offset]);var H=N.map(function(B){var te=f(B,2),ee=te[0],V=te[1],$=m.default.find(ee,!0),F=$.offset(O.scroll);return V===0?F:$ instanceof m.default.Container?F+$.length():F+$.index(ee,V)}),M=Math.min(Math.max.apply(Math,n(H)),this.scroll.length()-1),Z=Math.min.apply(Math,[M].concat(n(H)));return new d(Z,M-Z)}},{key:"normalizeNative",value:function(P){if(!E(this.root,P.startContainer)||!P.collapsed&&!E(this.root,P.endContainer))return null;var O={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[O.start,O.end].forEach(function(N){for(var H=N.node,M=N.offset;!(H instanceof Text)&&H.childNodes.length>0;)if(H.childNodes.length>M)H=H.childNodes[M],M=0;else{if(H.childNodes.length!==M)break;M=(H=H.lastChild)instanceof Text?H.data.length:H.childNodes.length+1}N.node=H,N.offset=M}),O}},{key:"rangeToNative",value:function(P){var O=this,N=P.collapsed?[P.index]:[P.index,P.index+P.length],H=[],M=this.scroll.length();return N.forEach(function(Z,B){Z=Math.min(M-1,Z);var te,ee=O.scroll.leaf(Z),V=f(ee,2),$=V[0],F=V[1],G=$.position(F,B!==0),q=f(G,2);te=q[0],F=q[1],H.push(te,F)}),H.length<2&&(H=H.concat(H)),H}},{key:"scrollIntoView",value:function(P){var O=this.lastRange;if(O!=null){var N=this.getBounds(O.index,O.length);if(N!=null){var H=this.scroll.length()-1,M=this.scroll.line(Math.min(O.index,H)),Z=f(M,1)[0],B=Z;if(O.length>0){var te=this.scroll.line(Math.min(O.index+O.length,H));B=f(te,1)[0]}if(Z!=null&&B!=null){var ee=P.getBoundingClientRect();N.top<ee.top?P.scrollTop-=ee.top-N.top:N.bottom>ee.bottom&&(P.scrollTop+=N.bottom-ee.bottom)}}}}},{key:"setNativeRange",value:function(P,O){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,M=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(t.info("setNativeRange",P,O,N,H),P==null||this.root.parentNode!=null&&P.parentNode!=null&&N.parentNode!=null){var Z=document.getSelection();if(Z!=null)if(P!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||M||P!==B.startContainer||O!==B.startOffset||N!==B.endContainer||H!==B.endOffset){P.tagName=="BR"&&(O=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),N.tagName=="BR"&&(H=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var te=document.createRange();te.setStart(P,O),te.setEnd(N,H),Z.removeAllRanges(),Z.addRange(te)}}else Z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;if(typeof O=="string"&&(N=O,O=!1),t.info("setRange",P),P!=null){var H=this.rangeToNative(P);this.setNativeRange.apply(this,n(H).concat([O]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,O=this.lastRange,N=this.getRange(),H=f(N,2),M=H[0],Z=H[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,i.default)(O,this.lastRange)){var B;!this.composing&&Z!=null&&Z.native.collapsed&&Z.start.node!==this.cursor.textNode&&this.cursor.restore();var te,ee=[e.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(O),P];(B=this.emitter).emit.apply(B,[e.default.events.EDITOR_CHANGE].concat(ee)),P!==e.default.sources.SILENT&&(te=this.emitter).emit.apply(te,ee)}}}]),T}();function E(T,A){try{A.parentNode}catch(P){return!1}return A instanceof Text&&(A=A.parentNode),T.contains(A)}h.Range=d,h.default=y},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var y=Object.getPrototypeOf(n);return y===null?void 0:r(y,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,[{key:"insertInto",value:function(t,d){t.children.length===0?m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"insertInto",this).call(this,t,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),n}(((f=p(0))&&f.__esModule?f:{default:f}).default.Embed);e.blotName="break",e.tagName="BR",h.default=e},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var t in c)c.hasOwnProperty(t)&&(n[t]=c[t])},function(n,c){function t(){this.constructor=n}f(n,c),n.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(44),o=p(30),i=p(1),e=function(n){function c(t){var d=n.call(this,t)||this;return d.build(),d}return w(c,n),c.prototype.appendChild=function(t){this.insertBefore(t)},c.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},c.prototype.build=function(){var t=this;this.children=new m.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(d){try{var y=r(d);t.insertBefore(y,t.children.head||void 0)}catch(E){if(E instanceof i.ParchmentError)return;throw E}})},c.prototype.deleteAt=function(t,d){if(t===0&&d===this.length())return this.remove();this.children.forEachAt(t,d,function(y,E,T){y.deleteAt(E,T)})},c.prototype.descendant=function(t,d){var y=this.children.find(d),E=y[0],T=y[1];return t.blotName==null&&t(E)||t.blotName!=null&&E instanceof t?[E,T]:E instanceof c?E.descendant(t,T):[null,-1]},c.prototype.descendants=function(t,d,y){d===void 0&&(d=0),y===void 0&&(y=Number.MAX_VALUE);var E=[],T=y;return this.children.forEachAt(d,y,function(A,P,O){(t.blotName==null&&t(A)||t.blotName!=null&&A instanceof t)&&E.push(A),A instanceof c&&(E=E.concat(A.descendants(t,P,T))),T-=O}),E},c.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),n.prototype.detach.call(this)},c.prototype.formatAt=function(t,d,y,E){this.children.forEachAt(t,d,function(T,A,P){T.formatAt(A,P,y,E)})},c.prototype.insertAt=function(t,d,y){var E=this.children.find(t),T=E[0],A=E[1];if(T)T.insertAt(A,d,y);else{var P=y==null?i.create("text",d):i.create(d,y);this.appendChild(P)}},c.prototype.insertBefore=function(t,d){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return t instanceof y}))throw new i.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,d)},c.prototype.length=function(){return this.children.reduce(function(t,d){return t+d.length()},0)},c.prototype.moveChildren=function(t,d){this.children.forEach(function(y){t.insertBefore(y,d)})},c.prototype.optimize=function(t){if(n.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var d=i.create(this.statics.defaultChild);this.appendChild(d),d.optimize(t)}else this.remove()},c.prototype.path=function(t,d){d===void 0&&(d=!1);var y=this.children.find(t,d),E=y[0],T=y[1],A=[[this,t]];return E instanceof c?A.concat(E.path(T,d)):(E!=null&&A.push([E,T]),A)},c.prototype.removeChild=function(t){this.children.remove(t)},c.prototype.replace=function(t){t instanceof c&&t.moveChildren(this),n.prototype.replace.call(this,t)},c.prototype.split=function(t,d){if(d===void 0&&(d=!1),!d){if(t===0)return this;if(t===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(t,this.length(),function(E,T,A){E=E.split(T,d),y.appendChild(E)}),y},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(t,d){var y=this,E=[],T=[];t.forEach(function(A){A.target===y.domNode&&A.type==="childList"&&(E.push.apply(E,A.addedNodes),T.push.apply(T,A.removedNodes))}),T.forEach(function(A){if(!(A.parentNode!=null&&A.tagName!=="IFRAME"&&document.body.compareDocumentPosition(A)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=i.find(A);P!=null&&(P.domNode.parentNode!=null&&P.domNode.parentNode!==y.domNode||P.detach())}}),E.filter(function(A){return A.parentNode==y.domNode}).sort(function(A,P){return A===P?0:A.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(A){var P=null;A.nextSibling!=null&&(P=i.find(A.nextSibling));var O=r(A);O.next==P&&O.next!=null||(O.parent!=null&&O.parent.removeChild(y),y.insertBefore(O,P||void 0))})},c}(o.default);function r(n){var c=i.find(n);if(c==null)try{c=i.create(n)}catch(t){c=i.create(i.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(d){c.domNode.appendChild(d)}),n.parentNode&&n.parentNode.replaceChild(c.domNode,n),c.attach()}return c}h.default=e},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var t in c)c.hasOwnProperty(t)&&(n[t]=c[t])},function(n,c){function t(){this.constructor=n}f(n,c),n.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(12),o=p(31),i=p(17),e=p(1),r=function(n){function c(t){var d=n.call(this,t)||this;return d.attributes=new o.default(d.domNode),d}return w(c,n),c.formats=function(t){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},c.prototype.format=function(t,d){var y=e.query(t);y instanceof m.default?this.attributes.attribute(y,d):d&&(y==null||t===this.statics.blotName&&this.formats()[t]===d||this.replaceWith(t,d))},c.prototype.formats=function(){var t=this.attributes.values(),d=this.statics.formats(this.domNode);return d!=null&&(t[this.statics.blotName]=d),t},c.prototype.replaceWith=function(t,d){var y=n.prototype.replaceWith.call(this,t,d);return this.attributes.copy(y),y},c.prototype.update=function(t,d){var y=this;n.prototype.update.call(this,t,d),t.some(function(E){return E.target===y.domNode&&E.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(t,d){var y=n.prototype.wrap.call(this,t,d);return y instanceof c&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},c}(i.default);h.default=r},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(30),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.value=function(n){return!0},r.prototype.index=function(n,c){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},r.prototype.position=function(n,c){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(t+=1),[this.parent.domNode,t]},r.prototype.value=function(){var n;return(n={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},r.scope=o.Scope.INLINE_BLOT,r}(m.default);h.default=i},function(_,h,p){var f=p(11),w=p(3),m={attributes:{compose:function(e,r,n){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var c=w(!0,{},r);for(var t in n||(c=Object.keys(c).reduce(function(d,y){return c[y]!=null&&(d[y]=c[y]),d},{})),e)e[t]!==void 0&&r[t]===void 0&&(c[t]=e[t]);return Object.keys(c).length>0?c:void 0},diff:function(e,r){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var n=Object.keys(e).concat(Object.keys(r)).reduce(function(c,t){return f(e[t],r[t])||(c[t]=r[t]===void 0?null:r[t]),c},{});return Object.keys(n).length>0?n:void 0},transform:function(e,r,n){if(typeof e!="object")return r;if(typeof r=="object"){if(!n)return r;var c=Object.keys(r).reduce(function(t,d){return e[d]===void 0&&(t[d]=r[d]),t},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(e){return new o(e)},length:function(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.insert=="string"?e.insert.length:1}};function o(i){this.ops=i,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(i){i||(i=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=m.length(e);if(i>=n-r?(i=n-r,this.index+=1,this.offset=0):this.offset+=i,typeof e.delete=="number")return{delete:i};var c={};return e.attributes&&(c.attributes=e.attributes),typeof e.retain=="number"?c.retain=i:typeof e.insert=="string"?c.insert=e.insert.substr(r,i):c.insert=e.insert,c}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?m.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=i,this.index=e,[r].concat(n)}return[]},_.exports=m},function(_,h){var p=function(){"use strict";function f(n,c){return c!=null&&n instanceof c}var w,m,o;try{w=Map}catch(n){w=function(){}}try{m=Set}catch(n){m=function(){}}try{o=Promise}catch(n){o=function(){}}function i(n,c,t,d,y){typeof c=="object"&&(t=c.depth,d=c.prototype,y=c.includeNonEnumerable,c=c.circular);var E=[],T=[],A=typeof qe!="undefined";return c===void 0&&(c=!0),t===void 0&&(t=1/0),function P(O,N){if(O===null)return null;if(N===0)return O;var H,M;if(typeof O!="object")return O;if(f(O,w))H=new w;else if(f(O,m))H=new m;else if(f(O,o))H=new o(function(q,L){O.then(function(J){q(P(J,N-1))},function(J){L(P(J,N-1))})});else if(i.__isArray(O))H=[];else if(i.__isRegExp(O))H=new RegExp(O.source,r(O)),O.lastIndex&&(H.lastIndex=O.lastIndex);else if(i.__isDate(O))H=new Date(O.getTime());else{if(A&&qe.isBuffer(O))return H=qe.allocUnsafe?qe.allocUnsafe(O.length):new qe(O.length),O.copy(H),H;f(O,Error)?H=Object.create(O):d===void 0?(M=Object.getPrototypeOf(O),H=Object.create(M)):(H=Object.create(d),M=d)}if(c){var Z=E.indexOf(O);if(Z!=-1)return T[Z];E.push(O),T.push(H)}for(var B in f(O,w)&&O.forEach(function(q,L){var J=P(L,N-1),ce=P(q,N-1);H.set(J,ce)}),f(O,m)&&O.forEach(function(q){var L=P(q,N-1);H.add(L)}),O){var te;M&&(te=Object.getOwnPropertyDescriptor(M,B)),te&&te.set==null||(H[B]=P(O[B],N-1))}if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(O);for(B=0;B<ee.length;B++){var V=ee[B];(!(F=Object.getOwnPropertyDescriptor(O,V))||F.enumerable||y)&&(H[V]=P(O[V],N-1),F.enumerable||Object.defineProperty(H,V,{enumerable:!1}))}}if(y){var $=Object.getOwnPropertyNames(O);for(B=0;B<$.length;B++){var F,G=$[B];(F=Object.getOwnPropertyDescriptor(O,G))&&F.enumerable||(H[G]=P(O[G],N-1),Object.defineProperty(H,G,{enumerable:!1}))}}return H}(n,t)}function e(n){return Object.prototype.toString.call(n)}function r(n){var c="";return n.global&&(c+="g"),n.ignoreCase&&(c+="i"),n.multiline&&(c+="m"),c}return i.clonePrototype=function(n){if(n===null)return null;var c=function(){};return c.prototype=n,new c},i.__objToStr=e,i.__isDate=function(n){return typeof n=="object"&&e(n)==="[object Date]"},i.__isArray=function(n){return typeof n=="object"&&e(n)==="[object Array]"},i.__isRegExp=function(n){return typeof n=="object"&&e(n)==="[object RegExp]"},i.__getRegExpFlags=r,i}();typeof _=="object"&&_.exports&&(_.exports=p)},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function(O,N){var H=[],M=!0,Z=!1,B=void 0;try{for(var te,ee=O[Symbol.iterator]();!(M=(te=ee.next()).done)&&(H.push(te.value),!N||H.length!==N);M=!0);}catch(V){Z=!0,B=V}finally{try{!M&&ee.return&&ee.return()}finally{if(Z)throw B}}return H}(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function T(A,P){for(var O=0;O<P.length;O++){var N=P[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,P,O){return P&&T(A.prototype,P),O&&T(A,O),A}}(),m=function T(A,P,O){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,P);if(N===void 0){var H=Object.getPrototypeOf(A);return H===null?void 0:T(H,P,O)}if("value"in N)return N.value;var M=N.get;return M!==void 0?M.call(O):void 0},o=d(p(0)),i=d(p(8)),e=p(4),r=d(e),n=d(p(16)),c=d(p(13)),t=d(p(25));function d(T){return T&&T.__esModule?T:{default:T}}function y(T){return T instanceof r.default||T instanceof e.BlockEmbed}var E=function(T){function A(P,O){(function(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")})(this,A);var N=function(H,M){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||typeof M!="object"&&typeof M!="function"?H:M}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P));return N.emitter=O.emitter,Array.isArray(O.whitelist)&&(N.whitelist=O.whitelist.reduce(function(H,M){return H[M]=!0,H},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return function(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}(A,T),w(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,N){var H=this.line(O),M=f(H,2),Z=M[0],B=M[1],te=this.line(O+N),ee=f(te,1)[0];if(m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,O,N),ee!=null&&Z!==ee&&B>0){if(Z instanceof e.BlockEmbed||ee instanceof e.BlockEmbed)return void this.optimize();if(Z instanceof c.default){var V=Z.newlineIndex(Z.length(),!0);if(V>-1&&(Z=Z.split(V+1))===ee)return void this.optimize()}else if(ee instanceof c.default){var $=ee.newlineIndex(0);$>-1&&ee.split($+1)}var F=ee.children.head instanceof n.default?null:ee.children.head;Z.moveChildren(ee,F),Z.remove()}this.optimize()}},{key:"enable",value:function(){var O=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,N,H,M){(this.whitelist==null||this.whitelist[H])&&(m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,O,N,H,M),this.optimize())}},{key:"insertAt",value:function(O,N,H){if(H==null||this.whitelist==null||this.whitelist[N]){if(O>=this.length())if(H==null||o.default.query(N,o.default.Scope.BLOCK)==null){var M=o.default.create(this.statics.defaultChild);this.appendChild(M),H==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),M.insertAt(0,N,H)}else{var Z=o.default.create(N,H);this.appendChild(Z)}else m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,N,H);this.optimize()}}},{key:"insertBefore",value:function(O,N){if(O.statics.scope===o.default.Scope.INLINE_BLOT){var H=o.default.create(this.statics.defaultChild);H.appendChild(O),O=H}m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,O,N)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(y,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function M(Z,B,te){var ee=[],V=te;return Z.children.forEachAt(B,te,function($,F,G){y($)?ee.push($):$ instanceof o.default.Container&&(ee=ee.concat(M($,F,V))),V-=G}),ee};return H(this,O,N)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,O,N),O.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,O,N))}},{key:"path",value:function(O){return m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var N=i.default.sources.USER;typeof O=="string"&&(N=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,N,O),m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,N,O)}}}]),A}(o.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[r.default,e.BlockEmbed,t.default],h.default=E},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SHORTKEY=h.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},w=function(F,G){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(q,L){var J=[],ce=!0,se=!1,ve=void 0;try{for(var ie,oe=q[Symbol.iterator]();!(ce=(ie=oe.next()).done)&&(J.push(ie.value),!L||J.length!==L);ce=!0);}catch(pe){se=!0,ve=pe}finally{try{!ce&&oe.return&&oe.return()}finally{if(se)throw ve}}return J}(F,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function $(F,G){for(var q=0;q<G.length;q++){var L=G[q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}}return function(F,G,q){return G&&$(F.prototype,G),q&&$(F,q),F}}(),o=E(p(21)),i=E(p(11)),e=E(p(3)),r=E(p(2)),n=E(p(20)),c=E(p(0)),t=E(p(5)),d=E(p(10)),y=E(p(9));function E($){return $&&$.__esModule?$:{default:$}}function T($,F,G){return F in $?Object.defineProperty($,F,{value:G,enumerable:!0,configurable:!0,writable:!0}):$[F]=G,$}var A=(0,d.default)("quill:keyboard"),P=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",O=function($){function F(G,q){(function(J,ce){if(!(J instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,F);var L=function(J,ce){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||typeof ce!="object"&&typeof ce!="function"?J:ce}(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,G,q));return L.bindings={},Object.keys(L.options.bindings).forEach(function(J){(J!=="list autofill"||G.scroll.whitelist==null||G.scroll.whitelist.list)&&L.options.bindings[J]&&L.addBinding(L.options.bindings[J])}),L.addBinding({key:F.keys.ENTER,shiftKey:null},B),L.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(L.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},H),L.addBinding({key:F.keys.DELETE},{collapsed:!0},M)):(L.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),L.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),L.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},Z),L.addBinding({key:F.keys.DELETE},{collapsed:!1},Z),L.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),L.listen(),L}return function(G,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);G.prototype=Object.create(q&&q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,q):G.__proto__=q)}(F,$),m(F,null,[{key:"match",value:function(q,L){return L=V(L),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!L[J]!==q[J]&&L[J]!==null})&&L.key===(q.which||q.keyCode)}}]),m(F,[{key:"addBinding",value:function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=V(q);if(ce==null||ce.key==null)return A.warn("Attempted to add invalid keyboard binding",ce);typeof L=="function"&&(L={handler:L}),typeof J=="function"&&(J={handler:J}),ce=(0,e.default)(ce,L,J),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var q=this;this.quill.root.addEventListener("keydown",function(L){if(!L.defaultPrevented){var J=L.which||L.keyCode,ce=(q.bindings[J]||[]).filter(function(Y){return F.match(L,Y)});if(ce.length!==0){var se=q.quill.getSelection();if(se!=null&&q.quill.hasFocus()){var ve=q.quill.getLine(se.index),ie=w(ve,2),oe=ie[0],pe=ie[1],be=q.quill.getLeaf(se.index),de=w(be,2),Pe=de[0],je=de[1],z=se.length===0?[Pe,je]:q.quill.getLeaf(se.index+se.length),ge=w(z,2),K=ge[0],k=ge[1],I=Pe instanceof c.default.Text?Pe.value().slice(0,je):"",W=K instanceof c.default.Text?K.value().slice(k):"",re={collapsed:se.length===0,empty:se.length===0&&oe.length()<=1,format:q.quill.getFormat(se),offset:pe,prefix:I,suffix:W};ce.some(function(Y){if(Y.collapsed!=null&&Y.collapsed!==re.collapsed||Y.empty!=null&&Y.empty!==re.empty||Y.offset!=null&&Y.offset!==re.offset)return!1;if(Array.isArray(Y.format)){if(Y.format.every(function(ae){return re.format[ae]==null}))return!1}else if(f(Y.format)==="object"&&!Object.keys(Y.format).every(function(ae){return Y.format[ae]===!0?re.format[ae]!=null:Y.format[ae]===!1?re.format[ae]==null:(0,i.default)(Y.format[ae],re.format[ae])}))return!1;return!(Y.prefix!=null&&!Y.prefix.test(re.prefix)||Y.suffix!=null&&!Y.suffix.test(re.suffix)||Y.handler.call(q,se,re)===!0)})&&L.preventDefault()}}}})}}]),F}(y.default);function N($,F){var G,q=$===O.keys.LEFT?"prefix":"suffix";return T(G={key:$,shiftKey:F,altKey:null},q,/^$/),T(G,"handler",function(L){var J=L.index;$===O.keys.RIGHT&&(J+=L.length+1);var ce=this.quill.getLeaf(J);return!(w(ce,1)[0]instanceof c.default.Embed&&($===O.keys.LEFT?F?this.quill.setSelection(L.index-1,L.length+1,t.default.sources.USER):this.quill.setSelection(L.index-1,t.default.sources.USER):F?this.quill.setSelection(L.index,L.length+1,t.default.sources.USER):this.quill.setSelection(L.index+L.length+1,t.default.sources.USER),1))}),G}function H($,F){if(!($.index===0||this.quill.getLength()<=1)){var G=this.quill.getLine($.index),q=w(G,1)[0],L={};if(F.offset===0){var J=this.quill.getLine($.index-1),ce=w(J,1)[0];if(ce!=null&&ce.length()>1){var se=q.formats(),ve=this.quill.getFormat($.index-1,1);L=n.default.attributes.diff(se,ve)||{}}}var ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText($.index-ie,ie,t.default.sources.USER),Object.keys(L).length>0&&this.quill.formatLine($.index-ie,ie,L,t.default.sources.USER),this.quill.focus()}}function M($,F){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!($.index>=this.quill.getLength()-G)){var q={},L=0,J=this.quill.getLine($.index),ce=w(J,1)[0];if(F.offset>=ce.length()-1){var se=this.quill.getLine($.index+1),ve=w(se,1)[0];if(ve){var ie=ce.formats(),oe=this.quill.getFormat($.index,1);q=n.default.attributes.diff(ie,oe)||{},L=ve.length()}}this.quill.deleteText($.index,G,t.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine($.index+L-1,G,q,t.default.sources.USER)}}function Z($){var F=this.quill.getLines($),G={};if(F.length>1){var q=F[0].formats(),L=F[F.length-1].formats();G=n.default.attributes.diff(L,q)||{}}this.quill.deleteText($,t.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine($.index,1,G,t.default.sources.USER),this.quill.setSelection($.index,t.default.sources.SILENT),this.quill.focus()}function B($,F){var G=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var q=Object.keys(F.format).reduce(function(L,J){return c.default.query(J,c.default.Scope.BLOCK)&&!Array.isArray(F.format[J])&&(L[J]=F.format[J]),L},{});this.quill.insertText($.index,`
`,q,t.default.sources.USER),this.quill.setSelection($.index+1,t.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(L){q[L]==null&&(Array.isArray(F.format[L])||L!=="link"&&G.quill.format(L,F.format[L],t.default.sources.USER))})}function te($){return{key:O.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(G){var q=c.default.query("code-block"),L=G.index,J=G.length,ce=this.quill.scroll.descendant(q,L),se=w(ce,2),ve=se[0],ie=se[1];if(ve!=null){var oe=this.quill.getIndex(ve),pe=ve.newlineIndex(ie,!0)+1,be=ve.newlineIndex(oe+ie+J),de=ve.domNode.textContent.slice(pe,be).split(`
`);ie=0,de.forEach(function(Pe,je){$?(ve.insertAt(pe+ie,q.TAB),ie+=q.TAB.length,je===0?L+=q.TAB.length:J+=q.TAB.length):Pe.startsWith(q.TAB)&&(ve.deleteAt(pe+ie,q.TAB.length),ie-=q.TAB.length,je===0?L-=q.TAB.length:J-=q.TAB.length),ie+=Pe.length+1}),this.quill.update(t.default.sources.USER),this.quill.setSelection(L,J,t.default.sources.SILENT)}}}}function ee($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(G,q){this.quill.format($,!q.format[$],t.default.sources.USER)}}}function V($){if(typeof $=="string"||typeof $=="number")return V({key:$});if(($===void 0?"undefined":f($))==="object"&&($=(0,o.default)($,!1)),typeof $.key=="string")if(O.keys[$.key.toUpperCase()]!=null)$.key=O.keys[$.key.toUpperCase()];else{if($.key.length!==1)return null;$.key=$.key.toUpperCase().charCodeAt(0)}return $.shortKey&&($[P]=$.shortKey,delete $.shortKey),$}O.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},O.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:O.keys.TAB,format:["blockquote","indent","list"],handler:function(F,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","+1",t.default.sources.USER)}},outdent:{key:O.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(F,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","-1",t.default.sources.USER)}},"outdent backspace":{key:O.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(F,G){G.format.indent!=null?this.quill.format("indent","-1",t.default.sources.USER):G.format.list!=null&&this.quill.format("list",!1,t.default.sources.USER)}},"indent code-block":te(!0),"outdent code-block":te(!1),"remove tab":{key:O.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(F){this.quill.deleteText(F.index-1,1,t.default.sources.USER)}},tab:{key:O.keys.TAB,handler:function(F){this.quill.history.cutoff();var G=new r.default().retain(F.index).delete(F.length).insert("	");this.quill.updateContents(G,t.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index+1,t.default.sources.SILENT)}},"list empty enter":{key:O.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(F,G){this.quill.format("list",!1,t.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,t.default.sources.USER)}},"checklist enter":{key:O.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(F){var G=this.quill.getLine(F.index),q=w(G,2),L=q[0],J=q[1],ce=(0,e.default)({},L.formats(),{list:"checked"}),se=new r.default().retain(F.index).insert(`
`,ce).retain(L.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,t.default.sources.USER),this.quill.setSelection(F.index+1,t.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:O.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(F,G){var q=this.quill.getLine(F.index),L=w(q,2),J=L[0],ce=L[1],se=new r.default().retain(F.index).insert(`
`,G.format).retain(J.length()-ce-1).retain(1,{header:null});this.quill.updateContents(se,t.default.sources.USER),this.quill.setSelection(F.index+1,t.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(F,G){var q=G.prefix.length,L=this.quill.getLine(F.index),J=w(L,2),ce=J[0],se=J[1];if(se>q)return!0;var ve=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":ve="unchecked";break;case"[x]":ve="checked";break;case"-":case"*":ve="bullet";break;default:ve="ordered"}this.quill.insertText(F.index," ",t.default.sources.USER),this.quill.history.cutoff();var ie=new r.default().retain(F.index-se).delete(q+1).retain(ce.length()-2-se).retain(1,{list:ve});this.quill.updateContents(ie,t.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index-q,t.default.sources.SILENT)}},"code exit":{key:O.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(F){var G=this.quill.getLine(F.index),q=w(G,2),L=q[0],J=q[1],ce=new r.default().retain(F.index+L.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,t.default.sources.USER)}},"embed left":N(O.keys.LEFT,!1),"embed left shift":N(O.keys.LEFT,!0),"embed right":N(O.keys.RIGHT,!1),"embed right shift":N(O.keys.RIGHT,!0)}},h.default=O,h.SHORTKEY=P},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var y=Object.getPrototypeOf(n);return y===null?void 0:r(y,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0},w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=i(p(0)),o=i(p(7));function i(r){return r&&r.__esModule?r:{default:r}}var e=function(r){function n(c,t){(function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?y:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,c));return d.selection=t,d.textNode=document.createTextNode(n.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,null,[{key:"value",value:function(){}}]),w(n,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(t,d){if(this._length!==0)return f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,t,d);for(var y=this,E=0;y!=null&&y.statics.scope!==m.default.Scope.BLOCK_BLOT;)E+=y.offset(y.parent),y=y.parent;y!=null&&(this._length=n.CONTENTS.length,y.optimize(),y.formatAt(E,n.CONTENTS.length,t,d),this._length=0)}},{key:"index",value:function(t,d){return t===this.textNode?0:f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"index",this).call(this,t,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var t=this.textNode,d=this.selection.getNativeRange(),y=void 0,E=void 0,T=void 0;if(d!=null&&d.start.node===t&&d.end.node===t){var A=[t,d.start.offset,d.end.offset];y=A[0],E=A[1],T=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==n.CONTENTS){var P=this.textNode.data.split(n.CONTENTS).join("");this.next instanceof o.default?(y=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=n.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(n.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var O=function(N,H){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(M,Z){var B=[],te=!0,ee=!1,V=void 0;try{for(var $,F=M[Symbol.iterator]();!(te=($=F.next()).done)&&(B.push($.value),!Z||B.length!==Z);te=!0);}catch(G){ee=!0,V=G}finally{try{!te&&F.return&&F.return()}finally{if(ee)throw V}}return B}(N,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([E,T].map(function(N){return Math.max(0,Math.min(y.data.length,N-1))}),2);return E=O[0],T=O[1],{startNode:y,startOffset:E,endNode:y,endOffset:T}}}}},{key:"update",value:function(t,d){var y=this;if(t.some(function(T){return T.type==="characterData"&&T.target===y.textNode})){var E=this.restore();E&&(d.range=E)}}},{key:"value",value:function(){return""}}]),n}(m.default.Embed);e.blotName="cursor",e.className="ql-cursor",e.tagName="span",e.CONTENTS="\uFEFF",h.default=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=o(p(0)),w=p(4),m=o(w);function o(n){return n&&n.__esModule?n:{default:n}}function i(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}function e(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}var r=function(n){function c(){return i(this,c),e(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),c}(f.default.Container);r.allowedChildren=[m.default,w.BlockEmbed,r],h.default=r},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColorStyle=h.ColorClass=h.ColorAttributor=void 0;var f,w=function(){function t(d,y){for(var E=0;E<y.length;E++){var T=y[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,y,E){return y&&t(d.prototype,y),E&&t(d,E),d}}(),m=function t(d,y,E){d===null&&(d=Function.prototype);var T=Object.getOwnPropertyDescriptor(d,y);if(T===void 0){var A=Object.getPrototypeOf(d);return A===null?void 0:t(A,y,E)}if("value"in T)return T.value;var P=T.get;return P!==void 0?P.call(E):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}function e(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}var r=function(t){function d(){return i(this,d),e(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}(d,t),w(d,[{key:"value",value:function(E){var T=m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,E);return T.startsWith("rgb(")?"#"+(T=T.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(A){return("00"+parseInt(A).toString(16)).slice(-2)}).join(""):T}}]),d}(o.default.Attributor.Style),n=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),c=new r("color","color",{scope:o.default.Scope.INLINE});h.ColorAttributor=r,h.ColorClass=n,h.ColorStyle=c},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sanitize=h.default=void 0;var f,w=function(){function n(c,t){for(var d=0;d<t.length;d++){var y=t[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,t,d){return t&&n(c.prototype,t),d&&n(c,d),c}}(),m=function n(c,t,d){c===null&&(c=Function.prototype);var y=Object.getOwnPropertyDescriptor(c,t);if(y===void 0){var E=Object.getPrototypeOf(c);return E===null?void 0:n(E,t,d)}if("value"in y)return y.value;var T=y.get;return T!==void 0?T.call(d):void 0};function o(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}function i(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}var e=function(n){function c(){return o(this,c),i(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),w(c,[{key:"format",value:function(d,y){if(d!==this.statics.blotName||!y)return m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,d,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(d){var y=m(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,d);return d=this.sanitize(d),y.setAttribute("href",d),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return r(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),c}(((f=p(6))&&f.__esModule?f:{default:f}).default);function r(n,c){var t=document.createElement("a");t.href=n;var d=t.href.slice(0,t.href.indexOf(":"));return c.indexOf(d)>-1}e.blotName="link",e.tagName="A",e.SANITIZED_URL="about:blank",e.PROTOCOL_WHITELIST=["http","https","mailto","tel"],h.default=e,h.sanitize=r},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},w=function(){function c(t,d){for(var y=0;y<d.length;y++){var E=d[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(t,E.key,E)}}return function(t,d,y){return d&&c(t.prototype,d),y&&c(t,y),t}}(),m=i(p(23)),o=i(p(107));function i(c){return c&&c.__esModule?c:{default:c}}var e=0;function r(c,t){c.setAttribute(t,c.getAttribute(t)!=="true")}var n=function(){function c(t){var d=this;(function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){d.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case m.default.keys.ENTER:d.togglePicker();break;case m.default.keys.ESCAPE:d.escape(),y.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return w(c,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),r(this.label,"aria-expanded"),r(this.options,"aria-hidden")}},{key:"buildItem",value:function(d){var y=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),d.hasAttribute("value")&&E.setAttribute("data-value",d.getAttribute("value")),d.textContent&&E.setAttribute("data-label",d.textContent),E.addEventListener("click",function(){y.selectItem(E,!0)}),E.addEventListener("keydown",function(T){switch(T.keyCode){case m.default.keys.ENTER:y.selectItem(E,!0),T.preventDefault();break;case m.default.keys.ESCAPE:y.escape(),T.preventDefault()}}),E}},{key:"buildLabel",value:function(){var d=document.createElement("span");return d.classList.add("ql-picker-label"),d.innerHTML=o.default,d.tabIndex="0",d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),this.container.appendChild(d),d}},{key:"buildOptions",value:function(){var d=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+e,e+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(E){var T=d.buildItem(E);y.appendChild(T),E.selected===!0&&d.selectItem(T)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var d=this;[].slice.call(this.select.attributes).forEach(function(y){d.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var d=this;this.close(),setTimeout(function(){return d.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(d){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],E=this.container.querySelector(".ql-selected");if(d!==E&&(E!=null&&E.classList.remove("ql-selected"),d!=null&&(d.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(d.parentNode.children,d),d.hasAttribute("data-value")?this.label.setAttribute("data-value",d.getAttribute("data-value")):this.label.removeAttribute("data-value"),d.hasAttribute("data-label")?this.label.setAttribute("data-label",d.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":f(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var d=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];d=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var E=d!=null&&d!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),c}();h.default=n},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=A(p(0)),w=A(p(5)),m=p(4),o=A(m),i=A(p(16)),e=A(p(25)),r=A(p(24)),n=A(p(35)),c=A(p(6)),t=A(p(22)),d=A(p(7)),y=A(p(55)),E=A(p(42)),T=A(p(23));function A(P){return P&&P.__esModule?P:{default:P}}w.default.register({"blots/block":o.default,"blots/block/embed":m.BlockEmbed,"blots/break":i.default,"blots/container":e.default,"blots/cursor":r.default,"blots/embed":n.default,"blots/inline":c.default,"blots/scroll":t.default,"blots/text":d.default,"modules/clipboard":y.default,"modules/history":E.default,"modules/keyboard":T.default}),f.default.register(o.default,i.default,r.default,c.default,t.default,d.default),h.default=w.default},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(1),w=function(){function m(o){this.domNode=o,this.domNode[f.DATA_KEY]={blot:this}}return Object.defineProperty(m.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),m.create=function(o){if(this.tagName==null)throw new f.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o).toString()===o&&(o=parseInt(o))),i=typeof o=="number"?document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?document.createElement(o):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},m.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},m.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return f.create(o)},m.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[f.DATA_KEY]},m.prototype.deleteAt=function(o,i){this.isolate(o,i).remove()},m.prototype.formatAt=function(o,i,e,r){var n=this.isolate(o,i);if(f.query(e,f.Scope.BLOT)!=null&&r)n.wrap(e,r);else if(f.query(e,f.Scope.ATTRIBUTE)!=null){var c=f.create(this.statics.scope);n.wrap(c),c.format(e,r)}},m.prototype.insertAt=function(o,i,e){var r=e==null?f.create("text",i):f.create(i,e),n=this.split(o);this.parent.insertBefore(r,n)},m.prototype.insertInto=function(o,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var e=null;o.children.insertBefore(this,i),i!=null&&(e=i.domNode),this.domNode.parentNode==o.domNode&&this.domNode.nextSibling==e||o.domNode.insertBefore(this.domNode,e),this.parent=o,this.attach()},m.prototype.isolate=function(o,i){var e=this.split(o);return e.split(i),e},m.prototype.length=function(){return 1},m.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this==o?0:this.parent.children.offset(this)+this.parent.offset(o)},m.prototype.optimize=function(o){this.domNode[f.DATA_KEY]!=null&&delete this.domNode[f.DATA_KEY].mutations},m.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},m.prototype.replace=function(o){o.parent!=null&&(o.parent.insertBefore(this,o.next),o.remove())},m.prototype.replaceWith=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return e.replace(this),e},m.prototype.split=function(o,i){return o===0?this:this.next},m.prototype.update=function(o,i){},m.prototype.wrap=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return this.parent!=null&&this.parent.insertBefore(e,this.next),e.appendChild(this),e},m.blotName="abstract",m}();h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(12),w=p(32),m=p(33),o=p(1),i=function(){function e(r){this.attributes={},this.domNode=r,this.build()}return e.prototype.attribute=function(r,n){n?r.add(this.domNode,n)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},e.prototype.build=function(){var r=this;this.attributes={};var n=f.default.keys(this.domNode),c=w.default.keys(this.domNode),t=m.default.keys(this.domNode);n.concat(c).concat(t).forEach(function(d){var y=o.query(d,o.Scope.ATTRIBUTE);y instanceof f.default&&(r.attributes[y.attrName]=y)})},e.prototype.copy=function(r){var n=this;Object.keys(this.attributes).forEach(function(c){var t=n.attributes[c].value(n.domNode);r.format(c,t)})},e.prototype.move=function(r){var n=this;this.copy(r),Object.keys(this.attributes).forEach(function(c){n.attributes[c].remove(n.domNode)}),this.attributes={}},e.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(n,c){return n[c]=r.attributes[c].value(r.domNode),n},{})},e}();h.default=i},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i,e){return(i.getAttribute("class")||"").split(/\s+/).filter(function(r){return r.indexOf(e+"-")===0})}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(this.remove(r),r.classList.add(this.keyName+"-"+n),!0)},e.prototype.remove=function(r){m(r,this.keyName).forEach(function(n){r.classList.remove(n)}),r.classList.length===0&&r.removeAttribute("class")},e.prototype.value=function(r){var n=(m(r,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(r,n)?n:""},e}(p(12).default);h.default=o},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i){var e=i.split("-"),r=e.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return e[0]+r}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(n){return n.split(":")[0].trim()})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(r.style[m(this.keyName)]=n,!0)},e.prototype.remove=function(r){r.style[m(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},e.prototype.value=function(r){var n=r.style[m(this.keyName)];return this.canAdd(r,n)?n:""},e}(p(12).default);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.options=i,this.modules={}}return f(m,[{key:"init",value:function(){var i=this;Object.keys(this.options.modules).forEach(function(e){i.modules[e]==null&&i.addModule(e)})}},{key:"addModule",value:function(i){var e=this.quill.constructor.import("modules/"+i);return this.modules[i]=new e(this.quill,this.options.modules[i]||{}),this.modules[i]}}]),m}();w.DEFAULTS={modules:{}},w.themes={default:w},h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function n(c,t){for(var d=0;d<t.length;d++){var y=t[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,t,d){return t&&n(c.prototype,t),d&&n(c,d),c}}(),w=function n(c,t,d){c===null&&(c=Function.prototype);var y=Object.getOwnPropertyDescriptor(c,t);if(y===void 0){var E=Object.getPrototypeOf(c);return E===null?void 0:n(E,t,d)}if("value"in y)return y.value;var T=y.get;return T!==void 0?T.call(d):void 0},m=i(p(0)),o=i(p(7));function i(n){return n&&n.__esModule?n:{default:n}}var e="\uFEFF",r=function(n){function c(t){(function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c);var d=function(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?y:E}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return d.contentNode=document.createElement("span"),d.contentNode.setAttribute("contenteditable",!1),[].slice.call(d.domNode.childNodes).forEach(function(y){d.contentNode.appendChild(y)}),d.leftGuard=document.createTextNode(e),d.rightGuard=document.createTextNode(e),d.domNode.appendChild(d.leftGuard),d.domNode.appendChild(d.contentNode),d.domNode.appendChild(d.rightGuard),d}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),f(c,[{key:"index",value:function(d,y){return d===this.leftGuard?0:d===this.rightGuard?1:w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"index",this).call(this,d,y)}},{key:"restore",value:function(d){var y=void 0,E=void 0,T=d.data.split(e).join("");if(d===this.leftGuard)if(this.prev instanceof o.default){var A=this.prev.length();this.prev.insertAt(A,T),y={startNode:this.prev.domNode,startOffset:A+T.length}}else E=document.createTextNode(T),this.parent.insertBefore(m.default.create(E),this),y={startNode:E,startOffset:T.length};else d===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,T),y={startNode:this.next.domNode,startOffset:T.length}):(E=document.createTextNode(T),this.parent.insertBefore(m.default.create(E),this.next),y={startNode:E,startOffset:T.length}));return d.data=e,y}},{key:"update",value:function(d,y){var E=this;d.forEach(function(T){if(T.type==="characterData"&&(T.target===E.leftGuard||T.target===E.rightGuard)){var A=E.restore(T.target);A&&(y.range=A)}})}}]),c}(m.default.Embed);h.default=r},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AlignStyle=h.AlignClass=h.AlignAttribute=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new w.default.Attributor.Attribute("align","align",m),i=new w.default.Attributor.Class("align","ql-align",m),e=new w.default.Attributor.Style("align","text-align",m);h.AlignAttribute=o,h.AlignClass=i,h.AlignStyle=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BackgroundStyle=h.BackgroundClass=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m=p(26),o=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),i=new m.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});h.BackgroundClass=o,h.BackgroundStyle=i},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DirectionStyle=h.DirectionClass=h.DirectionAttribute=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},o=new w.default.Attributor.Attribute("direction","dir",m),i=new w.default.Attributor.Class("direction","ql-direction",m),e=new w.default.Attributor.Style("direction","direction",m);h.DirectionAttribute=o,h.DirectionClass=i,h.DirectionStyle=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FontClass=h.FontStyle=void 0;var f,w=function(){function d(y,E){for(var T=0;T<E.length;T++){var A=E[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,E,T){return E&&d(y.prototype,E),T&&d(y,T),y}}(),m=function d(y,E,T){y===null&&(y=Function.prototype);var A=Object.getOwnPropertyDescriptor(y,E);if(A===void 0){var P=Object.getPrototypeOf(y);return P===null?void 0:d(P,E,T)}if("value"in A)return A.value;var O=A.get;return O!==void 0?O.call(T):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function e(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?d:y}var r={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},n=new o.default.Attributor.Class("font","ql-font",r),c=function(d){function y(){return i(this,y),e(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(y,d),w(y,[{key:"value",value:function(T){return m(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,T).replace(/["']/g,"")}}]),y}(o.default.Attributor.Style),t=new c("font","font-family",r);h.FontStyle=t,h.FontClass=n},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SizeStyle=h.SizeClass=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});h.SizeClass=m,h.SizeStyle=o},function(_,h,p){"use strict";_.exports={align:{"":p(76),center:p(77),right:p(78),justify:p(79)},background:p(80),blockquote:p(81),bold:p(82),clean:p(83),code:p(58),"code-block":p(58),color:p(84),direction:{"":p(85),rtl:p(86)},float:{center:p(87),full:p(88),left:p(89),right:p(90)},formula:p(91),header:{1:p(92),2:p(93)},italic:p(94),image:p(95),indent:{"+1":p(96),"-1":p(97)},link:p(98),list:{ordered:p(99),bullet:p(100),check:p(101)},script:{sub:p(102),super:p(103)},strike:p(104),underline:p(105),video:p(106)}},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getLastChangeIndex=h.default=void 0;var f=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),w=o(p(0)),m=o(p(5));function o(r){return r&&r.__esModule?r:{default:r}}var i=function(r){function n(c,t){(function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?y:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,c,t));return d.lastRecorded=0,d.ignoreChange=!1,d.clear(),d.quill.on(m.default.events.EDITOR_CHANGE,function(y,E,T,A){y!==m.default.events.TEXT_CHANGE||d.ignoreChange||(d.options.userOnly&&A!==m.default.sources.USER?d.transform(E):d.record(E,T))}),d.quill.keyboard.addBinding({key:"Z",shortKey:!0},d.undo.bind(d)),d.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},d.redo.bind(d)),/Win/i.test(navigator.platform)&&d.quill.keyboard.addBinding({key:"Y",shortKey:!0},d.redo.bind(d)),d}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),f(n,[{key:"change",value:function(t,d){if(this.stack[t].length!==0){var y=this.stack[t].pop();this.stack[d].push(y),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(y[t],m.default.sources.USER),this.ignoreChange=!1;var E=e(y[t]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,d){if(t.ops.length!==0){this.stack.redo=[];var y=this.quill.getContents().diff(d),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var T=this.stack.undo.pop();y=y.compose(T.undo),t=T.redo.compose(t)}else this.lastRecorded=E;this.stack.undo.push({redo:t,undo:y}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(d){d.undo=t.transform(d.undo,!0),d.redo=t.transform(d.redo,!0)}),this.stack.redo.forEach(function(d){d.undo=t.transform(d.undo,!0),d.redo=t.transform(d.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(o(p(9)).default);function e(r){var n=r.reduce(function(t,d){return t+(d.delete||0)},0),c=r.length()-n;return function(t){var d=t.ops[t.ops.length-1];return d!=null&&(d.insert!=null?typeof d.insert=="string"&&d.insert.endsWith(`
`):d.attributes!=null&&Object.keys(d.attributes).some(function(y){return w.default.query(y,w.default.Scope.BLOCK)!=null}))}(r)&&(c-=1),c}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},h.default=i,h.getLastChangeIndex=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BaseTooltip=void 0;var f=function(){function ee(V,$){for(var F=0;F<$.length;F++){var G=$[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(V,G.key,G)}}return function(V,$,F){return $&&ee(V.prototype,$),F&&ee(V,F),V}}(),w=function ee(V,$,F){V===null&&(V=Function.prototype);var G=Object.getOwnPropertyDescriptor(V,$);if(G===void 0){var q=Object.getPrototypeOf(V);return q===null?void 0:ee(q,$,F)}if("value"in G)return G.value;var L=G.get;return L!==void 0?L.call(F):void 0},m=y(p(3)),o=y(p(2)),i=y(p(8)),e=y(p(23)),r=y(p(34)),n=y(p(59)),c=y(p(60)),t=y(p(28)),d=y(p(61));function y(ee){return ee&&ee.__esModule?ee:{default:ee}}function E(ee,V){if(!(ee instanceof V))throw new TypeError("Cannot call a class as a function")}function T(ee,V){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||typeof V!="object"&&typeof V!="function"?ee:V}function A(ee,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);ee.prototype=Object.create(V&&V.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,V):ee.__proto__=V)}var P=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],H=["1","2","3",!1],M=["small",!1,"large","huge"],Z=function(ee){function V($,F){E(this,V);var G=T(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,$,F));return $.emitter.listenDOM("click",document.body,function q(L){if(!document.body.contains($.root))return document.body.removeEventListener("click",q);G.tooltip==null||G.tooltip.root.contains(L.target)||document.activeElement===G.tooltip.textbox||G.quill.hasFocus()||G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(J){J.container.contains(L.target)||J.close()})}),G}return A(V,ee),f(V,[{key:"addModule",value:function(F){var G=w(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(F,G){F.forEach(function(q){(q.getAttribute("class")||"").split(/\s+/).forEach(function(L){if(L.startsWith("ql-")&&(L=L.slice("ql-".length),G[L]!=null))if(L==="direction")q.innerHTML=G[L][""]+G[L].rtl;else if(typeof G[L]=="string")q.innerHTML=G[L];else{var J=q.value||"";J!=null&&G[L][J]&&(q.innerHTML=G[L][J])}})})}},{key:"buildPickers",value:function(F,G){var q=this;this.pickers=F.map(function(L){if(L.classList.contains("ql-align"))return L.querySelector("option")==null&&te(L,P),new c.default(L,G.align);if(L.classList.contains("ql-background")||L.classList.contains("ql-color")){var J=L.classList.contains("ql-background")?"background":"color";return L.querySelector("option")==null&&te(L,O,J==="background"?"#ffffff":"#000000"),new n.default(L,G[J])}return L.querySelector("option")==null&&(L.classList.contains("ql-font")?te(L,N):L.classList.contains("ql-header")?te(L,H):L.classList.contains("ql-size")&&te(L,M)),new t.default(L)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){q.pickers.forEach(function(L){L.update()})})}}]),V}(r.default);Z.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,$=this.container.querySelector("input.ql-image[type=file]");$==null&&(($=document.createElement("input")).setAttribute("type","file"),$.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),$.classList.add("ql-image"),$.addEventListener("change",function(){if($.files!=null&&$.files[0]!=null){var F=new FileReader;F.onload=function(G){var q=V.quill.getSelection(!0);V.quill.updateContents(new o.default().retain(q.index).delete(q.length).insert({image:G.target.result}),i.default.sources.USER),V.quill.setSelection(q.index+1,i.default.sources.SILENT),$.value=""},F.readAsDataURL($.files[0])}}),this.container.appendChild($)),$.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(ee){function V($,F){E(this,V);var G=T(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,$,F));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return A(V,ee),f(V,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(G){e.default.match(G,"enter")?(F.save(),G.preventDefault()):e.default.match(G,"escape")&&(F.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F,G,q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,i.default.sources.USER)),this.quill.root.scrollTop=L;break;case"video":q=(G=(F=q).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(G[1]||"https")+"://www.youtube.com/embed/"+G[2]+"?showinfo=0":(G=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(G[1]||"https")+"://player.vimeo.com/video/"+G[2]+"/":F;case"formula":if(!q)break;var J=this.quill.getSelection(!0);if(J!=null){var ce=J.index+J.length;this.quill.insertEmbed(ce,this.root.getAttribute("data-mode"),q,i.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ce+1," ",i.default.sources.USER),this.quill.setSelection(ce+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),V}(d.default);function te(ee,V){var $=arguments.length>2&&arguments[2]!==void 0&&arguments[2];V.forEach(function(F){var G=document.createElement("option");F===$?G.setAttribute("selected","selected"):G.setAttribute("value",F),ee.appendChild(G)})}h.BaseTooltip=B,h.default=Z},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var m=[],o=0;o<arguments.length;o++)m[o]=arguments[o];this.insertBefore(m[0],null),m.length>1&&this.append.apply(this,m.slice(1))},w.prototype.contains=function(m){for(var o,i=this.iterator();o=i();)if(o===m)return!0;return!1},w.prototype.insertBefore=function(m,o){m&&(m.next=o,o!=null?(m.prev=o.prev,o.prev!=null&&(o.prev.next=m),o.prev=m,o===this.head&&(this.head=m)):this.tail!=null?(this.tail.next=m,m.prev=this.tail,this.tail=m):(m.prev=null,this.head=this.tail=m),this.length+=1)},w.prototype.offset=function(m){for(var o=0,i=this.head;i!=null;){if(i===m)return o;o+=i.length(),i=i.next}return-1},w.prototype.remove=function(m){this.contains(m)&&(m.prev!=null&&(m.prev.next=m.next),m.next!=null&&(m.next.prev=m.prev),m===this.head&&(this.head=m.next),m===this.tail&&(this.tail=m.prev),this.length-=1)},w.prototype.iterator=function(m){return m===void 0&&(m=this.head),function(){var o=m;return m!=null&&(m=m.next),o}},w.prototype.find=function(m,o){o===void 0&&(o=!1);for(var i,e=this.iterator();i=e();){var r=i.length();if(m<r||o&&m===r&&(i.next==null||i.next.length()!==0))return[i,m];m-=r}return[null,0]},w.prototype.forEach=function(m){for(var o,i=this.iterator();o=i();)m(o)},w.prototype.forEachAt=function(m,o,i){if(!(o<=0))for(var e,r=this.find(m),n=r[0],c=m-r[1],t=this.iterator(n);(e=t())&&c<m+o;){var d=e.length();m>c?i(e,m-c,Math.min(o,c+d-m)):i(e,0,Math.min(d,m+o-c)),c+=d}},w.prototype.map=function(m){return this.reduce(function(o,i){return o.push(m(i)),o},[])},w.prototype.reduce=function(m,o){for(var i,e=this.iterator();i=e();)o=m(o,i);return o},w}();h.default=f},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var c in n)n.hasOwnProperty(c)&&(r[c]=n[c])},function(r,n){function c(){this.constructor=r}f(r,n),r.prototype=n===null?Object.create(n):(c.prototype=n.prototype,new c)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(17),o=p(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},e=function(r){function n(c){var t=r.call(this,c)||this;return t.scroll=t,t.observer=new MutationObserver(function(d){t.update(d)}),t.observer.observe(t.domNode,i),t.attach(),t}return w(n,r),n.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(c,t){this.update(),c===0&&t===this.length()?this.children.forEach(function(d){d.remove()}):r.prototype.deleteAt.call(this,c,t)},n.prototype.formatAt=function(c,t,d,y){this.update(),r.prototype.formatAt.call(this,c,t,d,y)},n.prototype.insertAt=function(c,t,d){this.update(),r.prototype.insertAt.call(this,c,t,d)},n.prototype.optimize=function(c,t){var d=this;c===void 0&&(c=[]),t===void 0&&(t={}),r.prototype.optimize.call(this,t);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)c.push(y.pop());for(var E=function O(N,H){H===void 0&&(H=!0),N!=null&&N!==d&&N.domNode.parentNode!=null&&(N.domNode[o.DATA_KEY].mutations==null&&(N.domNode[o.DATA_KEY].mutations=[]),H&&O(N.parent))},T=function O(N){N.domNode[o.DATA_KEY]!=null&&N.domNode[o.DATA_KEY].mutations!=null&&(N instanceof m.default&&N.children.forEach(O),N.optimize(t))},A=c,P=0;A.length>0;P+=1){if(P>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(A.forEach(function(O){var N=o.find(O.target,!0);N!=null&&(N.domNode===O.target&&(O.type==="childList"?(E(o.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(H){var M=o.find(H,!1);E(M,!1),M instanceof m.default&&M.children.forEach(function(Z){E(Z,!1)})})):O.type==="attributes"&&E(N.prev)),E(N))}),this.children.forEach(T),y=(A=[].slice.call(this.observer.takeRecords())).slice();y.length>0;)c.push(y.pop())}},n.prototype.update=function(c,t){var d=this;t===void 0&&(t={}),(c=c||this.observer.takeRecords()).map(function(y){var E=o.find(y.target,!0);return E==null?null:E.domNode[o.DATA_KEY].mutations==null?(E.domNode[o.DATA_KEY].mutations=[y],E):(E.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y!=null&&y!==d&&y.domNode[o.DATA_KEY]!=null&&y.update(y.domNode[o.DATA_KEY].mutations||[],t)}),this.domNode[o.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,t),this.optimize(c,t)},n.blotName="scroll",n.defaultChild="block",n.scope=o.Scope.BLOCK_BLOT,n.tagName="DIV",n}(m.default);h.default=e},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(18),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){if(n.tagName!==r.tagName)return e.formats.call(this,n)},r.prototype.format=function(n,c){var t=this;n!==this.statics.blotName||c?e.prototype.format.call(this,n,c):(this.children.forEach(function(d){d instanceof m.default||(d=d.wrap(r.blotName,!0)),t.attributes.copy(d)}),this.unwrap())},r.prototype.formatAt=function(n,c,t,d){this.formats()[t]!=null||o.query(t,o.Scope.ATTRIBUTE)?this.isolate(n,c).format(t,d):e.prototype.formatAt.call(this,n,c,t,d)},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var c=this.formats();if(Object.keys(c).length===0)return this.unwrap();var t=this.next;t instanceof r&&t.prev===this&&function(d,y){if(Object.keys(d).length!==Object.keys(y).length)return!1;for(var E in d)if(d[E]!==y[E])return!1;return!0}(c,t.formats())&&(t.moveChildren(this),t.remove())},r.blotName="inline",r.scope=o.Scope.INLINE_BLOT,r.tagName="SPAN",r}(m.default);h.default=i},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(18),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){var c=o.query(r.blotName).tagName;if(n.tagName!==c)return e.formats.call(this,n)},r.prototype.format=function(n,c){o.query(n,o.Scope.BLOCK)!=null&&(n!==this.statics.blotName||c?e.prototype.format.call(this,n,c):this.replaceWith(r.blotName))},r.prototype.formatAt=function(n,c,t,d){o.query(t,o.Scope.BLOCK)!=null?this.format(t,d):e.prototype.formatAt.call(this,n,c,t,d)},r.prototype.insertAt=function(n,c,t){if(t==null||o.query(c,o.Scope.INLINE)!=null)e.prototype.insertAt.call(this,n,c,t);else{var d=this.split(n),y=o.create(c,t);d.parent.insertBefore(y,d)}},r.prototype.update=function(n,c){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,n,c)},r.blotName="block",r.scope=o.Scope.BLOCK_BLOT,r.tagName="P",r}(m.default);h.default=i},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var e in i)i.hasOwnProperty(e)&&(o[e]=i[e])},function(o,i){function e(){this.constructor=o}f(o,i),o.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(h,"__esModule",{value:!0});var m=function(o){function i(){return o!==null&&o.apply(this,arguments)||this}return w(i,o),i.formats=function(e){},i.prototype.format=function(e,r){o.prototype.formatAt.call(this,0,this.length(),e,r)},i.prototype.formatAt=function(e,r,n,c){e===0&&r===this.length()?this.format(n,c):o.prototype.formatAt.call(this,e,r,n,c)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(p(19).default);h.default=m},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(19),o=p(1),i=function(e){function r(n){var c=e.call(this,n)||this;return c.text=c.statics.value(c.domNode),c}return w(r,e),r.create=function(n){return document.createTextNode(n)},r.value=function(n){var c=n.data;return c.normalize&&(c=c.normalize()),c},r.prototype.deleteAt=function(n,c){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+c)},r.prototype.index=function(n,c){return this.domNode===n?c:-1},r.prototype.insertAt=function(n,c,t){t==null?(this.text=this.text.slice(0,n)+c+this.text.slice(n),this.domNode.data=this.text):e.prototype.insertAt.call(this,n,c,t)},r.prototype.length=function(){return this.text.length},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof r&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},r.prototype.position=function(n,c){return c===void 0&&(c=!1),[this.domNode,n]},r.prototype.split=function(n,c){if(c===void 0&&(c=!1),!c){if(n===0)return this;if(n===this.length())return this.next}var t=o.create(this.domNode.splitText(n));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},r.prototype.update=function(n,c){var t=this;n.some(function(d){return d.type==="characterData"&&d.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},r.prototype.value=function(){return this.text},r.blotName="text",r.scope=o.Scope.INLINE_BLOT,r}(m.default);h.default=i},function(_,h,p){"use strict";var f=document.createElement("div");if(f.classList.toggle("test-class",!1),f.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(m,o){return arguments.length>1&&!this.contains(m)==!o?o:w.call(this,m)}}String.prototype.startsWith||(String.prototype.startsWith=function(m,o){return o=o||0,this.substr(o,m.length)===m}),String.prototype.endsWith||(String.prototype.endsWith=function(m,o){var i=this.toString();(typeof o!="number"||!isFinite(o)||Math.floor(o)!==o||o>i.length)&&(o=i.length),o-=m.length;var e=i.indexOf(m,o);return e!==-1&&e===o}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("predicate must be a function");for(var i,e=Object(this),r=e.length>>>0,n=arguments[1],c=0;c<r;c++)if(i=e[c],o.call(n,i,c,e))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(_,h){var p=-1;function f(n,c,t){if(n==c)return n?[[0,n]]:[];(t<0||n.length<t)&&(t=null);var d=m(n,c),y=n.substring(0,d);d=o(n=n.substring(d),c=c.substring(d));var E=n.substring(n.length-d),T=function(A,P){var O;if(!A)return[[1,P]];if(!P)return[[p,A]];var N=A.length>P.length?A:P,H=A.length>P.length?P:A,M=N.indexOf(H);if(M!=-1)return O=[[1,N.substring(0,M)],[0,H],[1,N.substring(M+H.length)]],A.length>P.length&&(O[0][0]=O[2][0]=p),O;if(H.length==1)return[[p,A],[1,P]];var Z=function(q,L){var J=q.length>L.length?q:L,ce=q.length>L.length?L:q;if(J.length<4||2*ce.length<J.length)return null;function se(je,z,ge){for(var K,k,I,W,re=je.substring(ge,ge+Math.floor(je.length/4)),Y=-1,ae="";(Y=z.indexOf(re,Y+1))!=-1;){var Ce=m(je.substring(ge),z.substring(Y)),he=o(je.substring(0,ge),z.substring(0,Y));ae.length<he+Ce&&(ae=z.substring(Y-he,Y)+z.substring(Y,Y+Ce),K=je.substring(0,ge-he),k=je.substring(ge+Ce),I=z.substring(0,Y-he),W=z.substring(Y+Ce))}return 2*ae.length>=je.length?[K,k,I,W,ae]:null}var ve,ie,oe,pe,be,de=se(J,ce,Math.ceil(J.length/4)),Pe=se(J,ce,Math.ceil(J.length/2));return de||Pe?(ve=Pe?de&&de[4].length>Pe[4].length?de:Pe:de,q.length>L.length?(ie=ve[0],oe=ve[1],pe=ve[2],be=ve[3]):(pe=ve[0],be=ve[1],ie=ve[2],oe=ve[3]),[ie,oe,pe,be,ve[4]]):null}(A,P);if(Z){var B=Z[0],te=Z[1],ee=Z[2],V=Z[3],$=Z[4],F=f(B,ee),G=f(te,V);return F.concat([[0,$]],G)}return function(q,L){for(var J=q.length,ce=L.length,se=Math.ceil((J+ce)/2),ve=se,ie=2*se,oe=new Array(ie),pe=new Array(ie),be=0;be<ie;be++)oe[be]=-1,pe[be]=-1;oe[ve+1]=0,pe[ve+1]=0;for(var de=J-ce,Pe=de%2!=0,je=0,z=0,ge=0,K=0,k=0;k<se;k++){for(var I=-k+je;I<=k-z;I+=2){for(var W=ve+I,re=(Oe=I==-k||I!=k&&oe[W-1]<oe[W+1]?oe[W+1]:oe[W-1]+1)-I;Oe<J&&re<ce&&q.charAt(Oe)==L.charAt(re);)Oe++,re++;if(oe[W]=Oe,Oe>J)z+=2;else if(re>ce)je+=2;else if(Pe&&(Ce=ve+de-I)>=0&&Ce<ie&&pe[Ce]!=-1&&Oe>=(ae=J-pe[Ce]))return w(q,L,Oe,re)}for(var Y=-k+ge;Y<=k-K;Y+=2){for(var ae,Ce=ve+Y,he=(ae=Y==-k||Y!=k&&pe[Ce-1]<pe[Ce+1]?pe[Ce+1]:pe[Ce-1]+1)-Y;ae<J&&he<ce&&q.charAt(J-ae-1)==L.charAt(ce-he-1);)ae++,he++;if(pe[Ce]=ae,ae>J)K+=2;else if(he>ce)ge+=2;else if(!Pe){var Oe;if((W=ve+de-Y)>=0&&W<ie&&oe[W]!=-1&&(re=ve+(Oe=oe[W])-W,Oe>=(ae=J-ae)))return w(q,L,Oe,re)}}}return[[p,q],[1,L]]}(A,P)}(n=n.substring(0,n.length-d),c=c.substring(0,c.length-d));return y&&T.unshift([0,y]),E&&T.push([0,E]),i(T),t!=null&&(T=function(A,P){var O=function(te,ee){if(ee===0)return[0,te];for(var V=0,$=0;$<te.length;$++){var F=te[$];if(F[0]===p||F[0]===0){var G=V+F[1].length;if(ee===G)return[$+1,te];if(ee<G){te=te.slice();var q=ee-V,L=[F[0],F[1].slice(0,q)],J=[F[0],F[1].slice(q)];return te.splice($,1,L,J),[$+1,te]}V=G}}throw new Error("cursor_pos is out of bounds!")}(A,P),N=O[1],H=O[0],M=N[H],Z=N[H+1];if(M==null||M[0]!==0)return A;if(Z!=null&&M[1]+Z[1]===Z[1]+M[1])return N.splice(H,2,Z,M),r(N,H,2);if(Z!=null&&Z[1].indexOf(M[1])===0){N.splice(H,2,[Z[0],M[1]],[0,M[1]]);var B=Z[1].slice(M[1].length);return B.length>0&&N.splice(H+2,0,[Z[0],B]),r(N,H,3)}return A}(T,t)),function(A){for(var P=!1,O=function(B){return B.charCodeAt(0)>=56320&&B.charCodeAt(0)<=57343},N=2;N<A.length;N+=1)A[N-2][0]===0&&(H=A[N-2][1]).charCodeAt(H.length-1)>=55296&&H.charCodeAt(H.length-1)<=56319&&A[N-1][0]===p&&O(A[N-1][1])&&A[N][0]===1&&O(A[N][1])&&(P=!0,A[N-1][1]=A[N-2][1].slice(-1)+A[N-1][1],A[N][1]=A[N-2][1].slice(-1)+A[N][1],A[N-2][1]=A[N-2][1].slice(0,-1));var H;if(!P)return A;var M=[];for(N=0;N<A.length;N+=1)A[N][1].length>0&&M.push(A[N]);return M}(T)}function w(n,c,t,d){var y=n.substring(0,t),E=c.substring(0,d),T=n.substring(t),A=c.substring(d),P=f(y,E),O=f(T,A);return P.concat(O)}function m(n,c){if(!n||!c||n.charAt(0)!=c.charAt(0))return 0;for(var t=0,d=Math.min(n.length,c.length),y=d,E=0;t<y;)n.substring(E,y)==c.substring(E,y)?E=t=y:d=y,y=Math.floor((d-t)/2+t);return y}function o(n,c){if(!n||!c||n.charAt(n.length-1)!=c.charAt(c.length-1))return 0;for(var t=0,d=Math.min(n.length,c.length),y=d,E=0;t<y;)n.substring(n.length-y,n.length-E)==c.substring(c.length-y,c.length-E)?E=t=y:d=y,y=Math.floor((d-t)/2+t);return y}function i(n){n.push([0,""]);for(var c,t=0,d=0,y=0,E="",T="";t<n.length;)switch(n[t][0]){case 1:y++,T+=n[t][1],t++;break;case p:d++,E+=n[t][1],t++;break;case 0:d+y>1?(d!==0&&y!==0&&((c=m(T,E))!==0&&(t-d-y>0&&n[t-d-y-1][0]==0?n[t-d-y-1][1]+=T.substring(0,c):(n.splice(0,0,[0,T.substring(0,c)]),t++),T=T.substring(c),E=E.substring(c)),(c=o(T,E))!==0&&(n[t][1]=T.substring(T.length-c)+n[t][1],T=T.substring(0,T.length-c),E=E.substring(0,E.length-c))),d===0?n.splice(t-y,d+y,[1,T]):y===0?n.splice(t-d,d+y,[p,E]):n.splice(t-d-y,d+y,[p,E],[1,T]),t=t-d-y+(d?1:0)+(y?1:0)+1):t!==0&&n[t-1][0]==0?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,y=0,d=0,E="",T=""}n[n.length-1][1]===""&&n.pop();var A=!1;for(t=1;t<n.length-1;)n[t-1][0]==0&&n[t+1][0]==0&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)==n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),A=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),A=!0)),t++;A&&i(n)}var e=f;function r(n,c,t){for(var d=c+t-1;d>=0&&d>=c-1;d--)if(d+1<n.length){var y=n[d],E=n[d+1];y[0]===E[1]&&n.splice(d,2,[y[0],y[1]+E[1]])}return n}e.INSERT=1,e.DELETE=p,e.EQUAL=0,_.exports=e},function(_,h){function p(f){var w=[];for(var m in f)w.push(m);return w}(_.exports=typeof Object.keys=="function"?Object.keys:p).shim=p},function(_,h){var p=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function f(m){return Object.prototype.toString.call(m)=="[object Arguments]"}function w(m){return m&&typeof m=="object"&&typeof m.length=="number"&&Object.prototype.hasOwnProperty.call(m,"callee")&&!Object.prototype.propertyIsEnumerable.call(m,"callee")||!1}(h=_.exports=p?f:w).supported=f,h.unsupported=w},function(_,h){"use strict";var p=Object.prototype.hasOwnProperty,f="~";function w(){}function m(i,e,r){this.fn=i,this.context=e,this.once=r||!1}function o(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(f=!1)),o.prototype.eventNames=function(){var i,e,r=[];if(this._eventsCount===0)return r;for(e in i=this._events)p.call(i,e)&&r.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(i)):r},o.prototype.listeners=function(i,e){var r=f?f+i:i,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var c=0,t=n.length,d=new Array(t);c<t;c++)d[c]=n[c].fn;return d},o.prototype.emit=function(i,e,r,n,c,t){var d=f?f+i:i;if(!this._events[d])return!1;var y,E,T=this._events[d],A=arguments.length;if(T.fn){switch(T.once&&this.removeListener(i,T.fn,void 0,!0),A){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,e),!0;case 3:return T.fn.call(T.context,e,r),!0;case 4:return T.fn.call(T.context,e,r,n),!0;case 5:return T.fn.call(T.context,e,r,n,c),!0;case 6:return T.fn.call(T.context,e,r,n,c,t),!0}for(E=1,y=new Array(A-1);E<A;E++)y[E-1]=arguments[E];T.fn.apply(T.context,y)}else{var P,O=T.length;for(E=0;E<O;E++)switch(T[E].once&&this.removeListener(i,T[E].fn,void 0,!0),A){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,e);break;case 3:T[E].fn.call(T[E].context,e,r);break;case 4:T[E].fn.call(T[E].context,e,r,n);break;default:if(!y)for(P=1,y=new Array(A-1);P<A;P++)y[P-1]=arguments[P];T[E].fn.apply(T[E].context,y)}}return!0},o.prototype.on=function(i,e,r){var n=new m(e,r||this),c=f?f+i:i;return this._events[c]?this._events[c].fn?this._events[c]=[this._events[c],n]:this._events[c].push(n):(this._events[c]=n,this._eventsCount++),this},o.prototype.once=function(i,e,r){var n=new m(e,r||this,!0),c=f?f+i:i;return this._events[c]?this._events[c].fn?this._events[c]=[this._events[c],n]:this._events[c].push(n):(this._events[c]=n,this._eventsCount++),this},o.prototype.removeListener=function(i,e,r,n){var c=f?f+i:i;if(!this._events[c])return this;if(!e)return--this._eventsCount==0?this._events=new w:delete this._events[c],this;var t=this._events[c];if(t.fn)t.fn!==e||n&&!t.once||r&&t.context!==r||(--this._eventsCount==0?this._events=new w:delete this._events[c]);else{for(var d=0,y=[],E=t.length;d<E;d++)(t[d].fn!==e||n&&!t[d].once||r&&t[d].context!==r)&&y.push(t[d]);y.length?this._events[c]=y.length===1?y[0]:y:--this._eventsCount==0?this._events=new w:delete this._events[c]}return this},o.prototype.removeAllListeners=function(i){var e;return i?(e=f?f+i:i,this._events[e]&&(--this._eventsCount==0?this._events=new w:delete this._events[e])):(this._events=new w,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=f,o.EventEmitter=o,_!==void 0&&(_.exports=o)},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.matchText=h.matchSpacing=h.matchNewline=h.matchBlot=h.matchAttributor=h.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},w=function(pe,be){if(Array.isArray(pe))return pe;if(Symbol.iterator in Object(pe))return function(de,Pe){var je=[],z=!0,ge=!1,K=void 0;try{for(var k,I=de[Symbol.iterator]();!(z=(k=I.next()).done)&&(je.push(k.value),!Pe||je.length!==Pe);z=!0);}catch(W){ge=!0,K=W}finally{try{!z&&I.return&&I.return()}finally{if(ge)throw K}}return je}(pe,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function oe(pe,be){for(var de=0;de<be.length;de++){var Pe=be[de];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(pe,Pe.key,Pe)}}return function(pe,be,de){return be&&oe(pe.prototype,be),de&&oe(pe,de),pe}}(),o=O(p(3)),i=O(p(2)),e=O(p(0)),r=O(p(5)),n=O(p(10)),c=O(p(9)),t=p(36),d=p(37),y=O(p(13)),E=p(26),T=p(38),A=p(39),P=p(40);function O(oe){return oe&&oe.__esModule?oe:{default:oe}}function N(oe,pe,be){return pe in oe?Object.defineProperty(oe,pe,{value:be,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=be,oe}var H=(0,n.default)("quill:clipboard"),M="__ql-matcher",Z=[[Node.TEXT_NODE,ie],[Node.TEXT_NODE,se],["br",function(oe,pe){return F(pe,`
`)||pe.insert(`
`),pe}],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,function(oe,pe){var be={},de=oe.style||{};return de.fontStyle&&$(oe).fontStyle==="italic"&&(be.italic=!0),de.fontWeight&&($(oe).fontWeight.startsWith("bold")||parseInt($(oe).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(pe=V(pe,be)),parseFloat(de.textIndent||0)>0&&(pe=new i.default().insert("	").concat(pe)),pe}],["li",function(oe,pe){var be=e.default.query(oe);if(be==null||be.blotName!=="list-item"||!F(pe,`
`))return pe;for(var de=-1,Pe=oe.parentNode;!Pe.classList.contains("ql-clipboard");)(e.default.query(Pe)||{}).blotName==="list"&&(de+=1),Pe=Pe.parentNode;return de<=0?pe:pe.compose(new i.default().retain(pe.length()-1).retain(1,{indent:de}))}],["b",L.bind(L,"bold")],["i",L.bind(L,"italic")],["style",function(){return new i.default}]],B=[t.AlignAttribute,T.DirectionAttribute].reduce(function(oe,pe){return oe[pe.keyName]=pe,oe},{}),te=[t.AlignStyle,d.BackgroundStyle,E.ColorStyle,T.DirectionStyle,A.FontStyle,P.SizeStyle].reduce(function(oe,pe){return oe[pe.keyName]=pe,oe},{}),ee=function(oe){function pe(be,de){(function(je,z){if(!(je instanceof z))throw new TypeError("Cannot call a class as a function")})(this,pe);var Pe=function(je,z){if(!je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||typeof z!="object"&&typeof z!="function"?je:z}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,be,de));return Pe.quill.root.addEventListener("paste",Pe.onPaste.bind(Pe)),Pe.container=Pe.quill.addContainer("ql-clipboard"),Pe.container.setAttribute("contenteditable",!0),Pe.container.setAttribute("tabindex",-1),Pe.matchers=[],Z.concat(Pe.options.matchers).forEach(function(je){var z=w(je,2),ge=z[0],K=z[1];(de.matchVisual||K!==ve)&&Pe.addMatcher(ge,K)}),Pe}return function(be,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);be.prototype=Object.create(de&&de.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(be,de):be.__proto__=de)}(pe,oe),m(pe,[{key:"addMatcher",value:function(de,Pe){this.matchers.push([de,Pe])}},{key:"convert",value:function(de){if(typeof de=="string")return this.container.innerHTML=de.replace(/\>\r?\n +\</g,"><"),this.convert();var Pe=this.quill.getFormat(this.quill.selection.savedRange.index);if(Pe[y.default.blotName]){var je=this.container.innerText;return this.container.innerHTML="",new i.default().insert(je,N({},y.default.blotName,Pe[y.default.blotName]))}var z=this.prepareMatching(),ge=w(z,2),K=ge[0],k=ge[1],I=q(this.container,K,k);return F(I,`
`)&&I.ops[I.ops.length-1].attributes==null&&(I=I.compose(new i.default().retain(I.length()-1).delete(1))),H.log("convert",this.container.innerHTML,I),this.container.innerHTML="",I}},{key:"dangerouslyPasteHTML",value:function(de,Pe){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;if(typeof de=="string")this.quill.setContents(this.convert(de),Pe),this.quill.setSelection(0,r.default.sources.SILENT);else{var z=this.convert(Pe);this.quill.updateContents(new i.default().retain(de).concat(z),je),this.quill.setSelection(de+z.length(),r.default.sources.SILENT)}}},{key:"onPaste",value:function(de){var Pe=this;if(!de.defaultPrevented&&this.quill.isEnabled()){var je=this.quill.getSelection(),z=new i.default().retain(je.index),ge=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(r.default.sources.SILENT),setTimeout(function(){z=z.concat(Pe.convert()).delete(je.length),Pe.quill.updateContents(z,r.default.sources.USER),Pe.quill.setSelection(z.length()-je.length,r.default.sources.SILENT),Pe.quill.scrollingContainer.scrollTop=ge,Pe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var de=this,Pe=[],je=[];return this.matchers.forEach(function(z){var ge=w(z,2),K=ge[0],k=ge[1];switch(K){case Node.TEXT_NODE:je.push(k);break;case Node.ELEMENT_NODE:Pe.push(k);break;default:[].forEach.call(de.container.querySelectorAll(K),function(I){I[M]=I[M]||[],I[M].push(k)})}}),[Pe,je]}}]),pe}(c.default);function V(oe,pe,be){return(pe===void 0?"undefined":f(pe))==="object"?Object.keys(pe).reduce(function(de,Pe){return V(de,Pe,pe[Pe])},oe):oe.reduce(function(de,Pe){return Pe.attributes&&Pe.attributes[pe]?de.push(Pe):de.insert(Pe.insert,(0,o.default)({},N({},pe,be),Pe.attributes))},new i.default)}function $(oe){if(oe.nodeType!==Node.ELEMENT_NODE)return{};var pe="__ql-computed-style";return oe[pe]||(oe[pe]=window.getComputedStyle(oe))}function F(oe,pe){for(var be="",de=oe.ops.length-1;de>=0&&be.length<pe.length;--de){var Pe=oe.ops[de];if(typeof Pe.insert!="string")break;be=Pe.insert+be}return be.slice(-1*pe.length)===pe}function G(oe){if(oe.childNodes.length===0)return!1;var pe=$(oe);return["block","list-item"].indexOf(pe.display)>-1}function q(oe,pe,be){return oe.nodeType===oe.TEXT_NODE?be.reduce(function(de,Pe){return Pe(oe,de)},new i.default):oe.nodeType===oe.ELEMENT_NODE?[].reduce.call(oe.childNodes||[],function(de,Pe){var je=q(Pe,pe,be);return Pe.nodeType===oe.ELEMENT_NODE&&(je=pe.reduce(function(z,ge){return ge(Pe,z)},je),je=(Pe[M]||[]).reduce(function(z,ge){return ge(Pe,z)},je)),de.concat(je)},new i.default):new i.default}function L(oe,pe,be){return V(be,oe,!0)}function J(oe,pe){var be=e.default.Attributor.Attribute.keys(oe),de=e.default.Attributor.Class.keys(oe),Pe=e.default.Attributor.Style.keys(oe),je={};return be.concat(de).concat(Pe).forEach(function(z){var ge=e.default.query(z,e.default.Scope.ATTRIBUTE);ge!=null&&(je[ge.attrName]=ge.value(oe),je[ge.attrName])||((ge=B[z])==null||ge.attrName!==z&&ge.keyName!==z||(je[ge.attrName]=ge.value(oe)||void 0),(ge=te[z])==null||ge.attrName!==z&&ge.keyName!==z||(ge=te[z],je[ge.attrName]=ge.value(oe)||void 0))}),Object.keys(je).length>0&&(pe=V(pe,je)),pe}function ce(oe,pe){var be=e.default.query(oe);if(be==null)return pe;if(be.prototype instanceof e.default.Embed){var de={},Pe=be.value(oe);Pe!=null&&(de[be.blotName]=Pe,pe=new i.default().insert(de,be.formats(oe)))}else typeof be.formats=="function"&&(pe=V(pe,be.blotName,be.formats(oe)));return pe}function se(oe,pe){return F(pe,`
`)||(G(oe)||pe.length()>0&&oe.nextSibling&&G(oe.nextSibling))&&pe.insert(`
`),pe}function ve(oe,pe){if(G(oe)&&oe.nextElementSibling!=null&&!F(pe,`

`)){var be=oe.offsetHeight+parseFloat($(oe).marginTop)+parseFloat($(oe).marginBottom);oe.nextElementSibling.offsetTop>oe.offsetTop+1.5*be&&pe.insert(`
`)}return pe}function ie(oe,pe){var be=oe.data;if(oe.parentNode.tagName==="O:P")return pe.insert(be.trim());if(be.trim().length===0&&oe.parentNode.classList.contains("ql-clipboard"))return pe;if(!$(oe.parentNode).whiteSpace.startsWith("pre")){var de=function(je,z){return(z=z.replace(/[^\u00a0]/g,"")).length<1&&je?" ":z};be=(be=be.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,de.bind(de,!0)),(oe.previousSibling==null&&G(oe.parentNode)||oe.previousSibling!=null&&G(oe.previousSibling))&&(be=be.replace(/^\s+/,de.bind(de,!1))),(oe.nextSibling==null&&G(oe.parentNode)||oe.nextSibling!=null&&G(oe.nextSibling))&&(be=be.replace(/\s+$/,de.bind(de,!1)))}return pe.insert(be)}ee.DEFAULTS={matchers:[],matchVisual:!0},h.default=ee,h.matchAttributor=J,h.matchBlot=ce,h.matchNewline=se,h.matchSpacing=ve,h.matchText=ie},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var y=Object.getPrototypeOf(n);return y===null?void 0:r(y,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,[{key:"optimize",value:function(t){m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),n}(((f=p(6))&&f.__esModule?f:{default:f}).default);e.blotName="bold",e.tagName=["STRONG","B"],h.default=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.addControls=h.default=void 0;var f=function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function(O,N){var H=[],M=!0,Z=!1,B=void 0;try{for(var te,ee=O[Symbol.iterator]();!(M=(te=ee.next()).done)&&(H.push(te.value),!N||H.length!==N);M=!0);}catch(V){Z=!0,B=V}finally{try{!M&&ee.return&&ee.return()}finally{if(Z)throw B}}return H}(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function T(A,P){for(var O=0;O<P.length;O++){var N=P[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,P,O){return P&&T(A.prototype,P),O&&T(A,O),A}}(),m=n(p(2)),o=n(p(0)),i=n(p(5)),e=n(p(10)),r=n(p(9));function n(T){return T&&T.__esModule?T:{default:T}}function c(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?T:A}var t=(0,e.default)("quill:toolbar"),d=function(T){function A(P,O){(function(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")})(this,A);var N,H=c(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,O));if(Array.isArray(H.options.container)){var M=document.createElement("div");E(M,H.options.container),P.container.parentNode.insertBefore(M,P.container),H.container=M}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;return H.container instanceof HTMLElement?(H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(Z){H.addHandler(Z,H.options.handlers[Z])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(Z){H.attach(Z)}),H.quill.on(i.default.events.EDITOR_CHANGE,function(Z,B){Z===i.default.events.SELECTION_CHANGE&&H.update(B)}),H.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var Z=H.quill.selection.getRange(),B=f(Z,1)[0];H.update(B)}),H):(N=t.error("Container required for toolbar",H.options),c(H,N))}return function(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}(A,T),w(A,[{key:"addHandler",value:function(O,N){this.handlers[O]=N}},{key:"attach",value:function(O){var N=this,H=[].find.call(O.classList,function(Z){return Z.indexOf("ql-")===0});if(H){if(H=H.slice("ql-".length),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null)return void t.warn("ignoring attaching to disabled format",H,O);if(o.default.query(H)==null)return void t.warn("ignoring attaching to nonexistent format",H,O)}var M=O.tagName==="SELECT"?"change":"click";O.addEventListener(M,function(Z){var B=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var te=O.options[O.selectedIndex];B=!te.hasAttribute("selected")&&(te.value||!1)}else B=!O.classList.contains("ql-active")&&(O.value||!O.hasAttribute("value")),Z.preventDefault();N.quill.focus();var ee=N.quill.selection.getRange(),V=f(ee,1)[0];if(N.handlers[H]!=null)N.handlers[H].call(N,B);else if(o.default.query(H).prototype instanceof o.default.Embed){if(!(B=prompt("Enter "+H)))return;N.quill.updateContents(new m.default().retain(V.index).delete(V.length).insert(function($,F,G){return F in $?Object.defineProperty($,F,{value:G,enumerable:!0,configurable:!0,writable:!0}):$[F]=G,$}({},H,B)),i.default.sources.USER)}else N.quill.format(H,B,i.default.sources.USER);N.update(V)}),this.controls.push([H,O])}}},{key:"update",value:function(O){var N=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(H){var M=f(H,2),Z=M[0],B=M[1];if(B.tagName==="SELECT"){var te=void 0;if(O==null)te=null;else if(N[Z]==null)te=B.querySelector("option[selected]");else if(!Array.isArray(N[Z])){var ee=N[Z];typeof ee=="string"&&(ee=ee.replace(/\"/g,'\\"')),te=B.querySelector('option[value="'+ee+'"]')}te==null?(B.value="",B.selectedIndex=-1):te.selected=!0}else if(O==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var V=N[Z]===B.getAttribute("value")||N[Z]!=null&&N[Z].toString()===B.getAttribute("value")||N[Z]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",V)}else B.classList.toggle("ql-active",N[Z]!=null)})}}]),A}(r.default);function y(T,A,P){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+A),P!=null&&(O.value=P),T.appendChild(O)}function E(T,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(P){var O=document.createElement("span");O.classList.add("ql-formats"),P.forEach(function(N){if(typeof N=="string")y(O,N);else{var H=Object.keys(N)[0],M=N[H];Array.isArray(M)?function(Z,B,te){var ee=document.createElement("select");ee.classList.add("ql-"+B),te.forEach(function(V){var $=document.createElement("option");V!==!1?$.setAttribute("value",V):$.setAttribute("selected","selected"),ee.appendChild($)}),Z.appendChild(ee)}(O,H,M):y(O,H,M)}}),T.appendChild(O)})}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var A=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(N){o.default.query(N,o.default.Scope.INLINE)!=null&&A.quill.format(N,!1)})}else this.quill.removeFormat(P,i.default.sources.USER)},direction:function(A){var P=this.quill.getFormat().align;A==="rtl"&&P==null?this.quill.format("align","right",i.default.sources.USER):A||P!=="right"||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",A,i.default.sources.USER)},indent:function(A){var P=this.quill.getSelection(),O=this.quill.getFormat(P),N=parseInt(O.indent||0);if(A==="+1"||A==="-1"){var H=A==="+1"?1:-1;O.direction==="rtl"&&(H*=-1),this.quill.format("indent",N+H,i.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,i.default.sources.USER)},list:function(A){var P=this.quill.getSelection(),O=this.quill.getFormat(P);A==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",A,i.default.sources.USER)}}},h.default=d,h.addControls=E},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var c=Object.getOwnPropertyDescriptor(e,r);if(c===void 0){var t=Object.getPrototypeOf(e);return t===null?void 0:i(t,r,n)}if("value"in c)return c.value;var d=c.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return c.label.innerHTML=n,c.container.classList.add("ql-color-picker"),[].slice.call(c.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),c}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"buildItem",value:function(n){var c=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,n);return c.style.backgroundColor=n.getAttribute("value")||"",c}},{key:"selectItem",value:function(n,c){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,c);var t=this.label.querySelector(".ql-color-label"),d=n&&n.getAttribute("data-value")||"";t&&(t.tagName==="line"?t.style.stroke=d:t.style.fill=d)}}]),e}(((f=p(28))&&f.__esModule?f:{default:f}).default);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var c=Object.getOwnPropertyDescriptor(e,r);if(c===void 0){var t=Object.getPrototypeOf(e);return t===null?void 0:i(t,r,n)}if("value"in c)return c.value;var d=c.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return c.container.classList.add("ql-icon-picker"),[].forEach.call(c.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),c.defaultItem=c.container.querySelector(".ql-selected"),c.selectItem(c.defaultItem),c}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"selectItem",value:function(n,c){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,c),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),e}(((f=p(28))&&f.__esModule?f:{default:f}).default);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){var e=this;(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.boundsContainer=i||document.body,this.root=o.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){e.root.style.marginTop=-1*e.quill.root.scrollTop+"px"}),this.hide()}return f(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(i){var e=i.left+i.width/2-this.root.offsetWidth/2,r=i.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),c=this.root.getBoundingClientRect(),t=0;if(c.right>n.right&&(t=n.right-c.right,this.root.style.left=e+t+"px"),c.left<n.left&&(t=n.left-c.left,this.root.style.left=e+t+"px"),c.bottom>n.bottom){var d=c.bottom-c.top,y=i.bottom-i.top+d;this.root.style.top=r-y+"px",this.root.classList.add("ql-flip")}return t}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m}();h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function O(N,H,M){N===null&&(N=Function.prototype);var Z=Object.getOwnPropertyDescriptor(N,H);if(Z===void 0){var B=Object.getPrototypeOf(N);return B===null?void 0:O(B,H,M)}if("value"in Z)return Z.value;var te=Z.get;return te!==void 0?te.call(M):void 0},w=function(){function O(N,H){for(var M=0;M<H.length;M++){var Z=H[M];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}return function(N,H,M){return H&&O(N.prototype,H),M&&O(N,M),N}}(),m=t(p(3)),o=t(p(8)),i=p(43),e=t(i),r=t(p(27)),n=p(15),c=t(p(41));function t(O){return O&&O.__esModule?O:{default:O}}function d(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function y(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||typeof N!="object"&&typeof N!="function"?O:N}function E(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=function(O){function N(H,M){d(this,N),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=T);var Z=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,H,M));return Z.quill.container.classList.add("ql-snow"),Z}return E(N,O),w(N,[{key:"extendToolbar",value:function(M){M.container.classList.add("ql-snow"),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),c.default),this.tooltip=new P(this.quill,this.options.bounds),M.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Z,B){M.handlers.link.call(M,!B.format.link)})}}]),N}(e.default);A.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){if(N){var H=this.quill.getSelection();if(H==null||H.length==0)return;var M=this.quill.getText(H);/^\S+@\S+\.\S+$/.test(M)&&M.indexOf("mailto:")!==0&&(M="mailto:"+M),this.quill.theme.tooltip.edit("link",M)}else this.quill.format("link",!1)}}}}});var P=function(O){function N(H,M){d(this,N);var Z=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,H,M));return Z.preview=Z.root.querySelector("a.ql-preview"),Z}return E(N,O),w(N,[{key:"listen",value:function(){var M=this;f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Z){M.root.classList.contains("ql-editing")?M.save():M.edit("link",M.preview.textContent),Z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Z){if(M.linkRange!=null){var B=M.linkRange;M.restoreFocus(),M.quill.formatText(B,"link",!1,o.default.sources.USER),delete M.linkRange}Z.preventDefault(),M.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(Z,B,te){if(Z!=null){if(Z.length===0&&te===o.default.sources.USER){var ee=function(G,q){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return function(L,J){var ce=[],se=!0,ve=!1,ie=void 0;try{for(var oe,pe=L[Symbol.iterator]();!(se=(oe=pe.next()).done)&&(ce.push(oe.value),!J||ce.length!==J);se=!0);}catch(be){ve=!0,ie=be}finally{try{!se&&pe.return&&pe.return()}finally{if(ve)throw ie}}return ce}(G,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(M.quill.scroll.descendant(r.default,Z.index),2),V=ee[0],$=ee[1];if(V!=null){M.linkRange=new n.Range(Z.index-$,V.length());var F=r.default.formats(V.domNode);return M.preview.textContent=F,M.preview.setAttribute("href",F),M.show(),void M.position(M.quill.getBounds(M.linkRange))}}else delete M.linkRange;M.hide()}})}},{key:"show",value:function(){f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),N}(i.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),h.default=A},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=se(p(29)),w=p(36),m=p(38),o=p(64),i=se(p(65)),e=se(p(66)),r=p(67),n=se(r),c=p(37),t=p(26),d=p(39),y=p(40),E=se(p(56)),T=se(p(68)),A=se(p(27)),P=se(p(69)),O=se(p(70)),N=se(p(71)),H=se(p(72)),M=se(p(73)),Z=p(13),B=se(Z),te=se(p(74)),ee=se(p(75)),V=se(p(57)),$=se(p(41)),F=se(p(28)),G=se(p(59)),q=se(p(60)),L=se(p(61)),J=se(p(108)),ce=se(p(62));function se(ve){return ve&&ve.__esModule?ve:{default:ve}}f.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":c.BackgroundClass,"attributors/class/color":t.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":c.BackgroundStyle,"attributors/style/color":t.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":y.SizeStyle},!0),f.default.register({"formats/align":w.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":o.IndentClass,"formats/background":c.BackgroundStyle,"formats/color":t.ColorStyle,"formats/font":d.FontClass,"formats/size":y.SizeClass,"formats/blockquote":i.default,"formats/code-block":B.default,"formats/header":e.default,"formats/list":n.default,"formats/bold":E.default,"formats/code":Z.Code,"formats/italic":T.default,"formats/link":A.default,"formats/script":P.default,"formats/strike":O.default,"formats/underline":N.default,"formats/image":H.default,"formats/video":M.default,"formats/list/item":r.ListItem,"modules/formula":te.default,"modules/syntax":ee.default,"modules/toolbar":V.default,"themes/bubble":J.default,"themes/snow":ce.default,"ui/icons":$.default,"ui/picker":F.default,"ui/icon-picker":q.default,"ui/color-picker":G.default,"ui/tooltip":L.default},!0),h.default=f.default},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IndentClass=void 0;var f,w=function(){function c(t,d){for(var y=0;y<d.length;y++){var E=d[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(t,E.key,E)}}return function(t,d,y){return d&&c(t.prototype,d),y&&c(t,y),t}}(),m=function c(t,d,y){t===null&&(t=Function.prototype);var E=Object.getOwnPropertyDescriptor(t,d);if(E===void 0){var T=Object.getPrototypeOf(t);return T===null?void 0:c(T,d,y)}if("value"in E)return E.value;var A=E.get;return A!==void 0?A.call(y):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}function e(c,t){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?c:t}var r=function(c){function t(){return i(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(t,c),w(t,[{key:"add",value:function(y,E){if(E==="+1"||E==="-1"){var T=this.value(y)||0;E=E==="+1"?T+1:T-1}return E===0?(this.remove(y),!0):m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,y,E)}},{key:"canAdd",value:function(y,E){return m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,y,E)||m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,y,parseInt(E))}},{key:"value",value:function(y){return parseInt(m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,y))||void 0}}]),t}(o.default.Attributor.Class),n=new r("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});h.IndentClass=n},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(4))&&f.__esModule?f:{default:f}).default);o.blotName="blockquote",o.tagName="blockquote",h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function e(r,n){for(var c=0;c<n.length;c++){var t=n[c];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,n,c){return n&&e(r.prototype,n),c&&e(r,c),r}}();function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}var i=function(e){function r(){return m(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(n,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);n.prototype=Object.create(c&&c.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(n,c):n.__proto__=c)}(r,e),w(r,null,[{key:"formats",value:function(c){return this.tagName.indexOf(c.tagName)+1}}]),r}(((f=p(4))&&f.__esModule?f:{default:f}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],h.default=i},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.ListItem=void 0;var f=function(){function y(E,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,T,A){return T&&y(E.prototype,T),A&&y(E,A),E}}(),w=function y(E,T,A){E===null&&(E=Function.prototype);var P=Object.getOwnPropertyDescriptor(E,T);if(P===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:y(O,T,A)}if("value"in P)return P.value;var N=P.get;return N!==void 0?N.call(A):void 0},m=e(p(0)),o=e(p(4)),i=e(p(25));function e(y){return y&&y.__esModule?y:{default:y}}function r(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function n(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?y:E}function c(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var t=function(y){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return c(E,y),f(E,[{key:"format",value:function(A,P){A!==d.blotName||P?w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,A,P):this.replaceWith(m.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,P){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,P),this):(this.parent.unwrap(),w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,A,P))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:w(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,A)}}]),E}(o.default);t.blotName="list-item",t.tagName="LI";var d=function(y){function E(T){r(this,E);var A=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T)),P=function(N){if(N.target.parentNode===T){var H=A.statics.formats(T),M=m.default.find(N.target);H==="checked"?M.format("list","unchecked"):H==="unchecked"&&M.format("list","checked")}};return T.addEventListener("touchstart",P),T.addEventListener("mousedown",P),A}return c(E,y),f(E,null,[{key:"create",value:function(A){var P=A==="ordered"?"OL":"UL",O=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,P);return A!=="checked"&&A!=="unchecked"||O.setAttribute("data-checked",A==="checked"),O}},{key:"formats",value:function(A){return A.tagName==="OL"?"ordered":A.tagName==="UL"?A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),f(E,[{key:"format",value:function(A,P){this.children.length>0&&this.children.tail.format(A,P)}},{key:"formats",value:function(){return A={},P=this.statics.blotName,O=this.statics.formats(this.domNode),P in A?Object.defineProperty(A,P,{value:O,enumerable:!0,configurable:!0,writable:!0}):A[P]=O,A;var A,P,O}},{key:"insertBefore",value:function(A,P){if(A instanceof t)w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,A,P);else{var O=P==null?this.length():P.offset(this),N=this.split(O);N.parent.insertBefore(A,N)}}},{key:"optimize",value:function(A){w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,A);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&P.domNode.tagName===this.domNode.tagName&&P.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(P.moveChildren(this),P.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var P=m.default.create(this.statics.defaultChild);A.moveChildren(P),this.appendChild(P)}w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,A)}}]),E}(i.default);d.blotName="list",d.scope=m.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[t],h.ListItem=t,h.default=d},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(56))&&f.__esModule?f:{default:f}).default);o.blotName="italic",o.tagName=["EM","I"],h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var y=Object.getPrototypeOf(n);return y===null?void 0:r(y,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,null,[{key:"create",value:function(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,t)}},{key:"formats",value:function(t){return t.tagName==="SUB"?"sub":t.tagName==="SUP"?"super":void 0}}]),n}(((f=p(6))&&f.__esModule?f:{default:f}).default);e.blotName="script",e.tagName=["SUB","SUP"],h.default=e},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(6))&&f.__esModule?f:{default:f}).default);o.blotName="strike",o.tagName="S",h.default=o},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(6))&&f.__esModule?f:{default:f}).default);o.blotName="underline",o.tagName="U",h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function t(d,y){for(var E=0;E<y.length;E++){var T=y[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,y,E){return y&&t(d.prototype,y),E&&t(d,E),d}}(),m=function t(d,y,E){d===null&&(d=Function.prototype);var T=Object.getOwnPropertyDescriptor(d,y);if(T===void 0){var A=Object.getPrototypeOf(d);return A===null?void 0:t(A,y,E)}if("value"in T)return T.value;var P=T.get;return P!==void 0?P.call(E):void 0},o=(f=p(0))&&f.__esModule?f:{default:f},i=p(27);function e(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}function r(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}var n=["alt","height","width"],c=function(t){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}(d,t),w(d,[{key:"format",value:function(E,T){n.indexOf(E)>-1?T?this.domNode.setAttribute(E,T):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,T)}}],[{key:"create",value:function(E){var T=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return typeof E=="string"&&T.setAttribute("src",this.sanitize(E)),T}},{key:"formats",value:function(E){return n.reduce(function(T,A){return E.hasAttribute(A)&&(T[A]=E.getAttribute(A)),T},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,i.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.default.Embed);c.blotName="image",c.tagName="IMG",h.default=c},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function t(d,y){for(var E=0;E<y.length;E++){var T=y[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,y,E){return y&&t(d.prototype,y),E&&t(d,E),d}}(),m=function t(d,y,E){d===null&&(d=Function.prototype);var T=Object.getOwnPropertyDescriptor(d,y);if(T===void 0){var A=Object.getPrototypeOf(d);return A===null?void 0:t(A,y,E)}if("value"in T)return T.value;var P=T.get;return P!==void 0?P.call(E):void 0},o=p(4),i=(f=p(27))&&f.__esModule?f:{default:f};function e(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}function r(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}var n=["height","width"],c=function(t){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}(d,t),w(d,[{key:"format",value:function(E,T){n.indexOf(E)>-1?T?this.domNode.setAttribute(E,T):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,T)}}],[{key:"create",value:function(E){var T=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return T.setAttribute("frameborder","0"),T.setAttribute("allowfullscreen",!0),T.setAttribute("src",this.sanitize(E)),T}},{key:"formats",value:function(E){return n.reduce(function(T,A){return E.hasAttribute(A)&&(T[A]=E.getAttribute(A)),T},{})}},{key:"sanitize",value:function(E){return i.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",h.default=c},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.FormulaBlot=void 0;var f=function(){function y(E,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,T,A){return T&&y(E.prototype,T),A&&y(E,A),E}}(),w=function y(E,T,A){E===null&&(E=Function.prototype);var P=Object.getOwnPropertyDescriptor(E,T);if(P===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:y(O,T,A)}if("value"in P)return P.value;var N=P.get;return N!==void 0?N.call(A):void 0},m=e(p(35)),o=e(p(5)),i=e(p(9));function e(y){return y&&y.__esModule?y:{default:y}}function r(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function n(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?y:E}function c(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var t=function(y){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return c(E,y),f(E,null,[{key:"create",value:function(A){var P=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",A)),P}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),E}(m.default);t.blotName="formula",t.className="ql-formula",t.tagName="SPAN";var d=function(y){function E(){r(this,E);var T=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return c(E,y),f(E,null,[{key:"register",value:function(){o.default.register(t,!0)}}]),E}(i.default);h.FormulaBlot=t,h.default=d},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.CodeToken=h.CodeBlock=void 0;var f=function(){function E(T,A){for(var P=0;P<A.length;P++){var O=A[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,A,P){return A&&E(T.prototype,A),P&&E(T,P),T}}(),w=function E(T,A,P){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,A);if(O===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:E(N,A,P)}if("value"in O)return O.value;var H=O.get;return H!==void 0?H.call(P):void 0},m=e(p(0)),o=e(p(5)),i=e(p(9));function e(E){return E&&E.__esModule?E:{default:E}}function r(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function n(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?E:T}function c(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var t=function(E){function T(){return r(this,T),n(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return c(T,E),f(T,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),w(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),T}(e(p(13)).default);t.className="ql-syntax";var d=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),y=function(E){function T(A,P){r(this,T);var O=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,P));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var N=null;return O.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(N),N=setTimeout(function(){O.highlight(),N=null},O.options.interval)}),O.highlight(),O}return c(T,E),f(T,null,[{key:"register",value:function(){o.default.register(d,!0),o.default.register(t,!0)}}]),f(T,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(t).forEach(function(N){N.highlight(P.options.highlight)}),this.quill.update(o.default.sources.SILENT),O!=null&&this.quill.setSelection(O,o.default.sources.SILENT)}}}]),T}(i.default);y.DEFAULTS={highlight:window.hljs==null?null:function(E){return window.hljs.highlightAuto(E).value},interval:1e3},h.CodeBlock=t,h.CodeToken=d,h.default=y},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(_,h){_.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(_,h){_.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(_,h){_.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(_,h){_.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BubbleTooltip=void 0;var f=function P(O,N,H){O===null&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,N);if(M===void 0){var Z=Object.getPrototypeOf(O);return Z===null?void 0:P(Z,N,H)}if("value"in M)return M.value;var B=M.get;return B!==void 0?B.call(H):void 0},w=function(){function P(O,N){for(var H=0;H<N.length;H++){var M=N[H];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,N,H){return N&&P(O.prototype,N),H&&P(O,H),O}}(),m=c(p(3)),o=c(p(8)),i=p(43),e=c(i),r=p(15),n=c(p(41));function c(P){return P&&P.__esModule?P:{default:P}}function t(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function d(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?P:O}function y(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(P){function O(N,H){t(this,O),H.modules.toolbar!=null&&H.modules.toolbar.container==null&&(H.modules.toolbar.container=E);var M=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,H));return M.quill.container.classList.add("ql-bubble"),M}return y(O,P),w(O,[{key:"extendToolbar",value:function(H){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(H.container),this.buildButtons([].slice.call(H.container.querySelectorAll("button")),n.default),this.buildPickers([].slice.call(H.container.querySelectorAll("select")),n.default)}}]),O}(e.default);T.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=function(P){function O(N,H){t(this,O);var M=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,H));return M.quill.on(o.default.events.EDITOR_CHANGE,function(Z,B,te,ee){if(Z===o.default.events.SELECTION_CHANGE)if(B!=null&&B.length>0&&ee===o.default.sources.USER){M.show(),M.root.style.left="0px",M.root.style.width="",M.root.style.width=M.root.offsetWidth+"px";var V=M.quill.getLines(B.index,B.length);if(V.length===1)M.position(M.quill.getBounds(B));else{var $=V[V.length-1],F=M.quill.getIndex($),G=Math.min($.length()-1,B.index+B.length-F),q=M.quill.getBounds(new r.Range(F,G));M.position(q)}}else document.activeElement!==M.textbox&&M.quill.hasFocus()&&M.hide()}),M}return y(O,P),w(O,[{key:"listen",value:function(){var H=this;f(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){H.root.classList.remove("ql-editing")}),this.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!H.root.classList.contains("ql-hidden")){var M=H.quill.getSelection();M!=null&&H.position(H.quill.getBounds(M))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(H){var M=f(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,H),Z=this.root.querySelector(".ql-tooltip-arrow");if(Z.style.marginLeft="",M===0)return M;Z.style.marginLeft=-1*M-Z.offsetWidth/2+"px"}}]),O}(i.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),h.BubbleTooltip=A,h.default=T},function(_,h,p){_.exports=p(63)}]).default},ne.exports=D()},3697:function(ne,D,C){"use strict";var _=C(5972).functionsHaveConfigurableNames(),h=Object,p=TypeError;ne.exports=function(){if(this!=null&&this!==h(this))throw new p("RegExp.prototype.flags getter called on non-object");var f="";return this.hasIndices&&(f+="d"),this.global&&(f+="g"),this.ignoreCase&&(f+="i"),this.multiline&&(f+="m"),this.dotAll&&(f+="s"),this.unicode&&(f+="u"),this.sticky&&(f+="y"),f},_&&Object.defineProperty&&Object.defineProperty(ne.exports,"name",{value:"get flags"})},2847:function(ne,D,C){"use strict";var _=C(4289),h=C(5559),p=C(3697),f=C(1721),w=C(2753),m=h(f());_(m,{getPolyfill:f,implementation:p,shim:w}),ne.exports=m},1721:function(ne,D,C){"use strict";var _=C(3697),h=C(4289).supportsDescriptors,p=Object.getOwnPropertyDescriptor;ne.exports=function(){if(h&&/a/gim.flags==="gim"){var f=p(RegExp.prototype,"flags");if(f&&typeof f.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var w="",m={};if(Object.defineProperty(m,"hasIndices",{get:function(){w+="d"}}),Object.defineProperty(m,"sticky",{get:function(){w+="y"}}),w==="dy")return f.get}}return _}},2753:function(ne,D,C){"use strict";var _=C(4289).supportsDescriptors,h=C(1721),p=Object.getOwnPropertyDescriptor,f=Object.defineProperty,w=TypeError,m=Object.getPrototypeOf,o=/a/;ne.exports=function(){if(!_||!m)throw new w("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var i=h(),e=m(o),r=p(e,"flags");return r&&r.get===i||f(e,"flags",{configurable:!0,enumerable:!1,get:i}),i}}},ot={};function Qe(X){var ne=ot[X];if(ne!==void 0)return ne.exports;var D=ot[X]={exports:{}};return Ye[X].call(D.exports,D,D.exports,Qe),D.exports}Qe.n=function(X){var ne=X&&X.__esModule?function(){return X.default}:function(){return X};return Qe.d(ne,{a:ne}),ne},Qe.d=function(X,ne){for(var D in ne)Qe.o(ne,D)&&!Qe.o(X,D)&&Object.defineProperty(X,D,{enumerable:!0,get:ne[D]})},Qe.o=function(X,ne){return Object.prototype.hasOwnProperty.call(X,ne)},function(){"use strict";function X(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function ne(R,S){for(var u=0;u<S.length;u++){var b=S[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(R,b.key,b)}}function D(R,S,u){return S&&ne(R.prototype,S),u&&ne(R,u),Object.defineProperty(R,"prototype",{writable:!1}),R}function C(R,S){return C=Object.setPrototypeOf||function(u,b){return u.__proto__=b,u},C(R,S)}function _(R,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),S&&C(R,S)}function h(R){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(R)}function p(R,S){if(S&&(h(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(R)}function f(R){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},f(R)}var w=function(){function R(){X(this,R)}return D(R,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(u){return!1}},{key:"replace",value:function(u){}}]),R}();function m(R,S){for(;!Object.prototype.hasOwnProperty.call(R,S)&&(R=f(R))!==null;);return R}function o(){return o=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(R,S,u){var b=m(R,S);if(b){var x=Object.getOwnPropertyDescriptor(b,S);return x.get?x.get.call(arguments.length<3?R:u):x.value}},o.apply(this,arguments)}w.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var i=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l){var g;if(X(this,x),(g=b.call(this)).objId=v.getId(),g.moveToParentId=a.getId(),g.moveToPosition=s,g.oldParentId=v.getParent().getId(),g.oldPosition=v.getSiblingPosition(),g.oldContainerId=null,g.moveToContainerId=null,v.getData()instanceof he){var j=v.getData();g.oldContainerId=j.getValue("containerId");var U=l.getMainPanel().getContainerByItem(a);U!==null&&(g.moveToContainerId=U.getId())}return g.rb=l,g}return D(x,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var a=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<a&&a--,this.moveTo(this.moveToParentId,a,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(a,s,l){var g=this.rb.getDataObject(this.objId),j=this.rb.getDataObject(a);g!==null&&j!==null&&(g.getPanelItem().moveToPosition(j.getPanelItem(),s),g.getPanelItem().openParentItems(),this.rb.notifyEvent(g,w.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),x}(w),e=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,g){var j;X(this,x),(j=b.call(this)).objId=v,j.field=a,j.value=s,j.type=l,j.rb=g;var U=g.getDataObject(v);return j.oldValue=U.getValue(a),j.firstExecution=!0,j.select=!0,j.notifyChange=!0,j}return D(x,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(a){var s=this.rb.getDataObject(this.objId);if(s.setValue(this.field,a),this.field==="name"){var l=document.getElementById("rbro_menu_item_name".concat(this.objId));l.textContent=a,l.setAttribute("title",a),this.rb.notifyEvent(s,w.operation.rename)}!this.notifyChange||this.type===x.type.richText&&this.firstExecution||this.rb.notifyEvent(s,w.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(a){this.notifyChange=a}},{key:"allowReplace",value:function(a){return a instanceof x&&(this.type===x.type.text||this.type===x.type.richText)&&this.objId===a.objId&&this.field===a.field}},{key:"replace",value:function(a){this.oldValue=a.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),x}(w);e.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var r=function(){function R(S,u,b){X(this,R),this.rb=b,this.id=S,this.panelItem=null,this.name=u,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return D(R,[{key:"init",value:function(u){this.owner=u,this.el=u.getElement(),this.elContent=u.getContentElement(),this.panelItem=u.getPanelItem(),this.parent=u.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var u=this.parent;u!==null;)this.level++,u=u.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(u){this.elContent!==null&&this.elContent.append(u)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(u){this.parent=u,this.initLevel()}},{key:"isChildOf",value:function(u){for(var b=this.getParent();b!==null;){if(b===u)return!0;b=b.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(u){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(u){if(u!==null&&u!==this){var b=this.getOffset(),x=u.getOffset();return{x:b.x-x.x,y:b.y-x.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(u,b){var x=this.getOffset(),v=this.getSize();return u-=x.x,b-=x.y,u>=0&&b>=0&&u<v.width&&b<v.height}},{key:"clearErrors",value:function(){}}]),R}();function n(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return c(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?c(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function c(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}function t(R,S,u){var b=document.createElement(R);if(S)for(var x in S)S.hasOwnProperty(x)&&b.setAttribute(x,S[x]);return u&&(b.textContent=u),b}function d(R){for(;R.firstChild;)R.removeChild(R.firstChild)}function y(R,S,u,b){var x=b||{};u&&(x.for=u),R.append(t("label",x,S+":"))}function E(R){var S=R.getBoundingClientRect();return{top:S.top+window.scrollY,left:S.left+window.scrollX}}function T(R){R.addEventListener("keyup",function(S){var u=S.target.value,b=u.replace(/[^0-9]/g,"");u!==b&&(S.target.value=b)})}function A(R,S,u){var b=parseFloat(R.replace(",","."));return isNaN(b)||b<S?""+S:b>u?""+u:R}function P(R){if(typeof R=="number")return R;if(typeof R=="string"&&R!==""){var S=parseFloat(R.replace(",","."));if(!isNaN(S))return S}return 0}function O(R,S){var u=Math.ceil(R/S)*S;return u-R<=S>>1?u:u-S}function N(R,S){return Math.floor(R/S)*S}function H(R,S){return Math.ceil(R/S)*S}function M(R,S,u,b){var x,v={shown:!1,paletteId:S.getAttribute("id")+"_select"},a=b.getProperty("colors"),s=t("div",{class:"rbroColorPalette rbroHidden"}),l=n(a);try{for(l.s();!(x=l.n()).done;){var g=x.value;s.append(t("span",{style:"color: ".concat(g),"data-value":g,class:"rbroColorPaletteItem"}))}}catch(U){l.e(U)}finally{l.f()}u&&s.append(t("span",{"data-value":"clear",class:"rbroClearColorPalette"},b.getLabel("clear"))),s.addEventListener("click",function(U){var Q=U.target.dataset.value;Q&&(Q==="clear"?(S.value="",S.dispatchEvent(new Event("change"))):S.value=Q,S.dispatchEvent(new Event("change"))),s.classList.add("rbroHidden"),U.stopImmediatePropagation()});var j=t("div",{id:v.paletteId,class:"rbroColorPicker"});return j.addEventListener("click",function(U){s.classList.toggle("rbroHidden"),v.shown=!v.shown}),R.prepend(j),R.append(s),S.addEventListener("focus",function(U){R.classList.add("rbroActive")}),S.addEventListener("blur",function(U){R.classList.remove("rbroActive")}),v.documentClickListener=function(U){var Q=U.target.id;v.shown&&Q!==v.paletteId&&(s.classList.add("rbroHidden"),v.shown=!1)},document.addEventListener("click",v.documentClickListener),v.destroy=function(){v.documentClickListener&&(document.removeEventListener("click",v.documentClickListener),v.documentClickListener=null)},v}function Z(R){return!R||/^#[0-9A-F]{6}$/i.test(R)}function B(R){if(!(window.TouchEvent&&R instanceof TouchEvent))return{x:R.pageX,y:R.pageY};if(R.touches.length>0){var S=R.touches[R.touches.length-1];return{x:S.pageX,y:S.pageY}}return null}function te(R,S,u){var b=new FileReader;b.onload=function(x){var v=new Image;v.onload=function(){var a=document.createElement("canvas"),s=u.getProperty("imageMaxSize");s&&(v.width>s||v.height>s)&&(v.width>v.height?(v.height=v.height*(s/v.width),v.width=s):(v.width=v.width*(s/v.height),v.height=s));var l=a.getContext("2d");l.clearRect(0,0,a.width,a.height),a.width=v.width,a.height=v.height,l.drawImage(v,0,0,v.width,v.height);var g=a.toDataURL("image/webp");g.substring(0,15)!=="data:image/webp"&&(u.getProperty("imageRequireWebPFormat")?(g=null,alert(u.getLabel("docElementLoadImageWebPErrorMsg"))):g.length>x.target.result.length&&(g=x.target.result)),g&&S(g,R.name)},v.src=x.target.result},b.onerror=function(x){alert(u.getLabel("docElementLoadImageErrorMsg"))},b.readAsDataURL(R)}function ee(R,S,u){var b=u.getStyles();d(R),R.append(t("option",{value:""},u.getLabel("styleNone")));var x,v=n(b);try{for(v.s();!(x=v.n()).done;){var a=x.value,s=t("option",{value:a.getId()},a.getName());S&&S===String(a.getId())&&(s.selected=!0),R.append(s)}}catch(l){v.e(l)}finally{v.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var V=D(function R(S,u){X(this,R),this.value=S,this.type=u});function $(R,S){for(var u=0,b=[];u<R.length;){var x=R[u];if(/[0-9]/.test(x)){for(var v="";u<R.length&&/[0-9.]/.test(R[u]);)v+=R[u++];var a=parseFloat(v);b.push(new V(a,V.type.number))}else if(/[a-zA-Z]/.test(x)){for(var s="";u<R.length&&/[a-zA-Z0-9]/.test(R[u]);)s+=R[u++];if(s==="true")b.push(new V(!0,V.type.boolean));else if(s==="false")b.push(new V(!1,V.type.boolean));else if(s==="type")S!==null?b.push(new V(S.getElementType(),V.type.string)):b.push(new V("type",V.type.string));else if(S===null)b.push(new V(s,V.type.field));else{var l,g=S.getValue(s);l=g instanceof Number?V.type.number:g instanceof String?V.type.string:g instanceof Boolean?V.type.boolean:V.type.undefined,b.push(new V(g,l))}}else if(x!=="'")if(x!=="("&&x!==")")if(/[!=|&]/.test(x)){if(u++,x==="!"&&(u>=R.length||R[u]!=="=")){b.push(new V(V.operator.negate,V.type.operator));continue}if(!(u<R.length))throw new Error("Invalid token ".concat(x," at end of input"));var j=R[u];if(x==="!"&&j==="=")b.push(new V(V.operator.notEqual,V.type.operator)),u++;else if(x==="="&&j==="=")b.push(new V(V.operator.equal,V.type.operator)),u++;else if(x==="|"&&j==="|")b.push(new V(V.operator.or,V.type.operator)),u++;else{if(x!=="&"||j!=="&")throw new Error("Invalid token ".concat(j," at position ").concat(u));b.push(new V(V.operator.and,V.type.operator)),u++}}else{if(x!==" ")throw new Error("Invalid token ".concat(x," at position ").concat(u));u++}else b.push(new V(x,x==="("?V.type.bracketOpen:V.type.bracketClose)),u++;else{var U="";for(u++;u<R.length&&R[u]!=="'";)U+=R[u++];if(u>=R.length)throw new Error("Unterminated string token in input ".concat(R));b.push(new V(U,V.type.string)),u++}}return b}V.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},V.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var F={"!":4,"!=":3,"==":3,"||":2,"&&":1};function G(R,S){if(R.length===0)return!1;var u=R[R.length-1];return F[u.value]>=F[S.value]}function q(R,S){var u,b=S.pop().value;switch(R.value!==V.operator.negate&&(u=S.pop().value),R.value){case V.operator.and:return new V(u&&b,V.type.boolean);case V.operator.or:return new V(u||b,V.type.boolean);case V.operator.equal:return new V(u===b,V.type.boolean);case V.operator.notEqual:return new V(u!==b,V.type.boolean);case V.operator.negate:return new V(!b,V.type.boolean);default:throw new Error("Invalid operator: ".concat(R))}}function L(R,S){return function(u){for(var b=[],x=0;x<u.length;x++){var v=u[x];v.type!==V.type.operator?b.push(v):b.push(q(v,b))}var a=b.pop();return a.type===V.type.boolean?a.value:!!a.value}(function(u){for(var b=[],x=[],v=0;v<u.length;v++){var a=u[v];if(a.type===V.type.operator){for(;G(b,a);)x.push(b.pop());b.push(a)}else if(a.type===V.type.bracketOpen)b.push(a);else if(a.type===V.type.bracketClose){for(;b.length>0&&b[b.length-1]!==V.type.bracketOpen;)x.push(b.pop());b.pop()}else x.push(a)}for(var s=b.length-1;s>=0;s--)x.push(b[s]);return x}($(R,S)))}var J=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,g){var j;return X(this,x),(j=b.call(this,s,l,g)).panelItem=null,j.bandType=v,j.section=a,a||(v===x.bandType.header?(j.id="0_header",j.name=g.getLabel("bandHeader")):v===x.bandType.content?(j.id="0_content",j.name=g.getLabel("bandContent"),j.allowAllElements=!0):v===x.bandType.footer&&(j.id="0_footer",j.name=g.getLabel("bandFooter"))),j.el=null,j}return D(x,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(a){return a!==he.type.tableText&&(this.bandType===x.bandType.content||a!==he.type.pageBreak&&a!==he.type.table&&a!==he.type.section)}},{key:"getOffset",value:function(){var a=0;if(this.section)this.owner!==null&&(a=this.owner.getAbsolutePosition().y);else{var s=this.rb.getDocumentProperties();this.bandType===x.bandType.content&&s.getValue("header")?a=P(s.getValue("headerSize")):this.bandType===x.bandType.footer&&(a=this.rb.getDocument().getHeight()-P(s.getValue("footerSize")))}return{x:0,y:a}}},{key:"getSize",value:function(){var a=this.rb.getDocumentProperties(),s=a.getValue("width")-a.getValue("marginLeftVal")-a.getValue("marginRightVal"),l=0;return this.section?this.owner!==null&&(l=this.owner.getValue("heightVal")):this.bandType===x.bandType.header?l=a.getValue("headerSizeVal"):this.bandType===x.bandType.content?l=a.getValue("height")-a.getValue("headerSizeVal")-a.getValue("footerSizeVal")-a.getValue("marginTopVal")-a.getValue("marginBottomVal"):this.bandType===x.bandType.footer&&(l=a.getValue("footerSizeVal")),{width:s,height:l}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(a,s){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&o(f(x.prototype),"isInside",this).call(this,a,s)}}]),x}(r);function ce(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}function se(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return ve(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ve(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function ve(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}J.bandType={header:"header",content:"content",footer:"footer"};var ie=function(){function R(S,u,b){X(this,R),this.rb=b,this.id=S,this.name=b.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=R.alignment.left,this.verticalAlignment=R.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=b.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(u)}return D(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);this.borderWidthVal=P(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){if(this[u]=b,u.indexOf("border")!==-1&&(u==="borderWidth"&&(this.borderWidthVal=P(b)),R.setBorderValue(this,u,"",b,this.rb)),u!=="name"){var x,v=se(this.rb.getDocElements(!0));try{for(v.s();!(x=v.n()).done;)x.value.updateChangedStyle(this.getId())}catch(a){v.e(a)}finally{v.f()}}}},{key:"addCommandsForChangedProperty",value:function(u,b,x,v){var a,s=""+this.getId(),l=se(this.rb.getDocElements(!0));try{for(l.s();!(a=l.n()).done;){var g=a.value;if(g.hasProperty("styleId")){if(g.getValue("styleId")===s&&g.getValue(u)!==b){var j=new e(g.getId(),u,b,x,this.rb);j.disableSelect(),v.addCommand(j)}if(g.getValue("cs_styleId")===s&&g.getValue("cs_"+u)!==b){var U=new e(g.getId(),"cs_"+u,b,x,this.rb);U.disableSelect(),v.addCommand(U)}}}}catch(Q){l.e(Q)}finally{l.f()}}},{key:"addCommandsForDelete",value:function(u){var b,x,v=se(this.rb.getDocElements(!0));try{for(v.s();!(x=v.n()).done;){var a=x.value;a.getElementType()!==he.type.text&&a.getElementType()!==he.type.tableText||!a.getValue("styleId")||P(a.getValue("styleId"))!==this.id||(b=new e(a.getId(),"styleId","",e.type.text,this.rb),u.addCommand(b))}}catch(s){v.e(s)}finally{v.f()}b=new oe(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),u.addCommand(b)}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var u,b={},x=se(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;b[v]=this.getValue(v)}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(u,b,x,v,a){var s=b;if(x.length>0&&(s=s.substr(x.length)),s==="borderLeft"||s==="borderTop"||s==="borderRight"||s==="borderBottom"){var l=u.getValue("".concat(x,"borderLeft"))&&u.getValue("".concat(x,"borderTop"))&&u.getValue("".concat(x,"borderRight"))&&u.getValue("".concat(x,"borderBottom")),g="".concat(x,"borderAll");l!==u[g]&&(u[g]=l,a.notifyEvent(u,w.operation.change,g))}}}]),R}();ie.font={courier:"courier",helvetica:"helvetica",times:"times"},ie.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var oe=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,g,j){var U;return X(this,x),(U=b.call(this)).add=v,U.initialData=a,U.parentId=l,U.position=g,U.rb=j,U.id=s,U}return D(x,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var s=new ie(this.id,this.initialData,this.rb),l=new z("style",a.getPanelItem(),s,{draggable:!0},this.rb);l.openParentItems(),s.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),this.rb.addStyle(s)}}},{key:"deleteStyle",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteStyle(a))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),x}(w);function pe(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return be(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?be(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function be(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var de=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return X(this,x),(s=b.call(this)).name=v,s.rb=a,s.commands=[],s.selectObjectIds=[],s.selectionCmdIndex=[],s}return D(x,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex[this.selectionCmdIndex.length-1],s=0;s<this.commands.length;s++){var l=this.commands[s];l instanceof e&&l.setNotifyChange(s>=a)}for(var g=0;g<this.commands.length;g++)this.commands[g].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,s=this.commands.length-1;s>=0;s--){var l=this.commands[s];l instanceof e&&l.setNotifyChange(s<a)}for(var g=this.commands.length-1;g>=0;g--)this.commands[g].undo();this.selectObjects()}},{key:"addCommand",value:function(a){a instanceof e&&a.disableSelect(),this.commands.push(a)}},{key:"addSelection",value:function(a){this.selectObjectIds.indexOf(a)===-1&&this.selectObjectIds.push(a),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var a,s=!0,l=pe(this.selectObjectIds);try{for(l.s();!(a=l.n()).done;){var g=a.value;if(!this.rb.isSelectedObject(g)){s=!1;break}}}catch(_e){l.e(_e)}finally{l.f()}if(!s){var j,U=!0,Q=pe(this.selectObjectIds);try{for(Q.s();!(j=Q.n()).done;){var le=j.value;this.rb.selectObject(le,U),U=!1}}catch(_e){Q.e(_e)}finally{Q.f()}}}},{key:"allowReplace",value:function(a){if(a instanceof x){var s=a.getCommands();if(this.commands.length===s.length){for(var l=0;l<this.commands.length;l++)if(!this.commands[l].allowReplace(s[l]))return!1;return!0}}return!1}},{key:"replace",value:function(a){for(var s=a.getCommands(),l=0;l<this.commands.length;l++)this.commands[l].replace(s[l])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),x}(w);function Pe(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return je(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?je(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function je(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var z=function(){function R(S,u,b,x,v){var a=this;X(this,R),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,x),this.panelName=S;var s=b!==null?b.getName():"";this.id=b!==null?b.getId():x.id,this.parent=u,this.data=b,this.rb=v,this.children=[],this.dragEnterCount=0,this.element=t("li"),this.properties.visible||this.element.classList.add("rbroHidden");var l=t("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(l.setAttribute("draggable","true"),l.addEventListener("dragstart",function(Q){Q.dataTransfer.setData("text/plain",""),Q.dataTransfer.effectAllowed="move",a.rb.startBrowserDrag("panelItem",null,a.id),Q.stopPropagation()})),l.addEventListener("dragover",function(Q){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(Q.preventDefault(),Q.stopPropagation())}),l.addEventListener("dragenter",function(Q){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(l.classList.add("rbroMenuItemDragOver"),a.dragEnterCount++,Q.preventDefault())}),l.addEventListener("dragleave",function(Q){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(a.dragEnterCount--,a.dragEnterCount===0&&l.classList.remove("rbroMenuItemDragOver"))}),l.addEventListener("drop",function(Q){if(a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id){var le=a.getDropObjectInfo();if(le.allowDrop){a.dragEnterCount--,l.classList.remove("rbroMenuItemDragOver");var _e=new de("Move panel item",a.rb),we=a.rb.getDataObject(a.rb.getBrowserDragId());if(we instanceof he&&we.getValue("containerId")!==le.container.getId()){we.checkBounds(we.getValue("xVal"),we.getValue("yVal"),we.getValue("widthVal"),we.getValue("heightVal"),le.container.getSize(),_e);var Ee=new e(we.getId(),"containerId",le.container.getId(),e.type.internal,a.rb);_e.addCommand(Ee)}var Se=new i(we.getPanelItem(),le.panel,le.position,a.rb);return _e.addCommand(Se),a.rb.executeCommand(_e),Q.preventDefault(),!1}}});var g=t("div",{class:"rbroMenuItemText"});if(g.append(t("span",{id:"rbro_menu_item_name".concat(this.id)},s)),this.properties.showAdd){var j=t("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});j.addEventListener("click",function(Q){if(S==="parameter"){var le=new ge(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(le)}else if(S==="style"){var _e=new oe(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(_e)}var we=a.children[a.children.length-1];a.rb.selectObject(we.getId(),!0),Q.stopPropagation()}),l.append(j)}if(this.properties.showDelete){var U=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});U.addEventListener("click",function(Q){var le=null;S==="parameter"?le=new ge(!1,a.getData().toJS(),a.getId(),a.parent.getId(),a.getSiblingPosition(),a.rb):(S==="style"||a.isDocElementPanel()&&a.getData()instanceof he)&&(le=new de("Delete",a),a.getData().addCommandsForDelete(le)),le!==null&&a.rb.executeCommand(le),Q.stopPropagation()}),l.append(U)}l.addEventListener("click",function(Q){if(!a.properties.hasDetails||document.getElementById("rbro_menu_item".concat(a.id)).classList.contains("rbroMenuItemActive")){var le=document.getElementById("rbro_menu_item_children".concat(a.id));le&&(l.classList.toggle("rbroMenuItemOpen"),le.classList.toggle("rbroHidden"))}if(a.properties.hasDetails)if(a.rb.isSelectedObject(a.id))Q.shiftKey&&a.rb.deselectObject(a.id);else{var _e=!0;a.isDocElementPanel()&&(_e=!Q.shiftKey),a.rb.selectObject(a.id,_e)}}),this.properties.hasChildren&&(l.classList.add("rbroMenuItemNoChildren"),g.append(t("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(t("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),l.prepend(g),this.element.prepend(l)}return D(R,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(u){this.data=u,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=u!==null?u.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var u=[],b=this.getParent();b!==null;)u.push(b.id),b=b.getParent();return u}},{key:"openParentItems",value:function(){for(var u=this.getParent();u!==null;)u.open(),u=u.getParent()}},{key:"open",value:function(){var u=document.getElementById("rbro_menu_item_children".concat(this.getId()));u&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),u.classList.remove("rbroHidden"))}},{key:"close",value:function(){var u=document.getElementById("rbro_menu_item_children".concat(this.getId()));u&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),u.classList.add("rbroHidden"))}},{key:"appendChild",value:function(u){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(u),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(u.getElement())}},{key:"insertChild",value:function(u,b){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),u!==-1?this.children.splice(u,0,b):this.children.push(b);var x=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));u>=0&&u<x.length?x[u].before(b.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(b.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(u){return this.getChildByNameExclude(u,null)}},{key:"getChildByNameExclude",value:function(u,b){var x,v=Pe(this.children);try{for(v.s();!(x=v.n()).done;){var a=x.value;if(a.getData()!==null&&a.getData()!==b&&a.getData().getName()===u)return a}}catch(s){v.e(s)}finally{v.f()}return null}},{key:"removeChild",value:function(u){this.removeChildInternal(u,!0)}},{key:"removeChildInternal",value:function(u,b){for(var x=0;x<this.children.length;x++)if(u.getId()===this.children[x].getId()){if(this.children.splice(x,1),b&&u.getElement().remove(),this.children.length===0){var v=document.getElementById("rbro_menu_item".concat(this.getId()));v!==null&&v.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var u=this.getParent().getChildren(),b=0;b<u.length;b++)if(u[b]===this)return b}return 0}},{key:"moveTo",value:function(u){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=u,u.appendChild(this)}},{key:"moveToPosition",value:function(u,b){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=u,u.insertChild(b,this)}},{key:"clear",value:function(){this.children.length>0&&(d(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var u={allowDrop:!1,panel:null,position:-1,container:null},b=this.rb.getDataObject(this.rb.getBrowserDragId());if(b!==null){var x=!1;if(b instanceof he){if(this.data instanceof he&&this.data.isDroppingAllowed()?(u.container=this.data.getLinkedContainer(),u.container===null&&(u.container=this.data.getContainer(),x=!0)):this.panelName==="band"&&(u.container=this.data),u.container!==null&&u.container.isElementAllowed(b.getElementType())){u.allowDrop=!0;var v,a=Pe(b.getLinkedContainers());try{for(a.s();!(v=a.n()).done;){var s=v.value;if(s===u.container||u.container.isChildOf(s)){u.allowDrop=!1;break}}}catch(g){a.e(g)}finally{a.f()}}}else if(b instanceof Y)if(this.data instanceof Y){var l=this.data.getParent();l!==null?l.getValue("type")===Y.type.array?b.getValue("type")!==Y.type.array&&b.getValue("type")!==Y.type.map&&b.getValue("type")!==Y.type.sum&&b.getValue("type")!==Y.type.average&&(u.allowDrop=!0,x=!0):l.getValue("type")===Y.type.map&&b.getValue("type")!==Y.type.array&&b.getValue("type")!==Y.type.map&&(u.allowDrop=!0,x=!0):(u.allowDrop=!0,x=!0)}else this.panelName==="parameter"&&(u.allowDrop=!0);else b instanceof ie&&(this.data instanceof ie?(u.allowDrop=!0,x=!0):this.panelName==="style"&&(u.allowDrop=!0));u.allowDrop&&(x?(u.panel=this.getParent(),u.position=this.getSiblingPosition()+1):(u.panel=this,u.position=0),(u.panel===null||u.panel===b.getPanelItem().getParent()&&u.position===b.getPanelItem().getSiblingPosition())&&(u.allowDrop=!1))}return u}},{key:"isDocElementPanel",value:function(){return this.panelName===he.type.text||this.panelName===he.type.image||this.panelName===he.type.line||this.panelName===he.type.table||this.panelName===he.type.pageBreak||this.panelName===he.type.barCode||this.panelName===he.type.frame||this.panelName===he.type.section}}]),R}(),ge=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,g,j){var U;return X(this,x),(U=b.call(this)).add=v,U.initialData=a,U.parentId=l,U.position=g,U.rb=j,U.id=s,U.showDelete=!0,U}return D(x,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(a){this.showDelete=a}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var s=new Y(this.id,this.initialData,this.rb);this.rb.addParameter(s);var l=new z("parameter",a.getPanelItem(),s,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);l.openParentItems(),s.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),s.setup(),this.rb.notifyEvent(s,w.operation.add)}}},{key:"deleteParameter",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteParameter(a))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),x}(w);function K(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return k(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?k(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function k(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var I,W,re,Y=function(){function R(S,u,b){X(this,R),this.rb=b,this.id=S,this.name=b.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=R.type.string,this.arrayItemType=R.type.string,this.eval=!b.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.children=[],this.editable=b.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(u)}return D(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);"showOnlyNameType"in u&&u.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(u){u?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===R.type.array||this.type===R.type.map){var u,b=this.rb.getProperty("adminMode"),x=K(this.children);try{for(x.s();!(u=x.n()).done;){var v=u.value,a=new R(v.id||this.rb.getUniqueId(),v,this.rb);this.rb.addParameter(a);var s=new z("parameter",this.panelItem,a,{hasChildren:!0,showAdd:b,showDelete:b,draggable:!0},this.rb);a.setPanelItem(s),this.panelItem.appendChild(s),a.setup(),this.rb.notifyEvent(a,w.operation.add)}}catch(l){x.e(l)}finally{x.f()}}this.updateMenuItemDisplay()}},{key:"isRangeFunction",value:function(){return this.type===R.type.average||this.type===R.type.sum}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var u,b=this.id;if(this.type===R.type.array||this.type===R.type.map)for(var x=this.children.slice(),v=0;v<x.length;){var a=x[v];a.id>b&&(b=a.id),a.type!==R.type.array&&a.type!==R.type.map||x.push.apply(x,function(s){if(Array.isArray(s))return ce(s)}(u=a.children)||function(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(u)||function(s,l){if(s){if(typeof s=="string")return ce(s,l);var g=Object.prototype.toString.call(s).slice(8,-1);return g==="Object"&&s.constructor&&(g=s.constructor.name),g==="Map"||g==="Set"?Array.from(s):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?ce(s,l):void 0}}(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),v++}return b}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){this[u]=b,u==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===R.type.array||this.type===R.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof R?this.panelItem.getParent().getData():null}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(u,b,x){this.addCommandForChangedParameterName(u,b,"expression",x);var v,a=K(this.getChildren());try{for(a.s();!(v=a.n()).done;)v.value.addCommandsForChangedParameterName(u,b,x)}catch(s){a.e(s)}finally{a.f()}}},{key:"addCommandForChangedParameterName",value:function(u,b,x,v){var a,s,l=u.getParent();if(l!==null&&l.getValue("type")===R.type.map?(a="${"+l.getName()+"."+u.getName()+"}",s="${"+l.getName()+"."+b+"}"):u.getValue("type")===R.type.map?(a="${"+u.getName()+".",s="${"+b+"."):(a="${"+u.getName()+"}",s="${"+b+"}"),this.getValue(x).indexOf(a)!==-1){var g=new e(this.id,x,this.getValue(x).replaceAll(a,s),e.type.text,this.rb);v.addCommand(g)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(u,b,x){var v=b.length>0?b[0]:null;if(v!==null&&(v.type===R.type.array||v.type===R.type.map))try{var a=v.getTestData(!0);this.renameTestDataParameter(a,this.getName(),u,b,0);var s=JSON.stringify(a);if(this.testData!==s){var l=new e(v.getId(),"testData",s,e.type.text,this.rb);x.addCommand(l)}}catch(g){}}},{key:"renameTestDataParameter",value:function(u,b,x,v,a){var s,l=a+1,g=l<v.length,j=g?v[l].getName():b,U=K(u);try{for(U.s();!(s=U.n()).done;){var Q=s.value;j in Q&&(g?this.renameTestDataParameter(Q[j],b,x,v,l):(Q[x]=Q[j],delete Q[j]))}}catch(le){U.e(le)}finally{U.f()}}},{key:"addCommandsForChangedParameterType",value:function(u,b){if(this.type===R.type.array||this.type===R.type.simpleArray||this.type===R.type.map||u===R.type.array||u===R.type.simpleArray||u===R.type.map){var x=new e(this.getId(),"testData","",e.type.text,this.rb);b.addCommand(x)}if(this.type!==R.type.array&&u===R.type.array){var v={name:"row_number",type:R.type.number,eval:!1,editable:!1,showOnlyNameType:!0},a=new ge(!0,v,this.rb.getUniqueId(),this.getId(),0,this.rb);a.setShowDelete(!1),b.addCommand(a)}else if(this.type===R.type.array&&u!==R.type.array){var s,l=K(this.getChildren());try{for(l.s();!(s=l.n()).done;){var g=s.value;if(g.getValue("name")==="row_number"&&!g.getValue("editable")){var j=new ge(!1,g.toJS(),g.getId(),this.getId(),g.getPanelItem().getSiblingPosition(),this.rb);b.addCommand(j);break}}}catch(U){l.e(U)}finally{l.f()}}}},{key:"toJS",value:function(){var u,b={},x=K(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;b[v]=this.getValue(v)}}catch(j){x.e(j)}finally{x.f()}if(this.type===R.type.array||this.type===R.type.map){var a,s=[],l=K(this.panelItem.getChildren());try{for(l.s();!(a=l.n()).done;){var g=a.value;s.push(g.getData().toJS())}}catch(j){l.e(j)}finally{l.f()}b.children=s}return b}},{key:"getChildren",value:function(){var u=[];if(this.type===R.type.array||this.type===R.type.map){var b,x=K(this.panelItem.getChildren());try{for(x.s();!(b=x.n()).done;){var v=b.value;u.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}}return u}},{key:"appendParameterItems",value:function(u,b,x){this.appendParameterItemsWithPrefix(u,b,x,"")}},{key:"appendParameterItemsWithPrefix",value:function(u,b,x,v){if(this.type===R.type.map){var a,s=[],l=[],g=K(this.getChildren());try{for(g.s();!(a=g.n()).done;){var j=a.value;j.type===R.type.map?l.push(j):j.isAllowed(b)&&s.push(j)}}catch(Se){g.e(Se)}finally{g.f()}if(s.length>0){u.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:v+this.name});var U,Q=K(s);try{for(Q.s();!(U=Q.n()).done;){var le=U.value,_e=v+this.name+"."+le.getName();u.push({name:_e,nameLowerCase:_e.toLowerCase(),id:le.getId(),description:"",dataSourceName:x})}}catch(Se){Q.e(Se)}finally{Q.f()}}for(var we=0,Ee=l;we<Ee.length;we++)Ee[we].appendParameterItemsWithPrefix(u,b,x,v+this.name+".")}else this.isAllowed(b)&&u.push({name:v+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:x})}},{key:"isAllowed",value:function(u){return this.type!==R.type.array?!Array.isArray(u)||u.indexOf(this.type)!==-1:Array.isArray(u)&&u.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(u,b,x,v){if(this.type===R.type.array){var a,s=!0,l=K(this.panelItem.getChildren());try{for(l.s();!(a=l.n()).done;){var g=a.value.getData();if(!Array.isArray(b)||b.indexOf(g.getValue("type"))!==-1){if(x){s&&u.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var j=g.getName();u.push({name:j,nameLowerCase:j.toLowerCase(),id:g.getId(),description:"",dataSourceName:v})}else{var U=this.name+"."+g.getName();u.push({name:U,nameLowerCase:U.toLowerCase(),id:g.getId(),description:"",dataSourceName:v})}s=!1}}}catch(le){l.e(le)}finally{l.f()}}if(x)for(var Q=this.getParent();Q!==null;){if(Q.type===R.type.array){Q.appendFieldParameterItems(u,b,x,Q.name);break}Q=Q.getParent()}}},{key:"getParameterFields",value:function(){var u=[];if(this.type===R.type.array||this.type===R.type.simpleArray||this.type===R.type.map)if(this.type===R.type.simpleArray)u.push({name:"data",type:this.arrayItemType,parameter:this});else{var b,x=K(this.getChildren());try{for(x.s();!(b=x.n()).done;){var v=b.value;v.showOnlyNameType||v.eval||v.isRangeFunction()||u.push({name:v.getName(),type:v.getValue("type"),parameter:v})}}catch(a){x.e(a)}finally{x.f()}}return u}},{key:"getTestData",value:function(u){var b=null;try{b=JSON.parse(this.testData)}catch(x){}return this.type!==R.type.array&&this.type!==R.type.simpleArray&&this.type!==R.type.map||!b?null:R.getSanitizedTestData(this,b,u)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(u,b,x){var v;if(u.type===R.type.map)b&&Object.getPrototypeOf(b)===Object.prototype||(b={}),v=R.getSanitizedTestDataMap(u,b,x);else if(u.type===R.type.simpleArray)v=R.getSanitizedTestDataSimpleArray(u,b,x);else if(u.type===R.type.array){Array.isArray(b)||(b=[]),v=[];var a,s=K(b);try{for(s.s();!(a=s.n()).done;){var l=a.value;l&&Object.getPrototypeOf(l)===Object.prototype||(l={}),v.push(R.getSanitizedTestDataMap(u,l,x))}}catch(g){s.e(g)}finally{s.f()}}return v}},{key:"getSanitizedTestDataMap",value:function(u,b,x){var v,a={},s=K(u.getChildren());try{for(s.s();!(v=s.n()).done;){var l=v.value;if(!l.showOnlyNameType){var g=l.name in b?b[l.name]:null;l.type===R.type.array||l.type===R.type.map?a[l.name]=R.getSanitizedTestData(l,g,x):l.type===R.type.simpleArray?a[l.name]=R.getSanitizedTestDataSimpleArray(l,g,x):a[l.name]=R.getSanitizedTestDataValue(l.type,g,x)}}}catch(j){s.e(j)}finally{s.f()}return a}},{key:"getSanitizedTestDataSimpleArray",value:function(u,b,x){var v=b;Array.isArray(v)||(v=[]);var a,s=[],l=K(v);try{for(l.s();!(a=l.n()).done;){var g=a.value;if(Object.getPrototypeOf(g)===Object.prototype){var j=R.getSanitizedTestDataValue(u.arrayItemType,g.data,x);x?s.push({data:j}):s.push(j)}}}catch(U){l.e(U)}finally{l.f()}return s}},{key:"getSanitizedTestDataValue",value:function(u,b,x){var v=null;if(u===R.type.string)typeof b=="string"&&(v=b);else if(u===R.type.number){if(typeof b=="number")v=b;else if(typeof b=="string"){var a=Number(b.replaceAll(",","."));isNaN(a)||(v=a)}}else u===R.type.boolean?v=typeof b=="boolean"?b:Boolean(b):u===R.type.date?typeof b=="string"&&R.dateRegex.test(b)&&(v=b):u===R.type.image&&(v=b&&Object.getPrototypeOf(b)===Object.prototype&&"data"in b&&"filename"in b?x?b:b.data:x?{data:"",filename:""}:"");return v}},{key:"removeIds",value:function(u){if(u.children){var b,x=K(u.children);try{for(x.s();!(b=x.n()).done;){var v=b.value;"id"in v&&delete v.id}}catch(a){x.e(a)}finally{x.f()}}}}]),R}();function ae(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return Ce(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Ce(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Ce(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}re=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(W="dateRegex")in(I=Y)?Object.defineProperty(I,W,{value:re,enumerable:!0,configurable:!0,writable:!0}):I[W]=re,Y.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var he=function(){function R(S,u,b,x,v){X(this,R),this.rb=v,this.id=u,this.name=S,this.panelItem=null,this.x="0",this.y="0",this.width=""+b,this.height=""+x,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return D(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=P(this.x),this.yVal=P(this.y),this.widthVal=P(this.width),this.heightVal=P(this.height)}},{key:"setup",value:function(u){var b=this.getContainer();if(b!==null){var x=b.getContentSize();this.xVal+this.widthVal>x.width&&(this.xVal=x.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>x.height&&(this.yVal=x.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var u=this;this.el.addEventListener("dblclick",function(b){u.rb.isSelectedObject(u.id)||(u.rb.selectObject(u.id,!0),b.stopPropagation())}),this.el.addEventListener("mousedown",function(b){b.shiftKey?(u.rb.deselectObject(u.id),b.stopPropagation()):u.rb.isSelectedObject(u.id)?(u.rb.getDocument().startDrag(b.pageX,b.pageY,u.id,u.containerId,u.getElementType(),R.dragType.element),b.stopPropagation()):u.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(b){if(u.rb.isSelectedObject(u.id)){var x=B(b);u.rb.getDocument().startDrag(x.x,x.y,u.id,u.containerId,u.getElementType(),R.dragType.element)}b.preventDefault()}),this.el.addEventListener("touchmove",function(b){u.rb.getDocument().processDrag(b)}),this.el.addEventListener("touchend",function(b){u.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var u=this;this.el.addEventListener("dblclick",function(b){u.handleDoubleClick(b)}),this.el.addEventListener("mousedown",function(b){u.handleClick(b,!1)}),this.el.addEventListener("touchstart",function(b){if(u.rb.isSelectedObject(u.id)){var x=B(b);u.rb.getDocument().startDrag(x.x,x.y,u.id,u.containerId,u.getElementType(),R.dragType.element),b.preventDefault()}else u.handleClick(b,!0)}),this.el.addEventListener("touchmove",function(b){u.rb.isSelectedObject(u.id)&&u.rb.getDocument().processDrag(b)}),this.el.addEventListener("touchend",function(b){u.rb.isSelectedObject(u.id)&&u.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(u){this.handleClick(u,!0)}},{key:"handleClick",value:function(u,b){if(this.rb.isSelectedObject(this.id))u.shiftKey?this.rb.deselectObject(this.id):b||this.rb.getDocument().startDrag(u.pageX,u.pageY,this.id,this.containerId,this.getElementType(),R.dragType.element),u.stopPropagation();else if(b||!this.isContainerSelected()){var x=!0;if(u.shiftKey){var v=[];this.appendContainerChildren(v);for(var a=0,s=v;a<s.length;a++){var l=s[a];if(this.rb.isSelectedObject(l.getId())){x=!1;break}}}x&&this.rb.selectObject(this.id,!u.shiftKey),u.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var u=this.getLinkedContainer();return u?[u]:[]}},{key:"getContainerContentSize",value:function(){var u=this.getContainer();return u!==null?u.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var u=this.getContainer();u!==null&&u.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var u=this.getContainer();return u!==null&&u.isSelected()}},{key:"appendContainerChildren",value:function(u){if(this.linkedContainerId!==null&&this.panelItem!==null){var b,x=ae(this.panelItem.getChildren());try{for(x.s();!(b=x.n()).done;){var v=b.value;v.getData()instanceof R&&(u.push(v.getData()),v.getData().appendContainerChildren(u))}}catch(a){x.e(a)}finally{x.f()}}}},{key:"getAbsolutePosition",value:function(){var u={x:this.xVal,y:this.yVal},b=this.getContainer();if(b!==null){var x=b.getOffset();u.x+=x.x,u.y+=x.y}return u}},{key:"checkBounds",value:function(u,b,x,v,a,s){if(u+x>a.width&&(u=a.width-x),u<0&&(u=0),u+x>a.width&&(x=a.width-u),b+v>a.height&&(b=a.height-v),b<0&&(b=0),b+v>a.height&&(v=a.height-b),u!==this.xVal&&this.hasProperty("x")){var l=new e(this.id,"x",""+u,e.type.text,this.rb);l.disableSelect(),s.addCommand(l)}if(b!==this.yVal&&this.hasProperty("y")){var g=new e(this.id,"y",""+b,e.type.text,this.rb);g.disableSelect(),s.addCommand(g)}if(x!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(x,!0,s),v!==this.getDisplayHeight()&&this.hasProperty("height")){var j=new e(this.id,"height",""+v,e.type.text,this.rb);j.disableSelect(),s.addCommand(j)}var U=this.getLinkedContainer();if(U!==null&&U.getPanelItem()!==null){var Q,le={width:x,height:v},_e=ae(U.getPanelItem().getChildren());try{for(_e.s();!(Q=_e.n()).done;){var we=Q.value;if(we.getData()instanceof R){var Ee=we.getData();Ee.checkBounds(Ee.getValue("xVal"),Ee.getValue("yVal"),Ee.getDisplayWidth(),Ee.getDisplayHeight(),le,s)}}}catch(Se){_e.e(Se)}finally{_e.f()}}}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){if(this[u]=b,u==="x"||u==="y"||u==="width"||u==="height")this[u+"Val"]=P(b),this.updateDisplay();else if(u==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var x=this.getLinkedContainers();if(x.length>0){var v,a=this.getContainer(),s=ae(x);try{for(s.s();!(v=s.n()).done;)v.value.setParent(a)}catch(j){s.e(j)}finally{s.f()}}var l,g=ae(this.rb.getContainers());try{for(g.s();!(l=g.n()).done;)l.value.initLevel()}catch(j){g.e(j)}finally{g.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(u)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(u)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(u,b){return b}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var u=this.getProperties();return u.splice(0,0,"id","containerId"),u}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(u){return this.getProperties().indexOf(u)!==-1}},{key:"getElementType",value:function(){return R.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(u,b,x,v){this.el!==null&&(this.el.style.left=this.rb.toPixel(u),this.el.style.top=this.rb.toPixel(b),this.el.style.width=this.rb.toPixel(x),this.el.style.height=this.rb.toPixel(v))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(u){P(this.styleId)===u&&this.updateStyle()}},{key:"getDragDiff",value:function(u,b,x,v){var a,s,l={x:0,y:0},g=this.xVal,j=this.yVal,U=g+this.getDisplayWidth(),Q=j+this.getDisplayHeight(),le=this.getMinWidth(),_e=this.getMaxWidth(),we=this.getMinHeight();if(x===R.dragType.element)a=g+u,v!==0&&(a=O(a,v)),s=j+b,v!==0&&(s=O(s,v)),l.x=a-g,l.y=s-j;else{var Ee=this.getContainerContentSize();x!==R.dragType.sizerNW&&x!==R.dragType.sizerN&&x!==R.dragType.sizerNE||(s=j+b,v!==0&&(s=O(s,v)),s>Q-we?s=v!==0?N(Q-we,v):Q-we:s<0&&(s=0),l.y=s-j),x!==R.dragType.sizerNE&&x!==R.dragType.sizerE&&x!==R.dragType.sizerSE||(a=U+u,v!==0&&(a=O(a,v)),a<g+le?a=v!==0?H(g+le,v):g+le:a>_e&&(a=_e),l.x=a-U),x!==R.dragType.sizerSE&&x!==R.dragType.sizerS&&x!==R.dragType.sizerSW||(s=Q+b,v!==0&&(s=O(s,v)),s<j+we?s=v!==0?H(j+we,v):j+we:s>Ee.height&&(s=Ee.height),l.y=s-Q),x!==R.dragType.sizerSW&&x!==R.dragType.sizerW&&x!==R.dragType.sizerNW||(a=g+u,v!==0&&(a=O(a,v)),a>U-le?a=v!==0?N(U-le,v):U-le:a<0&&(a=0),l.x=a-g)}return l}},{key:"updateDrag",value:function(u,b,x,v,a){var s=this.xVal,l=this.yVal,g=s+this.getDisplayWidth(),j=l+this.getDisplayHeight(),U=this.getMaxWidth(),Q=this.getContainerContentSize();x===R.dragType.element?(g=(s+=u)+this.getDisplayWidth(),j=(l+=b)+this.getDisplayHeight()):(x!==R.dragType.sizerNW&&x!==R.dragType.sizerN&&x!==R.dragType.sizerNE||(l+=b),x!==R.dragType.sizerNE&&x!==R.dragType.sizerE&&x!==R.dragType.sizerSE||(g+=u),x!==R.dragType.sizerSE&&x!==R.dragType.sizerS&&x!==R.dragType.sizerSW||(j+=b),x!==R.dragType.sizerSW&&x!==R.dragType.sizerW&&x!==R.dragType.sizerNW||(s+=u),s<0&&(s=0),g<s&&(g=s),l<0&&(l=0),j<l&&(j=l),g>U&&(g=U),j>Q.height&&(j=Q.height));var le=g-s,_e=j-l;if(a!==null){var we=!1,Ee=this.getContainer(),Se={width:0,height:0};if(v!==null&&v.getId()!==this.getContainerId()){if(we=!0,Se=v.getContentSize(),Ee!==null){var Ae=v.getOffsetTo(Ee);s-=Ae.x,l-=Ae.y}}else Se=Ee.getContentSize();if(!we||v.isElementAllowed(this.getElementType())){var Be=a.getCommands().length;if(this.checkBounds(s,l,le,_e,Se,a),we){var Ue=new e(this.id,"containerId",v.getId(),e.type.internal,this.rb);a.addCommand(Ue),Ue=new i(this.getPanelItem(),v.getPanelItem(),v.getPanelItem().getChildren().length,this.rb),a.addCommand(Ue)}a.getCommands().length===Be&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(s,l,le,_e)}},{key:"select",value:function(){var u=this;if(this.el!==null){var b,x=this.getSizerContainerElement(),v=ae(this.getSizers());try{var a=function(){var l=b.value,g=l,j=t("div",{class:"rbroSizer rbroSizer".concat(l)});j.addEventListener("mousedown",function(U){u.rb.getDocument().startDrag(U.pageX,U.pageY,u.id,u.containerId,u.getElementType(),R.dragType["sizer"+g]),U.stopPropagation()}),j.addEventListener("touchstart",function(U){if(u.rb.isSelectedObject(u.id)){var Q=B(U);u.rb.getDocument().startDrag(Q.x,Q.y,u.id,u.containerId,u.getElementType(),R.dragType["sizer"+g])}U.preventDefault(),U.stopPropagation()}),j.addEventListener("touchmove",function(U){u.rb.getDocument().processDrag(U)}),j.addEventListener("touchend",function(U){u.rb.getDocument().stopDrag()}),x.append(j)};for(v.s();!(b=v.n()).done;)a()}catch(s){v.e(s)}finally{v.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var u,b=ae(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(b.s();!(u=b.n()).done;)u.value.remove()}catch(x){b.e(x)}finally{b.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var u=this.getValue("dataSource").trim();if(u.length>=3&&u.substr(0,2)==="${"&&u.charAt(u.length-1)==="}")return u.substring(2,u.length-1)}return null}},{key:"getAllDataSources",value:function(){var u=[],b=[];this.getAllDataSourceParameterNames(b,null);for(var x=b.length-1;x>=0;x--){var v,a=b[x],s=null,l=ae(u);try{for(l.s();!(v=l.n()).done;){var g,j=ae(v.value.parameters);try{for(j.s();!(g=j.n()).done;){var U=g.value;if(U.getName()===a){s=U;break}}}catch(Q){j.e(Q)}finally{j.f()}}}catch(Q){l.e(Q)}finally{l.f()}s===null&&(s=this.rb.getParameterByName(a)),s!==null&&s.getValue("type")===Y.type.array&&u.unshift({name:a,parameters:s.getChildren()})}return u}},{key:"getAllDataSourceParameterNames",value:function(u,b){if((this.getElementType()===R.type.table||this.getElementType()===R.type.section)&&b&&b.getValue("bandType")===J.bandType.content){var x=this.getDataSourceParameterName();x!==null&&u.push(x)}var v=this.getPanelItem();if(v!==null){var a=v.getParent();a!==null&&a.getData()instanceof R&&a.getData().getAllDataSourceParameterNames(u,this)}}},{key:"addCommandsForChangedParameterName",value:function(u,b,x){}},{key:"addCommandForChangedParameterName",value:function(u,b,x,v){for(var a=u.getParent(),s=this.getAllDataSources(),l=!1,g="",j=null,U=null;a!==null;){if(a.getValue("type")!==Y.type.map){if(a.getValue("type")===Y.type.array){l=!0,j=a.getName();break}return}g=a.getName()+"."+g,U=a.getName(),a=a.getParent()}var Q="${"+g+u.getName(),le="${"+g+b;u.getValue("type")===Y.type.map?(Q+=".",le+="."):(Q+="}",le+="}");var _e=!1;if(s.length>0){var we,Ee=U||u.getName(),Se=ae(s[0].parameters);try{for(Se.s();!(we=Se.n()).done;)if(we.value.getName()===Ee){_e=!0;break}}catch(Ue){Se.e(Ue)}finally{Se.f()}}if(l){for(var Ae=-1,Be=0;Be<s.length;Be++)if(s[Be].name===j){Ae=Be;break}Ae===0&&_e&&s[0].name===j?this.addCommandForChangedText(Q,le,x,v):Ae>0&&(Q="${"+j+":"+Q.substring(2),le="${"+j+":"+le.substring(2),this.addCommandForChangedText(Q,le,x,v))}else _e||(s.length>0&&(Q="${:"+Q.substring(2),le="${:"+le.substring(2)),this.addCommandForChangedText(Q,le,x,v))}},{key:"addCommandForChangedText",value:function(u,b,x,v){var a=this.getValue(x),s=e.type.text;if(h(a)==="object"&&(a=JSON.stringify(a),s=e.type.richText),a.indexOf(u)!==-1){var l=a.replaceAll(u,b);s===e.type.richText&&(l=JSON.parse(l));var g=new e(this.id,x,l,s,this.rb);v.addCommand(g)}}},{key:"addCommandsForDelete",value:function(u){var b=[];this.appendContainerChildren(b),b.push(this);for(var x=0,v=b;x<v.length;x++){var a=v[x],s=new Tt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),a.getPanelItem().getSiblingPosition(),this.rb);u.addCommand(s)}}},{key:"addCommandsForChangedWidth",value:function(u,b,x){var v=new e(this.id,"width",""+u,e.type.text,this.rb);b&&v.disableSelect(),x.addCommand(v)}},{key:"addChildren",value:function(u){}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var u,b={elementType:this.getElementType()},x=ae(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;["x","y","width","height"].indexOf(v)===-1?b[v]=this.getValue(v):b[v]=this.getValue(v+"Val")}}catch(a){x.e(a)}finally{x.f()}return b}}]),R}();he.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},he.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var Oe=Qe(5961),Ve=Qe.n(Oe),Ze=Qe(2592),et=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementImage"),v,80,80,s)).elBarCode=null,l.elContent=null,l.content="",l.format="CODE128",l.displayValue=!1,l.barWidth="2",l.guardBar=!1,l.errorCorrectionLevel="M",l.rotate=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.name=l.rb.getLabel("docElementBarCode"),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a!=="content"&&a!=="format"&&a!=="displayValue"&&a!=="barWidth"&&a!=="guardBar"&&a!=="width"&&a!=="height"&&a!=="errorCorrectionLevel"&&a!=="rotate"||(this.updateBarCode(),this.updateDisplay(),a==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return he.type.barCode}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(g))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=t("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var a=this.content;a===""&&(a="https://www.reportbro.com");var s={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),Ze.toCanvas(this.elBarCode,a,s)}else{var l=!1,g=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(g-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(g-=12);var j={format:this.format,height:g,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?j.flat=!this.guardBar:this.format==="UPC"&&(j.flat=!0);var U=P(this.barWidth);if(U&&(j.width=U),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{Ve()("#"+this.elBarCode.id,this.content,j),l=!0}catch(we){}if(!l){var Q="";this.format==="CODE39"||this.format==="CODE128"?Q="12345678":this.format==="EAN13"?Q="5901234123457":this.format==="EAN8"?Q="96385074":this.format==="EAN5"?Q="12345":this.format==="EAN2"?Q="12":this.format==="ITF14"?Q="12345678901231":this.format==="UPC"?Q="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(Q="1234"),Ve()("#"+this.elBarCode.id,Q,j)}if(this.rotate){var le=-(this.elBarCode.clientWidth-this.widthVal)/2,_e=-le;this.elBarCode.style.transform="translate(".concat(le,"px, ").concat(_e,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"content",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),x}(he),ht=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){return X(this,x),b.call(this,v,a,s)}return D(x,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(a){return a!==he.type.pageBreak&&a!==he.type.frame&&a!==he.type.section}},{key:"getOffset",value:function(){var a=0,s=0;if(this.owner!==null&&(a=this.owner.getValue("xVal"),s=this.owner.getValue("yVal")),this.parent!==null){var l=this.parent.getOffset();a+=l.x,s+=l.y}return{x:a,y:s}}},{key:"getSize",value:function(){var a=0,s=0;return this.owner!==null&&(a=this.owner.getValue("widthVal"),s=this.owner.getValue("heightVal")),{width:a,height:s}}},{key:"getContentSize",value:function(){var a=0,s=0;if(this.owner!==null){a=this.owner.getValue("widthVal"),s=this.owner.getValue("heightVal");var l=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(a-=l),this.owner.getValue("borderRight")&&(a-=l),this.owner.getValue("borderTop")&&(s-=l),this.owner.getValue("borderBottom")&&(s-=l)}return{width:a,height:s}}}]),x}(r),Ct=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementFrame"),v,100,100,s)).frame=null,l.setupComplete=!1,l.elContent=null,l.elContentFrame=null,l.label="",l.backgroundColor="",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.borderColor="#000000",l.borderWidth="1",l.shrinkToContentHeight=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=P(l.borderWidth),l}return D(x,[{key:"setup",value:function(a){this.borderWidthVal=P(this.borderWidth),o(f(x.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new ht(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(a,s){a.indexOf("border")!==-1&&(this[a]=s,a==="borderWidth"&&(this.borderWidthVal=P(s)),ie.setBorderValue(this,a,"",s,this.rb)),o(f(x.prototype),"setValue",this).call(this,a,s),a==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(g)),this.borderLeft&&(l-=this.borderWidthVal),this.borderRight&&(l-=this.borderWidthVal),this.borderTop&&(g-=this.borderWidthVal),this.borderBottom&&(g-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(l),this.elContentFrame.style.height=this.rb.toPixel(g)}},{key:"updateStyle",value:function(){var a;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(a=this.getValue("borderTop")?"solid":"none",a+=this.getValue("borderRight")?" solid":" none",a+=this.getValue("borderBottom")?" solid":" none",a+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):a="none",this.elContent.style.borderStyle=a,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return he.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=t("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"FrameElement"}}]),x}(he),kt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementImage"),v,80,80,s)).source="",l.image="",l.imageWidth=0,l.imageHeight=0,l.imageRatio=0,l.imageFilename="",l.elImg=null,l.elContent=null,l.horizontalAlignment=ie.alignment.left,l.verticalAlignment=ie.alignment.top,l.backgroundColor="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a!=="source"&&a!=="imageFilename"||this.updateName(),a!=="source"&&a!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return he.type.image}},{key:"updateDisplayInternal",value:function(a,s,l,g){if(this.el!==null){this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(g);var j=0,U=0;if(this.imageRatio!==0&&(j=this.imageWidth<l?this.imageWidth:l,U=this.imageHeight<g?this.imageHeight:g,j!==this.imageWidth||U!==this.imageHeight)){var Q=Math.floor(U*this.imageRatio);Q<l?j=Q:U=Math.floor(j/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(j),this.elImg.style.height=this.rb.toPixel(U)}}},{key:"updateStyle",value:function(){var a=this.getValue("horizontalAlignment"),s=this.getValue("verticalAlignment"),l="rbroDocElementAlign"+a.charAt(0).toUpperCase()+a.slice(1),g="rbroDocElementVAlign"+s.charAt(0).toUpperCase()+s.slice(1);this.elContent.style.textAlign=a,this.elContent.style.verticalAlign=s,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(l),this.elContent.classList.add(g)}},{key:"createElement",value:function(){var a=this;this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=t("img",{src:""}),this.elImg.addEventListener("load",function(s){a.imageWidth=a.elImg.naturalWidth,a.imageHeight=a.elImg.naturalHeight,a.imageHeight!==0?a.imageRatio=a.imageWidth/a.imageHeight:a.imageRatio=0,a.updateDisplay()}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,o(f(x.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var a=document.getElementById("rbro_menu_item_name".concat(this.id));a.textContent=this.name,a.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"source",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"ImageElement"}}]),x}(he),Xt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementLine"),v,100,1,s)).color="#000000",l.setInitialData(a),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return he.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"LineElement"}}]),x}(he),vt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementPageBreak"),v,-1,1,s)).setInitialData(a),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return he.type.pageBreak}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),x}(he),jt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l){var g;X(this,x);var j=s===J.bandType.header?l.getLabel("bandHeader"):s===J.bandType.footer?l.getLabel("bandFooter"):l.getLabel("bandContent");return(g=b.call(this,j,v,0,100,l)).setupComplete=!1,g.band=null,g.bandType=s,g.repeatHeader=!1,g.alwaysPrintOnSamePage=!0,g.shrinkToContentHeight=!1,g.parentId=a.parentId,g.heightVal=0,g.visible=s===J.bandType.content,g.setInitialData(a),g}return D(x,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new J(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var a={x:0,y:0},s=this.getParent();return s!==null&&(a=s.getAbsolutePosition()),a.y+=this.yVal,a}},{key:"setValue",value:function(a,s){if(o(f(x.prototype),"setValue",this).call(this,a,s),a==="height"){this[a+"Val"]=P(s);var l=this.getParent();l!==null&&l.updateBands(this)}}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return this.bandType===J.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(a,s,l,g){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(g),this.setupComplete)){var j=this.getParent();j!==null&&j.updateHeight(this,g)}}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(t("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(a){this.visible=a,a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),x}(he);function Bt(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var At=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementSection"),v,-1,60,s)).setupComplete=!1,l.elDividerHeader=null,l.elDividerFooter=null,l.elDividerBottom=null,l.dataSource="",l.label="",l.header=!1,l.footer=!1,l.headerData=null,l.contentData=null,l.footerData=null,l.setInitialData(a),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(J.bandType.header,null),this.contentData=this.createBand(J.bandType.content,null),this.footerData=this.createBand(J.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,s){var l,g,j=a+"Data",U={hasChildren:!0,showDelete:!1};s?l=s:this[j]?g=(l=this[j]).id:l={},l.parentId=this.id,l.containerId=this.containerId,g||(g=this.rb.getUniqueId());var Q=0;a===J.bandType.header?l.y=""+Q:a===J.bandType.content?(this.header&&this.headerData!==null&&(Q+=this.headerData.getValue("heightVal")),l.y=""+Q):a===J.bandType.footer&&(this.header&&this.headerData!==null&&(Q+=this.headerData.getValue("heightVal")),this.contentData!==null&&(Q+=this.contentData.getValue("heightVal")),l.y=""+Q),(a===J.bandType.header&&!this.header||a===J.bandType.footer&&!this.footer)&&(U.visible=!1);var le=new jt(g,l,a,this.rb);this.rb.addDataObject(le);var _e=new z("section_band",this.panelItem,le,U,this.rb);return le.setPanelItem(_e),this.panelItem.appendChild(_e),le.setup(),a===J.bandType.header?le.show(this.header):a===J.bandType.footer&&le.show(this.footer),le}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var a=this.id;return this.footerData!==null&&(a=this.footerData.getMaxId()),a}},{key:"appendContainerChildren",value:function(a){this.headerData!==null&&this.headerData.appendContainerChildren(a),this.contentData!==null&&this.contentData.appendContainerChildren(a),this.footerData!==null&&this.footerData.appendContainerChildren(a)}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="label"||a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(s),s?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(s),s?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a==="containerId"&&(this.headerData.containerId=s,this.contentData.containerId=s,this.footerData.containerId=s),a!=="header"&&a!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.el!==null&&(this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(g))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return he.type.section}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),s=0,l=["N","S"];s<l.length;s++){var g=l[s];a.append(t("div",{class:"rbroSizer rbroSizer".concat(g," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this);var a,s=function(l,g){var j=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!j){if(Array.isArray(l)||(j=function(Ee,Se){if(Ee){if(typeof Ee=="string")return Bt(Ee,Se);var Ae=Object.prototype.toString.call(Ee).slice(8,-1);return Ae==="Object"&&Ee.constructor&&(Ae=Ee.constructor.name),Ae==="Map"||Ae==="Set"?Array.from(Ee):Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae)?Bt(Ee,Se):void 0}}(l))||g&&l&&typeof l.length=="number"){j&&(l=j);var U=0,Q=function(){};return{s:Q,n:function(){return U>=l.length?{done:!0}:{done:!1,value:l[U++]}},e:function(Se){throw Se},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,_e=!0,we=!1;return{s:function(){j=j.call(l)},n:function(){var Se=j.next();return _e=Se.done,Se},e:function(Se){we=!0,le=Se},f:function(){try{_e||j.return==null||j.return()}finally{if(we)throw le}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroHighlightBandDescription")}catch(l){s.e(l)}finally{s.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(t("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=t("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=t("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(a){this.widthVal=a,this.width=""+a,this.headerData!==null&&(this.headerData.widthVal=a,this.headerData.width=""+a),this.contentData!==null&&(this.contentData.widthVal=a,this.contentData.width=""+a),this.footerData!==null&&(this.footerData.widthVal=a,this.footerData.width=""+a)}},{key:"updateHeight",value:function(a,s){var l=0;this.header&&this.headerData!==null?(a===this.headerData?l+=s:l+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(l),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(a===this.contentData?l+=s:l+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(l),this.elDividerFooter.classList.remove("rbroHidden"),a===this.footerData?l+=s:l+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(l),this.height=""+l,this.heightVal=l,this.updateDisplay()}},{key:"updateBands",value:function(a){if(this.setupComplete){var s=0;this.header&&(this.headerData!==a&&this.headerData.setValue("y",""+s),s+=this.headerData.getValue("heightVal")),this.contentData!==a&&this.contentData.setValue("y",""+s),s+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==a&&this.footerData.setValue("y",""+s)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var a,s=[],l=0,g=["headerData","contentData","footerData"];l<g.length;l++){var j=g[l];this[j]!==null&&(a=this[j].getLinkedContainer())!==null&&s.push(a)}return s}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"dataSource",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.headerData=this.headerData.toJS(),a.contentData=this.contentData.toJS(),a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"SectionElement"}}]),x}(he);function nr(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return Or(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Or(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Or(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Pr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementText"),v,100,20,s)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.content="",l.richText=!1,l.richTextContent=null,l.richTextHtml="",l.eval=!1,l.styleId="",l.bold=!1,l.italic=!1,l.underline=!1,l.strikethrough=!1,l.horizontalAlignment=ie.alignment.left,l.verticalAlignment=ie.alignment.top,l.textColor="#000000",l.backgroundColor="",l.font=s.getProperty("defaultFont"),l.fontSize=12,l.lineSpacing=1,l.borderColor="#000000",l.borderWidth="1",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.paddingLeft="2",l.paddingTop="2",l.paddingRight="2",l.paddingBottom="2",l.cs_condition="",l.cs_styleId="",l.cs_additionalRules="",l.cs_bold=!1,l.cs_italic=!1,l.cs_underline=!1,l.cs_strikethrough=!1,l.cs_horizontalAlignment=ie.alignment.left,l.cs_verticalAlignment=ie.alignment.top,l.cs_textColor="#000000",l.cs_backgroundColor="",l.cs_font=ie.font.helvetica,l.cs_fontSize=12,l.cs_lineSpacing=1,l.cs_borderColor="#000000",l.cs_borderWidth="1",l.cs_borderAll=!1,l.cs_borderLeft=!1,l.cs_borderTop=!1,l.cs_borderRight=!1,l.cs_borderBottom=!1,l.cs_paddingLeft="2",l.cs_paddingTop="2",l.cs_paddingRight="2",l.cs_paddingBottom="2",l.alwaysPrintOnSamePage=!0,l.pattern="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.spreadsheet_textWrap=!1,l.setInitialData(a),l.borderWidthVal=P(l.borderWidth),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(a){o(f(x.prototype),"handleDoubleClick",this).call(this,a);var s=document.getElementById("rbro_doc_element_content");s.focus(),typeof s.selectionStart=="number"&&(s.selectionStart=s.selectionEnd=s.value.length)}},{key:"setValue",value:function(a,s){a.indexOf("border")!==-1&&(this[a]=s,a.substr(0,3)==="cs_"?(a==="cs_borderWidth"&&(this.borderWidthVal=P(s)),ie.setBorderValue(this,a,"cs_",s,this.rb)):(a==="borderWidth"&&(this.borderWidthVal=P(s)),ie.setBorderValue(this,a,"",s,this.rb))),o(f(x.prototype),"setValue",this).call(this,a,s),a==="content"?this.updateContent(s):a==="width"||a==="height"?this.updateDisplay():a==="richText"?(s?this.setupRichText():this.updateContent(this.content),this.updateStyle()):a==="richTextContent"?this.updateRichTextContent(s):a==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=s)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return he.type.text}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(g));var j=this.getContentSize(l,g,this.getStyle());this.elContentText.style.width=this.rb.toPixel(j.width),this.elContentText.style.height=this.rb.toPixel(j.height)}},{key:"getStyle",value:function(){var a=this;if(this.styleId!==""){var s=this.rb.getDataObject(this.styleId);s!==null&&(a=s)}return a}},{key:"addCommandsForChangedStyle",value:function(a,s,l,g){if(a!==""){var j=this.rb.getStyleById(a);if(j!==null){var U,Q=nr(j.getFields().slice(2));try{for(Q.s();!(U=Q.n()).done;){var le=U.value,_e=s+le,we=j.getValue(le);if(we!==this.getValue(_e)){var Ee=l[_e],Se=new e(this.getId(),_e,we,Ee.type,this.rb);Se.disableSelect(),g.addCommand(Se)}}}catch(Ae){Q.e(Ae)}finally{Q.f()}}}g.addCommand(new e(this.getId(),s+"styleId",a,e.type.select,this.rb))}},{key:"getContentSize",value:function(a,s,l){var g=l.getValue("borderWidthVal");return a-=P(l.getValue("paddingLeft"))+P(l.getValue("paddingRight")),l.getValue("borderLeft")&&(a-=g),l.getValue("borderRight")&&(a-=g),s-=P(l.getValue("paddingTop"))+P(l.getValue("paddingBottom")),l.getValue("borderTop")&&(s-=g),l.getValue("borderBottom")&&(s-=g),{width:a,height:s}}},{key:"updateStyle",value:function(){var a,s={},l=this.getStyle(),g="",j="",U=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),l);s.width=this.rb.toPixel(U.width),s.height=this.rb.toPixel(U.height);var Q=l.getValue("horizontalAlignment"),le=l.getValue("verticalAlignment"),_e="rbroDocElementAlign"+Q.charAt(0).toUpperCase()+Q.slice(1),we="rbroDocElementVAlign"+le.charAt(0).toUpperCase()+le.slice(1);s["vertical-align"]=le,s["background-color"]=l.getValue("backgroundColor"),this.richText?(s["font-weight"]="unset",s["font-style"]="normal",s["text-decoration"]="none",s["text-align"]="unset",s.color="#000000",s["font-family"]=this.rb.getProperty("defaultFont"),s["font-size"]="12px"):(s["font-weight"]=l.getValue("bold")?"bold":"",s["font-style"]=l.getValue("italic")?"italic":"normal",l.getValue("underline")&&l.getValue("strikethrough")?s["text-decoration"]="underline line-through":l.getValue("underline")?s["text-decoration"]="underline":l.getValue("strikethrough")?s["text-decoration"]="line-through":s["text-decoration"]="none",s["text-align"]=Q,s.color=l.getValue("textColor"),s["font-family"]=l.getValue("font"),s["font-size"]=l.getValue("fontSize")+"px"),s["line-height"]=l.getValue("lineSpacing"),l.getValue("borderLeft")||l.getValue("borderTop")||l.getValue("borderRight")||l.getValue("borderBottom")?(a=l.getValue("borderTop")?"solid":"none",a+=l.getValue("borderRight")?" solid":" none",a+=l.getValue("borderBottom")?" solid":" none",a+=l.getValue("borderLeft")?" solid":" none",g=l.getValue("borderWidthVal")+"px",j=l.getValue("borderColor")):a="none",l.getValue("paddingLeft")!==""||l.getValue("paddingTop")!==""||l.getValue("paddingRight")!==""||l.getValue("paddingBottom")!==""?(s.padding=this.rb.toPixel(l.getValue("paddingTop")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingRight")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingBottom")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingLeft"))):s.padding="",this.elContent.style.borderStyle=a,this.elContent.style.borderWidth=g,this.elContent.style.borderColor=j,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(_e),this.elContent.classList.add(we);var Ee="";for(var Se in s)Ee+=Se+": "+s[Se]+";";this.elContentText.style.cssText=Ee}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(a){a.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=a;var s=document.getElementById("rbro_menu_item_name".concat(this.id));s.textContent=this.name,s.setAttribute("title",this.name),this.elContentTextData.textContent=a}},{key:"updateRichTextContent",value:function(a){var s="";if(a&&a.ops){var l,g=nr(a.ops);try{for(g.s();!(l=g.n()).done;){var j=l.value;"insert"in j&&(s+=j.insert)}}catch(Q){g.e(Q)}finally{g.f()}(s=s.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(s=s.substr(0,80)),s=s.trim()}this.name=s===""?this.rb.getLabel("docElementText"):s;var U=document.getElementById("rbro_menu_item_name".concat(this.id));U.textContent=this.name,U.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"content",l),this.addCommandForChangedParameterName(a,s,"richTextContent",l),this.addCommandForChangedParameterName(a,s,"richTextHtml",l),this.addCommandForChangedParameterName(a,s,"printIf",l),this.addCommandForChangedParameterName(a,s,"cs_condition",l)}},{key:"toJS",value:function(){for(var a=o(f(x.prototype),"toJS",this).call(this),s=0,l=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];s<l.length;s++){var g=l[s];a[g]=P(this.getValue(g))}return a}},{key:"getClassName",value:function(){return"TextElement"}}]),x}(he),zt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,v,a,s)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.colspan=a.colspan||"",l.colspanVal=1,l.columnIndex=a.columnIndex,l.parentId=a.parentId,l.tableId=a.tableId,l.displayWidth=l.widthVal,l.lastTouchStartTime=0,l.updateColspanVal(),l}return D(x,[{key:"setInitialData",value:function(a){this.growWeight=0,o(f(x.prototype),"setInitialData",this).call(this,a)}},{key:"registerEventHandlers",value:function(){var a=this;this.el.addEventListener("dblclick",function(s){a.rb.isSelectedObject(a.id)||a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!s.shiftKey),s.stopPropagation())}),this.el.addEventListener("mousedown",function(s){a.rb.isSelectedObject(a.id)?(s.shiftKey&&a.rb.deselectObject(a.id),s.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!s.shiftKey),s.stopPropagation())}),this.el.addEventListener("touchstart",function(s){a.rb.isSelectedObject(a.id)||(new Date().getTime()-a.lastTouchStartTime<1e3?a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!0),s.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!0),s.stopPropagation())),a.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var a=this.getTable();return a!==null?a.getContainerId():null}},{key:"getValue",value:function(a){return a==="xReadOnly"?this.getOffsetX():o(f(x.prototype),"getValue",this).call(this,a)}},{key:"setValue",value:function(a,s){if(o(f(x.prototype),"setValue",this).call(this,a,s),a==="width"){var l=this.getTable();l!==null&&(l.updateColumnWidth(this.columnIndex,s),l.updateColumnDisplay())}else if(a==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(a==="colspan"){this.updateColspanVal();var g=this.rb.getDataObject(this.tableId);g!==null&&g.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(a,s){if(a==="width"){var l=P(s);if(this.colspanVal>1){var g=this.rb.getDataObject(this.parentId);if(g!==null){var j=this.getNextCellIndex(),U=g.getSingleCellWidths();j>U.length&&(j=U.length);for(var Q=this.columnIndex+1;Q<j;Q++)l+=U[Q]}}return s===""&&l===0?"":""+l}return s}},{key:"setWidth",value:function(a){this.width=a,this.widthVal=P(a)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(a){this.displayWidth=a}},{key:"getDisplayWidthSplit",value:function(a){if(this.colspanVal===1)return[a];var s=[20],l=20,g=this.rb.getDataObject(this.parentId);if(g!==null){var j=this.getNextCellIndex(),U=g.getSingleCellWidths();j>U.length&&(j=U.length);for(var Q=this.columnIndex+1;Q<j;Q++)s.push(U[Q]),l+=U[Q];var le=a-l;if(le>0)s[0]+=le;else if(le<0){var _e=1;for(le=-le;_e<s.length;){if(s[_e]-20>le){s[_e]-=le;break}le-=s[_e]-20,s[_e]=20,_e++}}}return s}},{key:"updateColspanVal",value:function(){this.colspanVal=P(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,1,"id"),a}},{key:"getProperties",value:function(){var a=["xReadOnly","width","content","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_textWrap"],s=this.rb.getDataObject(this.parentId);return s!==null&&s.getValue("bandType")===J.bandType.header&&(a.push("printIf"),a.push("growWeight")),a}},{key:"getElementType",value:function(){return he.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.updateDisplayInternalNotify(a,s,l,g,!0)}},{key:"updateDisplayInternalNotify",value:function(a,s,l,g,j){this.el!==null&&(this.el.style.width=this.rb.toPixel(l-1));var U=this.getContentSize(l,g,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(U.width),this.elContentText.style.height=this.rb.toPixel(U.height),j){var Q=this.rb.getDataObject(this.tableId);if(Q!==null){for(var le=this.rb.getDataObject(this.parentId),_e=l,we=le.getSingleCellWidths(),Ee=0;Ee<we.length;Ee++)(Ee<this.columnIndex||Ee>=this.columnIndex+this.colspanVal)&&(_e+=we[Ee]);for(var Se=this.getDisplayWidthSplit(l),Ae=0;Ae<Se.length;Ae++)Q.notifyColumnWidthResized(le,this.columnIndex+Ae,Se[Ae],_e)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var a=this.rb.getDataObject(this.tableId),s=this.rb.getDataObject(this.parentId);if(a!==null&&s!==null){for(var l=this.rb.getDocumentProperties().getContentSize().width,g=s.getSingleCellWidths(),j=0,U=0;U<g.length;U++)(U<this.columnIndex||U>=this.columnIndex+this.colspanVal)&&(j+=g[U]);return l-j-a.xVal}return 0}},{key:"getOffsetX",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){for(var s=a.getSingleCellWidths(),l=0,g=0;g<this.columnIndex;g++)l+=s[g];return l}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=t("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(a,s,l){var g=this.getDisplayWidthSplit(a),j=this.getParent();if(j!==null)for(var U=g.length-1;U>=0;U--){var Q=new e(j.getColumn(this.columnIndex+U).getId(),"width",""+g[U],e.type.text,this.rb);(s||U>0)&&Q.disableSelect(),l.addCommand(Q)}}},{key:"insertColumn",value:function(a){var s=this.getParent(),l=this.getTable();if(s!==null&&l!==null){var g=s.getColumnIndex(this);if(g!==-1){var j=new de("Insert column"),U=new Tt(!1,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb);j.addCommand(U);var Q=P(l.getValue("columns"))+1;l.setValue("columns",Q),l.getValue("headerData").createColumns(Q,!0,g,a);for(var le=0;le<l.getValue("contentDataRows").length;le++)l.getValue("contentDataRows")[le].createColumns(Q,!0,g,a);l.getValue("footerData").createColumns(Q,!0,g,a),U=new Tt(!0,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb),j.addCommand(U),this.rb.executeCommand(j),this.rb.selectObject(this.getParent().getValue("columnData")[a?g:g+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var a=this.getParent(),s=this.getTable();if(a!==null&&s!==null){var l=a.getColumnIndex(this);if(l!==-1){var g=new de("Delete column"),j=new Tt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);g.addCommand(j);var U=P(s.getValue("columns"))-1;s.setValue("columns",U);var Q=s.getValue("widthVal");s.setValue("width",Q-this.widthVal),s.getValue("headerData").deleteColumn(l);for(var le=0;le<s.getValue("contentDataRows").length;le++)s.getValue("contentDataRows")[le].deleteColumn(l);s.getValue("footerData").deleteColumn(l),j=new Tt(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),g.addCommand(j),this.rb.executeCommand(g)}}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.growWeight=P(a.growWeight),a}},{key:"getClassName",value:function(){return"TableTextElement"}}]),x}(Pr);function Wt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return ir(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ir(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function ir(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var yr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l){var g;X(this,x);var j=s==="header"?l.getLabel("bandHeader"):s==="footer"?l.getLabel("bandFooter"):l.getLabel("bandContent");return(g=b.call(this,j,v,0,20,l)).bandType=s,g.repeatHeader=!1,g.alwaysPrintOnSamePage=!0,g.pageBreak=!1,g.backgroundColor="",g.alternateBackgroundColor="",g.groupExpression="",g.repeatGroupHeader=!1,g.parentId=a.parentId,g.columnData=[],g.heightVal=0,g.setInitialData(a),g}return D(x,[{key:"setInitialData",value:function(a){for(var s in a)a.hasOwnProperty(s)&&this.hasOwnProperty(s)&&(this[s]=a[s]);this.heightVal=P(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var a,s=this.id,l=Wt(this.columnData);try{for(l.s();!(a=l.n()).done;){var g=a.value;g.getId()>s&&(s=g.getId())}}catch(j){l.e(j)}finally{l.f()}return s}},{key:"getContainerId",value:function(){var a=this.getParent();return a!==null?a.getContainerId():null}},{key:"setValue",value:function(a,s){if(this[a]=s,a==="height"){var l=P(s);this[a+"Val"]=l;var g,j=Wt(this.getElement().querySelectorAll("td"));try{for(j.s();!(g=j.n()).done;)g.value.style.height=this.rb.toPixel(l)}catch(_e){j.e(_e)}finally{j.f()}var U,Q=Wt(this.columnData);try{for(Q.s();!(U=Q.n()).done;)U.value.setValue(a,s)}catch(_e){Q.e(_e)}finally{Q.f()}var le=this.getParent();le!==null&&le.updateHeight()}else a==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id"),a}},{key:"getProperties",value:function(){var a=["height","backgroundColor"];return this.bandType===J.bandType.header?a.push("repeatHeader"):this.bandType===J.bandType.content&&(a.push("alternateBackgroundColor"),a.push("groupExpression"),a.push("printIf"),a.push("alwaysPrintOnSamePage"),a.push("pageBreak"),a.push("repeatGroupHeader")),a}},{key:"updateDisplayInternal",value:function(a,s,l,g){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var a=0;a<this.columnData.length;a++)this.rb.deleteDataObject(this.columnData[a]);o(f(x.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(a,s,l,g){if(this.panelItem!==null){if(s)for(var j=0;j<this.columnData.length;j++)this.columnData[j].remove(),j>=a&&this.rb.deleteDataObject(this.columnData[j]);for(var U=[],Q=0;Q<a;Q++){var le=void 0,_e=void 0,we=s?20:100,Ee=Q;l!==-1&&(g?Q===l?(we=this.columnData[l].getValue("widthVal"),Ee=-1):Q>=l&&Ee--:Q===l+1?(we=this.columnData[l].getValue("widthVal"),Ee=-1):Q>l&&Ee--),Ee!==-1&&Ee<this.columnData.length?((le=this.columnData[Ee]).columnIndex=Q,_e=le.id,s||(le.band=this.band,le.parentId=this.id,le.tableId=this.parentId,le.height=this.height)):le={band:this.band,columnIndex:Q,parentId:this.id,tableId:this.parentId,width:we,height:this.height},_e||(_e=this.rb.getUniqueId());var Se=new zt(_e,le,this.rb);U.push(Se),this.rb.addDataObject(Se);var Ae=new z(he.type.text,this.panelItem,Se,{showDelete:!1},this.rb);Se.setPanelItem(Ae),this.panelItem.appendChild(Ae)}this.columnData=U;for(var Be=0,Ue=U;Be<Ue.length;Be++)Ue[Be].setup(!0);this.updateColumnDisplay();var Me,Re=Wt(this.getElement().querySelectorAll("td"));try{for(Re.s();!(Me=Re.n()).done;)Me.value.style.height=this.rb.toPixel(this.heightVal)}catch(We){Re.e(We)}finally{Re.f()}}}},{key:"deleteColumn",value:function(a){a<this.columnData.length&&(this.columnData[a].remove(),this.rb.deleteDataObject(this.columnData[a]),this.columnData.splice(a,1))}},{key:"show",value:function(a){a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(a,s){a<this.columnData.length&&this.columnData[a].setWidth(s)}},{key:"updateColumnDisplay",value:function(){for(var a=0;a<this.columnData.length;){var s=this.columnData[a],l=s.getValue("widthVal"),g=s.getValue("colspanVal");if(s.getElement().style.display="",g>1){var j=a+g<this.columnData.length?a+g:this.columnData.length;for(a++;a<j;)l+=this.columnData[a].getValue("widthVal"),this.columnData[a].getElement().style.display="none",a++}else a++;s.setDisplayWidth(l),s.updateDisplay()}}},{key:"getColumn",value:function(a){return a>=0&&a<this.columnData.length?this.columnData[a]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(a,s){for(var l=0;l<this.columnData.length;){var g=this.columnData[l],j=g.getNextCellIndex();if(j>a){if(j>l+1)for(var U=l;U<j&&U<this.columnData.length;U++)U!==a&&(s+=this.columnData[U].getValue("widthVal"));g.updateDisplayInternalNotify(0,0,s,g.getValue("heightVal"),!1);break}l=j}}},{key:"getColumnIndex",value:function(a){for(var s=0;s<this.columnData.length;s++)if(a===this.columnData[s])return s;return-1}},{key:"getWidth",value:function(){for(var a=0,s=0;s<this.columnData.length;){var l=this.columnData[s];a+=l.getDisplayWidth();var g=l.getValue("colspanVal");g>1?s+=g:s++}return a}},{key:"getSingleCellWidths",value:function(){var a,s=[],l=Wt(this.columnData);try{for(l.s();!(a=l.n()).done;){var g=a.value;s.push(g.getValue("widthVal"))}}catch(j){l.e(j)}finally{l.f()}return s}},{key:"insertRow",value:function(a){var s=this.getParent();if(s!==null){var l=s.getContentRowIndex(this);if(l!==-1){var g=new de("Insert row"),j=new Tt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);g.addCommand(j);var U=P(s.getValue("contentRows"))+1;s.setValue("contentRows",U);var Q,le=s.getValue("contentDataRows")[l],_e={height:le.height,columnData:[]},we=Wt(le.columnData);try{for(we.s();!(Q=we.n()).done;){var Ee=Q.value;_e.columnData.push({width:Ee.width})}}catch(Ae){we.e(Ae)}finally{we.f()}var Se=s.createBand("content",-1,_e);s.getValue("contentDataRows").splice(a?l:l+1,0,Se),j=new Tt(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),g.addCommand(j),this.rb.executeCommand(g),this.rb.selectObject(Se.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var a=this.getParent();if(a!==null){var s=a.getContentRowIndex(this),l=P(a.getValue("contentRows"));if(s!==-1&&l>1){var g=new de("Delete row"),j=new Tt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb);g.addCommand(j),a.setValue("contentRows",l-1),a.getValue("contentDataRows").splice(s,1),j=new Tt(!0,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb),g.addCommand(j),this.rb.executeCommand(g)}}}},{key:"addChildren",value:function(a){var s,l=Wt(this.columnData);try{for(l.s();!(s=l.n()).done;){var g=s.value;a.push(g)}}catch(j){l.e(j)}finally{l.f()}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.columnData=[];var s,l=Wt(this.columnData);try{for(l.s();!(s=l.n()).done;){var g=s.value;a.columnData.push(g.toJS())}}catch(j){l.e(j)}finally{l.f()}return a}},{key:"getClassName",value:function(){return"TableBandElement"}}]),x}(he);function Er(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return Qr(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Qr(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Qr(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var lr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return X(this,x),(l=b.call(this,s.getLabel("docElementTable"),v,200,40,s)).setupComplete=!1,l.dataSource="",l.borderColor="#000000",l.borderWidth="1",l.border=x.border.grid,l.header=!0,l.footer=!1,l.contentRows="1",l.columns="2",l.headerData=null,l.contentDataRows=[],l.footerData=null,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=P(l.borderWidth),l}return D(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var s=P(this.contentRows);s<1&&(s=1);for(var l=[],g=0;g<s;g++)l.push(this.createBand("content",g,null));this.contentDataRows=l,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,s,l){var g,j,U=a+(a==="content"?"DataRows":"Data"),Q={hasChildren:!0,showDelete:!1};l?g=l:this[U]&&(a!=="content"||s!==-1&&s<this[U].length)?j=(g=a==="content"?this[U][s]:this[U]).id:g={},g.parentId=this.id,j||(j=this.rb.getUniqueId()),(a==="header"&&!this.header||a==="footer"&&!this.footer)&&(Q.visible=!1);var le=new yr(j,g,a,this.rb);this.rb.addDataObject(le);var _e=new z("table_band",this.panelItem,le,Q,this.rb);le.setPanelItem(_e),this.panelItem.appendChild(_e),le.setup();var we=P(this.columns);return le.createColumns(we,!1,-1,!1),_e.open(),a==="header"?le.show(this.header):a==="footer"&&le.show(this.footer),le}},{key:"getMaxId",value:function(){var a,s=this.id;(a=this.headerData.getMaxId())>s&&(s=a);for(var l=0;l<this.contentDataRows.length;l++)(a=this.contentDataRows[l].getMaxId())>s&&(s=a);return(a=this.footerData.getMaxId())>s&&(s=a),s}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(s),s?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(s),s?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a.indexOf("border")!==-1&&(a==="borderWidth"&&(this.borderWidthVal=P(s)),this.updateStyle()),a!=="header"&&a!=="footer"&&a!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(a,s,l,g){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s))}},{key:"updateStyle",value:function(){var a,s=this.el.querySelector("table");this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.frame?(s.style.borderStyle="solid",s.style.borderWidth=this.borderWidthVal+"px",s.style.borderColor=this.borderColor):s.style.borderStyle="none";var l="",g="",j="";this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.row?(l="solid none solid none",g=this.borderWidthVal+"px",j=this.borderColor):l="none";var U=this.headerData.getElement();for(U.style.borderStyle=l,U.style.borderWidth=g,U.style.borderColor=j,a=0;a<this.contentDataRows.length;a++){var Q=this.contentDataRows[a].getElement();Q.style.borderStyle=l,Q.style.borderWidth=g,Q.style.borderColor=j}var le=this.footerData.getElement();le.style.borderStyle=l,le.style.borderWidth=g,le.style.borderColor=j,this.border===x.border.grid?(l="none solid none solid",g=this.borderWidthVal+"px",j=this.borderColor):l="none";var _e,we=Er(this.headerData.getElement().querySelectorAll("td"));try{for(we.s();!(_e=we.n()).done;){var Ee=_e.value;Ee.style.borderStyle=l,Ee.style.borderWidth=g,Ee.style.borderColor=j}}catch(Xe){we.e(Xe)}finally{we.f()}for(a=0;a<this.contentDataRows.length;a++){var Se,Ae=Er(this.contentDataRows[a].getElement().querySelectorAll("td"));try{for(Ae.s();!(Se=Ae.n()).done;){var Be=Se.value;Be.style.borderStyle=l,Be.style.borderWidth=g,Be.style.borderColor=j}}catch(Xe){Ae.e(Xe)}finally{Ae.f()}}var Ue,Me=Er(this.footerData.getElement().querySelectorAll("td"));try{for(Me.s();!(Ue=Me.n()).done;){var Re=Ue.value;Re.style.borderStyle=l,Re.style.borderWidth=g,Re.style.borderColor=j}}catch(Xe){Me.e(Xe)}finally{Me.f()}for(var We=0,Je=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];We<Je.length;We++){var Ge=Je[We];this.el.classList.remove(Ge)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","width"),a}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return he.type.table}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),s=0,l=["NE","SE","SW","NW"];s<l.length;s++){var g=l[s];a.append(t("div",{class:"rbroSizer rbroSizer".concat(g," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{class:"rbroDocElement rbroTableElement"});var a=t("table",{id:"rbro_el_table".concat(this.id)});a.append(t("thead",{id:"rbro_el_table_header".concat(this.id)})),a.append(t("tbody",{id:"rbro_el_table_content".concat(this.id)})),a.append(t("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(a),this.appendToContainer(),this.registerEventHandlers(),a.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var a=0;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,o(f(x.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(a,s){if(this.setupComplete){this.headerData.updateColumnWidth(a,s);for(var l=0;l<this.contentDataRows.length;l++)this.contentDataRows[l].updateColumnWidth(a,s);this.footerData.updateColumnWidth(a,s)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var a=0;a<this.contentDataRows.length;a++)this.contentDataRows[a].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var a=0;this.header&&(a+=this.headerData.getHeight());for(var s=0;s<this.contentDataRows.length;s++)a+=this.contentDataRows[s].getHeight();this.footer&&(a+=this.footerData.getHeight()),this.height=""+a,this.heightVal=a}}},{key:"notifyColumnWidthResized",value:function(a,s,l,g){if(this.setupComplete){a!==this.headerData&&this.headerData.notifyColumnWidthResized(s,l);for(var j=0;j<this.contentDataRows.length;j++)a!==this.contentDataRows[j]&&this.contentDataRows[j].notifyColumnWidthResized(s,l);a!==this.footerData&&this.footerData.notifyColumnWidthResized(s,l),this.width=""+g,this.widthVal=g,document.getElementById("rbro_el_table".concat(this.id)).style.width=g+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(a){for(var s=0;s<this.contentDataRows.length;s++)if(a===this.contentDataRows[s])return s;return-1}},{key:"addChildren",value:function(a){var s;for(a.push(this.headerData),s=0;s<this.contentDataRows.length;s++)a.push(this.contentDataRows[s]);for(a.push(this.footerData),this.headerData.addChildren(a),s=0;s<this.contentDataRows.length;s++)this.contentDataRows[s].addChildren(a);this.footerData.addChildren(a)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"dataSource",l)}},{key:"createSpaceForNewColumns",value:function(a,s){for(var l=x.getColumnMinWidth(),g=a*l,j=s-1;j>=0;){var U=this.headerData.getColumn(j),Q=U.getValue("widthVal")-l,le=l;if(Q>g&&(le=U.getValue("widthVal")-g),this.updateColumnWidth(j,le),(g-=Q)<=0)break;j--}}},{key:"hasEnoughAvailableSpace",value:function(a){var s=P(this.columns),l=Math.floor(this.widthVal/x.getColumnMinWidth());return!(a>s&&a>l)}},{key:"addCommandsForChangedColumns",value:function(a,s){if(this.hasEnoughAvailableSpace(a)){var l=P(this.columns),g=new Tt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(s.addCommand(g),a>l)this.createSpaceForNewColumns(a-l,l);else if(a<l){for(var j=0,U=0;U<a;U++)j+=this.headerData.getColumn(U).getValue("widthVal");var Q=this.headerData.getColumn(a-1);this.widthVal-j>0&&this.updateColumnWidth(a-1,Q.getValue("widthVal")+(this.widthVal-j))}this.columns=a,this.headerData.createColumns(a,!0,-1,!1);for(var le=0;le<this.contentDataRows.length;le++)this.contentDataRows[le].createColumns(a,!0,-1,!1);this.footerData.createColumns(a,!0,-1,!1),g=new Tt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),s.addCommand(g)}}},{key:"addCommandsForChangedContentRows",value:function(a,s){if(a!==P(this.contentRows)){var l,g=new Tt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(s.addCommand(g),a<this.contentDataRows.length){for(l=a;l<this.contentDataRows.length;l++)this.rb.deleteDataObject(this.contentDataRows[l]),this.contentDataRows[l].remove();this.contentDataRows.splice(a,this.contentDataRows.length-a)}else{var j;if(this.contentDataRows.length>0){j={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var U,Q=Er(this.contentDataRows[0].columnData);try{for(Q.s();!(U=Q.n()).done;){var le=U.value;j.columnData.push({width:le.width})}}catch(_e){Q.e(_e)}finally{Q.f()}}for(l=this.contentDataRows.length;l<a;l++)this.contentDataRows.push(this.createBand("content",l,j))}this.contentRows=""+a,g=new Tt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),s.addCommand(g)}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.headerData=this.headerData.toJS();for(var s=[],l=0;l<this.contentDataRows.length;l++)s.push(this.contentDataRows[l].toJS());return a.contentDataRows=s,a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(a){for(var s=0,l=["headerData","footerData"];s<l.length;s++){var g=l[s];x.removeBandIds(a[g])}for(var j=0;j<a.contentDataRows.length;j++)x.removeBandIds(a.contentDataRows[j])}},{key:"removeBandIds",value:function(a){delete a.id;var s,l=Er(a.columnData);try{for(l.s();!(s=l.n()).done;)delete s.value.id}catch(g){l.e(g)}finally{l.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),x}(he);lr.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var Tt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,g,j,U){var Q;return X(this,x),(Q=b.call(this)).add=v,Q.elementType=a,Q.initialData=s,Q.parentId=g,Q.position=j,Q.rb=U,Q.id=l,Q.firstExecution=!0,Q}return D(x,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var a=x.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(a,w.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=a.toJS())}}},{key:"deleteElement",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&this.rb.deleteDocElement(a)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(a,s,l,g,j,U){var Q,le={draggable:!0};l===he.type.text?Q=new Pr(a,s,U):l===he.type.line?Q=new Xt(a,s,U):l===he.type.image?Q=new kt(a,s,U):l===he.type.pageBreak?Q=new vt(a,s,U):l===he.type.table?(Q=new lr(a,s,U),le.hasChildren=!0):l===he.type.frame?(Q=new Ct(a,s,U),le.hasChildren=!0):l===he.type.section?(Q=new At(a,s,U),le.hasChildren=!0):l===he.type.barCode&&(Q=new et(a,s,U)),U.addDocElement(Q);var _e=Q.getContainer().getPanelItem(),we=new z(l,_e,Q,le,U);return Q.setPanelItem(we),_e.insertChild(g,we),Q.setup(j),Q}}]),x}(w);function Vt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return en(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?en(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function en(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var tn=function(){function R(S,u,b){X(this,R),this.rootElement=S,this.rb=b,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=u,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=he.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return D(R,[{key:"render",value:function(){var u=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(l){u.rb.isDocElementSelected()&&!l.shiftKey&&u.rb.deselectAll(!0);var g=E(u.elDocContent);u.startSelectionArea(u.getCoordWithoutZoom(l.pageX-g.left),u.getCoordWithoutZoom(l.pageY-g.top))});var b=t("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(b.addEventListener("mousedown",function(l){l.stopPropagation()}),this.elTabPdfLayout=t("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(l){u.setDocumentTab(R.tab.pdfLayout)}),b.append(this.elTabPdfLayout),this.elTabPdfPreview=t("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(l){u.setDocumentTab(R.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var x=t("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});x.addEventListener("click",function(l){u.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(x)}var v=t("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});v.addEventListener("click",function(l){u.closePdfPreviewTab()}),this.elTabPdfPreview.append(v),b.append(this.elTabPdfPreview),this.elPanel.append(b);var a=this.rb.getDocumentProperties();this.elDoc=t("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=t("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=t("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=t("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=t("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=t("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=t("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=t("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=t("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=t("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=t("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=t("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var s=a.getPageSize();this.updatePageSize(s.width,s.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(R.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var u=this;this.elDocContent.addEventListener("dragover",function(b){u.processDragover(b)}),this.elDocContent.addEventListener("dragenter",function(b){u.rb.isBrowserDragActive("docElement")&&(u.dragEnterCount++,b.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(b){if(u.rb.isBrowserDragActive("docElement")&&(u.dragEnterCount--,u.dragEnterCount===0)){var x,v=Vt(document.querySelectorAll(".rbroElementContainer"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(a){v.e(a)}finally{v.f()}u.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(b){return u.processDrop(b),!1})}},{key:"processMouseMove",value:function(u){if(this.dragging)this.processDrag(u);else if(this.selectionAreaStarted){var b=E(this.elDocContent),x=this.getSelectionArea(this.getCoordWithoutZoom(u.pageX-b.left),this.getCoordWithoutZoom(u.pageY-b.top));this.elSelectionArea.style.left=this.rb.toPixel(x.left),this.elSelectionArea.style.top=this.rb.toPixel(x.top),this.elSelectionArea.style.width=this.rb.toPixel(x.width),this.elSelectionArea.style.height=this.rb.toPixel(x.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(u){if(this.rb.isBrowserDragActive("docElement")){var b=B(u),x=null;b!==null&&(x=this.getContainer(b.x,b.y,this.dragElementType,[]),this.dragCurrentX=b.x,this.dragCurrentY=b.y);var v=x!==null?x.getId():null;if(v!==this.dragContainerId){var a,s=Vt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(l){s.e(l)}finally{s.f()}x!==null&&x.dragOver(),this.dragContainerId=v}u.preventDefault(),u.stopPropagation()}}},{key:"processDrop",value:function(u){if(this.rb.isBrowserDragActive("docElement")){u.preventDefault();var b,x=Vt(document.querySelectorAll(".rbroElementContainer"));try{for(x.s();!(b=x.n()).done;)b.value.classList.remove("rbroElementDragOver")}catch(Se){x.e(Se)}finally{x.f()}if(this.dragElementType===he.type.image&&this.rb.getProperty("imageLimit")!==null){var v,a=0,s=Vt(this.rb.getDocElements(!0));try{for(s.s();!(v=s.n()).done;)v.value.getElementType()===he.type.image&&a++}catch(Se){s.e(Se)}finally{s.f()}if(a>=this.rb.getProperty("imageLimit"))return void alert(this.rb.getLabel("docElementImageCountExceeded").replace("${count}",this.rb.getProperty("imageLimit")))}var l=B(u);l!==null&&(this.dragCurrentX=l.x,this.dragCurrentY=l.y);for(var g=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);g!==null&&!g.isElementAllowed(this.dragElementType);)g=g.getParent();if(g!==null&&g.isElementAllowed(this.dragElementType)){var j=E(this.elDocContent),U=this.getCoordWithoutZoom(this.dragCurrentX-j.left),Q=this.getCoordWithoutZoom(this.dragCurrentY-j.top),le=g.getOffset();if(U-=le.x,Q-=le.y,!u.ctrlKey&&this.rb.getDocument().isGridVisible()){var _e=this.rb.getDocument().getGridSize();U=O(U,_e),Q=O(Q,_e)}var we={x:""+U,y:""+Q,containerId:g.getId()},Ee=new Tt(!0,this.dragElementType,we,this.rb.getUniqueId(),g.getId(),-1,this.rb);this.rb.executeCommand(Ee)}}}},{key:"processDrag",value:function(u){var b=B(u);if(this.dragType===he.dragType.element){var x=this.getContainer(b.x,b.y,this.dragElementType,this.dragLinkedContainers),v=x!==null?x.getId():null;if(v!==this.dragCurrentContainerId){var a,s=Vt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(j){s.e(j)}finally{s.f()}x!==null&&v!==this.dragContainerId&&x.dragOver()}this.dragCurrentContainerId=v}this.dragCurrentX=b.x,this.dragCurrentY=b.y,this.dragSnapToGrid=!u.ctrlKey;var l=this.rb.getDataObject(this.dragObjectId);if(l!==null){var g=l.getDragDiff(this.getCoordWithoutZoom(b.x-this.dragStartX),this.getCoordWithoutZoom(b.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(g.x,g.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(u,b){this.elDoc.style.width=this.rb.toPixel(u),this.elDoc.style.height=this.rb.toPixel(b)}},{key:"updatePageMargins",value:function(){var u=this.rb.getDocumentProperties(),b=P(u.getValue("marginLeft")),x=P(u.getValue("marginTop")),v=P(u.getValue("marginRight")),a=P(u.getValue("marginBottom")),s=this.rb.toPixel(b),l=this.rb.toPixel(x-1),g=this.rb.toPixel(v),j=this.rb.toPixel(a);this.elDividerMarginLeft.style.left=s,this.elDividerMarginTop.style.top=l,b!==0?(this.elDividerMarginLeft.style.left=s,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",x!==0?(this.elDividerMarginTop.style.top=l,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",v!==0?(this.elDividerMarginRight.style.right=g,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",a!==0?(this.elDividerMarginBottom.style.bottom=j,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=s,this.elDocContent.style.top=l,this.elDocContent.style.right=g,this.elDocContent.style.bottom=j}},{key:"updateHeader",value:function(){var u=this.rb.getDocumentProperties();if(u.getValue("header")){var b=this.rb.toPixel(u.getValue("headerSize"));this.elHeader.style.height=b,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(P(u.getValue("marginTop"))+P(u.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=b}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var u=this.rb.getDocumentProperties();if(u.getValue("footer")){var b=this.rb.toPixel(u.getValue("footerSize"));this.elFooter.style.height=b,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(P(u.getValue("marginBottom"))+P(u.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=b}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(u){var b,x=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),v=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),a=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),s=Vt(x);try{for(s.s();!(b=s.n()).done;)b.value.classList.remove("rbroActive")}catch(Ae){s.e(Ae)}finally{s.f()}if(u===R.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var l,g=Vt(v);try{for(g.s();!(l=g.n()).done;){var j=l.value;j.classList.remove("rbroDisabled"),j.draggable=!0}}catch(Ae){g.e(Ae)}finally{g.f()}var U,Q=Vt(a);try{for(Q.s();!(U=Q.n()).done;)U.value.disabled=!1}catch(Ae){Q.e(Ae)}finally{Q.f()}}else if(this.pdfPreviewExists&&u===R.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var le,_e=Vt(v);try{for(_e.s();!(le=_e.n()).done;){var we=le.value;we.classList.add("rbroDisabled"),we.draggable=!1}}catch(Ae){_e.e(Ae)}finally{_e.f()}var Ee,Se=Vt(a);try{for(Se.s();!(Ee=Se.n()).done;)Ee.value.disabled=!0}catch(Ae){Se.e(Ae)}finally{Se.f()}}}},{key:"openPdfPreviewTab",value:function(u,b){if(d(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),b&&Object.keys(b).length>0){var x=this,v=new XMLHttpRequest;for(var a in v.responseType="blob",v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE)if(v.status===200){var l=document.createElement("object");l.type="application/pdf",l.width="100%",l.height="100%",x.pdfPreviewObjectURL=URL.createObjectURL(v.response),l.data=x.pdfPreviewObjectURL,x.elPdfPreview.append(l)}else alert("preview failed")},v.open("GET",u,!0),b)b.hasOwnProperty(a)&&v.setRequestHeader(a,b[a]);v.send()}else{var s=t("object",{data:u,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(s)}this.pdfPreviewExists=!0,this.setDocumentTab(R.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,d(this.elPdfPreview),this.setDocumentTab(R.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var u=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),u++):this.elTabPdfPreview.classList.add("rbroHidden"),u>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(u,b,x,v){var a=E(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(u-a.left),this.getCoordWithoutZoom(b-a.top),x,v)}},{key:"getContentScrollPosY",value:function(){var u=E(this.elDocContent);return E(this.elPanel).top-u.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var u=0;u<this.zoomLevels.length-1;u++)if(this.zoom===this.zoomLevels[u]){this.updateZoomLevel(this.zoomLevels[u+1]);break}}},{key:"zoomOut",value:function(){for(var u=1;u<this.zoomLevels.length;u++)if(this.zoom===this.zoomLevels[u]){this.updateZoomLevel(this.zoomLevels[u-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(u){this.zoom=u;var b=this.rb.getDocumentProperties().getPageSize(),x=b.width*(u/100),v=b.height*(u/100),a=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),s=getComputedStyle(this.elPanel),l=parseInt(s.paddingTop)||0,g=parseInt(s.paddingBottom)||0,j=this.elPanel.clientHeight-l-g,U=0;u!==100?(b.width>a?(this.elDoc.style.transformOrigin="",u<100&&x<a&&(U=Math.round((a-x)/2))):x>a?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(U,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=u+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=x<a?"hidden":"",this.elPanel.style.overflowY=v<j?"hidden":""}},{key:"getCoordWithoutZoom",value:function(u){return Math.round(u*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(u){return u===J.bandType.header?this.elHeader:u===J.bandType.content?this.elContent:u===J.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(u,b,x,v,a,s){this.dragging=!0,this.dragStartX=this.dragCurrentX=u,this.dragStartY=this.dragCurrentY=b,this.dragElementType=a,this.dragType=s,this.dragObjectId=x,this.dragContainerId=v,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var l=this.rb.getDataObject(this.dragObjectId);l&&(this.dragLinkedContainers=l.getLinkedContainers())}},{key:"stopDrag",value:function(){var u=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),b=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),x=this.rb.getDataObject(this.dragObjectId);if(x===null||u===0&&b===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var v=null;this.dragType===he.dragType.element&&(v=this.rb.getDataObject(this.dragCurrentContainerId));var a=this.rb.getSelectedObjects();if(a.length>1&&v!==null){for(var s=a[0].getContainerId(),l=1;l<a.length;l++)if(a[l].getContainerId()!==s){v=null;break}}var g=x.getDragDiff(u,b,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(g.x,g.y,this.dragType,v,!0)}this.dragging=!1,this.dragType=he.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var j,U=Vt(document.querySelectorAll(".rbroElementContainer"));try{for(U.s();!(j=U.n()).done;)j.value.classList.remove("rbroElementDragOver")}catch(Q){U.e(Q)}finally{U.f()}}},{key:"startBrowserDrag",value:function(u){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=u,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(u,b){this.selectionAreaStarted=!0,this.selectionAreaStartX=u,this.selectionAreaStartY=b}},{key:"stopSelectionArea",value:function(u,b,x){var v=this.getSelectionArea(u,b);if(v.width>10&&v.height>10){var a,s=Vt(this.rb.getDocElements(!0));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.isAreaSelectionAllowed()){var g=l.getAbsolutePosition();if(v.left<g.x+l.getValue("widthVal")&&v.left+v.width>=g.x&&v.top<g.y+l.getValue("heightVal")&&v.top+v.height>=g.y){var j=!0;if(l.getContainerId()){var U=l.getContainer();U!==null&&U.isSelected()&&(j=!1)}j&&(this.rb.selectObject(l.getId(),x),x=!1)}}}}catch(Q){s.e(Q)}finally{s.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(u,b){var x={};return u>this.selectionAreaStartX?(x.left=this.selectionAreaStartX,x.width=u-this.selectionAreaStartX):(x.left=u,x.width=this.selectionAreaStartX-u),b>this.selectionAreaStartY?(x.top=this.selectionAreaStartY,x.height=b-this.selectionAreaStartY):(x.top=b,x.height=this.selectionAreaStartY-b),x}},{key:"mouseUp",value:function(u){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var b=E(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(u.pageX-b.left),this.getCoordWithoutZoom(u.pageY-b.top),!u.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),R}();tn.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var dr,Ar,xr=typeof Map=="function"?new Map:(dr=[],Ar=[],{has:function(S){return dr.indexOf(S)>-1},get:function(S){return Ar[dr.indexOf(S)]},set:function(S,u){dr.indexOf(S)===-1&&(dr.push(S),Ar.push(u))},delete:function(S){var u=dr.indexOf(S);u>-1&&(dr.splice(u,1),Ar.splice(u,1))}}),rn=function(S){return new Event(S,{bubbles:!0})};try{new Event("test")}catch(R){rn=function(u){var b=document.createEvent("Event");return b.initEvent(u,!0,!1),b}}function bn(R){var S=xr.get(R);S&&S.destroy()}function _n(R){var S=xr.get(R);S&&S.update()}var Cr=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((Cr=function(S){return S}).destroy=function(R){return R},Cr.update=function(R){return R}):((Cr=function(S,u){return S&&Array.prototype.forEach.call(S.length?S:[S],function(b){return function(x){if(x&&x.nodeName&&x.nodeName==="TEXTAREA"&&!xr.has(x)){var v,a=null,s=null,l=null,g=function(){x.clientWidth!==s&&le()},j=function(_e){window.removeEventListener("resize",g,!1),x.removeEventListener("input",le,!1),x.removeEventListener("keyup",le,!1),x.removeEventListener("autosize:destroy",j,!1),x.removeEventListener("autosize:update",le,!1),Object.keys(_e).forEach(function(we){x.style[we]=_e[we]}),xr.delete(x)}.bind(x,{height:x.style.height,resize:x.style.resize,overflowY:x.style.overflowY,overflowX:x.style.overflowX,wordWrap:x.style.wordWrap});x.addEventListener("autosize:destroy",j,!1),"onpropertychange"in x&&"oninput"in x&&x.addEventListener("keyup",le,!1),window.addEventListener("resize",g,!1),x.addEventListener("input",le,!1),x.addEventListener("autosize:update",le,!1),x.style.overflowX="hidden",x.style.wordWrap="break-word",xr.set(x,{destroy:j,update:le}),(v=window.getComputedStyle(x,null)).resize==="vertical"?x.style.resize="none":v.resize==="both"&&(x.style.resize="horizontal"),a=v.boxSizing==="content-box"?-(parseFloat(v.paddingTop)+parseFloat(v.paddingBottom)):parseFloat(v.borderTopWidth)+parseFloat(v.borderBottomWidth),isNaN(a)&&(a=0),le()}function U(_e){var we=x.style.width;x.style.width="0px",x.style.width=we,x.style.overflowY=_e}function Q(){if(x.scrollHeight!==0){var _e=function(Ee){for(var Se=[];Ee&&Ee.parentNode&&Ee.parentNode instanceof Element;)Ee.parentNode.scrollTop&&Se.push({node:Ee.parentNode,scrollTop:Ee.parentNode.scrollTop}),Ee=Ee.parentNode;return Se}(x),we=document.documentElement&&document.documentElement.scrollTop;x.style.height="",x.style.height=x.scrollHeight+a+"px",s=x.clientWidth,_e.forEach(function(Ee){Ee.node.scrollTop=Ee.scrollTop}),we&&(document.documentElement.scrollTop=we)}}function le(){Q();var _e=Math.round(parseFloat(x.style.height)),we=window.getComputedStyle(x,null),Ee=we.boxSizing==="content-box"?Math.round(parseFloat(we.height)):x.offsetHeight;if(Ee<_e?we.overflowY==="hidden"&&(U("scroll"),Q(),Ee=we.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight):we.overflowY!=="hidden"&&(U("hidden"),Q(),Ee=we.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight),l!==Ee){l=Ee;var Se=rn("autosize:resized");try{x.dispatchEvent(Se)}catch(Ae){}}}}(b)}),S}).destroy=function(R){return R&&Array.prototype.forEach.call(R.length?R:[R],bn),R},Cr.update=function(R){return R&&Array.prototype.forEach.call(R.length?R:[R],_n),R});var St=Cr;function Jt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return nn(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?nn(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function nn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Dt=function(){function R(S,u){X(this,R),this.rootElement=S,this.rb=u,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return D(R,[{key:"render",value:function(){var u=this;this.elWindow=t("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=t("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(x){x.stopPropagation()}),this.elWindow.append(this.elContent);var b=t("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});b.addEventListener("click",function(x){u.hide()}),this.elWindow.append(b),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(u,b,x,v,a,s,l,g,j,U){var Q=this,le=window.innerWidth,_e=window.innerHeight,we=null,Ee=null;if(this.input=x!==""?document.getElementById(x):null,this.objId=b,this.field=v,this.type=a,this.items=u,d(this.elContent),this.rootParameter=l,this.rootDataType=g,this.rootFields=j,this.nextRowId=1,this.rowMap={},s&&(Ee=s.getSelection()),a===R.type.data){l?(console.assert(g===null&&j===null&&U===null),g=l.type,j=l.getParameterFields(),U=l.getTestData(!0)):g===Y.type.map?this.dataEmptyBeforeEdit=Object.keys(U).length===0:g!==Y.type.array&&g!==Y.type.simpleArray||!Array.isArray(U)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=U.length===0,this.createDataTable(this.elContent,l,g,j,U);var Se=Math.round(.8*le),Ae=Math.round(.8*_e),Be=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((le-Se)/2)+"px",this.elWindow.style.top=Math.round((_e-Ae)/2)+Be+"px",this.elWindow.style.width=Se+"px",this.elWindow.style.height=Ae+"px",document.body.append(t("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{a!==R.type.parameterSet&&a!==R.type.parameterAppend||((we=t("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",function(at){Q.filterParameters(we.value)}),this.elContent.append(we));var Ue=t("ul");Ue.addEventListener("mousedown",function(at){at.preventDefault()});var Me,Re=Jt(u);try{var We=function(){var rt=Me.value,ye=t("li");if(rt.separator){a!==R.type.parameterSet&&a!==R.type.parameterAppend||!rt.id||ye.setAttribute("id","parameter_group_"+rt.id);var He="rbroPopupItemSeparator";rt.separatorClass&&(He+=" "+rt.separatorClass),ye.setAttribute("class",He)}else a!==R.type.parameterSet&&a!==R.type.parameterAppend||!rt.id||ye.setAttribute("id","parameter_"+rt.id),ye.addEventListener("mousedown",function(Ke){if(a===R.type.pattern)Q.input.value=rt.name,Q.input.dispatchEvent(new Event("input")),Q.hide();else if(a===R.type.parameterSet||a===R.type.parameterAppend){var yt="${"+(rt.dataSourceName!==null?rt.dataSourceName+":":"")+rt.name+"}";a===R.type.parameterSet?(Q.input.value=yt,Q.input.dispatchEvent(new Event("input")),St.update(Q.input)):s?Ee&&s.insertText(Ee.index,yt):(function(it,st){if(document.selection)it.focus(),document.selection.createRange().text=st,it.focus();else if(it.selectionStart||it.selectionStart===0){var ct=it.selectionStart,bt=it.selectionEnd,Et=it.scrollTop;it.value=it.value.substring(0,ct)+st+it.value.substring(bt,it.value.length),it.focus(),it.selectionStart=ct+st.length,it.selectionEnd=ct+st.length,it.scrollTop=Et}else it.value+=st,it.focus()}(Q.input,yt),St.update(Q.input),Q.input.dispatchEvent(new Event("input"))),Q.hide()}Ke.preventDefault()});ye.append(t("div",{class:"rbroPopupItemHeader"},rt.name)),rt.description&&rt.description!==""&&ye.append(t("div",{class:"rbroPopupItemDescription"},rt.description)),Ue.append(ye)};for(Re.s();!(Me=Re.n()).done;)We()}catch(at){Re.e(at)}finally{Re.f()}this.elContent.append(Ue);var Je=E(this.input),Ge=Je.top;Ge<_e/2||Ge<300?Ge+this.input.clientHeight+300<_e&&(Ge+=this.input.clientHeight):Ge-=300,this.elWindow.style.left=Je.left+"px",this.elWindow.style.top=Ge+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,we!==null&&we.focus();var Xe,ut=Jt(this.elWindow.querySelectorAll("textarea"));try{for(ut.s();!(Xe=ut.n()).done;){var lt=Xe.value;St.update(lt)}}catch(at){ut.e(at)}finally{ut.f()}}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===R.type.data){var u,b=!0;if(this.rootParameter?u=this.getTestData(this.elContent,this.rootParameter):(u=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===Y.type.map?b=this.isDataEmpty(u,this.rootFields):this.rootDataType!==Y.type.array&&this.rootDataType!==Y.type.simpleArray||!Array.isArray(u)||(u.length===0?b=!1:u.length===1&&(b=!this.isDataEmpty(u[0],this.rootFields))))),b){var x=this.rb.getDataObject(this.objId),v=JSON.stringify(u);if(x!==null&&x.getValue(this.field)!==v){var a=new e(this.objId,this.field,v,e.type.text,this.rb);this.rb.executeCommand(a)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),d(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(u,b){var x,v=!0,a=Jt(b);try{for(a.s();!(x=a.n()).done;){var s=x.value;if(s.name in u){var l=u[s.name];s.type===Y.type.string||s.type===Y.type.number||s.type===Y.type.date?l!==""&&(v=!1):s.type===Y.type.boolean?l&&(v=!1):s.type===Y.type.image?h(l)==="object"&&"filename"in l&&l.filename!==""&&(v=!1):s.type===Y.type.array||s.type===Y.type.simpleArray?l.length>0&&(v=!1):s.type===Y.type.map&&Object.keys(l).length>0&&(v=!1)}}}catch(g){a.e(g)}finally{a.f()}return v}},{key:"createDataTable",value:function(u,b,x,v,a){var s,l=this,g=t("div"),j=t("table"),U=t("tr"),Q=t("tbody");x===Y.type.array||x===Y.type.simpleArray?Array.isArray(a)||(a=[]):x===Y.type.map&&(a&&Object.getPrototypeOf(a)===Object.prototype||(a={}));var le=t("th");x===Y.type.map&&(le.style.display="none"),U.append(le);var _e,we=Jt(v);try{for(we.s();!(_e=we.n()).done;){var Ee=_e.value,Se=t("th",{},Ee.label?Ee.label:Ee.name);Ee.type===Y.type.image&&Se.append(t("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),U.append(Se)}}catch(Re){we.e(Re)}finally{we.f()}var Ae=t("thead");if(Ae.append(U),j.append(Ae),x===Y.type.map){var Be=[a];this.addDataRow(Q,b,x,v,Be,0)}else{var Ue=Array.isArray(a)?a:[];if(Ue.length===0)this.addEmptyDataRow(Q,b,x,v);else for(s=0;s<Ue.length;s++)this.addDataRow(Q,b,x,v,Ue,s)}if(j.append(Q),g.append(j),x!==Y.type.map){var Me=t("div",{class:"rbroButton rbroFullWidthButton"});Me.append(t("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),Me.addEventListener("click",function(Re){l.addEmptyDataRow(Q,b,x,v)}),g.append(Me)}d(u),u.append(g)}},{key:"addEmptyDataRow",value:function(u,b,x,v){var a,s={},l=Jt(v);try{for(l.s();!(a=l.n()).done;){var g=a.value;g.type===Y.type.array||g.type===Y.type.simpleArray?s[g.name]=[]:g.type===Y.type.map?s[g.name]={}:s[g.name]=""}}catch(U){l.e(U)}finally{l.f()}var j=[s];this.addDataRow(u,b,x,v,j,0)}},{key:"addDataRow",value:function(u,b,x,v,a,s){var l=this,g=a[s],j=t("tr");j.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:g},this.nextRowId++;var U=t("td");if(x!==Y.type.map){var Q=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});Q.addEventListener("click",function(Ae){var Be=Ae.target.parentElement.parentElement,Ue=Be.dataset.rowId;Be.remove();var Me=l.rowMap[Ue];a.splice(a.indexOf(Me.data),1),delete l.rowMap[Ue]}),U.append(Q)}else U.style.display="none";j.append(U);var le,_e=v.length,we=Jt(v);try{for(we.s();!(le=we.n()).done;){var Ee=le.value,Se=Ee.type===Y.type.array||Ee.type===Y.type.simpleArray?[]:"";g!==null&&Ee.name in g&&(Se=g[Ee.name]),this.appendColumn(j,Ee,Se,g,_e)}}catch(Ae){we.e(Ae)}finally{we.f()}u.append(j)}},{key:"appendColumn",value:function(u,b,x,v,a){var s=this,l=t("td");if(b.type===Y.type.array||b.type===Y.type.simpleArray||b.type===Y.type.map){var g=t("div",{class:"expandableCell"}),j=t("span",{class:"rbroIcon-plus"});g.append(j);var U=t("span");if(g.append(U),g.addEventListener("click",function(Be){var Ue=!g.classList.contains("rbroExpandedCell"),Me=u.nextElementSibling;if(Me&&Me.tagName==="TR"){var Re=Me.querySelector("td table");if(Re){var We,Je=Jt(u.querySelectorAll(".expandableCell"));try{for(Je.s();!(We=Je.n()).done;){var Ge=We.value;if(Ge.classList.contains("rbroExpandedCell")){Ge.classList.remove("rbroExpandedCell");var Xe=Ge.children[0],ut=Ge.children[1];Xe.classList.remove("rbroIcon-minus"),Xe.classList.add("rbroIcon-plus");var lt=s.rowMap[Me.dataset.rowId];if(lt.type==="table"&&(lt.parentData[lt.field.name]=s.getTestData(Re,lt.field.parameter),lt.field.type===Y.type.array||lt.field.type===Y.type.simpleArray)){var at=lt.field.name in v&&Array.isArray(v[lt.field.name])?v[lt.field.name].length:0;s.setTableRowCount(ut,at)}break}}}catch(yt){Je.e(yt)}finally{Je.f()}Me.remove()}}if(Ue){var rt=t("tr");rt.dataset.rowId=String(s.nextRowId),s.rowMap[String(s.nextRowId)]={type:"table",field:b,parentData:v},s.nextRowId++;var ye=t("td",{colspan:String(a+1)}),He=b.parameter.getParameterFields();if(He.length>0){var Ke=v[b.name];s.createDataTable(ye,b.parameter,b.parameter.type,He,Ke),rt.append(ye),u.insertAdjacentElement("afterend",rt),g.classList.add("rbroExpandedCell"),j.classList.remove("rbroIcon-plus"),j.classList.add("rbroIcon-minus"),U.textContent=""}else b.parameter.getValue("type")===Y.type.map?alert(s.rb.getLabel("parameterEditTestDataMapNoFields")):alert(s.rb.getLabel("parameterEditTestDataArrayNoFields"))}}),b.type===Y.type.array||b.type===Y.type.simpleArray){var Q=b.name in v&&Array.isArray(v[b.name])?v[b.name].length:0;this.setTableRowCount(U,Q)}l.append(g)}else if(b.type===Y.type.image){var le=t("div",{class:"rbroImageFileContainer"}),_e=t("input",{type:"file"});_e.addEventListener("change",function(Be){var Ue=Be.target.files;Ue&&Ue[0]&&te(Ue[0],function(Me,Re){v[b.name]={data:Me,filename:Re},we.classList.remove("rbroHidden"),Ee.textContent=Re},s.rb)}),le.append(_e);var we=t("div",{class:"rbroImageFile rbroHidden"}),Ee=t("div");we.append(Ee);var Se=t("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Se.addEventListener("click",function(Be){_e.value="",v[b.name]={data:"",filename:""},we.classList.add("rbroHidden"),Ee.textContent=""}),we.append(Se),le.append(we),x.filename&&(Ee.textContent=x.filename,we.classList.remove("rbroHidden")),l.append(le)}else{var Ae;b.attributes&&b.attributes.multiLine?(console.assert(b.type===Y.type.string),Ae=t("textarea",{rows:1}),x&&(Ae.value=x),St(Ae)):b.attributes&&b.attributes.select?(console.assert(b.type===Y.type.string||b.type===Y.type.number),Ae=t("select"),b.attributes.select==="style"&&ee(Ae,x||null,this.rb)):(Ae=t("input"),b.type===Y.type.boolean?(Ae.setAttribute("type","checkbox"),x&&(Ae.checked=!0),l.classList.add("rbroDataCheckbox")):(Ae.setAttribute("type","text"),x&&Ae.setAttribute("value",x),b.type===Y.type.number?function(Be){var Ue=this;Be.addEventListener("keyup",function(Me){var Re=Me.target.value,We=Re.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),Je=Ue.className,Ge=Je?Je.indexOf("decimalPlaces"):-1;if(Ge!==-1){Ge+=13;var Xe,ut=Je.indexOf(" ",Ge);Xe=parseInt(ut!==-1?Je.substring(Ge,ut):Je.substr(Ge),10),isNaN(Xe)||((Ge=We.indexOf("."))===-1&&(Ge=We.indexOf(",")),Ge!==-1&&We.length-1-Ge>Xe&&(We=We.substring(0,Ge+Xe+1)))}Re!==We&&(Me.target.value=We)})}(Ae):b.type===Y.type.date&&Ae.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),Ae.addEventListener("focus",function(Be){Ae.parentElement.classList.add("rbroHasFocus")}),Ae.addEventListener("blur",function(Be){Ae.parentElement.classList.remove("rbroHasFocus")}),l.append(Ae)}u.append(l)}},{key:"getTestData",value:function(u,b){return this.getData(u,b.type,b.getParameterFields())}},{key:"getData",value:function(u,b,x){var v=[];if(b===Y.type.map)v={};else if(b!==Y.type.array&&b!==Y.type.simpleArray)return console.assert(!1),null;var a,s=Jt(u.querySelector("tbody").children);try{for(s.s();!(a=s.n()).done;){var l=a.value,g=this.rowMap[l.dataset.rowId];if(g.type==="table"){var j=g.field.parameter;g.parentData[g.field.name]=this.getData(l,j.type,j.getParameterFields())}else{var U,Q=g.data,le=l.querySelectorAll("input,textarea,select"),_e=0,we=Jt(x);try{for(we.s();!(U=we.n()).done;){var Ee=U.value;if(Ee.type!==Y.type.array&&Ee.type!==Y.type.simpleArray&&Ee.type!==Y.type.map){var Se=le[_e];Ee.type===Y.type.boolean?Q[Ee.name]=Se.checked:Ee.type!==Y.type.image&&(Q[Ee.name]=Se.value.trim()),_e++}}}catch(Ae){we.e(Ae)}finally{we.f()}b===Y.type.array||b===Y.type.simpleArray?v.push(Q):b===Y.type.map&&(v=Q)}}}catch(Ae){s.e(Ae)}finally{s.f()}return v}},{key:"setTableRowCount",value:function(u,b){u.textContent=b===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):b===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(b))}},{key:"filterParameters",value:function(u){var b=null,x=0;if(this.items!==null){u=u.toLowerCase();var v,a=Jt(this.items);try{for(a.s();!(v=a.n()).done;){var s=v.value;s.separator?(b!==null&&(document.getElementById("parameter_group_"+b).style.display=x>0?"block":"none"),b=s.id?s.id:null,x=0):s.nameLowerCase.indexOf(u)!==-1?(document.getElementById("parameter_"+s.id).style.display="block",b!==-1&&x++):document.getElementById("parameter_"+s.id).style.display="none"}}catch(l){a.e(l)}finally{a.f()}b!==null&&(document.getElementById("parameter_group_"+b).style.display=x>0?"block":"none")}}}]),R}();function on(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return an(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?an(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function an(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}Dt.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Gt=function(){function R(S){X(this,R),this.rb=S,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=R.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=R.unit.mm,this.orientation=R.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=R.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=R.display.always,this.headerSizeVal=this.header?P(this.headerSize):0,this.footerSizeVal=this.footer?P(this.footerSize):0,this.patternLocale=S.getProperty("patternLocale"),this.patternCurrencySymbol=S.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=S.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return D(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);this.headerSizeVal=this.header?P(this.headerSize):0,this.footerSizeVal=this.footer?P(this.footerSize):0,this.marginLeftVal=P(this.marginLeft),this.marginTopVal=P(this.marginTop),this.marginRightVal=P(this.marginRight),this.marginBottomVal=P(this.marginBottom)}},{key:"setup",value:function(){var u=this.getPageSize();this.updatePageSize(u),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){if(this[u]=b,u==="marginLeft"||u==="marginTop"||u==="marginRight"||u==="marginBottom"?(this[u+"Val"]=P(b),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):u==="header"?this.updateHeader():u==="footer"&&this.updateFooter(),u!=="header"&&u!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?P(this.headerSize):0),u!=="footer"&&u!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?P(this.footerSize):0),u==="pageFormat"||u==="pageWidth"||u==="pageHeight"||u==="unit"||u==="orientation"||u==="contentHeight"||u==="marginTop"||u==="marginBottom"){var x=this.getPageSize();this.updatePageSize(x)}}},{key:"updatePageSize",value:function(u){this.width=u.width,this.height=u.height,this.rb.getDocument().updatePageSize(u.width,u.height);var b,x=on(this.rb.getDocElements(!0));try{for(x.s();!(b=x.n()).done;){var v=b.value;v instanceof At&&v.setWidth(u.width)}}catch(a){x.e(a)}finally{x.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var u,b,x;return this.pageFormat===R.pageFormat.A4?(this.orientation===R.orientation.portrait?(u=210,b=297):(u=297,b=210),x=R.unit.mm):this.pageFormat===R.pageFormat.A5?(this.orientation===R.orientation.portrait?(u=148,b=210):(u=210,b=148),x=R.unit.mm):this.pageFormat===R.pageFormat.letter?(this.orientation===R.orientation.portrait?(u=8.5,b=11):(u=11,b=8.5),x=R.unit.inch):(u=P(this.pageWidth),b=P(this.pageHeight),x=this.unit),x===R.unit.mm?(u=Math.round(72*u/25.4),b=Math.round(72*b/25.4)):(u=Math.round(72*u),b=Math.round(72*b)),this.contentHeight.trim()!==""&&(b=P(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:u,height:b}}},{key:"getContentSize",value:function(){var u,b=this.getPageSize();return u=this.contentHeight.trim()!==""?P(this.contentHeight):b.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:b.width-this.marginLeftVal-this.marginRightVal,height:u}}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var u,b={},x=on(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;b[v]=this.getValue(v)}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),R}();Gt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Gt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Gt.unit={mm:"mm",inch:"inch"},Gt.orientation={portrait:"portrait",landscape:"landscape"},Gt.display={always:"always",notOnFirstPage:"not_on_first_page"};var wn={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zus\xE4tzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird f\xFCr diese Einstellung nicht unterst\xFCtzt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageCountExceeded:"Es sind nur bis zu ${count} Bilder erlaubt",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementLoadImageWebPErrorMsg:"Bild laden fehlgeschlagen, aktueller Browser ben\xF6tigt",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage f\xFCr Regel {info} ausgew\xE4hlt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgExternalImageNotAllowed:"Server unterst\xFCtzt das Laden von Bildern von externen Resourcen nicht",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck ben\xF6tigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter ${info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Datenfelder f\xFCr diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Datenfelder f\xFCr diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"${name} Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzuf\xFCgen",select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageCountExceeded:"Reached maximum number of ${count} allowed images",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementLoadImageWebPErrorMsg:"Loading image failed, upgrade browser to latest version",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetTextWrap:"Text wrap",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgExternalImageNotAllowed:"Server does not support loading images from external resources",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter ${info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No data fields defined for this list",parameterEditTestDataMapNoFields:"No data fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"${name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function vr(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return ln(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ln(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function ln(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Tr=function(){function R(S,u,b,x){X(this,R),this.idPrefix=S,this.dataBaseClass=u,this.panelId=S+"_panel",this.rootElement=b,this.rb=x,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return D(R,[{key:"render",value:function(u){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(u,b,x){var v="".concat(this.idPrefix,"_").concat(u.fieldId);x?document.getElementById(v).classList.add("rbroDifferentValues"):document.getElementById(v).classList.remove("rbroDifferentValues");var a=document.getElementById(v);if(u.type===e.type.text)x?(a.value="",a.setAttribute("placeholder",this.differentValuesLabel)):(a.value=b,a.setAttribute("placeholder",""));else if(u.type===e.type.richText)this.quill&&(x||!b?this.quill.setContents({},"silent"):this.quill.setContents(b,"silent"));else if(u.type===e.type.select)a.value=b;else if(u.type===e.type.checkbox)a.checked=!x&&b;else if(u.type===e.type.button)x?a.classList.remove("rbroButtonActive"):b?a.classList.add("rbroButtonActive"):a.classList.remove("rbroButtonActive");else if(u.type===e.type.buttonGroup){var s,l=vr(a.querySelectorAll("button"));try{for(l.s();!(s=l.n()).done;)s.value.classList.remove("rbroButtonActive")}catch(j){l.e(j)}finally{l.f()}x||a.querySelector('button[value="'.concat(b,'"]')).classList.add("rbroButtonActive")}else if(u.type===e.type.color){var g=document.getElementById(v+"_select");x?u.allowEmpty?(a.value="",g.style.color="",g.classList.add("rbroTransparentColorSelect")):(a.value="#000000",g.style.color="#000000",g.classList.remove("rbroTransparentColorSelect")):(a.value=b,g.style.color=b,b?g.classList.remove("rbroTransparentColorSelect"):g.classList.add("rbroTransparentColorSelect"))}else u.type===e.type.filename&&(x?(a.textContent=this.differentFilesLabel,document.getElementById(v+"_container").classList.remove("rbroHidden")):(a.textContent=b,b===""?document.getElementById(v+"_container").classList.add("rbroHidden"):document.getElementById(v+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(u){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(u,b,x){u instanceof this.dataBaseClass&&this.rb.isSelectedObject(u.id)&&b===w.operation.change&&this.updateDisplay(x)}},{key:"updateErrors",value:function(){var u,b=document.getElementById(this.panelId),x=b.querySelectorAll(".rbroFormRow"),v=b.querySelectorAll(".rbroErrorMessage"),a=vr(x);try{for(a.s();!(u=a.n()).done;)u.value.classList.remove("rbroError")}catch(Ae){a.e(Ae)}finally{a.f()}var s,l=vr(v);try{for(l.s();!(s=l.n()).done;)s.value.textContent=""}catch(Ae){l.e(Ae)}finally{l.f()}var g=this.rb.getSelectedObject();if(g!==null){var j,U=vr(g.getErrors());try{for(U.s();!(j=U.n()).done;){var Q=j.value,le=this.propertyDescriptors[Q.field];if(le){if("section"in le){var _e=le.section;document.getElementById("".concat(this.idPrefix,"_").concat(_e,"_header")).classList.add("rbroError")}var we=this.rb.getLabel(Q.msg_key);Q.info&&(we=we.replace("${info}",'<span class="rbroErrorMessageInfo">'+Q.info.replace("<","&lt;").replace(">","&gt;")+"</span>"));var Ee=this.getRowId(le);document.getElementById(Ee).classList.add("rbroError");var Se;Se="errorMsgId"in le?le.errorMsgId:"".concat(this.idPrefix,"_").concat(le.fieldId,"_error"),document.getElementById(Se).innerHTML=we}}}catch(Ae){U.e(Ae)}finally{U.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var u=this.rb.getSelectedObject();if(u!==null){var b,x=vr(u.getErrors());try{for(x.s();!(b=x.n()).done;){var v=b.value,a=this.propertyDescriptors[v.field];if(a&&"section"in a){var s=a.section,l=document.getElementById("".concat(this.idPrefix,"_").concat(s,"_header"));l.classList.contains("rbroPanelSectionHeaderOpen")||l.dispatchEvent(new Event("click"))}}}catch(Se){x.e(Se)}finally{x.f()}var g,j="",U=-1,Q=vr(u.getErrors());try{for(Q.s();!(g=Q.n()).done;){var le=g.value,_e=this.propertyDescriptors[le.field];if(_e){var we=this.getRowId(_e),Ee=E(document.getElementById(we)).top;(j===""||Ee<U)&&(j=we,U=Ee)}}}catch(Se){Q.e(Se)}finally{Q.f()}j!==""&&document.getElementById(j).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(u){return"rowId"in u?u.rowId:"".concat(this.idPrefix,"_").concat(u.fieldId,"_row")}}]),R}();function sn(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return un(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?un(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function un(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Ir=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return X(this,x),(s=b.call(this,"rbro_style",ie,v,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:e.type.select,fieldId:"line_spacing"},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:e.type.text,fieldId:"border_width"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},s}return D(x,[{key:"render",value:function(){var a=this,s=t("div",{id:"rbro_style_panel",class:"rbroHidden"}),l=t("div",{class:"rbroFormRow"});y(l,this.rb.getLabel("styleName"),"rbro_style_name");var g=t("div",{class:"rbroFormField"}),j=t("input",{id:"rbro_style_name",autocomplete:"off"});j.addEventListener("input",function(U){var Q=a.rb.getSelectedObject();Q!==null&&(j.value.trim()!==""?a.rb.executeCommand(new e(Q.getId(),"name",j.value,e.type.text,a.rb)):j.value=Q.getName())}),g.append(j),l.append(g),s.append(l),x.renderStyle(s,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(s)}},{key:"destroy",value:function(){x.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof ie){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var g=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,g,j,!1)}}}}],[{key:"renderStyle",value:function(a,s,l,g,j,U){var Q,le;y(Q=t("div",{id:"rbro_".concat(s,"textstyle_row"),class:"rbroFormRow"}),U.getLabel("styleTextStyle")),le=t("div",{class:"rbroFormField"});var _e=t("div",{id:"rbro_".concat(s,"textstyle")}),we=t("button",{id:"rbro_".concat(s,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:U.getLabel("styleBold")});we.addEventListener("click",function(pt){for(var ke=!we.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"bold"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"bold"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("bold",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),_e.append(we);var Ee=t("button",{id:"rbro_".concat(s,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:U.getLabel("styleItalic")});Ee.addEventListener("click",function(pt){for(var ke=!Ee.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"italic"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"italic"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("italic",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),_e.append(Ee);var Se=t("button",{id:"rbro_".concat(s,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:U.getLabel("styleUnderline")});Se.addEventListener("click",function(pt){for(var ke=!Se.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"underline"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"underline"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("underline",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),_e.append(Se);var Ae=t("button",{id:"rbro_".concat(s,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:U.getLabel("styleStrikethrough")});Ae.addEventListener("click",function(pt){for(var ke=!Ae.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"strikethrough"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"strikethrough"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("strikethrough",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),_e.append(Ae),le.append(_e),Q.append(le),a.append(Q),y(Q=t("div",{id:"rbro_".concat(s,"alignment_row"),class:"rbroFormRow"}),U.getLabel("styleAlignment")),le=t("div",{class:"rbroFormField"});var Be=t("div",{id:"rbro_".concat(s,"halignment")}),Ue=t("button",{id:"rbro_".concat(s,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:U.getLabel("styleHAlignmentLeft")});Ue.addEventListener("click",function(pt){for(var ke=ie.alignment.left,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"horizontalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"horizontalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"horizontalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("horizontalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Be.append(Ue);var Me=t("button",{id:"rbro_".concat(s,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:U.getLabel("styleHAlignmentCenter")});Me.addEventListener("click",function(pt){for(var ke=ie.alignment.center,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"horizontalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"horizontalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"horizontalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("horizontalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Be.append(Me);var Re=t("button",{id:"rbro_".concat(s,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:U.getLabel("styleHAlignmentRight")});Re.addEventListener("click",function(pt){for(var ke=ie.alignment.right,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"horizontalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"horizontalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"horizontalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("horizontalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Be.append(Re);var We=t("button",{id:"rbro_".concat(s,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:U.getLabel("styleHAlignmentJustify")});We.addEventListener("click",function(pt){for(var ke=ie.alignment.justify,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"horizontalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"horizontalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"horizontalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("horizontalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Be.append(We),le.append(Be);var Je=t("div",{id:"rbro_".concat(s,"valignment")}),Ge=t("button",{id:"rbro_".concat(s,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:U.getLabel("styleVAlignmentTop")});Ge.addEventListener("click",function(pt){for(var ke=ie.alignment.top,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"verticalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"verticalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"verticalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("verticalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Je.append(Ge);var Xe=t("button",{id:"rbro_".concat(s,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:U.getLabel("styleVAlignmentMiddle")});Xe.addEventListener("click",function(pt){for(var ke=ie.alignment.middle,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"verticalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"verticalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"verticalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("verticalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Je.append(Xe);var ut=t("button",{id:"rbro_".concat(s,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:U.getLabel("styleVAlignmentBottom")});ut.addEventListener("click",function(pt){for(var ke=ie.alignment.bottom,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"verticalAlignment"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"verticalAlignment"),ke,e.type.buttonGroup,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"verticalAlignment"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("verticalAlignment",ke,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Je.append(ut),le.append(Je),Q.append(le),a.append(Q),y(Q=t("div",{id:"rbro_".concat(s,"text_color_row"),class:"rbroFormRow"}),U.getLabel("styleTextColor"),"rbro_".concat(s,"text_color")),le=t("div",{class:"rbroFormField"});var lt=t("div",{class:"rbroColorPickerContainer"}),at=t("input",{id:"rbro_".concat(s,"text_color"),autocomplete:"off"});at.addEventListener("change",function(pt){var ke=at.value;if(Z(ke)){for(var me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"textColor"),ke,e.type.color,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"textColor"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("textColor",ke,e.type.color,me)}me.isEmpty()||U.executeCommand(me)}}),lt.append(at),j[l+"textColor"]=M(lt,at,!1,U),le.append(lt),Q.append(le),a.append(Q),y(Q=t("div",{id:"rbro_".concat(s,"background_color_row"),class:"rbroFormRow"}),U.getLabel("styleBackgroundColor"),"rbro_".concat(s,"background_color")),le=t("div",{class:"rbroFormField"});var rt=t("div",{class:"rbroColorPickerContainer"}),ye=t("input",{id:"rbro_".concat(s,"background_color"),autocomplete:"off"});if(ye.addEventListener("change",function(pt){var ke=ye.value;if(Z(ke)){for(var me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"backgroundColor"),ke,e.type.color,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"backgroundColor"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("backgroundColor",ke,e.type.color,me)}me.isEmpty()||U.executeCommand(me)}}),rt.append(ye),j[l+"backgroundColor"]=M(rt,ye,!0,U),le.append(rt),Q.append(le),a.append(Q),g){y(Q=t("div",{id:"rbro_".concat(s,"alternate_background_color_row"),class:"rbroFormRow"}),U.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(s,"alternate_background_color")),le=t("div",{class:"rbroFormField"});var He=t("div",{class:"rbroColorPickerContainer"}),Ke=t("input",{id:"rbro_".concat(s,"alternate_background_color")});Ke.addEventListener("change",function(pt){var ke=Ke.value;if(Z(ke)){for(var me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"alternateBackgroundColor"),ke,e.type.color,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"alternateBackgroundColor"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("alternateBackgroundColor",ke,e.type.color,me)}me.isEmpty()||U.executeCommand(me)}}),He.append(Ke),j[l+"alternateBackgroundColor"]=M(He,Ke,!0,U),le.append(He),Q.append(le),a.append(Q)}y(Q=t("div",{id:"rbro_".concat(s,"font_row"),class:"rbroFormRow"}),U.getLabel("styleFont"),"rbro_".concat(s,"font")),le=t("div",{class:"rbroFormField"});var yt,it=t("div",{class:"rbroSplit rbroSelectFont"}),st=t("select",{id:"rbro_".concat(s,"font")}),ct=sn(U.getFonts());try{for(ct.s();!(yt=ct.n()).done;){var bt=yt.value;st.append(t("option",{value:bt.value},bt.name))}}catch(pt){ct.e(pt)}finally{ct.f()}st.addEventListener("change",function(pt){for(var ke=st.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"font"),ke,e.type.select,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"font"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("font",ke,e.type.select,me)}me.isEmpty()||U.executeCommand(me)}),it.append(st);var Et,gt=t("select",{id:"rbro_".concat(s,"font_size")}),_t=sn(U.getProperty("fontSizes"));try{for(_t.s();!(Et=_t.n()).done;){var mt=Et.value;gt.append(t("option",{value:mt},String(mt)))}}catch(pt){_t.e(pt)}finally{_t.f()}gt.addEventListener("change",function(pt){for(var ke=gt.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"fontSize"),ke,e.type.select,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"fontSize"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("fontSize",ke,e.type.select,me)}me.isEmpty()||U.executeCommand(me)}),it.append(gt),it.append(t("span",{},U.getLabel("styleFontSizeUnit"))),le.append(it),le.append(t("div",{id:"rbro_".concat(s,"font_error"),class:"rbroErrorMessage"})),Q.append(le),a.append(Q),y(Q=t("div",{id:"rbro_".concat(s,"line_spacing_row"),class:"rbroFormRow"}),U.getLabel("styleLineSpacing"),"rbro_".concat(s,"line_spacing")),le=t("div",{class:"rbroFormField"});for(var dt=t("select",{id:"rbro_".concat(s,"line_spacing")}),Qt=0,Lt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];Qt<Lt.length;Qt++){var or=Lt[Qt];dt.append(t("option",{value:or},or))}dt.addEventListener("change",function(pt){for(var ke=dt.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"lineSpacing"),ke,e.type.select,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"lineSpacing"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("lineSpacing",ke,e.type.select,me),me.isEmpty()||U.executeCommand(me)}}),le.append(dt),Q.append(le),a.append(Q);var Ht=t("div",{id:"rbro_".concat(s,"border_div")});y(Q=t("div",{id:"rbro_".concat(s,"border_row"),class:"rbroFormRow"}),U.getLabel("styleBorder")),le=t("div",{class:"rbroFormField"});var Rt=t("div",{id:"rbro_".concat(s,"border")}),Kt=t("button",{id:"rbro_".concat(s,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(l,"borderAll"),title:U.getLabel("styleBorderAll")});Kt.addEventListener("click",function(pt){for(var ke=!Kt.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"borderLeft"),ke,e.type.button,U)),me.addCommand(new e(ue.getId(),"".concat(l,"borderTop"),ke,e.type.button,U)),me.addCommand(new e(ue.getId(),"".concat(l,"borderRight"),ke,e.type.button,U)),me.addCommand(new e(ue.getId(),"".concat(l,"borderBottom"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderLeft"))===ke&&ue.getValue("".concat(l,"borderTop"))===ke&&ue.getValue("".concat(l,"borderRight"))===ke&&ue.getValue("".concat(l,"borderBottom"))===ke||me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&(ue.addCommandsForChangedProperty("borderLeft",ke,e.type.button,me),ue.addCommandsForChangedProperty("borderTop",ke,e.type.button,me),ue.addCommandsForChangedProperty("borderRight",ke,e.type.button,me),ue.addCommandsForChangedProperty("borderBottom",ke,e.type.button,me))}me.isEmpty()||U.executeCommand(me)}),Rt.append(Kt);var pr=t("button",{id:"rbro_".concat(s,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(l,"borderLeft"),title:U.getLabel("orientationLeft")});pr.addEventListener("click",function(pt){for(var ke=!pr.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"borderLeft"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderLeft"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("borderLeft",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),Rt.append(pr);var er=t("button",{id:"rbro_".concat(s,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(l,"borderTop"),title:U.getLabel("orientationTop")});er.addEventListener("click",function(pt){for(var ke=!er.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"borderTop"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderTop"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("borderTop",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),Rt.append(er);var tr=t("button",{id:"rbro_".concat(s,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(l,"borderRight"),title:U.getLabel("orientationRight")});tr.addEventListener("click",function(pt){for(var ke=!tr.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"borderRight"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderRight"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("borderRight",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),Rt.append(tr);var Zt=t("button",{id:"rbro_".concat(s,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(l,"borderBottom"),title:U.getLabel("orientationBottom")});if(Zt.addEventListener("click",function(pt){for(var ke=!Zt.classList.contains("rbroButtonActive"),me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"borderBottom"),ke,e.type.button,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderBottom"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("borderBottom",ke,e.type.button,me)}me.isEmpty()||U.executeCommand(me)}),Rt.append(Zt),le.append(Rt),Q.append(le),Ht.append(Q),g){y(Q=t("div",{id:"rbro_".concat(s,"table_border_row"),class:"rbroFormRow"}),U.getLabel("styleBorder")),le=t("div",{class:"rbroFormField"});var Nt=t("div",{id:"rbro_".concat(s,"table_border")}),Mt=t("button",{id:"rbro_".concat(s,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(l,"grid"),title:U.getLabel("docElementBorderGrid")});Mt.addEventListener("click",function(pt){for(var ke=lr.border.grid,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"border"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"border"),ke,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Nt.append(Mt);var qt=t("button",{id:"rbro_".concat(s,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(l,"frame_row"),title:U.getLabel("docElementBorderFrameRow")});qt.addEventListener("click",function(pt){for(var ke=lr.border.frameRow,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"border"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"border"),ke,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Nt.append(qt);var It=t("button",{id:"rbro_".concat(s,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(l,"frame"),title:U.getLabel("docElementBorderFrame")});It.addEventListener("click",function(pt){for(var ke=lr.border.frame,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"border"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"border"),ke,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Nt.append(It);var Ft=t("button",{id:"rbro_".concat(s,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(l,"row"),title:U.getLabel("docElementBorderRow")});Ft.addEventListener("click",function(pt){for(var ke=lr.border.row,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"border"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"border"),ke,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Nt.append(Ft);var ar=t("button",{id:"rbro_".concat(s,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(l,"none"),title:U.getLabel("docElementBorderNone")});ar.addEventListener("click",function(pt){for(var ke=lr.border.none,me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"border"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"border"),ke,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Nt.append(ar),le.append(Nt),Q.append(le),Ht.append(Q)}y(Q=t("div",{id:"rbro_".concat(s,"border_color_row"),class:"rbroFormRow"}),U.getLabel("styleBorderColor"),"rbro_".concat(s,"border_color")),le=t("div",{class:"rbroFormField"});var Yt=t("div",{class:"rbroColorPickerContainer"}),rr=t("input",{id:"rbro_".concat(s,"border_color"),autocomplete:"off"});rr.addEventListener("change",function(pt){var ke=rr.value;if(Z(ke)){for(var me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"borderColor"),ke,e.type.color,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderColor"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("borderColor",ke,e.type.color,me)}me.isEmpty()||U.executeCommand(me)}}),Yt.append(rr),j[l+"borderColor"]=M(Yt,rr,!1,U),le.append(Yt),Q.append(le),Ht.append(Q),y(Q=t("div",{id:"rbro_".concat(s,"border_width_row"),class:"rbroFormRow"}),U.getLabel("styleBorderWidth"),"rbro_".concat(s,"border_width")),le=t("div",{class:"rbroFormField"});var Ot=t("input",{id:"rbro_".concat(s,"border_width"),type:"number",step:"0.5",autocomplete:"off"});Ot.addEventListener("input",function(pt){var ke=Ot.value;ke!==""&&(ke=A(ke,.5,99)),ke!==Ot.value&&(Ot.value=ke);for(var me=U.getSelectedObjects(),Ne=!1,Te=me.length-1;Te>=0;Te--)if(me[Te].getValue("".concat(l,"borderWidth"))!==ke){Ne=!0;break}if(Ne){for(var ue=new de("Set value",U),tt=me.length-1;tt>=0;tt--){var Fe=me[tt];ue.addSelection(Fe.getId()),ue.addCommand(new e(Fe.getId(),"".concat(l,"borderWidth"),ke,e.type.text,U)),Fe instanceof he&&Fe.getValue("".concat(l,"styleId"))!==""?Fe.getValue("".concat(l,"borderWidth"))!==ke&&ue.addCommand(new e(Fe.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Fe instanceof ie&&Fe.addCommandsForChangedProperty("borderWidth",ke,e.type.text,ue)}ue.isEmpty()||U.executeCommand(ue)}}),le.append(Ot),Q.append(le),Ht.append(Q),a.append(Ht),y(Q=t("div",{id:"rbro_".concat(s,"padding_row"),class:"rbroFormRow"}),U.getLabel("stylePadding"),"rbro_".concat(s,"padding")),le=t("div",{class:"rbroFormField rbroSmallInput"});var hr=t("div",{class:"rbroColumnCenter"}),fr=t("input",{id:"rbro_".concat(s,"padding_top"),placeholder:U.getLabel("orientationTop"),type:"number",autocomplete:"off"});fr.addEventListener("input",function(pt){for(var ke=fr.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"paddingTop"),ke,e.type.text,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingTop"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("paddingTop",ke,e.type.text,me)}me.isEmpty()||U.executeCommand(me)}),hr.append(fr),le.append(hr);var mr=t("div",{class:"rbroSplit"}),sr=t("input",{id:"rbro_".concat(s,"padding_left"),placeholder:U.getLabel("orientationLeft"),type:"number",autocomplete:"off"});sr.addEventListener("input",function(pt){for(var ke=sr.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"paddingLeft"),ke,e.type.text,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingLeft"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("paddingLeft",ke,e.type.text,me)}me.isEmpty()||U.executeCommand(me)}),mr.append(sr);var ur=t("input",{id:"rbro_".concat(s,"padding_right"),placeholder:U.getLabel("orientationRight"),type:"number",autocomplete:"off"});ur.addEventListener("input",function(pt){for(var ke=ur.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"paddingRight"),ke,e.type.text,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingRight"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("paddingRight",ke,e.type.text,me)}me.isEmpty()||U.executeCommand(me)}),mr.append(ur),le.append(mr);var _r=t("div",{class:"rbroColumnCenter"}),cr=t("input",{id:"rbro_".concat(s,"padding_bottom"),placeholder:U.getLabel("orientationBottom"),type:"number",autocomplete:"off"});cr.addEventListener("input",function(pt){for(var ke=cr.value,me=new de("Set value",U),Ne=U.getSelectedObjects(),Te=Ne.length-1;Te>=0;Te--){var ue=Ne[Te];me.addSelection(ue.getId()),me.addCommand(new e(ue.getId(),"".concat(l,"paddingBottom"),ke,e.type.text,U)),ue instanceof he&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingBottom"))!==ke&&me.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ie&&ue.addCommandsForChangedProperty("paddingBottom",ke,e.type.text,me)}me.isEmpty()||U.executeCommand(me)}),_r.append(cr),le.append(_r),Q.append(le),a.append(Q)}},{key:"destroyStyle",value:function(a,s){s[a+"textColor"].destroy(),s[a+"backgroundColor"].destroy(),a+"alternateBackgroundColor"in s&&s[a+"alternateBackgroundColor"].destroy(),s[a+"borderColor"].destroy()}}]),x}(Tr),En=Qe(6095),br=Qe.n(En),xn=Qe(4175),cn=Qe.n(xn);function Ut(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return dn(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?dn(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function dn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Cn=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;for(var l in X(this,x),(s=b.call(this,"rbro_doc_element",he,v,a)).propertyDescriptors={label:{type:e.type.text,fieldId:"label"},content:{type:e.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:e.type.checkbox,fieldId:"rich_text"},richTextContent:{type:e.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:e.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:e.type.text,fieldId:"data_source"},xReadOnly:{type:e.type.text,fieldId:"x_read_only"},x:{type:e.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:e.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:e.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"type != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:e.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:e.type.text,fieldId:"colspan"},format:{type:e.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:e.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:e.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:e.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:e.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:e.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:e.type.text,fieldId:"source"},image:{type:e.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:e.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:e.type.text,fieldId:"columns"},header:{type:e.type.checkbox,fieldId:"header"},contentRows:{type:e.type.text,fieldId:"content_rows"},footer:{type:e.type.checkbox,fieldId:"footer"},color:{type:e.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:e.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:e.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:e.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:e.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:e.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:e.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:e.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:e.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:e.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:e.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:e.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:e.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:e.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:e.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:e.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:e.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:e.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:e.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:e.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:e.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:e.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:e.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:e.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:e.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:e.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:e.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:e.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:e.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:e.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:e.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:e.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:e.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:e.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:e.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:e.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:e.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:e.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:e.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:e.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:e.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:e.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:e.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_textWrap:{type:e.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},a.getProperty("showPlusFeatures")||(delete s.propertyDescriptors.richText,delete s.propertyDescriptors.richTextContent),s.visibleIfFields=[],s.propertyDescriptors)if(s.propertyDescriptors.hasOwnProperty(l)){var g=s.propertyDescriptors[l];if("visibleIf"in g){var j,U=Ut($(g.visibleIf,null));try{for(U.s();!(j=U.n()).done;){var Q=j.value;Q.type==="field"&&("visibleIfFields"in g?g.visibleIfFields.includes(Q.value)||g.visibleIfFields.push(Q.value):g.visibleIfFields=[Q.value],s.visibleIfFields.includes(Q.value)||s.visibleIfFields.push(Q.value))}}catch(le){U.e(le)}finally{U.f()}}}return s}return D(x,[{key:"render",value:function(){var a,s,l,g=this,j=t("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});y(a=t("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),s=t("div",{class:"rbroFormField"});var U=t("input",{id:"rbro_doc_element_label",autocomplete:"off"});U.addEventListener("input",function($e){for(var Ie=U.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"label",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(U),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),s=t("div",{class:"rbroFormField"});var Q=t("div",{class:"rbroSplit rbroSelector"}),le=t("textarea",{id:"rbro_doc_element_data_source",rows:1});le.addEventListener("input",function($e){for(var Ie=le.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"dataSource",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),St(le),Q.append(le),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,[Y.type.array]),null,"rbro_doc_element_data_source","dataSource",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var _e=t("textarea",{id:"rbro_doc_element_content",rows:1});if(_e.addEventListener("input",function($e){for(var Ie=_e.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"content",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),_e.addEventListener("blur",function($e){g.rb.getPopupWindow().hide()}),St(_e),Q.append(_e),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,null),null,"rbro_doc_element_content","content",Dt.type.parameterAppend)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),this.rb.getProperty("showPlusFeatures")){y(a=t("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),s=t("div",{class:"rbroFormField"});var we=t("label",{class:"switch-light switch-material"}),Ee=t("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});Ee.addEventListener("change",function($e){for(var Ie=Ee.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"richText",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),we.append(Ee);var Se=t("span");if(Se.append(t("span")),Se.append(t("span")),Se.append(t("a")),we.append(Se),s.append(we),s.append(t("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var Ae=t("div",{class:"rbroInfo"});Ae.innerHTML=this.rb.getLabel("plusFeatureInfo"),s.append(Ae)}a.append(s),j.append(a),a=t("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var Be,Ue=this.rb.getProperty("colors"),Me=t("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),Re=t("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),We=Ut(Ue);try{for(We.s();!(Be=We.n()).done;){var Je=Be.value;Me.append(t("option",{value:Je},Je)),Re.append(t("option",{value:Je},Je))}}catch($e){We.e($e)}finally{We.f()}Me.append(t("option",{value:"clear-color"})),Re.append(t("option",{value:"clear-color"}));var Ge,Xe=t("select",{class:"ql-font"}),ut=this.rb.getProperty("defaultFont"),lt=Ut(this.rb.getFonts());try{for(lt.s();!(Ge=lt.n()).done;){var at=Ge.value,rt={value:at.value};at.value===ut&&(rt.selected="selected"),Xe.append(t("option",rt,at.name))}}catch($e){lt.e($e)}finally{lt.f()}var ye,He=t("select",{class:"ql-size"}),Ke=Ut(this.rb.getProperty("fontSizes"));try{for(Ke.s();!(ye=Ke.n()).done;){var yt=ye.value,it={value:yt+"px"};yt===12&&(it.selected="selected"),He.append(t("option",it,yt+"pt"))}}catch($e){Ke.e($e)}finally{Ke.f()}var st=t("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),ct=t("span",{class:"ql-formats"});ct.append(t("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),ct.append(t("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),ct.append(t("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),ct.append(t("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),st.append(ct),(ct=t("span",{class:"ql-formats"})).append(t("button",{class:"ql-link"})),st.append(ct),(ct=t("span",{class:"ql-formats"})).append(t("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),st.append(ct),(ct=t("span",{class:"ql-formats"})).append(Me),ct.append(Re),st.append(ct),st.append(Xe),st.append(He),st.append(t("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),a.append(st);var bt=t("div",{id:"rbro_doc_element_rich_text_content"});a.append(bt),s.append(t("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),j.append(a)}y(a=t("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),s=t("div",{class:"rbroFormField"});var Et=t("input",{id:"rbro_doc_element_eval",type:"checkbox"});Et.addEventListener("change",function($e){for(var Ie=new de("Set value",g.rb),fe=g.rb.getSelectedObjects(),De=Et.checked,xe=fe.length-1;xe>=0;xe--){var Le=fe[xe];Ie.addSelection(Le.getId()),Ie.addCommand(new e(Le.getId(),"eval",De,e.type.checkbox,g.rb))}Ie.isEmpty()||g.rb.executeCommand(Ie)}),s.append(Et),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),s=t("div",{class:"rbroFormField"});var gt=t("select",{id:"rbro_doc_element_format"});gt.append(t("option",{value:"CODE39"},"CODE39")),gt.append(t("option",{value:"CODE128"},"CODE128")),gt.append(t("option",{value:"EAN8"},"EAN-8")),gt.append(t("option",{value:"EAN13"},"EAN-13")),gt.append(t("option",{value:"UPC"},"UPC")),gt.append(t("option",{value:"QRCode"},"QR Code")),gt.addEventListener("change",function($e){for(var Ie=gt.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"format",Ie,e.type.select,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(gt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),s=t("div",{class:"rbroFormField"});var _t=t("input",{id:"rbro_doc_element_display_value",type:"checkbox"});_t.addEventListener("change",function($e){for(var Ie=_t.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"displayValue",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(_t),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),s=t("div",{class:"rbroFormField"});var mt=t("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});mt.addEventListener("input",function($e){var Ie=mt.value;Ie!==""&&(Ie=A(Ie,.3,3)),Ie!==mt.value&&(mt.value=Ie);for(var fe=g.rb.getSelectedObjects(),De=!1,xe=fe.length-1;xe>=0;xe--)if(fe[xe].getValue("barWidth")!==Ie){De=!0;break}if(De){for(var Le=new de("Set value",g.rb),xt=fe.length-1;xt>=0;xt--){var Pt=fe[xt];Le.addSelection(Pt.getId()),Le.addCommand(new e(Pt.getId(),"barWidth",Ie,e.type.text,g.rb))}Le.isEmpty()||g.rb.executeCommand(Le)}}),s.append(mt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),s=t("div",{class:"rbroFormField"});var dt=t("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});dt.addEventListener("change",function($e){for(var Ie=dt.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"guardBar",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(dt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),s=t("div",{class:"rbroFormField"});var Qt=t("input",{id:"rbro_doc_element_rotate",type:"checkbox"});Qt.addEventListener("change",function($e){for(var Ie=Qt.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"rotate",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Qt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),s=t("div",{class:"rbroFormField"});var Lt=t("select",{id:"rbro_doc_element_error_correction_level"});Lt.append(t("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),Lt.append(t("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),Lt.append(t("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),Lt.append(t("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),Lt.addEventListener("change",function($e){for(var Ie=Lt.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"errorCorrectionLevel",Ie,e.type.select,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Lt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var or=t("textarea",{id:"rbro_doc_element_source",rows:1});or.addEventListener("input",function($e){for(var Ie=or.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"source",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),St(or),Q.append(or),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,[Y.type.image,Y.type.string]),null,"rbro_doc_element_source","source",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),s=t("div",{class:"rbroFormField"});var Ht=t("input",{id:"rbro_doc_element_image",type:"file"});Ht.addEventListener("change",function($e){var Ie=g.rb,fe=$e.target.files;fe&&fe[0]&&te(fe[0],function(De,xe){for(var Le=new de("Load image",Ie),xt=Ie.getSelectedObjects(),Pt=xt.length-1;Pt>=0;Pt--){var $t=xt[Pt];Le.addSelection($t.getId()),Le.addCommand(new e($t.getId(),"image",De,e.type.file,Ie)),Le.addCommand(new e($t.getId(),"imageFilename",xe,e.type.filename,Ie))}Le.isEmpty()||Ie.executeCommand(Le)},g.rb)}),s.append(Ht);var Rt=t("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});Rt.append(t("div",{id:"rbro_doc_element_image_filename"}));var Kt=t("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Kt.addEventListener("click",function($e){Ht.value="";for(var Ie=new de("Clear image",g.rb),fe=g.rb.getSelectedObjects(),De=fe.length-1;De>=0;De--){var xe=fe[De];Ie.addSelection(xe.getId()),Ie.addCommand(new e(xe.getId(),"image","",e.type.file,g.rb)),Ie.addCommand(new e(xe.getId(),"imageFilename","",e.type.filename,g.rb))}Ie.isEmpty()||g.rb.executeCommand(Ie)}),Rt.append(Kt),s.append(Rt),s.append(t("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),s=t("div",{class:"rbroFormField"});var pr=t("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});s.append(pr),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit"});var er=t("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});er.addEventListener("input",function($e){for(var Ie=er.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"x",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),Q.append(er);var tr=t("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});tr.addEventListener("input",function($e){for(var Ie=tr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"y",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),Q.append(tr),s.append(Q),s.append(t("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit"});var Zt=t("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Zt.addEventListener("input",function($e){for(var Ie=Zt.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"width",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),Q.append(Zt);var Nt=t("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});Nt.addEventListener("input",function($e){for(var Ie=Nt.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"height",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),Q.append(Nt),s.append(Q),s.append(t("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),s=t("div",{class:"rbroFormField"});var Mt=t("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});Mt.addEventListener("change",function($e){var Ie=Mt.value.trim();Ie!==""&&(Ie=A(Ie,1,9)),Ie!==Mt.value&&(Mt.value=Ie);for(var fe=g.rb.getSelectedObjects(),De=!1,xe=fe.length-1;xe>=0;xe--)if(fe[xe].getValue("colspan")!==Ie){De=!0;break}if(De){for(var Le=new de("Set value",g.rb),xt=fe.length-1;xt>=0;xt--){var Pt=fe[xt];Le.addSelection(Pt.getId()),Le.addCommand(new e(Pt.getId(),"colspan",Ie,e.type.text,g.rb))}Le.isEmpty()||g.rb.executeCommand(Le)}}),s.append(Mt),s.append(t("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),s=t("div",{class:"rbroFormField"});var qt=t("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});qt.addEventListener("change",function($e){var Ie=A(qt.value,1,99);Ie!==qt.value&&(qt.value=Ie);for(var fe=P(Ie),De=g.rb.getSelectedObjects(),xe=!1,Le=!0,xt=De.length-1;xt>=0;xt--){var Pt=De[xt];Pt.getValue("columns")!==Ie&&(xe=!0),Pt.hasEnoughAvailableSpace(fe)||(Le=!1)}if(Le||De.length!==1||(qt.value=De[0].getValue("columns")),xe&&Le){for(var $t=new de("Set value",g.rb),Jr=De.length-1;Jr>=0;Jr--){var vn=De[Jr];$t.addSelection(vn.getId()),vn.addCommandsForChangedColumns(fe,$t)}$t.isEmpty()||g.rb.executeCommand($t)}}),s.append(qt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),s=t("div",{class:"rbroFormField"});var It=t("label",{class:"switch-light switch-material"}),Ft=t("input",{id:"rbro_doc_element_header",type:"checkbox"});Ft.addEventListener("change",function($e){for(var Ie=Ft.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"header",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),It.append(Ft);var ar=t("span");ar.append(t("span")),ar.append(t("span")),ar.append(t("a")),It.append(ar),s.append(It),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),s=t("div",{class:"rbroFormField"});var Yt=t("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});Yt.addEventListener("change",function($e){var Ie=A(Yt.value,1,99),fe=P(Ie);Ie!==Yt.value&&(Yt.value=Ie);for(var De=g.rb.getSelectedObjects(),xe=!1,Le=De.length-1;Le>=0;Le--)if(De[Le].getValue("contentRows")!==Ie){xe=!0;break}if(xe){for(var xt=new de("Set value",g.rb),Pt=De.length-1;Pt>=0;Pt--){var $t=De[Pt];xt.addSelection($t.getId()),$t.addCommandsForChangedContentRows(fe,xt)}xt.isEmpty()||g.rb.executeCommand(xt)}}),s.append(Yt),a.append(s),j.append(a),y(a=t("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),s=t("div",{class:"rbroFormField"});var rr=t("label",{class:"switch-light switch-material"}),Ot=t("input",{id:"rbro_doc_element_footer",type:"checkbox"});Ot.addEventListener("change",function($e){for(var Ie=Ot.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"footer",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),rr.append(Ot);var hr=t("span");hr.append(t("span")),hr.append(t("span")),hr.append(t("a")),rr.append(hr),s.append(rr),a.append(s),j.append(a);var fr=t("div",{id:"rbro_doc_element_style_section_container"}),mr=t("div",{class:"rbroPanelSectionHeader"}),sr=t("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(a=t("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),sr.classList.toggle("rbroIcon-plus"),sr.classList.toggle("rbroIcon-minus"),sr.classList.contains("rbroIcon-minus")){var Ie=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ie}}),mr.append(sr),mr.append(t("span",{},this.rb.getLabel("docElementStyle"))),a.append(mr),fr.append(a);var ur=t("div",{id:"rbro_doc_element_style_section"});y(a=t("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),s=t("div",{class:"rbroFormField"});var _r=t("div",{class:"rbroColorPickerContainer"}),cr=t("input",{id:"rbro_doc_element_color",autocomplete:"off"});cr.addEventListener("change",function($e){var Ie=cr.value;if(Z(Ie)){for(var fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"color",Ie,e.type.color,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}}),_r.append(cr),this.controls.color=M(_r,cr,!1,this.rb),s.append(_r),a.append(s),ur.append(a),y(a=t("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),s=t("div",{class:"rbroFormField"}),this.elStyle=t("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function($e){for(var Ie=new de("Set value",g.rb),fe=g.rb.getSelectedObjects(),De=fe.length-1;De>=0;De--){var xe=fe[De];Ie.addSelection(xe.getId()),xe.addCommandsForChangedStyle(g.elStyle.value,"",g.propertyDescriptors,Ie)}Ie.isEmpty()||g.rb.executeCommand(Ie)}),s.append(this.elStyle),a.append(s),ur.append(a);var pt=t("div",{id:"rbro_doc_element_style_settings"});Ir.renderStyle(pt,"doc_element_","",!0,this.controls,this.rb),ur.append(pt),fr.append(ur),j.append(fr);var ke=t("div",{id:"rbro_doc_element_print_section_container"}),me=t("div",{class:"rbroPanelSectionHeader"}),Ne=t("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),Ne.classList.toggle("rbroIcon-plus"),Ne.classList.toggle("rbroIcon-minus"),Ne.classList.contains("rbroIcon-minus")){var Ie=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ie}St.update(document.getElementById("rbro_doc_element_print_if"))}),me.append(Ne),me.append(t("span",{},this.rb.getLabel("docElementPrintSettings"))),a.append(me),ke.append(a);var Te=t("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});y(a=t("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var ue=t("textarea",{id:"rbro_doc_element_group_expression",rows:1});ue.addEventListener("input",function($e){for(var Ie=ue.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"groupExpression",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),ue.addEventListener("blur",function($e){g.rb.getPopupWindow().hide()}),St(ue),Q.append(ue),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,null),null,"rbro_doc_element_group_expression","groupExpression",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),s=t("div",{class:"rbroFormField"});var tt=t("input",{id:"rbro_doc_element_page_break",type:"checkbox"});tt.addEventListener("change",function($e){for(var Ie=tt.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"pageBreak",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(tt),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),s=t("div",{class:"rbroFormField"});var Fe=t("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Fe.addEventListener("change",function($e){for(var Ie=Fe.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"repeatGroupHeader",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Fe),s.append(t("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var Dr=t("textarea",{id:"rbro_doc_element_print_if",rows:1});Dr.addEventListener("input",function($e){for(var Ie=Dr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"printIf",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),St(Dr),Q.append(Dr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,null),null,"rbro_doc_element_print_if","printIf",Dt.type.parameterAppend)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),s=t("div",{class:"rbroFormField"});var Mr=t("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Mr.addEventListener("change",function($e){for(var Ie=Mr.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"repeatHeader",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Mr),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),s=t("div",{class:"rbroFormField"});var Fr=t("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Fr.addEventListener("change",function($e){for(var Ie=Fr.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"removeEmptyElement",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Fr),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),s=t("div",{class:"rbroFormField"});var zr=t("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});zr.addEventListener("change",function($e){for(var Ie=zr.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"alwaysPrintOnSamePage",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(zr),s.append(t("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),s=t("div",{class:"rbroFormField"});var Vr=t("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});Vr.addEventListener("change",function($e){for(var Ie=Vr.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"shrinkToContentHeight",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Vr),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),s=t("div",{class:"rbroFormField"});var Ur=t("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Ur.addEventListener("change",function($e){for(var Ie=Ur.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"alignToPageBottom",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Ur),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var Hr=t("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Hr.addEventListener("input",function($e){for(var Ie=Hr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"pattern",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),Q.append(Hr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){g.rb.getPopupWindow().show(g.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",Dt.type.pattern)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var qr=t("input",{id:"rbro_doc_element_link",autocomplete:"off"});qr.addEventListener("input",function($e){for(var Ie=qr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"link",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),Q.append(qr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,null),null,"rbro_doc_element_link","link",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),a.append(s),Te.append(a),y(a=t("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),s=t("div",{class:"rbroFormField"});var gr=t("select",{id:"rbro_doc_element_grow_weight"});gr.append(t("option",{value:"0"},"-")),gr.append(t("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),gr.append(t("option",{value:"2"},"2")),gr.append(t("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),gr.addEventListener("change",function($e){for(var Ie=gr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"growWeight",Ie,e.type.select,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(gr),s.append(t("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),a.append(s),Te.append(a),ke.append(Te),j.append(ke);var Wr=t("div",{id:"rbro_doc_element_cs_style_section_container"}),Gr=t("div",{class:"rbroPanelSectionHeader"}),Lr=t("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),Lr.classList.toggle("rbroIcon-plus"),Lr.classList.toggle("rbroIcon-minus"),Lr.classList.contains("rbroIcon-minus")){var Ie=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ie}}),Gr.append(Lr),Gr.append(t("span",{},this.rb.getLabel("docElementConditionalStyle"))),a.append(Gr),Wr.append(a);var kr=t("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});y(a=t("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var Rr=t("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Rr.addEventListener("input",function($e){for(var Ie=Rr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"cs_condition",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),St(Rr),Q.append(Rr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects(),fe=Ie.length===1?Ie[0]:null;g.rb.getPopupWindow().show(g.rb.getParameterItems(fe,null),null,"rbro_doc_element_cs_condition","cs_condition",Dt.type.parameterAppend)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),a.append(s),kr.append(a),y(a=t("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),s=t("div",{class:"rbroFormField"}),this.elCsStyle=t("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function($e){for(var Ie=g.elCsStyle.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),Le.addCommandsForChangedStyle(Ie,"cs_",g.propertyDescriptors,fe)}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(this.elCsStyle),a.append(s),kr.append(a),y(a=t("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),s=t("div",{class:"rbroFormField"});var jr=t("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});jr.append(t("span",{},this.rb.getLabel("editData"))),jr.append(t("span",{class:"rbroIcon-edit"})),jr.addEventListener("click",function($e){var Ie=g.rb.getSelectedObjects();if(Ie.length===1){var fe=Ie[0],De=[{name:"condition",label:g.rb.getLabel("docElementConditionalStyleCondition"),type:Y.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:g.rb.getLabel("docElementStyle"),type:Y.type.string,parameter:null,attributes:{select:"style"}}],xe=[];if(fe.getValue("cs_additionalRules"))try{xe=JSON.parse(fe.getValue("cs_additionalRules"))}catch(Le){}g.rb.getPopupWindow().show(null,fe.getId(),"","cs_additionalRules",Dt.type.data,null,null,Y.type.array,De,xe)}else Ie.length>1&&alert(g.rb.getLabel("docElementEditMultipleSelectionNotSupported"))}),s.append(jr),s.append(t("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),a.append(s),kr.append(a);var yn=t("div",{id:"rbro_doc_element_cs_style_settings"});Ir.renderStyle(yn,"doc_element_cs_","cs_",!1,this.controls,this.rb),kr.append(yn),Wr.append(kr),j.append(Wr);var Br=t("div",{id:"rbro_doc_element_spreadsheet_section_container"}),Kr=t("div",{class:"rbroPanelSectionHeader"}),Nr=t("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Nr.classList.toggle("rbroIcon-plus"),Nr.classList.toggle("rbroIcon-minus"),Nr.classList.contains("rbroIcon-minus")){var Ie=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ie}}),Kr.append(Nr),Kr.append(t("span",{},this.rb.getLabel("docElementSpreadsheet"))),a.append(Kr),Br.append(a);var wr=t("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});y(a=t("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),s=t("div",{class:"rbroFormField"});var Zr=t("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});Zr.addEventListener("change",function($e){for(var Ie=Zr.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"spreadsheet_hide",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Zr),a.append(s),wr.append(a),y(a=t("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),s=t("div",{class:"rbroFormField"});var Sr=t("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});Sr.addEventListener("input",function($e){var Ie=Sr.value;Ie!==""&&(Ie=A(Ie,1,99)),Ie!==Sr.value&&(Sr.value=Ie);for(var fe=g.rb.getSelectedObjects(),De=!1,xe=fe.length-1;xe>=0;xe--)if(fe[xe].getValue("spreadsheet_column")!==Ie){De=!0;break}if(De){for(var Le=new de("Set value",g.rb),xt=fe.length-1;xt>=0;xt--){var Pt=fe[xt];Le.addSelection(Pt.getId()),Le.addCommand(new e(Pt.getId(),"spreadsheet_column",Ie,e.type.text,g.rb))}Le.isEmpty()||g.rb.executeCommand(Le)}}),s.append(Sr),s.append(t("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),a.append(s),wr.append(a),y(a=t("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),s=t("div",{class:"rbroFormField"});var Yr=t("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});Yr.addEventListener("input",function($e){for(var Ie=Yr.value,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"spreadsheet_colspan",Ie,e.type.text,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Yr),s.append(t("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),a.append(s),wr.append(a),y(a=t("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),s=t("div",{class:"rbroFormField"});var $r=t("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});$r.addEventListener("change",function($e){for(var Ie=$r.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"spreadsheet_addEmptyRow",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append($r),a.append(s),wr.append(a),y(a=t("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),s=t("div",{class:"rbroFormField"});var Xr=t("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Xr.addEventListener("change",function($e){for(var Ie=Xr.checked,fe=new de("Set value",g.rb),De=g.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Le=De[xe];fe.addSelection(Le.getId()),fe.addCommand(new e(Le.getId(),"spreadsheet_textWrap",Ie,e.type.checkbox,g.rb))}fe.isEmpty()||g.rb.executeCommand(fe)}),s.append(Xr),a.append(s),wr.append(a),Br.append(wr),this.rb.getProperty("enableSpreadsheet")||(Br.style.display="none"),j.append(Br),document.getElementById("rbro_detail_panel").append(j),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){ee(this.elStyle,null,this.rb),ee(this.elCsStyle,null,this.rb)}},{key:"setupRichText",value:function(){var a=this,s=br().import("formats/link"),l=s.sanitize;s.sanitize=function(Me){var Re=Me;return/^\w+:/.test(Re)||Re.startsWith("${")?Re:(/^https?:/.test(Re)||(Re=Re.startsWith("/")?"http:"+Re:"http://"+Re),l.call(this,Re))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(Me){var Re=a.rb.getSelectedObjects(),We=Re.length===1?Re[0]:null;a.rb.getPopupWindow().show(a.rb.getParameterItems(We,null),null,"rbro_doc_element_rich_text_content","richTextContent",Dt.type.parameterAppend,a.quill)});var g,j=br().import("formats/font"),U=[],Q=Ut(this.rb.getFonts());try{for(Q.s();!(g=Q.n()).done;){var le=g.value;U.push(le.value)}}catch(Me){Q.e(Me)}finally{Q.f()}j.whitelist=U,br().register(j,!0);var _e,we=br().import("attributors/style/size"),Ee=[],Se=Ut(this.rb.getProperty("fontSizes"));try{for(Se.s();!(_e=Se.n()).done;){var Ae=_e.value;Ee.push(Ae+"px")}}catch(Me){Se.e(Me)}finally{Se.f()}we.whitelist=Ee,br().register(we,!0);var Be=new(br())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});Be.getModule("toolbar").addHandler("color",function(Me){Me==="clear-color"?Be.format("color",""):Be.format("color",Me)}),Be.getModule("toolbar").addHandler("background",function(Me){Me==="clear-color"?Be.format("background",""):Be.format("background",Me)});var Ue=this.rb;Be.on("text-change",function(Me,Re,We){for(var Je=Be.getContents(),Ge=Be.root.innerHTML,Xe=new de("Set value",Ue),ut=Ue.getSelectedObjects(),lt=ut.length-1;lt>=0;lt--){var at=ut[lt];Xe.addSelection(at.getId()),Xe.addCommand(new e(at.getId(),"richTextContent",Je,e.type.richText,Ue)),Xe.addCommand(new e(at.getId(),"richTextHtml",Ge,e.type.text,Ue))}Xe.isEmpty()||Ue.executeCommand(Xe)}),this.quill=Be}},{key:"destroy",value:function(){this.controls.color.destroy(),Ir.destroyStyle("",this.controls),Ir.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(a){var s,l=this.rb.getSelectedObjects(),g={},j={},U=Ut(l);try{for(U.s();!(s=U.n()).done;){var Q,le=Ut(s.value.getProperties());try{for(le.s();!(Q=le.n()).done;){var _e=Q.value;_e in j?j[_e]+=1:j[_e]=1}}catch(mt){le.e(mt)}finally{le.f()}}}catch(mt){U.e(mt)}finally{U.f()}for(var we in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(we)){var Ee=this.propertyDescriptors[we],Se="";if("visibleIf"in Ee&&(Se=Ee.visibleIf),a===null||we===a||Se&&Ee.visibleIfFields.includes(a)){var Ae=!1;if(we in j)if(j[we]===l.length){var Be,Ue=null,Me=!1,Re=Ut(l);try{for(Re.s();!(Be=Re.n()).done;){var We=Be.value,Je=We.getUpdateValue(we,We.getValue(we));if(Ue===null)Ue=Je;else if(Ee.type===e.type.richText){if(Je&&Ue&&new(cn())(Je).diff(new(cn())(Ue)).ops.length>0){Me=!0;break}}else if(Je!==Ue){Me=!0;break}}}catch(mt){Re.e(mt)}finally{Re.f()}if(Me&&Ee.type===e.type.select&&Ee.allowEmpty&&(Ue=""),o(f(x.prototype),"setValue",this).call(this,Ee,Ue,Me),"section"in Ee){var Ge=Ee.section;Ge in g?g[Ge]+=1:g[Ge]=1}Ae=!0}else delete j[we];if(Ae&&Se){var Xe,ut=Ut(l);try{for(ut.s();!(Xe=ut.n()).done;)if(!L(Se,Xe.value)){Ae=!1,delete j[we];break}}catch(mt){ut.e(mt)}finally{ut.f()}}if("singleRowProperty"in Ee&&!Ee.singleRowProperty){var lt="rbro_doc_element_".concat(Ee.fieldId);Ae?document.getElementById(lt).classList.remove("rbroHidden"):document.getElementById(lt).classList.add("rbroHidden")}else{var at=this.getRowId(Ee);Ae?document.getElementById(at).classList.remove("rbroHidden"):document.getElementById(at).classList.add("rbroHidden")}}}if(a===null||this.visibleIfFields.includes(a)){for(var rt in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(rt)){var ye=this.propertyDescriptors[rt];if("rowId"in ye&&"rowProperties"in ye){var He,Ke=0,yt=Ut(ye.rowProperties);try{for(yt.s();!(He=yt.n()).done;)He.value in j&&Ke++}catch(mt){yt.e(mt)}finally{yt.f()}if("labelId"in ye){var it=ye.defaultLabel;if(Ke===1){var st,ct=Ut(ye.rowProperties);try{for(ct.s();!(st=ct.n()).done;){var bt=st.value;if(bt in j){it=this.propertyDescriptors[bt].singlePropertyLabel;break}}}catch(mt){ct.e(mt)}finally{ct.f()}}document.getElementById(ye.labelId).textContent=this.rb.getLabel(it)+":"}Ke>0?document.getElementById(ye.rowId).classList.remove("rbroHidden"):document.getElementById(ye.rowId).classList.add("rbroHidden")}}for(var Et=0,gt=["style","print","cs_style","spreadsheet"];Et<gt.length;Et++){var _t=gt[Et];_t in g?document.getElementById("rbro_doc_element_".concat(_t,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(_t,"_section_container")).classList.add("rbroHidden")}}x.updateAutosizeInputs(a)}},{key:"show",value:function(){this.renderStyleSelect(),o(f(x.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(a,s,l){a instanceof ie?(s===w.operation.add||s===w.operation.remove||s===w.operation.move||s===w.operation.change&&l==="name")&&this.renderStyleSelect():o(f(x.prototype),"notifyEvent",this).call(this,a,s,l)}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="dataSource"||St.update(document.getElementById("rbro_doc_element_data_source")),a!==null&&a!=="content"||St.update(document.getElementById("rbro_doc_element_content")),a!==null&&a!=="source"||St.update(document.getElementById("rbro_doc_element_source")),a!==null&&a!=="groupExpression"||St.update(document.getElementById("rbro_doc_element_group_expression")),a!==null&&a!=="printIf"||St.update(document.getElementById("rbro_doc_element_print_if")),a!==null&&a!=="cs_condition"||St.update(document.getElementById("rbro_doc_element_cs_condition"))}}]),x}(Tr),In=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return X(this,x),(s=b.call(this,"rbro_document_properties",Gt,v,a)).propertyDescriptors={pageFormat:{type:e.type.text,fieldId:"page_format"},pageWidth:{type:e.type.text,fieldId:"page_width"},pageHeight:{type:e.type.text,fieldId:"page_height"},unit:{type:e.type.select,fieldId:"unit"},orientation:{type:e.type.select,fieldId:"orientation"},contentHeight:{type:e.type.text,fieldId:"content_height"},marginLeft:{type:e.type.text,fieldId:"page_margin_left"},marginTop:{type:e.type.text,fieldId:"page_margin_top"},marginRight:{type:e.type.text,fieldId:"page_margin_right"},marginBottom:{type:e.type.text,fieldId:"page_margin_bottom"},header:{type:e.type.checkbox,fieldId:"header"},headerSize:{type:e.type.text,fieldId:"header_size"},headerDisplay:{type:e.type.select,fieldId:"header_display"},footer:{type:e.type.checkbox,fieldId:"footer"},footerSize:{type:e.type.text,fieldId:"footer_size"},footerDisplay:{type:e.type.select,fieldId:"footer_display"},patternLocale:{type:e.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:e.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:e.type.text,fieldId:"pattern_number_group_symbol"}},s}return D(x,[{key:"render",value:function(a){var s=this,l=t("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),g=t("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});y(g,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var j=t("div",{class:"rbroFormField"}),U=t("select",{id:"rbro_document_properties_page_format"});U.append(t("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),U.append(t("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),U.append(t("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),U.append(t("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),U.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"pageFormat",U.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(U);var Q=t("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),le=t("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});le.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"pageWidth",le.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),T(le),Q.append(le);var _e=t("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});_e.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"pageHeight",_e.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),T(_e),Q.append(_e);var we=t("select",{id:"rbro_document_properties_unit"});we.append(t("option",{value:"mm"},"mm")),we.append(t("option",{value:"inch"},"inch")),Q.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"unit",we.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),Q.append(we),j.append(Q),j.append(t("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),g.append(j),l.append(g),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),j=t("div",{class:"rbroFormField"});var Ee=t("select",{id:"rbro_document_properties_orientation"});Ee.append(t("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),Ee.append(t("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),Ee.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"orientation",Ee.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(Ee),g.append(j),l.append(g),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),j=t("div",{class:"rbroFormField"});var Se=t("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});Se.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"contentHeight",Se.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),T(Se),j.append(Se),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),g.append(j),l.append(g),this.renderMarginControls(l),this.renderHeaderFooter(l),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),j=t("div",{class:"rbroFormField"});var Ae=t("select",{id:"rbro_document_properties_pattern_locale"});Ae.append(t("option",{value:"de"},"de")),Ae.append(t("option",{value:"en"},"en")),Ae.append(t("option",{value:"es"},"es")),Ae.append(t("option",{value:"fr"},"fr")),Ae.append(t("option",{value:"it"},"it")),Ae.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"patternLocale",Ae.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(Ae),g.append(j),l.append(g),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),j=t("div",{class:"rbroFormField"});var Be=t("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});Be.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"patternCurrencySymbol",Be.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),j.append(Be),g.append(j),l.append(g),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),j=t("div",{class:"rbroFormField"});var Ue=t("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});Ue.addEventListener("change",function(Me){var Re=s.rb.getSelectedObject();if(Re!==null){var We=new e(Re.getId(),"patternNumberGroupSymbol",Ue.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),j.append(Ue),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),g.append(j),l.append(g),document.getElementById("rbro_detail_panel").append(l)}},{key:"renderMarginControls",value:function(a){var s=this,l=t("div",{class:"rbroFormRow"});y(l,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var g=t("div",{class:"rbroFormField rbroSmallInput"}),j=t("div",{class:"rbroColumnCenter"}),U=t("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});U.addEventListener("change",function(Se){var Ae=s.rb.getSelectedObject();if(Ae!==null){var Be=new e(Ae.getId(),"marginTop",U.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),T(U),j.append(U),g.append(j);var Q=t("div",{class:"rbroSplit"}),le=t("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});le.addEventListener("change",function(Se){var Ae=s.rb.getSelectedObject();if(Ae!==null){var Be=new e(Ae.getId(),"marginLeft",le.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),T(le),Q.append(le);var _e=t("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});_e.addEventListener("change",function(Se){var Ae=s.rb.getSelectedObject();if(Ae!==null){var Be=new e(Ae.getId(),"marginRight",_e.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),T(_e),Q.append(_e),g.append(Q);var we=t("div",{class:"rbroColumnCenter"}),Ee=t("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});Ee.addEventListener("change",function(Se){var Ae=s.rb.getSelectedObject();if(Ae!==null){var Be=new e(Ae.getId(),"marginBottom",Ee.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),T(Ee),we.append(Ee),g.append(we),l.append(g),a.append(l)}},{key:"renderHeaderFooter",value:function(a){var s=this,l=t("div",{class:"rbroFormRowContainer"}),g=t("div",{class:"rbroFormRow"});y(g,this.rb.getLabel("header"),"rbro_document_properties_header");var j=t("div",{class:"rbroFormField"}),U=t("label",{class:"switch-light switch-material"}),Q=t("input",{id:"rbro_document_properties_header",type:"checkbox"});Q.addEventListener("change",function(Je){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Xe=new e(Ge.getId(),"header",Q.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Xe)}}),U.append(Q);var le=t("span");le.append(t("span")),le.append(t("span")),le.append(t("a")),U.append(le),j.append(U),g.append(j),l.append(g);var _e=t("div",{id:"rbro_document_properties_header_settings"});y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),j=t("div",{class:"rbroFormField"});var we=t("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});we.addEventListener("change",function(Je){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Xe=new e(Ge.getId(),"headerSize",we.value,e.type.text,s.rb);s.rb.executeCommand(Xe)}}),T(we),j.append(we),g.append(j),_e.append(g),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),j=t("div",{class:"rbroFormField"});var Ee=t("select",{id:"rbro_document_properties_header_display"});Ee.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Ee.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Ee.addEventListener("change",function(Je){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Xe=new e(Ge.getId(),"headerDisplay",Ee.value,e.type.select,s.rb);s.rb.executeCommand(Xe)}}),j.append(Ee),g.append(j),_e.append(g),l.append(_e),a.append(l);var Se=t("div",{class:"rbroFormRowContainer"});y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),j=t("div",{class:"rbroFormField"});var Ae=t("label",{class:"switch-light switch-material"}),Be=t("input",{id:"rbro_document_properties_footer",type:"checkbox"});Be.addEventListener("change",function(Je){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Xe=new e(Ge.getId(),"footer",Be.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Xe)}}),Ae.append(Be);var Ue=t("span");Ue.append(t("span")),Ue.append(t("span")),Ue.append(t("a")),Ae.append(Ue),j.append(Ae),g.append(j),Se.append(g);var Me=t("div",{id:"rbro_document_properties_footer_settings"});y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),j=t("div",{class:"rbroFormField"});var Re=t("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});Re.addEventListener("change",function(Je){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Xe=new e(Ge.getId(),"footerSize",Re.value,e.type.text,s.rb);s.rb.executeCommand(Xe)}}),T(Re),j.append(Re),g.append(j),Me.append(g),y(g=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),j=t("div",{class:"rbroFormField"});var We=t("select",{id:"rbro_document_properties_footer_display"});We.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),We.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),We.addEventListener("change",function(Je){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Xe=new e(Ge.getId(),"footerDisplay",We.value,e.type.select,s.rb);s.rb.executeCommand(Xe)}}),j.append(We),g.append(j),Me.append(g),Se.append(Me),a.append(Se)}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof Gt){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var g=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,g,j,!1)}x.updateVisibileRows(s,a)}}}],[{key:"updateVisibileRows",value:function(a,s){s!==null&&s!=="pageFormat"||(a.getValue("pageFormat")===Gt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="flex":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),s!==null&&s!=="header"||(a.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),s!==null&&s!=="footer"||(a.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),x}(Tr),kn=function(){function R(S,u){X(this,R),this.rootElement=S,this.rb=u}return D(R,[{key:"render",value:function(){var u=t("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});u.append(t("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(u)}},{key:"destroy",value:function(){}},{key:"show",value:function(u){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(u,b){}},{key:"updateErrors",value:function(){}}]),R}();function pn(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return hn(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?hn(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function hn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Sn=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return X(this,x),(s=b.call(this,"rbro_parameter",Y,v,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},type:{type:e.type.select,fieldId:"type"},arrayItemType:{type:e.type.select,fieldId:"array_item_type"},eval:{type:e.type.checkbox,fieldId:"eval"},nullable:{type:e.type.checkbox,fieldId:"nullable"},pattern:{type:e.type.text,fieldId:"pattern"},expression:{type:e.type.text,fieldId:"expression"},testData:{type:e.type.text,fieldId:"test_data"},testDataBoolean:{type:e.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:e.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:e.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1}},s.parameterTypeOptions=[],s}return D(x,[{key:"render",value:function(a){var s=this,l=t("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),g=t("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});y(g,this.rb.getLabel("parameterName"),"rbro_parameter_name");var j=t("div",{class:"rbroFormField"}),U=t("input",{id:"rbro_parameter_name",autocomplete:"off"});U.addEventListener("input",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=U.value;if(He!==ye.getName()){var Ke=new de("Rename parameter"),yt=new e(ye.getId(),"name",He,e.type.text,s.rb);Ke.addCommand(yt);for(var it=[],st=null,ct=ye.getParent();ct!==null;)st=ct,it.unshift(st),ct=st.getParent();ye.addUpdateTestDataCmdForChangedParameterName(He,it,Ke);var bt=null;if((bt=st!==null?st.getPanelItem():s.rb.getMainPanel().getParametersItem())!==null&&bt.getChildByNameExclude(ye.getName(),ye)===null&&bt.getChildByNameExclude(He,ye)===null){var Et,gt=pn(s.rb.getDocElements(!0));try{for(gt.s();!(Et=gt.n()).done;)Et.value.addCommandsForChangedParameterName(ye,He,Ke)}catch(dt){gt.e(dt)}finally{gt.f()}var _t,mt=pn(s.rb.getParameters());try{for(mt.s();!(_t=mt.n()).done;)_t.value.addCommandsForChangedParameterName(ye,He,Ke)}catch(dt){mt.e(dt)}finally{mt.f()}}s.rb.executeCommand(Ke)}}}),j.append(U),j.append(t("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),g.append(j),l.append(g),y(g=t("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),j=t("div",{class:"rbroFormField"});var Q=t("select",{id:"rbro_parameter_type"});if(Q.addEventListener("change",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new de("Set parameter type"),Ke=Q.value,yt=new e(ye.getId(),"type",Ke,e.type.select,s.rb);He.addCommand(yt),ye.addCommandsForChangedParameterType(Ke,He),s.rb.executeCommand(He)}}),j.append(Q),j.append(t("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var le=t("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});le.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),j.append(le)}g.append(j),l.append(g),y(g=t("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),j=t("div",{class:"rbroFormField"});var _e=t("select",{id:"rbro_parameter_array_item_type"});_e.append(t("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),_e.append(t("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),_e.append(t("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),_e.append(t("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),_e.addEventListener("change",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new e(ye.getId(),"arrayItemType",_e.value,e.type.select,s.rb);s.rb.executeCommand(He)}}),j.append(_e),j.append(t("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),g.append(j),l.append(g);var we={};this.rb.getProperty("adminMode")||(we.style="display: none");var Ee=t("div",we);y(g=t("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),j=t("div",{class:"rbroFormField"});var Se=t("input",{id:"rbro_parameter_eval",type:"checkbox"});Se.addEventListener("change",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new e(ye.getId(),"eval",Se.checked,e.type.checkbox,s.rb);s.rb.executeCommand(He)}}),j.append(Se),g.append(j),Ee.append(g),l.append(Ee),y(g=t("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),j=t("div",{class:"rbroFormField"});var Ae=t("input",{id:"rbro_parameter_nullable",type:"checkbox"});Ae.addEventListener("change",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new e(ye.getId(),"nullable",Ae.checked,e.type.checkbox,s.rb);s.rb.executeCommand(He)}}),j.append(Ae),g.append(j),l.append(g),y(g=t("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),j=t("div",{class:"rbroFormField"});var Be=t("div",{class:"rbroSplit rbroSelector"}),Ue=t("input",{id:"rbro_parameter_pattern",autocomplete:"off"});Ue.addEventListener("input",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new e(ye.getId(),"pattern",Ue.value,e.type.text,s.rb);s.rb.executeCommand(He)}}),Be.append(Ue);var Me=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});Me.addEventListener("click",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He,Ke=ye.getValue("type");He=(Ke===Y.type.simpleArray?ye.getValue("arrayItemType"):Ke)===Y.type.date?s.rb.getProperty("patternDates"):s.rb.getProperty("patternNumbers"),s.rb.getPopupWindow().show(He,ye.getId(),"rbro_parameter_pattern","pattern",Dt.type.pattern)}}),Be.append(Me),j.append(Be),j.append(t("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),g.append(j),l.append(g),y(g=t("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),j=t("div",{class:"rbroFormField"}),Be=t("div",{class:"rbroSplit rbroSelector"});var Re=t("textarea",{id:"rbro_parameter_expression",rows:"1"});Re.addEventListener("input",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new e(ye.getId(),"expression",Re.value,e.type.text,s.rb);s.rb.executeCommand(He)}}),St(Re),Be.append(Re),(Me=t("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(rt){var ye,He,Ke=s.rb.getSelectedObject();Ke!==null&&(Ke.getValue("type")===Y.type.sum||Ke.getValue("type")===Y.type.average?(ye=s.rb.getArrayFieldParameterItems([Y.type.number]),He=Dt.type.parameterSet):(ye=s.rb.getParameterItems(Ke),He=Dt.type.parameterAppend),s.rb.getPopupWindow().show(ye,Ke.getId(),"rbro_parameter_expression","expression",He))}),Be.append(Me),j.append(Be),j.append(t("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),g.append(j),l.append(g);var We=t("div",{id:"rbro_parameter_test_data_container"});y(g=t("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),j=t("div",{class:"rbroFormField"});var Je=t("input",{id:"rbro_parameter_test_data",autocomplete:"off"});Je.addEventListener("change",function(rt){var ye=s.rb.getSelectedObject();if(ye!==null){var He=new e(ye.getId(),"testData",Je.value,e.type.text,s.rb);s.rb.executeCommand(He)}}),j.append(Je);var Ge=t("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});Ge.append(t("span",{},this.rb.getLabel("parameterEditTestData"))),Ge.append(t("span",{class:"rbroIcon-edit"})),Ge.addEventListener("click",function(rt){var ye=s.rb.getSelectedObject();ye!==null&&(ye.getParameterFields().length>0?s.rb.getPopupWindow().show(null,ye.getId(),"","testData",Dt.type.data,null,ye,null,null,null):ye.getValue("type")===Y.type.map?alert(s.rb.getLabel("parameterEditTestDataMapNoFields")):alert(s.rb.getLabel("parameterEditTestDataArrayNoFields")))}),j.append(Ge),j.append(t("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),g.append(j),We.append(g),y(g=t("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),j=t("div",{class:"rbroFormField"});var Xe=t("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Xe.addEventListener("change",function(rt){var ye=Xe.checked,He=rb.getSelectedObject();if(He!==null){var Ke=new e(He.getId(),"testDataBoolean",ye,e.type.checkbox,s.rb);s.rb.executeCommand(Ke)}}),j.append(Xe),g.append(j),We.append(g),y(g=t("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),j=t("div",{class:"rbroFormField"});var ut=t("input",{id:"rbro_parameter_test_data_image",type:"file"});ut.addEventListener("change",function(rt){var ye=s.rb,He=rt.target.files;He&&He[0]&&te(He[0],function(Ke,yt){for(var it=new de("Load image",ye),st=ye.getSelectedObjects(),ct=st.length-1;ct>=0;ct--){var bt=st[ct];it.addSelection(bt.getId()),it.addCommand(new e(bt.getId(),"testDataImage",Ke,e.type.file,ye)),it.addCommand(new e(bt.getId(),"testDataImageFilename",yt,e.type.filename,ye))}it.isEmpty()||ye.executeCommand(it)},s.rb)}),j.append(ut);var lt=t("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});lt.append(t("div",{id:"rbro_parameter_test_data_image_filename"}));var at=t("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});at.addEventListener("click",function(rt){ut.value="";var ye=new de("Clear image",s.rb),He=rb.getSelectedObject();He!==null&&(ye.addSelection(He.getId()),ye.addCommand(new e(He.getId(),"testDataImage","",e.type.file,s.rb)),ye.addCommand(new e(He.getId(),"testDataImageFilename","",e.type.filename,s.rb))),ye.isEmpty()||s.rb.executeCommand(ye)}),lt.append(at),j.append(lt),j.append(t("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),g.append(j),We.append(g),l.append(We),document.getElementById("rbro_detail_panel").append(l)}},{key:"updateVisibileRows",value:function(a,s){var l=a.getValue("type"),g=l===Y.type.simpleArray?a.getValue("arrayItemType"):l,j=a.getValue("showOnlyNameType"),U=null;if(a.getPanelItem()!==null&&a.getPanelItem().getParent().getData()instanceof Y&&(U=a.getPanelItem().getParent().getData()),s===null){var Q=a.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!Q,document.getElementById("rbro_parameter_type").disabled=!Q,document.getElementById("rbro_parameter_eval").disabled=!Q,document.getElementById("rbro_parameter_nullable").disabled=!Q,document.getElementById("rbro_parameter_pattern").disabled=!Q,document.getElementById("rbro_parameter_expression").disabled=!Q,Q?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(s!==null&&s!=="type"||(l===Y.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",l===Y.type.string||l===Y.type.number||l===Y.type.boolean||l===Y.type.date||l===Y.type.array||l===Y.type.simpleArray||l===Y.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),s!==null&&s!=="type"&&s!=="arrayItemType"||(g!==Y.type.number&&g!==Y.type.date&&g!==Y.type.sum&&g!==Y.type.average||j?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),s!==null&&s!=="type"&&s!=="eval"||(l===Y.type.sum||l===Y.type.average||j?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(l===Y.type.image||l===Y.type.array||l===Y.type.simpleArray||l===Y.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),U!==null||a.getValue("eval")&&(l===Y.type.string||l===Y.type.number||l===Y.type.boolean||l===Y.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),l===Y.type.array||l===Y.type.simpleArray||l===Y.type.map?document.getElementById("rbro_parameter_edit_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data").style.display="none",l===Y.type.string||l===Y.type.number||l===Y.type.date?document.getElementById("rbro_parameter_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_test_data").style.display="none",l===Y.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",l===Y.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(U===null||l!==Y.type.map&&l!==Y.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!a.getValue("eval")||l!==Y.type.string&&l!==Y.type.number&&l!==Y.type.boolean&&l!==Y.type.date)&&l!==Y.type.sum&&l!==Y.type.average||j?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),s===null){var le=[],_e=U!==null&&U.getValue("type")===Y.type.array;le.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),le.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),le.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),le.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),le.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),(U===null||this.rb.getProperty("showPlusFeatures"))&&le.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),le.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(U===null||this.rb.getProperty("showPlusFeatures"))&&le.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),_e||(le.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),le.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var we=!1;if(le.length!==this.parameterTypeOptions.length)we=!0;else for(var Ee=0;Ee<le.length;Ee++)if(le[Ee].value!==this.parameterTypeOptions[Ee].value){we=!0;break}if(we){var Se=document.getElementById("rbro_parameter_type");d(Se);for(var Ae=0;Ae<le.length;Ae++){var Be=le[Ae];Se.append(t("option",{value:Be.value},Be.label))}this.parameterTypeOptions=le}}}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof Y){for(var l in this.updateVisibileRows(s,a),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var g=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,g,j,!1)}a!==null&&a!=="type"||(s.getValue("type")===Y.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),x.updateAutosizeInputs(a)}}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="expression"||St.update(document.getElementById("rbro_parameter_expression"))}}]),x}(Tr);function fn(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return mn(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?mn(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function mn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var On=function(){function R(S,u,b,x,v,a,s){X(this,R),this.rootElement=S,this.rb=s,this.headerItem=new z("band",null,u,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},s),this.documentItem=new z("band",null,b,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},s),this.footerItem=new z("band",null,x,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},s),this.parametersItem=new z("parameter",null,v,{hasChildren:!0,showAdd:s.getProperty("adminMode"),showDelete:!1,hasDetails:!1},s),this.stylesItem=new z("style",null,a,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},s),this.documentPropertiesItem=new z("documentProperties",null,s.getDocumentProperties(),{showDelete:!1,hasDetails:!0},s),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,u.setPanelItem(this.headerItem),b.setPanelItem(this.documentItem),x.setPanelItem(this.footerItem),v.setPanelItem(this.parametersItem),a.setPanelItem(this.stylesItem)}return D(R,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(u){for(;u!==null;){if(u.getData()instanceof r)return u.getData();u=u.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var u=this,b=document.getElementById("rbro_main_panel_list");this.appendChildren(b,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(x){u.dragMainPanelSizer=!0,u.dragMainPanelSizerStartX=x.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(u,b){var x,v=fn(b);try{for(v.s();!(x=v.n()).done;){var a=x.value;u.append(a.getElement());var s=a.getChildren();s.length>0&&this.appendChildren(u,s)}}catch(l){v.e(l)}finally{v.f()}}},{key:"processMouseMove",value:function(u){if(this.dragMainPanelSizer){var b=this.mainPanelWidth+(u.pageX-this.dragMainPanelSizerStartX);return b=this.checkMainPanelWidth(b),this.updateMainPanelWidth(b),!0}return!1}},{key:"mouseUp",value:function(u){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(u.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var u=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(u+=92),u}},{key:"updateMainPanelWidth",value:function(u){document.getElementById("rbro_main_panel").style.width=u+"px",document.getElementById("rbro_main_panel_sizer").style.left=u+"px",document.getElementById("rbro_detail_panel").style.left=u+this.mainPanelSizerWidth+"px";var b=u+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(b+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=u+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(b,"px)")}},{key:"checkMainPanelWidth",value:function(u){return u<150?150:u>500?500:u}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var u,b=fn(this.items);try{for(b.s();!(u=b.n()).done;)u.value.clear()}catch(x){b.e(x)}finally{b.f()}}}]),R}(),Pn=function(){function R(S,u){X(this,R),this.rootElement=S,this.rb=u}return D(R,[{key:"render",value:function(){var u,b=this,x=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",v=document.getElementById("rbro_menu_panel"),a=t("div",{class:"rbroToolButtonContainer"});(u=t("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(t("span",{class:"rbroIcon-save"})),u.append(t("span",{class:x},this.rb.getLabel("menuSave"))),u.addEventListener("click",function(ye){b.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(u.style.display="none"),a.append(u),this.rb.getProperty("menuShowDebug")&&((u=t("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(t("span",{class:"rbroIcon-console"})),u.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),u.addEventListener("click",function(ye){console.log(JSON.stringify(b.rb.getReport()))}),a.append(u),(u=t("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(t("span",{class:"rbroIcon-insert-report"})),u.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),u.addEventListener("click",function(ye){var He=prompt("Paste report template here to load report");if(He)try{var Ke=JSON.parse(He);h(Ke.docElements)==="object"&&h(Ke.parameters)==="object"&&h(Ke.styles)==="object"&&h(Ke.documentProperties)==="object"?(b.rb.load(Ke),b.rb.setModified(!0)):alert("Invalid report template data")}catch(yt){alert("Invalid report template data")}}),a.append(u)),(u=t("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(t("span",{class:"rbroIcon-undo"})),u.append(t("span",{class:x},this.rb.getLabel("menuUndo"))),u.addEventListener("click",function(ye){b.rb.undoCommand()}),a.append(u),(u=t("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(t("span",{class:"rbroIcon-redo"})),u.append(t("span",{class:x},this.rb.getLabel("menuRedo"))),u.addEventListener("click",function(ye){b.rb.redoCommand()}),a.append(u),(u=t("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(t("span",{class:"rbroIcon-play"})),u.append(t("span",{class:x},this.rb.getLabel("menuPreview"))),u.addEventListener("click",function(ye){b.rb.preview()}),a.append(u),v.append(a);var s,l=t("div",{class:"rbroElementButtonContainer"}),g=t("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(s=t("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(t("span",{class:"rbroIcon-text"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.text,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.text,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(t("span",{class:"rbroIcon-line"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.line,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.line,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(t("span",{class:"rbroIcon-image"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.image,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.image,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(t("span",{class:"rbroIcon-barcode"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.barCode,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.barCode,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(t("span",{class:"rbroIcon-table"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.table,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.table,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(t("span",{class:"rbroIcon-frame"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.frame,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.frame,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(t("span",{class:"rbroIcon-section"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.section,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.section,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),(s=t("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(t("span",{class:"rbroIcon-page-break"})),s.addEventListener("dragstart",function(ye){ye.dataTransfer.setData("text/plain",""),ye.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",he.type.pageBreak,""),ye.stopPropagation()}),s.addEventListener("touchstart",function(ye){b.rb.startBrowserDrag("docElement",he.type.pageBreak,""),ye.preventDefault()}),s.addEventListener("touchmove",function(ye){b.rb.getDocument().processDragover(ye)}),s.addEventListener("touchend",function(ye){b.rb.getDocument().processDrop(ye)}),g.append(s),l.append(g);var j=t("div",{class:"rbroActionButtons"}),U=t("div",{id:"rbro_menu_align",style:"display: none;"}),Q=t("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});Q.addEventListener("click",function(ye){b.rb.alignSelections(ie.alignment.left)}),U.append(Q);var le=t("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});le.addEventListener("click",function(ye){b.rb.alignSelections(ie.alignment.center)}),U.append(le);var _e=t("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});_e.addEventListener("click",function(ye){b.rb.alignSelections(ie.alignment.right)}),U.append(_e),j.append(U);var we=t("div",{id:"rbro_menu_valign",style:"display: none;"}),Ee=t("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});Ee.addEventListener("click",function(ye){b.rb.alignSelections(ie.alignment.top)}),we.append(Ee);var Se=t("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});Se.addEventListener("click",function(ye){b.rb.alignSelections(ie.alignment.middle)}),we.append(Se);var Ae=t("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});Ae.addEventListener("click",function(ye){b.rb.alignSelections(ie.alignment.bottom)}),we.append(Ae),j.append(we);var Be=t("div",{id:"rbro_menu_column_actions",style:"display: none;"}),Ue=t("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});Ue.addEventListener("click",function(ye){var He=b.rb.getSelectedObject();He instanceof zt&&He.insertColumn(!0)}),Be.append(Ue);var Me=t("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});Me.addEventListener("click",function(ye){var He=b.rb.getSelectedObject();He instanceof zt&&He.insertColumn(!1)}),Be.append(Me);var Re=t("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Re.addEventListener("click",function(ye){var He=b.rb.getSelectedObject();He instanceof zt&&He.deleteColumn()}),Be.append(Re),j.append(Be);var We=t("div",{id:"rbro_menu_row_actions",style:"display: none;"}),Je=t("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});Je.addEventListener("click",function(ye){var He=b.rb.getSelectedObject();He instanceof zt&&He.getParent()!==null&&He.getParent().insertRow(!0)}),We.append(Je);var Ge=t("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});Ge.addEventListener("click",function(ye){var He=b.rb.getSelectedObject();He instanceof zt&&He.getParent()!==null&&He.getParent().insertRow(!1)}),We.append(Ge);var Xe=t("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Xe.addEventListener("click",function(ye){var He=b.rb.getSelectedObject();He instanceof zt&&He.getParent()!==null&&He.getParent().deleteRow()}),We.append(Xe),j.append(We);var ut=t("div",{id:"rbro_menu_zoom",class:"rbroZoom"});ut.append(t("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var lt=t("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});lt.addEventListener("click",function(ye){b.rb.getDocument().zoomIn()}),ut.append(lt);var at=t("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});at.addEventListener("click",function(ye){b.rb.getDocument().zoomOut()}),ut.append(at),j.append(ut);var rt=t("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});rt.addEventListener("click",function(ye){rt.classList.toggle("rbroButtonActive"),b.rb.getDocument().toggleGrid()}),j.append(rt),l.append(j),v.append(l)}},{key:"updateZoomButtons",value:function(u,b){u?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),b?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),R}();function nt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,g){if(l){if(typeof l=="string")return gn(l,g);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?gn(l,g):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(g){throw g},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var g=u.next();return a=g.done,g},e:function(g){s=!0,v=g},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function gn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var An=function(){function R(S,u){var b=this;if(X(this,R),this.element=S,this.nextId=1,this.locale=wn[u&&u.localeKey||"en_us"],u&&u.locale&&Object.assign(this.locale,u.locale),this.properties={additionalFonts:[],adminMode:!0,autoSaveOnPreview:!1,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:ie.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:ie.font.courier},{name:"Helvetica",value:ie.font.helvetica},{name:"Times New Roman",value:ie.font.times}],highlightUnusedParameters:!1,imageLimit:null,imageMaxSize:null,imageRequireWebPFormat:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},u)for(var x in u)this.properties.hasOwnProperty(x)&&(this.properties[x]=u[x]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var v,a=!1,s=nt(this.properties.fonts);try{for(s.s();!(v=s.n()).done;){var l=v.value;if(this.properties.defaultFont===l.value){a=!0;break}}}catch(g){s.e(g)}finally{s.f()}if(a||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new tn(S,this.properties.showGrid,this),this.popupWindow=new Dt(S,this),this.docElements=[],this.headerBand=new J(J.bandType.header,!1,"","",this),this.contentBand=new J(J.bandType.content,!1,"","",this),this.footerBand=new J(J.bandType.footer,!1,"","",this),this.parameterContainer=new r("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new r("0_styles",this.getLabel("styles"),this),this.documentProperties=new Gt(this),this.clipboardElements=[],this.mainPanel=new On(S,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new Pn(S,this),this.activeDetailPanel="none",this.detailPanels={none:new kn(S,this),docElement:new Cn(S,this),parameter:new Sn(S,this),style:new Ir(S,this),documentProperties:new In(S,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(g){if(!b.detailPanels[b.activeDetailPanel].isKeyEventDisabled()){if(g.metaKey||g.ctrlKey)switch(g.which){case 67:if(!(g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement)){var j,U,Q,le=!1,_e={},we=nt(b.selections);try{for(we.s();!(Q=we.n()).done;){var Ee=Q.value,Se=b.getDataObject(Ee);if((Se instanceof he&&!(Se instanceof zt)||Se instanceof Y&&!Se.showOnlyNameType||Se instanceof ie)&&(le||(b.clipboardElements=[],le=!0),!(Se.getId()in _e)))if(_e[Se.getId()]=!0,j=Se.toJS(),b.clipboardElements.push(j),Se instanceof he){if(j.baseClass="DocElement",Se instanceof Ct){var Ae=[];Se.appendContainerChildren(Ae);for(var Be=0,Ue=Ae;Be<Ue.length;Be++){var Me=Ue[Be];if(Me.getId()in _e){for(U=0;U<b.clipboardElements.length;U++)if(Me.getId()===b.clipboardElements[U].id){b.clipboardElements.splice(U,1);break}}else _e[Me.getId()]=!0;(j=Me.toJS()).baseClass="DocElement",b.clipboardElements.push(j)}}}else Se instanceof Y?j.baseClass="Parameter":Se instanceof ie&&(j.baseClass="Style")}}catch(Ot){we.e(Ot)}finally{we.f()}g.preventDefault()}break;case 86:if(!(g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement)){var Re,We,Je=new de("Paste from clipboard",b),Ge={},Xe=[],ut=nt(b.clipboardElements);try{for(ut.s();!(We=ut.n()).done;){var lt=We.value,at=Object.assign({},lt);if(at.id=b.getUniqueId(),Xe.push(at),at.baseClass==="DocElement"){if(at.linkedContainerId){var rt=b.getUniqueId();Ge[at.linkedContainerId]=rt,at.linkedContainerId=rt}at.elementType===he.type.table&&lr.removeIds(at)}}}catch(Ot){ut.e(Ot)}finally{ut.f()}for(var ye=0,He=Xe;ye<He.length;ye++){var Ke=He[ye];if(Ke.baseClass==="DocElement"){if(Ke.containerId in Ge)Ke.containerId=Ge[Ke.containerId];else{var yt=0,it=b.getDataObject(Ke.containerId);if(it!==null){var st=it.getOffset(),ct=it.getContentSize(),bt=b.getDocument().getContentScrollPosY();bt>st.y&&bt+Ke.height<st.y+ct.height&&(yt=bt-st.y)}Ke.x=0,Ke.y=yt}Re=new Tt(!0,Ke.elementType,Ke,Ke.id,Ke.containerId,-1,b),Je.addCommand(Re)}else if(Ke.baseClass==="Parameter"||Ke.baseClass==="Style"){var Et=b.getLabel("nameCopySuffix"),gt=Ke.name+" (".concat(Et,")"),_t=Ke.baseClass==="Parameter"?b.parameterContainer.getPanelItem():b.styleContainer.getPanelItem();if(_t!==null&&_t.getChildByName(gt))for(var mt=2;mt<=99&&(gt=Ke.name+" (".concat(Et," ").concat(mt,")"),_t.getChildByName(gt)!==null);mt++);Ke.name=gt,Ke.baseClass==="Parameter"?(Y.removeIds(Ke),Re=new ge(!0,Ke,Ke.id,b.parameterContainer.getId(),-1,b),Je.addCommand(Re)):Ke.baseClass==="Style"&&(Re=new oe(!0,Ke,Ke.id,b.styleContainer.getId(),-1,b),Je.addCommand(Re))}}if(!Je.isEmpty()){b.executeCommand(Je);var dt,Qt=!0,Lt=nt(Xe);try{for(Lt.s();!(dt=Lt.n()).done;){var or=dt.value;b.selectObject(or.id,Qt),Qt=!1}}catch(Ot){Lt.e(Ot)}finally{Lt.f()}}g.preventDefault()}break;case 89:b.redoCommand(),g.preventDefault();break;case 90:b.undoCommand(),g.preventDefault()}else if(g.which===27)b.popupWindow.hide();else if(!(g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement))switch(g.which){case 8:case 46:var Ht,Rt=new de("Delete",b),Kt=nt(b.selections);try{for(Kt.s();!(Ht=Kt.n()).done;){var pr=Ht.value,er=b.getDataObject(pr);er instanceof he&&er.addCommandsForDelete(Rt)}}catch(Ot){Kt.e(Ot)}finally{Kt.f()}Rt.isEmpty()||b.executeCommand(Rt),g.preventDefault();break;case 37:case 38:case 39:case 40:var tr,Zt=new de("Move element",b),Nt=g.which===37||g.which===39?"x":"y",Mt=(b.getDocumentProperties().getContentSize().width,nt(b.selections));try{for(Mt.s();!(tr=Mt.n()).done;){var qt=tr.value,It=b.getDataObject(qt);if(It instanceof he&&It.hasProperty(Nt)){var Ft=null;if(g.which===37)It.getValue("xVal")>0&&(Ft=It.getValue("xVal")-1);else if(g.which===38)It.getValue("yVal")>0&&(Ft=It.getValue("yVal")-1);else if(g.which===39){var ar=It.getContainerContentSize();It.getValue("xVal")+It.getValue("widthVal")<ar.width&&(Ft=It.getValue("xVal")+1)}else if(g.which===40){var Yt=It.getContainerContentSize();It.getValue("yVal")+It.getValue("heightVal")<Yt.height&&(Ft=It.getValue("yVal")+1)}if(Ft!==null){var rr=new e(qt,Nt,Ft,e.type.text,b);Zt.addCommand(rr)}}}}catch(Ot){Mt.e(Ot)}finally{Mt.f()}Zt.isEmpty()||b.executeCommand(Zt),g.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return D(R,[{key:"validateProperties",value:function(u){if(!Array.isArray(u.colors))return console.error('"colors" property must be an array'),!1;var b,x=!1,v=nt(u.colors);try{for(v.s();!(b=v.n()).done;){var a=b.value;if(!a||!Z(a))return console.error('"colors" property contains invalid color value'),!1;a==="#000000"&&(x=!0)}}catch(j){v.e(j)}finally{v.f()}if(!x)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(u.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var s,l=nt(u.fontSizes);try{for(l.s();!(s=l.n()).done;){var g=s.value;if(typeof g!="number"||g<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(j){l.e(j)}finally{l.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var u=0,b=[{name:"page_count",type:Y.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:Y.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];u<b.length;u++){var x=b[u],v=new Y(this.getUniqueId(),x,this),a=this.mainPanel.getParametersItem(),s=new z("parameter",a,v,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);v.setPanelItem(s),a.appendChild(s),v.setup(),this.addParameter(v)}}},{key:"render",value:function(){var u=this;d(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(t("div",{class:"rbroLogo"})),this.element.append(t("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var b=t("div",{class:"rbroContainer"}),x=t("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var v in x.append(t("ul",{id:"rbro_main_panel_list"})),b.append(x),b.append(t("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),b.append(t("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),b.append(t("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(b),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[v].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(a){u.mainPanel.mouseUp(a),u.document.mouseUp(a),u.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(a){u.document.windowResized()}),this.element.addEventListener("dragstart",function(a){a.preventDefault()}),this.element.addEventListener("mousemove",function(a){u.mainPanel.processMouseMove(a)||u.document.processMouseMove(a)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(u){return u in this.locale?this.locale[u]:u}},{key:"getProperty",value:function(u){return this.properties[u]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var u=[];if(this.properties.patternNumbers.length>0){u.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var b,x=nt(this.properties.patternNumbers);try{for(x.s();!(b=x.n()).done;){var v=b.value;u.push(v)}}catch(g){x.e(g)}finally{x.f()}}if(this.properties.patternDates.length>0){u.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var a,s=nt(this.properties.patternDates);try{for(s.s();!(a=s.n()).done;){var l=a.value;u.push(l)}}catch(g){s.e(g)}finally{s.f()}}return u}},{key:"getParameterItems",value:function(u,b){var x=[],v=this.getMainPanel().getParametersItem().getChildren(),a=0;if(u instanceof he){var s,l=!0,g=nt(u.getAllDataSources());try{for(g.s();!(s=g.n()).done;){var j=s.value;if(j.parameters.length>0){var U;U=l?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("${name}",j.name),x.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+a,name:U});var Q,le=[],_e=l?null:j.name,we=nt(j.parameters);try{for(we.s();!(Q=we.n()).done;){var Ee=Q.value;Ee.type===Y.type.map?Ee.appendParameterItems(le,b,_e):Ee.appendParameterItems(x,b,_e)}}catch(Xe){we.e(Xe)}finally{we.f()}for(var Se=0,Ae=le;Se<Ae.length;Se++){var Be=Ae[Se];x.push(Be)}}l=!1,a++}}catch(Xe){g.e(Xe)}finally{g.f()}}else if(u instanceof Y)for(var Ue=u.getParent();Ue!==null;){if(Ue.type===Y.type.array){a=1,Ue.appendFieldParameterItems(x,b,!0,null);break}Ue=Ue.getParent()}var Me=a>0?"":null;x.push({separator:!0,name:this.getLabel("parameters")});var Re,We=[],Je=nt(v);try{for(Je.s();!(Re=Je.n()).done;){var Ge=Re.value.getData();Ge.getValue("type")===Y.type.map?Ge.appendParameterItems(We,b,Me):Ge.appendParameterItems(x,b,Me)}}catch(Xe){Je.e(Xe)}finally{Je.f()}return x.concat(We)}},{key:"getArrayFieldParameterItems",value:function(u){var b=[],x=this.getMainPanel().getParametersItem().getChildren();b.push({separator:!0,name:this.getLabel("parameters")});var v,a=nt(x);try{for(a.s();!(v=a.n()).done;){var s=v.value.getData();s.getValue("type")===Y.type.array&&s.appendFieldParameterItems(b,u,!1,null)}}catch(l){a.e(l)}finally{a.f()}return b}},{key:"appendContainerDocElements",value:function(u,b,x){var v,a=nt(u.getPanelItem().getChildren());try{for(a.s();!(v=a.n()).done;){var s=v.value;if(s.getData()instanceof he){var l=s.getData();b?(x.push(l),l.addChildren(x)):x.push(l.toJS());var g=[];if(l instanceof At)g=l.getLinkedContainers();else{var j=l.getLinkedContainer();j!==null&&g.push(j)}var U,Q=nt(g);try{for(Q.s();!(U=Q.n()).done;){var le=U.value;this.appendContainerDocElements(le,b,x)}}catch(_e){Q.e(_e)}finally{Q.f()}}}}catch(_e){a.e(_e)}finally{a.f()}}},{key:"getDocElements",value:function(u){var b=[];return this.appendContainerDocElements(this.headerBand,u,b),this.appendContainerDocElements(this.contentBand,u,b),this.appendContainerDocElements(this.footerBand,u,b),b}},{key:"setDetailPanel",value:function(u){u!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=u,this.detailPanels[u].show())}},{key:"notifyEvent",value:function(u,b,x){this.detailPanels[this.activeDetailPanel].notifyEvent(u,b,x)}},{key:"addParameter",value:function(u){this.addDataObject(u)}},{key:"addStyle",value:function(u){this.addDataObject(u),this.notifyEvent(u,w.operation.add)}},{key:"getStyles",value:function(){var u,b=[],x=nt(this.getMainPanel().getStylesItem().getChildren());try{for(x.s();!(u=x.n()).done;){var v=u.value;b.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"getParameters",value:function(){var u,b=[],x=nt(this.getMainPanel().getParametersItem().getChildren());try{for(x.s();!(u=x.n()).done;){var v=u.value;b.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"addDocElement",value:function(u){this.docElements.push(u),this.addDataObject(u)}},{key:"deleteDocElements",value:function(){for(var u=0;u<this.docElements.length;u++)this.deleteDataObject(this.docElements[u]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(u){if(u.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var b=this.commandStack[this.commandStack.length-1];u.allowReplace(b)&&(u.replace(b),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(u),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(u,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var u=this.commandStack[this.lastCommandIndex];u.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex>=0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(u,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var u=this.commandStack[this.lastCommandIndex];u.do(),this.modified=!0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(u,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var u,b=0,x={x:0,y:0},v=!0,a=!0,s=nt(this.selections);try{for(s.s();!(u=s.n()).done;){var l=u.value,g=this.getDataObject(l);if(g instanceof he&&g.hasProperty("x")){b++;var j=g.getContainer().getOffset();b===1?x=j:(j.x!==x.x&&(v=!1),j.y!==x.y&&(a=!1))}}}catch(Me){s.e(Me)}finally{s.f()}var U=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(b>1){v?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",a?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var Q,le=nt(U);try{for(le.s();!(Q=le.n()).done;)Q.value.style.display="none"}catch(Me){le.e(Me)}finally{le.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var _e=null;if(this.selections.length===1&&(_e=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",_e instanceof zt){var we,Ee=nt(U);try{for(Ee.s();!(we=Ee.n()).done;)we.value.style.display="none"}catch(Me){Ee.e(Me)}finally{Ee.f()}var Se=_e.getTable(),Ae=_e.getParent();Se!==null&&P(Se.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),Se!==null&&Ae!==null&&Ae.getValue("bandType")===J.bandType.content?(P(Se.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var Be,Ue=nt(U);try{for(Ue.s();!(Be=Ue.n()).done;)Be.value.removeAttribute("style")}catch(Me){Ue.e(Me)}finally{Ue.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var u=0;u<this.commandStack.length;u++)u>this.lastCommandIndex?console.log("( "+u+" "+this.commandStack[u].getName()+" )"):console.log(u+" "+this.commandStack[u].getName())}},{key:"addDataObject",value:function(u){this.objectMap[u.getId()]=u}},{key:"deleteDataObject",value:function(u){this.isSelectedObject(u.getId())&&this.deselectObject(u.getId()),u.getId()in this.objectMap&&(u.remove(),delete this.objectMap[u.getId()])}},{key:"getDataObject",value:function(u){return u!==null&&u in this.objectMap?this.objectMap[u]:null}},{key:"getSelectedObjects",value:function(){var u,b=[],x=nt(this.selections);try{for(x.s();!(u=x.n()).done;){var v=u.value,a=this.getDataObject(v);a!==null&&b.push(a)}}catch(s){x.e(s)}finally{x.f()}return b}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(u){return this.selections.indexOf(u)!==-1}},{key:"isDocElementSelected",value:function(){var u,b=nt(this.selections);try{for(b.s();!(u=b.n()).done;){var x=u.value;if(this.getDataObject(x)instanceof he)return!0}}catch(v){b.e(v)}finally{b.f()}return!1}},{key:"isTableElementSelected",value:function(u){var b,x=nt(this.selections);try{for(x.s();!(b=x.n()).done;){var v=b.value,a=this.getDataObject(v);if(a instanceof zt&&a.getValue("tableId")===u)return!0}}catch(s){x.e(s)}finally{x.f()}return!1}},{key:"selectObject",value:function(u,b){var x="none",v=this.getDataObject(u);if(b){if(v!==null&&this.selections.length===1&&this.selections[0]===u)return;this.deselectAll(!0)}v!==null&&(v instanceof he?x="docElement":v instanceof Y?x="parameter":v instanceof ie?x="style":v instanceof Gt&&(x="documentProperties"),this.selections.push(u),v.select(),v.getPanelItem()!==null&&(v.getPanelItem().openParentItems(),v.getPanelItem().setActive()),x!==this.activeDetailPanel&&this.setDetailPanel(x),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(v,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(u){this.deselectObjectInternal(u,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(u,b){var x=this.getDataObject(u);if(x!==null&&(x.deselect(),x.getPanelItem()!==null&&x.getPanelItem().setInactive()),b){var v=this.selections.indexOf(u);v!==-1&&this.selections.splice(v,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}x!==null&&this.properties.selectCallback&&this.properties.selectCallback(x,!1)}},{key:"deselectAll",value:function(u){var b,x=nt(this.selections);try{for(x.s();!(b=x.n()).done;){var v=b.value;this.deselectObjectInternal(v,!1)}}catch(a){x.e(a)}finally{x.f()}this.selections=[],u&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(u,b,x,v){for(var a=null,s=-1,l=0;l<this.containers.length;l++){var g=this.containers[l];if(g.getLevel()>s&&g.isElementAllowed(x)&&g.isInside(u,b)){var j,U=!1,Q=nt(v);try{for(Q.s();!(j=Q.n()).done;){var le=j.value;if(g===le||g.isChildOf(le)){U=!0;break}}}catch(_e){Q.e(_e)}finally{Q.f()}U||(a=g,s=g.getLevel())}}return a}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(u){this.containers.push(u),this.addDataObject(u)}},{key:"deleteContainer",value:function(u){for(var b=0;b<this.containers.length;b++)if(this.containers[b].getId()===u.getId()){this.containers.splice(b,1);break}this.deleteDataObject(u)}},{key:"startBrowserDrag",value:function(u,b,x){this.browserDragType=u,this.browserDragId=x,this.getDocument().startBrowserDrag(b)}},{key:"isBrowserDragActive",value:function(u){return this.browserDragType===u}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(u,b,x,v,a){var s;a&&(s=new de(x===he.dragType.element?"Update position":"Resize",this));var l,g=nt(this.selections);try{for(g.s();!(l=g.n()).done;){var j=l.value,U=this.getDataObject(j);U!==null&&(x!==he.dragType.element||U.isDraggingAllowed())&&U.updateDrag(u,b,x,v,a?s:null)}}catch(Q){g.e(Q)}finally{g.f()}a&&!s.isEmpty()&&this.executeCommand(s)}},{key:"alignSelections",value:function(u){var b,x,v,a,s,l=Number.MAX_VALUE,g=Number.MIN_VALUE,j=Number.MAX_VALUE,U=Number.MIN_VALUE,Q=0,le=nt(this.selections);try{for(le.s();!(s=le.n()).done;){var _e=s.value,we=this.getDataObject(_e);we instanceof he&&we.hasProperty("x")&&(Q++,b=we.getValue("xVal"),x=we.getValue("yVal"),v=we.getValue("widthVal"),a=we.getValue("heightVal"),b<l&&(l=b),b+v>g&&(g=b+v),x<j&&(j=x),x+a>U&&(U=x+a))}}catch(at){le.e(at)}finally{le.f()}var Ee=l+(g-l)/2,Se=j+(U-j)/2;if(Q>1){var Ae,Be=new de("Align elements",this),Ue=nt(this.selections);try{for(Ue.s();!(Ae=Ue.n()).done;){var Me=Ae.value,Re=this.getDataObject(Me);if(Re instanceof he&&!(Re instanceof vt))switch(u){case ie.alignment.left:var We=new e(Re.getId(),"x",""+l,e.type.text,this);Be.addCommand(We);break;case ie.alignment.center:var Je=new e(Re.getId(),"x",""+(Ee-Re.getValue("widthVal")/2),e.type.text,this);Be.addCommand(Je);break;case ie.alignment.right:var Ge=new e(Re.getId(),"x",""+(g-Re.getValue("widthVal")),e.type.text,this);Be.addCommand(Ge);break;case ie.alignment.top:var Xe=new e(Re.getId(),"y",""+j,e.type.text,this);Be.addCommand(Xe);break;case ie.alignment.middle:var ut=new e(Re.getId(),"y",""+(Se-Re.getValue("heightVal")/2),e.type.text,this);Be.addCommand(ut);break;case ie.alignment.bottom:var lt=new e(Re.getId(),"y",""+(U-Re.getValue("heightVal")),e.type.text,this);Be.addCommand(lt)}}}catch(at){Ue.e(at)}finally{Ue.f()}this.executeCommand(Be)}}},{key:"toPixel",value:function(u){return u===""||typeof u=="string"&&(u=parseFloat(u.replace(",",".")),isNaN(u))?"0px":u+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(t("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var u=document.getElementById("rbro_loading_div");u&&u.remove()}},{key:"getTestData",value:function(){var u,b={},x=nt(this.getParameters());try{for(x.s();!(u=x.n()).done;){var v=u.value;if(!v.getValue("showOnlyNameType")){var a=v.getValue("type");a===Y.type.array||a===Y.type.simpleArray||a===Y.type.map?b[v.getName()]=v.getTestData(!1):a===Y.type.string||a===Y.type.number||a===Y.type.date?b[v.getName()]=v.getValue("testData"):a===Y.type.boolean?b[v.getName()]=v.getValue("testDataBoolean"):a===Y.type.image&&(b[v.getName()]=v.getValue("testDataImage"))}}}catch(s){x.e(s)}finally{x.f()}return b}},{key:"previewInternal",value:function(u,b){var x=this,v=this.getRequestParameters();this.clearErrors();var a=v.reportServerHeaders;a["Content-Type"]="application/json",v.reportServerBasicAuth&&(a.Authorization="Basic "+btoa(v.reportServerBasicAuth.username+":"+v.reportServerBasicAuth.password)),this.showLoading();var s=new AbortController,l=setTimeout(function(){return s.abort()},v.reportServerTimeout);fetch(v.reportServerUrl,{signal:s.signal,method:"PUT",headers:a,body:JSON.stringify({report:this.getReport(),outputFormat:Gt.outputFormat.pdf,data:u,isTestData:b})}).then(function(g){if(!g.ok)throw Error(g.statusText);return x.properties.autoSaveOnPreview&&x.save(),g}).then(function(g){return g.text()}).then(function(g){if(clearTimeout(l),x.hideLoading(),g.substring(0,4)==="key:")x.reportKey=g.substring(4),x.getDocument().openPdfPreviewTab(v.reportServerUrl+"?key="+x.reportKey+"&outputFormat=pdf",a);else{x.reportKey=null;try{var j=JSON.parse(g);j.errors.length>0&&x.processErrors(j.errors,!1)}catch(U){alert("preview failed")}}}).catch(function(g){clearTimeout(l),x.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var u={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(u),u}},{key:"setModified",value:function(u){this.modified=u,this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var u={docElements:[],parameters:[],styles:[],version:4};u.docElements=this.getDocElements(!1);var b,x=nt(this.getParameters());try{for(x.s();!(b=x.n()).done;){var v=b.value;u.parameters.push(v.toJS())}}catch(g){x.e(g)}finally{x.f()}var a,s=nt(this.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;u.styles.push(l.toJS())}}catch(g){s.e(g)}finally{s.f()}return u.documentProperties=this.documentProperties.toJS(),u}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var u=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(u)),this.modified=!1}catch(a){}if(this.getProperty("highlightUnusedParameters")){var b,x=nt(this.getParameters());try{for(x.s();!(b=x.n()).done;){var v=b.value;v.editable&&v.setHighlightUnused(!1)}}catch(a){x.e(a)}finally{x.f()}}this.updateMenuButtons()}},{key:"load",value:function(u){var b,x=nt(this.getParameters());try{for(x.s();!(b=x.n()).done;){var v=b.value;this.deleteDataObject(v)}}catch(dt){x.e(dt)}finally{x.f()}var a,s=nt(this.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;this.deleteDataObject(l)}}catch(dt){s.e(dt)}finally{s.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),u.version<2){var g,j=nt(u.docElements);try{for(j.s();!(g=j.n()).done;){var U=g.value;U.elementType===he.type.table&&(U.contentDataRows=[U.contentData],U.contentRows="1")}}catch(dt){j.e(dt)}finally{j.f()}}if(u.version<3){var Q,le=nt(u.docElements);try{for(le.s();!(Q=le.n()).done;){var _e=Q.value;if(_e.elementType===he.type.table){for(var we=0,Ee=0;Ee<_e.headerData.columnData.length;Ee++)we+=_e.headerData.columnData[Ee].width;_e.width=we}}}catch(dt){le.e(dt)}finally{le.f()}}if(u.version<4){var Se,Ae=nt(u.parameters);try{for(Ae.s();!(Se=Ae.n()).done;){var Be=Se.value;if(Be.type===Y.type.map){var Ue,Me={},Re=nt(Be.children);try{for(Re.s();!(Ue=Re.n()).done;){var We=Ue.value;Me[We.name]=We.testData,We.testData=""}}catch(dt){Re.e(dt)}finally{Re.f()}Be.testData=JSON.stringify(Me)}else Be.type===Y.type.boolean&&(Be.testDataBoolean=Boolean(Be.testData))}}catch(dt){Ae.e(dt)}finally{Ae.f()}}this.documentProperties.setInitialData(u.documentProperties),this.documentProperties.setup();var Je,Ge=nt(u.styles);try{for(Ge.s();!(Je=Ge.n()).done;){var Xe=Je.value;this.createStyle(Xe)}}catch(dt){Ge.e(dt)}finally{Ge.f()}var ut,lt=nt(u.parameters);try{for(lt.s();!(ut=lt.n()).done;){var at=ut.value;this.createParameter(at)}}catch(dt){lt.e(dt)}finally{lt.f()}var rt,ye=nt(u.docElements);try{for(ye.s();!(rt=ye.n()).done;){var He=rt.value;this.createDocElement(He)}}catch(dt){ye.e(dt)}finally{ye.f()}if(this.getProperty("highlightUnusedParameters")){var Ke,yt=this.getDocElements(!0),it=nt(this.getParameters());try{for(it.s();!(Ke=it.n()).done;){var st=Ke.value;if(st.editable){var ct,bt=new de("Temp group"),Et=nt(yt);try{for(Et.s();!(ct=Et.n()).done;)ct.value.addCommandsForChangedParameterName(st,st.getName(),bt)}catch(dt){Et.e(dt)}finally{Et.f()}var gt,_t=nt(this.getParameters());try{for(_t.s();!(gt=_t.n()).done;){var mt=gt.value;mt.getId()!==st.getId()&&mt.addCommandsForChangedParameterName(st,st.getName(),bt)}}catch(dt){_t.e(dt)}finally{_t.f()}bt.isEmpty()&&st.setHighlightUnused(!0)}}}catch(dt){it.e(dt)}finally{it.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var u=null;try{u=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(b){}u!==null&&this.load(u)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(u){this.previewInternal(u,!1)}},{key:"downloadSpreadsheet",value:function(){var u=this.getRequestParameters(),b=u.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx",x=u.reportServerHeaders,v=this;if(this.reportKey!==null)if(x&&Object.keys(x).length>0){var a=new XMLHttpRequest;for(var s in a.responseType="blob",a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)if(a.status===200)if(a.response.type==="application/json"){var l=new FileReader;l.addEventListener("loadend",function(){var j=l.result;try{var U=JSON.parse(j);U.errors.length>0&&v.processErrors(U.errors,!1)}catch(Q){alert("download failed")}}),l.readAsText(a.response)}else{var g=URL.createObjectURL(a.response);window.open(g,"_blank")}else alert("download failed")},a.open("GET",b,!0),x)x.hasOwnProperty(s)&&a.setRequestHeader(s,x[s]);a.send()}else window.open(b,"_blank")}},{key:"processErrors",value:function(u,b){(b===void 0||b)&&this.clearErrors();var x,v=nt(u);try{for(v.s();!(x=v.n()).done;){var a=x.value;if(a.object_id){document.getElementById("rbro_menu_item".concat(a.object_id)).classList.add("rbroError");var s=this.getDataObject(a.object_id);s!==null&&s.addError(a)}}}catch(l){v.e(l)}finally{v.f()}u.length>0&&(this.deselectAll(!1),this.selectObject(u[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var u,b=nt(document.querySelectorAll(".rbroMenuItem"));try{for(b.s();!(u=b.n()).done;)u.value.classList.remove("rbroError")}catch(g){b.e(g)}finally{b.f()}var x,v=nt(document.querySelectorAll(".rbroFormRow"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroError")}catch(g){v.e(g)}finally{v.f()}var a,s=nt(document.querySelectorAll(".rbroErrorMessage"));try{for(s.s();!(a=s.n()).done;)a.value.textContent=""}catch(g){s.e(g)}finally{s.f()}for(var l in this.objectMap)this.objectMap[l].clearErrors()}},{key:"destroy",value:function(){for(var u in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[u].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(u){var b=this.getDataObject(u);return b instanceof he?b:null}},{key:"getParameterById",value:function(u){var b=this.getDataObject(u);return b instanceof Y?b:null}},{key:"getParameterByName",value:function(u){return this.getParameterByNameInternal(u,null)}},{key:"getParameterByNameInternal",value:function(u,b){var x=null,v=null,a=u.indexOf(".");a!==-1&&(x=u.substring(0,a),v=u.substring(a+1));var s,l=nt(b?b.getChildren():this.getParameters());try{for(l.s();!(s=l.n()).done;){var g=s.value;if(x!==null&&g.getValue("type")===Y.type.map&&g.getValue("name")===x)return this.getParameterByNameInternal(v,g);if(x===null&&g.getValue("name")===u)return g}}catch(j){l.e(j)}finally{l.f()}return null}},{key:"getStyleById",value:function(u){var b=this.getDataObject(u);return b instanceof ie?b:null}},{key:"createDocElement",value:function(u){var b=Tt.createElement(u.id,u,u.elementType,-1,!1,this),x=b.getMaxId();return x>=this.nextId&&(this.nextId=x+1),b}},{key:"createParameter",value:function(u){var b=new Y(u.id,u,this),x=this.mainPanel.getParametersItem(),v=this.getProperty("adminMode"),a=new z("parameter",x,b,{hasChildren:!0,showAdd:v,showDelete:v,draggable:!0},this);b.setPanelItem(a),x.appendChild(a),b.setup(),b.getValue("type")!==Y.type.array&&b.getValue("type")!==Y.type.map&&(v&&(document.getElementById("rbro_menu_item_add".concat(b.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(b.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(b.getId())).style.display="none"),this.addParameter(b);var s=b.getMaxId();return s>=this.nextId&&(this.nextId=s+1),b}},{key:"createStyle",value:function(u){var b=new ie(u.id,u,this),x=this.mainPanel.getStylesItem(),v=new z("style",x,b,{draggable:!0},this);return b.setPanelItem(v),x.appendChild(v),this.addStyle(b),u.id>=this.nextId&&(this.nextId=u.id+1),b}},{key:"deleteDocElement",value:function(u){for(var b=0;b<this.docElements.length;b++)if(this.docElements[b].getId()===u.getId()){this.docElements.splice(b,1),this.deleteDataObject(u),this.notifyEvent(u,w.operation.remove);break}}},{key:"deleteParameter",value:function(u){this.deleteDataObject(u),u.getPanelItem().getParent().removeChild(u.getPanelItem()),this.notifyEvent(u,w.operation.remove)}},{key:"deleteStyle",value:function(u){this.deleteDataObject(u),u.getPanelItem().getParent().removeChild(u.getPanelItem()),this.notifyEvent(u,w.operation.remove)}}]),R}();ft.ReportBro=An}()})()}).call(this,ze("HDXh").Buffer)},bBst:function(wt,ft,ze){(function(qe){var Ye=qe.CustomEvent;function ot(){try{var Qe=new Ye("cat",{detail:{foo:"bar"}});return Qe.type==="cat"&&Qe.detail.foo==="bar"}catch(X){}return!1}wt.exports=ot()?Ye:typeof document!="undefined"&&typeof document.createEvent=="function"?function(X,ne){var D=document.createEvent("CustomEvent");return ne?D.initCustomEvent(X,ne.bubbles,ne.cancelable,ne.detail):D.initCustomEvent(X,!1,!1,void 0),D}:function(X,ne){var D=document.createEventObject();return D.type=X,ne?(D.bubbles=Boolean(ne.bubbles),D.cancelable=Boolean(ne.cancelable),D.detail=ne.detail):(D.bubbles=!1,D.cancelable=!1,D.detail=void 0),D}}).call(this,ze("IyRk"))},bXNp:function(wt,ft,ze){},fu2T:function(wt,ft,ze){"use strict";var qe=ze("EFp3"),Ye=ze.n(qe),ot=ze("3dVZ"),Qe=ze.n(ot)},gK9i:function(wt,ft,ze){"use strict";var qe=ze("wx14"),Ye=ze("rePB"),ot=ze("UESt"),Qe=ze("TSYQ"),X=ze.n(Qe),ne=ze("KQm4"),D=ze("1OyB"),C=ze("vuIU"),_=ze("Ji7U"),h=ze("LK+K"),p=ze("U8pU"),f=ze("Zm9Q"),w=ze("q1tI"),m=ze("Gytx"),o=ze.n(m),i=ze("Ff2n"),e=ze("8XRh"),r=ze("ODXe"),n=w.forwardRef(function(F,G){var q,L=F.prefixCls,J=F.forceRender,ce=F.className,se=F.style,ve=F.children,ie=F.isActive,oe=F.role,pe=w.useState(ie||J),be=Object(r.a)(pe,2),de=be[0],Pe=be[1];return w.useEffect(function(){(J||ie)&&Pe(!0)},[J,ie]),de?w.createElement("div",{ref:G,className:X()("".concat(L,"-content"),(q={},Object(Ye.a)(q,"".concat(L,"-content-active"),ie),Object(Ye.a)(q,"".concat(L,"-content-inactive"),!ie),q),ce),style:se,role:oe},w.createElement("div",{className:"".concat(L,"-content-box")},ve)):null});n.displayName="PanelContent";var c=n,t=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],d=function(F){Object(_.a)(q,F);var G=Object(h.a)(q);function q(){var L;Object(D.a)(this,q);for(var J=arguments.length,ce=new Array(J),se=0;se<J;se++)ce[se]=arguments[se];return L=G.call.apply(G,[this].concat(ce)),L.onItemClick=function(){var ve=L.props,ie=ve.onItemClick,oe=ve.panelKey;typeof ie=="function"&&ie(oe)},L.handleKeyPress=function(ve){(ve.key==="Enter"||ve.keyCode===13||ve.which===13)&&L.onItemClick()},L.renderIcon=function(){var ve=L.props,ie=ve.showArrow,oe=ve.expandIcon,pe=ve.prefixCls,be=ve.collapsible;if(!ie)return null;var de=typeof oe=="function"?oe(L.props):w.createElement("i",{className:"arrow"});return de&&w.createElement("div",{className:"".concat(pe,"-expand-icon"),onClick:be==="header"||be==="icon"?L.onItemClick:null},de)},L.renderTitle=function(){var ve=L.props,ie=ve.header,oe=ve.prefixCls,pe=ve.collapsible;return w.createElement("span",{className:"".concat(oe,"-header-text"),onClick:pe==="header"?L.onItemClick:null},ie)},L}return Object(C.a)(q,[{key:"shouldComponentUpdate",value:function(J){return!o()(this.props,J)}},{key:"render",value:function(){var J,ce,se=this.props,ve=se.className,ie=se.id,oe=se.style,pe=se.prefixCls,be=se.headerClass,de=se.children,Pe=se.isActive,je=se.destroyInactivePanel,z=se.accordion,ge=se.forceRender,K=se.openMotion,k=se.extra,I=se.collapsible,W=Object(i.a)(se,t),re=I==="disabled",Y=I==="header",ae=I==="icon",Ce=X()((J={},Object(Ye.a)(J,"".concat(pe,"-item"),!0),Object(Ye.a)(J,"".concat(pe,"-item-active"),Pe),Object(Ye.a)(J,"".concat(pe,"-item-disabled"),re),J),ve),he=X()("".concat(pe,"-header"),(ce={},Object(Ye.a)(ce,be,be),Object(Ye.a)(ce,"".concat(pe,"-header-collapsible-only"),Y),Object(Ye.a)(ce,"".concat(pe,"-icon-collapsible-only"),ae),ce)),Oe={className:he,"aria-expanded":Pe,"aria-disabled":re,onKeyPress:this.handleKeyPress};!Y&&!ae&&(Oe.onClick=this.onItemClick,Oe.role=z?"tab":"button",Oe.tabIndex=re?-1:0);var Ve=k!=null&&typeof k!="boolean";return delete W.header,delete W.panelKey,delete W.onItemClick,delete W.showArrow,delete W.expandIcon,w.createElement("div",Object(qe.a)({},W,{className:Ce,style:oe,id:ie}),w.createElement("div",Oe,this.renderIcon(),this.renderTitle(),Ve&&w.createElement("div",{className:"".concat(pe,"-extra")},k)),w.createElement(e.default,Object(qe.a)({visible:Pe,leavedClassName:"".concat(pe,"-content-hidden")},K,{forceRender:ge,removeOnLeave:je}),function(Ze,et){var ht=Ze.className,Ct=Ze.style;return w.createElement(c,{ref:et,prefixCls:pe,className:ht,style:Ct,isActive:Pe,forceRender:ge,role:z?"tabpanel":null},de)}))}}]),q}(w.Component);d.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var y=d;function E(F){var G=F;if(!Array.isArray(G)){var q=Object(p.a)(G);G=q==="number"||q==="string"?[G]:[]}return G.map(function(L){return String(L)})}var T=function(F){Object(_.a)(q,F);var G=Object(h.a)(q);function q(L){var J;Object(D.a)(this,q),J=G.call(this,L),J.onClickItem=function(ie){var oe=J.state.activeKey;if(J.props.accordion)oe=oe[0]===ie?[]:[ie];else{oe=Object(ne.a)(oe);var pe=oe.indexOf(ie),be=pe>-1;be?oe.splice(pe,1):oe.push(ie)}J.setActiveKey(oe)},J.getNewChild=function(ie,oe){if(!ie)return null;var pe=J.state.activeKey,be=J.props,de=be.prefixCls,Pe=be.openMotion,je=be.accordion,z=be.destroyInactivePanel,ge=be.expandIcon,K=be.collapsible,k=ie.key||String(oe),I=ie.props,W=I.header,re=I.headerClass,Y=I.destroyInactivePanel,ae=I.collapsible,Ce=!1;je?Ce=pe[0]===k:Ce=pe.indexOf(k)>-1;var he=ae!=null?ae:K,Oe={key:k,panelKey:k,header:W,headerClass:re,isActive:Ce,prefixCls:de,destroyInactivePanel:Y!=null?Y:z,openMotion:Pe,accordion:je,children:ie.props.children,onItemClick:he==="disabled"?null:J.onClickItem,expandIcon:ge,collapsible:he};return typeof ie.type=="string"?ie:(Object.keys(Oe).forEach(function(Ve){typeof Oe[Ve]=="undefined"&&delete Oe[Ve]}),w.cloneElement(ie,Oe))},J.getItems=function(){var ie=J.props.children;return Object(f.a)(ie).map(J.getNewChild)},J.setActiveKey=function(ie){"activeKey"in J.props||J.setState({activeKey:ie}),J.props.onChange(J.props.accordion?ie[0]:ie)};var ce=L.activeKey,se=L.defaultActiveKey,ve=se;return"activeKey"in L&&(ve=ce),J.state={activeKey:E(ve)},J}return Object(C.a)(q,[{key:"shouldComponentUpdate",value:function(J,ce){return!o()(this.props,J)||!o()(this.state,ce)}},{key:"render",value:function(){var J,ce=this.props,se=ce.prefixCls,ve=ce.className,ie=ce.style,oe=ce.accordion,pe=X()((J={},Object(Ye.a)(J,se,!0),Object(Ye.a)(J,ve,!!ve),J));return w.createElement("div",{className:pe,style:ie,role:oe?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(J){var ce={};return"activeKey"in J&&(ce.activeKey=E(J.activeKey)),ce}}]),q}(w.Component);T.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},T.Panel=y;var A=T,P=A,O=A.Panel,N=ze("bT9E"),H=ze("H84U"),M=ze("EXcs"),Z=ze("0n0R"),B=function(G){var q=w.useContext(H.b),L=q.getPrefixCls,J=G.prefixCls,ce=G.className,se=ce===void 0?"":ce,ve=G.showArrow,ie=ve===void 0?!0:ve,oe=L("collapse",J),pe=X()(Object(Ye.a)({},"".concat(oe,"-no-arrow"),!ie),se);return w.createElement(P.Panel,Object(qe.a)({},G,{prefixCls:oe,className:pe}))},te=B,ee=function(G){var q,L=w.useContext(H.b),J=L.getPrefixCls,ce=L.direction,se=G.prefixCls,ve=G.className,ie=ve===void 0?"":ve,oe=G.bordered,pe=oe===void 0?!0:oe,be=G.ghost,de=G.expandIconPosition,Pe=de===void 0?"start":de,je=J("collapse",se),z=w.useMemo(function(){return Pe==="left"?"start":Pe==="right"?"end":Pe},[Pe]),ge=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=G.expandIcon,ae=Y?Y(re):w.createElement(ot.a,{rotate:re.isActive?90:void 0});return Object(Z.a)(ae,function(){return{className:X()(ae.props.className,"".concat(je,"-arrow"))}})},K=X()("".concat(je,"-icon-position-").concat(z),(q={},Object(Ye.a)(q,"".concat(je,"-borderless"),!pe),Object(Ye.a)(q,"".concat(je,"-rtl"),ce==="rtl"),Object(Ye.a)(q,"".concat(je,"-ghost"),!!be),q),ie),k=Object(qe.a)(Object(qe.a)({},M.a),{motionAppear:!1,leavedClassName:"".concat(je,"-content-hidden")}),I=function(){var re=G.children;return Object(f.a)(re).map(function(Y,ae){var Ce;if((Ce=Y.props)===null||Ce===void 0?void 0:Ce.disabled){var he=Y.key||String(ae),Oe=Y.props,Ve=Oe.disabled,Ze=Oe.collapsible,et=Object(qe.a)(Object(qe.a)({},Object(N.a)(Y.props,["disabled"])),{key:he,collapsible:Ze!=null?Ze:Ve?"disabled":void 0});return Object(Z.a)(Y,et)}return Y})};return w.createElement(P,Object(qe.a)({openMotion:k},G,{expandIcon:ge,prefixCls:je,className:K}),I())};ee.Panel=te;var V=ee,$=ft.a=V},"kVK+":function(wt,ft){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ft.read=function(ze,qe,Ye,ot,Qe){var X,ne,D=Qe*8-ot-1,C=(1<<D)-1,_=C>>1,h=-7,p=Ye?Qe-1:0,f=Ye?-1:1,w=ze[qe+p];for(p+=f,X=w&(1<<-h)-1,w>>=-h,h+=D;h>0;X=X*256+ze[qe+p],p+=f,h-=8);for(ne=X&(1<<-h)-1,X>>=-h,h+=ot;h>0;ne=ne*256+ze[qe+p],p+=f,h-=8);if(X===0)X=1-_;else{if(X===C)return ne?NaN:(w?-1:1)*Infinity;ne=ne+Math.pow(2,ot),X=X-_}return(w?-1:1)*ne*Math.pow(2,X-ot)},ft.write=function(ze,qe,Ye,ot,Qe,X){var ne,D,C,_=X*8-Qe-1,h=(1<<_)-1,p=h>>1,f=Qe===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=ot?0:X-1,m=ot?1:-1,o=qe<0||qe===0&&1/qe<0?1:0;for(qe=Math.abs(qe),isNaN(qe)||qe===Infinity?(D=isNaN(qe)?1:0,ne=h):(ne=Math.floor(Math.log(qe)/Math.LN2),qe*(C=Math.pow(2,-ne))<1&&(ne--,C*=2),ne+p>=1?qe+=f/C:qe+=f*Math.pow(2,1-p),qe*C>=2&&(ne++,C/=2),ne+p>=h?(D=0,ne=h):ne+p>=1?(D=(qe*C-1)*Math.pow(2,Qe),ne=ne+p):(D=qe*Math.pow(2,p-1)*Math.pow(2,Qe),ne=0));Qe>=8;ze[Ye+w]=D&255,w+=m,D/=256,Qe-=8);for(ne=ne<<Qe|D,_+=Qe;_>0;ze[Ye+w]=ne&255,w+=m,ne/=256,_-=8);ze[Ye+w-m]|=o*128}},oOwn:function(wt,ft,ze){(function(){var qe=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Ye=typeof window!="undefined",ot=Ye&&window.mozInnerScreenX!=null;function Qe(X,ne,D){if(!Ye)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var C=D&&D.debug||!1;if(C){var _=document.querySelector("#input-textarea-caret-position-mirror-div");_&&_.parentNode.removeChild(_)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var p=h.style,f=window.getComputedStyle?getComputedStyle(X):X.currentStyle;p.whiteSpace="pre-wrap",X.nodeName!=="INPUT"&&(p.wordWrap="break-word"),p.position="absolute",C||(p.visibility="hidden"),qe.forEach(function(o){p[o]=f[o]}),ot?X.scrollHeight>parseInt(f.height)&&(p.overflowY="scroll"):p.overflow="hidden",h.textContent=X.value.substring(0,ne),X.nodeName==="INPUT"&&(h.textContent=h.textContent.replace(/\s/g,"\xA0"));var w=document.createElement("span");w.textContent=X.value.substring(ne)||".",h.appendChild(w);var m={top:w.offsetTop+parseInt(f.borderTopWidth),left:w.offsetLeft+parseInt(f.borderLeftWidth)};return C?w.style.backgroundColor="#aaa":document.body.removeChild(h),m}typeof wt.exports!="undefined"?wt.exports=Qe:Ye&&(window.getCaretCoordinates=Qe)})()},tneF:function(wt,ft,ze){"use strict";var qe=ze("sRBo"),Ye=ze("kaz8"),ot=ze("VTBJ"),Qe=ze("Ff2n"),X=ze("nKUr"),ne=ze.n(X),D=ze("uX+g"),C=ze("q1tI"),_=ze.n(C),h=ze("WFLz"),p=ze("adzw"),f=["options","fieldProps","proFieldProps","valueEnum"],w=_.a.forwardRef(function(e,r){var n=e.options,c=e.fieldProps,t=e.proFieldProps,d=e.valueEnum,y=Object(Qe.a)(e,f);return Object(X.jsx)(p.a,Object(ot.a)({ref:r,valueType:"checkbox",valueEnum:Object(D.a)(d,void 0),fieldProps:Object(ot.a)({options:n},c),lightProps:Object(ot.a)({labelFormatter:function(){return Object(X.jsx)(p.a,Object(ot.a)({ref:r,valueType:"checkbox",mode:"read",valueEnum:Object(D.a)(d,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(ot.a)({options:n},c),proFieldProps:t},y))}},y.lightProps),proFieldProps:t},y))}),m=_.a.forwardRef(function(e,r){var n=e.fieldProps,c=e.children;return Object(X.jsx)(Ye.a,Object(ot.a)(Object(ot.a)({ref:r},n),{},{children:c}))}),o=Object(h.a)(m,{valuePropName:"checked"}),i=o;i.Group=w,ft.a=i},v3Qx:function(wt,ft){var ze={}.toString;wt.exports=Array.isArray||function(qe){return ze.call(qe)=="[object Array]"}},xOOu:function(wt,ft,ze){(function(qe,Ye,ot){var Qe,Qe;/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(X){wt.exports=X()})(function(){return function X(ne,D,C){function _(f,w){if(!D[f]){if(!ne[f]){var m=typeof Qe=="function"&&Qe;if(!w&&m)return Qe(f,!0);if(h)return h(f,!0);var o=new Error("Cannot find module '"+f+"'");throw o.code="MODULE_NOT_FOUND",o}var i=D[f]={exports:{}};ne[f][0].call(i.exports,function(e){var r=ne[f][1][e];return _(r||e)},i,i.exports,X,ne,D,C)}return D[f].exports}for(var h=typeof Qe=="function"&&Qe,p=0;p<C.length;p++)_(C[p]);return _}({1:[function(X,ne,D){"use strict";var C=X("./utils"),_=X("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";D.encode=function(p){for(var f,w,m,o,i,e,r,n=[],c=0,t=p.length,d=t,y=C.getTypeOf(p)!=="string";c<p.length;)d=t-c,m=y?(f=p[c++],w=c<t?p[c++]:0,c<t?p[c++]:0):(f=p.charCodeAt(c++),w=c<t?p.charCodeAt(c++):0,c<t?p.charCodeAt(c++):0),o=f>>2,i=(3&f)<<4|w>>4,e=1<d?(15&w)<<2|m>>6:64,r=2<d?63&m:64,n.push(h.charAt(o)+h.charAt(i)+h.charAt(e)+h.charAt(r));return n.join("")},D.decode=function(p){var f,w,m,o,i,e,r=0,n=0,c="data:";if(p.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var t,d=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&d--,p.charAt(p.length-2)===h.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(t=_.uint8array?new Uint8Array(0|d):new Array(0|d);r<p.length;)f=h.indexOf(p.charAt(r++))<<2|(o=h.indexOf(p.charAt(r++)))>>4,w=(15&o)<<4|(i=h.indexOf(p.charAt(r++)))>>2,m=(3&i)<<6|(e=h.indexOf(p.charAt(r++))),t[n++]=f,i!==64&&(t[n++]=w),e!==64&&(t[n++]=m);return t}},{"./support":30,"./utils":32}],2:[function(X,ne,D){"use strict";var C=X("./external"),_=X("./stream/DataWorker"),h=X("./stream/Crc32Probe"),p=X("./stream/DataLengthProbe");function f(w,m,o,i,e){this.compressedSize=w,this.uncompressedSize=m,this.crc32=o,this.compression=i,this.compressedContent=e}f.prototype={getContentWorker:function(){var m=new _(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),o=this;return m.on("end",function(){if(this.streamInfo.data_length!==o.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new _(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(w,m,o){return w.pipe(new h).pipe(new p("uncompressedSize")).pipe(m.compressWorker(o)).pipe(new p("compressedSize")).withStreamInfo("compression",m)},ne.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(X,ne,D){"use strict";var C=X("./stream/GenericWorker");D.STORE={magic:"\0\0",compressWorker:function(){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},D.DEFLATE=X("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(X,ne,D){"use strict";var C=X("./utils"),_=function(){for(var h,p=[],f=0;f<256;f++){h=f;for(var w=0;w<8;w++)h=1&h?3988292384^h>>>1:h>>>1;p[f]=h}return p}();ne.exports=function(h,p){return h!==void 0&&h.length?C.getTypeOf(h)!=="string"?function(f,w,m,o){var i=_,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w[r])];return-1^f}(0|p,h,h.length,0):function(f,w,m,o){var i=_,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w.charCodeAt(r))];return-1^f}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(X,ne,D){"use strict";D.base64=!1,D.binary=!1,D.dir=!1,D.createFolders=!0,D.date=null,D.compression=null,D.compressionOptions=null,D.comment=null,D.unixPermissions=null,D.dosPermissions=null},{}],6:[function(X,ne,D){"use strict";var C=null;C=typeof Promise!="undefined"?Promise:X("lie"),ne.exports={Promise:C}},{lie:37}],7:[function(X,ne,D){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",_=X("pako"),h=X("./utils"),p=X("./stream/GenericWorker"),f=C?"uint8array":"array";function w(m,o){p.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=o,this.meta={}}D.magic="\b\0",h.inherits(w,p),w.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(f,m.data),!1)},w.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new _[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(o){m.push({data:o,meta:m.meta})}},D.compressWorker=function(m){return new w("Deflate",m)},D.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(X,ne,D){"use strict";function C(i,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&i),i>>>=8;return n}function _(i,e,r,n,c,t){var d,y,E=i.file,T=i.compression,A=t!==f.utf8encode,P=h.transformTo("string",t(E.name)),O=h.transformTo("string",f.utf8encode(E.name)),N=E.comment,H=h.transformTo("string",t(N)),M=h.transformTo("string",f.utf8encode(N)),Z=O.length!==E.name.length,B=M.length!==N.length,te="",ee="",V="",$=E.dir,F=E.date,G={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(G.crc32=i.crc32,G.compressedSize=i.compressedSize,G.uncompressedSize=i.uncompressedSize);var q=0;e&&(q|=8),A||!Z&&!B||(q|=2048);var L=0,J=0;$&&(L|=16),c==="UNIX"?(J=798,L|=function(se,ve){var ie=se;return se||(ie=ve?16893:33204),(65535&ie)<<16}(E.unixPermissions,$)):(J=20,L|=function(se){return 63&(se||0)}(E.dosPermissions)),d=F.getUTCHours(),d<<=6,d|=F.getUTCMinutes(),d<<=5,d|=F.getUTCSeconds()/2,y=F.getUTCFullYear()-1980,y<<=4,y|=F.getUTCMonth()+1,y<<=5,y|=F.getUTCDate(),Z&&(ee=C(1,1)+C(w(P),4)+O,te+="up"+C(ee.length,2)+ee),B&&(V=C(1,1)+C(w(H),4)+M,te+="uc"+C(V.length,2)+V);var ce="";return ce+=`
\0`,ce+=C(q,2),ce+=T.magic,ce+=C(d,2),ce+=C(y,2),ce+=C(G.crc32,4),ce+=C(G.compressedSize,4),ce+=C(G.uncompressedSize,4),ce+=C(P.length,2),ce+=C(te.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ce+P+te,dirRecord:m.CENTRAL_FILE_HEADER+C(J,2)+ce+C(H.length,2)+"\0\0\0\0"+C(L,4)+C(n,4)+P+te+H}}var h=X("../utils"),p=X("../stream/GenericWorker"),f=X("../utf8"),w=X("../crc32"),m=X("../signature");function o(i,e,r,n){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(o,p),o.prototype.push=function(i){var e=i.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,p.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},o.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var e=this.streamFiles&&!i.file.dir;if(e){var r=_(i,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(i){this.accumulate=!1;var e=this.streamFiles&&!i.file.dir,r=_(i,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(n){return m.DATA_DESCRIPTOR+C(n.crc32,4)+C(n.compressedSize,4)+C(n.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var i=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-i,n=function(c,t,d,y,E){var T=h.transformTo("string",E(y));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(c,2)+C(c,2)+C(t,4)+C(d,4)+C(T.length,2)+T}(this.dirRecords.length,r,i,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(i){this._sources.push(i);var e=this;return i.on("data",function(r){e.processChunk(r)}),i.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),i.on("error",function(r){e.error(r)}),this},o.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(i){var e=this._sources;if(!p.prototype.error.call(this,i))return!1;for(var r=0;r<e.length;r++)try{e[r].error(i)}catch(n){}return!0},o.prototype.lock=function(){p.prototype.lock.call(this);for(var i=this._sources,e=0;e<i.length;e++)i[e].lock()},ne.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(X,ne,D){"use strict";var C=X("../compressions"),_=X("./ZipFileWorker");D.generateWorker=function(h,p,f){var w=new _(p.streamFiles,f,p.platform,p.encodeFileName),m=0;try{h.forEach(function(o,i){m++;var e=function(t,d){var y=t||d,E=C[y];if(!E)throw new Error(y+" is not a valid compression method !");return E}(i.options.compression,p.compression),r=i.options.compressionOptions||p.compressionOptions||{},n=i.dir,c=i.date;i._compressWorker(e,r).withStreamInfo("file",{name:o,dir:n,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=m}catch(o){w.error(o)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(X,ne,D){"use strict";function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var _=new C;for(var h in this)typeof this[h]!="function"&&(_[h]=this[h]);return _}}(C.prototype=X("./object")).loadAsync=X("./load"),C.support=X("./support"),C.defaults=X("./defaults"),C.version="3.10.1",C.loadAsync=function(_,h){return new C().loadAsync(_,h)},C.external=X("./external"),ne.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(X,ne,D){"use strict";var C=X("./utils"),_=X("./external"),h=X("./utf8"),p=X("./zipEntries"),f=X("./stream/Crc32Probe"),w=X("./nodejsUtils");function m(o){return new _.Promise(function(i,e){var r=o.decompressed.getContentWorker().pipe(new f);r.on("error",function(n){e(n)}).on("end",function(){r.streamInfo.crc32!==o.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}ne.exports=function(o,i){var e=this;return i=C.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),w.isNode&&w.isStream(o)?_.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",o,!0,i.optimizedBinaryString,i.base64).then(function(r){var n=new p(i);return n.load(r),n}).then(function(r){var n=[_.Promise.resolve(r)],c=r.files;if(i.checkCRC32)for(var t=0;t<c.length;t++)n.push(m(c[t]));return _.Promise.all(n)}).then(function(r){for(var n=r.shift(),c=n.files,t=0;t<c.length;t++){var d=c[t],y=d.fileNameStr,E=C.resolve(d.fileNameStr);e.file(E,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:i.createFolders}),d.dir||(e.file(E).unsafeOriginalName=y)}return n.zipComment.length&&(e.comment=n.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(X,ne,D){"use strict";var C=X("../utils"),_=X("../stream/GenericWorker");function h(p,f){_.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(f)}C.inherits(h,_),h.prototype._bindStream=function(p){var f=this;(this._stream=p).pause(),p.on("data",function(w){f.push({data:w,meta:{percent:0}})}).on("error",function(w){f.isPaused?this.generatedError=w:f.error(w)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},h.prototype.pause=function(){return!!_.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},ne.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(X,ne,D){"use strict";var C=X("readable-stream").Readable;function _(h,p,f){C.call(this,p),this._helper=h;var w=this;h.on("data",function(m,o){w.push(m)||w._helper.pause(),f&&f(o)}).on("error",function(m){w.emit("error",m)}).on("end",function(){w.push(null)})}X("../utils").inherits(_,C),_.prototype._read=function(){this._helper.resume()},ne.exports=_},{"../utils":32,"readable-stream":16}],14:[function(X,ne,D){"use strict";ne.exports={isNode:typeof qe!="undefined",newBufferFrom:function(_,h){if(qe.from&&qe.from!==Uint8Array.from)return qe.from(_,h);if(typeof _=="number")throw new Error('The "data" argument must not be a number');return new qe(_,h)},allocBuffer:function(_){if(qe.alloc)return qe.alloc(_);var h=new qe(_);return h.fill(0),h},isBuffer:function(_){return qe.isBuffer(_)},isStream:function(_){return _&&typeof _.on=="function"&&typeof _.pause=="function"&&typeof _.resume=="function"}}},{}],15:[function(X,ne,D){"use strict";function C(E,T,A){var P,O=h.getTypeOf(T),N=h.extend(A||{},w);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(E=c(E)),N.createFolders&&(P=n(E))&&t.call(this,P,!0);var H=O==="string"&&N.binary===!1&&N.base64===!1;A&&A.binary!==void 0||(N.binary=!H),(T instanceof m&&T.uncompressedSize===0||N.dir||!T||T.length===0)&&(N.base64=!1,N.binary=!0,T="",N.compression="STORE",O="string");var M=null;M=T instanceof m||T instanceof p?T:e.isNode&&e.isStream(T)?new r(E,T):h.prepareContent(E,T,N.binary,N.optimizedBinaryString,N.base64);var Z=new o(E,M,N);this.files[E]=Z}var _=X("./utf8"),h=X("./utils"),p=X("./stream/GenericWorker"),f=X("./stream/StreamHelper"),w=X("./defaults"),m=X("./compressedObject"),o=X("./zipObject"),i=X("./generate"),e=X("./nodejsUtils"),r=X("./nodejs/NodejsStreamInputAdapter"),n=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var A=T.lastIndexOf("/");return 0<A?T.substring(0,A):""},c=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},t=function(T,A){return A=A!==void 0?A:w.createFolders,T=c(T),this.files[T]||C.call(this,T,null,{dir:!0,createFolders:A}),this.files[T]};function d(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var A,P,O;for(A in this.files)O=this.files[A],(P=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&T(P,O)},filter:function(T){var A=[];return this.forEach(function(P,O){T(P,O)&&A.push(O)}),A},file:function(T,A,P){if(arguments.length!==1)return T=this.root+T,C.call(this,T,A,P),this;if(d(T)){var O=T;return this.filter(function(H,M){return!M.dir&&O.test(H)})}var N=this.files[this.root+T];return N&&!N.dir?N:null},folder:function(T){if(!T)return this;if(d(T))return this.filter(function(N,H){return H.dir&&T.test(N)});var A=this.root+T,P=t.call(this,A),O=this.clone();return O.root=P.name,O},remove:function(T){T=this.root+T;var A=this.files[T];if(A||(T.slice(-1)!=="/"&&(T+="/"),A=this.files[T]),A&&!A.dir)delete this.files[T];else for(var P=this.filter(function(N,H){return H.name.slice(0,T.length)===T}),O=0;O<P.length;O++)delete this.files[P[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var A,P={};try{if((P=h.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:_.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");h.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var O=P.comment||this.comment||"";A=i.generateWorker(this,P,O)}catch(N){(A=new p("error")).error(N)}return new f(A,P.type||"string",P.mimeType)},generateAsync:function(T,A){return this.generateInternalStream(T).accumulate(A)},generateNodeStream:function(T,A){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(A)}};ne.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(X,ne,D){"use strict";ne.exports=X("stream")},{stream:void 0}],17:[function(X,ne,D){"use strict";var C=X("./DataReader");function _(h){C.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}X("../utils").inherits(_,C),_.prototype.byteAt=function(h){return this.data[this.zero+h]},_.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),f=h.charCodeAt(1),w=h.charCodeAt(2),m=h.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===p&&this.data[o+1]===f&&this.data[o+2]===w&&this.data[o+3]===m)return o-this.zero;return-1},_.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),f=h.charCodeAt(1),w=h.charCodeAt(2),m=h.charCodeAt(3),o=this.readData(4);return p===o[0]&&f===o[1]&&w===o[2]&&m===o[3]},_.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ne.exports=_},{"../utils":32,"./DataReader":18}],18:[function(X,ne,D){"use strict";var C=X("../utils");function _(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}_.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var f,w=0;for(this.checkOffset(p),f=this.index+p-1;f>=this.index;f--)w=(w<<8)+this.byteAt(f);return this.index+=p,w},readString:function(p){return C.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},ne.exports=_},{"../utils":32}],19:[function(X,ne,D){"use strict";var C=X("./Uint8ArrayReader");function _(h){C.call(this,h)}X("../utils").inherits(_,C),_.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ne.exports=_},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(X,ne,D){"use strict";var C=X("./DataReader");function _(h){C.call(this,h)}X("../utils").inherits(_,C),_.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},_.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},_.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},_.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ne.exports=_},{"../utils":32,"./DataReader":18}],21:[function(X,ne,D){"use strict";var C=X("./ArrayReader");function _(h){C.call(this,h)}X("../utils").inherits(_,C),_.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ne.exports=_},{"../utils":32,"./ArrayReader":17}],22:[function(X,ne,D){"use strict";var C=X("../utils"),_=X("../support"),h=X("./ArrayReader"),p=X("./StringReader"),f=X("./NodeBufferReader"),w=X("./Uint8ArrayReader");ne.exports=function(m){var o=C.getTypeOf(m);return C.checkSupport(o),o!=="string"||_.uint8array?o==="nodebuffer"?new f(m):_.uint8array?new w(C.transformTo("uint8array",m)):new h(C.transformTo("array",m)):new p(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(X,ne,D){"use strict";D.LOCAL_FILE_HEADER="PK",D.CENTRAL_FILE_HEADER="PK",D.CENTRAL_DIRECTORY_END="PK",D.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",D.ZIP64_CENTRAL_DIRECTORY_END="PK",D.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(X,ne,D){"use strict";var C=X("./GenericWorker"),_=X("../utils");function h(p){C.call(this,"ConvertWorker to "+p),this.destType=p}_.inherits(h,C),h.prototype.processChunk=function(p){this.push({data:_.transformTo(this.destType,p.data),meta:p.meta})},ne.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(X,ne,D){"use strict";var C=X("./GenericWorker"),_=X("../crc32");function h(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}X("../utils").inherits(h,C),h.prototype.processChunk=function(p){this.streamInfo.crc32=_(p.data,this.streamInfo.crc32||0),this.push(p)},ne.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(X,ne,D){"use strict";var C=X("../utils"),_=X("./GenericWorker");function h(p){_.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}C.inherits(h,_),h.prototype.processChunk=function(p){if(p){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+p.data.length}_.prototype.processChunk.call(this,p)},ne.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(X,ne,D){"use strict";var C=X("../utils"),_=X("./GenericWorker");function h(p){_.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(w){f.dataIsReady=!0,f.data=w,f.max=w&&w.length||0,f.type=C.getTypeOf(w),f.isPaused||f._tickAndRepeat()},function(w){f.error(w)})}C.inherits(h,_),h.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,f);break;case"uint8array":p=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":p=this.data.slice(this.index,f)}return this.index=f,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},ne.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(X,ne,D){"use strict";function C(_){this.name=_||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,p){return this._listeners[h].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,p){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,p)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var p=this;return h.on("data",function(f){p.processChunk(f)}),h.on("end",function(){p.end()}),h.on("error",function(f){p.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,p){return this.extraStreamInfo[h]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},ne.exports=C},{}],29:[function(X,ne,D){"use strict";var C=X("../utils"),_=X("./ConvertWorker"),h=X("./GenericWorker"),p=X("../base64"),f=X("../support"),w=X("../external"),m=null;if(f.nodestream)try{m=X("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function o(e,r){return new w.Promise(function(n,c){var t=[],d=e._internalType,y=e._outputType,E=e._mimeType;e.on("data",function(T,A){t.push(T),r&&r(A)}).on("error",function(T){t=[],c(T)}).on("end",function(){try{var T=function(A,P,O){switch(A){case"blob":return C.newBlob(C.transformTo("arraybuffer",P),O);case"base64":return p.encode(P);default:return C.transformTo(A,P)}}(y,function(A,P){var O,N=0,H=null,M=0;for(O=0;O<P.length;O++)M+=P[O].length;switch(A){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(H=new Uint8Array(M),O=0;O<P.length;O++)H.set(P[O],N),N+=P[O].length;return H;case"nodebuffer":return qe.concat(P);default:throw new Error("concat : unsupported type '"+A+"'")}}(d,t),E);n(T)}catch(A){c(A)}t=[]}).resume()})}function i(e,r,n){var c=r;switch(r){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=r,this._mimeType=n,C.checkSupport(c),this._worker=e.pipe(new _(c)),e.lock()}catch(t){this._worker=new h("error"),this._worker.error(t)}}i.prototype={accumulate:function(r){return o(this,r)},on:function(r,n){var c=this;return r==="data"?this._worker.on(r,function(t){n.call(c,t.data,t.meta)}):this._worker.on(r,function(){C.delay(n,arguments,c)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(r){if(C.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},r)}},ne.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(X,ne,D){"use strict";if(D.base64=!0,D.array=!0,D.string=!0,D.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",D.nodebuffer=typeof qe!="undefined",D.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")D.blob=!1;else{var C=new ArrayBuffer(0);try{D.blob=new Blob([C],{type:"application/zip"}).size===0}catch(h){try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);_.append(C),D.blob=_.getBlob("application/zip").size===0}catch(p){D.blob=!1}}}try{D.nodestream=!!X("readable-stream").Readable}catch(h){D.nodestream=!1}},{"readable-stream":16}],31:[function(X,ne,D){"use strict";for(var C=X("./utils"),_=X("./support"),h=X("./nodejsUtils"),p=X("./stream/GenericWorker"),f=new Array(256),w=0;w<256;w++)f[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;f[254]=f[254]=1;function m(){p.call(this,"utf-8 decode"),this.leftOver=null}function o(){p.call(this,"utf-8 encode")}D.utf8encode=function(i){return _.nodebuffer?h.newBufferFrom(i,"utf-8"):function(e){var r,n,c,t,d,y=e.length,E=0;for(t=0;t<y;t++)(64512&(n=e.charCodeAt(t)))==55296&&t+1<y&&(64512&(c=e.charCodeAt(t+1)))==56320&&(n=65536+(n-55296<<10)+(c-56320),t++),E+=n<128?1:n<2048?2:n<65536?3:4;for(r=_.uint8array?new Uint8Array(E):new Array(E),t=d=0;d<E;t++)(64512&(n=e.charCodeAt(t)))==55296&&t+1<y&&(64512&(c=e.charCodeAt(t+1)))==56320&&(n=65536+(n-55296<<10)+(c-56320),t++),n<128?r[d++]=n:(n<2048?r[d++]=192|n>>>6:(n<65536?r[d++]=224|n>>>12:(r[d++]=240|n>>>18,r[d++]=128|n>>>12&63),r[d++]=128|n>>>6&63),r[d++]=128|63&n);return r}(i)},D.utf8decode=function(i){return _.nodebuffer?C.transformTo("nodebuffer",i).toString("utf-8"):function(e){var r,n,c,t,d=e.length,y=new Array(2*d);for(r=n=0;r<d;)if((c=e[r++])<128)y[n++]=c;else if(4<(t=f[c]))y[n++]=65533,r+=t-1;else{for(c&=t===2?31:t===3?15:7;1<t&&r<d;)c=c<<6|63&e[r++],t--;1<t?y[n++]=65533:c<65536?y[n++]=c:(c-=65536,y[n++]=55296|c>>10&1023,y[n++]=56320|1023&c)}return y.length!==n&&(y.subarray?y=y.subarray(0,n):y.length=n),C.applyFromCharCode(y)}(i=C.transformTo(_.uint8array?"uint8array":"array",i))},C.inherits(m,p),m.prototype.processChunk=function(i){var e=C.transformTo(_.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(_.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=function(t,d){var y;for((d=d||t.length)>t.length&&(d=t.length),y=d-1;0<=y&&(192&t[y])==128;)y--;return y<0||y===0?d:y+f[t[y]]>d?y:d}(e),c=e;n!==e.length&&(_.uint8array?(c=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(c=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:D.utf8decode(c),meta:i.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:D.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},D.Utf8DecodeWorker=m,C.inherits(o,p),o.prototype.processChunk=function(i){this.push({data:D.utf8encode(i.data),meta:i.meta})},D.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(X,ne,D){"use strict";var C=X("./support"),_=X("./base64"),h=X("./nodejsUtils"),p=X("./external");function f(r){return r}function w(r,n){for(var c=0;c<r.length;++c)n[c]=255&r.charCodeAt(c);return n}X("setimmediate"),D.newBlob=function(r,n){D.checkSupport("blob");try{return new Blob([r],{type:n})}catch(t){try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(r),c.getBlob(n)}catch(d){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(n,c,t){var d=[],y=0,E=n.length;if(E<=t)return String.fromCharCode.apply(null,n);for(;y<E;)c==="array"||c==="nodebuffer"?d.push(String.fromCharCode.apply(null,n.slice(y,Math.min(y+t,E)))):d.push(String.fromCharCode.apply(null,n.subarray(y,Math.min(y+t,E)))),y+=t;return d.join("")},stringifyByChar:function(n){for(var c="",t=0;t<n.length;t++)c+=String.fromCharCode(n[t]);return c},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(r){return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch(r){return!1}}()}};function o(r){var n=65536,c=D.getTypeOf(r),t=!0;if(c==="uint8array"?t=m.applyCanBeUsed.uint8array:c==="nodebuffer"&&(t=m.applyCanBeUsed.nodebuffer),t)for(;1<n;)try{return m.stringifyByChunk(r,c,n)}catch(d){n=Math.floor(n/2)}return m.stringifyByChar(r)}function i(r,n){for(var c=0;c<r.length;c++)n[c]=r[c];return n}D.applyFromCharCode=o;var e={};e.string={string:f,array:function(n){return w(n,new Array(n.length))},arraybuffer:function(n){return e.string.uint8array(n).buffer},uint8array:function(n){return w(n,new Uint8Array(n.length))},nodebuffer:function(n){return w(n,h.allocBuffer(n.length))}},e.array={string:o,array:f,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return h.newBufferFrom(n)}},e.arraybuffer={string:function(n){return o(new Uint8Array(n))},array:function(n){return i(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:f,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return h.newBufferFrom(new Uint8Array(n))}},e.uint8array={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:f,nodebuffer:function(n){return h.newBufferFrom(n)}},e.nodebuffer={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return e.nodebuffer.uint8array(n).buffer},uint8array:function(n){return i(n,new Uint8Array(n.length))},nodebuffer:f},D.transformTo=function(r,n){if(n=n||"",!r)return n;D.checkSupport(r);var c=D.getTypeOf(n);return e[c][r](n)},D.resolve=function(r){for(var n=r.split("/"),c=[],t=0;t<n.length;t++){var d=n[t];d==="."||d===""&&t!==0&&t!==n.length-1||(d===".."?c.pop():c.push(d))}return c.join("/")},D.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":C.nodebuffer&&h.isBuffer(r)?"nodebuffer":C.uint8array&&r instanceof Uint8Array?"uint8array":C.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},D.checkSupport=function(r){if(!C[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},D.MAX_VALUE_16BITS=65535,D.MAX_VALUE_32BITS=-1,D.pretty=function(r){var n,c,t="";for(c=0;c<(r||"").length;c++)t+="\\x"+((n=r.charCodeAt(c))<16?"0":"")+n.toString(16).toUpperCase();return t},D.delay=function(r,n,c){setImmediate(function(){r.apply(c||null,n||[])})},D.inherits=function(r,n){function c(){}c.prototype=n.prototype,r.prototype=new c},D.extend=function(){var r,n,c={};for(r=0;r<arguments.length;r++)for(n in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],n)&&c[n]===void 0&&(c[n]=arguments[r][n]);return c},D.prepareContent=function(r,n,c,t,d){return p.Promise.resolve(n).then(function(y){return C.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader!="undefined"?new p.Promise(function(E,T){var A=new FileReader;A.onload=function(P){E(P.target.result)},A.onerror=function(P){T(P.target.error)},A.readAsArrayBuffer(y)}):y}).then(function(y){var E=D.getTypeOf(y);return E?(E==="arraybuffer"?y=D.transformTo("uint8array",y):E==="string"&&(d?y=_.decode(y):c&&t!==!0&&(y=function(T){return w(T,C.uint8array?new Uint8Array(T.length):new Array(T.length))}(y))),y):p.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(X,ne,D){"use strict";var C=X("./reader/readerFor"),_=X("./utils"),h=X("./signature"),p=X("./zipEntry"),f=X("./support");function w(m){this.files=[],this.loadOptions=m}w.prototype={checkSignature:function(o){if(!this.reader.readAndCheckSignature(o)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+_.pretty(i)+", expected "+_.pretty(o)+")")}},isSignature:function(o,i){var e=this.reader.index;this.reader.setIndex(o);var r=this.reader.readString(4)===i;return this.reader.setIndex(e),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var o=this.reader.readData(this.zipCommentLength),i=f.uint8array?"uint8array":"array",e=_.transformTo(i,o);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,i,e,r=this.zip64EndOfCentralSize-44;0<r;)o=this.reader.readInt(2),i=this.reader.readInt(4),e=this.reader.readData(i),this.zip64ExtensibleData[o]={id:o,length:i,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var o,i;for(o=0;o<this.files.length;o++)i=this.files[o],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var o;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(o=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(o);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var o=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(o<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(o);var i=o;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===_.MAX_VALUE_16BITS||this.diskWithCentralDirStart===_.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===_.MAX_VALUE_16BITS||this.centralDirRecords===_.MAX_VALUE_16BITS||this.centralDirSize===_.MAX_VALUE_32BITS||this.centralDirOffset===_.MAX_VALUE_32BITS){if(this.zip64=!0,(o=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(o),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var r=i-e;if(0<r)this.isSignature(i,h.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(o){this.reader=C(o)},load:function(o){this.prepareReader(o),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ne.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(X,ne,D){"use strict";var C=X("./reader/readerFor"),_=X("./utils"),h=X("./compressedObject"),p=X("./crc32"),f=X("./utf8"),w=X("./compressions"),m=X("./support");function o(i,e){this.options=i,this.loadOptions=e}o.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var r,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((r=function(c){for(var t in w)if(Object.prototype.hasOwnProperty.call(w,t)&&w[t].magic===c)return w[t];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+_.pretty(this.compressionMethod)+" unknown (inner file : "+_.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,r,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var r=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(r),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=C(this.extraFields[1].value);this.uncompressedSize===_.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===_.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===_.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===_.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var r,n,c,t=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),n=e.readInt(2),c=e.readData(n),this.extraFields[r]={id:r,length:n,value:c};e.setIndex(t)},handleUTF8:function(){var e=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var r=this.findExtraFieldUnicodePath();if(r!==null)this.fileNameStr=r;else{var n=_.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{var t=_.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(t)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var r=C(e.value);return r.readInt(1)!==1||p(this.fileName)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var r=C(e.value);return r.readInt(1)!==1||p(this.fileComment)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null}},ne.exports=o},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(X,ne,D){"use strict";function C(e,r,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=r,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var _=X("./stream/StreamHelper"),h=X("./stream/DataWorker"),p=X("./utf8"),f=X("./compressedObject"),w=X("./stream/GenericWorker");C.prototype={internalStream:function(r){var n=null,c="string";try{if(!r)throw new Error("No output type specified.");var t=(c=r.toLowerCase())==="string"||c==="text";c!=="binarystring"&&c!=="text"||(c="string"),n=this._decompressWorker();var d=!this._dataBinary;d&&!t&&(n=n.pipe(new p.Utf8EncodeWorker)),!d&&t&&(n=n.pipe(new p.Utf8DecodeWorker))}catch(y){(n=new w("error")).error(y)}return new _(n,c,"")},async:function(r,n){return this.internalStream(r).accumulate(n)},nodeStream:function(r,n){return this.internalStream(r||"nodebuffer").toNodejsStream(n)},_compressWorker:function(r,n){if(this._data instanceof f&&this._data.compression.magic===r.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new p.Utf8EncodeWorker)),f.createWorkerFrom(c,r,n)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof w?this._data:new h(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],o=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<m.length;i++)C.prototype[m[i]]=o;ne.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(X,ne,D){(function(C){"use strict";var _,h,p=C.MutationObserver||C.WebKitMutationObserver;if(p){var f=0,w=new p(e),m=C.document.createTextNode("");w.observe(m,{characterData:!0}),_=function(){m.data=f=++f%2}}else if(C.setImmediate||C.MessageChannel===void 0)_="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var r=C.document.createElement("script");r.onreadystatechange=function(){e(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},C.document.documentElement.appendChild(r)}:function(){setTimeout(e,0)};else{var o=new C.MessageChannel;o.port1.onmessage=e,_=function(){o.port2.postMessage(0)}}var i=[];function e(){var r,n;h=!0;for(var c=i.length;c;){for(n=i,i=[],r=-1;++r<c;)n[r]();c=i.length}h=!1}ne.exports=function(r){i.push(r)!==1||h||_()}}).call(this,typeof Ye!="undefined"?Ye:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(X,ne,D){"use strict";var C=X("immediate");function _(){}var h={},p=["REJECTED"],f=["FULFILLED"],w=["PENDING"];function m(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,c!==_&&r(this,c)}function o(c,t,d){this.promise=c,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof d=="function"&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function i(c,t,d){C(function(){var y;try{y=t(d)}catch(E){return h.reject(c,E)}y===c?h.reject(c,new TypeError("Cannot resolve promise with itself")):h.resolve(c,y)})}function e(c){var t=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof t=="function")return function(){t.apply(c,arguments)}}function r(c,t){var d=!1;function y(A){d||(d=!0,h.reject(c,A))}function E(A){d||(d=!0,h.resolve(c,A))}var T=n(function(){t(E,y)});T.status==="error"&&y(T.value)}function n(c,t){var d={};try{d.value=c(t),d.status="success"}catch(y){d.status="error",d.value=y}return d}(ne.exports=m).prototype.finally=function(c){if(typeof c!="function")return this;var t=this.constructor;return this.then(function(d){return t.resolve(c()).then(function(){return d})},function(d){return t.resolve(c()).then(function(){throw d})})},m.prototype.catch=function(c){return this.then(null,c)},m.prototype.then=function(c,t){if(typeof c!="function"&&this.state===f||typeof t!="function"&&this.state===p)return this;var d=new this.constructor(_);return this.state!==w?i(d,this.state===f?c:t,this.outcome):this.queue.push(new o(d,c,t)),d},o.prototype.callFulfilled=function(c){h.resolve(this.promise,c)},o.prototype.otherCallFulfilled=function(c){i(this.promise,this.onFulfilled,c)},o.prototype.callRejected=function(c){h.reject(this.promise,c)},o.prototype.otherCallRejected=function(c){i(this.promise,this.onRejected,c)},h.resolve=function(c,t){var d=n(e,t);if(d.status==="error")return h.reject(c,d.value);var y=d.value;if(y)r(c,y);else{c.state=f,c.outcome=t;for(var E=-1,T=c.queue.length;++E<T;)c.queue[E].callFulfilled(t)}return c},h.reject=function(c,t){c.state=p,c.outcome=t;for(var d=-1,y=c.queue.length;++d<y;)c.queue[d].callRejected(t);return c},m.resolve=function(c){return c instanceof this?c:h.resolve(new this(_),c)},m.reject=function(c){var t=new this(_);return h.reject(t,c)},m.all=function(c){var t=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=c.length,y=!1;if(!d)return this.resolve([]);for(var E=new Array(d),T=0,A=-1,P=new this(_);++A<d;)O(c[A],A);return P;function O(N,H){t.resolve(N).then(function(M){E[H]=M,++T!==d||y||(y=!0,h.resolve(P,E))},function(M){y||(y=!0,h.reject(P,M))})}},m.race=function(c){var t=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=c.length,y=!1;if(!d)return this.resolve([]);for(var E=-1,T=new this(_);++E<d;)A=c[E],t.resolve(A).then(function(P){y||(y=!0,h.resolve(T,P))},function(P){y||(y=!0,h.reject(T,P))});var A;return T}},{immediate:36}],38:[function(X,ne,D){"use strict";var C={};(0,X("./lib/utils/common").assign)(C,X("./lib/deflate"),X("./lib/inflate"),X("./lib/zlib/constants")),ne.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(X,ne,D){"use strict";var C=X("./zlib/deflate"),_=X("./utils/common"),h=X("./utils/strings"),p=X("./zlib/messages"),f=X("./zlib/zstream"),w=Object.prototype.toString,m=0,o=-1,i=0,e=8;function r(c){if(!(this instanceof r))return new r(c);this.options=_.assign({level:o,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},c||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var d=C.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(d!==m)throw new Error(p[d]);if(t.header&&C.deflateSetHeader(this.strm,t.header),t.dictionary){var y;if(y=typeof t.dictionary=="string"?h.string2buf(t.dictionary):w.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,(d=C.deflateSetDictionary(this.strm,y))!==m)throw new Error(p[d]);this._dict_set=!0}}function n(c,t){var d=new r(t);if(d.push(c,!0),d.err)throw d.msg||p[d.err];return d.result}r.prototype.push=function(c,t){var d,y,E=this.strm,T=this.options.chunkSize;if(this.ended)return!1;y=t===~~t?t:t===!0?4:0,typeof c=="string"?E.input=h.string2buf(c):w.call(c)==="[object ArrayBuffer]"?E.input=new Uint8Array(c):E.input=c,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new _.Buf8(T),E.next_out=0,E.avail_out=T),(d=C.deflate(E,y))!==1&&d!==m)return this.onEnd(d),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(_.shrinkBuf(E.output,E.next_out))):this.onData(_.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&d!==1);return y===4?(d=C.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===m):y!==2||(this.onEnd(m),!(E.avail_out=0))},r.prototype.onData=function(c){this.chunks.push(c)},r.prototype.onEnd=function(c){c===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},D.Deflate=r,D.deflate=n,D.deflateRaw=function(c,t){return(t=t||{}).raw=!0,n(c,t)},D.gzip=function(c,t){return(t=t||{}).gzip=!0,n(c,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(X,ne,D){"use strict";var C=X("./zlib/inflate"),_=X("./utils/common"),h=X("./utils/strings"),p=X("./zlib/constants"),f=X("./zlib/messages"),w=X("./zlib/zstream"),m=X("./zlib/gzheader"),o=Object.prototype.toString;function i(r){if(!(this instanceof i))return new i(r);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},r||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||r&&r.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&(15&n.windowBits)==0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var c=C.inflateInit2(this.strm,n.windowBits);if(c!==p.Z_OK)throw new Error(f[c]);this.header=new m,C.inflateGetHeader(this.strm,this.header)}function e(r,n){var c=new i(n);if(c.push(r,!0),c.err)throw c.msg||f[c.err];return c.result}i.prototype.push=function(r,n){var c,t,d,y,E,T,A=this.strm,P=this.options.chunkSize,O=this.options.dictionary,N=!1;if(this.ended)return!1;t=n===~~n?n:n===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof r=="string"?A.input=h.binstring2buf(r):o.call(r)==="[object ArrayBuffer]"?A.input=new Uint8Array(r):A.input=r,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new _.Buf8(P),A.next_out=0,A.avail_out=P),(c=C.inflate(A,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(T=typeof O=="string"?h.string2buf(O):o.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,c=C.inflateSetDictionary(this.strm,T)),c===p.Z_BUF_ERROR&&N===!0&&(c=p.Z_OK,N=!1),c!==p.Z_STREAM_END&&c!==p.Z_OK)return this.onEnd(c),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&c!==p.Z_STREAM_END&&(A.avail_in!==0||t!==p.Z_FINISH&&t!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(d=h.utf8border(A.output,A.next_out),y=A.next_out-d,E=h.buf2string(A.output,d),A.next_out=y,A.avail_out=P-y,y&&_.arraySet(A.output,A.output,d,y,0),this.onData(E)):this.onData(_.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(N=!0)}while((0<A.avail_in||A.avail_out===0)&&c!==p.Z_STREAM_END);return c===p.Z_STREAM_END&&(t=p.Z_FINISH),t===p.Z_FINISH?(c=C.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p.Z_OK):t!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(A.avail_out=0))},i.prototype.onData=function(r){this.chunks.push(r)},i.prototype.onEnd=function(r){r===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},D.Inflate=i,D.inflate=e,D.inflateRaw=function(r,n){return(n=n||{}).raw=!0,e(r,n)},D.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(X,ne,D){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";D.assign=function(p){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var w=f.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var m in w)w.hasOwnProperty(m)&&(p[m]=w[m])}}return p},D.shrinkBuf=function(p,f){return p.length===f?p:p.subarray?p.subarray(0,f):(p.length=f,p)};var _={arraySet:function(f,w,m,o,i){if(w.subarray&&f.subarray)f.set(w.subarray(m,m+o),i);else for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){var w,m,o,i,e,r;for(w=o=0,m=f.length;w<m;w++)o+=f[w].length;for(r=new Uint8Array(o),w=i=0,m=f.length;w<m;w++)e=f[w],r.set(e,i),i+=e.length;return r}},h={arraySet:function(f,w,m,o,i){for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){return[].concat.apply([],f)}};D.setTyped=function(p){p?(D.Buf8=Uint8Array,D.Buf16=Uint16Array,D.Buf32=Int32Array,D.assign(D,_)):(D.Buf8=Array,D.Buf16=Array,D.Buf32=Array,D.assign(D,h))},D.setTyped(C)},{}],42:[function(X,ne,D){"use strict";var C=X("./common"),_=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(m){_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(m){h=!1}for(var p=new C.Buf8(256),f=0;f<256;f++)p[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function w(m,o){if(o<65537&&(m.subarray&&h||!m.subarray&&_))return String.fromCharCode.apply(null,C.shrinkBuf(m,o));for(var i="",e=0;e<o;e++)i+=String.fromCharCode(m[e]);return i}p[254]=p[254]=1,D.string2buf=function(m){var o,i,e,r,n,c=m.length,t=0;for(r=0;r<c;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<c&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),t+=i<128?1:i<2048?2:i<65536?3:4;for(o=new C.Buf8(t),r=n=0;n<t;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<c&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),i<128?o[n++]=i:(i<2048?o[n++]=192|i>>>6:(i<65536?o[n++]=224|i>>>12:(o[n++]=240|i>>>18,o[n++]=128|i>>>12&63),o[n++]=128|i>>>6&63),o[n++]=128|63&i);return o},D.buf2binstring=function(m){return w(m,m.length)},D.binstring2buf=function(m){for(var o=new C.Buf8(m.length),i=0,e=o.length;i<e;i++)o[i]=m.charCodeAt(i);return o},D.buf2string=function(m,o){var i,e,r,n,c=o||m.length,t=new Array(2*c);for(i=e=0;i<c;)if((r=m[i++])<128)t[e++]=r;else if(4<(n=p[r]))t[e++]=65533,i+=n-1;else{for(r&=n===2?31:n===3?15:7;1<n&&i<c;)r=r<<6|63&m[i++],n--;1<n?t[e++]=65533:r<65536?t[e++]=r:(r-=65536,t[e++]=55296|r>>10&1023,t[e++]=56320|1023&r)}return w(t,e)},D.utf8border=function(m,o){var i;for((o=o||m.length)>m.length&&(o=m.length),i=o-1;0<=i&&(192&m[i])==128;)i--;return i<0||i===0?o:i+p[m[i]]>o?i:o}},{"./common":41}],43:[function(X,ne,D){"use strict";ne.exports=function(C,_,h,p){for(var f=65535&C|0,w=C>>>16&65535|0,m=0;h!==0;){for(h-=m=2e3<h?2e3:h;w=w+(f=f+_[p++]|0)|0,--m;);f%=65521,w%=65521}return f|w<<16|0}},{}],44:[function(X,ne,D){"use strict";ne.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(X,ne,D){"use strict";var C=function(){for(var _,h=[],p=0;p<256;p++){_=p;for(var f=0;f<8;f++)_=1&_?3988292384^_>>>1:_>>>1;h[p]=_}return h}();ne.exports=function(_,h,p,f){var w=C,m=f+p;_^=-1;for(var o=f;o<m;o++)_=_>>>8^w[255&(_^h[o])];return-1^_}},{}],46:[function(X,ne,D){"use strict";var C,_=X("../utils/common"),h=X("./trees"),p=X("./adler32"),f=X("./crc32"),w=X("./messages"),m=0,o=4,i=0,e=-2,r=-1,n=4,c=2,t=8,d=9,y=286,E=30,T=19,A=2*y+1,P=15,O=3,N=258,H=N+O+1,M=42,Z=113,B=1,te=2,ee=3,V=4;function $(z,ge){return z.msg=w[ge],ge}function F(z){return(z<<1)-(4<z?9:0)}function G(z){for(var ge=z.length;0<=--ge;)z[ge]=0}function q(z){var ge=z.state,K=ge.pending;K>z.avail_out&&(K=z.avail_out),K!==0&&(_.arraySet(z.output,ge.pending_buf,ge.pending_out,K,z.next_out),z.next_out+=K,ge.pending_out+=K,z.total_out+=K,z.avail_out-=K,ge.pending-=K,ge.pending===0&&(ge.pending_out=0))}function L(z,ge){h._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,ge),z.block_start=z.strstart,q(z.strm)}function J(z,ge){z.pending_buf[z.pending++]=ge}function ce(z,ge){z.pending_buf[z.pending++]=ge>>>8&255,z.pending_buf[z.pending++]=255&ge}function se(z,ge){var K,k,I=z.max_chain_length,W=z.strstart,re=z.prev_length,Y=z.nice_match,ae=z.strstart>z.w_size-H?z.strstart-(z.w_size-H):0,Ce=z.window,he=z.w_mask,Oe=z.prev,Ve=z.strstart+N,Ze=Ce[W+re-1],et=Ce[W+re];z.prev_length>=z.good_match&&(I>>=2),Y>z.lookahead&&(Y=z.lookahead);do if(Ce[(K=ge)+re]===et&&Ce[K+re-1]===Ze&&Ce[K]===Ce[W]&&Ce[++K]===Ce[W+1]){W+=2,K++;do;while(Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&Ce[++W]===Ce[++K]&&W<Ve);if(k=N-(Ve-W),W=Ve-N,re<k){if(z.match_start=ge,Y<=(re=k))break;Ze=Ce[W+re-1],et=Ce[W+re]}}while((ge=Oe[ge&he])>ae&&--I!=0);return re<=z.lookahead?re:z.lookahead}function ve(z){var ge,K,k,I,W,re,Y,ae,Ce,he,Oe=z.w_size;do{if(I=z.window_size-z.lookahead-z.strstart,z.strstart>=Oe+(Oe-H)){for(_.arraySet(z.window,z.window,Oe,Oe,0),z.match_start-=Oe,z.strstart-=Oe,z.block_start-=Oe,ge=K=z.hash_size;k=z.head[--ge],z.head[ge]=Oe<=k?k-Oe:0,--K;);for(ge=K=Oe;k=z.prev[--ge],z.prev[ge]=Oe<=k?k-Oe:0,--K;);I+=Oe}if(z.strm.avail_in===0)break;if(re=z.strm,Y=z.window,ae=z.strstart+z.lookahead,Ce=I,he=void 0,he=re.avail_in,Ce<he&&(he=Ce),K=he===0?0:(re.avail_in-=he,_.arraySet(Y,re.input,re.next_in,he,ae),re.state.wrap===1?re.adler=p(re.adler,Y,he,ae):re.state.wrap===2&&(re.adler=f(re.adler,Y,he,ae)),re.next_in+=he,re.total_in+=he,he),z.lookahead+=K,z.lookahead+z.insert>=O)for(W=z.strstart-z.insert,z.ins_h=z.window[W],z.ins_h=(z.ins_h<<z.hash_shift^z.window[W+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[W+O-1])&z.hash_mask,z.prev[W&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=W,W++,z.insert--,!(z.lookahead+z.insert<O)););}while(z.lookahead<H&&z.strm.avail_in!==0)}function ie(z,ge){for(var K,k;;){if(z.lookahead<H){if(ve(z),z.lookahead<H&&ge===m)return B;if(z.lookahead===0)break}if(K=0,z.lookahead>=O&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,K=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),K!==0&&z.strstart-K<=z.w_size-H&&(z.match_length=se(z,K)),z.match_length>=O)if(k=h._tr_tally(z,z.strstart-z.match_start,z.match_length-O),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=O){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,K=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else k=h._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(k&&(L(z,!1),z.strm.avail_out===0))return B}return z.insert=z.strstart<O-1?z.strstart:O-1,ge===o?(L(z,!0),z.strm.avail_out===0?ee:V):z.last_lit&&(L(z,!1),z.strm.avail_out===0)?B:te}function oe(z,ge){for(var K,k,I;;){if(z.lookahead<H){if(ve(z),z.lookahead<H&&ge===m)return B;if(z.lookahead===0)break}if(K=0,z.lookahead>=O&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,K=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=O-1,K!==0&&z.prev_length<z.max_lazy_match&&z.strstart-K<=z.w_size-H&&(z.match_length=se(z,K),z.match_length<=5&&(z.strategy===1||z.match_length===O&&4096<z.strstart-z.match_start)&&(z.match_length=O-1)),z.prev_length>=O&&z.match_length<=z.prev_length){for(I=z.strstart+z.lookahead-O,k=h._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-O),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=I&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,K=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=O-1,z.strstart++,k&&(L(z,!1),z.strm.avail_out===0))return B}else if(z.match_available){if((k=h._tr_tally(z,0,z.window[z.strstart-1]))&&L(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return B}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(k=h._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<O-1?z.strstart:O-1,ge===o?(L(z,!0),z.strm.avail_out===0?ee:V):z.last_lit&&(L(z,!1),z.strm.avail_out===0)?B:te}function pe(z,ge,K,k,I){this.good_length=z,this.max_lazy=ge,this.nice_length=K,this.max_chain=k,this.func=I}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=t,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(2*A),this.dyn_dtree=new _.Buf16(2*(2*E+1)),this.bl_tree=new _.Buf16(2*(2*T+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(P+1),this.heap=new _.Buf16(2*y+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*y+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(z){var ge;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=c,(ge=z.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?M:Z,z.adler=ge.wrap===2?0:1,ge.last_flush=m,h._tr_init(ge),i):$(z,e)}function Pe(z){var ge=de(z);return ge===i&&function(K){K.window_size=2*K.w_size,G(K.head),K.max_lazy_match=C[K.level].max_lazy,K.good_match=C[K.level].good_length,K.nice_match=C[K.level].nice_length,K.max_chain_length=C[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=O-1,K.match_available=0,K.ins_h=0}(z.state),ge}function je(z,ge,K,k,I,W){if(!z)return e;var re=1;if(ge===r&&(ge=6),k<0?(re=0,k=-k):15<k&&(re=2,k-=16),I<1||d<I||K!==t||k<8||15<k||ge<0||9<ge||W<0||n<W)return $(z,e);k===8&&(k=9);var Y=new be;return(z.state=Y).strm=z,Y.wrap=re,Y.gzhead=null,Y.w_bits=k,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=I+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+O-1)/O),Y.window=new _.Buf8(2*Y.w_size),Y.head=new _.Buf16(Y.hash_size),Y.prev=new _.Buf16(Y.w_size),Y.lit_bufsize=1<<I+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new _.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=ge,Y.strategy=W,Y.method=K,Pe(z)}C=[new pe(0,0,0,0,function(z,ge){var K=65535;for(K>z.pending_buf_size-5&&(K=z.pending_buf_size-5);;){if(z.lookahead<=1){if(ve(z),z.lookahead===0&&ge===m)return B;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var k=z.block_start+K;if((z.strstart===0||z.strstart>=k)&&(z.lookahead=z.strstart-k,z.strstart=k,L(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-H&&(L(z,!1),z.strm.avail_out===0))return B}return z.insert=0,ge===o?(L(z,!0),z.strm.avail_out===0?ee:V):(z.strstart>z.block_start&&(L(z,!1),z.strm.avail_out),B)}),new pe(4,4,8,4,ie),new pe(4,5,16,8,ie),new pe(4,6,32,32,ie),new pe(4,4,16,16,oe),new pe(8,16,32,32,oe),new pe(8,16,128,128,oe),new pe(8,32,128,256,oe),new pe(32,128,258,1024,oe),new pe(32,258,258,4096,oe)],D.deflateInit=function(z,ge){return je(z,ge,t,15,8,0)},D.deflateInit2=je,D.deflateReset=Pe,D.deflateResetKeep=de,D.deflateSetHeader=function(z,ge){return z&&z.state?z.state.wrap!==2?e:(z.state.gzhead=ge,i):e},D.deflate=function(z,ge){var K,k,I,W;if(!z||!z.state||5<ge||ge<0)return z?$(z,e):e;if(k=z.state,!z.output||!z.input&&z.avail_in!==0||k.status===666&&ge!==o)return $(z,z.avail_out===0?-5:e);if(k.strm=z,K=k.last_flush,k.last_flush=ge,k.status===M)if(k.wrap===2)z.adler=0,J(k,31),J(k,139),J(k,8),k.gzhead?(J(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),J(k,255&k.gzhead.time),J(k,k.gzhead.time>>8&255),J(k,k.gzhead.time>>16&255),J(k,k.gzhead.time>>24&255),J(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),J(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(J(k,255&k.gzhead.extra.length),J(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(z.adler=f(z.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(J(k,0),J(k,0),J(k,0),J(k,0),J(k,0),J(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),J(k,3),k.status=Z);else{var re=t+(k.w_bits-8<<4)<<8;re|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(re|=32),re+=31-re%31,k.status=Z,ce(k,re),k.strstart!==0&&(ce(k,z.adler>>>16),ce(k,65535&z.adler)),z.adler=1}if(k.status===69)if(k.gzhead.extra){for(I=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),q(z),I=k.pending,k.pending!==k.pending_buf_size));)J(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),q(z),I=k.pending,k.pending===k.pending_buf_size)){W=1;break}W=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,J(k,W)}while(W!==0);k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),W===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),q(z),I=k.pending,k.pending===k.pending_buf_size)){W=1;break}W=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,J(k,W)}while(W!==0);k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),W===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&q(z),k.pending+2<=k.pending_buf_size&&(J(k,255&z.adler),J(k,z.adler>>8&255),z.adler=0,k.status=Z)):k.status=Z),k.pending!==0){if(q(z),z.avail_out===0)return k.last_flush=-1,i}else if(z.avail_in===0&&F(ge)<=F(K)&&ge!==o)return $(z,-5);if(k.status===666&&z.avail_in!==0)return $(z,-5);if(z.avail_in!==0||k.lookahead!==0||ge!==m&&k.status!==666){var Y=k.strategy===2?function(ae,Ce){for(var he;;){if(ae.lookahead===0&&(ve(ae),ae.lookahead===0)){if(Ce===m)return B;break}if(ae.match_length=0,he=h._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,he&&(L(ae,!1),ae.strm.avail_out===0))return B}return ae.insert=0,Ce===o?(L(ae,!0),ae.strm.avail_out===0?ee:V):ae.last_lit&&(L(ae,!1),ae.strm.avail_out===0)?B:te}(k,ge):k.strategy===3?function(ae,Ce){for(var he,Oe,Ve,Ze,et=ae.window;;){if(ae.lookahead<=N){if(ve(ae),ae.lookahead<=N&&Ce===m)return B;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=O&&0<ae.strstart&&(Oe=et[Ve=ae.strstart-1])===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]){Ze=ae.strstart+N;do;while(Oe===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]&&Oe===et[++Ve]&&Ve<Ze);ae.match_length=N-(Ze-Ve),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=O?(he=h._tr_tally(ae,1,ae.match_length-O),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(he=h._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),he&&(L(ae,!1),ae.strm.avail_out===0))return B}return ae.insert=0,Ce===o?(L(ae,!0),ae.strm.avail_out===0?ee:V):ae.last_lit&&(L(ae,!1),ae.strm.avail_out===0)?B:te}(k,ge):C[k.level].func(k,ge);if(Y!==ee&&Y!==V||(k.status=666),Y===B||Y===ee)return z.avail_out===0&&(k.last_flush=-1),i;if(Y===te&&(ge===1?h._tr_align(k):ge!==5&&(h._tr_stored_block(k,0,0,!1),ge===3&&(G(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),q(z),z.avail_out===0))return k.last_flush=-1,i}return ge!==o?i:k.wrap<=0?1:(k.wrap===2?(J(k,255&z.adler),J(k,z.adler>>8&255),J(k,z.adler>>16&255),J(k,z.adler>>24&255),J(k,255&z.total_in),J(k,z.total_in>>8&255),J(k,z.total_in>>16&255),J(k,z.total_in>>24&255)):(ce(k,z.adler>>>16),ce(k,65535&z.adler)),q(z),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?i:1)},D.deflateEnd=function(z){var ge;return z&&z.state?(ge=z.state.status)!==M&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==Z&&ge!==666?$(z,e):(z.state=null,ge===Z?$(z,-3):i):e},D.deflateSetDictionary=function(z,ge){var K,k,I,W,re,Y,ae,Ce,he=ge.length;if(!z||!z.state||(W=(K=z.state).wrap)===2||W===1&&K.status!==M||K.lookahead)return e;for(W===1&&(z.adler=p(z.adler,ge,he,0)),K.wrap=0,he>=K.w_size&&(W===0&&(G(K.head),K.strstart=0,K.block_start=0,K.insert=0),Ce=new _.Buf8(K.w_size),_.arraySet(Ce,ge,he-K.w_size,K.w_size,0),ge=Ce,he=K.w_size),re=z.avail_in,Y=z.next_in,ae=z.input,z.avail_in=he,z.next_in=0,z.input=ge,ve(K);K.lookahead>=O;){for(k=K.strstart,I=K.lookahead-(O-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[k+O-1])&K.hash_mask,K.prev[k&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=k,k++,--I;);K.strstart=k,K.lookahead=O-1,ve(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=O-1,K.match_available=0,z.next_in=Y,z.input=ae,z.avail_in=re,K.wrap=W,i},D.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(X,ne,D){"use strict";ne.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(X,ne,D){"use strict";ne.exports=function(C,_){var h,p,f,w,m,o,i,e,r,n,c,t,d,y,E,T,A,P,O,N,H,M,Z,B,te;h=C.state,p=C.next_in,B=C.input,f=p+(C.avail_in-5),w=C.next_out,te=C.output,m=w-(_-C.avail_out),o=w+(C.avail_out-257),i=h.dmax,e=h.wsize,r=h.whave,n=h.wnext,c=h.window,t=h.hold,d=h.bits,y=h.lencode,E=h.distcode,T=(1<<h.lenbits)-1,A=(1<<h.distbits)-1;e:do{d<15&&(t+=B[p++]<<d,d+=8,t+=B[p++]<<d,d+=8),P=y[t&T];t:for(;;){if(t>>>=O=P>>>24,d-=O,(O=P>>>16&255)==0)te[w++]=65535&P;else{if(!(16&O)){if((64&O)==0){P=y[(65535&P)+(t&(1<<O)-1)];continue t}if(32&O){h.mode=12;break e}C.msg="invalid literal/length code",h.mode=30;break e}N=65535&P,(O&=15)&&(d<O&&(t+=B[p++]<<d,d+=8),N+=t&(1<<O)-1,t>>>=O,d-=O),d<15&&(t+=B[p++]<<d,d+=8,t+=B[p++]<<d,d+=8),P=E[t&A];r:for(;;){if(t>>>=O=P>>>24,d-=O,!(16&(O=P>>>16&255))){if((64&O)==0){P=E[(65535&P)+(t&(1<<O)-1)];continue r}C.msg="invalid distance code",h.mode=30;break e}if(H=65535&P,d<(O&=15)&&(t+=B[p++]<<d,(d+=8)<O&&(t+=B[p++]<<d,d+=8)),i<(H+=t&(1<<O)-1)){C.msg="invalid distance too far back",h.mode=30;break e}if(t>>>=O,d-=O,(O=w-m)<H){if(r<(O=H-O)&&h.sane){C.msg="invalid distance too far back",h.mode=30;break e}if(Z=c,(M=0)===n){if(M+=e-O,O<N){for(N-=O;te[w++]=c[M++],--O;);M=w-H,Z=te}}else if(n<O){if(M+=e+n-O,(O-=n)<N){for(N-=O;te[w++]=c[M++],--O;);if(M=0,n<N){for(N-=O=n;te[w++]=c[M++],--O;);M=w-H,Z=te}}}else if(M+=n-O,O<N){for(N-=O;te[w++]=c[M++],--O;);M=w-H,Z=te}for(;2<N;)te[w++]=Z[M++],te[w++]=Z[M++],te[w++]=Z[M++],N-=3;N&&(te[w++]=Z[M++],1<N&&(te[w++]=Z[M++]))}else{for(M=w-H;te[w++]=te[M++],te[w++]=te[M++],te[w++]=te[M++],2<(N-=3););N&&(te[w++]=te[M++],1<N&&(te[w++]=te[M++]))}break}}break}}while(p<f&&w<o);p-=N=d>>3,t&=(1<<(d-=N<<3))-1,C.next_in=p,C.next_out=w,C.avail_in=p<f?f-p+5:5-(p-f),C.avail_out=w<o?o-w+257:257-(w-o),h.hold=t,h.bits=d}},{}],49:[function(X,ne,D){"use strict";var C=X("../utils/common"),_=X("./adler32"),h=X("./crc32"),p=X("./inffast"),f=X("./inftrees"),w=1,m=2,o=0,i=-2,e=1,r=852,n=592;function c(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function t(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(M){var Z;return M&&M.state?(Z=M.state,M.total_in=M.total_out=Z.total=0,M.msg="",Z.wrap&&(M.adler=1&Z.wrap),Z.mode=e,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new C.Buf32(r),Z.distcode=Z.distdyn=new C.Buf32(n),Z.sane=1,Z.back=-1,o):i}function y(M){var Z;return M&&M.state?((Z=M.state).wsize=0,Z.whave=0,Z.wnext=0,d(M)):i}function E(M,Z){var B,te;return M&&M.state?(te=M.state,Z<0?(B=0,Z=-Z):(B=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?i:(te.window!==null&&te.wbits!==Z&&(te.window=null),te.wrap=B,te.wbits=Z,y(M))):i}function T(M,Z){var B,te;return M?(te=new t,(M.state=te).window=null,(B=E(M,Z))!==o&&(M.state=null),B):i}var A,P,O=!0;function N(M){if(O){var Z;for(A=new C.Buf32(512),P=new C.Buf32(32),Z=0;Z<144;)M.lens[Z++]=8;for(;Z<256;)M.lens[Z++]=9;for(;Z<280;)M.lens[Z++]=7;for(;Z<288;)M.lens[Z++]=8;for(f(w,M.lens,0,288,A,0,M.work,{bits:9}),Z=0;Z<32;)M.lens[Z++]=5;f(m,M.lens,0,32,P,0,M.work,{bits:5}),O=!1}M.lencode=A,M.lenbits=9,M.distcode=P,M.distbits=5}function H(M,Z,B,te){var ee,V=M.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new C.Buf8(V.wsize)),te>=V.wsize?(C.arraySet(V.window,Z,B-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(te<(ee=V.wsize-V.wnext)&&(ee=te),C.arraySet(V.window,Z,B-te,ee,V.wnext),(te-=ee)?(C.arraySet(V.window,Z,B-te,te,0),V.wnext=te,V.whave=V.wsize):(V.wnext+=ee,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=ee))),0}D.inflateReset=y,D.inflateReset2=E,D.inflateResetKeep=d,D.inflateInit=function(M){return T(M,15)},D.inflateInit2=T,D.inflate=function(M,Z){var B,te,ee,V,$,F,G,q,L,J,ce,se,ve,ie,oe,pe,be,de,Pe,je,z,ge,K,k,I=0,W=new C.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return i;(B=M.state).mode===12&&(B.mode=13),$=M.next_out,ee=M.output,G=M.avail_out,V=M.next_in,te=M.input,F=M.avail_in,q=B.hold,L=B.bits,J=F,ce=G,ge=o;e:for(;;)switch(B.mode){case e:if(B.wrap===0){B.mode=13;break}for(;L<16;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(2&B.wrap&&q===35615){W[B.check=0]=255&q,W[1]=q>>>8&255,B.check=h(B.check,W,2,0),L=q=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&q)<<8)+(q>>8))%31){M.msg="incorrect header check",B.mode=30;break}if((15&q)!=8){M.msg="unknown compression method",B.mode=30;break}if(L-=4,z=8+(15&(q>>>=4)),B.wbits===0)B.wbits=z;else if(z>B.wbits){M.msg="invalid window size",B.mode=30;break}B.dmax=1<<z,M.adler=B.check=1,B.mode=512&q?10:12,L=q=0;break;case 2:for(;L<16;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(B.flags=q,(255&B.flags)!=8){M.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){M.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=q>>8&1),512&B.flags&&(W[0]=255&q,W[1]=q>>>8&255,B.check=h(B.check,W,2,0)),L=q=0,B.mode=3;case 3:for(;L<32;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}B.head&&(B.head.time=q),512&B.flags&&(W[0]=255&q,W[1]=q>>>8&255,W[2]=q>>>16&255,W[3]=q>>>24&255,B.check=h(B.check,W,4,0)),L=q=0,B.mode=4;case 4:for(;L<16;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}B.head&&(B.head.xflags=255&q,B.head.os=q>>8),512&B.flags&&(W[0]=255&q,W[1]=q>>>8&255,B.check=h(B.check,W,2,0)),L=q=0,B.mode=5;case 5:if(1024&B.flags){for(;L<16;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}B.length=q,B.head&&(B.head.extra_len=q),512&B.flags&&(W[0]=255&q,W[1]=q>>>8&255,B.check=h(B.check,W,2,0)),L=q=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(F<(se=B.length)&&(se=F),se&&(B.head&&(z=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),C.arraySet(B.head.extra,te,V,se,z)),512&B.flags&&(B.check=h(B.check,te,se,V)),F-=se,V+=se,B.length-=se),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(F===0)break e;for(se=0;z=te[V+se++],B.head&&z&&B.length<65536&&(B.head.name+=String.fromCharCode(z)),z&&se<F;);if(512&B.flags&&(B.check=h(B.check,te,se,V)),F-=se,V+=se,z)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(F===0)break e;for(se=0;z=te[V+se++],B.head&&z&&B.length<65536&&(B.head.comment+=String.fromCharCode(z)),z&&se<F;);if(512&B.flags&&(B.check=h(B.check,te,se,V)),F-=se,V+=se,z)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;L<16;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(q!==(65535&B.check)){M.msg="header crc mismatch",B.mode=30;break}L=q=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),M.adler=B.check=0,B.mode=12;break;case 10:for(;L<32;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}M.adler=B.check=c(q),L=q=0,B.mode=11;case 11:if(B.havedict===0)return M.next_out=$,M.avail_out=G,M.next_in=V,M.avail_in=F,B.hold=q,B.bits=L,2;M.adler=B.check=1,B.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(B.last){q>>>=7&L,L-=7&L,B.mode=27;break}for(;L<3;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}switch(B.last=1&q,L-=1,3&(q>>>=1)){case 0:B.mode=14;break;case 1:if(N(B),B.mode=20,Z!==6)break;q>>>=2,L-=2;break e;case 2:B.mode=17;break;case 3:M.msg="invalid block type",B.mode=30}q>>>=2,L-=2;break;case 14:for(q>>>=7&L,L-=7&L;L<32;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if((65535&q)!=(q>>>16^65535)){M.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&q,L=q=0,B.mode=15,Z===6)break e;case 15:B.mode=16;case 16:if(se=B.length){if(F<se&&(se=F),G<se&&(se=G),se===0)break e;C.arraySet(ee,te,V,se,$),F-=se,V+=se,G-=se,$+=se,B.length-=se;break}B.mode=12;break;case 17:for(;L<14;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(B.nlen=257+(31&q),q>>>=5,L-=5,B.ndist=1+(31&q),q>>>=5,L-=5,B.ncode=4+(15&q),q>>>=4,L-=4,286<B.nlen||30<B.ndist){M.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;L<3;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}B.lens[re[B.have++]]=7&q,q>>>=3,L-=3}for(;B.have<19;)B.lens[re[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,K={bits:B.lenbits},ge=f(0,B.lens,0,19,B.lencode,0,B.work,K),B.lenbits=K.bits,ge){M.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;pe=(I=B.lencode[q&(1<<B.lenbits)-1])>>>16&255,be=65535&I,!((oe=I>>>24)<=L);){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(be<16)q>>>=oe,L-=oe,B.lens[B.have++]=be;else{if(be===16){for(k=oe+2;L<k;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(q>>>=oe,L-=oe,B.have===0){M.msg="invalid bit length repeat",B.mode=30;break}z=B.lens[B.have-1],se=3+(3&q),q>>>=2,L-=2}else if(be===17){for(k=oe+3;L<k;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}L-=oe,z=0,se=3+(7&(q>>>=oe)),q>>>=3,L-=3}else{for(k=oe+7;L<k;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}L-=oe,z=0,se=11+(127&(q>>>=oe)),q>>>=7,L-=7}if(B.have+se>B.nlen+B.ndist){M.msg="invalid bit length repeat",B.mode=30;break}for(;se--;)B.lens[B.have++]=z}}if(B.mode===30)break;if(B.lens[256]===0){M.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,K={bits:B.lenbits},ge=f(w,B.lens,0,B.nlen,B.lencode,0,B.work,K),B.lenbits=K.bits,ge){M.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,K={bits:B.distbits},ge=f(m,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,K),B.distbits=K.bits,ge){M.msg="invalid distances set",B.mode=30;break}if(B.mode=20,Z===6)break e;case 20:B.mode=21;case 21:if(6<=F&&258<=G){M.next_out=$,M.avail_out=G,M.next_in=V,M.avail_in=F,B.hold=q,B.bits=L,p(M,ce),$=M.next_out,ee=M.output,G=M.avail_out,V=M.next_in,te=M.input,F=M.avail_in,q=B.hold,L=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;pe=(I=B.lencode[q&(1<<B.lenbits)-1])>>>16&255,be=65535&I,!((oe=I>>>24)<=L);){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(pe&&(240&pe)==0){for(de=oe,Pe=pe,je=be;pe=(I=B.lencode[je+((q&(1<<de+Pe)-1)>>de)])>>>16&255,be=65535&I,!(de+(oe=I>>>24)<=L);){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}q>>>=de,L-=de,B.back+=de}if(q>>>=oe,L-=oe,B.back+=oe,B.length=be,pe===0){B.mode=26;break}if(32&pe){B.back=-1,B.mode=12;break}if(64&pe){M.msg="invalid literal/length code",B.mode=30;break}B.extra=15&pe,B.mode=22;case 22:if(B.extra){for(k=B.extra;L<k;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}B.length+=q&(1<<B.extra)-1,q>>>=B.extra,L-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;pe=(I=B.distcode[q&(1<<B.distbits)-1])>>>16&255,be=65535&I,!((oe=I>>>24)<=L);){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if((240&pe)==0){for(de=oe,Pe=pe,je=be;pe=(I=B.distcode[je+((q&(1<<de+Pe)-1)>>de)])>>>16&255,be=65535&I,!(de+(oe=I>>>24)<=L);){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}q>>>=de,L-=de,B.back+=de}if(q>>>=oe,L-=oe,B.back+=oe,64&pe){M.msg="invalid distance code",B.mode=30;break}B.offset=be,B.extra=15&pe,B.mode=24;case 24:if(B.extra){for(k=B.extra;L<k;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}B.offset+=q&(1<<B.extra)-1,q>>>=B.extra,L-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){M.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(G===0)break e;if(se=ce-G,B.offset>se){if((se=B.offset-se)>B.whave&&B.sane){M.msg="invalid distance too far back",B.mode=30;break}ve=se>B.wnext?(se-=B.wnext,B.wsize-se):B.wnext-se,se>B.length&&(se=B.length),ie=B.window}else ie=ee,ve=$-B.offset,se=B.length;for(G<se&&(se=G),G-=se,B.length-=se;ee[$++]=ie[ve++],--se;);B.length===0&&(B.mode=21);break;case 26:if(G===0)break e;ee[$++]=B.length,G--,B.mode=21;break;case 27:if(B.wrap){for(;L<32;){if(F===0)break e;F--,q|=te[V++]<<L,L+=8}if(ce-=G,M.total_out+=ce,B.total+=ce,ce&&(M.adler=B.check=B.flags?h(B.check,ee,ce,$-ce):_(B.check,ee,ce,$-ce)),ce=G,(B.flags?q:c(q))!==B.check){M.msg="incorrect data check",B.mode=30;break}L=q=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;L<32;){if(F===0)break e;F--,q+=te[V++]<<L,L+=8}if(q!==(4294967295&B.total)){M.msg="incorrect length check",B.mode=30;break}L=q=0}B.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return i}return M.next_out=$,M.avail_out=G,M.next_in=V,M.avail_in=F,B.hold=q,B.bits=L,(B.wsize||ce!==M.avail_out&&B.mode<30&&(B.mode<27||Z!==4))&&H(M,M.output,M.next_out,ce-M.avail_out)?(B.mode=31,-4):(J-=M.avail_in,ce-=M.avail_out,M.total_in+=J,M.total_out+=ce,B.total+=ce,B.wrap&&ce&&(M.adler=B.check=B.flags?h(B.check,ee,ce,M.next_out-ce):_(B.check,ee,ce,M.next_out-ce)),M.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(J==0&&ce===0||Z===4)&&ge===o&&(ge=-5),ge)},D.inflateEnd=function(M){if(!M||!M.state)return i;var Z=M.state;return Z.window&&(Z.window=null),M.state=null,o},D.inflateGetHeader=function(M,Z){var B;return M&&M.state?(2&(B=M.state).wrap)==0?i:((B.head=Z).done=!1,o):i},D.inflateSetDictionary=function(M,Z){var B,te=Z.length;return M&&M.state?(B=M.state).wrap!==0&&B.mode!==11?i:B.mode===11&&_(1,Z,te,0)!==B.check?-3:H(M,Z,te,te)?(B.mode=31,-4):(B.havedict=1,o):i},D.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(X,ne,D){"use strict";var C=X("../utils/common"),_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ne.exports=function(w,m,o,i,e,r,n,c){var t,d,y,E,T,A,P,O,N,H=c.bits,M=0,Z=0,B=0,te=0,ee=0,V=0,$=0,F=0,G=0,q=0,L=null,J=0,ce=new C.Buf16(16),se=new C.Buf16(16),ve=null,ie=0;for(M=0;M<=15;M++)ce[M]=0;for(Z=0;Z<i;Z++)ce[m[o+Z]]++;for(ee=H,te=15;1<=te&&ce[te]===0;te--);if(te<ee&&(ee=te),te===0)return e[r++]=20971520,e[r++]=20971520,c.bits=1,0;for(B=1;B<te&&ce[B]===0;B++);for(ee<B&&(ee=B),M=F=1;M<=15;M++)if(F<<=1,(F-=ce[M])<0)return-1;if(0<F&&(w===0||te!==1))return-1;for(se[1]=0,M=1;M<15;M++)se[M+1]=se[M]+ce[M];for(Z=0;Z<i;Z++)m[o+Z]!==0&&(n[se[m[o+Z]]++]=Z);if(A=w===0?(L=ve=n,19):w===1?(L=_,J-=257,ve=h,ie-=257,256):(L=p,ve=f,-1),M=B,T=r,$=Z=q=0,y=-1,E=(G=1<<(V=ee))-1,w===1&&852<G||w===2&&592<G)return 1;for(;;){for(P=M-$,N=n[Z]<A?(O=0,n[Z]):n[Z]>A?(O=ve[ie+n[Z]],L[J+n[Z]]):(O=96,0),t=1<<M-$,B=d=1<<V;e[T+(q>>$)+(d-=t)]=P<<24|O<<16|N|0,d!==0;);for(t=1<<M-1;q&t;)t>>=1;if(t!==0?(q&=t-1,q+=t):q=0,Z++,--ce[M]==0){if(M===te)break;M=m[o+n[Z]]}if(ee<M&&(q&E)!==y){for($===0&&($=ee),T+=B,F=1<<(V=M-$);V+$<te&&!((F-=ce[V+$])<=0);)V++,F<<=1;if(G+=1<<V,w===1&&852<G||w===2&&592<G)return 1;e[y=q&E]=ee<<24|V<<16|T-r|0}}return q!==0&&(e[T+q]=M-$<<24|64<<16|0),c.bits=ee,0}},{"../utils/common":41}],51:[function(X,ne,D){"use strict";ne.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(X,ne,D){"use strict";var C=X("../utils/common"),_=0,h=1;function p(I){for(var W=I.length;0<=--W;)I[W]=0}var f=0,w=29,m=256,o=m+1+w,i=30,e=19,r=2*o+1,n=15,c=16,t=7,d=256,y=16,E=17,T=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(o+2));p(H);var M=new Array(2*i);p(M);var Z=new Array(512);p(Z);var B=new Array(256);p(B);var te=new Array(w);p(te);var ee,V,$,F=new Array(i);function G(I,W,re,Y,ae){this.static_tree=I,this.extra_bits=W,this.extra_base=re,this.elems=Y,this.max_length=ae,this.has_stree=I&&I.length}function q(I,W){this.dyn_tree=I,this.max_code=0,this.stat_desc=W}function L(I){return I<256?Z[I]:Z[256+(I>>>7)]}function J(I,W){I.pending_buf[I.pending++]=255&W,I.pending_buf[I.pending++]=W>>>8&255}function ce(I,W,re){I.bi_valid>c-re?(I.bi_buf|=W<<I.bi_valid&65535,J(I,I.bi_buf),I.bi_buf=W>>c-I.bi_valid,I.bi_valid+=re-c):(I.bi_buf|=W<<I.bi_valid&65535,I.bi_valid+=re)}function se(I,W,re){ce(I,re[2*W],re[2*W+1])}function ve(I,W){for(var re=0;re|=1&I,I>>>=1,re<<=1,0<--W;);return re>>>1}function ie(I,W,re){var Y,ae,Ce=new Array(n+1),he=0;for(Y=1;Y<=n;Y++)Ce[Y]=he=he+re[Y-1]<<1;for(ae=0;ae<=W;ae++){var Oe=I[2*ae+1];Oe!==0&&(I[2*ae]=ve(Ce[Oe]++,Oe))}}function oe(I){var W;for(W=0;W<o;W++)I.dyn_ltree[2*W]=0;for(W=0;W<i;W++)I.dyn_dtree[2*W]=0;for(W=0;W<e;W++)I.bl_tree[2*W]=0;I.dyn_ltree[2*d]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function pe(I){8<I.bi_valid?J(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function be(I,W,re,Y){var ae=2*W,Ce=2*re;return I[ae]<I[Ce]||I[ae]===I[Ce]&&Y[W]<=Y[re]}function de(I,W,re){for(var Y=I.heap[re],ae=re<<1;ae<=I.heap_len&&(ae<I.heap_len&&be(W,I.heap[ae+1],I.heap[ae],I.depth)&&ae++,!be(W,Y,I.heap[ae],I.depth));)I.heap[re]=I.heap[ae],re=ae,ae<<=1;I.heap[re]=Y}function Pe(I,W,re){var Y,ae,Ce,he,Oe=0;if(I.last_lit!==0)for(;Y=I.pending_buf[I.d_buf+2*Oe]<<8|I.pending_buf[I.d_buf+2*Oe+1],ae=I.pending_buf[I.l_buf+Oe],Oe++,Y===0?se(I,ae,W):(se(I,(Ce=B[ae])+m+1,W),(he=A[Ce])!==0&&ce(I,ae-=te[Ce],he),se(I,Ce=L(--Y),re),(he=P[Ce])!==0&&ce(I,Y-=F[Ce],he)),Oe<I.last_lit;);se(I,d,W)}function je(I,W){var re,Y,ae,Ce=W.dyn_tree,he=W.stat_desc.static_tree,Oe=W.stat_desc.has_stree,Ve=W.stat_desc.elems,Ze=-1;for(I.heap_len=0,I.heap_max=r,re=0;re<Ve;re++)Ce[2*re]!==0?(I.heap[++I.heap_len]=Ze=re,I.depth[re]=0):Ce[2*re+1]=0;for(;I.heap_len<2;)Ce[2*(ae=I.heap[++I.heap_len]=Ze<2?++Ze:0)]=1,I.depth[ae]=0,I.opt_len--,Oe&&(I.static_len-=he[2*ae+1]);for(W.max_code=Ze,re=I.heap_len>>1;1<=re;re--)de(I,Ce,re);for(ae=Ve;re=I.heap[1],I.heap[1]=I.heap[I.heap_len--],de(I,Ce,1),Y=I.heap[1],I.heap[--I.heap_max]=re,I.heap[--I.heap_max]=Y,Ce[2*ae]=Ce[2*re]+Ce[2*Y],I.depth[ae]=(I.depth[re]>=I.depth[Y]?I.depth[re]:I.depth[Y])+1,Ce[2*re+1]=Ce[2*Y+1]=ae,I.heap[1]=ae++,de(I,Ce,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(et,ht){var Ct,kt,Xt,vt,jt,Bt,At=ht.dyn_tree,nr=ht.max_code,Or=ht.stat_desc.static_tree,Pr=ht.stat_desc.has_stree,zt=ht.stat_desc.extra_bits,Wt=ht.stat_desc.extra_base,ir=ht.stat_desc.max_length,yr=0;for(vt=0;vt<=n;vt++)et.bl_count[vt]=0;for(At[2*et.heap[et.heap_max]+1]=0,Ct=et.heap_max+1;Ct<r;Ct++)ir<(vt=At[2*At[2*(kt=et.heap[Ct])+1]+1]+1)&&(vt=ir,yr++),At[2*kt+1]=vt,nr<kt||(et.bl_count[vt]++,jt=0,Wt<=kt&&(jt=zt[kt-Wt]),Bt=At[2*kt],et.opt_len+=Bt*(vt+jt),Pr&&(et.static_len+=Bt*(Or[2*kt+1]+jt)));if(yr!==0){do{for(vt=ir-1;et.bl_count[vt]===0;)vt--;et.bl_count[vt]--,et.bl_count[vt+1]+=2,et.bl_count[ir]--,yr-=2}while(0<yr);for(vt=ir;vt!==0;vt--)for(kt=et.bl_count[vt];kt!==0;)nr<(Xt=et.heap[--Ct])||(At[2*Xt+1]!==vt&&(et.opt_len+=(vt-At[2*Xt+1])*At[2*Xt],At[2*Xt+1]=vt),kt--)}}(I,W),ie(Ce,Ze,I.bl_count)}function z(I,W,re){var Y,ae,Ce=-1,he=W[1],Oe=0,Ve=7,Ze=4;for(he===0&&(Ve=138,Ze=3),W[2*(re+1)+1]=65535,Y=0;Y<=re;Y++)ae=he,he=W[2*(Y+1)+1],++Oe<Ve&&ae===he||(Oe<Ze?I.bl_tree[2*ae]+=Oe:ae!==0?(ae!==Ce&&I.bl_tree[2*ae]++,I.bl_tree[2*y]++):Oe<=10?I.bl_tree[2*E]++:I.bl_tree[2*T]++,Ce=ae,Ze=(Oe=0)===he?(Ve=138,3):ae===he?(Ve=6,3):(Ve=7,4))}function ge(I,W,re){var Y,ae,Ce=-1,he=W[1],Oe=0,Ve=7,Ze=4;for(he===0&&(Ve=138,Ze=3),Y=0;Y<=re;Y++)if(ae=he,he=W[2*(Y+1)+1],!(++Oe<Ve&&ae===he)){if(Oe<Ze)for(;se(I,ae,I.bl_tree),--Oe!=0;);else ae!==0?(ae!==Ce&&(se(I,ae,I.bl_tree),Oe--),se(I,y,I.bl_tree),ce(I,Oe-3,2)):Oe<=10?(se(I,E,I.bl_tree),ce(I,Oe-3,3)):(se(I,T,I.bl_tree),ce(I,Oe-11,7));Ce=ae,Ze=(Oe=0)===he?(Ve=138,3):ae===he?(Ve=6,3):(Ve=7,4)}}p(F);var K=!1;function k(I,W,re,Y){ce(I,(f<<1)+(Y?1:0),3),function(ae,Ce,he,Oe){pe(ae),Oe&&(J(ae,he),J(ae,~he)),C.arraySet(ae.pending_buf,ae.window,Ce,he,ae.pending),ae.pending+=he}(I,W,re,!0)}D._tr_init=function(I){K||(function(){var W,re,Y,ae,Ce,he=new Array(n+1);for(ae=Y=0;ae<w-1;ae++)for(te[ae]=Y,W=0;W<1<<A[ae];W++)B[Y++]=ae;for(B[Y-1]=ae,ae=Ce=0;ae<16;ae++)for(F[ae]=Ce,W=0;W<1<<P[ae];W++)Z[Ce++]=ae;for(Ce>>=7;ae<i;ae++)for(F[ae]=Ce<<7,W=0;W<1<<P[ae]-7;W++)Z[256+Ce++]=ae;for(re=0;re<=n;re++)he[re]=0;for(W=0;W<=143;)H[2*W+1]=8,W++,he[8]++;for(;W<=255;)H[2*W+1]=9,W++,he[9]++;for(;W<=279;)H[2*W+1]=7,W++,he[7]++;for(;W<=287;)H[2*W+1]=8,W++,he[8]++;for(ie(H,o+1,he),W=0;W<i;W++)M[2*W+1]=5,M[2*W]=ve(W,5);ee=new G(H,A,m+1,o,n),V=new G(M,P,0,i,n),$=new G(new Array(0),O,0,e,t)}(),K=!0),I.l_desc=new q(I.dyn_ltree,ee),I.d_desc=new q(I.dyn_dtree,V),I.bl_desc=new q(I.bl_tree,$),I.bi_buf=0,I.bi_valid=0,oe(I)},D._tr_stored_block=k,D._tr_flush_block=function(I,W,re,Y){var ae,Ce,he=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(Oe){var Ve,Ze=4093624447;for(Ve=0;Ve<=31;Ve++,Ze>>>=1)if(1&Ze&&Oe.dyn_ltree[2*Ve]!==0)return _;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return h;for(Ve=32;Ve<m;Ve++)if(Oe.dyn_ltree[2*Ve]!==0)return h;return _}(I)),je(I,I.l_desc),je(I,I.d_desc),he=function(Oe){var Ve;for(z(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),z(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),je(Oe,Oe.bl_desc),Ve=e-1;3<=Ve&&Oe.bl_tree[2*N[Ve]+1]===0;Ve--);return Oe.opt_len+=3*(Ve+1)+5+5+4,Ve}(I),ae=I.opt_len+3+7>>>3,(Ce=I.static_len+3+7>>>3)<=ae&&(ae=Ce)):ae=Ce=re+5,re+4<=ae&&W!==-1?k(I,W,re,Y):I.strategy===4||Ce===ae?(ce(I,2+(Y?1:0),3),Pe(I,H,M)):(ce(I,4+(Y?1:0),3),function(Oe,Ve,Ze,et){var ht;for(ce(Oe,Ve-257,5),ce(Oe,Ze-1,5),ce(Oe,et-4,4),ht=0;ht<et;ht++)ce(Oe,Oe.bl_tree[2*N[ht]+1],3);ge(Oe,Oe.dyn_ltree,Ve-1),ge(Oe,Oe.dyn_dtree,Ze-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,he+1),Pe(I,I.dyn_ltree,I.dyn_dtree)),oe(I),Y&&pe(I)},D._tr_tally=function(I,W,re){return I.pending_buf[I.d_buf+2*I.last_lit]=W>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&W,I.pending_buf[I.l_buf+I.last_lit]=255&re,I.last_lit++,W===0?I.dyn_ltree[2*re]++:(I.matches++,W--,I.dyn_ltree[2*(B[re]+m+1)]++,I.dyn_dtree[2*L(W)]++),I.last_lit===I.lit_bufsize-1},D._tr_align=function(I){ce(I,2,3),se(I,d,H),function(W){W.bi_valid===16?(J(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(X,ne,D){"use strict";ne.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(X,ne,D){(function(C){(function(_,h){"use strict";if(!_.setImmediate){var p,f,w,m,o=1,i={},e=!1,r=_.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(_);n=n&&n.setTimeout?n:_,p={}.toString.call(_.process)==="[object process]"?function(y){ot.nextTick(function(){t(y)})}:function(){if(_.postMessage&&!_.importScripts){var y=!0,E=_.onmessage;return _.onmessage=function(){y=!1},_.postMessage("","*"),_.onmessage=E,y}}()?(m="setImmediate$"+Math.random()+"$",_.addEventListener?_.addEventListener("message",d,!1):_.attachEvent("onmessage",d),function(y){_.postMessage(m+y,"*")}):_.MessageChannel?((w=new MessageChannel).port1.onmessage=function(y){t(y.data)},function(y){w.port2.postMessage(y)}):r&&"onreadystatechange"in r.createElement("script")?(f=r.documentElement,function(y){var E=r.createElement("script");E.onreadystatechange=function(){t(y),E.onreadystatechange=null,f.removeChild(E),E=null},f.appendChild(E)}):function(y){setTimeout(t,0,y)},n.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var E=new Array(arguments.length-1),T=0;T<E.length;T++)E[T]=arguments[T+1];var A={callback:y,args:E};return i[o]=A,p(o),o++},n.clearImmediate=c}function c(y){delete i[y]}function t(y){if(e)setTimeout(t,0,y);else{var E=i[y];if(E){e=!0;try{(function(T){var A=T.callback,P=T.args;switch(P.length){case 0:A();break;case 1:A(P[0]);break;case 2:A(P[0],P[1]);break;case 3:A(P[0],P[1],P[2]);break;default:A.apply(h,P)}})(E)}finally{c(y),e=!1}}}}function d(y){y.source===_&&typeof y.data=="string"&&y.data.indexOf(m)===0&&t(+y.data.slice(m.length))}})(typeof self=="undefined"?C===void 0?this:C:self)}).call(this,typeof Ye!="undefined"?Ye:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this,ze("HDXh").Buffer,ze("IyRk"),ze("Q2Ig"))},"yj/a":function(wt,ft,ze){"use strict";var qe=ze("VTBJ"),Ye=ze("Ff2n"),ot=ze("nKUr"),Qe=ze.n(ot),X=ze("uX+g"),ne=ze("q1tI"),D=ze.n(ne),C=ze("lS/g"),_=ze("adzw"),h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=D.a.forwardRef(function(e,r){var n=e.fieldProps,c=e.children,t=e.params,d=e.proFieldProps,y=e.mode,E=e.valueEnum,T=e.request,A=e.showSearch,P=e.options,O=Object(Ye.a)(e,h),N=Object(ne.useContext)(C.b);return Object(ot.jsx)(_.a,Object(qe.a)(Object(qe.a)({valueEnum:Object(X.a)(E),request:T,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(qe.a)({options:P,mode:y,showSearch:A,getPopupContainer:N.getPopupContainer},n),ref:r,proFieldProps:d},O),{},{children:c}))}),w=D.a.forwardRef(function(e,r){var n=e.fieldProps,c=e.children,t=e.params,d=e.proFieldProps,y=e.mode,E=e.valueEnum,T=e.request,A=e.options,P=Object(Ye.a)(e,p),O=Object(qe.a)({options:A,mode:y||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},n),N=Object(ne.useContext)(C.b);return Object(ot.jsx)(_.a,Object(qe.a)(Object(qe.a)({valueEnum:Object(X.a)(E),request:T,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(qe.a)({getPopupContainer:N.getPopupContainer},O),ref:r,proFieldProps:d},P),{},{children:c}))}),m=f,o=w,i=m;i.SearchSelect=o,i.displayName="ProFormComponent",ft.a=i}}]);

//# sourceMappingURL=vendors~p__Templates__form.e3c1ceb5.async.js.map