"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[787],{82061:function(Z,f,e){var u=e(1413),a=e(67294),h=e(47046),d=e(84089),M=function(g,m){return a.createElement(d.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:m,icon:h.Z}))},_=a.forwardRef(M);f.Z=_},47389:function(Z,f,e){var u=e(1413),a=e(67294),h=e(27363),d=e(84089),M=function(g,m){return a.createElement(d.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:m,icon:h.Z}))},_=a.forwardRef(M);f.Z=_},51042:function(Z,f,e){var u=e(1413),a=e(67294),h=e(42110),d=e(84089),M=function(g,m){return a.createElement(d.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:m,icon:h.Z}))},_=a.forwardRef(M);f.Z=_},5966:function(Z,f,e){var u=e(97685),a=e(1413),h=e(45987),d=e(21770),M=e(75842),_=e(55241),p=e(97435),g=e(67294),m=e(11547),v=e(85893),j=["fieldProps","proFieldProps"],U=["fieldProps","proFieldProps"],P="text",K=function(t){var r=t.fieldProps,c=t.proFieldProps,n=(0,h.Z)(t,j);return(0,v.jsx)(m.Z,(0,a.Z)({valueType:P,fieldProps:r,filedConfig:{valueType:P},proFieldProps:c},n))},A=function(t){var r=(0,d.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),c=(0,u.Z)(r,2),n=c[0],O=c[1];return(0,v.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(F){var D,b=F.getFieldValue(t.name||[]);return(0,v.jsx)(_.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return O(s)},content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(D=t.statusRender)===null||D===void 0?void 0:D.call(t,b),t.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:n,children:t.children}))}})},I=function(t){var r=t.fieldProps,c=t.proFieldProps,n=(0,h.Z)(t,U),O=(0,g.useState)(!1),S=(0,u.Z)(O,2),F=S[0],D=S[1];return r!=null&&r.statusRender&&n.name?(0,v.jsx)(A,{name:n.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:F,onOpenChange:D,children:(0,v.jsx)("div",{children:(0,v.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,p.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(x){var s;r==null||(s=r.onBlur)===null||s===void 0||s.call(r,x),D(!1)},onClick:function(x){var s;r==null||(s=r.onClick)===null||s===void 0||s.call(r,x),D(!0)}}),proFieldProps:c,filedConfig:{valueType:P}},n))})}):(0,v.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:r,proFieldProps:c,filedConfig:{valueType:P}},n))},o=K;o.Password=I,o.displayName="ProFormComponent",f.Z=o},16894:function(Z,f,e){var u=e(7807);f.ZP=u.Z},74093:function(Z,f,e){e.r(f),e.d(f,{TableColumns:function(){return F},default:function(){return b}});var u=e(15009),a=e.n(u),h=e(99289),d=e.n(h),M=e(5574),_=e.n(M),p=e(91680),g=e(51042),m=e(47389),v=e(82061),j=e(74453),U=e(16894),P=e(14726),K=e(86738),A=e(83062),I=e(67294),o=e(80854),i=e(37476),t=e(952),r=e(5966),c=e(75842),n=e(85893),O=function(s){var w=(0,o.useIntl)(),V=s.visible,z=s.onVisibleChange,B=s.onFinish,G=s.id,y=c.Z.useForm(),E=_()(y,1),C=E[0];return(0,n.jsx)(i.Y,{form:C,title:w.formatMessage({id:G?"editSetting":"newSetting",defaultMessage:G?"editSetting":"newSetting"}),width:"30vw",visible:V,onVisibleChange:z,onFinish:B,children:(0,n.jsxs)(t.ZP.Group,{children:[(0,n.jsx)(r.Z,{label:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),rules:[{validator:function(){var R=d()(a()().mark(function W(l,$){return a()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if($){L.next=2;break}return L.abrupt("return",Promise.reject(new Error(w.formatMessage({id:"field_required",defaultMessage:"field_required"}))));case 2:return L.abrupt("return",Promise.resolve());case 3:case"end":return L.stop()}},W)}));function T(W,l){return R.apply(this,arguments)}return T}()}],width:"md",name:"name"})," "]})})},S=O,F=[{title:(0,n.jsx)(o.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{width:"80%",title:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!1,sorter:!0}],D=function(){var s=(0,I.useRef)(),w=(0,I.useState)(!1),V=_()(w,2),z=V[0],B=V[1],G=(0,o.useIntl)();return(0,n.jsxs)(j._z,{children:[(0,n.jsx)(U.ZP,{headerTitle:G.formatMessage({id:"menu.Users.Roles",defaultMessage:"roles"}),actionRef:s,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(P.ZP,{type:"primary",onClick:function(){return B(!0)},children:[(0,n.jsx)(g.Z,{})," ",(0,n.jsx)(o.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(E,C){var R=E.pageSize,T=E.current,W=E.name,l=C&&Object.entries(C)[0];return(0,p.uJ)({pageSize:R,current:T,name:W,order_by:l&&l[0],order:l?l[1]==="ascend"?"ASC":"DESC":void 0}).then(function($){return $.success?{data:$.data,total:$.meta.total,success:!0}:[]})},columns:[].concat(F,[{hideInSearch:!0,title:(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(E,C){return[(0,n.jsx)(o.Link,{to:"/users/roles/".concat(C.name),children:(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{})})},"new"),(0,n.jsx)(K.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:d()(a()().mark(function R(){var T;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,p.Rd)(C.name);case 2:T=l.sent,T&&(B(!1),s.current&&s.current.reload());case 4:case"end":return l.stop()}},R)})),okText:(0,n.jsx)(o.FormattedMessage,{id:"yes"}),cancelText:(0,n.jsx)(o.FormattedMessage,{id:"no"}),children:(0,n.jsx)(A.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(v.Z,{}),danger:!0})})},"delete")]}}])}),(0,n.jsx)(S,{visible:z,onVisibleChange:function(E){return E===!1&&B(!1)},onFinish:function(){var y=d()(a()().mark(function E(C){var R,T;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,p.fA)(C);case 2:return R=l.sent,l.next=5,R;case 5:T=l.sent,T.success&&(B(!1),s.current&&(s.current.reload(),o.history.push("/users/roles/".concat(T.data.name))));case 7:case"end":return l.stop()}},E)}));return function(E){return y.apply(this,arguments)}}()})]})},b=D},91680:function(Z,f,e){e.d(f,{Cv:function(){return I},Rd:function(){return U},fA:function(){return v},iy:function(){return K},uJ:function(){return g}});var u=e(15009),a=e.n(u),h=e(97857),d=e.n(h),M=e(99289),_=e.n(M),p=e(80854);function g(i,t){return m.apply(this,arguments)}function m(){return m=_()(a()().mark(function i(t,r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles",d()({method:"GET",useCache:!1,params:t},r||{})));case 1:case"end":return n.stop()}},i)})),m.apply(this,arguments)}function v(i,t){return j.apply(this,arguments)}function j(){return j=_()(a()().mark(function i(t,r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},r||{})));case 1:case"end":return n.stop()}},i)})),j.apply(this,arguments)}function U(i,t){return P.apply(this,arguments)}function P(){return P=_()(a()().mark(function i(t,r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles/".concat(t),d()({method:"DELETE",headers:{"Content-Type":"application/json"}},r||{})));case 1:case"end":return n.stop()}},i)})),P.apply(this,arguments)}function K(i,t){return A.apply(this,arguments)}function A(){return A=_()(a()().mark(function i(t,r){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles/".concat(t),d()({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},i)})),A.apply(this,arguments)}function I(i,t,r){return o.apply(this,arguments)}function o(){return o=_()(a()().mark(function i(t,r,c){return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,p.request)("/api/admin/roles/".concat(t),d()({method:"PATCH",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return O.stop()}},i)})),o.apply(this,arguments)}}}]);

//# sourceMappingURL=p__Roles__index.04cfa703.async.js.map