(window.webpackJsonp=window.webpackJsonp||[]).push([[23,4],{"+K+b":function(oe,ae,k){var Y=k("JHRd");function M(I){var b=new I.constructor(I.byteLength);return new Y(b).set(new Y(I)),b}oe.exports=M},"+O4Z":function(oe,ae){function k(Y){return Function.toString.call(Y).indexOf("[native code]")!==-1}oe.exports=k},"+c4W":function(oe,ae,k){var Y=k("711d"),M=k("4/ic"),I=k("9ggG"),b=k("9Nap");function ne(H){return I(H)?Y(b(H)):M(H)}oe.exports=ne},"+iFO":function(oe,ae,k){var Y=k("dTAl"),M=k("LcsW"),I=k("6sVZ");function b(ne){return typeof ne.constructor=="function"&&!I(ne)?Y(M(ne)):{}}oe.exports=b},"/FUP":function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.ReactCSS=ae.loop=ae.handleActive=ae.handleHover=ae.hover=void 0;var Y=k("W3HW"),M=S(Y),I=k("lreK"),b=S(I),ne=k("KfSR"),H=S(ne),U=k("VYtm"),K=S(U),y=k("XQvf"),N=S(y),E=k("B5Mt"),C=S(E);function S(ge){return ge&&ge.__esModule?ge:{default:ge}}ae.hover=K.default,ae.handleHover=K.default,ae.handleActive=N.default,ae.loop=C.default;var D=ae.ReactCSS=function(j){for(var re=arguments.length,B=Array(re>1?re-1:0),$=1;$<re;$++)B[$-1]=arguments[$];var x=(0,M.default)(B),se=(0,b.default)(j,x);return(0,H.default)(se)};ae.default=D},"/qDX":function(oe,ae,k){},"/s86":function(oe,ae,k){"use strict";var Y=k("Telt"),M=k("Tckk"),I=k("q1tI"),b=k.n(I),ne="valueType request plain renderFormItem render text formItemProps valueEnum",H="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function U(f){var c="".concat(ne," ").concat(H).split(/[\s\n]+/),h={};return Object.keys(f||{}).forEach(function(p){c.includes(p)||(h[p]=f[p])}),h}var K=k("PjWh"),y=k("LQCs"),N=k("cIOH"),E=k("QbM5"),C=k("fyUT"),S=k("CeSn"),D=k.n(S);function ge(f){return f===0?null:f>0?"+":"-"}function j(f){return f===0?"#595959":f>0?"#ff4d4f":"#52c41a"}function re(f){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return c&&c>0?f.toFixed(c):f}function B(){return B=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},B.apply(this,arguments)}function $(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function x(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?$(Object(h),!0).forEach(function(p){se(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):$(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function se(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var Te=function(c,h){var p=c.text,w=c.prefix,T=c.precision,V=c.suffix,z=V===void 0?"%":V,Z=c.mode,le=c.showColor,fe=le===void 0?!1:le,Pe=c.render,Ee=c.renderFormItem,De=c.fieldProps,Ze=c.placeholder,Ge=c.showSymbol,at=Object(I.useMemo)(function(){return typeof p=="string"&&p.includes("%")?D()(p.replace("%","")):D()(p)},[p]),Ft=Object(I.useMemo)(function(){return typeof Ge=="function"?Ge==null?void 0:Ge(p):Ge},[Ge,p]);if(Z==="read"){var yr=fe?{color:j(at)}:{},Fr=b.a.createElement("span",{style:yr,ref:h},w&&b.a.createElement("span",null,w),Ft&&b.a.createElement(I.Fragment,null,ge(at)," "),re(Math.abs(at),T),z&&z);return Pe?Pe(p,x(x({mode:Z},De),{},{prefix:w,precision:T,showSymbol:Ft,suffix:z}),Fr):Fr}if(Z==="edit"||Z==="update"){var xr=b.a.createElement(C.a,B({ref:h,formatter:function(rr){return rr&&w?"".concat(w," ").concat(rr).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):rr},parser:function(rr){return rr?rr.replace(/.*\s|,/g,""):""},placeholder:Ze},De));return Ee?Ee(p,x({mode:Z},De),xr):xr}return null},Fe=b.a.forwardRef(Te),je=k("2Zs6"),gt=k("MXD1"),wt=k("CFYs");function Ct(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Ut(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Ct(Object(h),!0).forEach(function(p){St(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Ct(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function St(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function kt(){return kt=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},kt.apply(this,arguments)}function Gt(f){return typeof f!="number"?"exception":f===100?"success":f<0?"exception":f<100?"active":"normal"}var Wt=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.plain,z=c.renderFormItem,Z=c.fieldProps,le=c.placeholder,fe=Object(I.useMemo)(function(){return typeof p=="string"&&p.includes("%")?D()(p.replace("%","")):D()(p)},[p]);if(w==="read"){var Pe=b.a.createElement(wt.a,kt({ref:h,size:"small",style:{minWidth:100,maxWidth:320},percent:fe,steps:V?10:void 0,status:Gt(fe)},Z));return T?T(fe,Ut({mode:w},Z),Pe):Pe}if(w==="edit"||w==="update"){var Ee=b.a.createElement(C.a,kt({ref:h,placeholder:le},Z));return z?z(p,Ut({mode:w},Z),Ee):Ee}return null},et=b.a.forwardRef(Wt),ft=["text","mode","locale","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","customSymbol"];function Ye(){return Ye=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Ye.apply(this,arguments)}function Be(f,c){if(f==null)return{};var h=Ke(f,c),p,w;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);for(w=0;w<T.length;w++)p=T[w],!(c.indexOf(p)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,p)||(h[p]=f[p]))}return h}function Ke(f,c){if(f==null)return{};var h={},p=Object.keys(f),w,T;for(T=0;T<p.length;T++)w=p[T],!(c.indexOf(w)>=0)&&(h[w]=f[w]);return h}function He(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Xe(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?He(Object(h),!0).forEach(function(p){st(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):He(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function st(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var It=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),Xt={style:"currency",currency:"USD"},pr={style:"currency",currency:"RUB"},Qr={style:"currency",currency:"RSD"},Rr={style:"currency",currency:"MYR"},nr={default:It,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":Xt,"ru-RU":pr,"ms-MY":Rr,"sr-RS":Qr},jr=function(c,h,p){var w=h;return typeof w=="string"&&(w=Number(w)),c?new Intl.NumberFormat(c,Xe(Xe({},nr[c||"zh-Hans-CN"]||nr["zh-Hans-CN"]),{},{minimumFractionDigits:p})).format(w):new Intl.NumberFormat().format(w)},Ar=2,Rt=function(c,h){var p,w=c.text,T=c.mode,V=c.locale,z=V===void 0?"zh-Hans-CN":V,Z=c.render,le=c.renderFormItem,fe=c.fieldProps,Pe=c.proFieldKey,Ee=c.plain,De=c.valueEnum,Ze=c.placeholder,Ge=c.customSymbol,at=Be(c,ft),Ft=(p=fe==null?void 0:fe.precision)!==null&&p!==void 0?p:Ar,yr=Object(y.d)();z&&y.c[z]&&(yr=y.c[z]);var Fr=Object(I.useMemo)(function(){if(Ge)return Ge;var rr=yr.getMessage("moneySymbol","\uFFE5");if(!(at.moneySymbol===!1||fe.moneySymbol===!1))return rr},[fe.moneySymbol,yr,at.moneySymbol,Ge]);if(T==="read"){var xr=b.a.createElement("span",{ref:h},jr(Fr?z:!1,w,Ft));return Z?Z(w,Xe({mode:T},fe),xr):xr}if(T==="edit"||T==="update"){var vn=b.a.createElement(C.a,Ye({ref:h,precision:Ft,formatter:function(sn){if(sn){var pi=new RegExp("/B(?=(d{".concat(3+(Ft-Ar),"})+(?!d))/g"));return"".concat(Fr," ").concat(sn).replace(pi,",")}return""},parser:function(sn){return sn?sn.replace(new RegExp("\\".concat(Fr,"\\s?|(,*)"),"g"),""):""},placeholder:Ze},fe));return le?le(w,Xe({mode:T},fe),vn):vn}return null},L=b.a.forwardRef(Rt),J=k("ZTW2"),W=k("+BJd"),ve=k("+L6B"),we=k("+eQT"),Ae=k("GNNt"),Ve=k("wEI+"),vt=k("wd/R"),lt=k.n(vt),me=k("POPG"),Re=function f(c,h){return Object(me.a)(c)||lt.a.isMoment(c)?c:Array.isArray(c)?c.map(function(p){return f(p,h)}):lt()(c,h)},Me=Re,$e=k("iGn7"),it=k("Z1je");function Et(){return Et=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Et.apply(this,arguments)}function gr(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function ar(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?gr(Object(h),!0).forEach(function(p){mr(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):gr(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function mr(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function Wr(f,c){return Kr(f)||Xr(f,c)||Sr(f,c)||Ht()}function Ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(f,c){if(!!f){if(typeof f=="string")return Hr(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Hr(f,c)}}function Hr(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function Xr(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function Kr(f){if(Array.isArray(f))return f}var ln=function(c,h){var p=c.text,w=c.mode,T=c.format,V=c.label,z=c.light,Z=c.render,le=c.renderFormItem,fe=c.plain,Pe=c.showTime,Ee=c.fieldProps,De=c.picker,Ze=c.bordered,Ge=Object(y.d)(),at=Object(I.useContext)(Ve.b.SizeContext),Ft=Object(I.useContext)(Ve.b.ConfigContext),yr=Ft.getPrefixCls,Fr=yr("pro-field-date-picker"),xr=Object(I.useState)(!1),vn=Wr(xr,2),rr=vn[0],sn=vn[1];if(w==="read"){var pi=b.a.createElement("span",{ref:h},p?lt()(p).format(Ee.format||T||"YYYY-MM-DD"):"-");return Z?Z(p,ar({mode:w},Ee),b.a.createElement("span",null,pi)):pi}if(w==="edit"||w==="update"){var ti,_c=Ee.disabled,xc=Ee.value,Da=Ee.onChange,Uo=Ee.allowClear,Ll=Ee.placeholder,Wo=Ll===void 0?Ge.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):Ll,Na=Me(xc);if(z){var Bm=Na&&Na.format(T)||"";ti=b.a.createElement("div",{className:"".concat(Fr,"-light"),onClick:function(){sn(!0)}},b.a.createElement(we.a,Et({picker:De,showTime:Pe,format:T,ref:h},Ee,{value:Na,onChange:function(Vm){Da==null||Da(Vm),setTimeout(function(){sn(!1)},0)},onOpenChange:sn,open:rr})),b.a.createElement($e.a,{label:V,disabled:_c,placeholder:Wo,size:at,value:Bm,onClear:function(){Da==null||Da(null)},allowClear:Uo,bordered:Ze,expanded:rr}))}else ti=b.a.createElement(we.a,Et({picker:De,showTime:Pe,format:T,placeholder:Wo,bordered:fe===void 0?!0:!fe,ref:h},Ee,{value:Na}));return le?le(p,ar({mode:w},Ee),ti):ti}return null},qr=b.a.forwardRef(ln),Nn=k("5Dmo"),Tr=k("3S7+");function Tn(){return Tn=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Tn.apply(this,arguments)}function ye(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Oe(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?ye(Object(h),!0).forEach(function(p){xe(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):ye(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function xe(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var Le=function(c){var h=c.text,p=c.mode,w=c.render,T=c.renderFormItem,V=c.format,z=c.fieldProps,Z=Object(y.d)();if(p==="read"){var le=b.a.createElement(Tr.a,{title:lt()(h).format((z==null?void 0:z.format)||V||"YYYY-MM-DD HH:mm:ss")},lt()(h).fromNow());return w?w(h,Oe({mode:p},z),b.a.createElement(b.a.Fragment,null,le)):b.a.createElement(b.a.Fragment,null,le)}if(p==="edit"||p==="update"){var fe=Z.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),Pe=Me(z.value),Ee=b.a.createElement(we.a,Tn({placeholder:fe},z,{value:Pe}));return T?T(h,Oe({mode:p},z),Ee):Ee}return null},ht=Le;function mt(){return mt=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},mt.apply(this,arguments)}function Tt(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Dt(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Tt(Object(h),!0).forEach(function(p){Mt(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Tt(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Mt(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function Bt(f,c){return We(f)||ke(f,c)||X(f,c)||ue()}function ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(f,c){if(!!f){if(typeof f=="string")return de(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return de(f,c)}}function de(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function ke(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function We(f){if(Array.isArray(f))return f}var ze=function(c,h){var p=c.text,w=c.mode,T=c.format,V=c.render,z=c.renderFormItem,Z=c.plain,le=c.showTime,fe=c.fieldProps,Pe=Object(y.d)(),Ee=Array.isArray(p)?p:[],De=Bt(Ee,2),Ze=De[0],Ge=De[1],at=Ze?lt()(Ze).format((fe==null?void 0:fe.format)||T||"YYYY-MM-DD"):"",Ft=Ge?lt()(Ge).format((fe==null?void 0:fe.format)||T||"YYYY-MM-DD"):"";if(w==="read"){var yr=b.a.createElement("div",{ref:h},b.a.createElement("div",null,at||"-"),b.a.createElement("div",null,Ft||"-"));return V?V(p,Dt({mode:w},fe),b.a.createElement("span",null,yr)):yr}if(w==="edit"||w==="update"){var Fr=Me(fe.value),xr=b.a.createElement(we.a.RangePicker,mt({ref:h,format:T,showTime:le,placeholder:[Pe.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),Pe.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:Z===void 0?!0:!Z},fe,{value:Fr}));return z?z(p,Dt({mode:w},fe),xr):xr}return null},tt=b.a.forwardRef(ze),Ot=k("5NDa"),rt=k("5rEg");function $t(){return $t=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},$t.apply(this,arguments)}function lr(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function qt(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?lr(Object(h),!0).forEach(function(p){Vt(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):lr(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Vt(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var dn=function(c,h){if(typeof c!="string")return c;try{if(h==="json")return JSON.stringify(JSON.parse(c),null,2)}catch(p){}return c},yn=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.language,z=V===void 0?"text":V,Z=c.renderFormItem,le=c.plain,fe=c.fieldProps,Pe=dn(p,z);if(w==="read"){var Ee=b.a.createElement("pre",$t({ref:h},fe,{style:qt({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},fe.style)}),b.a.createElement("code",null,Pe));return T?T(Pe,qt(qt({mode:w},fe),{},{ref:h}),Ee):Ee}if(w==="edit"||w==="update"){var De=b.a.createElement(rt.a.TextArea,$t({rows:5},fe,{ref:h}));return le&&(De=b.a.createElement(rt.a,$t({},fe,{ref:h}))),Z?Z(Pe,qt(qt({mode:w},fe),{},{ref:h}),De):De}return null},$r=b.a.forwardRef(yn),fn=k("pL63"),en=k("kl6h");function Lr(){return Lr=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Lr.apply(this,arguments)}function br(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function or(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?br(Object(h),!0).forEach(function(p){wn(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):br(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function wn(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function Yr(f,c){return At(f)||xn(f,c)||Yt(f,c)||tn()}function tn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(f,c){if(!!f){if(typeof f=="string")return Jt(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Jt(f,c)}}function Jt(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function xn(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function At(f){if(Array.isArray(f))return f}var ur=function(c,h){var p=c.text,w=c.mode,T=c.light,V=c.label,z=c.format,Z=c.render,le=c.renderFormItem,fe=c.plain,Pe=c.fieldProps,Ee=Object(I.useState)(!1),De=Yr(Ee,2),Ze=De[0],Ge=De[1],at=Object(I.useContext)(Ve.b.SizeContext),Ft=Object(I.useContext)(Ve.b.ConfigContext),yr=Ft.getPrefixCls,Fr=yr("pro-field-date-picker"),xr=(Pe==null?void 0:Pe.format)||z||"HH:mm:ss",vn=lt.a.isMoment(p)||typeof p=="number";if(w==="read"){var rr=b.a.createElement("span",{ref:h},p?lt()(p,vn?void 0:xr).format(xr):"-");return Z?Z(p,or({mode:w},Pe),b.a.createElement("span",null,rr)):rr}if(w==="edit"||w==="update"){var sn,pi=Pe.disabled,ti=Pe.onChange,_c=Pe.placeholder,xc=Pe.allowClear,Da=Pe.value,Uo=Me(Da,xr);if(T){var Ll=Uo&&Uo.format(xr)||"";sn=b.a.createElement("div",{className:"".concat(Fr,"-light"),onClick:function(){Ge(!0)}},b.a.createElement(en.a,Lr({value:Uo,format:z,ref:h},Pe,{onChange:function(Na){ti==null||ti(Na),setTimeout(function(){Ge(!1)},0)},onOpenChange:Ge,open:Ze})),b.a.createElement($e.a,{label:V,disabled:pi,placeholder:_c,size:at,value:Ll,allowClear:xc,onClear:function(){ti==null||ti(null)},expanded:Ze}))}else sn=b.a.createElement(we.a.TimePicker,Lr({ref:h,format:z,bordered:fe===void 0?!0:!fe},Pe,{value:Uo}));return le?le(p,or({mode:w},Pe),sn):sn}return null},Kt=function(c){var h=c.text,p=c.mode,w=c.format,T=c.render,V=c.renderFormItem,z=c.plain,Z=c.fieldProps,le=Array.isArray(h)?h:[],fe=Yr(le,2),Pe=fe[0],Ee=fe[1],De=Pe?lt()(Pe).format((Z==null?void 0:Z.format)||w||"YYYY-MM-DD"):"",Ze=Ee?lt()(Ee).format((Z==null?void 0:Z.format)||w||"YYYY-MM-DD"):"";if(p==="read"){var Ge=b.a.createElement("div",null,b.a.createElement("div",null,De||"-"),b.a.createElement("div",null,Ze||"-"));return T?T(h,or({mode:p},Z),b.a.createElement("span",null,Ge)):Ge}if(p==="edit"||p==="update"){var at=Z.value,Ft=Me(at),yr=b.a.createElement(en.a.RangePicker,Lr({format:w,bordered:z===void 0?!0:!z},Z,{value:Ft}));return V?V(h,or({mode:p},Z),yr):yr}return null},er=b.a.forwardRef(ur);function Or(){return Or=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Or.apply(this,arguments)}function En(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Cn(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?En(Object(h),!0).forEach(function(p){Mn(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):En(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Mn(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var In=function(c){var h=c.text,p=c.mode,w=c.render,T=c.renderFormItem,V=c.fieldProps,z=c.emptyText,Z=z===void 0?"-":z,le=Object(y.d)();if(p==="read"){var fe=h!=null?h:Z;if(w){var Pe;return(Pe=w(h,Cn({mode:p},V),b.a.createElement(b.a.Fragment,null,(V==null?void 0:V.prefix)||"",fe,(V==null?void 0:V.suffix)||"")))!==null&&Pe!==void 0?Pe:Z}return b.a.createElement(b.a.Fragment,null,(V==null?void 0:V.prefix)||"",fe,(V==null?void 0:V.suffix)||"")}if(p==="edit"||p==="update"){var Ee=le.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),De=b.a.createElement(rt.a,Or({placeholder:Ee,allowClear:!0},V));return T?T(h,Cn({mode:p},V),De):De}return null},Br=In;function Dr(){return Dr=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Dr.apply(this,arguments)}function cr(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function ut(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?cr(Object(h),!0).forEach(function(p){Nt(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):cr(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Nt(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var Qt=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.renderFormItem,z=c.fieldProps,Z=Object(y.d)();if(w==="read"){var le=b.a.createElement("span",{ref:h},p!=null?p:"-");return T?T(p,ut({mode:w},z),le):le}if(w==="edit"||w==="update"){var fe=b.a.createElement(rt.a.TextArea,Dr({rows:3,onKeyPress:function(Ee){Ee.key==="Enter"&&Ee.stopPropagation()},placeholder:Z.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:h},z));return V?V(p,ut({mode:w},z),fe):fe}return null},vr=b.a.forwardRef(Qt),dr=k("DYRE"),Gr=k("zeV3"),gn=k("9BLJ"),Ui=k("fHMl"),sa=k("6cGi"),oo=["text","mode","render","renderFormItem","fieldProps","proFieldKey"];function La(){return La=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},La.apply(this,arguments)}function Wi(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function la(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Wi(Object(h),!0).forEach(function(p){so(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Wi(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function so(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function lo(f,c){return Ba(f)||Ei(f,c)||Hi(f,c)||Pi()}function Pi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hi(f,c){if(!!f){if(typeof f=="string")return Ki(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Ki(f,c)}}function Ki(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function Ei(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function Ba(f){if(Array.isArray(f))return f}function Gi(f,c){if(f==null)return{};var h=$i(f,c),p,w;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);for(w=0;w<T.length;w++)p=T[w],!(c.indexOf(p)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,p)||(h[p]=f[p]))}return h}function $i(f,c){if(f==null)return{};var h={},p=Object.keys(f),w,T;for(T=0;T<p.length;T++)w=p[T],!(c.indexOf(w)>=0)&&(h[w]=f[w]);return h}var Yi=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.renderFormItem,z=c.fieldProps,Z=c.proFieldKey,le=Gi(c,oo),fe=Object(y.d)(),Pe=Object(sa.a)(function(){return le.visible||!1},{value:le.visible,onChange:le.onVisible}),Ee=lo(Pe,2),De=Ee[0],Ze=Ee[1];if(w==="read"){var Ge=b.a.createElement(b.a.Fragment,null,"-");return p&&(Ge=b.a.createElement(Gr.b,null,b.a.createElement("span",{ref:h},De?p:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),b.a.createElement("a",{onClick:function(){return Ze(!De)}},De?b.a.createElement(gn.a,null):b.a.createElement(Ui.a,null)))),T?T(p,la({mode:w},z),Ge):Ge}if(w==="edit"||w==="update"){var at=b.a.createElement(rt.a.Password,La({placeholder:fe.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:h},z));return V?V(p,la({mode:w},z),at):at}return null},ri=b.a.forwardRef(Yi);function Ci(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function ua(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Ci(Object(h),!0).forEach(function(p){ca(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Ci(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function ca(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var da=function(c){return c.map(function(h,p){return b.a.isValidElement(h)?b.a.cloneElement(h,ua({key:p},h==null?void 0:h.props)):b.a.createElement(b.a.Fragment,{key:p},h)})},fa=function(c){var h=c.text,p=c.mode,w=c.render,T=c.fieldProps,V=Object(I.useContext)(Ve.b.ConfigContext),z=V.getPrefixCls,Z=z("pro-field-option");if(w){var le=w(h,ua({mode:p},T),b.a.createElement(b.a.Fragment,null));return!le||(le==null?void 0:le.length)<1||!Array.isArray(le)?null:b.a.createElement(Gr.b,{size:16,className:Z},da(le))}return!h||!Array.isArray(h)?b.a.isValidElement(h)?h:null:b.a.createElement(Gr.b,{size:16,className:Z},da(h))},mi=fa,$n=k("yeZT"),Ho=k("sRBo"),Ko=k("kaz8"),ee=k("T2oS"),he=k("W9HT"),Ce=k("TSYQ"),Pt=k.n(Ce),Pr=k("PdkY"),Vr=["layout","renderFormItem","mode","render"];function zr(){return zr=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},zr.apply(this,arguments)}function wr(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Nr(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?wr(Object(h),!0).forEach(function(p){Bn(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):wr(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Bn(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function Rn(f,c){return Ps(f)||Va(f,c)||ha(f,c)||Ai()}function Ai(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ha(f,c){if(!!f){if(typeof f=="string")return va(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return va(f,c)}}function va(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function Va(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function Ps(f){if(Array.isArray(f))return f}function Vl(f,c){if(f==null)return{};var h=Es(f,c),p,w;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);for(w=0;w<T.length;w++)p=T[w],!(c.indexOf(p)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,p)||(h[p]=f[p]))}return h}function Es(f,c){if(f==null)return{};var h={},p=Object.keys(f),w,T;for(T=0;T<p.length;T++)w=p[T],!(c.indexOf(w)>=0)&&(h[w]=f[w]);return h}var zl=function(c,h){var p=c.layout,w=p===void 0?"horizontal":p,T=c.renderFormItem,V=c.mode,z=c.render,Z=Vl(c,Vr),le=Object(I.useContext)(Ve.b.ConfigContext),fe=le.getPrefixCls,Pe=fe("pro-field-checkbox"),Ee=Object($n.e)(Z),De=Rn(Ee,3),Ze=De[0],Ge=De[1],at=De[2],Ft=Object(I.useRef)();if(Object(I.useImperativeHandle)(h,function(){return Nr(Nr({},Ft.current||{}),{},{fetchData:function(){return at()}})}),Ze)return b.a.createElement(he.a,{size:"small"});if(V==="read"){var yr=(Ge==null?void 0:Ge.length)?Ge==null?void 0:Ge.reduce(function(rr,sn){return Nr(Nr({},rr),{},Bn({},sn.value,sn.label))},{}):void 0,Fr=Object($n.c)(Z.text,Object($n.a)(Z.valueEnum||yr));return z?z(Z.text,Nr({mode:V},Z.fieldProps),b.a.createElement(b.a.Fragment,null,Fr))||null:b.a.createElement(Gr.b,null,Fr)}if(V==="edit"){var xr,vn=b.a.createElement(Ko.a.Group,zr({},Z.fieldProps,{className:Pt()((xr=Z.fieldProps)===null||xr===void 0?void 0:xr.className,"".concat(Pe,"-").concat(w)),options:Ge}));return T?T(Z.text,Nr({mode:V},Z.fieldProps),vn)||null:vn}return null},rn=b.a.forwardRef(zl),Cs=k("xzDV"),Go=k("GzdX");function ni(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function $o(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?ni(Object(h),!0).forEach(function(p){nn(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):ni(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function nn(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function uo(){return uo=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},uo.apply(this,arguments)}var As=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.renderFormItem,z=c.fieldProps;if(w==="read"){var Z=b.a.createElement(Go.a,uo({allowHalf:!0,disabled:!0,ref:h},z,{value:p}));return T?T(p,$o({mode:w},z),b.a.createElement(b.a.Fragment,null,Z)):Z}if(w==="edit"||w==="update"){var le=b.a.createElement(Go.a,uo({allowHalf:!0,ref:h},z));return V?V(p,$o({mode:w},z),le):le}return null},za=b.a.forwardRef(As),Vn=k("czTT"),ii=k("Sdc0"),co=k("BGR+");function pe(){return pe=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},pe.apply(this,arguments)}function bi(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function fo(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?bi(Object(h),!0).forEach(function(p){an(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):bi(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function an(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var Ss=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.renderFormItem,z=c.fieldProps,Z=Object(y.d)(),le=Object(I.useMemo)(function(){var Pe,Ee;return p==null||"".concat(p).length<1?"-":p?(Pe=z==null?void 0:z.checkedChildren)!==null&&Pe!==void 0?Pe:Z.getMessage("switch.open","\u6253\u5F00"):(Ee=z==null?void 0:z.unCheckedChildren)!==null&&Ee!==void 0?Ee:Z.getMessage("switch.close","\u5173\u95ED")},[z==null?void 0:z.checkedChildren,z==null?void 0:z.unCheckedChildren,p]);if(w==="read")return T?T(p,fo({mode:w},z),b.a.createElement(b.a.Fragment,null,le)):le!=null?le:"-";if(w==="edit"||w==="update"){var fe=b.a.createElement(ii.a,pe({ref:h},Object(co.a)(z,["value"]),{checked:(z==null?void 0:z.checked)||(z==null?void 0:z.value)}));return V?V(p,fo({mode:w},z),fe):fe}return null},ho=b.a.forwardRef(Ss);function Ua(){return Ua=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Ua.apply(this,arguments)}function Wa(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Sn(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Wa(Object(h),!0).forEach(function(p){vo(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Wa(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function vo(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var Zn=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.placeholder,z=c.renderFormItem,Z=c.fieldProps;if(w==="read"){var le,fe=new Intl.NumberFormat(void 0,Z==null?void 0:Z.intlProps).format(Number(p)),Pe=b.a.createElement("span",{ref:h},(Z==null||(le=Z.formatter)===null||le===void 0?void 0:le.call(Z,fe))||fe);return T?T(p,Sn({mode:w},Z),Pe):Pe}if(w==="edit"||w==="update"){var Ee=b.a.createElement(C.a,Ua({ref:h,min:0,placeholder:V},Z));return z?z(p,Sn({mode:w},Z),Ee):Ee}return null},Zt=b.a.forwardRef(Zn);function jn(){return jn=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},jn.apply(this,arguments)}function Si(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Ts(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Si(Object(h),!0).forEach(function(p){_e(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Si(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function _e(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function R(f){var c="",h=Math.floor(f/(3600*24)),p=Math.floor(f/3600),w=Math.floor(f/60%60),T=Math.floor(f%60);return c="".concat(T,"\u79D2"),w>0&&(c="".concat(w,"\u5206\u949F").concat(c)),p>0&&(c="".concat(p,"\u5C0F\u65F6").concat(c)),h>0&&(c="".concat(h,"\u5929").concat(c)),c}var te=function(c,h){var p=c.text,w=c.mode,T=c.render,V=c.renderFormItem,z=c.fieldProps,Z=c.placeholder;if(w==="read"){var le=R(Number(p)),fe=b.a.createElement("span",{ref:h},le);return T?T(p,Ts({mode:w},z),fe):fe}if(w==="edit"||w==="update"){var Pe=b.a.createElement(C.a,jn({ref:h,min:0,style:{width:"100%"},placeholder:Z},z));return V?V(p,Ts({mode:w},z),Pe):Pe}return null},ce=b.a.forwardRef(te),ie=k("7Kak"),Ne=k("9yH6"),qe=k("nSmt"),Je=["radioType","renderFormItem","mode","render"];function _t(){return _t=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},_t.apply(this,arguments)}function fr(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function hr(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?fr(Object(h),!0).forEach(function(p){yi(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):fr(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function yi(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function Fn(f,c){return ai(f)||Yn(f,c)||Mi(f,c)||Ti()}function Ti(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mi(f,c){if(!!f){if(typeof f=="string")return Ha(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Ha(f,c)}}function Ha(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function Yn(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function ai(f){if(Array.isArray(f))return f}function Ms(f,c){if(f==null)return{};var h=Yo(f,c),p,w;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);for(w=0;w<T.length;w++)p=T[w],!(c.indexOf(p)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,p)||(h[p]=f[p]))}return h}function Yo(f,c){if(f==null)return{};var h={},p=Object.keys(f),w,T;for(T=0;T<p.length;T++)w=p[T],!(c.indexOf(w)>=0)&&(h[w]=f[w]);return h}var Ln=function(c,h){var p=c.radioType,w=c.renderFormItem,T=c.mode,V=c.render,z=Ms(c,Je),Z=Object(I.useContext)(Ve.b.ConfigContext),le=Z.getPrefixCls,fe=le("pro-field-radio"),Pe=Object($n.e)(z),Ee=Fn(Pe,3),De=Ee[0],Ze=Ee[1],Ge=Ee[2],at=Object(I.useRef)();if(Object(I.useImperativeHandle)(h,function(){return hr(hr({},at.current||{}),{},{fetchData:function(){return Ge()}})}),De)return b.a.createElement(he.a,{size:"small"});if(T==="read"){var Ft=(Ze==null?void 0:Ze.length)?Ze==null?void 0:Ze.reduce(function(rr,sn){return hr(hr({},rr),{},yi({},sn.value,sn.label))},{}):void 0,yr=b.a.createElement(b.a.Fragment,null,Object($n.c)(z.text,Object($n.a)(z.valueEnum||Ft)));return V?V(z.text,hr({mode:T},z.fieldProps),yr)||null:yr}if(T==="edit"){var Fr,xr=p==="button"?Ne.a.Button:Ne.a,vn=b.a.createElement(Ne.a.Group,_t({ref:at},z.fieldProps,{className:Pt()((Fr=z.fieldProps)===null||Fr===void 0?void 0:Fr.className,"".concat(fe,"-").concat(z.fieldProps.layout||"horizontal")),options:void 0}),Ze==null?void 0:Ze.map(function(rr){return b.a.createElement(xr,_t({key:rr.value},rr),rr.label)}));return w?w(z.text,hr({mode:T},z.fieldProps),vn)||null:vn}return null},ci=b.a.forwardRef(Ln),po=k("XCrF"),Ec=k("1GRj");function Cc(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Is(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Cc(Object(h),!0).forEach(function(p){Ul(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):Cc(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Ul(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function Rs(){return Rs=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Rs.apply(this,arguments)}var Wl=function(c){var h=c.text,p=c.mode,w=c.render,T=c.renderFormItem,V=c.fieldProps,z=c.placeholder,Z=c.width;if(p==="read"){var le=b.a.createElement(Ec.a,Rs({width:Z||32,src:h},V));return w?w(h,Is({mode:p},V),le):le}if(p==="edit"||p==="update"){var fe=b.a.createElement(rt.a,Rs({placeholder:z},V));return T?T(h,Is({mode:p},V),fe):fe}return null},Hl=Wl,dv=k("Q9mQ"),fv=k("diRs"),Kl=k("/FUP"),ir=k.n(Kl),js=function(c,h,p,w,T){var V=T.clientWidth,z=T.clientHeight,Z=typeof c.pageX=="number"?c.pageX:c.touches[0].pageX,le=typeof c.pageY=="number"?c.pageY:c.touches[0].pageY,fe=Z-(T.getBoundingClientRect().left+window.pageXOffset),Pe=le-(T.getBoundingClientRect().top+window.pageYOffset);if(p==="vertical"){var Ee=void 0;if(Pe<0?Ee=0:Pe>z?Ee=1:Ee=Math.round(Pe*100/z)/100,h.a!==Ee)return{h:h.h,s:h.s,l:h.l,a:Ee,source:"rgb"}}else{var De=void 0;if(fe<0?De=0:fe>V?De=1:De=Math.round(fe*100/V)/100,w!==De)return{h:h.h,s:h.s,l:h.l,a:De,source:"rgb"}}return null},Qo={},hv=function(c,h,p,w){if(typeof document=="undefined"&&!w)return null;var T=w?new w:document.createElement("canvas");T.width=p*2,T.height=p*2;var V=T.getContext("2d");return V?(V.fillStyle=c,V.fillRect(0,0,T.width,T.height),V.fillStyle=h,V.fillRect(0,0,p,p),V.translate(p,p),V.fillRect(0,0,p,p),T.toDataURL()):null},vv=function(c,h,p,w){var T=c+"-"+h+"-"+p+(w?"-server":"");if(Qo[T])return Qo[T];var V=hv(c,h,p,w);return Qo[T]=V,V},Ds=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Ac=function(c){var h=c.white,p=c.grey,w=c.size,T=c.renderers,V=c.borderRadius,z=c.boxShadow,Z=c.children,le=ir()({default:{grid:{borderRadius:V,boxShadow:z,absolute:"0px 0px 0px 0px",background:"url("+vv(h,p,w,T.canvas)+") center left"}}});return Object(I.isValidElement)(Z)?b.a.cloneElement(Z,Ds({},Z.props,{style:Ds({},Z.props.style,le.grid)})):b.a.createElement("div",{style:le.grid})};Ac.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Jo=Ac,pv=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Sc=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function gv(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function Gl(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function mv(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var bv=function(f){mv(c,f);function c(){var h,p,w,T;gv(this,c);for(var V=arguments.length,z=Array(V),Z=0;Z<V;Z++)z[Z]=arguments[Z];return T=(p=(w=Gl(this,(h=c.__proto__||Object.getPrototypeOf(c)).call.apply(h,[this].concat(z))),w),w.handleChange=function(le){var fe=js(le,w.props.hsl,w.props.direction,w.props.a,w.container);fe&&typeof w.props.onChange=="function"&&w.props.onChange(fe,le)},w.handleMouseDown=function(le){w.handleChange(le),window.addEventListener("mousemove",w.handleChange),window.addEventListener("mouseup",w.handleMouseUp)},w.handleMouseUp=function(){w.unbindEventListeners()},w.unbindEventListeners=function(){window.removeEventListener("mousemove",w.handleChange),window.removeEventListener("mouseup",w.handleMouseUp)},p),Gl(w,T)}return Sc(c,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var p=this,w=this.props.rgb,T=ir()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+w.r+","+w.g+","+w.b+`, 0) 0%,
           rgba(`+w.r+","+w.g+","+w.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:w.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+w.r+","+w.g+","+w.b+`, 0) 0%,
           rgba(`+w.r+","+w.g+","+w.b+", 1) 100%)"},pointer:{left:0,top:w.a*100+"%"}},overwrite:pv({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return b.a.createElement("div",{style:T.alpha},b.a.createElement("div",{style:T.checkboard},b.a.createElement(Jo,{renderers:this.props.renderers})),b.a.createElement("div",{style:T.gradient}),b.a.createElement("div",{style:T.container,ref:function(z){return p.container=z},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("div",{style:T.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:T.slider}))))}}]),c}(I.PureComponent||I.Component),$l=bv,yv=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function wv(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function kv(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function _v(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function Tc(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var Mc=1,Ic=38,xv=40,Ov=[Ic,xv],Pv=function(c){return Ov.indexOf(c)>-1},Yl=function(c){return Number(String(c).replace(/%/g,""))},Ql=1,Qi=function(f){Tc(c,f);function c(h){kv(this,c);var p=_v(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.handleBlur=function(){p.state.blurValue&&p.setState({value:p.state.blurValue,blurValue:null})},p.handleChange=function(w){p.setUpdatedValue(w.target.value,w)},p.handleKeyDown=function(w){var T=Yl(w.target.value);if(!isNaN(T)&&Pv(w.keyCode)){var V=p.getArrowOffset(),z=w.keyCode===Ic?T+V:T-V;p.setUpdatedValue(z,w)}},p.handleDrag=function(w){if(p.props.dragLabel){var T=Math.round(p.props.value+w.movementX);T>=0&&T<=p.props.dragMax&&p.props.onChange&&p.props.onChange(p.getValueObjectWithLabel(T),w)}},p.handleMouseDown=function(w){p.props.dragLabel&&(w.preventDefault(),p.handleDrag(w),window.addEventListener("mousemove",p.handleDrag),window.addEventListener("mouseup",p.handleMouseUp))},p.handleMouseUp=function(){p.unbindEventListeners()},p.unbindEventListeners=function(){window.removeEventListener("mousemove",p.handleDrag),window.removeEventListener("mouseup",p.handleMouseUp)},p.state={value:String(h.value).toUpperCase(),blurValue:String(h.value).toUpperCase()},p.inputId="rc-editable-input-"+Ql++,p}return yv(c,[{key:"componentDidUpdate",value:function(p,w){this.props.value!==this.state.value&&(p.value!==this.props.value||w.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(p){return wv({},this.props.label,p)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Mc}},{key:"setUpdatedValue",value:function(p,w){var T=this.props.label?this.getValueObjectWithLabel(p):p;this.props.onChange&&this.props.onChange(T,w),this.setState({value:p})}},{key:"render",value:function(){var p=this,w=ir()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return b.a.createElement("div",{style:w.wrap},b.a.createElement("input",{id:this.inputId,style:w.input,ref:function(V){return p.input=V},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?b.a.createElement("label",{htmlFor:this.inputId,style:w.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),c}(I.PureComponent||I.Component),Mr=Qi,Ns=function(c,h,p,w){var T=w.clientWidth,V=w.clientHeight,z=typeof c.pageX=="number"?c.pageX:c.touches[0].pageX,Z=typeof c.pageY=="number"?c.pageY:c.touches[0].pageY,le=z-(w.getBoundingClientRect().left+window.pageXOffset),fe=Z-(w.getBoundingClientRect().top+window.pageYOffset);if(h==="vertical"){var Pe=void 0;if(fe<0)Pe=359;else if(fe>V)Pe=0;else{var Ee=-(fe*100/V)+100;Pe=360*Ee/100}if(p.h!==Pe)return{h:Pe,s:p.s,l:p.l,a:p.a,source:"hsl"}}else{var De=void 0;if(le<0)De=0;else if(le>T)De=359;else{var Ze=le*100/T;De=360*Ze/100}if(p.h!==De)return{h:De,s:p.s,l:p.l,a:p.a,source:"hsl"}}return null},Rc=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function go(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function Zo(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function Fs(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var Ls=function(f){Fs(c,f);function c(){var h,p,w,T;go(this,c);for(var V=arguments.length,z=Array(V),Z=0;Z<V;Z++)z[Z]=arguments[Z];return T=(p=(w=Zo(this,(h=c.__proto__||Object.getPrototypeOf(c)).call.apply(h,[this].concat(z))),w),w.handleChange=function(le){var fe=Ns(le,w.props.direction,w.props.hsl,w.container);fe&&typeof w.props.onChange=="function"&&w.props.onChange(fe,le)},w.handleMouseDown=function(le){w.handleChange(le),window.addEventListener("mousemove",w.handleChange),window.addEventListener("mouseup",w.handleMouseUp)},w.handleMouseUp=function(){w.unbindEventListeners()},p),Zo(w,T)}return Rc(c,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var p=this,w=this.props.direction,T=w===void 0?"horizontal":w,V=ir()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:T==="vertical"});return b.a.createElement("div",{style:V.hue},b.a.createElement("div",{className:"hue-"+T,style:V.container,ref:function(Z){return p.container=Z},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),b.a.createElement("div",{style:V.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:V.slider}))))}}]),c}(I.PureComponent||I.Component),Ka=Ls,On=k("17x9"),pt=k.n(On);function Ev(){this.__data__=[],this.size=0}var Cv=Ev;function jc(f,c){return f===c||f!==f&&c!==c}var mo=jc;function Bs(f,c){for(var h=f.length;h--;)if(mo(f[h][0],c))return h;return-1}var Xo=Bs,Av=Array.prototype,Ga=Av.splice;function xt(f){var c=this.__data__,h=Xo(c,f);if(h<0)return!1;var p=c.length-1;return h==p?c.pop():Ga.call(c,h,1),--this.size,!0}var kr=xt;function Vs(f){var c=this.__data__,h=Xo(c,f);return h<0?void 0:c[h][1]}var Jl=Vs;function Ji(f){return Xo(this.__data__,f)>-1}var Zl=Ji;function zs(f,c){var h=this.__data__,p=Xo(h,f);return p<0?(++this.size,h.push([f,c])):h[p][1]=c,this}var bo=zs;function yo(f){var c=-1,h=f==null?0:f.length;for(this.clear();++c<h;){var p=f[c];this.set(p[0],p[1])}}yo.prototype.clear=Cv,yo.prototype.delete=kr,yo.prototype.get=Jl,yo.prototype.has=Zl,yo.prototype.set=bo;var wo=yo;function Dc(){this.__data__=new wo,this.size=0}var Sv=Dc;function Us(f){var c=this.__data__,h=c.delete(f);return this.size=c.size,h}var Ii=Us;function Tv(f){return this.__data__.get(f)}var Mv=Tv;function tr(f){return this.__data__.has(f)}var Zi=tr,Ri=k("Ju5/"),Nc=Ri.a.Symbol,Xi=Nc,Xl=Object.prototype,Iv=Xl.hasOwnProperty,Rv=Xl.toString,ji=Xi?Xi.toStringTag:void 0;function Fc(f){var c=Iv.call(f,ji),h=f[ji];try{f[ji]=void 0;var p=!0}catch(T){}var w=Rv.call(f);return p&&(c?f[ji]=h:delete f[ji]),w}var ql=Fc,jv=Object.prototype,Lc=jv.toString;function Bc(f){return Lc.call(f)}var Vc=Bc,Dv="[object Null]",eu="[object Undefined]",ko=Xi?Xi.toStringTag:void 0;function zc(f){return f==null?f===void 0?eu:Dv:ko&&ko in Object(f)?ql(f):Vc(f)}var kn=zc;function Nv(f){var c=typeof f;return f!=null&&(c=="object"||c=="function")}var oi=Nv,Ws="[object AsyncFunction]",si="[object Function]",Hs="[object GeneratorFunction]",tu="[object Proxy]";function Fv(f){if(!oi(f))return!1;var c=kn(f);return c==si||c==Hs||c==Ws||c==tu}var Ks=Fv,Uc=Ri.a["__core-js_shared__"],Gs=Uc,qi=function(){var f=/[^.]+$/.exec(Gs&&Gs.keys&&Gs.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();function Wc(f){return!!qi&&qi in f}var Hc=Wc,_o=Function.prototype,Kc=_o.toString;function Gc(f){if(f!=null){try{return Kc.call(f)}catch(c){}try{return f+""}catch(c){}}return""}var pa=Gc,Lv=/[\\^$.*+?()[\]{}|]/g,An=/^\[object .+?Constructor\]$/,ru=Function.prototype,qo=Object.prototype,Bv=ru.toString,$s=qo.hasOwnProperty,nu=RegExp("^"+Bv.call($s).replace(Lv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $c(f){if(!oi(f)||Hc(f))return!1;var c=Ks(f)?nu:An;return c.test(pa(f))}var Yc=$c;function Ys(f,c){return f==null?void 0:f[c]}var es=Ys;function iu(f,c){var h=es(f,c);return Yc(h)?h:void 0}var ga=iu,ma=ga(Ri.a,"Map"),ts=ma,Vv=ga(Object,"create"),ba=Vv;function zv(){this.__data__=ba?ba(null):{},this.size=0}var Uv=zv;function Wv(f){var c=this.has(f)&&delete this.__data__[f];return this.size-=c?1:0,c}var Qc=Wv,Hv="__lodash_hash_undefined__",Kv=Object.prototype,Jc=Kv.hasOwnProperty;function au(f){var c=this.__data__;if(ba){var h=c[f];return h===Hv?void 0:h}return Jc.call(c,f)?c[f]:void 0}var Gv=au,$v=Object.prototype,Yv=$v.hasOwnProperty;function Zc(f){var c=this.__data__;return ba?c[f]!==void 0:Yv.call(c,f)}var Qv=Zc,Xc="__lodash_hash_undefined__";function Jv(f,c){var h=this.__data__;return this.size+=this.has(f)?0:1,h[f]=ba&&c===void 0?Xc:c,this}var qc=Jv;function ya(f){var c=-1,h=f==null?0:f.length;for(this.clear();++c<h;){var p=f[c];this.set(p[0],p[1])}}ya.prototype.clear=Uv,ya.prototype.delete=Qc,ya.prototype.get=Gv,ya.prototype.has=Qv,ya.prototype.set=qc;var ea=ya;function Zv(){this.size=0,this.__data__={hash:new ea,map:new(ts||wo),string:new ea}}var ou=Zv;function Xv(f){var c=typeof f;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?f!=="__proto__":f===null}var qv=Xv;function ep(f,c){var h=f.__data__;return qv(c)?h[typeof c=="string"?"string":"hash"]:h.map}var Qs=ep;function tp(f){var c=Qs(this,f).delete(f);return this.size-=c?1:0,c}var ed=tp;function rp(f){return Qs(this,f).get(f)}var np=rp;function su(f){return Qs(this,f).has(f)}var ip=su;function ap(f,c){var h=Qs(this,f),p=h.size;return h.set(f,c),this.size+=h.size==p?0:1,this}var op=ap;function xo(f){var c=-1,h=f==null?0:f.length;for(this.clear();++c<h;){var p=f[c];this.set(p[0],p[1])}}xo.prototype.clear=ou,xo.prototype.delete=ed,xo.prototype.get=np,xo.prototype.has=ip,xo.prototype.set=op;var Js=xo,Zs=200;function td(f,c){var h=this.__data__;if(h instanceof wo){var p=h.__data__;if(!ts||p.length<Zs-1)return p.push([f,c]),this.size=++h.size,this;h=this.__data__=new Js(p)}return h.set(f,c),this.size=h.size,this}var rd=td;function mn(f){var c=this.__data__=new wo(f);this.size=c.size}mn.prototype.clear=Sv,mn.prototype.delete=Ii,mn.prototype.get=Mv,mn.prototype.has=Zi,mn.prototype.set=rd;var $a=mn,nd=function(){try{var f=ga(Object,"defineProperty");return f({},"",{}),f}catch(c){}}(),rs=nd;function sp(f,c,h){c=="__proto__"&&rs?rs(f,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):f[c]=h}var Xs=sp;function id(f,c,h){(h!==void 0&&!mo(f[c],h)||h===void 0&&!(c in f))&&Xs(f,c,h)}var qs=id;function ad(f){return function(c,h,p){for(var w=-1,T=Object(c),V=p(c),z=V.length;z--;){var Z=V[f?z:++w];if(h(T[Z],Z,T)===!1)break}return c}}var od=ad,lu=od(),uu=lu,sd=k("3/ER"),ld=Ri.a.Uint8Array,wa=ld;function bn(f){var c=new f.constructor(f.byteLength);return new wa(c).set(new wa(f)),c}var Di=bn;function Oo(f,c){var h=c?Di(f.buffer):f.buffer;return new f.constructor(h,f.byteOffset,f.length)}var _n=Oo;function ta(f,c){var h=-1,p=f.length;for(c||(c=Array(p));++h<p;)c[h]=f[h];return c}var Ya=ta,nt=Object.create,ns=function(){function f(){}return function(c){if(!oi(c))return{};if(nt)return nt(c);f.prototype=c;var h=new f;return f.prototype=void 0,h}}(),ud=ns;function cd(f,c){return function(h){return f(c(h))}}var Qe=cd,cu=Qe(Object.getPrototypeOf,Object),is=cu,el=Object.prototype;function du(f){var c=f&&f.constructor,h=typeof c=="function"&&c.prototype||el;return f===h}var fu=du;function ka(f){return typeof f.constructor=="function"&&!fu(f)?ud(is(f)):{}}var dd=ka;function lp(f){return f!=null&&typeof f=="object"}var ra=lp,hu="[object Arguments]";function Po(f){return ra(f)&&kn(f)==hu}var fd=Po,hd=Object.prototype,wi=hd.hasOwnProperty,up=hd.propertyIsEnumerable,tl=fd(function(){return arguments}())?fd:function(f){return ra(f)&&wi.call(f,"callee")&&!up.call(f,"callee")},as=tl,_a=Array.isArray,li=_a,vd=9007199254740991;function rl(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=vd}var nl=rl;function pd(f){return f!=null&&nl(f.length)&&!Ks(f)}var xa=pd;function cp(f){return ra(f)&&xa(f)}var gd=cp,Eo=k("WOAq"),md="[object Object]",bd=Function.prototype,yd=Object.prototype,wd=bd.toString,dp=yd.hasOwnProperty,fp=wd.call(Object);function kd(f){if(!ra(f)||kn(f)!=md)return!1;var c=is(f);if(c===null)return!0;var h=dp.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&wd.call(h)==fp}var il=kd,hp="[object Arguments]",vp="[object Array]",pp="[object Boolean]",gp="[object Date]",mp="[object Error]",bp="[object Function]",yp="[object Map]",Co="[object Number]",wp="[object Object]",kp="[object RegExp]",_d="[object Set]",xd="[object String]",Od="[object WeakMap]",_p="[object ArrayBuffer]",al="[object DataView]",vu="[object Float32Array]",ol="[object Float64Array]",di="[object Int8Array]",Qa="[object Int16Array]",pu="[object Int32Array]",Pd="[object Uint8Array]",os="[object Uint8ClampedArray]",Ed="[object Uint16Array]",ss="[object Uint32Array]",on={};on[vu]=on[ol]=on[di]=on[Qa]=on[pu]=on[Pd]=on[os]=on[Ed]=on[ss]=!0,on[hp]=on[vp]=on[_p]=on[pp]=on[al]=on[gp]=on[mp]=on[bp]=on[yp]=on[Co]=on[wp]=on[kp]=on[_d]=on[xd]=on[Od]=!1;function Cd(f){return ra(f)&&nl(f.length)&&!!on[kn(f)]}var Ad=Cd;function zn(f){return function(c){return f(c)}}var xp=zn,Jr=k("xutz"),Wn=Jr.a&&Jr.a.isTypedArray,Ni=Wn?xp(Wn):Ad,fi=Ni;function ls(f,c){if(!(c==="constructor"&&typeof f[c]=="function")&&c!="__proto__")return f[c]}var Pn=ls,un=Object.prototype,gu=un.hasOwnProperty;function Op(f,c,h){var p=f[c];(!(gu.call(f,c)&&mo(p,h))||h===void 0&&!(c in f))&&Xs(f,c,h)}var Sd=Op;function Td(f,c,h,p){var w=!h;h||(h={});for(var T=-1,V=c.length;++T<V;){var z=c[T],Z=p?p(h[z],f[z],z,h,f):void 0;Z===void 0&&(Z=f[z]),w?Xs(h,z,Z):Sd(h,z,Z)}return h}var us=Td;function Pp(f,c){for(var h=-1,p=Array(f);++h<f;)p[h]=c(h);return p}var Md=Pp,Ep=9007199254740991,Id=/^(?:0|[1-9]\d*)$/;function Cp(f,c){var h=typeof f;return c=c==null?Ep:c,!!c&&(h=="number"||h!="symbol"&&Id.test(f))&&f>-1&&f%1==0&&f<c}var mu=Cp,Ap=Object.prototype,Rd=Ap.hasOwnProperty;function jd(f,c){var h=li(f),p=!h&&as(f),w=!h&&!p&&Object(Eo.a)(f),T=!h&&!p&&!w&&fi(f),V=h||p||w||T,z=V?Md(f.length,String):[],Z=z.length;for(var le in f)(c||Rd.call(f,le))&&!(V&&(le=="length"||w&&(le=="offset"||le=="parent")||T&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||mu(le,Z)))&&z.push(le);return z}var bu=jd;function Dd(f){var c=[];if(f!=null)for(var h in Object(f))c.push(h);return c}var Nd=Dd,cs=Object.prototype,Qn=cs.hasOwnProperty;function ki(f){if(!oi(f))return Nd(f);var c=fu(f),h=[];for(var p in f)p=="constructor"&&(c||!Qn.call(f,p))||h.push(p);return h}var Hn=ki;function Sp(f){return xa(f)?bu(f,!0):Hn(f)}var Fd=Sp;function Tp(f){return us(f,Fd(f))}var Mp=Tp;function Ld(f,c,h,p,w,T,V){var z=Pn(f,h),Z=Pn(c,h),le=V.get(Z);if(le){qs(f,h,le);return}var fe=T?T(z,Z,h+"",f,c,V):void 0,Pe=fe===void 0;if(Pe){var Ee=li(Z),De=!Ee&&Object(Eo.a)(Z),Ze=!Ee&&!De&&fi(Z);fe=Z,Ee||De||Ze?li(z)?fe=z:gd(z)?fe=Ya(z):De?(Pe=!1,fe=Object(sd.a)(Z,!0)):Ze?(Pe=!1,fe=_n(Z,!0)):fe=[]:il(Z)||as(Z)?(fe=z,as(z)?fe=Mp(z):(!oi(z)||Ks(z))&&(fe=dd(Z))):Pe=!1}Pe&&(V.set(Z,fe),w(fe,Z,p,T,V),V.delete(Z)),qs(f,h,fe)}var Bd=Ld;function Vd(f,c,h,p,w){f!==c&&uu(c,function(T,V){if(w||(w=new $a),oi(T))Bd(f,c,V,h,Vd,p,w);else{var z=p?p(Pn(f,V),T,V+"",f,c,w):void 0;z===void 0&&(z=T),qs(f,V,z)}},Fd)}var Ip=Vd;function Rp(f){return f}var sl=Rp;function zd(f,c,h){switch(h.length){case 0:return f.call(c);case 1:return f.call(c,h[0]);case 2:return f.call(c,h[0],h[1]);case 3:return f.call(c,h[0],h[1],h[2])}return f.apply(c,h)}var jp=zd,Ud=Math.max;function Wd(f,c,h){return c=Ud(c===void 0?f.length-1:c,0),function(){for(var p=arguments,w=-1,T=Ud(p.length-c,0),V=Array(T);++w<T;)V[w]=p[c+w];w=-1;for(var z=Array(c+1);++w<c;)z[w]=p[w];return z[c]=h(V),jp(f,this,z)}}var Hd=Wd;function Kd(f){return function(){return f}}var na=Kd,Dp=rs?function(f,c){return rs(f,"toString",{configurable:!0,enumerable:!1,value:na(c),writable:!0})}:sl,Gd=Dp,Np=800,Fp=16,Lp=Date.now;function $d(f){var c=0,h=0;return function(){var p=Lp(),w=Fp-(p-h);if(h=p,w>0){if(++c>=Np)return arguments[0]}else c=0;return f.apply(void 0,arguments)}}var Bp=$d,yu=Bp(Gd),_i=yu;function Yd(f,c){return _i(Hd(f,c,sl),f+"")}var ll=Yd;function Qd(f,c,h){if(!oi(h))return!1;var p=typeof c;return(p=="number"?xa(h)&&mu(c,h.length):p=="string"&&c in h)?mo(h[c],f):!1}var Vp=Qd;function Jd(f){return ll(function(c,h){var p=-1,w=h.length,T=w>1?h[w-1]:void 0,V=w>2?h[2]:void 0;for(T=f.length>3&&typeof T=="function"?(w--,T):void 0,V&&Vp(h[0],h[1],V)&&(T=w<3?void 0:T,w=1),c=Object(c);++p<w;){var z=h[p];z&&f(c,z,p,T)}return c})}var zp=Jd,Up=zp(function(f,c,h){Ip(f,c,h)}),Xn=Up,ia=function(c){var h=c.zDepth,p=c.radius,w=c.background,T=c.children,V=c.styles,z=V===void 0?{}:V,Z=ir()(Xn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+h+"px "+h*4+"px rgba(0,0,0,.24)",borderRadius:p,background:w}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},z),{"zDepth-1":h===1});return b.a.createElement("div",{style:Z.wrap},b.a.createElement("div",{style:Z.bg}),b.a.createElement("div",{style:Z.content},T))};ia.propTypes={background:pt.a.string,zDepth:pt.a.oneOf([0,1,2,3,4,5]),radius:pt.a.number,styles:pt.a.object},ia.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var ui=ia,ds=function(){return Ri.a.Date.now()},wu=ds,Zd=/\s/;function ul(f){for(var c=f.length;c--&&Zd.test(f.charAt(c)););return c}var Xd=ul,Wp=/^\s+/;function Hp(f){return f&&f.slice(0,Xd(f)+1).replace(Wp,"")}var Kp=Hp,qd="[object Symbol]";function ef(f){return typeof f=="symbol"||ra(f)&&kn(f)==qd}var fs=ef,ku=0/0,tf=/^[-+]0x[0-9a-f]+$/i,Ao=/^0b[01]+$/i,cl=/^0o[0-7]+$/i,_u=parseInt;function xu(f){if(typeof f=="number")return f;if(fs(f))return ku;if(oi(f)){var c=typeof f.valueOf=="function"?f.valueOf():f;f=oi(c)?c+"":c}if(typeof f!="string")return f===0?f:+f;f=Kp(f);var h=Ao.test(f);return h||cl.test(f)?_u(f.slice(2),h?2:8):tf.test(f)?ku:+f}var Ou=xu,_r="Expected a function",rf=Math.max,Gp=Math.min;function $p(f,c,h){var p,w,T,V,z,Z,le=0,fe=!1,Pe=!1,Ee=!0;if(typeof f!="function")throw new TypeError(_r);c=Ou(c)||0,oi(h)&&(fe=!!h.leading,Pe="maxWait"in h,T=Pe?rf(Ou(h.maxWait)||0,c):T,Ee="trailing"in h?!!h.trailing:Ee);function De(rr){var sn=p,pi=w;return p=w=void 0,le=rr,V=f.apply(pi,sn),V}function Ze(rr){return le=rr,z=setTimeout(Ft,c),fe?De(rr):V}function Ge(rr){var sn=rr-Z,pi=rr-le,ti=c-sn;return Pe?Gp(ti,T-pi):ti}function at(rr){var sn=rr-Z,pi=rr-le;return Z===void 0||sn>=c||sn<0||Pe&&pi>=T}function Ft(){var rr=wu();if(at(rr))return yr(rr);z=setTimeout(Ft,Ge(rr))}function yr(rr){return z=void 0,Ee&&p?De(rr):(p=w=void 0,V)}function Fr(){z!==void 0&&clearTimeout(z),le=0,p=Z=w=z=void 0}function xr(){return z===void 0?V:yr(wu())}function vn(){var rr=wu(),sn=at(rr);if(p=arguments,w=this,Z=rr,sn){if(z===void 0)return Ze(Z);if(Pe)return clearTimeout(z),z=setTimeout(Ft,c),De(Z)}return z===void 0&&(z=setTimeout(Ft,c)),V}return vn.cancel=Fr,vn.flush=xr,vn}var Pu=$p,Yp="Expected a function";function Qp(f,c,h){var p=!0,w=!0;if(typeof f!="function")throw new TypeError(Yp);return oi(h)&&(p="leading"in h?!!h.leading:p,w="trailing"in h?!!h.trailing:w),Pu(f,c,{leading:p,maxWait:c,trailing:w})}var Jp=Qp,Eu=function(c,h,p){var w=p.getBoundingClientRect(),T=w.width,V=w.height,z=typeof c.pageX=="number"?c.pageX:c.touches[0].pageX,Z=typeof c.pageY=="number"?c.pageY:c.touches[0].pageY,le=z-(p.getBoundingClientRect().left+window.pageXOffset),fe=Z-(p.getBoundingClientRect().top+window.pageYOffset);le<0?le=0:le>T&&(le=T),fe<0?fe=0:fe>V&&(fe=V);var Pe=le/T,Ee=1-fe/V;return{h:h.h,s:Pe,v:Ee,a:h.a,source:"hsv"}},hs=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function Zp(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function So(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function Cu(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var nf=function(f){Cu(c,f);function c(h){Zp(this,c);var p=So(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h));return p.handleChange=function(w){typeof p.props.onChange=="function"&&p.throttle(p.props.onChange,Eu(w,p.props.hsl,p.container),w)},p.handleMouseDown=function(w){p.handleChange(w);var T=p.getContainerRenderWindow();T.addEventListener("mousemove",p.handleChange),T.addEventListener("mouseup",p.handleMouseUp)},p.handleMouseUp=function(){p.unbindEventListeners()},p.throttle=Jp(function(w,T,V){w(T,V)},50),p}return hs(c,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var p=this.container,w=window;!w.document.contains(p)&&w.parent!==w;)w=w.parent;return w}},{key:"unbindEventListeners",value:function(){var p=this.getContainerRenderWindow();p.removeEventListener("mousemove",this.handleChange),p.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var p=this,w=this.props.style||{},T=w.color,V=w.white,z=w.black,Z=w.pointer,le=w.circle,fe=ir()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:T,white:V,black:z,pointer:Z,circle:le}},{custom:!!this.props.style});return b.a.createElement("div",{style:fe.color,ref:function(Ee){return p.container=Ee},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),b.a.createElement("div",{style:fe.white,className:"saturation-white"},b.a.createElement("div",{style:fe.black,className:"saturation-black"}),b.a.createElement("div",{style:fe.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:fe.circle}))))}}]),c}(I.PureComponent||I.Component),To=nf;function af(f,c){for(var h=-1,p=f==null?0:f.length;++h<p&&c(f[h],h,f)!==!1;);return f}var Xp=af,of=Qe(Object.keys,Object),Au=of,sf=Object.prototype,lf=sf.hasOwnProperty;function Su(f){if(!fu(f))return Au(f);var c=[];for(var h in Object(f))lf.call(f,h)&&h!="constructor"&&c.push(h);return c}var dl=Su;function uf(f){return xa(f)?bu(f):dl(f)}var cn=uf;function cf(f,c){return f&&uu(f,c,cn)}var df=cf;function ff(f,c){return function(h,p){if(h==null)return h;if(!xa(h))return f(h,p);for(var w=h.length,T=c?w:-1,V=Object(h);(c?T--:++T<w)&&p(V[T],T,V)!==!1;);return h}}var hf=ff,qp=hf(df),fl=qp;function hl(f){return typeof f=="function"?f:sl}var Mo=hl;function vf(f,c){var h=li(f)?Xp:fl;return h(f,Mo(c))}var Tu=vf,eg=k("Zss7"),vl=k.n(eg),pf=function(c){var h=["r","g","b","a","h","s","l","v"],p=0,w=0;return Tu(h,function(T){if(c[T]&&(p+=1,isNaN(c[T])||(w+=1),T==="s"||T==="l")){var V=/^\d+%$/;V.test(c[T])&&(w+=1)}}),p===w?c:!1},vs=function(c,h){var p=c.hex?vl()(c.hex):vl()(c),w=p.toHsl(),T=p.toHsv(),V=p.toRgb(),z=p.toHex();w.s===0&&(w.h=h||0,T.h=h||0);var Z=z==="000000"&&V.a===0;return{hsl:w,hex:Z?"transparent":"#"+z,rgb:V,hsv:T,oldHue:c.h||h||w.h,source:c.source}},Fi=function(c){if(c==="transparent")return!0;var h=String(c).charAt(0)==="#"?1:0;return c.length!==4+h&&c.length<7+h&&vl()(c).isValid()},ct=function(c){if(!c)return"#fff";var h=vs(c);if(h.hex==="transparent")return"rgba(0,0,0,0.4)";var p=(h.rgb.r*299+h.rgb.g*587+h.rgb.b*114)/1e3;return p>=128?"#000":"#fff"},tg={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},Mu=function(c,h){var p=c.replace("\xB0","");return vl()(h+" ("+p+")")._ok},ps=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},gf=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function Io(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function Ir(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function mf(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var Iu=function(c){var h=function(p){mf(w,p);function w(T){Io(this,w);var V=Ir(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return V.handleChange=function(z,Z){var le=pf(z);if(le){var fe=vs(z,z.h||V.state.oldHue);V.setState(fe),V.props.onChangeComplete&&V.debounce(V.props.onChangeComplete,fe,Z),V.props.onChange&&V.props.onChange(fe,Z)}},V.handleSwatchHover=function(z,Z){var le=pf(z);if(le){var fe=vs(z,z.h||V.state.oldHue);V.props.onSwatchHover&&V.props.onSwatchHover(fe,Z)}},V.state=ps({},vs(T.color,0)),V.debounce=Pu(function(z,Z,le){z(Z,le)},100),V}return gf(w,[{key:"render",value:function(){var V={};return this.props.onSwatchHover&&(V.onSwatchHover=this.handleSwatchHover),b.a.createElement(c,ps({},this.props,this.state,{onChange:this.handleChange},V))}}],[{key:"getDerivedStateFromProps",value:function(V,z){return ps({},vs(V.color,z.oldHue))}}]),w}(I.PureComponent||I.Component);return h.propTypes=ps({},c.propTypes),h.defaultProps=ps({},c.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),h},qn=Iu,bf=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},yf=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function rg(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function wf(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function kf(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var Ru=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(p){kf(w,p);function w(){var T,V,z,Z;rg(this,w);for(var le=arguments.length,fe=Array(le),Pe=0;Pe<le;Pe++)fe[Pe]=arguments[Pe];return Z=(V=(z=wf(this,(T=w.__proto__||Object.getPrototypeOf(w)).call.apply(T,[this].concat(fe))),z),z.state={focus:!1},z.handleFocus=function(){return z.setState({focus:!0})},z.handleBlur=function(){return z.setState({focus:!1})},V),wf(z,Z)}return yf(w,[{key:"render",value:function(){return b.a.createElement(h,{onFocus:this.handleFocus,onBlur:this.handleBlur},b.a.createElement(c,bf({},this.props,this.state)))}}]),w}(b.a.Component)},_f=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},ng=13,ig=function(c){var h=c.color,p=c.style,w=c.onClick,T=w===void 0?function(){}:w,V=c.onHover,z=c.title,Z=z===void 0?h:z,le=c.children,fe=c.focus,Pe=c.focusStyle,Ee=Pe===void 0?{}:Pe,De=h==="transparent",Ze=ir()({default:{swatch:_f({background:h,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},p,fe?Ee:{})}}),Ge=function(xr){return T(h,xr)},at=function(xr){return xr.keyCode===ng&&T(h,xr)},Ft=function(xr){return V(h,xr)},yr={};return V&&(yr.onMouseOver=Ft),b.a.createElement("div",_f({style:Ze.swatch,onClick:Ge,title:Z,tabIndex:0,onKeyDown:at},yr),le,De&&b.a.createElement(Jo,{borderRadius:Ze.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))},Ja=Ru(ig),ag=function(c){var h=c.direction,p=ir()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:h==="vertical"});return b.a.createElement("div",{style:p.picker})},og=ag,xf=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Of=function(c){var h=c.rgb,p=c.hsl,w=c.width,T=c.height,V=c.onChange,z=c.direction,Z=c.style,le=c.renderers,fe=c.pointer,Pe=c.className,Ee=Pe===void 0?"":Pe,De=ir()({default:{picker:{position:"relative",width:w,height:T},alpha:{radius:"2px",style:Z}}});return b.a.createElement("div",{style:De.picker,className:"alpha-picker "+Ee},b.a.createElement($l,xf({},De.alpha,{rgb:h,hsl:p,pointer:fe,renderers:le,onChange:V,direction:z})))};Of.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:og};var Gm=qn(Of);function Pf(f,c){for(var h=-1,p=f==null?0:f.length,w=Array(p);++h<p;)w[h]=c(f[h],h,f);return w}var pl=Pf,Ef="__lodash_hash_undefined__";function sg(f){return this.__data__.set(f,Ef),this}var lg=sg;function Cf(f){return this.__data__.has(f)}var Af=Cf;function gl(f){var c=-1,h=f==null?0:f.length;for(this.__data__=new Js;++c<h;)this.add(f[c])}gl.prototype.add=gl.prototype.push=lg,gl.prototype.has=Af;var Sf=gl;function ug(f,c){for(var h=-1,p=f==null?0:f.length;++h<p;)if(c(f[h],h,f))return!0;return!1}var cg=ug;function dg(f,c){return f.has(c)}var ju=dg,Ur=1,fg=2;function Tf(f,c,h,p,w,T){var V=h&Ur,z=f.length,Z=c.length;if(z!=Z&&!(V&&Z>z))return!1;var le=T.get(f),fe=T.get(c);if(le&&fe)return le==c&&fe==f;var Pe=-1,Ee=!0,De=h&fg?new Sf:void 0;for(T.set(f,c),T.set(c,f);++Pe<z;){var Ze=f[Pe],Ge=c[Pe];if(p)var at=V?p(Ge,Ze,Pe,c,f,T):p(Ze,Ge,Pe,f,c,T);if(at!==void 0){if(at)continue;Ee=!1;break}if(De){if(!cg(c,function(Ft,yr){if(!ju(De,yr)&&(Ze===Ft||w(Ze,Ft,h,p,T)))return De.push(yr)})){Ee=!1;break}}else if(!(Ze===Ge||w(Ze,Ge,h,p,T))){Ee=!1;break}}return T.delete(f),T.delete(c),Ee}var Mf=Tf;function hg(f){var c=-1,h=Array(f.size);return f.forEach(function(p,w){h[++c]=[w,p]}),h}var If=hg;function Rf(f){var c=-1,h=Array(f.size);return f.forEach(function(p){h[++c]=p}),h}var jf=Rf,Df=1,Ro=2,Nf="[object Boolean]",vg="[object Date]",pg="[object Error]",gg="[object Map]",mg="[object Number]",Ff="[object RegExp]",Lf="[object Set]",bg="[object String]",Bf="[object Symbol]",ml="[object ArrayBuffer]",Vf="[object DataView]",Du=Xi?Xi.prototype:void 0,ei=Du?Du.valueOf:void 0;function Nu(f,c,h,p,w,T,V){switch(h){case Vf:if(f.byteLength!=c.byteLength||f.byteOffset!=c.byteOffset)return!1;f=f.buffer,c=c.buffer;case ml:return!(f.byteLength!=c.byteLength||!T(new wa(f),new wa(c)));case Nf:case vg:case mg:return mo(+f,+c);case pg:return f.name==c.name&&f.message==c.message;case Ff:case bg:return f==c+"";case gg:var z=If;case Lf:var Z=p&Df;if(z||(z=jf),f.size!=c.size&&!Z)return!1;var le=V.get(f);if(le)return le==c;p|=Ro,V.set(f,c);var fe=Mf(z(f),z(c),p,w,T,V);return V.delete(f),fe;case Bf:if(ei)return ei.call(f)==ei.call(c)}return!1}var yg=Nu;function zf(f,c){for(var h=-1,p=c.length,w=f.length;++h<p;)f[w+h]=c[h];return f}var wg=zf;function gs(f,c,h){var p=c(f);return li(f)?p:wg(p,h(f))}var Uf=gs;function jo(f,c){for(var h=-1,p=f==null?0:f.length,w=0,T=[];++h<p;){var V=f[h];c(V,h,f)&&(T[w++]=V)}return T}var Wf=jo;function bl(){return[]}var Hf=bl,kg=Object.prototype,_g=kg.propertyIsEnumerable,Kf=Object.getOwnPropertySymbols,xg=Kf?function(f){return f==null?[]:(f=Object(f),Wf(Kf(f),function(c){return _g.call(f,c)}))}:Hf,Li=xg;function Og(f){return Uf(f,cn,Li)}var ms=Og,Gf=1,$f=Object.prototype,Pg=$f.hasOwnProperty;function Eg(f,c,h,p,w,T){var V=h&Gf,z=ms(f),Z=z.length,le=ms(c),fe=le.length;if(Z!=fe&&!V)return!1;for(var Pe=Z;Pe--;){var Ee=z[Pe];if(!(V?Ee in c:Pg.call(c,Ee)))return!1}var De=T.get(f),Ze=T.get(c);if(De&&Ze)return De==c&&Ze==f;var Ge=!0;T.set(f,c),T.set(c,f);for(var at=V;++Pe<Z;){Ee=z[Pe];var Ft=f[Ee],yr=c[Ee];if(p)var Fr=V?p(yr,Ft,Ee,c,f,T):p(Ft,yr,Ee,f,c,T);if(!(Fr===void 0?Ft===yr||w(Ft,yr,h,p,T):Fr)){Ge=!1;break}at||(at=Ee=="constructor")}if(Ge&&!at){var xr=f.constructor,vn=c.constructor;xr!=vn&&"constructor"in f&&"constructor"in c&&!(typeof xr=="function"&&xr instanceof xr&&typeof vn=="function"&&vn instanceof vn)&&(Ge=!1)}return T.delete(f),T.delete(c),Ge}var Cg=Eg,Ag=ga(Ri.a,"DataView"),yl=Ag,Fu=ga(Ri.a,"Promise"),Lu=Fu,wl=ga(Ri.a,"Set"),kl=wl,Yf=ga(Ri.a,"WeakMap"),Er=Yf,_l="[object Map]",Jn="[object Object]",Kn="[object Promise]",xi="[object Set]",xl="[object WeakMap]",Qf="[object DataView]",Bu=pa(yl),Ol=pa(ts),Sg=pa(Lu),Tg=pa(kl),Vu=pa(Er),Bi=kn;(yl&&Bi(new yl(new ArrayBuffer(1)))!=Qf||ts&&Bi(new ts)!=_l||Lu&&Bi(Lu.resolve())!=Kn||kl&&Bi(new kl)!=xi||Er&&Bi(new Er)!=xl)&&(Bi=function(c){var h=kn(c),p=h==Jn?c.constructor:void 0,w=p?pa(p):"";if(w)switch(w){case Bu:return Qf;case Ol:return _l;case Sg:return Kn;case Tg:return xi;case Vu:return xl}return h});var zu=Bi,Jf=1,Oa="[object Arguments]",Uu="[object Array]",Pl="[object Object]",Zf=Object.prototype,Wu=Zf.hasOwnProperty;function Hu(f,c,h,p,w,T){var V=li(f),z=li(c),Z=V?Uu:zu(f),le=z?Uu:zu(c);Z=Z==Oa?Pl:Z,le=le==Oa?Pl:le;var fe=Z==Pl,Pe=le==Pl,Ee=Z==le;if(Ee&&Object(Eo.a)(f)){if(!Object(Eo.a)(c))return!1;V=!0,fe=!1}if(Ee&&!fe)return T||(T=new $a),V||fi(f)?Mf(f,c,h,p,w,T):yg(f,c,Z,h,p,w,T);if(!(h&Jf)){var De=fe&&Wu.call(f,"__wrapped__"),Ze=Pe&&Wu.call(c,"__wrapped__");if(De||Ze){var Ge=De?f.value():f,at=Ze?c.value():c;return T||(T=new $a),w(Ge,at,h,p,T)}}return Ee?(T||(T=new $a),Cg(f,c,h,p,w,T)):!1}var Xf=Hu;function qf(f,c,h,p,w){return f===c?!0:f==null||c==null||!ra(f)&&!ra(c)?f!==f&&c!==c:Xf(f,c,h,p,qf,w)}var eh=qf,Mg=1,Ig=2;function th(f,c,h,p){var w=h.length,T=w,V=!p;if(f==null)return!T;for(f=Object(f);w--;){var z=h[w];if(V&&z[2]?z[1]!==f[z[0]]:!(z[0]in f))return!1}for(;++w<T;){z=h[w];var Z=z[0],le=f[Z],fe=z[1];if(V&&z[2]){if(le===void 0&&!(Z in f))return!1}else{var Pe=new $a;if(p)var Ee=p(le,fe,Z,f,c,Pe);if(!(Ee===void 0?eh(fe,le,Mg|Ig,p,Pe):Ee))return!1}}return!0}var Rg=th;function jg(f){return f===f&&!oi(f)}var El=jg;function Ku(f){for(var c=cn(f),h=c.length;h--;){var p=c[h],w=f[p];c[h]=[p,w,El(w)]}return c}var rh=Ku;function nh(f,c){return function(h){return h==null?!1:h[f]===c&&(c!==void 0||f in Object(h))}}var Gu=nh;function ih(f){var c=rh(f);return c.length==1&&c[0][2]?Gu(c[0][0],c[0][1]):function(h){return h===f||Rg(h,f,c)}}var Dg=ih,Ng=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fg=/^\w*$/;function Lg(f,c){if(li(f))return!1;var h=typeof f;return h=="number"||h=="symbol"||h=="boolean"||f==null||fs(f)?!0:Fg.test(f)||!Ng.test(f)||c!=null&&f in Object(c)}var $u=Lg,Bg="Expected a function";function Yu(f,c){if(typeof f!="function"||c!=null&&typeof c!="function")throw new TypeError(Bg);var h=function p(){var w=arguments,T=c?c.apply(this,w):w[0],V=p.cache;if(V.has(T))return V.get(T);var z=f.apply(this,w);return p.cache=V.set(T,z)||V,z};return h.cache=new(Yu.Cache||Js),h}Yu.Cache=Js;var Vg=Yu,ah=500;function oh(f){var c=Vg(f,function(p){return h.size===ah&&h.clear(),p}),h=c.cache;return c}var zg=oh,sh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ug=/\\(\\)?/g,lh=zg(function(f){var c=[];return f.charCodeAt(0)===46&&c.push(""),f.replace(sh,function(h,p,w,T){c.push(w?T.replace(Ug,"$1"):p||h)}),c}),uh=lh,Qu=1/0,Cl=Xi?Xi.prototype:void 0,Ju=Cl?Cl.toString:void 0;function ch(f){if(typeof f=="string")return f;if(li(f))return pl(f,ch)+"";if(fs(f))return Ju?Ju.call(f):"";var c=f+"";return c=="0"&&1/f==-Qu?"-0":c}var dh=ch;function Zu(f){return f==null?"":dh(f)}var Wg=Zu;function fh(f,c){return li(f)?f:$u(f,c)?[f]:uh(Wg(f))}var hh=fh,Xu=1/0;function vh(f){if(typeof f=="string"||fs(f))return f;var c=f+"";return c=="0"&&1/f==-Xu?"-0":c}var Do=vh;function ph(f,c){c=hh(c,f);for(var h=0,p=c.length;f!=null&&h<p;)f=f[Do(c[h++])];return h&&h==p?f:void 0}var gh=ph;function qu(f,c,h){var p=f==null?void 0:gh(f,c);return p===void 0?h:p}var mh=qu;function Hg(f,c){return f!=null&&c in Object(f)}var Kg=Hg;function Gg(f,c,h){c=hh(c,f);for(var p=-1,w=c.length,T=!1;++p<w;){var V=Do(c[p]);if(!(T=f!=null&&h(f,V)))break;f=f[V]}return T||++p!=w?T:(w=f==null?0:f.length,!!w&&nl(w)&&mu(V,w)&&(li(f)||as(f)))}var bh=Gg;function $g(f,c){return f!=null&&bh(f,c,Kg)}var bs=$g,yh=1,wh=2;function Yg(f,c){return $u(f)&&El(c)?Gu(Do(f),c):function(h){var p=mh(h,f);return p===void 0&&p===c?bs(h,f):eh(c,p,yh|wh)}}var kh=Yg;function Qg(f){return function(c){return c==null?void 0:c[f]}}var Jg=Qg;function ec(f){return function(c){return gh(c,f)}}var Zg=ec;function Xg(f){return $u(f)?Jg(Do(f)):Zg(f)}var qg=Xg;function tc(f){return typeof f=="function"?f:f==null?sl:typeof f=="object"?li(f)?kh(f[0],f[1]):Dg(f):qg(f)}var em=tc;function rc(f,c){var h=-1,p=xa(f)?Array(f.length):[];return fl(f,function(w,T,V){p[++h]=c(w,T,V)}),p}var nc=rc;function ic(f,c){var h=li(f)?pl:nc;return h(f,em(c,3))}var aa=ic,tm=function(c){var h=c.colors,p=c.onClick,w=c.onSwatchHover,T=ir()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return b.a.createElement("div",{style:T.swatches},aa(h,function(V){return b.a.createElement(Ja,{key:V,color:V,style:T.swatch,onClick:p,onHover:w,focusStyle:{boxShadow:"0 0 4px "+V}})}),b.a.createElement("div",{style:T.clear}))},Al=tm,Pa=function(c){var h=c.onChange,p=c.onSwatchHover,w=c.hex,T=c.colors,V=c.width,z=c.triangle,Z=c.styles,le=Z===void 0?{}:Z,fe=c.className,Pe=fe===void 0?"":fe,Ee=w==="transparent",De=function(at,Ft){Fi(at)&&h({hex:at,source:"hex"},Ft)},Ze=ir()(Xn({default:{card:{width:V,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:w,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:ct(w),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+w+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},le),{"hide-triangle":z==="hide"});return b.a.createElement("div",{style:Ze.card,className:"block-picker "+Pe},b.a.createElement("div",{style:Ze.triangle}),b.a.createElement("div",{style:Ze.head},Ee&&b.a.createElement(Jo,{borderRadius:"6px 6px 0 0"}),b.a.createElement("div",{style:Ze.label},w)),b.a.createElement("div",{style:Ze.body},b.a.createElement(Al,{colors:T,onClick:De,onSwatchHover:p}),b.a.createElement(Mr,{style:{input:Ze.input},value:w,onChange:De})))};Pa.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),colors:pt.a.arrayOf(pt.a.string),triangle:pt.a.oneOf(["top","hide"]),styles:pt.a.object},Pa.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};var $m=qn(Pa),Za={"50":"#ffebee","100":"#ffcdd2","200":"#ef9a9a","300":"#e57373","400":"#ef5350","500":"#f44336","600":"#e53935","700":"#d32f2f","800":"#c62828","900":"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ea={"50":"#fce4ec","100":"#f8bbd0","200":"#f48fb1","300":"#f06292","400":"#ec407a","500":"#e91e63","600":"#d81b60","700":"#c2185b","800":"#ad1457","900":"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Xa={"50":"#f3e5f5","100":"#e1bee7","200":"#ce93d8","300":"#ba68c8","400":"#ab47bc","500":"#9c27b0","600":"#8e24aa","700":"#7b1fa2","800":"#6a1b9a","900":"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},qa={"50":"#ede7f6","100":"#d1c4e9","200":"#b39ddb","300":"#9575cd","400":"#7e57c2","500":"#673ab7","600":"#5e35b1","700":"#512da8","800":"#4527a0","900":"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Ca={"50":"#e8eaf6","100":"#c5cae9","200":"#9fa8da","300":"#7986cb","400":"#5c6bc0","500":"#3f51b5","600":"#3949ab","700":"#303f9f","800":"#283593","900":"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},eo={"50":"#e3f2fd","100":"#bbdefb","200":"#90caf9","300":"#64b5f6","400":"#42a5f5","500":"#2196f3","600":"#1e88e5","700":"#1976d2","800":"#1565c0","900":"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},to={"50":"#e1f5fe","100":"#b3e5fc","200":"#81d4fa","300":"#4fc3f7","400":"#29b6f6","500":"#03a9f4","600":"#039be5","700":"#0288d1","800":"#0277bd","900":"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Aa={"50":"#e0f7fa","100":"#b2ebf2","200":"#80deea","300":"#4dd0e1","400":"#26c6da","500":"#00bcd4","600":"#00acc1","700":"#0097a7","800":"#00838f","900":"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ro={"50":"#e0f2f1","100":"#b2dfdb","200":"#80cbc4","300":"#4db6ac","400":"#26a69a","500":"#009688","600":"#00897b","700":"#00796b","800":"#00695c","900":"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},No={"50":"#e8f5e9","100":"#c8e6c9","200":"#a5d6a7","300":"#81c784","400":"#66bb6a","500":"#4caf50","600":"#43a047","700":"#388e3c","800":"#2e7d32","900":"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Sa={"50":"#f1f8e9","100":"#dcedc8","200":"#c5e1a5","300":"#aed581","400":"#9ccc65","500":"#8bc34a","600":"#7cb342","700":"#689f38","800":"#558b2f","900":"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ta={"50":"#f9fbe7","100":"#f0f4c3","200":"#e6ee9c","300":"#dce775","400":"#d4e157","500":"#cddc39","600":"#c0ca33","700":"#afb42b","800":"#9e9d24","900":"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Ma={"50":"#fffde7","100":"#fff9c4","200":"#fff59d","300":"#fff176","400":"#ffee58","500":"#ffeb3b","600":"#fdd835","700":"#fbc02d","800":"#f9a825","900":"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Ia={"50":"#fff8e1","100":"#ffecb3","200":"#ffe082","300":"#ffd54f","400":"#ffca28","500":"#ffc107","600":"#ffb300","700":"#ffa000","800":"#ff8f00","900":"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Ra={"50":"#fff3e0","100":"#ffe0b2","200":"#ffcc80","300":"#ffb74d","400":"#ffa726","500":"#ff9800","600":"#fb8c00","700":"#f57c00","800":"#ef6c00","900":"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Vi={"50":"#fbe9e7","100":"#ffccbc","200":"#ffab91","300":"#ff8a65","400":"#ff7043","500":"#ff5722","600":"#f4511e","700":"#e64a19","800":"#d84315","900":"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},no={"50":"#efebe9","100":"#d7ccc8","200":"#bcaaa4","300":"#a1887f","400":"#8d6e63","500":"#795548","600":"#6d4c41","700":"#5d4037","800":"#4e342e","900":"#3e2723"},rm={"50":"#fafafa","100":"#f5f5f5","200":"#eeeeee","300":"#e0e0e0","400":"#bdbdbd","500":"#9e9e9e","600":"#757575","700":"#616161","800":"#424242","900":"#212121"},io={"50":"#eceff1","100":"#cfd8dc","200":"#b0bec5","300":"#90a4ae","400":"#78909c","500":"#607d8b","600":"#546e7a","700":"#455a64","800":"#37474f","900":"#263238"},nm={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},_h={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},im={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},xh={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},am="#ffffff",ac="#000000",Ym={red:Za,pink:Ea,purple:Xa,deepPurple:qa,indigo:Ca,blue:eo,lightBlue:to,cyan:Aa,teal:ro,green:No,lightGreen:Sa,lime:Ta,yellow:Ma,amber:Ia,orange:Ra,deepOrange:Vi,brown:no,grey:rm,blueGrey:io,darkText:nm,lightText:_h,darkIcons:im,lightIcons:xh,white:am,black:ac},Sl=function(c){var h=c.color,p=c.onClick,w=c.onSwatchHover,T=c.hover,V=c.active,z=c.circleSize,Z=c.circleSpacing,le=ir()({default:{swatch:{width:z,height:z,marginRight:Z,marginBottom:Z,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(z/2+1)+"px "+h,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+h}}},{hover:T,active:V});return b.a.createElement("div",{style:le.swatch},b.a.createElement(Ja,{style:le.Swatch,color:h,onClick:p,onHover:w,focusStyle:{boxShadow:le.Swatch.boxShadow+", 0 0 5px "+h}}))};Sl.defaultProps={circleSize:28,circleSpacing:14};var om=Object(Kl.handleHover)(Sl),oc=function(c){var h=c.width,p=c.onChange,w=c.onSwatchHover,T=c.colors,V=c.hex,z=c.circleSize,Z=c.styles,le=Z===void 0?{}:Z,fe=c.circleSpacing,Pe=c.className,Ee=Pe===void 0?"":Pe,De=ir()(Xn({default:{card:{width:h,display:"flex",flexWrap:"wrap",marginRight:-fe,marginBottom:-fe}}},le)),Ze=function(at,Ft){return p({hex:at,source:"hex"},Ft)};return b.a.createElement("div",{style:De.card,className:"circle-picker "+Ee},aa(T,function(Ge){return b.a.createElement(om,{key:Ge,color:Ge,onClick:Ze,onSwatchHover:w,active:V===Ge.toLowerCase(),circleSize:z,circleSpacing:fe})}))};oc.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),circleSize:pt.a.number,circleSpacing:pt.a.number,styles:pt.a.object},oc.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Za["500"],Ea["500"],Xa["500"],qa["500"],Ca["500"],eo["500"],to["500"],Aa["500"],ro["500"],No["500"],Sa["500"],Ta["500"],Ma["500"],Ia["500"],Ra["500"],Vi["500"],no["500"],io["500"]],styles:{}};var sm=qn(oc);function Oh(f){return f===void 0}var sc=Oh,Ph=k("9F0J"),lm=k.n(Ph),Eh=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function Ch(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function Ah(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function Sh(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var Tl=function(f){Sh(c,f);function c(h){Ch(this,c);var p=Ah(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.toggleViews=function(){p.state.view==="hex"?p.setState({view:"rgb"}):p.state.view==="rgb"?p.setState({view:"hsl"}):p.state.view==="hsl"&&(p.props.hsl.a===1?p.setState({view:"hex"}):p.setState({view:"rgb"}))},p.handleChange=function(w,T){w.hex?Fi(w.hex)&&p.props.onChange({hex:w.hex,source:"hex"},T):w.r||w.g||w.b?p.props.onChange({r:w.r||p.props.rgb.r,g:w.g||p.props.rgb.g,b:w.b||p.props.rgb.b,source:"rgb"},T):w.a?(w.a<0?w.a=0:w.a>1&&(w.a=1),p.props.onChange({h:p.props.hsl.h,s:p.props.hsl.s,l:p.props.hsl.l,a:Math.round(w.a*100)/100,source:"rgb"},T)):(w.h||w.s||w.l)&&(typeof w.s=="string"&&w.s.includes("%")&&(w.s=w.s.replace("%","")),typeof w.l=="string"&&w.l.includes("%")&&(w.l=w.l.replace("%","")),w.s==1?w.s=.01:w.l==1&&(w.l=.01),p.props.onChange({h:w.h||p.props.hsl.h,s:Number(sc(w.s)?p.props.hsl.s:w.s),l:Number(sc(w.l)?p.props.hsl.l:w.l),source:"hsl"},T))},p.showHighlight=function(w){w.currentTarget.style.background="#eee"},p.hideHighlight=function(w){w.currentTarget.style.background="transparent"},h.hsl.a!==1&&h.view==="hex"?p.state={view:"rgb"}:p.state={view:h.view},p}return Eh(c,[{key:"render",value:function(){var p=this,w=ir()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),T=void 0;return this.state.view==="hex"?T=b.a.createElement("div",{style:w.fields,className:"flexbox-fix"},b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?T=b.a.createElement("div",{style:w.fields,className:"flexbox-fix"},b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),b.a.createElement("div",{style:w.alpha},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(T=b.a.createElement("div",{style:w.fields,className:"flexbox-fix"},b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),b.a.createElement("div",{style:w.field},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),b.a.createElement("div",{style:w.alpha},b.a.createElement(Mr,{style:{input:w.input,label:w.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),b.a.createElement("div",{style:w.wrap,className:"flexbox-fix"},T,b.a.createElement("div",{style:w.toggle},b.a.createElement("div",{style:w.icon,onClick:this.toggleViews,ref:function(z){return p.icon=z}},b.a.createElement(lm.a,{style:w.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(p,w){return p.hsl.a!==1&&w.view==="hex"?{view:"rgb"}:null}}]),c}(b.a.Component);Tl.defaultProps={view:"hex"};var Ml=Tl,Th=function(){var c=ir()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.a.createElement("div",{style:c.picker})},lc=Th,um=function(){var c=ir()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return b.a.createElement("div",{style:c.picker})},cm=um,uc=function(c){var h=c.width,p=c.onChange,w=c.disableAlpha,T=c.rgb,V=c.hsl,z=c.hsv,Z=c.hex,le=c.renderers,fe=c.styles,Pe=fe===void 0?{}:fe,Ee=c.className,De=Ee===void 0?"":Ee,Ze=c.defaultView,Ge=ir()(Xn({default:{picker:{width:h,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+T.r+", "+T.g+", "+T.b+", "+T.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},Pe),{disableAlpha:w});return b.a.createElement("div",{style:Ge.picker,className:"chrome-picker "+De},b.a.createElement("div",{style:Ge.saturation},b.a.createElement(To,{style:Ge.Saturation,hsl:V,hsv:z,pointer:cm,onChange:p})),b.a.createElement("div",{style:Ge.body},b.a.createElement("div",{style:Ge.controls,className:"flexbox-fix"},b.a.createElement("div",{style:Ge.color},b.a.createElement("div",{style:Ge.swatch},b.a.createElement("div",{style:Ge.active}),b.a.createElement(Jo,{renderers:le}))),b.a.createElement("div",{style:Ge.toggles},b.a.createElement("div",{style:Ge.hue},b.a.createElement(Ka,{style:Ge.Hue,hsl:V,pointer:lc,onChange:p})),b.a.createElement("div",{style:Ge.alpha},b.a.createElement($l,{style:Ge.Alpha,rgb:T,hsl:V,pointer:lc,renderers:le,onChange:p})))),b.a.createElement(Ml,{rgb:T,hsl:V,hex:Z,view:Ze,onChange:p,disableAlpha:w})))};uc.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),disableAlpha:pt.a.bool,styles:pt.a.object,defaultView:pt.a.oneOf(["hex","rgb","hsl"])},uc.defaultProps={width:225,disableAlpha:!1,styles:{}};var cc=qn(uc),Mh=function(c){var h=c.color,p=c.onClick,w=p===void 0?function(){}:p,T=c.onSwatchHover,V=c.active,z=ir()({default:{color:{background:h,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:ct(h),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:V,"color-#FFFFFF":h==="#FFFFFF",transparent:h==="transparent"});return b.a.createElement(Ja,{style:z.color,color:h,onClick:w,onHover:T,focusStyle:{boxShadow:"0 0 4px "+h}},b.a.createElement("div",{style:z.dot}))},Ih=Mh,Rh=function(c){var h=c.hex,p=c.rgb,w=c.onChange,T=ir()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:h},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),V=function(Z,le){Z.r||Z.g||Z.b?w({r:Z.r||p.r,g:Z.g||p.g,b:Z.b||p.b,source:"rgb"},le):w({hex:Z.hex,source:"hex"},le)};return b.a.createElement("div",{style:T.fields,className:"flexbox-fix"},b.a.createElement("div",{style:T.active}),b.a.createElement(Mr,{style:{wrap:T.HEXwrap,input:T.HEXinput,label:T.HEXlabel},label:"hex",value:h,onChange:V}),b.a.createElement(Mr,{style:{wrap:T.RGBwrap,input:T.RGBinput,label:T.RGBlabel},label:"r",value:p.r,onChange:V}),b.a.createElement(Mr,{style:{wrap:T.RGBwrap,input:T.RGBinput,label:T.RGBlabel},label:"g",value:p.g,onChange:V}),b.a.createElement(Mr,{style:{wrap:T.RGBwrap,input:T.RGBinput,label:T.RGBlabel},label:"b",value:p.b,onChange:V}))},dm=Rh,Il=function(c){var h=c.onChange,p=c.onSwatchHover,w=c.colors,T=c.hex,V=c.rgb,z=c.styles,Z=z===void 0?{}:z,le=c.className,fe=le===void 0?"":le,Pe=ir()(Xn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},Z)),Ee=function(Ze,Ge){Ze.hex?Fi(Ze.hex)&&h({hex:Ze.hex,source:"hex"},Ge):h(Ze,Ge)};return b.a.createElement(ui,{style:Pe.Compact,styles:Z},b.a.createElement("div",{style:Pe.compact,className:"compact-picker "+fe},b.a.createElement("div",null,aa(w,function(De){return b.a.createElement(Ih,{key:De,color:De,active:De.toLowerCase()===T,onClick:Ee,onSwatchHover:p})}),b.a.createElement("div",{style:Pe.clear})),b.a.createElement(dm,{hex:T,rgb:V,onChange:Ee})))};Il.propTypes={colors:pt.a.arrayOf(pt.a.string),styles:pt.a.object},Il.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};var fm=qn(Il),hm=function(c){var h=c.hover,p=c.color,w=c.onClick,T=c.onSwatchHover,V={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},z=ir()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:V}},{hover:h});return b.a.createElement("div",{style:z.swatch},b.a.createElement(Ja,{color:p,onClick:w,onHover:T,focusStyle:V}))},vm=Object(Kl.handleHover)(hm),dc=function(c){var h=c.width,p=c.colors,w=c.onChange,T=c.onSwatchHover,V=c.triangle,z=c.styles,Z=z===void 0?{}:z,le=c.className,fe=le===void 0?"":le,Pe=ir()(Xn({default:{card:{width:h,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},Z),{"hide-triangle":V==="hide","top-left-triangle":V==="top-left","top-right-triangle":V==="top-right","bottom-left-triangle":V==="bottom-left","bottom-right-triangle":V==="bottom-right"}),Ee=function(Ze,Ge){return w({hex:Ze,source:"hex"},Ge)};return b.a.createElement("div",{style:Pe.card,className:"github-picker "+fe},b.a.createElement("div",{style:Pe.triangleShadow}),b.a.createElement("div",{style:Pe.triangle}),aa(p,function(De){return b.a.createElement(vm,{color:De,key:De,onClick:Ee,onSwatchHover:T})}))};dc.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),colors:pt.a.arrayOf(pt.a.string),triangle:pt.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:pt.a.object},dc.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};var Qm=qn(dc),pm=function(c){var h=c.direction,p=ir()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:h==="vertical"});return b.a.createElement("div",{style:p.picker})},fc=pm,jh=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Rl=function(c){var h=c.width,p=c.height,w=c.onChange,T=c.hsl,V=c.direction,z=c.pointer,Z=c.styles,le=Z===void 0?{}:Z,fe=c.className,Pe=fe===void 0?"":fe,Ee=ir()(Xn({default:{picker:{position:"relative",width:h,height:p},hue:{radius:"2px"}}},le)),De=function(Ge){return w({a:1,h:Ge.h,l:.5,s:1})};return b.a.createElement("div",{style:Ee.picker,className:"hue-picker "+Pe},b.a.createElement(Ka,jh({},Ee.hue,{hsl:T,pointer:z,onChange:De,direction:V})))};Rl.propTypes={styles:pt.a.object},Rl.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:fc,styles:{}};var gm=qn(Rl),Dh=function(c){var h=c.onChange,p=c.hex,w=c.rgb,T=c.styles,V=T===void 0?{}:T,z=c.className,Z=z===void 0?"":z,le=ir()(Xn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+p,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},V)),fe=function(Ee,De){Ee.hex?Fi(Ee.hex)&&h({hex:Ee.hex,source:"hex"},De):(Ee.r||Ee.g||Ee.b)&&h({r:Ee.r||w.r,g:Ee.g||w.g,b:Ee.b||w.b,source:"rgb"},De)};return b.a.createElement(ui,{styles:V},b.a.createElement("div",{style:le.material,className:"material-picker "+Z},b.a.createElement(Mr,{style:{wrap:le.HEXwrap,input:le.HEXinput,label:le.HEXlabel},label:"hex",value:p,onChange:fe}),b.a.createElement("div",{style:le.split,className:"flexbox-fix"},b.a.createElement("div",{style:le.third},b.a.createElement(Mr,{style:{wrap:le.RGBwrap,input:le.RGBinput,label:le.RGBlabel},label:"r",value:w.r,onChange:fe})),b.a.createElement("div",{style:le.third},b.a.createElement(Mr,{style:{wrap:le.RGBwrap,input:le.RGBinput,label:le.RGBlabel},label:"g",value:w.g,onChange:fe})),b.a.createElement("div",{style:le.third},b.a.createElement(Mr,{style:{wrap:le.RGBwrap,input:le.RGBinput,label:le.RGBlabel},label:"b",value:w.b,onChange:fe})))))},Jm=qn(Dh),Nh=function(c){var h=c.onChange,p=c.rgb,w=c.hsv,T=c.hex,V=ir()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),z=function(le,fe){le["#"]?Fi(le["#"])&&h({hex:le["#"],source:"hex"},fe):le.r||le.g||le.b?h({r:le.r||p.r,g:le.g||p.g,b:le.b||p.b,source:"rgb"},fe):(le.h||le.s||le.v)&&h({h:le.h||w.h,s:le.s||w.s,v:le.v||w.v,source:"hsv"},fe)};return b.a.createElement("div",{style:V.fields},b.a.createElement(Mr,{style:{wrap:V.RGBwrap,input:V.RGBinput,label:V.RGBlabel},label:"h",value:Math.round(w.h),onChange:z}),b.a.createElement(Mr,{style:{wrap:V.RGBwrap,input:V.RGBinput,label:V.RGBlabel},label:"s",value:Math.round(w.s*100),onChange:z}),b.a.createElement(Mr,{style:{wrap:V.RGBwrap,input:V.RGBinput,label:V.RGBlabel},label:"v",value:Math.round(w.v*100),onChange:z}),b.a.createElement("div",{style:V.divider}),b.a.createElement(Mr,{style:{wrap:V.RGBwrap,input:V.RGBinput,label:V.RGBlabel},label:"r",value:p.r,onChange:z}),b.a.createElement(Mr,{style:{wrap:V.RGBwrap,input:V.RGBinput,label:V.RGBlabel},label:"g",value:p.g,onChange:z}),b.a.createElement(Mr,{style:{wrap:V.RGBwrap,input:V.RGBinput,label:V.RGBlabel},label:"b",value:p.b,onChange:z}),b.a.createElement("div",{style:V.divider}),b.a.createElement(Mr,{style:{wrap:V.HEXwrap,input:V.HEXinput,label:V.HEXlabel},label:"#",value:T.replace("#",""),onChange:z}),b.a.createElement("div",{style:V.fieldSymbols},b.a.createElement("div",{style:V.symbol},"\xB0"),b.a.createElement("div",{style:V.symbol},"%"),b.a.createElement("div",{style:V.symbol},"%")))},hi=Nh,Fh=function(c){var h=c.hsl,p=ir()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":h.l>.5});return b.a.createElement("div",{style:p.picker})},Lh=Fh,Bh=function(){var c=ir()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return b.a.createElement("div",{style:c.pointer},b.a.createElement("div",{style:c.left},b.a.createElement("div",{style:c.leftInside})),b.a.createElement("div",{style:c.right},b.a.createElement("div",{style:c.rightInside})))},mm=Bh,Vh=function(c){var h=c.onClick,p=c.label,w=c.children,T=c.active,V=ir()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:T});return b.a.createElement("div",{style:V.button,onClick:h},p||w)},zh=Vh,bm=function(c){var h=c.rgb,p=c.currentColor,w=ir()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+h.r+","+h.g+", "+h.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:p,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return b.a.createElement("div",null,b.a.createElement("div",{style:w.label},"new"),b.a.createElement("div",{style:w.swatches},b.a.createElement("div",{style:w.new}),b.a.createElement("div",{style:w.current})),b.a.createElement("div",{style:w.label},"current"))},Uh=bm,ym=function(){function f(c,h){for(var p=0;p<h.length;p++){var w=h[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,h,p){return h&&f(c.prototype,h),p&&f(c,p),c}}();function wm(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function Wh(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:f}function km(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}var jl=function(f){km(c,f);function c(h){wm(this,c);var p=Wh(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return p.state={currentColor:h.hex},p}return ym(c,[{key:"render",value:function(){var p=this.props,w=p.styles,T=w===void 0?{}:w,V=p.className,z=V===void 0?"":V,Z=ir()(Xn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},T));return b.a.createElement("div",{style:Z.picker,className:"photoshop-picker "+z},b.a.createElement("div",{style:Z.head},this.props.header),b.a.createElement("div",{style:Z.body,className:"flexbox-fix"},b.a.createElement("div",{style:Z.saturation},b.a.createElement(To,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Lh,onChange:this.props.onChange})),b.a.createElement("div",{style:Z.hue},b.a.createElement(Ka,{direction:"vertical",hsl:this.props.hsl,pointer:mm,onChange:this.props.onChange})),b.a.createElement("div",{style:Z.controls},b.a.createElement("div",{style:Z.top,className:"flexbox-fix"},b.a.createElement("div",{style:Z.previews},b.a.createElement(Uh,{rgb:this.props.rgb,currentColor:this.state.currentColor})),b.a.createElement("div",{style:Z.actions},b.a.createElement(zh,{label:"OK",onClick:this.props.onAccept,active:!0}),b.a.createElement(zh,{label:"Cancel",onClick:this.props.onCancel}),b.a.createElement(hi,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),c}(b.a.Component);jl.propTypes={header:pt.a.string,styles:pt.a.object},jl.defaultProps={header:"Color Picker",styles:{}};var Zm=qn(jl),_m=function(c){var h=c.onChange,p=c.rgb,w=c.hsl,T=c.hex,V=c.disableAlpha,z=ir()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:V}),Z=function(fe,Pe){fe.hex?Fi(fe.hex)&&h({hex:fe.hex,source:"hex"},Pe):fe.r||fe.g||fe.b?h({r:fe.r||p.r,g:fe.g||p.g,b:fe.b||p.b,a:p.a,source:"rgb"},Pe):fe.a&&(fe.a<0?fe.a=0:fe.a>100&&(fe.a=100),fe.a/=100,h({h:w.h,s:w.s,l:w.l,a:fe.a,source:"rgb"},Pe))};return b.a.createElement("div",{style:z.fields,className:"flexbox-fix"},b.a.createElement("div",{style:z.double},b.a.createElement(Mr,{style:{input:z.input,label:z.label},label:"hex",value:T.replace("#",""),onChange:Z})),b.a.createElement("div",{style:z.single},b.a.createElement(Mr,{style:{input:z.input,label:z.label},label:"r",value:p.r,onChange:Z,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:z.single},b.a.createElement(Mr,{style:{input:z.input,label:z.label},label:"g",value:p.g,onChange:Z,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:z.single},b.a.createElement(Mr,{style:{input:z.input,label:z.label},label:"b",value:p.b,onChange:Z,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:z.alpha},b.a.createElement(Mr,{style:{input:z.input,label:z.label},label:"a",value:Math.round(p.a*100),onChange:Z,dragLabel:"true",dragMax:"100"})))},Hh=_m,ao=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Kh=function(c){var h=c.colors,p=c.onClick,w=p===void 0?function(){}:p,T=c.onSwatchHover,V=ir()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!h||!h.length}),z=function(le,fe){w({hex:le,source:"hex"},fe)};return b.a.createElement("div",{style:V.colors,className:"flexbox-fix"},h.map(function(Z){var le=typeof Z=="string"?{color:Z}:Z,fe=""+le.color+(le.title||"");return b.a.createElement("div",{key:fe,style:V.swatchWrap},b.a.createElement(Ja,ao({},le,{style:V.swatch,onClick:z,onHover:T,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+le.color}})))}))};Kh.propTypes={colors:pt.a.arrayOf(pt.a.oneOfType([pt.a.string,pt.a.shape({color:pt.a.string,title:pt.a.string})])).isRequired};var hc=Kh,xm=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Dl=function(c){var h=c.width,p=c.rgb,w=c.hex,T=c.hsv,V=c.hsl,z=c.onChange,Z=c.onSwatchHover,le=c.disableAlpha,fe=c.presetColors,Pe=c.renderers,Ee=c.styles,De=Ee===void 0?{}:Ee,Ze=c.className,Ge=Ze===void 0?"":Ze,at=ir()(Xn({default:xm({picker:{width:h,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+p.r+","+p.g+","+p.b+","+p.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},De),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},De),{disableAlpha:le});return b.a.createElement("div",{style:at.picker,className:"sketch-picker "+Ge},b.a.createElement("div",{style:at.saturation},b.a.createElement(To,{style:at.Saturation,hsl:V,hsv:T,onChange:z})),b.a.createElement("div",{style:at.controls,className:"flexbox-fix"},b.a.createElement("div",{style:at.sliders},b.a.createElement("div",{style:at.hue},b.a.createElement(Ka,{style:at.Hue,hsl:V,onChange:z})),b.a.createElement("div",{style:at.alpha},b.a.createElement($l,{style:at.Alpha,rgb:p,hsl:V,renderers:Pe,onChange:z}))),b.a.createElement("div",{style:at.color},b.a.createElement(Jo,null),b.a.createElement("div",{style:at.activeColor}))),b.a.createElement(Hh,{rgb:p,hsl:V,hex:w,onChange:z,disableAlpha:le}),b.a.createElement(hc,{colors:fe,onClick:z,onSwatchHover:Z}))};Dl.propTypes={disableAlpha:pt.a.bool,width:pt.a.oneOfType([pt.a.string,pt.a.number]),styles:pt.a.object},Dl.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Gh=qn(Dl),$h=function(c){var h=c.hsl,p=c.offset,w=c.onClick,T=w===void 0?function(){}:w,V=c.active,z=c.first,Z=c.last,le=ir()({default:{swatch:{height:"12px",background:"hsl("+h.h+", 50%, "+p*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:V,first:z,last:Z}),fe=function(Ee){return T({h:h.h,s:.5,l:p,source:"hsl"},Ee)};return b.a.createElement("div",{style:le.swatch,onClick:fe})},Fo=$h,Om=function(c){var h=c.onClick,p=c.hsl,w=ir()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),T=.1;return b.a.createElement("div",{style:w.swatches},b.a.createElement("div",{style:w.swatch},b.a.createElement(Fo,{hsl:p,offset:".80",active:Math.abs(p.l-.8)<T&&Math.abs(p.s-.5)<T,onClick:h,first:!0})),b.a.createElement("div",{style:w.swatch},b.a.createElement(Fo,{hsl:p,offset:".65",active:Math.abs(p.l-.65)<T&&Math.abs(p.s-.5)<T,onClick:h})),b.a.createElement("div",{style:w.swatch},b.a.createElement(Fo,{hsl:p,offset:".50",active:Math.abs(p.l-.5)<T&&Math.abs(p.s-.5)<T,onClick:h})),b.a.createElement("div",{style:w.swatch},b.a.createElement(Fo,{hsl:p,offset:".35",active:Math.abs(p.l-.35)<T&&Math.abs(p.s-.5)<T,onClick:h})),b.a.createElement("div",{style:w.swatch},b.a.createElement(Fo,{hsl:p,offset:".20",active:Math.abs(p.l-.2)<T&&Math.abs(p.s-.5)<T,onClick:h,last:!0})),b.a.createElement("div",{style:w.clear}))},Pm=Om,Em=function(){var c=ir()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.a.createElement("div",{style:c.picker})},Yh=Em,Lo=function(c){var h=c.hsl,p=c.onChange,w=c.pointer,T=c.styles,V=T===void 0?{}:T,z=c.className,Z=z===void 0?"":z,le=ir()(Xn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},V));return b.a.createElement("div",{style:le.wrap||{},className:"slider-picker "+Z},b.a.createElement("div",{style:le.hue},b.a.createElement(Ka,{style:le.Hue,hsl:h,pointer:w,onChange:p})),b.a.createElement("div",{style:le.swatches},b.a.createElement(Pm,{hsl:h,onClick:p})))};Lo.propTypes={styles:pt.a.object},Lo.defaultProps={pointer:Yh,styles:{}};var Xm=qn(Lo),Cm=k("ql/k"),Am=k.n(Cm),Sm=function(c){var h=c.color,p=c.onClick,w=p===void 0?function(){}:p,T=c.onSwatchHover,V=c.first,z=c.last,Z=c.active,le=ir()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:h,marginBottom:"1px"},check:{color:ct(h),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:V,last:z,active:Z,"color-#FFFFFF":h==="#FFFFFF",transparent:h==="transparent"});return b.a.createElement(Ja,{color:h,style:le.color,onClick:w,onHover:T,focusStyle:{boxShadow:"0 0 4px "+h}},b.a.createElement("div",{style:le.check},b.a.createElement(Am.a,null)))},Tm=Sm,Qh=function(c){var h=c.onClick,p=c.onSwatchHover,w=c.group,T=c.active,V=ir()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return b.a.createElement("div",{style:V.group},aa(w,function(z,Z){return b.a.createElement(Tm,{key:z,color:z,active:z.toLowerCase()===T,first:Z===0,last:Z===w.length-1,onClick:h,onSwatchHover:p})}))},Mm=Qh,vc=function(c){var h=c.width,p=c.height,w=c.onChange,T=c.onSwatchHover,V=c.colors,z=c.hex,Z=c.styles,le=Z===void 0?{}:Z,fe=c.className,Pe=fe===void 0?"":fe,Ee=ir()(Xn({default:{picker:{width:h,height:p},overflow:{height:p,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},le)),De=function(Ge,at){return w({hex:Ge,source:"hex"},at)};return b.a.createElement("div",{style:Ee.picker,className:"swatches-picker "+Pe},b.a.createElement(ui,null,b.a.createElement("div",{style:Ee.overflow},b.a.createElement("div",{style:Ee.body},aa(V,function(Ze){return b.a.createElement(Mm,{key:Ze.toString(),group:Ze,active:z,onClick:De,onSwatchHover:T})}),b.a.createElement("div",{style:Ee.clear})))))};vc.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),height:pt.a.oneOfType([pt.a.string,pt.a.number]),colors:pt.a.arrayOf(pt.a.arrayOf(pt.a.string)),styles:pt.a.object},vc.defaultProps={width:320,height:240,colors:[[Za["900"],Za["700"],Za["500"],Za["300"],Za["100"]],[Ea["900"],Ea["700"],Ea["500"],Ea["300"],Ea["100"]],[Xa["900"],Xa["700"],Xa["500"],Xa["300"],Xa["100"]],[qa["900"],qa["700"],qa["500"],qa["300"],qa["100"]],[Ca["900"],Ca["700"],Ca["500"],Ca["300"],Ca["100"]],[eo["900"],eo["700"],eo["500"],eo["300"],eo["100"]],[to["900"],to["700"],to["500"],to["300"],to["100"]],[Aa["900"],Aa["700"],Aa["500"],Aa["300"],Aa["100"]],[ro["900"],ro["700"],ro["500"],ro["300"],ro["100"]],["#194D33",No["700"],No["500"],No["300"],No["100"]],[Sa["900"],Sa["700"],Sa["500"],Sa["300"],Sa["100"]],[Ta["900"],Ta["700"],Ta["500"],Ta["300"],Ta["100"]],[Ma["900"],Ma["700"],Ma["500"],Ma["300"],Ma["100"]],[Ia["900"],Ia["700"],Ia["500"],Ia["300"],Ia["100"]],[Ra["900"],Ra["700"],Ra["500"],Ra["300"],Ra["100"]],[Vi["900"],Vi["700"],Vi["500"],Vi["300"],Vi["100"]],[no["900"],no["700"],no["500"],no["300"],no["100"]],[io["900"],io["700"],io["500"],io["300"],io["100"]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};var qm=qn(vc),Nl=function(c){var h=c.onChange,p=c.onSwatchHover,w=c.hex,T=c.colors,V=c.width,z=c.triangle,Z=c.styles,le=Z===void 0?{}:Z,fe=c.className,Pe=fe===void 0?"":fe,Ee=ir()(Xn({default:{card:{width:V,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},le),{"hide-triangle":z==="hide","top-left-triangle":z==="top-left","top-right-triangle":z==="top-right"}),De=function(Ge,at){Fi(Ge)&&h({hex:Ge,source:"hex"},at)};return b.a.createElement("div",{style:Ee.card,className:"twitter-picker "+Pe},b.a.createElement("div",{style:Ee.triangleShadow}),b.a.createElement("div",{style:Ee.triangle}),b.a.createElement("div",{style:Ee.body},aa(T,function(Ze,Ge){return b.a.createElement(Ja,{key:Ge,color:Ze,hex:Ze,style:Ee.swatch,onClick:De,onHover:p,focusStyle:{boxShadow:"0 0 4px "+Ze}})}),b.a.createElement("div",{style:Ee.hash},"#"),b.a.createElement(Mr,{label:null,style:{input:Ee.input},value:w.replace("#",""),onChange:De}),b.a.createElement("div",{style:Ee.clear})))};Nl.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),triangle:pt.a.oneOf(["hide","top-left","top-right"]),colors:pt.a.arrayOf(pt.a.string),styles:pt.a.object},Nl.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var eb=qn(Nl),pc=function(c){var h=ir()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(c.hsl.h)+", "+Math.round(c.hsl.s*100)+"%, "+Math.round(c.hsl.l*100)+"%)"}}});return b.a.createElement("div",{style:h.picker})};pc.propTypes={hsl:pt.a.shape({h:pt.a.number,s:pt.a.number,l:pt.a.number,a:pt.a.number})},pc.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Im=pc,gc=function(c){var h=ir()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(c.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return b.a.createElement("div",{style:h.picker})};gc.propTypes={hsl:pt.a.shape({h:pt.a.number,s:pt.a.number,l:pt.a.number,a:pt.a.number})},gc.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Rm=gc,hn=function(c){var h=c.onChange,p=c.rgb,w=c.hsl,T=c.hex,V=c.hsv,z=function(De,Ze){if(De.hex)Fi(De.hex)&&h({hex:De.hex,source:"hex"},Ze);else if(De.rgb){var Ge=De.rgb.split(",");Mu(De.rgb,"rgb")&&h({r:Ge[0],g:Ge[1],b:Ge[2],a:1,source:"rgb"},Ze)}else if(De.hsv){var at=De.hsv.split(",");Mu(De.hsv,"hsv")&&(at[2]=at[2].replace("%",""),at[1]=at[1].replace("%",""),at[0]=at[0].replace("\xB0",""),at[1]==1?at[1]=.01:at[2]==1&&(at[2]=.01),h({h:Number(at[0]),s:Number(at[1]),v:Number(at[2]),source:"hsv"},Ze))}else if(De.hsl){var Ft=De.hsl.split(",");Mu(De.hsl,"hsl")&&(Ft[2]=Ft[2].replace("%",""),Ft[1]=Ft[1].replace("%",""),Ft[0]=Ft[0].replace("\xB0",""),Pe[1]==1?Pe[1]=.01:Pe[2]==1&&(Pe[2]=.01),h({h:Number(Ft[0]),s:Number(Ft[1]),v:Number(Ft[2]),source:"hsl"},Ze))}},Z=ir()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),le=p.r+", "+p.g+", "+p.b,fe=Math.round(w.h)+"\xB0, "+Math.round(w.s*100)+"%, "+Math.round(w.l*100)+"%",Pe=Math.round(V.h)+"\xB0, "+Math.round(V.s*100)+"%, "+Math.round(V.v*100)+"%";return b.a.createElement("div",{style:Z.wrap,className:"flexbox-fix"},b.a.createElement("div",{style:Z.fields},b.a.createElement("div",{style:Z.double},b.a.createElement(Mr,{style:{input:Z.input,label:Z.label},label:"hex",value:T,onChange:z})),b.a.createElement("div",{style:Z.column},b.a.createElement("div",{style:Z.single},b.a.createElement(Mr,{style:{input:Z.input2,label:Z.label2},label:"rgb",value:le,onChange:z})),b.a.createElement("div",{style:Z.single},b.a.createElement(Mr,{style:{input:Z.input2,label:Z.label2},label:"hsv",value:Pe,onChange:z})),b.a.createElement("div",{style:Z.single},b.a.createElement(Mr,{style:{input:Z.input2,label:Z.label2},label:"hsl",value:fe,onChange:z})))))},Dn=hn,oa=function(c){var h=c.width,p=c.onChange,w=c.rgb,T=c.hsl,V=c.hsv,z=c.hex,Z=c.header,le=c.styles,fe=le===void 0?{}:le,Pe=c.className,Ee=Pe===void 0?"":Pe,De=ir()(Xn({default:{picker:{width:h,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+w.r+", "+w.g+", "+w.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},fe));return b.a.createElement("div",{style:De.picker,className:"google-picker "+Ee},b.a.createElement("div",{style:De.head},Z),b.a.createElement("div",{style:De.swatch}),b.a.createElement("div",{style:De.saturation},b.a.createElement(To,{hsl:T,hsv:V,pointer:Im,onChange:p})),b.a.createElement("div",{style:De.body},b.a.createElement("div",{style:De.controls,className:"flexbox-fix"},b.a.createElement("div",{style:De.hue},b.a.createElement(Ka,{style:De.Hue,hsl:T,radius:"4px",pointer:Rm,onChange:p}))),b.a.createElement(Dn,{rgb:w,hsl:T,hex:z,hsv:V,onChange:p})))};oa.propTypes={width:pt.a.oneOfType([pt.a.string,pt.a.number]),styles:pt.a.object,header:pt.a.string},oa.defaultProps={width:652,styles:{},header:"Color picker"};var Jh=qn(oa),jm=["mode","popoverProps"];function mc(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function Zh(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?mc(Object(h),!0).forEach(function(p){Zr(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):mc(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function Zr(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}function ys(){return ys=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},ys.apply(this,arguments)}function Dm(f,c){return ja(f)||Un(f,c)||Bo(f,c)||Nm()}function Nm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bo(f,c){if(!!f){if(typeof f=="string")return Vo(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Vo(f,c)}}function Vo(f,c){(c==null||c>f.length)&&(c=f.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=f[h];return p}function Un(f,c){var h=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(h!=null){var p=[],w=!0,T=!1,V,z;try{for(h=h.call(f);!(w=(V=h.next()).done)&&(p.push(V.value),!(c&&p.length===c));w=!0);}catch(Z){T=!0,z=Z}finally{try{!w&&h.return!=null&&h.return()}finally{if(T)throw z}}return p}}function ja(f){if(Array.isArray(f))return f}function zo(f,c){if(f==null)return{};var h=Xh(f,c),p,w;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);for(w=0;w<T.length;w++)p=T[w],!(c.indexOf(p)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,p)||(h[p]=f[p]))}return h}function Xh(f,c){if(f==null)return{};var h={},p=Object.keys(f),w,T;for(T=0;T<p.length;T++)w=p[T],!(c.indexOf(w)>=0)&&(h[w]=f[w]);return h}var qh=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],bc=function(c){var h=c.mode,p=c.popoverProps,w=zo(c,jm),T=Object(I.useContext)(Ve.b.ConfigContext),V=T.getPrefixCls,z=V("pro-field-color-picker"),Z=Object(sa.a)("#1890ff",{value:w.value,onChange:w.onChange}),le=Dm(Z,2),fe=le[0],Pe=le[1],Ee=b.a.createElement("div",{className:z,style:{padding:5,width:48,border:"1px solid #ddd",borderRadius:"2px",cursor:"pointer"}},b.a.createElement("div",{style:{backgroundColor:fe,width:36,height:14,borderRadius:"2px"}}));return h==="read"?Ee:b.a.createElement(fv.a,ys({trigger:"click",placement:"right"},p,{content:b.a.createElement("div",{style:{margin:"-12px -16px"}},b.a.createElement(Gh,ys({},w,{presetColors:w.colors||w.presetColors||qh,color:fe,onChange:function(Ze){var Ge=Ze.hex,at=Ze.rgb,Ft=at.r,yr=at.g,Fr=at.b,xr=at.a;xr&&xr<1&&Pe("rgba(".concat(Ft,", ").concat(yr,", ").concat(Fr,", ").concat(xr,")")),Pe(Ge)}})))}),Ee)},ev=function(c){var h=c.text,p=c.mode,w=c.render,T=c.renderFormItem,V=c.fieldProps;if(p==="read"){var z=b.a.createElement(bc,{value:h,mode:"read"});return w?w(h,Zh({mode:p},V),z):z}if(p==="edit"||p==="update"){var Z=b.a.createElement(bc,V);return T?T(h,Zh({mode:p},V),Z):Z}return null},tv=ev,yc=k("Kwbf"),Fm=["text","valueType","onChange","renderFormItem","value"];function rv(f,c){if(f==null)return{};var h=nv(f,c),p,w;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);for(w=0;w<T.length;w++)p=T[w],!(c.indexOf(p)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,p)||(h[p]=f[p]))}return h}function nv(f,c){if(f==null)return{};var h={},p=Object.keys(f),w,T;for(T=0;T<p.length;T++)w=p[T],!(c.indexOf(w)>=0)&&(h[w]=f[w]);return h}function ws(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(h){return typeof h}:ws=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},ws(f)}function Cr(){return Cr=Object.assign||function(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},Cr.apply(this,arguments)}function wc(f,c){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);c&&(p=p.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),h.push.apply(h,p)}return h}function vi(f){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?wc(Object(h),!0).forEach(function(p){iv(f,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):wc(Object(h)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(h,p))})}return f}function iv(f,c,h){return c in f?Object.defineProperty(f,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[c]=h,f}var Fl=["select","radio","radioButton","checkbook"],kc=function(c,h,p){var w=U(p.fieldProps);return h.type==="progress"?b.a.createElement(et,Cr({},p,{text:c,fieldProps:vi({status:h.status?h.status:void 0},w)})):h.type==="money"?b.a.createElement(L,Cr({locale:h.locale},p,{fieldProps:w,text:c,moneySymbol:h.moneySymbol})):h.type==="percent"?b.a.createElement(Fe,Cr({},p,{text:c,showSymbol:h.showSymbol,precision:h.precision,fieldProps:w,showColor:h.showColor})):h.type==="image"?b.a.createElement(Hl,Cr({},p,{text:c,width:h.width})):c},av=function(c,h,p,w){var T,V=p.mode,z=V===void 0?"read":V,Z=p.emptyText,le=Z===void 0?"-":Z;if(le!==!1&&z==="read"&&h!=="option"&&h!=="switch"&&typeof c!="boolean"&&typeof c!="number"&&!c){var fe=p.fieldProps,Pe=p.render;return Pe?Pe(c,vi({mode:z},fe),b.a.createElement(b.a.Fragment,null,le)):b.a.createElement(b.a.Fragment,null,le)}if(delete p.emptyText,ws(h)==="object")return kc(c,h,p);var Ee=w&&w[h];if(Ee){if(delete p.ref,z==="read"){var De;return(De=Ee.render)===null||De===void 0?void 0:De.call(Ee,c,vi(vi({text:c},p),{},{mode:z||"read"}),b.a.createElement(b.a.Fragment,null,c))}if(z==="update"||z==="edit"){var Ze;return(Ze=Ee.renderFormItem)===null||Ze===void 0?void 0:Ze.call(Ee,c,vi({text:c},p),b.a.createElement(b.a.Fragment,null,c))}}var Ge=Fl.includes(h),at=!!(p.valueEnum||p.request||p.options||((T=p.fieldProps)===null||T===void 0?void 0:T.options));return Object(yc.b)(!Ge||at,"\u5982\u679C\u8BBE\u7F6E\u4E86 valueType \u4E3A ".concat(Fl.join(","),"\u4E2D\u4EFB\u610F\u4E00\u4E2A\uFF0C\u5219\u9700\u8981\u914D\u7F6Eoptions\uFF0Crequest, valueEnum \u5176\u4E2D\u4E4B\u4E00\uFF0C\u5426\u5219\u65E0\u6CD5\u751F\u6210\u9009\u9879\u3002")),Object(yc.b)(!Ge||at,"If you set valueType to any of ".concat(Fl.join(","),", you need to configure options, request or valueEnum.")),h==="money"?b.a.createElement(L,Cr({},p,{text:c})):h==="date"?b.a.createElement(qr,Cr({text:c,format:"YYYY-MM-DD"},p)):h==="dateWeek"?b.a.createElement(qr,Cr({text:c,format:"YYYY-wo",picker:"week"},p)):h==="dateMonth"?b.a.createElement(qr,Cr({text:c,format:"YYYY-MM",picker:"month"},p)):h==="dateQuarter"?b.a.createElement(qr,Cr({text:c,format:"YYYY-\\QQ",picker:"quarter"},p)):h==="dateYear"?b.a.createElement(qr,Cr({text:c,format:"YYYY",picker:"year"},p)):h==="dateRange"?b.a.createElement(tt,Cr({text:c,format:"YYYY-MM-DD"},p)):h==="dateTime"?b.a.createElement(qr,Cr({text:c,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},p)):h==="dateTimeRange"?b.a.createElement(tt,Cr({text:c,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},p)):h==="time"?b.a.createElement(er,Cr({text:c,format:"HH:mm:ss"},p)):h==="timeRange"?b.a.createElement(Kt,Cr({text:c,format:"HH:mm:ss"},p)):h==="fromNow"?b.a.createElement(ht,Cr({text:c},p)):h==="index"?b.a.createElement(je.a,null,c+1):h==="indexBorder"?b.a.createElement(je.a,{border:!0},c+1):h==="progress"?b.a.createElement(et,Cr({},p,{text:c})):h==="percent"?b.a.createElement(Fe,Cr({text:c},p)):h==="avatar"&&typeof c=="string"&&p.mode==="read"?b.a.createElement(M.a,{src:c,size:22,shape:"circle"}):h==="code"?b.a.createElement($r,Cr({text:c},p)):h==="jsonCode"?b.a.createElement($r,Cr({text:c,language:"json"},p)):h==="textarea"?b.a.createElement(vr,Cr({text:c},p)):h==="digit"?b.a.createElement(Zt,Cr({text:c},p)):h==="second"?b.a.createElement(ce,Cr({text:c},p)):h==="select"||h==="text"&&(p.valueEnum||p.request)?b.a.createElement($n.b,Cr({text:c},p)):h==="checkbox"?b.a.createElement(rn,Cr({text:c},p)):h==="radio"?b.a.createElement(ci,Cr({text:c},p)):h==="radioButton"?b.a.createElement(ci,Cr({radioType:"button",text:c},p)):h==="rate"?b.a.createElement(za,Cr({text:c},p)):h==="switch"?b.a.createElement(ho,Cr({text:c},p)):h==="option"?b.a.createElement(mi,Cr({text:c},p)):h==="password"?b.a.createElement(ri,Cr({text:c},p)):h==="image"?b.a.createElement(Hl,Cr({text:c},p)):h==="color"?b.a.createElement(tv,Cr({text:c},p)):b.a.createElement(Br,Cr({text:c},p))},ov=function(c,h){var p,w=c.text,T=c.valueType,V=T===void 0?"text":T,z=c.onChange,Z=c.renderFormItem,le=c.value,fe=rv(c,Fm),Pe=Object(y.d)(),Ee=Object(I.useContext)(y.b),De=(le!==void 0||z||(fe==null?void 0:fe.fieldProps))&&vi(vi({value:le},Object(K.a)(fe==null?void 0:fe.fieldProps)),{},{onChange:function(){for(var Ge,at,Ft=arguments.length,yr=new Array(Ft),Fr=0;Fr<Ft;Fr++)yr[Fr]=arguments[Fr];z==null||z.apply(void 0,yr),fe==null||(Ge=fe.fieldProps)===null||Ge===void 0||(at=Ge.onChange)===null||at===void 0||at.call.apply(at,[Ge].concat(yr))}});return b.a.createElement(b.a.Fragment,null,av((p=w!=null?w:De==null?void 0:De.value)!==null&&p!==void 0?p:"",V||"text",vi(vi({},fe),{},{mode:fe.mode||"read",ref:h,renderFormItem:Z?function(){var Ze=Z.apply(void 0,arguments);return b.a.isValidElement(Ze)?b.a.cloneElement(Ze,vi(vi({placeholder:fe.placeholder||Pe.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},De),Ze.props||{})):Ze}:void 0,placeholder:fe.placeholder||Pe.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:U(De)}),Ee.valueTypeMap))},Lm=ae.a=b.a.forwardRef(ov)},"/zsF":function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("bE4E"),b=k.n(I)},"1+5i":function(oe,ae,k){var Y=k("w/wX"),M=k("sEf8"),I=k("mdPL"),b=I&&I.isSet,ne=b?M(b):Y;oe.exports=ne},"14J3":function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("1GLa")},"2MUX":function(oe,ae,k){var Y=k("h875");function M(I,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(b&&b.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),b&&Y(I,b)}oe.exports=M},"2Zs6":function(oe,ae,k){"use strict";var Y=k("GNNt"),M=k("wEI+"),I=k("q1tI"),b=k.n(I),ne=k("TSYQ"),H=k.n(ne),U=k("75XV"),K=k.n(U);function y(E,C,S){return C in E?Object.defineProperty(E,C,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[C]=S,E}var N=function(C,S){var D,ge=C.border,j=ge===void 0?!1:ge,re=C.children,B=Object(I.useContext)(M.b.ConfigContext),$=B.getPrefixCls,x=$("pro-field-index-column");return b.a.createElement("div",{ref:S,className:H()(x,(D={},y(D,"".concat(x,"-border"),j),y(D,"top-three",re>3),D))},re)};ae.a=b.a.forwardRef(N)},"2oH+":function(oe,ae,k){(function(Y,M){var I=200,b="__lodash_hash_undefined__",ne=800,H=16,U=9007199254740991,K="[object Arguments]",y="[object Array]",N="[object AsyncFunction]",E="[object Boolean]",C="[object Date]",S="[object Error]",D="[object Function]",ge="[object GeneratorFunction]",j="[object Map]",re="[object Number]",B="[object Null]",$="[object Object]",x="[object Proxy]",se="[object RegExp]",Te="[object Set]",Fe="[object String]",je="[object Undefined]",gt="[object WeakMap]",wt="[object ArrayBuffer]",Ct="[object DataView]",Ut="[object Float32Array]",St="[object Float64Array]",kt="[object Int8Array]",Gt="[object Int16Array]",Wt="[object Int32Array]",et="[object Uint8Array]",ft="[object Uint8ClampedArray]",Ye="[object Uint16Array]",Be="[object Uint32Array]",Ke=/[\\^$.*+?()[\]{}|]/g,He=/^\[object .+?Constructor\]$/,Xe=/^(?:0|[1-9]\d*)$/,st={};st[Ut]=st[St]=st[kt]=st[Gt]=st[Wt]=st[et]=st[ft]=st[Ye]=st[Be]=!0,st[K]=st[y]=st[wt]=st[E]=st[Ct]=st[C]=st[S]=st[D]=st[j]=st[re]=st[$]=st[se]=st[Te]=st[Fe]=st[gt]=!1;var It=typeof Y=="object"&&Y&&Y.Object===Object&&Y,Xt=typeof self=="object"&&self&&self.Object===Object&&self,pr=It||Xt||Function("return this")(),Qr=ae&&!ae.nodeType&&ae,Rr=Qr&&typeof M=="object"&&M&&!M.nodeType&&M,nr=Rr&&Rr.exports===Qr,jr=nr&&It.process,Ar=function(){try{var ee=Rr&&Rr.require&&Rr.require("util").types;return ee||jr&&jr.binding&&jr.binding("util")}catch(he){}}(),Rt=Ar&&Ar.isTypedArray;function L(ee,he,Ce){switch(Ce.length){case 0:return ee.call(he);case 1:return ee.call(he,Ce[0]);case 2:return ee.call(he,Ce[0],Ce[1]);case 3:return ee.call(he,Ce[0],Ce[1],Ce[2])}return ee.apply(he,Ce)}function J(ee,he){for(var Ce=-1,Pt=Array(ee);++Ce<ee;)Pt[Ce]=he(Ce);return Pt}function W(ee){return function(he){return ee(he)}}function ve(ee,he){return ee==null?void 0:ee[he]}function we(ee,he){return function(Ce){return ee(he(Ce))}}var Ae=Array.prototype,Ve=Function.prototype,vt=Object.prototype,lt=pr["__core-js_shared__"],me=Ve.toString,Re=vt.hasOwnProperty,Me=function(){var ee=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""}(),$e=vt.toString,it=me.call(Object),Et=RegExp("^"+me.call(Re).replace(Ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gr=nr?pr.Buffer:void 0,ar=pr.Symbol,mr=pr.Uint8Array,Wr=gr?gr.allocUnsafe:void 0,Ht=we(Object.getPrototypeOf,Object),Sr=Object.create,Hr=vt.propertyIsEnumerable,Xr=Ae.splice,Kr=ar?ar.toStringTag:void 0,ln=function(){try{var ee=ut(Object,"defineProperty");return ee({},"",{}),ee}catch(he){}}(),qr=gr?gr.isBuffer:void 0,Nn=Math.max,Tr=Date.now,Tn=ut(pr,"Map"),ye=ut(Object,"create"),Oe=function(){function ee(){}return function(he){if(!ri(he))return{};if(Sr)return Sr(he);ee.prototype=he;var Ce=new ee;return ee.prototype=void 0,Ce}}();function xe(ee){var he=-1,Ce=ee==null?0:ee.length;for(this.clear();++he<Ce;){var Pt=ee[he];this.set(Pt[0],Pt[1])}}function Le(){this.__data__=ye?ye(null):{},this.size=0}function ht(ee){var he=this.has(ee)&&delete this.__data__[ee];return this.size-=he?1:0,he}function mt(ee){var he=this.__data__;if(ye){var Ce=he[ee];return Ce===b?void 0:Ce}return Re.call(he,ee)?he[ee]:void 0}function Tt(ee){var he=this.__data__;return ye?he[ee]!==void 0:Re.call(he,ee)}function Dt(ee,he){var Ce=this.__data__;return this.size+=this.has(ee)?0:1,Ce[ee]=ye&&he===void 0?b:he,this}xe.prototype.clear=Le,xe.prototype.delete=ht,xe.prototype.get=mt,xe.prototype.has=Tt,xe.prototype.set=Dt;function Mt(ee){var he=-1,Ce=ee==null?0:ee.length;for(this.clear();++he<Ce;){var Pt=ee[he];this.set(Pt[0],Pt[1])}}function Bt(){this.__data__=[],this.size=0}function ue(ee){var he=this.__data__,Ce=br(he,ee);if(Ce<0)return!1;var Pt=he.length-1;return Ce==Pt?he.pop():Xr.call(he,Ce,1),--this.size,!0}function X(ee){var he=this.__data__,Ce=br(he,ee);return Ce<0?void 0:he[Ce][1]}function de(ee){return br(this.__data__,ee)>-1}function ke(ee,he){var Ce=this.__data__,Pt=br(Ce,ee);return Pt<0?(++this.size,Ce.push([ee,he])):Ce[Pt][1]=he,this}Mt.prototype.clear=Bt,Mt.prototype.delete=ue,Mt.prototype.get=X,Mt.prototype.has=de,Mt.prototype.set=ke;function We(ee){var he=-1,Ce=ee==null?0:ee.length;for(this.clear();++he<Ce;){var Pt=ee[he];this.set(Pt[0],Pt[1])}}function ze(){this.size=0,this.__data__={hash:new xe,map:new(Tn||Mt),string:new xe}}function tt(ee){var he=cr(this,ee).delete(ee);return this.size-=he?1:0,he}function Ot(ee){return cr(this,ee).get(ee)}function rt(ee){return cr(this,ee).has(ee)}function $t(ee,he){var Ce=cr(this,ee),Pt=Ce.size;return Ce.set(ee,he),this.size+=Ce.size==Pt?0:1,this}We.prototype.clear=ze,We.prototype.delete=tt,We.prototype.get=Ot,We.prototype.has=rt,We.prototype.set=$t;function lr(ee){var he=this.__data__=new Mt(ee);this.size=he.size}function qt(){this.__data__=new Mt,this.size=0}function Vt(ee){var he=this.__data__,Ce=he.delete(ee);return this.size=he.size,Ce}function dn(ee){return this.__data__.get(ee)}function yn(ee){return this.__data__.has(ee)}function $r(ee,he){var Ce=this.__data__;if(Ce instanceof Mt){var Pt=Ce.__data__;if(!Tn||Pt.length<I-1)return Pt.push([ee,he]),this.size=++Ce.size,this;Ce=this.__data__=new We(Pt)}return Ce.set(ee,he),this.size=Ce.size,this}lr.prototype.clear=qt,lr.prototype.delete=Vt,lr.prototype.get=dn,lr.prototype.has=yn,lr.prototype.set=$r;function fn(ee,he){var Ce=Ki(ee),Pt=!Ce&&Hi(ee),Pr=!Ce&&!Pt&&Gi(ee),Vr=!Ce&&!Pt&&!Pr&&ca(ee),zr=Ce||Pt||Pr||Vr,wr=zr?J(ee.length,String):[],Nr=wr.length;for(var Bn in ee)(he||Re.call(ee,Bn))&&!(zr&&(Bn=="length"||Pr&&(Bn=="offset"||Bn=="parent")||Vr&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||vr(Bn,Nr)))&&wr.push(Bn);return wr}function en(ee,he,Ce){(Ce!==void 0&&!Pi(ee[he],Ce)||Ce===void 0&&!(he in ee))&&or(ee,he,Ce)}function Lr(ee,he,Ce){var Pt=ee[he];(!(Re.call(ee,he)&&Pi(Pt,Ce))||Ce===void 0&&!(he in ee))&&or(ee,he,Ce)}function br(ee,he){for(var Ce=ee.length;Ce--;)if(Pi(ee[Ce][0],he))return Ce;return-1}function or(ee,he,Ce){he=="__proto__"&&ln?ln(ee,he,{configurable:!0,enumerable:!0,value:Ce,writable:!0}):ee[he]=Ce}var wn=Dr();function Yr(ee){return ee==null?ee===void 0?je:B:Kr&&Kr in Object(ee)?Nt(ee):oo(ee)}function tn(ee){return Ci(ee)&&Yr(ee)==K}function Yt(ee){if(!ri(ee)||gn(ee))return!1;var he=$i(ee)?Et:He;return he.test(lo(ee))}function Jt(ee){return Ci(ee)&&Yi(ee.length)&&!!st[Yr(ee)]}function xn(ee){if(!ri(ee))return sa(ee);var he=Ui(ee),Ce=[];for(var Pt in ee)Pt=="constructor"&&(he||!Re.call(ee,Pt))||Ce.push(Pt);return Ce}function At(ee,he,Ce,Pt,Pr){ee!==he&&wn(he,function(Vr,zr){if(Pr||(Pr=new lr),ri(Vr))ur(ee,he,zr,Ce,At,Pt,Pr);else{var wr=Pt?Pt(Wi(ee,zr),Vr,zr+"",ee,he,Pr):void 0;wr===void 0&&(wr=Vr),en(ee,zr,wr)}},fa)}function ur(ee,he,Ce,Pt,Pr,Vr,zr){var wr=Wi(ee,Ce),Nr=Wi(he,Ce),Bn=zr.get(Nr);if(Bn){en(ee,Ce,Bn);return}var Rn=Vr?Vr(wr,Nr,Ce+"",ee,he,zr):void 0,Ai=Rn===void 0;if(Ai){var ha=Ki(Nr),va=!ha&&Gi(Nr),Va=!ha&&!va&&ca(Nr);Rn=Nr,ha||va||Va?Ki(wr)?Rn=wr:Ba(wr)?Rn=Mn(wr):va?(Ai=!1,Rn=Or(Nr,!0)):Va?(Ai=!1,Rn=Cn(Nr,!0)):Rn=[]:ua(Nr)||Hi(Nr)?(Rn=wr,Hi(wr)?Rn=da(wr):(!ri(wr)||$i(wr))&&(Rn=Qt(Nr))):Ai=!1}Ai&&(zr.set(Nr,Rn),Pr(Rn,Nr,Pt,Vr,zr),zr.delete(Nr)),en(ee,Ce,Rn)}function Kt(ee,he){return la(La(ee,he,Ho),ee+"")}var er=ln?function(ee,he){return ln(ee,"toString",{configurable:!0,enumerable:!1,value:$n(he),writable:!0})}:Ho;function Or(ee,he){if(he)return ee.slice();var Ce=ee.length,Pt=Wr?Wr(Ce):new ee.constructor(Ce);return ee.copy(Pt),Pt}function En(ee){var he=new ee.constructor(ee.byteLength);return new mr(he).set(new mr(ee)),he}function Cn(ee,he){var Ce=he?En(ee.buffer):ee.buffer;return new ee.constructor(Ce,ee.byteOffset,ee.length)}function Mn(ee,he){var Ce=-1,Pt=ee.length;for(he||(he=Array(Pt));++Ce<Pt;)he[Ce]=ee[Ce];return he}function In(ee,he,Ce,Pt){var Pr=!Ce;Ce||(Ce={});for(var Vr=-1,zr=he.length;++Vr<zr;){var wr=he[Vr],Nr=Pt?Pt(Ce[wr],ee[wr],wr,Ce,ee):void 0;Nr===void 0&&(Nr=ee[wr]),Pr?or(Ce,wr,Nr):Lr(Ce,wr,Nr)}return Ce}function Br(ee){return Kt(function(he,Ce){var Pt=-1,Pr=Ce.length,Vr=Pr>1?Ce[Pr-1]:void 0,zr=Pr>2?Ce[2]:void 0;for(Vr=ee.length>3&&typeof Vr=="function"?(Pr--,Vr):void 0,zr&&dr(Ce[0],Ce[1],zr)&&(Vr=Pr<3?void 0:Vr,Pr=1),he=Object(he);++Pt<Pr;){var wr=Ce[Pt];wr&&ee(he,wr,Pt,Vr)}return he})}function Dr(ee){return function(he,Ce,Pt){for(var Pr=-1,Vr=Object(he),zr=Pt(he),wr=zr.length;wr--;){var Nr=zr[ee?wr:++Pr];if(Ce(Vr[Nr],Nr,Vr)===!1)break}return he}}function cr(ee,he){var Ce=ee.__data__;return Gr(he)?Ce[typeof he=="string"?"string":"hash"]:Ce.map}function ut(ee,he){var Ce=ve(ee,he);return Yt(Ce)?Ce:void 0}function Nt(ee){var he=Re.call(ee,Kr),Ce=ee[Kr];try{ee[Kr]=void 0;var Pt=!0}catch(Vr){}var Pr=$e.call(ee);return Pt&&(he?ee[Kr]=Ce:delete ee[Kr]),Pr}function Qt(ee){return typeof ee.constructor=="function"&&!Ui(ee)?Oe(Ht(ee)):{}}function vr(ee,he){var Ce=typeof ee;return he=he==null?U:he,!!he&&(Ce=="number"||Ce!="symbol"&&Xe.test(ee))&&ee>-1&&ee%1==0&&ee<he}function dr(ee,he,Ce){if(!ri(Ce))return!1;var Pt=typeof he;return(Pt=="number"?Ei(Ce)&&vr(he,Ce.length):Pt=="string"&&he in Ce)?Pi(Ce[he],ee):!1}function Gr(ee){var he=typeof ee;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?ee!=="__proto__":ee===null}function gn(ee){return!!Me&&Me in ee}function Ui(ee){var he=ee&&ee.constructor,Ce=typeof he=="function"&&he.prototype||vt;return ee===Ce}function sa(ee){var he=[];if(ee!=null)for(var Ce in Object(ee))he.push(Ce);return he}function oo(ee){return $e.call(ee)}function La(ee,he,Ce){return he=Nn(he===void 0?ee.length-1:he,0),function(){for(var Pt=arguments,Pr=-1,Vr=Nn(Pt.length-he,0),zr=Array(Vr);++Pr<Vr;)zr[Pr]=Pt[he+Pr];Pr=-1;for(var wr=Array(he+1);++Pr<he;)wr[Pr]=Pt[Pr];return wr[he]=Ce(zr),L(ee,this,wr)}}function Wi(ee,he){if(!(he==="constructor"&&typeof ee[he]=="function")&&he!="__proto__")return ee[he]}var la=so(er);function so(ee){var he=0,Ce=0;return function(){var Pt=Tr(),Pr=H-(Pt-Ce);if(Ce=Pt,Pr>0){if(++he>=ne)return arguments[0]}else he=0;return ee.apply(void 0,arguments)}}function lo(ee){if(ee!=null){try{return me.call(ee)}catch(he){}try{return ee+""}catch(he){}}return""}function Pi(ee,he){return ee===he||ee!==ee&&he!==he}var Hi=tn(function(){return arguments}())?tn:function(ee){return Ci(ee)&&Re.call(ee,"callee")&&!Hr.call(ee,"callee")},Ki=Array.isArray;function Ei(ee){return ee!=null&&Yi(ee.length)&&!$i(ee)}function Ba(ee){return Ci(ee)&&Ei(ee)}var Gi=qr||Ko;function $i(ee){if(!ri(ee))return!1;var he=Yr(ee);return he==D||he==ge||he==N||he==x}function Yi(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=U}function ri(ee){var he=typeof ee;return ee!=null&&(he=="object"||he=="function")}function Ci(ee){return ee!=null&&typeof ee=="object"}function ua(ee){if(!Ci(ee)||Yr(ee)!=$)return!1;var he=Ht(ee);if(he===null)return!0;var Ce=Re.call(he,"constructor")&&he.constructor;return typeof Ce=="function"&&Ce instanceof Ce&&me.call(Ce)==it}var ca=Rt?W(Rt):Jt;function da(ee){return In(ee,fa(ee))}function fa(ee){return Ei(ee)?fn(ee,!0):xn(ee)}var mi=Br(function(ee,he,Ce){At(ee,he,Ce)});function $n(ee){return function(){return ee}}function Ho(ee){return ee}function Ko(){return!1}M.exports=mi}).call(this,k("IyRk"),k("hOG+")(oe))},"3/ER":function(oe,ae,k){"use strict";(function(Y){var M=k("Ju5/"),I=typeof exports=="object"&&exports&&!exports.nodeType&&exports,b=I&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,ne=b&&b.exports===I,H=ne?M.a.Buffer:void 0,U=H?H.allocUnsafe:void 0;function K(y,N){if(N)return y.slice();var E=y.length,C=U?U(E):new y.constructor(E);return y.copy(C),C}ae.a=K}).call(this,k("Vg/k")(oe))},"3WF5":function(oe,ae,k){var Y=k("eUgh"),M=k("ut/Y"),I=k("l9OW"),b=k("Z0cm");function ne(H,U){var K=b(H)?Y:I;return K(H,M(U,3))}oe.exports=ne},"4/ic":function(oe,ae,k){var Y=k("ZWtO");function M(I){return function(b){return Y(b,I)}}oe.exports=M},"44Ds":function(oe,ae,k){var Y=k("e4Nc"),M="Expected a function";function I(b,ne){if(typeof b!="function"||ne!=null&&typeof ne!="function")throw new TypeError(M);var H=function(){var U=arguments,K=ne?ne.apply(this,U):U[0],y=H.cache;if(y.has(K))return y.get(K);var N=b.apply(this,U);return H.cache=y.set(K,N)||y,N};return H.cache=new(I.Cache||Y),H}I.Cache=Y,oe.exports=I},"4qC0":function(oe,ae,k){var Y=k("NykK"),M=k("Z0cm"),I=k("ExA7"),b="[object String]";function ne(H){return typeof H=="string"||!M(H)&&I(H)&&Y(H)==b}oe.exports=ne},"4sDh":function(oe,ae,k){var Y=k("4uTw"),M=k("03A+"),I=k("Z0cm"),b=k("wJg7"),ne=k("shjB"),H=k("9Nap");function U(K,y,N){y=Y(y,K);for(var E=-1,C=y.length,S=!1;++E<C;){var D=H(y[E]);if(!(S=K!=null&&N(K,D)))break;K=K[D]}return S||++E!=C?S:(C=K==null?0:K.length,!!C&&ne(C)&&b(D,C)&&(I(K)||M(K)))}oe.exports=U},"4uTw":function(oe,ae,k){var Y=k("Z0cm"),M=k("9ggG"),I=k("GNiM"),b=k("dt0z");function ne(H,U){return Y(H)?H:M(H,U)?[H]:I(b(H))}oe.exports=ne},"5Tg0":function(oe,ae,k){(function(Y){var M=k("Kz5y"),I=ae&&!ae.nodeType&&ae,b=I&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,ne=b&&b.exports===I,H=ne?M.Buffer:void 0,U=H?H.allocUnsafe:void 0;function K(y,N){if(N)return y.slice();var E=y.length,C=U?U(E):new y.constructor(E);return y.copy(C),C}Y.exports=K}).call(this,k("hOG+")(oe))},"5h2M":function(oe,ae){function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Y){return!1}}oe.exports=k},"75XV":function(oe,ae,k){},"7Ix3":function(oe,ae){function k(Y){var M=[];if(Y!=null)for(var I in Object(Y))M.push(I);return M}oe.exports=k},"7Kak":function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("KPFz"),b=k.n(I)},"8v5O":function(oe,ae,k){var Y=k("GXtI");function M(I,b){for(;!Object.prototype.hasOwnProperty.call(I,b)&&(I=Y(I),I!==null););return I}oe.exports=M},"9F0J":function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var Y=Object.assign||function(U){for(var K=1;K<arguments.length;K++){var y=arguments[K];for(var N in y)Object.prototype.hasOwnProperty.call(y,N)&&(U[N]=y[N])}return U},M=k("q1tI"),I=b(M);function b(U){return U&&U.__esModule?U:{default:U}}function ne(U,K){var y={};for(var N in U)K.indexOf(N)>=0||!Object.prototype.hasOwnProperty.call(U,N)||(y[N]=U[N]);return y}var H=24;ae.default=function(U){var K=U.fill,y=K===void 0?"currentColor":K,N=U.width,E=N===void 0?H:N,C=U.height,S=C===void 0?H:C,D=U.style,ge=D===void 0?{}:D,j=ne(U,["fill","width","height","style"]);return I.default.createElement("svg",Y({viewBox:"0 0 "+H+" "+H,style:Y({fill:y,width:E,height:S},ge)},j),I.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},"9Nap":function(oe,ae,k){var Y=k("/9aa"),M=1/0;function I(b){if(typeof b=="string"||Y(b))return b;var ne=b+"";return ne=="0"&&1/b==-M?"-0":ne}oe.exports=I},"9ggG":function(oe,ae,k){var Y=k("Z0cm"),M=k("/9aa"),I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function ne(H,U){if(Y(H))return!1;var K=typeof H;return K=="number"||K=="symbol"||K=="boolean"||H==null||M(H)?!0:b.test(H)||!I.test(H)||U!=null&&H in Object(U)}oe.exports=ne},AEIT:function(oe,ae,k){var Y=k("cxFA"),M=k("x49D"),I=k("c29t"),b=k("GXtI"),ne=k("2MUX"),H=k("CS2o"),U=k("xbqb"),K=k("Lw8S"),y=k("bfL6");/*!
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(N,E){oe.exports=E(k("q1tI"))})(window,function(N){return function(E){var C={};function S(D){if(C[D])return C[D].exports;var ge=C[D]={i:D,l:!1,exports:{}};return E[D].call(ge.exports,ge,ge.exports,S),ge.l=!0,ge.exports}return S.m=E,S.c=C,S.d=function(D,ge,j){S.o(D,ge)||Object.defineProperty(D,ge,{enumerable:!0,get:j})},S.r=function(D){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},S.t=function(D,ge){if(1&ge&&(D=S(D)),8&ge||4&ge&&typeof D=="object"&&D&&D.__esModule)return D;var j=Object.create(null);if(S.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:D}),2&ge&&typeof D!="string")for(var re in D)S.d(j,re,function(B){return D[B]}.bind(null,re));return j},S.n=function(D){var ge=D&&D.__esModule?function(){return D.default}:function(){return D};return S.d(ge,"a",ge),ge},S.o=function(D,ge){return Object.prototype.hasOwnProperty.call(D,ge)},S.p="",S(S.s=12)}([function(E,C,S){"use strict";var D=S(4),ge=typeof self=="object"&&self&&self.Object===Object&&self,j=D.a||ge||Function("return this")();C.a=j},function(E,C,S){E.exports=S(9)()},function(E,C,S){"use strict";(function(D){var ge=S(4),j=ae&&!ae.nodeType&&ae,re=j&&typeof D=="object"&&D&&!D.nodeType&&D,B=re&&re.exports===j&&ge.a.process,$=function(){try{var x=re&&re.require&&re.require("util").types;return x||B&&B.binding&&B.binding("util")}catch(se){}}();C.a=$}).call(this,S(6)(E))},function(E,C){E.exports=N},function(E,C,S){"use strict";(function(D){var ge=typeof D=="object"&&D&&D.Object===Object&&D;C.a=ge}).call(this,S(11))},function(E,C,S){"use strict";(function(D){var ge=S(0),j=S(7),re=ae&&!ae.nodeType&&ae,B=re&&typeof D=="object"&&D&&!D.nodeType&&D,$=B&&B.exports===re?ge.a.Buffer:void 0,x=($?$.isBuffer:void 0)||j.a;C.a=x}).call(this,S(6)(E))},function(E,C){E.exports=function(S){if(!S.webpackPolyfill){var D=Object.create(S);D.children||(D.children=[]),Object.defineProperty(D,"loaded",{enumerable:!0,get:function(){return D.l}}),Object.defineProperty(D,"id",{enumerable:!0,get:function(){return D.i}}),Object.defineProperty(D,"exports",{enumerable:!0}),D.webpackPolyfill=1}return D}},function(E,C,S){"use strict";C.a=function(){return!1}},function(E,C,S){"use strict";(function(D){var ge=S(0),j=ae&&!ae.nodeType&&ae,re=j&&typeof D=="object"&&D&&!D.nodeType&&D,B=re&&re.exports===j?ge.a.Buffer:void 0,$=B?B.allocUnsafe:void 0;C.a=function(x,se){if(se)return x.slice();var Te=x.length,Fe=$?$(Te):new x.constructor(Te);return x.copy(Fe),Fe}}).call(this,S(6)(E))},function(E,C,S){"use strict";var D=S(10);function ge(){}function j(){}j.resetWarningCache=ge,E.exports=function(){function re(x,se,Te,Fe,je,gt){if(gt!==D){var wt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw wt.name="Invariant Violation",wt}}function B(){return re}re.isRequired=re;var $={array:re,bool:re,func:re,number:re,object:re,string:re,symbol:re,any:re,arrayOf:B,element:re,elementType:re,instanceOf:B,node:re,objectOf:B,oneOf:B,oneOfType:B,shape:B,exact:B,checkPropTypes:j,resetWarningCache:ge};return $.PropTypes=$,$}},function(E,C,S){"use strict";E.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(E,C){var S;S=function(){return this}();try{S=S||new Function("return this")()}catch(D){typeof window=="object"&&(S=window)}E.exports=S},function(E,C,S){"use strict";S.r(C),S.d(C,"CKEditor",function(){return Si}),S.d(C,"CKEditorContext",function(){return jn});var D=S(3),ge=S.n(D),j=S(1),re=S.n(j),B=function(R){var te=typeof R;return R!=null&&(te=="object"||te=="function")},$=S(0),x=function(){return $.a.Date.now()},se=/\s/,Te=function(R){for(var te=R.length;te--&&se.test(R.charAt(te)););return te},Fe=/^\s+/,je=function(R){return R&&R.slice(0,Te(R)+1).replace(Fe,"")},gt=$.a.Symbol,wt=Object.prototype,Ct=wt.hasOwnProperty,Ut=wt.toString,St=gt?gt.toStringTag:void 0,kt=function(R){var te=Ct.call(R,St),ce=R[St];try{R[St]=void 0;var ie=!0}catch(qe){}var Ne=Ut.call(R);return ie&&(te?R[St]=ce:delete R[St]),Ne},Gt=Object.prototype.toString,Wt=function(R){return Gt.call(R)},et=gt?gt.toStringTag:void 0,ft=function(R){return R==null?R===void 0?"[object Undefined]":"[object Null]":et&&et in Object(R)?kt(R):Wt(R)},Ye=function(R){return R!=null&&typeof R=="object"},Be=function(R){return typeof R=="symbol"||Ye(R)&&ft(R)=="[object Symbol]"},Ke=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Xe=/^0o[0-7]+$/i,st=parseInt,It=function(R){if(typeof R=="number")return R;if(Be(R))return NaN;if(B(R)){var te=typeof R.valueOf=="function"?R.valueOf():R;R=B(te)?te+"":te}if(typeof R!="string")return R===0?R:+R;R=je(R);var ce=He.test(R);return ce||Xe.test(R)?st(R.slice(2),ce?2:8):Ke.test(R)?NaN:+R},Xt=Math.max,pr=Math.min,Qr=function(R,te,ce){var ie,Ne,qe,Je,_t,fr,hr=0,yi=!1,Fn=!1,Ti=!0;if(typeof R!="function")throw new TypeError("Expected a function");function Mi(Ln){var ci=ie,po=Ne;return ie=Ne=void 0,hr=Ln,Je=R.apply(po,ci)}function Ha(Ln){return hr=Ln,_t=setTimeout(ai,te),yi?Mi(Ln):Je}function Yn(Ln){var ci=Ln-fr;return fr===void 0||ci>=te||ci<0||Fn&&Ln-hr>=qe}function ai(){var Ln=x();if(Yn(Ln))return Ms(Ln);_t=setTimeout(ai,function(ci){var po=te-(ci-fr);return Fn?pr(po,qe-(ci-hr)):po}(Ln))}function Ms(Ln){return _t=void 0,Ti&&ie?Mi(Ln):(ie=Ne=void 0,Je)}function Yo(){var Ln=x(),ci=Yn(Ln);if(ie=arguments,Ne=this,fr=Ln,ci){if(_t===void 0)return Ha(fr);if(Fn)return clearTimeout(_t),_t=setTimeout(ai,te),Mi(fr)}return _t===void 0&&(_t=setTimeout(ai,te)),Je}return te=It(te)||0,B(ce)&&(yi=!!ce.leading,qe=(Fn="maxWait"in ce)?Xt(It(ce.maxWait)||0,te):qe,Ti="trailing"in ce?!!ce.trailing:Ti),Yo.cancel=function(){_t!==void 0&&clearTimeout(_t),hr=0,ie=fr=Ne=_t=void 0},Yo.flush=function(){return _t===void 0?Je:Ms(x())},Yo},Rr=function(R,te,ce){var ie=!0,Ne=!0;if(typeof R!="function")throw new TypeError("Expected a function");return B(ce)&&(ie="leading"in ce?!!ce.leading:ie,Ne="trailing"in ce?!!ce.trailing:Ne),Qr(R,te,{leading:ie,maxWait:te,trailing:Ne})},nr=function(){this.__data__=[],this.size=0},jr=function(R,te){return R===te||R!=R&&te!=te},Ar=function(R,te){for(var ce=R.length;ce--;)if(jr(R[ce][0],te))return ce;return-1},Rt=Array.prototype.splice,L=function(R){var te=this.__data__,ce=Ar(te,R);return!(ce<0)&&(ce==te.length-1?te.pop():Rt.call(te,ce,1),--this.size,!0)},J=function(R){var te=this.__data__,ce=Ar(te,R);return ce<0?void 0:te[ce][1]},W=function(R){return Ar(this.__data__,R)>-1},ve=function(R,te){var ce=this.__data__,ie=Ar(ce,R);return ie<0?(++this.size,ce.push([R,te])):ce[ie][1]=te,this};function we(_e){var R=-1,te=_e==null?0:_e.length;for(this.clear();++R<te;){var ce=_e[R];this.set(ce[0],ce[1])}}we.prototype.clear=nr,we.prototype.delete=L,we.prototype.get=J,we.prototype.has=W,we.prototype.set=ve;var Ae=we,Ve=function(){this.__data__=new Ae,this.size=0},vt=function(R){var te=this.__data__,ce=te.delete(R);return this.size=te.size,ce},lt=function(R){return this.__data__.get(R)},me=function(R){return this.__data__.has(R)},Re,Me=function(R){if(!B(R))return!1;var te=ft(R);return te=="[object Function]"||te=="[object GeneratorFunction]"||te=="[object AsyncFunction]"||te=="[object Proxy]"},$e=$.a["__core-js_shared__"],it=(Re=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",Et=function(R){return!!it&&it in R},gr=Function.prototype.toString,ar=function(R){if(R!=null){try{return gr.call(R)}catch(te){}try{return R+""}catch(te){}}return""},mr=/^\[object .+?Constructor\]$/,Wr=Function.prototype,Ht=Object.prototype,Sr=Wr.toString,Hr=Ht.hasOwnProperty,Xr=RegExp("^"+Sr.call(Hr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=function(R){return!(!B(R)||Et(R))&&(Me(R)?Xr:mr).test(ar(R))},ln=function(R,te){return R==null?void 0:R[te]},qr=function(R,te){var ce=ln(R,te);return Kr(ce)?ce:void 0},Nn=qr($.a,"Map"),Tr=qr(Object,"create"),Tn=function(){this.__data__=Tr?Tr(null):{},this.size=0},ye=function(R){var te=this.has(R)&&delete this.__data__[R];return this.size-=te?1:0,te},Oe=Object.prototype.hasOwnProperty,xe=function(R){var te=this.__data__;if(Tr){var ce=te[R];return ce==="__lodash_hash_undefined__"?void 0:ce}return Oe.call(te,R)?te[R]:void 0},Le=Object.prototype.hasOwnProperty,ht=function(R){var te=this.__data__;return Tr?te[R]!==void 0:Le.call(te,R)},mt=function(R,te){var ce=this.__data__;return this.size+=this.has(R)?0:1,ce[R]=Tr&&te===void 0?"__lodash_hash_undefined__":te,this};function Tt(_e){var R=-1,te=_e==null?0:_e.length;for(this.clear();++R<te;){var ce=_e[R];this.set(ce[0],ce[1])}}Tt.prototype.clear=Tn,Tt.prototype.delete=ye,Tt.prototype.get=xe,Tt.prototype.has=ht,Tt.prototype.set=mt;var Dt=Tt,Mt=function(){this.size=0,this.__data__={hash:new Dt,map:new(Nn||Ae),string:new Dt}},Bt=function(R){var te=typeof R;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?R!=="__proto__":R===null},ue=function(R,te){var ce=R.__data__;return Bt(te)?ce[typeof te=="string"?"string":"hash"]:ce.map},X=function(R){var te=ue(this,R).delete(R);return this.size-=te?1:0,te},de=function(R){return ue(this,R).get(R)},ke=function(R){return ue(this,R).has(R)},We=function(R,te){var ce=ue(this,R),ie=ce.size;return ce.set(R,te),this.size+=ce.size==ie?0:1,this};function ze(_e){var R=-1,te=_e==null?0:_e.length;for(this.clear();++R<te;){var ce=_e[R];this.set(ce[0],ce[1])}}ze.prototype.clear=Mt,ze.prototype.delete=X,ze.prototype.get=de,ze.prototype.has=ke,ze.prototype.set=We;var tt=ze,Ot=function(R,te){var ce=this.__data__;if(ce instanceof Ae){var ie=ce.__data__;if(!Nn||ie.length<199)return ie.push([R,te]),this.size=++ce.size,this;ce=this.__data__=new tt(ie)}return ce.set(R,te),this.size=ce.size,this};function rt(_e){var R=this.__data__=new Ae(_e);this.size=R.size}rt.prototype.clear=Ve,rt.prototype.delete=vt,rt.prototype.get=lt,rt.prototype.has=me,rt.prototype.set=Ot;var $t=rt,lr=function(R,te){for(var ce=-1,ie=R==null?0:R.length;++ce<ie&&te(R[ce],ce,R)!==!1;);return R},qt=function(){try{var _e=qr(Object,"defineProperty");return _e({},"",{}),_e}catch(R){}}(),Vt=function(R,te,ce){te=="__proto__"&&qt?qt(R,te,{configurable:!0,enumerable:!0,value:ce,writable:!0}):R[te]=ce},dn=Object.prototype.hasOwnProperty,yn=function(R,te,ce){var ie=R[te];dn.call(R,te)&&jr(ie,ce)&&(ce!==void 0||te in R)||Vt(R,te,ce)},$r=function(R,te,ce,ie){var Ne=!ce;ce||(ce={});for(var qe=-1,Je=te.length;++qe<Je;){var _t=te[qe],fr=ie?ie(ce[_t],R[_t],_t,ce,R):void 0;fr===void 0&&(fr=R[_t]),Ne?Vt(ce,_t,fr):yn(ce,_t,fr)}return ce},fn=function(R,te){for(var ce=-1,ie=Array(R);++ce<R;)ie[ce]=te(ce);return ie},en=function(R){return Ye(R)&&ft(R)=="[object Arguments]"},Lr=Object.prototype,br=Lr.hasOwnProperty,or=Lr.propertyIsEnumerable,wn=en(function(){return arguments}())?en:function(_e){return Ye(_e)&&br.call(_e,"callee")&&!or.call(_e,"callee")},Yr=Array.isArray,tn=S(5),Yt=/^(?:0|[1-9]\d*)$/,Jt=function(R,te){var ce=typeof R;return!!(te=te==null?9007199254740991:te)&&(ce=="number"||ce!="symbol"&&Yt.test(R))&&R>-1&&R%1==0&&R<te},xn=function(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=9007199254740991},At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var ur=function(R){return Ye(R)&&xn(R.length)&&!!At[ft(R)]},Kt=function(R){return function(te){return R(te)}},er=S(2),Or=er.a&&er.a.isTypedArray,En=Or?Kt(Or):ur,Cn=Object.prototype.hasOwnProperty,Mn=function(R,te){var ce=Yr(R),ie=!ce&&wn(R),Ne=!ce&&!ie&&Object(tn.a)(R),qe=!ce&&!ie&&!Ne&&En(R),Je=ce||ie||Ne||qe,_t=Je?fn(R.length,String):[],fr=_t.length;for(var hr in R)!te&&!Cn.call(R,hr)||Je&&(hr=="length"||Ne&&(hr=="offset"||hr=="parent")||qe&&(hr=="buffer"||hr=="byteLength"||hr=="byteOffset")||Jt(hr,fr))||_t.push(hr);return _t},In=Object.prototype,Br=function(R){var te=R&&R.constructor;return R===(typeof te=="function"&&te.prototype||In)},Dr=function(R,te){return function(ce){return R(te(ce))}},cr=Dr(Object.keys,Object),ut=Object.prototype.hasOwnProperty,Nt=function(R){if(!Br(R))return cr(R);var te=[];for(var ce in Object(R))ut.call(R,ce)&&ce!="constructor"&&te.push(ce);return te},Qt=function(R){return R!=null&&xn(R.length)&&!Me(R)},vr=function(R){return Qt(R)?Mn(R):Nt(R)},dr=function(R,te){return R&&$r(te,vr(te),R)},Gr=function(R){var te=[];if(R!=null)for(var ce in Object(R))te.push(ce);return te},gn=Object.prototype.hasOwnProperty,Ui=function(R){if(!B(R))return Gr(R);var te=Br(R),ce=[];for(var ie in R)(ie!="constructor"||!te&&gn.call(R,ie))&&ce.push(ie);return ce},sa=function(R){return Qt(R)?Mn(R,!0):Ui(R)},oo=function(R,te){return R&&$r(te,sa(te),R)},La=S(8),Wi=function(R,te){var ce=-1,ie=R.length;for(te||(te=Array(ie));++ce<ie;)te[ce]=R[ce];return te},la=function(R,te){for(var ce=-1,ie=R==null?0:R.length,Ne=0,qe=[];++ce<ie;){var Je=R[ce];te(Je,ce,R)&&(qe[Ne++]=Je)}return qe},so=function(){return[]},lo=Object.prototype.propertyIsEnumerable,Pi=Object.getOwnPropertySymbols,Hi=Pi?function(_e){return _e==null?[]:(_e=Object(_e),la(Pi(_e),function(R){return lo.call(_e,R)}))}:so,Ki=function(R,te){return $r(R,Hi(R),te)},Ei=function(R,te){for(var ce=-1,ie=te.length,Ne=R.length;++ce<ie;)R[Ne+ce]=te[ce];return R},Ba=Dr(Object.getPrototypeOf,Object),Gi=Object.getOwnPropertySymbols?function(_e){for(var R=[];_e;)Ei(R,Hi(_e)),_e=Ba(_e);return R}:so,$i=function(R,te){return $r(R,Gi(R),te)},Yi=function(R,te,ce){var ie=te(R);return Yr(R)?ie:Ei(ie,ce(R))},ri=function(R){return Yi(R,vr,Hi)},Ci=function(R){return Yi(R,sa,Gi)},ua=qr($.a,"DataView"),ca=qr($.a,"Promise"),da=qr($.a,"Set"),fa=qr($.a,"WeakMap"),mi=ar(ua),$n=ar(Nn),Ho=ar(ca),Ko=ar(da),ee=ar(fa),he=ft;(ua&&he(new ua(new ArrayBuffer(1)))!="[object DataView]"||Nn&&he(new Nn)!="[object Map]"||ca&&he(ca.resolve())!="[object Promise]"||da&&he(new da)!="[object Set]"||fa&&he(new fa)!="[object WeakMap]")&&(he=function(R){var te=ft(R),ce=te=="[object Object]"?R.constructor:void 0,ie=ce?ar(ce):"";if(ie)switch(ie){case mi:return"[object DataView]";case $n:return"[object Map]";case Ho:return"[object Promise]";case Ko:return"[object Set]";case ee:return"[object WeakMap]"}return te});var Ce=he,Pt=Object.prototype.hasOwnProperty,Pr=function(R){var te=R.length,ce=new R.constructor(te);return te&&typeof R[0]=="string"&&Pt.call(R,"index")&&(ce.index=R.index,ce.input=R.input),ce},Vr=$.a.Uint8Array,zr=function(R){var te=new R.constructor(R.byteLength);return new Vr(te).set(new Vr(R)),te},wr=function(R,te){var ce=te?zr(R.buffer):R.buffer;return new R.constructor(ce,R.byteOffset,R.byteLength)},Nr=/\w*$/,Bn=function(R){var te=new R.constructor(R.source,Nr.exec(R));return te.lastIndex=R.lastIndex,te},Rn=gt?gt.prototype:void 0,Ai=Rn?Rn.valueOf:void 0,ha=function(R){return Ai?Object(Ai.call(R)):{}},va=function(R,te){var ce=te?zr(R.buffer):R.buffer;return new R.constructor(ce,R.byteOffset,R.length)},Va=function(R,te,ce){var ie=R.constructor;switch(te){case"[object ArrayBuffer]":return zr(R);case"[object Boolean]":case"[object Date]":return new ie(+R);case"[object DataView]":return wr(R,ce);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return va(R,ce);case"[object Map]":return new ie;case"[object Number]":case"[object String]":return new ie(R);case"[object RegExp]":return Bn(R);case"[object Set]":return new ie;case"[object Symbol]":return ha(R)}},Ps=Object.create,Vl=function(){function _e(){}return function(R){if(!B(R))return{};if(Ps)return Ps(R);_e.prototype=R;var te=new _e;return _e.prototype=void 0,te}}(),Es=function(R){return typeof R.constructor!="function"||Br(R)?{}:Vl(Ba(R))},zl=function(R){return Ye(R)&&Ce(R)=="[object Map]"},rn=er.a&&er.a.isMap,Cs=rn?Kt(rn):zl,Go=function(R){return Ye(R)&&Ce(R)=="[object Set]"},ni=er.a&&er.a.isSet,$o=ni?Kt(ni):Go,nn={};nn["[object Arguments]"]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object DataView]"]=nn["[object Boolean]"]=nn["[object Date]"]=nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Map]"]=nn["[object Number]"]=nn["[object Object]"]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object Symbol]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Error]"]=nn["[object Function]"]=nn["[object WeakMap]"]=!1;var uo=function _e(R,te,ce,ie,Ne,qe){var Je,_t=1&te,fr=2&te,hr=4&te;if(ce&&(Je=Ne?ce(R,ie,Ne,qe):ce(R)),Je!==void 0)return Je;if(!B(R))return R;var yi=Yr(R);if(yi){if(Je=Pr(R),!_t)return Wi(R,Je)}else{var Fn=Ce(R),Ti=Fn=="[object Function]"||Fn=="[object GeneratorFunction]";if(Object(tn.a)(R))return Object(La.a)(R,_t);if(Fn=="[object Object]"||Fn=="[object Arguments]"||Ti&&!Ne){if(Je=fr||Ti?{}:Es(R),!_t)return fr?$i(R,oo(Je,R)):Ki(R,dr(Je,R))}else{if(!nn[Fn])return Ne?R:{};Je=Va(R,Fn,_t)}}qe||(qe=new $t);var Mi=qe.get(R);if(Mi)return Mi;qe.set(R,Je),$o(R)?R.forEach(function(Yn){Je.add(_e(Yn,te,ce,Yn,R,qe))}):Cs(R)&&R.forEach(function(Yn,ai){Je.set(ai,_e(Yn,te,ce,ai,R,qe))});var Ha=yi?void 0:(hr?fr?Ci:ri:fr?sa:vr)(R);return lr(Ha||R,function(Yn,ai){Ha&&(Yn=R[ai=Yn]),yn(Je,ai,_e(Yn,te,ce,ai,R,qe))}),Je},As=function(R,te){return uo(R,5,te=typeof te=="function"?te:void 0)},za=Function.prototype,Vn=Object.prototype,ii=za.toString,co=Vn.hasOwnProperty,pe=ii.call(Object),bi=function(R){if(!Ye(R)||ft(R)!="[object Object]")return!1;var te=Ba(R);if(te===null)return!0;var ce=co.call(te,"constructor")&&te.constructor;return typeof ce=="function"&&ce instanceof ce&&ii.call(ce)==pe},fo=function(R){return Ye(R)&&R.nodeType===1&&!bi(R)};function an(_e){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,te=[_e],ce=new Set;te.length>0;){var ie=te.shift();if(!(ce.has(ie)||Ss(ie)||R.has(ie)))if(ce.add(ie),ie[Symbol.iterator])try{var Ne=y(ie),qe;try{for(Ne.s();!(qe=Ne.n()).done;){var Je=qe.value;te.push(Je)}}catch(fr){Ne.e(fr)}finally{Ne.f()}}catch(fr){}else for(var _t in ie)_t!=="defaultValue"&&te.push(ie[_t])}return ce}function Ss(_e){var R=Object.prototype.toString.call(_e),te=typeof _e;return te==="number"||te==="boolean"||te==="string"||te==="symbol"||te==="function"||R==="[object Date]"||R==="[object RegExp]"||R==="[object Module]"||_e==null||_e instanceof EventTarget||_e instanceof Event}function ho(_e,R){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(_e===R&&typeof(ce=_e)=="object"&&ce!==null)return!0;var ce,ie=an(_e,te),Ne=an(R,te),qe=y(ie),Je;try{for(qe.s();!(Je=qe.n()).done;){var _t=Je.value;if(Ne.has(_t))return!0}}catch(fr){qe.e(fr)}finally{qe.f()}return!1}var Ua=function(){function _e(R){var te=this;if(U(this,_e),this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof R.crashNumberLimit=="number"?R.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof R.minimumNonErrorTimePeriod=="number"?R.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(ce){var ie=ce.error||ce.reason;ie instanceof Error&&te._handleError(ie,ce)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return K(_e,[{key:"setCreator",value:function(te){this._creator=te}},{key:"setDestructor",value:function(te){this._destructor=te}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(te,ce){this._listeners[te]||(this._listeners[te]=[]),this._listeners[te].push(ce)}},{key:"off",value:function(te,ce){this._listeners[te]=this._listeners[te].filter(function(ie){return ie!==ce})}},{key:"_fire",value:function(te){for(var ce=this._listeners[te]||[],ie=arguments.length,Ne=new Array(ie>1?ie-1:0),qe=1;qe<ie;qe++)Ne[qe-1]=arguments[qe];var Je=y(ce),_t;try{for(Je.s();!(_t=Je.n()).done;){var fr=_t.value;fr.apply(this,[null].concat(Ne))}}catch(hr){Je.e(hr)}finally{Je.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(te,ce){if(this._shouldReactToError(te)){this.crashes.push({message:te.message,stack:te.stack,filename:ce.filename,lineno:ce.lineno,colno:ce.colno,date:this._now()});var ie=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:te,causesRestart:ie}),ie?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(te){return te.is&&te.is("CKEditorError")&&te.context!==void 0&&te.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(te)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),_e}(),Wa=function(_e){ne(te,_e);var R=H(te);function te(ce){var ie,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return U(this,te),ie=R.call(this,Ne),ie._editor=null,ie._throttledSave=Rr(ie._save.bind(M(ie)),typeof Ne.saveInterval=="number"?Ne.saveInterval:5e3),ie._creator=function(qe,Je){return ce.create(qe,Je)},ie._destructor=function(qe){return qe.destroy()},ie}return K(te,[{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}},{key:"_restart",value:function(){var ie=this;return Promise.resolve().then(function(){return ie.state="initializing",ie._fire("stateChange"),ie._destroy()}).catch(function(Ne){console.error("An error happened during the editor destroying.",Ne)}).then(function(){if(typeof ie._elementOrData=="string")return ie.create(ie._data,ie._config,ie._config.context);{var Ne=Object.assign({},ie._config,{initialData:ie._data});return ie.create(ie._elementOrData,Ne,Ne.context)}}).then(function(){ie._fire("restart")})}},{key:"create",value:function(){var ie=this,Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._elementOrData,qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._config,Je=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then(function(){return I(b(te.prototype),"_startErrorHandling",ie).call(ie),ie._elementOrData=Ne,ie._config=ie._cloneEditorConfiguration(qe)||{},ie._config.context=Je,ie._creator(Ne,ie._config)}).then(function(_t){ie._editor=_t,_t.model.document.on("change:data",ie._throttledSave),ie._lastDocumentVersion=_t.model.document.version,ie._data=ie._getData(),ie.state="ready",ie._fire("stateChange")})}},{key:"destroy",value:function(){var ie=this;return Promise.resolve().then(function(){return ie.state="destroyed",ie._fire("stateChange"),I(b(te.prototype),"destroy",ie).call(ie),ie._destroy()})}},{key:"_destroy",value:function(){var ie=this;return Promise.resolve().then(function(){ie._stopErrorHandling(),ie._throttledSave.flush();var Ne=ie._editor;return ie._editor=null,ie._destructor(Ne)})}},{key:"_save",value:function(){var ie=this._editor.model.document.version;if(ie!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=ie}catch(Ne){console.error(Ne,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(ie){this._excludedProps=ie}},{key:"_getData",value:function(){var ie={},Ne=y(this._editor.model.document.getRootNames()),qe;try{for(Ne.s();!(qe=Ne.n()).done;){var Je=qe.value;ie[Je]=this._editor.data.get({rootName:Je})}}catch(_t){Ne.e(_t)}finally{Ne.f()}return ie}},{key:"_isErrorComingFromThisItem",value:function(ie){return ho(this._editor,ie.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(ie){return As(ie,function(Ne,qe){return fo(Ne)||qe==="context"?Ne:void 0})}}]),te}(Ua),Sn=new Array(256).fill().map(function(_e,R){return("0"+R.toString(16)).slice(-2)}),vo=function(_e){ne(te,_e);var R=H(te);function te(ce){var ie,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return U(this,te),ie=R.call(this,Ne),ie._watchdogs=new Map,ie._watchdogConfig=Ne,ie._context=null,ie._contextProps=new Set,ie._actionQueue=new Zn,ie._creator=function(qe){return ce.create(qe)},ie._destructor=function(qe){return qe.destroy()},ie._actionQueue.onEmpty(function(){ie.state==="initializing"&&(ie.state="ready",ie._fire("stateChange"))}),ie}return K(te,[{key:"context",get:function(){return this._context}},{key:"create",value:function(){var ie=this,Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._actionQueue.enqueue(function(){return ie._contextConfig=Ne,ie._create()})}},{key:"getItem",value:function(ie){return this._getWatchdog(ie)._item}},{key:"getItemState",value:function(ie){return this._getWatchdog(ie).state}},{key:"add",value:function(ie){var Ne=this,qe=Array.isArray(ie)?ie:[ie];return this._actionQueue.enqueue(function(){if(Ne.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!Ne._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");return Promise.all(qe.map(function(Je){var _t;if(Ne._watchdogs.has(Je.id))throw new Error("Item with the given id is already added: '".concat(Je.id,"'."));if(Je.type==="editor")return _t=new Wa(Ne._watchdogConfig),_t.setCreator(Je.creator),_t._setExcludedProperties(Ne._contextProps),Je.destructor&&_t.setDestructor(Je.destructor),Ne._watchdogs.set(Je.id,_t),_t.on("error",function(fr,hr){var yi=hr.error,Fn=hr.causesRestart;Ne._fire("itemError",{itemId:Je.id,error:yi}),Fn&&Ne._actionQueue.enqueue(function(){return new Promise(function(Ti){_t.on("restart",function Mi(){_t.off("restart",Mi),this._fire("itemRestart",{itemId:Je.id}),Ti()}.bind(Ne))})})}),_t.create(Je.sourceElementOrData,Je.config,Ne._context);throw new Error("Not supported item type: '".concat(Je.type,"'."))}))})}},{key:"remove",value:function(ie){var Ne=this,qe=Array.isArray(ie)?ie:[ie];return this._actionQueue.enqueue(function(){return Promise.all(qe.map(function(Je){var _t=Ne._getWatchdog(Je);return Ne._watchdogs.delete(Je),_t.destroy()}))})}},{key:"destroy",value:function(){var ie=this;return this._actionQueue.enqueue(function(){return ie.state="destroyed",ie._fire("stateChange"),I(b(te.prototype),"destroy",ie).call(ie),ie._destroy()})}},{key:"_restart",value:function(){var ie=this;return this._actionQueue.enqueue(function(){return ie.state="initializing",ie._fire("stateChange"),ie._destroy().catch(function(Ne){console.error("An error happened during destroying the context or items.",Ne)}).then(function(){return ie._create()}).then(function(){return ie._fire("restart")})})}},{key:"_create",value:function(){var ie=this;return Promise.resolve().then(function(){return ie._startErrorHandling(),ie._creator(ie._contextConfig)}).then(function(Ne){return ie._context=Ne,ie._contextProps=an(ie._context),Promise.all(Array.from(ie._watchdogs.values()).map(function(qe){return qe._setExcludedProperties(ie._contextProps),qe.create(void 0,void 0,ie._context)}))})}},{key:"_destroy",value:function(){var ie=this;return Promise.resolve().then(function(){ie._stopErrorHandling();var Ne=ie._context;return ie._context=null,ie._contextProps=new Set,Promise.all(Array.from(ie._watchdogs.values()).map(function(qe){return qe.destroy()})).then(function(){return ie._destructor(Ne)})})}},{key:"_getWatchdog",value:function(ie){var Ne=this._watchdogs.get(ie);if(!Ne)throw new Error("Item with the given id was not registered: ".concat(ie,"."));return Ne}},{key:"_isErrorComingFromThisItem",value:function(ie){var Ne=y(this._watchdogs.values()),qe;try{for(Ne.s();!(qe=Ne.n()).done;){var Je=qe.value;if(Je._isErrorComingFromThisItem(ie))return!1}}catch(_t){Ne.e(_t)}finally{Ne.f()}return ho(this._context,ie.context)}}]),te}(Ua),Zn=function(){function _e(){U(this,_e),this._promiseQueue=Promise.resolve(),this._onEmptyCallbacks=[]}return K(_e,[{key:"onEmpty",value:function(te){this._onEmptyCallbacks.push(te)}},{key:"enqueue",value:function(te){var ce=this,ie,Ne=this._promiseQueue.then(te).then(function(){ce._promiseQueue===ie&&ce._onEmptyCallbacks.forEach(function(qe){return qe()})});return ie=this._promiseQueue=Ne.catch(function(){}),Ne}}]),_e}(),Zt=ge.a.createContext("contextWatchdog"),jn=function(_e){ne(te,_e);var R=H(te);function te(ce,ie){var Ne;return U(this,te),Ne=R.call(this,ce,ie),Ne.contextWatchdog=null,Ne.props.isLayoutReady&&Ne._initializeContextWatchdog(Ne.props.config),Ne}return K(te,[{key:"shouldComponentUpdate",value:function(ie){return ie.id!==this.props.id&&(this.contextWatchdog&&this.contextWatchdog.destroy(),this._initializeContextWatchdog(ie.config)),ie.isLayoutReady&&!this.contextWatchdog?(this._initializeContextWatchdog(ie.config),!0):this.props.children!==ie.children}},{key:"render",value:function(){return ge.a.createElement(Zt.Provider,{value:this.contextWatchdog},this.props.children)}},{key:"componentWillUnmount",value:function(){this._destroyContext()}},{key:"_initializeContextWatchdog",value:function(ie){var Ne=this;this.contextWatchdog=new vo(this.props.context),this.contextWatchdog.create(ie).catch(function(qe){Ne.props.onError(qe,{phase:"initialization",willContextRestart:!1})}),this.contextWatchdog.on("error",function(qe,Je){Ne.props.onError(Je.error,{phase:"runtime",willContextRestart:Je.causesRestart})}),this.contextWatchdog.on("stateChange",function(){Ne.contextWatchdog.state==="ready"&&Ne.props.onReady&&Ne.props.onReady(Ne.contextWatchdog.context)})}},{key:"_destroyContext",value:function(){this.contextWatchdog&&(this.contextWatchdog.destroy(),this.contextWatchdog=null)}}]),te}(ge.a.Component);jn.defaultProps={isLayoutReady:!0,onError:function(R,te){return console.error(R,te)}},jn.propTypes={id:re.a.string,isLayoutReady:re.a.bool,context:re.a.func,config:re.a.object,onReady:re.a.func,onError:re.a.func};var Si=function(_e){ne(te,_e);var R=H(te);function te(ce){var ie;return U(this,te),ie=R.call(this,ce),ie.domContainer=ge.a.createRef(),ie.watchdog=null,ie}return K(te,[{key:"editor",get:function(){return this.watchdog?this.watchdog.editor:null}},{key:"shouldComponentUpdate",value:function(ie){return!!this.editor&&(ie.id!==this.props.id||(this._shouldUpdateEditor(ie)&&this.editor.setData(ie.data),"disabled"in ie&&(this.editor.isReadOnly=ie.disabled),!1))}},{key:"componentDidMount",value:function(){this._initializeEditor()}},{key:"componentDidUpdate",value:function(){this._destroyEditor(),this._initializeEditor()}},{key:"componentWillUnmount",value:function(){this._destroyEditor()}},{key:"render",value:function(){return ge.a.createElement("div",{ref:this.domContainer})}},{key:"_initializeEditor",value:function(){var ie=this;this.context instanceof vo?this.watchdog=new Ts(this.context):this.watchdog=new te._EditorWatchdog(this.props.editor),this.watchdog.setCreator(function(Ne,qe){return ie._createEditor(Ne,qe)}),this.watchdog.on("error",function(Ne,qe){var Je=qe.error,_t=qe.causesRestart;ie.props.onError(Je,{phase:"runtime",willEditorRestart:_t})}),this.watchdog.create(this.domContainer.current,this._getConfig()).catch(function(Ne){return ie.props.onError(Ne,{phase:"initialization",willEditorRestart:!1})})}},{key:"_createEditor",value:function(ie,Ne){var qe=this;return this.props.editor.create(ie,Ne).then(function(Je){"disabled"in qe.props&&(Je.isReadOnly=qe.props.disabled);var _t=Je.model.document,fr=Je.editing.view.document;return _t.on("change:data",function(hr){qe.props.onChange&&qe.props.onChange(hr,Je)}),fr.on("focus",function(hr){qe.props.onFocus&&qe.props.onFocus(hr,Je)}),fr.on("blur",function(hr){qe.props.onBlur&&qe.props.onBlur(hr,Je)}),setTimeout(function(){qe.props.onReady&&qe.props.onReady(qe.editor)}),Je})}},{key:"_destroyEditor",value:function(){this.watchdog&&(this.watchdog.destroy(),this.watchdog=null)}},{key:"_shouldUpdateEditor",value:function(ie){return this.props.data!==ie.data&&this.editor.getData()!==ie.data}},{key:"_getConfig",value:function(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),Y(Y({},this.props.config),{},{initialData:this.props.config.initialData||this.props.data||""})}}]),te}(ge.a.Component),Ts=function(){function _e(R){U(this,_e),this._contextWatchdog=R,this._id=function(){var te=4294967296*Math.random()>>>0,ce=4294967296*Math.random()>>>0,ie=4294967296*Math.random()>>>0,Ne=4294967296*Math.random()>>>0;return"e"+Sn[te>>0&255]+Sn[te>>8&255]+Sn[te>>16&255]+Sn[te>>24&255]+Sn[ce>>0&255]+Sn[ce>>8&255]+Sn[ce>>16&255]+Sn[ce>>24&255]+Sn[ie>>0&255]+Sn[ie>>8&255]+Sn[ie>>16&255]+Sn[ie>>24&255]+Sn[Ne>>0&255]+Sn[Ne>>8&255]+Sn[Ne>>16&255]+Sn[Ne>>24&255]}()}return K(_e,[{key:"setCreator",value:function(te){this._creator=te}},{key:"create",value:function(te,ce){return this._contextWatchdog.add({sourceElementOrData:te,config:ce,creator:this._creator,id:this._id,type:"editor"})}},{key:"on",value:function(te,ce){var ie=this;this._contextWatchdog.on("itemError",function(Ne,qe){var Je=qe.itemId,_t=qe.causesRestart,fr=qe.error;Je===ie._id&&ce(null,{error:fr,causesRestart:_t})})}},{key:"destroy",value:function(){this._contextWatchdog.remove(this._id)}},{key:"editor",get:function(){return this._contextWatchdog.getItem(this._id)}}]),_e}();Si.contextType=Zt,Si.propTypes={editor:re.a.func.isRequired,data:re.a.string,config:re.a.object,onChange:re.a.func,onReady:re.a.func,onFocus:re.a.func,onBlur:re.a.func,onError:re.a.func,disabled:re.a.bool,onInit:function(R,te){if(R[te])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},Si.defaultProps={config:{},onError:function(R,te){return console.error(R,te)}},Si._EditorWatchdog=Wa}])})},Ag8Z:function(oe,ae,k){var Y=k("JC6p"),M=k("EwQA");function I(b,ne){return b&&Y(b,M(ne))}oe.exports=I},"B+1O":function(oe,ae,k){},B5Mt:function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var Y=function(I,b){var ne={},H=function(K){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ne[K]=y};return I===0&&H("first-child"),I===b-1&&H("last-child"),(I===0||I%2==0)&&H("even"),Math.abs(I%2)===1&&H("odd"),H("nth-child",I),ne};ae.default=Y},BOG6:function(oe,ae,k){"use strict";k.r(ae);var Y=k("miYZ"),M=k("tsqr"),I=k("9og8"),b=k("fOrg"),ne=k("+KLJ"),H=k("+L6B"),U=k("2/Rp"),K=k("tJVT"),y=k("jrin"),N=k("k1fw"),E=k("WmNS"),C=k.n(E),S=k("q1tI"),D=k.n(S),ge=k("VMEa"),j=k("Qurx"),re=k("yj/a"),B=k("nhC9"),$=k("rWUb"),x=k("tMyG"),se=k("9kvl"),Te=k("Ty5D"),Fe=k("pWZp"),je=k("nKUr"),gt=k.n(je),wt=function(St){return St?Object.keys(St).reduce(function(kt,Gt){return Object(N.a)(Object(N.a)({},kt),{},Object(y.a)({},Gt,Gt))},{}):{}},Ct=function(St){var kt=St.disabled,Gt=kt===void 0?!1:kt,Wt=St.id,et=Object(S.useState)({state:"ready"}),ft=Object(K.a)(et,2),Ye=ft[0],Be=ft[1],Ke=Object(S.useCallback)(function(){Be({state:"loading"}),Object($.c)(Wt).then(function(He){He.success?He.data.sent&&He.data.to?Be({state:"loaded",data:He.data,message:"email sent to ".concat(He.data.to)}):He.data.url?Be({state:"loaded",data:He.data,message:Object(je.jsxs)(D.a.Fragment,{children:["Download"," ",Object(je.jsx)("a",{target:"_blank",href:He.data.url,children:He.data.filename})]})}):Be({state:"loaded",data:He.data,message:He.message}):Be({state:"error",error:He.message})}).catch(function(){Be({state:"error",error:"error"})})},[Wt]);return Object(je.jsxs)(D.a.Fragment,{children:[Object(je.jsx)(U.a,{type:"primary",loading:Ye.state==="loading",disabled:Gt,onClick:Ke,children:Object(je.jsx)(se.a,{id:"preview"})}),Ye.state==="loaded"&&Object(je.jsx)(ne.a,{message:Ye.message,type:"success",closable:!0,onClose:function(){return Be({state:"ready"})}}),Ye.state==="error"&&Object(je.jsx)(ne.a,{message:Ye.error,type:"error",closable:!0,onClose:function(){return Be({state:"ready"})}})]})};ae.default=function(){var Ut=Object(se.i)(),St=Object(Te.g)(),kt=St.template,Gt=kt==="new",Wt=Object(S.useState)(!1),et=Object(K.a)(Wt,2),ft=et[0],Ye=et[1],Be=ge.b.useForm(),Ke=Object(K.a)(Be,1),He=Ke[0],Xe=Object(S.useState)(),st=Object(K.a)(Xe,2),It=st[0],Xt=st[1];Object(S.useEffect)(function(){Object($.g)().then(function(Rr){Xt(Rr.success?Rr.data:{})})},[]);var pr=Object(S.useCallback)(Object(I.a)(C.a.mark(function Rr(){var nr;return C.a.wrap(function(Ar){for(;;)switch(Ar.prev=Ar.next){case 0:return Ar.next=2,Object($.d)(Number(kt));case 2:nr=Ar.sent,nr.success&&(He.setFieldsValue(Object(N.a)(Object(N.a)({},nr.data),{},{content:nr.data.content||""})),Ye(!0));case 4:case"end":return Ar.stop()}},Rr)})),[kt,It]);Object(S.useEffect)(function(){kt!=="new"&&pr()},[kt,pr]);var Qr=Object(S.useCallback)(function(){var Rr=Object(I.a)(C.a.mark(function nr(jr){var Ar,Rt;return C.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(Rt=Object(N.a)({},jr),kt!=="new"){J.next=8;break}return J.next=4,Object($.a)(Rt);case 4:Ar=J.sent,Ar.success&&se.d.push("/templates/".concat(Ar.data.id)),J.next=11;break;case 8:return J.next=10,Object($.f)(Number(kt),Rt);case 10:Ar=J.sent;case 11:Ye(!0),M.default.success(Ar.message);case 13:case"end":return J.stop()}},nr)}));return function(nr){return Rr.apply(this,arguments)}}(),[]);return Object(je.jsx)(x.a,{title:Gt?Object(je.jsx)(se.a,{id:"new_template"}):Object(je.jsx)(se.a,{id:"new_template"}),children:Object(je.jsx)(B.a,{children:Object(je.jsxs)(ge.b,{initialValues:{},onFinish:Qr,form:He,onValuesChange:function(){Ye(!1)},children:[Object(je.jsxs)(ge.b.Group,{children:[Object(je.jsx)(j.a,{width:"md",name:"name",label:Object(je.jsx)(se.a,{id:"name"}),tooltip:Object(je.jsx)(se.a,{id:"name_tooltip"}),placeholder:Ut.formatMessage({id:"name"}),required:!0}),Object(je.jsx)(re.a,{name:"type",label:Object(je.jsx)(se.a,{id:"tpl_type"}),tooltip:Object(je.jsx)(se.a,{id:"tpl_type_tooltip"}),valueEnum:It?wt(It):{},placeholder:Ut.formatMessage({id:"tpl_type_placeholder"}),rules:[{required:!0,message:"Please select your country!"}]}),Object(je.jsx)(ge.b.Item,{noStyle:!0,shouldUpdate:!0,children:function(nr){return Object(je.jsx)(re.a,{name:"vars_set",label:Object(je.jsx)(se.a,{id:"tpl_vars_set"}),tooltip:Object(je.jsx)(se.a,{id:"tpl_vars_set_tooltip"}),valueEnum:It?wt(It[nr.getFieldValue("type")]):{},placeholder:Ut.formatMessage({id:"tpl_vars_set_placeholder"}),rules:[{required:!0,message:"Please select your country!"}]})}}),!Gt&&Object(je.jsx)(ge.b.Item,{label:Object(je.jsx)(se.a,{id:"preview"}),children:Object(je.jsx)(Ct,{disabled:!ft,id:Number(kt)})})]}),Object(je.jsx)(ge.b.Item,{noStyle:!0,shouldUpdate:!0,children:function(nr){return Object(je.jsx)(ge.b.Item,{name:"content",label:Object(je.jsx)(se.a,{id:"content"}),tooltip:Object(je.jsx)(se.a,{id:"content_tooltip"}),valuePropName:"value",required:!0,shouldUpdate:!0,children:Object(je.jsx)(Fe.a,{tokens:It&&nr.getFieldValue("type")&&nr.getFieldValue("vars_set")?It[nr.getFieldValue("type")][nr.getFieldValue("vars_set")]:[]})})}})]})})})}},BkRI:function(oe,ae,k){var Y=k("OBhP"),M=1,I=4;function b(ne){return Y(ne,M|I)}oe.exports=b},CMye:function(oe,ae,k){var Y=k("GoyQ");function M(I){return I===I&&!Y(I)}oe.exports=M},CS2o:function(oe,ae,k){var Y=k("GXtI"),M=k("5h2M"),I=k("baxp");function b(ne){var H=M();return function(){var K=Y(ne),y;if(H){var N=Y(this).constructor;y=Reflect.construct(K,arguments,N)}else y=K.apply(this,arguments);return I(this,y)}}oe.exports=b},CeSn:function(oe,ae){var k=0/0,Y="[object Symbol]",M=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,ne=/^0o[0-7]+$/i,H=parseInt,U=Object.prototype,K=U.toString;function y(S){var D=typeof S;return!!S&&(D=="object"||D=="function")}function N(S){return!!S&&typeof S=="object"}function E(S){return typeof S=="symbol"||N(S)&&K.call(S)==Y}function C(S){if(typeof S=="number")return S;if(E(S))return k;if(y(S)){var D=typeof S.valueOf=="function"?S.valueOf():S;S=y(D)?D+"":D}if(typeof S!="string")return S===0?S:+S;S=S.replace(M,"");var ge=b.test(S);return ge||ne.test(S)?H(S.slice(2),ge?2:8):I.test(S)?k:+S}oe.exports=C},"Dw+G":function(oe,ae,k){var Y=k("juv8"),M=k("mTTR");function I(b,ne){return b&&Y(ne,M(ne),b)}oe.exports=I},EEGq:function(oe,ae,k){var Y=k("juv8"),M=k("oCl/");function I(b,ne){return Y(b,M(b),ne)}oe.exports=I},EwQA:function(oe,ae,k){var Y=k("zZ0H");function M(I){return typeof I=="function"?I:Y}oe.exports=M},G6z8:function(oe,ae,k){var Y=k("fR/l"),M=k("oCl/"),I=k("mTTR");function b(ne){return Y(ne,I,M)}oe.exports=b},GDhZ:function(oe,ae,k){var Y=k("wF/u"),M=k("mwIZ"),I=k("hgQt"),b=k("9ggG"),ne=k("CMye"),H=k("IOzZ"),U=k("9Nap"),K=1,y=2;function N(E,C){return b(E)&&ne(C)?H(U(E),C):function(S){var D=M(S,E);return D===void 0&&D===C?I(S,E):Y(C,D,K|y)}}oe.exports=N},GNiM:function(oe,ae,k){var Y=k("I01J"),M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,b=Y(function(ne){var H=[];return ne.charCodeAt(0)===46&&H.push(""),ne.replace(M,function(U,K,y,N){H.push(y?N.replace(I,"$1"):K||U)}),H});oe.exports=b},GXtI:function(oe,ae){function k(Y){return oe.exports=k=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},k(Y)}oe.exports=k},Gi0A:function(oe,ae,k){var Y=k("QqLw"),M=k("ExA7"),I="[object Map]";function b(ne){return M(ne)&&Y(ne)==I}oe.exports=b},I01J:function(oe,ae,k){var Y=k("44Ds"),M=500;function I(b){var ne=Y(b,function(U){return H.size===M&&H.clear(),U}),H=ne.cache;return ne}oe.exports=I},IOzZ:function(oe,ae){function k(Y,M){return function(I){return I==null?!1:I[Y]===M&&(M!==void 0||Y in Object(I))}}oe.exports=k},JC6p:function(oe,ae,k){var Y=k("cq/+"),M=k("7GkX");function I(b,ne){return b&&Y(b,ne,M)}oe.exports=I},"Ju5/":function(oe,ae,k){"use strict";var Y=k("XqMk"),M=typeof self=="object"&&self&&self.Object===Object&&self,I=Y.a||M||Function("return this")();ae.a=I},Juji:function(oe,ae){function k(Y,M){return Y!=null&&M in Object(Y)}oe.exports=k},KCY9:function(oe,ae,k){},KPFz:function(oe,ae,k){},KfSR:function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.autoprefix=void 0;var Y=k("Ag8Z"),M=b(Y),I=Object.assign||function(U){for(var K=1;K<arguments.length;K++){var y=arguments[K];for(var N in y)Object.prototype.hasOwnProperty.call(y,N)&&(U[N]=y[N])}return U};function b(U){return U&&U.__esModule?U:{default:U}}var ne={borderRadius:function(K){return{msBorderRadius:K,MozBorderRadius:K,OBorderRadius:K,WebkitBorderRadius:K,borderRadius:K}},boxShadow:function(K){return{msBoxShadow:K,MozBoxShadow:K,OBoxShadow:K,WebkitBoxShadow:K,boxShadow:K}},userSelect:function(K){return{WebkitTouchCallout:K,KhtmlUserSelect:K,MozUserSelect:K,msUserSelect:K,WebkitUserSelect:K,userSelect:K}},flex:function(K){return{WebkitBoxFlex:K,MozBoxFlex:K,WebkitFlex:K,msFlex:K,flex:K}},flexBasis:function(K){return{WebkitFlexBasis:K,flexBasis:K}},justifyContent:function(K){return{WebkitJustifyContent:K,justifyContent:K}},transition:function(K){return{msTransition:K,MozTransition:K,OTransition:K,WebkitTransition:K,transition:K}},transform:function(K){return{msTransform:K,MozTransform:K,OTransform:K,WebkitTransform:K,transform:K}},absolute:function(K){var y=K&&K.split(" ");return{position:"absolute",top:y&&y[0],right:y&&y[1],bottom:y&&y[2],left:y&&y[3]}},extend:function(K,y){var N=y[K];return N||{extend:K}}},H=ae.autoprefix=function(K){var y={};return(0,M.default)(K,function(N,E){var C={};(0,M.default)(N,function(S,D){var ge=ne[D];ge?C=I({},C,ge(S)):C[D]=S}),y[E]=C}),y};ae.default=H},L3Qv:function(oe,ae,k){"use strict";function Y(){return!1}ae.a=Y},LcsW:function(oe,ae,k){var Y=k("kekF"),M=Y(Object.getPrototypeOf,Object);oe.exports=M},Lpa7:function(oe,ae,k){"use strict";k.d(ae,"a",function(){return jr}),k.d(ae,"b",function(){return He});var Y=k("q1tI"),M=k.n(Y);function I(Rt,L,J,W){return new(J||(J=Promise))(function(ve,we){function Ae(lt){try{vt(W.next(lt))}catch(me){we(me)}}function Ve(lt){try{vt(W.throw(lt))}catch(me){we(me)}}function vt(lt){var me;lt.done?ve(lt.value):(me=lt.value,me instanceof J?me:new J(function(Re){Re(me)})).then(Ae,Ve)}vt((W=W.apply(Rt,L||[])).next())})}function b(Rt,L){var J,W,ve,we,Ae={label:0,sent:function(){if(1&ve[0])throw ve[1];return ve[1]},trys:[],ops:[]};return we={next:Ve(0),throw:Ve(1),return:Ve(2)},typeof Symbol=="function"&&(we[Symbol.iterator]=function(){return this}),we;function Ve(vt){return function(lt){return function(me){if(J)throw new TypeError("Generator is already executing.");for(;Ae;)try{if(J=1,W&&(ve=2&me[0]?W.return:me[0]?W.throw||((ve=W.return)&&ve.call(W),0):W.next)&&!(ve=ve.call(W,me[1])).done)return ve;switch(W=0,ve&&(me=[2&me[0],ve.value]),me[0]){case 0:case 1:ve=me;break;case 4:return Ae.label++,{value:me[1],done:!1};case 5:Ae.label++,W=me[1],me=[0];continue;case 7:me=Ae.ops.pop(),Ae.trys.pop();continue;default:if(ve=Ae.trys,!((ve=ve.length>0&&ve[ve.length-1])||me[0]!==6&&me[0]!==2)){Ae=0;continue}if(me[0]===3&&(!ve||me[1]>ve[0]&&me[1]<ve[3])){Ae.label=me[1];break}if(me[0]===6&&Ae.label<ve[1]){Ae.label=ve[1],ve=me;break}if(ve&&Ae.label<ve[2]){Ae.label=ve[2],Ae.ops.push(me);break}ve[2]&&Ae.ops.pop(),Ae.trys.pop();continue}me=L.call(Rt,Ae)}catch(Re){me=[6,Re],W=0}finally{J=ve=0}if(5&me[0])throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}([vt,lt])}}}var ne,H=function(){},U=H(),K=function(L){return L===U},y=function(L){return typeof L=="function"},N=function(L,J){return Object.assign({},L,J)},E=typeof window!="undefined",C=typeof document!="undefined",S=new WeakMap,D=0,ge=function Rt(L){var J,W,ve=typeof L,we=L&&L.constructor,Ae=we==Date;if(Object(L)!==L||Ae||we==RegExp)J=Ae?L.toJSON():ve=="symbol"?L.toString():ve=="string"?JSON.stringify(L):""+L;else{if(J=S.get(L))return J;if(J=++D+"~",S.set(L,J),we==Array){for(J="@",W=0;W<L.length;W++)J+=Rt(L[W])+",";S.set(L,J)}if(we==Object){J="#";for(var Ve=Object.keys(L).sort();!K(W=Ve.pop());)K(L[W])||(J+=W+":"+Rt(L[W])+",");S.set(L,J)}}return J},j=!0,re=E?window.addEventListener.bind(window):H,B=C?document.addEventListener.bind(document):H,$=E&&removeEventListener||H,x=C?document.removeEventListener.bind(document):H,se={isOnline:function(){return j},isVisible:function(){var L=C&&document.visibilityState;return!!K(L)||L!=="hidden"}},Te={initFocus:function(L){return B("visibilitychange",L),re("focus",L),function(){x("visibilitychange",L),$("focus",L)}},initReconnect:function(L){var J=function(){j=!0,L()},W=function(){j=!1};return re("online",J),re("offline",W),function(){$("online",J),$("offline",W)}}},Fe=!E||"Deno"in window,je=E&&window.requestAnimationFrame||function(Rt){return setTimeout(Rt,1)},gt=Fe?Y.useEffect:Y.useLayoutEffect,wt=typeof navigator!="undefined"&&navigator.connection,Ct=!Fe&&wt&&(["slow-2g","2g"].includes(wt.effectiveType)||wt.saveData),Ut=function(L){if(y(L))try{L=L()}catch(W){L=""}var J=[].concat(L);return[L=typeof L=="string"?L:(Array.isArray(L)?L.length:L)?ge(L):"",J,L?"$err$"+L:"",L?"$req$"+L:""]},St=new WeakMap,kt=function(L,J,W,ve,we,Ae){var Ve=St.get(L),vt=Ve[0],lt=Ve[1],me=Ve[4],Re=Ve[5],Me=vt[J],$e=lt[J];if($e)for(var it=0;it<$e.length;++it)$e[it](W,ve,we);return Ae&&(delete me[J],delete Re[J],Me&&Me[0])?Me[0](2).then(function(){return L.get(J)}):L.get(J)},Gt=0,Wt=function(){return++Gt},et=function(){for(var L=[],J=0;J<arguments.length;J++)L[J]=arguments[J];return I(void 0,void 0,void 0,function(){var W,ve,we,Ae,Ve,vt,lt,me,Re,Me,$e,it,Et,gr;return b(this,function(ar){switch(ar.label){case 0:if(W=L[0],ve=L[1],we=L[3]!==!1,Ae=L[2],Ve=Ut(ve),vt=Ve[0],lt=Ve[2],!vt)return[2];if(me=St.get(W),Re=me[2],Me=me[3],L.length<3)return[2,kt(W,vt,W.get(vt),W.get(lt),U,we)];if(Et=Re[vt]=Wt(),Me[vt]=0,y(Ae))try{Ae=Ae(W.get(vt))}catch(mr){it=mr}return Ae&&y(Ae.then)?[4,Ae.catch(function(mr){it=mr})]:[3,2];case 1:if($e=ar.sent(),Et!==Re[vt]){if(it)throw it;return[2,$e]}return[3,3];case 2:$e=Ae,ar.label=3;case 3:return it||W.set(vt,$e),W.set(lt,it),Me[vt]=Wt(),[4,kt(W,vt,$e,it,U,we)];case 4:if(gr=ar.sent(),it)throw it;return[2,gr]}})})},ft=function(L,J){for(var W in L)L[W][0]&&L[W][0](J)},Ye=function(L,J){if(!St.has(L)){var W=N(Te,J),ve={},we=et.bind(U,L),Ae=H;if(St.set(L,[ve,{},{},{},{},{},we]),!Fe){var Ve=W.initFocus(ft.bind(U,ve,0)),vt=W.initReconnect(ft.bind(U,ve,1));Ae=function(){Ve&&Ve(),vt&&vt(),St.delete(L)}}return[L,we,Ae]}return[L,St.get(L)[6]]},Be=Ye(new Map),Ke=Be[0],He=Be[1],Xe=N({onLoadingSlow:H,onSuccess:H,onError:H,onErrorRetry:function(L,J,W,ve,we){if(se.isVisible()){var Ae=W.errorRetryCount,Ve=we.retryCount,vt=~~((Math.random()+.5)*(1<<(Ve<8?Ve:8)))*W.errorRetryInterval;!K(Ae)&&Ve>Ae||setTimeout(ve,vt,we)}},onDiscarded:H,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ct?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:Ct?5e3:3e3,compare:function(L,J){return ge(L)==ge(J)},isPaused:function(){return!1},cache:Ke,mutate:He,fallback:{}},se),st=function(L,J){var W=N(L,J);if(J){var ve=L.use,we=L.fallback,Ae=J.use,Ve=J.fallback;ve&&Ae&&(W.use=ve.concat(Ae)),we&&Ve&&(W.fallback=N(we,Ve))}return W},It=Object(Y.createContext)({}),Xt=function(L){return y(L[1])?[L[0],L[1],L[2]||{}]:[L[0],null,(L[1]===null?L[2]:L[1])||{}]},pr=function(L,J,W){var ve=J[L]||(J[L]=[]);return ve.push(W),function(){var we=ve.indexOf(W);we>=0&&(ve[we]=ve[ve.length-1],ve.pop())}},Qr={dedupe:!0},Rr=Object.defineProperty(function(Rt){var L=Rt.children,J=Rt.value,W=st(Object(Y.useContext)(It),J),ve=J&&J.provider,we=Object(Y.useState)(function(){return ve?Ye(ve(W.cache||Ke),J):U})[0];return we&&(W.cache=we[0],W.mutate=we[1]),gt(function(){return we?we[2]:U},[]),Object(Y.createElement)(It.Provider,{value:W},L)},"default",{value:Xe}),nr=function(L){return Ut(L)[0]},jr=(ne=function(L,J,W){var ve=W.cache,we=W.compare,Ae=W.fallbackData,Ve=W.suspense,vt=W.revalidateOnMount,lt=W.refreshInterval,me=W.refreshWhenHidden,Re=W.refreshWhenOffline,Me=St.get(ve),$e=Me[0],it=Me[1],Et=Me[2],gr=Me[3],ar=Me[4],mr=Me[5],Wr=Ut(L),Ht=Wr[0],Sr=Wr[1],Hr=Wr[2],Xr=Wr[3],Kr=Object(Y.useRef)(!1),ln=Object(Y.useRef)(!1),qr=Object(Y.useRef)(Ht),Nn=Object(Y.useRef)(W),Tr=function(){return Nn.current},Tn=ve.get(Ht),ye=K(Ae)?W.fallback[Ht]:Ae,Oe=K(Tn)?ye:Tn,xe=ve.get(Hr),Le=function(){return K(vt)?!Tr().isPaused()&&(Ve?!K(Oe):K(Oe)||W.revalidateIfStale):vt},ht=!(!Ht||!J)&&(!!ve.get(Xr)||!Kr.current&&Le()),mt=function(X,de){var ke=Object(Y.useState)({})[1],We=Object(Y.useRef)(X),ze=Object(Y.useRef)({data:!1,error:!1,isValidating:!1}),tt=Object(Y.useCallback)(function(Ot){var rt=!1,$t=We.current;for(var lr in Ot){var qt=lr;$t[qt]!==Ot[qt]&&($t[qt]=Ot[qt],ze.current[qt]&&(rt=!0))}rt&&!de.current&&ke({})},[]);return gt(function(){We.current=X}),[We,ze.current,tt]}({data:Oe,error:xe,isValidating:ht},ln),Tt=mt[0],Dt=mt[1],Mt=mt[2],Bt=Object(Y.useCallback)(function(X){return I(void 0,void 0,void 0,function(){var de,ke,We,ze,tt,Ot,rt,$t,lr,qt;return b(this,function(Vt){switch(Vt.label){case 0:if(!Ht||!J||ln.current||Tr().isPaused())return[2,!1];ke=-1,We=!0,ze=X||{},tt=K(ar[Ht])||!ze.dedupe,Ot=function(){return!ln.current&&Ht===qr.current&&Kr.current},rt=function(yn){mr[Ht]===yn&&(delete ar[Ht],delete mr[Ht])},$t={isValidating:!1},lr=function(){ve.set(Xr,!1),Ot()&&Mt($t)},ve.set(Xr,!0),Mt({isValidating:!0}),Vt.label=1;case 1:return Vt.trys.push([1,3,,4]),tt&&(kt(ve,Ht,Tt.current.data,Tt.current.error,!0),W.loadingTimeout&&!ve.get(Ht)&&setTimeout(function(){We&&Ot()&&Tr().onLoadingSlow(Ht,W)},W.loadingTimeout),mr[Ht]=Wt(),ar[Ht]=J.apply(void 0,Sr)),ke=mr[Ht],[4,ar[Ht]];case 2:return de=Vt.sent(),tt&&setTimeout(function(){return rt(ke)},W.dedupingInterval),mr[Ht]!==ke?(tt&&Ot()&&Tr().onDiscarded(Ht),[2,!1]):(ve.set(Hr,U),$t.error=U,!K(Et[Ht])&&(ke<=Et[Ht]||ke<=gr[Ht]||gr[Ht]===0)?(lr(),tt&&Ot()&&Tr().onDiscarded(Ht),[2,!1]):(we(Tt.current.data,de)||($t.data=de),we(ve.get(Ht),de)||ve.set(Ht,de),tt&&Ot()&&Tr().onSuccess(de,Ht,W),[3,4]));case 3:return qt=Vt.sent(),rt(ke),Tr().isPaused()||(ve.set(Hr,qt),$t.error=qt,tt&&Ot()&&(Tr().onError(qt,Ht,W),W.shouldRetryOnError&&Tr().onErrorRetry(qt,Ht,W,Bt,{retryCount:(ze.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return We=!1,lr(),Ot()&&tt&&kt(ve,Ht,$t.data,$t.error,!1),[2,!0]}})})},[Ht]),ue=Object(Y.useCallback)(et.bind(U,ve,function(){return qr.current}),[]);if(gt(function(){Nn.current=W}),gt(function(){if(Ht){var X=Kr.current,de=Bt.bind(U,Qr),ke=function(){return Tr().isVisible()&&Tr().isOnline()},We=0,ze=pr(Ht,it,function(Ot,rt,$t){Mt(N({error:rt,isValidating:$t},we(Tt.current.data,Ot)?U:{data:Ot}))}),tt=pr(Ht,$e,function(Ot){if(Ot==0){var rt=Date.now();Tr().revalidateOnFocus&&rt>We&&ke()&&(We=rt+Tr().focusThrottleInterval,de())}else if(Ot==1)Tr().revalidateOnReconnect&&ke()&&de();else if(Ot==2)return Bt()});return ln.current=!1,qr.current=Ht,Kr.current=!0,X&&Mt({data:Oe,error:xe,isValidating:ht}),Le()&&(K(Oe)||Fe?de():je(de)),function(){ln.current=!0,ze(),tt()}}},[Ht,Bt]),gt(function(){var X;function de(){lt&&X!==-1&&(X=setTimeout(ke,lt))}function ke(){Tt.current.error||!me&&!Tr().isVisible()||!Re&&!Tr().isOnline()?de():Bt(Qr).then(de)}return de(),function(){X&&(clearTimeout(X),X=-1)}},[lt,me,Re,Bt]),Object(Y.useDebugValue)(Oe),Ve&&K(Oe))throw K(xe)?Bt(Qr):xe;return{mutate:ue,get data(){return Dt.data=!0,Oe},get error(){return Dt.error=!0,xe},get isValidating(){return Dt.isValidating=!0,ht}}},function(){for(var Rt=[],L=0;L<arguments.length;L++)Rt[L]=arguments[L];var J=Xt(Rt),W=J[0],ve=J[1],we=J[2],Ae=N(Xe,Object(Y.useContext)(It)),Ve=st(Ae,we),vt=ne,lt=Ve.use;if(lt)for(var me=lt.length;me-- >0;)vt=lt[me](vt);return vt(W,ve||Ve.fetcher,Ve)}),Ar=function(){return N(Xe,Object(Y.useContext)(It))}},Lw8S:function(oe,ae){function k(M,I){for(var b=0;b<I.length;b++){var ne=I[b];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(M,ne.key,ne)}}function Y(M,I,b){return I&&k(M.prototype,I),b&&k(M,b),M}oe.exports=Y},"M+yt":function(oe,ae,k){},MrPd:function(oe,ae,k){var Y=k("hypo"),M=k("ljhN"),I=Object.prototype,b=I.hasOwnProperty;function ne(H,U,K){var y=H[U];(!(b.call(H,U)&&M(y,K))||K===void 0&&!(U in H))&&Y(H,U,K)}oe.exports=ne},NYcB:function(oe,ae,k){"use strict";k.d(ae,"a",function(){return K});var Y=k("cIOH"),M=k("PQMj"),I=k("KrTs"),b=k("q1tI"),ne=k.n(b),H=k("B+1O"),U={Success:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"success",text:C})},Error:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"error",text:C})},Default:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"default",text:C})},Processing:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"processing",text:C})},Warning:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"warning",text:C})},success:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"success",text:C})},error:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"error",text:C})},default:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"default",text:C})},processing:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"processing",text:C})},warning:function(E){var C=E.children;return ne.a.createElement(I.a,{status:"warning",text:C})}},K=function(E){var C=E.color,S=E.children;return ne.a.createElement(I.a,{color:C,text:S})},y=ae.b=U},O0oS:function(oe,ae,k){var Y=k("Cwc5"),M=function(){try{var I=Y(Object,"defineProperty");return I({},"",{}),I}catch(b){}}();oe.exports=M},O7RO:function(oe,ae,k){var Y=k("CMye"),M=k("7GkX");function I(b){for(var ne=M(b),H=ne.length;H--;){var U=ne[H],K=b[U];ne[H]=[U,K,Y(K)]}return ne}oe.exports=I},OBhP:function(oe,ae,k){var Y=k("fmRc"),M=k("gFfm"),I=k("MrPd"),b=k("WwFo"),ne=k("Dw+G"),H=k("5Tg0"),U=k("Q1l4"),K=k("VOtZ"),y=k("EEGq"),N=k("qZTm"),E=k("G6z8"),C=k("QqLw"),S=k("yHx3"),D=k("wrZu"),ge=k("+iFO"),j=k("Z0cm"),re=k("DSRE"),B=k("zEVN"),$=k("GoyQ"),x=k("1+5i"),se=k("7GkX"),Te=k("mTTR"),Fe=1,je=2,gt=4,wt="[object Arguments]",Ct="[object Array]",Ut="[object Boolean]",St="[object Date]",kt="[object Error]",Gt="[object Function]",Wt="[object GeneratorFunction]",et="[object Map]",ft="[object Number]",Ye="[object Object]",Be="[object RegExp]",Ke="[object Set]",He="[object String]",Xe="[object Symbol]",st="[object WeakMap]",It="[object ArrayBuffer]",Xt="[object DataView]",pr="[object Float32Array]",Qr="[object Float64Array]",Rr="[object Int8Array]",nr="[object Int16Array]",jr="[object Int32Array]",Ar="[object Uint8Array]",Rt="[object Uint8ClampedArray]",L="[object Uint16Array]",J="[object Uint32Array]",W={};W[wt]=W[Ct]=W[It]=W[Xt]=W[Ut]=W[St]=W[pr]=W[Qr]=W[Rr]=W[nr]=W[jr]=W[et]=W[ft]=W[Ye]=W[Be]=W[Ke]=W[He]=W[Xe]=W[Ar]=W[Rt]=W[L]=W[J]=!0,W[kt]=W[Gt]=W[st]=!1;function ve(we,Ae,Ve,vt,lt,me){var Re,Me=Ae&Fe,$e=Ae&je,it=Ae&gt;if(Ve&&(Re=lt?Ve(we,vt,lt,me):Ve(we)),Re!==void 0)return Re;if(!$(we))return we;var Et=j(we);if(Et){if(Re=S(we),!Me)return U(we,Re)}else{var gr=C(we),ar=gr==Gt||gr==Wt;if(re(we))return H(we,Me);if(gr==Ye||gr==wt||ar&&!lt){if(Re=$e||ar?{}:ge(we),!Me)return $e?y(we,ne(Re,we)):K(we,b(Re,we))}else{if(!W[gr])return lt?we:{};Re=D(we,gr,Me)}}me||(me=new Y);var mr=me.get(we);if(mr)return mr;me.set(we,Re),x(we)?we.forEach(function(Sr){Re.add(ve(Sr,Ae,Ve,Sr,we,me))}):B(we)&&we.forEach(function(Sr,Hr){Re.set(Hr,ve(Sr,Ae,Ve,Hr,we,me))});var Wr=it?$e?E:N:$e?Te:se,Ht=Et?void 0:Wr(we);return M(Ht||we,function(Sr,Hr){Ht&&(Hr=Sr,Sr=we[Hr]),I(Re,Hr,ve(Sr,Ae,Ve,Hr,we,me))}),Re}oe.exports=ve},PQMj:function(oe,ae,k){},PdkY:function(oe,ae,k){},Q1l4:function(oe,ae){function k(Y,M){var I=-1,b=Y.length;for(M||(M=Array(b));++I<b;)M[I]=Y[I];return M}oe.exports=k},QbM5:function(oe,ae,k){},QcOe:function(oe,ae,k){var Y=k("GoyQ"),M=k("6sVZ"),I=k("7Ix3"),b=Object.prototype,ne=b.hasOwnProperty;function H(U){if(!Y(U))return I(U);var K=M(U),y=[];for(var N in U)N=="constructor"&&(K||!ne.call(U,N))||y.push(N);return y}oe.exports=H},QeVK:function(oe,ae,k){},Qurx:function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=k("adzw"),b=["fieldProps","proFieldProps"],ne=["fieldProps","proFieldProps"];function H(){return H=Object.assign||function(S){for(var D=1;D<arguments.length;D++){var ge=arguments[D];for(var j in ge)Object.prototype.hasOwnProperty.call(ge,j)&&(S[j]=ge[j])}return S},H.apply(this,arguments)}function U(S,D){if(S==null)return{};var ge=K(S,D),j,re;if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(S);for(re=0;re<B.length;re++)j=B[re],!(D.indexOf(j)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,j)||(ge[j]=S[j]))}return ge}function K(S,D){if(S==null)return{};var ge={},j=Object.keys(S),re,B;for(B=0;B<j.length;B++)re=j[B],!(D.indexOf(re)>=0)&&(ge[re]=S[re]);return ge}var y="text",N=function(D){var ge=D.fieldProps,j=D.proFieldProps,re=U(D,b);return M.a.createElement(I.a,H({mode:"edit",valueType:y,fieldProps:ge,filedConfig:{valueType:y},proFieldProps:j},re))},E=function(D){var ge=D.fieldProps,j=D.proFieldProps,re=U(D,ne);return M.a.createElement(I.a,H({mode:"edit",valueType:"password",fieldProps:ge,proFieldProps:j,filedConfig:{valueType:y}},re))},C=N;C.Password=E,C.displayName="ProFormComponent",ae.a=C},S76h:function(oe,ae,k){},SKAX:function(oe,ae,k){var Y=k("JC6p"),M=k("lQqw"),I=M(Y);oe.exports=I},"SmY/":function(oe,ae,k){},VMEa:function(oe,ae,k){"use strict";k.d(ae,"a",function(){return ft});var Y=k("y8nQ"),M=k("Vl3Y"),I=k("q1tI"),b=k.n(I),ne=k("DYRE"),H=k("zeV3"),U=k("GNNt"),K=k("wEI+"),y=k("UESt"),N=k("lS/g"),E=k("fWo+"),C=k("9mHw"),S=k("YSkC"),D=k("TSYQ"),ge=k.n(D);function j(){return j=Object.assign||function(Be){for(var Ke=1;Ke<arguments.length;Ke++){var He=arguments[Ke];for(var Xe in He)Object.prototype.hasOwnProperty.call(He,Xe)&&(Be[Xe]=He[Xe])}return Be},j.apply(this,arguments)}function re(Be,Ke){return Te(Be)||se(Be,Ke)||$(Be,Ke)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(Be,Ke){if(!!Be){if(typeof Be=="string")return x(Be,Ke);var He=Object.prototype.toString.call(Be).slice(8,-1);if(He==="Object"&&Be.constructor&&(He=Be.constructor.name),He==="Map"||He==="Set")return Array.from(Be);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return x(Be,Ke)}}function x(Be,Ke){(Ke==null||Ke>Be.length)&&(Ke=Be.length);for(var He=0,Xe=new Array(Ke);He<Ke;He++)Xe[He]=Be[He];return Xe}function se(Be,Ke){var He=Be==null?null:typeof Symbol!="undefined"&&Be[Symbol.iterator]||Be["@@iterator"];if(He!=null){var Xe=[],st=!0,It=!1,Xt,pr;try{for(He=He.call(Be);!(st=(Xt=He.next()).done)&&(Xe.push(Xt.value),!(Ke&&Xe.length===Ke));st=!0);}catch(Qr){It=!0,pr=Qr}finally{try{!st&&He.return!=null&&He.return()}finally{if(It)throw pr}}return Xe}}function Te(Be){if(Array.isArray(Be))return Be}function Fe(Be,Ke){var He=Object.keys(Be);if(Object.getOwnPropertySymbols){var Xe=Object.getOwnPropertySymbols(Be);Ke&&(Xe=Xe.filter(function(st){return Object.getOwnPropertyDescriptor(Be,st).enumerable})),He.push.apply(He,Xe)}return He}function je(Be){for(var Ke=1;Ke<arguments.length;Ke++){var He=arguments[Ke]!=null?arguments[Ke]:{};Ke%2?Fe(Object(He),!0).forEach(function(Xe){gt(Be,Xe,He[Xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(He)):Fe(Object(He)).forEach(function(Xe){Object.defineProperty(Be,Xe,Object.getOwnPropertyDescriptor(He,Xe))})}return Be}function gt(Be,Ke,He){return Ke in Be?Object.defineProperty(Be,Ke,{value:He,enumerable:!0,configurable:!0,writable:!0}):Be[Ke]=He,Be}var wt=b.a.forwardRef(function(Be,Ke){var He=b.a.useContext(N.a),Xe=He.groupProps,st=je(je({},Xe),Be),It=st.children,Xt=st.collapsible,pr=st.defaultCollapsed,Qr=st.style,Rr=st.labelLayout,nr=st.title,jr=nr===void 0?Be.label:nr,Ar=st.tooltip,Rt=st.align,L=Rt===void 0?"start":Rt,J=st.direction,W=st.size,ve=W===void 0?32:W,we=st.titleStyle,Ae=st.titleRender,Ve=st.spaceProps,vt=st.extra,lt=Object(C.a)(function(){return pr||!1},{value:Be.collapsed,onChange:Be.onCollapse}),me=re(lt,2),Re=me[0],Me=me[1],$e=Object(I.useContext)(K.b.ConfigContext),it=$e.getPrefixCls,Et=it("pro-form-group"),gr=Xt&&b.a.createElement(y.a,{style:{marginRight:8},rotate:Re?void 0:90}),ar=b.a.createElement(S.a,{label:gr?b.a.createElement("div",null,gr,jr):jr,tooltip:Ar}),mr=Ae?Ae(ar,Be):ar,Wr=[],Ht=b.a.Children.toArray(It).map(function(Sr){var Hr;return b.a.isValidElement(Sr)&&(Sr==null||(Hr=Sr.props)===null||Hr===void 0?void 0:Hr.hidden)?(Wr.push(Sr),null):Sr});return b.a.createElement("div",{className:ge()(Et,gt({},"".concat(Et,"-twoLine"),Rr==="twoLine")),style:Qr,ref:Ke},Wr.length>0&&b.a.createElement("div",{style:{display:"none"}},Wr),(jr||Ar||vt)&&b.a.createElement("div",{className:"".concat(Et,"-title"),style:we,onClick:function(){Me(!Re)}},vt?b.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},mr,b.a.createElement("span",{onClick:function(Hr){return Hr.stopPropagation()}},vt)):mr),Xt&&Re?null:b.a.createElement(H.b,j({},Ve,{className:"".concat(Et,"-container"),size:ve,align:L,direction:J,style:je({rowGap:0},Ve==null?void 0:Ve.style)}),Ht))});wt.displayName="ProForm-Group";var Ct=wt,Ut=k("b1eo"),St=k("DVw6");function kt(){return kt=Object.assign||function(Be){for(var Ke=1;Ke<arguments.length;Ke++){var He=arguments[Ke];for(var Xe in He)Object.prototype.hasOwnProperty.call(He,Xe)&&(Be[Xe]=He[Xe])}return Be},kt.apply(this,arguments)}function Gt(Be){return b.a.createElement(Ut.a,kt({layout:"vertical",submitter:{render:function(He,Xe){return Xe.reverse()}},contentRender:function(He,Xe){return b.a.createElement(b.a.Fragment,null,He,Xe)}},Be))}Gt.Group=Ct,Gt.useForm=M.a.useForm,Gt.Item=St.a;var Wt=Gt,et=k("M+yt"),ft=Wt.Group,Ye=ae.b=Wt},VOtZ:function(oe,ae,k){var Y=k("juv8"),M=k("MvSz");function I(b,ne){return Y(b,M(b),ne)}oe.exports=I},VYtm:function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.hover=void 0;var Y=Object.assign||function(y){for(var N=1;N<arguments.length;N++){var E=arguments[N];for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(y[C]=E[C])}return y},M=k("q1tI"),I=b(M);function b(y){return y&&y.__esModule?y:{default:y}}function ne(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function H(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function U(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var K=ae.hover=function(N){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(C){U(S,C);function S(){var D,ge,j,re;ne(this,S);for(var B=arguments.length,$=Array(B),x=0;x<B;x++)$[x]=arguments[x];return re=(ge=(j=H(this,(D=S.__proto__||Object.getPrototypeOf(S)).call.apply(D,[this].concat($))),j),j.state={hover:!1},j.handleMouseOver=function(){return j.setState({hover:!0})},j.handleMouseOut=function(){return j.setState({hover:!1})},j.render=function(){return I.default.createElement(E,{onMouseOver:j.handleMouseOver,onMouseOut:j.handleMouseOut},I.default.createElement(N,Y({},j.props,j.state)))},ge),H(j,re)}return S}(I.default.Component)};ae.default=K},"Vg/k":function(oe,ae){(function(k){oe.exports=function(){var Y={46:function(ne){ne.exports=function(H){if(!H.webpackPolyfill){var U=Object.create(H);U.children||(U.children=[]),Object.defineProperty(U,"loaded",{enumerable:!0,get:function(){return U.l}}),Object.defineProperty(U,"id",{enumerable:!0,get:function(){return U.i}}),Object.defineProperty(U,"exports",{enumerable:!0}),U.webpackPolyfill=1}return U}}},M={};function I(b){if(M[b])return M[b].exports;var ne=M[b]={exports:{}},H=!0;try{Y[b](ne,ne.exports,I),H=!1}finally{H&&delete M[b]}return ne.exports}return I.ab=k+"/",I(46)}()}).call(this,"/")},VzZb:function(oe,ae,k){},W3HW:function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.flattenNames=void 0;var Y=k("4qC0"),M=y(Y),I=k("Ag8Z"),b=y(I),ne=k("YO3V"),H=y(ne),U=k("3WF5"),K=y(U);function y(E){return E&&E.__esModule?E:{default:E}}var N=ae.flattenNames=function E(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=[];return(0,K.default)(C,function(D){Array.isArray(D)?E(D).map(function(ge){return S.push(ge)}):(0,H.default)(D)?(0,b.default)(D,function(ge,j){ge===!0&&S.push(j),S.push(j+"-"+ge)}):(0,M.default)(D)&&S.push(D)}),S};ae.default=N},WOAq:function(oe,ae,k){"use strict";(function(Y){var M=k("Ju5/"),I=k("L3Qv"),b=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ne=b&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,H=ne&&ne.exports===b,U=H?M.a.Buffer:void 0,K=U?U.isBuffer:void 0,y=K||I.a;ae.a=y}).call(this,k("Vg/k")(oe))},WuYN:function(oe,ae,k){"use strict";var Y=k("y8nQ"),M=k("Vl3Y"),I=k("q1tI"),b=k.n(I),ne=k("ub+h"),H=k("bG1m"),U=k("x1Ii"),K=k("wUu8"),y=k("2oH+"),N=k.n(y),E=["name","children","ignoreFormListField"];function C(){return C=Object.assign||function($){for(var x=1;x<arguments.length;x++){var se=arguments[x];for(var Te in se)Object.prototype.hasOwnProperty.call(se,Te)&&($[Te]=se[Te])}return $},C.apply(this,arguments)}function S($,x){var se=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);x&&(Te=Te.filter(function(Fe){return Object.getOwnPropertyDescriptor($,Fe).enumerable})),se.push.apply(se,Te)}return se}function D($){for(var x=1;x<arguments.length;x++){var se=arguments[x]!=null?arguments[x]:{};x%2?S(Object(se),!0).forEach(function(Te){ge($,Te,se[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(se)):S(Object(se)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(se,Te))})}return $}function ge($,x,se){return x in $?Object.defineProperty($,x,{value:se,enumerable:!0,configurable:!0,writable:!0}):$[x]=se,$}function j($,x){if($==null)return{};var se=re($,x),Te,Fe;if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols($);for(Fe=0;Fe<je.length;Fe++)Te=je[Fe],!(x.indexOf(Te)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,Te)||(se[Te]=$[Te]))}return se}function re($,x){if($==null)return{};var se={},Te=Object.keys($),Fe,je;for(je=0;je<Te.length;je++)Fe=Te[je],!(x.indexOf(Fe)>=0)&&(se[Fe]=$[Fe]);return se}var B=function(x){var se=x.name,Te=x.children,Fe=x.ignoreFormListField,je=j(x,E),gt=Object(I.useContext)(K.a),wt=Object(I.useContext)(U.a),Ct=Object(I.useMemo)(function(){return wt.name===void 0?se:se.map(function(Ut){return[wt.listName,Ut].flat(1)})},[wt.listName,wt.name,se]);return b.a.createElement(M.a.Item,C({},je,{noStyle:!0,shouldUpdate:function(St,kt){var Gt=Ct;return Fe&&Array.isArray(wt.listName)&&wt.listName.length>0&&(Gt=Ct.map(function(Wt){return Array.isArray(Wt)?Wt.slice(wt.listName.length):Wt})),Gt.some(function(Wt){var et=Array.isArray(Wt)?Wt:[Wt];return Object(ne.a)(St,et)!==Object(ne.a)(kt,et)})}}),function(Ut){if(wt.name===void 0){var St=Ct.reduce(function(Wt,et){var ft,Ye=gt==null||(ft=gt.getFieldsFormatValue)===null||ft===void 0?void 0:ft.call(gt,[et]),Be=Ut.getFieldsValue([et]);return N()({},Wt,Be,Ye)},{});return Te==null?void 0:Te(D({},St),Ut)}if(Fe){var kt=se.reduce(function(Wt,et){var ft=[et].flat(1),Ye=Ut.getFieldValue(ft);return Object(H.a)(Wt,[et].flat(1),Ye,!1)},{});return Te==null?void 0:Te(D({},kt),Ut)}var Gt=se.reduce(function(Wt,et){var ft=[wt.listName,et].flat(1),Ye=Ut.getFieldValue(ft);return Object(H.a)(Wt,[et].flat(1),Ye,!1)},{});return Te==null?void 0:Te(D({},Gt),Ut)})};ae.a=B},WwFo:function(oe,ae,k){var Y=k("juv8"),M=k("7GkX");function I(b,ne){return b&&Y(ne,M(ne),b)}oe.exports=I},XCrF:function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("QeVK"),b=k.n(I)},XQvf:function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.active=void 0;var Y=Object.assign||function(y){for(var N=1;N<arguments.length;N++){var E=arguments[N];for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(y[C]=E[C])}return y},M=k("q1tI"),I=b(M);function b(y){return y&&y.__esModule?y:{default:y}}function ne(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function H(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function U(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var K=ae.active=function(N){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(C){U(S,C);function S(){var D,ge,j,re;ne(this,S);for(var B=arguments.length,$=Array(B),x=0;x<B;x++)$[x]=arguments[x];return re=(ge=(j=H(this,(D=S.__proto__||Object.getPrototypeOf(S)).call.apply(D,[this].concat($))),j),j.state={active:!1},j.handleMouseDown=function(){return j.setState({active:!0})},j.handleMouseUp=function(){return j.setState({active:!1})},j.render=function(){return I.default.createElement(E,{onMouseDown:j.handleMouseDown,onMouseUp:j.handleMouseUp},I.default.createElement(N,Y({},j.props,j.state)))},ge),H(j,re)}return S}(I.default.Component)};ae.default=K},XYm9:function(oe,ae,k){var Y=k("+K+b");function M(I,b){var ne=b?Y(I.buffer):I.buffer;return new I.constructor(ne,I.byteOffset,I.byteLength)}oe.exports=M},XqMk:function(oe,ae,k){"use strict";(function(Y){var M=typeof Y=="object"&&Y&&Y.Object===Object&&Y;ae.a=M}).call(this,k("IyRk"))},YO3V:function(oe,ae,k){var Y=k("NykK"),M=k("LcsW"),I=k("ExA7"),b="[object Object]",ne=Function.prototype,H=Object.prototype,U=ne.toString,K=H.hasOwnProperty,y=U.call(Object);function N(E){if(!I(E)||Y(E)!=b)return!1;var C=M(E);if(C===null)return!0;var S=K.call(C,"constructor")&&C.constructor;return typeof S=="function"&&S instanceof S&&U.call(S)==y}oe.exports=N},YSkC:function(oe,ae,k){"use strict";var Y=k("5Dmo"),M=k("3S7+"),I=k("GNNt"),b=k("wEI+"),ne=k("q1tI"),H=k.n(ne),U=k("+YFz"),K=k("slOs"),y=k.n(K),N=k("TSYQ"),E=k.n(N);function C(D,ge,j){return ge in D?Object.defineProperty(D,ge,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[ge]=j,D}var S=function(ge){var j=ge.label,re=ge.tooltip,B=ge.ellipsis,$=ge.subTitle,x=Object(ne.useContext)(b.b.ConfigContext),se=x.getPrefixCls;if(!re&&!$)return H.a.createElement(H.a.Fragment,null,j);var Te=se("pro-core-label-tip"),Fe=typeof re=="string"||H.a.isValidElement(re)?{title:re}:re,je=(Fe==null?void 0:Fe.icon)||H.a.createElement(U.a,null);return H.a.createElement("div",{className:Te,onMouseDown:function(wt){return wt.stopPropagation()},onMouseLeave:function(wt){return wt.stopPropagation()},onMouseMove:function(wt){return wt.stopPropagation()}},H.a.createElement("div",{className:E()("".concat(Te,"-title"),C({},"".concat(Te,"-title-ellipsis"),B))},j),$&&H.a.createElement("div",{className:"".concat(Te,"-subtitle")},$),re&&H.a.createElement(M.a,Fe,H.a.createElement("span",{className:"".concat(Te,"-icon")},je)))};ae.a=H.a.memo(S)},YkAm:function(oe,ae,k){},Z1je:function(oe,ae,k){},ZCpW:function(oe,ae,k){var Y=k("lm/5"),M=k("O7RO"),I=k("IOzZ");function b(ne){var H=M(ne);return H.length==1&&H[0][2]?I(H[0][0],H[0][1]):function(U){return U===ne||Y(U,ne,H)}}oe.exports=b},ZJpN:function(oe,ae,k){var Y=k("h875"),M=k("5h2M");function I(b,ne,H){return M()?oe.exports=I=Reflect.construct:oe.exports=I=function(K,y,N){var E=[null];E.push.apply(E,y);var C=Function.bind.apply(K,E),S=new C;return N&&Y(S,N.prototype),S},I.apply(null,arguments)}oe.exports=I},ZTW2:function(oe,ae,k){},ZWtO:function(oe,ae,k){var Y=k("4uTw"),M=k("9Nap");function I(b,ne){ne=Y(ne,b);for(var H=0,U=ne.length;b!=null&&H<U;)b=b[M(ne[H++])];return H&&H==U?b:void 0}oe.exports=I},Zss7:function(oe,ae,k){var Y;(function(M){var I=/^\s+/,b=/\s+$/,ne=0,H=M.round,U=M.min,K=M.max,y=M.random;function N(L,J){if(L=L||"",J=J||{},L instanceof N)return L;if(!(this instanceof N))return new N(L,J);var W=E(L);this._originalInput=L,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=H(100*this._a)/100,this._format=J.format||W.format,this._gradientType=J.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=W.ok,this._tc_id=ne++}N.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(J.r*299+J.g*587+J.b*114)/1e3},getLuminance:function(){var J=this.toRgb(),W,ve,we,Ae,Ve,vt;return W=J.r/255,ve=J.g/255,we=J.b/255,W<=.03928?Ae=W/12.92:Ae=M.pow((W+.055)/1.055,2.4),ve<=.03928?Ve=ve/12.92:Ve=M.pow((ve+.055)/1.055,2.4),we<=.03928?vt=we/12.92:vt=M.pow((we+.055)/1.055,2.4),.2126*Ae+.7152*Ve+.0722*vt},setAlpha:function(J){return this._a=Be(J),this._roundA=H(100*this._a)/100,this},toHsv:function(){var J=ge(this._r,this._g,this._b);return{h:J.h*360,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=ge(this._r,this._g,this._b),W=H(J.h*360),ve=H(J.s*100),we=H(J.v*100);return this._a==1?"hsv("+W+", "+ve+"%, "+we+"%)":"hsva("+W+", "+ve+"%, "+we+"%, "+this._roundA+")"},toHsl:function(){var J=S(this._r,this._g,this._b);return{h:J.h*360,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=S(this._r,this._g,this._b),W=H(J.h*360),ve=H(J.s*100),we=H(J.l*100);return this._a==1?"hsl("+W+", "+ve+"%, "+we+"%)":"hsla("+W+", "+ve+"%, "+we+"%, "+this._roundA+")"},toHex:function(J){return re(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(J){return B(this._r,this._g,this._b,this._a,J)},toHex8String:function(J){return"#"+this.toHex8(J)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(Ke(this._r,255)*100)+"%",g:H(Ke(this._g,255)*100)+"%",b:H(Ke(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+H(Ke(this._r,255)*100)+"%, "+H(Ke(this._g,255)*100)+"%, "+H(Ke(this._b,255)*100)+"%)":"rgba("+H(Ke(this._r,255)*100)+"%, "+H(Ke(this._g,255)*100)+"%, "+H(Ke(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ft[re(this._r,this._g,this._b,!0)]||!1},toFilter:function(J){var W="#"+$(this._r,this._g,this._b,this._a),ve=W,we=this._gradientType?"GradientType = 1, ":"";if(J){var Ae=N(J);ve="#"+$(Ae._r,Ae._g,Ae._b,Ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+we+"startColorstr="+W+",endColorstr="+ve+")"},toString:function(J){var W=!!J;J=J||this._format;var ve=!1,we=this._a<1&&this._a>=0,Ae=!W&&we&&(J==="hex"||J==="hex6"||J==="hex3"||J==="hex4"||J==="hex8"||J==="name");return Ae?J==="name"&&this._a===0?this.toName():this.toRgbString():(J==="rgb"&&(ve=this.toRgbString()),J==="prgb"&&(ve=this.toPercentageRgbString()),(J==="hex"||J==="hex6")&&(ve=this.toHexString()),J==="hex3"&&(ve=this.toHexString(!0)),J==="hex4"&&(ve=this.toHex8String(!0)),J==="hex8"&&(ve=this.toHex8String()),J==="name"&&(ve=this.toName()),J==="hsl"&&(ve=this.toHslString()),J==="hsv"&&(ve=this.toHsvString()),ve||this.toHexString())},clone:function(){return N(this.toString())},_applyModification:function(J,W){var ve=J.apply(null,[this].concat([].slice.call(W)));return this._r=ve._r,this._g=ve._g,this._b=ve._b,this.setAlpha(ve._a),this},lighten:function(){return this._applyModification(Fe,arguments)},brighten:function(){return this._applyModification(je,arguments)},darken:function(){return this._applyModification(gt,arguments)},desaturate:function(){return this._applyModification(x,arguments)},saturate:function(){return this._applyModification(se,arguments)},greyscale:function(){return this._applyModification(Te,arguments)},spin:function(){return this._applyModification(wt,arguments)},_applyCombination:function(J,W){return J.apply(null,[this].concat([].slice.call(W)))},analogous:function(){return this._applyCombination(Gt,arguments)},complement:function(){return this._applyCombination(Ct,arguments)},monochromatic:function(){return this._applyCombination(Wt,arguments)},splitcomplement:function(){return this._applyCombination(kt,arguments)},triad:function(){return this._applyCombination(Ut,arguments)},tetrad:function(){return this._applyCombination(St,arguments)}},N.fromRatio=function(L,J){if(typeof L=="object"){var W={};for(var ve in L)L.hasOwnProperty(ve)&&(ve==="a"?W[ve]=L[ve]:W[ve]=pr(L[ve]));L=W}return N(L,J)};function E(L){var J={r:0,g:0,b:0},W=1,ve=null,we=null,Ae=null,Ve=!1,vt=!1;return typeof L=="string"&&(L=Ar(L)),typeof L=="object"&&(jr(L.r)&&jr(L.g)&&jr(L.b)?(J=C(L.r,L.g,L.b),Ve=!0,vt=String(L.r).substr(-1)==="%"?"prgb":"rgb"):jr(L.h)&&jr(L.s)&&jr(L.v)?(ve=pr(L.s),we=pr(L.v),J=j(L.h,ve,we),Ve=!0,vt="hsv"):jr(L.h)&&jr(L.s)&&jr(L.l)&&(ve=pr(L.s),Ae=pr(L.l),J=D(L.h,ve,Ae),Ve=!0,vt="hsl"),L.hasOwnProperty("a")&&(W=L.a)),W=Be(W),{ok:Ve,format:L.format||vt,r:U(255,K(J.r,0)),g:U(255,K(J.g,0)),b:U(255,K(J.b,0)),a:W}}function C(L,J,W){return{r:Ke(L,255)*255,g:Ke(J,255)*255,b:Ke(W,255)*255}}function S(L,J,W){L=Ke(L,255),J=Ke(J,255),W=Ke(W,255);var ve=K(L,J,W),we=U(L,J,W),Ae,Ve,vt=(ve+we)/2;if(ve==we)Ae=Ve=0;else{var lt=ve-we;switch(Ve=vt>.5?lt/(2-ve-we):lt/(ve+we),ve){case L:Ae=(J-W)/lt+(J<W?6:0);break;case J:Ae=(W-L)/lt+2;break;case W:Ae=(L-J)/lt+4;break}Ae/=6}return{h:Ae,s:Ve,l:vt}}function D(L,J,W){var ve,we,Ae;L=Ke(L,360),J=Ke(J,100),W=Ke(W,100);function Ve(me,Re,Me){return Me<0&&(Me+=1),Me>1&&(Me-=1),Me<1/6?me+(Re-me)*6*Me:Me<1/2?Re:Me<2/3?me+(Re-me)*(2/3-Me)*6:me}if(J===0)ve=we=Ae=W;else{var vt=W<.5?W*(1+J):W+J-W*J,lt=2*W-vt;ve=Ve(lt,vt,L+1/3),we=Ve(lt,vt,L),Ae=Ve(lt,vt,L-1/3)}return{r:ve*255,g:we*255,b:Ae*255}}function ge(L,J,W){L=Ke(L,255),J=Ke(J,255),W=Ke(W,255);var ve=K(L,J,W),we=U(L,J,W),Ae,Ve,vt=ve,lt=ve-we;if(Ve=ve===0?0:lt/ve,ve==we)Ae=0;else{switch(ve){case L:Ae=(J-W)/lt+(J<W?6:0);break;case J:Ae=(W-L)/lt+2;break;case W:Ae=(L-J)/lt+4;break}Ae/=6}return{h:Ae,s:Ve,v:vt}}function j(L,J,W){L=Ke(L,360)*6,J=Ke(J,100),W=Ke(W,100);var ve=M.floor(L),we=L-ve,Ae=W*(1-J),Ve=W*(1-we*J),vt=W*(1-(1-we)*J),lt=ve%6,me=[W,Ve,Ae,Ae,vt,W][lt],Re=[vt,W,W,Ve,Ae,Ae][lt],Me=[Ae,Ae,vt,W,W,Ve][lt];return{r:me*255,g:Re*255,b:Me*255}}function re(L,J,W,ve){var we=[Xt(H(L).toString(16)),Xt(H(J).toString(16)),Xt(H(W).toString(16))];return ve&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0):we.join("")}function B(L,J,W,ve,we){var Ae=[Xt(H(L).toString(16)),Xt(H(J).toString(16)),Xt(H(W).toString(16)),Xt(Qr(ve))];return we&&Ae[0].charAt(0)==Ae[0].charAt(1)&&Ae[1].charAt(0)==Ae[1].charAt(1)&&Ae[2].charAt(0)==Ae[2].charAt(1)&&Ae[3].charAt(0)==Ae[3].charAt(1)?Ae[0].charAt(0)+Ae[1].charAt(0)+Ae[2].charAt(0)+Ae[3].charAt(0):Ae.join("")}function $(L,J,W,ve){var we=[Xt(Qr(ve)),Xt(H(L).toString(16)),Xt(H(J).toString(16)),Xt(H(W).toString(16))];return we.join("")}N.equals=function(L,J){return!L||!J?!1:N(L).toRgbString()==N(J).toRgbString()},N.random=function(){return N.fromRatio({r:y(),g:y(),b:y()})};function x(L,J){J=J===0?0:J||10;var W=N(L).toHsl();return W.s-=J/100,W.s=He(W.s),N(W)}function se(L,J){J=J===0?0:J||10;var W=N(L).toHsl();return W.s+=J/100,W.s=He(W.s),N(W)}function Te(L){return N(L).desaturate(100)}function Fe(L,J){J=J===0?0:J||10;var W=N(L).toHsl();return W.l+=J/100,W.l=He(W.l),N(W)}function je(L,J){J=J===0?0:J||10;var W=N(L).toRgb();return W.r=K(0,U(255,W.r-H(255*-(J/100)))),W.g=K(0,U(255,W.g-H(255*-(J/100)))),W.b=K(0,U(255,W.b-H(255*-(J/100)))),N(W)}function gt(L,J){J=J===0?0:J||10;var W=N(L).toHsl();return W.l-=J/100,W.l=He(W.l),N(W)}function wt(L,J){var W=N(L).toHsl(),ve=(W.h+J)%360;return W.h=ve<0?360+ve:ve,N(W)}function Ct(L){var J=N(L).toHsl();return J.h=(J.h+180)%360,N(J)}function Ut(L){var J=N(L).toHsl(),W=J.h;return[N(L),N({h:(W+120)%360,s:J.s,l:J.l}),N({h:(W+240)%360,s:J.s,l:J.l})]}function St(L){var J=N(L).toHsl(),W=J.h;return[N(L),N({h:(W+90)%360,s:J.s,l:J.l}),N({h:(W+180)%360,s:J.s,l:J.l}),N({h:(W+270)%360,s:J.s,l:J.l})]}function kt(L){var J=N(L).toHsl(),W=J.h;return[N(L),N({h:(W+72)%360,s:J.s,l:J.l}),N({h:(W+216)%360,s:J.s,l:J.l})]}function Gt(L,J,W){J=J||6,W=W||30;var ve=N(L).toHsl(),we=360/W,Ae=[N(L)];for(ve.h=(ve.h-(we*J>>1)+720)%360;--J;)ve.h=(ve.h+we)%360,Ae.push(N(ve));return Ae}function Wt(L,J){J=J||6;for(var W=N(L).toHsv(),ve=W.h,we=W.s,Ae=W.v,Ve=[],vt=1/J;J--;)Ve.push(N({h:ve,s:we,v:Ae})),Ae=(Ae+vt)%1;return Ve}N.mix=function(L,J,W){W=W===0?0:W||50;var ve=N(L).toRgb(),we=N(J).toRgb(),Ae=W/100,Ve={r:(we.r-ve.r)*Ae+ve.r,g:(we.g-ve.g)*Ae+ve.g,b:(we.b-ve.b)*Ae+ve.b,a:(we.a-ve.a)*Ae+ve.a};return N(Ve)},N.readability=function(L,J){var W=N(L),ve=N(J);return(M.max(W.getLuminance(),ve.getLuminance())+.05)/(M.min(W.getLuminance(),ve.getLuminance())+.05)},N.isReadable=function(L,J,W){var ve=N.readability(L,J),we,Ae;switch(Ae=!1,we=Rt(W),we.level+we.size){case"AAsmall":case"AAAlarge":Ae=ve>=4.5;break;case"AAlarge":Ae=ve>=3;break;case"AAAsmall":Ae=ve>=7;break}return Ae},N.mostReadable=function(L,J,W){var ve=null,we=0,Ae,Ve,vt,lt;W=W||{},Ve=W.includeFallbackColors,vt=W.level,lt=W.size;for(var me=0;me<J.length;me++)Ae=N.readability(L,J[me]),Ae>we&&(we=Ae,ve=N(J[me]));return N.isReadable(L,ve,{level:vt,size:lt})||!Ve?ve:(W.includeFallbackColors=!1,N.mostReadable(L,["#fff","#000"],W))};var et=N.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ft=N.hexNames=Ye(et);function Ye(L){var J={};for(var W in L)L.hasOwnProperty(W)&&(J[L[W]]=W);return J}function Be(L){return L=parseFloat(L),(isNaN(L)||L<0||L>1)&&(L=1),L}function Ke(L,J){st(L)&&(L="100%");var W=It(L);return L=U(J,K(0,parseFloat(L))),W&&(L=parseInt(L*J,10)/100),M.abs(L-J)<1e-6?1:L%J/parseFloat(J)}function He(L){return U(1,K(0,L))}function Xe(L){return parseInt(L,16)}function st(L){return typeof L=="string"&&L.indexOf(".")!=-1&&parseFloat(L)===1}function It(L){return typeof L=="string"&&L.indexOf("%")!=-1}function Xt(L){return L.length==1?"0"+L:""+L}function pr(L){return L<=1&&(L=L*100+"%"),L}function Qr(L){return M.round(parseFloat(L)*255).toString(16)}function Rr(L){return Xe(L)/255}var nr=function(){var L="[-\\+]?\\d+%?",J="[-\\+]?\\d*\\.\\d+%?",W="(?:"+J+")|(?:"+L+")",ve="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",we="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?";return{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+ve),rgba:new RegExp("rgba"+we),hsl:new RegExp("hsl"+ve),hsla:new RegExp("hsla"+we),hsv:new RegExp("hsv"+ve),hsva:new RegExp("hsva"+we),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function jr(L){return!!nr.CSS_UNIT.exec(L)}function Ar(L){L=L.replace(I,"").replace(b,"").toLowerCase();var J=!1;if(et[L])L=et[L],J=!0;else if(L=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var W;return(W=nr.rgb.exec(L))?{r:W[1],g:W[2],b:W[3]}:(W=nr.rgba.exec(L))?{r:W[1],g:W[2],b:W[3],a:W[4]}:(W=nr.hsl.exec(L))?{h:W[1],s:W[2],l:W[3]}:(W=nr.hsla.exec(L))?{h:W[1],s:W[2],l:W[3],a:W[4]}:(W=nr.hsv.exec(L))?{h:W[1],s:W[2],v:W[3]}:(W=nr.hsva.exec(L))?{h:W[1],s:W[2],v:W[3],a:W[4]}:(W=nr.hex8.exec(L))?{r:Xe(W[1]),g:Xe(W[2]),b:Xe(W[3]),a:Rr(W[4]),format:J?"name":"hex8"}:(W=nr.hex6.exec(L))?{r:Xe(W[1]),g:Xe(W[2]),b:Xe(W[3]),format:J?"name":"hex"}:(W=nr.hex4.exec(L))?{r:Xe(W[1]+""+W[1]),g:Xe(W[2]+""+W[2]),b:Xe(W[3]+""+W[3]),a:Rr(W[4]+""+W[4]),format:J?"name":"hex8"}:(W=nr.hex3.exec(L))?{r:Xe(W[1]+""+W[1]),g:Xe(W[2]+""+W[2]),b:Xe(W[3]+""+W[3]),format:J?"name":"hex"}:!1}function Rt(L){var J,W;return L=L||{level:"AA",size:"small"},J=(L.level||"AA").toUpperCase(),W=(L.size||"small").toLowerCase(),J!=="AA"&&J!=="AAA"&&(J="AA"),W!=="small"&&W!=="large"&&(W="small"),{level:J,size:W}}oe.exports?oe.exports=N:(Y=function(){return N}.call(ae,k,ae,oe),Y!==void 0&&(oe.exports=Y))})(Math)},"aK+R":function(oe,ae,k){},adzw:function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=k("/s86"),b=k("uX+g"),ne=k("WFLz"),H=k("WuYN"),U=["fieldProps","children","labelCol","label","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","valuePropName"];function K(){return K=Object.assign||function(ge){for(var j=1;j<arguments.length;j++){var re=arguments[j];for(var B in re)Object.prototype.hasOwnProperty.call(re,B)&&(ge[B]=re[B])}return ge},K.apply(this,arguments)}function y(ge,j){var re=Object.keys(ge);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(ge);j&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(ge,$).enumerable})),re.push.apply(re,B)}return re}function N(ge){for(var j=1;j<arguments.length;j++){var re=arguments[j]!=null?arguments[j]:{};j%2?y(Object(re),!0).forEach(function(B){E(ge,B,re[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(re)):y(Object(re)).forEach(function(B){Object.defineProperty(ge,B,Object.getOwnPropertyDescriptor(re,B))})}return ge}function E(ge,j,re){return j in ge?Object.defineProperty(ge,j,{value:re,enumerable:!0,configurable:!0,writable:!0}):ge[j]=re,ge}function C(ge,j){if(ge==null)return{};var re=S(ge,j),B,$;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(ge);for($=0;$<x.length;$++)B=x[$],!(j.indexOf(B)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ge,B)||(re[B]=ge[B]))}return re}function S(ge,j){if(ge==null)return{};var re={},B=Object.keys(ge),$,x;for(x=0;x<B.length;x++)$=B[x],!(j.indexOf($)>=0)&&(re[$]=ge[$]);return re}var D=M.a.forwardRef(function(ge,j){var re=ge.fieldProps,B=ge.children,$=ge.labelCol,x=ge.label,se=ge.isDefaultDom,Te=ge.render,Fe=ge.proFieldProps,je=ge.renderFormItem,gt=ge.valueType,wt=ge.initialValue,Ct=ge.onChange,Ut=ge.valueEnum,St=ge.params,kt=ge.name,Gt=ge.valuePropName,Wt=Gt===void 0?"value":Gt,et=C(ge,U);if(B)return M.a.isValidElement(B)?M.a.cloneElement(B,N(N({},et),{},{onChange:function(){for(var Be,Ke=arguments.length,He=new Array(Ke),Xe=0;Xe<Ke;Xe++)He[Xe]=arguments[Xe];re==null||(Be=re.onChange)===null||Be===void 0||Be.call.apply(Be,[re].concat(He)),Ct==null||Ct.apply(void 0,He)}},B.props)):B;var ft=function(Be){var Ke=Be?N(N({},St),Be||{}):St;return M.a.createElement(I.a,K({ref:j,valuePropName:Wt,text:re==null?void 0:re[Wt],render:Te,renderFormItem:je,valueType:gt||"text",fieldProps:N(N({},re),{},{onChange:function(){for(var Xe,st=arguments.length,It=new Array(st),Xt=0;Xt<st;Xt++)It[Xt]=arguments[Xt];re==null||(Xe=re.onChange)===null||Xe===void 0||Xe.call.apply(Xe,[re].concat(It)),Ct==null||Ct.apply(void 0,It)}}),valueEnum:Object(b.a)(Ut)},Fe,et,{mode:(Fe==null?void 0:Fe.mode)||"edit",params:Ke}))};return et.dependencies&&et.request?M.a.createElement(H.a,{name:et.dependencies},function(Ye){return ft(Ye)}):ft()});ae.a=Object(ne.a)(D)},b1eo:function(oe,ae,k){"use strict";var Y=k("WmNS"),M=k.n(Y),I=k("T2oS"),b=k("W9HT"),ne=k("GNNt"),H=k("wEI+"),U=k("y8nQ"),K=k("Vl3Y"),y=k("q1tI"),N=k.n(y),E=k("LQCs"),C=k("ft2k"),S=k("uX+g"),D=k("9mHw"),ge=k("ub+h"),j=k("bG1m"),re=k("2oH+"),B=k.n(re),$=k("POPG");function x(ye,Oe){var xe=Object.keys(ye);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(ye);Oe&&(Le=Le.filter(function(ht){return Object.getOwnPropertyDescriptor(ye,ht).enumerable})),xe.push.apply(xe,Le)}return xe}function se(ye){for(var Oe=1;Oe<arguments.length;Oe++){var xe=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?x(Object(xe),!0).forEach(function(Le){Te(ye,Le,xe[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(xe)):x(Object(xe)).forEach(function(Le){Object.defineProperty(ye,Le,Object.getOwnPropertyDescriptor(xe,Le))})}return ye}function Te(ye,Oe,xe){return Oe in ye?Object.defineProperty(ye,Oe,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ye[Oe]=xe,ye}function Fe(ye){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fe=function(xe){return typeof xe}:Fe=function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},Fe(ye)}var je=function(Oe,xe){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ht=Object.keys(xe).reduce(function(Dt,Mt){var Bt=xe[Mt];return Object($.a)(Bt)||(Dt[Mt]=Bt),Dt},{});if(Object.keys(ht).length<1||Fe(Oe)!=="object"||Object($.a)(Oe)||Oe instanceof Blob)return Oe;var mt={},Tt=function Dt(Mt,Bt){var ue={};return Mt==null||Mt===void 0?ue:(Object.keys(Mt).forEach(function(X){var de=Bt?[Bt,X].flat(1):[X].flat(1),ke=Mt[X],We=Object(ge.a)(ht,de),ze=function(){var rt=typeof We=="function"?We==null?void 0:We(ke,X,Mt):X;if(Array.isArray(rt)){ue=Object(j.a)(ue,rt,ke);return}Fe(rt)==="object"?mt=se(se({},mt),rt):rt&&(ue=Object(j.a)(ue,[rt],ke))};if(We&&typeof We=="function"&&ze(),Fe(ke)==="object"&&!Array.isArray(ke)&&!N.a.isValidElement(ke)&&!(ke instanceof Blob)){var tt=Dt(ke,de);if(Object.keys(tt).length<1)return;ue=Object(j.a)(ue,[X],tt);return}ze()}),Le?ue:Mt)};return mt=B()({},Tt(Oe),mt),mt},gt=je,wt=k("1O3P"),Ct=k("ipCM"),Ut=k("wUu8"),St=k("Lpa7");function kt(ye,Oe,xe,Le,ht,mt,Tt){try{var Dt=ye[mt](Tt),Mt=Dt.value}catch(Bt){xe(Bt);return}Dt.done?Oe(Mt):Promise.resolve(Mt).then(Le,ht)}function Gt(ye){return function(){var Oe=this,xe=arguments;return new Promise(function(Le,ht){var mt=ye.apply(Oe,xe);function Tt(Mt){kt(mt,Le,ht,Tt,Dt,"next",Mt)}function Dt(Mt){kt(mt,Le,ht,Tt,Dt,"throw",Mt)}Tt(void 0)})}}function Wt(ye,Oe){return Ke(ye)||Be(ye,Oe)||ft(ye,Oe)||et()}function et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(ye,Oe){if(!!ye){if(typeof ye=="string")return Ye(ye,Oe);var xe=Object.prototype.toString.call(ye).slice(8,-1);if(xe==="Object"&&ye.constructor&&(xe=ye.constructor.name),xe==="Map"||xe==="Set")return Array.from(ye);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return Ye(ye,Oe)}}function Ye(ye,Oe){(Oe==null||Oe>ye.length)&&(Oe=ye.length);for(var xe=0,Le=new Array(Oe);xe<Oe;xe++)Le[xe]=ye[xe];return Le}function Be(ye,Oe){var xe=ye==null?null:typeof Symbol!="undefined"&&ye[Symbol.iterator]||ye["@@iterator"];if(xe!=null){var Le=[],ht=!0,mt=!1,Tt,Dt;try{for(xe=xe.call(ye);!(ht=(Tt=xe.next()).done)&&(Le.push(Tt.value),!(Oe&&Le.length===Oe));ht=!0);}catch(Mt){mt=!0,Dt=Mt}finally{try{!ht&&xe.return!=null&&xe.return()}finally{if(mt)throw Dt}}return Le}}function Ke(ye){if(Array.isArray(ye))return ye}var He=0;function Xe(ye){var Oe=Object(y.useState)(function(){return ye.proFieldKey?ye.proFieldKey.toString():(He+=1,He.toString())}),xe=Wt(Oe,1),Le=xe[0],ht=Object(y.useRef)(Le),mt=function(){var ue=Gt(M.a.mark(function X(){var de,ke;return M.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,(de=ye.request)===null||de===void 0?void 0:de.call(ye,ye.params,ye);case 2:return ke=ze.sent,ze.abrupt("return",ke);case 4:case"end":return ze.stop()}},X)}));return function(){return ue.apply(this,arguments)}}(),Tt=Object(y.useMemo)(function(){return ye.params?[ht.current,JSON.stringify(ye.params)]:ht.current},[ye.params]),Dt=Object(St.a)(Tt,mt,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),Mt=Dt.data,Bt=Dt.error;return[Mt||Bt,function(){Object(St.b)(Tt)}]}var st=Xe,It=function(){return It=Object.assign||function(ye){for(var Oe,xe=1,Le=arguments.length;xe<Le;xe++){Oe=arguments[xe];for(var ht in Oe)Object.prototype.hasOwnProperty.call(Oe,ht)&&(ye[ht]=Oe[ht])}return ye},It.apply(this,arguments)};function Xt(ye){var Oe,xe=(typeof window!="undefined"?window:{}).URL,Le=new xe((Oe=window==null?void 0:window.location)===null||Oe===void 0?void 0:Oe.href);return Object.keys(ye).forEach(function(ht){var mt=ye[ht];mt!=null?Array.isArray(mt)?(Le.searchParams.delete(ht),mt.forEach(function(Tt){Le.searchParams.append(ht,Tt)})):mt instanceof Date?Number.isNaN(mt.getTime())||Le.searchParams.set(ht,mt.toISOString()):typeof mt=="object"?Le.searchParams.set(ht,JSON.stringify(mt)):Le.searchParams.set(ht,mt):Le.searchParams.delete(ht)}),Le}function pr(ye){var Oe;ye===void 0&&(ye={});var xe=Object(y.useState)(),Le=xe[1],ht=typeof window!="undefined"&&((Oe=window==null?void 0:window.location)===null||Oe===void 0?void 0:Oe.search),mt=Object(y.useMemo)(function(){return new URLSearchParams(ht||{})},[ht]),Tt=Object(y.useMemo)(function(){if(typeof window=="undefined"||!window.URL)return{};var Bt=[];mt.forEach(function(X,de){Bt.push({key:de,value:X})}),Bt=Bt.reduce(function(X,de){return(X[de.key]=X[de.key]||[]).push(de),X},{}),Bt=Object.keys(Bt).map(function(X){var de=Bt[X];return de.length===1?[X,de[0].value]:[X,de.map(function(ke){var We=ke.value;return We})]});var ue=It({},ye);return Bt.forEach(function(X){var de=X[0],ke=X[1];ue[de]=Rr(de,ke,{},ye)}),ue},[ye,mt]);function Dt(Bt){if(!(typeof window=="undefined"||!window.URL)){var ue=Xt(Bt);window.location.search!==ue.search&&window.history.replaceState({},"",ue.toString()),mt.toString()!==ue.searchParams.toString()&&Le({})}}Object(y.useEffect)(function(){typeof window=="undefined"||!window.URL||Dt(It(It({},ye),Tt))},[Tt]);var Mt=function(ue){Dt(ue)};return Object(y.useEffect)(function(){if(typeof window=="undefined"||!window.URL)return function(){};var Bt=function(){Le({})};return window.addEventListener("popstate",Bt),function(){window.removeEventListener("popstate",Bt)}},[]),[Tt,Mt]}var Qr={true:!0,false:!1};function Rr(ye,Oe,xe,Le){if(!xe)return Oe;var ht=xe[ye],mt=Oe===void 0?Le[ye]:Oe;return ht===Number?Number(mt):ht===Boolean||Oe==="true"||Oe==="false"?Qr[mt]:Array.isArray(ht)?ht.find(function(Tt){return Tt==mt})||Le[ye]:mt}var nr=k("lS/g"),jr=k("DYRE"),Ar=k("zeV3"),Rt=k("+L6B"),L=k("2/Rp"),J=k("BGR+");function W(ye,Oe){var xe=Object.keys(ye);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(ye);Oe&&(Le=Le.filter(function(ht){return Object.getOwnPropertyDescriptor(ye,ht).enumerable})),xe.push.apply(xe,Le)}return xe}function ve(ye){for(var Oe=1;Oe<arguments.length;Oe++){var xe=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?W(Object(xe),!0).forEach(function(Le){we(ye,Le,xe[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(xe)):W(Object(xe)).forEach(function(Le){Object.defineProperty(ye,Le,Object.getOwnPropertyDescriptor(xe,Le))})}return ye}function we(ye,Oe,xe){return Oe in ye?Object.defineProperty(ye,Oe,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ye[Oe]=xe,ye}function Ae(){return Ae=Object.assign||function(ye){for(var Oe=1;Oe<arguments.length;Oe++){var xe=arguments[Oe];for(var Le in xe)Object.prototype.hasOwnProperty.call(xe,Le)&&(ye[Le]=xe[Le])}return ye},Ae.apply(this,arguments)}var Ve=function(Oe){var xe=Object(E.d)();if(Oe.render===!1)return null;var Le=Oe.form,ht=Oe.onSubmit,mt=Oe.render,Tt=Oe.onReset,Dt=Oe.searchConfig,Mt=Dt===void 0?{}:Dt,Bt=Oe.submitButtonProps,ue=Oe.resetButtonProps,X=ue===void 0?{}:ue,de=function(){Le.submit(),ht==null||ht()},ke=function(){Le.resetFields(),requestAnimationFrame(function(){Tt==null||Tt()})},We=Mt.submitText,ze=We===void 0?xe.getMessage("tableForm.submit","\u63D0\u4EA4"):We,tt=Mt.resetText,Ot=tt===void 0?xe.getMessage("tableForm.reset","\u91CD\u7F6E"):tt,rt=[];X!==!1&&rt.push(N.a.createElement(L.a,Ae({},Object(J.a)(X,["preventDefault"]),{key:"rest",onClick:function(qt){var Vt;(X==null?void 0:X.preventDefault)||ke(),X==null||(Vt=X.onClick)===null||Vt===void 0||Vt.call(X,qt)}}),Ot)),Bt!==!1&&rt.push(N.a.createElement(L.a,Ae({type:"primary"},Object(J.a)(Bt||{},["preventDefault"]),{key:"submit",onClick:function(qt){var Vt;(Bt==null?void 0:Bt.preventDefault)||de(),Bt==null||(Vt=Bt.onClick)===null||Vt===void 0||Vt.call(Bt,qt)}}),ze));var $t=mt?mt(ve(ve({},Oe),{},{submit:de,reset:ke}),rt):rt;return $t?Array.isArray($t)?($t==null?void 0:$t.length)<1?null:($t==null?void 0:$t.length)===1?$t[0]:N.a.createElement(Ar.b,null,$t):$t:null},vt=Ve,lt=k("Kwbf"),me=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","dateFormatter","form","formRef","onInit","formComponentType","extraUrlParams","syncToUrl","syncToInitialValues","onReset","omitNil","isKeyPressSubmit"],Re=["request","params","initialValues"];function Me(){return Me=Object.assign||function(ye){for(var Oe=1;Oe<arguments.length;Oe++){var xe=arguments[Oe];for(var Le in xe)Object.prototype.hasOwnProperty.call(xe,Le)&&(ye[Le]=xe[Le])}return ye},Me.apply(this,arguments)}function $e(ye,Oe){var xe=Object.keys(ye);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(ye);Oe&&(Le=Le.filter(function(ht){return Object.getOwnPropertyDescriptor(ye,ht).enumerable})),xe.push.apply(xe,Le)}return xe}function it(ye){for(var Oe=1;Oe<arguments.length;Oe++){var xe=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?$e(Object(xe),!0).forEach(function(Le){Et(ye,Le,xe[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(xe)):$e(Object(xe)).forEach(function(Le){Object.defineProperty(ye,Le,Object.getOwnPropertyDescriptor(xe,Le))})}return ye}function Et(ye,Oe,xe){return Oe in ye?Object.defineProperty(ye,Oe,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ye[Oe]=xe,ye}function gr(ye,Oe,xe,Le,ht,mt,Tt){try{var Dt=ye[mt](Tt),Mt=Dt.value}catch(Bt){xe(Bt);return}Dt.done?Oe(Mt):Promise.resolve(Mt).then(Le,ht)}function ar(ye){return function(){var Oe=this,xe=arguments;return new Promise(function(Le,ht){var mt=ye.apply(Oe,xe);function Tt(Mt){gr(mt,Le,ht,Tt,Dt,"next",Mt)}function Dt(Mt){gr(mt,Le,ht,Tt,Dt,"throw",Mt)}Tt(void 0)})}}function mr(ye,Oe){return Xr(ye)||Hr(ye,Oe)||Ht(ye,Oe)||Wr()}function Wr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ht(ye,Oe){if(!!ye){if(typeof ye=="string")return Sr(ye,Oe);var xe=Object.prototype.toString.call(ye).slice(8,-1);if(xe==="Object"&&ye.constructor&&(xe=ye.constructor.name),xe==="Map"||xe==="Set")return Array.from(ye);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return Sr(ye,Oe)}}function Sr(ye,Oe){(Oe==null||Oe>ye.length)&&(Oe=ye.length);for(var xe=0,Le=new Array(Oe);xe<Oe;xe++)Le[xe]=ye[xe];return Le}function Hr(ye,Oe){var xe=ye==null?null:typeof Symbol!="undefined"&&ye[Symbol.iterator]||ye["@@iterator"];if(xe!=null){var Le=[],ht=!0,mt=!1,Tt,Dt;try{for(xe=xe.call(ye);!(ht=(Tt=xe.next()).done)&&(Le.push(Tt.value),!(Oe&&Le.length===Oe));ht=!0);}catch(Mt){mt=!0,Dt=Mt}finally{try{!ht&&xe.return!=null&&xe.return()}finally{if(mt)throw Dt}}return Le}}function Xr(ye){if(Array.isArray(ye))return ye}function Kr(ye,Oe){if(ye==null)return{};var xe=ln(ye,Oe),Le,ht;if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(ye);for(ht=0;ht<mt.length;ht++)Le=mt[ht],!(Oe.indexOf(Le)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ye,Le)||(xe[Le]=ye[Le]))}return xe}function ln(ye,Oe){if(ye==null)return{};var xe={},Le=Object.keys(ye),ht,mt;for(mt=0;mt<Le.length;mt++)ht=Le[mt],!(Oe.indexOf(ht)>=0)&&(xe[ht]=ye[ht]);return xe}var qr=function(Oe,xe,Le){return Oe===!0?xe:Object(S.a)(Oe,xe,Le)};function Nn(ye){var Oe=ye.children,xe=ye.contentRender,Le=ye.submitter,ht=ye.fieldProps,mt=ye.formItemProps,Tt=ye.groupProps,Dt=ye.dateFormatter,Mt=Dt===void 0?"string":Dt,Bt=ye.form,ue=ye.formRef,X=ye.onInit,de=ye.formComponentType,ke=ye.extraUrlParams,We=ke===void 0?{}:ke,ze=ye.syncToUrl,tt=ye.syncToInitialValues,Ot=tt===void 0?!0:tt,rt=ye.onReset,$t=ye.omitNil,lr=$t===void 0?!0:$t,qt=ye.isKeyPressSubmit,Vt=Kr(ye,me),dn=K.a.useForm(),yn=mr(dn,1),$r=yn[0],fn=pr({}),en=mr(fn,2),Lr=en[0],br=en[1],or=Object(y.useRef)(Bt||$r),wn=Object(y.useRef)({}),Yr=Object(y.useRef)({}),tn=Object(D.a)(!1),Yt=mr(tn,2),Jt=Yt[0],xn=Yt[1],At=N.a.Children.toArray(Oe),ur=Object(y.useMemo)(function(){return typeof Le=="boolean"||!Le?{}:Le},[Le]),Kt=Object(y.useCallback)(function(ut,Nt,Qt){return gt(Object(wt.b)(ut,Mt,wn.current,Nt,Qt),Yr.current,Nt)},[Mt]),er=Object(y.useMemo)(function(){return{getFieldsFormatValue:function(Nt){return Kt(or.current.getFieldsValue(Nt),lr)},getFieldFormatValue:function(Nt){return Kt(or.current.getFieldValue(Nt),lr,Nt)},validateFieldsReturnFormatValue:function(){var ut=ar(M.a.mark(function Qt(vr){var dr;return M.a.wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:return gn.next=2,or.current.validateFields(vr);case 2:return dr=gn.sent,gn.abrupt("return",Kt(dr,lr));case 4:case"end":return gn.stop()}},Qt)}));function Nt(Qt){return ut.apply(this,arguments)}return Nt}()}},[lr,Kt]);Object(y.useImperativeHandle)(ue,function(){return it(it({},or.current),er)});var Or=Object(y.useMemo)(function(){if(Le!==!1)return N.a.createElement(vt,Me({key:"submitter"},ur,{onReset:function(){var Nt,Qt=Kt(or.current.getFieldsValue(),lr);if(ur==null||(Nt=ur.onReset)===null||Nt===void 0||Nt.call(ur,Qt),rt==null||rt(Qt),ze){var vr=Object.keys(Kt(or.current.getFieldsValue(),!1)).reduce(function(dr,Gr){return it(it({},dr),{},Et({},Gr,Qt[Gr]||void 0))},We);br(qr(ze,vr,"set"))}},form:Bt||$r,submitButtonProps:it({loading:Jt},ur.submitButtonProps)}))},[We,$r,Jt,lr,rt,br,Le,ur,ze,Kt,Bt]),En=Object(y.useMemo)(function(){return xe?xe(At,Or,or.current):At},[xe,At,Or]),Cn=Object(y.useMemo)(function(){if(de&&["DrawerForm"].includes(de))return function(ut){return ut.parentNode||document.body}},[de]);Object(y.useEffect)(function(){var ut=Kt(or.current.getFieldsValue(!0),lr);X==null||X(ut)},[]);var Mn=Object(y.useState)(function(){return ze?qr(ze,Lr,"get"):{}}),In=mr(Mn,2),Br=In[0],Dr=In[1];Object(y.useEffect)(function(){Ot||window.requestAnimationFrame(function(){Dr({})})},[Ot]);var cr=Object(C.a)(ye.initialValues);return Object(y.useEffect)(function(){if(!(ze||!ye.initialValues||!cr||Vt.request)){var ut=Object(Ct.a)(ye.initialValues,cr);Object(lt.b)(ut,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),Object(lt.b)(ut,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[ye.initialValues]),Object(y.useEffect)(function(){!ze||br(it(it({},Lr),We))},[We,ze]),N.a.createElement(E.a,null,N.a.createElement(nr.a.Provider,{value:{formRef:or,fieldProps:ht,formItemProps:mt,groupProps:Tt,formComponentType:de,getPopupContainer:Cn,setFieldValueType:function(Nt,Qt){var vr=Qt.valueType,dr=vr===void 0?"text":vr,Gr=Qt.dateFormat,gn=Qt.transform;Array.isArray(Nt)&&(Yr.current=Object(j.a)(Yr.current,Nt,gn),wn.current=Object(j.a)(wn.current,Nt,{valueType:dr,dateFormat:Gr}))}}},N.a.createElement(Ut.a.Provider,{value:er},N.a.createElement(H.b.SizeContext.Provider,{value:Vt.size},N.a.createElement(K.a,Me({onKeyPress:function(Nt){if(!!qt&&Nt.key==="Enter"){var Qt;(Qt=or.current)===null||Qt===void 0||Qt.submit()}},form:Bt||$r},Vt,{initialValues:it(it({},Br),Vt.initialValues),onValuesChange:function(Nt,Qt){var vr;Vt==null||(vr=Vt.onValuesChange)===null||vr===void 0||vr.call(Vt,Kt(Nt,lr),Kt(Qt,lr))},onFinish:ar(M.a.mark(function ut(){var Nt,Qt;return M.a.wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:if(Vt.onFinish){dr.next=2;break}return dr.abrupt("return");case 2:if(!Jt){dr.next=4;break}return dr.abrupt("return");case 4:return xn(!0),dr.prev=5,Nt=Kt(or.current.getFieldsValue(),lr),dr.next=9,Vt.onFinish(Nt);case 9:ze&&(Qt=Object.keys(Kt(or.current.getFieldsValue(),!1)).reduce(function(Gr,gn){return it(it({},Gr),{},Et({},gn,Nt[gn]||void 0))},We),Object.keys(Lr).forEach(function(Gr){Qt[Gr]||(Qt[Gr]=void 0)}),br(qr(ze,Qt,"set"))),xn(!1),dr.next=16;break;case 13:dr.prev=13,dr.t0=dr.catch(5),xn(!1);case 16:case"end":return dr.stop()}},ut,null,[[5,13]])}))}),Vt.component!==!1&&N.a.createElement("input",{type:"text",style:{display:"none"}}),N.a.createElement(K.a.Item,{noStyle:!0,shouldUpdate:!0},function(ut){return ue&&(ue.current=it(it({},ut),er)),or.current=ut,null}),En)))))}function Tr(ye){var Oe=ye.request,xe=ye.params,Le=ye.initialValues,ht=Kr(ye,Re),mt=st({request:Oe,params:xe}),Tt=mr(mt,1),Dt=Tt[0];return!Dt&&ye.request?N.a.createElement("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"}},N.a.createElement(b.a,null)):N.a.createElement(Nn,Me({autoComplete:"off"},ht,{initialValues:it(it({},Le),Dt)}))}var Tn=ae.a=Tr},b2z7:function(oe,ae){var k=/\w*$/;function Y(M){var I=new M.constructor(M.source,k.exec(M));return I.lastIndex=M.lastIndex,I}oe.exports=Y},bE4E:function(oe,ae,k){},baxp:function(oe,ae,k){var Y=k("z01/"),M=k("x49D");function I(b,ne){return ne&&(Y(ne)==="object"||typeof ne=="function")?ne:M(b)}oe.exports=I},c29t:function(oe,ae,k){var Y=k("8v5O");function M(I,b,ne){return typeof Reflect!="undefined"&&Reflect.get?oe.exports=M=Reflect.get:oe.exports=M=function(U,K,y){var N=Y(U,K);if(!!N){var E=Object.getOwnPropertyDescriptor(N,K);return E.get?E.get.call(y):E.value}},M(I,b,ne||I)}oe.exports=M},"cq/+":function(oe,ae,k){var Y=k("mc0g"),M=Y();oe.exports=M},cxFA:function(oe,ae,k){var Y=k("dmwd");function M(b,ne){var H=Object.keys(b);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(b);ne&&(U=U.filter(function(K){return Object.getOwnPropertyDescriptor(b,K).enumerable})),H.push.apply(H,U)}return H}function I(b){for(var ne=1;ne<arguments.length;ne++){var H=arguments[ne]!=null?arguments[ne]:{};ne%2?M(Object(H),!0).forEach(function(U){Y(b,U,H[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(H)):M(Object(H)).forEach(function(U){Object.defineProperty(b,U,Object.getOwnPropertyDescriptor(H,U))})}return b}oe.exports=I},czTT:function(oe,ae,k){},dTAl:function(oe,ae,k){var Y=k("GoyQ"),M=Object.create,I=function(){function b(){}return function(ne){if(!Y(ne))return{};if(M)return M(ne);b.prototype=ne;var H=new b;return b.prototype=void 0,H}}();oe.exports=I},df8c:function(oe,ae,k){},dmwd:function(oe,ae){function k(Y,M,I){return M in Y?Object.defineProperty(Y,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):Y[M]=I,Y}oe.exports=k},fOrg:function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("YkAm"),b=k.n(I)},"fWo+":function(oe,ae,k){},ft2k:function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=function(ne){var H=Object(Y.useRef)();return Object(Y.useEffect)(function(){H.current=ne}),H.current};ae.a=I},g5r2:function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=k("ipCM"),b=I.a;function ne(U){var K=Object(Y.useRef)();return b(U,K.current)||(K.current=U),K.current}function H(U){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(Y.useEffect)(U,ne(K))}ae.a=H},gFfm:function(oe,ae){function k(Y,M){for(var I=-1,b=Y==null?0:Y.length;++I<b&&M(Y[I],I,Y)!==!1;);return Y}oe.exports=k},h875:function(oe,ae){function k(Y,M){return oe.exports=k=Object.setPrototypeOf||function(b,ne){return b.__proto__=ne,b},k(Y,M)}oe.exports=k},hgQt:function(oe,ae,k){var Y=k("Juji"),M=k("4sDh");function I(b,ne){return b!=null&&M(b,ne,Y)}oe.exports=I},hypo:function(oe,ae,k){var Y=k("O0oS");function M(I,b,ne){b=="__proto__"&&Y?Y(I,b,{configurable:!0,enumerable:!0,value:ne,writable:!0}):I[b]=ne}oe.exports=M},ipCM:function(oe,ae,k){"use strict";function Y(H,U){var K=typeof Symbol!="undefined"&&H[Symbol.iterator]||H["@@iterator"];if(!K){if(Array.isArray(H)||(K=M(H))||U&&H&&typeof H.length=="number"){K&&(H=K);var y=0,N=function(){};return{s:N,n:function(){return y>=H.length?{done:!0}:{done:!1,value:H[y++]}},e:function(ge){throw ge},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,C=!1,S;return{s:function(){K=K.call(H)},n:function(){var ge=K.next();return E=ge.done,ge},e:function(ge){C=!0,S=ge},f:function(){try{!E&&K.return!=null&&K.return()}finally{if(C)throw S}}}}function M(H,U){if(!!H){if(typeof H=="string")return I(H,U);var K=Object.prototype.toString.call(H).slice(8,-1);if(K==="Object"&&H.constructor&&(K=H.constructor.name),K==="Map"||K==="Set")return Array.from(H);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return I(H,U)}}function I(H,U){(U==null||U>H.length)&&(U=H.length);for(var K=0,y=new Array(U);K<U;K++)y[K]=H[K];return y}function b(H){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(K){return typeof K}:b=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},b(H)}function ne(H,U){if(H===U)return!0;if(H&&U&&b(H)==="object"&&b(U)==="object"){if(H.constructor!==U.constructor)return!1;var K,y,N;if(Array.isArray(H)){if(K=H.length,K!=U.length)return!1;for(y=K;y--!=0;)if(!ne(H[y],U[y]))return!1;return!0}if(H instanceof Map&&U instanceof Map){if(H.size!==U.size)return!1;var E=Y(H.entries()),C;try{for(E.s();!(C=E.n()).done;)if(y=C.value,!U.has(y[0]))return!1}catch(B){E.e(B)}finally{E.f()}var S=Y(H.entries()),D;try{for(S.s();!(D=S.n()).done;)if(y=D.value,!ne(y[1],U.get(y[0])))return!1}catch(B){S.e(B)}finally{S.f()}return!0}if(H instanceof Set&&U instanceof Set){if(H.size!==U.size)return!1;var ge=Y(H.entries()),j;try{for(ge.s();!(j=ge.n()).done;)if(y=j.value,!U.has(y[0]))return!1}catch(B){ge.e(B)}finally{ge.f()}return!0}if(ArrayBuffer.isView(H)&&ArrayBuffer.isView(U)){if(K=H.length,K!=U.length)return!1;for(y=K;y--!=0;)if(H[y]!==U[y])return!1;return!0}if(H.constructor===RegExp)return H.source===U.source&&H.flags===U.flags;if(H.valueOf!==Object.prototype.valueOf)return H.valueOf()===U.valueOf();if(H.toString!==Object.prototype.toString)return H.toString()===U.toString();if(N=Object.keys(H),K=N.length,K!==Object.keys(U).length)return!1;for(y=K;y--!=0;)if(!Object.prototype.hasOwnProperty.call(U,N[y]))return!1;for(y=K;y--!=0;){var re=N[y];if(!(re==="_owner"&&H.$$typeof)&&!ne(H[re],U[re]))return!1}return!0}return H!==H&&U!==U}ae.a=ne},jCWc:function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("1GLa")},jkmW:function(oe,ae,k){},juv8:function(oe,ae,k){var Y=k("MrPd"),M=k("hypo");function I(b,ne,H,U){var K=!H;H||(H={});for(var y=-1,N=ne.length;++y<N;){var E=ne[y],C=U?U(H[E],b[E],E,H,b):void 0;C===void 0&&(C=b[E]),K?M(H,E,C):Y(H,E,C)}return H}oe.exports=I},l9OW:function(oe,ae,k){var Y=k("SKAX"),M=k("MMmD");function I(b,ne){var H=-1,U=M(b)?Array(b.length):[];return Y(b,function(K,y,N){U[++H]=ne(K,y,N)}),U}oe.exports=I},lPKl:function(oe,ae,k){var Y=k("GXtI"),M=k("h875"),I=k("+O4Z"),b=k("ZJpN");function ne(H){var U=typeof Map=="function"?new Map:void 0;return oe.exports=ne=function(y){if(y===null||!I(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(typeof U!="undefined"){if(U.has(y))return U.get(y);U.set(y,N)}function N(){return b(y,arguments,Y(this).constructor)}return N.prototype=Object.create(y.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),M(N,y)},ne(H)}oe.exports=ne},lQqw:function(oe,ae,k){var Y=k("MMmD");function M(I,b){return function(ne,H){if(ne==null)return ne;if(!Y(ne))return I(ne,H);for(var U=ne.length,K=b?U:-1,y=Object(ne);(b?K--:++K<U)&&H(y[K],K,y)!==!1;);return ne}}oe.exports=M},"lm/5":function(oe,ae,k){var Y=k("fmRc"),M=k("wF/u"),I=1,b=2;function ne(H,U,K,y){var N=K.length,E=N,C=!y;if(H==null)return!E;for(H=Object(H);N--;){var S=K[N];if(C&&S[2]?S[1]!==H[S[0]]:!(S[0]in H))return!1}for(;++N<E;){S=K[N];var D=S[0],ge=H[D],j=S[1];if(C&&S[2]){if(ge===void 0&&!(D in H))return!1}else{var re=new Y;if(y)var B=y(ge,j,D,H,U,re);if(!(B===void 0?M(j,ge,I|b,y,re):B))return!1}}return!0}oe.exports=ne},lreK:function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.mergeClasses=void 0;var Y=k("Ag8Z"),M=H(Y),I=k("BkRI"),b=H(I),ne=Object.assign||function(K){for(var y=1;y<arguments.length;y++){var N=arguments[y];for(var E in N)Object.prototype.hasOwnProperty.call(N,E)&&(K[E]=N[E])}return K};function H(K){return K&&K.__esModule?K:{default:K}}var U=ae.mergeClasses=function(y){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],E=y.default&&(0,b.default)(y.default)||{};return N.map(function(C){var S=y[C];return S&&(0,M.default)(S,function(D,ge){E[ge]||(E[ge]={}),E[ge]=ne({},E[ge],S[ge])}),C}),E};ae.default=U},mTTR:function(oe,ae,k){var Y=k("b80T"),M=k("QcOe"),I=k("MMmD");function b(ne){return I(ne)?Y(ne,!0):M(ne)}oe.exports=b},mc0g:function(oe,ae){function k(Y){return function(M,I,b){for(var ne=-1,H=Object(M),U=b(M),K=U.length;K--;){var y=U[Y?K:++ne];if(I(H[y],y,H)===!1)break}return M}}oe.exports=k},mwIZ:function(oe,ae,k){var Y=k("ZWtO");function M(I,b,ne){var H=I==null?void 0:Y(I,b);return H===void 0?ne:H}oe.exports=M},nSmt:function(oe,ae,k){},nhC9:function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=k("Znn+"),b=k("ZTPi"),ne=k("GNNt"),H=k("wEI+"),U=k("1GLa"),K=k("TLLU"),y=k("UESt"),N=k("6cGi"),E=k("YSkC"),C=k("TSYQ"),S=k.n(C),D=k("BGR+"),ge=k("14J3"),j=k("BMrR"),re=k("jCWc"),B=k("kPKH"),$=k("aK+R"),x=function(Re){var Me=Re.style,$e=Re.prefix;return M.a.createElement("div",{className:"".concat($e,"-loading-content"),style:Me},M.a.createElement(j.a,{gutter:8},M.a.createElement(B.a,{span:22},M.a.createElement("div",{className:"".concat($e,"-loading-block")}))),M.a.createElement(j.a,{gutter:8},M.a.createElement(B.a,{span:8},M.a.createElement("div",{className:"".concat($e,"-loading-block")})),M.a.createElement(B.a,{span:15},M.a.createElement("div",{className:"".concat($e,"-loading-block")}))),M.a.createElement(j.a,{gutter:8},M.a.createElement(B.a,{span:6},M.a.createElement("div",{className:"".concat($e,"-loading-block")})),M.a.createElement(B.a,{span:18},M.a.createElement("div",{className:"".concat($e,"-loading-block")}))),M.a.createElement(j.a,{gutter:8},M.a.createElement(B.a,{span:13},M.a.createElement("div",{className:"".concat($e,"-loading-block")})),M.a.createElement(B.a,{span:9},M.a.createElement("div",{className:"".concat($e,"-loading-block")}))),M.a.createElement(j.a,{gutter:8},M.a.createElement(B.a,{span:4},M.a.createElement("div",{className:"".concat($e,"-loading-block")})),M.a.createElement(B.a,{span:3},M.a.createElement("div",{className:"".concat($e,"-loading-block")})),M.a.createElement(B.a,{span:16},M.a.createElement("div",{className:"".concat($e,"-loading-block")}))))},se=x,Te=k("S76h"),Fe=function(Re){var Me=Re.actions,$e=Re.prefixCls;return Array.isArray(Me)&&(Me==null?void 0:Me.length)?M.a.createElement("ul",{className:"".concat($e,"-actions")},Me.map(function(it,Et){return M.a.createElement("li",{style:{width:"".concat(100/Me.length,"%")},key:"action-".concat(Et)},M.a.createElement("span",null,it))})):Me?M.a.createElement("ul",{className:"".concat($e,"-actions")},Me):null},je=Fe,gt=k("df8c"),wt=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","tabs","type"];function Ct(){return Ct=Object.assign||function(me){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re];for(var $e in Me)Object.prototype.hasOwnProperty.call(Me,$e)&&(me[$e]=Me[$e])}return me},Ct.apply(this,arguments)}function Ut(me,Re){var Me=Object.keys(me);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(me);Re&&($e=$e.filter(function(it){return Object.getOwnPropertyDescriptor(me,it).enumerable})),Me.push.apply(Me,$e)}return Me}function St(me){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re]!=null?arguments[Re]:{};Re%2?Ut(Object(Me),!0).forEach(function($e){kt(me,$e,Me[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Me)):Ut(Object(Me)).forEach(function($e){Object.defineProperty(me,$e,Object.getOwnPropertyDescriptor(Me,$e))})}return me}function kt(me,Re,Me){return Re in me?Object.defineProperty(me,Re,{value:Me,enumerable:!0,configurable:!0,writable:!0}):me[Re]=Me,me}function Gt(me){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gt=function(Me){return typeof Me}:Gt=function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},Gt(me)}function Wt(me,Re){return Ke(me)||Be(me,Re)||ft(me,Re)||et()}function et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(me,Re){if(!!me){if(typeof me=="string")return Ye(me,Re);var Me=Object.prototype.toString.call(me).slice(8,-1);if(Me==="Object"&&me.constructor&&(Me=me.constructor.name),Me==="Map"||Me==="Set")return Array.from(me);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return Ye(me,Re)}}function Ye(me,Re){(Re==null||Re>me.length)&&(Re=me.length);for(var Me=0,$e=new Array(Re);Me<Re;Me++)$e[Me]=me[Me];return $e}function Be(me,Re){var Me=me==null?null:typeof Symbol!="undefined"&&me[Symbol.iterator]||me["@@iterator"];if(Me!=null){var $e=[],it=!0,Et=!1,gr,ar;try{for(Me=Me.call(me);!(it=(gr=Me.next()).done)&&($e.push(gr.value),!(Re&&$e.length===Re));it=!0);}catch(mr){Et=!0,ar=mr}finally{try{!it&&Me.return!=null&&Me.return()}finally{if(Et)throw ar}}return $e}}function Ke(me){if(Array.isArray(me))return me}function He(me,Re){if(me==null)return{};var Me=Xe(me,Re),$e,it;if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(me);for(it=0;it<Et.length;it++)$e=Et[it],!(Re.indexOf($e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(me,$e)||(Me[$e]=me[$e]))}return Me}function Xe(me,Re){if(me==null)return{};var Me={},$e=Object.keys(me),it,Et;for(Et=0;Et<$e.length;Et++)it=$e[Et],!(Re.indexOf(it)>=0)&&(Me[it]=me[it]);return Me}var st=K.a.useBreakpoint,It=M.a.forwardRef(function(me,Re){var Me,$e,it,Et=me.className,gr=me.style,ar=me.bodyStyle,mr=ar===void 0?{}:ar,Wr=me.headStyle,Ht=Wr===void 0?{}:Wr,Sr=me.title,Hr=me.subTitle,Xr=me.extra,Kr=me.tip,ln=me.wrap,qr=ln===void 0?!1:ln,Nn=me.layout,Tr=me.loading,Tn=me.gutter,ye=Tn===void 0?0:Tn,Oe=me.tooltip,xe=me.split,Le=me.headerBordered,ht=Le===void 0?!1:Le,mt=me.bordered,Tt=mt===void 0?!1:mt,Dt=me.children,Mt=me.size,Bt=me.actions,ue=me.ghost,X=ue===void 0?!1:ue,de=me.hoverable,ke=de===void 0?!1:de,We=me.direction,ze=me.collapsed,tt=me.collapsible,Ot=tt===void 0?!1:tt,rt=me.defaultCollapsed,$t=rt===void 0?!1:rt,lr=me.onCollapse,qt=me.tabs,Vt=me.type,dn=He(me,wt),yn=Object(Y.useContext)(H.b.ConfigContext),$r=yn.getPrefixCls,fn=st(),en=Object(N.a)($t,{value:ze,onChange:lr}),Lr=Wt(en,2),br=Lr[0],or=Lr[1],wn=["xxl","xl","lg","md","sm","xs"],Yr=function(ut){var Nt=[0,0],Qt=Array.isArray(ut)?ut:[ut,0];return Qt.forEach(function(vr,dr){if(Gt(vr)==="object")for(var Gr=0;Gr<wn.length;Gr+=1){var gn=wn[Gr];if(fn[gn]&&vr[gn]!==void 0){Nt[dr]=vr[gn];break}}else Nt[dr]=vr||0}),Nt},tn=function(ut,Nt){return ut?Nt:{}},Yt=function(ut){var Nt=ut;if(Gt(ut)==="object")for(var Qt=0;Qt<wn.length;Qt+=1){var vr=wn[Qt];if(fn[vr]&&ut[vr]!==void 0){Nt=ut[vr];break}}var dr=tn(typeof Nt=="string"&&/\d%|\dpx/i.test(Nt),{width:Nt,flexShrink:0});return{span:Nt,colSpanStyle:dr}},Jt=$r("pro-card"),xn=Yr(ye),At=Wt(xn,2),ur=At[0],Kt=At[1],er=!1,Or=M.a.Children.toArray(Dt),En=Or.map(function(cr,ut){var Nt;if(cr==null||(Nt=cr.type)===null||Nt===void 0?void 0:Nt.isProCard){var Qt;er=!0;var vr=cr.props.colSpan,dr=Yt(vr),Gr=dr.span,gn=dr.colSpanStyle,Ui=S()(["".concat(Jt,"-col")],(Qt={},kt(Qt,"".concat(Jt,"-split-vertical"),xe==="vertical"&&ut!==Or.length-1),kt(Qt,"".concat(Jt,"-split-horizontal"),xe==="horizontal"&&ut!==Or.length-1),kt(Qt,"".concat(Jt,"-col-").concat(Gr),typeof Gr=="number"&&Gr>=0&&Gr<=24),Qt));return M.a.createElement("div",{style:St(St(St({},gn),tn(ur>0,{paddingRight:ur/2,paddingLeft:ur/2})),tn(Kt>0,{paddingTop:Kt/2,paddingBottom:Kt/2})),key:"pro-card-col-".concat(ut),className:Ui},M.a.cloneElement(cr))}return cr}),Cn=S()("".concat(Jt),Et,(Me={},kt(Me,"".concat(Jt,"-border"),Tt),kt(Me,"".concat(Jt,"-contain-card"),er),kt(Me,"".concat(Jt,"-loading"),Tr),kt(Me,"".concat(Jt,"-split"),xe==="vertical"||xe==="horizontal"),kt(Me,"".concat(Jt,"-ghost"),X),kt(Me,"".concat(Jt,"-hoverable"),ke),kt(Me,"".concat(Jt,"-size-").concat(Mt),Mt),kt(Me,"".concat(Jt,"-type-").concat(Vt),Vt),kt(Me,"".concat(Jt,"-collapse"),br),Me)),Mn=S()("".concat(Jt,"-body"),($e={},kt($e,"".concat(Jt,"-body-center"),Nn==="center"),kt($e,"".concat(Jt,"-body-direction-column"),xe==="horizontal"||We==="column"),kt($e,"".concat(Jt,"-body-wrap"),qr&&er),$e)),In=St(St(St({},tn(ur>0,{marginRight:-ur/2,marginLeft:-ur/2})),tn(Kt>0,{marginTop:-Kt/2,marginBottom:-Kt/2})),mr),Br=M.a.isValidElement(Tr)?Tr:M.a.createElement(se,{prefix:Jt,style:mr.padding===0||mr.padding==="0px"?{padding:24}:void 0}),Dr=Ot&&ze===void 0&&M.a.createElement(y.a,{rotate:br?void 0:90,className:"".concat(Jt,"-collapsible-icon")});return M.a.createElement("div",Ct({className:Cn,style:gr,ref:Re},Object(D.a)(dn,["id","prefixCls","colSpan"])),(Sr||Xr||Dr)&&M.a.createElement("div",{className:S()("".concat(Jt,"-header"),(it={},kt(it,"".concat(Jt,"-header-border"),ht||Vt==="inner"),kt(it,"".concat(Jt,"-header-collapsible"),Dr),it)),style:Ht,onClick:function(){Dr&&or(!br)}},M.a.createElement("div",{className:"".concat(Jt,"-title")},Dr,M.a.createElement(E.a,{label:Sr,tooltip:Oe||Kr,subTitle:Hr})),Xr&&M.a.createElement("div",{className:"".concat(Jt,"-extra")},Xr)),qt?M.a.createElement("div",{className:"".concat(Jt,"-tabs")},M.a.createElement(b.a,Ct({onChange:qt.onChange},qt),Tr?Br:Dt)):M.a.createElement("div",{className:Mn,style:In},Tr?Br:En),M.a.createElement(je,{actions:Bt,prefixCls:Jt}))}),Xt=It,pr=k("VzZb"),Qr=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function Rr(){return Rr=Object.assign||function(me){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re];for(var $e in Me)Object.prototype.hasOwnProperty.call(Me,$e)&&(me[$e]=Me[$e])}return me},Rr.apply(this,arguments)}function nr(me,Re){if(me==null)return{};var Me=jr(me,Re),$e,it;if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(me);for(it=0;it<Et.length;it++)$e=Et[it],!(Re.indexOf($e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(me,$e)||(Me[$e]=me[$e]))}return Me}function jr(me,Re){if(me==null)return{};var Me={},$e=Object.keys(me),it,Et;for(Et=0;Et<$e.length;Et++)it=$e[Et],!(Re.indexOf(it)>=0)&&(Me[it]=me[it]);return Me}var Ar=function(Re){var Me=Re.key,$e=Re.tab,it=Re.tabKey,Et=Re.disabled,gr=Re.destroyInactiveTabPane,ar=Re.children,mr=Re.className,Wr=Re.style,Ht=Re.cardProps,Sr=nr(Re,Qr),Hr=Object(Y.useContext)(H.b.ConfigContext),Xr=Hr.getPrefixCls,Kr=Xr("pro-card-tabpane"),ln=S()(Kr,mr);return M.a.createElement(b.a.TabPane,Rr({key:Me,tabKey:it,tab:$e,className:ln,style:Wr,disabled:Et,destroyInactiveTabPane:gr},Sr),M.a.createElement(Xt,Ht,ar))},Rt=Ar,L=k("u1OI");function J(me,Re,Me){return Re in me?Object.defineProperty(me,Re,{value:Me,enumerable:!0,configurable:!0,writable:!0}):me[Re]=Me,me}var W=function(Re){var Me=Object(Y.useContext)(H.b.ConfigContext),$e=Me.getPrefixCls,it=$e("pro-card-divider"),Et=Re.className,gr=Re.style,ar=gr===void 0?{}:gr,mr=Re.type,Wr=S()(it,Et,J({},"".concat(it,"-").concat(mr),mr));return M.a.createElement("div",{className:Wr,style:ar})},ve=W;function we(){return we=Object.assign||function(me){for(var Re=1;Re<arguments.length;Re++){var Me=arguments[Re];for(var $e in Me)Object.prototype.hasOwnProperty.call(Me,$e)&&(me[$e]=Me[$e])}return me},we.apply(this,arguments)}var Ae=function(Re){return M.a.createElement(Xt,we({bodyStyle:{padding:0}},Re))},Ve=Xt;Ve.isProCard=!0,Ve.Divider=ve,Ve.TabPane=Rt,Ve.Group=Ae;var vt=Ve,lt=ae.a=vt},"oCl/":function(oe,ae,k){var Y=k("CH3K"),M=k("LcsW"),I=k("MvSz"),b=k("0ycA"),ne=Object.getOwnPropertySymbols,H=ne?function(U){for(var K=[];U;)Y(K,I(U)),U=M(U);return K}:b;oe.exports=H},"otv/":function(oe,ae,k){var Y=k("nmnc"),M=Y?Y.prototype:void 0,I=M?M.valueOf:void 0;function b(ne){return I?Object(I.call(ne)):{}}oe.exports=b},pL63:function(oe,ae,k){},pWZp:function(oe,ae,k){"use strict";var Y=k("DYRE"),M=k("zeV3"),I=k("tU7J"),b=k("wFql"),ne=k("+BJd"),H=k("mr32"),U=k("/zsF"),K=k("PArb"),y=k("tJVT"),N=k("q1tI"),E=k.n(N),C=k("AEIT"),S=k.n(C),D=k("vnc/"),ge=k.n(D),j=k("xEw5"),re=k.n(j),B=k("24R3"),$=k("nKUr"),x=k.n($),se=function(Fe){var je=Fe.value,gt=Fe.onChange,wt=Fe.tokens,Ct=wt===void 0?[]:wt,Ut=Object(N.useRef)(),St=Object(N.useState)(Math.random().toString()),kt=Object(y.a)(St,2),Gt=kt[0],Wt=kt[1];return Object(N.useEffect)(function(){Wt(Math.random().toString())},[Ct]),Object($.jsxs)("div",{className:"template-editor",children:[Object($.jsx)(K.a,{children:Object($.jsx)(B.a,{id:"tokens",defaultMessage:"posibble tokens:"})}),Object($.jsx)(M.b,{children:Object($.jsx)(b.a,{children:Ct.map(function(et){return Object($.jsx)(H.a,{children:et},et)})})}),Object($.jsx)(K.a,{}),Object($.jsx)(C.CKEditor,{ref:Ut,config:{width:"210mm",height:"297mm",mention:{feeds:[{marker:"@",minimumCharacters:1,feed:Ct}]}},editor:ge.a,data:je||"",onChange:function(ft,Ye){var Be=Ye.getData();return gt&&gt(Be)}},Gt)]})};ae.a=se},"ql/k":function(oe,ae,k){"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var Y=Object.assign||function(U){for(var K=1;K<arguments.length;K++){var y=arguments[K];for(var N in y)Object.prototype.hasOwnProperty.call(y,N)&&(U[N]=y[N])}return U},M=k("q1tI"),I=b(M);function b(U){return U&&U.__esModule?U:{default:U}}function ne(U,K){var y={};for(var N in U)K.indexOf(N)>=0||!Object.prototype.hasOwnProperty.call(U,N)||(y[N]=U[N]);return y}var H=24;ae.default=function(U){var K=U.fill,y=K===void 0?"currentColor":K,N=U.width,E=N===void 0?H:N,C=U.height,S=C===void 0?H:C,D=U.style,ge=D===void 0?{}:D,j=ne(U,["fill","width","height","style"]);return I.default.createElement("svg",Y({viewBox:"0 0 "+H+" "+H,style:Y({fill:y,width:E,height:S},ge)},j),I.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},rWUb:function(oe,ae,k){"use strict";k.d(ae,"e",function(){return H}),k.d(ae,"d",function(){return K}),k.d(ae,"a",function(){return N}),k.d(ae,"f",function(){return C}),k.d(ae,"b",function(){return D}),k.d(ae,"g",function(){return j}),k.d(ae,"c",function(){return B});var Y=k("k1fw"),M=k("9og8"),I=k("WmNS"),b=k.n(I),ne=k("9kvl");function H(x,se){return U.apply(this,arguments)}function U(){return U=Object(M.a)(b.a.mark(function x(se,Te){return b.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Object(ne.f)("/api/admin/templates",Object(Y.a)({method:"GET",useCache:!0,params:Object(Y.a)(Object(Y.a)({},se),{},{per_page:se.pageSize,page:se.current})},Te||{})));case 1:case"end":return je.stop()}},x)})),U.apply(this,arguments)}function K(x,se){return y.apply(this,arguments)}function y(){return y=Object(M.a)(b.a.mark(function x(se,Te){return b.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Object(ne.f)("/api/admin/templates/".concat(se),Object(Y.a)({method:"GET"},Te||{})));case 1:case"end":return je.stop()}},x)})),y.apply(this,arguments)}function N(x,se){return E.apply(this,arguments)}function E(){return E=Object(M.a)(b.a.mark(function x(se,Te){return b.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Object(ne.f)("/api/admin/templates",Object(Y.a)({method:"POST",headers:{"Content-Type":"application/json"},data:se},Te||{})));case 1:case"end":return je.stop()}},x)})),E.apply(this,arguments)}function C(x,se,Te){return S.apply(this,arguments)}function S(){return S=Object(M.a)(b.a.mark(function x(se,Te,Fe){return b.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.abrupt("return",Object(ne.f)("/api/admin/templates/".concat(se),Object(Y.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:Te},Fe||{})));case 1:case"end":return gt.stop()}},x)})),S.apply(this,arguments)}function D(x,se){return ge.apply(this,arguments)}function ge(){return ge=Object(M.a)(b.a.mark(function x(se,Te){return b.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Object(ne.f)("/api/admin/templates/".concat(se),Object(Y.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},Te||{})));case 1:case"end":return je.stop()}},x)})),ge.apply(this,arguments)}function j(x){return re.apply(this,arguments)}function re(){return re=Object(M.a)(b.a.mark(function x(se){return b.a.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.abrupt("return",Object(ne.f)("/api/admin/templates/variables",Object(Y.a)({method:"GET"},se||{})));case 1:case"end":return Fe.stop()}},x)})),re.apply(this,arguments)}function B(x,se){return $.apply(this,arguments)}function $(){return $=Object(M.a)(b.a.mark(function x(se,Te){return b.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Object(ne.f)("/api/admin/templates/".concat(se,"/preview"),Object(Y.a)({method:"GET"},Te||{})));case 1:case"end":return je.stop()}},x)})),$.apply(this,arguments)}},sRBo:function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("KCY9"),b=k.n(I)},slOs:function(oe,ae,k){},tU7J:function(oe,ae,k){"use strict";var Y=k("cIOH"),M=k.n(Y),I=k("/qDX"),b=k.n(I),ne=k("5Dmo"),H=k("5NDa")},u1OI:function(oe,ae,k){},"ut/Y":function(oe,ae,k){var Y=k("ZCpW"),M=k("GDhZ"),I=k("zZ0H"),b=k("Z0cm"),ne=k("+c4W");function H(U){return typeof U=="function"?U:U==null?I:typeof U=="object"?b(U)?M(U[0],U[1]):Y(U):ne(U)}oe.exports=H},"vnc/":function(oe,ae,k){var Y=k("dmwd"),M=k("c29t"),I=k("GXtI"),b=k("x49D"),ne=k("ZJpN"),H=k("baxp"),U=k("R5yR"),K=k("5wUe"),y=k("bfL6"),N=k("WmNS"),E=k("xbqb"),C=k("Lw8S"),S=k("2MUX"),D=k("CS2o"),ge=k("lPKl");/*!
* @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
* For licensing, see LICENSE.md.
*/(function(j){var re=j.en=j.en||{};re.dictionary=Object.assign(re.dictionary||{},{"%0 of %1":"%0 of %1","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(j,re){oe.exports=re()}(window,function(){return function(j){var re={};function B($){if(re[$])return re[$].exports;var x=re[$]={i:$,l:!1,exports:{}};return j[$].call(x.exports,x,x.exports,B),x.l=!0,x.exports}return B.m=j,B.c=re,B.d=function($,x,se){B.o($,x)||Object.defineProperty($,x,{enumerable:!0,get:se})},B.r=function($){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})},B.t=function($,x){if(1&x&&($=B($)),8&x||4&x&&typeof $=="object"&&$&&$.__esModule)return $;var se=Object.create(null);if(B.r(se),Object.defineProperty(se,"default",{enumerable:!0,value:$}),2&x&&typeof $!="string")for(var Te in $)B.d(se,Te,function(Fe){return $[Fe]}.bind(null,Te));return se},B.n=function($){var x=$&&$.__esModule?function(){return $.default}:function(){return $};return B.d(x,"a",x),x},B.o=function($,x){return Object.prototype.hasOwnProperty.call($,x)},B.p="",B(B.s=100)}([function(j,re,B){"use strict";B.d(re,"b",function(){return $}),B.d(re,"a",function(){return x});var $=function(se){S(Fe,se);var Te=D(Fe);function Fe(je,gt,wt){var Ct;return E(this,Fe),je=x(je),wt&&(je+=" "+JSON.stringify(wt)),Ct=Te.call(this,je),Ct.name="CKEditorError",Ct.context=gt,Ct.data=wt,Ct}return C(Fe,[{key:"is",value:function(gt){return gt==="CKEditorError"}}],[{key:"rethrowUnexpectedError",value:function(gt,wt){if(gt.is&&gt.is("CKEditorError"))throw gt;var Ct=new Fe(gt.message,wt);throw Ct.stack=gt.stack,Ct}}]),Fe}(ge(Error));function x(se){var Te=se.match(/^([^:]+):/);return Te?se+" Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(Te[1],`
`):se}},function(j,re,B){"use strict";var $,x=function(){return $===void 0&&($=Boolean(window&&document&&document.all&&!window.atob)),$},se=function(){var et={};return function(ft){if(et[ft]===void 0){var Ye=document.querySelector(ft);if(window.HTMLIFrameElement&&Ye instanceof window.HTMLIFrameElement)try{Ye=Ye.contentDocument.head}catch(Be){Ye=null}et[ft]=Ye}return et[ft]}}(),Te=[];function Fe(et){for(var ft=-1,Ye=0;Ye<Te.length;Ye++)if(Te[Ye].identifier===et){ft=Ye;break}return ft}function je(et,ft){for(var Ye={},Be=[],Ke=0;Ke<et.length;Ke++){var He=et[Ke],Xe=ft.base?He[0]+ft.base:He[0],st=Ye[Xe]||0,It="".concat(Xe," ").concat(st);Ye[Xe]=st+1;var Xt=Fe(It),pr={css:He[1],media:He[2],sourceMap:He[3]};Xt!==-1?(Te[Xt].references++,Te[Xt].updater(pr)):Te.push({identifier:It,updater:Wt(pr,ft),references:1}),Be.push(It)}return Be}function gt(et){var ft=document.createElement("style"),Ye=et.attributes||{};if(Ye.nonce===void 0){var Be=B.nc;Be&&(Ye.nonce=Be)}if(Object.keys(Ye).forEach(function(He){ft.setAttribute(He,Ye[He])}),typeof et.insert=="function")et.insert(ft);else{var Ke=se(et.insert||"head");if(!Ke)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Ke.appendChild(ft)}return ft}var wt,Ct=(wt=[],function(et,ft){return wt[et]=ft,wt.filter(Boolean).join(`
`)});function Ut(et,ft,Ye,Be){var Ke=Ye?"":Be.media?"@media ".concat(Be.media," {").concat(Be.css,"}"):Be.css;if(et.styleSheet)et.styleSheet.cssText=Ct(ft,Ke);else{var He=document.createTextNode(Ke),Xe=et.childNodes;Xe[ft]&&et.removeChild(Xe[ft]),Xe.length?et.insertBefore(He,Xe[ft]):et.appendChild(He)}}function St(et,ft,Ye){var Be=Ye.css,Ke=Ye.media,He=Ye.sourceMap;if(Ke?et.setAttribute("media",Ke):et.removeAttribute("media"),He&&btoa&&(Be+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(He))))," */")),et.styleSheet)et.styleSheet.cssText=Be;else{for(;et.firstChild;)et.removeChild(et.firstChild);et.appendChild(document.createTextNode(Be))}}var kt=null,Gt=0;function Wt(et,ft){var Ye,Be,Ke;if(ft.singleton){var He=Gt++;Ye=kt||(kt=gt(ft)),Be=Ut.bind(null,Ye,He,!1),Ke=Ut.bind(null,Ye,He,!0)}else Ye=gt(ft),Be=St.bind(null,Ye,ft),Ke=function(){(function(st){if(st.parentNode===null)return!1;st.parentNode.removeChild(st)})(Ye)};return Be(et),function(Xe){if(Xe){if(Xe.css===et.css&&Xe.media===et.media&&Xe.sourceMap===et.sourceMap)return;Be(et=Xe)}else Ke()}}j.exports=function(et,ft){(ft=ft||{}).singleton||typeof ft.singleton=="boolean"||(ft.singleton=x());var Ye=je(et=et||[],ft);return function(Be){if(Be=Be||[],Object.prototype.toString.call(Be)==="[object Array]"){for(var Ke=0;Ke<Ye.length;Ke++){var He=Fe(Ye[Ke]);Te[He].references--}for(var Xe=je(Be,ft),st=0;st<Ye.length;st++){var It=Fe(Ye[st]);Te[It].references===0&&(Te[It].updater(),Te.splice(It,1))}Ye=Xe}}}},,function(j,re,B){"use strict";var $=B(7),x=typeof self=="object"&&self&&self.Object===Object&&self,se=$.a||x||Function("return this")();re.a=se},function(j,re,B){"use strict";(function($){var x=B(3),se=B(12),Te=ae&&!ae.nodeType&&ae,Fe=Te&&typeof $=="object"&&$&&!$.nodeType&&$,je=Fe&&Fe.exports===Te?x.a.Buffer:void 0,gt=(je?je.isBuffer:void 0)||se.a;re.a=gt}).call(this,B(9)(j))},function(j,re,B){"use strict";(function($){var x=B(7),se=ae&&!ae.nodeType&&ae,Te=se&&typeof $=="object"&&$&&!$.nodeType&&$,Fe=Te&&Te.exports===se&&x.a.process,je=function(){try{var gt=Te&&Te.require&&Te.require("util").types;return gt||Fe&&Fe.binding&&Fe.binding("util")}catch(wt){}}();re.a=je}).call(this,B(9)(j))},function(j,re,B){"use strict";(function($){var x=B(0),se=typeof window=="object"?window:$;if(se.CKEDITOR_VERSION)throw new x.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);se.CKEDITOR_VERSION="19.1.1"}).call(this,B(10))},function(j,re,B){"use strict";(function($){var x=typeof $=="object"&&$&&$.Object===Object&&$;re.a=x}).call(this,B(10))},function(j,re,B){"use strict";(function($){var x=B(3),se=ae&&!ae.nodeType&&ae,Te=se&&typeof $=="object"&&$&&!$.nodeType&&$,Fe=Te&&Te.exports===se?x.a.Buffer:void 0,je=Fe?Fe.allocUnsafe:void 0;re.a=function(gt,wt){if(wt)return gt.slice();var Ct=gt.length,Ut=je?je(Ct):new gt.constructor(Ct);return gt.copy(Ut),Ut}}).call(this,B(9)(j))},function(j,re){j.exports=function(B){if(!B.webpackPolyfill){var $=Object.create(B);$.children||($.children=[]),Object.defineProperty($,"loaded",{enumerable:!0,get:function(){return $.l}}),Object.defineProperty($,"id",{enumerable:!0,get:function(){return $.i}}),Object.defineProperty($,"exports",{enumerable:!0}),$.webpackPolyfill=1}return $}},function(j,re){var B;B=function(){return this}();try{B=B||new Function("return this")()}catch($){typeof window=="object"&&(B=window)}j.exports=B},function(j,re,B){var $=B(1),x=B(71);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re,B){"use strict";re.a=function(){return!1}},function(j,re,B){var $=B(1),x=B(14);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(j,re,B){var $=B(1),x=B(16);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(j,re,B){var $=B(1),x=B(18);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(j,re,B){var $=B(1),x=B(20);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(j,re,B){var $=B(1),x=B(22);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(j,re,B){var $=B(1),x=B(24);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(j,re,B){var $=B(1),x=B(26);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(j,re,B){var $=B(1),x=B(28);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(j,re,B){var $=B(1),x=B(30);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(j,re,B){var $=B(1),x=B(32);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(j,re,B){var $=B(1),x=B(34);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(j,re,B){var $=B(1),x=B(36);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(j,re,B){var $=B(1),x=B(38);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(j,re,B){var $=B(1),x=B(40);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(j,re,B){var $=B(1),x=B(42);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(j,re,B){var $=B(1),x=B(44);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(j,re,B){var $=B(1),x=B(46);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(j,re,B){var $=B(1),x=B(48);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(j,re,B){var $=B(1),x=B(50);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget:not(.ck-widget_can-type-around_after)>.ck-widget__type-around>.ck-widget__type-around__button_after,.ck .ck-widget:not(.ck-widget_can-type-around_before)>.ck-widget__type-around>.ck-widget__type-around__button_before{display:none}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;pointer-events:none;opacity:0;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:auto;opacity:1}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:none;opacity:0}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}'},function(j,re,B){var $=B(1),x=B(52);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(j,re,B){var $=B(1),x=B(54);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(j,re,B){var $=B(1),x=B(56);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(j,re,B){var $=B(1),x=B(58);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(j,re,B){var $=B(1),x=B(60);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(j,re,B){var $=B(1),x=B(62);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(j,re,B){var $=B(1),x=B(64);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(j,re,B){var $=B(1),x=B(66);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(j,re,B){var $=B(1),x=B(68);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(j,re,B){var $=B(1),x=B(70);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(j,re){j.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(j,re,B){var $=B(1),x=B(73);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(j,re,B){var $=B(1),x=B(75);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(j,re,B){var $=B(1),x=B(77);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(j,re,B){var $=B(1),x=B(79);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(j,re,B){var $=B(1),x=B(81);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(j,re,B){var $=B(1),x=B(83);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(j,re,B){var $=B(1),x=B(85);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(j,re,B){var $=B(1),x=B(87);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(j,re,B){var $=B(1),x=B(89);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(j,re,B){var $=B(1),x=B(91);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(j,re,B){var $=B(1),x=B(93);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(j,re,B){var $=B(1),x=B(95);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(j,re,B){var $=B(1),x=B(97);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}"},function(j,re,B){var $=B(1),x=B(99);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[j.i,x,""]]);var se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$(x,se),j.exports=x.locals||{}},function(j,re){j.exports=":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}"},function(j,re,B){"use strict";var $=N.mark(al),x=N.mark(vu),se=N.mark(Iu);B.r(re),B.d(re,"default",function(){return Wm});var Te=B(3),Fe=Te.a.Symbol,je=Object.prototype,gt=je.hasOwnProperty,wt=je.toString,Ct=Fe?Fe.toStringTag:void 0,Ut=function(n){var e=gt.call(n,Ct),r=n[Ct];try{n[Ct]=void 0;var t=!0}catch(o){}var i=wt.call(n);return t&&(e?n[Ct]=r:delete n[Ct]),i},St=Object.prototype.toString,kt=function(n){return St.call(n)},Gt=Fe?Fe.toStringTag:void 0,Wt=function(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Gt&&Gt in Object(n)?Ut(n):kt(n)},et=function(n,e){return function(r){return n(e(r))}},ft=et(Object.getPrototypeOf,Object),Ye=function(n){return n!=null&&typeof n=="object"},Be=Function.prototype,Ke=Object.prototype,He=Be.toString,Xe=Ke.hasOwnProperty,st=He.call(Object),It=function(n){if(!Ye(n)||Wt(n)!="[object Object]")return!1;var e=ft(n);if(e===null)return!0;var r=Xe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&He.call(r)==st},Xt=function(){this.__data__=[],this.size=0},pr=function(n,e){return n===e||n!=n&&e!=e},Qr=function(n,e){for(var r=n.length;r--;)if(pr(n[r][0],e))return r;return-1},Rr=Array.prototype.splice,nr=function(n){var e=this.__data__,r=Qr(e,n);return!(r<0)&&(r==e.length-1?e.pop():Rr.call(e,r,1),--this.size,!0)},jr=function(n){var e=this.__data__,r=Qr(e,n);return r<0?void 0:e[r][1]},Ar=function(n){return Qr(this.__data__,n)>-1},Rt=function(n,e){var r=this.__data__,t=Qr(r,n);return t<0?(++this.size,r.push([n,e])):r[t][1]=e,this};function L(a){var n=-1,e=a==null?0:a.length;for(this.clear();++n<e;){var r=a[n];this.set(r[0],r[1])}}L.prototype.clear=Xt,L.prototype.delete=nr,L.prototype.get=jr,L.prototype.has=Ar,L.prototype.set=Rt;var J=L,W=function(){this.__data__=new J,this.size=0},ve=function(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r},we=function(n){return this.__data__.get(n)},Ae=function(n){return this.__data__.has(n)},Ve=function(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")},vt,lt=function(n){if(!Ve(n))return!1;var e=Wt(n);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},me=Te.a["__core-js_shared__"],Re=(vt=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||""))?"Symbol(src)_1."+vt:"",Me=function(n){return!!Re&&Re in n},$e=Function.prototype.toString,it=function(n){if(n!=null){try{return $e.call(n)}catch(e){}try{return n+""}catch(e){}}return""},Et=/^\[object .+?Constructor\]$/,gr=Function.prototype,ar=Object.prototype,mr=gr.toString,Wr=ar.hasOwnProperty,Ht=RegExp("^"+mr.call(Wr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sr=function(n){return!(!Ve(n)||Me(n))&&(lt(n)?Ht:Et).test(it(n))},Hr=function(n,e){return n==null?void 0:n[e]},Xr=function(n,e){var r=Hr(n,e);return Sr(r)?r:void 0},Kr=Xr(Te.a,"Map"),ln=Xr(Object,"create"),qr=function(){this.__data__=ln?ln(null):{},this.size=0},Nn=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},Tr=Object.prototype.hasOwnProperty,Tn=function(n){var e=this.__data__;if(ln){var r=e[n];return r==="__lodash_hash_undefined__"?void 0:r}return Tr.call(e,n)?e[n]:void 0},ye=Object.prototype.hasOwnProperty,Oe=function(n){var e=this.__data__;return ln?e[n]!==void 0:ye.call(e,n)},xe=function(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=ln&&e===void 0?"__lodash_hash_undefined__":e,this};function Le(a){var n=-1,e=a==null?0:a.length;for(this.clear();++n<e;){var r=a[n];this.set(r[0],r[1])}}Le.prototype.clear=qr,Le.prototype.delete=Nn,Le.prototype.get=Tn,Le.prototype.has=Oe,Le.prototype.set=xe;var ht=Le,mt=function(){this.size=0,this.__data__={hash:new ht,map:new(Kr||J),string:new ht}},Tt=function(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null},Dt=function(n,e){var r=n.__data__;return Tt(e)?r[typeof e=="string"?"string":"hash"]:r.map},Mt=function(n){var e=Dt(this,n).delete(n);return this.size-=e?1:0,e},Bt=function(n){return Dt(this,n).get(n)},ue=function(n){return Dt(this,n).has(n)},X=function(n,e){var r=Dt(this,n),t=r.size;return r.set(n,e),this.size+=r.size==t?0:1,this};function de(a){var n=-1,e=a==null?0:a.length;for(this.clear();++n<e;){var r=a[n];this.set(r[0],r[1])}}de.prototype.clear=mt,de.prototype.delete=Mt,de.prototype.get=Bt,de.prototype.has=ue,de.prototype.set=X;var ke=de,We=function(n,e){var r=this.__data__;if(r instanceof J){var t=r.__data__;if(!Kr||t.length<199)return t.push([n,e]),this.size=++r.size,this;r=this.__data__=new ke(t)}return r.set(n,e),this.size=r.size,this};function ze(a){var n=this.__data__=new J(a);this.size=n.size}ze.prototype.clear=W,ze.prototype.delete=ve,ze.prototype.get=we,ze.prototype.has=Ae,ze.prototype.set=We;var tt=ze,Ot=function(n,e){for(var r=-1,t=n==null?0:n.length;++r<t&&e(n[r],r,n)!==!1;);return n},rt=function(){try{var a=Xr(Object,"defineProperty");return a({},"",{}),a}catch(n){}}(),$t=function(n,e,r){e=="__proto__"&&rt?rt(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r},lr=Object.prototype.hasOwnProperty,qt=function(n,e,r){var t=n[e];lr.call(n,e)&&pr(t,r)&&(r!==void 0||e in n)||$t(n,e,r)},Vt=function(n,e,r,t){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var l=e[o],u=t?t(r[l],n[l],l,r,n):void 0;u===void 0&&(u=n[l]),i?$t(r,l,u):qt(r,l,u)}return r},dn=function(n,e){for(var r=-1,t=Array(n);++r<n;)t[r]=e(r);return t},yn=function(n){return Ye(n)&&Wt(n)=="[object Arguments]"},$r=Object.prototype,fn=$r.hasOwnProperty,en=$r.propertyIsEnumerable,Lr=yn(function(){return arguments}())?yn:function(a){return Ye(a)&&fn.call(a,"callee")&&!en.call(a,"callee")},br=Array.isArray,or=B(4),wn=/^(?:0|[1-9]\d*)$/,Yr=function(n,e){var r=typeof n;return!!(e=e==null?9007199254740991:e)&&(r=="number"||r!="symbol"&&wn.test(n))&&n>-1&&n%1==0&&n<e},tn=function(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=9007199254740991},Yt={};Yt["[object Float32Array]"]=Yt["[object Float64Array]"]=Yt["[object Int8Array]"]=Yt["[object Int16Array]"]=Yt["[object Int32Array]"]=Yt["[object Uint8Array]"]=Yt["[object Uint8ClampedArray]"]=Yt["[object Uint16Array]"]=Yt["[object Uint32Array]"]=!0,Yt["[object Arguments]"]=Yt["[object Array]"]=Yt["[object ArrayBuffer]"]=Yt["[object Boolean]"]=Yt["[object DataView]"]=Yt["[object Date]"]=Yt["[object Error]"]=Yt["[object Function]"]=Yt["[object Map]"]=Yt["[object Number]"]=Yt["[object Object]"]=Yt["[object RegExp]"]=Yt["[object Set]"]=Yt["[object String]"]=Yt["[object WeakMap]"]=!1;var Jt=function(n){return Ye(n)&&tn(n.length)&&!!Yt[Wt(n)]},xn=function(n){return function(e){return n(e)}},At=B(5),ur=At.a&&At.a.isTypedArray,Kt=ur?xn(ur):Jt,er=Object.prototype.hasOwnProperty,Or=function(n,e){var r=br(n),t=!r&&Lr(n),i=!r&&!t&&Object(or.a)(n),o=!r&&!t&&!i&&Kt(n),s=r||t||i||o,l=s?dn(n.length,String):[],u=l.length;for(var d in n)!e&&!er.call(n,d)||s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Yr(d,u))||l.push(d);return l},En=Object.prototype,Cn=function(n){var e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||En)},Mn=et(Object.keys,Object),In=Object.prototype.hasOwnProperty,Br=function(n){if(!Cn(n))return Mn(n);var e=[];for(var r in Object(n))In.call(n,r)&&r!="constructor"&&e.push(r);return e},Dr=function(n){return n!=null&&tn(n.length)&&!lt(n)},cr=function(n){return Dr(n)?Or(n):Br(n)},ut=function(n,e){return n&&Vt(e,cr(e),n)},Nt=function(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e},Qt=Object.prototype.hasOwnProperty,vr=function(n){if(!Ve(n))return Nt(n);var e=Cn(n),r=[];for(var t in n)(t!="constructor"||!e&&Qt.call(n,t))&&r.push(t);return r},dr=function(n){return Dr(n)?Or(n,!0):vr(n)},Gr=function(n,e){return n&&Vt(e,dr(e),n)},gn=B(8),Ui=function(n,e){var r=-1,t=n.length;for(e||(e=Array(t));++r<t;)e[r]=n[r];return e},sa=function(n,e){for(var r=-1,t=n==null?0:n.length,i=0,o=[];++r<t;){var s=n[r];e(s,r,n)&&(o[i++]=s)}return o},oo=function(){return[]},La=Object.prototype.propertyIsEnumerable,Wi=Object.getOwnPropertySymbols,la=Wi?function(a){return a==null?[]:(a=Object(a),sa(Wi(a),function(n){return La.call(a,n)}))}:oo,so=function(n,e){return Vt(n,la(n),e)},lo=function(n,e){for(var r=-1,t=e.length,i=n.length;++r<t;)n[i+r]=e[r];return n},Pi=Object.getOwnPropertySymbols?function(a){for(var n=[];a;)lo(n,la(a)),a=ft(a);return n}:oo,Hi=function(n,e){return Vt(n,Pi(n),e)},Ki=function(n,e,r){var t=e(n);return br(n)?t:lo(t,r(n))},Ei=function(n){return Ki(n,cr,la)},Ba=function(n){return Ki(n,dr,Pi)},Gi=Xr(Te.a,"DataView"),$i=Xr(Te.a,"Promise"),Yi=Xr(Te.a,"Set"),ri=Xr(Te.a,"WeakMap"),Ci=it(Gi),ua=it(Kr),ca=it($i),da=it(Yi),fa=it(ri),mi=Wt;(Gi&&mi(new Gi(new ArrayBuffer(1)))!="[object DataView]"||Kr&&mi(new Kr)!="[object Map]"||$i&&mi($i.resolve())!="[object Promise]"||Yi&&mi(new Yi)!="[object Set]"||ri&&mi(new ri)!="[object WeakMap]")&&(mi=function(n){var e=Wt(n),r=e=="[object Object]"?n.constructor:void 0,t=r?it(r):"";if(t)switch(t){case Ci:return"[object DataView]";case ua:return"[object Map]";case ca:return"[object Promise]";case da:return"[object Set]";case fa:return"[object WeakMap]"}return e});var $n=mi,Ho=Object.prototype.hasOwnProperty,Ko=function(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&Ho.call(n,"index")&&(r.index=n.index,r.input=n.input),r},ee=Te.a.Uint8Array,he=function(n){var e=new n.constructor(n.byteLength);return new ee(e).set(new ee(n)),e},Ce=function(n,e){var r=e?he(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)},Pt=/\w*$/,Pr=function(n){var e=new n.constructor(n.source,Pt.exec(n));return e.lastIndex=n.lastIndex,e},Vr=Fe?Fe.prototype:void 0,zr=Vr?Vr.valueOf:void 0,wr=function(n){return zr?Object(zr.call(n)):{}},Nr=function(n,e){var r=e?he(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)},Bn=function(n,e,r){var t=n.constructor;switch(e){case"[object ArrayBuffer]":return he(n);case"[object Boolean]":case"[object Date]":return new t(+n);case"[object DataView]":return Ce(n,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Nr(n,r);case"[object Map]":return new t;case"[object Number]":case"[object String]":return new t(n);case"[object RegExp]":return Pr(n);case"[object Set]":return new t;case"[object Symbol]":return wr(n)}},Rn=Object.create,Ai=function(){function a(){}return function(n){if(!Ve(n))return{};if(Rn)return Rn(n);a.prototype=n;var e=new a;return a.prototype=void 0,e}}(),ha=function(n){return typeof n.constructor!="function"||Cn(n)?{}:Ai(ft(n))},va=function(n){return Ye(n)&&$n(n)=="[object Map]"},Va=At.a&&At.a.isMap,Ps=Va?xn(Va):va,Vl=function(n){return Ye(n)&&$n(n)=="[object Set]"},Es=At.a&&At.a.isSet,zl=Es?xn(Es):Vl,rn={};rn["[object Arguments]"]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object DataView]"]=rn["[object Boolean]"]=rn["[object Date]"]=rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Map]"]=rn["[object Number]"]=rn["[object Object]"]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object Symbol]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Error]"]=rn["[object Function]"]=rn["[object WeakMap]"]=!1;var Cs=function a(n,e,r,t,i,o){var s,l=1&e,u=2&e,d=4&e;if(r&&(s=i?r(n,t,i,o):r(n)),s!==void 0)return s;if(!Ve(n))return n;var v=br(n);if(v){if(s=Ko(n),!l)return Ui(n,s)}else{var g=$n(n),m=g=="[object Function]"||g=="[object GeneratorFunction]";if(Object(or.a)(n))return Object(gn.a)(n,l);if(g=="[object Object]"||g=="[object Arguments]"||m&&!i){if(s=u||m?{}:ha(n),!l)return u?Hi(n,Gr(s,n)):so(n,ut(s,n))}else{if(!rn[g])return i?n:{};s=Bn(n,g,l)}}o||(o=new tt);var _=o.get(n);if(_)return _;o.set(n,s),zl(n)?n.forEach(function(A){s.add(a(A,e,r,A,n,o))}):Ps(n)&&n.forEach(function(A,F){s.set(F,a(A,e,r,F,n,o))});var O=d?u?Ba:Ei:u?keysIn:cr,P=v?void 0:O(n);return Ot(P||n,function(A,F){P&&(A=n[F=A]),qt(s,F,a(A,e,r,F,n,o))}),s},Go=function(n,e){return Cs(n,5,e=typeof e=="function"?e:void 0)},ni=function(n){return Ye(n)&&n.nodeType===1&&!It(n)},$o=function(){function a(n,e){E(this,a),this._config={},e&&this.define(nn(e)),n&&this._setObjectToTarget(this._config,n)}return C(a,[{key:"set",value:function(e,r){this._setToTarget(this._config,e,r)}},{key:"define",value:function(e,r){this._setToTarget(this._config,e,r,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:N.mark(function n(){var e,r,t;return N.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=0,r=Object.keys(this._config);case 1:if(!(e<r.length)){o.next=8;break}return t=r[e],o.next=5,t;case 5:e++,o.next=1;break;case 8:case"end":return o.stop()}},n,this)})},{key:"_setToTarget",value:function(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(It(r))return void this._setObjectToTarget(e,r,i);var o=r.split(".");r=o.pop();var s=y(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;It(e[u])||(e[u]={}),e=e[u]}}catch(d){s.e(d)}finally{s.f()}if(It(t))return It(e[r])||(e[r]={}),e=e[r],void this._setObjectToTarget(e,t,i);i&&e[r]!==void 0||(e[r]=t)}},{key:"_getFromSource",value:function(e,r){var t=r.split(".");r=t.pop();var i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!It(e[s])){e=null;break}e=e[s]}}catch(l){i.e(l)}finally{i.f()}return e?nn(e[r]):void 0}},{key:"_setObjectToTarget",value:function(e,r,t){var i=this;Object.keys(r).forEach(function(o){i._setToTarget(e,o,r[o],t)})}}]),a}();function nn(a){return Go(a,uo)}function uo(a){return ni(a)?a:void 0}var As=function(){return function n(){n.called=!0}},za=function a(n,e){E(this,a),this.source=n,this.name=e,this.path=[],this.stop=As(),this.off=As()},Vn=new Array(256).fill().map(function(a,n){return("0"+n.toString(16)).slice(-2)});function ii(){var a=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Vn[a>>0&255]+Vn[a>>8&255]+Vn[a>>16&255]+Vn[a>>24&255]+Vn[n>>0&255]+Vn[n>>8&255]+Vn[n>>16&255]+Vn[n>>24&255]+Vn[e>>0&255]+Vn[e>>8&255]+Vn[e>>16&255]+Vn[e>>24&255]+Vn[r>>0&255]+Vn[r>>8&255]+Vn[r>>16&255]+Vn[r>>24&255]}var co={get:function(n){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},pe=(B(6),B(0)),bi=Symbol("listeningTo"),fo=Symbol("emitterId"),an={on:function(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.listenTo(this,n,e,r)},once:function(n,e,r){var t=!1;this.listenTo(this,n,function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];t||(t=!0,i.off(),e.call.apply(e,[this,i].concat(s)))},r)},off:function(n,e){this.stopListening(this,n,e)},listenTo:function(n,e,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i,o;this[bi]||(this[bi]={});var s=this[bi];ho(n)||Ss(n);var l=ho(n);(i=s[l])||(i=s[l]={emitter:n,callbacks:{}}),(o=i.callbacks[e])||(o=i.callbacks[e]=[]),o.push(r),function(A,F){var G=Ua(A);if(!G[F]){for(var Q=F,q=null,be=[];Q!==""&&!G[Q];)G[Q]={callbacks:[],childEvents:[]},be.push(G[Q]),q&&G[Q].childEvents.push(q),q=Q,Q=Q.substr(0,Q.lastIndexOf(":"));if(Q!==""){var Se=y(be),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var Ue=Ie.value;Ue.callbacks=G[Q].callbacks.slice()}}catch(ot){Se.e(ot)}finally{Se.f()}G[Q].childEvents.push(q)}}}(n,e);var u=Wa(n,e),d=co.get(t.priority),v={callback:r,priority:d},g=y(u),m;try{for(g.s();!(m=g.n()).done;){for(var _=m.value,O=!1,P=0;P<_.length;P++)if(_[P].priority<d){_.splice(P,0,v),O=!0;break}O||_.push(v)}}catch(A){g.e(A)}finally{g.f()}},stopListening:function(n,e,r){var t=this[bi],i=n&&ho(n),o=t&&i&&t[i],s=o&&e&&o.callbacks[e];if(!(!t||n&&!o||e&&!s))if(r)vo(n,e,r);else if(s){for(;r=s.pop();)vo(n,e,r);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(n,e);delete t[i]}else{for(i in t)this.stopListening(t[i].emitter);delete this[bi]}},fire:function(n){try{for(var e=n instanceof za?n:new za(this,n),r=e.name,t=function g(m,_){var O;return!m._events||!(O=m._events[_])||!O.callbacks.length?_.indexOf(":")>-1?g(m,_.substr(0,_.lastIndexOf(":"))):null:O.callbacks}(this,r),i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(e.path.push(this),t){var l=[e].concat(o);t=Array.from(t);for(var u=0;u<t.length&&(t[u].callback.apply(this,l),e.off.called&&(delete e.off.called,vo(this,r,t[u].callback)),!e.stop.called);u++);}if(this._delegations){var d=this._delegations.get(r),v=this._delegations.get("*");d&&Sn(d,e,o),v&&Sn(v,e,o)}return e.return}catch(g){pe.b.rethrowUnexpectedError(g,this)}},delegate:function(){for(var n=this,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return{to:function(o,s){n._delegations||(n._delegations=new Map),r.forEach(function(l){var u=n._delegations.get(l);u?u.set(o,s):n._delegations.set(l,new Map([[o,s]]))})}}},stopDelegating:function(n,e){if(this._delegations)if(n)if(e){var r=this._delegations.get(n);r&&r.delete(e)}else this._delegations.delete(n);else this._delegations.clear()}};function Ss(a,n){a[fo]||(a[fo]=n||ii())}function ho(a){return a[fo]}function Ua(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function Wa(a,n){var e=Ua(a)[n];if(!e)return[];for(var r=[e.callbacks],t=0;t<e.childEvents.length;t++){var i=Wa(a,e.childEvents[t]);r=r.concat(i)}return r}function Sn(a,n,e){var r=y(a),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=K(i,2),s=o[0],l=o[1];l?typeof l=="function"&&(l=l(n.name)):l=n.name;var u=new za(n.source,l);u.path=U(n.path),s.fire.apply(s,[u].concat(U(e)))}}catch(d){r.e(d)}finally{r.f()}}function vo(a,n,e){var r=Wa(a,n),t=y(r),i;try{for(t.s();!(i=t.n()).done;)for(var o=i.value,s=0;s<o.length;s++)o[s].callback==e&&(o.splice(s,1),s--)}catch(l){t.e(l)}finally{t.f()}}function Zn(a){return!(!a||!a[Symbol.iterator])}function Zt(a){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];e.forEach(function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(i){if(!(i in a.prototype)){var o=Object.getOwnPropertyDescriptor(t,i);o.enumerable=!1,Object.defineProperty(a.prototype,i,o)}})})}var jn=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E(this,a);var r=Zn(n);if(r||(e=n),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r){var t=y(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}}catch(s){t.e(s)}finally{t.f()}}}return C(a,[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(e,r){var t=this._getItemIdBeforeAdding(e);if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new pe.b("collection-add-item-invalid-index",this);return this._items.splice(r,0,e),this._itemMap.set(t,e),this.fire("add",e,r),this}},{key:"get",value:function(e){var r;if(typeof e=="string")r=this._itemMap.get(e);else{if(typeof e!="number")throw new pe.b("collection-get-invalid-arg: Index or id must be given.",this);r=this._items[e]}return r||null}},{key:"has",value:function(e){if(typeof e=="string")return this._itemMap.has(e);{var r=e[this._idProperty];return this._itemMap.has(r)}}},{key:"getIndex",value:function(e){var r;return r=typeof e=="string"?this._itemMap.get(e):e,this._items.indexOf(r)}},{key:"remove",value:function(e){var r,t,i,o=!1,s=this._idProperty;if(typeof e=="string"?(t=e,i=this._itemMap.get(t),o=!i,i&&(r=this._items.indexOf(i))):typeof e=="number"?(r=e,i=this._items[r],o=!i,i&&(t=i[s])):(i=e,t=i[s],r=this._items.indexOf(i),o=r==-1||!this._itemMap.get(t)),o)throw new pe.b("collection-remove-404: Item not found.",this);this._items.splice(r,1),this._itemMap.delete(t);var l=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(l),this.fire("remove",i,r),i}},{key:"map",value:function(e,r){return this._items.map(e,r)}},{key:"find",value:function(e,r){return this._items.find(e,r)}},{key:"filter",value:function(e,r){return this._items.filter(e,r)}},{key:"clear",value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:"bindTo",value:function(e){var r=this;if(this._bindToCollection)throw new pe.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:function(i){r._setUpBindToBinding(function(o){return new i(o)})},using:function(i){typeof i=="function"?r._setUpBindToBinding(function(o){return i(o)}):r._setUpBindToBinding(function(o){return o[i]})}}}},{key:"_setUpBindToBinding",value:function(e){var r=this,t=this._bindToCollection,i=function(d,v,g){var m=t._bindToCollection==r,_=t._bindToInternalToExternalMap.get(v);if(m&&_)r._bindToExternalToInternalMap.set(v,_),r._bindToInternalToExternalMap.set(_,v);else{var O=e(v);if(!O)return void r._skippedIndexesFromExternal.push(g);var P=g,A=y(r._skippedIndexesFromExternal),F;try{for(A.s();!(F=A.n()).done;){var G=F.value;g>G&&P--}}catch(Ie){A.e(Ie)}finally{A.f()}var Q=y(t._skippedIndexesFromExternal),q;try{for(Q.s();!(q=Q.n()).done;){var be=q.value;P>=be&&P++}}catch(Ie){Q.e(Ie)}finally{Q.f()}r._bindToExternalToInternalMap.set(v,O),r._bindToInternalToExternalMap.set(O,v),r.add(O,P);for(var Se=0;Se<t._skippedIndexesFromExternal.length;Se++)P<=t._skippedIndexesFromExternal[Se]&&t._skippedIndexesFromExternal[Se]++}},o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i(0,l,t.getIndex(l))}}catch(u){o.e(u)}finally{o.f()}this.listenTo(t,"add",i),this.listenTo(t,"remove",function(u,d,v){var g=r._bindToExternalToInternalMap.get(d);g&&r.remove(g),r._skippedIndexesFromExternal=r._skippedIndexesFromExternal.reduce(function(m,_){return v<_&&m.push(_-1),v>_&&m.push(_),m},[])})}},{key:"_getItemIdBeforeAdding",value:function(e){var r=this._idProperty,t;if(r in e){if(t=e[r],typeof t!="string")throw new pe.b("collection-add-invalid-id",this);if(this.get(t))throw new pe.b("collection-add-item-already-exists",this)}else e[r]=t=ii();return t}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}}]),a}();Zt(jn,an);var Si=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];E(this,a),this._context=n,this._plugins=new Map,this._availablePlugins=new Map;var t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.pluginName&&this._availablePlugins.set(o.pluginName,o)}}catch(m){t.e(m)}finally{t.f()}this._contextPlugins=new Map;var s=y(r),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=K(u,2),v=d[0],g=d[1];this._contextPlugins.set(v,g),this._contextPlugins.set(g,v),v.pluginName&&this._availablePlugins.set(v.pluginName,v)}}catch(m){s.e(m)}finally{s.f()}}return C(a,[{key:Symbol.iterator,value:N.mark(function n(){var e,r,t;return N.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=y(this._plugins),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=11;break}if(t=r.value,o.t0=typeof t[0]=="function",!o.t0){o.next=9;break}return o.next=9,t;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),e.e(o.t1);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},n,this,[[1,13,16,19]])})},{key:"get",value:function(e){var r=this._plugins.get(e);if(!r){var t="plugincollection-plugin-not-loaded: The requested plugin is not loaded.",i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new pe.b(t,this._context,{plugin:i})}return r}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=this,i=this._context,o=new Set,s=[],l=O(e),u=O(r),d=function(P){var A=[],F=y(P),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;_(Q)||A.push(Q)}}catch(q){F.e(q)}finally{F.f()}return A.length?A:null}(e);if(d){var v="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(pe.a)(v),{plugins:d}),Promise.reject(new pe.b(v,i,{plugins:d}))}return Promise.all(l.map(g)).then(function(){return m(s,"init")}).then(function(){return m(s,"afterInit")}).then(function(){return s});function g(P){if(!u.includes(P)&&!t._plugins.has(P)&&!o.has(P))return function(A){return new Promise(function(F){o.add(A),A.requires&&A.requires.forEach(function(Q){var q=_(Q);if(A.isContextPlugin&&!q.isContextPlugin)throw new pe.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:q.name,requiredBy:A.name});if(r.includes(q))throw new pe.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:q.name,requiredBy:A.name});g(q)});var G=t._contextPlugins.get(A)||new A(i);t._add(A,G),s.push(G),F()})}(P).catch(function(A){throw console.error(Object(pe.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:P}),A})}function m(P,A){return P.reduce(function(F,G){return G[A]?t._contextPlugins.has(G)?F:F.then(G[A].bind(G)):F},Promise.resolve())}function _(P){return typeof P=="function"?P:t._availablePlugins.get(P)}function O(P){return P.map(function(A){return _(A)}).filter(function(A){return!!A})}}},{key:"destroy",value:function(){var e=[],r=y(this),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=K(i,2),s=o[1];typeof s.destroy!="function"||this._contextPlugins.has(s)||e.push(s.destroy())}}catch(l){r.e(l)}finally{r.f()}return Promise.all(e)}},{key:"_add",value:function(e,r){this._plugins.set(e,r);var t=e.pluginName;if(t){if(this._plugins.has(t))throw new pe.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:t,plugin1:this._plugins.get(t).constructor,plugin2:e});this._plugins.set(t,r)}}}]),a}();function Ts(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(typeof e!="number")throw new pe.b("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:e});var r=Object.keys(window.CKEDITOR_TRANSLATIONS).length;r===1&&(a=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var t=n.id||n.string;if(r===0||!function(l,u){return!!window.CKEDITOR_TRANSLATIONS[l]&&!!window.CKEDITOR_TRANSLATIONS[l].dictionary[u]}(a,t))return e!==1?n.plural:n.string;var i=window.CKEDITOR_TRANSLATIONS[a].dictionary,o=window.CKEDITOR_TRANSLATIONS[a].getPluralForm||function(l){return l===1?0:1};if(typeof i[t]=="string")return i[t];var s=Number(o(e));return i[t][s]}Zt(Si,an),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var _e=["ar","fa","he","ku","ug"],R=function(){function a(){var n=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,a),this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=te(this.uiLanguage),this.contentLanguageDirection=te(this.contentLanguage),this.t=function(r,t){return n._t(r,t)}}return C(a,[{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}},{key:"_t",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Array.isArray(r)||(r=[r]),typeof e=="string"&&(e={string:e});var t=e.plural?r[0]:1;return function(i,o){return i.replace(/%(\d+)/g,function(s,l){return l<o.length?o[l]:s})}(Ts(this.uiLanguage,e,t),r)}}]),a}();function te(a){return _e.includes(a)?"rtl":"ltr"}var ce=function(){function a(n){E(this,a),this.config=new $o(n,this.constructor.defaultConfig);var e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Si(this,e);var r=this.config.get("language")||{};this.locale=new R({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new jn,this._contextOwner=null}return C(a,[{key:"initPlugins",value:function(){var e=this.config.get("plugins")||[],r=y(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(typeof i!="function")throw new pe.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new pe.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:i})}}catch(o){r.e(o)}finally{r.f()}return this.plugins.init(e)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,function(r){return r.destroy()})).then(function(){return e.plugins.destroy()})}},{key:"_addEditor",value:function(e,r){if(this._contextOwner)throw new pe.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(e),r&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e={},r=y(this.config.names()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i))}}catch(o){r.e(o)}finally{r.f()}return e}}],[{key:"create",value:function(e){var r=this;return new Promise(function(t){var i=new r(e);t(i.initPlugins().then(function(){return i}))})}}]),a}();function ie(a,n){for(var e=Math.min(a.length,n.length),r=0;r<e;r++)if(a[r]!=n[r])return r;return a.length==n.length?"same":a.length<n.length?"prefix":"extension"}var Ne=function(n){return Cs(n,4)},qe=function(){function a(n){E(this,a),this.document=n,this.parent=null}return C(a,[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new pe.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],r=this;r.parent;)e.unshift(r.index),r=r.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this:this.parent;t;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}},{key:"getCommonAncestor",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.getAncestors(r),i=e.getAncestors(r),o=0;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var r=this.getPath(),t=e.getPath(),i=ie(r,t);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<t[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,r){this.fire("change:"+e,r),this.parent&&this.parent._fireChange(e,r)}},{key:"toJSON",value:function(){var e=Ne(this);return delete e.parent,e}},{key:"is",value:function(e){return e==="node"||e==="view:node"}}]),a}();Zt(qe,an);var Je=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i._textData=t,i}return C(e,[{key:"is",value:function(t){return t==="text"||t==="view:text"||t==="node"||t==="view:node"}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}},{key:"isSimilar",value:function(t){return t instanceof e&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new e(this.document,this.data)}}]),e}(qe),_t=function(){function a(n,e,r){if(E(this,a),this.textNode=n,e<0||e>n.data.length)throw new pe.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(r<0||e+r>n.data.length)throw new pe.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=n.data.substring(e,e+r),this.offsetInText=e}return C(a,[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"is",value:function(e){return e==="textProxy"||e==="view:textProxy"}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this.textNode:this.parent;t!==null;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}}]),a}();function fr(a){return Zn(a)?new Map(a):function(n){var e=new Map;for(var r in n)e.set(r,n[r]);return e}(a)}var hr=function(){function a(){E(this,a),this._patterns=[],this.add.apply(this,arguments)}return C(a,[{key:"add",value:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var i=0,o=r;i<o.length;i++){var s=o[i];(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),s.classes&&(typeof s.classes=="string"||s.classes instanceof RegExp)&&(s.classes=[s.classes]),this._patterns.push(s)}}},{key:"match",value:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var i=0,o=r;i<o.length;i++){var s=o[i],l=y(this._patterns),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=yi(s,d);if(v)return{element:s,pattern:d,match:v}}}catch(g){l.e(g)}finally{l.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];for(var o=0,s=t;o<s.length;o++){var l=s[o],u=y(this._patterns),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=yi(l,v);g&&e.push({element:l,pattern:v,match:g})}}catch(m){u.e(m)}finally{u.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(this._patterns.length!==1)return null;var e=this._patterns[0],r=e.name;return typeof e=="function"||!r||r instanceof RegExp?null:r}}]),a}();function yi(a,n){if(typeof n=="function")return n(a);var e={};return n.name&&(e.name=function(r,t){return r instanceof RegExp?r.test(t):r===t}(n.name,a.name),!e.name)||n.attributes&&(e.attributes=function(r,t){var i=[];for(var o in r){var s=r[o];if(!t.hasAttribute(o))return null;{var l=t.getAttribute(o);if(s===!0)i.push(o);else if(s instanceof RegExp){if(!s.test(l))return null;i.push(o)}else{if(l!==s)return null;i.push(o)}}}return i}(n.attributes,a),!e.attributes)?null:!(n.classes&&(e.classes=function(r,t){var i=[],o=y(r),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l instanceof RegExp){var u=t.getClassNames(),d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;l.test(g)&&i.push(g)}}catch(m){d.e(m)}finally{d.f()}if(i.length===0)return null}else{if(!t.hasClass(l))return null;i.push(l)}}}catch(m){o.e(m)}finally{o.f()}return i}(n.classes,a),!e.classes))&&!(n.styles&&(e.styles=function(r,t){var i=[];for(var o in r){var s=r[o];if(!t.hasStyle(o))return null;{var l=t.getStyle(o);if(s instanceof RegExp){if(!s.test(l))return null;i.push(o)}else{if(l!==s)return null;i.push(o)}}}return i}(n.styles,a),!e.styles))&&e}var Fn=function(n){return typeof n=="symbol"||Ye(n)&&Wt(n)=="[object Symbol]"},Ti=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mi=/^\w*$/,Ha=function(n,e){if(br(n))return!1;var r=typeof n;return!(r!="number"&&r!="symbol"&&r!="boolean"&&n!=null&&!Fn(n))||Mi.test(n)||!Ti.test(n)||e!=null&&n in Object(e)};function Yn(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var e=function r(){var t=arguments,i=n?n.apply(this,t):t[0],o=r.cache;if(o.has(i))return o.get(i);var s=a.apply(this,t);return r.cache=o.set(i,s)||o,s};return e.cache=new(Yn.Cache||ke),e}Yn.Cache=ke;var ai=Yn,Ms=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yo=/\\(\\)?/g,Ln=function(a){var n=ai(a,function(r){return e.size===500&&e.clear(),r}),e=n.cache;return n}(function(a){var n=[];return a.charCodeAt(0)===46&&n.push(""),a.replace(Ms,function(e,r,t,i){n.push(t?i.replace(Yo,"$1"):r||e)}),n}),ci=function(n,e){for(var r=-1,t=n==null?0:n.length,i=Array(t);++r<t;)i[r]=e(n[r],r,n);return i},po=Fe?Fe.prototype:void 0,Ec=po?po.toString:void 0,Cc=function a(n){if(typeof n=="string")return n;if(br(n))return ci(n,a)+"";if(Fn(n))return Ec?Ec.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},Is=function(n){return n==null?"":Cc(n)},Ul=function(n,e){return br(n)?n:Ha(n,e)?[n]:Ln(Is(n))},Rs=function(n){var e=n==null?0:n.length;return e?n[e-1]:void 0},Wl=function(n){if(typeof n=="string"||Fn(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},Hl=function(n,e){for(var r=0,t=(e=Ul(e,n)).length;n!=null&&r<t;)n=n[Wl(e[r++])];return r&&r==t?n:void 0},dv=function(n,e,r){var t=-1,i=n.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++t<i;)o[t]=n[t+e];return o},fv=function(n,e){return e.length<2?n:Hl(n,dv(e,0,-1))},Kl=function(n,e){return e=Ul(e,n),(n=fv(n,e))==null||delete n[Wl(Rs(e))]},ir=function(n,e){return n==null||Kl(n,e)},js=function(n,e,r){var t=n==null?void 0:Hl(n,e);return t===void 0?r:t},Qo=function(n,e,r){(r!==void 0&&!pr(n[e],r)||r===void 0&&!(e in n))&&$t(n,e,r)},hv=function(a){return function(n,e,r){for(var t=-1,i=Object(n),o=r(n),s=o.length;s--;){var l=o[a?s:++t];if(e(i[l],l,i)===!1)break}return n}}(),vv=function(n){return Ye(n)&&Dr(n)},Ds=function(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]},Ac=function(n){return Vt(n,dr(n))},Jo=function(n,e,r,t,i,o,s){var l=Ds(n,r),u=Ds(e,r),d=s.get(u);if(d)Qo(n,r,d);else{var v=o?o(l,u,r+"",n,e,s):void 0,g=v===void 0;if(g){var m=br(u),_=!m&&Object(or.a)(u),O=!m&&!_&&Kt(u);v=u,m||_||O?br(l)?v=l:vv(l)?v=Ui(l):_?(g=!1,v=Object(gn.a)(u,!0)):O?(g=!1,v=Nr(u,!0)):v=[]:It(u)||Lr(u)?(v=l,Lr(l)?v=Ac(l):Ve(l)&&!lt(l)||(v=ha(u))):g=!1}g&&(s.set(u,v),i(v,u,t,o,s),s.delete(u)),Qo(n,r,v)}},pv=function a(n,e,r,t,i){n!==e&&hv(e,function(o,s){if(i||(i=new tt),Ve(o))Jo(n,e,s,r,a,t,i);else{var l=t?t(Ds(n,s),o,s+"",n,e,i):void 0;l===void 0&&(l=o),Qo(n,s,l)}},dr)},Sc=function(n){return n},gv=function(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)},Gl=Math.max,mv=function(n,e,r){return e=Gl(e===void 0?n.length-1:e,0),function(){for(var t=arguments,i=-1,o=Gl(t.length-e,0),s=Array(o);++i<o;)s[i]=t[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=t[i];return l[e]=r(s),gv(n,this,l)}},bv=function(n){return function(){return n}},$l=rt?function(a,n){return rt(a,"toString",{configurable:!0,enumerable:!1,value:bv(n),writable:!0})}:Sc,yv=Date.now,wv=function(a){var n=0,e=0;return function(){var r=yv(),t=16-(r-e);if(e=r,t>0){if(++n>=800)return arguments[0]}else n=0;return a.apply(void 0,arguments)}}($l),kv=function(n,e){return wv(mv(n,e,Sc),n+"")},_v=function(n,e,r){if(!Ve(r))return!1;var t=typeof e;return!!(t=="number"?Dr(r)&&Yr(e,r.length):t=="string"&&e in r)&&pr(r[e],n)},Tc=function(n){return kv(function(e,r){var t=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&_v(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++t<i;){var l=r[t];l&&n(e,l,t,o)}return e})},Mc=Tc(function(a,n,e){pv(a,n,e)}),Ic=function(n,e,r,t){if(!Ve(n))return n;for(var i=-1,o=(e=Ul(e,n)).length,s=o-1,l=n;l!=null&&++i<o;){var u=Wl(e[i]),d=r;if(i!=s){var v=l[u];(d=t?t(v,u,l):void 0)===void 0&&(d=Ve(v)?v:Yr(e[i+1])?[]:{})}qt(l,u,d),l=l[u]}return n},xv=function(n,e,r){return n==null?n:Ic(n,e,r)},Ov=function(){function a(n){E(this,a),this._styles={},this._styleProcessor=n}return C(a,[{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(e){this.clear();for(var r=Array.from(function(d){var v=null,g=0,m=0,_=null,O=new Map;if(d==="")return O;d.charAt(d.length-1)!=";"&&(d+=";");for(var P=0;P<d.length;P++){var A=d.charAt(P);if(v===null)switch(A){case":":_||(_=d.substr(g,P-g),m=P+1);break;case'"':case"'":v=A;break;case";":{var F=d.substr(m,P-m);_&&O.set(_.trim(),F.trim()),_=null,g=P+1;break}}else A===v&&(v=null)}return O}(e).entries()),t=0,i=r;t<i.length;t++){var o=i[t],s=K(o,2),l=s[0],u=s[1];this._styleProcessor.toNormalizedForm(l,u,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var r=this._styleProcessor.getReducedForm(e,this._styles).find(function(t){var i=K(t,1),o=i[0];return o===e});return Array.isArray(r)}},{key:"set",value:function(e,r){if(Ve(e))for(var t=0,i=Object.entries(e);t<i.length;t++){var o=i[t],s=K(o,2),l=s[0],u=s[1];this._styleProcessor.toNormalizedForm(l,u,this._styles)}else this._styleProcessor.toNormalizedForm(e,r,this._styles)}},{key:"remove",value:function(e){var r=Yl(e);ir(this._styles,r),delete this._styles[e],this._cleanEmptyObjectsOnPath(r)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(e){return e.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!Ve(this._styles[e]))return this._styles[e];var r=this._styleProcessor.getReducedForm(e,this._styles).find(function(t){var i=K(t,1),o=i[0];return o===e});return Array.isArray(r)?r[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map(function(e){var r=K(e,1),t=r[0];return t})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],r=Object.keys(this._styles),t=0,i=r;t<i.length;t++){var o=i[t];e.push.apply(e,U(this._styleProcessor.getReducedForm(o,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var r=e.split(".");if(r.length>1){var t=r.splice(0,r.length-1).join("."),i=js(this._styles,t);!i||!Array.from(Object.keys(i)).length&&this.remove(t)}}}]),a}(),Pv=function(){function a(){E(this,a),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return C(a,[{key:"toNormalizedForm",value:function(e,r,t){if(Ve(r))Ql(t,Yl(e),r);else if(this._normalizers.has(e)){var i=this._normalizers.get(e),o=i(r),s=o.path,l=o.value;Ql(t,s,l)}else Ql(t,e,r)}},{key:"getNormalized",value:function(e,r){if(!e)return Mc({},r);if(r[e]!==void 0)return r[e];if(this._extractors.has(e)){var t=this._extractors.get(e);if(typeof t=="string")return js(r,t);var i=t(e,r);if(i)return i}return js(r,Yl(e))}},{key:"getReducedForm",value:function(e,r){var t=this.getNormalized(e,r);return t===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(t):[[e,t]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,r){this._normalizers.set(e,r)}},{key:"setExtractor",value:function(e,r){this._extractors.set(e,r)}},{key:"setReducer",value:function(e,r){this._reducers.set(e,r)}},{key:"setStyleRelation",value:function(e,r){this._mapStyleNames(e,r);var t=y(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._mapStyleNames(o,[e])}}catch(s){t.e(s)}finally{t.f()}}},{key:"_mapStyleNames",value:function(e,r){var t;this._consumables.has(e)||this._consumables.set(e,[]),(t=this._consumables.get(e)).push.apply(t,U(r))}}]),a}();function Yl(a){return a.replace("-",".")}function Ql(a,n,e){var r=e;Ve(e)&&(r=Mc({},js(a,n),e)),xv(a,n,r)}var Qi=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;if(E(this,e),s=n.call(this,r),s.name=t,s._attrs=function(u){u=fr(u);var d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value,m=K(g,2),_=m[0],O=m[1];O===null?u.delete(_):typeof O!="string"&&u.set(_,String(O))}}catch(P){d.e(P)}finally{d.f()}return u}(i),s._children=[],o&&s._insertChild(0,o),s._classes=new Set,s._attrs.has("class")){var l=s._attrs.get("class");Mr(s._classes,l),s._attrs.delete("class")}return s._styles=new Ov(s.document.stylesProcessor),s._attrs.has("style")&&(s._styles.setTo(s._attrs.get("style")),s._attrs.delete("style")),s._customProperties=new Map,H(s)}return C(e,[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this._children.length===0}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="element"||t==="view:element"):t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:N.mark(function r(){return N.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this._classes.size>0,!i.t0){i.next=4;break}return i.next=4,"class";case 4:if(i.t1=this._styles.isEmpty,i.t1){i.next=8;break}return i.next=8,"style";case 8:return i.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return i.stop()}},r,this)})},{key:"getAttributes",value:N.mark(function r(){return N.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._attrs.entries(),"t0",1);case 1:if(i.t1=this._classes.size>0,!i.t1){i.next=5;break}return i.next=5,["class",this.getAttribute("class")];case 5:if(i.t2=this._styles.isEmpty,i.t2){i.next=9;break}return i.next=9,["style",this.getAttribute("style")];case 9:case"end":return i.stop()}},r,this)})},{key:"getAttribute",value:function(t){if(t=="class")return this._classes.size>0?U(this._classes).join(" "):void 0;if(t=="style"){var i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof e))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var i=y(this._attrs),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=K(s,2),u=l[0],d=l[1];if(!t._attrs.has(u)||t._attrs.get(u)!==d)return!1}}catch(A){i.e(A)}finally{i.f()}var v=y(this._classes),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;if(!t._classes.has(m))return!1}}catch(A){v.e(A)}finally{v.f()}var _=y(this._styles.getStyleNames()),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;if(!t._styles.has(P)||t._styles.getAsString(P)!==this._styles.getAsString(P))return!1}}catch(A){_.e(A)}finally{_.f()}return!0}},{key:"hasClass",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=0,l=i;s<l.length;s++){var u=l[s];if(!this._classes.has(u))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=0,l=i;s<l.length;s++){var u=l[s];if(!this._styles.has(u))return!1}return!0}},{key:"findAncestor",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=ne(hr,i),l=this.parent;l;){if(s.match(l))return l;l=l.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:N.mark(function r(){return N.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return i.stop()}},r,this)})},{key:"getIdentity",value:function(){var t=Array.from(this._classes).sort().join(","),i=this._styles.toString(),o=Array.from(this._attrs).map(function(s){return"".concat(s[0],'="').concat(s[1],'"')}).sort().join(" ");return this.name+(t==""?"":' class="'.concat(t,'"'))+(i?' style="'.concat(i,'"'):"")+(o==""?"":" "+o)}},{key:"_clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=[];if(t){var o=y(this.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.push(l._clone(t))}}catch(d){o.e(d)}finally{o.f()}}var u=new this.constructor(this.document,this.name,this._attrs,i);return u._classes=new Set(this._classes),u._styles.set(this._styles.getNormalized()),u._customProperties=new Map(this._customProperties),u.getFillerOffset=this.getFillerOffset,u}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,i){this._fireChange("children",this);var o=0,s=function(v,g){return typeof g=="string"?[new Je(v,g)]:(Zn(g)||(g=[g]),Array.from(g).map(function(m){return typeof m=="string"?new Je(v,m):m instanceof _t?new Je(v,m.data):m}))}(this.document,i),l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(t,0,d),t++,o++}}catch(v){l.e(v)}finally{l.f()}return o}},{key:"_removeChildren",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var o=t;o<t+i;o++)this._children[o].parent=null;return this._children.splice(t,i)}},{key:"_setAttribute",value:function(t,i){i=String(i),this._fireChange("attributes",this),t=="class"?Mr(this._classes,i):t=="style"?this._styles.setTo(i):this._attrs.set(t,i)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._classes.add(o)})}},{key:"_removeClass",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._classes.delete(o)})}},{key:"_setStyle",value:function(t,i){this._fireChange("attributes",this),this._styles.set(t,i)}},{key:"_removeStyle",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._styles.remove(o)})}},{key:"_setCustomProperty",value:function(t,i){this._customProperties.set(t,i)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}}]),e}(qe);function Mr(a,n){var e=n.split(/\s+/);a.clear(),e.forEach(function(r){return a.add(r)})}var Ns=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=Rc,s}return C(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}}]),e}(Qi);function Rc(){var a=U(this.getChildren()),n=a[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;var e=y(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(!t.is("uiElement"))return null}}catch(i){e.e(i)}finally{e.f()}return this.childCount}var go=Tc(function(a,n){Vt(n,dr(n),a)}),Zo=Symbol("observableProperties"),Fs=Symbol("boundObservables"),Ls=Symbol("boundProperties"),Ka={set:function(n,e){var r=this;if(Ve(n))return void Object.keys(n).forEach(function(i){r.set(i,n[i])},this);pt(this);var t=this[Zo];if(n in this&&!t.has(n))throw new pe.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:function(){return t.get(n)},set:function(o){var s=t.get(n),l=this.fire("set:"+n,n,o,s);l===void 0&&(l=o),s===l&&t.has(n)||(t.set(n,l),this.fire("change:"+n,n,l,s))}}),this[n]=e},bind:function(){for(var n=this,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(!r.length||!jc(r))throw new pe.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(r).size!==r.length)throw new pe.b("observable-bind-duplicate-properties: Properties must be unique.",this);pt(this);var i=this[Ls];r.forEach(function(s){if(i.has(s))throw new pe.b("observable-bind-rebind: Cannot bind the same property more than once.",n)});var o=new Map;return r.forEach(function(s){var l={property:s,to:[]};i.set(s,l),o.set(s,l)}),{to:Ev,toMany:Cv,_observable:this,_bindProperties:r,_to:[],_bindings:o}},unbind:function(){var n=this;if(!!this[Zo]){for(var e=this[Ls],r=this[Fs],t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(i.length){if(!jc(i))throw new pe.b("observable-unbind-wrong-properties: Properties must be strings.",this);i.forEach(function(s){var l=e.get(s);if(!!l){var u,d,v,g;l.to.forEach(function(m){u=m[0],d=m[1],v=r.get(u),g=v[d],g.delete(l),g.size||delete v[d],Object.keys(v).length||(r.delete(u),n.stopListening(u,"change"))}),e.delete(s)}})}else r.forEach(function(s,l){n.stopListening(l,"change")}),r.clear(),e.clear()}},decorate:function(n){var e=this,r=this[n];if(!r)throw new pe.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:n});this.on(n,function(t,i){t.return=r.apply(e,i)}),this[n]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.fire(n,i)}}};go(Ka,an);var On=Ka;function pt(a){a[Zo]||(Object.defineProperty(a,Zo,{value:new Map}),Object.defineProperty(a,Fs,{value:new Map}),Object.defineProperty(a,Ls,{value:new Map}))}function Ev(){var a=this,n=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length)throw new pe.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);var l={to:[]},u;return typeof o[o.length-1]=="function"&&(l.callback=o.pop()),o.forEach(function(d){if(typeof d=="string")u.properties.push(d);else{if(typeof d!="object")throw new pe.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);u={observable:d,properties:[]},l.to.push(u)}}),l}.apply(void 0,arguments),e=Array.from(this._bindings.keys()),r=e.length;if(!n.callback&&n.to.length>1)throw new pe.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(r>1&&n.callback)throw new pe.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var t;n.to.forEach(function(i){if(i.properties.length&&i.properties.length!==r)throw new pe.b("observable-bind-to-properties-length: The number of properties must match.",a);i.properties.length||(i.properties=a._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(e[0]).callback=n.callback),t=this._observable,this._to.forEach(function(i){var o=t[Fs],s;o.get(i.observable)||t.listenTo(i.observable,"change",function(l,u){s=o.get(i.observable)[u],s&&s.forEach(function(d){mo(t,d.property)})})}),function(i){var o;i._bindings.forEach(function(s,l){i._to.forEach(function(u){o=u.properties[s.callback?0:i._bindProperties.indexOf(l)],s.to.push([u.observable,o]),function(d,v,g,m){var _=d[Fs],O=_.get(g),P=O||{};P[m]||(P[m]=new Set),P[m].add(v),O||_.set(g,P)}(i._observable,s,u.observable,o)})})}(this),this._bindProperties.forEach(function(i){mo(a._observable,i)})}function Cv(a,n,e){if(this._bindings.size>1)throw new pe.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to.apply(this,U(function(r,t){var i=r.map(function(o){return[o,t]});return Array.prototype.concat.apply([],i)}(a,n)).concat([e]))}function jc(a){return a.every(function(n){return typeof n=="string"})}function mo(a,n){var e=a[Ls].get(n),r;e.callback?r=e.callback.apply(a,e.to.map(function(t){return t[0][t[1]]})):(r=e.to[0],r=r[0][r[1]]),a.hasOwnProperty(n)?a[n]=r:a.set(n,r)}var Bs=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,r,t,i,o),s.set("isReadOnly",!1),s.set("isFocused",!1),s.bind("isReadOnly").to(r),s.bind("isFocused").to(r,"isFocused",function(l){return l&&r.selection.editableElement==b(s)}),s.listenTo(r.selection,"change",function(){s.isFocused=r.isFocused&&r.selection.editableElement==b(s)}),s}return C(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"destroy",value:function(){this.stopListening()}}]),e}(Ns);Zt(Bs,On);var Xo=Symbol("rootName"),Av=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r,t),i.rootName="main",i}return C(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"rootName",get:function(){return this.getCustomProperty(Xo)},set:function(t){this._setCustomProperty(Xo,t)}},{key:"_name",set:function(t){this.name=t}}]),e}(Bs),Ga=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E(this,a),!n.boundaries&&!n.startPosition)throw new pe.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new pe.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this.position=xt._createAt(n.startPosition):this.position=xt._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return C(a,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var r,t,i;do{var o;i=this.position,o=this.next(),r=o.done,t=o.value}while(!r&&e(t));r||(this.position=i)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position.clone(),r=this.position,t=e.parent;if(t.parent===null&&e.offset===t.childCount)return{done:!0};if(t===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var i;if(t instanceof Je){if(e.isAtEnd)return this.position=xt._createAfter(t),this._next();i=t.data[e.offset]}else i=t.getChild(e.offset);if(i instanceof Qi)return this.shallow?e.offset++:e=new xt(i,0),this.position=e,this._formatReturnValue("elementStart",i,r,e,1);if(i instanceof Je){if(this.singleCharacters)return e=new xt(i,0),this.position=e,this._next();{var o,s=i.data.length;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new _t(i,0,s),e=xt._createAfter(o)):(o=new _t(i,0,i.data.length),e.offset++),this.position=e,this._formatReturnValue("text",o,r,e,s)}}if(typeof i=="string"){var l;this.singleCharacters?l=1:l=(t===this._boundaryEndParent?this.boundaries.end.offset:t.data.length)-e.offset;var u=new _t(t,e.offset,l);return e.offset+=l,this.position=e,this._formatReturnValue("text",u,r,e,l)}return e=xt._createAfter(t),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",t,r,e)}},{key:"_previous",value:function(){var e=this.position.clone(),r=this.position,t=e.parent;if(t.parent===null&&e.offset===0)return{done:!0};if(t==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var i;if(t instanceof Je){if(e.isAtStart)return this.position=xt._createBefore(t),this._previous();i=t.data[e.offset-1]}else i=t.getChild(e.offset-1);if(i instanceof Qi)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",i,r,e,1)):(e=new xt(i,i.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,r,e));if(i instanceof Je){if(this.singleCharacters)return e=new xt(i,i.data.length),this.position=e,this._previous();{var o,s=i.data.length;if(i==this._boundaryStartParent){var l=this.boundaries.start.offset;o=new _t(i,l,i.data.length-l),s=o.data.length,e=xt._createBefore(o)}else o=new _t(i,0,i.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",o,r,e,s)}}if(typeof i=="string"){var u;if(this.singleCharacters)u=1;else{var d=t===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-d}e.offset-=u;var v=new _t(t,e.offset,u);return this.position=e,this._formatReturnValue("text",v,r,e,u)}return e=xt._createBefore(t),this.position=e,this._formatReturnValue("elementStart",t,r,e,1)}},{key:"_formatReturnValue",value:function(e,r,t,i,o){return r instanceof _t&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?t=xt._createAfter(r.textNode):(i=xt._createAfter(r.textNode),this.position=i)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?t=xt._createBefore(r.textNode):(i=xt._createBefore(r.textNode),this.position=i))),{done:!1,value:{type:e,item:r,previousPosition:t,nextPosition:i,length:o}}}}]),a}(),xt=function(){function a(n,e){E(this,a),this.parent=n,this.offset=e}return C(a,[{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){var e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof Bs);){if(!e.parent)return null;e=e.parent}return e}},{key:"getShiftedBy",value:function(e){var r=a._createAt(this),t=r.offset+e;return r.offset=t<0?0:t,r}},{key:"getLastMatchingPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.startPosition=this;var t=new Ga(r);return t.skip(e),t.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var r=this.getAncestors(),t=e.getAncestors(),i=0;r[i]==t[i]&&r[i];)i++;return i===0?null:r[i-1]}},{key:"is",value:function(e){return e==="position"||e==="view:position"}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var r=this.parent.is("node")?this.parent.getPath():[],t=e.parent.is("node")?e.parent.getPath():[];r.push(this.offset),t.push(e.offset);var i=ie(r,t);switch(i){case"prefix":return"before";case"extension":return"after";default:return r[i]<t[i]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.startPosition=this,new Ga(e)}},{key:"clone",value:function(){return new a(this.parent,this.offset)}}],[{key:"_createAt",value:function(e,r){if(e instanceof a)return new this(e.parent,e.offset);{var t=e;if(r=="end")r=t.is("text")?t.data.length:t.childCount;else{if(r=="before")return this._createBefore(t);if(r=="after")return this._createAfter(t);if(r!==0&&!r)throw new pe.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",t)}return new a(t,r)}}},{key:"_createAfter",value:function(e){if(e.is("textProxy"))return new a(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new pe.b("view-position-after-root: You can not make position after root.",e,{root:e});return new a(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("textProxy"))return new a(e.textNode,e.offsetInText);if(!e.parent)throw new pe.b("view-position-before-root: You can not make position before root.",e,{root:e});return new a(e.parent,e.index)}}]),a}(),kr=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;E(this,a),this.start=n.clone(),this.end=e?e.clone():n.clone()}return C(a,[{key:Symbol.iterator,value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(new Ga({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(Vs,{direction:"backward"}),r=this.end.getLastMatchingPosition(Vs);return e.parent.is("text")&&e.isAtStart&&(e=xt._createBefore(e.parent)),r.parent.is("text")&&r.isAtEnd&&(r=xt._createAfter(r.parent)),new a(e,r)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(Vs);if(e.isAfter(this.end)||e.isEqual(this.end))return new a(e,e);var r=this.end.getLastMatchingPosition(Vs,{direction:"backward"}),t=e.nodeAfter,i=r.nodeBefore;return t&&t.is("text")&&(e=new xt(t,0)),i&&i.is("text")&&(r=new xt(i,i.data.length)),new a(e,r)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.isCollapsed&&(r=!1);var t=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return t&&i}},{key:"getDifference",value:function(e){var r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new a(this.start,e.start)),this.containsPosition(e.end)&&r.push(new a(e.end,this.end))):r.push(this.clone()),r}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var r=this.start,t=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(t=e.end),new a(r,t)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.boundaries=this,new Ga(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),e&&e.is("element")&&e===r?e:null}},{key:"clone",value:function(){return new a(this.start,this.end)}},{key:"getItems",value:N.mark(function n(){var e,r,t,i,o,s=arguments;return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,r=new Ga(e),t=y(r),u.prev=4,t.s();case 6:if((i=t.n()).done){u.next=12;break}return o=i.value,u.next=10,o.item;case 10:u.next=6;break;case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(4),t.e(u.t0);case 17:return u.prev=17,t.f(),u.finish(17);case 20:case"end":return u.stop()}},n,this,[[4,14,17,20]])})},{key:"getPositions",value:N.mark(function n(){var e,r,t,i,o,s=arguments;return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,r=new Ga(e),u.next=5,r.position;case 5:t=y(r),u.prev=6,t.s();case 8:if((i=t.n()).done){u.next=14;break}return o=i.value,u.next=12,o.nextPosition;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),t.e(u.t0);case 19:return u.prev=19,t.f(),u.finish(19);case 22:case"end":return u.stop()}},n,this,[[6,16,19,22]])})},{key:"is",value:function(e){return e==="range"||e==="view:range"}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}}],[{key:"_createFromParentsAndOffsets",value:function(e,r,t,i){return new this(new xt(e,r),new xt(t,i))}},{key:"_createFromPositionAndShift",value:function(e,r){var t=e,i=e.getShiftedBy(r);return r>0?new this(t,i):new this(i,t)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var r=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(xt._createBefore(e),r)}}]),a}();function Vs(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}function Jl(a){var n=0,e=y(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;n++}}catch(i){e.e(i)}finally{e.f()}return n}var Ji=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;E(this,a),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(n,e,r)}return C(a,[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return this.rangeCount===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:N.mark(function n(){var e,r,t;return N.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=y(this._ranges),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return t=r.value,o.next=7,t.clone();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.start.isBefore(e.start)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var e=null,r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.end.isAfter(e.end)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=!1,s=y(e._ranges),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(i.isEqual(u)){o=!0;break}}}catch(d){s.e(d)}finally{s.f()}if(!o)return!1}}catch(d){r.e(d)}finally{r.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var r=Jl(this.getRanges());if(r!=Jl(e.getRanges()))return!1;if(r==0)return!0;var t=y(this.getRanges()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o=o.getTrimmed();var s=!1,l=y(e.getRanges()),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d=d.getTrimmed(),o.start.isEqual(d.start)&&o.end.isEqual(d.end)){s=!0;break}}}catch(v){l.e(v)}finally{l.f()}if(!s)return!1}}catch(v){t.e(v)}finally{t.f()}return!0}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,r,t){if(e===null)this._setRanges([]),this._setFakeOptions(r);else if(e instanceof a||e instanceof Zl)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof kr)this._setRanges([e],r&&r.backward),this._setFakeOptions(r);else if(e instanceof xt)this._setRanges([new kr(e)]),this._setFakeOptions(r);else if(e instanceof qe){var i=!!t&&!!t.backward,o;if(r===void 0)throw new pe.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o=r=="in"?kr._createIn(e):r=="on"?kr._createOn(e):new kr(xt._createAt(e,r)),this._setRanges([o],i),this._setFakeOptions(t)}else{if(!Zn(e))throw new pe.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(e,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}},{key:"setFocus",value:function(e,r){if(this.anchor===null)throw new pe.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);var t=xt._createAt(e,r);if(t.compareWith(this.focus)!="same"){var i=this.anchor;this._ranges.pop(),t.compareWith(i)=="before"?this._addRange(new kr(t,i),!0):this._addRange(new kr(i,t)),this.fire("change")}}},{key:"is",value:function(e){return e==="selection"||e==="view:selection"}},{key:"_setRanges",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Array.from(e),this._ranges=[];var t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._addRange(o)}}catch(s){t.e(s)}finally{t.f()}this._lastRangeBackward=!!r}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(e instanceof kr))throw new pe.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!r}},{key:"_pushRange",value:function(e){var r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(e.isIntersecting(i))throw new pe.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:i})}}catch(o){r.e(o)}finally{r.f()}this._ranges.push(new kr(e.start,e.end))}}]),a}();Zt(Ji,an);var Zl=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;E(this,a),this._selection=new Ji,this._selection.delegate("change").to(this),this._selection.setTo(n,e,r)}return C(a,[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return e==="selection"||e=="documentSelection"||e=="view:selection"||e=="view:documentSelection"}},{key:"_setTo",value:function(e,r,t){this._selection.setTo(e,r,t)}},{key:"_setFocus",value:function(e,r){this._selection.setFocus(e,r)}}]),a}();Zt(Zl,an);var zs=function(){function a(n){E(this,a),this.selection=new Zl,this.roots=new jn({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return C(a,[{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map(function(e){return e.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(e){var r=!1;do{var t=y(this._postFixers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(r=o(e),r)break}}catch(s){t.e(s)}finally{t.f()}}while(r)}}]),a}();Zt(zs,On);var bo=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=yo,s._priority=10,s._id=null,s._clonesGroup=null,s}return C(e,[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(this.id===null)throw new pe.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"isSimilar",value:function(t){return this.id!==null||t.id!==null?this.id===t.id:M(I(e.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var i=M(I(e.prototype),"_clone",this).call(this,t);return i._priority=this._priority,i._id=this._id,i}}]),e}(Qi);function yo(){if(wo(this))return null;for(var a=this.parent;a&&a.is("attributeElement");){if(wo(a)>1)return null;a=a.parent}return!a||wo(a)>1?null:this.childCount}function wo(a){return Array.from(a.getChildren()).filter(function(n){return!n.is("uiElement")}).length}bo.DEFAULT_PRIORITY=10;var Dc=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=Sv,s}return C(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"_insertChild",value:function(t,i){if(i&&(i instanceof qe||Array.from(i).length>0))throw new pe.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,i])}}]),e}(Qi);function Sv(){return null}var Us=navigator.userAgent.toLowerCase(),Ii={isMac:function(a){return a.indexOf("macintosh")>-1}(Us),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(Us),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(Us),isAndroid:function(a){return a.indexOf("android")>-1}(Us),features:{isRegExpUnicodePropertySupported:function(){var a=!1;try{a="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch(n){}return a}()}},Tv={"\u2318":"ctrl","\u21E7":"shift","\u2325":"alt"},Mv={ctrl:"\u2318",shift:"\u21E7",alt:"\u2325"},tr=function(){for(var a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},n=65;n<=90;n++){var e=String.fromCharCode(n);a[e.toLowerCase()]=n}for(var r=48;r<=57;r++)a[r-48]=r;for(var t=112;t<=123;t++)a["f"+(t-111)]=t;return a}();function Zi(a){var n;if(typeof a=="string"){if(n=tr[a.toLowerCase()],!n)throw new pe.b("keyboard-unknown-key: Unknown key name.",null,{key:a})}else n=a.keyCode+(a.altKey?tr.alt:0)+(a.ctrlKey?tr.ctrl:0)+(a.shiftKey?tr.shift:0);return n}function Ri(a){return typeof a=="string"&&(a=Xi(a)),a.map(function(n){return typeof n=="string"?Zi(n):n}).reduce(function(n,e){return e+n},0)}function Nc(a){return Ii.isMac?Xi(a).map(function(n){return Mv[n.toLowerCase()]||n}).reduce(function(n,e){return n.slice(-1)in Tv?n+e:n+"+"+e}):a}function Xi(a){return a.split(/\s*\+\s*/)}var Xl=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=Rv,s}return C(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"_insertChild",value:function(t,i){if(i&&(i instanceof qe||Array.from(i).length>0))throw new pe.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var i=t.createElement(this.name),o=y(this.getAttributeKeys()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.setAttribute(l,this.getAttribute(l))}}catch(u){o.e(u)}finally{o.f()}return i}}]),e}(Qi);function Iv(a){a.document.on("keydown",function(n,e){return function(r,t,i){if(t.keyCode==tr.arrowright){var o=t.domTarget.ownerDocument.defaultView.getSelection(),s=o.rangeCount==1&&o.getRangeAt(0).collapsed;if(s||t.shiftKey){var l=o.focusNode,u=o.focusOffset,d=i.domPositionToView(l,u);if(d===null)return;var v=!1,g=d.getLastMatchingPosition(function(_){return _.item.is("uiElement")&&(v=!0),!(!_.item.is("uiElement")&&!_.item.is("attributeElement"))});if(v){var m=i.viewPositionToDom(g);s?o.collapse(m.parent,m.offset):o.extend(m.parent,m.offset)}}}}(0,e,a.domConverter)})}function Rv(){return null}var ji=function(){function a(n,e){E(this,a),this.document=n,this._children=[],e&&this._insertChild(0,e)}return C(a,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(e){return e==="documentFragment"||e==="view:documentFragment"}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,r){this._fireChange("children",this);var t=0,i=function(u,d){return typeof d=="string"?[new Je(u,d)]:(Zn(d)||(d=[d]),Array.from(d).map(function(v){return typeof v=="string"?new Je(u,v):v instanceof _t?new Je(u,v.data):v}))}(this.document,r),o=y(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,t++}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"_removeChildren",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var t=e;t<e+r;t++)this._children[t].parent=null;return this._children.splice(e,r)}},{key:"_fireChange",value:function(e,r){this.fire("change:"+e,r)}}]),a}();Zt(ji,an);var Fc=function(){function a(n){E(this,a),this.document=n,this._cloneGroups=new Map}return C(a,[{key:"setSelection",value:function(e,r,t){this.document.selection._setTo(e,r,t)}},{key:"setSelectionFocus",value:function(e,r){this.document.selection._setFocus(e,r)}},{key:"createText",value:function(e){return new Je(this.document,e)}},{key:"createAttributeElement",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new bo(this.document,e,r);return t.priority&&(i._priority=t.priority),t.id&&(i._id=t.id),i}},{key:"createContainerElement",value:function(e,r){return new Ns(this.document,e,r)}},{key:"createEditableElement",value:function(e,r){var t=new Bs(this.document,e,r);return t._document=this.document,t}},{key:"createEmptyElement",value:function(e,r){return new Dc(this.document,e,r)}},{key:"createUIElement",value:function(e,r,t){var i=new Xl(this.document,e,r);return t&&(i.render=t),i}},{key:"setAttribute",value:function(e,r,t){t._setAttribute(e,r)}},{key:"removeAttribute",value:function(e,r){r._removeAttribute(e)}},{key:"addClass",value:function(e,r){r._addClass(e)}},{key:"removeClass",value:function(e,r){r._removeClass(e)}},{key:"setStyle",value:function(e,r,t){It(e)&&t===void 0&&(t=r),t._setStyle(e,r)}},{key:"removeStyle",value:function(e,r){r._removeStyle(e)}},{key:"setCustomProperty",value:function(e,r,t){t._setCustomProperty(e,r)}},{key:"removeCustomProperty",value:function(e,r){return r._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof xt?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var r=e.parent;if(!r.is("containerElement"))throw new pe.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!r.parent)throw new pe.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return xt._createBefore(r);if(!e.isAtEnd){var t=r._clone(!1);this.insert(xt._createAfter(r),t);var i=new kr(e,xt._createAt(r,"end")),o=new xt(t,0);this.move(i,o)}return xt._createAfter(r)}},{key:"mergeAttributes",value:function(e){var r=e.offset,t=e.parent;if(t.is("text"))return e;if(t.is("attributeElement")&&t.childCount===0){var i=t.parent,o=t.index;return t._remove(),this._removeFromClonedElementsGroup(t),this.mergeAttributes(new xt(i,o))}var s=t.getChild(r-1),l=t.getChild(r);if(!s||!l)return e;if(s.is("text")&&l.is("text"))return Vc(s,l);if(s.is("attributeElement")&&l.is("attributeElement")&&s.isSimilar(l)){var u=s.childCount;return s._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new xt(s,u))}return e}},{key:"mergeContainers",value:function(e){var r=e.nodeBefore,t=e.nodeAfter;if(!(r&&t&&r.is("containerElement")&&t.is("containerElement")))throw new pe.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);var i=r.getChild(r.childCount-1),o=i instanceof Je?xt._createAt(i,"end"):xt._createAt(r,"end");return this.move(kr._createIn(t),xt._createAt(r,"end")),this.remove(kr._createOn(t)),o}},{key:"insert",value:function(e,r){(function m(_,O){var P=y(_),A;try{var F=function(){var Q=A.value;if(!Dv.some(function(q){return Q instanceof q}))throw new pe.b("view-writer-insert-invalid-node",O);Q.is("text")||m(Q.getChildren(),O)};for(P.s();!(A=P.n()).done;)F()}catch(G){P.e(G)}finally{P.f()}})(r=Zn(r)?U(r):[r],this.document);var t=ql(e);if(!t)throw new pe.b("view-writer-invalid-position-container",this.document);var i=this._breakAttributes(e,!0),o=t._insertChild(i.offset,r),s=y(r),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;this._addToClonedElementsGroup(u)}}catch(m){s.e(m)}finally{s.f()}var d=i.getShiftedBy(o),v=this.mergeAttributes(i);if(o===0)return new kr(v,v);{v.isEqual(i)||d.offset--;var g=this.mergeAttributes(d);return new kr(v,g)}}},{key:"remove",value:function(e){var r=e instanceof kr?e:kr._createOn(e);if(ko(r,this.document),r.isCollapsed)return new ji(this.document);var t=this._breakAttributesRange(r,!0),i=t.start,o=t.end,s=i.parent,l=o.offset-i.offset,u=s._removeChildren(i.offset,l),d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;this._removeFromClonedElementsGroup(g)}}catch(_){d.e(_)}finally{d.f()}var m=this.mergeAttributes(i);return r.start=m,r.end=m.clone(),new ji(this.document,u)}},{key:"clear",value:function(e,r){ko(e,this.document);var t=e.getWalker({direction:"backward",ignoreElementEnd:!0}),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.item,u=void 0;if(l.is("element")&&r.isSimilar(l))u=kr._createOn(l);else if(!s.nextPosition.isAfter(e.start)&&l.is("textProxy")){var d=l.getAncestors().find(function(v){return v.is("element")&&r.isSimilar(v)});d&&(u=kr._createIn(d))}u&&(u.end.isAfter(e.end)&&(u.end=e.end),u.start.isBefore(e.start)&&(u.start=e.start),this.remove(u))}}catch(v){i.e(v)}finally{i.f()}}},{key:"move",value:function(e,r){var t;if(r.isAfter(e.end)){var i=(r=this._breakAttributes(r,!0)).parent,o=i.childCount;e=this._breakAttributesRange(e,!0),t=this.remove(e),r.offset+=i.childCount-o}else t=this.remove(e);return this.insert(r,t)}},{key:"wrap",value:function(e,r){if(!(r instanceof bo))throw new pe.b("view-writer-wrap-invalid-attribute",this.document);if(ko(e,this.document),e.isCollapsed){var t=e.start;t.parent.is("element")&&(o=t.parent,!Array.from(o.getChildren()).some(function(s){return!s.is("uiElement")}))&&(t=t.getLastMatchingPosition(function(s){return s.item.is("uiElement")})),t=this._wrapPosition(t,r);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(t),new kr(t)}return this._wrapRange(e,r);var o}},{key:"unwrap",value:function(e,r){if(!(r instanceof bo))throw new pe.b("view-writer-unwrap-invalid-attribute",this.document);if(ko(e,this.document),e.isCollapsed)return e;var t=this._breakAttributesRange(e,!0),i=t.start,o=t.end,s=i.parent,l=this._unwrapChildren(s,i.offset,o.offset,r),u=this.mergeAttributes(l.start);u.isEqual(l.start)||l.end.offset--;var d=this.mergeAttributes(l.end);return new kr(u,d)}},{key:"rename",value:function(e,r){var t=new Ns(this.document,e,r.getAttributes());return this.insert(xt._createAfter(r),t),this.move(kr._createIn(r),xt._createAt(t,0)),this.remove(kr._createOn(r)),t}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,r){return xt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return xt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return xt._createBefore(e)}},{key:"createRange",value:function(e,r){return new kr(e,r)}},{key:"createRangeOn",value:function(e){return kr._createOn(e)}},{key:"createRangeIn",value:function(e){return kr._createIn(e)}},{key:"createSelection",value:function(e,r,t){return new Ji(e,r,t)}},{key:"_wrapChildren",value:function(e,r,t,i){for(var o=r,s=[];o<t;){var l=e.getChild(o),u=l.is("text"),d=l.is("attributeElement"),v=l.is("emptyElement"),g=l.is("uiElement");if(d&&this._wrapAttributeElement(i,l))s.push(new xt(e,o));else if(u||v||g||d&&jv(i,l)){var m=i._clone();l._remove(),m._appendChild(l),e._insertChild(o,m),this._addToClonedElementsGroup(m),s.push(new xt(e,o))}else d&&this._wrapChildren(l,0,l.childCount,i);o++}for(var _=0,O=0,P=s;O<P.length;O++){var A=P[O];A.offset-=_,A.offset!=r&&(this.mergeAttributes(A).isEqual(A)||(_++,t--))}return kr._createFromParentsAndOffsets(e,r,e,t)}},{key:"_unwrapChildren",value:function(e,r,t,i){for(var o=r,s=[];o<t;){var l=e.getChild(o);if(l.is("attributeElement"))if(l.isSimilar(i)){var u=l.getChildren(),d=l.childCount;l._remove(),e._insertChild(o,u),this._removeFromClonedElementsGroup(l),s.push(new xt(e,o),new xt(e,o+d)),o+=d,t+=d-1}else this._unwrapAttributeElement(i,l)?(s.push(new xt(e,o),new xt(e,o+1)),o++):(this._unwrapChildren(l,0,l.childCount,i),o++);else o++}for(var v=0,g=0,m=s;g<m.length;g++){var _=m[g];_.offset-=v,!(_.offset==r||_.offset==t)&&(this.mergeAttributes(_).isEqual(_)||(v++,t--))}return kr._createFromParentsAndOffsets(e,r,e,t)}},{key:"_wrapRange",value:function(e,r){var t=this._breakAttributesRange(e,!0),i=t.start,o=t.end,s=i.parent,l=this._wrapChildren(s,i.offset,o.offset,r),u=this.mergeAttributes(l.start);u.isEqual(l.start)||l.end.offset--;var d=this.mergeAttributes(l.end);return new kr(u,d)}},{key:"_wrapPosition",value:function(e,r){if(r.isSimilar(e.parent))return Lc(e.clone());e.parent.is("text")&&(e=Bc(e));var t=this.createAttributeElement();t._priority=Number.POSITIVE_INFINITY,t.isSimilar=function(){return!1},e.parent._insertChild(e.offset,t);var i=new kr(e,e.getShiftedBy(1));this.wrap(i,r);var o=new xt(t.parent,t.index);t._remove();var s=o.nodeBefore,l=o.nodeAfter;return s instanceof Je&&l instanceof Je?Vc(s,l):Lc(o)}},{key:"_wrapAttributeElement",value:function(e,r){if(!zc(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;var t=y(e.getAttributeKeys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o!=="class"&&o!=="style"&&r.hasAttribute(o)&&r.getAttribute(o)!==e.getAttribute(o))return!1}}catch(G){t.e(G)}finally{t.f()}var s=y(e.getStyleNames()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(r.hasStyle(u)&&r.getStyle(u)!==e.getStyle(u))return!1}}catch(G){s.e(G)}finally{s.f()}var d=y(e.getAttributeKeys()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;g!=="class"&&g!=="style"&&(r.hasAttribute(g)||this.setAttribute(g,e.getAttribute(g),r))}}catch(G){d.e(G)}finally{d.f()}var m=y(e.getStyleNames()),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;r.hasStyle(O)||this.setStyle(O,e.getStyle(O),r)}}catch(G){m.e(G)}finally{m.f()}var P=y(e.getClassNames()),A;try{for(P.s();!(A=P.n()).done;){var F=A.value;r.hasClass(F)||this.addClass(F,r)}}catch(G){P.e(G)}finally{P.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,r){if(!zc(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;var t=y(e.getAttributeKeys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o!=="class"&&o!=="style"&&(!r.hasAttribute(o)||r.getAttribute(o)!==e.getAttribute(o)))return!1}}catch(m){t.e(m)}finally{t.f()}if(!r.hasClass.apply(r,U(e.getClassNames())))return!1;var s=y(e.getStyleNames()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!r.hasStyle(u)||r.getStyle(u)!==e.getStyle(u))return!1}}catch(m){s.e(m)}finally{s.f()}var d=y(e.getAttributeKeys()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;g!=="class"&&g!=="style"&&this.removeAttribute(g,r)}}catch(m){d.e(m)}finally{d.f()}return this.removeClass(Array.from(e.getClassNames()),r),this.removeStyle(Array.from(e.getStyleNames()),r),!0}},{key:"_breakAttributesRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.start,i=e.end;if(ko(e,this.document),e.isCollapsed){var o=this._breakAttributes(e.start,r);return new kr(o,o)}var s=this._breakAttributes(i,r),l=s.parent.childCount,u=this._breakAttributes(t,r);return s.offset+=s.parent.childCount-l,new kr(u,s)}},{key:"_breakAttributes",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new pe.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new pe.b("view-writer-cannot-break-ui-element",this.document);if(!r&&i.is("text")&&eu(i.parent)||eu(i))return e.clone();if(i.is("text"))return this._breakAttributes(Bc(e),r);if(t==i.childCount){var o=new xt(i.parent,i.index+1);return this._breakAttributes(o,r)}if(t===0){var s=new xt(i.parent,i.index);return this._breakAttributes(s,r)}{var l=i.index+1,u=i._clone();i.parent._insertChild(l,u),this._addToClonedElementsGroup(u);var d=i.childCount-t,v=i._removeChildren(t,d);u._appendChild(v);var g=new xt(i.parent,l);return this._breakAttributes(g,r)}}},{key:"_addToClonedElementsGroup",value:function(e){if(!!e.root.is("rootElement")){if(e.is("element")){var r=y(e.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._addToClonedElementsGroup(i)}}catch(l){r.e(l)}finally{r.f()}}var o=e.id;if(!!o){var s=this._cloneGroups.get(o);s||(s=new Set,this._cloneGroups.set(o,s)),s.add(e),e._clonesGroup=s}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var r=y(e.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._removeFromClonedElementsGroup(i)}}catch(l){r.e(l)}finally{r.f()}}var o=e.id;if(!!o){var s=this._cloneGroups.get(o);s&&s.delete(e)}}}]),a}();function ql(a){for(var n=a.parent;!eu(n);){if(!n)return;n=n.parent}return n}function jv(a,n){return a.priority<n.priority||!(a.priority>n.priority)&&a.getIdentity()<n.getIdentity()}function Lc(a){var n=a.nodeBefore;if(n&&n.is("text"))return new xt(n,n.data.length);var e=a.nodeAfter;return e&&e.is("text")?new xt(e,0):a}function Bc(a){if(a.offset==a.parent.data.length)return new xt(a.parent.parent,a.parent.index+1);if(a.offset===0)return new xt(a.parent.parent,a.parent.index);var n=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new Je(a.root.document,n)),new xt(a.parent.parent,a.parent.index+1)}function Vc(a,n){var e=a.data.length;return a._data+=n.data,n._remove(),new xt(a,e)}var Dv=[Je,bo,Ns,Dc,Xl];function eu(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function ko(a,n){var e=ql(a.start),r=ql(a.end);if(!e||!r||e!==r)throw new pe.b("view-writer-invalid-range-container",n)}function zc(a,n){return a.id===null&&n.id===null}function kn(a){return Object.prototype.toString.call(a)=="[object Text]"}var Nv=function(n){return n.createTextNode("\xA0")},oi=function(n){var e=n.createElement("br");return e.dataset.ckeFiller=!0,e},Ws=function(){for(var a="",n=0;n<7;n++)a+="\u200B";return a}();function si(a){return kn(a)&&a.data.substr(0,7)===Ws}function Hs(a){return a.data.length==7&&si(a)}function tu(a){return si(a)?a.data.slice(7):a.data}function Fv(a,n){if(n.keyCode==tr.arrowleft){var e=n.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){var r=e.getRangeAt(0).startContainer,t=e.getRangeAt(0).startOffset;si(r)&&t<=7&&e.collapse(r,0)}}}function Ks(a,n,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e=e||function(i,o){return i===o},Array.isArray(a)||(a=Array.prototype.slice.call(a)),Array.isArray(n)||(n=Array.prototype.slice.call(n));var t=function(i,o,s){var l=Uc(i,o,s);if(l===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var u=Gs(i,l),d=Gs(o,l),v=Uc(u,d,s),g=i.length-v,m=o.length-v;return{firstIndex:l,lastIndexOld:g,lastIndexNew:m}}(a,n,e);return r?function(i,o){var s=i.firstIndex,l=i.lastIndexOld,u=i.lastIndexNew;if(s===-1)return Array(o).fill("equal");var d=[];return s>0&&(d=d.concat(Array(s).fill("equal"))),u-s>0&&(d=d.concat(Array(u-s).fill("insert"))),l-s>0&&(d=d.concat(Array(l-s).fill("delete"))),u<o&&(d=d.concat(Array(o-u).fill("equal"))),d}(t,n.length):function(i,o){var s=[],l=o.firstIndex,u=o.lastIndexOld,d=o.lastIndexNew;return d-l>0&&s.push({index:l,type:"insert",values:i.slice(l,d)}),u-l>0&&s.push({index:l+(d-l),type:"delete",howMany:u-l}),s}(n,t)}function Uc(a,n,e){for(var r=0;r<Math.max(a.length,n.length);r++)if(a[r]===void 0||n[r]===void 0||!e(a[r],n[r]))return r;return-1}function Gs(a,n){return a.slice(n).reverse()}function qi(a,n,e){e=e||function(P,A){return P===A};var r=a.length,t=n.length;if(r>200||t>200||r+t>300)return qi.fastDiff(a,n,e,!0);var i,o;if(t<r){var s=a;a=n,n=s,i="delete",o="insert"}else i="insert",o="delete";var l=a.length,u=n.length,d=u-l,v={},g={};function m(P){var A=(g[P-1]!==void 0?g[P-1]:-1)+1,F=g[P+1]!==void 0?g[P+1]:-1,G=A>F?-1:1;v[P+G]&&(v[P]=v[P+G].slice(0)),v[P]||(v[P]=[]),v[P].push(A>F?i:o);for(var Q=Math.max(A,F),q=Q-P;q<l&&Q<u&&e(a[q],n[Q]);)q++,Q++,v[P].push("equal");return Q}var _,O=0;do{for(_=-O;_<d;_++)g[_]=m(_);for(_=d+O;_>d;_--)g[_]=m(_);g[d]=m(d),O++}while(g[d]!==u);return v[d].slice(1)}function Wc(a,n,e){a.insertBefore(e,a.childNodes[n]||null)}function Hc(a){var n=a.parentNode;n&&n.removeChild(a)}function _o(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}qi.fastDiff=Ks;var Kc=function(){function a(n,e){E(this,a),this.domDocuments=new Set,this.domConverter=n,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return C(a,[{key:"markToSync",value:function(e,r){if(e==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(e==="attributes")this.markedAttributes.add(r);else{if(e!=="children")throw new pe.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(r)}}}},{key:"render",value:function(){var e,r=y(this.markedChildren),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._updateChildrenMappings(i)}}catch(A){r.e(A)}finally{r.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var o=y(this.markedAttributes),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;this._updateAttrs(l)}}catch(A){o.e(A)}finally{o.f()}var u=y(this.markedChildren),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;this._updateChildren(v,{inlineFillerPosition:e})}}catch(A){u.e(A)}finally{u.f()}var g=y(this.markedTexts),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;!this.markedChildren.has(_.parent)&&this.domConverter.mapViewToDom(_.parent)&&this._updateText(_,{inlineFillerPosition:e})}}catch(A){g.e(A)}finally{g.f()}if(e){var O=this.domConverter.viewPositionToDom(e),P=O.parent.ownerDocument;si(O.parent)?this._inlineFiller=O.parent:this._inlineFiller=Gc(P,O.parent,O.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var r=this.domConverter.mapViewToDom(e);if(!!r){var t=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,r.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(t,i),s=this._findReplaceActions(o,t,i);if(s.indexOf("replace")!==-1){var l={equal:0,insert:0,delete:0},u=y(s),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;if(v==="replace"){var g=l.equal+l.insert,m=l.equal+l.delete,_=e.getChild(g);_&&!_.is("uiElement")&&this._updateElementMappings(_,t[m]),Hc(i[g]),l.equal++}else l[v]++}}catch(O){u.e(O)}finally{u.f()}}}}},{key:"_updateElementMappings",value:function(e,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("text")?xt._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(e);return!!(r&&kn(r.parent)&&si(r.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!si(e))throw new pe.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Hs(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),r=e.parent,t=e.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(s){if(s.getAttribute("contenteditable")=="false")return!1;var l=s.findAncestor(function(u){return u.hasAttribute("contenteditable")});return!l||l.getAttribute("contenteditable")=="true"}(r)||t===r.getFillerOffset())return!1;var i=e.nodeBefore,o=e.nodeAfter;return!(i instanceof Je||o instanceof Je)}},{key:"_updateText",value:function(e,r){var t=this.domConverter.findCorrespondingDomText(e),i=this.domConverter.viewToDom(e,t.ownerDocument),o=t.data,s=i.data,l=r.inlineFillerPosition;if(l&&l.parent==e.parent&&l.offset==e.index&&(s=Ws+s),o!=s){var u=Ks(o,s),d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;g.type==="insert"?t.insertData(g.index,g.values.join("")):t.deleteData(g.index,g.howMany)}}catch(m){d.e(m)}finally{d.f()}}}},{key:"_updateAttrs",value:function(e){var r=this.domConverter.mapViewToDom(e);if(!!r){var t=Array.from(r.attributes).map(function(g){return g.name}),i=e.getAttributeKeys(),o=y(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;r.setAttribute(l,e.getAttribute(l))}}catch(g){o.e(g)}finally{o.f()}var u=y(t),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;e.hasAttribute(v)||r.removeAttribute(v)}}catch(g){u.e(g)}finally{u.f()}}}},{key:"_updateChildren",value:function(e,r){var t=this.domConverter.mapViewToDom(e);if(!!t){var i=r.inlineFillerPosition,o=this.domConverter.mapViewToDom(e).childNodes,s=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===e&&Gc(t.ownerDocument,s,i.offset);var l=this._diffNodeLists(o,s),u=0,d=new Set,v=y(l),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;m==="delete"?(d.add(o[u]),Hc(o[u])):m==="equal"&&u++}}catch(Q){v.e(Q)}finally{v.f()}u=0;var _=y(l),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;P==="insert"?(Wc(t,u,s[u]),u++):P==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(s[u])),u++)}}catch(Q){_.e(Q)}finally{_.f()}var A=y(d),F;try{for(A.s();!(F=A.n()).done;){var G=F.value;G.parentNode||this.domConverter.unbindDomElement(G)}}catch(Q){A.e(Q)}finally{A.f()}}}},{key:"_diffNodeLists",value:function(e,r){return qi(e=function(t,i){var o=Array.from(t);return o.length==0||!i||o[o.length-1]==i&&o.pop(),o}(e,this._fakeSelectionContainer),r,Lv.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,r,t){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;var i=[],o=[],s=[],l={equal:0,insert:0,delete:0},u=y(e),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;v==="insert"?s.push(t[l.equal+l.insert]):v==="delete"?o.push(r[l.equal+l.delete]):(i=i.concat(qi(o,s,pa).map(function(g){return g==="equal"?"replace":g})),i.push("equal"),o=[],s=[]),l[v]++}}catch(g){u.e(g)}finally{u.f()}return i.concat(qi(o,s,pa).map(function(g){return g==="equal"?"replace":g}))}},{key:"_markDescendantTextToSync",value:function(e){if(e){if(e.is("text"))this.markedTexts.add(e);else if(e.is("element")){var r=y(e.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._markDescendantTextToSync(i)}}catch(o){r.e(o)}finally{r.f()}}}}},{key:"_updateSelection",value:function(){if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var r=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(s){var l=s.createElement("div");return Object.assign(l.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),l.textContent="\xA0",l}(r));var t=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(t,this.selection),!!this._fakeSelectionNeedsUpdate(e)){t.parentElement&&t.parentElement==e||e.appendChild(t),t.textContent=this.selection.fakeSelectionLabel||"\xA0";var i=r.getSelection(),o=r.createRange();i.removeAllRanges(),o.selectNodeContents(t),i.addRange(o)}}},{key:"_updateDomSelection",value:function(e){var r=e.ownerDocument.defaultView.getSelection();if(!!this._domSelectionNeedsUpdate(r)){var t=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),r.collapse(t.parent,t.offset),r.extend(i.parent,i.offset),Ii.isGecko&&function(o,s){var l=o.parent;if(!(l.nodeType!=Node.ELEMENT_NODE||o.offset!=l.childNodes.length-1)){var u=l.childNodes[o.offset];u&&u.tagName=="BR"&&s.addRange(s.getRangeAt(0))}}(i,r)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var r=e&&this.domConverter.domSelectionToView(e);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var r=this._fakeSelectionContainer,t=e.ownerDocument.getSelection();return!r||r.parentElement!==e||t.anchorNode!==r&&!r.contains(t.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e=y(this.domDocuments),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.getSelection().rangeCount){var i=t.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&t.getSelection().removeAllRanges()}}}catch(s){e.e(s)}finally{e.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),a}();function Gc(a,n,e){var r=n instanceof Array?n:n.childNodes,t=r[e];if(kn(t))return t.data=Ws+t.data,t;{var i=a.createTextNode(Ws);return Array.isArray(n)?r.splice(e,0,i):Wc(n,e,i),i}}function pa(a,n){return _o(a)&&_o(n)&&!kn(a)&&!kn(n)&&a.tagName.toLowerCase()===n.tagName.toLowerCase()}function Lv(a,n,e){return n===e||(kn(n)&&kn(e)?n.data===e.data:!(!a.isBlockFiller(n)||!a.isBlockFiller(e)))}Zt(Kc,On);var An={window,document};function ru(a){for(var n=0;a.previousSibling;)a=a.previousSibling,n++;return n}function qo(a){for(var n=[];a&&a.nodeType!=Node.DOCUMENT_NODE;)n.unshift(a),a=a.parentNode;return n}var Bv=oi(document),$s=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E(this,a),this.document=n,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller=this.blockFillerMode=="br"?oi:Nv,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return C(a,[{key:"bindFakeSelection",value:function(e,r){this._fakeSelectionMapping.set(e,new Ji(r))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}},{key:"unbindDomElement",value:function(e){var r=this._domToViewMapping.get(e);if(r){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(r);var t=y(e.childNodes),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this.unbindDomElement(o)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"bindDocumentFragments",value:function(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}},{key:"viewToDom",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.is("text")){var i=this._processDataFromViewText(e);return r.createTextNode(i)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);var o;if(e.is("documentFragment"))o=r.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.render(r),t.bind&&this.bindElements(o,e),o;o=e.hasAttribute("xmlns")?r.createElementNS(e.getAttribute("xmlns"),e.name):r.createElement(e.name),t.bind&&this.bindElements(o,e);var s=y(e.getAttributeKeys()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;o.setAttribute(u,e.getAttribute(u))}}catch(m){s.e(m)}finally{s.f()}}if(t.withChildren||t.withChildren===void 0){var d=y(this.viewChildrenToDom(e,r,t)),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;o.appendChild(g)}}catch(m){d.e(m)}finally{d.f()}}return o}}},{key:"viewChildrenToDom",value:N.mark(function n(e,r){var t,i,o,s,l,u,d=arguments;return N.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:t=d.length>2&&d[2]!==void 0?d[2]:{},i=e.getFillerOffset&&e.getFillerOffset(),o=0,s=y(e.getChildren()),g.prev=4,s.s();case 6:if((l=s.n()).done){g.next=17;break}if(u=l.value,g.t0=i===o,!g.t0){g.next=12;break}return g.next=12,this._blockFiller(r);case 12:return g.next=14,this.viewToDom(u,r,t);case 14:o++;case 15:g.next=6;break;case 17:g.next=22;break;case 19:g.prev=19,g.t1=g.catch(4),s.e(g.t1);case 22:return g.prev=22,s.f(),g.finish(22);case 25:if(g.t2=i===o,!g.t2){g.next=29;break}return g.next=29,this._blockFiller(r);case 29:case"end":return g.stop()}},n,this,[[4,19,22,25]])})},{key:"viewRangeToDom",value:function(e){var r=this.viewPositionToDom(e.start),t=this.viewPositionToDom(e.end),i=document.createRange();return i.setStart(r.parent,r.offset),i.setEnd(t.parent,t.offset),i}},{key:"viewPositionToDom",value:function(e){var r=e.parent;if(r.is("text")){var t=this.findCorrespondingDomText(r);if(!t)return null;var i=e.offset;return si(t)&&(i+=7),{parent:t,offset:i}}{var o,s,l;if(e.offset===0){if(o=this.mapViewToDom(r),!o)return null;l=o.childNodes[0]}else{var u=e.nodeBefore;if(s=u.is("text")?this.findCorrespondingDomText(u):this.mapViewToDom(e.nodeBefore),!s)return null;o=s.parentNode,l=s.nextSibling}return kn(l)&&si(l)?{parent:l,offset:7}:{parent:o,offset:s?ru(s)+1:0}}}},{key:"domToView",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var t=this.getParentUIElement(e,this._domToViewMapping);if(t)return t;if(kn(e)){if(Hs(e))return null;{var i=this._processDataFromDomText(e);return i===""?null:new Je(this.document,i)}}if(this.isComment(e))return null;{if(this.mapDomToView(e))return this.mapDomToView(e);var o;if(this.isDocumentFragment(e))o=new ji(this.document),r.bind&&this.bindDocumentFragments(e,o);else{var s=r.keepOriginalCase?e.tagName:e.tagName.toLowerCase();o=new Qi(this.document,s),r.bind&&this.bindElements(e,o);for(var l=e.attributes,u=l.length-1;u>=0;u--)o._setAttribute(l[u].name,l[u].value)}if(r.withChildren||r.withChildren===void 0){var d=y(this.domChildrenToView(e,r)),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;o._appendChild(g)}}catch(m){d.e(m)}finally{d.f()}}return o}}},{key:"domChildrenToView",value:N.mark(function n(e){var r,t,i,o,s=arguments;return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:r=s.length>1&&s[1]!==void 0?s[1]:{},t=0;case 2:if(!(t<e.childNodes.length)){u.next=11;break}if(i=e.childNodes[t],o=this.domToView(i,r),u.t0=o!==null,!u.t0){u.next=8;break}return u.next=8,o;case 8:t++,u.next=2;break;case 11:case"end":return u.stop()}},n,this)})},{key:"domSelectionToView",value:function(e){if(e.rangeCount===1){var r=e.getRangeAt(0).startContainer;kn(r)&&(r=r.parentNode);var t=this.fakeSelectionToView(r);if(t)return t}for(var i=this.isDomSelectionBackward(e),o=[],s=0;s<e.rangeCount;s++){var l=e.getRangeAt(s),u=this.domRangeToView(l);u&&o.push(u)}return new Ji(o,{backward:i})}},{key:"domRangeToView",value:function(e){var r=this.domPositionToView(e.startContainer,e.startOffset),t=this.domPositionToView(e.endContainer,e.endOffset);return r&&t?new kr(r,t):null}},{key:"domPositionToView",value:function(e,r){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,ru(e));var t=this.mapDomToView(e);if(t&&t.is("uiElement"))return xt._createBefore(t);if(kn(e)){if(Hs(e))return this.domPositionToView(e.parentNode,ru(e));var i=this.findCorrespondingViewText(e),o=r;return i?(si(e)&&(o-=7,o=o<0?0:o),new xt(i,o)):null}if(r===0){var s=this.mapDomToView(e);if(s)return new xt(s,0)}else{var l=e.childNodes[r-1],u=kn(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(u&&u.parent)return new xt(u.parent,u.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(Hs(e))return null;var r=this.getParentUIElement(e);if(r)return r;var t=e.previousSibling;if(t){if(!this.isElement(t))return null;var i=this.mapDomToView(t);if(i)return i.nextSibling instanceof Je?i.nextSibling:null}else{var o=this.mapDomToView(e.parentNode);if(o){var s=o.getChild(0);return s instanceof Je?s:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var r=e.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var r=this.mapViewToDom(e);if(r&&r.ownerDocument.activeElement!==r){var t=An.window,i=t.scrollX,o=t.scrollY,s=[];$c(r,function(l){var u=l.scrollLeft,d=l.scrollTop;s.push([u,d])}),r.focus(),$c(r,function(l){var u=s.shift(),d=K(u,2),v=d[0],g=d[1];l.scrollLeft=v,l.scrollTop=g}),An.window.scrollTo(i,o)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return this.blockFillerMode=="br"?e.isEqualNode(Bv):!(e.tagName!=="BR"||!Yc(e,this.blockElements)||e.parentNode.childNodes.length!==1)||function(r,t){return kn(r)&&r.data=="\xA0"&&Yc(r,t)&&r.parentNode.childNodes.length===1}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var r=document.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset);var t=r.collapsed;return r.detach(),t}},{key:"getParentUIElement",value:function(e){var r=qo(e);for(r.pop();r.length;){var t=r.pop(),i=this._domToViewMapping.get(t);if(i&&i.is("uiElement"))return i}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,r){if(kn(e)&&si(e)&&r<7||this.isElement(e)&&si(e.childNodes[r]))return!1;var t=this.mapDomToView(e);return!t||!t.is("uiElement")}},{key:"_processDataFromViewText",value:function(e){var r=this,t=e.data;if(e.getAncestors().some(function(s){return r.preElements.includes(s.name)}))return t;if(t.charAt(0)==" "){var i=this._getTouchingViewTextNode(e,!1);!(i&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){var o=this._getTouchingViewTextNode(e,!0);t.charAt(t.length-2)!=" "&&o&&o.data.charAt(0)!=" "||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}},{key:"_nodeEndsWithSpace",value:function(e){var r=this;if(e.getAncestors().some(function(i){return r.preElements.includes(i.name)}))return!1;var t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}},{key:"_processDataFromDomText",value:function(e){var r=e.data;if(nu(e,this.preElements))return tu(e);r=r.replace(/[ \n\t\r]{1,}/g," ");var t=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),o=this._checkShouldLeftTrimDomText(t),s=this._checkShouldRightTrimDomText(e,i);return o&&(r=r.replace(/^ /,"")),s&&(r=r.replace(/ $/,"")),r=tu(new Text(r)),r=r.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(r)||!i||i.data&&i.data.charAt(0)==" ")&&(r=r.replace(/\u00A0$/," ")),o&&(r=r.replace(/^\u00A0/," ")),r}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!ni(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,r){return!r&&!si(e)}},{key:"_getTouchingViewTextNode",value:function(e,r){var t=new Ga({startPosition:r?xt._createAfter(e):xt._createBefore(e),direction:r?"forward":"backward"}),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.item.is("containerElement")||s.item.is("br"))return null;if(s.item.is("textProxy"))return s.item}}catch(l){i.e(l)}finally{i.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,r){if(!e.parentNode)return null;var t=r?"nextNode":"previousNode",i=e.ownerDocument,o=qo(e)[0],s=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(v){return kn(v)||v.tagName=="BR"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});s.currentNode=e;var l=s[t]();if(l!==null){var u=function(d,v){for(var g=qo(d),m=qo(v),_=0;g[_]==m[_]&&g[_];)_++;return _===0?null:g[_-1]}(e,l);if(u&&!nu(e,this.blockElements,u)&&!nu(l,this.blockElements,u))return l}return null}}]),a}();function nu(a,n,e){var r=qo(a);return e&&(r=r.slice(r.indexOf(e)+1)),r.some(function(t){return t.tagName&&n.includes(t.tagName.toLowerCase())})}function $c(a,n){for(;a&&a!=An.document;)n(a),a=a.parentNode}function Yc(a,n){var e=a.parentNode;return e&&e.tagName&&n.includes(e.tagName.toLowerCase())}function Ys(a){var n=Object.prototype.toString.apply(a);return n=="[object Window]"||n=="[object global]"}var es=go({},an,{listenTo:function(n){for(var e,r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];if(_o(n)||Ys(n)){var o=this._getProxyEmitter(n)||new iu(n);o.attach.apply(o,t),n=o}(e=an.listenTo).call.apply(e,[this,n].concat(t))},stopListening:function(n,e,r){if(_o(n)||Ys(n)){var t=this._getProxyEmitter(n);if(!t)return;n=t}an.stopListening.call(this,n,e,r),n instanceof iu&&n.detach(e)},_getProxyEmitter:function(n){return e=this,r=ga(n),e[bi]&&e[bi][r]?e[bi][r].emitter:null;var e,r}}),iu=function a(n){E(this,a),Ss(this,ga(n)),this._domNode=n};function ga(a){return a["data-ck-expando"]||(a["data-ck-expando"]=ii())}go(iu.prototype,an,{attach:function(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(this._domListeners&&this._domListeners[n])){var t=this._createDomListener(n,!!r.useCapture);this._domNode.addEventListener(n,t,!!r.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[n]=t}},detach:function(n){var e;!this._domListeners[n]||(e=this._events[n])&&e.callbacks.length||this._domListeners[n].removeListener()},_createDomListener:function(n,e){var r=this,t=function(o){r.fire(n,o)};return t.removeListener=function(){r._domNode.removeEventListener(n,t,e),delete r._domListeners[n]},t}});var ma=function(){function a(n){E(this,a),this.view=n,this.document=n.document,this.isEnabled=!1}return C(a,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),a}();Zt(ma,es);var ts=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Vv=function(n){return this.__data__.has(n)};function ba(a){var n=-1,e=a==null?0:a.length;for(this.__data__=new ke;++n<e;)this.add(a[n])}ba.prototype.add=ba.prototype.push=ts,ba.prototype.has=Vv;var zv=ba,Uv=function(n,e){for(var r=-1,t=n==null?0:n.length;++r<t;)if(e(n[r],r,n))return!0;return!1},Wv=function(n,e){return n.has(e)},Qc=function(n,e,r,t,i,o){var s=1&r,l=n.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var d=o.get(n);if(d&&o.get(e))return d==e;var v=-1,g=!0,m=2&r?new zv:void 0;for(o.set(n,e),o.set(e,n);++v<l;){var _=n[v],O=e[v];if(t)var P=s?t(O,_,v,e,n,o):t(_,O,v,n,e,o);if(P!==void 0){if(P)continue;g=!1;break}if(m){if(!Uv(e,function(A,F){if(!Wv(m,F)&&(_===A||i(_,A,r,t,o)))return m.push(F)})){g=!1;break}}else if(_!==O&&!i(_,O,r,t,o)){g=!1;break}}return o.delete(n),o.delete(e),g},Hv=function(n){var e=-1,r=Array(n.size);return n.forEach(function(t,i){r[++e]=[i,t]}),r},Kv=function(n){var e=-1,r=Array(n.size);return n.forEach(function(t){r[++e]=t}),r},Jc=Fe?Fe.prototype:void 0,au=Jc?Jc.valueOf:void 0,Gv=function(n,e,r,t,i,o,s){switch(r){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!o(new ee(n),new ee(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pr(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var l=Hv;case"[object Set]":var u=1&t;if(l||(l=Kv),n.size!=e.size&&!u)return!1;var d=s.get(n);if(d)return d==e;t|=2,s.set(n,e);var v=Qc(l(n),l(e),t,i,o,s);return s.delete(n),v;case"[object Symbol]":if(au)return au.call(n)==au.call(e)}return!1},$v=Object.prototype.hasOwnProperty,Yv=function(n,e,r,t,i,o){var s=1&r,l=Ei(n),u=l.length;if(u!=Ei(e).length&&!s)return!1;for(var d=u;d--;){var v=l[d];if(!(s?v in e:$v.call(e,v)))return!1}var g=o.get(n);if(g&&o.get(e))return g==e;var m=!0;o.set(n,e),o.set(e,n);for(var _=s;++d<u;){var O=n[v=l[d]],P=e[v];if(t)var A=s?t(P,O,v,e,n,o):t(O,P,v,n,e,o);if(!(A===void 0?O===P||i(O,P,r,t,o):A)){m=!1;break}_||(_=v=="constructor")}if(m&&!_){var F=n.constructor,G=e.constructor;F==G||!("constructor"in n)||!("constructor"in e)||typeof F=="function"&&F instanceof F&&typeof G=="function"&&G instanceof G||(m=!1)}return o.delete(n),o.delete(e),m},Zc=Object.prototype.hasOwnProperty,Qv=function(n,e,r,t,i,o){var s=br(n),l=br(e),u=s?"[object Array]":$n(n),d=l?"[object Array]":$n(e),v=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",g=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",m=u==d;if(m&&Object(or.a)(n)){if(!Object(or.a)(e))return!1;s=!0,v=!1}if(m&&!v)return o||(o=new tt),s||Kt(n)?Qc(n,e,r,t,i,o):Gv(n,e,u,r,t,i,o);if(!(1&r)){var _=v&&Zc.call(n,"__wrapped__"),O=g&&Zc.call(e,"__wrapped__");if(_||O){var P=_?n.value():n,A=O?e.value():e;return o||(o=new tt),i(P,A,r,t,o)}}return!!m&&(o||(o=new tt),Yv(n,e,r,t,i,o))},Xc=function a(n,e,r,t,i){return n===e||(n==null||e==null||!Ye(n)&&!Ye(e)?n!=n&&e!=e:Qv(n,e,r,t,a,i))},Jv=function(n,e,r){var t=(r=typeof r=="function"?r:void 0)?r(n,e):void 0;return t===void 0?Xc(n,e,void 0,r):!!t},qc=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},t.domConverter=r.domConverter,t.renderer=r._renderer,t._domElements=[],t._mutationObserver=new window.MutationObserver(t._onMutations.bind(b(t))),t}return C(e,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){M(I(e.prototype),"enable",this).call(this);var t=y(this._domElements),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._mutationObserver.observe(o,this._config)}}catch(s){t.e(s)}finally{t.f()}}},{key:"disable",value:function(){M(I(e.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(t.length===0)return;var i=this.domConverter,o=new Map,s=new Set,l=y(t),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d.type==="childList"){var v=i.mapDomToView(d.target);if(v&&v.is("uiElement"))continue;v&&!this._isBogusBrMutation(d)&&s.add(v)}}}catch(Lt){l.e(Lt)}finally{l.f()}var g=y(t),m;try{for(g.s();!(m=g.n()).done;){var _=m.value,O=i.mapDomToView(_.target);if((!O||!O.is("uiElement"))&&_.type==="characterData"){var P=i.findCorrespondingViewText(_.target);P&&!s.has(P.parent)?o.set(P,{type:"text",oldText:P.data,newText:tu(_.target),node:P}):!P&&si(_.target)&&s.add(i.mapDomToView(_.target.parentNode))}}}catch(Lt){g.e(Lt)}finally{g.f()}var A=[],F=y(o.values()),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;this.renderer.markToSync("text",Q.node),A.push(Q)}}catch(Lt){F.e(Lt)}finally{F.f()}var q=y(s),be;try{for(q.s();!(be=q.n()).done;){var Se=be.value,Ie=i.mapViewToDom(Se),Ue=Array.from(Se.getChildren()),ot=Array.from(i.domChildrenToView(Ie,{withChildren:!1}));Jv(Ue,ot,zt)||(this.renderer.markToSync("children",Se),A.push({type:"children",oldChildren:Ue,newChildren:ot,node:Se}))}}catch(Lt){q.e(Lt)}finally{q.f()}var bt=t[0].target.ownerDocument.getSelection(),jt=null;if(bt&&bt.anchorNode){var yt=i.domPositionToView(bt.anchorNode,bt.anchorOffset),dt=i.domPositionToView(bt.focusNode,bt.focusOffset);yt&&dt&&(jt=new Ji(yt),jt.setFocus(dt))}function zt(Lt,sr){if(!Array.isArray(Lt))return Lt===sr||!(!Lt.is("text")||!sr.is("text"))&&Lt.data===sr.data}A.length&&(this.document.fire("mutations",A,jt),this.view.forceRender())}},{key:"_isBogusBrMutation",value:function(t){var i=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(i=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}]),e}(ma),ya=function(){function a(n,e,r){E(this,a),this.view=n,this.document=n.document,this.domEvent=e,this.domTarget=e.target,go(this,r)}return C(a,[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}]),a}(),ea=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.useCapture=!1,t}return C(e,[{key:"observe",value:function(t){var i=this;(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(function(o){i.listenTo(t,o,function(s,l){i.isEnabled&&i.onDomEvent(l)},{useCapture:i.useCapture})})}},{key:"fire",value:function(t,i,o){this.isEnabled&&this.document.fire(t,new ya(this.view,i,o))}}]),e}(ma),Zv=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.domEventType=["keydown","keyup"],t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Zi(this)}})}}]),e}(ea),ou=function(){return Te.a.Date.now()},Xv=/^\s+|\s+$/g,qv=/^[-+]0x[0-9a-f]+$/i,ep=/^0b[01]+$/i,Qs=/^0o[0-7]+$/i,tp=parseInt,ed=function(n){if(typeof n=="number")return n;if(Fn(n))return NaN;if(Ve(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ve(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Xv,"");var r=ep.test(n);return r||Qs.test(n)?tp(n.slice(2),r?2:8):qv.test(n)?NaN:+n},rp=Math.max,np=Math.min,su=function(n,e,r){var t,i,o,s,l,u,d=0,v=!1,g=!1,m=!0;if(typeof n!="function")throw new TypeError("Expected a function");function _(Q){var q=t,be=i;return t=i=void 0,d=Q,s=n.apply(be,q)}function O(Q){return d=Q,l=setTimeout(A,e),v?_(Q):s}function P(Q){var q=Q-u;return u===void 0||q>=e||q<0||g&&Q-d>=o}function A(){var Q=ou();if(P(Q))return F(Q);l=setTimeout(A,function(q){var be=e-(q-u);return g?np(be,o-(q-d)):be}(Q))}function F(Q){return l=void 0,m&&t?_(Q):(t=i=void 0,s)}function G(){var Q=ou(),q=P(Q);if(t=arguments,i=this,u=Q,q){if(l===void 0)return O(u);if(g)return clearTimeout(l),l=setTimeout(A,e),_(u)}return l===void 0&&(l=setTimeout(A,e)),s}return e=ed(e)||0,Ve(r)&&(v=!!r.leading,o=(g="maxWait"in r)?rp(ed(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m),G.cancel=function(){l!==void 0&&clearTimeout(l),d=0,t=u=i=l=void 0},G.flush=function(){return l===void 0?s:F(ou())},G},ip=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._fireSelectionChangeDoneDebounced=su(function(i){return t.document.fire("selectionChangeDone",i)},200),t}return C(e,[{key:"observe",value:function(){var t=this,i=this.document;i.on("keydown",function(o,s){var l;i.selection.isFake&&((l=s.keyCode)==tr.arrowright||l==tr.arrowleft||l==tr.arrowup||l==tr.arrowdown)&&t.isEnabled&&(s.preventDefault(),t._handleSelectionMove(s.keyCode))},{priority:"lowest"})}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var i=this.document.selection,o=new Ji(i.getRanges(),{backward:i.isBackward,fake:!1});t!=tr.arrowleft&&t!=tr.arrowup||o.setTo(o.getFirstPosition()),t!=tr.arrowright&&t!=tr.arrowdown||o.setTo(o.getLastPosition());var s={oldSelection:i,newSelection:o,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}]),e}(ma),ap=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.mutationObserver=r.getObserver(qc),t.selection=t.document.selection,t.domConverter=r.domConverter,t._documents=new WeakSet,t._fireSelectionChangeDoneDebounced=su(function(i){return t.document.fire("selectionChangeDone",i)},200),t._clearInfiniteLoopInterval=setInterval(function(){return t._clearInfiniteLoop()},1e3),t._loopbackCounter=0,t}return C(e,[{key:"observe",value:function(t){var i=this,o=t.ownerDocument;this._documents.has(o)||(this.listenTo(o,"selectionchange",function(){i._handleSelectionChange(o)}),this._documents.add(o))}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t){if(!!this.isEnabled){this.mutationObserver.flush();var i=t.defaultView.getSelection(),o=this.domConverter.domSelectionToView(i);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(i)||++this._loopbackCounter>60))if(this.selection.isSimilar(o))this.view.forceRender();else{var s={oldSelection:this.selection,newSelection:o,domSelection:i};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),e}(ma),op=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r),t.domEventType=["focus","blur"],t.useCapture=!0;var i=t.document;return i.on("focus",function(){i.isFocused=!0,t._renderTimeoutId=setTimeout(function(){return r.forceRender()},50)}),i.on("blur",function(o,s){var l=i.selection.editableElement;l!==null&&l!==s.target||(i.isFocused=!1,r.forceRender())}),t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),M(I(e.prototype),"destroy",this).call(this)}}]),e}(ea),xo=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r),t.domEventType=["compositionstart","compositionupdate","compositionend"];var i=t.document;return i.on("compositionstart",function(){i.isComposing=!0}),i.on("compositionend",function(){i.isComposing=!1}),t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ea),Js=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.domEventType=["beforeinput"],t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ea);function Zs(a){return Object.prototype.toString.apply(a)=="[object Range]"}function td(a){var n=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}var rd=["top","right","bottom","left","width","height"],mn=function(){function a(n){E(this,a);var e=Zs(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),ni(n)||e)$a(this,e?a.getDomRangeRects(n)[0]:n.getBoundingClientRect());else if(Ys(n)){var r=n.innerWidth,t=n.innerHeight;$a(this,{top:0,right:r,bottom:t,left:0,width:r,height:t})}else $a(this,n)}return C(a,[{key:"clone",value:function(){return new a(this)}},{key:"moveTo",value:function(e,r){return this.top=r,this.right=e+this.width,this.bottom=r+this.height,this.left=e,this}},{key:"moveBy",value:function(e,r){return this.top+=r,this.right+=e,this.left+=e,this.bottom+=r,this}},{key:"getIntersection",value:function(e){var r={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0?null:new a(r)}},{key:"getIntersectionArea",value:function(e){var r=this.getIntersection(e);return r?r.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,r=this.clone();if(!nd(e))for(var t=e.parentNode||e.commonAncestorContainer;t&&!nd(t);){var i=new a(t),o=r.getIntersection(i);if(!o)return null;o.getArea()<r.getArea()&&(r=o),t=t.parentNode}return r}},{key:"isEqual",value:function(e){var r=y(rd),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(this[i]!==e[i])return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"contains",value:function(e){var r=this.getIntersection(e);return!(!r||!r.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e=this._source,r,t,i;if(Ys(e))r=e.innerWidth-e.document.documentElement.clientWidth,t=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{var o=td(this._source);r=e.offsetWidth-e.clientWidth-o.left-o.right,t=e.offsetHeight-e.clientHeight-o.top-o.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,i==="ltr"?this.right-=r:this.left+=r,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(e){var r=[],t=Array.from(e.getClientRects());if(t.length){var i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;r.push(new a(s))}}catch(d){i.e(d)}finally{i.f()}}else{var l=e.startContainer;kn(l)&&(l=l.parentNode);var u=new a(l.getBoundingClientRect());u.right=u.left,u.width=0,r.push(u)}return r}}]),a}();function $a(a,n){var e=y(rd),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;a[t]=n[t]}}catch(i){e.e(i)}finally{e.f()}}function nd(a){return!!ni(a)&&a===a.ownerDocument.body}function rs(a){for(var n=a.target,e=a.viewportOffset,r=e===void 0?0:e,t=lu(n),i=t,o=null;i;){var s=void 0;s=uu(i==t?n:o),Xs(s,function(){return sd(n,i)});var l=sd(n,i);if(sp(i,l,r),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function sp(a,n,e){var r=n.clone().moveBy(0,e),t=n.clone().moveBy(0,-e),i=new mn(a).excludeScrollbarsAndBorders();if(![t,r].every(function(l){return i.contains(l)})){var o=a.scrollX,s=a.scrollY;qs(t,i)?s-=i.top-n.top+e:id(r,i)&&(s+=n.bottom-i.bottom+e),ad(n,i)?o-=i.left-n.left+e:od(n,i)&&(o+=n.right-i.right+e),a.scrollTo(o,s)}}function Xs(a,n){for(var e=lu(a),r,t;a!=e.document.body;)t=n(),r=new mn(a).excludeScrollbarsAndBorders(),r.contains(t)||(qs(t,r)?a.scrollTop-=r.top-t.top:id(t,r)&&(a.scrollTop+=t.bottom-r.bottom),ad(t,r)?a.scrollLeft-=r.left-t.left:od(t,r)&&(a.scrollLeft+=t.right-r.right)),a=a.parentNode}function id(a,n){return a.bottom>n.bottom}function qs(a,n){return a.top<n.top}function ad(a,n){return a.left<n.left}function od(a,n){return a.right>n.right}function lu(a){return Zs(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function uu(a){if(Zs(a)){var n=a.commonAncestorContainer;return kn(n)&&(n=n.parentNode),n}return a.parentNode}function sd(a,n){var e=lu(a),r=new mn(a);if(e===n)return r;for(var t=e;t!=n;){var i=t.frameElement,o=new mn(i).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),t=t.parent}return r}Object.assign({},{scrollViewportToShowTarget:rs,scrollAncestorsToShowTarget:function(n){Xs(uu(n),function(){return new mn(n)})}});var ld=function(){function a(n){var e=this;E(this,a),this.document=new zs(n),this.domConverter=new $s(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Kc(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Fc(this.document),this.addObserver(qc),this.addObserver(ap),this.addObserver(op),this.addObserver(Zv),this.addObserver(ip),this.addObserver(xo),Ii.isAndroid&&this.addObserver(Js),this.document.on("keydown",Fv),Iv(this),this.on("render",function(){e._render(),e.document.fire("layoutChanged"),e._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",function(){e._hasChangedSinceTheLastRendering=!0})}return C(a,[{key:"attachDomRoot",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main",i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();for(var o={},s=0,l=Array.from(e.attributes);s<l.length;s++){var u=l[s],d=u.name,v=u.value;o[d]=v,d==="class"?this._writer.addClass(v.split(" "),i):this._writer.setAttribute(d,v,i)}this._initialDomRootAttributes.set(e,o);var g=function(){r._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?r._writer.addClass("ck-read-only",i):r._writer.removeClass("ck-read-only",i)};g(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",function(P,A){return r._renderer.markToSync("children",A)}),i.on("change:attributes",function(P,A){return r._renderer.markToSync("attributes",A)}),i.on("change:text",function(P,A){return r._renderer.markToSync("text",A)}),i.on("change:isReadOnly",function(){return r.change(g)}),i.on("change",function(){r._hasChangedSinceTheLastRendering=!0});var m=y(this._observers.values()),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;O.observe(e,t)}}catch(P){m.e(P)}finally{m.f()}}},{key:"detachDomRoot",value:function(e){var r=this.domRoots.get(e);Array.from(r.attributes).forEach(function(o){var s=o.name;return r.removeAttribute(s)});var t=this._initialDomRootAttributes.get(r);for(var i in t)r.setAttribute(i,t[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(r)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var r=this._observers.get(e);if(r)return r;r=new e(this),this._observers.set(e,r);var t=y(this.domRoots),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=K(o,2),l=s[0],u=s[1];r.observe(u,l)}}catch(d){t.e(d)}finally{t.f()}return r.enable(),r}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e=y(this._observers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.disable()}}catch(i){e.e(i)}finally{e.f()}}},{key:"enableObservers",value:function(){var e=y(this._observers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.enable()}}catch(i){e.e(i)}finally{e.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&rs({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new pe.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var r=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(t){pe.b.rethrowUnexpectedError(t,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change(function(){})}},{key:"destroy",value:function(){var e=y(this._observers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.destroy()}}catch(i){e.e(i)}finally{e.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,r){return xt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return xt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return xt._createBefore(e)}},{key:"createRange",value:function(e,r){return new kr(e,r)}},{key:"createRangeOn",value:function(e){return kr._createOn(e)}},{key:"createRangeIn",value:function(e){return kr._createIn(e)}},{key:"createSelection",value:function(e,r,t){return new Ji(e,r,t)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,e==0&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),a}();Zt(ld,On);var wa=function(){function a(n){E(this,a),this.parent=null,this._attrs=fr(n)}return C(a,[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new pe.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new pe.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],r=this;r.parent;)e.unshift(r.startOffset),r=r.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this:this.parent;t;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}},{key:"getCommonAncestor",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.getAncestors(r),i=e.getAncestors(r),o=0;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var r=this.getPath(),t=e.getPath(),i=ie(r,t);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<t[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(function(r,t){return r[t[0]]=t[1],r},{})),e}},{key:"is",value:function(e){return e==="node"||e==="model:node"}},{key:"_clone",value:function(){return new a(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,r){this._attrs.set(e,r)}},{key:"_setAttributesTo",value:function(e){this._attrs=fr(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),a}(),bn=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,t),i._data=r||"",i}return C(e,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"is",value:function(t){return t==="text"||t==="model:text"||t==="node"||t==="model:node"}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new e(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(t){return new e(t.data,t.attributes)}}]),e}(wa),Di=function(){function a(n,e,r){if(E(this,a),this.textNode=n,e<0||e>n.offsetSize)throw new pe.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(r<0||e+r>n.offsetSize)throw new pe.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=n.data.substring(e,e+r),this.offsetInText=e}return C(a,[{key:"startOffset",get:function(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"is",value:function(e){return e==="textProxy"||e==="model:textProxy"}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this:this.parent;t;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),a}(),Oo=function(){function a(n){E(this,a),this._nodes=[],n&&this._insertNodes(0,n)}return C(a,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(e,r){return e+r.offsetSize},0)}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var r=this._nodes.indexOf(e);return r==-1?null:r}},{key:"getNodeStartOffset",value:function(e){var r=this.getNodeIndex(e);return r===null?null:this._nodes.slice(0,r).reduce(function(t,i){return t+i.offsetSize},0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var r=this._nodes[e];if(!r)throw new pe.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(r)}},{key:"offsetToIndex",value:function(e){var r=0,t=y(this._nodes),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(e>=r&&e<r+o.offsetSize)return this.getNodeIndex(o);r+=o.offsetSize}}catch(s){t.e(s)}finally{t.f()}if(r!=e)throw new pe.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,r){var t,i=y(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!(s instanceof wa))throw new pe.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}catch(l){i.e(l)}finally{i.f()}(t=this._nodes).splice.apply(t,[e,0].concat(U(r)))}},{key:"_removeNodes",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._nodes.splice(e,r)}},{key:"toJSON",value:function(){return this._nodes.map(function(e){return e.toJSON()})}}]),a}(),_n=function(a){S(e,a);var n=D(e);function e(r,t,i){var o;return E(this,e),o=n.call(this,t),o.name=r,o._children=new Oo,i&&o._insertChild(0,i),o}return C(e,[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t===this.name||t==="model:"+this.name||t==="node"||t==="model:node"}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var i=this,o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i=i.getChild(i.offsetToIndex(l))}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var i=y(this._children),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.children.push(s.toJSON())}}catch(l){i.e(l)}finally{i.f()}}return t}},{key:"_clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=t?Array.from(this._children).map(function(o){return o._clone(!0)}):null;return new e(this.name,this.getAttributes(),i)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,i){var o=function(d){return typeof d=="string"?[new bn(d)]:(Zn(d)||(d=[d]),Array.from(d).map(function(v){return typeof v=="string"?new bn(v):v instanceof Di?new bn(v.data,v.getAttributes()):v}))}(i),s=y(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.parent!==null&&u._remove(),u.parent=this}}catch(d){s.e(d)}finally{s.f()}this._children._insertNodes(t,o)}},{key:"_removeChildren",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=this._children._removeNodes(t,i),s=y(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.parent=null}}catch(d){s.e(d)}finally{s.f()}return o}}],[{key:"fromJSON",value:function(t){var i=null;if(t.children){i=[];var o=y(t.children),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.name?i.push(e.fromJSON(l)):i.push(bn.fromJSON(l))}}catch(u){o.e(u)}finally{o.f()}}return new e(t.name,t.attributes,i)}}]),e}(wa),ta=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E(this,a),!n.boundaries&&!n.startPosition)throw new pe.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);var e=n.direction||"forward";if(e!="forward"&&e!="backward")throw new pe.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",n,{direction:e});this.direction=e,this.boundaries=n.boundaries||null,n.startPosition?this.position=n.startPosition.clone():this.position=nt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return C(a,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var r,t,i,o;do{var s;i=this.position,o=this._visitedParent,s=this.next(),r=s.done,t=s.value}while(!r&&e(t));r||(this.position=i,this._visitedParent=o)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,r=this.position.clone(),t=this._visitedParent;if(t.parent===null&&r.offset===t.maxOffset)return{done:!0};if(t===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0};var i=r.parent,o=ns(r,i),s=o||ud(r,i,o);if(s instanceof _n)return this.shallow?r.offset++:(r.path.push(0),this._visitedParent=s),this.position=r,Ya("elementStart",s,e,r,1);if(s instanceof bn){var l;if(this.singleCharacters)l=1;else{var u=s.endOffset;this._boundaryEndParent==t&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),l=u-r.offset}var d=r.offset-s.startOffset,v=new Di(s,d,l);return r.offset+=l,this.position=r,Ya("text",v,e,r,l)}return r.path.pop(),r.offset++,this.position=r,this._visitedParent=t.parent,this.ignoreElementEnd?this._next():Ya("elementEnd",t,e,r)}},{key:"_previous",value:function(){var e=this.position,r=this.position.clone(),t=this._visitedParent;if(t.parent===null&&r.offset===0)return{done:!0};if(t==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0};var i=r.parent,o=ns(r,i),s=o||cd(r,i,o);if(s instanceof _n)return r.offset--,this.shallow?(this.position=r,Ya("elementStart",s,e,r,1)):(r.path.push(s.maxOffset),this.position=r,this._visitedParent=s,this.ignoreElementEnd?this._previous():Ya("elementEnd",s,e,r));if(s instanceof bn){var l;if(this.singleCharacters)l=1;else{var u=s.startOffset;this._boundaryStartParent==t&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),l=r.offset-u}var d=r.offset-s.startOffset,v=new Di(s,d-l,l);return r.offset-=l,this.position=r,Ya("text",v,e,r,l)}return r.path.pop(),this.position=r,this._visitedParent=t.parent,Ya("elementStart",t,e,r,1)}}]),a}();function Ya(a,n,e,r,t){return{done:!1,value:{type:a,item:n,previousPosition:e,nextPosition:r,length:t}}}var nt=function(){function a(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(E(this,a),!n.is("element")&&!n.is("documentFragment"))throw new pe.b("model-position-root-invalid: Position root invalid.",n);if(!(e instanceof Array)||e.length===0)throw new pe.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",n,{path:e});n.is("rootElement")?e=e.slice():(e=[].concat(U(n.getPath()),U(e)),n=n.root),this.root=n,this.path=e,this.stickiness=r}return C(a,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,r=0;r<this.path.length-1;r++)if(e=e.getChild(e.offsetToIndex(this.path[r])),!e)throw new pe.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new pe.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return ns(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return ud(this,e,ns(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return cd(this,e,ns(this,e))}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var r=ie(this.path,e.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<e.path[r]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.startPosition=this;var t=new ta(r);return t.skip(e),t.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var r=ie(this.path,e.path),t=typeof r=="string"?Math.min(this.path.length,e.path.length):r;return this.path.slice(0,t)}},{key:"getCommonAncestor",value:function(e){for(var r=this.getAncestors(),t=e.getAncestors(),i=0;r[i]==t[i]&&r[i];)i++;return i===0?null:r[i-1]}},{key:"getShiftedBy",value:function(e){var r=this.clone(),t=r.offset+e;return r.offset=t<0?0:t,r}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isEqual",value:function(e){return this.compareWith(e)=="same"}},{key:"isTouching",value:function(e){var r=null,t=null;switch(this.compareWith(e)){case"same":return!0;case"before":r=a._createAt(this),t=a._createAt(e);break;case"after":r=a._createAt(e),t=a._createAt(this);break;default:return!1}for(var i=r.parent;r.path.length+t.path.length;){if(r.isEqual(t))return!0;if(r.path.length>t.path.length){if(r.offset!==i.maxOffset)return!1;r.path=r.path.slice(0,-1),i=i.parent,r.offset++}else{if(t.offset!==0)return!1;t.path=t.path.slice(0,-1)}}}},{key:"is",value:function(e){return e==="position"||e==="model:position"}},{key:"hasSameParentAs",value:function(e){return this.root!==e.root?!1:ie(this.getParentPath(),e.getParentPath())=="same"}},{key:"getTransformedByOperation",value:function(e){var r;switch(e.type){case"insert":r=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(e);break;case"split":r=this._getTransformedBySplitOperation(e);break;case"merge":r=this._getTransformedByMergeOperation(e);break;default:r=a._createAt(this)}return r}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var r=e.movedRange,t;return r.containsPosition(this)||r.start.isEqual(this)?(t=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(t=t._getTransformedByDeletion(e.deletionPosition,1))):t=this.isEqual(e.deletionPosition)?a._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),t}},{key:"_getTransformedByDeletion",value:function(e,r){var t=a._createAt(this);if(this.root!=e.root)return t;if(ie(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+r>this.offset)return null;t.offset-=r}}else if(ie(e.getParentPath(),this.getParentPath())=="prefix"){var i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+r>this.path[i])return null;t.path[i]-=r}}return t}},{key:"_getTransformedByInsertion",value:function(e,r){var t=a._createAt(this);if(this.root!=e.root)return t;if(ie(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(t.offset+=r);else if(ie(e.getParentPath(),this.getParentPath())=="prefix"){var i=e.path.length-1;e.offset<=this.path[i]&&(t.path[i]+=r)}return t}},{key:"_getTransformedByMove",value:function(e,r,t){if(r=r._getTransformedByDeletion(e,t),e.isEqual(r))return a._createAt(this);var i=this._getTransformedByDeletion(e,t);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(t).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,r):i._getTransformedByInsertion(r,t)}},{key:"_getCombined",value:function(e,r){var t=e.path.length-1,i=a._createAt(r);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[t]-e.offset,i.path=[].concat(U(i.path),U(this.path.slice(t+1))),i}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(e instanceof a)return new a(e.root,e.path,e.stickiness);{var i=e;if(r=="end")r=i.maxOffset;else{if(r=="before")return this._createBefore(i,t);if(r=="after")return this._createAfter(i,t);if(r!==0&&!r)throw new pe.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new pe.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e]);var o=i.getPath();return o.push(r),new this(i.root,o,t)}}},{key:"_createAfter",value:function(e,r){if(!e.parent)throw new pe.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,r)}},{key:"_createBefore",value:function(e,r){if(!e.parent)throw new pe.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,r)}},{key:"fromJSON",value:function(e,r){if(e.root==="$graveyard"){var t=new a(r.graveyard,e.path);return t.stickiness=e.stickiness,t}if(!r.getRoot(e.root))throw new pe.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",r,{rootName:e.root});return new a(r.getRoot(e.root),e.path,e.stickiness)}}]),a}();function ns(a,n){var e=n.getChild(n.offsetToIndex(a.offset));return e&&e.is("text")&&e.startOffset<a.offset?e:null}function ud(a,n,e){return e!==null?null:n.getChild(n.offsetToIndex(a.offset))}function cd(a,n,e){return e!==null?null:n.getChild(n.offsetToIndex(a.offset)-1)}var Qe=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;E(this,a),this.start=nt._createAt(n),this.end=e?nt._createAt(e):nt._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return C(a,[{key:Symbol.iterator,value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(new ta({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return ie(this.start.getParentPath(),this.end.getParentPath())=="same"}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.isCollapsed&&(r=!1);var t=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return t&&i}},{key:"containsItem",value:function(e){var r=nt._createBefore(e);return this.containsPosition(r)||this.start.isEqual(r)}},{key:"is",value:function(e){return e==="range"||e==="model:range"}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new a(this.start,e.start)),this.containsPosition(e.end)&&r.push(new a(e.end,this.end))):r.push(new a(this.start,this.end)),r}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var r=this.start,t=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(t=e.end),new a(r,t)}return null}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],r=this.start.getCommonPath(this.end).length,t=nt._createAt(this.start),i=t.parent;t.path.length>r+1;){var o=i.maxOffset-t.offset;o!==0&&e.push(new a(t,t.getShiftedBy(o))),t.path=t.path.slice(0,-1),t.offset++,i=i.parent}for(;t.path.length<=this.end.path.length;){var s=this.end.path[t.path.length-1],l=s-t.offset;l!==0&&e.push(new a(t,t.getShiftedBy(l))),t.offset=s,t.path.push(0)}return e}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.boundaries=this,new ta(e)}},{key:"getItems",value:N.mark(function n(){var e,r,t,i,o,s=arguments;return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,r=new ta(e),t=y(r),u.prev=4,t.s();case 6:if((i=t.n()).done){u.next=12;break}return o=i.value,u.next=10,o.item;case 10:u.next=6;break;case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(4),t.e(u.t0);case 17:return u.prev=17,t.f(),u.finish(17);case 20:case"end":return u.stop()}},n,this,[[4,14,17,20]])})},{key:"getPositions",value:N.mark(function n(){var e,r,t,i,o,s=arguments;return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,r=new ta(e),u.next=5,r.position;case 5:t=y(r),u.prev=6,t.s();case 8:if((i=t.n()).done){u.next=14;break}return o=i.value,u.next=12,o.nextPosition;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),t.e(u.t0);case 19:return u.prev=19,t.f(),u.finish(19);case 22:case"end":return u.stop()}},n,this,[[6,16,19,22]])})},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new a(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var r=[new a(this.start,this.end)],t=y(e),i;try{for(t.s();!(i=t.n()).done;)for(var o=i.value,s=0;s<r.length;s++){var l=r[s].getTransformedByOperation(o);r.splice.apply(r,[s,1].concat(U(l))),s+=l.length-1}}catch(m){t.e(m)}finally{t.f()}for(var u=0;u<r.length;u++)for(var d=r[u],v=u+1;v<r.length;v++){var g=r[v];(d.containsRange(g)||g.containsRange(d)||d.isEqual(g))&&r.splice(v,1)}return r}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,r=this.end.nodeBefore;return e&&e.is("element")&&e===r?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._getTransformedByInsertion(e.position,e.howMany,r)}},{key:"_getTransformedByMoveOperation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.sourcePosition,i=e.howMany,o=e.targetPosition;return this._getTransformedByMove(t,o,i,r)}},{key:"_getTransformedBySplitOperation",value:function(e){var r=this.start._getTransformedBySplitOperation(e),t=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(t=this.end.getShiftedBy(1)),r.root!=t.root&&(t=this.end.getShiftedBy(-1)),new a(r,t)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new a(this.start);var r=this.start._getTransformedByMergeOperation(e),t=this.end._getTransformedByMergeOperation(e);return r.root!=t.root&&(t=this.end.getShiftedBy(-1)),r.isAfter(t)?(e.sourcePosition.isBefore(e.targetPosition)?(r=nt._createAt(t),r.offset=0):(e.deletionPosition.isEqual(r)||(t=e.deletionPosition),r=e.targetPosition),new a(r,t)):new a(r,t)}},{key:"_getTransformedByInsertion",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t&&this.containsPosition(e))return[new a(this.start,e),new a(e.getShiftedBy(r),this.end._getTransformedByInsertion(e,r))];{var i=new a(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,r),i.end=i.end._getTransformedByInsertion(e,r),[i]}}},{key:"_getTransformedByMove",value:function(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.isCollapsed){var o=this.start._getTransformedByMove(e,r,t);return[new a(o)]}var s=a._createFromPositionAndShift(e,t),l=r._getTransformedByDeletion(e,t);if(this.containsPosition(r)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var u=this.start._getTransformedByMove(e,r,t),d=this.end._getTransformedByMove(e,r,t);return[new a(u,d)]}var v,g=this.getDifference(s),m=null,_=this.getIntersection(s);if(g.length==1?m=new a(g[0].start._getTransformedByDeletion(e,t),g[0].end._getTransformedByDeletion(e,t)):g.length==2&&(m=new a(this.start,this.end._getTransformedByDeletion(e,t))),v=m?m._getTransformedByInsertion(l,t,_!==null||i):[],_){var O=new a(_.start._getCombined(s.start,l),_.end._getCombined(s.start,l));v.length==2?v.splice(1,0,O):v.push(O)}return v}},{key:"_getTransformedByDeletion",value:function(e,r){var t=this.start._getTransformedByDeletion(e,r),i=this.end._getTransformedByDeletion(e,r);return t==null&&i==null?null:(t==null&&(t=e),i==null&&(i=e),new a(t,i))}}],[{key:"_createFromPositionAndShift",value:function(e,r){var t=e,i=e.getShiftedBy(r);return r>0?new this(t,i):new this(i,t)}},{key:"_createIn",value:function(e){return new this(nt._createAt(e,0),nt._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(nt._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(e.length===0)throw new pe.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(e.length==1)return e[0].clone();var r=e[0];e.sort(function(l,u){return l.start.isAfter(u.start)?1:-1});var t=e.indexOf(r),i=new this(r.start,r.end);if(t>0)for(var o=t-1;e[o].end.isEqual(i.start);o++)i.start=nt._createAt(e[o].start);for(var s=t+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=nt._createAt(e[s].end);return i}},{key:"fromJSON",value:function(e,r){return new this(nt.fromJSON(e.start,r),nt.fromJSON(e.end,r))}}]),a}(),cu=function(){function a(){var n=this;E(this,a),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",function(e,r){if(!r.viewPosition){var t=n._modelToViewMapping.get(r.modelPosition.parent);r.viewPosition=n._findPositionIn(t,r.modelPosition.offset)}},{priority:"low"}),this.on("viewToModelPosition",function(e,r){if(!r.modelPosition){var t=n.findMappedViewAncestor(r.viewPosition),i=n._viewToModelMapping.get(t),o=n._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,t);r.modelPosition=nt._createAt(i,o)}},{priority:"low"})}return C(a,[{key:"bindElements",value:function(e,r){this._modelToViewMapping.set(e,r),this._viewToModelMapping.set(r,e)}},{key:"unbindViewElement",value:function(e){var r=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var t=y(this._elementToMarkerNames.get(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._unboundMarkerNames.add(o)}}catch(s){t.e(s)}finally{t.f()}}this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r)}},{key:"unbindModelElement",value:function(e){var r=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(r)==e&&this._viewToModelMapping.delete(r)}},{key:"bindElementToMarker",value:function(e,r){var t=this._markerNameToElements.get(r)||new Set;t.add(e);var i=this._elementToMarkerNames.get(e)||new Set;i.add(r),this._markerNameToElements.set(r,t),this._elementToMarkerNames.set(e,i)}},{key:"unbindElementFromMarkerName",value:function(e,r){var t=this._markerNameToElements.get(r);t&&(t.delete(e),t.size==0&&this._markerNameToElements.delete(r));var i=this._elementToMarkerNames.get(e);i&&(i.delete(r),i.size==0&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new Qe(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new kr(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var r={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}},{key:"toViewPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isPhantom:!1},t={modelPosition:e,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",t),t.viewPosition}},{key:"markerNameToElements",value:function(e){var r=this._markerNameToElements.get(e);if(!r)return null;var t=new Set,i=y(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.is("attributeElement")){var l=y(s.getElementsWithSameId()),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;t.add(d)}}catch(v){l.e(v)}finally{l.f()}}else t.add(s)}}catch(v){i.e(v)}finally{i.f()}return t}},{key:"registerViewToModelLength",value:function(e,r){this._viewToModelLengthCallbacks.set(e,r)}},{key:"findMappedViewAncestor",value:function(e){for(var r=e.parent;!this._viewToModelMapping.has(r);)r=r.parent;return r}},{key:"_toModelOffset",value:function(e,r,t){if(t!=e)return this._toModelOffset(e.parent,e.index,t)+this._toModelOffset(e,r,e);if(e.is("text"))return r;for(var i=0,o=0;o<r;o++)i+=this.getModelLength(e.getChild(o));return i}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;{var r=0,t=y(e.getChildren()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;r+=this.getModelLength(o)}}catch(s){t.e(s)}finally{t.f()}return r}}},{key:"_findPositionIn",value:function(e,r){var t,i=0,o=0,s=0;if(e.is("text"))return new xt(e,r);for(;o<r;)t=e.getChild(s),i=this.getModelLength(t),o+=i,s++;return o==r?this._moveViewPositionToTextNode(new xt(e,s)):this._findPositionIn(t,r-(o-i))}},{key:"_moveViewPositionToTextNode",value:function(e){var r=e.nodeBefore,t=e.nodeAfter;return r instanceof Je?new xt(r,r.data.length):t instanceof Je?new xt(t,0):e}}]),a}();Zt(cu,an);var is=function(){function a(){E(this,a),this._consumable=new Map,this._textProxyRegistry=new Map}return C(a,[{key:"add",value:function(e,r){r=el(r),e instanceof Di&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(r,!0)}},{key:"consume",value:function(e,r){return r=el(r),e instanceof Di&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,r)&&(this._consumable.get(e).set(r,!1),!0)}},{key:"test",value:function(e,r){r=el(r),e instanceof Di&&(e=this._getSymbolForTextProxy(e));var t=this._consumable.get(e);if(t===void 0)return null;var i=t.get(r);return i===void 0?null:i}},{key:"revert",value:function(e,r){r=el(r),e instanceof Di&&(e=this._getSymbolForTextProxy(e));var t=this.test(e,r);return t===!1?(this._consumable.get(e).set(r,!0),!0):t!==!0&&null}},{key:"_getSymbolForTextProxy",value:function(e){var r=null,t=this._textProxyRegistry.get(e.startOffset);if(t){var i=t.get(e.endOffset);i&&(r=i.get(e.parent))}return r||(r=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),r}},{key:"_addSymbolForTextProxy",value:function(e,r,t){var i=Symbol("textProxySymbol"),o,s;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),s=o.get(r),s||(s=new Map,o.set(r,s)),s.set(t,i),i}}]),a}();function el(a){var n=a.split(":");return n.length>1?n[0]+":"+n[1]:n[0]}var du=function(){function a(n){E(this,a),this.conversionApi=go({dispatcher:this},n)}return C(a,[{key:"convertChanges",value:function(e,r,t){var i=y(e.getMarkersToRemove()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.convertMarkerRemove(s.name,s.range,t)}}catch(F){i.e(F)}finally{i.f()}var l=y(e.getChanges()),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;d.type=="insert"?this.convertInsert(Qe._createFromPositionAndShift(d.position,d.length),t):d.type=="remove"?this.convertRemove(d.position,d.length,d.name,t):this.convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,t)}}catch(F){l.e(F)}finally{l.f()}var v=y(this.conversionApi.mapper.flushUnboundMarkerNames()),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_=r.get(m).getRange();this.convertMarkerRemove(m,_,t),this.convertMarkerAdd(m,_,t)}}catch(F){v.e(F)}finally{v.f()}var O=y(e.getMarkersToAdd()),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;this.convertMarkerAdd(A.name,A.range,t)}}catch(F){O.e(F)}finally{O.f()}}},{key:"convertInsert",value:function(e,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createInsertConsumable(e);var t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.item,l={item:s,range:Qe._createFromPositionAndShift(o.previousPosition,o.length)};this._testAndFire("insert",l);var u=y(s.getAttributeKeys()),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;l.attributeKey=v,l.attributeOldValue=null,l.attributeNewValue=s.getAttribute(v),this._testAndFire("attribute:"+v,l)}}catch(g){u.e(g)}finally{u.f()}}}catch(g){t.e(g)}finally{t.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,r,t,i){this.conversionApi.writer=i,this.fire("remove:"+t,{position:e,length:r},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,r,t,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+r);var s=y(e),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d={item:u.item,range:Qe._createFromPositionAndShift(u.previousPosition,u.length),attributeKey:r,attributeOldValue:t,attributeNewValue:i};this._testAndFire("attribute:"+r,d)}}catch(v){s.e(v)}finally{s.f()}this._clearConversionApi()}},{key:"convertSelection",value:function(e,r,t){var i=Array.from(r.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=t,this.conversionApi.consumable=this._createSelectionConsumable(e,i),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var o=y(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.getRange();if(!!fu(e.getFirstPosition(),l,this.conversionApi.mapper)){var d={item:e,markerName:l.name,markerRange:u};this.conversionApi.consumable.test(e,"addMarker:"+l.name)&&this.fire("addMarker:"+l.name,d,this.conversionApi)}}}catch(O){o.e(O)}finally{o.f()}var v=y(e.getAttributeKeys()),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_={item:e,range:e.getFirstRange(),attributeKey:m,attributeOldValue:null,attributeNewValue:e.getAttribute(m)};this.conversionApi.consumable.test(e,"attribute:"+_.attributeKey)&&this.fire("attribute:"+_.attributeKey+":$text",_,this.conversionApi)}}catch(O){v.e(O)}finally{v.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,r,t){if(!(!r.root.document||r.root.rootName=="$graveyard")){this.conversionApi.writer=t;var i="addMarker:"+e,o=new is;if(o.add(r,i),this.conversionApi.consumable=o,this.fire(i,{markerName:e,markerRange:r},this.conversionApi),o.test(r,i)){this.conversionApi.consumable=this._createConsumableForRange(r,i);var s=y(r.getItems()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!!this.conversionApi.consumable.test(u,i)){var d={item:u,range:Qe._createOn(u),markerName:e,markerRange:r};this.fire(i,d,this.conversionApi)}}}catch(v){s.e(v)}finally{s.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,r,t){r.root.document&&r.root.rootName!="$graveyard"&&(this.conversionApi.writer=t,this.fire("removeMarker:"+e,{markerName:e,markerRange:r},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(e){var r=new is,t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.item;r.add(s,"insert");var l=y(s.getAttributeKeys()),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;r.add(s,"attribute:"+d)}}catch(v){l.e(v)}finally{l.f()}}}catch(v){t.e(v)}finally{t.f()}return r}},{key:"_createConsumableForRange",value:function(e,r){var t=new is,i=y(e.getItems()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.add(s,r)}}catch(l){i.e(l)}finally{i.f()}return t}},{key:"_createSelectionConsumable",value:function(e,r){var t=new is;t.add(e,"selection");var i=y(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.add(e,"addMarker:"+s.name)}}catch(v){i.e(v)}finally{i.f()}var l=y(e.getAttributeKeys()),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;t.add(e,"attribute:"+d)}}catch(v){l.e(v)}finally{l.f()}return t}},{key:"_testAndFire",value:function(e,r){if(!!this.conversionApi.consumable.test(r.item,e)){var t=r.item.name||"$text";this.fire(e+":"+t,r,this.conversionApi)}}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),a}();function fu(a,n,e){var r=n.getRange(),t=Array.from(a.getAncestors());return t.shift(),t.reverse(),!t.some(function(i){if(r.containsItem(i))return!!e.toViewElement(i).getCustomProperty("addHighlight")})}Zt(du,an);var ka=function(){function a(n,e,r){E(this,a),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,n&&this.setTo(n,e,r)}return C(a,[{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return this._ranges.length===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=!1,s=y(e._ranges),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(i.isEqual(u)){o=!0;break}}}catch(d){s.e(d)}finally{s.f()}if(!o)return!1}}catch(d){r.e(d)}finally{r.f()}return!0}},{key:"getRanges",value:N.mark(function n(){var e,r,t;return N.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=y(this._ranges),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return t=r.value,o.next=7,new Qe(t.start,t.end);case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.start.isBefore(e.start)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?new Qe(e.start,e.end):null}},{key:"getLastRange",value:function(){var e=null,r=y(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.end.isAfter(e.end)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?new Qe(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(e,r,t){if(e===null)this._setRanges([]);else if(e instanceof a)this._setRanges(e.getRanges(),e.isBackward);else if(e&&typeof e.getRanges=="function")this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Qe)this._setRanges([e],!!r&&!!r.backward);else if(e instanceof nt)this._setRanges([new Qe(e)]);else if(e instanceof wa){var i=!!t&&!!t.backward,o;if(r=="in")o=Qe._createIn(e);else if(r=="on")o=Qe._createOn(e);else{if(r===void 0)throw new pe.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,e]);o=new Qe(nt._createAt(e,r))}this._setRanges([o],i)}else{if(!Zn(e))throw new pe.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e]);this._setRanges(e,r&&!!r.backward)}}},{key:"_setRanges",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=(e=Array.from(e)).some(function(u){if(!(u instanceof Qe))throw new pe.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[r,e]);return r._ranges.every(function(d){return!d.isEqual(u)})});if(e.length!==this._ranges.length||i){this._removeAllRanges();var o=y(e),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;this._pushRange(l)}}catch(u){o.e(u)}finally{o.f()}this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,r){if(this.anchor===null)throw new pe.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);var t=nt._createAt(e,r);if(t.compareWith(this.focus)!="same"){var i=this.anchor;this._ranges.length&&this._popRange(),t.compareWith(i)=="before"?(this._pushRange(new Qe(t,i)),this._lastRangeBackward=!0):(this._pushRange(new Qe(i,t)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,r){this.getAttribute(e)!==r&&(this._attrs.set(e,r),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return e==="selection"||e==="model:selection"}},{key:"getSelectedBlocks",value:N.mark(function n(){var e,r,t,i,o,s,l,u,d,v;return N.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:e=new WeakSet,r=y(this.getRanges()),m.prev=2,r.s();case 4:if((t=r.n()).done){m.next=38;break}if(i=t.value,o=ra(i.start,e),m.t0=o&&hu(o,i),!m.t0){m.next=11;break}return m.next=11,o;case 11:s=y(i.getWalker()),m.prev=12,s.s();case 14:if((l=s.n()).done){m.next=23;break}if(u=l.value,d=u.item,m.t1=u.type=="elementEnd"&&lp(d,e,i),!m.t1){m.next=21;break}return m.next=21,d;case 21:m.next=14;break;case 23:m.next=28;break;case 25:m.prev=25,m.t2=m.catch(12),s.e(m.t2);case 28:return m.prev=28,s.f(),m.finish(28);case 31:if(v=ra(i.end,e),m.t3=v&&!i.end.isTouching(nt._createAt(v,0))&&hu(v,i),!m.t3){m.next=36;break}return m.next=36,v;case 36:m.next=4;break;case 38:m.next=43;break;case 40:m.prev=40,m.t4=m.catch(2),r.e(m.t4);case 43:return m.prev=43,r.f(),m.finish(43);case 46:case"end":return m.stop()}},n,this,[[2,40,43,46],[12,25,28,31]])})},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.anchor.root,r=nt._createAt(e,0),t=nt._createAt(e,"end");return r.isTouching(this.getFirstPosition())&&t.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new Qe(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var r=0;r<this._ranges.length;r++)if(e.isIntersecting(this._ranges[r]))throw new pe.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[r]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),a}();function dd(a,n){return!n.has(a)&&(n.add(a),a.root.document.model.schema.isBlock(a)&&a.parent)}function lp(a,n,e){return dd(a,n)&&hu(a,e)}function ra(a,n){var e=a.parent.root.document.model.schema,r=a.parent.getAncestors({parentFirst:!0,includeSelf:!0}),t=!1,i=r.find(function(o){return!t&&(t=e.isLimit(o),!t&&dd(o,n))});return r.forEach(function(o){return n.add(o)}),i}function hu(a,n){var e=function(r){for(var t=r.root.document.model.schema,i=r.parent;i;){if(t.isBlock(i))return i;i=i.parent}}(a);return e?!n.containsRange(Qe._createOn(e),!0):!0}Zt(ka,an);var Po=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r,t),fd.call(b(i)),i}return C(e,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"}},{key:"toRange",value:function(){return new Qe(this.start,this.end)}}],[{key:"fromRange",value:function(t){return new e(t.start,t.end)}}]),e}(Qe);function fd(){var a=this;this.listenTo(this.root.document.model,"applyOperation",function(n,e){var r=e[0];r.isDocumentOperation&&hd.call(a,r)},{priority:"low"})}function hd(a){var n=this.getTransformedByOperation(a),e=Qe._createFromRanges(n),r=!e.isEqual(this),t=function(s,l){switch(l.type){case"insert":return s.containsPosition(l.position);case"move":case"remove":case"reinsert":case"merge":return s.containsPosition(l.sourcePosition)||s.start.isEqual(l.sourcePosition)||s.containsPosition(l.targetPosition);case"split":return s.containsPosition(l.splitPosition)||s.containsPosition(l.insertionPosition)}return!1}(this,a),i=null;if(r){e.root.rootName=="$graveyard"&&(i=a.type=="remove"?a.sourcePosition:a.deletionPosition);var o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:i})}else t&&this.fire("change:content",this.toRange(),{deletionPosition:i})}Zt(Po,an);var wi=function(){function a(n){E(this,a),this._selection=new up(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return C(a,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return e==="selection"||e=="model:selection"||e=="documentSelection"||e=="model:documentSelection"}},{key:"_setFocus",value:function(e,r){this._selection.setFocus(e,r)}},{key:"_setTo",value:function(e,r,t){this._selection.setTo(e,r,t)}},{key:"_setAttribute",value:function(e,r){this._selection.setAttribute(e,r)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),a}();Zt(wi,an);var up=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this),t.markers=new jn({idProperty:"name"}),t._model=r.model,t._document=r,t._attributePriority=new Map,t._fixGraveyardRangesData=[],t._hasChangedRange=!1,t._overriddenGravityRegister=new Set,t.listenTo(t._model,"applyOperation",function(i,o){var s=o[0];if(s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"){for(;t._fixGraveyardRangesData.length;){var l=t._fixGraveyardRangesData.shift(),u=l.liveRange,d=l.sourcePosition;t._fixGraveyardSelection(u,d)}t._hasChangedRange&&(t._hasChangedRange=!1,t.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),t.on("change:range",function(){var i=y(t.getRanges()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!t._document._validateSelectionRange(s))throw new pe.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",b(t),{range:s})}}catch(l){i.e(l)}finally{i.f()}}),t.listenTo(t._model.markers,"update",function(){return t._updateMarkers()}),t.listenTo(t._document,"change",function(i,o){(function(s,l){var u=s.document.differ,d=y(u.getChanges()),v;try{var g=function(){var O=v.value;if(O.type!="insert")return"continue";var P=O.position.parent;O.length===P.maxOffset&&s.enqueueChange(l,function(A){var F=Array.from(P.getAttributeKeys()).filter(function(be){return be.startsWith("selection:")}),G=y(F),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value;A.removeAttribute(q,P)}}catch(be){G.e(be)}finally{G.f()}})};for(d.s();!(v=d.n()).done;)var m=g()}catch(_){d.e(_)}finally{d.f()}})(t._model,o)}),t}return C(e,[{key:"isCollapsed",get:function(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:M(I(e.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return M(I(e.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return M(I(e.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}},{key:"getRanges",value:N.mark(function r(){return N.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this._ranges.length){i.next=4;break}return i.delegateYield(M(I(e.prototype),"getRanges",this).call(this),"t0",2);case 2:i.next=6;break;case 4:return i.next=6,this._document._getDefaultRange();case 6:case"end":return i.stop()}},r,this)})},{key:"getFirstRange",value:function(){return M(I(e.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return M(I(e.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,i,o){M(I(e.prototype),"setTo",this).call(this,t,i,o),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,i){M(I(e.prototype),"setFocus",this).call(this,t,i),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,i){if(this._setAttribute(t,i)){var o=[t];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var i=[t];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=ii();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new pe.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var i=this._prepareRange(t);i&&this._ranges.push(i)}},{key:"_prepareRange",value:function(t){var i=this;if(this._checkRange(t),t.root!=this._document.graveyard){var o=Po.fromRange(t);return o.on("change:range",function(s,l,u){i._hasChangedRange=!0,o.root==i._document.graveyard&&i._fixGraveyardRangesData.push({liveRange:o,sourcePosition:u.deletionPosition})}),o}}},{key:"_updateMarkers",value:function(){var t=[],i=!1,o=y(this._model.markers),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.getRange(),d=y(this.getRanges()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;u.containsRange(g,!g.isCollapsed)&&t.push(l)}}catch(Q){d.e(Q)}finally{d.f()}}}catch(Q){o.e(Q)}finally{o.f()}for(var m=Array.from(this.markers),_=0,O=t;_<O.length;_++){var P=O[_];this.markers.has(P)||(this.markers.add(P),i=!0)}for(var A=0,F=Array.from(this.markers);A<F.length;A++){var G=F[A];t.includes(G)||(this.markers.remove(G),i=!0)}i&&this.fire("change:marker",{oldMarkers:m,directChange:!1})}},{key:"_updateAttributes",value:function(t){var i=fr(this._getSurroundingAttributes()),o=fr(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else{var s=y(this._attributePriority),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=K(u,2),v=d[0],g=d[1];g=="low"&&(this._attrs.delete(v),this._attributePriority.delete(v))}}catch(Ue){s.e(Ue)}finally{s.f()}}this._setAttributesTo(i);var m=[],_=y(this.getAttributes()),O;try{for(_.s();!(O=_.n()).done;){var P=O.value,A=K(P,2),F=A[0],G=A[1];o.has(F)&&o.get(F)===G||m.push(F)}}catch(Ue){_.e(Ue)}finally{_.f()}var Q=y(o),q;try{for(Q.s();!(q=Q.n()).done;){var be=q.value,Se=K(be,1),Ie=Se[0];this.hasAttribute(Ie)||m.push(Ie)}}catch(Ue){Q.e(Ue)}finally{Q.f()}m.length>0&&this.fire("change:attribute",{attributeKeys:m,directChange:!1})}},{key:"_setAttribute",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o?"normal":"low";return s=="low"&&this._attributePriority.get(t)=="normal"?!1:M(I(e.prototype),"getAttribute",this).call(this,t)!==i&&(this._attrs.set(t,i),this._attributePriority.set(t,s),!0)}},{key:"_removeAttribute",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=i?"normal":"low";return(o!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,o),!!M(I(e.prototype),"hasAttribute",this).call(this,t)&&(this._attrs.delete(t),!0))}},{key:"_setAttributesTo",value:function(t){var i=new Set,o=y(this.getAttributes()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=K(l,2),d=u[0],v=u[1];t.get(d)!==v&&this._removeAttribute(d,!1)}}catch(F){o.e(F)}finally{o.f()}var g=y(t),m;try{for(g.s();!(m=g.n()).done;){var _=m.value,O=K(_,2),P=O[0],A=O[1];this._setAttribute(P,A,!1)&&i.add(P)}}catch(F){g.e(F)}finally{g.f()}return i}},{key:"_getStoredAttributes",value:N.mark(function r(){var t,i,o,s,l;return N.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(t=this.getFirstPosition().parent,!(this.isCollapsed&&t.isEmpty)){d.next=21;break}i=y(t.getAttributeKeys()),d.prev=3,i.s();case 5:if((o=i.n()).done){d.next=13;break}if(s=o.value,!s.startsWith("selection:")){d.next=11;break}return l=s.substr("selection:".length),d.next=11,[l,t.getAttribute(s)];case 11:d.next=5;break;case 13:d.next=18;break;case 15:d.prev=15,d.t0=d.catch(3),i.e(d.t0);case 18:return d.prev=18,i.f(),d.finish(18);case 21:case"end":return d.stop()}},r,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),i=this._model.schema,o=null;if(this.isCollapsed){var s=t.textNode?t.textNode:t.nodeBefore,l=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(o=tl(s)),o||(o=tl(l)),!this.isGravityOverridden&&!o)for(var u=s;u&&!o;)u=u.previousSibling,o=tl(u);if(!o)for(var d=l;d&&!o;)d=d.nextSibling,o=tl(d);o||(o=this._getStoredAttributes())}else{var v=this.getFirstRange(),g=y(v),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;if(_.item.is("element")&&i.isObject(_.item))break;if(_.type=="text"){o=_.item.getAttributes();break}}}catch(O){g.e(O)}finally{g.f()}}return o}},{key:"_fixGraveyardSelection",value:function(t,i){var o=i.clone(),s=this._model.schema.getNearestSelectionRange(o),l=this._ranges.indexOf(t);if(this._ranges.splice(l,1),t.detach(),s&&(d=s,this._ranges.every(function(v){return!d.isEqual(v)}))){var u=this._prepareRange(s);this._ranges.splice(l,0,u)}var d}}]),e}(ka);function tl(a){return a instanceof Di||a instanceof bn?a.getAttributes():null}var as=function(){function a(n){E(this,a),this._dispatchers=n}return C(a,[{key:"add",value:function(e){var r=y(this._dispatchers),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e(i)}}catch(o){r.e(o)}finally{r.f()}return this}}]),a}(),_a=function(n){return Cs(n,5)},li=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"elementToElement",value:function(t){return this.add(function(i){return(i=_a(i)).view=rl(i.view,"container"),function(o){var s;o.on("insert:"+i.model,(s=i.view,function(l,u,d){var v=s(u.item,d.writer);if(!!v&&!!d.consumable.consume(u.item,"insert")){var g=d.mapper.toViewPosition(u.range.start);d.mapper.bindElements(u.item,v),d.writer.insert(g,v)}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"attributeToElement",value:function(t){return this.add(function(i){i=_a(i);var o="attribute:"+(i.model.key?i.model.key:i.model);if(i.model.name&&(o+=":"+i.model.name),i.model.values){var s=y(i.model.values),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;i.view[u]=rl(i.view[u],"attribute")}}catch(v){s.e(v)}finally{s.f()}}else i.view=rl(i.view,"attribute");var d=nl(i);return function(v){v.on(o,function(g){return function(m,_,O){var P=g(_.attributeOldValue,O.writer),A=g(_.attributeNewValue,O.writer);if(!(!P&&!A)&&!!O.consumable.consume(_.item,m.name)){var F=O.writer,G=F.document.selection;if(_.item instanceof ka||_.item instanceof wi)F.wrap(G.getFirstRange(),A);else{var Q=O.mapper.toViewRange(_.range);_.attributeOldValue!==null&&P&&(Q=F.unwrap(Q,P)),_.attributeNewValue!==null&&A&&F.wrap(Q,A)}}}}(d),{priority:i.converterPriority||"normal"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(i){i=_a(i);var o="attribute:"+(i.model.key?i.model.key:i.model);if(i.model.name&&(o+=":"+i.model.name),i.model.values){var s=y(i.model.values),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;i.view[u]=pd(i.view[u])}}catch(v){s.e(v)}finally{s.f()}}else i.view=pd(i.view);var d=nl(i);return function(v){var g;v.on(o,(g=d,function(m,_,O){var P=g(_.attributeOldValue,_),A=g(_.attributeNewValue,_);if(!(!P&&!A)&&!!O.consumable.consume(_.item,m.name)){var F=O.mapper.toViewElement(_.item),G=O.writer;if(!F)throw new pe.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[_,O]);if(_.attributeOldValue!==null&&P)if(P.key=="class"){var Q=Array.isArray(P.value)?P.value:[P.value],q=y(Q),be;try{for(q.s();!(be=q.n()).done;){var Se=be.value;G.removeClass(Se,F)}}catch(gi){q.e(gi)}finally{q.f()}}else if(P.key=="style")for(var Ie=Object.keys(P.value),Ue=0,ot=Ie;Ue<ot.length;Ue++){var bt=ot[Ue];G.removeStyle(bt,F)}else G.removeAttribute(P.key,F);if(_.attributeNewValue!==null&&A)if(A.key=="class"){var jt=Array.isArray(A.value)?A.value:[A.value],yt=y(jt),dt;try{for(yt.s();!(dt=yt.n()).done;){var zt=dt.value;G.addClass(zt,F)}}catch(gi){yt.e(gi)}finally{yt.f()}}else if(A.key=="style")for(var Lt=Object.keys(A.value),sr=0,pn=Lt;sr<pn.length;sr++){var Gn=pn[sr];G.setStyle(Gn,A.value[Gn],F)}else G.setAttribute(A.key,A.value,F)}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"markerToElement",value:function(t){return this.add(function(i){return(i=_a(i)).view=rl(i.view,"ui"),function(o){var s;o.on("addMarker:"+i.model,(s=i.view,function(l,u,d){u.isOpening=!0;var v=s(u,d.writer);u.isOpening=!1;var g=s(u,d.writer);if(!(!v||!g)){var m=u.markerRange;if(!(m.isCollapsed&&!d.consumable.consume(m,l.name))){var _=y(m),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;if(!d.consumable.consume(P.item,l.name))return}}catch(G){_.e(G)}finally{_.f()}var A=d.mapper,F=d.writer;F.insert(A.toViewPosition(m.start),v),d.mapper.bindElementToMarker(v,u.markerName),m.isCollapsed||(F.insert(A.toViewPosition(m.end),g),d.mapper.bindElementToMarker(g,u.markerName)),l.stop()}}}),{priority:i.converterPriority||"normal"}),o.on("removeMarker:"+i.model,(i.view,function(l,u,d){var v=d.mapper.markerNameToElements(u.markerName);if(v){var g=y(v),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;d.mapper.unbindElementFromMarkerName(_,u.markerName),d.writer.clear(d.writer.createRangeOn(_),_)}}catch(O){g.e(O)}finally{g.f()}d.writer.clearClonedElementsGroup(u.markerName),l.stop()}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"markerToHighlight",value:function(t){return this.add(function(i){return function(o){var s;o.on("addMarker:"+i.model,(s=i.view,function(l,u,d){if(!!u.item&&!!(u.item instanceof ka||u.item instanceof wi||u.item.is("textProxy"))){var v=xa(s,u,d);if(!!v&&!!d.consumable.consume(u.item,l.name)){var g=d.writer,m=vd(g,v),_=g.document.selection;if(u.item instanceof ka||u.item instanceof wi)g.wrap(_.getFirstRange(),m,_);else{var O=d.mapper.toViewRange(u.range),P=g.wrap(O,m),A=y(P.getItems()),F;try{for(A.s();!(F=A.n()).done;){var G=F.value;if(G.is("attributeElement")&&G.isSimilar(m)){d.mapper.bindElementToMarker(G,u.markerName);break}}}catch(Q){A.e(Q)}finally{A.f()}}}}}),{priority:i.converterPriority||"normal"}),o.on("addMarker:"+i.model,function(l){return function(u,d,v){if(!!d.item&&d.item instanceof _n){var g=xa(l,d,v);if(!!g&&!!v.consumable.test(d.item,u.name)){var m=v.mapper.toViewElement(d.item);if(m&&m.getCustomProperty("addHighlight")){v.consumable.consume(d.item,u.name);var _=y(Qe._createIn(d.item)),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;v.consumable.consume(P.item,u.name)}}catch(A){_.e(A)}finally{_.f()}m.getCustomProperty("addHighlight")(m,g,v.writer),v.mapper.bindElementToMarker(m,d.markerName)}}}}}(i.view),{priority:i.converterPriority||"normal"}),o.on("removeMarker:"+i.model,function(l){return function(u,d,v){if(!d.markerRange.isCollapsed){var g=xa(l,d,v);if(!!g){var m=vd(v.writer,g),_=v.mapper.markerNameToElements(d.markerName);if(_){var O=y(_),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;v.mapper.unbindElementFromMarkerName(A,d.markerName),A.is("attributeElement")?v.writer.unwrap(v.writer.createRangeOn(A),m):A.getCustomProperty("removeHighlight")(A,g.id,v.writer)}}catch(F){O.e(F)}finally{O.f()}v.writer.clearClonedElementsGroup(d.markerName),u.stop()}}}}}(i.view),{priority:i.converterPriority||"normal"})}}(t))}}]),e}(as);function vd(a,n){var e=a.createAttributeElement("span",n.attributes);return n.classes&&e._addClass(n.classes),n.priority&&(e._priority=n.priority),e._id=n.id,e}function rl(a,n){return typeof a=="function"?a:function(e,r){return function(t,i,o){typeof t=="string"&&(t={name:t});var s,l=Object.assign({},t.attributes);if(o=="container")s=i.createContainerElement(t.name,l);else if(o=="attribute"){var u={priority:t.priority||bo.DEFAULT_PRIORITY};s=i.createAttributeElement(t.name,l,u)}else s=i.createUIElement(t.name,l);if(t.styles)for(var d=Object.keys(t.styles),v=0,g=d;v<g.length;v++){var m=g[v];i.setStyle(m,t.styles[m],s)}if(t.classes){var _=t.classes;if(typeof _=="string")i.addClass(_,s);else{var O=y(_),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;i.addClass(A,s)}}catch(F){O.e(F)}finally{O.f()}}}return s}(a,r,n)}}function nl(a){return a.model.values?function(n,e){var r=a.view[n];return r?r(n,e):null}:a.view}function pd(a){return typeof a=="string"?function(n){return{key:a,value:n}}:typeof a=="object"?a.value?function(){return a}:function(n){return{key:a.key,value:n}}:a}function xa(a,n,e){var r=typeof a=="function"?a(n,e):a;return r?(r.priority||(r.priority=10),r.id||(r.id=n.markerName),r):null}var cp=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"elementToElement",value:function(t){return this.add(gd(t))}},{key:"elementToAttribute",value:function(t){return this.add(function(i){md(i=_a(i));var o=bd(i,!1),s=Eo(i.view),l=s?"element:"+s:"element";return function(u){u.on(l,o,{priority:i.converterPriority||"low"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(i){i=_a(i);var o=null;(typeof i.view=="string"||i.view.key)&&(o=function(l){typeof l.view=="string"&&(l.view={key:l.view});var u=l.view.key,d;if(u=="class"||u=="style")d=Y({},u=="class"?"classes":"styles",l.view.value);else{var v=l.view.value===void 0?/[\s\S]*/:l.view.value;d={attributes:Y({},u,v)}}return l.view.name&&(d.name=l.view.name),l.view=d,u}(i)),md(i,o);var s=bd(i,!0);return function(l){l.on("element",s,{priority:i.converterPriority||"low"})}}(t))}},{key:"elementToMarker",value:function(t){return this.add(function(i){return function(o){var s=o.model;o.model=function(l,u){var d=typeof s=="string"?s:s(l);return u.createElement("$marker",{"data-name":d})}}(i=_a(i)),gd(i)}(t))}}]),e}(as);function gd(a){var n=function(t){var i=t.view?new hr(t.view):null;return function(o,s,l){var u={};if(i){var d=i.match(s.viewItem);if(!d)return;u=d.match}u.name=!0;var v=(g=t.model,m=s.viewItem,_=l.writer,g instanceof Function?g(m,_):_.createElement(g)),g,m,_;if(!!v&&!!l.consumable.test(s.viewItem,u)){var O=l.splitToAllowedParent(v,s.modelCursor);if(!!O){l.writer.insert(v,O.position),l.convertChildren(s.viewItem,l.writer.createPositionAt(v,0)),l.consumable.consume(s.viewItem,u);var P=l.getSplitParts(v);s.modelRange=new Qe(l.writer.createPositionBefore(v),l.writer.createPositionAfter(P[P.length-1])),O.cursorParent?s.modelCursor=l.writer.createPositionAt(O.cursorParent,0):s.modelCursor=s.modelRange.end}}}}(a=_a(a)),e=Eo(a.view),r=e?"element:"+e:"element";return function(t){t.on(r,n,{priority:a.converterPriority||"normal"})}}function Eo(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function md(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=n===null||function(i){return i.getAttribute(n)},r=typeof a.model!="object"?a.model:a.model.key,t=typeof a.model!="object"||a.model.value===void 0?e:a.model.value;a.model={key:r,value:t}}function bd(a,n){var e=new hr(a.view);return function(r,t,i){var o=e.match(t.viewItem);if(!!o){var s=a.model.key,l=typeof a.model.value=="function"?a.model.value(t.viewItem):a.model.value;l!==null&&(function(u,d){var v=typeof u=="function"?u(d):u;return typeof v=="object"&&!Eo(v)?!1:!v.classes&&!v.attributes&&!v.styles}(a.view,t.viewItem)?o.match.name=!0:delete o.match.name,!!i.consumable.test(t.viewItem,o.match)&&(t.modelRange||(t=Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor))),function(u,d,v,g){for(var m=!1,_=0,O=Array.from(u.getItems({shallow:v}));_<O.length;_++){var P=O[_];g.schema.checkAttribute(P,d.key)&&(g.writer.setAttribute(d.key,d.value,P),m=!0)}return m}(t.modelRange,{key:s,value:l},n,i)&&i.consumable.consume(t.viewItem,o.match)))}}}var yd=function(){function a(n,e){var r=this;E(this,a),this.model=n,this.view=new ld(e),this.mapper=new cu,this.downcastDispatcher=new du({mapper:this.mapper});var t=this.model.document,i=t.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){r.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){r.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(t,"change",function(){r.view.change(function(s){r.downcastDispatcher.convertChanges(t.differ,o,s),r.downcastDispatcher.convertSelection(i,o,s)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(s,l){return function(u,d){var v=d.newSelection,g=new ka,m=[],_=y(v.getRanges()),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;m.push(l.toModelRange(P))}}catch(A){_.e(A)}finally{_.f()}g.setTo(m,{backward:v.isBackward}),g.isEqual(s.document.selection)||s.change(function(A){A.setSelection(g)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",function(s,l,u){if(!!u.consumable.consume(l.item,"insert")){var d=u.writer,v=u.mapper.toViewPosition(l.range.start),g=d.createText(l.item.data);d.insert(v,g)}},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(s,l,u){var d=u.mapper.toViewPosition(l.position),v=l.position.getShiftedBy(l.length),g=u.mapper.toViewPosition(v,{isPhantom:!0}),m=u.writer.createRange(d,g),_=u.writer.remove(m.getTrimmed()),O=y(u.writer.createRangeIn(_).getItems()),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;u.mapper.unbindViewElement(A)}}catch(F){O.e(F)}finally{O.f()}},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,u){var d=u.writer,v=d.document.selection,g=y(v.getRanges()),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;_.isCollapsed&&_.end.parent.isAttached()&&u.writer.mergeAttributes(_.start)}}catch(O){g.e(O)}finally{g.f()}d.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,u){var d=l.selection;if(!d.isCollapsed&&!!u.consumable.consume(d,"selection")){var v=[],g=y(d.getRanges()),m;try{for(g.s();!(m=g.n()).done;){var _=m.value,O=u.mapper.toViewRange(_);v.push(O)}}catch(P){g.e(P)}finally{g.f()}u.writer.setSelection(v,{backward:d.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,u){var d=l.selection;if(!!d.isCollapsed&&!!u.consumable.consume(d,"selection")){var v=u.writer,g=d.getFirstPosition(),m=u.mapper.toViewPosition(g),_=v.breakAttributes(m);v.setSelection(_)}},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(s){if(s.rootName=="$graveyard")return null;var l=new Av(r.view.document,s.name);return l.rootName=s.rootName,r.mapper.bindElements(s,l),l})}return C(a,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),a}();Zt(yd,On);var wd=function(){function a(){E(this,a),this._commands=new Map}return C(a,[{key:"add",value:function(e,r){this._commands.set(e,r)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var r=this.get(e);if(!r)throw new pe.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];r.execute.apply(r,i)}},{key:"names",value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"commands",value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e=y(this.commands()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.destroy()}}catch(i){e.e(i)}finally{e.f()}}}]),a}(),dp=function(){function a(){E(this,a),this._consumables=new Map}return C(a,[{key:"add",value:function(e,r){var t;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?t=this._consumables.get(e):(t=new fp(e),this._consumables.set(e,t)),t.add(r))}},{key:"test",value:function(e,r){var t=this._consumables.get(e);return t===void 0?null:e.is("text")||e.is("documentFragment")?t:t.test(r)}},{key:"consume",value:function(e,r){return!!this.test(e,r)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(r),!0)}},{key:"revert",value:function(e,r){var t=this._consumables.get(e);t!==void 0&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):t.revert(r))}}],[{key:"consumablesFromElement",value:function(e){var r={element:e,name:!0,attributes:[],classes:[],styles:[]},t=e.getAttributeKeys(),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s!="style"&&s!="class"&&r.attributes.push(s)}}catch(P){i.e(P)}finally{i.f()}var l=e.getClassNames(),u=y(l),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;r.classes.push(v)}}catch(P){u.e(P)}finally{u.f()}var g=e.getStyleNames(),m=y(g),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;r.styles.push(O)}}catch(P){m.e(P)}finally{m.f()}return r}},{key:"createFrom",value:function(e,r){if(r||(r=new a(e)),e.is("text"))return r.add(e),r;e.is("element")&&r.add(e,a.consumablesFromElement(e)),e.is("documentFragment")&&r.add(e);var t=y(e.getChildren()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;r=a.createFrom(o,r)}}catch(s){t.e(s)}finally{t.f()}return r}}]),a}(),fp=function(){function a(n){E(this,a),this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return C(a,[{key:"add",value:function(e){e.name&&(this._canConsumeName=!0);for(var r in this._consumables)r in e&&this._add(r,e[r])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var r in this._consumables)if(r in e){var t=this._test(r,e[r]);if(t!==!0)return t}return!0}},{key:"consume",value:function(e){e.name&&(this._canConsumeName=!1);for(var r in this._consumables)r in e&&this._consume(r,e[r])}},{key:"revert",value:function(e){e.name&&(this._canConsumeName=!0);for(var r in this._consumables)r in e&&this._revert(r,e[r])}},{key:"_add",value:function(e,r){var t=br(r)?r:[r],i=this._consumables[e],o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e==="attributes"&&(l==="class"||l==="style"))throw new pe.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(i.set(l,!0),e==="styles"){var u=y(this.element.document.stylesProcessor.getRelatedStyles(l)),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;i.set(v,!0)}}catch(g){u.e(g)}finally{u.f()}}}}catch(g){o.e(g)}finally{o.f()}}},{key:"_test",value:function(e,r){var t=br(r)?r:[r],i=this._consumables[e],o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style"){var u=i.get(l);if(u===void 0)return null;if(!u)return!1}else{var d=l=="class"?"classes":"styles",v=this._test(d,U(this._consumables[d].keys()));if(v!==!0)return v}}}catch(g){o.e(g)}finally{o.f()}return!0}},{key:"_consume",value:function(e,r){var t=br(r)?r:[r],i=this._consumables[e],o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style"){if(i.set(l,!1),e=="styles"){var u=y(this.element.document.stylesProcessor.getRelatedStyles(l)),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;i.set(v,!1)}}catch(m){u.e(m)}finally{u.f()}}}else{var g=l=="class"?"classes":"styles";this._consume(g,U(this._consumables[g].keys()))}}}catch(m){o.e(m)}finally{o.f()}}},{key:"_revert",value:function(e,r){var t=br(r)?r:[r],i=this._consumables[e],o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style")i.get(l)===!1&&i.set(l,!0);else{var u=l=="class"?"classes":"styles";this._revert(u,U(this._consumables[u].keys()))}}}catch(d){o.e(d)}finally{o.f()}}}]),a}(),kd=function(){function a(){var n=this;E(this,a),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(e,r){r[0]=new il(r[0])},{priority:"highest"}),this.on("checkChild",function(e,r){r[0]=new il(r[0]),r[1]=n.getDefinition(r[1])},{priority:"highest"})}return C(a,[{key:"register",value:function(e,r){if(this._sourceDefinitions[e])throw new pe.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},r)],this._clearCache()}},{key:"extend",value:function(e,r){if(!this._sourceDefinitions[e])throw new pe.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},r)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var r;return r=typeof e=="string"?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[r]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var r=this.getDefinition(e);return!(!r||!r.isBlock)}},{key:"isLimit",value:function(e){var r=this.getDefinition(e);return!!r&&!(!r.isLimit&&!r.isObject)}},{key:"isObject",value:function(e){var r=this.getDefinition(e);return!(!r||!r.isObject)}},{key:"isInline",value:function(e){var r=this.getDefinition(e);return!(!r||!r.isInline)}},{key:"checkChild",value:function(e,r){return!!r&&this._checkContextMatch(r,e)}},{key:"checkAttribute",value:function(e,r){var t=this.getDefinition(e.last);return!!t&&t.allowAttributes.includes(r)}},{key:"checkMerge",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e instanceof nt){var t=e.nodeBefore,i=e.nodeAfter;if(!(t instanceof _n))throw new pe.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(i instanceof _n))throw new pe.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(t,i)}var o=y(r.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(!this.checkChild(e,l))return!1}}catch(u){o.e(u)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",function(r,t){var i=K(t,2),o=i[0],s=i[1];if(!!s){var l=e(o,s);typeof l=="boolean"&&(r.stop(),r.return=l)}},{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",function(r,t){var i=K(t,2),o=i[0],s=i[1],l=e(o,s);typeof l=="boolean"&&(r.stop(),r.return=l)},{priority:"high"})}},{key:"setAttributeProperties",value:function(e,r){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),r)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var r;for(e instanceof nt?r=e.parent:r=(e instanceof Qe?[e]:Array.from(e.getRanges())).reduce(function(t,i){var o=i.getCommonAncestor();return t?t.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}},{key:"checkAttributeInSelection",value:function(e,r){if(e.isCollapsed){var t=[].concat(U(e.getFirstPosition().getAncestors()),[new bn("",e.getAttributes())]);return this.checkAttribute(t,r)}{var i=e.getRanges(),o=y(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=y(l),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;if(this.checkAttribute(v.item,r))return!0}}catch(g){u.e(g)}finally{u.f()}}}catch(g){o.e(g)}finally{o.f()}}return!1}},{key:"getValidRanges",value:N.mark(function n(e,r){var t,i,o;return N.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=N.mark(function u(d){var v,g,m;return N.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:v=y(d),O.prev=1,v.s();case 3:if((g=v.n()).done){O.next=8;break}return m=g.value,O.delegateYield(m.getMinimalFlatRanges(),"t0",6);case 6:O.next=3;break;case 8:O.next=13;break;case 10:O.prev=10,O.t1=O.catch(1),v.e(O.t1);case 13:return O.prev=13,v.f(),O.finish(13);case 16:case"end":return O.stop()}},u,null,[[1,10,13,16]])})(e),t=y(e),l.prev=2,t.s();case 4:if((i=t.n()).done){l.next=9;break}return o=i.value,l.delegateYield(this._getValidRangesForRange(o,r),"t0",7);case 7:l.next=4;break;case 9:l.next=14;break;case 11:l.prev=11,l.t1=l.catch(2),t.e(l.t1);case 14:return l.prev=14,t.f(),l.finish(14);case 17:case"end":return l.stop()}},n,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"both";if(this.checkChild(e,"$text"))return new Qe(e);var i,o,s=e.getAncestors().reverse().find(function(m){return r.isLimit(m)})||e.root;t!="both"&&t!="backward"||(i=new ta({boundaries:Qe._createIn(s),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new ta({boundaries:Qe._createIn(s),startPosition:e}));var l=y(N.mark(function m(_,O){var P,A,F;return N.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:P=!1;case 1:if(P){Q.next=18;break}if(P=!0,!_){Q.next=9;break}if(A=_.next(),Q.t0=A.done,Q.t0){Q.next=9;break}return P=!1,Q.next=9,{walker:_,value:A.value};case 9:if(!O){Q.next=16;break}if(F=O.next(),Q.t1=F.done,Q.t1){Q.next=16;break}return P=!1,Q.next=16,{walker:O,value:F.value};case 16:Q.next=1;break;case 18:case"end":return Q.stop()}},m)})(i,o)),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=d.walker==i?"elementEnd":"elementStart",g=d.value;if(g.type==v&&this.isObject(g.item))return Qe._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new Qe(g.nextPosition)}}catch(m){l.e(m)}finally{l.f()}return null}},{key:"findAllowedParent",value:function(e,r){for(var t=e.parent;t;){if(this.checkChild(t,r))return t;if(this.isLimit(t))return null;t=t.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,r){var t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o.is("text"))_d(this,o,r);else{var s=Qe._createIn(o).getPositions(),l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;_d(this,d.nodeBefore||d.parent,r)}}catch(v){l.e(v)}finally{l.f()}}}}catch(v){t.e(v)}finally{t.f()}}},{key:"createContext",value:function(e){return new il(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},r=this._sourceDefinitions,t=Object.keys(r),i=0,o=t;i<o.length;i++){var s=o[i];e[s]=hp(r[s],s)}for(var l=0,u=t;l<u.length;l++){var d=u[l];vp(e,d)}for(var v=0,g=t;v<g.length;v++){var m=g[v];pp(e,m)}for(var _=0,O=t;_<O.length;_++){var P=O[_];gp(e,P),mp(e,P)}for(var A=0,F=t;A<F.length;A++){var G=F[A];bp(e,G),yp(e,G)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length-1,i=r.getItem(t);if(e.allowIn.includes(i.name)){if(t==0)return!0;{var o=this.getDefinition(i);return this._checkContextMatch(o,r,t-1)}}return!1}},{key:"_getValidRangesForRange",value:N.mark(function n(e,r){var t,i,o,s,l;return N.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:t=e.start,i=e.start,o=y(e.getItems({shallow:!0})),d.prev=2,o.s();case 4:if((s=o.n()).done){d.next=19;break}if(l=s.value,d.t0=l.is("element"),!d.t0){d.next=9;break}return d.delegateYield(this._getValidRangesForRange(Qe._createIn(l),r),"t1",9);case 9:if(d.t2=this.checkAttribute(l,r),d.t2){d.next=16;break}if(d.t3=t.isEqual(i),d.t3){d.next=15;break}return d.next=15,new Qe(t,i);case 15:t=nt._createAfter(l);case 16:i=nt._createAfter(l);case 17:d.next=4;break;case 19:d.next=24;break;case 21:d.prev=21,d.t4=d.catch(2),o.e(d.t4);case 24:return d.prev=24,o.f(),d.finish(24);case 27:if(d.t5=t.isEqual(i),d.t5){d.next=31;break}return d.next=31,new Qe(t,i);case 31:case"end":return d.stop()}},n,this,[[2,21,24,27]])})}]),a}();Zt(kd,On);var il=function(){function a(n){if(E(this,a),n instanceof a)return n;typeof n=="string"?n=[n]:Array.isArray(n)||(n=n.getAncestors({includeSelf:!0})),n[0]&&typeof n[0]!="string"&&n[0].is("documentFragment")&&n.shift(),this._items=n.map(kp)}return C(a,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var r=new a([e]);return r._items=[].concat(U(this._items),U(r._items)),r}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._items.map(function(t){return t.name}),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}]),a}();function hp(a,n){var e={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(r,t){var i=y(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=Object.keys(s).filter(function(g){return g.startsWith("is")}),u=y(l),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;t[v]=s[v]}}catch(g){u.e(g)}finally{u.f()}}}catch(g){i.e(g)}finally{i.f()}}(a,e),Co(a,e,"allowIn"),Co(a,e,"allowContentOf"),Co(a,e,"allowWhere"),Co(a,e,"allowAttributes"),Co(a,e,"allowAttributesOf"),Co(a,e,"inheritTypesFrom"),function(r,t){var i=y(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.inheritAllFrom;l&&(t.allowContentOf.push(l),t.allowWhere.push(l),t.allowAttributesOf.push(l),t.inheritTypesFrom.push(l))}}catch(u){i.e(u)}finally{i.f()}}(a,e),e}function vp(a,n){var e=y(a[n].allowContentOf),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;a[t]&&wp(a,t).forEach(function(i){i.allowIn.push(n)})}}catch(i){e.e(i)}finally{e.f()}delete a[n].allowContentOf}function pp(a,n){var e=y(a[n].allowWhere),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=a[t];if(i){var o,s=i.allowIn;(o=a[n].allowIn).push.apply(o,U(s))}}}catch(l){e.e(l)}finally{e.f()}delete a[n].allowWhere}function gp(a,n){var e=y(a[n].allowAttributesOf),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=a[t];if(i){var o,s=i.allowAttributes;(o=a[n].allowAttributes).push.apply(o,U(s))}}}catch(l){e.e(l)}finally{e.f()}delete a[n].allowAttributesOf}function mp(a,n){var e=a[n],r=y(e.inheritTypesFrom),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=a[i];if(o){var s=Object.keys(o).filter(function(v){return v.startsWith("is")}),l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;d in e||(e[d]=o[d])}}catch(v){l.e(v)}finally{l.f()}}}}catch(v){r.e(v)}finally{r.f()}delete e.inheritTypesFrom}function bp(a,n){var e=a[n],r=e.allowIn.filter(function(t){return a[t]});e.allowIn=Array.from(new Set(r))}function yp(a,n){var e=a[n];e.allowAttributes=Array.from(new Set(e.allowAttributes))}function Co(a,n,e){var r=y(a),t;try{for(r.s();!(t=r.n()).done;){var i,o=t.value;typeof o[e]=="string"?n[e].push(o[e]):Array.isArray(o[e])&&(i=n[e]).push.apply(i,U(o[e]))}}catch(s){r.e(s)}finally{r.f()}}function wp(a,n){var e=a[n];return(r=a,Object.keys(r).map(function(t){return r[t]})).filter(function(t){return t.allowIn.includes(e.name)});var r}function kp(a){return typeof a=="string"?{name:a,getAttributeKeys:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}},n)}),getAttribute:function(){}}:{name:a.is("element")?a.name:"$text",getAttributeKeys:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(a.getAttributeKeys(),"t0",1);case 1:case"end":return r.stop()}},n)}),getAttribute:function(e){return a.getAttribute(e)}}}function _d(a,n,e){var r=y(n.getAttributeKeys()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;a.checkAttribute(n,i)||e.removeAttribute(i,n)}}catch(o){r.e(o)}finally{r.f()}}var xd=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,a),this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},n),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return C(a,[{key:"convert",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(v,g){var m,_=y(new il(v)),O;try{for(_.s();!(O=_.n()).done;){var P=O.value,A={},F=y(P.getAttributeKeys()),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;A[Q]=P.getAttribute(Q)}}catch(be){F.e(be)}finally{F.f()}var q=g.createElement(P.name,A);m&&g.append(q,m),m=nt._createAt(q,0)}}catch(be){_.e(be)}finally{_.f()}return m}(t,r),this.conversionApi.writer=r,this.conversionApi.consumable=dp.createFrom(e),this.conversionApi.store={};var i=this._convertItem(e,this._modelCursor),o=i.modelRange,s=r.createDocumentFragment();if(o){this._removeEmptyElements();for(var l=0,u=Array.from(this._modelCursor.parent.getChildren());l<u.length;l++){var d=u[l];r.append(d,s)}s.markers=function(v,g){var m=new Set,_=new Map,O=Qe._createIn(v).getItems(),P=y(O),A;try{for(P.s();!(A=P.n()).done;){var F=A.value;F.name=="$marker"&&m.add(F)}}catch(Ie){P.e(Ie)}finally{P.f()}var G=y(m),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value,be=q.getAttribute("data-name"),Se=g.createPositionBefore(q);_.has(be)?_.get(be).end=Se.clone():_.set(be,new Qe(Se.clone())),g.remove(q)}}catch(Ie){G.e(Ie)}finally{G.f()}return _}(s,r)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}},{key:"_convertItem",value:function(e,r){var t=Object.assign({viewItem:e,modelCursor:r,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,t,this.conversionApi):e.is("text")?this.fire("text",t,this.conversionApi):this.fire("documentFragment",t,this.conversionApi),t.modelRange&&!(t.modelRange instanceof Qe))throw new pe.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:t.modelRange,modelCursor:t.modelCursor}}},{key:"_convertChildren",value:function(e,r){for(var t=new Qe(r),i=r,o=0,s=Array.from(e.getChildren());o<s.length;o++){var l=s[o],u=this._convertItem(l,i);u.modelRange instanceof Qe&&(t.end=u.modelRange.end,i=u.modelCursor)}return{modelRange:t,modelCursor:i}}},{key:"_splitToAllowedParent",value:function(e,r){var t=this.conversionApi.schema.findAllowedParent(r,e);if(!t)return null;if(t===r.parent)return{position:r};if(this._modelCursor.parent.getAncestors().includes(t))return null;var i=this.conversionApi.writer.split(r,t),o=[],s=y(i.range.getWalker()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.type=="elementEnd")o.push(u.item);else{var d=o.pop(),v=u.item;this._registerSplitPair(d,v)}}}catch(g){s.e(g)}finally{s.f()}return{position:i.position,cursorParent:i.range.end.parent}}},{key:"_registerSplitPair",value:function(e,r){this._splitParts.has(e)||this._splitParts.set(e,[e]);var t=this._splitParts.get(e);this._splitParts.set(r,t),t.push(r)}},{key:"_getSplitParts",value:function(e){var r;return r=this._splitParts.has(e)?this._splitParts.get(e):[e],r}},{key:"_removeEmptyElements",value:function(){var e=!1,r=y(this._splitParts.keys()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isEmpty&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0)}}catch(o){r.e(o)}finally{r.f()}e&&this._removeEmptyElements()}}]),a}();Zt(xd,an);var Od=function(){function a(n,e){var r=this;E(this,a),this.model=n,this.stylesProcessor=e,this.processor,this.mapper=new cu,this.downcastDispatcher=new du({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",function(t,i,o){if(!!o.consumable.consume(i.item,"insert")){var s=o.writer,l=o.mapper.toViewPosition(i.range.start),u=s.createText(i.item.data);s.insert(l,u)}},{priority:"lowest"}),this.upcastDispatcher=new xd({schema:n.schema}),this.viewDocument=new zs(e),this._viewWriter=new Fc(this.viewDocument),this.upcastDispatcher.on("text",function(t,i,o){if(o.schema.checkChild(i.modelCursor,"$text")&&o.consumable.consume(i.viewItem)){var s=o.writer.createText(i.viewItem.data);o.writer.insert(s,i.modelCursor),i.modelRange=Qe._createFromPositionAndShift(i.modelCursor,s.offsetSize),i.modelCursor=i.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(t,i,o){if(!i.modelRange&&o.consumable.consume(i.viewItem,{name:!0})){var s=o.convertChildren(i.viewItem,i.modelCursor),l=s.modelRange,u=s.modelCursor;i.modelRange=l,i.modelCursor=u}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(t,i,o){if(!i.modelRange&&o.consumable.consume(i.viewItem,{name:!0})){var s=o.convertChildren(i.viewItem,i.modelCursor),l=s.modelRange,u=s.modelCursor;i.modelRange=l,i.modelCursor=u}},{priority:"lowest"}),this.decorate("init"),this.on("init",function(){r.fire("ready")},{priority:"lowest"})}return C(a,[{key:"get",value:function(e){var r=e||{},t=r.rootName,i=t===void 0?"main":t,o=r.trim,s=o===void 0?"empty":o;if(!this._checkIfRootsExists([i]))throw new pe.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);var l=this.model.document.getRoot(i);return s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l):""}},{key:"stringify",value:function(e){var r=this.toView(e);return this.processor.toData(r)}},{key:"toView",value:function(e){var r=this.viewDocument,t=this._viewWriter;this.mapper.clearBindings();var i=Qe._createIn(e),o=new ji(r);if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(i,t),!e.is("documentFragment")){var s=function(_){var O=[],P=_.root.document;if(!P)return[];var A=Qe._createIn(_),F=y(P.model.markers),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value,q=A.getIntersection(Q.getRange());q&&O.push([Q.name,q])}}catch(be){F.e(be)}finally{F.f()}return O}(e),l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=K(d,2),g=v[0],m=v[1];this.downcastDispatcher.convertMarkerAdd(g,m,t)}}catch(_){l.e(_)}finally{l.f()}}return o}},{key:"init",value:function(e){var r=this;if(this.model.document.version)throw new pe.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);var t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new pe.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",function(i){for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o],u=r.model.document.getRoot(l);i.insert(r.parse(t[l],u),u,0)}}),Promise.resolve()}},{key:"set",value:function(e){var r=this,t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new pe.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",function(i){i.setSelection(null),i.removeSelectionAttribute(r.model.document.selection.getAttributeKeys());for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o],u=r.model.document.getRoot(l);i.remove(i.createRangeIn(u)),i.insert(r.parse(t[l],u),u,0)}})}},{key:"parse",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root",t=this.processor.toView(e);return this.toModel(t,r)}},{key:"toModel",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root";return this.model.change(function(i){return r.upcastDispatcher.convert(e,i,t)})}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var r=y(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}}]),a}();Zt(Od,On);var _p=function(){function a(n,e){E(this,a),this._helpers=new Map,this._downcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return C(a,[{key:"addAlias",value:function(e,r){var t=this._downcast.includes(r);if(!this._upcast.includes(r)&&!t)throw new pe.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[r],isDowncast:t})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new pe.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var r=y(al(e)),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").elementToElement({model:o,view:s,converterPriority:e.converterPriority})}}catch(l){r.e(l)}finally{r.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var r=y(al(e)),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").elementToAttribute({view:s,model:o,converterPriority:e.converterPriority})}}catch(l){r.e(l)}finally{r.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var r=y(al(e)),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").attributeToAttribute({view:s,model:o})}}catch(l){r.e(l)}finally{r.f()}}},{key:"_createConversionHelpers",value:function(e){var r=e.name,t=e.dispatchers,i=e.isDowncast;if(this._helpers.has(r))throw new pe.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);var o=i?new li(t):new cp(t);this._helpers.set(r,o)}}]),a}();function al(a){var n,e,r,t,i,o;return N.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.model.values){l.next=20;break}n=y(a.model.values),l.prev=2,n.s();case 4:if((e=n.n()).done){l.next=10;break}return r=e.value,t={key:a.model.key,value:r},i=a.view[r],o=a.upcastAlso?a.upcastAlso[r]:void 0,l.delegateYield(vu(t,i,o),"t0",8);case 8:l.next=4;break;case 10:l.next=15;break;case 12:l.prev=12,l.t1=l.catch(2),n.e(l.t1);case 15:return l.prev=15,n.f(),l.finish(15);case 18:l.next=21;break;case 20:return l.delegateYield(vu(a.model,a.view,a.upcastAlso),"t2",21);case 21:case"end":return l.stop()}},$,null,[[2,12,15,18]])}function vu(a,n,e){var r,t,i;return N.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,{model:a,view:n};case 2:if(!e){s.next=21;break}e=Array.isArray(e)?e:[e],r=y(e),s.prev=5,r.s();case 7:if((t=r.n()).done){s.next=13;break}return i=t.value,s.next=11,{model:a,view:i};case 11:s.next=7;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(5),r.e(s.t0);case 18:return s.prev=18,r.f(),s.finish(18);case 21:case"end":return s.stop()}},x,null,[[5,15,18,21]])}var ol=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";E(this,a),this.operations=[],this.type=n}return C(a,[{key:"baseVersion",get:function(){var e=y(this.operations),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.baseVersion!==null)return t.baseVersion}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}}]),a}(),di=function(){function a(n){E(this,a),this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}return C(a,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(e){return new this(e.baseVersion)}}]),a}(),Qa=function(){function a(n){E(this,a),this.markers=new Map,this._children=new Oo,n&&this._insertChild(0,n)}return C(a,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(e){return e==="documentFragment"||e==="model:documentFragment"}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var r=this,t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;r=r.getChild(r.offsetToIndex(o))}}catch(s){t.e(s)}finally{t.f()}return r}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e=[],r=y(this._children),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e.push(i.toJSON())}}catch(o){r.e(o)}finally{r.f()}return e}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,r){var t=function(l){return typeof l=="string"?[new bn(l)]:(Zn(l)||(l=[l]),Array.from(l).map(function(u){return typeof u=="string"?new bn(u):u instanceof Di?new bn(u.data,u.getAttributes()):u}))}(r),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.parent!==null&&s._remove(),s.parent=this}}catch(l){i.e(l)}finally{i.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=this._children._removeNodes(e,r),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.parent=null}}catch(l){i.e(l)}finally{i.f()}return t}}],[{key:"fromJSON",value:function(e){var r=[],t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.name?r.push(_n.fromJSON(o)):r.push(bn.fromJSON(o))}}catch(s){t.e(s)}finally{t.f()}return new a(r)}}]),a}();function pu(a,n){var e=(n=Ed(n)).reduce(function(i,o){return i+o.offsetSize},0),r=a.parent;on(a);var t=a.index;return r._insertChild(t,n),ss(r,t+n.length),ss(r,t),new Qe(a,a.getShiftedBy(e))}function Pd(a){if(!a.isFlat)throw new pe.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);var n=a.start.parent;on(a.start),on(a.end);var e=n._removeChildren(a.start.index,a.end.index-a.start.index);return ss(n,a.start.index),e}function os(a,n){if(!a.isFlat)throw new pe.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);var e=Pd(a);return pu(n=n._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),e)}function Ed(a){var n=[];a instanceof Array||(a=[a]);for(var e=0;e<a.length;e++)if(typeof a[e]=="string")n.push(new bn(a[e]));else if(a[e]instanceof Di)n.push(new bn(a[e].data,a[e].getAttributes()));else if(a[e]instanceof Qa||a[e]instanceof Oo){var r=y(a[e]),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i)}}catch(u){r.e(u)}finally{r.f()}}else a[e]instanceof wa&&n.push(a[e]);for(var o=1;o<n.length;o++){var s=n[o],l=n[o-1];s instanceof bn&&l instanceof bn&&Cd(s,l)&&(n.splice(o-1,2,new bn(l.data+s.data,l.getAttributes())),o--)}return n}function ss(a,n){var e=a.getChild(n-1),r=a.getChild(n);if(e&&r&&e.is("text")&&r.is("text")&&Cd(e,r)){var t=new bn(e.data+r.data,e.getAttributes());a._removeChildren(n-1,2),a._insertChild(n-1,t)}}function on(a){var n=a.textNode,e=a.parent;if(n){var r=a.offset-n.startOffset,t=n.index;e._removeChildren(t,1);var i=new bn(n.data.substr(0,r),n.getAttributes()),o=new bn(n.data.substr(r),n.getAttributes());e._insertChild(t,[i,o])}}function Cd(a,n){var e=a.getAttributes(),r=n.getAttributes(),t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o[1]!==n.getAttribute(o[0]))return!1;r.next()}}catch(s){t.e(s)}finally{t.f()}return r.next().done}var Ad=function(n,e){return Xc(n,e)},zn=function(a){S(e,a);var n=D(e);function e(r,t,i,o,s){var l;return E(this,e),l=n.call(this,s),l.range=r.clone(),l.key=t,l.oldValue=i===void 0?null:i,l.newValue=o===void 0?null:o,l}return C(e,[{key:"type",get:function(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new e(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new pe.b("attribute-operation-range-not-flat: The range to change is not flat.",this);var t=y(this.range.getItems({shallow:!0})),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(this.oldValue!==null&&!Ad(o.getAttribute(this.key),this.oldValue))throw new pe.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:o,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&o.hasAttribute(this.key))throw new pe.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:o,key:this.key})}}catch(s){t.e(s)}finally{t.f()}}},{key:"_execute",value:function(){Ad(this.oldValue,this.newValue)||function(t,i,o){on(t.start),on(t.end);var s=y(t.getItems({shallow:!0})),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=u.is("textProxy")?u.textNode:u;o!==null?d._setAttribute(i,o):d._removeAttribute(i),ss(d.parent,d.index)}}catch(v){s.e(v)}finally{s.f()}ss(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(t,i){return new e(Qe.fromJSON(t.range,i),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),e}(di),xp=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,null),i.sourcePosition=r.clone(),i.howMany=t,i}return C(e,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new pe.b("detach-operation-on-document-node: Cannot detach document node.",this)}},{key:"_execute",value:function(){Pd(Qe._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),e}(di),Jr=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,o),s.sourcePosition=r.clone(),s.sourcePosition.stickiness="toNext",s.howMany=t,s.targetPosition=i.clone(),s.targetPosition.stickiness="toNone",s}return C(e,[{key:"type",get:function(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,i=this.targetPosition.parent,o=this.sourcePosition.offset,s=this.targetPosition.offset;if(o+this.howMany>t.maxOffset)throw new pe.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===i&&o<s&&s<o+this.howMany)throw new pe.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&ie(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){var l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=o&&this.targetPosition.path[l]<o+this.howMany)throw new pe.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}},{key:"_execute",value:function(){os(Qe._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(t,i){var o=nt.fromJSON(t.sourcePosition,i),s=nt.fromJSON(t.targetPosition,i);return new this(o,t.howMany,s,t.baseVersion)}}]),e}(di),Wn=function(a){S(e,a);var n=D(e);function e(r,t,i){var o;return E(this,e),o=n.call(this,i),o.position=r.clone(),o.position.stickiness="toNone",o.nodes=new Oo(Ed(t)),o.shouldReceiveAttributes=!1,o}return C(e,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var t=new Oo(U(this.nodes).map(function(o){return o._clone(!0)})),i=new e(this.position,t,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,i=new nt(t,[0]);return new Jr(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new pe.b("insert-operation-position-invalid: Insertion position is invalid.",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new Oo(U(t).map(function(i){return i._clone(!0)})),pu(this.position,t)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(t,i){var o=[],s=y(t.nodes),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.name?o.push(_n.fromJSON(u)):o.push(bn.fromJSON(u))}}catch(v){s.e(v)}finally{s.f()}var d=new e(nt.fromJSON(t.position,i),o,t.baseVersion);return d.shouldReceiveAttributes=t.shouldReceiveAttributes,d}}]),e}(di),Ni=function(a){S(e,a);var n=D(e);function e(r,t,i,o,s,l){var u;return E(this,e),u=n.call(this,l),u.name=r,u.oldRange=t?t.clone():null,u.newRange=i?i.clone():null,u.affectsData=s,u._markers=o,u}return C(e,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new e(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(t,i){return new e(t.name,t.oldRange?Qe.fromJSON(t.oldRange,i):null,t.newRange?Qe.fromJSON(t.newRange,i):null,i.model.markers,t.affectsData,t.baseVersion)}}]),e}(di),fi=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,o),s.position=r,s.position.stickiness="toNext",s.oldName=t,s.newName=i,s}return C(e,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new e(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof _n))throw new pe.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new pe.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(t,i){return new e(nt.fromJSON(t.position,i),t.oldName,t.newName,t.baseVersion)}}]),e}(di),ls=function(a){S(e,a);var n=D(e);function e(r,t,i,o,s){var l;return E(this,e),l=n.call(this,s),l.root=r,l.key=t,l.oldValue=i,l.newValue=o,l}return C(e,[{key:"type",get:function(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new e(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new pe.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new pe.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new pe.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(t,i){if(!i.getRoot(t.root))throw new pe.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new e(i.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),e}(di),Pn=function(a){S(e,a);var n=D(e);function e(r,t,i,o,s){var l;return E(this,e),l=n.call(this,s),l.sourcePosition=r.clone(),l.sourcePosition.stickiness="toPrevious",l.howMany=t,l.targetPosition=i.clone(),l.targetPosition.stickiness="toNext",l.graveyardPosition=o.clone(),l}return C(e,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new nt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Qe(this.sourcePosition,t)}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),o=new nt(this.sourcePosition.root,i)._getTransformedByMergeOperation(this),s=new un(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return s.insertionPosition=o,s}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,i=this.targetPosition.parent;if(!t.parent)throw new pe.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!i.parent)throw new pe.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new pe.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent;os(Qe._createIn(t),this.targetPosition),os(Qe._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(t,i){var o=nt.fromJSON(t.sourcePosition,i),s=nt.fromJSON(t.targetPosition,i),l=nt.fromJSON(t.graveyardPosition,i);return new this(o,t.howMany,s,l,t.baseVersion)}}]),e}(di),un=function(a){S(e,a);var n=D(e);function e(r,t,i,o){var s;return E(this,e),s=n.call(this,o),s.splitPosition=r.clone(),s.splitPosition.stickiness="toNext",s.howMany=t,s.insertionPosition=e.getInsertionPosition(r),s.insertionPosition.stickiness="toNone",s.graveyardPosition=i?i.clone():null,s.graveyardPosition&&(s.graveyardPosition.stickiness="toNext"),s}return C(e,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new nt(this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Qe(this.splitPosition,t)}},{key:"clone",value:function(){var t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,i=new nt(t,[0]);return new Pn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,i=this.splitPosition.offset;if(!t||t.maxOffset<i)throw new pe.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new pe.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new pe.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new pe.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)os(Qe._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var i=t._clone();pu(this.insertionPosition,i)}os(new Qe(nt._createAt(t,this.splitPosition.offset),nt._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=M(I(e.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(t){var i=t.path.slice(0,-1);return i[i.length-1]++,new nt(t.root,i)}},{key:"fromJSON",value:function(t,i){var o=nt.fromJSON(t.splitPosition,i),s=nt.fromJSON(t.insertionPosition,i),l=t.graveyardPosition?nt.fromJSON(t.graveyardPosition,i):null,u=new this(o,t.howMany,l,t.baseVersion);return u.insertionPosition=s,u}}]),e}(di),gu=function(a){S(e,a);var n=D(e);function e(r,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"main";return E(this,e),i=n.call(this,t),i._document=r,i.rootName=o,i}return C(e,[{key:"document",get:function(){return this._document}},{key:"is",value:function(t,i){return i?i===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t===this.name||t==="model:"+this.name||t==="node"||t==="model:node"}},{key:"toJSON",value:function(){return this.rootName}}]),e}(_n),Op=function(){function a(n,e){E(this,a),this.model=n,this.batch=e}return C(a,[{key:"createText",value:function(e,r){return new bn(e,r)}},{key:"createElement",value:function(e,r){return new _n(e,r)}},{key:"createDocumentFragment",value:function(){return new Qa}},{key:"insert",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof bn&&e.data=="")){var i=nt._createAt(r,t);if(e.parent){if(Md(e.root,i.root))return void this.move(Qe._createOn(e),i);if(e.root.document)throw new pe.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}var o=i.root.document?i.root.document.version:null,s=new Wn(i,e,o);if(e instanceof bn&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),e instanceof Qa){var l=y(e.markers),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=K(d,2),g=v[0],m=v[1],_=nt._createAt(m.root,0),O={range:new Qe(m.start._getCombined(_,i),m.end._getCombined(_,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,O):this.addMarker(g,O)}}catch(P){l.e(P)}finally{l.f()}}}}},{key:"insertText",value:function(e,r,t,i){r instanceof Qa||r instanceof _n||r instanceof nt?this.insert(this.createText(e),r,t):this.insert(this.createText(e,r),t,i)}},{key:"insertElement",value:function(e,r,t,i){r instanceof Qa||r instanceof _n||r instanceof nt?this.insert(this.createElement(e),r,t):this.insert(this.createElement(e,r),t,i)}},{key:"append",value:function(e,r){this.insert(e,r,"end")}},{key:"appendText",value:function(e,r,t){r instanceof Qa||r instanceof _n?this.insert(this.createText(e),r,"end"):this.insert(this.createText(e,r),t,"end")}},{key:"appendElement",value:function(e,r,t){r instanceof Qa||r instanceof _n?this.insert(this.createElement(e),r,"end"):this.insert(this.createElement(e,r),t,"end")}},{key:"setAttribute",value:function(e,r,t){if(this._assertWriterUsedCorrectly(),t instanceof Qe){var i=t.getMinimalFlatRanges(),o=y(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;Sd(this,e,r,l)}}catch(u){o.e(u)}finally{o.f()}}else Td(this,e,r,t)}},{key:"setAttributes",value:function(e,r){var t=y(fr(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=K(o,2),l=s[0],u=s[1];this.setAttribute(l,u,r)}}catch(d){t.e(d)}finally{t.f()}}},{key:"removeAttribute",value:function(e,r){if(this._assertWriterUsedCorrectly(),r instanceof Qe){var t=r.getMinimalFlatRanges(),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;Sd(this,e,null,s)}}catch(l){i.e(l)}finally{i.f()}}else Td(this,e,null,r)}},{key:"clearAttributes",value:function(e){var r=this;this._assertWriterUsedCorrectly();var t=function(u){var d=y(u.getAttributeKeys()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;r.removeAttribute(g,u)}}catch(m){d.e(m)}finally{d.f()}};if(e instanceof Qe){var i=y(e.getItems()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t(s)}}catch(l){i.e(l)}finally{i.f()}}else t(e)}},{key:"move",value:function(e,r,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Qe))throw new pe.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new pe.b("writer-move-range-not-flat: Range to move is not flat.",this);var i=nt._createAt(r,t);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!Md(e.root,i.root))throw new pe.b("writer-move-different-document: Range is going to be moved between different documents.",this);var o=e.root.document?e.root.document.version:null,s=new Jr(e.start,e.end.offset-e.start.offset,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var r=(e instanceof Qe?e:Qe._createOn(e)).getMinimalFlatRanges().reverse(),t=y(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._addOperationForAffectedMarkers("move",o),Pp(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(s){t.e(s)}finally{t.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var r=e.nodeBefore,t=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(r instanceof _n))throw new pe.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(t instanceof _n))throw new pe.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,r,t){return this.model.createPositionFromPath(e,r,t)}},{key:"createPositionAt",value:function(e,r){return this.model.createPositionAt(e,r)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,r){return this.model.createRange(e,r)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,r,t){return this.model.createSelection(e,r,t)}},{key:"_mergeDetached",value:function(e){var r=e.nodeBefore,t=e.nodeAfter;this.move(Qe._createIn(t),nt._createAt(r,"end")),this.remove(t)}},{key:"_merge",value:function(e){var r=nt._createAt(e.nodeBefore,"end"),t=nt._createAt(e.nodeAfter,0),i=e.root.document.graveyard,o=new nt(i,[0]),s=e.root.document.version,l=new Pn(t,e.nodeAfter.maxOffset,r,o,s);this.batch.addOperation(l),this.model.applyOperation(l)}},{key:"rename",value:function(e,r){if(this._assertWriterUsedCorrectly(),!(e instanceof _n))throw new pe.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);var t=e.root.document?e.root.document.version:null,i=new fi(nt._createBefore(e),e.name,r,t);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,r){this._assertWriterUsedCorrectly();var t,i,o=e.parent;if(!o.parent)throw new pe.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(r||(r=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(r))throw new pe.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{var s=o.root.document?o.root.document.version:null,l=o.maxOffset-e.offset,u=new un(e,l,null,s);this.batch.addOperation(u),this.model.applyOperation(u),t||i||(t=o,i=e.parent.nextSibling),o=(e=this.createPositionAfter(e.parent)).parent}while(o!==r);return{position:e,range:new Qe(nt._createAt(t,"end"),nt._createAt(i,0))}}},{key:"wrap",value:function(e,r){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new pe.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);var t=r instanceof _n?r:new _n(r);if(t.childCount>0)throw new pe.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(t.parent!==null)throw new pe.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(t,e.start);var i=new Qe(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,nt._createAt(t,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new pe.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(Qe._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new pe.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);var t=r.usingOperation,i=r.range,o=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(e))throw new pe.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new pe.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return t?(us(this,e,null,i,o),this.model.markers.get(e)):this.model.markers._set(e,i,t,o)}},{key:"updateMarker",value:function(e,r){this._assertWriterUsedCorrectly();var t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new pe.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!r)return void this.model.markers._refresh(i);var o=typeof r.usingOperation=="boolean",s=typeof r.affectsData=="boolean",l=s?r.affectsData:i.affectsData;if(!o&&!r.range&&!s)throw new pe.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);var u=i.getRange(),d=r.range?r.range:u;o&&r.usingOperation!==i.managedUsingOperations?r.usingOperation?us(this,t,null,d,l):(us(this,t,u,null,l),this.model.markers._set(t,d,void 0,l)):i.managedUsingOperations?us(this,t,u,d,l):this.model.markers._set(t,d,void 0,l)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var r=typeof e=="string"?e:e.name;if(!this.model.markers.has(r))throw new pe.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);var t=this.model.markers.get(r);if(!t.managedUsingOperations)return void this.model.markers._remove(r);us(this,r,t.getRange(),null,t.affectsData)}},{key:"setSelection",value:function(e,r,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,r,t)}},{key:"setSelectionFocus",value:function(e,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,r)}},{key:"setSelectionAttribute",value:function(e,r){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,r);else{var t=y(fr(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=K(o,2),l=s[0],u=s[1];this._setSelectionAttribute(l,u)}}catch(d){t.e(d)}finally{t.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else{var r=y(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._removeSelectionAttribute(i)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,r){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var i=wi._getStoreAttributeKey(e);this.setAttribute(i,r,t.anchor.parent)}t._setAttribute(e,r)}},{key:"_removeSelectionAttribute",value:function(e){var r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){var t=wi._getStoreAttributeKey(e);this.removeAttribute(t,r.anchor.parent)}r._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new pe.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,r){var t=y(this.model.markers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(!!o.managedUsingOperations){var s=o.getRange(),l=!1;if(e==="move")l=r.containsPosition(s.start)||r.start.isEqual(s.start)||r.containsPosition(s.end)||r.end.isEqual(s.end);else{var u=r.nodeBefore,d=r.nodeAfter,v=s.start.parent==u&&s.start.isAtEnd,g=s.end.parent==d&&s.end.offset==0,m=s.end.nodeAfter==d,_=s.start.nodeAfter==d;l=v||g||m||_}l&&this.updateMarker(o.name,{range:s})}}}catch(O){t.e(O)}finally{t.f()}}}]),a}();function Sd(a,n,e,r){var t=a.model,i=t.document,o,s,l,u=r.start,d=y(r.getWalker({shallow:!0})),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;l=g.item.getAttribute(n),o&&s!=l&&(s!=e&&m(),u=o),o=g.nextPosition,s=l}}catch(_){d.e(_)}finally{d.f()}function m(){var _=new Qe(u,o),O=_.root.document?i.version:null,P=new zn(_,n,s,e,O);a.batch.addOperation(P),t.applyOperation(P)}o instanceof nt&&o!=u&&s!=e&&m()}function Td(a,n,e,r){var t=a.model,i=t.document,o=r.getAttribute(n),s,l;if(o!=e){if(r.root===r){var u=r.document?i.version:null;l=new ls(r,n,o,e,u)}else{s=new Qe(nt._createBefore(r),a.createPositionAfter(r));var d=s.root.document?i.version:null;l=new zn(s,n,o,e,d)}a.batch.addOperation(l),t.applyOperation(l)}}function us(a,n,e,r,t){var i=a.model,o=i.document,s=new Ni(n,e,r,i.markers,t,o.version);a.batch.addOperation(s),i.applyOperation(s)}function Pp(a,n,e,r){var t;if(a.root.document){var i=r.document,o=new nt(i.graveyard,[0]);t=new Jr(a,n,o,i.version)}else t=new xp(a,n);e.addOperation(t),r.applyOperation(t)}function Md(a,n){return a===n||a instanceof gu&&n instanceof gu}var Ep=function(){function a(n){E(this,a),this._markerCollection=n,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return C(a,[{key:"isEmpty",get:function(){return this._changesInElement.size==0&&this._changedMarkers.size==0}},{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var r=Qe._createOn(e),t=y(this._markerCollection.getMarkersIntersectingRange(r)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.getRange();this.bufferMarkerChange(o.name,s,s,o.affectsData)}}catch(l){t.e(l)}finally{t.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var r=y(e.range.getItems({shallow:!0})),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._isInInsertedElement(i.parent)||this._markAttribute(i)}}catch(A){r.e(A)}finally{r.f()}break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var o=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);o||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var l=Qe._createFromPositionAndShift(e.position,1),u=y(this._markerCollection.getMarkersIntersectingRange(l)),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=v.getRange();this.bufferMarkerChange(v.name,g,g,v.affectsData)}}catch(A){u.e(A)}finally{u.f()}break}case"split":{var m=e.splitPosition.parent;this._isInInsertedElement(m)||this._markRemove(m,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{var _=e.sourcePosition.parent;this._isInInsertedElement(_.parent)||this._markRemove(_.parent,_.startOffset,1);var O=e.graveyardPosition.parent;this._markInsert(O,e.graveyardPosition.offset,1);var P=e.targetPosition.parent;this._isInInsertedElement(P)||this._markInsert(P,e.targetPosition.offset,_.maxOffset);break}}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,r,t,i){var o=this._changedMarkers.get(e);o?(o.newRange=t,o.affectsData=i,o.oldRange==null&&o.newRange==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:r,newRange:t,affectsData:i})}},{key:"getMarkersToRemove",value:function(){var e=[],r=y(this._changedMarkers),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=K(i,2),s=o[0],l=o[1];l.oldRange!=null&&e.push({name:s,range:l.oldRange})}}catch(u){r.e(u)}finally{r.f()}return e}},{key:"getMarkersToAdd",value:function(){var e=[],r=y(this._changedMarkers),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=K(i,2),s=o[0],l=o[1];l.newRange!=null&&e.push({name:s,range:l.newRange})}}catch(u){r.e(u)}finally{r.f()}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}})}},{key:"hasDataChanges",value:function(){var e=y(this._changedMarkers),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=K(t,2),o=i[1];if(o.affectsData)return!0}}catch(s){e.e(s)}finally{e.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var r=[],t=y(this._changesInElement.keys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=this._changesInElement.get(o).sort(function(yt,dt){return yt.offset===dt.offset?yt.type!=dt.type?yt.type=="remove"?-1:1:0:yt.offset<dt.offset?-1:1}),l=this._elementSnapshots.get(o),u=Id(o.getChildren()),d=Cp(l.length,s),v=0,g=0,m=y(d),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;if(O==="i")r.push(this._getInsertDiff(o,v,u[v].name)),v++;else if(O==="r")r.push(this._getRemoveDiff(o,v,l[g].name)),g++;else if(O==="a"){var P=u[v].attributes,A=l[g].attributes,F=void 0;if(u[v].name=="$text")F=new Qe(nt._createAt(o,v),nt._createAt(o,v+1));else{var G=o.offsetToIndex(v);F=new Qe(nt._createAt(o,v),nt._createAt(o.getChild(G),0))}r.push.apply(r,U(this._getAttributesDiff(F,A,P))),v++,g++}else v++,g++}}catch(yt){m.e(yt)}finally{m.f()}}}catch(yt){t.e(yt)}finally{t.f()}r.sort(function(yt,dt){return yt.position.root!=dt.position.root?yt.position.root.rootName<dt.position.root.rootName?-1:1:yt.position.isEqual(dt.position)?yt.changeCount-dt.changeCount:yt.position.isBefore(dt.position)?-1:1});for(var Q=1;Q<r.length;Q++){var q=r[Q-1],be=r[Q],Se=q.type=="remove"&&be.type=="remove"&&q.name=="$text"&&be.name=="$text"&&q.position.isEqual(be.position),Ie=q.type=="insert"&&be.type=="insert"&&q.name=="$text"&&be.name=="$text"&&q.position.parent==be.position.parent&&q.position.offset+q.length==be.position.offset,Ue=q.type=="attribute"&&be.type=="attribute"&&q.position.parent==be.position.parent&&q.range.isFlat&&be.range.isFlat&&q.position.offset+q.length==be.position.offset&&q.attributeKey==be.attributeKey&&q.attributeOldValue==be.attributeOldValue&&q.attributeNewValue==be.attributeNewValue;(Se||Ie||Ue)&&(r[Q-1].length++,Ue&&(r[Q-1].range.end=r[Q-1].range.end.getShiftedBy(1)),r.splice(Q,1),Q--)}for(var ot=0,bt=r;ot<bt.length;ot++){var jt=bt[ot];delete jt.changeCount,jt.type=="attribute"&&(delete jt.position,delete jt.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=r.slice(),this._cachedChanges=r.slice().filter(mu),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,r,t){var i={type:"insert",offset:r,howMany:t,count:this._changeCount++};this._markChange(e,i)}},{key:"_markRemove",value:function(e,r,t){var i={type:"remove",offset:r,howMany:t,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,r,t)}},{key:"_markAttribute",value:function(e){var r={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,r)}},{key:"_markChange",value:function(e,r){this._makeSnapshot(e);var t=this._getChangesForElement(e);this._handleChange(r,t),t.push(r);for(var i=0;i<t.length;i++)t[i].howMany<1&&(t.splice(i,1),i--)}},{key:"_getChangesForElement",value:function(e){var r;return this._changesInElement.has(e)?r=this._changesInElement.get(e):(r=[],this._changesInElement.set(e,r)),r}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Id(e.getChildren()))}},{key:"_handleChange",value:function(e,r){e.nodesToHandle=e.howMany;var t=y(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=e.offset+e.howMany,l=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<l&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<l){var u=o.howMany;o.howMany=e.offset-o.offset,r.unshift({type:"attribute",offset:s,howMany:u-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(s<=o.offset)o.offset-=e.howMany;else if(s<=l)if(e.offset<o.offset){var d=s-o.offset;o.offset=e.offset,o.howMany-=d,e.nodesToHandle-=d}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<l){var v=l-e.offset;o.howMany-=v,e.nodesToHandle-=v}}if(o.type=="remove"&&(s<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(s<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){var g=s-o.offset;o.offset=e.offset,o.howMany-=g}else if(e.offset<l)if(s<=l){var m=o.howMany;o.howMany=e.offset-o.offset;var _=m-o.howMany-e.nodesToHandle;r.unshift({type:"attribute",offset:e.offset,howMany:_,count:this._changeCount++})}else o.howMany-=l-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&s>o.offset){if(s>l){var O={type:"attribute",offset:l,howMany:s-l,count:this._changeCount++};this._handleChange(O,r),r.push(O)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<l&&(s>l?(e.nodesToHandle=s-l,e.offset=l):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&s>o.offset){var P={type:"attribute",offset:o.offset,howMany:s-o.offset,count:this._changeCount++};this._handleChange(P,r),r.push(P),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&s<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&s>=l&&(o.howMany=0))}}}catch(A){t.e(A)}finally{t.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,r,t){return{type:"insert",position:nt._createAt(e,r),name:t,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,r,t){return{type:"remove",position:nt._createAt(e,r),name:t,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,r,t){var i=[];t=new Map(t);var o=y(r),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=K(l,2),d=u[0],v=u[1],g=t.has(d)?t.get(d):null;g!==v&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:d,attributeOldValue:v,attributeNewValue:g,changeCount:this._changeCount++}),t.delete(d)}}catch(G){o.e(G)}finally{o.f()}var m=y(t),_;try{for(m.s();!(_=m.n()).done;){var O=_.value,P=K(O,2),A=P[0],F=P[1];i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:A,attributeOldValue:null,attributeNewValue:F,changeCount:this._changeCount++})}}catch(G){m.e(G)}finally{m.f()}return i}},{key:"_isInInsertedElement",value:function(e){var r=e.parent;if(!r)return!1;var t=this._changesInElement.get(r),i=e.startOffset;if(t){var o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.type=="insert"&&i>=l.offset&&i<l.offset+l.howMany)return!0}}catch(u){o.e(u)}finally{o.f()}}return this._isInInsertedElement(r)}},{key:"_removeAllNestedChanges",value:function(e,r,t){var i=new Qe(nt._createAt(e,r),nt._createAt(e,r+t)),o=y(i.getItems({shallow:!0})),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}catch(u){o.e(u)}finally{o.f()}}}]),a}();function Id(a){var n=[],e=y(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.is("text"))for(var i=0;i<t.data.length;i++)n.push({name:"$text",attributes:new Map(t.getAttributes())});else n.push({name:t.name,attributes:new Map(t.getAttributes())})}}catch(o){e.e(o)}finally{e.f()}return n}function Cp(a,n){var e=[],r=0,t=0,i=y(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.offset>r){for(var l=0;l<s.offset-r;l++)e.push("e");t+=s.offset-r}if(s.type=="insert"){for(var u=0;u<s.howMany;u++)e.push("i");r=s.offset+s.howMany}else if(s.type=="remove"){for(var d=0;d<s.howMany;d++)e.push("r");r=s.offset,t+=s.howMany}else e.push.apply(e,U("a".repeat(s.howMany).split(""))),r=s.offset+s.howMany,t+=s.howMany}}catch(g){i.e(g)}finally{i.f()}if(t<a)for(var v=0;v<a-t-r;v++)e.push("e");return e}function mu(a){var n=a.position&&a.position.root.rootName=="$graveyard",e=a.range&&a.range.root.rootName=="$graveyard";return!n&&!e}var Ap=function(){function a(){E(this,a),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return C(a,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.POSITIVE_INFINITY;return e<0?[]:this._operations.slice(e,r)}},{key:"getOperation",value:function(e){return this._operations[e]}},{key:"setOperationAsUndone",value:function(e,r){this._undoPairs.set(r,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),a}();function Rd(a,n){return!!(e=a.charAt(n-1))&&e.length==1&&/[\ud800-\udbff]/.test(e)&&function(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}(a.charAt(n));var e}function jd(a,n){return!!(e=a.charAt(n))&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);var e}var bu=function(){function a(n){var e=this;E(this,a),this.model=n,this.version=0,this.history=new Ap(this),this.selection=new wi(this),this.roots=new jn({idProperty:"rootName"}),this.differ=new Ep(n.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(n,"applyOperation",function(r,t){var i=t[0];if(i.isDocumentOperation&&i.baseVersion!==e.version)throw new pe.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",e,{operation:i})},{priority:"highest"}),this.listenTo(n,"applyOperation",function(r,t){var i=t[0];i.isDocumentOperation&&e.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(n,"applyOperation",function(r,t){var i=t[0];i.isDocumentOperation&&(e.version++,e.history.addOperation(i))},{priority:"low"}),this.listenTo(this.selection,"change",function(){e._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",function(r,t,i,o){e.differ.bufferMarkerChange(t.name,i,o,t.affectsData),i===null&&t.on("change",function(s,l){e.differ.bufferMarkerChange(t.name,l,t.getRange(),t.affectsData)})})}return C(a,[{key:"graveyard",get:function(){return this.getRoot("$graveyard")}},{key:"createRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"$root",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main";if(this.roots.get(r))throw new pe.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:r});var t=new gu(this,e,r);return this.roots.add(t),t}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,function(e){return e.rootName}).filter(function(e){return e!="$graveyard"})}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=Ne(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e=y(this.roots),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t!==this.graveyard)return t}}catch(i){e.e(i)}finally{e.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),r=this.model,t=r.schema,i=r.createPositionFromPath(e,[0]);return t.getNearestSelectionRange(i)||r.createRange(i)}},{key:"_validateSelectionRange",value:function(e){return Dd(e.start)&&Dd(e.end)}},{key:"_callPostFixers",value:function(e){var r=!1;do{var t=y(this._postFixers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(this.selection.refresh(),r=o(e),r)break}}catch(s){t.e(s)}finally{t.f()}}while(r)}}]),a}();function Dd(a){var n=a.textNode;if(n){var e=n.data,r=a.offset-n.startOffset;return!Rd(e,r)&&!jd(e,r)}return!0}Zt(bu,an);var Nd=function(){function a(){E(this,a),this._markers=new Map}return C(a,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e instanceof cs?e.name:e,s=this._markers.get(o);if(s){var l=s.getRange(),u=!1;return l.isEqual(r)||(s._attachLiveRange(Po.fromRange(r)),u=!0),t!=s.managedUsingOperations&&(s._managedUsingOperations=t,u=!0),typeof i=="boolean"&&i!=s.affectsData&&(s._affectsData=i,u=!0),u&&this.fire("update:"+o,s,l,r),s}var d=Po.fromRange(r),v=new cs(o,d,t,i);return this._markers.set(o,v),this.fire("update:"+o,v,null,r),v}},{key:"_remove",value:function(e){var r=e instanceof cs?e.name:e,t=this._markers.get(r);return!!t&&(this._markers.delete(r),this.fire("update:"+r,t,t.getRange(),null),this._destroyMarker(t),!0)}},{key:"_refresh",value:function(e){var r=e instanceof cs?e.name:e,t=this._markers.get(r);if(!t)throw new pe.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);var i=t.getRange();this.fire("update:"+r,t,i,i,t.managedUsingOperations,t.affectsData)}},{key:"getMarkersAtPosition",value:N.mark(function n(e){var r,t,i;return N.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=y(this),s.prev=1,r.s();case 3:if((t=r.n()).done){s.next=11;break}if(i=t.value,s.t0=i.getRange().containsPosition(e),!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),r.e(s.t1);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}},n,this,[[1,13,16,19]])})},{key:"getMarkersIntersectingRange",value:N.mark(function n(e){var r,t,i;return N.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=y(this),s.prev=1,r.s();case 3:if((t=r.n()).done){s.next=11;break}if(i=t.value,s.t0=i.getRange().getIntersection(e)!==null,!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),r.e(s.t1);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}},n,this,[[1,13,16,19]])})},{key:"destroy",value:function(){var e=y(this._markers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;this._destroyMarker(t)}}catch(i){e.e(i)}finally{e.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:N.mark(function n(e){var r,t,i;return N.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=y(this._markers.values()),s.prev=1,r.s();case 3:if((t=r.n()).done){s.next=11;break}if(i=t.value,s.t0=i.name.startsWith(e+":"),!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),r.e(s.t1);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}},n,this,[[1,13,16,19]])})},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),a}();Zt(Nd,an);var cs=function(){function a(n,e,r,t){E(this,a),this.name=n,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=r,this._affectsData=t}return C(a,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}},{key:"getStart",value:function(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return e==="marker"||e==="model:marker"}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),a}();Zt(cs,an);var Qn=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new e(this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),e}(di),ki={};ki[zn.className]=zn,ki[Wn.className]=Wn,ki[Ni.className]=Ni,ki[Jr.className]=Jr,ki[Qn.className]=Qn,ki[di.className]=di,ki[fi.className]=fi,ki[ls.className]=ls,ki[un.className]=un,ki[Pn.className]=Pn;var Hn=function(a){S(e,a);var n=D(e);function e(r,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(E(this,e),i=n.call(this,r,t,o),!i.root.is("rootElement"))throw new pe.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",r);return Sp.call(b(i)),H(i)}return C(e,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"}},{key:"toPosition",value:function(){return new nt(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(t,i){return new this(t.root,t.path.slice(),i||t.stickiness)}}]),e}(nt);function Sp(){var a=this;this.listenTo(this.root.document.model,"applyOperation",function(n,e){var r=e[0];r.isDocumentOperation&&Fd.call(a,r)},{priority:"low"})}function Fd(a){var n=this.getTransformedByOperation(a);if(!this.isEqual(n)){var e=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",e)}}Zt(Hn,an);var Tp=function(){function a(n,e,r){E(this,a),this.model=n,this.writer=e,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return C(a,[{key:"handleNodes",value:function(e,r){e=Array.from(e);for(var t=0;t<e.length;t++){var i=e[t];this._handleNode(i,{isFirst:t===0&&r.isFirst,isLast:t===e.length-1&&r.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?Qe._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new Qe(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,r){if(this.schema.isObject(e))return void this._handleObject(e,r);this._checkAndSplitToAllowedPosition(e,r)?(this._insert(e),this._mergeSiblingsOf(e,r)):this._handleDisallowedNode(e,r)}},{key:"_handleObject",value:function(e,r){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,r)}},{key:"_handleDisallowedNode",value:function(e,r){e.is("element")?this.handleNodes(e.getChildren(),r):this._tryAutoparagraphing(e,r)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new pe.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});var r=Hn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=r.toPosition(),r.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Hn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Hn.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,r){if(e instanceof _n){var t=this._canMergeLeft(e,r),i=this._canMergeRight(e,r),o=Hn._createBefore(e);o.stickiness="toNext";var s=Hn._createAfter(e);if(s.stickiness="toNext",t){var l=Hn.fromPosition(this.position);l.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Hn._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&r.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Hn._createAt(o.nodeBefore,"end","toNext")),this.position=l.toPosition(),l.detach()}if(i){if(!this.position.isEqual(s))throw new pe.b("insertcontent-invalid-insertion-position",this);this.position=nt._createAt(s.nodeBefore,"end");var u=Hn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=Hn._createAt(s.nodeBefore,"end","toNext")),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&r.isFirst&&(this._affectedStart.detach(),this._affectedStart=Hn._createAt(s.nodeBefore,0,"toPrevious")),this.position=u.toPosition(),u.detach()}(t||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),s.detach()}}},{key:"_canMergeLeft",value:function(e,r){var t=e.previousSibling;return r.isFirst&&t instanceof _n&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e,r){var t=e.nextSibling;return r.isLast&&t instanceof _n&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e,r){var t=this.writer.createElement("paragraph");this._getAllowedIn(t,this.position.parent)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t,r))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var r=this._getAllowedIn(e,this.position.parent);if(!r)return!1;for(;r!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===r&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,r){return this.schema.checkChild(r,e)?r:r.parent?this._getAllowedIn(e,r.parent):null}}]),a}();function Mp(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n.isCollapsed){var r=n.getFirstRange();if(r.root.rootName!="$graveyard"){var t=a.schema;a.change(function(i){if(!e.doNotResetEntireContent&&function(l,u){var d=l.getLimitElement(u);if(!u.containsEntireContent(d))return!1;var v=u.getFirstRange();return v.start.parent==v.end.parent?!1:l.checkChild(d,"paragraph")}(t,n))return void function(l,u){var d=l.model.schema.getLimitElement(u);l.remove(l.createRangeIn(d)),Ld(l,l.createPositionAt(d,0),u)}(i,n);var o=r.start,s=Hn.fromPosition(r.end,"toNext");r.start.isTouching(r.end)||i.remove(r),e.leaveUnmerged||(function l(u,d,v){var g=d.parent,m=v.parent;if(g!=m&&!(u.model.schema.isLimit(g)||u.model.schema.isLimit(m))&&!!function(O,P,A){var F=new Qe(O,P),G=y(F.getWalker()),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value;if(A.isLimit(q.item))return!1}}catch(be){G.e(be)}finally{G.f()}return!0}(d,v,u.model.schema)){for(d=u.createPositionAfter(g),(v=u.createPositionBefore(m)).isEqual(d)||u.insert(m,d),u.merge(d);v.parent.isEmpty;){var _=v.parent;v=u.createPositionBefore(_),u.remove(_)}l(u,d,v)}}(i,o,s),t.removeDisallowedAttributes(o.parent.getChildren(),i)),Bd(i,n,o),!e.doNotAutoparagraph&&function(l,u){var d=l.checkChild(u,"$text"),v=l.checkChild(u,"paragraph");return!d&&v}(t,o)&&Ld(i,o,n),s.detach()})}}}function Ld(a,n,e){var r=a.createElement("paragraph");a.insert(r,n),Bd(a,e,a.createPositionAt(r,0))}function Bd(a,n,e){n instanceof wi?a.setSelection(e):n.setTo(e)}function Vd(a,n){if(n.type=="text")return a.unit==="word"?function(e,r){var t=e.position.textNode;if(t)for(var i=e.position.offset-t.startOffset;!Rp(t.data,i,r)&&!sl(t,i,r);){e.next();var o=r?e.position.nodeAfter:e.position.nodeBefore;if(o&&o.is("text")){var s=o.data.charAt(r?0:o.data.length-1);' ,.?!:;"-()'.includes(s)||(e.next(),t=e.position.textNode)}i=e.position.offset-t.startOffset}return e.position}(a.walker,a.isForward):function(e,r){var t=e.position.textNode;if(t)for(var i=t.data,o=e.position.offset-t.startOffset;Rd(i,o)||r=="character"&&jd(i,o);)e.next(),o=e.position.offset-t.startOffset;return e.position}(a.walker,a.unit,a.isForward);if(n.type==(a.isForward?"elementStart":"elementEnd")){if(a.schema.isObject(n.item))return nt._createAt(n.item,a.isForward?"after":"before");if(a.schema.checkChild(n.nextPosition,"$text"))return n.nextPosition}else{if(a.schema.isLimit(n.item))return void a.walker.skip(function(){return!0});if(a.schema.checkChild(n.nextPosition,"$text"))return n.nextPosition}}function Ip(a,n){var e=a.root,r=nt._createAt(e,n?"end":0);return n?new Qe(a,r):new Qe(r,a)}function Rp(a,n,e){var r=n+(e?0:-1);return' ,.?!:;"-()'.includes(a.charAt(r))}function sl(a,n,e){return n===(e?a.endOffset:0)}function zd(a,n){var e=[];Array.from(a.getItems({direction:"backward"})).map(function(r){return n.createRangeOn(r)}).filter(function(r){return(r.start.isAfter(a.start)||r.start.isEqual(a.start))&&(r.end.isBefore(a.end)||r.end.isEqual(a.end))}).forEach(function(r){e.push(r.start.parent),n.remove(r)}),e.forEach(function(r){for(var t=r;t.parent&&t.isEmpty;){var i=n.createRangeOn(t);t=t.parent,n.remove(i)}})}function jp(a){a.document.registerPostFixer(function(n){return function(e,r){var t=r.document.selection,i=r.schema,o=[],s=!1,l=y(t.getRanges()),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=Ud(d,i);v?(o.push(v),s=!0):o.push(d)}}catch(g){l.e(g)}finally{l.f()}s&&e.setSelection(function(g){var m=[];m.push(g.shift());var _=y(g),O;try{for(_.s();!(O=_.n()).done;){var P=O.value,A=m.pop();if(P.isIntersecting(A)){var F=A.start.isAfter(P.start)?P.start:A.start,G=A.end.isAfter(P.end)?A.end:P.end,Q=new Qe(F,G);m.push(Q)}else m.push(A),m.push(P)}}catch(q){_.e(q)}finally{_.f()}return m}(o),{backward:t.isBackward})}(n,a)})}function Ud(a,n){return a.isCollapsed?function(e,r){var t=e.start,i=r.getNearestSelectionRange(t);if(!i)return null;if(!i.isCollapsed)return i;var o=i.start;return t.isEqual(o)?null:new Qe(o)}(a,n):function(e,r){var t=e.start,i=e.end,o=r.checkChild(t,"$text"),s=r.checkChild(i,"$text"),l=r.getLimitElement(t),u=r.getLimitElement(i);if(l===u){if(o&&s)return null;if(function(q,be,Se){var Ie=q.nodeAfter&&!Se.isLimit(q.nodeAfter)||Se.checkChild(q,"$text"),Ue=be.nodeBefore&&!Se.isLimit(be.nodeBefore)||Se.checkChild(be,"$text");return Ie||Ue}(t,i,r)){var d=t.nodeAfter&&r.isObject(t.nodeAfter)?null:r.getNearestSelectionRange(t,"forward"),v=i.nodeBefore&&r.isObject(i.nodeBefore)?null:r.getNearestSelectionRange(i,"backward"),g=d?d.start:t,m=v?v.start:i;return new Qe(g,m)}}var _=l&&!l.is("rootElement"),O=u&&!u.is("rootElement");if(_||O){var P=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,A=_&&(!P||!Hd(t.nodeAfter,r)),F=O&&(!P||!Hd(i.nodeBefore,r)),G=t,Q=i;return A&&(G=nt._createBefore(Wd(l,r))),F&&(Q=nt._createAfter(Wd(u,r))),new Qe(G,Q)}return null}(a,n)}function Wd(a,n){for(var e=a,r=e;n.isLimit(r)&&r.parent;)e=r,r=r.parent;return e}function Hd(a,n){return a&&n.isObject(a)}var Kd=function(){function a(){var n=this;E(this,a),this.markers=new Nd,this.document=new bu(this),this.schema=new kd,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(e){return n.decorate(e)}),this.on("applyOperation",function(e,r){r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck(function(e,r){if(r.name==="$marker")return!0}),jp(this)}return C(a,[{key:"change",value:function(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ol,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(r){pe.b.rethrowUnexpectedError(r,this)}}},{key:"enqueueChange",value:function(e,r){try{typeof e=="string"?e=new ol(e):typeof e=="function"&&(r=e,e=new ol),this._pendingChanges.push({batch:e,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(t){pe.b.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,r,t){return function(i,o,s,l){return i.change(function(u){var d;d=s?s instanceof ka||s instanceof wi?s:u.createSelection(s,l):i.document.selection,d.isCollapsed||i.deleteContent(d,{doNotAutoparagraph:!0});var v=new Tp(i,u,d.anchor),g;g=o.is("documentFragment")?o.getChildren():[o],v.handleNodes(g,{isFirst:!0,isLast:!0});var m=v.getSelectionRange();m&&(d instanceof wi?u.setSelection(m):d.setTo(m));var _=v.getAffectedRange()||i.createRange(d.anchor);return v.destroy(),_})}(this,e,r,t)}},{key:"deleteContent",value:function(e,r){Mp(this,e,r)}},{key:"modifySelection",value:function(e,r){(function(t,i){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t.schema,l=o.direction!="backward",u=o.unit?o.unit:"character",d=i.focus,v=new ta({boundaries:Ip(d,l),singleCharacters:!0,direction:l?"forward":"backward"}),g={walker:v,schema:s,isForward:l,unit:u},m,_=function(){if(m.done)return{v:void 0};var A=Vd(g,m.value);if(A)return{v:void(i instanceof wi?t.change(function(F){F.setSelectionFocus(A)}):i.setFocus(A))}};m=v.next();){var O=_();if(typeof O=="object")return O.v}})(this,e,r)}},{key:"getSelectedContent",value:function(e){return function(r,t){return r.change(function(i){var o=i.createDocumentFragment(),s=t.getFirstRange();if(!s||s.isCollapsed)return o;var l=s.start.root,u=s.start.getCommonPath(s.end),d=l.getNodeByPath(u),v;v=s.start.parent==s.end.parent?s:i.createRange(i.createPositionAt(d,s.start.path[u.length]),i.createPositionAt(d,s.end.path[u.length]+1));var g=v.end.offset-v.start.offset,m=y(v.getItems({shallow:!0})),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;O.is("textProxy")?i.appendText(O.data,O.getAttributes(),o):i.append(O._clone(!0),o)}}catch(F){m.e(F)}finally{m.f()}if(v!=s){var P=s._getTransformedByMove(v.start,i.createPositionAt(o,0),g)[0],A=i.createRange(i.createPositionAt(o,0),P.start);zd(i.createRange(P.end,i.createPositionAt(o,"end")),i),zd(A,i)}return o})}(this,e)}},{key:"hasContent",value:function(e,r){var t=e instanceof _n?Qe._createIn(e):e;if(t.isCollapsed)return!1;var i=y(this.markers.getMarkersIntersectingRange(t)),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.affectsData)return!0}}catch(_){i.e(_)}finally{i.f()}var l=r||{},u=l.ignoreWhitespaces,d=u===void 0?!1:u,v=y(t.getItems()),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;if(m.is("textProxy")){if(!d||m.data.search(/\S/)!==-1)return!0}else if(this.schema.isObject(m))return!0}}catch(_){v.e(_)}finally{v.f()}return!1}},{key:"createPositionFromPath",value:function(e,r,t){return new nt(e,r,t)}},{key:"createPositionAt",value:function(e,r){return nt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return nt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return nt._createBefore(e)}},{key:"createRange",value:function(e,r){return new Qe(e,r)}},{key:"createRangeIn",value:function(e){return Qe._createIn(e)}},{key:"createRangeOn",value:function(e){return Qe._createOn(e)}},{key:"createSelection",value:function(e,r,t){return new ka(e,r,t)}},{key:"createBatch",value:function(e){return new ol(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function r(){E(this,r)}return C(r,null,[{key:"fromJSON",value:function(i,o){return ki[i.__className].fromJSON(i,o)}}]),r}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var r=this._pendingChanges[0].batch;this._currentWriter=new Op(this,r);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),a}();Zt(Kd,On);var na=function(){function a(){E(this,a),this._listener=Object.create(es)}return C(a,[{key:"listenTo",value:function(e){var r=this;this._listener.listenTo(e,"keydown",function(t,i){r._listener.fire("_keydown:"+Zi(i),i)})}},{key:"set",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ri(e),o=t.priority;this._listener.listenTo(this._listener,"_keydown:"+i,function(s,l){r(l,function(){l.preventDefault(),l.stopPropagation(),s.stop()}),s.return=!0},{priority:o})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+Zi(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),a}(),Dp=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this),t.editor=r,t}return C(e,[{key:"set",value:function(t,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof i=="string"){var l=i;i=function(d,v){o.editor.execute(l),v()}}M(I(e.prototype),"set",this).call(this,t,i,s)}}]),e}(na),Gd=function(){function a(){var n=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,a),this._context=e.context||new ce({language:e.language}),this._context._addEditor(this,!e.context);var r=Array.from(this.constructor.builtinPlugins||[]);this.config=new $o(e,this.constructor.defaultConfig),this.config.define("plugins",r),this.config.define(this._context._getEditorConfig()),this.plugins=new Si(this,r,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new wd,this.set("state","initializing"),this.once("ready",function(){return n.state="ready"},{priority:"high"}),this.once("destroy",function(){return n.state="destroyed"},{priority:"high"}),this.set("isReadOnly",!1),this.model=new Kd;var t=new Pv;this.data=new Od(this.model,t),this.editing=new yd(this.model,t),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new _p([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Dp(this),this.keystrokes.listenTo(this.editing.view.document)}return C(a,[{key:"initPlugins",value:function(){var e=this.config,r=e.get("plugins"),t=e.get("removePlugins")||[],i=e.get("extraPlugins")||[];return this.plugins.init(r.concat(i),t)}},{key:"destroy",value:function(){var e=this,r=Promise.resolve();return this.state=="initializing"&&(r=new Promise(function(t){return e.once("ready",t)})),r.then(function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()}).then(function(){return e.plugins.destroy()}).then(function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()}).then(function(){return e._context._removeEditor(e)})}},{key:"execute",value:function(){try{var e;(e=this.commands).execute.apply(e,arguments)}catch(r){pe.b.rethrowUnexpectedError(r,this)}}}]),a}();Zt(Gd,On);var Np={setData:function(n){this.data.set(n)},getData:function(n){return this.data.get(n)}},Fp={updateSourceElement:function(){if(!this.sourceElement)throw new pe.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var n,e;n=this.sourceElement,e=this.data.get(),n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}},Lp=function(){function a(){E(this,a)}return C(a,[{key:"getHtml",value:function(e){var r=document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}]),a}(),$d=function(){function a(n){E(this,a),this._domParser=new DOMParser,this._domConverter=new $s(n,{blockFillerMode:"nbsp"}),this._htmlWriter=new Lp}return C(a,[{key:"toData",value:function(e){var r=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(r)}},{key:"toView",value:function(e){var r=this._toDom(e);return this._domConverter.domToView(r)}},{key:"_toDom",value:function(e){for(var r=this._domParser.parseFromString(e,"text/html"),t=r.createDocumentFragment(),i=r.body.childNodes;i.length>0;)t.appendChild(i[0]);return t}}]),a}(),Bp=function(){function a(n){E(this,a),this.editor=n,this._components=new Map}return C(a,[{key:"names",value:N.mark(function n(){var e,r,t;return N.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=y(this._components.values()),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return t=r.value,o.next=7,t.originalName;case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,this,[[1,11,14,17]])})},{key:"add",value:function(e,r){if(this.has(e))throw new pe.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set(yu(e),{callback:r,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new pe.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get(yu(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(yu(e))}}]),a}();function yu(a){return String(a).toLowerCase()}var _i=function(){function a(){E(this,a),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return C(a,[{key:"add",value:function(e){var r=this;if(this._elements.has(e))throw new pe.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",function(){return r._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return r._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),a}();Zt(_i,es),Zt(_i,On);var Yd=function(){function a(n){var e=this;E(this,a),this.editor=n,this.componentFactory=new Bp(n),this.focusTracker=new _i,this._editableElementsMap=new Map,this.listenTo(n.editing.view.document,"layoutChanged",function(){return e.update()})}return C(a,[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e=y(this._editableElementsMap.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.ckeditorInstance=null}}catch(i){e.e(i)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,r){this._editableElementsMap.set(e,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),a}();Zt(Yd,an),B(13);var ll=new WeakMap;function Qd(a){var n=a.view,e=a.element,r=a.text,t=a.isDirectHost,i=t===void 0?!0:t,o=n.document;ll.has(o)||(ll.set(o,new Map),o.registerPostFixer(function(s){return Jd(o,s)})),ll.get(o).set(e,{text:r,isDirectHost:i}),n.change(function(s){return Jd(o,s)})}function Vp(a,n){return!!n.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",n),!0)}function Jd(a,n){var e=ll.get(a),r=!1,t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=K(o,2),l=s[0],u=s[1];zp(n,l,u)&&(r=!0)}}catch(d){t.e(d)}finally{t.f()}return r}function zp(a,n,e){var r=e.text,t=e.isDirectHost,i=t?n:function(s){if(s.childCount===1){var l=s.getChild(0);if(l.is("element")&&!l.is("uiElement"))return l}return null}(n),o=!1;return!!i&&(e.hostElement=i,i.getAttribute("data-placeholder")!==r&&(a.setAttribute("data-placeholder",r,i),o=!0),function(s){if(!s.isAttached())return!1;var l=!Array.from(s.getChildren()).some(function(v){return!v.is("uiElement")}),u=s.document;if(!u.isFocused&&l)return!0;var d=u.selection.anchor;return!(!l||!d||d.parent===s)}(i)?function(s,l){return!l.hasClass("ck-placeholder")&&(s.addClass("ck-placeholder",l),!0)}(a,i)&&(o=!0):Vp(a,i)&&(o=!0),o)}var Up=function(){function a(){E(this,a),this._replacedElements=[]}return C(a,[{key:"replace",value:function(e,r){this._replacedElements.push({element:e,newElement:r}),e.style.display="none",r&&e.parentNode.insertBefore(r,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(e){var r=e.element,t=e.newElement;r.style.display="",t&&t.remove()}),this._replacedElements=[]}}]),a}(),Xn=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e);var o;return i=n.call(this,r),i.view=t,i._toolbarConfig=(o=r.config.get("toolbar"),Array.isArray(o)?{items:o}:o?Object.assign({items:[]},o):{items:[]}),i._elementReplacer=new Up,i}return C(e,[{key:"element",get:function(){return this.view.element}},{key:"init",value:function(t){var i=this.editor,o=this.view,s=i.editing.view,l=o.editable,u=s.document.getRoot();l.name=u.rootName,o.render();var d=l.element;this.setEditableElement(l.name,d),this.focusTracker.add(d),o.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(d),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var t=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(t.editable.name),t.destroy(),M(I(e.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var t=this.editor,i=this.view,o=t.editing.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,this._toolbarConfig.viewportTopOffset&&(i.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),i.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(s){var l=s.origin,u=s.originKeystrokeHandler,d=s.originFocusTracker,v=s.toolbar,g=s.beforeFocus,m=s.afterBlur;d.add(v.element),u.set("Alt+F10",function(_,O){d.isFocused&&!v.focusTracker.isFocused&&(g&&g(),v.focus(),O())}),v.keystrokes.set("Esc",function(_,O){v.focusTracker.isFocused&&(l.focus(),m&&m(),O())})}({origin:o,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:i.toolbar})}},{key:"_initPlaceholder",value:function(){var t=this.editor,i=t.editing.view,o=i.document.getRoot(),s=t.sourceElement,l=t.config.get("placeholder")||s&&s.tagName.toLowerCase()==="textarea"&&s.getAttribute("placeholder");l&&Qd({view:i,element:o,text:l,isDirectHost:!1})}}]),e}(Yd),ia=function(a){S(e,a);var n=D(e);function e(){var r,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E(this,e),r=n.call(this,t,{idProperty:"viewUid"}),r.on("add",function(i,o,s){r._renderViewIntoCollectionParent(o,s)}),r.on("remove",function(i,o){o.element&&r._parentElement&&o.element.remove()}),r._parentElement=null,r}return C(e,[{key:"destroy",value:function(){this.map(function(t){return t.destroy()})}},{key:"setParent",value:function(t){this._parentElement=t;var i=y(this),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this._renderViewIntoCollectionParent(s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"delegate",value:function(){for(var t=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length||!o.every(function(l){return typeof l=="string"}))throw new pe.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:function(u){var d=y(t),v;try{for(d.s();!(v=d.n()).done;){var g=v.value,m=y(o),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;g.delegate(O).to(u)}}catch(P){m.e(P)}finally{m.f()}}}catch(P){d.e(P)}finally{d.f()}t.on("add",function(P,A){var F=y(o),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;A.delegate(Q).to(u)}}catch(q){F.e(q)}finally{F.f()}}),t.on("remove",function(P,A){var F=y(o),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;A.stopDelegating(Q,u)}}catch(q){F.e(q)}finally{F.f()}})}}}},{key:"_renderViewIntoCollectionParent",value:function(t,i){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[i])}}]),e}(jn),ui=function(){function a(n){E(this,a),Object.assign(this,ef(qd(n))),this._isRendered=!1,this._revertData=null}return C(a,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new pe.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:N.mark(function n(){return N.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(N.mark(function t(i){var o,s,l;return N.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!i.children){d.next=24;break}o=y(i.children),d.prev=2,o.s();case 4:if((s=o.n()).done){d.next=16;break}if(l=s.value,!cl(l)){d.next=11;break}return d.next=9,l;case 9:d.next=14;break;case 11:if(d.t0=_u(l),!d.t0){d.next=14;break}return d.delegateYield(t(l),"t1",14);case 14:d.next=4;break;case 16:d.next=21;break;case 18:d.prev=18,d.t2=d.catch(2),o.e(d.t2);case 21:return d.prev=21,o.f(),d.finish(21);case 24:case"end":return d.stop()}},t,null,[[2,18,21,24]])})(this),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"_renderNode",value:function(e){var r;if(r=e.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new pe.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var r=e.node;return r||(r=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),r}},{key:"_renderText",value:function(e){var r=e.node;return r?e.revertData.text=r.textContent:r=e.node=document.createTextNode(""),ul(this.text)?this._bindToObservable({schema:this.text,updater:Wp(r),data:e}):r.textContent=this.text.join(""),r}},{key:"_renderAttributes",value:function(e){var r,t,i,o;if(!!this.attributes){var s=e.node,l=e.revertData;for(r in this.attributes)if(i=s.getAttribute(r),t=this.attributes[r],l&&(l.attributes[r]=i),o=Ve(t[0])&&t[0].ns?t[0].ns:null,ul(t)){var u=o?t[0].value:t;l&&Ou(r)&&u.unshift(i),this._bindToObservable({schema:u,updater:Hp(s,r,o),data:e})}else r=="style"&&typeof t[0]!="string"?this._renderStyleAttribute(t[0],e):(l&&i&&Ou(r)&&t.unshift(i),t=t.map(function(d){return d&&d.value||d}).reduce(function(d,v){return d.concat(v)},[]).reduce(ku,""),Ao(t)||s.setAttributeNS(o,r,t))}}},{key:"_renderStyleAttribute",value:function(e,r){var t=r.node;for(var i in e){var o=e[i];ul(o)?this._bindToObservable({schema:[o],updater:Kp(t,i),data:r}):t.style[i]=o}}},{key:"_renderElementChildren",value:function(e){var r=e.node,t=e.intoFragment?document.createDocumentFragment():r,i=e.isApplying,o=0,s=y(this.children),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(xu(u)){if(!i){u.setParent(r);var d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;t.appendChild(g.element)}}catch(_){d.e(_)}finally{d.f()}}}else if(cl(u))i||(u.isRendered||u.render(),t.appendChild(u.element));else if(_o(u))t.appendChild(u);else if(i){var m={children:[],bindings:[],attributes:{}};e.revertData.children.push(m),u._renderNode({node:t.childNodes[o++],isApplying:!0,revertData:m})}else t.appendChild(u.render())}}catch(_){s.e(_)}finally{s.f()}e.intoFragment&&r.appendChild(t)}},{key:"_setUpListeners",value:function(e){var r=this;if(this.eventListeners){var t=function(s){var l=r.eventListeners[s].map(function(u){var d=s.split("@"),v=K(d,2),g=v[0],m=v[1];return u.activateDomEventListener(g,m,e)});e.revertData&&e.revertData.bindings.push(l)};for(var i in this.eventListeners)t(i)}}},{key:"_bindToObservable",value:function(e){var r=e.schema,t=e.updater,i=e.data,o=i.revertData;Xd(r,t,i);var s=r.filter(function(l){return!Ao(l)}).filter(function(l){return l.observable}).map(function(l){return l.activateAttributeListener(r,t,i)});o&&o.bindings.push(s)}},{key:"_revertTemplateFromNode",value:function(e,r){var t=y(r.bindings),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=y(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u()}}catch(m){s.e(m)}finally{s.f()}}}catch(m){t.e(m)}finally{t.f()}if(r.text)e.textContent=r.text;else{for(var d in r.attributes){var v=r.attributes[d];v===null?e.removeAttribute(d):e.setAttribute(d,v)}for(var g=0;g<r.children.length;++g)this._revertTemplateFromNode(e.childNodes[g],r.children[g])}}}],[{key:"bind",value:function(e,r){return{to:function(i,o){return new wu({eventNameOrFunction:i,attribute:i,observable:e,emitter:r,callback:o})},if:function(i,o,s){return new Zd({observable:e,emitter:r,attribute:i,valueIfTrue:o,callback:s})}}}},{key:"extend",value:function(e,r){if(e._isRendered)throw new pe.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);(function t(i,o){var s;if(o.attributes&&(i.attributes||(i.attributes={}),tf(i.attributes,o.attributes)),o.eventListeners&&(i.eventListeners||(i.eventListeners={}),tf(i.eventListeners,o.eventListeners)),o.text&&(s=i.text).push.apply(s,U(o.text)),o.children&&o.children.length){if(i.children.length!=o.children.length)throw new pe.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",i);var l=0,u=y(o.children),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;t(i.children[l++],v)}}catch(g){u.e(g)}finally{u.f()}}})(e,ef(qd(r)))}}]),a}();Zt(ui,an);var ds=function(){function a(n){E(this,a),Object.assign(this,n)}return C(a,[{key:"getValue",value:function(e){var r=this.observable[this.attribute];return this.callback?this.callback(r,e):r}},{key:"activateAttributeListener",value:function(e,r,t){var i=this,o=function(){return Xd(e,r,t)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,o)}}}]),a}(),wu=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"activateDomEventListener",value:function(t,i,o){var s=this,l=function(d,v){i&&!v.target.matches(i)||(typeof s.eventNameOrFunction=="function"?s.eventNameOrFunction(v):s.observable.fire(s.eventNameOrFunction,v))};return this.emitter.listenTo(o.node,t,l),function(){s.emitter.stopListening(o.node,t,l)}}}]),e}(ds),Zd=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"getValue",value:function(t){return!Ao(M(I(e.prototype),"getValue",this).call(this,t))&&(this.valueIfTrue||!0)}}]),e}(ds);function ul(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(ul):a instanceof ds)}function Xd(a,n,e){var r=e.node,t=function(i,o){return i.map(function(s){return s instanceof ds?s.getValue(o):s})}(a,r);t=a.length==1&&a[0]instanceof Zd?t[0]:t.reduce(ku,""),Ao(t)?n.remove():n.set(t)}function Wp(a){return{set:function(e){a.textContent=e},remove:function(){a.textContent=""}}}function Hp(a,n,e){return{set:function(t){a.setAttributeNS(e,n,t)},remove:function(){a.removeAttributeNS(e,n)}}}function Kp(a,n){return{set:function(r){a.style[n]=r},remove:function(){a.style[n]=null}}}function qd(a){return Go(a,function(n){if(n&&(n instanceof ds||_u(n)||cl(n)||xu(n)))return n})}function ef(a){if(typeof a=="string"?a=function(i){return{text:[i]}}(a):a.text&&function(i){Array.isArray(i.text)||(i.text=[i.text])}(a),a.on&&(a.eventListeners=function(i){for(var o in i)fs(i,o);return i}(a.on),delete a.on),!a.text){a.attributes&&function(i){for(var o in i)i[o].value&&(i[o].value=[].concat(i[o].value)),fs(i,o)}(a.attributes);var n=[];if(a.children)if(xu(a.children))n.push(a.children);else{var e=y(a.children),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;_u(t)||cl(t)||_o(t)?n.push(t):n.push(new ui(t))}}catch(i){e.e(i)}finally{e.f()}}a.children=n}return a}function fs(a,n){Array.isArray(a[n])||(a[n]=[a[n]])}function ku(a,n){return Ao(n)?a:Ao(a)?n:"".concat(a," ").concat(n)}function tf(a,n){for(var e in n){var r;a[e]?(r=a[e]).push.apply(r,U(n[e])):a[e]=n[e]}}function Ao(a){return!a&&a!==0}function cl(a){return a instanceof _r}function _u(a){return a instanceof ui}function xu(a){return a instanceof ia}function Ou(a){return a=="class"||a=="style"}B(15);var _r=function(){function a(n){E(this,a),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new jn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,r){r.locale=n}),this.decorate("render")}return C(a,[{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ui.bind(this,this)}},{key:"createCollection",value:function(e){var r=new ia(e);return this._viewCollections.add(r),r}},{key:"registerChild",value:function(e){Zn(e)||(e=[e]);var r=y(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._unboundChildren.add(i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"deregisterChild",value:function(e){Zn(e)||(e=[e]);var r=y(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._unboundChildren.remove(i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"setTemplate",value:function(e){this.template=new ui(e)}},{key:"extendTemplate",value:function(e){ui.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new pe.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}}]),a}();Zt(_r,es),Zt(_r,On);var rf=function(n){return typeof n=="string"||!br(n)&&Ye(n)&&Wt(n)=="[object String]"},Gp=function(a){S(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E(this,e),t=n.call(this,i),t.locale=r,t}return C(e,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new ui({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var t=document.querySelector(".ck-body-wrapper");t||(t=function(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],u=s&&s.xmlns,d=u?i.createElementNS(u,o):i.createElement(o);for(var v in s)d.setAttribute(v,s[v]);!rf(l)&&Zn(l)||(l=[l]);var g=y(l),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;rf(_)&&(_=i.createTextNode(_)),d.appendChild(_)}}catch(O){g.e(O)}finally{g.f()}return d}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){M(I(e.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}]),e}(ia);B(17);var $p=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.body=new Gp(r),t}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),M(I(e.prototype),"destroy",this).call(this)}}]),e}(_r);B(19);var Pu=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r),t.set("text"),t.set("for"),t.id="ck-editor__label_"+ii();var i=t.bindTemplate;return t.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:t.id,for:i.to("for")},children:[{text:i.to("text")}]}),t}return e}(_r),Yp=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.top=t.createCollection(),t.main=t.createCollection(),t._voiceLabelView=t._createVoiceLabel(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:r.uiLanguageDirection,lang:r.uiLanguage,"aria-labelledby":t._voiceLabelView.id},children:[t._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:t.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:t.main}]}),t}return C(e,[{key:"_createVoiceLabel",value:function(){var t=this.t,i=new Pu;return i.text=t("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}]),e}($p),Qp=function(a){S(e,a);var n=D(e);function e(r,t,i){var o;return E(this,e),o=n.call(this,r),o.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:r.contentLanguage,dir:r.contentLanguageDirection}}),o.name=null,o.set("isFocused",!1),o._editableElement=i,o._hasExternalElement=!!o._editableElement,o._editingView=t,o}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return t._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),M(I(e.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var t=this._editingView;function i(o){t.change(function(s){var l=t.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",l)})}t.isRenderingInProgress?function o(s){t.once("change:isRenderingInProgress",function(l,u,d){d?o(s):i(s)})}(this):i(this)}}]),e}(_r),Jp=function(a){S(e,a);var n=D(e);function e(r,t,i){var o;return E(this,e),o=n.call(this,r,t,i),o.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),o}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this);var i=this._editingView,o=this.t;i.change(function(s){var l=i.document.getRoot(t.name);s.setAttribute("aria-label",o("Rich Text Editor, %0",[t.name]),l)})}}]),e}(Qp);function Eu(a){return function(n){return n+a}}B(21);var hs=Eu("px"),Zp=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("isActive",!1),t.set("isSticky",!1),t.set("limiterElement",null),t.set("limiterBottomOffset",50),t.set("viewportTopOffset",0),t.set("_marginLeft",null),t.set("_isStickyToTheLimiter",!1),t.set("_hasViewportTopOffset",!1),t.content=t.createCollection(),t._contentPanelPlaceholder=new ui({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",function(o){return o?"block":"none"}),height:i.to("isSticky",function(o){return o?hs(t._panelRect.height):null})}}}).render(),t._contentPanel=new ui({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",function(o){return o?hs(t._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:i.to("_hasViewportTopOffset",function(o){return o?hs(t.viewportTopOffset):null}),bottom:i.to("_isStickyToTheLimiter",function(o){return o?hs(t.limiterBottomOffset):null}),marginLeft:i.to("_marginLeft")}},children:t.content}).render(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[t._contentPanelPlaceholder,t._contentPanel]}),t}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(An.window,"scroll",function(){t._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){t._checkIfShouldBeSticky()})}},{key:"_checkIfShouldBeSticky",value:function(){var t=this._panelRect=this._contentPanel.getBoundingClientRect(),i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:hs(-An.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),e}(_r),So=function(){function a(n){var e=this;if(E(this,a),Object.assign(this,n),n.actions&&n.keystrokeHandler){var r=function(o){var s=n.actions[o];typeof s=="string"&&(s=[s]);var l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;n.keystrokeHandler.set(d,function(v,g){e[o](),g()})}}catch(v){l.e(v)}finally{l.f()}};for(var t in n.actions)r(t)}}return C(a,[{key:"first",get:function(){return this.focusables.find(Cu)||null}},{key:"last",get:function(){return this.focusables.filter(Cu).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,r=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(function(t,i){var o=t.element===e.focusTracker.focusedElement;return o&&(r=i),o}),r)}},{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var r=this.current,t=this.focusables.length;if(!t)return null;if(r===null)return this[e===1?"first":"last"];var i=(r+t+e)%t;do{var o=this.focusables.get(i);if(Cu(o))return o;i=(i+t+e)%t}while(i!==r);return null}}]),a}();function Cu(a){return!(!a.focus||An.window.getComputedStyle(a.element).display=="none")}var nf=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),t}return e}(_r),To=function(){function a(n,e){E(this,a),a._observerInstance||a._createObserver(),this._element=n,this._callback=e,a._addElementCallback(n,e),a._observerInstance.observe(n)}return C(a,[{key:"destroy",value:function(){a._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,r){a._elementCallbacks||(a._elementCallbacks=new Map);var t=a._elementCallbacks.get(e);t||(t=new Set,a._elementCallbacks.set(e,t)),t.add(r)}},{key:"_deleteElementCallback",value:function(e,r){var t=a._getElementCallbacks(e);t&&(t.delete(r),t.size||(a._elementCallbacks.delete(e),a._observerInstance.unobserve(e))),a._elementCallbacks&&!a._elementCallbacks.size&&(a._observerInstance=null,a._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return a._elementCallbacks?a._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e;e=typeof An.window.ResizeObserver=="function"?An.window.ResizeObserver:af,a._observerInstance=new e(function(r){var t=y(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(!!o.target.offsetParent){var s=a._getElementCallbacks(o.target);if(s){var l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;d(o)}}catch(v){l.e(v)}finally{l.f()}}}}}catch(v){t.e(v)}finally{t.f()}})}}]),a}();To._observerInstance=null,To._elementCallbacks=null;var af=function(){function a(n){E(this,a),this._callback=n,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return C(a,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),this._elements.size===1&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this,r=function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(An.window,"resize",function(){e._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(r,100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e=[],r=y(this._elements),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._hasRectChanged(i)&&e.push({target:i,contentRect:this._previousRects.get(i)})}}catch(o){r.e(o)}finally{r.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var r=new mn(e),t=this._previousRects.get(e),i=!t||!t.isEqual(r);return this._previousRects.set(e,r),i}}]),a}();Zt(af,es);var Xp=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("isVisible",!1),t.set("position","se"),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",function(o){return"ck-dropdown__panel_"+o}),i.if("isVisible","ck-dropdown__panel-visible")]},children:t.children,on:{selectstart:i.to(function(o){return o.preventDefault()})}}),t}return C(e,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}]),e}(_r);B(23);function of(a){var n=a.element,e=a.target,r=a.positions,t=a.limiter,i=a.fitInViewport;lt(e)&&(e=e()),lt(t)&&(t=t());var o=function(A){return A&&A.parentNode?A.offsetParent===An.document.body?null:A.offsetParent:null}(n),s=new mn(n),l=new mn(e),u,d;if(t||i){var v=function(A,F){var G=F.elementRect,Q=F.viewportRect,q=G.getArea(),be=function(Ie,Ue){var ot=Ue.targetRect,bt=Ue.elementRect,jt=Ue.limiterRect,yt=Ue.viewportRect,dt=[],zt=bt.getArea(),Lt=y(Ie),sr;try{for(Lt.s();!(sr=Lt.n()).done;){var pn=sr.value,Gn=Au(pn,ot,bt);if(!!Gn){var gi=K(Gn,2),_s=gi[0],zi=gi[1],Oi=0,Fa=0;if(jt)if(yt){var xs=jt.getIntersection(yt);xs&&(Oi=xs.getIntersectionArea(zi))}else Oi=jt.getIntersectionArea(zi);yt&&(Fa=yt.getIntersectionArea(zi));var Os={positionName:_s,positionRect:zi,limiterIntersectArea:Oi,viewportIntersectArea:Fa};if(Oi===zt)return[Os];dt.push(Os)}}}catch(Oc){Lt.e(Oc)}finally{Lt.f()}return dt}(A,F);if(Q){var Se=sf(be.filter(function(Ie){var Ue=Ie.viewportIntersectArea;return Ue===q}),q);if(Se)return Se}return sf(be,q)}(r,{targetRect:l,elementRect:s,limiterRect:t&&new mn(t).getVisible(),viewportRect:i&&new mn(An.window)}),g=v||Au(r[0],l,s),m=K(g,2);d=m[0],u=m[1]}else{var _=Au(r[0],l,s),O=K(_,2);d=O[0],u=O[1]}var P=lf(u);return o&&(P=function(A,F){var G=A.left,Q=A.top,q=lf(new mn(F)),be=td(F);return G-=q.left,Q-=q.top,G+=F.scrollLeft,Q+=F.scrollTop,G-=be.left,Q-=be.top,{left:G,top:Q}}(P,o)),{left:P.left,top:P.top,name:d}}function Au(a,n,e){var r=a(n,e);if(!r)return null;var t=r.left,i=r.top,o=r.name;return[o,e.clone().moveTo(t,i)]}function sf(a,n){var e,r,t=0,i=y(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.positionName,u=s.positionRect,d=s.limiterIntersectArea,v=s.viewportIntersectArea;if(d===n)return[l,u];var g=Math.pow(v,2)+Math.pow(d,2);g>t&&(t=g,e=u,r=l)}}catch(m){i.e(m)}finally{i.f()}return e?[r,e]:null}function lf(a){var n=a.left,e=a.top,r=An.window,t=r.scrollX,i=r.scrollY;return{left:n+t,top:e+i}}var Su=function(a){S(e,a);var n=D(e);function e(r,t,i){var o;E(this,e),o=n.call(this,r);var s=o.bindTemplate;return o.buttonView=t,o.panelView=i,o.set("isOpen",!1),o.set("isEnabled",!0),o.set("class"),o.set("id"),o.set("panelPosition","auto"),o.keystrokes=new na,o.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",function(l){return!l})],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),o}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",function(){t.isOpen=!t.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){t.isOpen&&(t.panelPosition==="auto"?t.panelView.position=e._getOptimalPosition({element:t.panelView.element,target:t.buttonView.element,fitInViewport:!0,positions:t._panelPositions}).name:t.panelView.position=t.panelPosition)}),this.keystrokes.listenTo(this.element);var i=function(s,l){t.isOpen&&(t.buttonView.focus(),t.isOpen=!1,l())};this.keystrokes.set("arrowdown",function(o,s){t.buttonView.isEnabled&&!t.isOpen&&(t.isOpen=!0,s())}),this.keystrokes.set("arrowright",function(o,s){t.isOpen&&s()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var t=e.defaultPanelPositions,i=t.southEast,o=t.southWest,s=t.northEast,l=t.northWest;return this.locale.uiLanguageDirection==="ltr"?[i,o,s,l]:[o,i,l,s]}}]),e}(_r);Su.defaultPanelPositions={southEast:function(n){return{top:n.bottom,left:n.left,name:"se"}},southWest:function(n,e){return{top:n.bottom,left:n.left-e.width+n.width,name:"sw"}},northEast:function(n,e){return{top:n.top-e.height,left:n.left,name:"ne"}},northWest:function(n,e){return{top:n.bottom-e.height,left:n.left-e.width+n.width,name:"nw"}}},Su._getOptimalPosition=of,B(25);var dl=function(a){S(e,a);var n=D(e);function e(){var r;E(this,e),r=n.call(this);var t=r.bindTemplate;return r.set("content",""),r.set("viewBox","0 0 20 20"),r.set("fillColor",""),r.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}}),r}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){t._updateXMLContent(),t._colorFillPaths()}),this.on("change:fillColor",function(){t._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=t.getAttribute("viewBox");for(i&&(this.viewBox=i),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(i){i.style.fill=t.fillColor})}}]),e}(_r);B(27);var uf=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r),t.set("text",""),t.set("position","s");var i=t.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",i.to("position",function(o){return"ck-tooltip_"+o}),i.if("text","ck-hidden",function(o){return!o.trim()})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:i.to("text")}]}]}),t}return e}(_r);B(29);var cn=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.bindTemplate,o=ii();return t.set("class"),t.set("labelStyle"),t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isVisible",!0),t.set("isToggleable",!1),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.set("withKeystroke",!1),t.children=t.createCollection(),t.tooltipView=t._createTooltipView(),t.labelView=t._createLabelView(o),t.iconView=new dl,t.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),t.keystrokeView=t._createKeystrokeView(),t.bind("_tooltipString").to(b(t),"tooltip",b(t),"label",b(t),"keystroke",t._getTooltipString.bind(b(t))),t.setTemplate({tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",function(s){return!s}),i.if("isVisible","ck-hidden",function(s){return!s}),i.to("isOn",function(s){return s?"ck-on":"ck-off"}),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",function(s){return s||"button"}),tabindex:i.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+o,"aria-disabled":i.if("isEnabled",!0,function(s){return!s}),"aria-pressed":i.to("isOn",function(s){return!!t.isToggleable&&String(s)})},children:t.children,on:{mousedown:i.to(function(s){s.preventDefault()}),click:i.to(function(s){t.isEnabled?t.fire("execute"):s.preventDefault()})}}),t}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var t=new uf;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}},{key:"_createLabelView",value:function(t){var i=new _r,o=this.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),i}},{key:"_createKeystrokeView",value:function(){var t=new _r;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",function(i){return Nc(i)})}]}),t}},{key:"_getTooltipString",value:function(t,i,o){return t?typeof t=="string"?t:(o&&(o=Nc(o)),t instanceof Function?t(i,o):"".concat(i).concat(o?" (".concat(o,")"):"")):""}}]),e}(_r),cf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',df=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.arrowView=t._createArrowView(),t.extendTemplate({attributes:{"aria-haspopup":!0}}),t.delegate("execute").to(b(t),"open"),t}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var t=new dl;return t.content=cf,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}]),e}(cn);B(31);var ff=function(a){S(e,a);var n=D(e);function e(){var r;return E(this,e),r=n.call(this),r.items=r.createCollection(),r.focusTracker=new _i,r.keystrokes=new na,r._focusCycler=new So({focusables:r.items,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),r.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:r.items}),r}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this);var i=y(this.items),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.focusTracker.add(s.element)}}catch(l){i.e(l)}finally{i.f()}this.items.on("add",function(l,u){t.focusTracker.add(u.element)}),this.items.on("remove",function(l,u){t.focusTracker.remove(u.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),e}(_r),hf=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.children=t.createCollection(),t.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:t.children}),t}return C(e,[{key:"focus",value:function(){this.children.first.focus()}}]),e}(_r),qp=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),t}return e}(_r);B(33);var fl=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.isToggleable=!0,t.toggleSwitchView=t._createToggleView(),t.extendTemplate({attributes:{class:"ck-switchbutton"}}),t}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var t=new _r;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}]),e}(cn);function hl(a){var n=a.emitter,e=a.activator,r=a.callback,t=a.contextElements;n.listenTo(document,"mousedown",function(i,o){var s=o.target;if(e()){var l=y(t),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d.contains(s))return}}catch(v){l.e(v)}finally{l.f()}r()}})}B(35),B(37);function Mo(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:df,e=new n(a),r=new Xp(a),t=new Su(a,e,r);return e.bind("isEnabled").to(t),e instanceof df?e.bind("isOn").to(t,"isOpen"):e.arrowView.bind("isOn").to(t,"isOpen"),function(i){(function(o){o.on("render",function(){hl({emitter:o,activator:function(){return o.isOpen},callback:function(){o.isOpen=!1},contextElements:[o.element]})})})(i),function(o){o.on("execute",function(s){s.source instanceof fl||(o.isOpen=!1)})}(i),function(o){o.keystrokes.set("arrowdown",function(s,l){o.isOpen&&(o.panelView.focus(),l())}),o.keystrokes.set("arrowup",function(s,l){o.isOpen&&(o.panelView.focusLast(),l())})}(i)}(t),t}function vf(a,n){var e=a.locale,r=a.listView=new ff(e);r.items.bindTo(n).using(function(t){var i=t.type,o=t.model;if(i==="separator")return new qp(e);if(i==="button"||i==="switchbutton"){var s,l=new hf(e),u;return u=i==="button"?new cn(e):new fl(e),(s=u).bind.apply(s,U(Object.keys(o))).to(o),u.delegate("execute").to(l),l.children.add(u),l}}),a.panelView.children.add(r),r.items.delegate("execute").to(a)}B(39);var Tu=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e),i=n.call(this,r);var o=i.bindTemplate,s=i.t,l;return i.options=t||{},i.set("ariaLabel",s("Editor toolbar")),i.set("maxWidth","auto"),i.items=i.createCollection(),i.focusTracker=new _i,i.keystrokes=new na,i.set("class"),i.set("isCompact",!1),i.itemsView=new eg(r),i.children=i.createCollection(),i.children.add(i.itemsView),i.focusables=i.createCollection(),i._focusCycler=new So({focusables:i.focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:i.children,on:{mousedown:(l=b(i),l.bindTemplate.to(function(u){u.target===l.element&&u.preventDefault()}))}}),i._behavior=i.options.shouldGroupWhenFull?new pf(b(i)):new vl(b(i)),i}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this);var i=y(this.items),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.focusTracker.add(s.element)}}catch(l){i.e(l)}finally{i.f()}this.items.on("add",function(l,u){t.focusTracker.add(u.element)}),this.items.on("remove",function(l,u){t.focusTracker.remove(u.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),M(I(e.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(t,i){var o=this;t.map(function(s){s=="|"?o.items.add(new nf):i.has(s)?o.items.add(i.create(s)):console.warn(Object(pe.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:s})})}}]),e}(_r),eg=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:t.children}),t}return e}(_r),vl=function(){function a(n){E(this,a);var e=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(function(r){return r}),n.focusables.bindTo(n.items).using(function(r){return r}),n.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}return C(a,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),a}(),pf=function(){function a(n){var e=this;E(this,a),this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,n.itemsView.children.bindTo(this.ungroupedItems).using(function(r){return r}),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),n.children.on("add",this._updateFocusCycleableItems.bind(this)),n.children.on("remove",this._updateFocusCycleableItems.bind(this)),n.items.on("add",function(r,t,i){i>e.ungroupedItems.length?e.groupedItems.add(t,i-e.ungroupedItems.length):e.ungroupedItems.add(t,i),e._updateGrouping()}),n.items.on("remove",function(r,t,i){i>e.ungroupedItems.length?e.groupedItems.remove(t):e.ungroupedItems.remove(t),e._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return C(a,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(!!this.viewElement.ownerDocument.body.contains(this.viewElement)){if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);for(var e;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,r=this.viewLocale.uiLanguageDirection,t=new mn(e.lastChild),i=new mn(e);if(!this.cachedPadding){var o=An.window.getComputedStyle(e),s=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[s])}return r==="ltr"?t.right>i.right-this.cachedPadding:t.left<i.left+this.cachedPadding}},{key:"_enableGroupingOnResize",value:function(){var e=this,r;this.resizeObserver=new To(this.viewElement,function(t){r&&r===t.contentRect.width&&!e.shouldUpdateGroupingOnNextResize||(e.shouldUpdateGroupingOnNextResize=!1,e._updateGrouping(),r=t.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var r=this;e.on("change:maxWidth",function(){r._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new nf),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,r=e.t,t=Mo(e);return t.class="ck-toolbar__grouped-dropdown",t.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",function(i,o){var s=i.locale,l=s.t,u=i.toolbarView=new Tu(s);u.set("ariaLabel",l("Dropdown toolbar")),i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.map(function(d){return u.items.add(d)}),i.panelView.children.add(u),u.items.delegate("execute").to(i)}(t,[]),t.buttonView.set({label:r("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),t.toolbarView.items.bindTo(this.groupedItems).using(function(i){return i}),t}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(r){e.viewFocusables.add(r)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}]),a}();B(41);var vs=function(a){S(e,a);var n=D(e);function e(r,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(this,e),i=n.call(this,r),i.stickyPanel=new Zp(r),i.toolbar=new Tu(r,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),i.editable=new Jp(r,t),i}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),e}(Yp),Fi=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e),i=n.call(this,t),ni(r)&&(i.sourceElement=r),i.data.processor=new $d(i.data.viewDocument),i.model.document.createRoot();var o=!i.config.get("toolbar.shouldNotGroupWhenFull"),s=new vs(i.locale,i.editing.view,{shouldToolbarGroupWhenFull:o});return i.ui=new Xn(b(i),s),function(l){if(!lt(l.updateSourceElement))throw new pe.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",l);var u=l.sourceElement;if(u&&u.tagName.toLowerCase()==="textarea"&&u.form){var d,v=u.form,g=function(){return l.updateSourceElement()};lt(v.submit)&&(d=v.submit,v.submit=function(){g(),d.apply(v)}),v.addEventListener("submit",g),l.on("destroy",function(){v.removeEventListener("submit",g),d&&(v.submit=d)})}}(b(i)),i}return C(e,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),M(I(e.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(s){var l=new i(t,o);s(l.initPlugins().then(function(){return l.ui.init(ni(t)?t:null)}).then(function(){if(!ni(t)&&o.initialData)throw new pe.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);var u=o.initialData||function(d){return ni(d)?(v=d,v instanceof HTMLTextAreaElement?v.value:v.innerHTML):d;var v}(t);return l.data.init(u)}).then(function(){return l.fire("ready")}).then(function(){return l}))})}}]),e}(Gd);Zt(Fi,Np),Zt(Fi,Fp);var ct=function(){function a(n){E(this,a),this.editor=n,this.set("isEnabled",!0),this._disableStack=new Set}return C(a,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",tg,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",tg),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),a}();function tg(a){a.return=!1,a.stop()}Zt(ct,On);var Mu=function(){function a(n){E(this,a),this.files=function(e){var r=e.files?Array.from(e.files):[],t=e.items?Array.from(e.items):[];return r.length?r:t.filter(function(i){return i.kind==="file"}).map(function(i){return i.getAsFile()})}(n),this._native=n}return C(a,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,r){this._native.setData(e,r)}}]),a}(),ps=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.document;function o(s,l){l.preventDefault();var u=l.dropRange?[l.dropRange]:Array.from(i.selection.getRanges()),d=new za(i,"clipboardInput");i.fire(d,{dataTransfer:l.dataTransfer,targetRanges:u}),d.stop.called&&l.stopPropagation()}return t.domEventType=["paste","copy","cut","drop","dragover"],t.listenTo(i,"paste",o,{priority:"low"}),t.listenTo(i,"drop",o,{priority:"low"}),t}return C(e,[{key:"onDomEvent",value:function(t){var i={dataTransfer:new Mu(t.clipboardData?t.clipboardData:t.dataTransfer)};t.type=="drop"&&(i.dropRange=function(o,s){var l=s.target.ownerDocument,u=s.clientX,d=s.clientY,v;return l.caretRangeFromPoint&&l.caretRangeFromPoint(u,d)?v=l.caretRangeFromPoint(u,d):s.rangeParent&&(v=l.createRange(),v.setStart(s.rangeParent,s.rangeOffset),v.collapse(!0)),v?o.domConverter.domRangeToView(v):o.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,i)}}]),e}(ea),gf=["figcaption","li"],Io=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document,s=i.editing.view,l=s.document;function u(d,v){var g=v.dataTransfer;v.preventDefault();var m=i.data.toView(i.model.getSelectedContent(o.selection));l.fire("clipboardOutput",{dataTransfer:g,content:m,method:d.name})}this._htmlDataProcessor=new $d(l),s.addObserver(ps),this.listenTo(l,"clipboardInput",function(d){i.isReadOnly&&d.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",function(d,v){var g=v.dataTransfer,m="",_;g.getData("text/html")?m=function(P){return P.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(A,F){return F.length==1?" ":F})}(g.getData("text/html")):g.getData("text/plain")&&((_=(_=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(_="<p>".concat(_,"</p>")),m=_),m=t._htmlDataProcessor.toView(m);var O=new za(t,"inputTransformation");t.fire(O,{content:m,dataTransfer:g}),O.stop.called&&d.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(d,v){if(!v.content.isEmpty){var g=t.editor.data,m=t.editor.model,_=g.toModel(v.content,"$clipboardHolder");if(_.childCount==0)return;m.insertContent(_),d.stop()}},{priority:"low"}),this.listenTo(l,"copy",u,{priority:"low"}),this.listenTo(l,"cut",function(d,v){i.isReadOnly?v.preventDefault():u(d,v)},{priority:"low"}),this.listenTo(l,"clipboardOutput",function(d,v){v.content.isEmpty||(v.dataTransfer.setData("text/html",t._htmlDataProcessor.toData(v.content)),v.dataTransfer.setData("text/plain",function g(m){var _="";if(m.is("text")||m.is("textProxy"))_=m.data;else if(m.is("img")&&m.hasAttribute("alt"))_=m.getAttribute("alt");else{var O=null,P=y(m.getChildren()),A;try{for(P.s();!(A=P.n()).done;){var F=A.value,G=g(F);O&&(O.is("containerElement")||F.is("containerElement"))&&(gf.includes(O.name)||gf.includes(F.name)?_+=`
`:_+=`

`),_+=G,O=F}}catch(Q){P.e(Q)}finally{P.f()}}return _}(v.content))),v.method=="cut"&&i.model.deleteContent(o.selection)},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}}]),e}(ct),Ir=function(){function a(n){var e=this;E(this,a),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){e.refresh()}),this.on("execute",function(r){e.isEnabled||r.stop()},{priority:"high"}),this.listenTo(n,"change:isReadOnly",function(r,t,i){i?e.forceDisabled("readOnlyMode"):e.clearForceDisabled("readOnlyMode")})}return C(a,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",mf,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",mf),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),a}();function mf(a){a.return=!1,a.stop()}function Iu(a,n){var e,r,t;return N.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=y(n),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=11;break}if(t=r.value,o.t0=t&&a.getAttributeProperties(t[0]).copyOnEnter,!o.t0){o.next=9;break}return o.next=9,t;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),e.e(o.t1);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},se,null,[[1,13,16,19]])}Zt(Ir,On);var qn=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document;i.change(function(s){(function(l,u,d,v){var g=d.isCollapsed,m=d.getFirstRange(),_=m.start.parent,O=m.end.parent;if(v.isLimit(_)||v.isLimit(O))return void(g||_!=O||l.deleteContent(d));if(g){var P=Iu(u.model.schema,d.getAttributes());bf(u,m.start),u.setSelectionAttribute(P)}else{var A=!(m.start.isAtStart&&m.end.isAtEnd),F=_==O;l.deleteContent(d,{leaveUnmerged:A}),A&&(F?bf(u,d.focus):u.setSelection(O,0))}})(t.editor.model,s,o.selection,i.schema),t.fire("afterExecute",{writer:s})})}}]),e}(Ir);function bf(a,n){a.split(n),a.setSelection(n.parent.nextSibling,0)}var yf=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.document;return i.on("keydown",function(o,s){if(t.isEnabled&&s.keyCode==tr.enter){var l;i.once("enter",function(u){return l=u},{priority:"highest"}),i.fire("enter",new ya(i,s.domEvent,{isSoft:s.shiftKey})),l&&l.stop.called&&o.stop()}}),t}return C(e,[{key:"observe",value:function(){}}]),e}(ma),rg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view,o=i.document;i.addObserver(yf),t.commands.add("enter",new qn(t)),this.listenTo(o,"enter",function(s,l){l.preventDefault(),l.isSoft||(t.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),e}(ct),wf=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document;i.change(function(s){(function(l,u,d){var v=d.isCollapsed,g=d.getFirstRange(),m=g.start.parent,_=g.end.parent,O=m==_;if(v){var P=Iu(l.schema,d.getAttributes());kf(l,u,g.end),u.removeSelectionAttribute(d.getAttributeKeys()),u.setSelectionAttribute(P)}else{var A=!(g.start.isAtStart&&g.end.isAtEnd);l.deleteContent(d,{leaveUnmerged:A}),O?kf(l,u,d.focus):A&&u.setSelection(_,0)}})(i,s,o.selection),t.fire("afterExecute",{writer:s})})}},{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.isEnabled=function(o,s){if(s.rangeCount>1)return!1;var l=s.anchor;if(!l||!o.checkChild(l,"softBreak"))return!1;var u=s.getFirstRange(),d=u.start.parent,v=u.end.parent;return!((Ru(d,o)||Ru(v,o))&&d!==v)}(t.schema,i.selection)}}]),e}(Ir);function kf(a,n,e){var r=n.createElement("softBreak");a.insertContent(r,e),n.setSelection(r,"after")}function Ru(a,n){return!a.is("rootElement")&&(n.isLimit(a)||Ru(a.parent,n))}var _f=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.conversion,s=t.editing.view,l=s.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:function(d,v){return v.createEmptyElement("br")}}),s.addObserver(yf),t.commands.add("shiftEnter",new wf(t)),this.listenTo(l,"enter",function(u,d){d.preventDefault(),d.isSoft&&(t.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),e}(ct),ng=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"execute",value:function(){var t=this.editor.model,i=t.schema.getLimitElement(t.document.selection);t.change(function(o){o.setSelection(i,"in")})}}]),e}(Ir),ig=Ri("Ctrl+A"),Ja=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view.document;t.commands.add("selectAll",new ng(t)),this.listenTo(i,"keydown",function(o,s){Zi(s)===ig&&(t.execute("selectAll"),s.preventDefault())})}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),e}(ct),ag=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor;i.ui.componentFactory.add("selectAll",function(o){var s=i.commands.get("selectAll"),l=new cn(o),u=o.t;return l.set({label:u("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),t.listenTo(l,"execute",function(){i.execute("selectAll"),i.editing.view.focus()}),l})}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),e}(ct),og=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Ja,ag]}},{key:"pluginName",get:function(){return"SelectAll"}}]),e}(ct),xf=function(){function a(n){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20;E(this,a),this.model=n,this.size=0,this.limit=r,this.isLocked=!1,this._changeCallback=function(t,i){i.type!="transparent"&&i!==e._batch&&e._reset(!0)},this._selectionChangeCallback=function(){e._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return C(a,[{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}},{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}]),a}(),Of=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i._buffer=new xf(r.model,t),i._batches=new WeakSet,i}return C(e,[{key:"buffer",get:function(){return this._buffer}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document,l=i.text||"",u=l.length,d=i.range?o.createSelection(i.range):s.selection,v=i.resultRange;o.enqueueChange(this._buffer.batch,function(g){t._buffer.lock(),o.deleteContent(d),l&&o.insertContent(g.createText(l,s.selection.getAttributes()),d),v?g.setSelection(v):d.is("documentSelection")||g.setSelection(d),t._buffer.unlock(),t._buffer.input(u),t._batches.add(t._buffer.batch)})}}]),e}(Ir);function Gm(a){var n=null,e=a.model,r=a.editing.view,t=a.commands.get("input");function i(s){var l=e.document,u=r.document.isComposing,d=n&&n.isEqual(l.selection);n=null,t.isEnabled&&(function(v){return v.ctrlKey?!0:Pf.includes(v.keyCode)}(s)||l.selection.isCollapsed||u&&s.keyCode===229||!u&&s.keyCode===229&&d||o())}function o(){var s=t.buffer;s.lock(),e.enqueueChange(s.batch,function(){e.deleteContent(e.document.selection)}),s.unlock()}Ii.isAndroid?r.document.on("beforeinput",function(s,l){return i(l)},{priority:"lowest"}):r.document.on("keydown",function(s,l){return i(l)},{priority:"lowest"}),r.document.on("compositionstart",function(){var s=e.document,l=s.selection.rangeCount!==1||s.selection.getFirstRange().isFlat;s.selection.isCollapsed||l||o()},{priority:"lowest"}),r.document.on("compositionend",function(){n=e.createSelection(e.document.selection)},{priority:"lowest"})}for(var Pf=[Zi("arrowUp"),Zi("arrowRight"),Zi("arrowDown"),Zi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],pl=112;pl<=135;pl++)Pf.push(pl);function Ef(a){if(a.newChildren.length-a.oldChildren.length==1){var n=function(r,t){var i=[],o,s=0;return r.forEach(function(d){d=="equal"?(l(),s++):d=="insert"?(u("insert")?o.values.push(t[s]):(l(),o={type:"insert",index:s,values:[t[s]]}),s++):u("delete")?o.howMany++:(l(),o={type:"delete",index:s,howMany:1})}),l(),i;function l(){o&&(i.push(o),o=null)}function u(d){return o&&o.type==d}}(qi(a.oldChildren,a.newChildren,sg),a.newChildren);if(!(n.length>1)){var e=n[0];return e.values[0]&&e.values[0].is("text")?e:void 0}}}function sg(a,n){return a&&a.is("text")&&n&&n.is("text")?a.data===n.data:a===n}var lg=function(){function a(n){E(this,a),this.editor=n,this.editing=this.editor.editing}return C(a,[{key:"handle",value:function(e,r){if(function(s){if(s.length==0)return!1;var l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d.type==="children"&&!Ef(d))return!0}}catch(v){l.e(v)}finally{l.f()}return!1}(e))this._handleContainerChildrenMutations(e,r);else{var t=y(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._handleTextMutation(o,r),this._handleTextNodeInsertion(o)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"_handleContainerChildrenMutations",value:function(e,r){var t=function(Ie){var Ue=Ie.map(function(ot){return ot.node}).reduce(function(ot,bt){return ot.getCommonAncestor(bt,{includeSelf:!0})});if(!!Ue)return Ue.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(ot){return ot.is("containerElement")||ot.is("rootElement")})}(e);if(!!t){var i=this.editor.editing.view.domConverter.mapViewToDom(t),o=new $s(this.editor.editing.view.document),s=this.editor.data.toModel(o.domToView(i)).getChild(0),l=this.editor.editing.mapper.toModelElement(t);if(!!l){var u=Array.from(s.getChildren()),d=Array.from(l.getChildren()),v=u[u.length-1],g=d[d.length-1];v&&v.is("softBreak")&&g&&!g.is("softBreak")&&u.pop();var m=this.editor.model.schema;if(!(!Cf(u,m)||!Cf(d,m))){var _=u.map(function(Ie){return Ie.is("text")?Ie.data:"@"}).join("").replace(/\u00A0/g," "),O=d.map(function(Ie){return Ie.is("text")?Ie.data:"@"}).join("").replace(/\u00A0/g," ");if(O!==_){var P=qi(O,_),A=Af(P),F=A.firstChangeAt,G=A.insertions,Q=A.deletions,q=null;r&&(q=this.editing.mapper.toModelRange(r.getFirstRange()));var be=_.substr(F,G),Se=this.editor.model.createRange(this.editor.model.createPositionAt(l,F),this.editor.model.createPositionAt(l,F+Q));this.editor.execute("input",{text:be,range:Se,resultRange:q})}}}}}},{key:"_handleTextMutation",value:function(e,r){if(e.type=="text"){var t=e.newText.replace(/\u00A0/g," "),i=e.oldText.replace(/\u00A0/g," ");if(i!==t){var o=qi(i,t),s=Af(o),l=s.firstChangeAt,u=s.insertions,d=s.deletions,v=null;r&&(v=this.editing.mapper.toModelRange(r.getFirstRange()));var g=this.editing.view.createPositionAt(e.node,l),m=this.editing.mapper.toModelPosition(g),_=this.editor.model.createRange(m,m.getShiftedBy(d)),O=t.substr(l,u);this.editor.execute("input",{text:O,range:_,resultRange:v})}}}},{key:"_handleTextNodeInsertion",value:function(e){if(e.type=="children"){var r=Ef(e),t=this.editing.view.createPositionAt(e.node,r.index),i=this.editing.mapper.toModelPosition(t),o=r.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}}]),a}();function Cf(a,n){return a.every(function(e){return n.isInline(e)})}function Af(a){for(var n=null,e=null,r=0;r<a.length;r++)a[r]!="equal"&&(n=n===null?r:n,e=r);for(var t=0,i=0,o=n;o<=e;o++)a[o]!="insert"&&t++,a[o]!="delete"&&i++;return{insertions:i,deletions:t,firstChangeAt:n}}var gl=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=new Of(t,t.config.get("typing.undoStep")||20);t.commands.add("input",i),Gm(t),function(o){o.editing.view.document.on("mutations",function(s,l,u){new lg(o).handle(l,u)})}(t)}},{key:"isInput",value:function(t){return this.editor.commands.get("input")._batches.has(t)}}],[{key:"pluginName",get:function(){return"Input"}}]),e}(ct),Sf=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.direction=t,i._buffer=new xf(r.model,r.config.get("typing.undoStep")),i}return C(e,[{key:"buffer",get:function(){return this._buffer}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document;o.enqueueChange(this._buffer.batch,function(l){t._buffer.lock();var u=l.createSelection(i.selection||s.selection),d=u.isCollapsed;if(u.isCollapsed&&o.modifySelection(u,{direction:t.direction,unit:i.unit}),t._shouldEntireContentBeReplacedWithParagraph(i.sequence||1))return void t._replaceEntireContentWithParagraph(l);if(!u.isCollapsed){var v=0;u.getFirstRange().getMinimalFlatRanges().forEach(function(g){v+=Jl(g.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(u,{doNotResetEntireContent:d,direction:t.direction}),t._buffer.input(v),l.setSelection(u),t._buffer.unlock()}})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(t){if(t>1)return!1;var i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!i.schema.checkChild(s,"paragraph"))return!1;var l=s.getChild(0);return!l||l.name!=="paragraph"}},{key:"_replaceEntireContentWithParagraph",value:function(t){var i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o),l=t.createElement("paragraph");t.remove(t.createRangeIn(s)),t.insert(l,s),t.setSelection(l,0)}}]),e}(Ir),ug=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=r.document,o=0;function s(l,u,d){var v;i.once("delete",function(g){return v=g},{priority:Number.POSITIVE_INFINITY}),i.fire("delete",new ya(i,u,d)),v&&v.stop.called&&l.stop()}return i.on("keyup",function(l,u){u.keyCode!=tr.delete&&u.keyCode!=tr.backspace||(o=0)}),i.on("keydown",function(l,u){var d={};if(u.keyCode==tr.delete)d.direction="forward",d.unit="character";else{if(u.keyCode!=tr.backspace)return;d.direction="backward",d.unit="codePoint"}var v=Ii.isMac?u.altKey:u.ctrlKey;d.unit=v?"word":d.unit,d.sequence=++o,s(l,u.domEvent,d)}),Ii.isAndroid&&i.on("beforeinput",function(l,u){if(u.domEvent.inputType=="deleteContentBackward"){var d={unit:"codepoint",direction:"backward",sequence:1},v=u.domTarget.ownerDocument.defaultView.getSelection();v.anchorNode==v.focusNode&&v.anchorOffset+1!=v.focusOffset&&(d.selectionToRemove=r.domConverter.domSelectionToView(v)),s(l,u.domEvent,d)}}),t}return C(e,[{key:"observe",value:function(){}}]),e}(ma),cg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view,o=i.document;if(i.addObserver(ug),t.commands.add("forwardDelete",new Sf(t,"forward")),t.commands.add("delete",new Sf(t,"backward")),this.listenTo(o,"delete",function(l,u){var d={unit:u.unit,sequence:u.sequence};if(u.selectionToRemove){var v=t.model.createSelection(),g=[],m=y(u.selectionToRemove.getRanges()),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;g.push(t.editing.mapper.toModelRange(O))}}catch(P){m.e(P)}finally{m.f()}v.setTo(g),d.selection=v}t.execute(u.direction=="forward"?"forwardDelete":"delete",d),u.preventDefault(),i.scrollToTheSelection()}),Ii.isAndroid){var s=null;this.listenTo(o,"delete",function(l,u){var d=u.domTarget.ownerDocument.defaultView.getSelection();s={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}},{priority:"lowest"}),this.listenTo(o,"keyup",function(l,u){if(s){var d=u.domTarget.ownerDocument.defaultView.getSelection();d.collapse(s.anchorNode,s.anchorOffset),d.extend(s.focusNode,s.focusOffset),s=null}})}}}],[{key:"pluginName",get:function(){return"Delete"}}]),e}(ct),dg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[gl,cg]}},{key:"pluginName",get:function(){return"Typing"}}]),e}(ct),ju=new Map;function Ur(a,n,e){var r=ju.get(a);r||(r=new Map,ju.set(a,r)),r.set(n,e)}function fg(a){return[a]}function Tf(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(t,i){var o=ju.get(t);return o&&o.has(i)?o.get(i):fg}(a.constructor,n.constructor);try{return r(a=a.clone(),n,e)}catch(t){throw t}}function Mf(a,n,e){a=a.slice(),n=n.slice();var r=new hg(e.document,e.useRelations,e.forceWeakRemove);r.setOriginalOperations(a),r.setOriginalOperations(n);var t=r.originalOperations;if(a.length==0||n.length==0)return{operationsA:a,operationsB:n,originalOperations:t};var i=new WeakMap,o=y(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.set(l,0)}}catch(Se){o.e(Se)}finally{o.f()}for(var u={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:n.length},d=0;d<a.length;){var v,g,m=a[d],_=i.get(m);if(_==n.length){d++;continue}var O=n[_],P=Tf(m,O,r.getContext(m,O,!0)),A=Tf(O,m,r.getContext(O,m,!1));r.updateRelation(m,O),r.setOriginalOperations(P,m),r.setOriginalOperations(A,O);var F=y(P),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;i.set(Q,_+A.length)}}catch(Se){F.e(Se)}finally{F.f()}(v=a).splice.apply(v,[d,1].concat(U(P))),(g=n).splice.apply(g,[_,1].concat(U(A)))}if(e.padWithNoOps){var q=a.length-u.originalOperationsACount,be=n.length-u.originalOperationsBCount;Rf(a,be-q),Rf(n,q-be)}return If(a,u.nextBaseVersionB),If(n,u.nextBaseVersionA),{operationsA:a,operationsB:n,originalOperations:t}}var hg=function(){function a(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;E(this,a),this.originalOperations=new Map,this._history=n.history,this._useRelations=e,this._forceWeakRemove=!!r,this._relations=new Map}return C(a,[{key:"setOriginalOperations",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=r?this.originalOperations.get(r):null,i=y(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.originalOperations.set(s,t||s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"updateRelation",value:function(e,r){switch(e.constructor){case Jr:switch(r.constructor){case Pn:e.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,r,"insertAtSource"):e.targetPosition.isEqual(r.deletionPosition)?this._setRelation(e,r,"insertBetween"):e.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(e,r,"moveTargetAfter");break;case Jr:e.targetPosition.isEqual(r.sourcePosition)||e.targetPosition.isBefore(r.sourcePosition)?this._setRelation(e,r,"insertBefore"):this._setRelation(e,r,"insertAfter")}break;case un:switch(r.constructor){case Pn:e.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(e,r,"splitBefore");break;case Jr:(e.splitPosition.isEqual(r.sourcePosition)||e.splitPosition.isBefore(r.sourcePosition))&&this._setRelation(e,r,"splitBefore")}break;case Pn:switch(r.constructor){case Pn:e.targetPosition.isEqual(r.sourcePosition)||this._setRelation(e,r,"mergeTargetNotMoved"),e.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(e,r,"mergeSourceNotMoved"),e.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(e,r,"mergeSameElement");break;case un:e.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(e,r,"splitAtSource")}break;case Ni:{var t=e.newRange;if(!t)return;switch(r.constructor){case Jr:{var i=Qe._createFromPositionAndShift(r.sourcePosition,r.howMany),o=i.containsPosition(t.start)||i.start.isEqual(t.start),s=i.containsPosition(t.end)||i.end.isEqual(t.end);!o&&!s||i.containsRange(t)||this._setRelation(e,r,{side:o?"left":"right",path:o?t.start.path.slice():t.end.path.slice()});break}case Pn:{var l=t.start.isEqual(r.targetPosition),u=t.start.isEqual(r.deletionPosition),d=t.end.isEqual(r.deletionPosition),v=t.end.isEqual(r.sourcePosition);(l||u||d||v)&&this._setRelation(e,r,{wasInLeftElement:l,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:d,wasInRightElement:v});break}}break}}}},{key:"getContext",value:function(e,r,t){return{aIsStrong:t,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(e,r):null,baRelation:this._useRelations?this._getRelation(r,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var r=this.originalOperations.get(e);return r.wasUndone||this._history.isUndoneOperation(r)}},{key:"_getRelation",value:function(e,r){var t=this.originalOperations.get(r),i=this._history.getUndoneOperation(t);if(!i)return null;var o=this.originalOperations.get(e),s=this._relations.get(o);return s&&s.get(i)||null}},{key:"_setRelation",value:function(e,r,t){var i=this.originalOperations.get(e),o=this.originalOperations.get(r),s=this._relations.get(i);s||(s=new Map,this._relations.set(i,s)),s.set(o,t)}}]),a}();function If(a,n){var e=y(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.baseVersion=n++}}catch(i){e.e(i)}finally{e.f()}}function Rf(a,n){for(var e=0;e<n;e++)a.push(new Qn(0))}function jf(a,n,e){var r=a.nodes.getNode(0).getAttribute(n);if(r==e)return null;var t=new Qe(a.position,a.position.getShiftedBy(a.howMany));return new zn(t,n,r,e,0)}function Df(a,n){return a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function Ro(a,n){for(var e=[],r=0;r<a.length;r++){var t=a[r],i=new Jr(t.start,t.end.offset-t.start.offset,n,0);e.push(i);for(var o=r+1;o<a.length;o++)a[o]=a[o]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];n=n._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return e}Ur(zn,zn,function(a,n,e){if(a.key===n.key&&a.range.start.hasSameParentAs(n.range.start)){var r=a.range.getDifference(n.range).map(function(i){return new zn(i,a.key,a.oldValue,a.newValue,0)}),t=a.range.getIntersection(n.range);return t&&e.aIsStrong&&r.push(new zn(t,n.key,n.newValue,a.newValue,0)),r.length==0?[new Qn(0)]:r}return[a]}),Ur(zn,Wn,function(a,n){if(a.range.start.hasSameParentAs(n.position)&&a.range.containsPosition(n.position)){var e=a.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(function(t){return new zn(t,a.key,a.oldValue,a.newValue,a.baseVersion)});if(n.shouldReceiveAttributes){var r=jf(n,a.key,a.oldValue);r&&e.unshift(r)}return e}return a.range=a.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[a]}),Ur(zn,Pn,function(a,n){var e=[];a.range.start.hasSameParentAs(n.deletionPosition)&&(a.range.containsPosition(n.deletionPosition)||a.range.start.isEqual(n.deletionPosition))&&e.push(Qe._createFromPositionAndShift(n.graveyardPosition,1));var r=a.range._getTransformedByMergeOperation(n);return r.isCollapsed||e.push(r),e.map(function(t){return new zn(t,a.key,a.oldValue,a.newValue,a.baseVersion)})}),Ur(zn,Jr,function(a,n){return function(e,r){var t=Qe._createFromPositionAndShift(r.sourcePosition,r.howMany),i=null,o=[];t.containsRange(e,!0)?i=e:e.start.hasSameParentAs(t.start)?(o=e.getDifference(t),i=e.getIntersection(t)):o=[e];var s=[],l=y(o),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;d=d._getTransformedByDeletion(r.sourcePosition,r.howMany);var v=r.getMovedRangeStart(),g=d.start.hasSameParentAs(v);d=d._getTransformedByInsertion(v,r.howMany,g),s.push.apply(s,U(d))}}catch(m){l.e(m)}finally{l.f()}return i&&s.push(i._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,!1)[0]),s}(a.range,n).map(function(e){return new zn(e,a.key,a.oldValue,a.newValue,a.baseVersion)})}),Ur(zn,un,function(a,n){if(a.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(n.splitPosition)&&a.range.containsPosition(n.splitPosition)){var e=a.clone();return e.range=new Qe(n.moveTargetPosition.clone(),a.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),a.range.end=n.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,e]}return a.range=a.range._getTransformedBySplitOperation(n),[a]}),Ur(Wn,zn,function(a,n){var e=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(a.position)){var r=jf(a,n.key,n.newValue);r&&e.push(r)}return e}),Ur(Wn,Wn,function(a,n,e){return a.position.isEqual(n.position)&&e.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(n)),[a]}),Ur(Wn,Jr,function(a,n){return a.position=a.position._getTransformedByMoveOperation(n),[a]}),Ur(Wn,un,function(a,n){return a.position=a.position._getTransformedBySplitOperation(n),[a]}),Ur(Wn,Pn,function(a,n){return a.position=a.position._getTransformedByMergeOperation(n),[a]}),Ur(Ni,Wn,function(a,n){return a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(n)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(n)[0]),[a]}),Ur(Ni,Ni,function(a,n,e){if(a.name==n.name){if(!e.aIsStrong)return[new Qn(0)];a.oldRange=n.newRange?n.newRange.clone():null}return[a]}),Ur(Ni,Pn,function(a,n){return a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(n)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(n)),[a]}),Ur(Ni,Jr,function(a,n,e){if(a.oldRange&&(a.oldRange=Qe._createFromRanges(a.oldRange._getTransformedByMoveOperation(n))),a.newRange){if(e.abRelation){var r=Qe._createFromRanges(a.newRange._getTransformedByMoveOperation(n));if(e.abRelation.side=="left"&&n.targetPosition.isEqual(a.newRange.start))return a.newRange.start.path=e.abRelation.path,a.newRange.end=r.end,[a];if(e.abRelation.side=="right"&&n.targetPosition.isEqual(a.newRange.end))return a.newRange.start=r.start,a.newRange.end.path=e.abRelation.path,[a]}a.newRange=Qe._createFromRanges(a.newRange._getTransformedByMoveOperation(n))}return[a]}),Ur(Ni,un,function(a,n,e){if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(n)),a.newRange){if(e.abRelation){var r=a.newRange._getTransformedBySplitOperation(n);return a.newRange.start.isEqual(n.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?a.newRange.start=nt._createAt(n.insertionPosition):a.newRange.start.isEqual(n.splitPosition)&&!e.abRelation.wasInLeftElement&&(a.newRange.start=nt._createAt(n.moveTargetPosition)),a.newRange.end.isEqual(n.splitPosition)&&e.abRelation.wasInRightElement?a.newRange.end=nt._createAt(n.moveTargetPosition):a.newRange.end.isEqual(n.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?a.newRange.end=nt._createAt(n.insertionPosition):a.newRange.end=r.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(n)}return[a]}),Ur(Pn,Wn,function(a,n){return a.sourcePosition.hasSameParentAs(n.position)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(n),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n),[a]}),Ur(Pn,Pn,function(a,n,e){if(a.sourcePosition.isEqual(n.sourcePosition)&&a.targetPosition.isEqual(n.targetPosition)){if(e.bWasUndone){var r=n.graveyardPosition.path.slice();return r.push(0),a.sourcePosition=new nt(n.graveyardPosition.root,r),a.howMany=0,[a]}return[new Qn(0)]}if(a.sourcePosition.isEqual(n.sourcePosition)&&!a.targetPosition.isEqual(n.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){var t=a.targetPosition.root.rootName=="$graveyard",i=n.targetPosition.root.rootName=="$graveyard",o=t&&!i;if(i&&!t||!o&&e.aIsStrong){var s=n.targetPosition._getTransformedByMergeOperation(n),l=a.targetPosition._getTransformedByMergeOperation(n);return[new Jr(s,a.howMany,l,0)]}return[new Qn(0)]}return a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(n),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),a.graveyardPosition.isEqual(n.graveyardPosition)&&e.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),Ur(Pn,Jr,function(a,n,e){var r=Qe._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&a.deletionPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(a.sourcePosition)?[new Qn(0)]:(a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition.hasSameParentAs(n.sourcePosition)&&(a.howMany-=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(n),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(n),a.graveyardPosition.isEqual(n.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)),[a])}),Ur(Pn,un,function(a,n,e){if(n.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),a.deletionPosition.isEqual(n.graveyardPosition)&&(a.howMany=n.howMany)),a.targetPosition.isEqual(n.splitPosition)){var r=n.howMany!=0,t=n.graveyardPosition&&a.deletionPosition.isEqual(n.graveyardPosition);if(r||t||e.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),[a]}if(a.sourcePosition.isEqual(n.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a];if(e.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=n.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}return a.sourcePosition.hasSameParentAs(n.splitPosition)&&(a.howMany=n.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}),Ur(Jr,Wn,function(a,n){var e=Qe._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(n,!1)[0];return a.sourcePosition=e.start,a.howMany=e.end.offset-e.start.offset,a.targetPosition.isEqual(n.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n)),[a]}),Ur(Jr,Jr,function(a,n,e){var r=Qe._createFromPositionAndShift(a.sourcePosition,a.howMany),t=Qe._createFromPositionAndShift(n.sourcePosition,n.howMany),i,o=e.aIsStrong,s=!e.aIsStrong;if(e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?s=!0:e.abRelation!="insertAfter"&&e.baRelation!="insertBefore"||(s=!1),i=a.targetPosition.isEqual(n.targetPosition)&&s?a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):a.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Df(a,n)&&Df(n,a))return[n.getReversed()];if(r.containsPosition(n.targetPosition)&&r.containsRange(t,!0))return r.start=r.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),r.end=r.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Ro([r],i);if(t.containsPosition(a.targetPosition)&&t.containsRange(r,!0))return r.start=r.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),r.end=r.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),Ro([r],i);var l=ie(a.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(l=="prefix"||l=="extension")return r.start=r.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),r.end=r.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Ro([r],i);a.type!="remove"||n.type=="remove"||e.aWasUndone||e.forceWeakRemove?a.type=="remove"||n.type!="remove"||e.bWasUndone||e.forceWeakRemove||(o=!1):o=!0;var u=[],d=r.getDifference(t),v=y(d),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;m.start=m.start._getTransformedByDeletion(n.sourcePosition,n.howMany),m.end=m.end._getTransformedByDeletion(n.sourcePosition,n.howMany);var _=ie(m.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",O=m._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,_);u.push.apply(u,U(O))}}catch(A){v.e(A)}finally{v.f()}var P=r.getIntersection(t);return P!==null&&o&&(P.start=P.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),P.end=P.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),u.length===0?u.push(P):u.length==1?t.start.isBefore(r.start)||t.start.isEqual(r.start)?u.unshift(P):u.push(P):u.splice(1,0,P)),u.length===0?[new Qn(a.baseVersion)]:Ro(u,i)}),Ur(Jr,un,function(a,n,e){var r=a.targetPosition.clone();a.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&e.abRelation!="moveTargetAfter"||(r=a.targetPosition._getTransformedBySplitOperation(n));var t=Qe._createFromPositionAndShift(a.sourcePosition,a.howMany);if(t.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.howMany++,a.targetPosition=r,[a];if(t.start.hasSameParentAs(n.splitPosition)&&t.containsPosition(n.splitPosition)){var i=new Qe(n.splitPosition,t.end);return i=i._getTransformedBySplitOperation(n),Ro([new Qe(t.start,n.splitPosition),i],r)}a.targetPosition.isEqual(n.splitPosition)&&e.abRelation=="insertAtSource"&&(r=n.moveTargetPosition),a.targetPosition.isEqual(n.insertionPosition)&&e.abRelation=="insertBetween"&&(r=a.targetPosition);var o=[t._getTransformedBySplitOperation(n)];if(n.graveyardPosition){var s=t.start.isEqual(n.graveyardPosition)||t.containsPosition(n.graveyardPosition);a.howMany>1&&s&&!e.aWasUndone&&o.push(Qe._createFromPositionAndShift(n.insertionPosition,1))}return Ro(o,r)}),Ur(Jr,Pn,function(a,n,e){var r=Qe._createFromPositionAndShift(a.sourcePosition,a.howMany);if(n.deletionPosition.hasSameParentAs(a.sourcePosition)&&r.containsPosition(n.sourcePosition)){if(a.type!="remove"||e.forceWeakRemove){if(a.howMany==1)return e.bWasUndone?(a.sourcePosition=n.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]):[new Qn(0)]}else if(!e.aWasUndone){var t=[],i=n.graveyardPosition.clone(),o=n.targetPosition._getTransformedByMergeOperation(n);a.howMany>1&&(t.push(new Jr(a.sourcePosition,a.howMany-1,a.targetPosition,0)),i=i._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),o=o._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));var s=n.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),l=new Jr(i,1,s,0),u=l.getMovedRangeStart().path.slice();u.push(0);var d=new nt(l.targetPosition.root,u);o=o._getTransformedByMove(i,s,1);var v=new Jr(o,n.howMany,d,0);return t.push(l),t.push(v),t}}var g=Qe._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(n);return a.sourcePosition=g.start,a.howMany=g.end.offset-g.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]}),Ur(fi,Wn,function(a,n){return a.position=a.position._getTransformedByInsertOperation(n),[a]}),Ur(fi,Pn,function(a,n){return a.position.isEqual(n.deletionPosition)?(a.position=n.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(n),[a])}),Ur(fi,Jr,function(a,n){return a.position=a.position._getTransformedByMoveOperation(n),[a]}),Ur(fi,fi,function(a,n,e){if(a.position.isEqual(n.position)){if(!e.aIsStrong)return[new Qn(0)];a.oldName=n.newName}return[a]}),Ur(fi,un,function(a,n){if(ie(a.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){var e=new fi(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,e]}return a.position=a.position._getTransformedBySplitOperation(n),[a]}),Ur(ls,ls,function(a,n,e){if(a.root===n.root&&a.key===n.key){if(!e.aIsStrong||a.newValue===n.newValue)return[new Qn(0)];a.oldValue=n.newValue}return[a]}),Ur(un,Wn,function(a,n){return a.splitPosition.hasSameParentAs(n.position)&&a.splitPosition.offset<n.position.offset&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(n),a.insertionPosition=un.getInsertionPosition(a.splitPosition),[a]}),Ur(un,Pn,function(a,n,e){if(!a.graveyardPosition&&!e.bWasUndone&&a.splitPosition.hasSameParentAs(n.sourcePosition)){var r=n.graveyardPosition.path.slice();r.push(0);var t=new nt(n.graveyardPosition.root,r),i=un.getInsertionPosition(new nt(n.graveyardPosition.root,r)),o=new un(t,0,null,0);return o.insertionPosition=i,a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=un.getInsertionPosition(a.splitPosition),a.graveyardPosition=o.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[o,a]}return a.splitPosition.hasSameParentAs(n.deletionPosition)&&!a.splitPosition.isAfter(n.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=un.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),Ur(un,Jr,function(a,n,e){var r=Qe._createFromPositionAndShift(n.sourcePosition,n.howMany);if(a.graveyardPosition){var t=r.start.isEqual(a.graveyardPosition)||r.containsPosition(a.graveyardPosition);if(!e.bWasUndone&&t){var i=a.splitPosition._getTransformedByMoveOperation(n),o=a.graveyardPosition._getTransformedByMoveOperation(n),s=o.path.slice();s.push(0);var l=new nt(o.root,s);return[new Jr(i,a.howMany,l,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)}if(a.splitPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(a.splitPosition)){var u=n.howMany-(a.splitPosition.offset-n.sourcePosition.offset);return a.howMany-=u,a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany),a.splitPosition=n.sourcePosition.clone(),a.insertionPosition=un.getInsertionPosition(a.splitPosition),[a]}return!a.splitPosition.isEqual(n.targetPosition)||e.baRelation!="insertAtSource"&&e.abRelation!="splitBefore"?(n.sourcePosition.isEqual(n.targetPosition)||(a.splitPosition.hasSameParentAs(n.sourcePosition)&&a.splitPosition.offset<=n.sourcePosition.offset&&(a.howMany-=n.howMany),a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(n),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(n):a.insertionPosition=un.getInsertionPosition(a.splitPosition),[a]):(a.howMany+=n.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),a.insertionPosition=un.getInsertionPosition(a.splitPosition),[a])}),Ur(un,un,function(a,n,e){if(a.splitPosition.isEqual(n.splitPosition)){if(!a.graveyardPosition&&!n.graveyardPosition)return[new Qn(0)];if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition))return[new Qn(0)];if(e.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n),[a]}if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition)){var r=a.splitPosition.root.rootName=="$graveyard",t=n.splitPosition.root.rootName=="$graveyard",i=r&&!t;if(t&&!r||!i&&e.aIsStrong){var o=[];return n.howMany&&o.push(new Jr(n.moveTargetPosition,n.howMany,n.splitPosition,0)),a.howMany&&o.push(new Jr(a.splitPosition,a.howMany,a.moveTargetPosition,0)),o}return[new Qn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n)),a.splitPosition.isEqual(n.insertionPosition)&&e.abRelation=="splitBefore")return a.howMany++,[a];if(n.splitPosition.isEqual(a.insertionPosition)&&e.baRelation=="splitBefore"){var s=n.insertionPosition.path.slice();s.push(0);var l=new nt(n.insertionPosition.root,s);return[a,new Jr(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(n.splitPosition)&&a.splitPosition.offset<n.splitPosition.offset&&(a.howMany-=n.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(n),a.insertionPosition=un.getInsertionPosition(a.splitPosition),[a]});var Nf=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._stack=[],t._createdBatches=new WeakSet,t.refresh(),t}return C(e,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(t){var i=this.editor.model.document.selection,o={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:t,selection:o}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(t,i,o){var s=this.editor.model,l=s.document,u=[],d=y(t),v;try{for(d.s();!(v=d.n()).done;){var g=v.value,m=vg(g,o).find(function(_){return _.start.root!=l.graveyard});m&&u.push(m)}}catch(_){d.e(_)}finally{d.f()}u.length&&s.change(function(_){_.setSelection(u,{backward:i})})}},{key:"_undo",value:function(t,i){var o=this.editor.model,s=o.document;this._createdBatches.add(i);var l=t.operations.slice().filter(function(F){return F.isDocumentOperation});l.reverse();var u=y(l),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=v.baseVersion+1,m=Array.from(s.history.getOperations(g)),_=Mf([v.getReversed()],m,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,O=y(_),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;i.addOperation(A),o.applyOperation(A),s.history.setOperationAsUndone(v,A)}}catch(F){O.e(F)}finally{O.f()}}}catch(F){u.e(F)}finally{u.f()}}}]),e}(Ir);function vg(a,n){var e=a.getTransformedByOperations(n);e.sort(function(o,s){return o.start.isBefore(s.start)?-1:1});for(var r=1;r<e.length;r++){var t=e[r-1],i=e[r];t.end.isTouching(i.start)&&(t.end=i.end,e.splice(r,1),r--)}return e}var pg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=i?this._stack.findIndex(function(u){return u.batch==i}):this._stack.length-1,s=this._stack.splice(o,1)[0],l=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(l,function(){t._undo(s.batch,l);var u=t.editor.model.document.history.getOperations(s.batch.baseVersion);t._restoreSelection(s.selection.ranges,s.selection.isBackward,u),t.fire("revert",s.batch,l)}),this.refresh()}}]),e}(Nf),gg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"execute",value:function(){var t=this,i=this._stack.pop(),o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,function(){var s=i.batch.operations[i.batch.operations.length-1].baseVersion+1,l=t.editor.model.document.history.getOperations(s);t._restoreSelection(i.selection.ranges,i.selection.isBackward,l),t._undo(i.batch,o)}),this.refresh()}}]),e}(Nf),mg=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._batchRegistry=new WeakSet,t}return C(e,[{key:"init",value:function(){var t=this,i=this.editor;this._undoCommand=new pg(i),this._redoCommand=new gg(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",function(o,s){var l=s[0];if(!!l.isDocumentOperation){var u=l.batch,d=t._redoCommand._createdBatches.has(u),v=t._undoCommand._createdBatches.has(u);t._batchRegistry.has(u)||u.type=="transparent"&&!d&&!v||(d?t._undoCommand.addBatch(u):v||(t._undoCommand.addBatch(u),t._redoCommand.clearStack()),t._batchRegistry.add(u))}},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(o,s,l){t._redoCommand.addBatch(l)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}],[{key:"pluginName",get:function(){return"UndoEditing"}}]),e}(ct),Ff='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Lf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',bg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.locale,o=t.t,s=i.uiLanguageDirection=="ltr"?Ff:Lf,l=i.uiLanguageDirection=="ltr"?Lf:Ff;this._addButton("undo",o("Undo"),"CTRL+Z",s),this._addButton("redo",o("Redo"),"CTRL+Y",l)}},{key:"_addButton",value:function(t,i,o,s){var l=this,u=this.editor;u.ui.componentFactory.add(t,function(d){var v=u.commands.get(t),g=new cn(d);return g.set({label:i,icon:s,keystroke:o,tooltip:!0}),g.bind("isEnabled").to(v,"isEnabled"),l.listenTo(g,"execute",function(){u.execute(t),u.editing.view.focus()}),g})}}]),e}(ct),Bf=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[mg,bg]}},{key:"pluginName",get:function(){return"Undo"}}]),e}(ct),ml=function(){function a(n){E(this,a),this.context=n}return C(a,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),a}();Zt(ml,On);var Vf=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new jn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if(typeof t!="string")throw new pe.b("pendingactions-add-invalid-message: The message must be a string.",this);var i=Object.create(On);return i.set("message",t),this._actions.add(i),this.hasAny=!0,i}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),e}(ml),Du=function(){function a(){var n=this;E(this,a);var e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=function(r){n.loaded=r.loaded}}return C(a,[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(e){var r=this,t=this._reader;return this.total=e.size,new Promise(function(i,o){t.onload=function(){var s=t.result;r._data=s,i(s)},t.onerror=function(){o("error")},t.onabort=function(){o("aborted")},r._reader.readAsDataURL(e)})}},{key:"abort",value:function(){this._reader.abort()}}]),a}();Zt(Du,On);var ei=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this;this.loaders=new jn,this.loaders.on("add",function(){return t._updatePendingAction()}),this.loaders.on("remove",function(){return t._updatePendingAction()}),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(i,o){return o?i/o*100:0})}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var i=this;if(!this.createUploadAdapter)return console.warn(Object(pe.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;var o=new Nu(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(t,o),t instanceof Promise&&o.file.then(function(s){i._loadersMap.set(s,o)}).catch(function(){}),o.on("change:uploaded",function(){var s=0,l=y(i.loaders),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;s+=d.uploaded}}catch(v){l.e(v)}finally{l.f()}i.uploaded=s}),o.on("change:uploadTotal",function(){var s=0,l=y(i.loaders),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;d.uploadTotal&&(s+=d.uploadTotal)}}catch(v){l.e(v)}finally{l.f()}i.uploadTotal=s}),o}},{key:"destroyLoader",value:function(t){var i=this,o=t instanceof Nu?t:this.getLoader(t);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach(function(s,l){s===o&&i._loadersMap.delete(l)})}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(Vf);if(this.loaders.length){if(!this._pendingAction){var i=this.editor.t,o=function(l){return"".concat(i("Upload in progress")," ").concat(parseInt(l),"%.")};this._pendingAction=t.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Vf]}}]),e}(ct);Zt(ei,On);var Nu=function(){function a(n,e){E(this,a),this.id=ii(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=e(this),this._reader=new Du,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(r,t){return t?r/t*100:0}),this.set("uploadResponse",null)}return C(a,[{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(r){return e._filePromiseWrapper?r:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var e=this;if(this.status!="idle")throw new pe.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(function(r){return e._reader.read(r)}).then(function(r){if(e.status!=="reading")throw e.status;return e.status="idle",r}).catch(function(r){throw r==="aborted"?(e.status="aborted","aborted"):(e.status="error",e._reader.error?e._reader.error:r)})}},{key:"upload",value:function(){var e=this;if(this.status!="idle")throw new pe.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(function(){return e._adapter.upload()}).then(function(r){return e.uploadResponse=r,e.status="idle",r}).catch(function(r){throw e.status==="aborted"?"aborted":(e.status="error",r)})}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var r={};return r.promise=new Promise(function(t,i){r.rejecter=i,r.isFulfilled=!1,e.then(function(o){r.isFulfilled=!0,t(o)}).catch(function(o){r.isFulfilled=!0,i(o)})}),r}}]),a}();Zt(Nu,On);function yg(){var a=function(r){r=r.toLowerCase();var t=document.cookie.split(";"),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.split("=");if(decodeURIComponent(l[0].trim().toLowerCase())===r)return decodeURIComponent(l[1])}}catch(u){i.e(u)}finally{i.f()}return null}("ckCsrfToken"),n,e;return a&&a.length==40||(a=function(r){var t="",i=new Uint8Array(r);window.crypto.getRandomValues(i);for(var o=0;o<i.length;o++){var s="abcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?s.toUpperCase():s}return t}(40),n="ckCsrfToken",e=a,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+";path=/"),a}var zf=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor.config.get("ckfinder.uploadUrl");i&&(this.editor.plugins.get(ei).createUploadAdapter=function(o){return new wg(o,i,t.editor.t)})}}],[{key:"requires",get:function(){return[ei]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),e}(ct),wg=function(){function a(n,e,r){E(this,a),this.loader=n,this.url=e,this.t=r}return C(a,[{key:"upload",value:function(){var e=this;return this.loader.file.then(function(r){return new Promise(function(t,i){e._initRequest(),e._initListeners(t,i,r),e._sendRequest(r)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,r,t){var i=this.xhr,o=this.loader,s=(0,this.t)("Cannot upload file:")+" ".concat(t.name,".");i.addEventListener("error",function(){return r(s)}),i.addEventListener("abort",function(){return r()}),i.addEventListener("load",function(){var l=i.response;if(!l||!l.uploaded)return r(l&&l.error&&l.error.message?l.error.message:s);e({default:l.url})}),i.upload&&i.upload.addEventListener("progress",function(l){l.lengthComputable&&(o.uploadTotal=l.total,o.uploaded=l.loaded)})}},{key:"_sendRequest",value:function(e){var r=new FormData;r.append("upload",e),r.append("ckCsrfToken",yg()),this.xhr.send(r)}}]),a}(),gs=function(){function a(n,e,r){E(this,a);var t,i=null;typeof r=="function"?t=r:(i=n.commands.get(r),t=function(){n.execute(r)}),n.model.document.on("change",function(o,s){if(!(i&&!i.isEnabled)&&s.type!="transparent"){var l=Array.from(n.model.document.differ.getChanges()),u=l[0];if(!(l.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)){var d=u.position.parent;if(!(!d.is("paragraph")||d.childCount!==1)){var v=e.exec(d.getChild(0).data);v&&n.model.enqueueChange(function(g){var m=g.createPositionAt(d,0),_=g.createPositionAt(d,v[0].length),O=new Po(m,_);t({match:v})!==!1&&g.remove(O),O.detach()})}}}})}return C(a,null,[{key:"pluginName",get:function(){return"BlockAutoformatEditing"}}]),a}();function Uf(a,n){var e=a.start;return{text:Array.from(a.getItems()).reduce(function(r,t){return t.is("text")||t.is("textProxy")?r+t.data:(e=n.createPositionAfter(t),"")},""),range:n.createRange(e,a.end)}}var jo=function(){function a(n,e,r){E(this,a);var t,i,o,s;e instanceof RegExp?t=e:o=e,typeof r=="string"?i=r:s=r,o=o||function(l){for(var u,d=[],v=[];(u=t.exec(l))!==null&&!(u&&u.length<4);){var g=u,m=g.index,_=g[1],O=g[2],P=g[3],A=_+O+P;m+=u[0].length-A.length;var F=[m,m+_.length],G=[m+_.length+O.length,m+_.length+O.length+P.length];d.push(F),d.push(G),v.push([m+_.length,m+_.length+O.length])}return{remove:d,format:v}},s=s||function(l,u){var d=n.model.schema.getValidRanges(u,i),v=y(d),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;l.setAttribute(i,!0,m)}}catch(_){v.e(_)}finally{v.f()}l.removeSelectionAttribute(i)},n.model.document.on("change",function(l,u){if(u.type!="transparent"){var d=n.model,v=d.document.selection;if(!!v.isCollapsed){var g=Array.from(d.document.differ.getChanges()),m=g[0];if(!(g.length!=1||m.type!=="insert"||m.name!="$text"||m.length!=1)){var _=v.focus,O=_.parent,P=Uf(d.createRange(d.createPositionAt(O,0),_),d),A=P.text,F=P.range,G=o(A),Q=Wf(F.start,G.format,d),q=Wf(F.start,G.remove,d);Q.length&&q.length&&d.enqueueChange(function(be){if(s(be,Q)!==!1){var Se=y(q.reverse()),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var Ue=Ie.value;be.remove(Ue)}}catch(ot){Se.e(ot)}finally{Se.f()}}})}}}})}return C(a,null,[{key:"pluginName",get:function(){return"InlineAutoformatEditing"}}]),a}();function Wf(a,n,e){return n.filter(function(r){return r[0]!==void 0&&r[1]!==void 0}).map(function(r){return e.createRange(a.getShiftedBy(r[0]),a.getShiftedBy(r[1]))})}function bl(a,n){return function(e,r){if(!a.commands.get(n).isEnabled)return!1;var t=a.model.schema.getValidRanges(r,n),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;e.setAttribute(n,!0,s)}}catch(l){i.e(l)}finally{i.f()}e.removeSelectionAttribute(n)}}var Hf=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.attributeKey=t,i}return C(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(i.selection,this.attributeKey)}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document.selection,l=i.forceValue===void 0?!this.value:i.forceValue;o.change(function(u){if(s.isCollapsed)l?u.setSelectionAttribute(t.attributeKey,!0):u.removeSelectionAttribute(t.attributeKey);else{var d=o.schema.getValidRanges(s.getRanges(),t.attributeKey),v=y(d),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;l?u.setAttribute(t.attributeKey,l,m):u.removeAttribute(t.attributeKey,m)}}catch(_){v.e(_)}finally{v.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var t=this.editor.model,i=t.schema,o=t.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);var s=y(o.getRanges()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=y(u.getItems()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;if(i.checkAttribute(g,this.attributeKey))return g.hasAttribute(this.attributeKey)}}catch(m){d.e(m)}finally{d.f()}}}catch(m){s.e(m)}finally{s.f()}return!1}}]),e}(Ir),kg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(i){var o=i.getStyle("font-weight");return o?o=="bold"||Number(o)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new Hf(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),e}(ct),_g=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("bold",function(s){var l=i.commands.get("bold"),u=new cn(s);return u.set({label:o("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(u,"execute",function(){i.execute("bold"),i.editing.view.focus()}),u})}}]),e}(ct),Kf=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new Hf(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),e}(ct),xg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("italic",function(s){var l=i.commands.get("italic"),u=new cn(s);return u.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(u,"execute",function(){i.execute("italic"),i.editing.view.focus()}),u})}}]),e}(ct);function Li(a){var n=a.next();return n.done?null:n.value}var Og=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.schema,l=o.document.selection,u=Array.from(l.getSelectedBlocks()),d=i.forceValue===void 0?!this.value:i.forceValue;o.change(function(v){if(d){var g=u.filter(function(m){return ms(m)||$f(s,m)});t._applyQuote(v,g)}else t._removeQuote(v,u.filter(ms))})}},{key:"_getValue",value:function(){var t=Li(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!ms(t))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,i=this.editor.model.schema,o=Li(t.getSelectedBlocks());return!!o&&$f(i,o)}},{key:"_removeQuote",value:function(t,i){Gf(t,i).reverse().forEach(function(o){if(o.start.isAtStart&&o.end.isAtEnd)return void t.unwrap(o.start.parent);if(o.start.isAtStart){var s=t.createPositionBefore(o.start.parent);return void t.move(o,s)}o.end.isAtEnd||t.split(o.end);var l=t.createPositionAfter(o.end.parent);t.move(o,l)})}},{key:"_applyQuote",value:function(t,i){var o=[];Gf(t,i).reverse().forEach(function(s){var l=ms(s.start);l||(l=t.createElement("blockQuote"),t.wrap(s,l)),o.push(l)}),o.reverse().reduce(function(s,l){return s.nextSibling==l?(t.merge(t.createPositionAfter(s)),s):l})}}]),e}(Ir);function ms(a){return a.parent.name=="blockQuote"?a.parent:null}function Gf(a,n){for(var e,r=0,t=[];r<n.length;){var i=n[r],o=n[r+1];e||(e=a.createPositionBefore(i)),o&&i.nextSibling==o||(t.push(a.createRange(e,a.createPositionAfter(i))),e=null),r++}return t}function $f(a,n){var e=a.checkChild(n.parent,"blockQuote"),r=a.checkChild(["$root","blockQuote"],n);return e&&r}var Pg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema;t.commands.add("blockQuote",new Og(t)),i.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),i.addChildCheck(function(o,s){if(o.endsWith("blockQuote")&&s.name=="blockQuote")return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(function(o){var s=t.model.document.differ.getChanges(),l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d.type=="insert"){var v=d.position.nodeAfter;if(!v)continue;if(v.is("blockQuote")&&v.isEmpty)return o.remove(v),!0;if(v.is("blockQuote")&&!i.checkChild(d.position,v))return o.unwrap(v),!0;if(v.is("element")){var g=o.createRangeIn(v),m=y(g.getItems()),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;if(O.is("blockQuote")&&!i.checkChild(o.createPositionBefore(O),O))return o.unwrap(O),!0}}catch(A){m.e(A)}finally{m.f()}}}else if(d.type=="remove"){var P=d.position.parent;if(P.is("blockQuote")&&P.isEmpty)return o.remove(P),!0}}}catch(A){l.e(A)}finally{l.f()}return!1})}},{key:"afterInit",value:function(){var t=this,i=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",function(o,s){var l=t.editor.model.document,u=l.selection.getLastPosition().parent;l.selection.isCollapsed&&u.isEmpty&&i.value&&(t.editor.execute("blockQuote"),t.editor.editing.view.scrollToTheSelection(),s.preventDefault(),o.stop())})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}}]),e}(ct);B(43);var Eg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",function(s){var l=i.commands.get("blockQuote"),u=new cn(s);return u.set({label:o("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(u,"execute",function(){i.execute("blockQuote"),i.editing.view.focus()}),u})}}]),e}(ct),Cg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.ui.componentFactory,o=t.t;i.add("ckfinder",function(s){var l=t.commands.get("ckfinder"),u=new cn(s);return u.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),u.bind("isEnabled").to(l),u.on("execute",function(){t.execute("ckfinder"),t.editing.view.focus()}),u})}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),e}(ct),Ag=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"observe",value:function(t){var i=this;this.listenTo(t,"load",function(o,s){s.target.tagName=="IMG"&&i._fireEvents(s)},{useCapture:!0})}},{key:"_fireEvents",value:function(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}]),e}(ma),yl=function(){function a(){E(this,a),this._stack=[]}return C(a,[{key:"add",value:function(e,r){var t=this._stack,i=t[0];this._insertDescriptor(e);var o=t[0];i===o||Fu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:r})}},{key:"remove",value:function(e,r){var t=this._stack,i=t[0];this._removeDescriptor(e);var o=t[0];i===o||Fu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:r})}},{key:"_insertDescriptor",value:function(e){var r=this._stack,t=r.findIndex(function(o){return o.id===e.id});if(!Fu(e,r[t])){t>-1&&r.splice(t,1);for(var i=0;r[i]&&Lu(r[i],e);)i++;r.splice(i,0,e)}}},{key:"_removeDescriptor",value:function(e){var r=this._stack,t=r.findIndex(function(i){return i.id===e});t>-1&&r.splice(t,1)}}]),a}();function Fu(a,n){return a&&n&&a.priority==n.priority&&wl(a.classes)==wl(n.classes)}function Lu(a,n){return a.priority>n.priority||!(a.priority<n.priority)&&wl(a.classes)>wl(n.classes)}function wl(a){return Array.isArray(a)?a.sort().join(","):a}Zt(yl,an),B(45);var kl=Eu("px"),Yf=An.document.body,Er=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("top",0),t.set("left",0),t.set("position","arrow_nw"),t.set("isVisible",!1),t.set("withArrow",!0),t.set("class"),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",function(o){return"ck-balloon-panel_"+o}),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",kl),left:i.to("left",kl)}},children:t.content}),t}return C(e,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(t){this.show();var i=e.defaultPositions,o=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast],limiter:Yf,fitInViewport:!0},t),s=e._getOptimalPosition(o),l=parseInt(s.left),u=parseInt(s.top),d=s.name;Object.assign(this,{top:u,left:l,position:d})}},{key:"pin",value:function(t){var i=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){i.isVisible?i._startPinning(t):i._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(t){var i=this;this.attachTo(t);var o=_l(t.target),s=t.limiter?_l(t.limiter):Yf;this.listenTo(An.document,"scroll",function(l,u){var d=u.target,v=o&&d.contains(o),g=s&&d.contains(s);!v&&!g&&o&&s||i.attachTo(t)},{useCapture:!0}),this.listenTo(An.window,"resize",function(){i.attachTo(t)})}},{key:"_stopPinning",value:function(){this.stopListening(An.document,"scroll"),this.stopListening(An.window,"resize")}}]),e}(_r);function _l(a){return ni(a)?a:Zs(a)?a.commonAncestorContainer:typeof a=="function"?_l(a()):null}function Jn(a,n){return a.top-n.height-Er.arrowVerticalOffset}function Kn(a){return a.bottom+Er.arrowVerticalOffset}Er.arrowHorizontalOffset=25,Er.arrowVerticalOffset=10,Er._getOptimalPosition=of,Er.defaultPositions={northWestArrowSouthWest:function(n,e){return{top:Jn(n,e),left:n.left-Er.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(n,e){return{top:Jn(n,e),left:n.left-.25*e.width-Er.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(n,e){return{top:Jn(n,e),left:n.left-e.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(n,e){return{top:Jn(n,e),left:n.left-.75*e.width+Er.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(n,e){return{top:Jn(n,e),left:n.left-e.width+Er.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(n,e){return{top:Jn(n,e),left:n.left+n.width/2-Er.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(n,e){return{top:Jn(n,e),left:n.left+n.width/2-.25*e.width-Er.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(n,e){return{top:Jn(n,e),left:n.left+n.width/2-e.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(n,e){return{top:Jn(n,e),left:n.left+n.width/2-.75*e.width+Er.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(n,e){return{top:Jn(n,e),left:n.left+n.width/2-e.width+Er.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(n,e){return{top:Jn(n,e),left:n.right-Er.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(n,e){return{top:Jn(n,e),left:n.right-.25*e.width-Er.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(n,e){return{top:Jn(n,e),left:n.right-e.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(n,e){return{top:Jn(n,e),left:n.right-.75*e.width+Er.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(n,e){return{top:Jn(n,e),left:n.right-e.width+Er.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(n,e){return{top:Kn(n),left:n.left-Er.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(n,e){return{top:Kn(n),left:n.left-.25*e.width-Er.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(n,e){return{top:Kn(n),left:n.left-e.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(n,e){return{top:Kn(n),left:n.left-.75*e.width+Er.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(n,e){return{top:Kn(n),left:n.left-e.width+Er.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(n,e){return{top:Kn(n),left:n.left+n.width/2-Er.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(n,e){return{top:Kn(n),left:n.left+n.width/2-.25*e.width-Er.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(n,e){return{top:Kn(n),left:n.left+n.width/2-e.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(n,e){return{top:Kn(n),left:n.left+n.width/2-.75*e.width+Er.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(n,e){return{top:Kn(n),left:n.left+n.width/2-e.width+Er.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(n,e){return{top:Kn(n),left:n.right-Er.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(n,e){return{top:Kn(n),left:n.right-.25*e.width-Er.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(n,e){return{top:Kn(n),left:n.right-e.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(n,e){return{top:Kn(n),left:n.right-.75*e.width+Er.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(n,e){return{top:Kn(n),left:n.right-e.width+Er.arrowHorizontalOffset,name:"arrow_ne"}}};function xi(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function xl(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.setAttribute("contenteditable","false",a),n.addClass("ck-widget",a),n.setCustomProperty("widget",!0,a),a.getFillerOffset=Tg,e.label&&function(t,i,o){o.setCustomProperty("widgetLabel",i,t)}(a,e.label,n),e.hasSelectionHandle&&function(t,i){var o=i.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(s){var l=this.toDomElement(s),u=new dl;return u.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),u.render(),l.appendChild(u.element),l});i.insert(i.createPositionAt(t,0),o),i.addClass(["ck-widget_with-selection-handle"],t)}(a,n),function(t,i,o,s){var l=new yl;l.on("change:top",function(u,d){d.oldDescriptor&&s(t,d.oldDescriptor,d.writer),d.newDescriptor&&o(t,d.newDescriptor,d.writer)}),i.setCustomProperty("addHighlight",function(u,d,v){return l.add(d,v)},t),i.setCustomProperty("removeHighlight",function(u,d,v){return l.remove(d,v)},t)}(a,n,function(t,i,o){return o.addClass(r(i.classes),t)},function(t,i,o){return o.removeClass(r(i.classes),t)}),a;function r(t){return Array.isArray(t)?t:[t]}}function Qf(a){var n=a.getCustomProperty("widgetLabel");return n?typeof n=="function"?n():n:""}function Bu(a,n){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),n.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",function(e,r,t){n.setAttribute("contenteditable",t?"false":"true",a)}),a.on("change:isFocused",function(e,r,t){t?n.addClass("ck-editor__nested-editable_focused",a):n.removeClass("ck-editor__nested-editable_focused",a)}),a}function Ol(a,n){var e=a.getSelectedElement();if(e&&n.schema.isBlock(e))return n.createPositionAfter(e);var r=a.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return n.createPositionAt(r,0);var t=n.createPositionAfter(r);return a.focus.isTouching(t)?t:n.createPositionBefore(r)}return a.focus}function Sg(a,n){var e=new mn(An.window),r=e.getIntersection(a),t=n.height+Er.arrowVerticalOffset;if(a.top-t>e.top||a.bottom+t<e.bottom)return null;var i=r||a,o=i.left+i.width/2-n.width/2;return{top:Math.max(a.top,0)+Er.arrowVerticalOffset,left:o,name:"arrow_n"}}function Tg(){return null}function Vu(a){var n=a.getSelectedElement();return n&&function(e){return!!e.getCustomProperty("image")&&xi(e)}(n)?n:null}function Bi(a){return!!a&&a.is("image")}function zu(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=a.createElement("image",e),t=Ol(n.document.selection,n);n.insertContent(r,t),r.parent&&a.setSelection(r,"on")}function Jf(a){var n=a.schema,e=a.document.selection;return function(r,t,i){var o=function(s,l){var u=Ol(s,l).parent;return u.isEmpty&&!u.is("$root")?u.parent:u}(r,i);return t.checkChild(o,"image")}(e,n,a)&&!function(r,t){var i=r.getSelectedElement();return i&&t.isObject(i)}(e,n)&&function(r){return U(r.focus.getAncestors()).every(function(t){return!t.is("image")})}(e)}function Oa(a){return Array.from(a.getChildren()).find(function(n){return n.is("img")})}function Uu(a){return function(e){e.on("attribute:".concat(a,":image"),n)};function n(e,r,t){if(!!t.consumable.consume(r.item,e.name)){var i=t.writer,o=Oa(t.mapper.toViewElement(r.item));r.attributeNewValue!==null?i.setAttribute(r.attributeKey,r.attributeNewValue,o):i.removeAttribute(r.attributeKey,o)}}}var Pl=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){this.isEnabled=Jf(this.editor.model)}},{key:"execute",value:function(t){var i=this.editor.model;i.change(function(o){var s=Array.isArray(t.source)?t.source:[t.source],l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;zu(o,i,{src:d})}}catch(v){l.e(v)}finally{l.f()}})}}]),e}(Ir),Zf=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.t,s=t.conversion;t.editing.view.addObserver(Ag),i.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),s.for("dataDowncast").elementToElement({model:"image",view:function(u,d){return Wu(d)}}),s.for("editingDowncast").elementToElement({model:"image",view:function(u,d){return v=Wu(d),g=d,m=o("image widget"),g.setCustomProperty("image",!0,v),xl(v,g,{label:function(){var O=Oa(v).getAttribute("alt");return O?"".concat(O," ").concat(m):m}});var v,g,m}}),s.for("downcast").add(Uu("src")).add(Uu("alt")).add(function(){return function(u){u.on("attribute:srcset:image",l)};function l(u,d,v){if(!!v.consumable.consume(d.item,u.name)){var g=v.writer,m=Oa(v.mapper.toViewElement(d.item));if(d.attributeNewValue===null){var _=d.attributeOldValue;_.data&&(g.removeAttribute("srcset",m),g.removeAttribute("sizes",m),_.width&&g.removeAttribute("width",m))}else{var O=d.attributeNewValue;O.data&&(g.setAttribute("srcset",O.data,m),g.setAttribute("sizes","100vw",m),O.width&&g.setAttribute("width",O.width,m))}}}}()),s.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(u,d){return d.createElement("image",{src:u.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(u){var d={data:u.getAttribute("srcset")};return u.hasAttribute("width")&&(d.width=u.getAttribute("width")),d}}}).add(function(){return function(u){u.on("element:figure",l)};function l(u,d,v){if(!!v.consumable.test(d.viewItem,{name:!0,classes:"image"})){var g=Oa(d.viewItem);if(!(!g||!g.hasAttribute("src")||!v.consumable.test(g,{name:!0}))){var m=v.convertItem(g,d.modelCursor),_=Li(m.modelRange.getItems());_&&(v.convertChildren(d.viewItem,v.writer.createPositionAt(_,0)),d.modelRange=m.modelRange,d.modelCursor=m.modelCursor)}}}}()),t.commands.add("imageInsert",new Pl(t))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),e}(ct);function Wu(a){var n=a.createEmptyElement("img"),e=a.createContainerElement("figure",{class:"image"});return a.insert(a.createPositionAt(e,0),n),e}function Hu(a,n,e){return e.createRange(Xf(a,n,!0,e),Xf(a,n,!1,e))}function Xf(a,n,e,r){for(var t=a.textNode||(e?a.nodeBefore:a.nodeAfter),i=null;t&&t.getAttribute("linkHref")==n;)i=t,t=e?t.previousSibling:t.nextSibling;return i?r.createPositionAt(i,e?"before":"after"):a}var qf=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.manualDecorators=new jn,t}return C(e,[{key:"restoreManualDecoratorStates",value:function(){var t=y(this.manualDecorators),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(s){t.e(s)}finally{t.f()}}},{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.value=i.selection.getAttribute("linkHref");var o=y(this.manualDecorators),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.value=this._getDecoratorStateFromModel(l.id)}}catch(u){o.e(u)}finally{o.f()}this.isEnabled=t.schema.checkAttributeInSelection(i.selection,"linkHref")}},{key:"execute",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.editor.model,s=o.document.selection,l=[],u=[];for(var d in i)i[d]?l.push(d):u.push(d);o.change(function(v){if(s.isCollapsed){var g=s.getFirstPosition();if(s.hasAttribute("linkHref")){var m=Hu(g,s.getAttribute("linkHref"),o);v.setAttribute("linkHref",t,m),l.forEach(function(Q){v.setAttribute(Q,!0,m)}),u.forEach(function(Q){v.removeAttribute(Q,m)}),v.setSelection(m)}else if(t!==""){var _=fr(s.getAttributes());_.set("linkHref",t),l.forEach(function(Q){_.set(Q,!0)});var O=v.createText(t,_);o.insertContent(O,g),v.setSelection(v.createRangeOn(O))}}else{var P=o.schema.getValidRanges(s.getRanges(),"linkHref"),A=y(P),F;try{var G=function(){var q=F.value;v.setAttribute("linkHref",t,q),l.forEach(function(be){v.setAttribute(be,!0,q)}),u.forEach(function(be){v.removeAttribute(be,q)})};for(A.s();!(F=A.n()).done;)G()}catch(Q){A.e(Q)}finally{A.f()}}})}},{key:"_getDecoratorStateFromModel",value:function(t){return this.editor.model.document.selection.getAttribute(t)}}]),e}(Ir),eh=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}},{key:"execute",value:function(){var t=this.editor,i=this.editor.model,o=i.document.selection,s=t.commands.get("link");i.change(function(l){var u=o.isCollapsed?[Hu(o.getFirstPosition(),o.getAttribute("linkHref"),i)]:o.getRanges(),d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;if(l.removeAttribute("linkHref",g),s){var m=y(s.manualDecorators),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;l.removeAttribute(O.id,g)}}catch(P){m.e(P)}finally{m.f()}}}}catch(P){d.e(P)}finally{d.f()}})}}]),e}(Ir),Mg=function(n,e,r){var t=n.length;return r=r===void 0?t:r,!e&&r>=t?n:dv(n,e,r)},Ig=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),th=function(n){return Ig.test(n)},Rg=function(n){return n.split("")},jg="[\\ud800-\\udfff]",El="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ku="\\ud83c[\\udffb-\\udfff]",rh="[^\\ud800-\\udfff]",nh="(?:\\ud83c[\\udde6-\\uddff]){2}",Gu="[\\ud800-\\udbff][\\udc00-\\udfff]",ih="(?:"+El+"|"+Ku+")?",Dg="[\\ufe0e\\ufe0f]?"+ih+("(?:\\u200d(?:"+[rh,nh,Gu].join("|")+")[\\ufe0e\\ufe0f]?"+ih+")*"),Ng="(?:"+[rh+El+"?",El,nh,Gu,jg].join("|")+")",Fg=RegExp(Ku+"(?="+Ku+")|"+Ng+Dg,"g"),Lg=function(n){return n.match(Fg)||[]},$u=function(n){return th(n)?Lg(n):Rg(n)},Bg=function(a){return function(n){n=Is(n);var e=th(n)?$u(n):void 0,r=e?e[0]:n.charAt(0),t=e?Mg(e,1).join(""):n.slice(1);return r[a]()+t}}("toUpperCase"),Yu=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Vg=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function ah(a,n){var e=n.createAttributeElement("a",{href:a},{priority:5});return n.setCustomProperty("link",!0,e),e}function oh(a){return function(n){return n.replace(Yu,"").match(Vg)}(a=String(a))?a:"#"}var zg=function(){function a(){E(this,a),this._definitions=new Set}return C(a,[{key:"length",get:function(){return this._definitions.size}},{key:"add",value:function(e){var r=this;Array.isArray(e)?e.forEach(function(t){return r._definitions.add(t)}):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(r){r.on("attribute:linkHref",function(t,i,o){if(!!o.consumable.test(i.item,"attribute:linkHref")){var s=o.writer,l=s.document.selection,u=y(e._definitions),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=s.createAttributeElement("a",v.attributes,{priority:5});s.setCustomProperty("link",!0,g),v.callback(i.attributeNewValue)?i.item.is("selection")?s.wrap(l.getFirstRange(),g):s.wrap(o.mapper.toViewRange(i.range),g):s.unwrap(o.mapper.toViewRange(i.range),g)}}catch(m){u.e(m)}finally{u.f()}}},{priority:"high"})}}}]),a}(),sh=function a(n){var e=n.id,r=n.label,t=n.attributes,i=n.defaultValue;E(this,a),this.id=e,this.set("value"),this.defaultValue=i,this.label=r,this.attributes=t};Zt(sh,On);var Ug=function(){function a(n,e,r){var t=this;E(this,a),this.model=n,this.attribute=r,this._modelSelection=n.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",function(i,o){t._isNextGravityRestorationSkipped?t._isNextGravityRestorationSkipped=!1:t._isGravityOverridden&&(!o.directChange&&lh(t._modelSelection.getFirstPosition(),r)||t._restoreGravity())})}return C(a,[{key:"handleForwardMovement",value:function(e,r){var t=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return Cl(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(r),this._removeSelectionAttribute(),!0):uh(e,t)||Qu(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(r),this._overrideGravity(),!0):void 0}},{key:"handleBackwardMovement",value:function(e,r){var t=this.attribute;return this._isGravityOverridden?Cl(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(r),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(r),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):Cl(e,t)&&!this._hasSelectionAttribute?(this._preventCaretMovement(r),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&Qu(e,t)?this._hasSelectionAttribute?void(Ju(e,t)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(r),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(r),!0):void 0:void(Ju(e,t)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_hasSelectionAttribute",get:function(){return this._modelSelection.hasAttribute(this.attribute)}},{key:"_overrideGravity",value:function(){this._overrideUid=this.model.change(function(e){return e.overrideSelectionGravity()})}},{key:"_restoreGravity",value:function(){var e=this;this.model.change(function(r){r.restoreSelectionGravity(e._overrideUid),e._overrideUid=null})}},{key:"_preventCaretMovement",value:function(e){e.preventDefault()}},{key:"_removeSelectionAttribute",value:function(){var e=this;this.model.change(function(r){r.removeSelectionAttribute(e.attribute)})}},{key:"_setSelectionAttributeFromTheNodeBefore",value:function(e){var r=this,t=this.attribute;this.model.change(function(i){i.setSelectionAttribute(r.attribute,e.nodeBefore.getAttribute(t))})}},{key:"_skipNextAutomaticGravityRestoration",value:function(){this._isNextGravityRestorationSkipped=!0}}]),a}();function lh(a,n){return uh(a,n)||Qu(a,n)}function uh(a,n){var e=a.nodeBefore,r=a.nodeAfter,t=!!e&&e.hasAttribute(n);return!!r&&r.hasAttribute(n)&&(!t||e.getAttribute(n)!==r.getAttribute(n))}function Qu(a,n){var e=a.nodeBefore,r=a.nodeAfter,t=!!e&&e.hasAttribute(n),i=!!r&&r.hasAttribute(n);return t&&(!i||e.getAttribute(n)!==r.getAttribute(n))}function Cl(a,n){var e=a.nodeBefore,r=a.nodeAfter,t=!!e&&e.hasAttribute(n);if(!!r&&r.hasAttribute(n)&&t)return r.getAttribute(n)!==e.getAttribute(n)}function Ju(a,n){return lh(a.getShiftedBy(-1),n)}B(47);var ch=/^(https?:)?\/\//,dh=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),r.config.define("link",{addTargetToExternalLinks:!1}),t}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:ah}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(l,u){return ah(oh(l),u)}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(l){return l.getAttribute("href")}}}),t.commands.add("link",new qf(t)),t.commands.add("unlink",new eh(t));var o=function(s,l){var u={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return l.forEach(function(d){return d.label&&u[d.label]&&(d.label=u[d.label]),d}),l}(t.t,function(s){var l=[];if(s)for(var u=0,d=Object.entries(s);u<d.length;u++){var v=d[u],g=K(v,2),m=g[0],_=g[1],O=Object.assign({},_,{id:"link"+Bg(m)});l.push(O)}return l}(t.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(function(s){return s.mode==="automatic"})),this._enableManualDecorators(o.filter(function(s){return s.mode==="manual"})),function(s){var l=s.view,u=s.model,d=s.emitter,v=s.attribute,g=s.locale,m=new Ug(u,d,v),_=u.document.selection;d.listenTo(l.document,"keydown",function(O,P){if(!!_.isCollapsed&&!(P.shiftKey||P.altKey||P.ctrlKey)){var A=P.keyCode==tr.arrowright,F=P.keyCode==tr.arrowleft;if(!(!A&&!F)){var G=_.getFirstPosition(),Q=g.contentLanguageDirection,q;q=Q==="ltr"&&A||Q==="rtl"&&F?m.handleForwardMovement(G,P):m.handleBackwardMovement(G,P),q&&O.stop()}}},{priority:co.get("high")+1})}({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:i}),this._setupLinkHighlight(),this._enableInsertContentSelectionAttributesFixer()}},{key:"_enableAutomaticDecorators",value:function(t){var i=this.editor,o=new zg;i.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:"automatic",callback:function(l){return ch.test(l)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(t),o.length&&i.conversion.for("downcast").add(o.getDispatcher())}},{key:"_enableManualDecorators",value:function(t){if(!!t.length){var i=this.editor,o=i.commands.get("link").manualDecorators;t.forEach(function(s){i.model.schema.extend("$text",{allowAttributes:s.id}),o.add(new sh(s)),i.conversion.for("downcast").attributeToElement({model:s.id,view:function(u,d){if(u){var v=o.get(s.id).attributes,g=d.createAttributeElement("a",v,{priority:5});return d.setCustomProperty("link",!0,g),g}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:o.get(s.id).attributes},model:{key:s.id}})})}}},{key:"_setupLinkHighlight",value:function(){var t=this.editor,i=t.editing.view,o=new Set;i.document.registerPostFixer(function(s){var l=t.model.document.selection,u=!1;if(l.hasAttribute("linkHref")){var d=Hu(l.getFirstPosition(),l.getAttribute("linkHref"),t.model),v=t.editing.mapper.toViewRange(d),g=y(v.getItems()),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;_.is("a")&&!_.hasClass("ck-link_selected")&&(s.addClass("ck-link_selected",_),o.add(_),u=!0)}}catch(O){g.e(O)}finally{g.f()}}return u}),t.conversion.for("editingDowncast").add(function(s){function l(){i.change(function(u){var d=y(o.values()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;u.removeClass("ck-link_selected",g),o.delete(g)}}catch(m){d.e(m)}finally{d.f()}})}s.on("insert",l,{priority:"highest"}),s.on("remove",l,{priority:"highest"}),s.on("attribute",l,{priority:"highest"}),s.on("selection",l,{priority:"highest"})})}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var t=this.editor.model,i=t.document.selection;t.on("insertContent",function(){var o=i.anchor.nodeBefore,s=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||t.change(function(l){U(t.document.selection.getAttributeKeys()).filter(function(u){return u.startsWith("link")}).forEach(function(u){return l.removeSelectionAttribute(u)})}))},{priority:"low"})}}],[{key:"pluginName",get:function(){return"LinkEditing"}}]),e}(ct),Zu=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){this.on("show:warning",function(t,i){window.alert(i.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:i.namespace,title:i.title})}},{key:"showInfo",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:i.namespace,title:i.title})}},{key:"showWarning",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:i.namespace,title:i.title})}},{key:"_showNotification",value:function(t){var i="show:"+t.type+(t.namespace?":"+t.namespace:"");this.fire(i,{message:t.message,type:t.type,title:t.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),e}(ml),Wg=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.stopListening(t.editor.model.document,"change"),t.listenTo(t.editor.model.document,"change",function(){return t.refresh()},{priority:"low"}),t}return C(e,[{key:"refresh",value:function(){var t=this.editor.commands.get("imageInsert"),i=this.editor.commands.get("link");this.isEnabled=t.isEnabled||i.isEnabled}},{key:"execute",value:function(){var t=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new pe.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);var o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;var s=o.onInit;o.language||(o.language=t.locale.uiLanguage),o.onInit=function(l){s&&s(l),l.on("files:choose",function(u){var d=u.data.files.toArray(),v=d.filter(function(q){return!q.isImage()}),g=d.filter(function(q){return q.isImage()}),m=y(v),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;t.execute("link",O.getUrl())}}catch(q){m.e(q)}finally{m.f()}var P=[],A=y(g),F;try{for(A.s();!(F=A.n()).done;){var G=F.value,Q=G.getUrl();P.push(Q||l.request("file:getProxyUrl",{file:G}))}}catch(q){A.e(q)}finally{A.f()}P.length&&fh(t,P)}),l.on("file:choose:resizedImage",function(u){var d=u.data.resizedUrl;if(d)fh(t,[d]);else{var v=t.plugins.get("Notification"),g=t.locale.t;v.showWarning(g("Could not obtain resized image URL."),{title:g("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](o)}}]),e}(Ir);function fh(a,n){if(a.commands.get("imageInsert").isEnabled)a.execute("imageInsert",{source:n});else{var e=a.plugins.get("Notification"),r=a.locale.t;e.showWarning(r("Could not insert image at the current position."),{title:r("Inserting image failed"),namespace:"ckfinder"})}}var hh=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor;t.commands.add("ckfinder",new Wg(t))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Zu,Zf,dh]}}]),e}(ct),Xu=/^data:(\S*?);base64,/,vh=function(){function a(n,e,r){if(E(this,a),!n)throw new pe.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new pe.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!r)throw new pe.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if(typeof t!="string")return!1;var i=t.match(Xu);return!(!i||!i.length)}(n)?function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512;try{for(var o=t.match(Xu)[1],s=atob(t.replace(Xu,"")),l=[],u=0;u<s.length;u+=i){for(var d=s.slice(u,u+i),v=new Array(d.length),g=0;g<d.length;g++)v[g]=d.charCodeAt(g);l.push(new Uint8Array(v))}return new Blob(l,{type:o})}catch(m){throw new pe.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(n):n,this._token=e,this._apiAddress=r}return C(a,[{key:"onProgress",value:function(e){return this.on("progress",function(r,t){return e(t)}),this}},{key:"onError",value:function(e){return this.once("error",function(r,t){return e(t)}),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,r=this,t=this.xhr;function i(o){return function(){return r.fire("error",o)}}t.addEventListener("error",i("Network Error")),t.addEventListener("abort",i("Abort")),t.upload&&t.upload.addEventListener("progress",function(o){o.lengthComputable&&e.fire("progress",{total:o.total,uploaded:o.loaded})}),t.addEventListener("load",function(){var o=t.status,s=t.response;if(o<200||o>299)return e.fire("error",s.message||s.error)})}},{key:"_sendRequest",value:function(){var e=this,r=new FormData,t=this.xhr;return r.append("file",this.file),new Promise(function(i,o){t.addEventListener("load",function(){var s=t.status,l=t.response;return s<200||s>299?l.message?o(new pe.b("fileuploader-uploading-data-failed: Uploading file failed.",e,{message:l.message})):o(l.error):i(l)}),t.addEventListener("error",function(){return o(new Error("Network Error"))}),t.addEventListener("abort",function(){return o(new Error("Abort"))}),t.send(r)})}}]),a}();Zt(vh,an);var Do={refreshInterval:36e5,autoRefresh:!0},ph=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do;if(E(this,a),!n)throw new pe.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh=typeof n=="function"?n:function(){return r=n,new Promise(function(t,i){var o=new XMLHttpRequest;o.open("GET",r),o.addEventListener("load",function(){var s=o.status,l=o.response;return s<200||s>299?i(new pe.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(l)}),o.addEventListener("error",function(){return i(new Error("Network Error"))}),o.addEventListener("abort",function(){return i(new Error("Abort"))}),o.send()});var r},this._options=Object.assign({},Do,e)}return C(a,[{key:"init",value:function(){var e=this;return new Promise(function(r,t){e._options.autoRefresh&&e._startRefreshing(),e.value?r(e):e.refreshToken().then(r).catch(t)})}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then(function(r){return e.set("value",r)}).then(function(){return e})}},{key:"destroy",value:function(){this._stopRefreshing()}},{key:"_startRefreshing",value:function(){var e=this;this._refreshInterval=setInterval(function(){return e.refreshToken()},this._options.refreshInterval)}},{key:"_stopRefreshing",value:function(){clearInterval(this._refreshInterval)}}],[{key:"create",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do;return new a(e,r).init()}}]),a}();Zt(ph,On);var gh=ph,qu=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.context.config.get("cloudServices")||{};for(var i in t)this[i]=t[i];if(this.tokenUrl)return this.token=new e.Token(this.tokenUrl),this.token.init();this.token=null}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this.token&&this.token.destroy()}}],[{key:"pluginName",get:function(){return"CloudServices"}}]),e}(ml);qu.Token=gh;var mh=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.plugins.get(qu),s=o.token,l=o.uploadUrl;s&&(this._uploadGateway=new e._UploadGateway(s,l),i.plugins.get(ei).createUploadAdapter=function(u){return new Hg(t._uploadGateway,u)})}}],[{key:"requires",get:function(){return[ei,qu]}}]),e}(ct),Hg=function(){function a(n,e){E(this,a),this.uploadGateway=n,this.loader=e}return C(a,[{key:"upload",value:function(){var e=this;return this.loader.file.then(function(r){return e.fileUploader=e.uploadGateway.upload(r),e.fileUploader.on("progress",function(t,i){e.loader.uploadTotal=i.total,e.loader.uploaded=i.uploaded}),e.fileUploader.send()})}},{key:"abort",value:function(){this.fileUploader.abort()}}]),a}();mh._UploadGateway=function(){function a(n,e){if(E(this,a),!n)throw new pe.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new pe.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=n,this._apiAddress=e}return C(a,[{key:"upload",value:function(e){return new vh(e,this._token,this._apiAddress)}}]),a}();var Kg=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.domEventType="mousedown",t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ea),Gg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=this.editor.model,i=Li(t.document.selection.getSelectedBlocks());this.value=!!i&&i.is("paragraph"),this.isEnabled=!!i&&bh(i,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.editor.model,o=i.document;i.change(function(s){var l=(t.selection||o.selection).getSelectedBlocks(),u=y(l),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;!v.is("paragraph")&&bh(v,i.schema)&&s.rename(v,"paragraph")}}catch(g){u.e(g)}finally{u.f()}})}}]),e}(Ir);function bh(a,n){return n.checkChild(a.parent,"paragraph")&&!n.isObject(a)}var $g=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"execute",value:function(t){var i=this.editor.model;i.schema.checkChild(t.position,"paragraph")&&i.change(function(o){var s=o.createElement("paragraph");i.insertContent(s,t.position),o.setSelection(s,"in")})}}]),e}(Ir),bs=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model,s=i.data;i.commands.add("paragraph",new Gg(i)),i.commands.add("insertParagraph",new $g(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:function(u,d){return e.paragraphLikeElements.has(u.name)?u.isEmpty?null:d.createElement("paragraph"):null},converterPriority:"low"}),s.upcastDispatcher.on("element",function(l,u,d){d.consumable.test(u.viewItem,{name:u.viewItem.name})&&wh(u.viewItem,u.modelCursor,d.schema)&&Object.assign(u,yh(u.viewItem,u.modelCursor,d))},{priority:"low"}),s.upcastDispatcher.on("text",function(l,u,d){u.modelRange||wh(u.viewItem,u.modelCursor,d.schema)&&Object.assign(u,yh(u.viewItem,u.modelCursor,d))},{priority:"lowest"}),o.document.registerPostFixer(function(l){return t._autoparagraphEmptyRoots(l)}),i.data.on("ready",function(){o.enqueueChange("transparent",function(l){return t._autoparagraphEmptyRoots(l)})},{priority:"lowest"})}},{key:"_autoparagraphEmptyRoots",value:function(t){var i=this.editor.model,o=y(i.document.getRootNames()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=i.document.getRoot(l);if(u.isEmpty&&u.rootName!="$graveyard"&&i.schema.checkChild(u,"paragraph"))return t.insertElement("paragraph",u),!0}}catch(d){o.e(d)}finally{o.f()}}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),e}(ct);function yh(a,n,e){var r=e.writer.createElement("paragraph");return e.writer.insert(r,n),e.convertItem(a,e.writer.createPositionAt(r,0))}function wh(a,n,e){var r=e.createContext(n);return!!e.checkChild(r,"paragraph")&&!!e.checkChild(r.push("paragraph"),a)}function Yg(a){var n=[];return(!a.previousSibling||function(e){return e.previousSibling&&xi(e.previousSibling)}(a))&&n.push("before"),(function(e){return!e.nextSibling}(a)||function(e){return e.nextSibling&&xi(e.nextSibling)}(a))&&n.push("after"),n}bs.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]),B(49);var kh=["before","after"],Qg=new DOMParser().parseFromString(`<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>
`,"image/svg+xml").firstChild,Jg=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._widgetsWithTypeAroundUI=new Set,t}return C(e,[{key:"destroy",value:function(){this._widgetsWithTypeAroundUI.clear()}},{key:"init",value:function(){this._enableTypeAroundUIInjection(),this._enableDetectionOfTypeAroundWidgets(),this._enableInsertingParagraphsOnButtonClick()}},{key:"_insertParagraph",value:function(t,i){var o=this.editor,s=o.editing.view,l=o.editing.mapper.toModelElement(t),u;u=i==="before"?o.model.createPositionBefore(l):o.model.createPositionAfter(l),o.execute("insertParagraph",{position:u}),s.focus(),s.scrollToTheSelection()}},{key:"_enableTypeAroundUIInjection",value:function(){var t=this,i=this.editor,o=i.model.schema,s=i.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",function(u,d,v){var g=v.mapper.toViewElement(d.item);(function(m,_,O){return m&&xi(m)&&!O.isInline(_)})(g,d.item,o)&&(function(m,_,O){var P=m.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(A){var F=this.toDomElement(A);return function(G,Q){var q=y(kh),be;try{for(q.s();!(be=q.n()).done;){var Se=be.value,Ie=new ui({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+Se],title:Q[Se]},children:[G.ownerDocument.importNode(Qg,!0)]});G.appendChild(Ie.render())}}catch(Ue){q.e(Ue)}finally{q.f()}}(F,_),F});m.insert(m.createPositionAt(O,"end"),P)}(v.writer,l,g),t._widgetsWithTypeAroundUI.add(g))},{priority:"low"})}},{key:"_enableDetectionOfTypeAroundWidgets",value:function(){var t=this;function i(o){return"ck-widget_can-type-around_"+o}this.editor.editing.view.document.registerPostFixer(function(o){var s=y(t._widgetsWithTypeAroundUI),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.isAttached()){var d=Yg(u);o.removeClass(kh.map(i),u),o.addClass(d.map(i),u)}else t._widgetsWithTypeAroundUI.delete(u)}}catch(v){s.e(v)}finally{s.f()}})}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var t=this,i=this.editor.editing.view;i.document.on("mousedown",function(o,s){var l=s.domTarget.closest(".ck-widget__type-around__button");if(!!l){var u=function(v){return v.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),d=function(v,g){var m=v.closest(".ck-widget");return g.mapDomToView(m)}(l,i.domConverter);t._insertParagraph(d,u),s.preventDefault(),o.stop()}})}}],[{key:"requires",get:function(){return[bs]}},{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),e}(ct);B(51);var ec=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",function(s,l,u){t._clearPreviouslySelectedWidgets(u.writer);var d=u.writer,v=d.document.selection,g=v.getSelectedElement(),m=null,_=y(v.getRanges()),O;try{for(_.s();!(O=_.n()).done;){var P=O.value,A=y(P),F;try{for(A.s();!(F=A.n()).done;){var G=F.value,Q=G.item;xi(Q)&&!Zg(Q,m)&&(d.addClass("ck-widget_selected",Q),t._previouslySelected.add(Q),m=Q,Q==g&&d.setSelection(v.getRanges(),{fake:!0,label:Qf(g)}))}}catch(q){A.e(q)}finally{A.f()}}}catch(q){_.e(q)}finally{_.f()}},{priority:"low"}),i.addObserver(Kg),this.listenTo(o,"mousedown",function(){return t._onMousedown.apply(t,arguments)}),this.listenTo(o,"keydown",function(){return t._onKeydown.apply(t,arguments)},{priority:"high"}),this.listenTo(o,"delete",function(s,l){t._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())},{priority:"high"})}},{key:"_onMousedown",value:function(t,i){var o=this.editor,s=o.editing.view,l=s.document,u=i.target;if(function(g){for(;g;){if(g.is("editableElement")&&!g.is("rootElement"))return!0;if(xi(g))return!1;g=g.parent}return!1}(u)){if(Ii.isSafari&&i.domEvent.detail>=3){var d=o.editing.mapper.toModelElement(u);this.editor.model.change(function(g){i.preventDefault(),g.setSelection(d,"in")})}return}if(!(!xi(u)&&(u=u.findAncestor(xi),!u))){i.preventDefault(),l.isFocused||s.focus();var v=o.editing.mapper.toModelElement(u);this._setSelectionOverElement(v)}}},{key:"_onKeydown",value:function(t,i){var o=i.keyCode,s=this.editor.locale.contentLanguageDirection==="ltr",l=o==tr.arrowdown||o==tr[s?"arrowright":"arrowleft"],u=!1;(function(d){return d==tr.arrowright||d==tr.arrowleft||d==tr.arrowup||d==tr.arrowdown})(o)?u=this._handleArrowKeys(l):o===tr.enter&&(u=this._handleEnterKey(i.shiftKey)),u&&(i.preventDefault(),t.stop())}},{key:"_handleDelete",value:function(t){var i=this;if(!this.editor.isReadOnly){var o=this.editor.model.document.selection;if(!!o.isCollapsed){var s=this._getObjectElementNextToSelection(t);return s?(this.editor.model.change(function(l){for(var u=o.anchor.parent;u.isEmpty;){var d=u;u=d.parent,l.remove(d)}i._setSelectionOverElement(s)}),!0):void 0}}}},{key:"_handleArrowKeys",value:function(t){var i=this.editor.model,o=i.schema,s=i.document.selection,l=s.getSelectedElement();if(l&&o.isObject(l)){var u=t?s.getLastPosition():s.getFirstPosition(),d=o.getNearestSelectionRange(u,t?"forward":"backward");return d&&i.change(function(g){g.setSelection(d)}),!0}if(!!s.isCollapsed){var v=this._getObjectElementNextToSelection(t);return v&&o.isObject(v)?(this._setSelectionOverElement(v),!0):void 0}}},{key:"_handleEnterKey",value:function(t){var i=this.editor.model,o=i.document.selection.getSelectedElement();if(s=o,l=i.schema,s&&l.isObject(s)&&!l.isInline(s))return i.change(function(u){var d=u.createPositionAt(o,t?"before":"after"),v=u.createElement("paragraph");if(i.schema.isBlock(o.parent)){var g=i.schema.findAllowedParent(d,v);d=u.split(d,g).position}u.insert(v,d),u.setSelection(v,"in")}),!0;var s,l}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change(function(i){i.setSelection(i.createRangeOn(t))})}},{key:"_getObjectElementNextToSelection",value:function(t){var i=this.editor.model,o=i.schema,s=i.document.selection,l=i.createSelection(s);i.modifySelection(l,{direction:t?"forward":"backward"});var u=t?l.focus.nodeBefore:l.focus.nodeAfter;return u&&o.isObject(u)?u:null}},{key:"_clearPreviouslySelectedWidgets",value:function(t){var i=y(this._previouslySelected),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.removeClass("ck-widget_selected",s)}}catch(l){i.e(l)}finally{i.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[Jg]}}]),e}(ct);function Zg(a,n){return!!n&&Array.from(a.getAncestors()).includes(n)}var Xg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Bi(t),Bi(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection.getSelectedElement();i.change(function(s){s.setAttribute("alt",t.newValue,o)})}}]),e}(Ir),qg=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new Xg(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),e}(ct);B(53);var tc=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e),i=n.call(this,r);var o="ck-labeled-field-view-"+ii(),s="ck-labeled-field-view-status-"+ii();i.fieldView=t(b(i),o,s),i.set("label"),i.set("isEnabled",!0),i.set("errorText",null),i.set("infoText",null),i.set("class"),i.labelView=i._createLabelView(o),i.statusView=i._createStatusView(s),i.bind("_statusText").to(b(i),"errorText",b(i),"infoText",function(u,d){return u||d});var l=i.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",function(u){return!u})]},children:[i.labelView,i.fieldView,i.statusView]}),i}return C(e,[{key:"_createLabelView",value:function(t){var i=new Pu(this.locale);return i.for=t,i.bind("text").to(this,"label"),i}},{key:"_createStatusView",value:function(t){var i=new _r(this.locale),o=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",function(s){return!s})],id:t,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),i}},{key:"focus",value:function(){this.fieldView.focus()}}]),e}(_r);B(55);var em=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r),t.set("value"),t.set("id"),t.set("placeholder"),t.set("isReadOnly",!1),t.set("hasError",!1),t.set("ariaDescribedById");var i=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to("input")}}),t}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this);var i=function(s){t.element.value=s||s===0?s:""};i(this.value),this.on("change:value",function(o,s,l){i(l)})}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),e}(_r);function rc(a,n,e){var r=new em(a.locale);return r.set({id:n,ariaDescribedById:e}),r.bind("isReadOnly").to(a,"isEnabled",function(t){return!t}),r.bind("hasError").to(a,"errorText",function(t){return!!t}),r.on("input",function(){a.errorText=null}),r}function nc(a){var n=a.view;n.listenTo(n.element,"submit",function(e,r){r.preventDefault(),n.fire("submit")},{useCapture:!0})}var ic='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',aa='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';B(57);var tm=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.locale.t;return t.focusTracker=new _i,t.keystrokes=new na,t.labeledInput=t._createLabeledInputView(),t.saveButtonView=t._createButton(i("Save"),ic,"ck-button-save"),t.saveButtonView.type="submit",t.cancelButtonView=t._createButton(i("Cancel"),aa,"ck-button-cancel","cancel"),t._focusables=new ia,t._focusCycler=new So({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[t.labeledInput,t.saveButtonView,t.cancelButtonView]}),t}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),nc({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)})}},{key:"_createButton",value:function(t,i,o,s){var l=new cn(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}},{key:"_createLabeledInputView",value:function(){var t=this.locale.t,i=new tc(this.locale,rc);return i.label=t("Text alternative"),i.fieldView.placeholder=t("Text alternative"),i}}]),e}(_r);B(59),B(61);var Al=Eu("px"),Pa=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.positionLimiter=function(){var i=t.editor.editing.view,o=i.document.selection.editableElement;return o?i.domConverter.mapViewToDom(o.root):null},t.set("visibleView",null),t.view=new Er(r.locale),r.ui.view.body.add(t.view),r.ui.focusTracker.add(t.view.element),t._viewToStack=new Map,t._idToStack=new Map,t.set("_numberOfStacks",0),t.set("_singleViewMode",!1),t._rotatorView=t._createRotatorView(),t._fakePanelsView=t._createFakePanelsView(),t}return C(e,[{key:"hasView",value:function(t){return Array.from(this._viewToStack.keys()).includes(t)}},{key:"add",value:function(t){if(this.hasView(t.view))throw new pe.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);var i=t.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(i));var o=this._idToStack.get(i);t.singleViewMode&&this.showStack(i),o.set(t.view,t),this._viewToStack.set(t.view,o),o===this._visibleStack&&this._showView(t)}},{key:"remove",value:function(t){if(!this.hasView(t))throw new pe.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);var i=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(t),this._viewToStack.delete(t)}},{key:"updatePosition",value:function(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(t){this.visibleStack=t;var i=this._idToStack.get(t);if(!i)throw new pe.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find(function(i){return i[1]===t})[0]}},{key:"_showNextStack",value:function(){var t=Array.from(this._idToStack.values()),i=t.indexOf(this._visibleStack)+1;t[i]||(i=0),this.showStack(this._getStackId(t[i]))}},{key:"_showPrevStack",value:function(){var t=Array.from(this._idToStack.values()),i=t.indexOf(this._visibleStack)-1;t[i]||(i=t.length-1),this.showStack(this._getStackId(t[i]))}},{key:"_createRotatorView",value:function(){var t=this,i=new $m(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(s,l){return!l&&s>1}),i.on("change:isNavigationVisible",function(){return t.updatePosition()},{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(s,l){if(l<2)return"";var u=Array.from(t._idToStack.values()).indexOf(t._visibleStack)+1;return o("%0 of %1",[u,l])}),i.buttonNextView.on("execute",function(){i.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showNextStack()}),i.buttonPrevView.on("execute",function(){i.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showPrevStack()}),i}},{key:"_createFakePanelsView",value:function(){var t=new Za(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(i,o){return!o&&i>=2?Math.min(i-1,2):0}),t.listenTo(this.view,"change:top",function(){return t.updatePosition()}),t.listenTo(this.view,"change:left",function(){return t.updatePosition()}),this.editor.ui.view.body.add(t),t}},{key:"_showView",value:function(t){var i=t.view,o=t.balloonClassName,s=o===void 0?"":o,l=t.withArrow,u=l===void 0?!0:l,d=t.singleViewMode,v=d===void 0?!1:d;this.view.class=s,this.view.withArrow=u,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),v&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}],[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),e}(ct),$m=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=r.t,o=t.bindTemplate;return t.set("isNavigationVisible",!0),t.focusTracker=new _i,t.buttonPrevView=t._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),t.buttonNextView=t._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",function(s){return s?"":"ck-hidden"})]},children:[t.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},t.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:t.content}]}),t}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(t){this.hideView(),this.content.add(t)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(t,i){var o=new cn(this.locale);return o.set({label:t,icon:i,tooltip:!0}),o}}]),e}(_r),Za=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e),i=n.call(this,r);var o=i.bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=t,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",function(s){return s?"":"ck-hidden"})],style:{top:o.to("top",Al),left:o.to("left",Al),width:o.to("width",Al),height:o.to("height",Al)}},children:i.content}),i.on("change:numberOfPanels",function(s,l,u,d){u>d?i._addPanels(u-d):i._removePanels(d-u),i.updatePosition()}),i}return C(e,[{key:"_addPanels",value:function(t){for(;t--;){var i=new _r;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}},{key:"_removePanels",value:function(t){for(;t--;){var i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var t=this._balloonPanelView,i=t.top,o=t.left,s=new mn(this._balloonPanelView.element),l=s.width,u=s.height;Object.assign(this,{top:i,left:o,width:l,height:u})}}}]),e}(_r);function Ea(a){var n=a.editing.view,e=Er.defaultPositions;return{target:n.domConverter.viewToDom(n.document.selection.getSelectedElement()),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast]}}var Xa=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",function(s){var l=i.commands.get("imageTextAlternative"),u=new cn(s);return u.set({label:o("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),t.listenTo(u,"execute",function(){t._showForm()}),u})}},{key:"_createForm",value:function(){var t=this,i=this.editor,o=i.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new tm(i.locale),this._form.render(),this.listenTo(this._form,"submit",function(){i.execute("imageTextAlternative",{newValue:t._form.labeledInput.fieldView.element.value}),t._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){t._hideForm(!0)}),this._form.keystrokes.set("Esc",function(s,l){t._hideForm(!0),l()}),this.listenTo(i.ui,"update",function(){Vu(o.selection)?t._isVisible&&function(s){var l=s.plugins.get("ContextualBalloon");if(Vu(s.editing.view.document.selection)){var u=Ea(s);l.updatePosition(u)}}(i):t._hideForm(!0)}),hl({emitter:this._form,activator:function(){return t._isVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var t=this.editor,i=t.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Ea(t)}),o.fieldView.value=o.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[Pa]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),e}(ct),qa=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[qg,Xa]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),e}(ct);B(63);var Ca=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Zf,ec,qa]}},{key:"pluginName",get:function(){return"Image"}}]),e}(ct),eo=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.buttonView=new cn(r),t._fileInputView=new to(r),t._fileInputView.bind("acceptedType").to(b(t)),t._fileInputView.bind("allowMultipleFiles").to(b(t)),t._fileInputView.delegate("done").to(b(t)),t.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[t.buttonView,t._fileInputView]}),t.buttonView.on("execute",function(){t._fileInputView.open()}),t}return C(e,[{key:"focus",value:function(){this.buttonView.focus()}}]),e}(_r),to=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r),t.set("acceptedType"),t.set("allowMultipleFiles",!1);var i=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(function(){t.element&&t.element.files&&t.element.files.length&&t.fire("done",t.element.files),t.element.value=""})}}),t}return C(e,[{key:"open",value:function(){this.element.click()}}]),e}(_r);function Aa(a){var n=a.map(function(e){return e.replace("+","\\+")});return new RegExp("^image\\/(".concat(n.join("|"),")$"))}var ro=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.t;t.ui.componentFactory.add("imageUpload",function(o){var s=new eo(o),l=t.commands.get("imageUpload"),u=t.config.get("image.upload.types"),d=Aa(u);return s.set({acceptedType:u.map(function(v){return"image/"+v}).join(","),allowMultipleFiles:!0}),s.buttonView.set({label:i("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),s.buttonView.bind("isEnabled").to(l),s.on("done",function(v,g){var m=Array.from(g).filter(function(_){return d.test(_.type)});m.length&&t.execute("imageUpload",{file:m})}),s})}}]),e}(ct);B(65),B(67),B(69);var No=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),t}return C(e,[{key:"init",value:function(){var t=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",function(){return t.uploadStatusChange.apply(t,arguments)})}},{key:"uploadStatusChange",value:function(t,i,o){var s=this.editor,l=i.item,u=l.getAttribute("uploadId");if(!!o.consumable.consume(i.item,t.name)){var d=s.plugins.get(ei),v=u?i.attributeNewValue:null,g=this.placeholder,m=s.editing.mapper.toViewElement(l),_=o.writer;if(v=="reading")return Sa(m,_),void Ta(g,m,_);if(v=="uploading"){var O=d.loaders.get(u);return Sa(m,_),void(O?(Ma(m,_),function(P,A,F,G){var Q=function(q){var be=q.createUIElement("div",{class:"ck-progress-bar"});return q.setCustomProperty("progressBar",!0,be),be}(A);A.insert(A.createPositionAt(P,"end"),Q),F.on("change:uploadedPercent",function(q,be,Se){G.change(function(Ie){Ie.setStyle("width",Se+"%",Q)})})}(m,_,O,s.editing.view),function(P,A,F){if(F.data){var G=Oa(P);A.setAttribute("src",F.data,G)}}(m,_,O)):Ta(g,m,_))}v=="complete"&&d.loaders.get(u)&&function(P,A,F){var G=A.createUIElement("div",{class:"ck-image-upload-complete-icon"});A.insert(A.createPositionAt(P,"end"),G),setTimeout(function(){F.change(function(Q){return Q.remove(Q.createRangeOn(G))})},3e3)}(m,_,s.editing.view),function(P,A){Ra(P,A,"progressBar")}(m,_),Ma(m,_),function(P,A){A.removeClass("ck-appear",P)}(m,_)}}}]),e}(ct);function Sa(a,n){a.hasClass("ck-appear")||n.addClass("ck-appear",a)}function Ta(a,n,e){n.hasClass("ck-image-upload-placeholder")||e.addClass("ck-image-upload-placeholder",n);var r=Oa(n);r.getAttribute("src")!==a&&e.setAttribute("src",a,r),Ia(n,"placeholder")||e.insert(e.createPositionAfter(r),function(t){var i=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,i),i}(e))}function Ma(a,n){a.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",a),Ra(a,n,"placeholder")}function Ia(a,n){var e=y(a.getChildren()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.getCustomProperty(n))return t}}catch(i){e.e(i)}finally{e.f()}}function Ra(a,n,e){var r=Ia(a,e);r&&n.remove(n.createRangeOn(r))}var Vi=function(){function a(n){E(this,a),this.document=n}return C(a,[{key:"createDocumentFragment",value:function(e){return new ji(this.document,e)}},{key:"createElement",value:function(e,r,t){return new Qi(this.document,e,r,t)}},{key:"createText",value:function(e){return new Je(this.document,e)}},{key:"clone",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e._clone(r)}},{key:"appendChild",value:function(e,r){return r._appendChild(e)}},{key:"insertChild",value:function(e,r,t){return t._insertChild(e,r)}},{key:"removeChildren",value:function(e,r,t){return t._removeChildren(e,r)}},{key:"remove",value:function(e){var r=e.parent;return r?this.removeChildren(r.getChildIndex(e),1,r):[]}},{key:"replace",value:function(e,r){var t=e.parent;if(t){var i=t.getChildIndex(e);return this.removeChildren(i,1,t),this.insertChild(i,r,t),!0}return!1}},{key:"unwrapElement",value:function(e){var r=e.parent;if(r){var t=r.getChildIndex(e);this.remove(e),this.insertChild(t,e.getChildren(),r)}}},{key:"rename",value:function(e,r){var t=new Qi(this.document,e,r.getAttributes(),r.getChildren());return this.replace(r,t)?t:null}},{key:"setAttribute",value:function(e,r,t){t._setAttribute(e,r)}},{key:"removeAttribute",value:function(e,r){r._removeAttribute(e)}},{key:"addClass",value:function(e,r){r._addClass(e)}},{key:"removeClass",value:function(e,r){r._removeClass(e)}},{key:"setStyle",value:function(e,r,t){It(e)&&t===void 0&&(t=r),t._setStyle(e,r)}},{key:"removeStyle",value:function(e,r){r._removeStyle(e)}},{key:"setCustomProperty",value:function(e,r,t){t._setCustomProperty(e,r)}},{key:"removeCustomProperty",value:function(e,r){return r._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,r){return xt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return xt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return xt._createBefore(e)}},{key:"createRange",value:function(e,r){return new kr(e,r)}},{key:"createRangeOn",value:function(e){return kr._createOn(e)}},{key:"createRangeIn",value:function(e){return kr._createIn(e)}},{key:"createSelection",value:function(e,r,t){return new Ji(e,r,t)}}]),a}(),no=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){this.isEnabled=Jf(this.editor.model)}},{key:"execute",value:function(t){var i=this.editor,o=i.model,s=i.plugins.get(ei);o.change(function(l){var u=Array.isArray(t.file)?t.file:[t.file],d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;rm(l,o,s,g)}}catch(m){d.e(m)}finally{d.f()}})}}]),e}(Ir);function rm(a,n,e,r){var t=e.createLoader(r);t&&zu(a,n,{uploadId:t.id})}var io=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),r.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),t}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document,s=i.model.schema,l=i.conversion,u=i.plugins.get(ei),d=Aa(i.config.get("image.upload.types"));s.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),i.commands.add("imageUpload",new no(i)),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",function(v,g){if(m=g.dataTransfer,!(Array.from(m.types).includes("text/html")&&m.getData("text/html")!=="")){var m,_=Array.from(g.dataTransfer.files).filter(function(P){return!!P&&d.test(P.type)}),O=g.targetRanges.map(function(P){return i.editing.mapper.toModelRange(P)});i.model.change(function(P){P.setSelection(O),_.length&&(v.stop(),i.model.enqueueChange("default",function(){i.execute("imageUpload",{file:_})}))})}}),this.listenTo(i.plugins.get(Io),"inputTransformation",function(v,g){var m=Array.from(i.editing.view.createRangeIn(g.content)).filter(function(G){return!(!(Q=G.item).is("element","img")||!Q.getAttribute("src"))&&(Q.getAttribute("src").match(/^data:image\/\w+;base64,/g)||Q.getAttribute("src").match(/^blob:/g))&&!G.item.getAttribute("uploadProcessed");var Q}).map(function(G){return{promise:(Q=G.item,new Promise(function(q,be){var Se=Q.getAttribute("src");fetch(Se).then(function(Ie){return Ie.blob()}).then(function(Ie){var Ue=function(jt,yt){return jt.type?jt.type:yt.match(/data:(image\/\w+);base64/)?yt.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(Ie,Se),ot=Ue.replace("image/",""),bt=new File([Ie],"image."+ot,{type:Ue});q(bt)}).catch(be)})),imageElement:G.item};var Q});if(!!m.length){var _=new Vi(i.editing.view.document),O=y(m),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;_.setAttribute("uploadProcessed",!0,A.imageElement);var F=u.createLoader(A.promise);F&&(_.setAttribute("src","",A.imageElement),_.setAttribute("uploadId",F.id,A.imageElement))}}catch(G){O.e(G)}finally{O.f()}}}),i.editing.view.document.on("dragover",function(v,g){g.preventDefault()}),o.on("change",function(){var v=o.differ.getChanges({includeChangesInGraveyard:!0}),g=y(v),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;if(_.type=="insert"&&_.name!="$text"){var O=_.position.nodeAfter,P=_.position.root.rootName=="$graveyard",A=y(nm(i,O)),F;try{for(A.s();!(F=A.n()).done;){var G=F.value,Q=G.getAttribute("uploadId");if(!!Q){var q=u.loaders.get(Q);q&&(P?q.abort():q.status=="idle"&&t._readAndUpload(q,G))}}}catch(be){A.e(be)}finally{A.f()}}}}catch(be){g.e(be)}finally{g.f()}})}},{key:"_readAndUpload",value:function(t,i){var o=this,s=this.editor,l=s.model,u=s.locale.t,d=s.plugins.get(ei),v=s.plugins.get(Zu);return l.enqueueChange("transparent",function(m){m.setAttribute("uploadStatus","reading",i)}),t.read().then(function(){var m=t.upload();if(Ii.isSafari){var _=Oa(s.editing.mapper.toViewElement(i));s.editing.view.once("render",function(){if(!!_.parent){var O=s.editing.view.domConverter.mapViewToDom(_.parent);if(!!O){var P=O.style.display;O.style.display="none",O._ckHack=O.offsetHeight,O.style.display=P}}})}return l.enqueueChange("transparent",function(O){O.setAttribute("uploadStatus","uploading",i)}),m}).then(function(m){l.enqueueChange("transparent",function(_){_.setAttributes({uploadStatus:"complete",src:m.default},i),o._parseAndSetSrcsetAttributeOnImage(m,i,_)}),g()}).catch(function(m){if(t.status!=="error"&&t.status!=="aborted")throw m;t.status=="error"&&m&&v.showWarning(m,{title:u("Upload failed"),namespace:"upload"}),g(),l.enqueueChange("transparent",function(_){_.remove(i)})});function g(){l.enqueueChange("transparent",function(m){m.removeAttribute("uploadId",i),m.removeAttribute("uploadStatus",i)}),d.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,i,o){var s=0,l=Object.keys(t).filter(function(u){var d=parseInt(u,10);if(!isNaN(d))return s=Math.max(s,d),!0}).map(function(u){return"".concat(t[u]," ").concat(u,"w")}).join(", ");l!=""&&o.setAttribute("srcset",{data:l,width:s},i)}}],[{key:"requires",get:function(){return[ei,Zu,Io]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),e}(ct);function nm(a,n){return Array.from(a.model.createRangeOn(n)).filter(function(e){return e.item.is("image")}).map(function(e){return e.item})}var _h=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[io,ro,No]}}]),e}(ct),im=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.modelElements=t,i}return C(e,[{key:"refresh",value:function(){var t=this,i=Li(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(function(o){return xh(i,o,t.editor.model.schema)})}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document,s=t.value;i.change(function(l){var u=Array.from(o.selection.getSelectedBlocks()).filter(function(m){return xh(m,s,i.schema)}),d=y(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;g.is(s)||l.rename(g,s)}}catch(m){d.e(m)}finally{d.f()}})}}]),e}(Ir);function xh(a,n,e){return e.checkChild(a.parent,n)&&!e.isObject(a)}var am=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),r.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),t}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.config.get("heading.options"),o=[],s=y(i),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.model!=="paragraph"&&(t.model.schema.register(u.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(u),o.push(u.model))}}catch(d){s.e(d)}finally{s.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new im(t,o))}},{key:"afterInit",value:function(){var t=this.editor,i=t.commands.get("enter"),o=t.config.get("heading.options");i&&this.listenTo(i,"afterExecute",function(s,l){var u=t.model.document.selection.getFirstPosition().parent;o.some(function(d){return u.is(d.model)})&&!u.is("paragraph")&&u.childCount===0&&l.writer.rename(u,"paragraph")})}},{key:"_addDefaultH1Conversion",value:function(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:co.get("low")+1})}}],[{key:"pluginName",get:function(){return"HeadingEditing"}},{key:"requires",get:function(){return[bs]}}]),e}(ct),ac=function a(n,e){E(this,a),e&&go(this,e),n&&this.set(n)};Zt(ac,On),B(11);var Ym=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t,s=function(d){var v=d.t,g={Paragraph:v("Paragraph"),"Heading 1":v("Heading 1"),"Heading 2":v("Heading 2"),"Heading 3":v("Heading 3"),"Heading 4":v("Heading 4"),"Heading 5":v("Heading 5"),"Heading 6":v("Heading 6")};return d.config.get("heading.options").map(function(m){var _=g[m.title];return _&&_!=m.title&&(m.title=_),m})}(i),l=o("Choose heading"),u=o("Heading");i.ui.componentFactory.add("heading",function(d){var v={},g=new jn,m=i.commands.get("heading"),_=i.commands.get("paragraph"),O=[m],P=y(s),A;try{var F=function(){var q=A.value,be={type:"button",model:new ac({label:q.title,class:q.class,withText:!0})};q.model==="paragraph"?(be.model.bind("isOn").to(_,"value"),be.model.set("commandName","paragraph"),O.push(_)):(be.model.bind("isOn").to(m,"value",function(Se){return Se===q.model}),be.model.set({commandName:"heading",commandValue:q.model})),g.add(be),v[q.model]=q.title};for(P.s();!(A=P.n()).done;)F()}catch(Q){P.e(Q)}finally{P.f()}var G=Mo(d);return vf(G,g),G.buttonView.set({isOn:!1,withText:!0,tooltip:u}),G.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),G.bind("isEnabled").toMany(O,"isEnabled",function(){for(var Q=arguments.length,q=new Array(Q),be=0;be<Q;be++)q[be]=arguments[be];return q.some(function(Se){return Se})}),G.buttonView.bind("label").to(m,"value",_,"value",function(Q,q){var be=Q||q&&"paragraph";return v[be]?v[be]:l}),t.listenTo(G,"execute",function(Q){i.execute(Q.source.commandName,Q.source.commandValue?{value:Q.source.commandValue}:void 0),i.editing.view.focus()}),G})}}]),e}(ct);function Sl(a){var n=y(a.getChildren()),e;try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r&&r.is("caption"))return r}}catch(t){n.e(t)}finally{n.f()}return null}function om(a){var n=a.parent;return a.name=="figcaption"&&n&&n.name=="figure"&&n.hasClass("image")?{name:!0}:null}var oc=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.editing.view,s=i.model.schema,l=i.data,u=i.editing,d=i.t;s.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),i.model.document.registerPostFixer(function(g){return t._insertMissingModelCaptionElement(g)}),i.conversion.for("upcast").elementToElement({view:om,model:"caption"}),l.downcastDispatcher.on("insert:caption",sm(function(g){return g.createContainerElement("figcaption")},!1));var v=function(g,m){return function(_){var O=_.createEditableElement("figcaption");return _.setCustomProperty("imageCaption",!0,O),Qd({view:g,element:O,text:m}),Bu(O,_)}}(o,d("Enter image caption"));u.downcastDispatcher.on("insert:caption",sm(v)),u.downcastDispatcher.on("insert",this._fixCaptionVisibility(function(g){return g.item}),{priority:"high"}),u.downcastDispatcher.on("remove",this._fixCaptionVisibility(function(g){return g.position.parent}),{priority:"high"}),o.document.registerPostFixer(function(g){return t._updateCaptionVisibility(g)})}},{key:"_updateCaptionVisibility",value:function(t){var i=this.editor.editing.mapper,o=this._lastSelectedCaption,s,l=this.editor.model.document.selection,u=l.getSelectedElement();if(u&&u.is("image")){var d=Sl(u);s=i.toViewElement(d)}var v=Oh(l.getFirstPosition().parent);if(v&&(s=i.toViewElement(v)),s)return o?(o===s||(sc(o,t),this._lastSelectedCaption=s),Ph(s,t)):(this._lastSelectedCaption=s,Ph(s,t));if(o){var g=sc(o,t);return this._lastSelectedCaption=null,g}return!1}},{key:"_fixCaptionVisibility",value:function(t){var i=this;return function(o,s,l){var u=Oh(t(s)),d=i.editor.editing.mapper,v=l.writer;if(u){var g=d.toViewElement(u);g&&(u.childCount?v.removeClass("ck-hidden",g):v.addClass("ck-hidden",g))}}}},{key:"_insertMissingModelCaptionElement",value:function(t){var i=this.editor.model,o=i.document.differ.getChanges(),s=[],l=y(o),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(d.type=="insert"&&d.name!="$text"){var v=d.position.nodeAfter;if(v.is("image")&&!Sl(v)&&s.push(v),!v.is("image")&&v.childCount){var g=y(i.createRangeIn(v).getItems()),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;_.is("image")&&!Sl(_)&&s.push(_)}}catch(F){g.e(F)}finally{g.f()}}}}}catch(F){l.e(F)}finally{l.f()}for(var O=0,P=s;O<P.length;O++){var A=P[O];t.appendElement("caption",A)}return!!s.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),e}(ct);function sm(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(e,r,t){var i=r.item;if((i.childCount||n)&&Bi(i.parent)){if(!t.consumable.consume(r.item,"insert"))return;var o=t.mapper.toViewElement(r.range.start.parent),s=a(t.writer),l=t.writer;i.childCount||l.addClass("ck-hidden",s),function(u,d,v,g){var m=g.writer.createPositionAt(v,"end");g.writer.insert(m,u),g.mapper.bindElements(d,u)}(s,r.item,o,t)}}}function Oh(a){var n=a.getAncestors({includeSelf:!0}).find(function(e){return e.name=="caption"});return n&&n.parent&&n.parent.name=="image"?n:null}function sc(a,n){return!a.childCount&&!a.hasClass("ck-hidden")&&(n.addClass("ck-hidden",a),!0)}function Ph(a,n){return!!a.hasClass("ck-hidden")&&(n.removeClass("ck-hidden",a),!0)}B(72);var lm=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.defaultStyle=!1,i.styles=t.reduce(function(o,s){return o[s.name]=s,s.isDefault&&(i.defaultStyle=s.name),o},{}),i}return C(e,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Bi(t),t)if(t.hasAttribute("imageStyle")){var i=t.getAttribute("imageStyle");this.value=!!this.styles[i]&&i}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(t){var i=this,o=t.value,s=this.editor.model,l=s.document.selection.getSelectedElement();s.change(function(u){i.styles[o].isDefault?u.removeAttribute("imageStyle",l):u.setAttribute("imageStyle",o,l)})}}]),e}(Ir);function Eh(a,n){var e=y(n),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.name===a)return t}}catch(i){e.e(i)}finally{e.f()}}var Ch='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',Ah='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',Sh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',Tl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',Ml={full:{name:"full",title:"Full size image",icon:Ch,isDefault:!0},side:{name:"side",title:"Side image",icon:Tl,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Ah,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Sh,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:Tl,className:"image-style-align-right"}},Th={full:Ch,left:Ah,right:Tl,center:Sh};function lc(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return a.map(um)}function um(a){if(typeof a=="string"){var n=a;Ml[n]?a=Object.assign({},Ml[n]):(console.warn(Object(pe.a)("image-style-not-found: There is no such image style of given name."),{name:n}),a={name:n})}else if(Ml[a.name]){var e=Ml[a.name],r=Object.assign({},a);for(var t in e)a.hasOwnProperty(t)||(r[t]=e[t]);a=r}return typeof a.icon=="string"&&Th[a.icon]&&(a.icon=Th[a.icon]),a}var cm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.data,s=t.editing;t.config.define("image.styles",["full","side"]);var l=lc(t.config.get("image.styles"));i.extend("image",{allowAttributes:"imageStyle"});var u=function(d){return function(v,g,m){if(!!m.consumable.consume(g.item,v.name)){var _=Eh(g.attributeNewValue,d),O=Eh(g.attributeOldValue,d),P=m.mapper.toViewElement(g.item),A=m.writer;O&&A.removeClass(O.className,P),_&&A.addClass(_.className,P)}}}(l);s.downcastDispatcher.on("attribute:imageStyle:image",u),o.downcastDispatcher.on("attribute:imageStyle:image",u),o.upcastDispatcher.on("element:figure",function(d){var v=d.filter(function(g){return!g.isDefault});return function(g,m,_){if(!!m.modelRange){var O=m.viewItem,P=Li(m.modelRange.getItems());if(_.schema.checkAttribute(P,"imageStyle")){var A=y(v),F;try{for(A.s();!(F=A.n()).done;){var G=F.value;_.consumable.consume(O,{classes:G.className})&&_.writer.setAttribute("imageStyle",G.name,P)}}catch(Q){A.e(Q)}finally{A.f()}}}}}(l),{priority:"low"}),t.commands.add("imageStyle",new lm(t,l))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),e}(ct);B(74);var uc=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"localizedDefaultStylesTitles",get:function(){var t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}},{key:"init",value:function(){var t=function(l,u){var d=y(l),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;u[g.title]&&(g.title=u[g.title])}}catch(m){d.e(m)}finally{d.f()}return l}(lc(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this._createButton(s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"_createButton",value:function(t){var i=this,o=this.editor,s="imageStyle:"+t.name;o.ui.componentFactory.add(s,function(l){var u=o.commands.get("imageStyle"),d=new cn(l);return d.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(u,"isEnabled"),d.bind("isOn").to(u,"value",function(v){return v===t.name}),i.listenTo(d,"execute",function(){o.execute("imageStyle",{value:t.name}),o.editing.view.focus()}),d})}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),e}(ct),cc=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor;if(i.plugins.has("BalloonToolbar")){var o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",function(s){(function(l){var u=l.getSelectedElement();return!(!u||!xi(u))})(i.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){t._updateToolbarsVisibility()}),this.listenTo(i.ui,"update",function(){t._updateToolbarsVisibility()}),this.listenTo(i.ui.focusTracker,"change:isFocused",function(){t._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this);var t=y(this._toolbarDefinitions.values()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.view.destroy()}}catch(s){t.e(s)}finally{t.f()}}},{key:"register",value:function(t,i){var o=i.ariaLabel,s=i.items,l=i.getRelatedElement,u=i.balloonClassName,d=u===void 0?"ck-toolbar-container":u,v=this.editor,g=v.t,m=new Tu(v.locale);if(m.ariaLabel=o||g("Widget toolbar"),this._toolbarDefinitions.has(t))throw new pe.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});m.fillFromConfig(s,v.ui.componentFactory),this._toolbarDefinitions.set(t,{view:m,getRelatedElement:l,balloonClassName:d})}},{key:"_updateToolbarsVisibility",value:function(){var t=0,i=null,o=null,s=y(this._toolbarDefinitions.values()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){var v=d.getAncestors().length;v>t&&(t=v,i=d,o=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}}catch(g){s.e(g)}finally{s.f()}o&&this._showToolbar(o,i)}},{key:"_hideToolbar",value:function(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(t,i){var o=this;this._isToolbarVisible(t)?Mh(this.editor,i):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Ih(this.editor,i),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var s=y(o._toolbarDefinitions.values()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(o._isToolbarVisible(u)){var d=u.getRelatedElement(o.editor.editing.view.document.selection);Mh(o.editor,d)}}}catch(v){s.e(v)}finally{s.f()}}))}},{key:"_isToolbarVisible",value:function(t){return this._balloon.visibleView===t.view}},{key:"_isToolbarInBalloon",value:function(t){return this._balloon.hasView(t.view)}}],[{key:"requires",get:function(){return[Pa]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),e}(ct);function Mh(a,n){var e=a.plugins.get("ContextualBalloon"),r=Ih(a,n);e.updatePosition(r)}function Ih(a,n){var e=a.editing.view,r=Er.defaultPositions;return{target:e.domConverter.mapViewToDom(n),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,Sg]}}var Rh=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._childCommands=[],t}return C(e,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];this._getFirstEnabledCommand().execute(i)}},{key:"registerChildCommand",value:function(t){var i=this;this._childCommands.push(t),t.on("change:isEnabled",function(){return i._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find(function(t){return t.isEnabled})}}]),e}(Ir),dm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new Rh(t)),t.commands.add("outdent",new Rh(t))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),e}(ct),Il='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',fm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',hm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.locale,o=t.t,s=i.uiLanguageDirection=="ltr"?Il:fm,l=i.uiLanguageDirection=="ltr"?fm:Il;this._defineButton("indent",o("Increase indent"),s),this._defineButton("outdent",o("Decrease indent"),l)}},{key:"_defineButton",value:function(t,i,o){var s=this,l=this.editor;l.ui.componentFactory.add(t,function(u){var d=l.commands.get(t),v=new cn(u);return v.set({label:i,icon:o,tooltip:!0}),v.bind("isOn","isEnabled").to(d,"value","isEnabled"),s.listenTo(v,"execute",function(){l.execute(t),l.editing.view.focus()}),v})}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),e}(ct),vm=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.domEventType="click",t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ea);B(76);var dc=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e),i=n.call(this,r);var o=r.t;i.focusTracker=new _i,i.keystrokes=new na,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),ic,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),aa,"ck-button-cancel","cancel"),i._manualDecoratorSwitches=i._createManualDecoratorSwitches(t),i.children=i._createFormChildren(t.manualDecorators),i._focusables=new ia,i._focusCycler=new So({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var s=["ck","ck-link-form"];return t.manualDecorators.length&&s.push("ck-link-form_layout-vertical"),i.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:i.children}),i}return C(e,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce(function(t,i){return t[i.name]=i.isOn,t},{})}},{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),nc({view:this}),[this.urlInputView].concat(U(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var t=this.locale.t,i=new tc(this.locale,rc);return i.label=t("Link URL"),i.fieldView.placeholder="https://example.com",i}},{key:"_createButton",value:function(t,i,o,s){var l=new cn(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}},{key:"_createManualDecoratorSwitches",value:function(t){var i=this,o=this.createCollection(),s=y(t.manualDecorators),l;try{var u=function(){var v=l.value,g=new fl(i.locale);g.set({name:v.id,label:v.label,withText:!0}),g.bind("isOn").toMany([v,t],"value",function(m,_){return _===void 0&&m===void 0?v.defaultValue:m}),g.on("execute",function(){v.set("value",!g.isOn)}),o.add(g)};for(s.s();!(l=s.n()).done;)u()}catch(d){s.e(d)}finally{s.f()}return o}},{key:"_createFormChildren",value:function(t){var i=this.createCollection();if(i.add(this.urlInputView),t.length){var o=new _r;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(function(s){return{tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}}}),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(o)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}]),e}(_r);B(78);var Qm=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=r.t;return t.focusTracker=new _i,t.keystrokes=new na,t.previewButtonView=t._createPreviewButton(),t.unlinkButtonView=t._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),t.editButtonView=t._createButton(i("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),t.set("href"),t._focusables=new ia,t._focusCycler=new So({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[t.previewButtonView,t.editButtonView,t.unlinkButtonView]}),t}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(t,i,o){var s=new cn(this.locale);return s.set({label:t,icon:i,tooltip:!0}),s.delegate("execute").to(this,o),s}},{key:"_createPreviewButton",value:function(){var t=new cn(this.locale),i=this.bindTemplate,o=this.t;return t.set({withText:!0,tooltip:o("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",function(s){return s&&oh(s)}),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",function(s){return s||o("This link has no URL")}),t.bind("isEnabled").to(this,"href",function(s){return!!s}),t.template.tag="a",t.template.eventListeners={},t}}]),e}(_r),pm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor;t.editing.view.addObserver(vm),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Pa),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var t=this,i=this.editor,o=new Qm(i.locale),s=i.commands.get("link"),l=i.commands.get("unlink");return o.bind("href").to(s,"value"),o.editButtonView.bind("isEnabled").to(s),o.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(o,"edit",function(){t._addFormView()}),this.listenTo(o,"unlink",function(){i.execute("unlink"),t._hideUI()}),o.keystrokes.set("Esc",function(u,d){t._hideUI(),d()}),o.keystrokes.set("Ctrl+K",function(u,d){t._addFormView(),d()}),o}},{key:"_createFormView",value:function(){var t=this,i=this.editor,o=i.commands.get("link"),s=new dc(i.locale,o);return s.urlInputView.fieldView.bind("value").to(o,"value"),s.urlInputView.bind("isReadOnly").to(o,"isEnabled",function(l){return!l}),s.saveButtonView.bind("isEnabled").to(o),this.listenTo(s,"submit",function(){i.execute("link",s.urlInputView.fieldView.element.value,s.getDecoratorSwitchesState()),t._closeFormView()}),this.listenTo(s,"cancel",function(){t._closeFormView()}),s.keystrokes.set("Esc",function(l,u){t._closeFormView(),u()}),s}},{key:"_createToolbarLinkButton",value:function(){var t=this,i=this.editor,o=i.commands.get("link"),s=i.t;i.keystrokes.set("Ctrl+K",function(l,u){u(),t._showUI(!0)}),i.ui.componentFactory.add("link",function(l){var u=new cn(l);return u.isEnabled=!0,u.label=s("Link"),u.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',u.keystroke="Ctrl+K",u.tooltip=!0,u.isToggleable=!0,u.bind("isEnabled").to(o,"isEnabled"),u.bind("isOn").to(o,"value",function(d){return!!d}),t.listenTo(u,"execute",function(){return t._showUI(!0)}),u})}},{key:"_enableUserBalloonInteractions",value:function(){var t=this,i=this.editor.editing.view.document;this.listenTo(i,"click",function(){t._getSelectedLinkElement()&&t._showUI()}),this.editor.keystrokes.set("Tab",function(o,s){t._areActionsVisible&&!t.actionsView.focusTracker.isFocused&&(t.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",function(o,s){t._isUIVisible&&(t._hideUI(),s())}),hl({emitter:this.formView,activator:function(){return t._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return t._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=t.value||""}}},{key:"_closeFormView",value:function(){var t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}},{key:"_showUI",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(!!this._isUIInPanel){var t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}}},{key:"_startUpdatingUI",value:function(){var t=this,i=this.editor,o=i.editing.view.document,s=this._getSelectedLinkElement(),l=d(),u=function(){var g=t._getSelectedLinkElement(),m=d();s&&!g||!s&&m!==l?t._hideUI():t._isUIVisible&&t._balloon.updatePosition(t._getBalloonPositionData()),s=g,l=m};function d(){return o.selection.focus.getAncestors().reverse().find(function(v){return v.is("element")})}this.listenTo(i.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}},{key:"_getBalloonPositionData",value:function(){var t=this.editor.editing.view,i=t.document,o=this._getSelectedLinkElement();return{target:o?t.domConverter.mapViewToDom(o):t.domConverter.viewRangeToDom(i.selection.getFirstRange())}}},{key:"_getSelectedLinkElement",value:function(){var t=this.editor.editing.view,i=t.document.selection;if(i.isCollapsed)return fc(i.getFirstPosition());{var o=i.getFirstRange().getTrimmed(),s=fc(o.start),l=fc(o.end);return s&&s==l&&t.createRangeIn(s).getTrimmed().isEqual(o)?s:null}}}],[{key:"requires",get:function(){return[Pa]}},{key:"pluginName",get:function(){return"LinkUI"}}]),e}(ct);function fc(a){return a.getAncestors().find(function(n){return(e=n).is("attributeElement")&&!!e.getCustomProperty("link");var e})}var jh=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.type=t,i}return C(e,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks()).filter(function(u){return gm(u,i.schema)}),l=this.value===!0;i.change(function(u){if(l){for(var d=s[s.length-1].nextSibling,v=Number.POSITIVE_INFINITY,g=[];d&&d.name=="listItem"&&d.getAttribute("listIndent")!==0;){var m=d.getAttribute("listIndent");m<v&&(v=m);var _=m-v;g.push({element:d,listIndent:_}),d=d.nextSibling}g=g.reverse();var O=y(g),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;u.setAttribute("listIndent",A.listIndent,A.element)}}catch(Ue){O.e(Ue)}finally{O.f()}}if(!l){var F=Number.POSITIVE_INFINITY,G=y(s),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value;q.is("listItem")&&q.getAttribute("listIndent")<F&&(F=q.getAttribute("listIndent"))}}catch(Ue){G.e(Ue)}finally{G.f()}F=F===0?1:F,Rl(s,!0,F),Rl(s,!1,F)}var be=y(s.reverse()),Se;try{for(be.s();!(Se=be.n()).done;){var Ie=Se.value;l&&Ie.name=="listItem"?u.rename(Ie,"paragraph"):l||Ie.name=="listItem"?l||Ie.name!="listItem"||Ie.getAttribute("listType")==t.type||u.setAttribute("listType",t.type,Ie):(u.setAttributes({listType:t.type,listIndent:0},Ie),u.rename(Ie,"listItem"))}}catch(Ue){be.e(Ue)}finally{be.f()}})}},{key:"_getValue",value:function(){var t=Li(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,i=this.editor.model.schema,o=Li(t.getSelectedBlocks());return!!o&&gm(o,i)}}]),e}(Ir);function Rl(a,n,e){var r=n?a[0]:a[a.length-1];if(r.is("listItem"))for(var t=r[n?"previousSibling":"nextSibling"],i=r.getAttribute("listIndent");t&&t.is("listItem")&&t.getAttribute("listIndent")>=e;)i>t.getAttribute("listIndent")&&(i=t.getAttribute("listIndent")),t.getAttribute("listIndent")==i&&a[n?"unshift":"push"](t),t=t[n?"previousSibling":"nextSibling"]}function gm(a,n){return n.checkChild(a.parent,"listItem")&&!n.isObject(a)}var Dh=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i._indentBy=t=="forward"?1:-1,i}return C(e,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks());i.change(function(l){for(var u=s[s.length-1],d=u.nextSibling;d&&d.name=="listItem"&&d.getAttribute("listIndent")>u.getAttribute("listIndent");)s.push(d),d=d.nextSibling;t._indentBy<0&&(s=s.reverse());var v=y(s),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_=m.getAttribute("listIndent")+t._indentBy;_<0?l.rename(m,"paragraph"):l.setAttribute("listIndent",_,m)}}catch(O){v.e(O)}finally{v.f()}})}},{key:"_checkEnabled",value:function(){var t=Li(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){for(var i=t.getAttribute("listIndent"),o=t.getAttribute("listType"),s=t.previousSibling;s&&s.is("listItem")&&s.getAttribute("listIndent")>=i;){if(s.getAttribute("listIndent")==i)return s.getAttribute("listType")==o;s=s.previousSibling}return!1}return!0}}]),e}(Ir);function Jm(a,n){var e=n.mapper,r=n.writer,t=a.getAttribute("listType")=="numbered"?"ol":"ul",i=function(s){var l=s.createContainerElement("li");return l.getFillerOffset=mm,l}(r),o=r.createContainerElement(t,null);return r.insert(r.createPositionAt(o,0),i),e.bindElements(a,i),i}function Nh(a,n,e,r){var t=n.parent,i=e.mapper,o=e.writer,s=i.toViewPosition(r.createPositionBefore(a)),l=Lh(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),u=a.previousSibling;if(l&&l.getAttribute("listIndent")==a.getAttribute("listIndent")){var d=i.toViewElement(l);s=o.breakContainer(o.createPositionAfter(d))}else s=u&&u.name=="listItem"?i.toViewPosition(r.createPositionAt(u,"end")):i.toViewPosition(r.createPositionBefore(a));if(s=Fh(s),o.insert(s,t),u&&u.name=="listItem"){var v=i.toViewElement(u),g=o.createRange(o.createPositionAt(v,0),s).getWalker({ignoreElementEnd:!0}),m=y(g),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;if(O.item.is("li")){var P=o.breakContainer(o.createPositionBefore(O.item)),A=O.item.parent,F=o.createPositionAt(n,"end");hi(o,F.nodeBefore,F.nodeAfter),o.move(o.createRangeOn(A),F),g.position=P}}}catch(Ue){m.e(Ue)}finally{m.f()}}else{var G=t.nextSibling;if(G&&(G.is("ul")||G.is("ol"))){var Q=null,q=y(G.getChildren()),be;try{for(q.s();!(be=q.n()).done;){var Se=be.value,Ie=i.toModelElement(Se);if(!(Ie&&Ie.getAttribute("listIndent")>a.getAttribute("listIndent")))break;Q=Se}}catch(Ue){q.e(Ue)}finally{q.f()}Q&&(o.breakContainer(o.createPositionAfter(Q)),o.move(o.createRangeOn(Q.parent),o.createPositionAt(n,"end")))}}hi(o,t,t.nextSibling),hi(o,t.previousSibling,t)}function hi(a,n,e){return!n||!e||n.name!="ul"&&n.name!="ol"||n.name!=e.name||n.getAttribute("class")!==e.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(n))}function Fh(a){return a.getLastMatchingPosition(function(n){return n.item.is("uiElement")})}function Lh(a,n){for(var e=!!n.sameIndent,r=!!n.smallerIndent,t=n.listIndent,i=a;i&&i.name=="listItem";){var o=i.getAttribute("listIndent");if(e&&t==o||r&&t>o)return i;i=i.previousSibling}return null}function Bh(a,n,e,r){a.ui.componentFactory.add(n,function(t){var i=a.commands.get(n),o=new cn(t);return o.set({label:e,icon:r,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),o.on("execute",function(){a.execute(n),a.editing.view.focus()}),o})}function mm(){var a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:Rc.call(this)}function Vh(a){return function(n,e,r){var t=r.consumable;if(!(!t.test(e.item,"insert")||!t.test(e.item,"attribute:listType")||!t.test(e.item,"attribute:listIndent"))){t.consume(e.item,"insert"),t.consume(e.item,"attribute:listType"),t.consume(e.item,"attribute:listIndent");var i=e.item;Nh(i,Jm(i,r),r,a)}}}function zh(a,n,e){if(!!e.consumable.consume(n.item,"attribute:listType")){var r=e.mapper.toViewElement(n.item),t=e.writer;t.breakContainer(t.createPositionBefore(r)),t.breakContainer(t.createPositionAfter(r));var i=r.parent,o=n.attributeNewValue=="numbered"?"ol":"ul";t.rename(o,i)}}function bm(a,n,e){var r=e.mapper.toViewElement(n.item).parent,t=e.writer;hi(t,r,r.nextSibling),hi(t,r.previousSibling,r);var i=y(n.item.getChildren()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;e.consumable.consume(s,"insert")}}catch(l){i.e(l)}finally{i.f()}}function Uh(a,n,e){if(n.item.name!="listItem"){for(var r=e.mapper.toViewPosition(n.range.start),t=e.writer,i=[];(r.parent.name=="ul"||r.parent.name=="ol")&&(r=t.breakContainer(r),r.parent.name=="li");){var o=r,s=t.createPositionAt(r.parent,"end");if(!o.isEqual(s)){var l=t.remove(t.createRange(o,s));i.push(l)}r=t.createPositionAfter(r.parent)}if(i.length>0){for(var u=0;u<i.length;u++){var d=r.nodeBefore;if(r=t.insert(r,i[u]).end,u>0){var v=hi(t,d,d.nextSibling);v&&v.parent==d&&r.offset--}}hi(t,r.nodeBefore,r.nodeAfter)}}}function ym(a,n,e){var r=e.mapper.toViewPosition(n.position),t=r.nodeBefore,i=r.nodeAfter;hi(e.writer,t,i)}function wm(a,n,e){if(e.consumable.consume(n.viewItem,{name:!0})){var r=e.writer,t=r.createElement("listItem"),i=function(u){for(var d=0,v=u.parent;v;){if(v.is("li"))d++;else{var g=v.previousSibling;g&&g.is("li")&&d++}v=v.parent}return d}(n.viewItem);r.setAttribute("listIndent",i,t);var o=n.viewItem.parent&&n.viewItem.parent.name=="ol"?"numbered":"bulleted";r.setAttribute("listType",o,t);var s=e.splitToAllowedParent(t,n.modelCursor);if(!s)return;r.insert(t,s.position);var l=function(u,d,v){var g=v.writer,m=v.schema,_=g.createPositionAfter(u),O=y(d),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;if(A.name=="ul"||A.name=="ol")_=v.convertItem(A,_).modelCursor;else{var F=v.convertItem(A,g.createPositionAt(u,"end")),G=F.modelRange.start.nodeAfter;G&&G.is("element")&&!m.checkChild(u,G.name)&&(u=F.modelCursor.parent.is("listItem")?F.modelCursor.parent:_m(F.modelCursor),_=g.createPositionAfter(u))}}}catch(Q){O.e(Q)}finally{O.f()}return _}(t,n.viewItem.getChildren(),e);n.modelRange=r.createRange(n.modelCursor,l),s.cursorParent?n.modelCursor=r.createPositionAt(s.cursorParent,0):n.modelCursor=n.modelRange.end}}function Wh(a,n,e){if(e.consumable.test(n.viewItem,{name:!0}))for(var r=Array.from(n.viewItem.getChildren()),t=0,i=r;t<i.length;t++){var o=i[t];!(o.is("li")||ao(o))&&o._remove()}}function km(a,n,e){if(e.consumable.test(n.viewItem,{name:!0})){if(n.viewItem.childCount===0)return;var r=U(n.viewItem.getChildren()),t=!1,i=!0,o=y(r),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;t&&!ao(l)&&l._remove(),l.is("text")?(i&&(l._data=l.data.replace(/^\s+/,"")),l.nextSibling&&!ao(l.nextSibling)||(l._data=l.data.replace(/\s+$/,""))):ao(l)&&(t=!0),i=!1}}catch(u){o.e(u)}finally{o.f()}}}function jl(a){return function(n,e){if(!e.isPhantom){var r=e.modelPosition.nodeBefore;if(r&&r.is("listItem")){var t=e.mapper.toViewElement(r),i=t.getAncestors().find(ao),o=a.createPositionAt(t,0).getWalker(),s=y(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.type=="elementStart"&&u.item.is("li")){e.viewPosition=u.previousPosition;break}if(u.type=="elementEnd"&&u.item==i){e.viewPosition=u.nextPosition;break}}}catch(d){s.e(d)}finally{s.f()}}}}}function Zm(a,n){var e=K(n,2),r=e[0],t=e[1],i,o=r.is("documentFragment")?r.getChild(0):r;if(i=t?this.createSelection(t):this.document.selection,o&&o.is("listItem")){var s=i.getFirstPosition(),l=null;if(s.parent.is("listItem")?l=s.parent:s.nodeBefore&&s.nodeBefore.is("listItem")&&(l=s.nodeBefore),l){var u=l.getAttribute("listIndent");if(u>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+u),o=o.nextSibling}}}function _m(a){var n=new ta({startPosition:a}),e;do e=n.next();while(!e.value.item.is("listItem"));return e.value.item}function Hh(a,n,e,r,t,i){var o=Lh(n.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a,foo:"b"}),s=t.mapper,l=t.writer,u=o?o.getAttribute("listIndent"):null,d;if(o)if(u==a){var v=s.toViewElement(o).parent;d=l.createPositionAfter(v)}else{var g=i.createPositionAt(o,"end");d=s.toViewPosition(g)}else d=e;d=Fh(d);for(var m=0,_=U(r.getChildren());m<_.length;m++){var O=_[m];ao(O)&&(d=l.move(l.createRangeOn(O),d).end,hi(l,O,O.nextSibling),hi(l,O.previousSibling,O))}}function ao(a){return a.is("ol")||a.is("ul")}var Kh=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var o=i.data,s=i.editing,l;i.model.document.registerPostFixer(function(v){return function(g,m){var _=g.document.differ.getChanges(),O=new Map,P=!1,A=y(_),F;try{for(A.s();!(F=A.n()).done;){var G=F.value;if(G.type=="insert"&&G.name=="listItem")bt(G.position);else if(G.type=="insert"&&G.name!="listItem"){if(G.name!="$text"){var Q=G.position.nodeAfter;Q.hasAttribute("listIndent")&&(m.removeAttribute("listIndent",Q),P=!0),Q.hasAttribute("listType")&&(m.removeAttribute("listType",Q),P=!0);var q=y(Array.from(g.createRangeIn(Q)).filter(function(dt){return dt.item.is("listItem")})),be;try{for(q.s();!(be=q.n()).done;){var Se=be.value;bt(Se.previousPosition)}}catch(dt){q.e(dt)}finally{q.f()}}bt(G.position.getShiftedBy(G.length))}else G.type=="remove"&&G.name=="listItem"?bt(G.position):(G.type=="attribute"&&G.attributeKey=="listIndent"||G.type=="attribute"&&G.attributeKey=="listType")&&bt(G.range.start)}}catch(dt){A.e(dt)}finally{A.f()}var Ie=y(O.values()),Ue;try{for(Ie.s();!(Ue=Ie.n()).done;){var ot=Ue.value;jt(ot),yt(ot)}}catch(dt){Ie.e(dt)}finally{Ie.f()}return P;function bt(dt){var zt=dt.nodeBefore;if(zt&&zt.is("listItem")){var Lt=zt;if(O.has(Lt))return;for(var sr=Lt.previousSibling;sr&&sr.is("listItem");sr=Lt.previousSibling)if(Lt=sr,O.has(Lt))return;O.set(zt,Lt)}else{var pn=dt.nodeAfter;pn&&pn.is("listItem")&&O.set(pn,pn)}}function jt(dt){for(var zt=0,Lt=null;dt&&dt.is("listItem");){var sr=dt.getAttribute("listIndent");if(sr>zt){var pn=void 0;Lt===null?(Lt=sr-zt,pn=zt):(Lt>sr&&(Lt=sr),pn=sr-Lt),m.setAttribute("listIndent",pn,dt),P=!0}else Lt=null,zt=dt.getAttribute("listIndent")+1;dt=dt.nextSibling}}function yt(dt){for(var zt=[],Lt=null;dt&&dt.is("listItem");){var sr=dt.getAttribute("listIndent");if(Lt&&Lt.getAttribute("listIndent")>sr&&(zt=zt.slice(0,sr+1)),sr!=0)if(zt[sr]){var pn=zt[sr];dt.getAttribute("listType")!=pn&&(m.setAttribute("listType",pn,dt),P=!0)}else zt[sr]=dt.getAttribute("listType");Lt=dt,dt=dt.nextSibling}}}(i.model,v)}),s.mapper.registerViewToModelLength("li",hc),o.mapper.registerViewToModelLength("li",hc),s.mapper.on("modelToViewPosition",jl(s.view)),s.mapper.on("viewToModelPosition",(l=i.model,function(v,g){var m=g.viewPosition,_=m.parent,O=g.mapper;if(_.name=="ul"||_.name=="ol"){if(m.isAtEnd){var P=O.toModelElement(m.nodeBefore),A=O.getModelLength(m.nodeBefore);g.modelPosition=l.createPositionBefore(P).getShiftedBy(A)}else{var F=O.toModelElement(m.nodeAfter);g.modelPosition=l.createPositionBefore(F)}v.stop()}else if(_.name=="li"&&m.nodeBefore&&(m.nodeBefore.name=="ul"||m.nodeBefore.name=="ol")){for(var G=O.toModelElement(_),Q=1,q=m.nodeBefore;q&&ao(q);)Q+=O.getModelLength(q),q=q.previousSibling;g.modelPosition=l.createPositionBefore(G).getShiftedBy(Q),v.stop()}})),o.mapper.on("modelToViewPosition",jl(s.view)),i.conversion.for("editingDowncast").add(function(v){v.on("insert",Uh,{priority:"high"}),v.on("insert:listItem",Vh(i.model)),v.on("attribute:listType:listItem",zh,{priority:"high"}),v.on("attribute:listType:listItem",bm,{priority:"low"}),v.on("attribute:listIndent:listItem",function(g){return function(m,_,O){if(!!O.consumable.consume(_.item,"attribute:listIndent")){var P=O.mapper.toViewElement(_.item),A=O.writer;A.breakContainer(A.createPositionBefore(P)),A.breakContainer(A.createPositionAfter(P));var F=P.parent,G=F.previousSibling,Q=A.createRangeOn(F);A.remove(Q),G&&G.nextSibling&&hi(A,G,G.nextSibling),Hh(_.attributeOldValue+1,_.range.start,Q.start,P,O,g),Nh(_.item,P,O,g);var q=y(_.item.getChildren()),be;try{for(q.s();!(be=q.n()).done;){var Se=be.value;O.consumable.consume(Se,"insert")}}catch(Ie){q.e(Ie)}finally{q.f()}}}}(i.model)),v.on("remove:listItem",function(g){return function(m,_,O){var P=O.mapper.toViewPosition(_.position).getLastMatchingPosition(function(Ue){return!Ue.item.is("li")}).nodeAfter,A=O.writer;A.breakContainer(A.createPositionBefore(P)),A.breakContainer(A.createPositionAfter(P));var F=P.parent,G=F.previousSibling,Q=A.createRangeOn(F),q=A.remove(Q);G&&G.nextSibling&&hi(A,G,G.nextSibling),Hh(O.mapper.toModelElement(P).getAttribute("listIndent")+1,_.position,Q.start,P,O,g);var be=y(A.createRangeIn(q).getItems()),Se;try{for(be.s();!(Se=be.n()).done;){var Ie=Se.value;O.mapper.unbindViewElement(Ie)}}catch(Ue){be.e(Ue)}finally{be.f()}m.stop()}}(i.model)),v.on("remove",ym,{priority:"low"})}),i.conversion.for("dataDowncast").add(function(v){v.on("insert",Uh,{priority:"high"}),v.on("insert:listItem",Vh(i.model))}),i.conversion.for("upcast").add(function(v){v.on("element:ul",Wh,{priority:"high"}),v.on("element:ol",Wh,{priority:"high"}),v.on("element:li",km,{priority:"high"}),v.on("element:li",wm)}),i.model.on("insertContent",Zm,{priority:"high"}),i.commands.add("numberedList",new jh(i,"numbered")),i.commands.add("bulletedList",new jh(i,"bulleted")),i.commands.add("indentList",new Dh(i,"forward")),i.commands.add("outdentList",new Dh(i,"backward"));var u=s.view.document;this.listenTo(u,"enter",function(v,g){var m=t.editor.model.document,_=m.selection.getLastPosition().parent;m.selection.isCollapsed&&_.name=="listItem"&&_.isEmpty&&(t.editor.execute("outdentList"),g.preventDefault(),v.stop())}),this.listenTo(u,"delete",function(v,g){if(g.direction==="backward"){var m=t.editor.model.document.selection;if(!!m.isCollapsed){var _=m.getFirstPosition();if(!!_.isAtStart){var O=_.parent;O.name==="listItem"&&(O.previousSibling&&O.previousSibling.name==="listItem"||(t.editor.execute("outdentList"),g.preventDefault(),v.stop()))}}}},{priority:"high"});var d=function(g){return function(m,_){t.editor.commands.get(g).isEnabled&&(t.editor.execute(g),_())}};i.keystrokes.set("Tab",d("indentList")),i.keystrokes.set("Shift+Tab",d("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,i=t.get("indent"),o=t.get("outdent");i&&i.registerChildCommand(t.get("indentList")),o&&o.registerChildCommand(t.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[bs]}}]),e}(ct);function hc(a){var n=1,e=y(a.getChildren()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.name=="ul"||t.name=="ol"){var i=y(t.getChildren()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;n+=hc(s)}}catch(l){i.e(l)}finally{i.f()}}}}catch(l){e.e(l)}finally{e.f()}return n}var xm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor.t;Bh(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Bh(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}]),e}(ct);function Dl(a,n){return function(r){r.on("attribute:url:media",e)};function e(r,t,i){if(!!i.consumable.consume(t.item,r.name)){var o=t.attributeNewValue,s=i.writer,l=i.mapper.toViewElement(t.item),u=U(l.getChildren()).find(function(v){return v.getCustomProperty("media-content")});s.remove(u);var d=a.getMediaViewElement(s,o,n);s.insert(s.createPositionAt(l,0),d)}}}function Gh(a,n,e,r){var t=a.createContainerElement("figure",{class:"media"});return t.getFillerOffset=Om,a.insert(a.createPositionAt(t,0),n.getMediaViewElement(a,e,r)),t}function $h(a){var n=a.getSelectedElement();return n&&n.is("media")?n:null}function Fo(a,n,e){a.change(function(r){var t=r.createElement("media",{url:n});a.insertContent(t,e),r.setSelection(t,"on")})}function Om(){return null}var Pm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document.selection,o=t.schema,s=i.getFirstPosition(),l=$h(i),u=s.parent;u!=u.root&&(u=u.parent),this.value=l?l.getAttribute("url"):null,this.isEnabled=o.checkChild(u,"media")}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection,s=$h(o);if(s)i.change(function(u){u.setAttribute("url",t,s)});else{var l=Ol(o,i);Fo(i,t,l)}}}]),e}(Ir),Em=function(){function a(n,e){E(this,a);var r=e.providers,t=e.extraProviders||[],i=new Set(e.removeProviders),o=r.concat(t).filter(function(s){var l=s.name;return l?!i.has(l):(console.warn(Object(pe.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:s}),!1)});this.locale=n,this.providerDefinitions=o}return C(a,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,r,t){return this._getMedia(r).getViewElement(e,t)}},{key:"_getMedia",value:function(e){if(!e)return new Yh(this.locale);e=e.trim();var r=y(this.providerDefinitions),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.html,s=i.url;Array.isArray(s)||(s=[s]);var l=y(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=this._getUrlMatches(e,d);if(v)return new Yh(this.locale,e,v,o)}}catch(g){l.e(g)}finally{l.f()}}}catch(g){r.e(g)}finally{r.f()}return null}},{key:"_getUrlMatches",value:function(e,r){var t=e.match(r);if(t)return t;var i=e.replace(/^https?:\/\//,"");return t=i.match(r),t||(i=i.replace(/^www\./,""),t=i.match(r),t||null)}}]),a}(),Yh=function(){function a(n,e,r,t){E(this,a),this.url=this._getValidUrl(e),this._t=n.t,this._match=r,this._previewRenderer=t}return C(a,[{key:"getViewElement",value:function(e,r){var t={},i;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(t["data-oembed-url"]=this.url),r.renderForEditingView&&(t.class="ck-media__wrapper");var o=this._getPreviewHtml(r);i=e.createUIElement("div",t,function(s){var l=this.toDomElement(s);return l.innerHTML=o,l})}else this.url&&(t.url=this.url),i=e.createEmptyElement("oembed",t);return e.setCustomProperty("media-content",!0,i),i}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new uf,r=new dl;return e.text=this._t("Open media in new tab"),r.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',r.viewBox="0 0 64 42",new ui({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[r]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),a}();B(80);var Lo=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),r.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),t.registry=new Em(r.locale,r.config.get("mediaEmbed")),t}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.t,s=t.conversion,l=t.config.get("mediaEmbed.previewsInData"),u=this.registry;t.commands.add("mediaEmbed",new Pm(t)),i.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),s.for("dataDowncast").elementToElement({model:"media",view:function(v,g){var m=v.getAttribute("url");return Gh(g,u,m,{renderMediaPreview:m&&l})}}),s.for("dataDowncast").add(Dl(u,{renderMediaPreview:l})),s.for("editingDowncast").elementToElement({model:"media",view:function(v,g){var m=v.getAttribute("url"),_=Gh(g,u,m,{renderForEditingView:!0});return O=_,P=g,A=o("media widget"),P.setCustomProperty("media",!0,O),xl(O,P,{label:A});var O,P,A}}),s.for("editingDowncast").add(Dl(u,{renderForEditingView:!0})),s.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(v,g){var m=v.getAttribute("url");if(u.hasMedia(m))return g.createElement("media",{url:m})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(v,g){var m=v.getAttribute("data-oembed-url");if(u.hasMedia(m))return g.createElement("media",{url:m})}})}}],[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),e}(ct),Xm=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,Cm=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._timeoutId=null,t._positionToInsert=null,t}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document;this.listenTo(i.plugins.get(Io),"inputTransformation",function(){var s=o.selection.getFirstRange(),l=Hn.fromPosition(s.start);l.stickiness="toPrevious";var u=Hn.fromPosition(s.end);u.stickiness="toNext",o.once("change:data",function(){t._embedMediaBetweenPositions(l,u),l.detach(),u.detach()},{priority:"high"})}),i.commands.get("undo").on("execute",function(){t._timeoutId&&(An.window.clearTimeout(t._timeoutId),t._positionToInsert.detach(),t._timeoutId=null,t._positionToInsert=null)},{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(t,i){var o=this,s=this.editor,l=s.plugins.get(Lo).registry,u=new Po(t,i),d=u.getWalker({ignoreElementEnd:!0}),v="",g=y(d),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;_.item.is("textProxy")&&(v+=_.item.data)}}catch(O){g.e(O)}finally{g.f()}if(v=v.trim(),!v.match(Xm)||!l.hasMedia(v))return void u.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Hn.fromPosition(t),this._timeoutId=An.window.setTimeout(function(){s.model.change(function(O){var P;o._timeoutId=null,O.remove(u),u.detach(),o._positionToInsert.root.rootName!=="$graveyard"&&(P=o._positionToInsert),Fo(s.model,v,P),o._positionToInsert.detach(),o._positionToInsert=null})},100)):u.detach()}}],[{key:"requires",get:function(){return[Io,Bf]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),e}(ct);B(82);var Am=function(a){S(e,a);var n=D(e);function e(r,t){var i;E(this,e),i=n.call(this,t);var o=t.t;return i.focusTracker=new _i,i.keystrokes=new na,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),ic,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),aa,"ck-button-cancel","cancel"),i._focusables=new ia,i._focusCycler=new So({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i._validators=r,i.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[i.urlInputView,i.saveButtonView,i.cancelButtonView]}),i}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),nc({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(function(o){t._focusables.add(o),t.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);var i=function(s){return s.stopPropagation()};this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",function(o,s){s.stopPropagation()},{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(t){this.urlInputView.fieldView.element.value=t.trim()}},{key:"isValid",value:function(){this.resetFormStatus();var t=y(this._validators),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o(this);if(s)return this.urlInputView.errorText=s,!1}}catch(l){t.e(l)}finally{t.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var t=this,i=this.locale.t,o=new tc(this.locale,rc),s=o.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),o.label=i("Media URL"),o.infoText=this._urlInputViewInfoDefault,s.placeholder="https://example.com",s.on("input",function(){o.infoText=s.element.value?t._urlInputViewInfoTip:t._urlInputViewInfoDefault}),o}},{key:"_createButton",value:function(t,i,o,s){var l=new cn(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}}]),e}(_r),Sm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.commands.get("mediaEmbed"),s=i.plugins.get(Lo).registry;i.ui.componentFactory.add("mediaEmbed",function(l){var u=Mo(l),d=new Am(function(v,g){return[function(m){if(!m.url.length)return v("The URL must not be empty.")},function(m){if(!g.hasMedia(m.url))return v("This media URL is not supported.")}]}(i.t,s),i.locale);return t._setUpDropdown(u,d,o,i),t._setUpForm(u,d,o),u})}},{key:"_setUpDropdown",value:function(t,i,o){var s=this.editor,l=s.t,u=t.buttonView;function d(){s.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(o),t.panelView.children.add(i),u.set({label:l("Insert media"),icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>
`,tooltip:!0}),u.on("open",function(){i.url=o.value||"",i.urlInputView.fieldView.select(),i.focus()},{priority:"low"}),t.on("submit",function(){i.isValid()&&(s.execute("mediaEmbed",i.url),d())}),t.on("change:isOpen",function(){return i.resetFormStatus()}),t.on("cancel",function(){return d()})}},{key:"_setUpForm",value:function(t,i,o){i.delegate("submit","cancel").to(t),i.urlInputView.bind("value").to(o,"value"),i.urlInputView.bind("isReadOnly").to(o,"isEnabled",function(s){return!s}),i.saveButtonView.bind("isEnabled").to(o)}}],[{key:"requires",get:function(){return[Lo]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),e}(ct);B(84);function Tm(a,n){if(!!a.childCount){var e=new Vi(a.document),r=function(o,s){var l=s.createRangeIn(o),u=new hr({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),d=[],v=y(l),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;if(m.type==="elementStart"&&u.match(m.item)){var _=Mm(m.item);d.push({element:m.item,id:_.id,order:_.order,indent:_.indent})}}}catch(O){v.e(O)}finally{v.f()}return d}(a,e);if(!!r.length){var t=null,i=1;r.forEach(function(o,s){var l=function(F,G){if(!F||F.id!==G.id)return!0;var Q=G.element.previousSibling;if(!Q)return!0;return q=Q,!(q.is("ol")||q.is("ul"));var q}(r[s-1],o),u=l?null:r[s-1],d=(g=o,(v=u)?g.indent-v.indent:g.indent-1),v,g;if(l&&(t=null,i=1),!t||d!==0){var m=function(F,G){var Q=new RegExp("@list l".concat(F.id,":level").concat(F.indent,"\\s*({[^}]*)"),"gi"),q=/mso-level-number-format:([^;]*);/gi,be=Q.exec(G),Se="decimal";if(be&&be[1]){var Ie=q.exec(be[1]);Ie&&Ie[1]&&(Se=Ie[1].trim())}return{type:Se!=="bullet"&&Se!=="image"?"ol":"ul",style:Se}}(o,n);if(t){if(o.indent>i){var _=t.getChild(t.childCount-1),O=_.getChild(_.childCount-1);t=Qh(m,O,e),i+=1}else if(o.indent<i){var P=i-o.indent;t=function(F,G){var Q=F.getAncestors({parentFirst:!0}),q=null,be=0,Se=y(Q),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var Ue=Ie.value;if(Ue.name!=="ul"&&Ue.name!=="ol"||be++,be===G){q=Ue;break}}}catch(ot){Se.e(ot)}finally{Se.f()}return q}(t,P),i=parseInt(o.indent)}}else t=Qh(m,o.element,e);o.indent<=i&&(t.is(m.type)||(t=e.rename(m.type,t)))}var A=function(F,G){return function(Q,q){var be=new hr({name:"span",styles:{"mso-list":"Ignore"}}),Se=q.createRangeIn(Q),Ie=y(Se),Ue;try{for(Ie.s();!(Ue=Ie.n()).done;){var ot=Ue.value;ot.type==="elementStart"&&be.match(ot.item)&&q.remove(ot.item)}}catch(bt){Ie.e(bt)}finally{Ie.f()}}(F,G),G.rename("li",F)}(o.element,e);e.appendChild(A,t)})}}}function Qh(a,n,e){var r=n.parent,t=e.createElement(a.type),i=r.getChildIndex(n)+1;return e.insertChild(i,t,r),t}function Mm(a){var n={},e=a.getStyle("mso-list");if(e){var r=e.match(/(^|\s+)l(\d+)/i),t=e.match(/\s*lfo(\d+)/i),i=e.match(/\s*level(\d+)/i);r&&t&&i&&(n.id=r[2],n.order=t[1],n.indent=i[1])}return n}var vc=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,qm=function(){function a(n){E(this,a),this.document=n}return C(a,[{key:"isActive",value:function(e){return vc.test(e)}},{key:"execute",value:function(e){var r=new Vi(this.document);(function(t,i){var o=y(t.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.is("b")&&l.getStyle("font-weight")==="normal"){var u=t.getChildIndex(l);i.remove(l),i.insertChild(u,l.getChildren(),t)}}}catch(d){o.e(d)}finally{o.f()}})(e.content,r),function(t,i){var o=y(i.createRangeIn(t)),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.item;if(u.is("li")){var d=u.getChild(0);d.is("p")&&i.unwrapElement(d)}}}catch(v){o.e(v)}finally{o.f()}}(e.content,r)}}]),a}();function Nl(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(n,e){return e.length===1?" ":Array(e.length+1).join("\xA0 ").substr(0,e.length)})}function eb(a,n){var e=new DOMParser,r=function(l){return Nl(Nl(l)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(l){var u=l.match(/<\/body>(.*?)(<\/html>|$)/);return u&&u[1]&&(l=l.slice(0,u.index)+l.slice(u.index).replace(u[1],"")),l}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),t=e.parseFromString(r,"text/html");(function(l){l.querySelectorAll("span[style*=spacerun]").forEach(function(u){var d=u.innerText.length||0;u.innerHTML=Array(d+1).join("\xA0 ").substr(0,d)})})(t);var i=t.body.innerHTML,o=function(l,u){for(var d=new zs(u),v=new $s(d,{blockFillerMode:"nbsp"}),g=l.createDocumentFragment(),m=l.body.childNodes;m.length>0;)g.appendChild(m[0]);return v.domToView(g)}(t,n),s=function(l){for(var u=[],d=[],v=Array.from(l.getElementsByTagName("style")),g=0,m=v;g<m.length;g++){var _=m[g];_.sheet&&_.sheet.cssRules&&_.sheet.cssRules.length&&(u.push(_.sheet),d.push(_.innerHTML))}return{styles:u,stylesString:d.join(" ")}}(t);return{body:o,bodyString:i,styles:s.styles,stylesString:s.stylesString}}function pc(a,n){if(!!a.childCount){var e=new Vi;(function(t,i,o){var s=o.createRangeIn(i),l=new hr({name:"img"}),u=[],d=y(s),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;if(l.match(g.item)){var m=g.item,_=m.getAttribute("v:shapes")?m.getAttribute("v:shapes").split(" "):[];_.length&&_.every(function(F){return t.indexOf(F)>-1})?u.push(m):m.getAttribute("src")||u.push(m)}}}catch(F){d.e(F)}finally{d.f()}for(var O=0,P=u;O<P.length;O++){var A=P[O];o.remove(A)}})(function(t,i){var o=i.createRangeIn(t),s=new hr({name:/v:(.+)/}),l=[],u=y(o),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=v.item,m=g.previousSibling&&g.previousSibling.name||null;s.match(g)&&g.getAttribute("o:gfxdata")&&m!=="v:shapetype"&&l.push(v.item.getAttribute("id"))}}catch(_){u.e(_)}finally{u.f()}return l}(a,e),a,e),function(t,i){var o=i.createRangeIn(t),s=new hr({name:/v:(.+)/}),l=[],u=y(o),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;s.match(v.item)&&l.push(v.item)}}catch(O){u.e(O)}finally{u.f()}for(var g=0,m=l;g<m.length;g++){var _=m[g];i.remove(_)}}(a,e);var r=function(t,i){var o=i.createRangeIn(t),s=new hr({name:"img"}),l=[],u=y(o),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;s.match(v.item)&&v.item.getAttribute("src").startsWith("file://")&&l.push(v.item)}}catch(g){u.e(g)}finally{u.f()}return l}(a,e);r.length&&function(t,i,o){if(t.length===i.length)for(var s=0;s<t.length;s++){var l="data:".concat(i[s].type,";base64,").concat((u=i[s].hex,btoa(u.match(/\w{2}/g).map(function(d){return String.fromCharCode(parseInt(d,16))}).join(""))));o.setAttribute("src",l,t[s])}var u}(r,function(t){if(!t)return[];var i=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,o=new RegExp("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),s=t.match(o),l=[];if(s){var u=y(s),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=!1;v.includes("\\pngblip")?g="image/png":v.includes("\\jpegblip")&&(g="image/jpeg"),g&&l.push({hex:v.replace(i,"").replace(/[^\da-fA-F]/g,""),type:g})}}catch(m){u.e(m)}finally{u.f()}}return l}(n),e)}}var Im=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,gc=/xmlns:o="urn:schemas-microsoft-com/i,Rm=function(){function a(n){E(this,a),this.document=n}return C(a,[{key:"isActive",value:function(e){return Im.test(e)||gc.test(e)}},{key:"execute",value:function(e){var r=eb(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),t=r.body,i=r.stylesString;Tm(t,i),pc(t,e.dataTransfer.getData("text/rtf")),e.content=t}}]),a}();function hn(a,n){for(var e=n.parent;e;){if(e.name===a)return e;e=e.parent}}function Dn(a,n,e,r){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;n>t?r.setAttribute(a,n,e):r.removeAttribute(a,e)}function oa(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=a.createElement("tableCell",e);a.insertElement("paragraph",r),a.insert(r,n)}function Jh(a,n){var e=n.parent.parent,r=parseInt(e.getAttribute("headingColumns")||0),t=a.getCellLocation(n),i=t.column;return!!r&&i<r}function jm(){return function(a){a.on("element:table",function(n,e,r){var t=e.viewItem;if(!!r.consumable.test(t,{name:!0})){var i=function(m){for(var _={headingRows:0,headingColumns:0},O=[],P=[],A,F=0,G=Array.from(m.getChildren());F<G.length;F++){var Q=G[F];if(Q.name==="tbody"||Q.name==="thead"||Q.name==="tfoot"){Q.name!=="thead"||A||(A=Q);var q=Array.from(Q.getChildren()).filter(function(ot){return ot.is("element","tr")}),be=y(q),Se;try{for(be.s();!(Se=be.n()).done;){var Ie=Se.value;if(Ie.parent.name==="thead"&&Ie.parent===A)_.headingRows++,O.push(Ie);else{P.push(Ie);var Ue=Zh(Ie);Ue>_.headingColumns&&(_.headingColumns=Ue)}}}catch(ot){be.e(ot)}finally{be.f()}}}return _.rows=[].concat(O,P),_}(t),o=i.rows,s=i.headingRows,l=i.headingColumns,u={};l&&(u.headingColumns=l),s&&(u.headingRows=s);var d=r.writer.createElement("table",u),v=r.splitToAllowedParent(d,e.modelCursor);if(v){if(r.writer.insert(d,v.position),r.consumable.consume(t,{name:!0}),o.forEach(function(m){return r.convertItem(m,r.writer.createPositionAt(d,"end"))}),d.isEmpty){var g=r.writer.createElement("tableRow");r.writer.insert(g,r.writer.createPositionAt(d,"end")),oa(r.writer,r.writer.createPositionAt(g,"end"))}e.modelRange=r.writer.createRange(r.writer.createPositionBefore(d),r.writer.createPositionAfter(d)),v.cursorParent?e.modelCursor=r.writer.createPositionAt(v.cursorParent,0):e.modelCursor=e.modelRange.end}}})}}function mc(a){return function(n){n.on("element:"+a,function(e,r,t){var i=r.viewItem;if(!!t.consumable.test(i,{name:!0})){var o=t.writer.createElement("tableCell"),s=t.splitToAllowedParent(o,r.modelCursor);if(!!s){t.writer.insert(o,s.position),t.consumable.consume(i,{name:!0});var l=t.writer.createPositionAt(o,0);t.convertChildren(i,l),o.childCount||t.writer.insertElement("paragraph",l),r.modelRange=t.writer.createRange(t.writer.createPositionBefore(o),t.writer.createPositionAfter(o)),r.modelCursor=r.modelRange.end}}})}}function Zh(a){for(var n=0,e=0,r=Array.from(a.getChildren()).filter(function(i){return i.name==="th"||i.name==="td"});e<r.length&&r[e].name==="th";){var t=r[e];n+=parseInt(t.getAttribute("colspan")||1),e++}return n}var Zr=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E(this,a),this.table=n,this.startRow=e.startRow||0,this.endRow=typeof e.endRow=="number"?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column=typeof e.column=="number"?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return C(a,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};var r,t,i;if(this._isSpanned(this._row,this._column))r=this._getSpanned(this._row,this._column),t=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(r,this._column,!0);else{if(r=e.getChild(this._cellIndex),!r)return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();var o=parseInt(r.getAttribute("colspan")||1),s=parseInt(r.getAttribute("rowspan")||1);(o>1||s>1)&&this._recordSpans(this._row,this._column,s,o,r),this._nextCellAtColumn=this._column+o,t=this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(r,this._column,!1,s,o)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t?this.next():i}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_isOverEndRow",value:function(){return this.endRow!==void 0&&this._row>this.endRow}},{key:"_formatOutValue",value:function(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return{done:!1,value:{cell:e,row:this._row,column:r,isSpanned:t,rowspan:i,colspan:o,cellIndex:this._cellIndex}}}},{key:"_shouldSkipRow",value:function(){var e=this._row<this.startRow,r=this._skipRows.has(this._row);return e||r}},{key:"_shouldSkipColumn",value:function(){return this.column!==void 0&&this.column!=this._column}},{key:"_isSpanned",value:function(e,r){return this._spannedCells.has(e)?this._spannedCells.get(e).has(r):!1}},{key:"_getSpanned",value:function(e,r){return this._spannedCells.get(e).get(r)}},{key:"_recordSpans",value:function(e,r,t,i,o){for(var s=r+1;s<=r+i-1;s++)this._markSpannedCell(e,s,o);for(var l=e+1;l<e+t;l++)for(var u=r;u<=r+i-1;u++)this._markSpannedCell(l,u,o)}},{key:"_markSpannedCell",value:function(e,r,t){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(r,t)}}]),a}();function ys(a){return!!a.getCustomProperty("table")&&xi(a)}function Dm(a){var n=a.getSelectedElement();return n&&ys(n)?n:null}function Nm(a){var n=hn("table",a.getFirstPosition());return n&&ys(n.parent)?n.parent:null}function Bo(a){var n=[],e=y((o=a.getRanges(),Array.from(o).sort(Fm))),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=t.getContainedElement();i&&i.is("tableCell")&&n.push(i)}}catch(s){e.e(s)}finally{e.f()}var o;return n}function Vo(a){var n=[],e=y(a.getRanges()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=hn("tableCell",t.start);i&&n.push(i)}}catch(o){e.e(o)}finally{e.f()}return n}function Un(a){var n=Bo(a);return n.length?n:Vo(a)}function ja(a){return yc(a.map(function(n){return n.parent.index}))}function zo(a){var n=hn("table",a[0]);return yc(U(new Zr(n)).filter(function(e){return a.includes(e.cell)}).map(function(e){return e.column}))}function Xh(a,n){if(a.length<2||!function(m){var _=hn("table",m[0]),O=ja(m),P=parseInt(_.getAttribute("headingRows")||0);if(!rv(O,P))return!1;var A=parseInt(_.getAttribute("headingColumns")||0);return rv(zo(m),A)}(a))return!1;var e=new Set,r=new Set,t=0,i=y(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=n.getCellLocation(s),u=l.row,d=l.column,v=parseInt(s.getAttribute("rowspan")||1),g=parseInt(s.getAttribute("colspan")||1);e.add(u),r.add(d),v>1&&e.add(u+v-1),g>1&&r.add(d+g-1),t+=v*g}}catch(m){i.e(m)}finally{i.f()}return function(m,_){var O=Array.from(m.values()),P=Array.from(_.values()),A=Math.max.apply(Math,U(O)),F=Math.min.apply(Math,U(O)),G=Math.max.apply(Math,U(P)),Q=Math.min.apply(Math,U(P));return(A-F+1)*(G-Q+1)}(e,r)==t}function qh(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=[],t=new Zr(a,{startRow:e,endRow:n-1}),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.row,u=s.rowspan,d=l+u-1;l<n&&n<=d&&r.push(s)}}catch(v){i.e(v)}finally{i.f()}return r}function bc(a,n,e){var r=a.parent,t=r.parent,i=r.index,o=n-i,s={},l=parseInt(a.getAttribute("rowspan"))-o;l>1&&(s.rowspan=l);var u=parseInt(a.getAttribute("colspan")||1);u>1&&(s.colspan=u);var d=i+o,v=U(new Zr(t,{startRow:i,endRow:d,includeSpanned:!0})),g,m=y(v),_;try{for(m.s();!(_=m.n()).done;){var O=_.value,P=O.row,A=O.column,F=O.cell,G=O.cellIndex;if(F===a&&g===void 0&&(g=A),g!==void 0&&g===A&&P===d){var Q=t.getChild(P),q=e.createPositionAt(Q,G);oa(e,q,s)}}}catch(be){m.e(be)}finally{m.f()}Dn("rowspan",o,a,e)}function ev(a,n){var e=[],r=new Zr(a),t=y(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.column,l=o.colspan,u=s+l-1;s<n&&n<=u&&e.push(o)}}catch(d){t.e(d)}finally{t.f()}return e}function tv(a,n,e,r){var t=e-n,i={},o=parseInt(a.getAttribute("colspan"))-t;o>1&&(i.colspan=o);var s=parseInt(a.getAttribute("rowspan")||1);s>1&&(i.rowspan=s),oa(r,r.createPositionAfter(a),i),Dn("colspan",t,a,r)}function yc(a){var n=a.sort(function(e,r){return e-r});return{first:n[0],last:n[n.length-1]}}function Fm(a,n){var e=a.start,r=n.start;return e.isBefore(r)?-1:1}function rv(a,n){var e=a.first,r=a.last;return e<n==r<n}function nv(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.on("insert:table",function(e,r,t){var i=r.item;if(!!t.consumable.consume(i,"insert")){t.consumable.consume(i,"attribute:headingRows:table"),t.consumable.consume(i,"attribute:headingColumns:table");var o=a&&a.asWidget,s=t.writer.createContainerElement("figure",{class:"table"}),l=t.writer.createContainerElement("table"),u,d,v;t.writer.insert(t.writer.createPositionAt(s,0),l),o&&(d=s,(v=t.writer).setCustomProperty("table",!0,d),u=xl(d,v,{hasSelectionHandle:!0}));var g=new Zr(i),m={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},_=new Map,O=y(g),P;try{for(O.s();!(P=O.n()).done;){var A=P.value,F=A.row,G=A.cell,Q=f(Lm(F,m),l,t),q=i.getChild(F),be=_.get(F)||av(q,F,Q,t);_.set(F,be),t.consumable.consume(G,"insert"),kc(A,m,t.writer.createPositionAt(be,"end"),t,a)}}catch(Ie){O.e(Ie)}finally{O.f()}var Se=t.mapper.toViewPosition(r.range.start);t.mapper.bindElements(i,o?u:s),t.writer.insert(Se,o?u:s)}})}}function ws(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.on("insert:tableRow",function(e,r,t){var i=r.item;if(!!t.consumable.consume(i,"insert")){var o=i.parent,s=w(t.mapper.toViewElement(o)),l=o.getChildIndex(i),u=new Zr(o,{startRow:l,endRow:l}),d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},v=new Map,g=y(u),m;try{for(g.s();!(m=g.n()).done;){var _=m.value,O=f(Lm(l,d),s,t),P=v.get(l)||av(i,l,O,t);v.set(l,P),t.consumable.consume(_.cell,"insert"),kc(_,d,t.writer.createPositionAt(P,"end"),t,a)}}catch(A){g.e(A)}finally{g.f()}}})}}function Cr(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.on("insert:tableCell",function(e,r,t){var i=r.item;if(!!t.consumable.consume(i,"insert")){var o=i.parent,s=o.parent,l=s.getChildIndex(o),u=new Zr(s,{startRow:l,endRow:l}),d={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},v=y(u),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;if(m.cell===i){var _=t.mapper.toViewElement(o);return void kc(m,d,t.writer.createPositionAt(_,o.getChildIndex(i)),t,a)}}}catch(O){v.e(O)}finally{v.f()}}})}}function wc(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=!!a.asWidget;return function(e){return e.on("attribute:headingRows:table",function(r,t,i){var o=t.item;if(!i.consumable.consume(t.item,r.name))return;var s=w(i.mapper.toViewElement(o)),l=t.attributeOldValue,u=t.attributeNewValue;if(u>l){var d=Array.from(o.getChildren()).filter(function(Se){var Ie=Se.index;return be(Ie,l-1,u)});p(d,f("thead",s,i),i,"end");var v=y(d),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_=y(m.getChildren()),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;iv(P,"th",i,n)}}catch(Se){_.e(Se)}finally{_.f()}}}catch(Se){v.e(Se)}finally{v.f()}}else{p(Array.from(o.getChildren()).filter(function(Se){var Ie=Se.index;return be(Ie,u-1,l)}).reverse(),f("tbody",s,i),i,0);var A=new Zr(o,{startRow:u&&u-1,endRow:l-1}),F={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},G=y(A),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value;Fl(q,F,i,n)}}catch(Se){G.e(Se)}finally{G.f()}}function be(Se,Ie,Ue){return Se>Ie&&Se<Ue}h("thead",s,i),h("tbody",s,i)})}}function vi(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=!!a.asWidget;return function(e){return e.on("attribute:headingColumns:table",function(r,t,i){var o=t.item;if(!!i.consumable.consume(t.item,r.name)){var s={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},l=t.attributeOldValue,u=t.attributeNewValue,d=(l>u?l:u)-1,v=y(new Zr(o)),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;m.column>d||Fl(m,s,i,n)}}catch(_){v.e(_)}finally{v.f()}}})}}function iv(a,n,e,r){var t=e.writer,i=e.mapper.toViewElement(a);if(!!i){var o;r?(o=Bu(t.createEditableElement(n,i.getAttributes()),t),t.insert(t.createPositionAfter(i),o),t.move(t.createRangeIn(i),t.createPositionAt(o,0)),t.remove(t.createRangeOn(i))):o=t.rename(n,i),e.mapper.unbindViewElement(i),e.mapper.bindElements(a,o)}}function Fl(a,n,e,r){var t=a.cell,i=ov(a,n),o=e.mapper.toViewElement(t);o&&o.name!==i&&iv(t,i,e,r)}function kc(a,n,e,r,t){var i=t&&t.asWidget,o=ov(a,n),s=i?Bu(r.writer.createEditableElement(o),r.writer):r.writer.createContainerElement(o),l=a.cell,u=l.getChild(0),d=l.childCount===1&&u.name==="paragraph";if(r.writer.insert(e,s),d&&!U(u.getAttributeKeys()).length){var v=l.getChild(0),g=r.writer.createPositionAt(s,"end");if(r.consumable.consume(v,"insert"),t.asWidget){var m=r.writer.createContainerElement("span",{style:"display:inline-block"});r.mapper.bindElements(v,m),r.writer.insert(g,m),r.mapper.bindElements(l,s)}else r.mapper.bindElements(l,s),r.mapper.bindElements(v,s)}else r.mapper.bindElements(l,s)}function av(a,n,e,r){r.consumable.consume(a,"insert");var t=r.writer.createContainerElement("tr");r.mapper.bindElements(a,t);var i=a.parent.getAttribute("headingRows")||0,o=i>0&&n>=i?n-i:n,s=r.writer.createPositionAt(e,o);return r.writer.insert(s,t),t}function ov(a,n){var e=a.row,r=a.column,t=n.headingColumns,i=n.headingRows;return i&&i>e||t&&t>r?"th":"td"}function Lm(a,n){return a<n.headingRows?"thead":"tbody"}function f(a,n,e){var r=c(a,n);return r||function(t,i,o){var s=o.writer.createContainerElement(t),l=o.writer.createPositionAt(i,t=="tbody"?"end":0);return o.writer.insert(l,s),s}(a,n,e)}function c(a,n){var e=y(n.getChildren()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.name==a)return t}}catch(i){e.e(i)}finally{e.f()}}function h(a,n,e){var r=c(a,n);r&&r.childCount===0&&e.writer.remove(e.writer.createRangeOn(r))}function p(a,n,e,r){var t=y(a),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=e.mapper.toViewElement(o);s&&e.writer.move(e.writer.createRangeOn(s),e.writer.createPositionAt(n,r))}}catch(l){t.e(l)}finally{t.f()}}function w(a){var n=y(a.getChildren()),e;try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.name==="table")return r}}catch(t){n.e(t)}finally{n.f()}}var T=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document.selection,o=t.schema,s=function(l){var u=l.parent;return u===u.root?u:u.parent}(i.getFirstPosition());this.isEnabled=o.checkChild(s,"table")}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.editor.model,o=i.document.selection,s=this.editor.plugins.get("TableUtils"),l=parseInt(t.rows)||2,u=parseInt(t.columns)||2,d=Ol(o,i);i.change(function(v){var g=s.createTable(v,l,u);i.insertContent(g,d),v.setSelection(v.createPositionAt(g.getNodeByPath([0,0,0]),0))})}}]),e}(Ir),V=function(a){S(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E(this,e),t=n.call(this,r),t.order=i.order||"below",t}return C(e,[{key:"refresh",value:function(){var t=hn("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}},{key:"execute",value:function(){var t=this.editor,i=t.model.document.selection,o=t.plugins.get("TableUtils"),s=this.order==="above",l=Un(i),u=ja(l),d=s?u.first:u.last,v=hn("table",l[0]);o.insertRows(v,{at:s?d:d+1,copyStructureFromAbove:!s})}}]),e}(Ir),z=function(a){S(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E(this,e),t=n.call(this,r),t.order=i.order||"right",t}return C(e,[{key:"refresh",value:function(){var t=hn("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}},{key:"execute",value:function(){var t=this.editor,i=t.model.document.selection,o=t.plugins.get("TableUtils"),s=this.order==="left",l=Un(i),u=zo(l),d=s?u.first:u.last,v=hn("table",l[0]);o.insertColumns(v,{columns:1,at:s?d:d+1})}}]),e}(Ir),Z=function(a){S(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E(this,e),t=n.call(this,r),t.direction=i.direction||"horizontally",t}return C(e,[{key:"refresh",value:function(){var t=Un(this.editor.model.document.selection);this.isEnabled=t.length===1}},{key:"execute",value:function(){var t=Un(this.editor.model.document.selection)[0],i=this.direction==="horizontally",o=this.editor.plugins.get("TableUtils");i?o.splitCellHorizontally(t,2):o.splitCellVertically(t,2)}}]),e}(Ir),le=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.direction=t.direction,i.isHorizontal=i.direction=="right"||i.direction=="left",i}return C(e,[{key:"refresh",value:function(){var t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=Vo(i.document.selection)[0],s=this.value,l=this.direction;i.change(function(u){var d=l=="right"||l=="down",v=d?o:s,g=d?s:o,m=g.parent;(function(G,Q,q){fe(G)||(fe(Q)&&q.remove(q.createRangeIn(Q)),q.move(q.createRangeIn(G),q.createPositionAt(Q,"end"))),q.remove(G)})(g,v,u);var _=t.isHorizontal?"colspan":"rowspan",O=parseInt(o.getAttribute(_)||1),P=parseInt(s.getAttribute(_)||1);if(u.setAttribute(_,O+P,v),u.setSelection(u.createRangeIn(v)),!m.childCount){var A=t.editor.plugins.get("TableUtils"),F=hn("table",m);A.removeRows(F,{at:m.index,batch:u.batch})}})}},{key:"_getMergeableCell",value:function(){var t=Vo(this.editor.model.document.selection)[0];if(!!t){var i=this.editor.plugins.get("TableUtils"),o=this.isHorizontal?function(u,d,v){var g=u.parent.parent,m=d=="right"?u.nextSibling:u.previousSibling,_=(g.getAttribute("headingColumns")||0)>0;if(!!m){var O=d=="right"?u:m,P=d=="right"?m:u,A=v.getCellLocation(O),F=A.column,G=v.getCellLocation(P),Q=G.column,q=parseInt(O.getAttribute("colspan")||1),be=Jh(v,O),Se=Jh(v,P);if(!(_&&be!=Se))return F+q===Q?m:void 0}}(t,this.direction,i):function(u,d){var v=u.parent,g=v.parent,m=g.getChildIndex(v);if(!(d=="down"&&m===g.childCount-1||d=="up"&&m===0)){var _=parseInt(u.getAttribute("rowspan")||1),O=g.getAttribute("headingRows")||0,P=d=="down"&&m+_===O,A=d=="up"&&m===O;if(!(O&&(P||A))){var F=parseInt(u.getAttribute("rowspan")||1),G=d=="down"?m+F:m,Q=U(new Zr(g,{endRow:G})),q=Q.find(function(Se){return Se.cell===u}).column,be=Q.find(function(Se){var Ie=Se.row,Ue=Se.rowspan,ot=Se.column;return ot===q&&(d=="down"?Ie===G:G===Ie+Ue)});return be&&be.cell}}}(t,this.direction);if(!!o){var s=this.isHorizontal?"rowspan":"colspan",l=parseInt(t.getAttribute(s)||1);return parseInt(o.getAttribute(s)||1)===l?o:void 0}}}}]),e}(Ir);function fe(a){return a.childCount==1&&a.getChild(0).is("paragraph")&&a.getChild(0).isEmpty}var Pe=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=Un(this.editor.model.document.selection),i=t[0];if(i){var o=hn("table",i),s=this.editor.plugins.get("TableUtils").getRows(o)-1,l=ja(t),u=l.first===0&&l.last===s;this.isEnabled=!u}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=Un(i.document.selection),s=ja(o),l=o[0],u=hn("table",l),d=this.editor.plugins.get("TableUtils").getCellLocation(l).column,v=i.createBatch();i.enqueueChange(v,function(g){g.setSelection(g.createSelection(u,"on"));var m=s.last-s.first+1;t.editor.plugins.get("TableUtils").removeRows(u,{at:s.first,rows:m,batch:v})}),i.enqueueChange(v,function(g){var m=function(_,O,P){var A=_.getChild(O)||_.getChild(_.childCount-1),F=A.getChild(0),G=0,Q=y(A.getChildren()),q;try{for(Q.s();!(q=Q.n()).done;){var be=q.value;if(G>P)return F;F=be,G+=parseInt(be.getAttribute("colspan")||1)}}catch(Se){Q.e(Se)}finally{Q.f()}return F}(u,s.first,d);g.setSelection(g.createPositionAt(m,0))})}}]),e}(Ir),Ee=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=Un(this.editor.model.document.selection),i=t[0];if(i){var o=hn("table",i),s=this.editor.plugins.get("TableUtils").getColumns(o),l=zo(t),u=l.first,d=l.last;this.isEnabled=d-u<s-1}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,i=function(m){var _=Un(m),O=_[0],P=_.pop(),A=[O,P];return O.isBefore(P)?A:A.reverse()}(this.editor.model.document.selection),o=K(i,2),s=o[0],l=o[1],u=s.parent.parent,d=U(new Zr(u)),v={first:d.find(function(m){return m.cell===s}).column,last:d.find(function(m){return m.cell===l}).column},g=function(m,_,O,P){return parseInt(O.getAttribute("colspan")||1)>1?O:_.previousSibling||O.nextSibling?O.nextSibling||_.previousSibling:P.first?m.reverse().find(function(A){var F=A.column;return F<P.first}).cell:m.reverse().find(function(A){var F=A.column;return F>P.last}).cell}(d,s,l,v);this.editor.model.change(function(m){var _=v.last-v.first+1;t.editor.plugins.get("TableUtils").removeColumns(u,{at:v.first,columns:_}),m.setSelection(m.createPositionAt(g,0))})}}]),e}(Ir),De=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=this,i=Un(this.editor.model.document.selection),o=i.length>0;this.isEnabled=o,this.value=o&&i.every(function(s){return t._isInHeading(s,s.parent.parent)})}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.forceValue!==this.value){var i=this.editor.model,o=Un(i.document.selection),s=hn("table",o[0]),l=ja(o),u=l.first,d=l.last,v=this.value?u:d+1,g=s.getAttribute("headingRows")||0;i.change(function(m){if(v){var _=qh(s,v,v>g?g:0),O=y(_),P;try{for(O.s();!(P=O.n()).done;){var A=P.value,F=A.cell;bc(F,v,m)}}catch(G){O.e(G)}finally{O.f()}}Dn("headingRows",v,s,m,0)})}}},{key:"_isInHeading",value:function(t,i){var o=parseInt(i.getAttribute("headingRows")||0);return!!o&&t.parent.index<o}}]),e}(Ir),Ze=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=Un(this.editor.model.document.selection),i=this.editor.plugins.get("TableUtils"),o=t.length>0;this.isEnabled=o,this.value=o&&t.every(function(s){return Jh(i,s)})}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.forceValue!==this.value){var i=this.editor.model,o=Un(i.document.selection),s=hn("table",o[0]),l=zo(o),u=l.first,d=l.last,v=this.value?u:d+1;i.change(function(g){if(v){var m=ev(s,v),_=y(m),O;try{for(_.s();!(O=_.n()).done;){var P=O.value,A=P.cell,F=P.column;tv(A,F,v,g)}}catch(G){_.e(G)}finally{_.f()}}Dn("headingColumns",v,s,g,0)})}}}]),e}(Ir),Ge=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"getCellLocation",value:function(t){var i=t.parent,o=i.parent,s=o.getChildIndex(i),l=new Zr(o,{startRow:s,endRow:s}),u=y(l),d;try{for(u.s();!(d=u.n()).done;){var v=d.value,g=v.cell,m=v.row,_=v.column;if(g===t)return{row:m,column:_}}}catch(O){u.e(O)}finally{u.f()}}},{key:"createTable",value:function(t,i,o){var s=t.createElement("table");return at(t,s,0,i,o),s}},{key:"insertRows",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.editor.model,s=i.at||0,l=i.rows||1,u=i.copyStructureFromAbove!==void 0,d=i.copyStructureFromAbove?s-1:s,v=this.getRows(t),g=this.getColumns(t);o.change(function(m){var _=t.getAttribute("headingRows")||0;if(_>s&&m.setAttribute("headingRows",_+l,t),!u&&(s===0||s===v))return void at(m,t,s,l,g);var O=u?Math.max(s,d):s,P=new Zr(t,{endRow:O}),A=new Array(g).fill(1),F=y(P),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value,q=Q.row,be=Q.column,Se=Q.rowspan,Ie=Q.colspan,Ue=Q.cell,ot=q+Se-1,bt=q<=d&&d<=ot;q<s&&s<=ot?(m.setAttribute("rowspan",Se+l,Ue),A[be]=-Ie):u&&bt&&(A[be]=Ie)}}catch(sr){F.e(sr)}finally{F.f()}for(var jt=0;jt<l;jt++){var yt=m.createElement("tableRow");m.insert(yt,t,s);for(var dt=0;dt<A.length;dt++){var zt=A[dt],Lt=m.createPositionAt(yt,"end");zt>0&&oa(m,Lt,zt>1?{colspan:zt}:null),dt+=Math.abs(zt)-1}}})}},{key:"insertColumns",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.editor.model,l=o.at||0,u=o.columns||1;s.change(function(d){var v=t.getAttribute("headingColumns");l<v&&d.setAttribute("headingColumns",v+u,t);var g=i.getColumns(t);if(l===0||g===l){var m=y(t.getChildren()),_;try{for(m.s();!(_=m.n()).done;){var O=_.value;Ft(u,d,d.createPositionAt(O,l?"end":0))}}catch(bt){m.e(bt)}finally{m.f()}return}var P=new Zr(t,{column:l,includeSpanned:!0}),A=y(P),F;try{for(A.s();!(F=A.n()).done;){var G=F.value,Q=G.row,q=G.cell,be=G.cellIndex,Se=parseInt(q.getAttribute("rowspan")||1),Ie=parseInt(q.getAttribute("colspan")||1);if(be!==l&&Ie>1){if(d.setAttribute("colspan",Ie+u,q),P.skipRow(Q),Se>1)for(var Ue=Q+1;Ue<Q+Se;Ue++)P.skipRow(Ue)}else{var ot=d.createPositionAt(t.getChild(Q),be);Ft(u,d,ot)}}}catch(bt){A.e(bt)}finally{A.f()}})}},{key:"removeRows",value:function(t,i){var o=this.editor.model,s=i.rows||1,l=i.at,u=l+s-1,d=i.batch||"default";o.enqueueChange(d,function(v){var g=function(q,be,Se){var Ie=new Map,Ue=[],ot=y(new Zr(q,{endRow:Se})),bt;try{for(ot.s();!(bt=ot.n()).done;){var jt=bt.value,yt=jt.row,dt=jt.column,zt=jt.rowspan,Lt=jt.cell,sr=yt+zt-1;if(yt>=be&&yt<=Se&&sr>Se){var pn=zt-(Se-yt+1);Ie.set(dt,{cell:Lt,rowspan:pn})}if(yt<be&&sr>=be){var Gn=void 0;Gn=sr>=Se?Se-be+1:sr-be+1,Ue.push({cell:Lt,rowspan:zt-Gn})}}}catch(gi){ot.e(gi)}finally{ot.f()}return{cellsToMove:Ie,cellsToTrim:Ue}}(t,l,u),m=g.cellsToMove,_=g.cellsToTrim;m.size&&function(q,be,Se,Ie){var Ue=U(new Zr(q,{includeSpanned:!0,startRow:be,endRow:be})),ot=q.getChild(be),bt,jt=y(Ue),yt;try{for(jt.s();!(yt=jt.n()).done;){var dt=yt.value,zt=dt.column,Lt=dt.cell,sr=dt.isSpanned;if(Se.has(zt)){var pn=Se.get(zt),Gn=pn.cell,gi=pn.rowspan,_s=bt?Ie.createPositionAfter(bt):Ie.createPositionAt(ot,0);Ie.move(Ie.createRangeOn(Gn),_s),Dn("rowspan",gi,Gn,Ie),bt=Gn}else sr||(bt=Lt)}}catch(zi){jt.e(zi)}finally{jt.f()}}(t,u+1,m,v);for(var O=u;O>=l;O--)v.remove(t.getChild(O));var P=y(_),A;try{for(P.s();!(A=P.n()).done;){var F=A.value,G=F.rowspan,Q=F.cell;Dn("rowspan",G,Q,v)}}catch(q){P.e(q)}finally{P.f()}(function(q,be,Se,Ie,Ue){Ie.enqueueChange(Ue,function(ot){var bt=q.getAttribute("headingRows")||0;be<bt&&Dn("headingRows",Se<bt?bt-(Se-be+1):be,q,ot,0)})})(t,l,u,o,d)})}},{key:"removeColumns",value:function(t,i){var o=this,s=this.editor.model,l=i.at,u=i.columns||1,d=i.at+u-1;s.change(function(v){(function(q,be,Se){var Ie=q.getAttribute("headingColumns")||0;if(Ie&&be.first<Ie){var Ue=Math.min(Ie-1,be.last)-be.first+1;Se.setAttribute("headingColumns",Ie-Ue,q)}})(t,{first:l,last:d},v);for(var g=[],m=d;m>=l;m--)for(var _=0,O=U(new Zr(t));_<O.length;_++){var P=O[_],A=P.cell,F=P.column,G=P.colspan;if(F<=m&&G>1&&F+G>m)Dn("colspan",G-1,A,v);else if(F===m){var Q=A.parent;v.remove(A),Q.childCount||g.push(Q.index)}}g.reverse().forEach(function(q){return o.removeRows(t,{at:q,batch:v.batch})})})}},{key:"splitCellVertically",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=this.editor.model,s=t.parent.parent,l=parseInt(t.getAttribute("rowspan")||1),u=parseInt(t.getAttribute("colspan")||1);o.change(function(d){if(u>1){var v=yr(u,i),g=v.newCellsSpan,m=v.updatedSpan;Dn("colspan",m,t,d);var _={};g>1&&(_.colspan=g),l>1&&(_.rowspan=l),Ft(u>i?i-1:u-1,d,d.createPositionAfter(t),_)}if(u<i){var O=i-u,P=U(new Zr(s)),A=P.find(function(bt){var jt=bt.cell;return jt===t}),F=A.column,G=P.filter(function(bt){var jt=bt.cell,yt=bt.colspan,dt=bt.column;return jt!==t&&dt===F||dt<F&&dt+yt>F}),Q=y(G),q;try{for(Q.s();!(q=Q.n()).done;){var be=q.value,Se=be.cell,Ie=be.colspan;d.setAttribute("colspan",Ie+O,Se)}}catch(bt){Q.e(bt)}finally{Q.f()}var Ue={};l>1&&(Ue.rowspan=l),Ft(O,d,d.createPositionAfter(t),Ue);var ot=s.getAttribute("headingColumns")||0;ot>F&&Dn("headingColumns",ot+O,s,d)}})}},{key:"splitCellHorizontally",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=this.editor.model,s=t.parent,l=s.parent,u=l.getChildIndex(s),d=parseInt(t.getAttribute("rowspan")||1),v=parseInt(t.getAttribute("colspan")||1);o.change(function(g){if(d>1){var m=U(new Zr(l,{startRow:u,endRow:u+d-1,includeSpanned:!0})),_=yr(d,i),O=_.newCellsSpan,P=_.updatedSpan;Dn("rowspan",P,t,g);var A=m.find(function(Fa){var xs=Fa.cell;return xs===t}),F=A.column,G={};O>1&&(G.rowspan=O),v>1&&(G.colspan=v);for(var Q=0,q=m;Q<q.length;Q++){var be=q[Q],Se=be.column,Ie=be.row,Ue=be.cellIndex,ot=Se===F,bt=(Ie+u+P)%O==0;if(Ie>=u+P&&ot&&bt){var jt=g.createPositionAt(l.getChild(Ie),Ue);Ft(1,g,jt,G)}}}if(d<i){var yt=i-d,dt=U(new Zr(l,{startRow:0,endRow:u})),zt=y(dt),Lt;try{for(zt.s();!(Lt=zt.n()).done;){var sr=Lt.value,pn=sr.cell,Gn=sr.rowspan,gi=sr.row;if(pn!==t&&gi+Gn>u){var _s=Gn+yt;g.setAttribute("rowspan",_s,pn)}}}catch(Fa){zt.e(Fa)}finally{zt.f()}var zi={};v>1&&(zi.colspan=v),at(g,l,u+1,yt,1,zi);var Oi=l.getAttribute("headingRows")||0;Oi>u&&Dn("headingRows",Oi+yt,l,g)}})}},{key:"getColumns",value:function(t){return U(t.getChild(0).getChildren()).reduce(function(i,o){return i+parseInt(o.getAttribute("colspan")||1)},0)}},{key:"getRows",value:function(t){return t.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),e}(ct);function at(a,n,e,r,t){for(var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=0;o<r;o++){var s=a.createElement("tableRow");a.insert(s,n,e),Ft(t,a,a.createPositionAt(s,"end"),i)}}function Ft(a,n,e){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},t=0;t<a;t++)oa(n,e,r)}function yr(a,n){if(a<n)return{newCellsSpan:1,updatedSpan:1};var e=Math.floor(a/n);return{newCellsSpan:e,updatedSpan:a-e*n+e}}var Fr=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=Bo(this.editor.model.document.selection);this.isEnabled=Xh(t,this.editor.plugins.get(Ge))}},{key:"execute",value:function(){var t=this.editor.model,i=this.editor.plugins.get(Ge);t.change(function(o){var s=Bo(t.document.selection),l=s.shift();o.setSelection(l,0);var u=function(F,G,Q){var q=0,be=0,Se=y(G),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var Ue=Ie.value,ot=Q.getCellLocation(Ue),bt=ot.row,jt=ot.column;q=rr(Ue,jt,q,"colspan"),be=rr(Ue,bt,be,"rowspan")}}catch(Lt){Se.e(Lt)}finally{Se.f()}var yt=Q.getCellLocation(F),dt=yt.row,zt=yt.column;return{mergeWidth:q-zt,mergeHeight:be-dt}}(l,s,i),d=u.mergeWidth,v=u.mergeHeight;Dn("colspan",d,l,o),Dn("rowspan",v,l,o);var g=[],m=y(s),_;try{for(m.s();!(_=m.n()).done;){var O=_.value,P=O.parent;xr(O,l,o),P.childCount||g.push(P.index)}}catch(F){m.e(F)}finally{m.f()}if(g.length){var A=hn("table",l);g.reverse().forEach(function(F){return i.removeRows(A,{at:F,batch:o.batch})})}o.setSelection(l,"in")})}}]),e}(Ir);function xr(a,n,e){vn(a)||(vn(n)&&e.remove(e.createRangeIn(n)),e.move(e.createRangeIn(a),e.createPositionAt(n,"end"))),e.remove(a)}function vn(a){return a.childCount==1&&a.getChild(0).is("paragraph")&&a.getChild(0).isEmpty}function rr(a,n,e,r){var t=parseInt(a.getAttribute(r)||1);return Math.max(e,n+t)}var sn=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=Un(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){for(var t=this.editor.model,i=Un(t.document.selection),o=ja(i),s=hn("table",i[0]),l=[],u=o.first;u<=o.last;u++){var d=y(s.getChild(u).getChildren()),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;l.push(t.createRangeOn(g))}}catch(m){d.e(m)}finally{d.f()}}t.change(function(m){m.setSelection(l)})}}]),e}(Ir),pi=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=Un(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){var t=this.editor.model,i=Un(t.document.selection),o=i[0],s=i.pop(),l=this.editor.plugins.get("TableUtils"),u=l.getCellLocation(o),d=l.getCellLocation(s),v=Math.min(u.column,d.column),g=Math.max(u.column,d.column),m=[],_=y(new Zr(hn("table",o))),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;P.column>=v&&P.column<=g&&m.push(t.createRangeOn(P.cell))}}catch(A){_.e(A)}finally{_.f()}t.change(function(A){A.setSelection(m)})}}]),e}(Ir);function ti(a){a.document.registerPostFixer(function(n){return function(e,r){var t=r.document.differ.getChanges(),i=!1,o=new Set,s=y(t),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=void 0;u.name=="table"&&u.type=="insert"&&(d=u.position.nodeAfter),u.name!="tableRow"&&u.name!="tableCell"||(d=hn("table",u.position)),Da(u)&&(d=hn("table",u.range.start)),d&&!o.has(d)&&(i=_c(d,e)||i,i=xc(d,e)||i,o.add(d))}}catch(v){s.e(v)}finally{s.f()}return i}(n,a)})}function _c(a,n){var e=!1,r=function(s){var l=parseInt(s.getAttribute("headingRows")||0),u=s.childCount,d=[],v=y(new Zr(s)),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_=m.row,O=m.rowspan,P=m.cell;if(!(O<2)){var A=_<l?l:u;if(_+O>A){var F=A-_;d.push({cell:P,rowspan:F})}}}}catch(G){v.e(G)}finally{v.f()}return d}(a);if(r.length){e=!0;var t=y(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;Dn("rowspan",o.rowspan,o.cell,n,1)}}catch(s){t.e(s)}finally{t.f()}}return e}function xc(a,n){var e=!1,r=function(Ie){var Ue=new Array(Ie.childCount).fill(0),ot=y(new Zr(Ie,{includeSpanned:!0})),bt;try{for(ot.s();!(bt=ot.n()).done;){var jt=bt.value,yt=jt.row;Ue[yt]++}}catch(dt){ot.e(dt)}finally{ot.f()}return Ue}(a),t=[],i=y(r.entries()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=K(s,2),u=l[0],d=l[1];d||t.push(u)}}catch(Ie){i.e(Ie)}finally{i.f()}if(t.length){e=!0;var v=y(t.reverse()),g;try{for(v.s();!(g=v.n()).done;){var m=g.value;n.remove(a.getChild(m)),r.splice(m,1)}}catch(Ie){v.e(Ie)}finally{v.f()}}var _=r[0];if(!r.every(function(Ie){return Ie===_})){var O=r.reduce(function(Ie,Ue){return Ue>Ie?Ue:Ie},0),P=y(r.entries()),A;try{for(P.s();!(A=P.n()).done;){var F=A.value,G=K(F,2),Q=G[0],q=G[1],be=O-q;if(be){for(var Se=0;Se<be;Se++)oa(n,n.createPositionAt(a.getChild(Q),"end"));e=!0}}}catch(Ie){P.e(Ie)}finally{P.f()}}return e}function Da(a){var n=a.type==="attribute",e=a.attributeKey;return n&&(e==="headingRows"||e==="colspan"||e==="rowspan")}function Uo(a){a.document.registerPostFixer(function(n){return function(e,r){var t=r.document.differ.getChanges(),i=!1,o=y(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.type=="insert"&&l.name=="table"&&(i=Ll(l.position.nodeAfter,e)||i),l.type=="insert"&&l.name=="tableRow"&&(i=Wo(l.position.nodeAfter,e)||i),l.type=="insert"&&l.name=="tableCell"&&(i=Na(l.position.nodeAfter,e)||i),Bm(l)&&(i=Na(l.position.parent,e)||i)}}catch(u){o.e(u)}finally{o.f()}return i}(n,a)})}function Ll(a,n){var e=!1,r=y(a.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e=Wo(i,n)||e}}catch(o){r.e(o)}finally{r.f()}return e}function Wo(a,n){var e=!1,r=y(a.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e=Na(i,n)||e}}catch(o){r.e(o)}finally{r.f()}return e}function Na(a,n){if(a.childCount==0)return n.insertElement("paragraph",a),!0;var e=Array.from(a.getChildren()).filter(function(o){return o.is("text")}),r=y(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;n.wrap(n.createRangeOn(i),"paragraph")}}catch(o){r.e(o)}finally{r.f()}return!!e.length}function Bm(a){return!(!a.position||!a.position.parent.is("tableCell"))&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function sv(a){a.document.registerPostFixer(function(){return function(n){var e=n.document.differ,r=new Set,t=0,i=y(e.getChanges()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.type=="insert"||s.type=="remove"?s.position.parent:s.range.start.parent;l.is("tableCell")&&(s.type=="insert"&&t++,Vm(l,s.type,t)&&r.add(l))}}catch(g){i.e(g)}finally{i.f()}if(r.size){var u=y(r.values()),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;e.refreshItem(v)}}catch(g){u.e(g)}finally{u.f()}return!0}return!1}(a)})}function Vm(a,n,e){if(!Array.from(a.getChildren()).some(function(t){return t.is("paragraph")}))return!1;if(n=="attribute"){var r=Array.from(a.getChild(0).getAttributeKeys()).length;return a.childCount===1&&r<2}return a.childCount<=(n=="insert"?e+1:1)}B(86);var yb=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model,o=i.schema,s=t.conversion;o.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),o.extend("$block",{allowIn:"tableCell"}),o.addChildCheck(function(l,u){if(u.name=="table"&&Array.from(l.getNames()).includes("table"))return!1}),s.for("upcast").add(jm()),s.for("editingDowncast").add(nv({asWidget:!0})),s.for("dataDowncast").add(nv()),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(function(l){l.on("element:tr",function(u,d){d.viewItem.isEmpty&&u.stop()},{priority:"high"})}),s.for("editingDowncast").add(ws({asWidget:!0})),s.for("dataDowncast").add(ws()),s.for("downcast").add(function(l){return l.on("remove:tableRow",function(u,d,v){u.stop();var g=v.writer,m=v.mapper,_=m.toViewPosition(d.position).getLastMatchingPosition(function(q){return!q.item.is("tr")}).nodeAfter,O=_.parent.parent,P=g.createRangeOn(_),A=g.remove(P),F=y(g.createRangeIn(A).getItems()),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;m.unbindViewElement(Q)}}catch(q){F.e(q)}finally{F.f()}h("thead",O,v),h("tbody",O,v)},{priority:"higher"})}),s.for("upcast").add(mc("td")),s.for("upcast").add(mc("th")),s.for("editingDowncast").add(Cr({asWidget:!0})),s.for("dataDowncast").add(Cr()),s.attributeToAttribute({model:"colspan",view:"colspan"}),s.attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("editingDowncast").add(vi({asWidget:!0})),s.for("dataDowncast").add(vi()),s.for("editingDowncast").add(wc({asWidget:!0})),s.for("dataDowncast").add(wc()),t.commands.add("insertTable",new T(t)),t.commands.add("insertTableRowAbove",new V(t,{order:"above"})),t.commands.add("insertTableRowBelow",new V(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new z(t,{order:"left"})),t.commands.add("insertTableColumnRight",new z(t,{order:"right"})),t.commands.add("removeTableRow",new Pe(t)),t.commands.add("removeTableColumn",new Ee(t)),t.commands.add("splitTableCellVertically",new Z(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Z(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new Fr(t)),t.commands.add("mergeTableCellRight",new le(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new le(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new le(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new le(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Ze(t)),t.commands.add("setTableRowHeader",new De(t)),t.commands.add("selectTableRow",new sn(t)),t.commands.add("selectTableColumn",new pi(t)),ti(i),sv(i),Uo(i)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[Ge]}}]),e}(ct);B(88);var wb=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isToggleable",!1),t.set("isVisible",!0),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.children=t.createCollection(),t.actionView=t._createActionView(),t.arrowView=t._createArrowView(),t.keystrokes=new na,t.focusTracker=new _i,t.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.if("isVisible","ck-hidden",function(o){return!o}),t.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:t.children}),t}return C(e,[{key:"render",value:function(){var t=this;M(I(e.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(i,o){t.focusTracker.focusedElement===t.actionView.element&&(t.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",function(i,o){t.focusTracker.focusedElement===t.arrowView.element&&(t.actionView.focus(),o())})}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var t=new cn;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}},{key:"_createArrowView",value:function(){var t=new cn,i=t.bindTemplate;return t.icon=cf,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":i.to("isOn",function(o){return String(o)})}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}]),e}(_r);B(90);var kb=function(a){S(e,a);var n=D(e);function e(r){var t;E(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.items=t._createGridCollection(),t.set("rows",0),t.set("columns",0),t.bind("label").to(b(t),"columns",b(t),"rows",function(o,s){return"".concat(s," \xD7 ").concat(o)}),t.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:t.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:i.to("label")}]}],on:{mousedown:i.to(function(o){o.preventDefault()}),click:i.to(function(){t.fire("execute")})}}),t.on("boxover",function(o,s){var l=s.target.dataset,u=l.row,d=l.column;t.set({rows:parseInt(u),columns:parseInt(d)})}),t.on("change:columns",function(){t._highlightGridBoxes()}),t.on("change:rows",function(){t._highlightGridBoxes()}),t}return C(e,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var t=this.rows,i=this.columns;this.items.map(function(o,s){var l=Math.floor(s/10)<t&&s%10<i;o.set("isOn",l)})}},{key:"_createGridCollection",value:function(){for(var t=[],i=0;i<100;i++){var o=Math.floor(i/10),s=i%10;t.push(new _b(this.locale,o+1,s+1))}return this.createCollection(t)}}]),e}(_r),_b=function(a){S(e,a);var n=D(e);function e(r,t,i){var o;E(this,e),o=n.call(this,r);var s=o.bindTemplate;return o.set("isOn",!1),o.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",s.if("isOn","ck-on")],"data-row":t,"data-column":i}}),o}return e}(_r),xb=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=this.editor.t,s=i.locale.contentLanguageDirection==="ltr";i.ui.componentFactory.add("insertTable",function(l){var u=i.commands.get("insertTable"),d=Mo(l),v;return d.bind("isEnabled").to(u),d.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),d.on("change:isOpen",function(){v||(v=new kb(l),d.panelView.children.add(v),v.delegate("execute").to(d),d.buttonView.on("open",function(){v.rows=0,v.columns=0}),d.on("execute",function(){i.execute("insertTable",{rows:v.rows,columns:v.columns}),i.editing.view.focus()}))}),d}),i.ui.componentFactory.add("tableColumn",function(l){var u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return t._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,l)}),i.ui.componentFactory.add("tableRow",function(l){var u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return t._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,l)}),i.ui.componentFactory.add("mergeTableCells",function(l){var u=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return t._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,l)})}},{key:"_prepareDropdown",value:function(t,i,o,s){var l=this.editor,u=Mo(s),d=this._fillDropdownWithListOptions(u,o);return u.buttonView.set({label:t,icon:i,tooltip:!0}),u.bind("isEnabled").toMany(d,"isEnabled",function(){for(var v=arguments.length,g=new Array(v),m=0;m<v;m++)g[m]=arguments[m];return g.some(function(_){return _})}),this.listenTo(u,"execute",function(v){l.execute(v.source.commandName),l.editing.view.focus()}),u}},{key:"_prepareMergeSplitButtonDropdown",value:function(t,i,o,s){var l=this.editor,u=Mo(s,wb);return this._fillDropdownWithListOptions(u,o),u.buttonView.set({label:t,icon:i,tooltip:!0,isEnabled:!0}),this.listenTo(u.buttonView,"execute",function(){l.execute("mergeTableCells"),l.editing.view.focus()}),this.listenTo(u,"execute",function(d){l.execute(d.source.commandName),l.editing.view.focus()}),u}},{key:"_fillDropdownWithListOptions",value:function(t,i){var o=this.editor,s=[],l=new jn,u=y(i),d;try{for(u.s();!(d=u.n()).done;){var v=d.value;Ob(v,o,s,l)}}catch(g){u.e(g)}finally{u.f()}return vf(t,l,o.ui.componentFactory),s}}]),e}(ct);function Ob(a,n,e,r){var t=a.model=new ac(a.model),i=a.model,o=i.commandName,s=i.bindIsOn;if(a.type==="button"||a.type==="switchbutton"){var l=n.commands.get(o);e.push(l),t.set({commandName:o}),t.bind("isEnabled").to(l),s&&t.bind("isOn").to(l,"value")}t.set({withText:!0}),r.add(a)}var Pb=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.domEventType=["mousemove","mouseup","mouseleave"],t}return C(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ea);function tb(a,n,e,r){for(var t=n.startRow,i=n.startColumn,o=n.endRow,s=n.endColumn,l=e.createElement("table"),u=o-t+1,d=0;d<u;d++)e.insertElement("tableRow",l,"end");var v=U(new Zr(a,{startRow:t,endRow:o,includeSpanned:!0})),g=y(v),m;try{for(g.s();!(m=g.n()).done;){var _=m.value,O=_.row,P=_.column,A=_.cell,F=_.isSpanned;if(!(P<i||P>s)){var G=O-t,Q=l.getChild(G);if(F){var q=r.getCellLocation(A),be=q.row,Se=q.column;(be<t||Se<i)&&oa(e,e.createPositionAt(Q,"end"))}else{var Ie=A._clone(!0);e.append(Ie,Q),rb(Ie,O,P,o,s,e)}}}}catch(Ue){g.e(Ue)}finally{g.f()}return function(Ue,ot,bt,jt,yt){var dt=parseInt(ot.getAttribute("headingRows")||0);dt>0&&Dn("headingRows",dt-bt,Ue,yt,0);var zt=parseInt(ot.getAttribute("headingColumns")||0);zt>0&&Dn("headingColumns",zt-jt,Ue,yt,0)}(l,a,t,i,e),l}function rb(a,n,e,r,t,i){var o=parseInt(a.getAttribute("colspan")||1),s=parseInt(a.getAttribute("rowspan")||1);e+o-1>t&&Dn("colspan",t-e+1,a,i,1),n+s-1>r&&Dn("rowspan",r-n+1,a,i,1)}B(92);var lv=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model;this.listenTo(o,"deleteContent",function(s,l){return t._handleDeleteContent(s,l)},{priority:"high"}),i.editing.view.addObserver(Pb),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var t=Bo(this.editor.model.document.selection);return t.length==0?null:t}},{key:"getSelectionAsFragment",value:function(){var t=this,i=this.getSelectedTableCells();return i?this.editor.model.change(function(o){var s=o.createDocumentFragment(),l=zo(i),u=l.first,d=l.last,v=ja(i),g=v.first,m=v.last,_=tb(hn("table",i[0]),{startRow:g,startColumn:u,endRow:m,endColumn:d},o,t.editor.plugins.get("TableUtils"));return o.insert(_,s,0),s}):null}},{key:"setCellSelection",value:function(t,i){var o=this._getCellsToSelect(t,i);this.editor.model.change(function(s){s.setSelection(o.cells.map(function(l){return s.createRangeOn(l)}),{backward:o.backward})})}},{key:"getFocusCell",value:function(){var t=U(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return t&&t.is("tableCell")?t:null}},{key:"getAnchorCell",value:function(){var t=Li(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("tableCell")?t:null}},{key:"_defineSelectionConverter",value:function(){var t=this,i=this.editor,o=new Set;i.conversion.for("editingDowncast").add(function(s){return s.on("selection",function(l,u,d){var v=d.writer;(function(F){var G=y(o),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value;F.removeClass("ck-editor__editable_selected",q)}}catch(be){G.e(be)}finally{G.f()}o.clear()})(v);var g=t.getSelectedTableCells();if(!!g){var m=y(g),_;try{for(m.s();!(_=m.n()).done;){var O=_.value,P=d.mapper.toViewElement(O);v.addClass("ck-editor__editable_selected",P),o.add(P)}}catch(F){m.e(F)}finally{m.f()}var A=d.mapper.toViewElement(g[g.length-1]);v.setSelection(A,0)}},{priority:"lowest"})})}},{key:"_enableShiftClickSelection",value:function(){var t=this,i=this.editor,o=!1;this.listenTo(i.editing.view.document,"mousedown",function(s,l){if(!!t.isEnabled&&!!l.domEvent.shiftKey){var u=t.getAnchorCell()||Vo(i.model.document.selection)[0];if(!!u){var d=t._getModelTableCellFromDomEvent(l);d&&nb(u,d)&&(o=!0,t.setCellSelection(u,d),l.preventDefault())}}}),this.listenTo(i.editing.view.document,"mouseup",function(){o=!1}),this.listenTo(i.editing.view.document,"selectionChange",function(s){o&&s.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var t=this,i=this.editor,o,s,l=!1,u=!1;this.listenTo(i.editing.view.document,"mousedown",function(d,v){t.isEnabled&&(v.domEvent.shiftKey||v.domEvent.ctrlKey||v.domEvent.altKey||(o=t._getModelTableCellFromDomEvent(v)))}),this.listenTo(i.editing.view.document,"mousemove",function(d,v){if(!!v.domEvent.buttons&&!!o){var g=t._getModelTableCellFromDomEvent(v);g&&nb(o,g)&&(s=g,l||s==o||(l=!0)),l&&(u=!0,t.setCellSelection(o,s),v.preventDefault())}}),this.listenTo(i.editing.view.document,"mouseup",function(){l=!1,u=!1,o=null,s=null}),this.listenTo(i.editing.view.document,"selectionChange",function(d){u&&d.stop()},{priority:"highest"})}},{key:"_enablePluginDisabling",value:function(){var t=this,i=this.editor;this.on("change:isEnabled",function(){if(!t.isEnabled){var o=t.getSelectedTableCells();if(!o)return;i.model.change(function(s){var l=s.createPositionAt(o[0],0),u=i.model.schema.getNearestSelectionRange(l);s.setSelection(u)})}})}},{key:"_handleDeleteContent",value:function(t,i){var o=K(i,2),s=o[0],l=o[1],u=this.editor.model,d=!l||l.direction=="backward",v=Bo(s);v.length&&(t.stop(),u.change(function(g){var m=v[d?v.length-1:0];u.change(function(O){var P=y(v),A;try{for(P.s();!(A=P.n()).done;){var F=A.value;u.deleteContent(O.createSelection(F,"in"))}}catch(G){P.e(G)}finally{P.f()}});var _=u.schema.getNearestSelectionRange(g.createPositionAt(m,0));s.is("documentSelection")?g.setSelection(_):s.setTo(_)}))}},{key:"_getModelTableCellFromDomEvent",value:function(t){var i=t.target,o=this.editor.editing.view.createPositionAt(i,0),s=this.editor.editing.mapper.toModelPosition(o).parent;return s.is("tableCell")?s:hn("tableCell",s)}},{key:"_getCellsToSelect",value:function(t,i){var o=this.editor.plugins.get("TableUtils"),s=o.getCellLocation(t),l=o.getCellLocation(i),u=Math.min(s.row,l.row),d=Math.max(s.row,l.row),v=Math.min(s.column,l.column),g=Math.max(s.column,l.column),m=new Array(d-u+1).fill(null).map(function(){return[]}),_=y(new Zr(hn("table",t),{startRow:u,endRow:d})),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;P.column>=v&&P.column<=g&&m[P.row-u].push(P.cell)}}catch(G){_.e(G)}finally{_.f()}var A=l.row<s.row,F=l.column<s.column;return A&&m.reverse(),F&&m.forEach(function(G){return G.reverse()}),{cells:m.flat(),backward:A||F}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[Ge]}}]),e}(ct);function nb(a,n){return a.parent.parent==n.parent.parent}var Eb=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.editing.view.document;this.listenTo(o,"copy",function(s,l){return t._onCopyCut(s,l)}),this.listenTo(o,"cut",function(s,l){return t._onCopyCut(s,l)}),this.listenTo(i.model,"insertContent",function(s,l){return t._onInsertContent.apply(t,[s].concat(U(l)))},{priority:"high"})}},{key:"_onCopyCut",value:function(t,i){var o=this.editor.plugins.get(lv);if(!!o.getSelectedTableCells()&&!(t.name=="cut"&&this.editor.isReadOnly)){i.preventDefault(),t.stop();var s=this.editor.data,l=this.editor.editing.view.document,u=s.toView(o.getSelectionAsFragment());l.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:u,method:t.name})}}},{key:"_onInsertContent",value:function(t,i,o){if(!(o&&!o.is("documentSelection"))){var s=this.editor.model,l=this.editor.plugins.get(Ge),u=Un(s.document.selection);if(!!u.length){var d=function(v){return v.is("table")?v:v.childCount!=1||!v.getChild(0).is("table")?null:v.getChild(0)}(i);d&&(t.stop(),s.change(function(v){var g=zo(u),m=ja(u),_=g.first,O=g.last,P=m.first,A=m.last,F=l.getRows(d),G=l.getColumns(d),Q=hn("table",u[0]),q=u.length===1;q&&(A+=F-1,O+=G-1,function(Ue,ot,bt,jt,yt){var dt=yt.getColumns(Ue),zt=yt.getRows(Ue);bt>dt&&yt.insertColumns(Ue,{batch:jt.batch,at:dt,columns:bt-dt}),ot>zt&&yt.insertRows(Ue,{batch:jt.batch,at:zt,rows:ot-zt})}(Q,A+1,O+1,v,l)),q||!Xh(u,l)?function(Ue,ot,bt){var jt=ot.firstRow,yt=ot.lastRow,dt=ot.firstColumn,zt=ot.lastColumn,Lt={first:jt,last:yt},sr={first:dt,last:zt};ab(Ue,dt,Lt,bt),ab(Ue,zt+1,Lt,bt),ib(Ue,jt,sr,bt),ib(Ue,yt+1,sr,bt,jt)}(Q,{firstRow:P,lastRow:A,firstColumn:_,lastColumn:O},v):(A=function(Ue,ot,bt){var jt=new Zr(Ue,{startRow:ot.last,endRow:ot.last}),yt=Array.from(jt).filter(function(zt){var Lt=zt.column;return bt.first<=Lt&&Lt<=bt.last});if(yt.every(function(zt){var Lt=zt.rowspan;return Lt===1}))return ot.last;var dt=yt[0].rowspan-1;return ot.last+dt}(Q,m,g),O=function(Ue,ot,bt){var jt=Array.from(new Zr(Ue,{startRow:ot.first,endRow:ot.last,column:bt.last}));if(jt.every(function(dt){var zt=dt.colspan;return zt===1}))return bt.last;var yt=jt[0].colspan-1;return bt.last+yt}(Q,m,g));var be=A-P+1,Se=O-_+1,Ie={startRow:0,startColumn:0,endRow:Math.min(be-1,F-1),endColumn:Math.min(Se-1,G-1)};d=tb(d,Ie,v,l),function(Ue,ot,bt,jt,yt){for(var dt=jt.firstColumnOfSelection,zt=jt.lastColumnOfSelection,Lt=jt.firstRowOfSelection,sr=jt.lastRowOfSelection,pn=ot.width,Gn=ot.height,gi=function(Hm,Qb,Jb){var mb=new Array(Jb).fill(null).map(function(){return new Array(Qb).fill(null)}),cv=y(new Zr(Hm)),bb;try{for(cv.s();!(bb=cv.n()).done;){var Km=bb.value,Zb=Km.column,Xb=Km.row,qb=Km.cell;mb[Xb][Zb]=qb}}catch(ey){cv.e(ey)}finally{cv.f()}return mb}(Ue,pn,Gn),_s=U(new Zr(bt,{startRow:Lt,endRow:sr,includeSpanned:!0})),zi=[],Oi,Fa=0,xs=_s;Fa<xs.length;Fa++){var Os=xs[Fa],Oc=Os.row,Pc=Os.column,hb=Os.cell,vb=Os.isSpanned;if(Pc===0&&(Oi=null),Pc<dt||Pc>zt){vb||(Oi=hb);continue}vb||yt.remove(hb);var Yb=Pc-dt,pb=gi[(Oc-Lt)%Gn][Yb%pn];if(!!pb){var uv=pb._clone(!0),gb=void 0;rb(uv,Oc,Pc,sr,zt,yt),gb=Oi?yt.createPositionAfter(Oi):yt.createPositionAt(bt.getChild(Oc),0),yt.insert(uv,gb),zi.push(uv),Oi=uv}}yt.setSelection(zi.map(function(Hm){return yt.createRangeOn(Hm)}))}(d,{width:G,height:F},Q,{firstColumnOfSelection:_,firstRowOfSelection:P,lastColumnOfSelection:O,lastRowOfSelection:A},v)}))}}}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[lv,Ge]}}]),e}(ct);function ib(a,n,e,r){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!(n<1)){var i=qh(a,n,t).filter(function(d){var v=d.column,g=d.colspan;return ob(v,g,e)}),o=y(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.cell;bc(u,n,r)}}catch(d){o.e(d)}finally{o.f()}}}function ab(a,n,e,r){if(!(n<1)){var t=ev(a,n).filter(function(d){var v=d.row,g=d.rowspan;return ob(v,g,e)}),i=y(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.cell,u=s.column;tv(l,u,n,r)}}catch(d){i.e(d)}finally{i.f()}}}function ob(a,n,e){var r=a+n-1,t=e.first,i=e.last;return a>=t&&a<=i||a<t&&r>=t}var Cb=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this,i=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",function(){return t._handleTabOnSelectedTable.apply(t,arguments)},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(i,"keydown",function(){return t._onKeydown.apply(t,arguments)},{priority:co.get("high")+1})}},{key:"_handleTabOnSelectedTable",value:function(t,i){var o=this.editor,s=o.model.document.selection;if(!s.isCollapsed&&s.rangeCount===1&&s.getFirstRange().isFlat){var l=s.getSelectedElement();if(!l||!l.is("table"))return;i(),o.model.change(function(u){u.setSelection(u.createRangeIn(l.getChild(0).getChild(0)))})}}},{key:"_getTabHandler",value:function(t){var i=this.editor;return function(o,s){var l=Vo(i.model.document.selection)[0];if(!!l){s();var u=l.parent,d=u.parent,v=d.getChildIndex(u),g=u.getChildIndex(l),m=g===0;if(!(!t&&m&&v===0)){var _=g===u.childCount-1,O=v===d.childCount-1;if(!(t&&O&&_&&(i.execute("insertTableRowBelow"),v===d.childCount-1))){var P;if(t&&_){var A=d.getChild(v+1);P=A.getChild(0)}else if(!t&&m){var F=d.getChild(v-1);P=F.getChild(F.childCount-1)}else P=u.getChild(g+(t?1:-1));i.model.change(function(G){G.setSelection(G.createRangeIn(P))})}}}}}},{key:"_onKeydown",value:function(t,i){var o=i.keyCode;if(!!function(l){return l==tr.arrowright||l==tr.arrowleft||l==tr.arrowup||l==tr.arrowdown}(o)){var s=function(l,u){var d=u==="ltr";switch(l){case tr.arrowleft:return d?"left":"right";case tr.arrowright:return d?"right":"left";case tr.arrowup:return"up";case tr.arrowdown:return"down"}}(o,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(s,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),t.stop())}}},{key:"_handleArrowKeys",value:function(t,i){var o=this.editor.model,s=o.document.selection,l=["right","down"].includes(t),u=Bo(s);if(u.length){var d;return d=i?this.editor.plugins.get("TableSelection").getFocusCell():l?u[u.length-1]:u[0],this._navigateFromCellInDirection(d,t,i),!0}var v=hn("tableCell",s.focus);if(!v)return!1;var g=o.createRangeIn(v);if(this._isSelectionAtCellEdge(s,l))return this._navigateFromCellInDirection(v,t,i),!0;var m=s.getSelectedElement();if(m&&o.schema.isObject(m)||this._isObjectElementNextToSelection(s,l))return!1;var _=this._findTextRangeFromSelection(g,s,l);return _?!["left","right"].includes(t)&&(this._isSingleLineRange(_,l)?(o.change(function(O){var P=l?g.end:g.start;if(i){var A=o.createSelection(s.anchor);A.setFocus(P),O.setSelection(A)}else O.setSelection(P)}),!0):void 0):(this._navigateFromCellInDirection(v,t,i),!0)}},{key:"_isSelectionAtCellEdge",value:function(t,i){var o=this.editor.model,s=this.editor.model.schema,l=i?t.getLastPosition():t.getFirstPosition();if(!s.getLimitElement(l).is("tableCell"))return!1;var u=o.createSelection(l);return o.modifySelection(u,{direction:i?"forward":"backward"}),l.isEqual(u.focus)}},{key:"_isObjectElementNextToSelection",value:function(t,i){var o=this.editor.model,s=o.schema,l=o.createSelection(t);o.modifySelection(l,{direction:i?"forward":"backward"});var u=i?l.focus.nodeBefore:l.focus.nodeAfter;return u&&s.isObject(u)}},{key:"_findTextRangeFromSelection",value:function(t,i,o){var s=this.editor.model;if(o){var l=i.getLastPosition(),u=this._getNearestVisibleTextPosition(t,"backward");return u&&l.isBefore(u)?s.createRange(l,u):null}{var d=i.getFirstPosition(),v=this._getNearestVisibleTextPosition(t,"forward");return v&&d.isAfter(v)?s.createRange(v,d):null}}},{key:"_getNearestVisibleTextPosition",value:function(t,i){var o=this.editor.model.schema,s=this.editor.editing.mapper,l=y(t.getWalker({direction:i})),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,v=d.nextPosition,g=d.item;if(o.checkChild(v,"$text")){var m=s.toViewElement(g);if(m&&!m.hasClass("ck-hidden"))return v}}}catch(_){l.e(_)}finally{l.f()}}},{key:"_isSingleLineRange",value:function(t,i){var o=this.editor.model,s=this.editor.editing,l=s.view.domConverter;if(i){var u=o.createSelection(t.start);o.modifySelection(u),u.focus.isAtEnd||t.start.isEqual(u.focus)||(t=o.createRange(u.focus,t.end))}var d=s.mapper.toViewRange(t),v=l.viewRangeToDom(d),g=mn.getDomRangeRects(v),m,_=y(g),O;try{for(_.s();!(O=_.n()).done;){var P=O.value;if(m!==void 0){if(Math.round(P.top)>=m)return!1;m=Math.max(m,Math.round(P.bottom))}else m=Math.round(P.bottom)}}catch(A){_.e(A)}finally{_.f()}return!0}},{key:"_navigateFromCellInDirection",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.editor.model,l=hn("table",t),u=U(new Zr(l,{includeSpanned:!0})),d=u[u.length-1],v=d.row,g=d.column,m=u.find(function(q){var be=q.cell;return be==t}),_=m.row,O=m.column;switch(i){case"left":O--;break;case"up":_--;break;case"right":O+=m.colspan;break;case"down":_+=m.rowspan}if(_<0||_>v||O<0&&_<=0||O>g&&_>=v)return void s.change(function(q){q.setSelection(q.createRangeOn(l))});O<0?(O=o?0:g,_--):O>g&&(O=o?g:0,_++);var P=u.find(function(q){return q.row==_&&q.column==O}).cell,A=["right","down"].includes(i);if(o){var F=this.editor.plugins.get("TableSelection"),G=F.getAnchorCell()||t;F.setCellSelection(G,P)}else{var Q=s.createPositionAt(P,A?0:"end");s.change(function(q){q.setSelection(Q)})}}}],[{key:"pluginName",get:function(){return"TableNavigation"}},{key:"requires",get:function(){return[lv]}}]),e}(ct);B(94);var zm=function(){function a(n,e){var r=this;E(this,a),this.model=n,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",function(){r.isEnabled?r._startListening():(r.stopListening(n.document.selection),r.stopListening(n.document))}),this._startListening()}return C(a,[{key:"_startListening",value:function(){var e=this,r=this.model.document;this.listenTo(r.selection,"change:range",function(t,i){var o=i.directChange;o&&(r.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))}),this.listenTo(r,"change:data",function(t,i){i.type!="transparent"&&e._evaluateTextBeforeSelection("data",{batch:i})})}},{key:"_evaluateTextBeforeSelection",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.model,i=t.document.selection,o=t.createRange(t.createPositionAt(i.focus.parent,0),i.focus),s=Uf(o,t),l=s.text,u=s.range,d=this.testCallback(l);if(!d&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!d,d){var v=Object.assign(r,{text:l,range:u});typeof d=="object"&&Object.assign(v,d),this.fire("matched:"+e,v)}}}]),a}();Zt(zm,On);var sb=/[\\^$.*+?()[\]{}|]/g,Ab=RegExp(sb.source),Sb=function(n){return(n=Is(n))&&Ab.test(n)?n.replace(sb,"\\$&"):n},Tb={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xBD"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xBC"},threeQuarters:{from:"3/4",to:"\xBE"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Bl('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Bl("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Bl("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Bl('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Bl('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Bl("'"),to:[null,"\u201A",null,"\u2019"]}},lb={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Mb=["symbols","mathematical","typography","quotes"];function Ib(a){return typeof a=="string"?new RegExp("(".concat(Sb(a),")$")):a}function Rb(a){return typeof a=="string"?function(){return[a]}:a instanceof Array?function(){return a}:a}function jb(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Bl(a){return new RegExp("(^|\\s)(".concat(a,")([^").concat(a,"]*)(").concat(a,")$"))}var Db=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.isEnabled=t.schema.checkAttributeInSelection(i.selection,"mention")}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection,s=typeof t.mention=="string"?{id:t.mention}:t.mention,l=s.id,u=t.range||o.getFirstRange(),d=t.text||l,v=ub({_text:d,id:l},s);if(t.marker.length!=1)throw new pe.b("mentioncommand-incorrect-marker: The marker must be a single character.",this);if(l.charAt(0)!=t.marker)throw new pe.b("mentioncommand-incorrect-id: The item id must start with the marker character.",this);i.change(function(g){var m=fr(o.getAttributes()),_=new Map(m.entries());_.set("mention",v),i.insertContent(g.createText(d,_),u),i.insertContent(g.createText(" ",m),u.start.getShiftedBy(d.length))})}}]),e}(Ir),Nb=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.model,o=i.document;i.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:cb}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:Lb}),t.conversion.for("downcast").add(Fb),o.registerPostFixer(function(s){return function(l,u,d){var v=u.differ.getChanges(),g=!1,m=y(v),_;try{for(m.s();!(_=m.n()).done;){var O=_.value,P=O.position;if(O.name=="$text"){var A=P.textNode&&P.textNode.nextSibling;g=ks(P.textNode,l)||g,g=ks(A,l)||g,g=ks(P.nodeBefore,l)||g,g=ks(P.nodeAfter,l)||g}if(O.name!="$text"&&O.type=="insert"){var F=P.nodeAfter,G=y(l.createRangeIn(F).getItems()),Q;try{for(G.s();!(Q=G.n()).done;){var q=Q.value;g=ks(q,l)||g}}catch(Se){G.e(Se)}finally{G.f()}}if(O.type=="insert"&&d.isInline(O.name)){var be=P.nodeAfter&&P.nodeAfter.nextSibling;g=ks(P.nodeBefore,l)||g,g=ks(be,l)||g}}}catch(Se){m.e(Se)}finally{m.f()}return g}(s,o,i.schema)}),o.registerPostFixer(function(s){return function(l,u){var d=u.differ.getChanges(),v=!1,g=y(d),m;try{for(g.s();!(m=g.n()).done;){var _=m.value;if(_.type==="attribute"&&_.attributeKey!="mention")for(var O=_.range.start.nodeBefore,P=_.range.end.nodeAfter,A=0,F=[O,P];A<F.length;A++){var G=F[A];db(G)&&G.getAttribute(_.attributeKey)!=_.attributeNewValue&&(l.setAttribute(_.attributeKey,_.attributeNewValue,G),v=!0)}}}catch(Q){g.e(Q)}finally{g.f()}return v}(s,o)}),o.registerPostFixer(function(s){return function(l,u){var d=u.selection,v=d.focus;if(d.isCollapsed&&d.hasAttribute("mention")&&function(g){var m=g.isAtStart;return g.nodeBefore&&g.nodeBefore.is("text")||m}(v))return l.removeSelectionAttribute("mention"),!0}(s,o)}),t.commands.add("mention",new Db(t))}}],[{key:"pluginName",get:function(){return"MentionEditing"}}]),e}(ct);function ub(a,n){return Object.assign({_uid:ii()},a,n||{})}function cb(a,n){var e=a.getAttribute("data-mention"),r=a.getChild(0);if(!!r)return ub({id:e,_text:r.data},n)}function Fb(a){a.on("attribute:mention",function(n,e,r){var t=e.attributeNewValue;if(!(!e.item.is("textProxy")||!t)){var i=e.range.start;(i.textNode||i.nodeAfter).data!=t._text&&r.consumable.consume(e.item,n.name)}},{priority:"highest"})}function Lb(a,n){if(!!a){var e={class:"mention","data-mention":a.id},r={id:a._uid,priority:20};return n.createAttributeElement("span",e,r)}}function db(a){return!a||!a.is("text")&&!a.is("textProxy")||!a.hasAttribute("mention")?!1:a.data!=a.getAttribute("mention")._text}function ks(a,n){return!!db(a)&&(n.removeAttribute("mention",a),!0)}B(96);var Bb=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}}),t}return C(e,[{key:"selectFirst",value:function(){this.select(0)}},{key:"selectNext",value:function(){var t=this.selected,i=this.items.getIndex(t);this.select(i+1)}},{key:"selectPrevious",value:function(){var t=this.selected,i=this.items.getIndex(t);this.select(i-1)}},{key:"select",value:function(t){var i=0;t>0&&t<this.items.length?i=t:t<0&&(i=this.items.length-1);var o=this.items.get(i);this.selected!==o&&(this.selected&&this.selected.removeHighlight(),o.highlight(),this.selected=o,this._isItemVisibleInScrolledArea(o)||(this.element.scrollTop=o.element.offsetTop))}},{key:"executeSelected",value:function(){this.selected.fire("execute")}},{key:"_isItemVisibleInScrolledArea",value:function(t){return new mn(this.element).contains(new mn(t.element))}}]),e}(ff),Vb=function(a){S(e,a);var n=D(e);function e(r,t){var i;return E(this,e),i=n.call(this,r),i.template=!1,i.domElement=t,i.domElement.classList.add("ck-button"),i.set("isOn",!1),i.on("change:isOn",function(o,s,l){l?(i.domElement.classList.add("ck-on"),i.domElement.classList.remove("ck-off")):(i.domElement.classList.add("ck-off"),i.domElement.classList.remove("ck-on"))}),i.listenTo(i.domElement,"click",function(){i.fire("execute")}),i}return C(e,[{key:"render",value:function(){M(I(e.prototype),"render",this).call(this),this.element=this.domElement}}]),e}(_r),zb=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"highlight",value:function(){this.children.first.isOn=!0}},{key:"removeHighlight",value:function(){this.children.first.isOn=!1}}]),e}(hf),Ub=[tr.arrowup,tr.arrowdown,tr.enter,tr.tab,tr.space,tr.esc],Wb=function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),t._mentionsView=t._createMentionView(),t._mentionsConfigurations=new Map,t._requestFeedDebounced=su(t._requestFeed,100),r.config.define("mention",{feeds:[]}),t}return C(e,[{key:"init",value:function(){var t=this,i=this.editor;this._balloon=i.plugins.get(Pa),i.editing.view.document.on("keydown",function(O,P){var A;A=P.keyCode,Ub.includes(A)&&t._isUIVisible&&(P.preventDefault(),O.stop(),P.keyCode==tr.arrowdown&&t._mentionsView.selectNext(),P.keyCode==tr.arrowup&&t._mentionsView.selectPrevious(),P.keyCode!=tr.enter&&P.keyCode!=tr.tab&&P.keyCode!=tr.space||t._mentionsView.executeSelected(),P.keyCode==tr.esc&&t._hideUIAndRemoveMarker())},{priority:"highest"}),hl({emitter:this._mentionsView,activator:function(){return t._isUIVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideUIAndRemoveMarker()}});var o=i.config.get("mention.feeds"),s=y(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=u.feed,v=u.marker;if(!Gb(v))throw new pe.b("mentionconfig-incorrect-marker: The marker must be provided and it must be a single character.",null);var g=u.minimumCharacters||0,m=typeof d=="function"?d.bind(this.editor):Kb(d),_={watcher:this._setupTextWatcherForFeed(v,g),marker:v,feedCallback:m,itemRenderer:u.itemRenderer};this._mentionsConfigurations.set(v,_)}}catch(O){s.e(O)}finally{s.f()}this.on("requestFeed:response",function(O,P){return t._handleFeedResponse(P)}),this.on("requestFeed:error",function(){return t._hideUIAndRemoveMarker()})}},{key:"destroy",value:function(){M(I(e.prototype),"destroy",this).call(this),this._mentionsView.destroy()}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView===this._mentionsView}},{key:"_createMentionView",value:function(){var t=this,i=this.editor.locale,o=new Bb(i);return this._items=new jn,o.items.bindTo(this._items).using(function(s){var l=s.item,u=s.marker,d=new zb(i),v=t._renderItem(l,u);return v.delegate("execute").to(d),d.children.add(v),d.item=l,d.marker=u,d.on("execute",function(){o.fire("execute",{item:l,marker:u})}),d}),o.on("execute",function(s,l){var u=t.editor,d=u.model,v=l.item,g=l.marker,m=u.model.markers.get("mention"),_=d.createPositionAt(d.document.selection.focus),O=d.createPositionAt(m.getStart()),P=d.createRange(O,_);t._hideUIAndRemoveMarker(),u.execute("mention",{mention:v,text:v.text,marker:g,range:P}),u.editing.view.focus()}),o}},{key:"_getItemRenderer",value:function(t){var i=this._mentionsConfigurations.get(t),o=i.itemRenderer;return o}},{key:"_requestFeed",value:function(t,i){var o=this;this._lastRequested=i;var s=this._mentionsConfigurations.get(t),l=s.feedCallback,u=l(i);u instanceof Promise?u.then(function(d){o._lastRequested==i?o.fire("requestFeed:response",{feed:d,marker:t,feedText:i}):o.fire("requestFeed:discarded",{feed:d,marker:t,feedText:i})}).catch(function(d){o.fire("requestFeed:error",{error:d}),console.warn(Object(pe.a)("mention-feed-callback-error: Could not obtain mention autocomplete feed."))}):this.fire("requestFeed:response",{feed:u,marker:t,feedText:i})}},{key:"_setupTextWatcherForFeed",value:function(t,i){var o=this,s=this.editor,l=new zm(s.model,function(d,v){var g=fb(d,v);return function(m){return g.test(m)}}(t,i));l.on("matched",function(d,v){var g=s.model.document.selection.focus;if(function(G){var Q=G.textNode&&G.textNode.hasAttribute("mention"),q=G.nodeBefore;return Q||q&&q.is("text")&&q.hasAttribute("mention")}(g))return void o._hideUIAndRemoveMarker();var m=function(G,Q){var q=fb(G,0);return Q.match(q)[2]}(t,v.text),_=t.length+m.length,O=g.getShiftedBy(-_),P=g.getShiftedBy(-m.length),A=s.model.createRange(O,P);if(Um(s)){var F=s.model.markers.get("mention");s.model.change(function(G){G.updateMarker(F,{range:A})})}else s.model.change(function(G){G.addMarker("mention",{range:A,usingOperation:!1,affectsData:!1})});o._requestFeedDebounced(t,m)}),l.on("unmatched",function(){o._hideUIAndRemoveMarker()});var u=s.commands.get("mention");return l.bind("isEnabled").to(u),l}},{key:"_handleFeedResponse",value:function(t){var i=t.feed,o=t.marker;if(!!Um(this.editor)){this._items.clear();var s=y(i),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,d=typeof u!="object"?{id:u,text:u}:u;this._items.add({item:d,marker:o})}}catch(g){s.e(g)}finally{s.f()}var v=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(v):this._hideUIAndRemoveMarker()}}},{key:"_showOrUpdateUI",value:function(t){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(t,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(t,this._mentionsView.position),withArrow:!1,singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}},{key:"_hideUIAndRemoveMarker",value:function(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),Um(this.editor)&&this.editor.model.change(function(t){return t.removeMarker("mention")}),this._mentionsView.position=void 0}},{key:"_renderItem",value:function(t,i){var o=this.editor,s,l=t.id,u=this._getItemRenderer(i);if(u){var d=u(t);typeof d!="string"?s=new Vb(o.locale,d):l=d}if(!s){var v=new cn(o.locale);v.label=l,v.withText=!0,s=v}return s}},{key:"_getBalloonPanelPositionData",value:function(t,i){var o=this,s=this.editor,l=s.editing,u=l.view.domConverter,d=l.mapper;return{target:function(){var g=t.getRange();g.start.root.rootName=="$graveyard"&&(g=s.model.document.selection.getFirstRange());var m=d.toViewRange(g);return mn.getDomRangeRects(u.viewRangeToDom(m)).pop()},limiter:function(){var g=o.editor.editing.view,m=g.document.selection.editableElement;return m?g.domConverter.mapViewToDom(m.root):null},positions:Hb(i)}}}],[{key:"pluginName",get:function(){return"MentionUI"}},{key:"requires",get:function(){return[Pa]}}]),e}(ct);function Hb(a){var n={caret_se:function(r){return{top:r.bottom+3,left:r.right,name:"caret_se"}},caret_ne:function(r,t){return{top:r.top-t.height-3,left:r.right,name:"caret_ne"}},caret_sw:function(r,t){return{top:r.bottom+3,left:r.right-t.width,name:"caret_sw"}},caret_nw:function(r,t){return{top:r.top-t.height-3,left:r.right-t.width,name:"caret_nw"}}};return n.hasOwnProperty(a)?[n[a]]:[n.caret_se,n.caret_sw,n.caret_ne,n.caret_nw]}function fb(a,n){var e=n==0?"*":"{".concat(n,",}"),r=Ii.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`;return new RegExp("(?:^|[ ".concat(r,"])([").concat(a,"])([\\S]").concat(e,")$"),"u")}function Kb(a){return function(n){return a.filter(function(e){return(typeof e=="string"?e:String(e.id)).toLowerCase().includes(n.toLowerCase())}).slice(0,10)}}function Gb(a){return a&&a.length==1}function Um(a){return a.model.markers.has("mention")}B(98);var $b=function(){function a(n){E(this,a),this.loader=n}return C(a,[{key:"upload",value:function(){var e=this;return new Promise(function(r,t){var i=e.reader=new window.FileReader;i.addEventListener("load",function(){r({default:i.result})}),i.addEventListener("error",function(o){t(o)}),i.addEventListener("abort",function(){t()}),e.loader.file.then(function(o){i.readAsDataURL(o)})})}},{key:"abort",value:function(){this.reader.abort()}}]),a}(),Wm=function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return e}(Fi);Wm.builtinPlugins=[function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Io,rg,og,_f,dg,Bf]}},{key:"pluginName",get:function(){return"Essentials"}}]),e}(ct),zf,function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}},{key:"_addListAutoformats",value:function(){var t=this.editor.commands;t.get("bulletedList")&&new gs(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new gs(this.editor,/^1[.|)]\s$/,"numberedList")}},{key:"_addBasicStylesAutoformats",value:function(){var t=this.editor.commands;if(t.get("bold")){var i=bl(this.editor,"bold");new jo(this.editor,/(\*\*)([^*]+)(\*\*)$/g,i),new jo(this.editor,/(__)([^_]+)(__)$/g,i)}if(t.get("italic")){var o=bl(this.editor,"italic");new jo(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,o),new jo(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,o)}if(t.get("code")){var s=bl(this.editor,"code");new jo(this.editor,/(`)([^`]+)(`)$/g,s)}if(t.get("strikethrough")){var l=bl(this.editor,"strikethrough");new jo(this.editor,/(~~)([^~]+)(~~)$/g,l)}}},{key:"_addHeadingAutoformats",value:function(){var t=this,i=this.editor.commands.get("heading");i&&i.modelElements.filter(function(o){return o.match(/^heading[1-6]$/)}).forEach(function(o){var s=o[7],l=new RegExp("^(#{".concat(s,"})\\s$"));new gs(t.editor,l,function(){if(!i.isEnabled)return!1;t.editor.execute("heading",{value:o})})})}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&new gs(this.editor,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&new gs(this.editor,/^```$/,"codeBlock")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[kg,_g]}},{key:"pluginName",get:function(){return"Bold"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Kf,xg]}},{key:"pluginName",get:function(){return"Italic"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Pg,Eg]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[hh,Cg,zf]}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[mh,Ca,_h]}},{key:"pluginName",get:function(){return"EasyImage"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[am,Ym]}},{key:"pluginName",get:function(){return"Heading"}}]),e}(ct),Ca,function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[oc]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[cm,uc]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"afterInit",value:function(){var t=this.editor,i=t.t;t.plugins.get(cc).register("image",{ariaLabel:i("Image toolbar"),items:t.config.get("image.toolbar")||[],getRelatedElement:Vu})}}],[{key:"requires",get:function(){return[cc]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),e}(ct),_h,function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[dm,hm]}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[dh,pm]}},{key:"pluginName",get:function(){return"Link"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Kh,xm]}},{key:"pluginName",get:function(){return"List"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[Lo,Sm,Cm,ec]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),e}(ct),bs,function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view.document,o=[];o.push(new Rm(i)),o.push(new qm(i)),t.plugins.get("Clipboard").on("inputTransformation",function(s,l){if(!l.isTransformedWithPasteFromOffice){var u=l.dataTransfer.getData("text/html"),d=o.find(function(v){return v.isActive(u)});d&&(d.execute(l),l.isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[Io]}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,null,[{key:"requires",get:function(){return[yb,xb,lv,Eb,Cb,ec]}},{key:"pluginName",get:function(){return"Table"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"afterInit",value:function(){var t=this.editor,i=t.t,o=t.plugins.get(cc),s=t.config.get("table.contentToolbar"),l=t.config.get("table.tableToolbar");s&&o.register("tableContent",{ariaLabel:i("Table toolbar"),items:s,getRelatedElement:Nm}),l&&o.register("table",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:Dm})}}],[{key:"requires",get:function(){return[cc]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(r){var t;return E(this,e),t=n.call(this,r),r.config.define("typing",{transformations:{include:Mb}}),t}return C(e,[{key:"init",value:function(){var t=this,i=this.editor.model.document.selection;i.on("change:range",function(){t.isEnabled=!i.anchor.parent.is("codeBlock")}),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var t=this.editor,i=t.model,o=t.plugins.get("Input"),s=function(u){var d=u.extra||[],v=u.remove||[],g=function(_){return!v.includes(_)};return function(m){var _=new Set,O=y(m),P;try{for(O.s();!(P=O.n()).done;){var A=P.value;if(lb[A]){var F=y(lb[A]),G;try{for(F.s();!(G=F.n()).done;){var Q=G.value;_.add(Q)}}catch(q){F.e(q)}finally{F.f()}}else _.add(A)}}catch(q){O.e(q)}finally{O.f()}return Array.from(_)}(u.include.concat(d).filter(g)).filter(g).map(function(m){return Tb[m]||m}).map(function(m){return{from:Ib(m.from),to:Rb(m.to)}})}(t.config.get("typing.transformations")),l=new zm(t.model,function(u){var d=y(s),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;if(g.from.test(u))return{normalizedTransformation:g}}}catch(m){d.e(m)}finally{d.f()}});l.on("matched:data",function(u,d){if(!!o.isInput(d.batch)){var v=d.normalizedTransformation,g=v.from,m=v.to,_=g.exec(d.text),O=m(_.slice(1)),P=d.range,A=_.index;i.enqueueChange(function(F){for(var G=1;G<_.length;G++){var Q=_[G],q=O[G-1];if(q==null){A+=Q.length;continue}var be=P.start.getShiftedBy(A),Se=i.createRange(be,be.getShiftedBy(Q.length)),Ie=jb(be);i.insertContent(F.createText(q,Ie),Se),A+=q.length}})}}),l.bind("isEnabled").to(this)}}],[{key:"pluginName",get:function(){return"TextTransformation"}}]),e}(ct),function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"toMentionAttribute",value:function(t,i){return cb(t,i)}}],[{key:"pluginName",get:function(){return"Mention"}},{key:"requires",get:function(){return[Nb,Wb]}}]),e}(ct),function(a){a.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention",attributes:{href:!0,"data-user-id":!0}},model:{key:"mention",value:function(e){return a.plugins.get("Mention").toMentionAttribute(e,{link:e.getAttribute("href"),userId:e.getAttribute("data-user-id")})}},converterPriority:"high"}),a.conversion.for("downcast").attributeToElement({model:"mention",view:function(e,r){if(e)return r.createAttributeElement("span",{class:"mention","data-mention":e.name,"data-user-id":e.userId,href:e.link},{priority:20,id:e.uid})},converterPriority:"high"})},function(a){S(e,a);var n=D(e);function e(){return E(this,e),n.apply(this,arguments)}return C(e,[{key:"init",value:function(){this.editor.plugins.get(ei).createUploadAdapter=function(t){return new $b(t)}}}],[{key:"requires",get:function(){return[ei]}},{key:"pluginName",get:function(){return"Base64UploadAdapter"}}]),e}(ct)],Wm.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default})},"w/wX":function(oe,ae,k){var Y=k("QqLw"),M=k("ExA7"),I="[object Set]";function b(ne){return M(ne)&&Y(ne)==I}oe.exports=b},wUu8:function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=M.a.createContext({});ae.a=I},wrZu:function(oe,ae,k){var Y=k("+K+b"),M=k("XYm9"),I=k("b2z7"),b=k("otv/"),ne=k("yP5f"),H="[object Boolean]",U="[object Date]",K="[object Map]",y="[object Number]",N="[object RegExp]",E="[object Set]",C="[object String]",S="[object Symbol]",D="[object ArrayBuffer]",ge="[object DataView]",j="[object Float32Array]",re="[object Float64Array]",B="[object Int8Array]",$="[object Int16Array]",x="[object Int32Array]",se="[object Uint8Array]",Te="[object Uint8ClampedArray]",Fe="[object Uint16Array]",je="[object Uint32Array]";function gt(wt,Ct,Ut){var St=wt.constructor;switch(Ct){case D:return Y(wt);case H:case U:return new St(+wt);case ge:return M(wt,Ut);case j:case re:case B:case $:case x:case se:case Te:case Fe:case je:return ne(wt,Ut);case K:return new St;case y:case C:return new St(wt);case N:return I(wt);case E:return new St;case S:return b(wt)}}oe.exports=gt},x49D:function(oe,ae){function k(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}oe.exports=k},xEw5:function(oe,ae,k){},xbqb:function(oe,ae){function k(Y,M){if(!(Y instanceof M))throw new TypeError("Cannot call a class as a function")}oe.exports=k},xutz:function(oe,ae,k){"use strict";(function(Y){var M=k("XqMk"),I=typeof exports=="object"&&exports&&!exports.nodeType&&exports,b=I&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,ne=b&&b.exports===I,H=ne&&M.a.process,U=function(){try{var K=b&&b.require&&b.require("util").types;return K||H&&H.binding&&H.binding("util")}catch(y){}}();ae.a=U}).call(this,k("Vg/k")(oe))},xzDV:function(oe,ae,k){},yHx3:function(oe,ae){var k=Object.prototype,Y=k.hasOwnProperty;function M(I){var b=I.length,ne=new I.constructor(b);return b&&typeof I[0]=="string"&&Y.call(I,"index")&&(ne.index=I.index,ne.input=I.input),ne}oe.exports=M},yP5f:function(oe,ae,k){var Y=k("+K+b");function M(I,b){var ne=b?Y(I.buffer):I.buffer;return new I.constructor(ne,I.byteOffset,I.length)}oe.exports=M},yeZT:function(oe,ae,k){"use strict";k.d(ae,"a",function(){return Oe}),k.d(ae,"c",function(){return xe}),k.d(ae,"d",function(){return Tt}),k.d(ae,"e",function(){return Dt});var Y=k("WmNS"),M=k.n(Y),I=k("T2oS"),b=k("W9HT"),ne=k("GNNt"),H=k("wEI+"),U=k("DYRE"),K=k("zeV3"),y=k("q1tI"),N=k.n(y),E=k("9mHw"),C=k("g5r2"),S=k("Lpa7"),D=k("LQCs"),ge=k("OaEy"),j=k("2fM7"),re=k("5NDa"),B=k("5rEg"),$=k("l+S1"),x=k("TSYQ"),se=k.n(x),Te=k("iGn7"),Fe=k("jkmW"),je=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"];function gt(){return gt=Object.assign||function(ue){for(var X=1;X<arguments.length;X++){var de=arguments[X];for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&(ue[ke]=de[ke])}return ue},gt.apply(this,arguments)}function wt(ue,X,de){return X in ue?Object.defineProperty(ue,X,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[X]=de,ue}function Ct(ue,X){return Wt(ue)||Gt(ue,X)||St(ue,X)||Ut()}function Ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(ue,X){if(!!ue){if(typeof ue=="string")return kt(ue,X);var de=Object.prototype.toString.call(ue).slice(8,-1);if(de==="Object"&&ue.constructor&&(de=ue.constructor.name),de==="Map"||de==="Set")return Array.from(ue);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return kt(ue,X)}}function kt(ue,X){(X==null||X>ue.length)&&(X=ue.length);for(var de=0,ke=new Array(X);de<X;de++)ke[de]=ue[de];return ke}function Gt(ue,X){var de=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var ke=[],We=!0,ze=!1,tt,Ot;try{for(de=de.call(ue);!(We=(tt=de.next()).done)&&(ke.push(tt.value),!(X&&ke.length===X));We=!0);}catch(rt){ze=!0,Ot=rt}finally{try{!We&&de.return!=null&&de.return()}finally{if(ze)throw Ot}}return ke}}function Wt(ue){if(Array.isArray(ue))return ue}function et(ue,X){if(ue==null)return{};var de=ft(ue,X),ke,We;if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(ue);for(We=0;We<ze.length;We++)ke=ze[We],!(X.indexOf(ke)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ue,ke)||(de[ke]=ue[ke]))}return de}function ft(ue,X){if(ue==null)return{};var de={},ke=Object.keys(ue),We,ze;for(ze=0;ze<ke.length;ze++)We=ke[ze],!(X.indexOf(We)>=0)&&(de[We]=ue[We]);return de}function Ye(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(de){return typeof de}:Ye=function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},Ye(ue)}var Be=function(X,de){return Ye(de)!=="object"?X[de]||de:X[de==null?void 0:de.value]||de.label},Ke=function(X,de){var ke=X.label,We=X.prefixCls,ze=X.onChange,tt=X.value,Ot=X.mode,rt=X.children,$t=X.defaultValue,lr=X.size,qt=X.showSearch,Vt=X.disabled,dn=X.style,yn=X.className,$r=X.bordered,fn=X.options,en=X.onSearch,Lr=X.allowClear,br=X.labelInValue,or=et(X,je),wn=X.placeholder,Yr=wn===void 0?ke:wn,tn=Object(y.useContext)(H.b.ConfigContext),Yt=tn.getPrefixCls,Jt=Yt("pro-field-select-light-select"),xn=Object(y.useState)(!1),At=Ct(xn,2),ur=At[0],Kt=At[1],er=Object(y.useState)(""),Or=Ct(er,2),En=Or[0],Cn=Or[1],Mn=Object(y.useMemo)(function(){var Br={};return fn==null||fn.forEach(function(Dr){var cr=Dr.label,ut=Dr.value;Br[ut]=cr||ut}),Br},[fn]),In=Array.isArray(tt)?tt.map(function(Br){return Be(Mn,Br)}):Be(Mn,tt);return N.a.createElement("div",{className:se()(Jt,wt({},"".concat(Jt,"-searchable"),qt),yn),style:dn,onClick:function(){Vt||Kt(!0)}},N.a.createElement(j.a,gt({},or,{allowClear:Lr,value:tt,mode:Ot,labelInValue:br,size:lr,disabled:Vt,onChange:function(Dr,cr){ze==null||ze(Dr,cr),Ot!=="multiple"&&setTimeout(function(){Kt(!1)},0)},bordered:$r,showSearch:qt,onSearch:en,style:dn,dropdownRender:function(Dr){return N.a.createElement("div",{ref:de},qt&&N.a.createElement("div",{style:{margin:"4px 8px"}},N.a.createElement(B.a,{value:En,allowClear:Lr,onChange:function(ut){Cn(ut.target.value.toLowerCase()),en==null||en(ut.target.value)},onKeyDown:function(ut){ut.stopPropagation()},style:{width:"100%"},prefix:N.a.createElement($.a,null)})),Dr)},open:ur,onDropdownVisibleChange:Kt,prefixCls:We,options:En?fn==null?void 0:fn.filter(function(Br){return String(Br.label).toLowerCase().includes(En)||Br.value.toLowerCase().includes(En)}):fn})),N.a.createElement(Te.a,{ellipsis:!0,size:lr,label:ke,placeholder:Yr,disabled:Vt,expanded:ur,bordered:$r,allowClear:Lr,value:In||(tt==null?void 0:tt.label)||tt,onClear:function(){ze==null||ze(void 0,void 0)}}))},He=N.a.forwardRef(Ke),Xe=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch"];function st(){return st=Object.assign||function(ue){for(var X=1;X<arguments.length;X++){var de=arguments[X];for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&(ue[ke]=de[ke])}return ue},st.apply(this,arguments)}function It(ue,X){var de=Object.keys(ue);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(ue);X&&(ke=ke.filter(function(We){return Object.getOwnPropertyDescriptor(ue,We).enumerable})),de.push.apply(de,ke)}return de}function Xt(ue){for(var X=1;X<arguments.length;X++){var de=arguments[X]!=null?arguments[X]:{};X%2?It(Object(de),!0).forEach(function(ke){pr(ue,ke,de[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(de)):It(Object(de)).forEach(function(ke){Object.defineProperty(ue,ke,Object.getOwnPropertyDescriptor(de,ke))})}return ue}function pr(ue,X,de){return X in ue?Object.defineProperty(ue,X,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[X]=de,ue}function Qr(ue,X){return Rt(ue)||Ar(ue,X)||nr(ue,X)||Rr()}function Rr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nr(ue,X){if(!!ue){if(typeof ue=="string")return jr(ue,X);var de=Object.prototype.toString.call(ue).slice(8,-1);if(de==="Object"&&ue.constructor&&(de=ue.constructor.name),de==="Map"||de==="Set")return Array.from(ue);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return jr(ue,X)}}function jr(ue,X){(X==null||X>ue.length)&&(X=ue.length);for(var de=0,ke=new Array(X);de<X;de++)ke[de]=ue[de];return ke}function Ar(ue,X){var de=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var ke=[],We=!0,ze=!1,tt,Ot;try{for(de=de.call(ue);!(We=(tt=de.next()).done)&&(ke.push(tt.value),!(X&&ke.length===X));We=!0);}catch(rt){ze=!0,Ot=rt}finally{try{!We&&de.return!=null&&de.return()}finally{if(ze)throw Ot}}return ke}}function Rt(ue){if(Array.isArray(ue))return ue}function L(ue,X){if(ue==null)return{};var de=J(ue,X),ke,We;if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(ue);for(We=0;We<ze.length;We++)ke=ze[We],!(X.indexOf(ke)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ue,ke)||(de[ke]=ue[ke]))}return de}function J(ue,X){if(ue==null)return{};var de={},ke=Object.keys(ue),We,ze;for(ze=0;ze<ke.length;ze++)We=ke[ze],!(X.indexOf(We)>=0)&&(de[We]=ue[We]);return de}var W=j.a.Option,ve=j.a.OptGroup,we=function(X,de){var ke=X.optionItemRender,We=X.mode,ze=X.onSearch,tt=X.onFocus,Ot=X.onChange,rt=X.autoClearSearchValue,$t=X.searchOnFocus,lr=$t===void 0?!1:$t,qt=X.resetAfterSelect,Vt=qt===void 0?!1:qt,dn=X.optionFilterProp,yn=dn===void 0?"label":dn,$r=X.optionLabelProp,fn=$r===void 0?"label":$r,en=X.className,Lr=X.disabled,br=X.options,or=X.fetchData,wn=X.resetData,Yr=X.prefixCls,tn=X.onClear,Yt=X.searchValue,Jt=X.showSearch,xn=L(X,Xe),At=Object(y.useState)(Yt),ur=Qr(At,2),Kt=ur[0],er=ur[1];Object(y.useEffect)(function(){er(Yt)},[Yt]);var Or=Object(y.useContext)(H.b.ConfigContext),En=Or.getPrefixCls,Cn=En("pro-filed-search-select",Yr),Mn=se()(Cn,en,pr({},"".concat(Cn,"-disabled"),Lr)),In=function(cr,ut){return Array.isArray(cr)&&cr.length>0?cr.map(function(Nt,Qt){var vr=ut==null?void 0:ut[Qt],dr=(vr==null?void 0:vr["data-item"])||{};return Xt(Xt({},dr),Nt)}):[]},Br=function Dr(cr){return cr.map(function(ut){var Nt=ut.label,Qt=ut.value,vr=ut.disabled,dr=ut.className,Gr=ut.optionType;return Gr==="optGroup"?N.a.createElement(ve,{key:ut.key||ut.value,label:ut.label},Dr((ut==null?void 0:ut.options)||(ut==null?void 0:ut.children)||[])):N.a.createElement(W,st({},ut,{value:Qt,key:Qt||(Nt==null?void 0:Nt.toString()),disabled:vr,"data-item":ut,className:"".concat(Cn,"-option ").concat(dr||""),label:ut.label}),(ke==null?void 0:ke(ut))||Nt)})};return N.a.createElement(j.a,st({ref:de,className:Mn,allowClear:!0,disabled:Lr,mode:We,showSearch:Jt,searchValue:Kt,optionFilterProp:yn,optionLabelProp:fn,onClear:function(){tn==null||tn(),or(""),Jt&&er("")}},xn,{onSearch:Jt?function(Dr){or(Dr),ze==null||ze(Dr),er(Dr)}:void 0,onChange:function(cr,ut){Jt&&rt&&(or(""),ze==null||ze(""),er(""));for(var Nt=arguments.length,Qt=new Array(Nt>2?Nt-2:0),vr=2;vr<Nt;vr++)Qt[vr-2]=arguments[vr];if(!X.labelInValue){Ot==null||Ot.apply(void 0,[cr,ut].concat(Qt));return}if(We!=="multiple"){var dr=ut&&ut["data-item"]||{};Ot==null||Ot.apply(void 0,[Xt(Xt({},cr),dr),ut].concat(Qt));return}var Gr=In(cr,ut);Ot==null||Ot.apply(void 0,[Gr,ut].concat(Qt)),Vt&&wn()},onFocus:function(cr){lr&&or(""),tt==null||tt(cr)}}),Br(br||[]))},Ae=N.a.forwardRef(we),Ve=k("NYcB"),vt=k("SmY/"),lt=["value","text"],me=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id"];function Re(){return Re=Object.assign||function(ue){for(var X=1;X<arguments.length;X++){var de=arguments[X];for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&(ue[ke]=de[ke])}return ue},Re.apply(this,arguments)}function Me(ue,X,de,ke,We,ze,tt){try{var Ot=ue[ze](tt),rt=Ot.value}catch($t){de($t);return}Ot.done?X(rt):Promise.resolve(rt).then(ke,We)}function $e(ue){return function(){var X=this,de=arguments;return new Promise(function(ke,We){var ze=ue.apply(X,de);function tt(rt){Me(ze,ke,We,tt,Ot,"next",rt)}function Ot(rt){Me(ze,ke,We,tt,Ot,"throw",rt)}tt(void 0)})}}function it(ue,X){var de=Object.keys(ue);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(ue);X&&(ke=ke.filter(function(We){return Object.getOwnPropertyDescriptor(ue,We).enumerable})),de.push.apply(de,ke)}return de}function Et(ue){for(var X=1;X<arguments.length;X++){var de=arguments[X]!=null?arguments[X]:{};X%2?it(Object(de),!0).forEach(function(ke){gr(ue,ke,de[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(de)):it(Object(de)).forEach(function(ke){Object.defineProperty(ue,ke,Object.getOwnPropertyDescriptor(de,ke))})}return ue}function gr(ue,X,de){return X in ue?Object.defineProperty(ue,X,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[X]=de,ue}function ar(ue,X){if(ue==null)return{};var de=mr(ue,X),ke,We;if(Object.getOwnPropertySymbols){var ze=Object.getOwnPropertySymbols(ue);for(We=0;We<ze.length;We++)ke=ze[We],!(X.indexOf(ke)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ue,ke)||(de[ke]=ue[ke]))}return de}function mr(ue,X){if(ue==null)return{};var de={},ke=Object.keys(ue),We,ze;for(ze=0;ze<ke.length;ze++)We=ke[ze],!(X.indexOf(We)>=0)&&(de[We]=ue[We]);return de}function Wr(ue,X){return Hr(ue)||Sr(ue,X)||qr(ue,X)||Ht()}function Ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(ue,X){var de=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var ke=[],We=!0,ze=!1,tt,Ot;try{for(de=de.call(ue);!(We=(tt=de.next()).done)&&(ke.push(tt.value),!(X&&ke.length===X));We=!0);}catch(rt){ze=!0,Ot=rt}finally{try{!We&&de.return!=null&&de.return()}finally{if(ze)throw Ot}}return ke}}function Hr(ue){if(Array.isArray(ue))return ue}function Xr(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xr=function(de){return typeof de}:Xr=function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},Xr(ue)}function Kr(ue){return Tr(ue)||Nn(ue)||qr(ue)||ln()}function ln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(ue,X){if(!!ue){if(typeof ue=="string")return Tn(ue,X);var de=Object.prototype.toString.call(ue).slice(8,-1);if(de==="Object"&&ue.constructor&&(de=ue.constructor.name),de==="Map"||de==="Set")return Array.from(ue);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return Tn(ue,X)}}function Nn(ue){if(typeof Symbol!="undefined"&&ue[Symbol.iterator]!=null||ue["@@iterator"]!=null)return Array.from(ue)}function Tr(ue){if(Array.isArray(ue))return Tn(ue)}function Tn(ue,X){(X==null||X>ue.length)&&(X=ue.length);for(var de=0,ke=new Array(X);de<X;de++)ke[de]=ue[de];return ke}var ye=0,Oe=function(X){return ht(X)==="map"?X:new Map(Object.entries(X||{}))},xe=function ue(X,de){if(Array.isArray(X))return N.a.createElement(K.b,null,X.map(function(rt){return N.a.createElement(N.a.Fragment,{key:(rt==null?void 0:rt.value)||rt},ue(rt,de))}));var ke=Oe(de);if(!ke.has(X)&&!ke.has("".concat(X)))return(X==null?void 0:X.label)||X;var We=ke.get(X)||ke.get("".concat(X));if(!We)return(X==null?void 0:X.label)||X;var ze=We.status,tt=We.color,Ot=Ve.b[ze||"Init"];return Ot?N.a.createElement(Ot,null,We.text):tt?N.a.createElement(Ve.a,{color:tt},We.text):We.text||We},Le=function(X){var de=X.label,ke=X.words,We=".^$*+-?()[]{}\\|",ze=Object(y.useContext)(H.b.ConfigContext),tt=ze.getPrefixCls,Ot=tt("pro-select-item-option-content-light"),rt=tt("pro-select-item-option-content"),$t=new RegExp(ke.map(function(Vt){return Vt.split("").map(function(dn){return We.includes(dn)?"\\".concat(dn):dn}).join("")}).join("|"),"gi"),lr=de.replace($t,"#@$&#"),qt=lr.split("#").map(function(Vt){return Vt[0]==="@"?N.a.createElement("span",{className:Ot},Vt.slice(1)):Vt});return N.a.createElement.apply(N.a,["div",{className:rt}].concat(Kr(qt)))};function ht(ue){var X=Object.prototype.toString.call(ue).match(/^\[object (.*)\]$/)[1].toLowerCase();return X==="string"&&Xr(ue)==="object"?"object":ue===null?"null":ue===void 0?"undefined":X}function mt(ue,X){var de,ke;if(!X||(ue==null||(de=ue.label)===null||de===void 0?void 0:de.toString().toLowerCase().includes(X.toLowerCase()))||(ue==null||(ke=ue.value)===null||ke===void 0?void 0:ke.toString().toLowerCase().includes(X.toLowerCase())))return!0;if(ue.optionType==="optGroup"&&(ue.children||ue.options)){var We=[].concat(Kr(ue.children||[]),[ue.options||[]]).find(function(ze){return mt(ze,X)});if(We)return!0}return!1}var Tt=function(X){var de=[],ke=Oe(X);return ke.forEach(function(We,ze){var tt=ke.get(ze)||ke.get("".concat(ze));if(!!tt){if(Xr(tt)==="object"&&(tt==null?void 0:tt.text)){de.push({text:tt==null?void 0:tt.text,value:ze,disabled:tt.disabled});return}de.push({text:tt,value:ze})}}),de},Dt=function(X){var de,ke,We=Object(y.useState)(void 0),ze=Wr(We,2),tt=ze[0],Ot=ze[1],rt=Object(y.useState)(function(){return X.proFieldKey?X.proFieldKey.toString():X.request?(ye+=1,ye.toString()):"no-fetch"}),$t=Wr(rt,1),lr=$t[0],qt=Object(y.useRef)(lr),Vt=Object(y.useCallback)(function(At){return Tt(Oe(At)).map(function(ur){var Kt=ur.value,er=ur.text,Or=ar(ur,lt);return Et({label:er,value:Kt,key:Kt},Or)})},[]),dn=Object(E.a)(function(){return X.valueEnum?Vt(X.valueEnum):[]},{value:(de=X.fieldProps)===null||de===void 0?void 0:de.options}),yn=Wr(dn,2),$r=yn[0],fn=yn[1];Object(C.a)(function(){var At;!X.valueEnum||((At=X.fieldProps)===null||At===void 0?void 0:At.options)||fn(Vt(X.valueEnum))},[X.valueEnum]);var en=Object(E.a)(!1),Lr=Wr(en,2),br=Lr[0],or=Lr[1],wn=function(){var At=$e(M.a.mark(function ur(){var Kt;return M.a.wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(X.request){Or.next=2;break}return Or.abrupt("return",[]);case 2:return or(!0),Or.next=5,X.request(Et(Et({},X.params),{},{keyWords:tt}),X);case 5:return Kt=Or.sent,or(!1),Or.abrupt("return",Kt);case 8:case"end":return Or.stop()}},ur)}));return function(){return At.apply(this,arguments)}}(),Yr=Object(y.useMemo)(function(){return X.request?!X.params&&!tt?qt.current:[qt.current,JSON.stringify(Et(Et({},X.params),{},{keyWords:tt}))]:"no-fetch"},[tt,X.params,X.request]),tn=Object(S.a)(Yr,wn,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),Yt=tn.data,Jt=tn.mutate,xn=Object(y.useMemo)(function(){var At,ur,Kt=$r==null?void 0:$r.map(function(er){if(typeof er=="string")return{label:er,value:er};if((er==null?void 0:er.optionType)==="optGroup"&&(er.children||er.options)){var Or=[].concat(Kr(er.children||[]),Kr(er.options||[])).filter(function(En){return mt(En,tt)});return Et(Et({},er),{},{children:Or,options:Or})}return er});return((At=X.fieldProps)===null||At===void 0?void 0:At.filterOption)===!0||((ur=X.fieldProps)===null||ur===void 0?void 0:ur.filterOption)===void 0?Kt==null?void 0:Kt.filter(function(er){return er?tt?mt(er,tt):!0:!1}):Kt},[$r,tt,(ke=X.fieldProps)===null||ke===void 0?void 0:ke.filterOption]);return[br,X.request?Yt:xn,function(At){Ot(At),Object(S.b)(Yr)},function(){Ot(void 0),Jt($e(M.a.mark(function At(){return M.a.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:return Kt.abrupt("return",[]);case 1:case"end":return Kt.stop()}},At)})),!1)}]},Mt=function(X,de){var ke=X.mode,We=X.valueEnum,ze=X.render,tt=X.renderFormItem,Ot=X.request,rt=X.fieldProps,$t=X.plain,lr=X.children,qt=X.light,Vt=X.proFieldKey,dn=X.params,yn=X.label,$r=X.bordered,fn=X.id,en=ar(X,me),Lr=Object(y.useRef)(),br=Object(D.d)(),or=Object(y.useRef)("");Object(y.useEffect)(function(){ye+=1},[]),Object(y.useEffect)(function(){or.current=rt==null?void 0:rt.searchValue},[rt==null?void 0:rt.searchValue]);var wn=Dt(X),Yr=Wr(wn,4),tn=Yr[0],Yt=Yr[1],Jt=Yr[2],xn=Yr[3],At=Object(y.useContext)(H.b.SizeContext);if(Object(y.useImperativeHandle)(de,function(){return Et(Et({},Lr.current||{}),{},{fetchData:function(){return Jt()}})}),ke==="read"){var ur,Kt=(Yt==null?void 0:Yt.length)?Yt==null?void 0:Yt.reduce(function(Mn,In){return Et(Et({},Mn),{},gr({},In.value,In.label))},{}):void 0;if((ur=en.text)===null||ur===void 0?void 0:ur.label){var er;return(er=en.text)===null||er===void 0?void 0:er.label}var Or=N.a.createElement(N.a.Fragment,null,xe(en.text,Oe(We||Kt)));return ze?ze(en.text,Et({mode:ke},rt),Or)||null:Or}if(ke==="edit"||ke==="update"){var En=function(){return qt?N.a.createElement(He,Re({bordered:$r,id:fn,loading:tn,ref:Lr,allowClear:!0,size:At,options:Yt,label:yn,placeholder:br.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},rt)):N.a.createElement(Ae,Re({key:"SearchSelect",style:{minWidth:100},bordered:$r,id:fn,loading:tn,ref:Lr,allowClear:!0,notFoundContent:tn?N.a.createElement(b.a,{size:"small"}):rt==null?void 0:rt.notFoundContent,fetchData:function(Br){or.current=Br,Jt(Br)},resetData:xn,optionItemRender:function(Br){return typeof Br.label=="string"&&or.current?N.a.createElement(Le,{label:Br.label,words:[or.current]}):Br.label},placeholder:br.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),label:yn},rt,{options:Yt}))},Cn=En();return tt?tt(en.text,Et(Et({mode:ke},rt),{},{options:Yt}),Cn)||null:Cn}return null},Bt=ae.b=N.a.forwardRef(Mt)},"yj/a":function(oe,ae,k){"use strict";var Y=k("q1tI"),M=k.n(Y),I=k("adzw"),b=k("uX+g"),ne=k("lS/g"),H=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],U=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function K(){return K=Object.assign||function($){for(var x=1;x<arguments.length;x++){var se=arguments[x];for(var Te in se)Object.prototype.hasOwnProperty.call(se,Te)&&($[Te]=se[Te])}return $},K.apply(this,arguments)}function y($,x){var se=Object.keys($);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols($);x&&(Te=Te.filter(function(Fe){return Object.getOwnPropertyDescriptor($,Fe).enumerable})),se.push.apply(se,Te)}return se}function N($){for(var x=1;x<arguments.length;x++){var se=arguments[x]!=null?arguments[x]:{};x%2?y(Object(se),!0).forEach(function(Te){E($,Te,se[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(se)):y(Object(se)).forEach(function(Te){Object.defineProperty($,Te,Object.getOwnPropertyDescriptor(se,Te))})}return $}function E($,x,se){return x in $?Object.defineProperty($,x,{value:se,enumerable:!0,configurable:!0,writable:!0}):$[x]=se,$}function C($,x){if($==null)return{};var se=S($,x),Te,Fe;if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols($);for(Fe=0;Fe<je.length;Fe++)Te=je[Fe],!(x.indexOf(Te)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,Te)||(se[Te]=$[Te]))}return se}function S($,x){if($==null)return{};var se={},Te=Object.keys($),Fe,je;for(je=0;je<Te.length;je++)Fe=Te[je],!(x.indexOf(Fe)>=0)&&(se[Fe]=$[Fe]);return se}var D=M.a.forwardRef(function($,x){var se=$.fieldProps,Te=$.children,Fe=$.params,je=$.proFieldProps,gt=$.mode,wt=$.valueEnum,Ct=$.request,Ut=$.showSearch,St=$.options,kt=C($,H),Gt=Object(Y.useContext)(ne.a);return M.a.createElement(I.a,K({mode:"edit",valueEnum:Object(b.a)(wt),request:Ct,params:Fe,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:N({options:St,mode:gt,showSearch:Ut,getPopupContainer:Gt.getPopupContainer},se),ref:x,proFieldProps:je},kt),Te)}),ge=M.a.forwardRef(function($,x){var se=$.fieldProps,Te=$.children,Fe=$.params,je=$.proFieldProps,gt=$.mode,wt=$.valueEnum,Ct=$.request,Ut=$.options,St=C($,U),kt=N({options:Ut,mode:gt||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},se),Gt=Object(Y.useContext)(ne.a);return M.a.createElement(I.a,K({mode:"edit",valueEnum:Object(b.a)(wt),request:Ct,params:Fe,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:N({getPopupContainer:Gt.getPopupContainer},kt),ref:x,proFieldProps:je},St),Te)}),j=D,re=ge,B=j;B.SearchSelect=re,B.displayName="ProFormComponent",ae.a=B},"z01/":function(oe,ae){function k(Y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oe.exports=k=function(I){return typeof I}:oe.exports=k=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},k(Y)}oe.exports=k},zEVN:function(oe,ae,k){var Y=k("Gi0A"),M=k("sEf8"),I=k("mdPL"),b=I&&I.isMap,ne=b?M(b):Y;oe.exports=ne},zZ0H:function(oe,ae){function k(Y){return Y}oe.exports=k}}]);
