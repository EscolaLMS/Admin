(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"63za":function(S,u,e){"use strict";e.r(u),e.d(u,"TableColumns",function(){return U});var o=e("P2fV"),f=e("NJEC"),b=e("5Dmo"),O=e("3S7+"),h=e("x+uP"),P=e("HaE+"),F=e("+L6B"),d=e("2/Rp"),M=e("ODXe"),y=e("q1tI"),r=e("9kvl"),E=e("55Ip"),c=e("Qiat"),v=e("tMyG"),a=e("xvlK"),n=e("G3dp"),m=e("/MfK"),i=e("G/Ub"),s=e("y8nQ"),T=e("Vl3Y"),L=e("rmhi"),V=e("VMEa"),W=e("Qurx"),t=e("nKUr"),G=function(p){var B=Object(r.i)(),D=p.visible,K=p.onVisibleChange,x=p.onFinish,I=p.id,g=T.a.useForm(),j=Object(M.a)(g,1),C=j[0];return Object(t.jsx)(L.a,{form:C,title:B.formatMessage({id:I?"editSetting":"newSetting",defaultMessage:I?"editSetting":"newSetting"}),width:"30vw",visible:D,onVisibleChange:K,onFinish:x,children:Object(t.jsxs)(V.a.Group,{children:[Object(t.jsx)(W.a,{label:Object(t.jsx)(r.a,{id:"name",defaultMessage:"name"}),rules:[{required:!0}],width:"md",name:"name"})," "]})})},$=G,U=[{width:"10%",title:Object(t.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{width:"80%",title:Object(t.jsx)(r.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0}],Q=function(){var p=Object(y.useRef)(),B=Object(y.useState)(!1),D=Object(M.a)(B,2),K=D[0],x=D[1],I=Object(r.i)();return Object(t.jsxs)(v.a,{children:[Object(t.jsx)(c.a,{headerTitle:I.formatMessage({id:"roles",defaultMessage:"roles"}),actionRef:p,rowKey:"id",search:!1,toolBarRender:function(){return[Object(t.jsxs)(d.a,{type:"primary",onClick:function(){return x(!0)},children:[Object(t.jsx)(a.a,{})," ",Object(t.jsx)(r.a,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(){return Object(i.d)().then(function(j){return j.success?{data:j.data,success:!0}:[]})},columns:[].concat(U,[{hideInSearch:!0,title:Object(t.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(j,C){return[Object(t.jsx)(E.a,{to:"/roles/".concat(C.name),children:Object(t.jsx)(d.a,{type:"primary",icon:Object(t.jsx)(n.a,{})})},"new"),Object(t.jsx)(f.a,{title:Object(t.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(P.a)(Object(h.a)().mark(function A(){var R;return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(i.b)(C.name);case 2:R=l.sent,R&&(x(!1),p.current&&p.current.reload());case 4:case"end":return l.stop()}},A)})),okText:Object(t.jsx)(r.a,{id:"yes"}),cancelText:Object(t.jsx)(r.a,{id:"no"}),children:Object(t.jsx)(O.a,{title:Object(t.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(d.a,{type:"primary",icon:Object(t.jsx)(m.a,{}),danger:!0})})},"delete")]}}])}),Object(t.jsx)($,{visible:K,onVisibleChange:function(j){return j===!1&&x(!1)},onFinish:function(){var g=Object(P.a)(Object(h.a)().mark(function j(C){var A,R;return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(i.a)(C);case 2:return A=l.sent,l.next=5,A;case 5:R=l.sent,R.success&&(x(!1),p.current&&(p.current.reload(),r.d.push("/roles/".concat(R.data.name))));case 7:case"end":return l.stop()}},j)}));return function(j){return g.apply(this,arguments)}}()})]})},H=u.default=Q},"G/Ub":function(S,u,e){"use strict";e.d(u,"d",function(){return h}),e.d(u,"a",function(){return F}),e.d(u,"b",function(){return M}),e.d(u,"c",function(){return r}),e.d(u,"e",function(){return c});var o=e("x+uP"),f=e("VTBJ"),b=e("HaE+"),O=e("9kvl");function h(a){return P.apply(this,arguments)}function P(){return P=Object(b.a)(Object(o.a)().mark(function a(n){return Object(o.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/roles",Object(f.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return i.stop()}},a)})),P.apply(this,arguments)}function F(a,n){return d.apply(this,arguments)}function d(){return d=Object(b.a)(Object(o.a)().mark(function a(n,m){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.f)("/api/admin/roles",Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:n},m||{})));case 1:case"end":return s.stop()}},a)})),d.apply(this,arguments)}function M(a,n){return y.apply(this,arguments)}function y(){return y=Object(b.a)(Object(o.a)().mark(function a(n,m){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.f)("/api/admin/roles/".concat(n),Object(f.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},m||{})));case 1:case"end":return s.stop()}},a)})),y.apply(this,arguments)}function r(a,n){return E.apply(this,arguments)}function E(){return E=Object(b.a)(Object(o.a)().mark(function a(n,m){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.f)("/api/admin/roles/".concat(n),Object(f.a)({method:"GET",useCache:!1},m||{})));case 1:case"end":return s.stop()}},a)})),E.apply(this,arguments)}function c(a,n,m){return v.apply(this,arguments)}function v(){return v=Object(b.a)(Object(o.a)().mark(function a(n,m,i){return Object(o.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(O.f)("/api/admin/roles/".concat(n),Object(f.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:m},i||{})));case 1:case"end":return T.stop()}},a)})),v.apply(this,arguments)}},Qurx:function(S,u,e){"use strict";var o=e("wx14"),f=e("Ff2n"),b=e("q1tI"),O=e.n(b),h=e("adzw"),P=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],d="text",M=function(c){var v=c.fieldProps,a=c.proFieldProps,n=Object(f.a)(c,P);return O.a.createElement(h.a,Object(o.a)({mode:"edit",valueType:d,fieldProps:v,filedConfig:{valueType:d},proFieldProps:a},n))},y=function(c){var v=c.fieldProps,a=c.proFieldProps,n=Object(f.a)(c,F);return O.a.createElement(h.a,Object(o.a)({mode:"edit",valueType:"password",fieldProps:v,proFieldProps:a,filedConfig:{valueType:d}},n))},r=M;r.Password=y,r.displayName="ProFormComponent",u.a=r}}]);
