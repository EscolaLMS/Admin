(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"9A0E":function(L,v,e){"use strict";e.r(v),e.d(v,"channelType",function(){return m});var f=e("q1tI"),p=e("Ty5D"),a=e("9kvl"),b=e("tMyG"),g=e("nhC9"),I=e("P2fV"),u=e("NJEC"),ee=e("5Dmo"),A=e("3S7+"),pe=e("+L6B"),P=e("2/Rp"),ae=e("miYZ"),B=e("tsqr"),te=e("9og8"),K=e("tJVT"),ne=e("WmNS"),R=e.n(ne),re=e("xvlK"),E=e("G3dp"),le=e("/MfK"),U=e("55Ip"),D=e("sWYD"),Z=e("Qiat"),r=e("rWUb"),c=e("mGZj"),t=e("nKUr"),j=function(Y){var F=Y.templateType,Q=Y.channel,H=Object(f.useRef)(),Oe=Object(a.i)(),ye=Object(f.useState)(!1),me=Object(K.a)(ye,2),De=me[0],$=me[1],Ce=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"created_at",defaultMessage:"created_at"}),dataIndex:"created_at",hideInSearch:!0,render:function(N,T){return T.created_at&&Object(D.a)(new Date(T.created_at),c.a)}},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"event",defaultMessage:"event"}),dataIndex:"event",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"templates.is_default"}),dataIndex:"default",hideInSearch:!0,render:function(N,T){return T.default&&Object(t.jsx)(a.a,{id:"yes"})}}],Ee=Object(f.useCallback)(function(){var x=Object(te.a)(R.a.mark(function N(T){var n,o;return R.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return $(!0),n=B.default.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),l.prev=2,l.next=5,Object(r.b)(T).then(function(y){$(!1),y.success&&B.default.success(y.message)});case 5:return n(),$(!1),(o=H.current)===null||o===void 0||o.reload(),l.abrupt("return",!0);case 11:return l.prev=11,l.t0=l.catch(2),n(),B.default.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),$(!1),l.abrupt("return",!1);case 17:case"end":return l.stop()}},N,null,[[2,11]])}));return function(N){return x.apply(this,arguments)}}(),[H]);return Object(t.jsx)(Z.a,{headerTitle:Oe.formatMessage({id:"templates",defaultMessage:"templates"}),loading:De,actionRef:H,rowKey:"id",search:!1,toolBarRender:function(){return[Object(t.jsx)(U.a,{to:"/templates/".concat(F,"/new"),children:Object(t.jsxs)(P.a,{type:"primary",children:[Object(t.jsx)(re.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(N){var T=N.pageSize,n=N.current;return $(!0),Object(r.e)({pageSize:T,current:n,channel:Q}).then(function(o){return o.success?($(!1),{data:o.data,total:o.meta.total,success:!0}):[]})},columns:[].concat(Ce,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(N,T){return[Object(t.jsx)(U.a,{to:"/templates/".concat(F,"/").concat(T.id),children:Object(t.jsx)(A.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(P.a,{type:"primary",icon:Object(t.jsx)(E.a,{})})})},"edit"),Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return Ee(T.id)},okText:Object(t.jsx)(a.a,{id:"yes"}),cancelText:Object(t.jsx)(a.a,{id:"no"}),children:Object(t.jsx)(A.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(P.a,{type:"primary",icon:Object(t.jsx)(le.a,{}),danger:!0})})},"delete")]}}])})},s=j,m;(function(W){W.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",W.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",W.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(m||(m={}));var ge=function(){var Y=Object(p.l)(),F=Y.template;return Object(t.jsx)(b.a,{children:Object(t.jsxs)(g.a,{tabs:{type:"card",activeKey:F,onChange:function(H){return a.d.push("/templates/".concat(H))}},children:[Object(t.jsx)(g.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"email"}),children:Object(t.jsx)(s,{templateType:"email",channel:m.email})},"email"),Object(t.jsx)(g.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"PDF"}),children:Object(t.jsx)(s,{templateType:"pdf",channel:m.pdf})},"pdf"),Object(t.jsx)(g.a.TabPane,{disabled:!0,tab:Object(t.jsx)("span",{children:Object(t.jsx)(a.a,{id:"Push"})}),children:"Push"},"Push"),Object(t.jsx)(g.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(a.a,{id:"SMS"})}),children:Object(t.jsx)(s,{templateType:"sms",channel:m.sms})},"sms")]})})},He=v.default=ge},S76h:function(L,v,e){},TLLU:function(L,v,e){"use strict";var f=e("5OYt");function p(){return Object(f.a)()}v.a={useBreakpoint:p}},VzZb:function(L,v,e){},"aK+R":function(L,v,e){},df8c:function(L,v,e){},nhC9:function(L,v,e){"use strict";var f=e("wx14"),p=e("q1tI"),a=e.n(p),b=e("Znn+"),g=e("ZTPi"),I=e("VTBJ"),u=e("rePB"),ee=e("U8pU"),A=e("ODXe"),pe=e("GNNt"),P=e("wEI+"),ae=e("Ff2n"),B=e("1GLa"),te=e("TLLU"),K=e("UESt"),ne=e("6cGi"),R=e("YSkC"),re=e("TSYQ"),E=e.n(re),le=e("BGR+"),U=e("14J3"),D=e("BMrR"),Z=e("jCWc"),r=e("kPKH"),c=e("aK+R"),t=function(o){var i=o.style,l=o.prefix;return a.a.createElement("div",{className:"".concat(l,"-loading-content"),style:i},a.a.createElement(D.a,{gutter:8},a.a.createElement(r.a,{span:22},a.a.createElement("div",{className:"".concat(l,"-loading-block")}))),a.a.createElement(D.a,{gutter:8},a.a.createElement(r.a,{span:8},a.a.createElement("div",{className:"".concat(l,"-loading-block")})),a.a.createElement(r.a,{span:15},a.a.createElement("div",{className:"".concat(l,"-loading-block")}))),a.a.createElement(D.a,{gutter:8},a.a.createElement(r.a,{span:6},a.a.createElement("div",{className:"".concat(l,"-loading-block")})),a.a.createElement(r.a,{span:18},a.a.createElement("div",{className:"".concat(l,"-loading-block")}))),a.a.createElement(D.a,{gutter:8},a.a.createElement(r.a,{span:13},a.a.createElement("div",{className:"".concat(l,"-loading-block")})),a.a.createElement(r.a,{span:9},a.a.createElement("div",{className:"".concat(l,"-loading-block")}))),a.a.createElement(D.a,{gutter:8},a.a.createElement(r.a,{span:4},a.a.createElement("div",{className:"".concat(l,"-loading-block")})),a.a.createElement(r.a,{span:3},a.a.createElement("div",{className:"".concat(l,"-loading-block")})),a.a.createElement(r.a,{span:16},a.a.createElement("div",{className:"".concat(l,"-loading-block")}))))},j=t,s=e("S76h"),m=function(o){var i=o.actions,l=o.prefixCls;return Array.isArray(i)&&(i==null?void 0:i.length)?a.a.createElement("ul",{className:"".concat(l,"-actions")},i.map(function(y,J){return a.a.createElement("li",{style:{width:"".concat(100/i.length,"%")},key:"action-".concat(J)},a.a.createElement("span",null,y))})):i?a.a.createElement("ul",{className:"".concat(l,"-actions")},i):null},ge=m,He=e("df8c"),W=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],Y=te.a.useBreakpoint,F=a.a.forwardRef(function(n,o){var i,l,y,J=n.className,X=n.style,w=n.bodyStyle,G=w===void 0?{}:w,k=n.headStyle,xe=k===void 0?{}:k,ve=n.title,Te=n.subTitle,ce=n.extra,Pe=n.tip,fe=n.wrap,Xe=fe===void 0?!1:fe,we=n.layout,se=n.loading,Le=n.gutter,ke=Le===void 0?0:Le,qe=n.tooltip,oe=n.split,Be=n.headerBordered,_e=Be===void 0?!1:Be,Re=n.bordered,ea=Re===void 0?!1:Re,$e=n.children,Ge=n.size,aa=n.actions,ze=n.ghost,ta=ze===void 0?!1:ze,Ke=n.hoverable,na=Ke===void 0?!1:Ke,ra=n.direction,Ue=n.collapsed,We=n.collapsible,la=We===void 0?!1:We,Je=n.collapsibleIconRender,Ve=n.defaultCollapsed,ca=Ve===void 0?!1:Ve,sa=n.onCollapse,oa=n.checked,Se=n.onChecked,Ne=n.tabs,Me=n.type,ie=Object(ae.a)(n,W),ia=Object(p.useContext)(P.default.ConfigContext),da=ia.getPrefixCls,Ze=Y(),ua=Object(ne.a)(ca,{value:Ue,onChange:sa}),Ye=Object(A.a)(ua,2),be=Ye[0],ma=Ye[1],je=["xxl","xl","lg","md","sm","xs"],va=function(O){var h=[0,0],S=Array.isArray(O)?O:[O,0];return S.forEach(function(M,V){if(Object(ee.a)(M)==="object")for(var z=0;z<je.length;z+=1){var ue=je[z];if(Ze[ue]&&M[ue]!==void 0){h[V]=M[ue];break}}else h[V]=M||0}),h},de=function(O,h){return O?h:{}},fa=function(O){var h=O;if(Object(ee.a)(O)==="object")for(var S=0;S<je.length;S+=1){var M=je[S];if(Ze[M]&&O[M]!==void 0){h=O[M];break}}var V=de(typeof h=="string"&&/\d%|\dpx/i.test(h),{width:h,flexShrink:0});return{span:h,colSpanStyle:V}},d=da("pro-card"),ba=va(ke),Fe=Object(A.a)(ba,2),q=Fe[0],_=Fe[1],Ie=!1,Ae=a.a.Children.toArray($e),ja=Ae.map(function(C,O){var h;if(C==null||(h=C.type)===null||h===void 0?void 0:h.isProCard){var S;Ie=!0;var M=C.props.colSpan,V=fa(M),z=V.span,ue=V.colSpanStyle,Oa=E()(["".concat(d,"-col")],(S={},Object(u.a)(S,"".concat(d,"-split-vertical"),oe==="vertical"&&O!==Ae.length-1),Object(u.a)(S,"".concat(d,"-split-horizontal"),oe==="horizontal"&&O!==Ae.length-1),Object(u.a)(S,"".concat(d,"-col-").concat(z),typeof z=="number"&&z>=0&&z<=24),S));return a.a.createElement("div",{style:Object(I.a)(Object(I.a)(Object(I.a)({},ue),de(q>0,{paddingRight:q/2,paddingLeft:q/2})),de(_>0,{paddingTop:_/2,paddingBottom:_/2})),key:"pro-card-col-".concat((C==null?void 0:C.key)||O),className:Oa},a.a.cloneElement(C))}return C}),ha=E()("".concat(d),J,(i={},Object(u.a)(i,"".concat(d,"-border"),ea),Object(u.a)(i,"".concat(d,"-contain-card"),Ie),Object(u.a)(i,"".concat(d,"-loading"),se),Object(u.a)(i,"".concat(d,"-split"),oe==="vertical"||oe==="horizontal"),Object(u.a)(i,"".concat(d,"-ghost"),ta),Object(u.a)(i,"".concat(d,"-hoverable"),na),Object(u.a)(i,"".concat(d,"-size-").concat(Ge),Ge),Object(u.a)(i,"".concat(d,"-type-").concat(Me),Me),Object(u.a)(i,"".concat(d,"-collapse"),be),Object(u.a)(i,"".concat(d,"-checked"),oa),i)),pa=E()("".concat(d,"-body"),(l={},Object(u.a)(l,"".concat(d,"-body-center"),we==="center"),Object(u.a)(l,"".concat(d,"-body-direction-column"),oe==="horizontal"||ra==="column"),Object(u.a)(l,"".concat(d,"-body-wrap"),Xe&&Ie),l)),ga=Object(I.a)(Object(I.a)(Object(I.a)({},de(q>0,{marginRight:-q/2,marginLeft:-q/2})),de(_>0,{marginTop:-_/2,marginBottom:-_/2})),G),Qe=a.a.isValidElement(se)?se:a.a.createElement(j,{prefix:d,style:G.padding===0||G.padding==="0px"?{padding:24}:void 0}),he=la&&Ue===void 0&&(Je?Je({collapsed:be}):a.a.createElement(K.a,{rotate:be?void 0:90,className:"".concat(d,"-collapsible-icon")}));return a.a.createElement("div",Object(f.a)({className:ha,style:X,ref:o,onClick:function(O){var h;Se==null||Se(O),ie==null||(h=ie.onClick)===null||h===void 0||h.call(ie,O)}},Object(le.a)(ie,["prefixCls","colSpan"])),(ve||ce||he)&&a.a.createElement("div",{className:E()("".concat(d,"-header"),(y={},Object(u.a)(y,"".concat(d,"-header-border"),_e||Me==="inner"),Object(u.a)(y,"".concat(d,"-header-collapsible"),he),y)),style:xe,onClick:function(){he&&ma(!be)}},a.a.createElement("div",{className:"".concat(d,"-title")},he,a.a.createElement(R.a,{label:ve,tooltip:qe||Pe,subTitle:Te})),ce&&a.a.createElement("div",{className:"".concat(d,"-extra")},ce)),Ne?a.a.createElement("div",{className:"".concat(d,"-tabs")},a.a.createElement(g.a,Object(f.a)({onChange:Ne.onChange},Ne),se?Qe:$e)):a.a.createElement("div",{className:pa,style:ga},se?Qe:ja),a.a.createElement(ge,{actions:aa,prefixCls:d}))}),Q=F,H=e("VzZb"),Oe=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],ye=function(o){var i=o.key,l=o.tab,y=o.tabKey,J=o.disabled,X=o.destroyInactiveTabPane,w=o.children,G=o.className,k=o.style,xe=o.cardProps,ve=Object(ae.a)(o,Oe),Te=Object(p.useContext)(P.default.ConfigContext),ce=Te.getPrefixCls,Pe=ce("pro-card-tabpane"),fe=E()(Pe,G);return a.a.createElement(g.a.TabPane,Object(f.a)({key:i,tabKey:y,tab:l,className:fe,style:k,disabled:J,destroyInactiveTabPane:X},ve),a.a.createElement(Q,xe,w))},me=ye,De=e("u1OI"),$=function(o){var i=Object(p.useContext)(P.default.ConfigContext),l=i.getPrefixCls,y=l("pro-card-divider"),J=o.className,X=o.style,w=X===void 0?{}:X,G=o.type,k=E()(y,J,Object(u.a)({},"".concat(y,"-").concat(G),G));return a.a.createElement("div",{className:k,style:w})},Ce=$,Ee=function(o){return a.a.createElement(Q,Object(f.a)({bodyStyle:{padding:0}},o))},x=Q;x.isProCard=!0,x.Divider=Ce,x.TabPane=me,x.Group=Ee;var N=x,T=v.a=N},rWUb:function(L,v,e){"use strict";e.d(v,"e",function(){return I}),e.d(v,"d",function(){return ee}),e.d(v,"a",function(){return pe}),e.d(v,"h",function(){return ae}),e.d(v,"b",function(){return te}),e.d(v,"i",function(){return ne}),e.d(v,"c",function(){return re}),e.d(v,"f",function(){return le}),e.d(v,"g",function(){return D});var f=e("k1fw"),p=e("9og8"),a=e("WmNS"),b=e.n(a),g=e("9kvl");function I(r,c){return u.apply(this,arguments)}function u(){return u=Object(p.a)(b.a.mark(function r(c,t){return b.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(g.f)("/api/admin/templates",Object(f.a)({method:"GET",useCache:!1,params:Object(f.a)(Object(f.a)({},c),{},{per_page:c&&c.pageSize,page:c&&c.current})},t||{})));case 1:case"end":return s.stop()}},r)})),u.apply(this,arguments)}function ee(r,c){return A.apply(this,arguments)}function A(){return A=Object(p.a)(b.a.mark(function r(c,t){return b.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(g.f)("/api/admin/templates/".concat(c),Object(f.a)({method:"GET"},t||{})));case 1:case"end":return s.stop()}},r)})),A.apply(this,arguments)}function pe(r,c){return P.apply(this,arguments)}function P(){return P=Object(p.a)(b.a.mark(function r(c,t){return b.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(g.f)("/api/admin/templates",Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},t||{})));case 1:case"end":return s.stop()}},r)})),P.apply(this,arguments)}function ae(r,c,t){return B.apply(this,arguments)}function B(){return B=Object(p.a)(b.a.mark(function r(c,t,j){return b.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(g.f)("/api/admin/templates/".concat(c),Object(f.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:t},j||{})));case 1:case"end":return m.stop()}},r)})),B.apply(this,arguments)}function te(r,c){return K.apply(this,arguments)}function K(){return K=Object(p.a)(b.a.mark(function r(c,t){return b.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(g.f)("/api/admin/templates/".concat(c),Object(f.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return s.stop()}},r)})),K.apply(this,arguments)}function ne(r){return R.apply(this,arguments)}function R(){return R=Object(p.a)(b.a.mark(function r(c){return b.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(g.f)("/api/admin/templates/variables",Object(f.a)({method:"GET"},c||{})));case 1:case"end":return j.stop()}},r)})),R.apply(this,arguments)}function re(r,c){return E.apply(this,arguments)}function E(){return E=Object(p.a)(b.a.mark(function r(c,t){return b.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(g.f)("/api/admin/templates/".concat(c,"/preview"),Object(f.a)({method:"GET"},t||{})));case 1:case"end":return s.stop()}},r)})),E.apply(this,arguments)}function le(r,c,t){return U.apply(this,arguments)}function U(){return U=Object(p.a)(b.a.mark(function r(c,t,j){return b.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(g.f)("/api/admin/events/trigger-manually/".concat(c),Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:t}},j||{})));case 1:case"end":return m.stop()}},r)})),U.apply(this,arguments)}function D(r,c,t){return Z.apply(this,arguments)}function Z(){return Z=Object(p.a)(b.a.mark(function r(c,t,j){return b.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(g.f)("/api/admin/products/".concat(t,"/trigger-event-manually/").concat(c),Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"}},j||{})));case 1:case"end":return m.stop()}},r)})),Z.apply(this,arguments)}},u1OI:function(L,v,e){}}]);
