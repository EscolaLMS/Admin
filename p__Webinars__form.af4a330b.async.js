(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"4f6N":function(K,l,e){"use strict";var o=e("2qtc"),_=e("kLXV"),j=e("9kvl"),n=e("nKUr"),O=e.n(n),g=function(v){var b=v.visible,h=v.setManage;return Object(n.jsx)(_.a,{width:"600px",title:Object(n.jsx)(j.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:b,onOk:function(){return h({showModal:!1,disableEdit:!1})},onCancel:function(){return h({showModal:!1,disableEdit:!0})},okText:"OK",cancelText:"Cancel",children:Object(n.jsx)("p",{children:Object(n.jsx)(j.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};l.a=g},EmS3:function(K,l,e){"use strict";e.d(l,"e",function(){return g}),e.d(l,"a",function(){return v}),e.d(l,"c",function(){return h}),e.d(l,"d",function(){return u}),e.d(l,"b",function(){return R});var o=e("k1fw"),_=e("9og8"),j=e("WmNS"),n=e.n(j),O=e("9kvl");function g(r,c){return M.apply(this,arguments)}function M(){return M=Object(_.a)(n.a.mark(function r(c,s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/webinars",Object(o.a)({method:"GET",useCache:!1,params:Object(o.a)(Object(o.a)({},c),{},{per_page:c.pageSize,page:c.current})},s||{})));case 1:case"end":return i.stop()}},r)})),M.apply(this,arguments)}function v(r,c){return b.apply(this,arguments)}function b(){return b=Object(_.a)(n.a.mark(function r(c,s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/webinars",Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},s||{})));case 1:case"end":return i.stop()}},r)})),b.apply(this,arguments)}function h(r,c){return d.apply(this,arguments)}function d(){return d=Object(_.a)(n.a.mark(function r(c,s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(c),Object(o.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return i.stop()}},r)})),d.apply(this,arguments)}function u(r,c,s){return C.apply(this,arguments)}function C(){return C=Object(_.a)(n.a.mark(function r(c,s,W){return n.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(c,"?method=PUT"),Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},W||{})));case 1:case"end":return L.stop()}},r)})),C.apply(this,arguments)}function R(r,c){return T.apply(this,arguments)}function T(){return T=Object(_.a)(n.a.mark(function r(c,s){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(c),Object(o.a)({method:"DELETE",useCache:!1},s||{})));case 1:case"end":return i.stop()}},r)})),T.apply(this,arguments)}},VlvL:function(K,l,e){"use strict";var o=e("9kvl"),_=e("Ty5D"),j=e("nKUr"),n=e.n(j),O=function(M){var v=M.show,b=Object(o.i)();return Object(j.jsx)(_.a,{when:v,message:b.formatMessage({id:"unsaved_changes"})})};l.a=O},eFHa:function(K,l,e){"use strict";e.d(l,"a",function(){return O});var o=e("tJVT"),_=e("q1tI"),j=e.n(_),n=e("HZtn");function O(){var g=Object(_.useState)({showModal:!1,disableEdit:!1}),M=Object(o.a)(g,2),v=M[0],b=M[1],h=function(u){(u==null?void 0:u.status)==="published"&&u!==null&&u!==void 0&&u.active_from&&Object(n.a)(new Date(u==null?void 0:u.active_from))?b({showModal:!1,disableEdit:!0}):b({showModal:!1,disableEdit:!1})};return{manageCourseEdit:v,setManageCourseEdit:b,validateCourseEdit:h}}},q34N:function(K,l,e){"use strict";var o=e("tJVT"),_=e("0eZe"),j=e("q1tI"),n=e.n(j),O=e("nKUr"),g=e.n(O),M=function(b){var h=b.productable,d=Object(j.useState)("attributes"),u=Object(o.a)(d,2),C=u[0],R=u[1];return Object(O.jsx)(_.a,{productable:h,tab:C,onTabChange:function(r){return R(r)}})};l.a=M},tixb:function(K,l,e){"use strict";e.r(l);var o=e("14J3"),_=e("BMrR"),j=e("jCWc"),n=e("kPKH"),O=e("fOrg"),g=e("+KLJ"),M=e("T2oS"),v=e("W9HT"),b=e("miYZ"),h=e("tsqr"),d=e("k1fw"),u=e("9og8"),C=e("tJVT"),R=e("WmNS"),T=e.n(R),r=e("q1tI"),c=e.n(r),s=e("VMEa"),W=e("Qurx"),i=e("FJDo"),L=e("yj/a"),H=e("lR9U"),ae=e("BiO0"),B=e("nhC9"),Z=e("hd5d"),te=e("tMyG"),t=e("9kvl"),se=e("Ty5D"),w=e("EmS3"),ne=e("0WSk"),re=e("Gn8c"),ie=e("c+yx"),_e=e("rnuo"),de=e("VlvL"),z=e("viv7"),oe=e("eFHa"),le=e("4f6N"),ue=e("q34N"),ce=e("5RzD"),a=e("nKUr"),fe=e.n(a),me=function(){var D=Object(t.i)(),Q=Object(se.h)(),m=Q.webinar,X=Q.tab,y=X===void 0?"attributes":X,U=m==="new",Oe=Object(r.useState)(!1),Y=Object(C.a)(Oe,2),be=Y[0],F=Y[1],Ee=Object(r.useState)(),k=Object(C.a)(Ee,2),p=k[0],N=k[1],V=Object(oe.a)(),E=V.manageCourseEdit,q=V.setManageCourseEdit,ee=V.validateCourseEdit,je=s.a.useForm(),Me=Object(C.a)(je,1),Pe=Me[0],ve=Object(r.useCallback)(Object(u.a)(T.a.mark(function I(){var P;return T.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Object(w.c)(Number(m));case 2:P=A.sent,P.success&&(ee(P.data),N(Object(d.a)({},P.data)));case 4:case"end":return A.stop()}},I)})),[m]);Object(r.useEffect)(function(){if(U){N({name:"new"});return}ve()},[m]);var G=Object(r.useMemo)(function(){return{onFinish:function(){var I=Object(u.a)(T.a.mark(function S(A){var $,x;return T.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!E.disableEdit){f.next=3;break}return q({showModal:!0,disableEdit:!0}),f.abrupt("return");case 3:if($=Object(d.a)(Object(d.a)({},A),{},{image_url:p&&p.image_url,image_path:p&&p.image_url&&Object(ie.c)(p.image_url),trainers:A.trainers&&A.trainers.map(function(J){return typeof J=="object"?J.id:J})}),!U){f.next=11;break}return f.next=7,Object(w.a)($);case 7:x=f.sent,x.success&&(F(!1),t.d.push("/webinars/".concat(x.data.id))),f.next=15;break;case 11:return f.next=13,Object(w.d)(Number(m),$);case 13:x=f.sent,x.success&&(F(!1),ee(x.data),t.d.push("/webinars/".concat(x.data.id,"/").concat(y)));case 15:h.default.success(x.message);case 16:case"end":return f.stop()}},S)}));function P(S){return I.apply(this,arguments)}return P}(),initialValues:p}},[p,m,y,E]);return p?Object(a.jsx)(te.a,{title:U?Object(a.jsx)(t.a,{id:"menu.webinars"}):Object(a.jsx)(t.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:D.formatMessage({id:"menu.Webinars"})},{path:String(m),breadcrumbName:D.formatMessage({id:"form"})},{path:"/",breadcrumbName:D.formatMessage({id:String(p.name)})},{path:String(y),breadcrumbName:D.formatMessage({id:String(y)})}]}},children:Object(a.jsxs)(B.a,{tabs:{type:"card",activeKey:y,onChange:function(P){return t.d.push("/webinars/".concat(m,"/").concat(P))}},children:[Object(a.jsxs)(B.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"attributes"}),children:[E.disableEdit&&Object(a.jsx)(g.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(t.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"})}),Object(a.jsx)(de.a,{show:be}),Object(a.jsx)(le.a,{visible:E.showModal,setManage:q}),Object(a.jsxs)(s.a,Object(d.a)(Object(d.a)({},G),{},{form:Pe,onValuesChange:function(){F(!0)},children:[Object(a.jsxs)(s.a.Group,{children:[Object(a.jsx)(W.a,{width:"md",name:"name",label:Object(a.jsx)(t.a,{id:"name"}),tooltip:Object(a.jsx)(t.a,{id:"name"}),placeholder:D.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:E.disableEdit}),Object(a.jsx)(i.a,{width:"md",name:"base_price",label:Object(a.jsx)(t.a,{id:"base_price"}),tooltip:Object(a.jsx)(t.a,{id:"base_price_tooltip"}),placeholder:D.formatMessage({id:"base_price",defaultMessage:"base_price"}),min:0,max:9999,fieldProps:{step:1},disabled:E.disableEdit}),Object(a.jsx)(W.a,{width:"sm",name:"duration",label:Object(a.jsx)(t.a,{id:"duration"}),tooltip:Object(a.jsx)(t.a,{id:"duration"}),placeholder:D.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:E.disableEdit}),Object(a.jsx)(L.a,{name:"status",width:"xs",label:Object(a.jsx)(t.a,{id:"status"}),valueEnum:z.a,initialValue:z.a.draft,placeholder:D.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(t.a,{id:"select"})}],disabled:E.disableEdit})]}),Object(a.jsxs)(s.a.Group,{children:[Object(a.jsx)(H.a,{width:"sm",name:"active_from",label:Object(a.jsx)(t.a,{id:"active_from"}),tooltip:Object(a.jsx)(t.a,{id:"active_from"}),placeholder:D.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:E.disableEdit}),Object(a.jsx)(H.a,{width:"sm",name:"active_to",label:Object(a.jsx)(t.a,{id:"active_to"}),tooltip:Object(a.jsx)(t.a,{id:"active_to"}),placeholder:D.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:E.disableEdit}),Object(a.jsx)(s.a.Item,{name:"trainers",label:Object(a.jsx)(t.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(ne.a,{multiple:!0})})]}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(ae.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(t.a,{id:"short_description"}),tooltip:Object(a.jsx)(t.a,{id:"short_description"})})}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(s.a.Item,{name:"agenda",label:Object(a.jsx)(t.a,{id:"program"}),tooltip:Object(a.jsx)(t.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(Z.a,{directory:"webinars/".concat(m,"/wysiwyg")})})}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(s.a.Item,{name:"description",label:Object(a.jsx)(t.a,{id:"description"}),tooltip:Object(a.jsx)(t.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(Z.a,{directory:"webinars/".concat(m,"/wysiwyg")})})})]}))]},"attributes")," ",!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"prices"}),disabled:E.disableEdit,children:m&&Object(a.jsx)(ue.a,{productable:{class_type:"App\\Models\\Webinar",class_id:m,name:String(p.name)}})},"prices"),!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"media"}),disabled:E.disableEdit,children:Object(a.jsx)(s.a,Object(d.a)(Object(d.a)({},G),{},{children:Object(a.jsx)(re.a,{title:"image",action:"/api/admin/webinars/".concat(m),src_name:"image_url",form_name:"image",getUploadedSrcField:function(P){return P.file.response.data.image_url},setPath:function(P){return N(function(S){return Object(d.a)(Object(d.a)({},S),P)})}})}))},"media"),!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"tags"}),disabled:E.disableEdit,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(n.a,{span:12,children:Object(a.jsx)(s.a,Object(d.a)(Object(d.a)({},G),{},{children:Object(a.jsx)(s.a.Item,{label:Object(a.jsx)(t.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(_e.a,{})})}))})})},"tags")," ",!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"user_submission"}),disabled:E.disableEdit,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(n.a,{span:12,children:m&&Object(a.jsx)(ce.a,{id:Number(m),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(a.jsx)(v.a,{})};l.default=me},viv7:function(K,l,e){"use strict";e.d(l,"a",function(){return o});var o;(function(_){_.draft="draft",_.published="published",_.archived="archived"})(o||(o={}))}}]);
