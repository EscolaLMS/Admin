(window.webpackJsonp=window.webpackJsonp||[]).push([[23,4],{"+K+b":function(re,J,v){var B=v("JHRd");function m(S){var O=new S.constructor(S.byteLength);return new B(O).set(new B(S)),O}re.exports=m},"+O4Z":function(re,J){function v(B){return Function.toString.call(B).indexOf("[native code]")!==-1}re.exports=v},"+Xah":function(re,J,v){"use strict";function B(m){return m}J.a=B},"+c4W":function(re,J,v){var B=v("711d"),m=v("4/ic"),S=v("9ggG"),O=v("9Nap");function X(U){return S(U)?B(O(U)):m(U)}re.exports=X},"+iFO":function(re,J,v){var B=v("dTAl"),m=v("LcsW"),S=v("6sVZ");function O(X){return typeof X.constructor=="function"&&!S(X)?B(m(X)):{}}re.exports=O},"/1FC":function(re,J,v){"use strict";var B=Array.isArray;J.a=B},"/FUP":function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ReactCSS=J.loop=J.handleActive=J.handleHover=J.hover=void 0;var B=v("W3HW"),m=T(B),S=v("lreK"),O=T(S),X=v("KfSR"),U=T(X),z=v("VYtm"),H=T(z),p=v("XQvf"),L=T(p),C=v("B5Mt"),E=T(C);function T(se){return se&&se.__esModule?se:{default:se}}J.hover=H.default,J.handleHover=H.default,J.handleActive=L.default,J.loop=E.default;var D=J.ReactCSS=function(M){for(var $=arguments.length,j=Array($>1?$-1:0),W=1;W<$;W++)j[W-1]=arguments[W];var x=(0,m.default)(j),ne=(0,O.default)(M,x);return(0,U.default)(ne)};J.default=D},"/PRe":function(re,J,v){"use strict";v.d(J,"a",function(){return X});function B(U,z){var H=Object.keys(U);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(U);z&&(p=p.filter(function(L){return Object.getOwnPropertyDescriptor(U,L).enumerable})),H.push.apply(H,p)}return H}function m(U){for(var z=1;z<arguments.length;z++){var H=arguments[z]!=null?arguments[z]:{};z%2?B(Object(H),!0).forEach(function(p){S(U,p,H[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(H)):B(Object(H)).forEach(function(p){Object.defineProperty(U,p,Object.getOwnPropertyDescriptor(H,p))})}return U}function S(U,z,H){return z in U?Object.defineProperty(U,z,{value:H,enumerable:!0,configurable:!0,writable:!0}):U[z]=H,U}function O(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(H){return typeof H}:O=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},O(U)}var X=function(){for(var z={},H=arguments.length,p=new Array(H),L=0;L<H;L++)p[L]=arguments[L];for(var C=p.length,E,T=0;T<C;T+=1)for(E in p[T])p[T].hasOwnProperty(E)&&(O(z[E])==="object"&&O(p[T][E])==="object"&&!Array.isArray(z[E])&&!Array.isArray(p[T][E])?z[E]=m(m({},z[E]),p[T][E]):z[E]=p[T][E]);return z}},"/qDX":function(re,J,v){},"/s86":function(re,J,v){"use strict";var B=v("Telt"),m=v("Tckk"),S=v("q1tI"),O=v.n(S),X="valueType request plain renderFormItem render text formItemProps valueEnum",U="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function z(y){var g="".concat(X," ").concat(U).split(/[\s\n]+/),b={};return Object.keys(y||{}).forEach(function(_){g.includes(_)||(b[_]=y[_])}),b}var H=v("PjWh"),p=v("LQCs"),L=v("EFp3"),C=v("QbM5"),E=v("fyUT"),T=v("CeSn"),D=v.n(T);function se(y){return y===0?null:y>0?"+":"-"}function M(y){return y===0?"#595959":y>0?"#ff4d4f":"#52c41a"}function $(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return g&&g>0?y.toFixed(g):y}function j(){return j=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},j.apply(this,arguments)}function W(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function x(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?W(Object(b),!0).forEach(function(_){ne(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):W(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function ne(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var Ae=function(g,b){var _=g.text,ie=g.prefix,we=g.precision,nt=g.suffix,_e=nt===void 0?"%":nt,Qe=g.mode,Nt=g.showColor,ut=Nt===void 0?!1:Nt,Bt=g.render,Kt=g.renderFormItem,cr=g.fieldProps,nr=g.placeholder,er=g.showSymbol,xr=Object(S.useMemo)(function(){return typeof _=="string"&&_.includes("%")?D()(_.replace("%","")):D()(_)},[_]),gn=Object(S.useMemo)(function(){return typeof er=="function"?er==null?void 0:er(_):er},[er,_]);if(Qe==="read"){var dn=ut?{color:M(xr)}:{},Lr=O.a.createElement("span",{style:dn,ref:b},ie&&O.a.createElement("span",null,ie),gn&&O.a.createElement(S.Fragment,null,se(xr)," "),$(Math.abs(xr),we),_e&&_e);return Bt?Bt(_,x(x({mode:Qe},cr),{},{prefix:ie,precision:we,showSymbol:gn,suffix:_e}),Lr):Lr}if(Qe==="edit"||Qe==="update"){var Kr=O.a.createElement(E.a,j({ref:b,formatter:function(gr){return gr&&ie?"".concat(ie," ").concat(gr).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):gr},parser:function(gr){return gr?gr.replace(/.*\s|,/g,""):""},placeholder:nr},cr));return Kt?Kt(_,x({mode:Qe},cr),Kr):Kr}return null},je=O.a.forwardRef(Ae),Te=v("2Zs6"),ht=v("MXD1"),yt=v("CFYs");function Ct(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function vt(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Ct(Object(b),!0).forEach(function(_){Vt(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):Ct(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Vt(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function gt(){return gt=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},gt.apply(this,arguments)}function zt(y){return typeof y!="number"?"exception":y===100?"success":y<0?"exception":y<100?"active":"normal"}var dt=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.plain,_e=g.renderFormItem,Qe=g.fieldProps,Nt=g.placeholder,ut=Object(S.useMemo)(function(){return typeof _=="string"&&_.includes("%")?D()(_.replace("%","")):D()(_)},[_]);if(ie==="read"){var Bt=O.a.createElement(yt.a,gt({ref:b,size:"small",style:{minWidth:100,maxWidth:320},percent:ut,steps:nt?10:void 0,status:zt(ut)},Qe));return we?we(ut,vt({mode:ie},Qe),Bt):Bt}if(ie==="edit"||ie==="update"){var Kt=O.a.createElement(E.a,gt({ref:b,placeholder:Nt},Qe));return _e?_e(_,vt({mode:ie},Qe),Kt):Kt}return null},Je=O.a.forwardRef(dt),st=v("Q9mQ"),Xe=v("diRs"),Ue=v("6cGi"),$e=["content","numberFormatOptions","numberPopoverRender"],Ke=["text","mode","locale","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","customSymbol","numberFormatOptions","numberPopoverRender"];function ft(){return ft=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},ft.apply(this,arguments)}function rt(y,g){return Dr(y)||Qr(y,g)||At(y,g)||Pe()}function Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(y,g){if(!!y){if(typeof y=="string")return qt(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return qt(y,g)}}function qt(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function Qr(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function Dr(y){if(Array.isArray(y))return y}function sr(y,g){if(y==null)return{};var b=zr(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function zr(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}function Ir(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Ur(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Ir(Object(b),!0).forEach(function(_){te(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):Ir(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function te(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var Y=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),Q={style:"currency",currency:"USD"},ve={style:"currency",currency:"RUB"},ge={style:"currency",currency:"RSD"},Be={style:"currency",currency:"MYR"},ze={default:Y,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":Q,"ru-RU":ve,"ms-MY":Be,"sr-RS":ge},xt=function(g,b,_,ie){var we=b;return typeof we=="string"&&(we=Number(we)),new Intl.NumberFormat(g||"zh-Hans-CN",Ur(Ur({},ze[g||"zh-Hans-CN"]||ze["zh-Hans-CN"]),{},{maximumFractionDigits:_},ie)).format(we)},Ot=2,ke=O.a.forwardRef(function(y,g){var b=y.content,_=y.numberFormatOptions,ie=y.numberPopoverRender,we=sr(y,$e),nt=Object(Ue.a)(function(){return we.defaultValue},{value:we.value,onChange:we.onChange}),_e=rt(nt,2),Qe=_e[0],Nt=_e[1],ut=b==null?void 0:b(Ur(Ur({},we),{},{value:Qe}));return O.a.createElement(Xe.a,{placement:"topLeft",visible:ut?void 0:!1,trigger:"focus",content:ut},O.a.createElement(E.a,ft({ref:g},we,{value:Qe,onChange:Nt})))}),xe=function(g,b){var _,ie=g.text,we=g.mode,nt=g.locale,_e=nt===void 0?"zh-Hans-CN":nt,Qe=g.render,Nt=g.renderFormItem,ut=g.fieldProps,Bt=g.proFieldKey,Kt=g.plain,cr=g.valueEnum,nr=g.placeholder,er=g.customSymbol,xr=g.numberFormatOptions,gn=xr===void 0?ut==null?void 0:ut.numberFormatOptions:xr,dn=g.numberPopoverRender,Lr=dn===void 0?(ut==null?void 0:ut.numberPopoverRender)||!1:dn,Kr=sr(g,Ke),On=(_=ut==null?void 0:ut.precision)!==null&&_!==void 0?_:Ot,gr=Object(p.d)();_e&&p.c[_e]&&(gr=p.c[_e]);var An=Object(S.useMemo)(function(){if(er)return er;var Sn=gr.getMessage("moneySymbol","\uFFE5");if(!(Kr.moneySymbol===!1||ut.moneySymbol===!1))return Sn},[ut.moneySymbol,gr,Kr.moneySymbol,er]);if(we==="read"){var Mi=O.a.createElement("span",{ref:b},xt(An?_e:!1,ie,On,gn));return Qe?Qe(ie,Ur({mode:we},ut),Mi):Mi}if(we==="edit"||we==="update"){var Kn=O.a.createElement(ke,ft({content:function(Nn){if(Lr!==!1&&!!Nn.value){var Xn=new RegExp("/B(?=(d{".concat(3+(On-Ot),"})+(?!d))/g")),Oi=xt(An?_e:!1,Nn.value.toString().replace(Xn,","),On,Ur(Ur({},gn),{},{notation:"compact"}));return typeof Lr=="function"?Lr==null?void 0:Lr(Nn,Oi):Oi}},ref:b,precision:On,formatter:function(Nn){if(Nn&&An){var Xn=new RegExp("/B(?=(d{".concat(3+(On-Ot),"})+(?!d))/g"));return"".concat(An," ").concat(Nn).replace(Xn,",")}return Nn||""},parser:function(Nn){return An&&Nn?Nn.replace(new RegExp("\\".concat(An,"\\s?|(,*)"),"g"),""):Nn||""},placeholder:nr},ut));return Nt?Nt(ie,Ur({mode:we},ut),Kn):Kn}return null},De=O.a.forwardRef(xe),Ye=v("ZTW2"),Ut=v("+BJd"),Yt=v("+L6B"),Zt=v("+eQT"),Or=v("GNNt"),fr=v("wEI+"),$r=v("wd/R"),kr=v.n($r),Gt=v("POPG"),Tr=function y(g,b){return Object(Gt.a)(g)||kr.a.isMoment(g)?g:Array.isArray(g)?g.map(function(_){return y(_,b)}):kr()(g,b)},Nr=Tr,Zr=v("iGn7"),ln=v("Z1je");function fn(){return fn=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},fn.apply(this,arguments)}function En(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function _n(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?En(Object(b),!0).forEach(function(_){pe(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):En(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function pe(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Se(y,g){return tr(y)||Wt(y,g)||Le(y,g)||Me()}function Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Le(y,g){if(!!y){if(typeof y=="string")return mt(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return mt(y,g)}}function mt(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function Wt(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function tr(y){if(Array.isArray(y))return y}var $t=function(g,b){var _=g.text,ie=g.mode,we=g.format,nt=g.label,_e=g.light,Qe=g.render,Nt=g.renderFormItem,ut=g.plain,Bt=g.showTime,Kt=g.fieldProps,cr=g.picker,nr=g.bordered,er=Object(p.d)(),xr=Object(S.useContext)(fr.b.SizeContext),gn=Object(S.useContext)(fr.b.ConfigContext),dn=gn.getPrefixCls,Lr=dn("pro-field-date-picker"),Kr=Object(S.useState)(!1),On=Se(Kr,2),gr=On[0],An=On[1];if(ie==="read"){var Mi=_?kr()(_).format(Kt.format||we||"YYYY-MM-DD"):"-";return Qe?Qe(_,_n({mode:ie},Kt),O.a.createElement(O.a.Fragment,null,Mi)):O.a.createElement(O.a.Fragment,null,Mi)}if(ie==="edit"||ie==="update"){var Kn,Sn=Kt.disabled,Nn=Kt.value,Xn=Kt.onChange,Oi=Kt.allowClear,Ua=Kt.placeholder,ma=Ua===void 0?er.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):Ua,Qi=Nr(Nn);if(_e){var yi=Qi&&Qi.format(we)||"";Kn=O.a.createElement("div",{className:"".concat(Lr,"-light"),onClick:function(){An(!0)}},O.a.createElement(Zt.a,fn({picker:cr,showTime:Bt,format:we,ref:b},Kt,{value:Qi,onChange:function(ss){Xn==null||Xn(ss),setTimeout(function(){An(!1)},0)},onOpenChange:An,open:gr})),O.a.createElement(Zr.a,{label:nt,disabled:Sn,placeholder:ma,size:xr,value:yi,onClear:function(){Xn==null||Xn(null)},allowClear:Oi,bordered:nr,expanded:gr}))}else Kn=O.a.createElement(Zt.a,fn({picker:cr,showTime:Bt,format:we,placeholder:ma,bordered:ut===void 0?!0:!ut,ref:b},Kt,{value:Qi}));return Nt?Nt(_,_n({mode:ie},Kt),Kn):Kn}return null},Ce=O.a.forwardRef($t),We=v("5Dmo"),Ge=v("3S7+");function wt(){return wt=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},wt.apply(this,arguments)}function ue(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function ee(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?ue(Object(b),!0).forEach(function(_){de(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):ue(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function de(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var ye=function(g){var b=g.text,_=g.mode,ie=g.render,we=g.renderFormItem,nt=g.format,_e=g.fieldProps,Qe=Object(p.d)();if(_==="read"){var Nt=O.a.createElement(Ge.a,{title:kr()(b).format((_e==null?void 0:_e.format)||nt||"YYYY-MM-DD HH:mm:ss")},kr()(b).fromNow());return ie?ie(b,ee({mode:_},_e),O.a.createElement(O.a.Fragment,null,Nt)):O.a.createElement(O.a.Fragment,null,Nt)}if(_==="edit"||_==="update"){var ut=Qe.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),Bt=Nr(_e.value),Kt=O.a.createElement(Zt.a,wt({placeholder:ut,showTime:!0},_e,{value:Bt}));return we?we(b,ee({mode:_},_e),Kt):Kt}return null},Ve=ye;function lt(){return lt=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},lt.apply(this,arguments)}function it(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function at(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?it(Object(b),!0).forEach(function(_){pt(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):it(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function pt(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Er(y,g){return bn(y)||on(y,g)||or(y,g)||Ar()}function Ar(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(y,g){if(!!y){if(typeof y=="string")return Br(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Br(y,g)}}function Br(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function on(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function bn(y){if(Array.isArray(y))return y}var jn=function(g,b){var _=g.text,ie=g.mode,we=g.format,nt=g.render,_e=g.renderFormItem,Qe=g.plain,Nt=g.showTime,ut=g.fieldProps,Bt=Object(p.d)(),Kt=Array.isArray(_)?_:[],cr=Er(Kt,2),nr=cr[0],er=cr[1],xr=nr?kr()(nr).format((ut==null?void 0:ut.format)||we||"YYYY-MM-DD"):"",gn=er?kr()(er).format((ut==null?void 0:ut.format)||we||"YYYY-MM-DD"):"";if(ie==="read"){var dn=O.a.createElement("div",{ref:b},O.a.createElement("div",null,xr||"-"),O.a.createElement("div",null,gn||"-"));return nt?nt(_,at({mode:ie},ut),O.a.createElement("span",null,dn)):dn}if(ie==="edit"||ie==="update"){var Lr=Nr(ut.value),Kr=O.a.createElement(Zt.a.RangePicker,lt({ref:b,format:we,showTime:Nt,placeholder:[Bt.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),Bt.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:Qe===void 0?!0:!Qe},ut,{value:Lr}));return _e?_e(_,at({mode:ie},ut),Kr):Kr}return null},qr=O.a.forwardRef(jn),un=v("5NDa"),lr=v("5rEg");function Pr(){return Pr=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Pr.apply(this,arguments)}function hn(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function cn(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?hn(Object(b),!0).forEach(function(_){jr(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):hn(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function jr(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var hr=function(g,b){if(typeof g!="string")return g;try{if(b==="json")return JSON.stringify(JSON.parse(g),null,2)}catch(_){}return g},Vr=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.language,_e=nt===void 0?"text":nt,Qe=g.renderFormItem,Nt=g.plain,ut=g.fieldProps,Bt=hr(_,_e);if(ie==="read"){var Kt=O.a.createElement("pre",Pr({ref:b},ut,{style:cn({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},ut.style)}),O.a.createElement("code",null,Bt));return we?we(Bt,cn(cn({mode:ie},ut),{},{ref:b}),Kt):Kt}if(ie==="edit"||ie==="update"){var cr=O.a.createElement(lr.a.TextArea,Pr({rows:5},ut,{ref:b}));return Nt&&(cr=O.a.createElement(lr.a,Pr({},ut,{ref:b}))),Qe?Qe(Bt,cn(cn({mode:ie},ut),{},{ref:b}),cr):cr}return null},sn=O.a.forwardRef(Vr),It=v("pL63"),Rn=v("kl6h");function Xr(){return Xr=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Xr.apply(this,arguments)}function br(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function dr(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?br(Object(b),!0).forEach(function(_){Fr(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):br(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Fr(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function vr(y,g){return Bn(y)||Wr(y,g)||en(y,g)||Cn()}function Cn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(y,g){if(!!y){if(typeof y=="string")return Dn(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Dn(y,g)}}function Dn(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function Wr(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function Bn(y){if(Array.isArray(y))return y}var Yr=function(g,b){var _=g.text,ie=g.mode,we=g.light,nt=g.label,_e=g.format,Qe=g.render,Nt=g.renderFormItem,ut=g.plain,Bt=g.fieldProps,Kt=Object(S.useState)(!1),cr=vr(Kt,2),nr=cr[0],er=cr[1],xr=Object(S.useContext)(fr.b.SizeContext),gn=Object(S.useContext)(fr.b.ConfigContext),dn=gn.getPrefixCls,Lr=dn("pro-field-date-picker"),Kr=(Bt==null?void 0:Bt.format)||_e||"HH:mm:ss",On=kr.a.isMoment(_)||typeof _=="number";if(ie==="read"){var gr=O.a.createElement("span",{ref:b},_?kr()(_,On?void 0:Kr).format(Kr):"-");return Qe?Qe(_,dr({mode:ie},Bt),O.a.createElement("span",null,gr)):gr}if(ie==="edit"||ie==="update"){var An,Mi=Bt.disabled,Kn=Bt.onChange,Sn=Bt.placeholder,Nn=Bt.allowClear,Xn=Bt.value,Oi=Nr(Xn,Kr);if(we){var Ua=Oi&&Oi.format(Kr)||"";An=O.a.createElement("div",{className:"".concat(Lr,"-light"),onClick:function(){er(!0)}},O.a.createElement(Rn.a,Xr({value:Oi,format:_e,ref:b},Bt,{onChange:function(Qi){Kn==null||Kn(Qi),setTimeout(function(){er(!1)},0)},onOpenChange:er,open:nr})),O.a.createElement(Zr.a,{label:nt,disabled:Mi,placeholder:Sn,size:xr,value:Ua,allowClear:Nn,onClear:function(){Kn==null||Kn(null)},expanded:nr}))}else An=O.a.createElement(Zt.a.TimePicker,Xr({ref:b,format:_e,bordered:ut===void 0?!0:!ut},Bt,{value:Oi}));return Nt?Nt(_,dr({mode:ie},Bt),An):An}return null},Ht=function(g){var b=g.text,_=g.mode,ie=g.format,we=g.render,nt=g.renderFormItem,_e=g.plain,Qe=g.fieldProps,Nt=Array.isArray(b)?b:[],ut=vr(Nt,2),Bt=ut[0],Kt=ut[1],cr=Bt?kr()(Bt).format((Qe==null?void 0:Qe.format)||ie||"YYYY-MM-DD"):"",nr=Kt?kr()(Kt).format((Qe==null?void 0:Qe.format)||ie||"YYYY-MM-DD"):"";if(_==="read"){var er=O.a.createElement("div",null,O.a.createElement("div",null,cr||"-"),O.a.createElement("div",null,nr||"-"));return we?we(b,dr({mode:_},Qe),O.a.createElement("span",null,er)):er}if(_==="edit"||_==="update"){var xr=Qe.value,gn=Nr(xr),dn=O.a.createElement(Rn.a.RangePicker,Xr({format:ie,bordered:_e===void 0?!0:!_e},Qe,{value:gn}));return nt?nt(b,dr({mode:_},Qe),dn):dn}return null},bt=O.a.forwardRef(Yr);function Lt(){return Lt=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Lt.apply(this,arguments)}function ur(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function _r(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?ur(Object(b),!0).forEach(function(_){vn(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):ur(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function vn(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var Mr=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.renderFormItem,_e=g.fieldProps,Qe=g.emptyText,Nt=Qe===void 0?"-":Qe,ut=Object(p.d)(),Bt=Object(S.useRef)();if(Object(S.useImperativeHandle)(b,function(){return Bt.current}),Object(S.useEffect)(function(){if(_e.autoFocus){var xr;Bt==null||(xr=Bt.current)===null||xr===void 0||xr.focus()}},[_e.autoFocus]),ie==="read"){var Kt=_!=null?_:Nt;if(we){var cr;return(cr=we(_,_r({mode:ie},_e),O.a.createElement(O.a.Fragment,null,(_e==null?void 0:_e.prefix)||"",Kt,(_e==null?void 0:_e.suffix)||"")))!==null&&cr!==void 0?cr:Nt}return O.a.createElement(O.a.Fragment,null,(_e==null?void 0:_e.prefix)||"",Kt,(_e==null?void 0:_e.suffix)||"")}if(ie==="edit"||ie==="update"){var nr=ut.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),er=O.a.createElement(lr.a,Lt({ref:Bt,placeholder:nr,allowClear:!0},_e));return nt?nt(_,_r({mode:ie},_e),er):er}return null},pn=O.a.forwardRef(Mr);function ci(){return ci=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},ci.apply(this,arguments)}function Ka(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Pa(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Ka(Object(b),!0).forEach(function(_){Ea(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):Ka(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Ea(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var Ga=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.renderFormItem,_e=g.fieldProps,Qe=Object(p.d)();if(ie==="read"){var Nt=O.a.createElement("span",{ref:b},_!=null?_:"-");return we?we(_,Pa({mode:ie},_e),Nt):Nt}if(ie==="edit"||ie==="update"){var ut=O.a.createElement(lr.a.TextArea,ci({ref:b,rows:3,onKeyPress:function(Kt){Kt.key==="Enter"&&Kt.stopPropagation()},placeholder:Qe.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},_e));return nt?nt(_,Pa({mode:ie},_e),ut):ut}return null},$a=O.a.forwardRef(Ga),Ya=v("DYRE"),Ci=v("zeV3"),Ja=v("9BLJ"),ta=v("fHMl"),Ca=["text","mode","render","renderFormItem","fieldProps","proFieldKey"];function Ai(){return Ai=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Ai.apply(this,arguments)}function ra(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Fi(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?ra(Object(b),!0).forEach(function(_){Aa(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):ra(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Aa(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Qa(y,g){return ki(y)||Ta(y,g)||Sa(y,g)||Li()}function Li(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sa(y,g){if(!!y){if(typeof y=="string")return na(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return na(y,g)}}function na(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function Ta(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function ki(y){if(Array.isArray(y))return y}function Bi(y,g){if(y==null)return{};var b=vo(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function vo(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}var po=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.renderFormItem,_e=g.fieldProps,Qe=g.proFieldKey,Nt=Bi(g,Ca),ut=Object(p.d)(),Bt=Object(Ue.a)(function(){return Nt.visible||!1},{value:Nt.visible,onChange:Nt.onVisible}),Kt=Qa(Bt,2),cr=Kt[0],nr=Kt[1];if(ie==="read"){var er=O.a.createElement(O.a.Fragment,null,"-");return _&&(er=O.a.createElement(Ci.b,null,O.a.createElement("span",{ref:b},cr?_:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),O.a.createElement("a",{onClick:function(){return nr(!cr)}},cr?O.a.createElement(Ja.a,null):O.a.createElement(ta.a,null)))),we?we(_,Fi({mode:ie},_e),er):er}if(ie==="edit"||ie==="update"){var xr=O.a.createElement(lr.a.Password,Ai({placeholder:ut.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:b},_e));return nt?nt(_,Fi({mode:ie},_e),xr):xr}return null},ia=O.a.forwardRef(po);function ni(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function aa(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?ni(Object(b),!0).forEach(function(_){go(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):ni(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function go(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var Za=function(g){return g.map(function(b,_){return O.a.isValidElement(b)?O.a.cloneElement(b,aa({key:_},b==null?void 0:b.props)):O.a.createElement(O.a.Fragment,{key:_},b)})},oa=function(g){var b=g.text,_=g.mode,ie=g.render,we=g.fieldProps,nt=Object(S.useContext)(fr.b.ConfigContext),_e=nt.getPrefixCls,Qe=_e("pro-field-option");if(ie){var Nt=ie(b,aa({mode:_},we),O.a.createElement(O.a.Fragment,null));return!Nt||(Nt==null?void 0:Nt.length)<1||!Array.isArray(Nt)?null:O.a.createElement(Ci.b,{size:16,className:Qe},Za(Nt))}return!b||!Array.isArray(b)?O.a.isValidElement(b)?b:null:O.a.createElement(Ci.b,{size:16,className:Qe},Za(b))},sa=oa,ii=v("yeZT"),mo=v("sRBo"),Xa=v("kaz8"),qa=v("T2oS"),la=v("W9HT"),eo=v("TSYQ"),Ma=v.n(eo),bo=v("PdkY"),Vi=["layout","renderFormItem","mode","render"];function Si(){return Si=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Si.apply(this,arguments)}function Ia(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function gi(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Ia(Object(b),!0).forEach(function(_){Hr(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):Ia(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Hr(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function ja(y,g){return Ra(y)||tn(y,g)||ai(y,g)||ua()}function ua(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ai(y,g){if(!!y){if(typeof y=="string")return zi(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return zi(y,g)}}function zi(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function tn(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function Ra(y){if(Array.isArray(y))return y}function Da(y,g){if(y==null)return{};var b=oi(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function oi(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}var Vn=function(g,b){var _=g.layout,ie=_===void 0?"horizontal":_,we=g.renderFormItem,nt=g.mode,_e=g.render,Qe=Da(g,Vi),Nt=Object(S.useContext)(fr.b.ConfigContext),ut=Nt.getPrefixCls,Bt=ut("pro-field-checkbox"),Kt=Object(ii.e)(Qe),cr=ja(Kt,3),nr=cr[0],er=cr[1],xr=cr[2],gn=Object(S.useRef)();if(Object(S.useImperativeHandle)(b,function(){return gi(gi({},gn.current||{}),{},{fetchData:function(){return xr()}})}),nr)return O.a.createElement(la.a,{size:"small"});if(nt==="read"){var dn=(er==null?void 0:er.length)?er==null?void 0:er.reduce(function(gr,An){return gi(gi({},gr),{},Hr({},An.value,An.label))},{}):void 0,Lr=Object(ii.c)(Qe.text,Object(ii.a)(Qe.valueEnum||dn));return _e?_e(Qe.text,gi({mode:nt},Qe.fieldProps),O.a.createElement(O.a.Fragment,null,Lr))||null:O.a.createElement(Ci.b,null,Lr)}if(nt==="edit"){var Kr,On=O.a.createElement(Xa.a.Group,Si({},Qe.fieldProps,{className:Ma()((Kr=Qe.fieldProps)===null||Kr===void 0?void 0:Kr.className,"".concat(Bt,"-").concat(ie)),options:er}));return we?we(Qe.text,gi({mode:nt},Qe.fieldProps),On)||null:On}return null},ei=O.a.forwardRef(Vn),ca=v("xzDV"),me=v("GzdX");function si(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Ui(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?si(Object(b),!0).forEach(function(_){rn(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):si(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function rn(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Wi(){return Wi=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Wi.apply(this,arguments)}var da=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.renderFormItem,_e=g.fieldProps;if(ie==="read"){var Qe=O.a.createElement(me.a,Wi({allowHalf:!0,disabled:!0,ref:b},_e,{value:_}));return we?we(_,Ui({mode:ie},_e),O.a.createElement(O.a.Fragment,null,Qe)):Qe}if(ie==="edit"||ie==="update"){var Nt=O.a.createElement(me.a,Wi({allowHalf:!0,ref:b},_e));return nt?nt(_,Ui({mode:ie},_e),Nt):Nt}return null},Na=O.a.forwardRef(da),Fa=v("czTT"),yn=v("Sdc0"),Hi=v("BGR+");function Hn(){return Hn=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Hn.apply(this,arguments)}function rr(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Un(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?rr(Object(b),!0).forEach(function(_){mi(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):rr(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function mi(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var to=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.renderFormItem,_e=g.fieldProps,Qe=Object(p.d)(),Nt=Object(S.useMemo)(function(){var Bt,Kt;return _==null||"".concat(_).length<1?"-":_?(Bt=_e==null?void 0:_e.checkedChildren)!==null&&Bt!==void 0?Bt:Qe.getMessage("switch.open","\u6253\u5F00"):(Kt=_e==null?void 0:_e.unCheckedChildren)!==null&&Kt!==void 0?Kt:Qe.getMessage("switch.close","\u5173\u95ED")},[_e==null?void 0:_e.checkedChildren,_e==null?void 0:_e.unCheckedChildren,_]);if(ie==="read")return we?we(_,Un({mode:ie},_e),O.a.createElement(O.a.Fragment,null,Nt)):Nt!=null?Nt:"-";if(ie==="edit"||ie==="update"){var ut=O.a.createElement(yn.a,Hn({ref:b},Object(Hi.a)(_e,["value"]),{checked:(_e==null?void 0:_e.checked)||(_e==null?void 0:_e.value)}));return nt?nt(_,Un({mode:ie},_e),ut):ut}return null},Ee=O.a.forwardRef(to);function V(){return V=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},V.apply(this,arguments)}function oe(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function fe(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?oe(Object(b),!0).forEach(function(_){le(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):oe(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function le(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var He=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.placeholder,_e=g.renderFormItem,Qe=g.fieldProps;if(ie==="read"){var Nt,ut=new Intl.NumberFormat(void 0,fe({minimumSignificantDigits:2},(Qe==null?void 0:Qe.intlProps)||{})).format(Number(_)),Bt=O.a.createElement("span",{ref:b},(Qe==null||(Nt=Qe.formatter)===null||Nt===void 0?void 0:Nt.call(Qe,ut))||ut);return we?we(_,fe({mode:ie},Qe),Bt):Bt}if(ie==="edit"||ie==="update"){var Kt=O.a.createElement(E.a,V({ref:b,min:0,placeholder:nt},Qe));return _e?_e(_,fe({mode:ie},Qe),Kt):Kt}return null},ct=O.a.forwardRef(He);function tt(){return tt=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},tt.apply(this,arguments)}function Ft(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function yr(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Ft(Object(b),!0).forEach(function(_){Sr(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):Ft(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Sr(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function bi(y){var g="",b=Math.floor(y/(3600*24)),_=Math.floor(y/3600),ie=Math.floor(y/60%60),we=Math.floor(y%60);return g="".concat(we,"\u79D2"),ie>0&&(g="".concat(ie,"\u5206\u949F").concat(g)),_>0&&(g="".concat(_,"\u5C0F\u65F6").concat(g)),b>0&&(g="".concat(b,"\u5929").concat(g)),g}var Wn=function(g,b){var _=g.text,ie=g.mode,we=g.render,nt=g.renderFormItem,_e=g.fieldProps,Qe=g.placeholder;if(ie==="read"){var Nt=bi(Number(_)),ut=O.a.createElement("span",{ref:b},Nt);return we?we(_,yr({mode:ie},_e),ut):ut}if(ie==="edit"||ie==="update"){var Bt=O.a.createElement(E.a,tt({ref:b,min:0,style:{width:"100%"},placeholder:Qe},_e));return nt?nt(_,yr({mode:ie},_e),Bt):Bt}return null},di=O.a.forwardRef(Wn),_i=v("7Kak"),Ti=v("9yH6"),Jn=v("nSmt"),Qn=["radioType","renderFormItem","mode","render"];function Ki(){return Ki=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Ki.apply(this,arguments)}function fa(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function kn(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?fa(Object(b),!0).forEach(function(_){li(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):fa(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function li(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Gi(y,g){return As(y)||La(y,g)||yo(y,g)||$o()}function $o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yo(y,g){if(!!y){if(typeof y=="string")return ro(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ro(y,g)}}function ro(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function La(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function As(y){if(Array.isArray(y))return y}function wo(y,g){if(y==null)return{};var b=Yo(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function Yo(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}var Jo=function(g,b){var _=g.radioType,ie=g.renderFormItem,we=g.mode,nt=g.render,_e=wo(g,Qn),Qe=Object(S.useContext)(fr.b.ConfigContext),Nt=Qe.getPrefixCls,ut=Nt("pro-field-radio"),Bt=Object(ii.e)(_e),Kt=Gi(Bt,3),cr=Kt[0],nr=Kt[1],er=Kt[2],xr=Object(S.useRef)();if(Object(S.useImperativeHandle)(b,function(){return kn(kn({},xr.current||{}),{},{fetchData:function(){return er()}})}),cr)return O.a.createElement(la.a,{size:"small"});if(we==="read"){var gn=(nr==null?void 0:nr.length)?nr==null?void 0:nr.reduce(function(gr,An){return kn(kn({},gr),{},li({},An.value,An.label))},{}):void 0,dn=O.a.createElement(O.a.Fragment,null,Object(ii.c)(_e.text,Object(ii.a)(_e.valueEnum||gn)));return nt?nt(_e.text,kn({mode:we},_e.fieldProps),dn)||null:dn}if(we==="edit"){var Lr,Kr=_==="button"?Ti.a.Button:Ti.a,On=O.a.createElement(Ti.a.Group,Ki({ref:xr},_e.fieldProps,{className:Ma()((Lr=_e.fieldProps)===null||Lr===void 0?void 0:Lr.className,"".concat(ut,"-").concat(_e.fieldProps.layout||"horizontal")),options:void 0}),nr==null?void 0:nr.map(function(gr){return O.a.createElement(Kr,Ki({key:gr.value},gr),gr.label)}));return ie?ie(_e.text,kn({mode:we},_e.fieldProps),On)||null:On}return null},Qo=O.a.forwardRef(Jo),hl=v("XCrF"),Ss=v("1GRj");function Ba(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function no(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Ba(Object(b),!0).forEach(function(_){Ts(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):Ba(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Ts(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Va(){return Va=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},Va.apply(this,arguments)}var ko=function(g){var b=g.text,_=g.mode,ie=g.render,we=g.renderFormItem,nt=g.fieldProps,_e=g.placeholder,Qe=g.width;if(_==="read"){var Nt=O.a.createElement(Ss.a,Va({width:Qe||32,src:b},nt));return ie?ie(b,no({mode:_},nt),Nt):Nt}if(_==="edit"||_==="update"){var ut=O.a.createElement(lr.a,Va({placeholder:_e},nt));return we?we(b,no({mode:_},nt),ut):ut}return null},Zo=ko,_o=v("v56E"),vl=v("R9oj"),Xo=v("OaEy"),Ms=v("DFOY"),Is=v("mF9B"),js=["radioType","renderFormItem","mode","render"];function xo(){return xo=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},xo.apply(this,arguments)}function qo(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function ha(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?qo(Object(b),!0).forEach(function(_){es(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):qo(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function es(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function Rs(y,g){return Fs(y)||Ns(y,g)||ts(y,g)||Ds()}function Ds(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ts(y,g){if(!!y){if(typeof y=="string")return Oo(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Oo(y,g)}}function Oo(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function Ns(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function Fs(y){if(Array.isArray(y))return y}function Ls(y,g){if(y==null)return{};var b=Bs(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function Bs(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}var Po=function(g,b){var _=g.radioType,ie=g.renderFormItem,we=g.mode,nt=g.render,_e=Ls(g,js),Qe=Object(S.useContext)(fr.b.ConfigContext),Nt=Qe.getPrefixCls,ut=Nt("pro-field-cascader"),Bt=Object(ii.e)(_e),Kt=Rs(Bt,3),cr=Kt[0],nr=Kt[1],er=Kt[2],xr=Object(S.useRef)();Object(S.useImperativeHandle)(b,function(){return ha(ha({},xr.current||{}),{},{fetchData:function(){return er()}})});var gn=Object(S.useMemo)(function(){return(nr==null?void 0:nr.length)?nr==null?void 0:nr.reduce(function(On,gr){return ha(ha({},On),{},es({},gr.value,gr.label))},{}):void 0},[nr]);if(we==="read"){var dn=O.a.createElement(O.a.Fragment,null,Object(ii.c)(_e.text,Object(ii.a)(_e.valueEnum||gn)));return nt?nt(_e.text,ha({mode:we},_e.fieldProps),dn)||null:dn}if(we==="edit"){var Lr,Kr=O.a.createElement(la.a,{spinning:cr},O.a.createElement(Ms.a,xo({ref:xr},_e.fieldProps,{className:Ma()((Lr=_e.fieldProps)===null||Lr===void 0?void 0:Lr.className,ut),options:nr})));return ie?ie(_e.text,ha({mode:we},_e.fieldProps),Kr)||null:Kr}return null},Eo=O.a.forwardRef(Po),xi=v("15kH"),rs=["mode","popoverProps"];function za(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Co(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?za(Object(b),!0).forEach(function(_){va(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):za(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function va(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}function $i(){return $i=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},$i.apply(this,arguments)}function io(y,g){return Vs(y)||is(y,g)||ns(y,g)||ao()}function ao(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ns(y,g){if(!!y){if(typeof y=="string")return nn(y,g);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return nn(y,g)}}function nn(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,_=new Array(g);b<g;b++)_[b]=y[b];return _}function is(y,g){var b=y==null?null:typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(b!=null){var _=[],ie=!0,we=!1,nt,_e;try{for(b=b.call(y);!(ie=(nt=b.next()).done)&&(_.push(nt.value),!(g&&_.length===g));ie=!0);}catch(Qe){we=!0,_e=Qe}finally{try{!ie&&b.return!=null&&b.return()}finally{if(we)throw _e}}return _}}function Vs(y){if(Array.isArray(y))return y}function Ao(y,g){if(y==null)return{};var b=zs(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function zs(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}var et=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],pa=function(g){var b=g.mode,_=g.popoverProps,ie=Ao(g,rs),we=Object(S.useContext)(fr.b.ConfigContext),nt=we.getPrefixCls,_e=nt("pro-field-color-picker"),Qe=Object(Ue.a)("#1890ff",{value:ie.value,onChange:ie.onChange}),Nt=io(Qe,2),ut=Nt[0],Bt=Nt[1],Kt=O.a.createElement("div",{className:_e,style:{padding:5,width:48,border:"1px solid #ddd",borderRadius:"2px",cursor:"pointer"}},O.a.createElement("div",{style:{backgroundColor:ut,width:36,height:14,borderRadius:"2px"}}));return b==="read"?Kt:O.a.createElement(Xe.a,$i({trigger:"click",placement:"right"},_,{content:O.a.createElement("div",{style:{margin:"-12px -16px"}},O.a.createElement(xi.a,$i({},ie,{presetColors:ie.colors||ie.presetColors||et,color:ut,onChange:function(nr){var er=nr.hex,xr=nr.rgb,gn=xr.r,dn=xr.g,Lr=xr.b,Kr=xr.a;Kr&&Kr<1&&Bt("rgba(".concat(gn,", ").concat(dn,", ").concat(Lr,", ").concat(Kr,")")),Bt(er)}})))}),Kt)},as=function(g){var b=g.text,_=g.mode,ie=g.render,we=g.renderFormItem,nt=g.fieldProps;if(_==="read"){var _e=O.a.createElement(pa,{value:b,mode:"read"});return ie?ie(b,Co({mode:_},nt),_e):_e}if(_==="edit"||_==="update"){var Qe=O.a.createElement(pa,nt);return we?we(b,Co({mode:_},nt),Qe):Qe}return null},So=as,Yi=v("Kwbf"),Tt=["text","valueType","onChange","renderFormItem","value"];function Cr(y,g){if(y==null)return{};var b=oo(y,g),_,ie;if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(y);for(ie=0;ie<we.length;ie++)_=we[ie],!(g.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,_)||(b[_]=y[_]))}return b}function oo(y,g){if(y==null)return{};var b={},_=Object.keys(y),ie,we;for(we=0;we<_.length;we++)ie=_[we],!(g.indexOf(ie)>=0)&&(b[ie]=y[ie]);return b}function ga(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ga=function(b){return typeof b}:ga=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},ga(y)}function pr(){return pr=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},pr.apply(this,arguments)}function so(y,g){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);g&&(_=_.filter(function(ie){return Object.getOwnPropertyDescriptor(y,ie).enumerable})),b.push.apply(b,_)}return b}function Zn(y){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?so(Object(b),!0).forEach(function(_){Ji(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):so(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function Ji(y,g,b){return g in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y}var To=["select","radio","radioButton","checkbook"],Mo=function(g,b,_){var ie=z(_.fieldProps);return b.type==="progress"?O.a.createElement(Je,pr({},_,{text:g,fieldProps:Zn({status:b.status?b.status:void 0},ie)})):b.type==="money"?O.a.createElement(De,pr({locale:b.locale},_,{fieldProps:ie,text:g,moneySymbol:b.moneySymbol})):b.type==="percent"?O.a.createElement(je,pr({},_,{text:g,showSymbol:b.showSymbol,precision:b.precision,fieldProps:ie,showColor:b.showColor})):b.type==="image"?O.a.createElement(Zo,pr({},_,{text:g,width:b.width})):g},Io=function(g,b,_,ie){var we,nt=_.mode,_e=nt===void 0?"read":nt,Qe=_.emptyText,Nt=Qe===void 0?"-":Qe;if(Nt!==!1&&_e==="read"&&b!=="option"&&b!=="switch"&&typeof g!="boolean"&&typeof g!="number"&&!g){var ut=_.fieldProps,Bt=_.render;return Bt?Bt(g,Zn({mode:_e},ut),O.a.createElement(O.a.Fragment,null,Nt)):O.a.createElement(O.a.Fragment,null,Nt)}if(delete _.emptyText,ga(b)==="object")return Mo(g,b,_);var Kt=ie&&ie[b];if(Kt){if(delete _.ref,_e==="read"){var cr;return(cr=Kt.render)===null||cr===void 0?void 0:cr.call(Kt,g,Zn(Zn({text:g},_),{},{mode:_e||"read"}),O.a.createElement(O.a.Fragment,null,g))}if(_e==="update"||_e==="edit"){var nr;return(nr=Kt.renderFormItem)===null||nr===void 0?void 0:nr.call(Kt,g,Zn({text:g},_),O.a.createElement(O.a.Fragment,null,g))}}var er=To.includes(b),xr=!!(_.valueEnum||_.request||_.options||((we=_.fieldProps)===null||we===void 0?void 0:we.options));return Object(Yi.b)(!er||xr,"\u5982\u679C\u8BBE\u7F6E\u4E86 valueType \u4E3A ".concat(To.join(","),"\u4E2D\u4EFB\u610F\u4E00\u4E2A\uFF0C\u5219\u9700\u8981\u914D\u7F6Eoptions\uFF0Crequest, valueEnum \u5176\u4E2D\u4E4B\u4E00\uFF0C\u5426\u5219\u65E0\u6CD5\u751F\u6210\u9009\u9879\u3002")),Object(Yi.b)(!er||xr,"If you set valueType to any of ".concat(To.join(","),", you need to configure options, request or valueEnum.")),b==="money"?O.a.createElement(De,pr({},_,{text:g})):b==="date"?O.a.createElement(Ce,pr({text:g,format:"YYYY-MM-DD"},_)):b==="dateWeek"?O.a.createElement(Ce,pr({text:g,format:"YYYY-wo",picker:"week"},_)):b==="dateMonth"?O.a.createElement(Ce,pr({text:g,format:"YYYY-MM",picker:"month"},_)):b==="dateQuarter"?O.a.createElement(Ce,pr({text:g,format:"YYYY-\\QQ",picker:"quarter"},_)):b==="dateYear"?O.a.createElement(Ce,pr({text:g,format:"YYYY",picker:"year"},_)):b==="dateRange"?O.a.createElement(qr,pr({text:g,format:"YYYY-MM-DD"},_)):b==="dateTime"?O.a.createElement(Ce,pr({text:g,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},_)):b==="dateTimeRange"?O.a.createElement(qr,pr({text:g,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},_)):b==="time"?O.a.createElement(bt,pr({text:g,format:"HH:mm:ss"},_)):b==="timeRange"?O.a.createElement(Ht,pr({text:g,format:"HH:mm:ss"},_)):b==="fromNow"?O.a.createElement(Ve,pr({text:g},_)):b==="index"?O.a.createElement(Te.a,null,g+1):b==="indexBorder"?O.a.createElement(Te.a,{border:!0},g+1):b==="progress"?O.a.createElement(Je,pr({},_,{text:g})):b==="percent"?O.a.createElement(je,pr({text:g},_)):b==="avatar"&&typeof g=="string"&&_.mode==="read"?O.a.createElement(m.a,{src:g,size:22,shape:"circle"}):b==="code"?O.a.createElement(sn,pr({text:g},_)):b==="jsonCode"?O.a.createElement(sn,pr({text:g,language:"json"},_)):b==="textarea"?O.a.createElement($a,pr({text:g},_)):b==="digit"?O.a.createElement(ct,pr({text:g},_)):b==="second"?O.a.createElement(di,pr({text:g},_)):b==="select"||b==="text"&&(_.valueEnum||_.request)?O.a.createElement(ii.b,pr({text:g},_)):b==="checkbox"?O.a.createElement(ei,pr({text:g},_)):b==="radio"?O.a.createElement(Qo,pr({text:g},_)):b==="radioButton"?O.a.createElement(Qo,pr({radioType:"button",text:g},_)):b==="rate"?O.a.createElement(Na,pr({text:g},_)):b==="switch"?O.a.createElement(Ee,pr({text:g},_)):b==="option"?O.a.createElement(sa,pr({text:g},_)):b==="password"?O.a.createElement(ia,pr({text:g},_)):b==="image"?O.a.createElement(Zo,pr({text:g},_)):b==="cascader"?O.a.createElement(Eo,pr({text:g},_)):b==="color"?O.a.createElement(So,pr({text:g},_)):O.a.createElement(pn,pr({text:g},_))},Us=function(g,b){var _,ie=g.text,we=g.valueType,nt=we===void 0?"text":we,_e=g.onChange,Qe=g.renderFormItem,Nt=g.value,ut=Cr(g,Tt),Bt=Object(p.d)(),Kt=Object(S.useContext)(p.b),cr=(Nt!==void 0||_e||(ut==null?void 0:ut.fieldProps))&&Zn(Zn({value:Nt},Object(H.a)(ut==null?void 0:ut.fieldProps)),{},{onChange:function(){for(var er,xr,gn=arguments.length,dn=new Array(gn),Lr=0;Lr<gn;Lr++)dn[Lr]=arguments[Lr];ut==null||(er=ut.fieldProps)===null||er===void 0||(xr=er.onChange)===null||xr===void 0||xr.call.apply(xr,[er].concat(dn)),_e==null||_e.apply(void 0,dn)}});return O.a.createElement(O.a.Fragment,null,Io((_=ie!=null?ie:cr==null?void 0:cr.value)!==null&&_!==void 0?_:"",nt||"text",Zn(Zn({ref:b},ut),{},{mode:ut.mode||"read",renderFormItem:Qe?function(){var nr=Qe.apply(void 0,arguments);return O.a.isValidElement(nr)?O.a.cloneElement(nr,Zn(Zn({placeholder:ut.placeholder||Bt.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},cr),nr.props||{})):nr}:void 0,placeholder:ut.placeholder||Bt.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:z(cr)}),Kt.valueTypeMap))},jo=J.a=O.a.forwardRef(Us)},"/zsF":function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("bE4E"),O=v.n(S)},"1+5i":function(re,J,v){var B=v("w/wX"),m=v("sEf8"),S=v("mdPL"),O=S&&S.isSet,X=O?m(O):B;re.exports=X},"14J3":function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("1GLa")},"15kH":function(re,J,v){"use strict";v.d(J,"a",function(){return Hs});var B=v("q1tI"),m=v.n(B),S=v("/FUP"),O=v.n(S),X=function(w,K,R,F,ce){var he=ce.clientWidth,Oe=ce.clientHeight,Ie=typeof w.pageX=="number"?w.pageX:w.touches[0].pageX,Fe=typeof w.pageY=="number"?w.pageY:w.touches[0].pageY,qe=Ie-(ce.getBoundingClientRect().left+window.pageXOffset),jt=Fe-(ce.getBoundingClientRect().top+window.pageYOffset);if(R==="vertical"){var Pt=void 0;if(jt<0?Pt=0:jt>Oe?Pt=1:Pt=Math.round(jt*100/Oe)/100,K.a!==Pt)return{h:K.h,s:K.s,l:K.l,a:Pt,source:"rgb"}}else{var Mt=void 0;if(qe<0?Mt=0:qe>he?Mt=1:Mt=Math.round(qe*100/he)/100,F!==Mt)return{h:K.h,s:K.s,l:K.l,a:Mt,source:"rgb"}}return null},U={},z=function(w,K,R,F){if(typeof document=="undefined"&&!F)return null;var ce=F?new F:document.createElement("canvas");ce.width=R*2,ce.height=R*2;var he=ce.getContext("2d");return he?(he.fillStyle=w,he.fillRect(0,0,ce.width,ce.height),he.fillStyle=K,he.fillRect(0,0,R,R),he.translate(R,R),he.fillRect(0,0,R,R),ce.toDataURL()):null},H=function(w,K,R,F){var ce=w+"-"+K+"-"+R+(F?"-server":"");if(U[ce])return U[ce];var he=z(w,K,R,F);return U[ce]=he,he},p=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},L=function(w){var K=w.white,R=w.grey,F=w.size,ce=w.renderers,he=w.borderRadius,Oe=w.boxShadow,Ie=w.children,Fe=O()({default:{grid:{borderRadius:he,boxShadow:Oe,absolute:"0px 0px 0px 0px",background:"url("+H(K,R,F,ce.canvas)+") center left"}}});return Object(B.isValidElement)(Ie)?m.a.cloneElement(Ie,p({},Ie.props,{style:p({},Ie.props.style,Fe.grid)})):m.a.createElement("div",{style:Fe.grid})};L.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var C=L,E=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},T=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function D(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function se(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function M(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var $=function(N){M(w,N);function w(){var K,R,F,ce;D(this,w);for(var he=arguments.length,Oe=Array(he),Ie=0;Ie<he;Ie++)Oe[Ie]=arguments[Ie];return ce=(R=(F=se(this,(K=w.__proto__||Object.getPrototypeOf(w)).call.apply(K,[this].concat(Oe))),F),F.handleChange=function(Fe){var qe=X(Fe,F.props.hsl,F.props.direction,F.props.a,F.container);qe&&typeof F.props.onChange=="function"&&F.props.onChange(qe,Fe)},F.handleMouseDown=function(Fe){F.handleChange(Fe),window.addEventListener("mousemove",F.handleChange),window.addEventListener("mouseup",F.handleMouseUp)},F.handleMouseUp=function(){F.unbindEventListeners()},F.unbindEventListeners=function(){window.removeEventListener("mousemove",F.handleChange),window.removeEventListener("mouseup",F.handleMouseUp)},R),se(F,ce)}return T(w,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var R=this,F=this.props.rgb,ce=O()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+F.r+","+F.g+","+F.b+`, 0) 0%,
           rgba(`+F.r+","+F.g+","+F.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:F.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+F.r+","+F.g+","+F.b+`, 0) 0%,
           rgba(`+F.r+","+F.g+","+F.b+", 1) 100%)"},pointer:{left:0,top:F.a*100+"%"}},overwrite:E({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return m.a.createElement("div",{style:ce.alpha},m.a.createElement("div",{style:ce.checkboard},m.a.createElement(C,{renderers:this.props.renderers})),m.a.createElement("div",{style:ce.gradient}),m.a.createElement("div",{style:ce.container,ref:function(Oe){return R.container=Oe},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.a.createElement("div",{style:ce.pointer},this.props.pointer?m.a.createElement(this.props.pointer,this.props):m.a.createElement("div",{style:ce.slider}))))}}]),w}(B.PureComponent||B.Component),j=$,W=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function x(N,w,K){return w in N?Object.defineProperty(N,w,{value:K,enumerable:!0,configurable:!0,writable:!0}):N[w]=K,N}function ne(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function Ae(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function je(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var Te=1,ht=38,yt=40,Ct=[ht,yt],vt=function(w){return Ct.indexOf(w)>-1},Vt=function(w){return Number(String(w).replace(/%/g,""))},gt=1,zt=function(N){je(w,N);function w(K){ne(this,w);var R=Ae(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return R.handleBlur=function(){R.state.blurValue&&R.setState({value:R.state.blurValue,blurValue:null})},R.handleChange=function(F){R.setUpdatedValue(F.target.value,F)},R.handleKeyDown=function(F){var ce=Vt(F.target.value);if(!isNaN(ce)&&vt(F.keyCode)){var he=R.getArrowOffset(),Oe=F.keyCode===ht?ce+he:ce-he;R.setUpdatedValue(Oe,F)}},R.handleDrag=function(F){if(R.props.dragLabel){var ce=Math.round(R.props.value+F.movementX);ce>=0&&ce<=R.props.dragMax&&R.props.onChange&&R.props.onChange(R.getValueObjectWithLabel(ce),F)}},R.handleMouseDown=function(F){R.props.dragLabel&&(F.preventDefault(),R.handleDrag(F),window.addEventListener("mousemove",R.handleDrag),window.addEventListener("mouseup",R.handleMouseUp))},R.handleMouseUp=function(){R.unbindEventListeners()},R.unbindEventListeners=function(){window.removeEventListener("mousemove",R.handleDrag),window.removeEventListener("mouseup",R.handleMouseUp)},R.state={value:String(K.value).toUpperCase(),blurValue:String(K.value).toUpperCase()},R.inputId="rc-editable-input-"+gt++,R}return W(w,[{key:"componentDidUpdate",value:function(R,F){this.props.value!==this.state.value&&(R.value!==this.props.value||F.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(R){return x({},this.props.label,R)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Te}},{key:"setUpdatedValue",value:function(R,F){var ce=this.props.label?this.getValueObjectWithLabel(R):R;this.props.onChange&&this.props.onChange(ce,F),this.setState({value:R})}},{key:"render",value:function(){var R=this,F=O()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return m.a.createElement("div",{style:F.wrap},m.a.createElement("input",{id:this.inputId,style:F.input,ref:function(he){return R.input=he},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?m.a.createElement("label",{htmlFor:this.inputId,style:F.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),w}(B.PureComponent||B.Component),dt=zt,Je=function(w,K,R,F){var ce=F.clientWidth,he=F.clientHeight,Oe=typeof w.pageX=="number"?w.pageX:w.touches[0].pageX,Ie=typeof w.pageY=="number"?w.pageY:w.touches[0].pageY,Fe=Oe-(F.getBoundingClientRect().left+window.pageXOffset),qe=Ie-(F.getBoundingClientRect().top+window.pageYOffset);if(K==="vertical"){var jt=void 0;if(qe<0)jt=359;else if(qe>he)jt=0;else{var Pt=-(qe*100/he)+100;jt=360*Pt/100}if(R.h!==jt)return{h:jt,s:R.s,l:R.l,a:R.a,source:"hsl"}}else{var Mt=void 0;if(Fe<0)Mt=0;else if(Fe>ce)Mt=359;else{var ir=Fe*100/ce;Mt=360*ir/100}if(R.h!==Mt)return{h:Mt,s:R.s,l:R.l,a:R.a,source:"hsl"}}return null},st=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function Xe(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function Ue(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function $e(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var Ke=function(N){$e(w,N);function w(){var K,R,F,ce;Xe(this,w);for(var he=arguments.length,Oe=Array(he),Ie=0;Ie<he;Ie++)Oe[Ie]=arguments[Ie];return ce=(R=(F=Ue(this,(K=w.__proto__||Object.getPrototypeOf(w)).call.apply(K,[this].concat(Oe))),F),F.handleChange=function(Fe){var qe=Je(Fe,F.props.direction,F.props.hsl,F.container);qe&&typeof F.props.onChange=="function"&&F.props.onChange(qe,Fe)},F.handleMouseDown=function(Fe){F.handleChange(Fe),window.addEventListener("mousemove",F.handleChange),window.addEventListener("mouseup",F.handleMouseUp)},F.handleMouseUp=function(){F.unbindEventListeners()},R),Ue(F,ce)}return st(w,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var R=this,F=this.props.direction,ce=F===void 0?"horizontal":F,he=O()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:ce==="vertical"});return m.a.createElement("div",{style:he.hue},m.a.createElement("div",{className:"hue-"+ce,style:he.container,ref:function(Ie){return R.container=Ie},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.a.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),m.a.createElement("div",{style:he.pointer},this.props.pointer?m.a.createElement(this.props.pointer,this.props):m.a.createElement("div",{style:he.slider}))))}}]),w}(B.PureComponent||B.Component),ft=Ke,rt=v("17x9"),Pe=v.n(rt),At=v("oaNE"),qt=function(w){var K=w.zDepth,R=w.radius,F=w.background,ce=w.children,he=w.styles,Oe=he===void 0?{}:he,Ie=O()(Object(At.a)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+K+"px "+K*4+"px rgba(0,0,0,.24)",borderRadius:R,background:F}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},Oe),{"zDepth-1":K===1});return m.a.createElement("div",{style:Ie.wrap},m.a.createElement("div",{style:Ie.bg}),m.a.createElement("div",{style:Ie.content},ce))};qt.propTypes={background:Pe.a.string,zDepth:Pe.a.oneOf([0,1,2,3,4,5]),radius:Pe.a.number,styles:Pe.a.object},qt.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Qr=qt,Dr=v("hbEN"),sr=v("IzLi"),zr="Expected a function";function Ir(N,w,K){var R=!0,F=!0;if(typeof N!="function")throw new TypeError(zr);return Object(sr.a)(K)&&(R="leading"in K?!!K.leading:R,F="trailing"in K?!!K.trailing:F),Object(Dr.a)(N,w,{leading:R,maxWait:w,trailing:F})}var Ur=Ir,te=function(w,K,R){var F=R.getBoundingClientRect(),ce=F.width,he=F.height,Oe=typeof w.pageX=="number"?w.pageX:w.touches[0].pageX,Ie=typeof w.pageY=="number"?w.pageY:w.touches[0].pageY,Fe=Oe-(R.getBoundingClientRect().left+window.pageXOffset),qe=Ie-(R.getBoundingClientRect().top+window.pageYOffset);Fe<0?Fe=0:Fe>ce&&(Fe=ce),qe<0?qe=0:qe>he&&(qe=he);var jt=Fe/ce,Pt=1-qe/he;return{h:K.h,s:jt,v:Pt,a:K.a,source:"hsv"}},Y=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function Q(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function ve(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function ge(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var Be=function(N){ge(w,N);function w(K){Q(this,w);var R=ve(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,K));return R.handleChange=function(F){typeof R.props.onChange=="function"&&R.throttle(R.props.onChange,te(F,R.props.hsl,R.container),F)},R.handleMouseDown=function(F){R.handleChange(F);var ce=R.getContainerRenderWindow();ce.addEventListener("mousemove",R.handleChange),ce.addEventListener("mouseup",R.handleMouseUp)},R.handleMouseUp=function(){R.unbindEventListeners()},R.throttle=Ur(function(F,ce,he){F(ce,he)},50),R}return Y(w,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var R=this.container,F=window;!F.document.contains(R)&&F.parent!==F;)F=F.parent;return F}},{key:"unbindEventListeners",value:function(){var R=this.getContainerRenderWindow();R.removeEventListener("mousemove",this.handleChange),R.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var R=this,F=this.props.style||{},ce=F.color,he=F.white,Oe=F.black,Ie=F.pointer,Fe=F.circle,qe=O()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:ce,white:he,black:Oe,pointer:Ie,circle:Fe}},{custom:!!this.props.style});return m.a.createElement("div",{style:qe.color,ref:function(Pt){return R.container=Pt},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.a.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),m.a.createElement("div",{style:qe.white,className:"saturation-white"},m.a.createElement("div",{style:qe.black,className:"saturation-black"}),m.a.createElement("div",{style:qe.pointer},this.props.pointer?m.a.createElement(this.props.pointer,this.props):m.a.createElement("div",{style:qe.circle}))))}}]),w}(B.PureComponent||B.Component),ze=Be;function xt(N,w){for(var K=-1,R=N==null?0:N.length;++K<R&&w(N[K],K,N)!==!1;);return N}var Ot=xt,ke=v("aZkK"),xe=v("7gMY"),De=v("pyRK"),Ye=v("U6JX"),Ut=Object(Ye.a)(Object.keys,Object),Yt=Ut,Zt=Object.prototype,Or=Zt.hasOwnProperty;function fr(N){if(!Object(De.a)(N))return Yt(N);var w=[];for(var K in Object(N))Or.call(N,K)&&K!="constructor"&&w.push(K);return w}var $r=fr,kr=v("5WsY");function Gt(N){return Object(kr.a)(N)?Object(xe.a)(N):$r(N)}var Tr=Gt;function Nr(N,w){return N&&Object(ke.a)(N,w,Tr)}var Zr=Nr;function ln(N,w){return function(K,R){if(K==null)return K;if(!Object(kr.a)(K))return N(K,R);for(var F=K.length,ce=w?F:-1,he=Object(K);(w?ce--:++ce<F)&&R(he[ce],ce,he)!==!1;);return K}}var fn=ln,En=fn(Zr),_n=En,pe=v("+Xah");function Se(N){return typeof N=="function"?N:pe.a}var Me=Se,Le=v("/1FC");function mt(N,w){var K=Object(Le.a)(N)?Ot:_n;return K(N,Me(w))}var Wt=mt,tr=v("Zss7"),$t=v.n(tr),Ce=function(w){var K=["r","g","b","a","h","s","l","v"],R=0,F=0;return Wt(K,function(ce){if(w[ce]&&(R+=1,isNaN(w[ce])||(F+=1),ce==="s"||ce==="l")){var he=/^\d+%$/;he.test(w[ce])&&(F+=1)}}),R===F?w:!1},We=function(w,K){var R=w.hex?$t()(w.hex):$t()(w),F=R.toHsl(),ce=R.toHsv(),he=R.toRgb(),Oe=R.toHex();F.s===0&&(F.h=K||0,ce.h=K||0);var Ie=Oe==="000000"&&he.a===0;return{hsl:F,hex:Ie?"transparent":"#"+Oe,rgb:he,hsv:ce,oldHue:w.h||K||F.h,source:w.source}},Ge=function(w){if(w==="transparent")return!0;var K=String(w).charAt(0)==="#"?1:0;return w.length!==4+K&&w.length<7+K&&$t()(w).isValid()},wt=function(w){if(!w)return"#fff";var K=We(w);if(K.hex==="transparent")return"rgba(0,0,0,0.4)";var R=(K.rgb.r*299+K.rgb.g*587+K.rgb.b*114)/1e3;return R>=128?"#000":"#fff"},ue={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},ee=function(w,K){var R=w.replace("\xB0","");return $t()(K+" ("+R+")")._ok},de=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},ye=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function Ve(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function lt(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function it(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var at=function(w){var K=function(R){it(F,R);function F(ce){Ve(this,F);var he=lt(this,(F.__proto__||Object.getPrototypeOf(F)).call(this));return he.handleChange=function(Oe,Ie){var Fe=Ce(Oe);if(Fe){var qe=We(Oe,Oe.h||he.state.oldHue);he.setState(qe),he.props.onChangeComplete&&he.debounce(he.props.onChangeComplete,qe,Ie),he.props.onChange&&he.props.onChange(qe,Ie)}},he.handleSwatchHover=function(Oe,Ie){var Fe=Ce(Oe);if(Fe){var qe=We(Oe,Oe.h||he.state.oldHue);he.props.onSwatchHover&&he.props.onSwatchHover(qe,Ie)}},he.state=de({},We(ce.color,0)),he.debounce=Object(Dr.a)(function(Oe,Ie,Fe){Oe(Ie,Fe)},100),he}return ye(F,[{key:"render",value:function(){var he={};return this.props.onSwatchHover&&(he.onSwatchHover=this.handleSwatchHover),m.a.createElement(w,de({},this.props,this.state,{onChange:this.handleChange},he))}}],[{key:"getDerivedStateFromProps",value:function(he,Oe){return de({},We(he.color,Oe.oldHue))}}]),F}(B.PureComponent||B.Component);return K.propTypes=de({},w.propTypes),K.defaultProps=de({},w.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),K},pt=at,Er=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},Ar=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function or(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function Br(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function on(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var bn=function(w){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(R){on(F,R);function F(){var ce,he,Oe,Ie;or(this,F);for(var Fe=arguments.length,qe=Array(Fe),jt=0;jt<Fe;jt++)qe[jt]=arguments[jt];return Ie=(he=(Oe=Br(this,(ce=F.__proto__||Object.getPrototypeOf(F)).call.apply(ce,[this].concat(qe))),Oe),Oe.state={focus:!1},Oe.handleFocus=function(){return Oe.setState({focus:!0})},Oe.handleBlur=function(){return Oe.setState({focus:!1})},he),Br(Oe,Ie)}return Ar(F,[{key:"render",value:function(){return m.a.createElement(K,{onFocus:this.handleFocus,onBlur:this.handleBlur},m.a.createElement(w,Er({},this.props,this.state)))}}]),F}(m.a.Component)},jn=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},qr=13,un=function(w){var K=w.color,R=w.style,F=w.onClick,ce=F===void 0?function(){}:F,he=w.onHover,Oe=w.title,Ie=Oe===void 0?K:Oe,Fe=w.children,qe=w.focus,jt=w.focusStyle,Pt=jt===void 0?{}:jt,Mt=K==="transparent",ir=O()({default:{swatch:jn({background:K,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},R,qe?Pt:{})}}),ar=function(Pi){return ce(K,Pi)},mr=function(Pi){return Pi.keyCode===qr&&ce(K,Pi)},Mn=function(Pi){return he(K,Pi)},Ii={};return he&&(Ii.onMouseOver=Mn),m.a.createElement("div",jn({style:ir.swatch,onClick:ar,title:Ie,tabIndex:0,onKeyDown:mr},Ii),Fe,Mt&&m.a.createElement(C,{borderRadius:ir.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))},lr=bn(un),Pr=function(w){var K=w.direction,R=O()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:K==="vertical"});return m.a.createElement("div",{style:R.picker})},hn=Pr,cn=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},jr=function(w){var K=w.rgb,R=w.hsl,F=w.width,ce=w.height,he=w.onChange,Oe=w.direction,Ie=w.style,Fe=w.renderers,qe=w.pointer,jt=w.className,Pt=jt===void 0?"":jt,Mt=O()({default:{picker:{position:"relative",width:F,height:ce},alpha:{radius:"2px",style:Ie}}});return m.a.createElement("div",{style:Mt.picker,className:"alpha-picker "+Pt},m.a.createElement(j,cn({},Mt.alpha,{rgb:K,hsl:R,pointer:qe,renderers:Fe,onChange:he,direction:Oe})))};jr.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:hn};var hr=pt(jr),Vr=v("twO/"),sn=v("oSzE"),It=v("DlmY"),Rn="__lodash_hash_undefined__";function Xr(N){return this.__data__.set(N,Rn),this}var br=Xr;function dr(N){return this.__data__.has(N)}var Fr=dr;function vr(N){var w=-1,K=N==null?0:N.length;for(this.__data__=new It.a;++w<K;)this.add(N[w])}vr.prototype.add=vr.prototype.push=br,vr.prototype.has=Fr;var Cn=vr;function en(N,w){for(var K=-1,R=N==null?0:N.length;++K<R;)if(w(N[K],K,N))return!0;return!1}var Dn=en;function Wr(N,w){return N.has(w)}var Bn=Wr,Yr=1,Ht=2;function bt(N,w,K,R,F,ce){var he=K&Yr,Oe=N.length,Ie=w.length;if(Oe!=Ie&&!(he&&Ie>Oe))return!1;var Fe=ce.get(N),qe=ce.get(w);if(Fe&&qe)return Fe==w&&qe==N;var jt=-1,Pt=!0,Mt=K&Ht?new Cn:void 0;for(ce.set(N,w),ce.set(w,N);++jt<Oe;){var ir=N[jt],ar=w[jt];if(R)var mr=he?R(ar,ir,jt,w,N,ce):R(ir,ar,jt,N,w,ce);if(mr!==void 0){if(mr)continue;Pt=!1;break}if(Mt){if(!Dn(w,function(Mn,Ii){if(!Bn(Mt,Ii)&&(ir===Mn||F(ir,Mn,K,R,ce)))return Mt.push(Ii)})){Pt=!1;break}}else if(!(ir===ar||F(ir,ar,K,R,ce))){Pt=!1;break}}return ce.delete(N),ce.delete(w),Pt}var Lt=bt,ur=v("ylTp"),_r=v("Ce4a"),vn=v("YHEm");function Mr(N){var w=-1,K=Array(N.size);return N.forEach(function(R,F){K[++w]=[F,R]}),K}var pn=Mr;function ci(N){var w=-1,K=Array(N.size);return N.forEach(function(R){K[++w]=R}),K}var Ka=ci,Pa=1,Ea=2,Ga="[object Boolean]",$a="[object Date]",Ya="[object Error]",Ci="[object Map]",Ja="[object Number]",ta="[object RegExp]",Ca="[object Set]",Ai="[object String]",ra="[object Symbol]",Fi="[object ArrayBuffer]",Aa="[object DataView]",Qa=ur.a?ur.a.prototype:void 0,Li=Qa?Qa.valueOf:void 0;function Sa(N,w,K,R,F,ce,he){switch(K){case Aa:if(N.byteLength!=w.byteLength||N.byteOffset!=w.byteOffset)return!1;N=N.buffer,w=w.buffer;case Fi:return!(N.byteLength!=w.byteLength||!ce(new _r.a(N),new _r.a(w)));case Ga:case $a:case Ja:return Object(vn.a)(+N,+w);case Ya:return N.name==w.name&&N.message==w.message;case ta:case Ai:return N==w+"";case Ci:var Oe=pn;case Ca:var Ie=R&Pa;if(Oe||(Oe=Ka),N.size!=w.size&&!Ie)return!1;var Fe=he.get(N);if(Fe)return Fe==w;R|=Ea,he.set(N,w);var qe=Lt(Oe(N),Oe(w),R,F,ce,he);return he.delete(N),qe;case ra:if(Li)return Li.call(N)==Li.call(w)}return!1}var na=Sa;function Ta(N,w){for(var K=-1,R=w.length,F=N.length;++K<R;)N[F+K]=w[K];return N}var ki=Ta;function Bi(N,w,K){var R=w(N);return Object(Le.a)(N)?R:ki(R,K(N))}var vo=Bi;function po(N,w){for(var K=-1,R=N==null?0:N.length,F=0,ce=[];++K<R;){var he=N[K];w(he,K,N)&&(ce[F++]=he)}return ce}var ia=po;function ni(){return[]}var aa=ni,go=Object.prototype,Za=go.propertyIsEnumerable,oa=Object.getOwnPropertySymbols,sa=oa?function(N){return N==null?[]:(N=Object(N),ia(oa(N),function(w){return Za.call(N,w)}))}:aa,ii=sa;function mo(N){return vo(N,Tr,ii)}var Xa=mo,qa=1,la=Object.prototype,eo=la.hasOwnProperty;function Ma(N,w,K,R,F,ce){var he=K&qa,Oe=Xa(N),Ie=Oe.length,Fe=Xa(w),qe=Fe.length;if(Ie!=qe&&!he)return!1;for(var jt=Ie;jt--;){var Pt=Oe[jt];if(!(he?Pt in w:eo.call(w,Pt)))return!1}var Mt=ce.get(N),ir=ce.get(w);if(Mt&&ir)return Mt==w&&ir==N;var ar=!0;ce.set(N,w),ce.set(w,N);for(var mr=he;++jt<Ie;){Pt=Oe[jt];var Mn=N[Pt],Ii=w[Pt];if(R)var No=he?R(Ii,Mn,Pt,w,N,ce):R(Mn,Ii,Pt,N,w,ce);if(!(No===void 0?Mn===Ii||F(Mn,Ii,K,R,ce):No)){ar=!1;break}mr||(mr=Pt=="constructor")}if(ar&&!mr){var Pi=N.constructor,fs=w.constructor;Pi!=fs&&"constructor"in N&&"constructor"in w&&!(typeof Pi=="function"&&Pi instanceof Pi&&typeof fs=="function"&&fs instanceof fs)&&(ar=!1)}return ce.delete(N),ce.delete(w),ar}var bo=Ma,Vi=v("Y7yP"),Si=v("Ju5/"),Ia=Object(Vi.a)(Si.a,"DataView"),gi=Ia,Hr=v("3cmB"),ja=Object(Vi.a)(Si.a,"Promise"),ua=ja,ai=Object(Vi.a)(Si.a,"Set"),zi=ai,tn=Object(Vi.a)(Si.a,"WeakMap"),Ra=tn,Da=v("8M4i"),oi=v("dLWn"),Vn="[object Map]",ei="[object Object]",ca="[object Promise]",me="[object Set]",si="[object WeakMap]",Ui="[object DataView]",rn=Object(oi.a)(gi),Wi=Object(oi.a)(Hr.a),da=Object(oi.a)(ua),Na=Object(oi.a)(zi),Fa=Object(oi.a)(Ra),yn=Da.a;(gi&&yn(new gi(new ArrayBuffer(1)))!=Ui||Hr.a&&yn(new Hr.a)!=Vn||ua&&yn(ua.resolve())!=ca||zi&&yn(new zi)!=me||Ra&&yn(new Ra)!=si)&&(yn=function(w){var K=Object(Da.a)(w),R=K==ei?w.constructor:void 0,F=R?Object(oi.a)(R):"";if(F)switch(F){case rn:return Ui;case Wi:return Vn;case da:return ca;case Na:return me;case Fa:return si}return K});var Hi=yn,Hn=v("WOAq"),rr=v("oYcn"),Un=1,mi="[object Arguments]",to="[object Array]",Ee="[object Object]",V=Object.prototype,oe=V.hasOwnProperty;function fe(N,w,K,R,F,ce){var he=Object(Le.a)(N),Oe=Object(Le.a)(w),Ie=he?to:Hi(N),Fe=Oe?to:Hi(w);Ie=Ie==mi?Ee:Ie,Fe=Fe==mi?Ee:Fe;var qe=Ie==Ee,jt=Fe==Ee,Pt=Ie==Fe;if(Pt&&Object(Hn.a)(N)){if(!Object(Hn.a)(w))return!1;he=!0,qe=!1}if(Pt&&!qe)return ce||(ce=new sn.a),he||Object(rr.a)(N)?Lt(N,w,K,R,F,ce):na(N,w,Ie,K,R,F,ce);if(!(K&Un)){var Mt=qe&&oe.call(N,"__wrapped__"),ir=jt&&oe.call(w,"__wrapped__");if(Mt||ir){var ar=Mt?N.value():N,mr=ir?w.value():w;return ce||(ce=new sn.a),F(ar,mr,K,R,ce)}}return Pt?(ce||(ce=new sn.a),bo(N,w,K,R,F,ce)):!1}var le=fe,He=v("EUcb");function ct(N,w,K,R,F){return N===w?!0:N==null||w==null||!Object(He.a)(N)&&!Object(He.a)(w)?N!==N&&w!==w:le(N,w,K,R,ct,F)}var tt=ct,Ft=1,yr=2;function Sr(N,w,K,R){var F=K.length,ce=F,he=!R;if(N==null)return!ce;for(N=Object(N);F--;){var Oe=K[F];if(he&&Oe[2]?Oe[1]!==N[Oe[0]]:!(Oe[0]in N))return!1}for(;++F<ce;){Oe=K[F];var Ie=Oe[0],Fe=N[Ie],qe=Oe[1];if(he&&Oe[2]){if(Fe===void 0&&!(Ie in N))return!1}else{var jt=new sn.a;if(R)var Pt=R(Fe,qe,Ie,N,w,jt);if(!(Pt===void 0?tt(qe,Fe,Ft|yr,R,jt):Pt))return!1}}return!0}var bi=Sr;function Wn(N){return N===N&&!Object(sr.a)(N)}var di=Wn;function _i(N){for(var w=Tr(N),K=w.length;K--;){var R=w[K],F=N[R];w[K]=[R,F,di(F)]}return w}var Ti=_i;function Jn(N,w){return function(K){return K==null?!1:K[N]===w&&(w!==void 0||N in Object(K))}}var Qn=Jn;function Ki(N){var w=Ti(N);return w.length==1&&w[0][2]?Qn(w[0][0],w[0][1]):function(K){return K===N||bi(K,N,w)}}var fa=Ki,kn=v("G8aS"),li=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gi=/^\w*$/;function $o(N,w){if(Object(Le.a)(N))return!1;var K=typeof N;return K=="number"||K=="symbol"||K=="boolean"||N==null||Object(kn.a)(N)?!0:Gi.test(N)||!li.test(N)||w!=null&&N in Object(w)}var yo=$o,ro="Expected a function";function La(N,w){if(typeof N!="function"||w!=null&&typeof w!="function")throw new TypeError(ro);var K=function R(){var F=arguments,ce=w?w.apply(this,F):F[0],he=R.cache;if(he.has(ce))return he.get(ce);var Oe=N.apply(this,F);return R.cache=he.set(ce,Oe)||he,Oe};return K.cache=new(La.Cache||It.a),K}La.Cache=It.a;var As=La,wo=500;function Yo(N){var w=As(N,function(R){return K.size===wo&&K.clear(),R}),K=w.cache;return w}var Jo=Yo,Qo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hl=/\\(\\)?/g,Ss=Jo(function(N){var w=[];return N.charCodeAt(0)===46&&w.push(""),N.replace(Qo,function(K,R,F,ce){w.push(F?ce.replace(hl,"$1"):R||K)}),w}),Ba=Ss,no=v("efZk");function Ts(N,w){return Object(Le.a)(N)?N:yo(N,w)?[N]:Ba(Object(no.a)(N))}var Va=Ts,ko=1/0;function Zo(N){if(typeof N=="string"||Object(kn.a)(N))return N;var w=N+"";return w=="0"&&1/N==-ko?"-0":w}var _o=Zo;function vl(N,w){w=Va(w,N);for(var K=0,R=w.length;N!=null&&K<R;)N=N[_o(w[K++])];return K&&K==R?N:void 0}var Xo=vl;function Ms(N,w,K){var R=N==null?void 0:Xo(N,w);return R===void 0?K:R}var Is=Ms;function js(N,w){return N!=null&&w in Object(N)}var xo=js,qo=v("9f76"),ha=v("cSlR"),es=v("Js68");function Rs(N,w,K){w=Va(w,N);for(var R=-1,F=w.length,ce=!1;++R<F;){var he=_o(w[R]);if(!(ce=N!=null&&K(N,he)))break;N=N[he]}return ce||++R!=F?ce:(F=N==null?0:N.length,!!F&&Object(es.a)(F)&&Object(ha.a)(he,F)&&(Object(Le.a)(N)||Object(qo.a)(N)))}var Ds=Rs;function ts(N,w){return N!=null&&Ds(N,w,xo)}var Oo=ts,Ns=1,Fs=2;function Ls(N,w){return yo(N)&&di(w)?Qn(_o(N),w):function(K){var R=Is(K,N);return R===void 0&&R===w?Oo(K,N):tt(w,R,Ns|Fs)}}var Bs=Ls;function Po(N){return function(w){return w==null?void 0:w[N]}}var Eo=Po;function xi(N){return function(w){return Xo(w,N)}}var rs=xi;function za(N){return yo(N)?Eo(_o(N)):rs(N)}var Co=za;function va(N){return typeof N=="function"?N:N==null?pe.a:typeof N=="object"?Object(Le.a)(N)?Bs(N[0],N[1]):fa(N):Co(N)}var $i=va;function io(N,w){var K=-1,R=Object(kr.a)(N)?Array(N.length):[];return _n(N,function(F,ce,he){R[++K]=w(F,ce,he)}),R}var ao=io;function ns(N,w){var K=Object(Le.a)(N)?Vr.a:ao;return K(N,$i(w,3))}var nn=ns,is=function(w){var K=w.colors,R=w.onClick,F=w.onSwatchHover,ce=O()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return m.a.createElement("div",{style:ce.swatches},nn(K,function(he){return m.a.createElement(lr,{key:he,color:he,style:ce.swatch,onClick:R,onHover:F,focusStyle:{boxShadow:"0 0 4px "+he}})}),m.a.createElement("div",{style:ce.clear}))},Vs=is,Ao=function(w){var K=w.onChange,R=w.onSwatchHover,F=w.hex,ce=w.colors,he=w.width,Oe=w.triangle,Ie=w.styles,Fe=Ie===void 0?{}:Ie,qe=w.className,jt=qe===void 0?"":qe,Pt=F==="transparent",Mt=function(mr,Mn){Ge(mr)&&K({hex:mr,source:"hex"},Mn)},ir=O()(Object(At.a)({default:{card:{width:he,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:F,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:wt(F),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+F+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},Fe),{"hide-triangle":Oe==="hide"});return m.a.createElement("div",{style:ir.card,className:"block-picker "+jt},m.a.createElement("div",{style:ir.triangle}),m.a.createElement("div",{style:ir.head},Pt&&m.a.createElement(C,{borderRadius:"6px 6px 0 0"}),m.a.createElement("div",{style:ir.label},F)),m.a.createElement("div",{style:ir.body},m.a.createElement(Vs,{colors:ce,onClick:Mt,onSwatchHover:R}),m.a.createElement(dt,{style:{input:ir.input},value:F,onChange:Mt})))};Ao.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),colors:Pe.a.arrayOf(Pe.a.string),triangle:Pe.a.oneOf(["top","hide"]),styles:Pe.a.object},Ao.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};var zs=pt(Ao),et=v("wME1"),pa=function(w){var K=w.color,R=w.onClick,F=w.onSwatchHover,ce=w.hover,he=w.active,Oe=w.circleSize,Ie=w.circleSpacing,Fe=O()({default:{swatch:{width:Oe,height:Oe,marginRight:Ie,marginBottom:Ie,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(Oe/2+1)+"px "+K,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+K}}},{hover:ce,active:he});return m.a.createElement("div",{style:Fe.swatch},m.a.createElement(lr,{style:Fe.Swatch,color:K,onClick:R,onHover:F,focusStyle:{boxShadow:Fe.Swatch.boxShadow+", 0 0 5px "+K}}))};pa.defaultProps={circleSize:28,circleSpacing:14};var as=Object(S.handleHover)(pa),So=function(w){var K=w.width,R=w.onChange,F=w.onSwatchHover,ce=w.colors,he=w.hex,Oe=w.circleSize,Ie=w.styles,Fe=Ie===void 0?{}:Ie,qe=w.circleSpacing,jt=w.className,Pt=jt===void 0?"":jt,Mt=O()(Object(At.a)({default:{card:{width:K,display:"flex",flexWrap:"wrap",marginRight:-qe,marginBottom:-qe}}},Fe)),ir=function(mr,Mn){return R({hex:mr,source:"hex"},Mn)};return m.a.createElement("div",{style:Mt.card,className:"circle-picker "+Pt},nn(ce,function(ar){return m.a.createElement(as,{key:ar,color:ar,onClick:ir,onSwatchHover:F,active:he===ar.toLowerCase(),circleSize:Oe,circleSpacing:qe})}))};So.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),circleSize:Pe.a.number,circleSpacing:Pe.a.number,styles:Pe.a.object},So.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[et.p["500"],et.n["500"],et.o["500"],et.g["500"],et.i["500"],et.b["500"],et.j["500"],et.e["500"],et.q["500"],et.h["500"],et.k["500"],et.l["500"],et.r["500"],et.a["500"],et.m["500"],et.f["500"],et.d["500"],et.c["500"]],styles:{}};var Yi=pt(So),Tt=v("3Hq1"),Cr=v("9F0J"),oo=v.n(Cr),ga=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function pr(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function so(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function Zn(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var Ji=function(N){Zn(w,N);function w(K){pr(this,w);var R=so(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return R.toggleViews=function(){R.state.view==="hex"?R.setState({view:"rgb"}):R.state.view==="rgb"?R.setState({view:"hsl"}):R.state.view==="hsl"&&(R.props.hsl.a===1?R.setState({view:"hex"}):R.setState({view:"rgb"}))},R.handleChange=function(F,ce){F.hex?Ge(F.hex)&&R.props.onChange({hex:F.hex,source:"hex"},ce):F.r||F.g||F.b?R.props.onChange({r:F.r||R.props.rgb.r,g:F.g||R.props.rgb.g,b:F.b||R.props.rgb.b,source:"rgb"},ce):F.a?(F.a<0?F.a=0:F.a>1&&(F.a=1),R.props.onChange({h:R.props.hsl.h,s:R.props.hsl.s,l:R.props.hsl.l,a:Math.round(F.a*100)/100,source:"rgb"},ce)):(F.h||F.s||F.l)&&(typeof F.s=="string"&&F.s.includes("%")&&(F.s=F.s.replace("%","")),typeof F.l=="string"&&F.l.includes("%")&&(F.l=F.l.replace("%","")),F.s==1?F.s=.01:F.l==1&&(F.l=.01),R.props.onChange({h:F.h||R.props.hsl.h,s:Number(Object(Tt.a)(F.s)?R.props.hsl.s:F.s),l:Number(Object(Tt.a)(F.l)?R.props.hsl.l:F.l),source:"hsl"},ce))},R.showHighlight=function(F){F.currentTarget.style.background="#eee"},R.hideHighlight=function(F){F.currentTarget.style.background="transparent"},K.hsl.a!==1&&K.view==="hex"?R.state={view:"rgb"}:R.state={view:K.view},R}return ga(w,[{key:"render",value:function(){var R=this,F=O()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),ce=void 0;return this.state.view==="hex"?ce=m.a.createElement("div",{style:F.fields,className:"flexbox-fix"},m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?ce=m.a.createElement("div",{style:F.fields,className:"flexbox-fix"},m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),m.a.createElement("div",{style:F.alpha},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(ce=m.a.createElement("div",{style:F.fields,className:"flexbox-fix"},m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),m.a.createElement("div",{style:F.field},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),m.a.createElement("div",{style:F.alpha},m.a.createElement(dt,{style:{input:F.input,label:F.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),m.a.createElement("div",{style:F.wrap,className:"flexbox-fix"},ce,m.a.createElement("div",{style:F.toggle},m.a.createElement("div",{style:F.icon,onClick:this.toggleViews,ref:function(Oe){return R.icon=Oe}},m.a.createElement(oo.a,{style:F.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(R,F){return R.hsl.a!==1&&F.view==="hex"?{view:"rgb"}:null}}]),w}(m.a.Component);Ji.defaultProps={view:"hex"};var To=Ji,Mo=function(){var w=O()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return m.a.createElement("div",{style:w.picker})},Io=Mo,Us=function(){var w=O()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return m.a.createElement("div",{style:w.picker})},jo=Us,y=function(w){var K=w.width,R=w.onChange,F=w.disableAlpha,ce=w.rgb,he=w.hsl,Oe=w.hsv,Ie=w.hex,Fe=w.renderers,qe=w.styles,jt=qe===void 0?{}:qe,Pt=w.className,Mt=Pt===void 0?"":Pt,ir=w.defaultView,ar=O()(Object(At.a)({default:{picker:{width:K,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+ce.r+", "+ce.g+", "+ce.b+", "+ce.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},jt),{disableAlpha:F});return m.a.createElement("div",{style:ar.picker,className:"chrome-picker "+Mt},m.a.createElement("div",{style:ar.saturation},m.a.createElement(ze,{style:ar.Saturation,hsl:he,hsv:Oe,pointer:jo,onChange:R})),m.a.createElement("div",{style:ar.body},m.a.createElement("div",{style:ar.controls,className:"flexbox-fix"},m.a.createElement("div",{style:ar.color},m.a.createElement("div",{style:ar.swatch},m.a.createElement("div",{style:ar.active}),m.a.createElement(C,{renderers:Fe}))),m.a.createElement("div",{style:ar.toggles},m.a.createElement("div",{style:ar.hue},m.a.createElement(ft,{style:ar.Hue,hsl:he,pointer:Io,onChange:R})),m.a.createElement("div",{style:ar.alpha},m.a.createElement(j,{style:ar.Alpha,rgb:ce,hsl:he,pointer:Io,renderers:Fe,onChange:R})))),m.a.createElement(To,{rgb:ce,hsl:he,hex:Ie,view:ir,onChange:R,disableAlpha:F})))};y.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),disableAlpha:Pe.a.bool,styles:Pe.a.object,defaultView:Pe.a.oneOf(["hex","rgb","hsl"])},y.defaultProps={width:225,disableAlpha:!1,styles:{}};var g=pt(y),b=function(w){var K=w.color,R=w.onClick,F=R===void 0?function(){}:R,ce=w.onSwatchHover,he=w.active,Oe=O()({default:{color:{background:K,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:wt(K),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:he,"color-#FFFFFF":K==="#FFFFFF",transparent:K==="transparent"});return m.a.createElement(lr,{style:Oe.color,color:K,onClick:F,onHover:ce,focusStyle:{boxShadow:"0 0 4px "+K}},m.a.createElement("div",{style:Oe.dot}))},_=b,ie=function(w){var K=w.hex,R=w.rgb,F=w.onChange,ce=O()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:K},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),he=function(Ie,Fe){Ie.r||Ie.g||Ie.b?F({r:Ie.r||R.r,g:Ie.g||R.g,b:Ie.b||R.b,source:"rgb"},Fe):F({hex:Ie.hex,source:"hex"},Fe)};return m.a.createElement("div",{style:ce.fields,className:"flexbox-fix"},m.a.createElement("div",{style:ce.active}),m.a.createElement(dt,{style:{wrap:ce.HEXwrap,input:ce.HEXinput,label:ce.HEXlabel},label:"hex",value:K,onChange:he}),m.a.createElement(dt,{style:{wrap:ce.RGBwrap,input:ce.RGBinput,label:ce.RGBlabel},label:"r",value:R.r,onChange:he}),m.a.createElement(dt,{style:{wrap:ce.RGBwrap,input:ce.RGBinput,label:ce.RGBlabel},label:"g",value:R.g,onChange:he}),m.a.createElement(dt,{style:{wrap:ce.RGBwrap,input:ce.RGBinput,label:ce.RGBlabel},label:"b",value:R.b,onChange:he}))},we=ie,nt=function(w){var K=w.onChange,R=w.onSwatchHover,F=w.colors,ce=w.hex,he=w.rgb,Oe=w.styles,Ie=Oe===void 0?{}:Oe,Fe=w.className,qe=Fe===void 0?"":Fe,jt=O()(Object(At.a)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},Ie)),Pt=function(ir,ar){ir.hex?Ge(ir.hex)&&K({hex:ir.hex,source:"hex"},ar):K(ir,ar)};return m.a.createElement(Qr,{style:jt.Compact,styles:Ie},m.a.createElement("div",{style:jt.compact,className:"compact-picker "+qe},m.a.createElement("div",null,nn(F,function(Mt){return m.a.createElement(_,{key:Mt,color:Mt,active:Mt.toLowerCase()===ce,onClick:Pt,onSwatchHover:R})}),m.a.createElement("div",{style:jt.clear})),m.a.createElement(we,{hex:ce,rgb:he,onChange:Pt})))};nt.propTypes={colors:Pe.a.arrayOf(Pe.a.string),styles:Pe.a.object},nt.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};var _e=pt(nt),Qe=function(w){var K=w.hover,R=w.color,F=w.onClick,ce=w.onSwatchHover,he={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},Oe=O()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:he}},{hover:K});return m.a.createElement("div",{style:Oe.swatch},m.a.createElement(lr,{color:R,onClick:F,onHover:ce,focusStyle:he}))},Nt=Object(S.handleHover)(Qe),ut=function(w){var K=w.width,R=w.colors,F=w.onChange,ce=w.onSwatchHover,he=w.triangle,Oe=w.styles,Ie=Oe===void 0?{}:Oe,Fe=w.className,qe=Fe===void 0?"":Fe,jt=O()(Object(At.a)({default:{card:{width:K,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},Ie),{"hide-triangle":he==="hide","top-left-triangle":he==="top-left","top-right-triangle":he==="top-right","bottom-left-triangle":he==="bottom-left","bottom-right-triangle":he==="bottom-right"}),Pt=function(ir,ar){return F({hex:ir,source:"hex"},ar)};return m.a.createElement("div",{style:jt.card,className:"github-picker "+qe},m.a.createElement("div",{style:jt.triangleShadow}),m.a.createElement("div",{style:jt.triangle}),nn(R,function(Mt){return m.a.createElement(Nt,{color:Mt,key:Mt,onClick:Pt,onSwatchHover:ce})}))};ut.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),colors:Pe.a.arrayOf(Pe.a.string),triangle:Pe.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Pe.a.object},ut.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};var Bt=pt(ut),Kt=function(w){var K=w.direction,R=O()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:K==="vertical"});return m.a.createElement("div",{style:R.picker})},cr=Kt,nr=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},er=function(w){var K=w.width,R=w.height,F=w.onChange,ce=w.hsl,he=w.direction,Oe=w.pointer,Ie=w.styles,Fe=Ie===void 0?{}:Ie,qe=w.className,jt=qe===void 0?"":qe,Pt=O()(Object(At.a)({default:{picker:{position:"relative",width:K,height:R},hue:{radius:"2px"}}},Fe)),Mt=function(ar){return F({a:1,h:ar.h,l:.5,s:1})};return m.a.createElement("div",{style:Pt.picker,className:"hue-picker "+jt},m.a.createElement(ft,nr({},Pt.hue,{hsl:ce,pointer:Oe,onChange:Mt,direction:he})))};er.propTypes={styles:Pe.a.object},er.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:cr,styles:{}};var xr=pt(er),gn=function(w){var K=w.onChange,R=w.hex,F=w.rgb,ce=w.styles,he=ce===void 0?{}:ce,Oe=w.className,Ie=Oe===void 0?"":Oe,Fe=O()(Object(At.a)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+R,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},he)),qe=function(Pt,Mt){Pt.hex?Ge(Pt.hex)&&K({hex:Pt.hex,source:"hex"},Mt):(Pt.r||Pt.g||Pt.b)&&K({r:Pt.r||F.r,g:Pt.g||F.g,b:Pt.b||F.b,source:"rgb"},Mt)};return m.a.createElement(Qr,{styles:he},m.a.createElement("div",{style:Fe.material,className:"material-picker "+Ie},m.a.createElement(dt,{style:{wrap:Fe.HEXwrap,input:Fe.HEXinput,label:Fe.HEXlabel},label:"hex",value:R,onChange:qe}),m.a.createElement("div",{style:Fe.split,className:"flexbox-fix"},m.a.createElement("div",{style:Fe.third},m.a.createElement(dt,{style:{wrap:Fe.RGBwrap,input:Fe.RGBinput,label:Fe.RGBlabel},label:"r",value:F.r,onChange:qe})),m.a.createElement("div",{style:Fe.third},m.a.createElement(dt,{style:{wrap:Fe.RGBwrap,input:Fe.RGBinput,label:Fe.RGBlabel},label:"g",value:F.g,onChange:qe})),m.a.createElement("div",{style:Fe.third},m.a.createElement(dt,{style:{wrap:Fe.RGBwrap,input:Fe.RGBinput,label:Fe.RGBlabel},label:"b",value:F.b,onChange:qe})))))},dn=pt(gn),Lr=function(w){var K=w.onChange,R=w.rgb,F=w.hsv,ce=w.hex,he=O()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),Oe=function(Fe,qe){Fe["#"]?Ge(Fe["#"])&&K({hex:Fe["#"],source:"hex"},qe):Fe.r||Fe.g||Fe.b?K({r:Fe.r||R.r,g:Fe.g||R.g,b:Fe.b||R.b,source:"rgb"},qe):(Fe.h||Fe.s||Fe.v)&&K({h:Fe.h||F.h,s:Fe.s||F.s,v:Fe.v||F.v,source:"hsv"},qe)};return m.a.createElement("div",{style:he.fields},m.a.createElement(dt,{style:{wrap:he.RGBwrap,input:he.RGBinput,label:he.RGBlabel},label:"h",value:Math.round(F.h),onChange:Oe}),m.a.createElement(dt,{style:{wrap:he.RGBwrap,input:he.RGBinput,label:he.RGBlabel},label:"s",value:Math.round(F.s*100),onChange:Oe}),m.a.createElement(dt,{style:{wrap:he.RGBwrap,input:he.RGBinput,label:he.RGBlabel},label:"v",value:Math.round(F.v*100),onChange:Oe}),m.a.createElement("div",{style:he.divider}),m.a.createElement(dt,{style:{wrap:he.RGBwrap,input:he.RGBinput,label:he.RGBlabel},label:"r",value:R.r,onChange:Oe}),m.a.createElement(dt,{style:{wrap:he.RGBwrap,input:he.RGBinput,label:he.RGBlabel},label:"g",value:R.g,onChange:Oe}),m.a.createElement(dt,{style:{wrap:he.RGBwrap,input:he.RGBinput,label:he.RGBlabel},label:"b",value:R.b,onChange:Oe}),m.a.createElement("div",{style:he.divider}),m.a.createElement(dt,{style:{wrap:he.HEXwrap,input:he.HEXinput,label:he.HEXlabel},label:"#",value:ce.replace("#",""),onChange:Oe}),m.a.createElement("div",{style:he.fieldSymbols},m.a.createElement("div",{style:he.symbol},"\xB0"),m.a.createElement("div",{style:he.symbol},"%"),m.a.createElement("div",{style:he.symbol},"%")))},Kr=Lr,On=function(w){var K=w.hsl,R=O()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":K.l>.5});return m.a.createElement("div",{style:R.picker})},gr=On,An=function(){var w=O()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return m.a.createElement("div",{style:w.pointer},m.a.createElement("div",{style:w.left},m.a.createElement("div",{style:w.leftInside})),m.a.createElement("div",{style:w.right},m.a.createElement("div",{style:w.rightInside})))},Mi=An,Kn=function(w){var K=w.onClick,R=w.label,F=w.children,ce=w.active,he=O()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:ce});return m.a.createElement("div",{style:he.button,onClick:K},R||F)},Sn=Kn,Nn=function(w){var K=w.rgb,R=w.currentColor,F=O()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+K.r+","+K.g+", "+K.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:R,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return m.a.createElement("div",null,m.a.createElement("div",{style:F.label},"new"),m.a.createElement("div",{style:F.swatches},m.a.createElement("div",{style:F.new}),m.a.createElement("div",{style:F.current})),m.a.createElement("div",{style:F.label},"current"))},Xn=Nn,Oi=function(){function N(w,K){for(var R=0;R<K.length;R++){var F=K[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,K,R){return K&&N(w.prototype,K),R&&N(w,R),w}}();function Ua(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function ma(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function Qi(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var yi=function(N){Qi(w,N);function w(K){Ua(this,w);var R=ma(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return R.state={currentColor:K.hex},R}return Oi(w,[{key:"render",value:function(){var R=this.props,F=R.styles,ce=F===void 0?{}:F,he=R.className,Oe=he===void 0?"":he,Ie=O()(Object(At.a)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},ce));return m.a.createElement("div",{style:Ie.picker,className:"photoshop-picker "+Oe},m.a.createElement("div",{style:Ie.head},this.props.header),m.a.createElement("div",{style:Ie.body,className:"flexbox-fix"},m.a.createElement("div",{style:Ie.saturation},m.a.createElement(ze,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:gr,onChange:this.props.onChange})),m.a.createElement("div",{style:Ie.hue},m.a.createElement(ft,{direction:"vertical",hsl:this.props.hsl,pointer:Mi,onChange:this.props.onChange})),m.a.createElement("div",{style:Ie.controls},m.a.createElement("div",{style:Ie.top,className:"flexbox-fix"},m.a.createElement("div",{style:Ie.previews},m.a.createElement(Xn,{rgb:this.props.rgb,currentColor:this.state.currentColor})),m.a.createElement("div",{style:Ie.actions},m.a.createElement(Sn,{label:"OK",onClick:this.props.onAccept,active:!0}),m.a.createElement(Sn,{label:"Cancel",onClick:this.props.onCancel}),m.a.createElement(Kr,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),w}(m.a.Component);yi.propTypes={header:Pe.a.string,styles:Pe.a.object},yi.defaultProps={header:"Color Picker",styles:{}};var os=pt(yi),ss=function(w){var K=w.onChange,R=w.rgb,F=w.hsl,ce=w.hex,he=w.disableAlpha,Oe=O()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:he}),Ie=function(qe,jt){qe.hex?Ge(qe.hex)&&K({hex:qe.hex,source:"hex"},jt):qe.r||qe.g||qe.b?K({r:qe.r||R.r,g:qe.g||R.g,b:qe.b||R.b,a:R.a,source:"rgb"},jt):qe.a&&(qe.a<0?qe.a=0:qe.a>100&&(qe.a=100),qe.a/=100,K({h:F.h,s:F.s,l:F.l,a:qe.a,source:"rgb"},jt))};return m.a.createElement("div",{style:Oe.fields,className:"flexbox-fix"},m.a.createElement("div",{style:Oe.double},m.a.createElement(dt,{style:{input:Oe.input,label:Oe.label},label:"hex",value:ce.replace("#",""),onChange:Ie})),m.a.createElement("div",{style:Oe.single},m.a.createElement(dt,{style:{input:Oe.input,label:Oe.label},label:"r",value:R.r,onChange:Ie,dragLabel:"true",dragMax:"255"})),m.a.createElement("div",{style:Oe.single},m.a.createElement(dt,{style:{input:Oe.input,label:Oe.label},label:"g",value:R.g,onChange:Ie,dragLabel:"true",dragMax:"255"})),m.a.createElement("div",{style:Oe.single},m.a.createElement(dt,{style:{input:Oe.input,label:Oe.label},label:"b",value:R.b,onChange:Ie,dragLabel:"true",dragMax:"255"})),m.a.createElement("div",{style:Oe.alpha},m.a.createElement(dt,{style:{input:Oe.input,label:Oe.label},label:"a",value:Math.round(R.a*100),onChange:Ie,dragLabel:"true",dragMax:"100"})))},lo=ss,pl=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},Ws=function(w){var K=w.colors,R=w.onClick,F=R===void 0?function(){}:R,ce=w.onSwatchHover,he=O()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!K||!K.length}),Oe=function(Fe,qe){F({hex:Fe,source:"hex"},qe)};return m.a.createElement("div",{style:he.colors,className:"flexbox-fix"},K.map(function(Ie){var Fe=typeof Ie=="string"?{color:Ie}:Ie,qe=""+Fe.color+(Fe.title||"");return m.a.createElement("div",{key:qe,style:he.swatchWrap},m.a.createElement(lr,pl({},Fe,{style:he.swatch,onClick:Oe,onHover:ce,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+Fe.color}})))}))};Ws.propTypes={colors:Pe.a.arrayOf(Pe.a.oneOfType([Pe.a.string,Pe.a.shape({color:Pe.a.string,title:Pe.a.string})])).isRequired};var gl=Ws,Ql=Object.assign||function(N){for(var w=1;w<arguments.length;w++){var K=arguments[w];for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(N[R]=K[R])}return N},Tn=function(w){var K=w.width,R=w.rgb,F=w.hex,ce=w.hsv,he=w.hsl,Oe=w.onChange,Ie=w.onSwatchHover,Fe=w.disableAlpha,qe=w.presetColors,jt=w.renderers,Pt=w.styles,Mt=Pt===void 0?{}:Pt,ir=w.className,ar=ir===void 0?"":ir,mr=O()(Object(At.a)({default:Ql({picker:{width:K,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+R.r+","+R.g+","+R.b+","+R.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},Mt),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},Mt),{disableAlpha:Fe});return m.a.createElement("div",{style:mr.picker,className:"sketch-picker "+ar},m.a.createElement("div",{style:mr.saturation},m.a.createElement(ze,{style:mr.Saturation,hsl:he,hsv:ce,onChange:Oe})),m.a.createElement("div",{style:mr.controls,className:"flexbox-fix"},m.a.createElement("div",{style:mr.sliders},m.a.createElement("div",{style:mr.hue},m.a.createElement(ft,{style:mr.Hue,hsl:he,onChange:Oe})),m.a.createElement("div",{style:mr.alpha},m.a.createElement(j,{style:mr.Alpha,rgb:R,hsl:he,renderers:jt,onChange:Oe}))),m.a.createElement("div",{style:mr.color},m.a.createElement(C,null),m.a.createElement("div",{style:mr.activeColor}))),m.a.createElement(lo,{rgb:R,hsl:he,hex:F,onChange:Oe,disableAlpha:Fe}),m.a.createElement(gl,{colors:qe,onClick:Oe,onSwatchHover:Ie}))};Tn.propTypes={disableAlpha:Pe.a.bool,width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),styles:Pe.a.object},Tn.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Hs=pt(Tn),Ro=function(w){var K=w.hsl,R=w.offset,F=w.onClick,ce=F===void 0?function(){}:F,he=w.active,Oe=w.first,Ie=w.last,Fe=O()({default:{swatch:{height:"12px",background:"hsl("+K.h+", 50%, "+R*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:he,first:Oe,last:Ie}),qe=function(Pt){return ce({h:K.h,s:.5,l:R,source:"hsl"},Pt)};return m.a.createElement("div",{style:Fe.swatch,onClick:qe})},Do=Ro,ls=function(w){var K=w.onClick,R=w.hsl,F=O()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),ce=.1;return m.a.createElement("div",{style:F.swatches},m.a.createElement("div",{style:F.swatch},m.a.createElement(Do,{hsl:R,offset:".80",active:Math.abs(R.l-.8)<ce&&Math.abs(R.s-.5)<ce,onClick:K,first:!0})),m.a.createElement("div",{style:F.swatch},m.a.createElement(Do,{hsl:R,offset:".65",active:Math.abs(R.l-.65)<ce&&Math.abs(R.s-.5)<ce,onClick:K})),m.a.createElement("div",{style:F.swatch},m.a.createElement(Do,{hsl:R,offset:".50",active:Math.abs(R.l-.5)<ce&&Math.abs(R.s-.5)<ce,onClick:K})),m.a.createElement("div",{style:F.swatch},m.a.createElement(Do,{hsl:R,offset:".35",active:Math.abs(R.l-.35)<ce&&Math.abs(R.s-.5)<ce,onClick:K})),m.a.createElement("div",{style:F.swatch},m.a.createElement(Do,{hsl:R,offset:".20",active:Math.abs(R.l-.2)<ce&&Math.abs(R.s-.5)<ce,onClick:K,last:!0})),m.a.createElement("div",{style:F.clear}))},Ks=ls,ml=function(){var w=O()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return m.a.createElement("div",{style:w.picker})},bl=ml,uo=function(w){var K=w.hsl,R=w.onChange,F=w.pointer,ce=w.styles,he=ce===void 0?{}:ce,Oe=w.className,Ie=Oe===void 0?"":Oe,Fe=O()(Object(At.a)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},he));return m.a.createElement("div",{style:Fe.wrap||{},className:"slider-picker "+Ie},m.a.createElement("div",{style:Fe.hue},m.a.createElement(ft,{style:Fe.Hue,hsl:K,pointer:F,onChange:R})),m.a.createElement("div",{style:Fe.swatches},m.a.createElement(Ks,{hsl:K,onClick:R})))};uo.propTypes={styles:Pe.a.object},uo.defaultProps={pointer:bl,styles:{}};var us=pt(uo),Gs=v("ql/k"),yl=v.n(Gs),ba=function(w){var K=w.color,R=w.onClick,F=R===void 0?function(){}:R,ce=w.onSwatchHover,he=w.first,Oe=w.last,Ie=w.active,Fe=O()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:K,marginBottom:"1px"},check:{color:wt(K),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:he,last:Oe,active:Ie,"color-#FFFFFF":K==="#FFFFFF",transparent:K==="transparent"});return m.a.createElement(lr,{color:K,style:Fe.color,onClick:F,onHover:ce,focusStyle:{boxShadow:"0 0 4px "+K}},m.a.createElement("div",{style:Fe.check},m.a.createElement(yl.a,null)))},Zl=ba,Xl=function(w){var K=w.onClick,R=w.onSwatchHover,F=w.group,ce=w.active,he=O()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return m.a.createElement("div",{style:he.group},nn(F,function(Oe,Ie){return m.a.createElement(Zl,{key:Oe,color:Oe,active:Oe.toLowerCase()===ce,first:Ie===0,last:Ie===F.length-1,onClick:K,onSwatchHover:R})}))},cs=Xl,$s=function(w){var K=w.width,R=w.height,F=w.onChange,ce=w.onSwatchHover,he=w.colors,Oe=w.hex,Ie=w.styles,Fe=Ie===void 0?{}:Ie,qe=w.className,jt=qe===void 0?"":qe,Pt=O()(Object(At.a)({default:{picker:{width:K,height:R},overflow:{height:R,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},Fe)),Mt=function(ar,mr){return F({hex:ar,source:"hex"},mr)};return m.a.createElement("div",{style:Pt.picker,className:"swatches-picker "+jt},m.a.createElement(Qr,null,m.a.createElement("div",{style:Pt.overflow},m.a.createElement("div",{style:Pt.body},nn(he,function(ir){return m.a.createElement(cs,{key:ir.toString(),group:ir,active:Oe,onClick:Mt,onSwatchHover:ce})}),m.a.createElement("div",{style:Pt.clear})))))};$s.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),height:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),colors:Pe.a.arrayOf(Pe.a.arrayOf(Pe.a.string)),styles:Pe.a.object},$s.defaultProps={width:320,height:240,colors:[[et.p["900"],et.p["700"],et.p["500"],et.p["300"],et.p["100"]],[et.n["900"],et.n["700"],et.n["500"],et.n["300"],et.n["100"]],[et.o["900"],et.o["700"],et.o["500"],et.o["300"],et.o["100"]],[et.g["900"],et.g["700"],et.g["500"],et.g["300"],et.g["100"]],[et.i["900"],et.i["700"],et.i["500"],et.i["300"],et.i["100"]],[et.b["900"],et.b["700"],et.b["500"],et.b["300"],et.b["100"]],[et.j["900"],et.j["700"],et.j["500"],et.j["300"],et.j["100"]],[et.e["900"],et.e["700"],et.e["500"],et.e["300"],et.e["100"]],[et.q["900"],et.q["700"],et.q["500"],et.q["300"],et.q["100"]],["#194D33",et.h["700"],et.h["500"],et.h["300"],et.h["100"]],[et.k["900"],et.k["700"],et.k["500"],et.k["300"],et.k["100"]],[et.l["900"],et.l["700"],et.l["500"],et.l["300"],et.l["100"]],[et.r["900"],et.r["700"],et.r["500"],et.r["300"],et.r["100"]],[et.a["900"],et.a["700"],et.a["500"],et.a["300"],et.a["100"]],[et.m["900"],et.m["700"],et.m["500"],et.m["300"],et.m["100"]],[et.f["900"],et.f["700"],et.f["500"],et.f["300"],et.f["100"]],[et.d["900"],et.d["700"],et.d["500"],et.d["300"],et.d["100"]],[et.c["900"],et.c["700"],et.c["500"],et.c["300"],et.c["100"]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};var cc=pt($s),Ys=function(w){var K=w.onChange,R=w.onSwatchHover,F=w.hex,ce=w.colors,he=w.width,Oe=w.triangle,Ie=w.styles,Fe=Ie===void 0?{}:Ie,qe=w.className,jt=qe===void 0?"":qe,Pt=O()(Object(At.a)({default:{card:{width:he,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},Fe),{"hide-triangle":Oe==="hide","top-left-triangle":Oe==="top-left","top-right-triangle":Oe==="top-right"}),Mt=function(ar,mr){Ge(ar)&&K({hex:ar,source:"hex"},mr)};return m.a.createElement("div",{style:Pt.card,className:"twitter-picker "+jt},m.a.createElement("div",{style:Pt.triangleShadow}),m.a.createElement("div",{style:Pt.triangle}),m.a.createElement("div",{style:Pt.body},nn(ce,function(ir,ar){return m.a.createElement(lr,{key:ar,color:ir,hex:ir,style:Pt.swatch,onClick:Mt,onHover:R,focusStyle:{boxShadow:"0 0 4px "+ir}})}),m.a.createElement("div",{style:Pt.hash},"#"),m.a.createElement(dt,{label:null,style:{input:Pt.input},value:F.replace("#",""),onChange:Mt}),m.a.createElement("div",{style:Pt.clear})))};Ys.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),triangle:Pe.a.oneOf(["hide","top-left","top-right"]),colors:Pe.a.arrayOf(Pe.a.string),styles:Pe.a.object},Ys.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var ql=pt(Ys),Js=function(w){var K=O()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(w.hsl.h)+", "+Math.round(w.hsl.s*100)+"%, "+Math.round(w.hsl.l*100)+"%)"}}});return m.a.createElement("div",{style:K.picker})};Js.propTypes={hsl:Pe.a.shape({h:Pe.a.number,s:Pe.a.number,l:Pe.a.number,a:Pe.a.number})},Js.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var eu=Js,ds=function(w){var K=O()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(w.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return m.a.createElement("div",{style:K.picker})};ds.propTypes={hsl:Pe.a.shape({h:Pe.a.number,s:Pe.a.number,l:Pe.a.number,a:Pe.a.number})},ds.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Qs=ds,tu=function(w){var K=w.onChange,R=w.rgb,F=w.hsl,ce=w.hex,he=w.hsv,Oe=function(Mt,ir){if(Mt.hex)Ge(Mt.hex)&&K({hex:Mt.hex,source:"hex"},ir);else if(Mt.rgb){var ar=Mt.rgb.split(",");ee(Mt.rgb,"rgb")&&K({r:ar[0],g:ar[1],b:ar[2],a:1,source:"rgb"},ir)}else if(Mt.hsv){var mr=Mt.hsv.split(",");ee(Mt.hsv,"hsv")&&(mr[2]=mr[2].replace("%",""),mr[1]=mr[1].replace("%",""),mr[0]=mr[0].replace("\xB0",""),mr[1]==1?mr[1]=.01:mr[2]==1&&(mr[2]=.01),K({h:Number(mr[0]),s:Number(mr[1]),v:Number(mr[2]),source:"hsv"},ir))}else if(Mt.hsl){var Mn=Mt.hsl.split(",");ee(Mt.hsl,"hsl")&&(Mn[2]=Mn[2].replace("%",""),Mn[1]=Mn[1].replace("%",""),Mn[0]=Mn[0].replace("\xB0",""),jt[1]==1?jt[1]=.01:jt[2]==1&&(jt[2]=.01),K({h:Number(Mn[0]),s:Number(Mn[1]),v:Number(Mn[2]),source:"hsl"},ir))}},Ie=O()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),Fe=R.r+", "+R.g+", "+R.b,qe=Math.round(F.h)+"\xB0, "+Math.round(F.s*100)+"%, "+Math.round(F.l*100)+"%",jt=Math.round(he.h)+"\xB0, "+Math.round(he.s*100)+"%, "+Math.round(he.v*100)+"%";return m.a.createElement("div",{style:Ie.wrap,className:"flexbox-fix"},m.a.createElement("div",{style:Ie.fields},m.a.createElement("div",{style:Ie.double},m.a.createElement(dt,{style:{input:Ie.input,label:Ie.label},label:"hex",value:ce,onChange:Oe})),m.a.createElement("div",{style:Ie.column},m.a.createElement("div",{style:Ie.single},m.a.createElement(dt,{style:{input:Ie.input2,label:Ie.label2},label:"rgb",value:Fe,onChange:Oe})),m.a.createElement("div",{style:Ie.single},m.a.createElement(dt,{style:{input:Ie.input2,label:Ie.label2},label:"hsv",value:jt,onChange:Oe})),m.a.createElement("div",{style:Ie.single},m.a.createElement(dt,{style:{input:Ie.input2,label:Ie.label2},label:"hsl",value:qe,onChange:Oe})))))},ru=tu,Zs=function(w){var K=w.width,R=w.onChange,F=w.rgb,ce=w.hsl,he=w.hsv,Oe=w.hex,Ie=w.header,Fe=w.styles,qe=Fe===void 0?{}:Fe,jt=w.className,Pt=jt===void 0?"":jt,Mt=O()(Object(At.a)({default:{picker:{width:K,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+F.r+", "+F.g+", "+F.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},qe));return m.a.createElement("div",{style:Mt.picker,className:"google-picker "+Pt},m.a.createElement("div",{style:Mt.head},Ie),m.a.createElement("div",{style:Mt.swatch}),m.a.createElement("div",{style:Mt.saturation},m.a.createElement(ze,{hsl:ce,hsv:he,pointer:eu,onChange:R})),m.a.createElement("div",{style:Mt.body},m.a.createElement("div",{style:Mt.controls,className:"flexbox-fix"},m.a.createElement("div",{style:Mt.hue},m.a.createElement(ft,{style:Mt.Hue,hsl:ce,radius:"4px",pointer:Qs,onChange:R}))),m.a.createElement(ru,{rgb:F,hsl:ce,hex:Oe,hsv:he,onChange:R})))};Zs.propTypes={width:Pe.a.oneOfType([Pe.a.string,Pe.a.number]),styles:Pe.a.object,header:Pe.a.string},Zs.defaultProps={width:652,styles:{},header:"Color picker"};var nu=pt(Zs)},"2MUX":function(re,J,v){var B=v("h875");function m(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),O&&B(S,O)}re.exports=m},"2Zs6":function(re,J,v){"use strict";var B=v("GNNt"),m=v("wEI+"),S=v("q1tI"),O=v.n(S),X=v("TSYQ"),U=v.n(X),z=v("75XV"),H=v.n(z);function p(C,E,T){return E in C?Object.defineProperty(C,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[E]=T,C}var L=function(E,T){var D,se=E.border,M=se===void 0?!1:se,$=E.children,j=Object(S.useContext)(m.b.ConfigContext),W=j.getPrefixCls,x=W("pro-field-index-column");return O.a.createElement("div",{ref:T,className:U()(x,(D={},p(D,"".concat(x,"-border"),M),p(D,"top-three",$>3),D))},$)};J.a=O.a.forwardRef(L)},"3/ER":function(re,J,v){"use strict";(function(B){var m=v("Ju5/"),S=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=S&&typeof B=="object"&&B&&!B.nodeType&&B,X=O&&O.exports===S,U=X?m.a.Buffer:void 0,z=U?U.allocUnsafe:void 0;function H(p,L){if(L)return p.slice();var C=p.length,E=z?z(C):new p.constructor(C);return p.copy(E),E}J.a=H}).call(this,v("Vg/k")(re))},"3Hq1":function(re,J,v){"use strict";function B(m){return m===void 0}J.a=B},"3WF5":function(re,J,v){var B=v("eUgh"),m=v("ut/Y"),S=v("l9OW"),O=v("Z0cm");function X(U,z){var H=O(U)?B:S;return H(U,m(z,3))}re.exports=X},"3cmB":function(re,J,v){"use strict";var B=v("Y7yP"),m=v("Ju5/"),S=Object(B.a)(m.a,"Map");J.a=S},"4/ic":function(re,J,v){var B=v("ZWtO");function m(S){return function(O){return B(O,S)}}re.exports=m},"44Ds":function(re,J,v){var B=v("e4Nc"),m="Expected a function";function S(O,X){if(typeof O!="function"||X!=null&&typeof X!="function")throw new TypeError(m);var U=function(){var z=arguments,H=X?X.apply(this,z):z[0],p=U.cache;if(p.has(H))return p.get(H);var L=O.apply(this,z);return U.cache=p.set(H,L)||p,L};return U.cache=new(S.Cache||B),U}S.Cache=B,re.exports=S},"4qC0":function(re,J,v){var B=v("NykK"),m=v("Z0cm"),S=v("ExA7"),O="[object String]";function X(U){return typeof U=="string"||!m(U)&&S(U)&&B(U)==O}re.exports=X},"4sDh":function(re,J,v){var B=v("4uTw"),m=v("03A+"),S=v("Z0cm"),O=v("wJg7"),X=v("shjB"),U=v("9Nap");function z(H,p,L){p=B(p,H);for(var C=-1,E=p.length,T=!1;++C<E;){var D=U(p[C]);if(!(T=H!=null&&L(H,D)))break;H=H[D]}return T||++C!=E?T:(E=H==null?0:H.length,!!E&&X(E)&&O(D,E)&&(S(H)||m(H)))}re.exports=z},"4uTw":function(re,J,v){var B=v("Z0cm"),m=v("9ggG"),S=v("GNiM"),O=v("dt0z");function X(U,z){return B(U)?U:m(U,z)?[U]:S(O(U))}re.exports=X},"5Tg0":function(re,J,v){(function(B){var m=v("Kz5y"),S=J&&!J.nodeType&&J,O=S&&typeof B=="object"&&B&&!B.nodeType&&B,X=O&&O.exports===S,U=X?m.Buffer:void 0,z=U?U.allocUnsafe:void 0;function H(p,L){if(L)return p.slice();var C=p.length,E=z?z(C):new p.constructor(C);return p.copy(E),E}B.exports=H}).call(this,v("hOG+")(re))},"5WsY":function(re,J,v){"use strict";var B=v("vJtL"),m=v("Js68");function S(O){return O!=null&&Object(m.a)(O.length)&&!Object(B.a)(O)}J.a=S},"5h2M":function(re,J){function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(B){return!1}}re.exports=v},"6LIB":function(re,J,v){"use strict";var B=v("8M4i"),m=v("UudT"),S=v("EUcb"),O="[object Object]",X=Function.prototype,U=Object.prototype,z=X.toString,H=U.hasOwnProperty,p=z.call(Object);function L(C){if(!Object(S.a)(C)||Object(B.a)(C)!=O)return!1;var E=Object(m.a)(C);if(E===null)return!0;var T=H.call(E,"constructor")&&E.constructor;return typeof T=="function"&&T instanceof T&&z.call(T)==p}J.a=L},"75XV":function(re,J,v){},"7Ix3":function(re,J){function v(B){var m=[];if(B!=null)for(var S in Object(B))m.push(S);return m}re.exports=v},"7Kak":function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("KPFz"),O=v.n(S)},"7gMY":function(re,J,v){"use strict";function B(E,T){for(var D=-1,se=Array(E);++D<E;)se[D]=T(D);return se}var m=B,S=v("9f76"),O=v("/1FC"),X=v("WOAq"),U=v("cSlR"),z=v("oYcn"),H=Object.prototype,p=H.hasOwnProperty;function L(E,T){var D=Object(O.a)(E),se=!D&&Object(S.a)(E),M=!D&&!se&&Object(X.a)(E),$=!D&&!se&&!M&&Object(z.a)(E),j=D||se||M||$,W=j?m(E.length,String):[],x=W.length;for(var ne in E)(T||p.call(E,ne))&&!(j&&(ne=="length"||M&&(ne=="offset"||ne=="parent")||$&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Object(U.a)(ne,x)))&&W.push(ne);return W}var C=J.a=L},"8M4i":function(re,J,v){"use strict";var B=v("ylTp"),m=Object.prototype,S=m.hasOwnProperty,O=m.toString,X=B.a?B.a.toStringTag:void 0;function U($){var j=S.call($,X),W=$[X];try{$[X]=void 0;var x=!0}catch(Ae){}var ne=O.call($);return x&&(j?$[X]=W:delete $[X]),ne}var z=U,H=Object.prototype,p=H.toString;function L($){return p.call($)}var C=L,E="[object Null]",T="[object Undefined]",D=B.a?B.a.toStringTag:void 0;function se($){return $==null?$===void 0?T:E:D&&D in Object($)?z($):C($)}var M=J.a=se},"8v5O":function(re,J,v){var B=v("GXtI");function m(S,O){for(;!Object.prototype.hasOwnProperty.call(S,O)&&(S=B(S),S!==null););return S}re.exports=m},"9F0J":function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var B=Object.assign||function(z){for(var H=1;H<arguments.length;H++){var p=arguments[H];for(var L in p)Object.prototype.hasOwnProperty.call(p,L)&&(z[L]=p[L])}return z},m=v("q1tI"),S=O(m);function O(z){return z&&z.__esModule?z:{default:z}}function X(z,H){var p={};for(var L in z)H.indexOf(L)>=0||!Object.prototype.hasOwnProperty.call(z,L)||(p[L]=z[L]);return p}var U=24;J.default=function(z){var H=z.fill,p=H===void 0?"currentColor":H,L=z.width,C=L===void 0?U:L,E=z.height,T=E===void 0?U:E,D=z.style,se=D===void 0?{}:D,M=X(z,["fill","width","height","style"]);return S.default.createElement("svg",B({viewBox:"0 0 "+U+" "+U,style:B({fill:p,width:C,height:T},se)},M),S.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},"9Nap":function(re,J,v){var B=v("/9aa"),m=1/0;function S(O){if(typeof O=="string"||B(O))return O;var X=O+"";return X=="0"&&1/O==-m?"-0":X}re.exports=S},"9f76":function(re,J,v){"use strict";var B=v("8M4i"),m=v("EUcb"),S="[object Arguments]";function O(C){return Object(m.a)(C)&&Object(B.a)(C)==S}var X=O,U=Object.prototype,z=U.hasOwnProperty,H=U.propertyIsEnumerable,p=X(function(){return arguments}())?X:function(C){return Object(m.a)(C)&&z.call(C,"callee")&&!H.call(C,"callee")},L=J.a=p},"9ggG":function(re,J,v){var B=v("Z0cm"),m=v("/9aa"),S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function X(U,z){if(B(U))return!1;var H=typeof U;return H=="number"||H=="symbol"||H=="boolean"||U==null||m(U)?!0:O.test(U)||!S.test(U)||z!=null&&U in Object(z)}re.exports=X},AEIT:function(re,J,v){var B=v("cxFA"),m=v("x49D"),S=v("c29t"),O=v("GXtI"),X=v("2MUX"),U=v("CS2o"),z=v("xbqb"),H=v("Lw8S"),p=v("bfL6");/*!
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(L,C){re.exports=C(v("q1tI"))})(window,function(L){return function(C){var E={};function T(D){if(E[D])return E[D].exports;var se=E[D]={i:D,l:!1,exports:{}};return C[D].call(se.exports,se,se.exports,T),se.l=!0,se.exports}return T.m=C,T.c=E,T.d=function(D,se,M){T.o(D,se)||Object.defineProperty(D,se,{enumerable:!0,get:M})},T.r=function(D){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},T.t=function(D,se){if(1&se&&(D=T(D)),8&se||4&se&&typeof D=="object"&&D&&D.__esModule)return D;var M=Object.create(null);if(T.r(M),Object.defineProperty(M,"default",{enumerable:!0,value:D}),2&se&&typeof D!="string")for(var $ in D)T.d(M,$,function(j){return D[j]}.bind(null,$));return M},T.n=function(D){var se=D&&D.__esModule?function(){return D.default}:function(){return D};return T.d(se,"a",se),se},T.o=function(D,se){return Object.prototype.hasOwnProperty.call(D,se)},T.p="",T(T.s=12)}([function(C,E,T){"use strict";var D=T(4),se=typeof self=="object"&&self&&self.Object===Object&&self,M=D.a||se||Function("return this")();E.a=M},function(C,E,T){C.exports=T(9)()},function(C,E,T){"use strict";(function(D){var se=T(4),M=J&&!J.nodeType&&J,$=M&&typeof D=="object"&&D&&!D.nodeType&&D,j=$&&$.exports===M&&se.a.process,W=function(){try{var x=$&&$.require&&$.require("util").types;return x||j&&j.binding&&j.binding("util")}catch(ne){}}();E.a=W}).call(this,T(6)(C))},function(C,E){C.exports=L},function(C,E,T){"use strict";(function(D){var se=typeof D=="object"&&D&&D.Object===Object&&D;E.a=se}).call(this,T(11))},function(C,E,T){"use strict";(function(D){var se=T(0),M=T(7),$=J&&!J.nodeType&&J,j=$&&typeof D=="object"&&D&&!D.nodeType&&D,W=j&&j.exports===$?se.a.Buffer:void 0,x=(W?W.isBuffer:void 0)||M.a;E.a=x}).call(this,T(6)(C))},function(C,E){C.exports=function(T){if(!T.webpackPolyfill){var D=Object.create(T);D.children||(D.children=[]),Object.defineProperty(D,"loaded",{enumerable:!0,get:function(){return D.l}}),Object.defineProperty(D,"id",{enumerable:!0,get:function(){return D.i}}),Object.defineProperty(D,"exports",{enumerable:!0}),D.webpackPolyfill=1}return D}},function(C,E,T){"use strict";E.a=function(){return!1}},function(C,E,T){"use strict";(function(D){var se=T(0),M=J&&!J.nodeType&&J,$=M&&typeof D=="object"&&D&&!D.nodeType&&D,j=$&&$.exports===M?se.a.Buffer:void 0,W=j?j.allocUnsafe:void 0;E.a=function(x,ne){if(ne)return x.slice();var Ae=x.length,je=W?W(Ae):new x.constructor(Ae);return x.copy(je),je}}).call(this,T(6)(C))},function(C,E,T){"use strict";var D=T(10);function se(){}function M(){}M.resetWarningCache=se,C.exports=function(){function $(x,ne,Ae,je,Te,ht){if(ht!==D){var yt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw yt.name="Invariant Violation",yt}}function j(){return $}$.isRequired=$;var W={array:$,bool:$,func:$,number:$,object:$,string:$,symbol:$,any:$,arrayOf:j,element:$,elementType:$,instanceOf:j,node:$,objectOf:j,oneOf:j,oneOfType:j,shape:j,exact:j,checkPropTypes:M,resetWarningCache:se};return W.PropTypes=W,W}},function(C,E,T){"use strict";C.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(C,E){var T;T=function(){return this}();try{T=T||new Function("return this")()}catch(D){typeof window=="object"&&(T=window)}C.exports=T},function(C,E,T){"use strict";T.r(E),T.d(E,"CKEditor",function(){return mi}),T.d(E,"CKEditorContext",function(){return Un});var D=T(3),se=T.n(D),M=T(1),$=T.n(M),j=function(V){var oe=typeof V;return V!=null&&(oe=="object"||oe=="function")},W=T(0),x=function(){return W.a.Date.now()},ne=/\s/,Ae=function(V){for(var oe=V.length;oe--&&ne.test(V.charAt(oe)););return oe},je=/^\s+/,Te=function(V){return V&&V.slice(0,Ae(V)+1).replace(je,"")},ht=W.a.Symbol,yt=Object.prototype,Ct=yt.hasOwnProperty,vt=yt.toString,Vt=ht?ht.toStringTag:void 0,gt=function(V){var oe=Ct.call(V,Vt),fe=V[Vt];try{V[Vt]=void 0;var le=!0}catch(ct){}var He=vt.call(V);return le&&(oe?V[Vt]=fe:delete V[Vt]),He},zt=Object.prototype.toString,dt=function(V){return zt.call(V)},Je=ht?ht.toStringTag:void 0,st=function(V){return V==null?V===void 0?"[object Undefined]":"[object Null]":Je&&Je in Object(V)?gt(V):dt(V)},Xe=function(V){return V!=null&&typeof V=="object"},Ue=function(V){return typeof V=="symbol"||Xe(V)&&st(V)=="[object Symbol]"},$e=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,rt=parseInt,Pe=function(V){if(typeof V=="number")return V;if(Ue(V))return NaN;if(j(V)){var oe=typeof V.valueOf=="function"?V.valueOf():V;V=j(oe)?oe+"":oe}if(typeof V!="string")return V===0?V:+V;V=Te(V);var fe=Ke.test(V);return fe||ft.test(V)?rt(V.slice(2),fe?2:8):$e.test(V)?NaN:+V},At=Math.max,qt=Math.min,Qr=function(V,oe,fe){var le,He,ct,tt,Ft,yr,Sr=0,bi=!1,Wn=!1,di=!0;if(typeof V!="function")throw new TypeError("Expected a function");function _i(kn){var li=le,Gi=He;return le=He=void 0,Sr=kn,tt=V.apply(Gi,li)}function Ti(kn){return Sr=kn,Ft=setTimeout(Qn,oe),bi?_i(kn):tt}function Jn(kn){var li=kn-yr;return yr===void 0||li>=oe||li<0||Wn&&kn-Sr>=ct}function Qn(){var kn=x();if(Jn(kn))return Ki(kn);Ft=setTimeout(Qn,function(li){var Gi=oe-(li-yr);return Wn?qt(Gi,ct-(li-Sr)):Gi}(kn))}function Ki(kn){return Ft=void 0,di&&le?_i(kn):(le=He=void 0,tt)}function fa(){var kn=x(),li=Jn(kn);if(le=arguments,He=this,yr=kn,li){if(Ft===void 0)return Ti(yr);if(Wn)return clearTimeout(Ft),Ft=setTimeout(Qn,oe),_i(yr)}return Ft===void 0&&(Ft=setTimeout(Qn,oe)),tt}return oe=Pe(oe)||0,j(fe)&&(bi=!!fe.leading,ct=(Wn="maxWait"in fe)?At(Pe(fe.maxWait)||0,oe):ct,di="trailing"in fe?!!fe.trailing:di),fa.cancel=function(){Ft!==void 0&&clearTimeout(Ft),Sr=0,le=yr=He=Ft=void 0},fa.flush=function(){return Ft===void 0?tt:Ki(x())},fa},Dr=function(V,oe,fe){var le=!0,He=!0;if(typeof V!="function")throw new TypeError("Expected a function");return j(fe)&&(le="leading"in fe?!!fe.leading:le,He="trailing"in fe?!!fe.trailing:He),Qr(V,oe,{leading:le,maxWait:oe,trailing:He})},sr=function(){this.__data__=[],this.size=0},zr=function(V,oe){return V===oe||V!=V&&oe!=oe},Ir=function(V,oe){for(var fe=V.length;fe--;)if(zr(V[fe][0],oe))return fe;return-1},Ur=Array.prototype.splice,te=function(V){var oe=this.__data__,fe=Ir(oe,V);return!(fe<0)&&(fe==oe.length-1?oe.pop():Ur.call(oe,fe,1),--this.size,!0)},Y=function(V){var oe=this.__data__,fe=Ir(oe,V);return fe<0?void 0:oe[fe][1]},Q=function(V){return Ir(this.__data__,V)>-1},ve=function(V,oe){var fe=this.__data__,le=Ir(fe,V);return le<0?(++this.size,fe.push([V,oe])):fe[le][1]=oe,this};function ge(Ee){var V=-1,oe=Ee==null?0:Ee.length;for(this.clear();++V<oe;){var fe=Ee[V];this.set(fe[0],fe[1])}}ge.prototype.clear=sr,ge.prototype.delete=te,ge.prototype.get=Y,ge.prototype.has=Q,ge.prototype.set=ve;var Be=ge,ze=function(){this.__data__=new Be,this.size=0},xt=function(V){var oe=this.__data__,fe=oe.delete(V);return this.size=oe.size,fe},Ot=function(V){return this.__data__.get(V)},ke=function(V){return this.__data__.has(V)},xe,De=function(V){if(!j(V))return!1;var oe=st(V);return oe=="[object Function]"||oe=="[object GeneratorFunction]"||oe=="[object AsyncFunction]"||oe=="[object Proxy]"},Ye=W.a["__core-js_shared__"],Ut=(xe=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||""))?"Symbol(src)_1."+xe:"",Yt=function(V){return!!Ut&&Ut in V},Zt=Function.prototype.toString,Or=function(V){if(V!=null){try{return Zt.call(V)}catch(oe){}try{return V+""}catch(oe){}}return""},fr=/^\[object .+?Constructor\]$/,$r=Function.prototype,kr=Object.prototype,Gt=$r.toString,Tr=kr.hasOwnProperty,Nr=RegExp("^"+Gt.call(Tr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zr=function(V){return!(!j(V)||Yt(V))&&(De(V)?Nr:fr).test(Or(V))},ln=function(V,oe){return V==null?void 0:V[oe]},fn=function(V,oe){var fe=ln(V,oe);return Zr(fe)?fe:void 0},En=fn(W.a,"Map"),_n=fn(Object,"create"),pe=function(){this.__data__=_n?_n(null):{},this.size=0},Se=function(V){var oe=this.has(V)&&delete this.__data__[V];return this.size-=oe?1:0,oe},Me=Object.prototype.hasOwnProperty,Le=function(V){var oe=this.__data__;if(_n){var fe=oe[V];return fe==="__lodash_hash_undefined__"?void 0:fe}return Me.call(oe,V)?oe[V]:void 0},mt=Object.prototype.hasOwnProperty,Wt=function(V){var oe=this.__data__;return _n?oe[V]!==void 0:mt.call(oe,V)},tr=function(V,oe){var fe=this.__data__;return this.size+=this.has(V)?0:1,fe[V]=_n&&oe===void 0?"__lodash_hash_undefined__":oe,this};function $t(Ee){var V=-1,oe=Ee==null?0:Ee.length;for(this.clear();++V<oe;){var fe=Ee[V];this.set(fe[0],fe[1])}}$t.prototype.clear=pe,$t.prototype.delete=Se,$t.prototype.get=Le,$t.prototype.has=Wt,$t.prototype.set=tr;var Ce=$t,We=function(){this.size=0,this.__data__={hash:new Ce,map:new(En||Be),string:new Ce}},Ge=function(V){var oe=typeof V;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?V!=="__proto__":V===null},wt=function(V,oe){var fe=V.__data__;return Ge(oe)?fe[typeof oe=="string"?"string":"hash"]:fe.map},ue=function(V){var oe=wt(this,V).delete(V);return this.size-=oe?1:0,oe},ee=function(V){return wt(this,V).get(V)},de=function(V){return wt(this,V).has(V)},ye=function(V,oe){var fe=wt(this,V),le=fe.size;return fe.set(V,oe),this.size+=fe.size==le?0:1,this};function Ve(Ee){var V=-1,oe=Ee==null?0:Ee.length;for(this.clear();++V<oe;){var fe=Ee[V];this.set(fe[0],fe[1])}}Ve.prototype.clear=We,Ve.prototype.delete=ue,Ve.prototype.get=ee,Ve.prototype.has=de,Ve.prototype.set=ye;var lt=Ve,it=function(V,oe){var fe=this.__data__;if(fe instanceof Be){var le=fe.__data__;if(!En||le.length<199)return le.push([V,oe]),this.size=++fe.size,this;fe=this.__data__=new lt(le)}return fe.set(V,oe),this.size=fe.size,this};function at(Ee){var V=this.__data__=new Be(Ee);this.size=V.size}at.prototype.clear=ze,at.prototype.delete=xt,at.prototype.get=Ot,at.prototype.has=ke,at.prototype.set=it;var pt=at,Er=function(V,oe){for(var fe=-1,le=V==null?0:V.length;++fe<le&&oe(V[fe],fe,V)!==!1;);return V},Ar=function(){try{var Ee=fn(Object,"defineProperty");return Ee({},"",{}),Ee}catch(V){}}(),or=function(V,oe,fe){oe=="__proto__"&&Ar?Ar(V,oe,{configurable:!0,enumerable:!0,value:fe,writable:!0}):V[oe]=fe},Br=Object.prototype.hasOwnProperty,on=function(V,oe,fe){var le=V[oe];Br.call(V,oe)&&zr(le,fe)&&(fe!==void 0||oe in V)||or(V,oe,fe)},bn=function(V,oe,fe,le){var He=!fe;fe||(fe={});for(var ct=-1,tt=oe.length;++ct<tt;){var Ft=oe[ct],yr=le?le(fe[Ft],V[Ft],Ft,fe,V):void 0;yr===void 0&&(yr=V[Ft]),He?or(fe,Ft,yr):on(fe,Ft,yr)}return fe},jn=function(V,oe){for(var fe=-1,le=Array(V);++fe<V;)le[fe]=oe(fe);return le},qr=function(V){return Xe(V)&&st(V)=="[object Arguments]"},un=Object.prototype,lr=un.hasOwnProperty,Pr=un.propertyIsEnumerable,hn=qr(function(){return arguments}())?qr:function(Ee){return Xe(Ee)&&lr.call(Ee,"callee")&&!Pr.call(Ee,"callee")},cn=Array.isArray,jr=T(5),hr=/^(?:0|[1-9]\d*)$/,Vr=function(V,oe){var fe=typeof V;return!!(oe=oe==null?9007199254740991:oe)&&(fe=="number"||fe!="symbol"&&hr.test(V))&&V>-1&&V%1==0&&V<oe},sn=function(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=9007199254740991},It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;var Rn=function(V){return Xe(V)&&sn(V.length)&&!!It[st(V)]},Xr=function(V){return function(oe){return V(oe)}},br=T(2),dr=br.a&&br.a.isTypedArray,Fr=dr?Xr(dr):Rn,vr=Object.prototype.hasOwnProperty,Cn=function(V,oe){var fe=cn(V),le=!fe&&hn(V),He=!fe&&!le&&Object(jr.a)(V),ct=!fe&&!le&&!He&&Fr(V),tt=fe||le||He||ct,Ft=tt?jn(V.length,String):[],yr=Ft.length;for(var Sr in V)!oe&&!vr.call(V,Sr)||tt&&(Sr=="length"||He&&(Sr=="offset"||Sr=="parent")||ct&&(Sr=="buffer"||Sr=="byteLength"||Sr=="byteOffset")||Vr(Sr,yr))||Ft.push(Sr);return Ft},en=Object.prototype,Dn=function(V){var oe=V&&V.constructor;return V===(typeof oe=="function"&&oe.prototype||en)},Wr=function(V,oe){return function(fe){return V(oe(fe))}},Bn=Wr(Object.keys,Object),Yr=Object.prototype.hasOwnProperty,Ht=function(V){if(!Dn(V))return Bn(V);var oe=[];for(var fe in Object(V))Yr.call(V,fe)&&fe!="constructor"&&oe.push(fe);return oe},bt=function(V){return V!=null&&sn(V.length)&&!De(V)},Lt=function(V){return bt(V)?Cn(V):Ht(V)},ur=function(V,oe){return V&&bn(oe,Lt(oe),V)},_r=function(V){var oe=[];if(V!=null)for(var fe in Object(V))oe.push(fe);return oe},vn=Object.prototype.hasOwnProperty,Mr=function(V){if(!j(V))return _r(V);var oe=Dn(V),fe=[];for(var le in V)(le!="constructor"||!oe&&vn.call(V,le))&&fe.push(le);return fe},pn=function(V){return bt(V)?Cn(V,!0):Mr(V)},ci=function(V,oe){return V&&bn(oe,pn(oe),V)},Ka=T(8),Pa=function(V,oe){var fe=-1,le=V.length;for(oe||(oe=Array(le));++fe<le;)oe[fe]=V[fe];return oe},Ea=function(V,oe){for(var fe=-1,le=V==null?0:V.length,He=0,ct=[];++fe<le;){var tt=V[fe];oe(tt,fe,V)&&(ct[He++]=tt)}return ct},Ga=function(){return[]},$a=Object.prototype.propertyIsEnumerable,Ya=Object.getOwnPropertySymbols,Ci=Ya?function(Ee){return Ee==null?[]:(Ee=Object(Ee),Ea(Ya(Ee),function(V){return $a.call(Ee,V)}))}:Ga,Ja=function(V,oe){return bn(V,Ci(V),oe)},ta=function(V,oe){for(var fe=-1,le=oe.length,He=V.length;++fe<le;)V[He+fe]=oe[fe];return V},Ca=Wr(Object.getPrototypeOf,Object),Ai=Object.getOwnPropertySymbols?function(Ee){for(var V=[];Ee;)ta(V,Ci(Ee)),Ee=Ca(Ee);return V}:Ga,ra=function(V,oe){return bn(V,Ai(V),oe)},Fi=function(V,oe,fe){var le=oe(V);return cn(V)?le:ta(le,fe(V))},Aa=function(V){return Fi(V,Lt,Ci)},Qa=function(V){return Fi(V,pn,Ai)},Li=fn(W.a,"DataView"),Sa=fn(W.a,"Promise"),na=fn(W.a,"Set"),Ta=fn(W.a,"WeakMap"),ki=Or(Li),Bi=Or(En),vo=Or(Sa),po=Or(na),ia=Or(Ta),ni=st;(Li&&ni(new Li(new ArrayBuffer(1)))!="[object DataView]"||En&&ni(new En)!="[object Map]"||Sa&&ni(Sa.resolve())!="[object Promise]"||na&&ni(new na)!="[object Set]"||Ta&&ni(new Ta)!="[object WeakMap]")&&(ni=function(V){var oe=st(V),fe=oe=="[object Object]"?V.constructor:void 0,le=fe?Or(fe):"";if(le)switch(le){case ki:return"[object DataView]";case Bi:return"[object Map]";case vo:return"[object Promise]";case po:return"[object Set]";case ia:return"[object WeakMap]"}return oe});var aa=ni,go=Object.prototype.hasOwnProperty,Za=function(V){var oe=V.length,fe=new V.constructor(oe);return oe&&typeof V[0]=="string"&&go.call(V,"index")&&(fe.index=V.index,fe.input=V.input),fe},oa=W.a.Uint8Array,sa=function(V){var oe=new V.constructor(V.byteLength);return new oa(oe).set(new oa(V)),oe},ii=function(V,oe){var fe=oe?sa(V.buffer):V.buffer;return new V.constructor(fe,V.byteOffset,V.byteLength)},mo=/\w*$/,Xa=function(V){var oe=new V.constructor(V.source,mo.exec(V));return oe.lastIndex=V.lastIndex,oe},qa=ht?ht.prototype:void 0,la=qa?qa.valueOf:void 0,eo=function(V){return la?Object(la.call(V)):{}},Ma=function(V,oe){var fe=oe?sa(V.buffer):V.buffer;return new V.constructor(fe,V.byteOffset,V.length)},bo=function(V,oe,fe){var le=V.constructor;switch(oe){case"[object ArrayBuffer]":return sa(V);case"[object Boolean]":case"[object Date]":return new le(+V);case"[object DataView]":return ii(V,fe);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ma(V,fe);case"[object Map]":return new le;case"[object Number]":case"[object String]":return new le(V);case"[object RegExp]":return Xa(V);case"[object Set]":return new le;case"[object Symbol]":return eo(V)}},Vi=Object.create,Si=function(){function Ee(){}return function(V){if(!j(V))return{};if(Vi)return Vi(V);Ee.prototype=V;var oe=new Ee;return Ee.prototype=void 0,oe}}(),Ia=function(V){return typeof V.constructor!="function"||Dn(V)?{}:Si(Ca(V))},gi=function(V){return Xe(V)&&aa(V)=="[object Map]"},Hr=br.a&&br.a.isMap,ja=Hr?Xr(Hr):gi,ua=function(V){return Xe(V)&&aa(V)=="[object Set]"},ai=br.a&&br.a.isSet,zi=ai?Xr(ai):ua,tn={};tn["[object Arguments]"]=tn["[object Array]"]=tn["[object ArrayBuffer]"]=tn["[object DataView]"]=tn["[object Boolean]"]=tn["[object Date]"]=tn["[object Float32Array]"]=tn["[object Float64Array]"]=tn["[object Int8Array]"]=tn["[object Int16Array]"]=tn["[object Int32Array]"]=tn["[object Map]"]=tn["[object Number]"]=tn["[object Object]"]=tn["[object RegExp]"]=tn["[object Set]"]=tn["[object String]"]=tn["[object Symbol]"]=tn["[object Uint8Array]"]=tn["[object Uint8ClampedArray]"]=tn["[object Uint16Array]"]=tn["[object Uint32Array]"]=!0,tn["[object Error]"]=tn["[object Function]"]=tn["[object WeakMap]"]=!1;var Ra=function Ee(V,oe,fe,le,He,ct){var tt,Ft=1&oe,yr=2&oe,Sr=4&oe;if(fe&&(tt=He?fe(V,le,He,ct):fe(V)),tt!==void 0)return tt;if(!j(V))return V;var bi=cn(V);if(bi){if(tt=Za(V),!Ft)return Pa(V,tt)}else{var Wn=aa(V),di=Wn=="[object Function]"||Wn=="[object GeneratorFunction]";if(Object(jr.a)(V))return Object(Ka.a)(V,Ft);if(Wn=="[object Object]"||Wn=="[object Arguments]"||di&&!He){if(tt=yr||di?{}:Ia(V),!Ft)return yr?ra(V,ci(tt,V)):Ja(V,ur(tt,V))}else{if(!tn[Wn])return He?V:{};tt=bo(V,Wn,Ft)}}ct||(ct=new pt);var _i=ct.get(V);if(_i)return _i;ct.set(V,tt),zi(V)?V.forEach(function(Jn){tt.add(Ee(Jn,oe,fe,Jn,V,ct))}):ja(V)&&V.forEach(function(Jn,Qn){tt.set(Qn,Ee(Jn,oe,fe,Qn,V,ct))});var Ti=bi?void 0:(Sr?yr?Qa:Aa:yr?pn:Lt)(V);return Er(Ti||V,function(Jn,Qn){Ti&&(Jn=V[Qn=Jn]),on(tt,Qn,Ee(Jn,oe,fe,Qn,V,ct))}),tt},Da=function(V,oe){return Ra(V,5,oe=typeof oe=="function"?oe:void 0)},oi=Function.prototype,Vn=Object.prototype,ei=oi.toString,ca=Vn.hasOwnProperty,me=ei.call(Object),si=function(V){if(!Xe(V)||st(V)!="[object Object]")return!1;var oe=Ca(V);if(oe===null)return!0;var fe=ca.call(oe,"constructor")&&oe.constructor;return typeof fe=="function"&&fe instanceof fe&&ei.call(fe)==me},Ui=function(V){return Xe(V)&&V.nodeType===1&&!si(V)};function rn(Ee){for(var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,oe=[Ee],fe=new Set;oe.length>0;){var le=oe.shift();if(!(fe.has(le)||Wi(le)||V.has(le)))if(fe.add(le),le[Symbol.iterator])try{var He=p(le),ct;try{for(He.s();!(ct=He.n()).done;){var tt=ct.value;oe.push(tt)}}catch(yr){He.e(yr)}finally{He.f()}}catch(yr){}else for(var Ft in le)Ft!=="defaultValue"&&oe.push(le[Ft])}return fe}function Wi(Ee){var V=Object.prototype.toString.call(Ee),oe=typeof Ee;return oe==="number"||oe==="boolean"||oe==="string"||oe==="symbol"||oe==="function"||V==="[object Date]"||V==="[object RegExp]"||V==="[object Module]"||Ee==null||Ee instanceof EventTarget||Ee instanceof Event}function da(Ee,V){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(Ee===V&&typeof(fe=Ee)=="object"&&fe!==null)return!0;var fe,le=rn(Ee,oe),He=rn(V,oe),ct=p(le),tt;try{for(ct.s();!(tt=ct.n()).done;){var Ft=tt.value;if(He.has(Ft))return!0}}catch(yr){ct.e(yr)}finally{ct.f()}return!1}var Na=function(){function Ee(V){var oe=this;if(z(this,Ee),this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof V.crashNumberLimit=="number"?V.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof V.minimumNonErrorTimePeriod=="number"?V.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(fe){var le=fe.error||fe.reason;le instanceof Error&&oe._handleError(le,fe)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return H(Ee,[{key:"setCreator",value:function(oe){this._creator=oe}},{key:"setDestructor",value:function(oe){this._destructor=oe}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(oe,fe){this._listeners[oe]||(this._listeners[oe]=[]),this._listeners[oe].push(fe)}},{key:"off",value:function(oe,fe){this._listeners[oe]=this._listeners[oe].filter(function(le){return le!==fe})}},{key:"_fire",value:function(oe){for(var fe=this._listeners[oe]||[],le=arguments.length,He=new Array(le>1?le-1:0),ct=1;ct<le;ct++)He[ct-1]=arguments[ct];var tt=p(fe),Ft;try{for(tt.s();!(Ft=tt.n()).done;){var yr=Ft.value;yr.apply(this,[null].concat(He))}}catch(Sr){tt.e(Sr)}finally{tt.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(oe,fe){if(this._shouldReactToError(oe)){this.crashes.push({message:oe.message,stack:oe.stack,filename:fe.filename,lineno:fe.lineno,colno:fe.colno,date:this._now()});var le=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:oe,causesRestart:le}),le?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(oe){return oe.is&&oe.is("CKEditorError")&&oe.context!==void 0&&oe.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(oe)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),Ee}(),Fa=function(Ee){X(oe,Ee);var V=U(oe);function oe(fe){var le,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z(this,oe),le=V.call(this,He),le._editor=null,le._throttledSave=Dr(le._save.bind(m(le)),typeof He.saveInterval=="number"?He.saveInterval:5e3),le._creator=function(ct,tt){return fe.create(ct,tt)},le._destructor=function(ct){return ct.destroy()},le}return H(oe,[{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}},{key:"_restart",value:function(){var le=this;return Promise.resolve().then(function(){return le.state="initializing",le._fire("stateChange"),le._destroy()}).catch(function(He){console.error("An error happened during the editor destroying.",He)}).then(function(){if(typeof le._elementOrData=="string")return le.create(le._data,le._config,le._config.context);{var He=Object.assign({},le._config,{initialData:le._data});return le.create(le._elementOrData,He,He.context)}}).then(function(){le._fire("restart")})}},{key:"create",value:function(){var le=this,He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._elementOrData,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._config,tt=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then(function(){return S(O(oe.prototype),"_startErrorHandling",le).call(le),le._elementOrData=He,le._config=le._cloneEditorConfiguration(ct)||{},le._config.context=tt,le._creator(He,le._config)}).then(function(Ft){le._editor=Ft,Ft.model.document.on("change:data",le._throttledSave),le._lastDocumentVersion=Ft.model.document.version,le._data=le._getData(),le.state="ready",le._fire("stateChange")})}},{key:"destroy",value:function(){var le=this;return Promise.resolve().then(function(){return le.state="destroyed",le._fire("stateChange"),S(O(oe.prototype),"destroy",le).call(le),le._destroy()})}},{key:"_destroy",value:function(){var le=this;return Promise.resolve().then(function(){le._stopErrorHandling(),le._throttledSave.flush();var He=le._editor;return le._editor=null,le._destructor(He)})}},{key:"_save",value:function(){var le=this._editor.model.document.version;if(le!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=le}catch(He){console.error(He,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(le){this._excludedProps=le}},{key:"_getData",value:function(){var le={},He=p(this._editor.model.document.getRootNames()),ct;try{for(He.s();!(ct=He.n()).done;){var tt=ct.value;le[tt]=this._editor.data.get({rootName:tt})}}catch(Ft){He.e(Ft)}finally{He.f()}return le}},{key:"_isErrorComingFromThisItem",value:function(le){return da(this._editor,le.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(le){return Da(le,function(He,ct){return Ui(He)||ct==="context"?He:void 0})}}]),oe}(Na),yn=new Array(256).fill().map(function(Ee,V){return("0"+V.toString(16)).slice(-2)}),Hi=function(Ee){X(oe,Ee);var V=U(oe);function oe(fe){var le,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z(this,oe),le=V.call(this,He),le._watchdogs=new Map,le._watchdogConfig=He,le._context=null,le._contextProps=new Set,le._actionQueue=new Hn,le._creator=function(ct){return fe.create(ct)},le._destructor=function(ct){return ct.destroy()},le._actionQueue.onEmpty(function(){le.state==="initializing"&&(le.state="ready",le._fire("stateChange"))}),le}return H(oe,[{key:"context",get:function(){return this._context}},{key:"create",value:function(){var le=this,He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._actionQueue.enqueue(function(){return le._contextConfig=He,le._create()})}},{key:"getItem",value:function(le){return this._getWatchdog(le)._item}},{key:"getItemState",value:function(le){return this._getWatchdog(le).state}},{key:"add",value:function(le){var He=this,ct=Array.isArray(le)?le:[le];return this._actionQueue.enqueue(function(){if(He.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!He._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");return Promise.all(ct.map(function(tt){var Ft;if(He._watchdogs.has(tt.id))throw new Error("Item with the given id is already added: '".concat(tt.id,"'."));if(tt.type==="editor")return Ft=new Fa(He._watchdogConfig),Ft.setCreator(tt.creator),Ft._setExcludedProperties(He._contextProps),tt.destructor&&Ft.setDestructor(tt.destructor),He._watchdogs.set(tt.id,Ft),Ft.on("error",function(yr,Sr){var bi=Sr.error,Wn=Sr.causesRestart;He._fire("itemError",{itemId:tt.id,error:bi}),Wn&&He._actionQueue.enqueue(function(){return new Promise(function(di){Ft.on("restart",function _i(){Ft.off("restart",_i),this._fire("itemRestart",{itemId:tt.id}),di()}.bind(He))})})}),Ft.create(tt.sourceElementOrData,tt.config,He._context);throw new Error("Not supported item type: '".concat(tt.type,"'."))}))})}},{key:"remove",value:function(le){var He=this,ct=Array.isArray(le)?le:[le];return this._actionQueue.enqueue(function(){return Promise.all(ct.map(function(tt){var Ft=He._getWatchdog(tt);return He._watchdogs.delete(tt),Ft.destroy()}))})}},{key:"destroy",value:function(){var le=this;return this._actionQueue.enqueue(function(){return le.state="destroyed",le._fire("stateChange"),S(O(oe.prototype),"destroy",le).call(le),le._destroy()})}},{key:"_restart",value:function(){var le=this;return this._actionQueue.enqueue(function(){return le.state="initializing",le._fire("stateChange"),le._destroy().catch(function(He){console.error("An error happened during destroying the context or items.",He)}).then(function(){return le._create()}).then(function(){return le._fire("restart")})})}},{key:"_create",value:function(){var le=this;return Promise.resolve().then(function(){return le._startErrorHandling(),le._creator(le._contextConfig)}).then(function(He){return le._context=He,le._contextProps=rn(le._context),Promise.all(Array.from(le._watchdogs.values()).map(function(ct){return ct._setExcludedProperties(le._contextProps),ct.create(void 0,void 0,le._context)}))})}},{key:"_destroy",value:function(){var le=this;return Promise.resolve().then(function(){le._stopErrorHandling();var He=le._context;return le._context=null,le._contextProps=new Set,Promise.all(Array.from(le._watchdogs.values()).map(function(ct){return ct.destroy()})).then(function(){return le._destructor(He)})})}},{key:"_getWatchdog",value:function(le){var He=this._watchdogs.get(le);if(!He)throw new Error("Item with the given id was not registered: ".concat(le,"."));return He}},{key:"_isErrorComingFromThisItem",value:function(le){var He=p(this._watchdogs.values()),ct;try{for(He.s();!(ct=He.n()).done;){var tt=ct.value;if(tt._isErrorComingFromThisItem(le))return!1}}catch(Ft){He.e(Ft)}finally{He.f()}return da(this._context,le.context)}}]),oe}(Na),Hn=function(){function Ee(){z(this,Ee),this._promiseQueue=Promise.resolve(),this._onEmptyCallbacks=[]}return H(Ee,[{key:"onEmpty",value:function(oe){this._onEmptyCallbacks.push(oe)}},{key:"enqueue",value:function(oe){var fe=this,le,He=this._promiseQueue.then(oe).then(function(){fe._promiseQueue===le&&fe._onEmptyCallbacks.forEach(function(ct){return ct()})});return le=this._promiseQueue=He.catch(function(){}),He}}]),Ee}(),rr=se.a.createContext("contextWatchdog"),Un=function(Ee){X(oe,Ee);var V=U(oe);function oe(fe,le){var He;return z(this,oe),He=V.call(this,fe,le),He.contextWatchdog=null,He.props.isLayoutReady&&He._initializeContextWatchdog(He.props.config),He}return H(oe,[{key:"shouldComponentUpdate",value:function(le){return le.id!==this.props.id&&(this.contextWatchdog&&this.contextWatchdog.destroy(),this._initializeContextWatchdog(le.config)),le.isLayoutReady&&!this.contextWatchdog?(this._initializeContextWatchdog(le.config),!0):this.props.children!==le.children}},{key:"render",value:function(){return se.a.createElement(rr.Provider,{value:this.contextWatchdog},this.props.children)}},{key:"componentWillUnmount",value:function(){this._destroyContext()}},{key:"_initializeContextWatchdog",value:function(le){var He=this;this.contextWatchdog=new Hi(this.props.context),this.contextWatchdog.create(le).catch(function(ct){He.props.onError(ct,{phase:"initialization",willContextRestart:!1})}),this.contextWatchdog.on("error",function(ct,tt){He.props.onError(tt.error,{phase:"runtime",willContextRestart:tt.causesRestart})}),this.contextWatchdog.on("stateChange",function(){He.contextWatchdog.state==="ready"&&He.props.onReady&&He.props.onReady(He.contextWatchdog.context)})}},{key:"_destroyContext",value:function(){this.contextWatchdog&&(this.contextWatchdog.destroy(),this.contextWatchdog=null)}}]),oe}(se.a.Component);Un.defaultProps={isLayoutReady:!0,onError:function(V,oe){return console.error(V,oe)}},Un.propTypes={id:$.a.string,isLayoutReady:$.a.bool,context:$.a.func,config:$.a.object,onReady:$.a.func,onError:$.a.func};var mi=function(Ee){X(oe,Ee);var V=U(oe);function oe(fe){var le;return z(this,oe),le=V.call(this,fe),le.domContainer=se.a.createRef(),le.watchdog=null,le}return H(oe,[{key:"editor",get:function(){return this.watchdog?this.watchdog.editor:null}},{key:"shouldComponentUpdate",value:function(le){return!!this.editor&&(le.id!==this.props.id||(this._shouldUpdateEditor(le)&&this.editor.setData(le.data),"disabled"in le&&(this.editor.isReadOnly=le.disabled),!1))}},{key:"componentDidMount",value:function(){this._initializeEditor()}},{key:"componentDidUpdate",value:function(){this._destroyEditor(),this._initializeEditor()}},{key:"componentWillUnmount",value:function(){this._destroyEditor()}},{key:"render",value:function(){return se.a.createElement("div",{ref:this.domContainer})}},{key:"_initializeEditor",value:function(){var le=this;this.context instanceof Hi?this.watchdog=new to(this.context):this.watchdog=new oe._EditorWatchdog(this.props.editor),this.watchdog.setCreator(function(He,ct){return le._createEditor(He,ct)}),this.watchdog.on("error",function(He,ct){var tt=ct.error,Ft=ct.causesRestart;le.props.onError(tt,{phase:"runtime",willEditorRestart:Ft})}),this.watchdog.create(this.domContainer.current,this._getConfig()).catch(function(He){return le.props.onError(He,{phase:"initialization",willEditorRestart:!1})})}},{key:"_createEditor",value:function(le,He){var ct=this;return this.props.editor.create(le,He).then(function(tt){"disabled"in ct.props&&(tt.isReadOnly=ct.props.disabled);var Ft=tt.model.document,yr=tt.editing.view.document;return Ft.on("change:data",function(Sr){ct.props.onChange&&ct.props.onChange(Sr,tt)}),yr.on("focus",function(Sr){ct.props.onFocus&&ct.props.onFocus(Sr,tt)}),yr.on("blur",function(Sr){ct.props.onBlur&&ct.props.onBlur(Sr,tt)}),setTimeout(function(){ct.props.onReady&&ct.props.onReady(ct.editor)}),tt})}},{key:"_destroyEditor",value:function(){this.watchdog&&(this.watchdog.destroy(),this.watchdog=null)}},{key:"_shouldUpdateEditor",value:function(le){return this.props.data!==le.data&&this.editor.getData()!==le.data}},{key:"_getConfig",value:function(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),B(B({},this.props.config),{},{initialData:this.props.config.initialData||this.props.data||""})}}]),oe}(se.a.Component),to=function(){function Ee(V){z(this,Ee),this._contextWatchdog=V,this._id=function(){var oe=4294967296*Math.random()>>>0,fe=4294967296*Math.random()>>>0,le=4294967296*Math.random()>>>0,He=4294967296*Math.random()>>>0;return"e"+yn[oe>>0&255]+yn[oe>>8&255]+yn[oe>>16&255]+yn[oe>>24&255]+yn[fe>>0&255]+yn[fe>>8&255]+yn[fe>>16&255]+yn[fe>>24&255]+yn[le>>0&255]+yn[le>>8&255]+yn[le>>16&255]+yn[le>>24&255]+yn[He>>0&255]+yn[He>>8&255]+yn[He>>16&255]+yn[He>>24&255]}()}return H(Ee,[{key:"setCreator",value:function(oe){this._creator=oe}},{key:"create",value:function(oe,fe){return this._contextWatchdog.add({sourceElementOrData:oe,config:fe,creator:this._creator,id:this._id,type:"editor"})}},{key:"on",value:function(oe,fe){var le=this;this._contextWatchdog.on("itemError",function(He,ct){var tt=ct.itemId,Ft=ct.causesRestart,yr=ct.error;tt===le._id&&fe(null,{error:yr,causesRestart:Ft})})}},{key:"destroy",value:function(){this._contextWatchdog.remove(this._id)}},{key:"editor",get:function(){return this._contextWatchdog.getItem(this._id)}}]),Ee}();mi.contextType=rr,mi.propTypes={editor:$.a.func.isRequired,data:$.a.string,config:$.a.object,onChange:$.a.func,onReady:$.a.func,onFocus:$.a.func,onBlur:$.a.func,onError:$.a.func,disabled:$.a.bool,onInit:function(V,oe){if(V[oe])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},mi.defaultProps={config:{},onError:function(V,oe){return console.error(V,oe)}},mi._EditorWatchdog=Fa}])})},Ag8Z:function(re,J,v){var B=v("JC6p"),m=v("EwQA");function S(O,X){return O&&B(O,m(X))}re.exports=S},"B+1O":function(re,J,v){},B5Mt:function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var B=function(S,O){var X={},U=function(H){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;X[H]=p};return S===0&&U("first-child"),S===O-1&&U("last-child"),(S===0||S%2==0)&&U("even"),Math.abs(S%2)===1&&U("odd"),U("nth-child",S),X};J.default=B},BOG6:function(re,J,v){"use strict";v.r(J);var B=v("miYZ"),m=v("tsqr"),S=v("9og8"),O=v("fOrg"),X=v("+KLJ"),U=v("+L6B"),z=v("2/Rp"),H=v("tJVT"),p=v("jrin"),L=v("k1fw"),C=v("WmNS"),E=v.n(C),T=v("q1tI"),D=v.n(T),se=v("VMEa"),M=v("Qurx"),$=v("yj/a"),j=v("nhC9"),W=v("rWUb"),x=v("tMyG"),ne=v("9kvl"),Ae=v("Ty5D"),je=v("pWZp"),Te=v("nKUr"),ht=v.n(Te),yt=function(Vt){return Vt?Object.keys(Vt).reduce(function(gt,zt){return Object(L.a)(Object(L.a)({},gt),{},Object(p.a)({},zt,zt))},{}):{}},Ct=function(Vt){var gt=Vt.disabled,zt=gt===void 0?!1:gt,dt=Vt.id,Je=Object(T.useState)({state:"ready"}),st=Object(H.a)(Je,2),Xe=st[0],Ue=st[1],$e=Object(T.useCallback)(function(){Ue({state:"loading"}),Object(W.c)(dt).then(function(Ke){Ke.success?Ke.data.sent&&Ke.data.to?Ue({state:"loaded",data:Ke.data,message:"email sent to ".concat(Ke.data.to)}):Ke.data.url?Ue({state:"loaded",data:Ke.data,message:Object(Te.jsxs)(D.a.Fragment,{children:["Download"," ",Object(Te.jsx)("a",{target:"_blank",href:Ke.data.url,children:Ke.data.filename})]})}):Ue({state:"loaded",data:Ke.data,message:Ke.message}):Ue({state:"error",error:Ke.message})}).catch(function(){Ue({state:"error",error:"error"})})},[dt]);return Object(Te.jsxs)(D.a.Fragment,{children:[Object(Te.jsx)(z.a,{type:"primary",loading:Xe.state==="loading",disabled:zt,onClick:$e,children:Object(Te.jsx)(ne.a,{id:"preview"})}),Xe.state==="loaded"&&Object(Te.jsx)(X.a,{message:Xe.message,type:"success",closable:!0,onClose:function(){return Ue({state:"ready"})}}),Xe.state==="error"&&Object(Te.jsx)(X.a,{message:Xe.error,type:"error",closable:!0,onClose:function(){return Ue({state:"ready"})}})]})};J.default=function(){var vt=Object(ne.i)(),Vt=Object(Ae.g)(),gt=Vt.template,zt=gt==="new",dt=Object(T.useState)(!1),Je=Object(H.a)(dt,2),st=Je[0],Xe=Je[1],Ue=se.b.useForm(),$e=Object(H.a)(Ue,1),Ke=$e[0],ft=Object(T.useState)(),rt=Object(H.a)(ft,2),Pe=rt[0],At=rt[1];Object(T.useEffect)(function(){Object(W.g)().then(function(Dr){At(Dr.success?Dr.data:{})})},[]);var qt=Object(T.useCallback)(Object(S.a)(E.a.mark(function Dr(){var sr;return E.a.wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:return Ir.next=2,Object(W.d)(Number(gt));case 2:sr=Ir.sent,sr.success&&(Ke.setFieldsValue(Object(L.a)(Object(L.a)({},sr.data),{},{content:sr.data.content||""})),Xe(!0));case 4:case"end":return Ir.stop()}},Dr)})),[gt,Pe]);Object(T.useEffect)(function(){gt!=="new"&&qt()},[gt,qt]);var Qr=Object(T.useCallback)(function(){var Dr=Object(S.a)(E.a.mark(function sr(zr){var Ir,Ur;return E.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(Ur=Object(L.a)({},zr),gt!=="new"){Y.next=8;break}return Y.next=4,Object(W.a)(Ur);case 4:Ir=Y.sent,Ir.success&&ne.d.push("/templates/".concat(Ir.data.id)),Y.next=11;break;case 8:return Y.next=10,Object(W.f)(Number(gt),Ur);case 10:Ir=Y.sent;case 11:Xe(!0),m.default.success(Ir.message);case 13:case"end":return Y.stop()}},sr)}));return function(sr){return Dr.apply(this,arguments)}}(),[]);return Object(Te.jsx)(x.a,{title:zt?Object(Te.jsx)(ne.a,{id:"new_template"}):Object(Te.jsx)(ne.a,{id:"new_template"}),children:Object(Te.jsx)(j.a,{children:Object(Te.jsxs)(se.b,{initialValues:{},onFinish:Qr,form:Ke,onValuesChange:function(){Xe(!1)},children:[Object(Te.jsxs)(se.b.Group,{children:[Object(Te.jsx)(M.a,{width:"md",name:"name",label:Object(Te.jsx)(ne.a,{id:"name"}),tooltip:Object(Te.jsx)(ne.a,{id:"name_tooltip"}),placeholder:vt.formatMessage({id:"name"}),required:!0}),Object(Te.jsx)($.a,{name:"type",label:Object(Te.jsx)(ne.a,{id:"tpl_type"}),tooltip:Object(Te.jsx)(ne.a,{id:"tpl_type_tooltip"}),valueEnum:Pe?yt(Pe):{},placeholder:vt.formatMessage({id:"tpl_type_placeholder"}),rules:[{required:!0,message:"Please select your country!"}]}),Object(Te.jsx)(se.b.Item,{noStyle:!0,shouldUpdate:!0,children:function(sr){return Object(Te.jsx)($.a,{name:"vars_set",label:Object(Te.jsx)(ne.a,{id:"tpl_vars_set"}),tooltip:Object(Te.jsx)(ne.a,{id:"tpl_vars_set_tooltip"}),valueEnum:Pe?yt(Pe[sr.getFieldValue("type")]):{},placeholder:vt.formatMessage({id:"tpl_vars_set_placeholder"}),rules:[{required:!0,message:"Please select your country!"}]})}}),!zt&&Object(Te.jsx)(se.b.Item,{label:Object(Te.jsx)(ne.a,{id:"preview"}),children:Object(Te.jsx)(Ct,{disabled:!st,id:Number(gt)})})]}),Object(Te.jsx)(se.b.Item,{noStyle:!0,shouldUpdate:!0,children:function(sr){return Object(Te.jsx)(se.b.Item,{name:"content",label:Object(Te.jsx)(ne.a,{id:"content"}),tooltip:Object(Te.jsx)(ne.a,{id:"content_tooltip"}),valuePropName:"value",required:!0,shouldUpdate:!0,children:Object(Te.jsx)(je.a,{tokens:Pe&&sr.getFieldValue("type")&&sr.getFieldValue("vars_set")?Pe[sr.getFieldValue("type")][sr.getFieldValue("vars_set")]:[]})})}})]})})})}},BkRI:function(re,J,v){var B=v("OBhP"),m=1,S=4;function O(X){return B(X,m|S)}re.exports=O},CMye:function(re,J,v){var B=v("GoyQ");function m(S){return S===S&&!B(S)}re.exports=m},CS2o:function(re,J,v){var B=v("GXtI"),m=v("5h2M"),S=v("baxp");function O(X){var U=m();return function(){var H=B(X),p;if(U){var L=B(this).constructor;p=Reflect.construct(H,arguments,L)}else p=H.apply(this,arguments);return S(this,p)}}re.exports=O},Ce4a:function(re,J,v){"use strict";var B=v("Ju5/"),m=B.a.Uint8Array;J.a=m},CeSn:function(re,J){var v=0/0,B="[object Symbol]",m=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,X=/^0o[0-7]+$/i,U=parseInt,z=Object.prototype,H=z.toString;function p(T){var D=typeof T;return!!T&&(D=="object"||D=="function")}function L(T){return!!T&&typeof T=="object"}function C(T){return typeof T=="symbol"||L(T)&&H.call(T)==B}function E(T){if(typeof T=="number")return T;if(C(T))return v;if(p(T)){var D=typeof T.valueOf=="function"?T.valueOf():T;T=p(D)?D+"":D}if(typeof T!="string")return T===0?T:+T;T=T.replace(m,"");var se=O.test(T);return se||X.test(T)?U(T.slice(2),se?2:8):S.test(T)?v:+T}re.exports=E},DlmY:function(re,J,v){"use strict";var B=v("Y7yP"),m=Object(B.a)(Object,"create"),S=m;function O(){this.__data__=S?S(null):{},this.size=0}var X=O;function U(rt){var Pe=this.has(rt)&&delete this.__data__[rt];return this.size-=Pe?1:0,Pe}var z=U,H="__lodash_hash_undefined__",p=Object.prototype,L=p.hasOwnProperty;function C(rt){var Pe=this.__data__;if(S){var At=Pe[rt];return At===H?void 0:At}return L.call(Pe,rt)?Pe[rt]:void 0}var E=C,T=Object.prototype,D=T.hasOwnProperty;function se(rt){var Pe=this.__data__;return S?Pe[rt]!==void 0:D.call(Pe,rt)}var M=se,$="__lodash_hash_undefined__";function j(rt,Pe){var At=this.__data__;return this.size+=this.has(rt)?0:1,At[rt]=S&&Pe===void 0?$:Pe,this}var W=j;function x(rt){var Pe=-1,At=rt==null?0:rt.length;for(this.clear();++Pe<At;){var qt=rt[Pe];this.set(qt[0],qt[1])}}x.prototype.clear=X,x.prototype.delete=z,x.prototype.get=E,x.prototype.has=M,x.prototype.set=W;var ne=x,Ae=v("nLtN"),je=v("3cmB");function Te(){this.size=0,this.__data__={hash:new ne,map:new(je.a||Ae.a),string:new ne}}var ht=Te;function yt(rt){var Pe=typeof rt;return Pe=="string"||Pe=="number"||Pe=="symbol"||Pe=="boolean"?rt!=="__proto__":rt===null}var Ct=yt;function vt(rt,Pe){var At=rt.__data__;return Ct(Pe)?At[typeof Pe=="string"?"string":"hash"]:At.map}var Vt=vt;function gt(rt){var Pe=Vt(this,rt).delete(rt);return this.size-=Pe?1:0,Pe}var zt=gt;function dt(rt){return Vt(this,rt).get(rt)}var Je=dt;function st(rt){return Vt(this,rt).has(rt)}var Xe=st;function Ue(rt,Pe){var At=Vt(this,rt),qt=At.size;return At.set(rt,Pe),this.size+=At.size==qt?0:1,this}var $e=Ue;function Ke(rt){var Pe=-1,At=rt==null?0:rt.length;for(this.clear();++Pe<At;){var qt=rt[Pe];this.set(qt[0],qt[1])}}Ke.prototype.clear=ht,Ke.prototype.delete=zt,Ke.prototype.get=Je,Ke.prototype.has=Xe,Ke.prototype.set=$e;var ft=J.a=Ke},"Dw+G":function(re,J,v){var B=v("juv8"),m=v("mTTR");function S(O,X){return O&&B(X,m(X),O)}re.exports=S},EEGq:function(re,J,v){var B=v("juv8"),m=v("oCl/");function S(O,X){return B(O,m(O),X)}re.exports=S},EUcb:function(re,J,v){"use strict";function B(m){return m!=null&&typeof m=="object"}J.a=B},EwQA:function(re,J,v){var B=v("zZ0H");function m(S){return typeof S=="function"?S:B}re.exports=m},G6z8:function(re,J,v){var B=v("fR/l"),m=v("oCl/"),S=v("mTTR");function O(X){return B(X,S,m)}re.exports=O},G8aS:function(re,J,v){"use strict";var B=v("8M4i"),m=v("EUcb"),S="[object Symbol]";function O(X){return typeof X=="symbol"||Object(m.a)(X)&&Object(B.a)(X)==S}J.a=O},GDhZ:function(re,J,v){var B=v("wF/u"),m=v("mwIZ"),S=v("hgQt"),O=v("9ggG"),X=v("CMye"),U=v("IOzZ"),z=v("9Nap"),H=1,p=2;function L(C,E){return O(C)&&X(E)?U(z(C),E):function(T){var D=m(T,C);return D===void 0&&D===E?S(T,C):B(E,D,H|p)}}re.exports=L},GNiM:function(re,J,v){var B=v("I01J"),m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,O=B(function(X){var U=[];return X.charCodeAt(0)===46&&U.push(""),X.replace(m,function(z,H,p,L){U.push(p?L.replace(S,"$1"):H||z)}),U});re.exports=O},GXtI:function(re,J){function v(B){return re.exports=v=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},v(B)}re.exports=v},Gi0A:function(re,J,v){var B=v("QqLw"),m=v("ExA7"),S="[object Map]";function O(X){return m(X)&&B(X)==S}re.exports=O},HBdL:function(re,J,v){"use strict";var B=v("WmNS"),m=v.n(B),S=v("q1tI"),O=v.n(S);function X(se){return p(se)||H(se)||z(se)||U()}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(se,M){if(!!se){if(typeof se=="string")return L(se,M);var $=Object.prototype.toString.call(se).slice(8,-1);if($==="Object"&&se.constructor&&($=se.constructor.name),$==="Map"||$==="Set")return Array.from(se);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return L(se,M)}}function H(se){if(typeof Symbol!="undefined"&&se[Symbol.iterator]!=null||se["@@iterator"]!=null)return Array.from(se)}function p(se){if(Array.isArray(se))return L(se)}function L(se,M){(M==null||M>se.length)&&(M=se.length);for(var $=0,j=new Array(M);$<M;$++)j[$]=se[$];return j}function C(se,M,$,j,W,x,ne){try{var Ae=se[x](ne),je=Ae.value}catch(Te){$(Te);return}Ae.done?M(je):Promise.resolve(je).then(j,W)}function E(se){return function(){var M=this,$=arguments;return new Promise(function(j,W){var x=se.apply(M,$);function ne(je){C(x,j,W,ne,Ae,"next",je)}function Ae(je){C(x,j,W,ne,Ae,"throw",je)}ne(void 0)})}}var T=function(M,$){var j=Object(S.useRef)(!1);Object(S.useEffect)(function(){if(!j.current)j.current=!0;else return M();return function(){}},$)};function D(se,M,$){var j=Array.isArray(M)?M:[],W=typeof M=="number"?M:$||0,x=Object(S.useRef)(),ne=Object(S.useRef)(se);ne.current=se;var Ae=Object(S.useCallback)(function(){x.current&&clearTimeout(x.current)},[]),je=Object(S.useCallback)(E(m.a.mark(function Te(){var ht,yt,Ct,vt=arguments;return m.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:for(ht=vt.length,yt=new Array(ht),Ct=0;Ct<ht;Ct++)yt[Ct]=vt[Ct];return gt.abrupt("return",new Promise(function(zt){Ae(),x.current=setTimeout(E(m.a.mark(function dt(){var Je;return m.a.wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Xe.next=2,ne.current.apply(ne,yt);case 2:Je=Xe.sent,zt(Je);case 4:case"end":return Xe.stop()}},dt)})),W)}));case 2:case"end":return gt.stop()}},Te)})),[W,Ae]);return T(function(){return je(),Ae},[].concat(X(j),[je])),Object(S.useEffect)(function(){return Ae},[]),{run:je,cancel:Ae}}J.a=D},I01J:function(re,J,v){var B=v("44Ds"),m=500;function S(O){var X=B(O,function(z){return U.size===m&&U.clear(),z}),U=X.cache;return X}re.exports=S},IOzZ:function(re,J){function v(B,m){return function(S){return S==null?!1:S[B]===m&&(m!==void 0||B in Object(S))}}re.exports=v},IzLi:function(re,J,v){"use strict";function B(m){var S=typeof m;return m!=null&&(S=="object"||S=="function")}J.a=B},JC6p:function(re,J,v){var B=v("cq/+"),m=v("7GkX");function S(O,X){return O&&B(O,X,m)}re.exports=S},Js68:function(re,J,v){"use strict";var B=9007199254740991;function m(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=B}J.a=m},"Ju5/":function(re,J,v){"use strict";var B=v("XqMk"),m=typeof self=="object"&&self&&self.Object===Object&&self,S=B.a||m||Function("return this")();J.a=S},Juji:function(re,J){function v(B,m){return B!=null&&m in Object(B)}re.exports=v},KCY9:function(re,J,v){},KPFz:function(re,J,v){},KfSR:function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.autoprefix=void 0;var B=v("Ag8Z"),m=O(B),S=Object.assign||function(z){for(var H=1;H<arguments.length;H++){var p=arguments[H];for(var L in p)Object.prototype.hasOwnProperty.call(p,L)&&(z[L]=p[L])}return z};function O(z){return z&&z.__esModule?z:{default:z}}var X={borderRadius:function(H){return{msBorderRadius:H,MozBorderRadius:H,OBorderRadius:H,WebkitBorderRadius:H,borderRadius:H}},boxShadow:function(H){return{msBoxShadow:H,MozBoxShadow:H,OBoxShadow:H,WebkitBoxShadow:H,boxShadow:H}},userSelect:function(H){return{WebkitTouchCallout:H,KhtmlUserSelect:H,MozUserSelect:H,msUserSelect:H,WebkitUserSelect:H,userSelect:H}},flex:function(H){return{WebkitBoxFlex:H,MozBoxFlex:H,WebkitFlex:H,msFlex:H,flex:H}},flexBasis:function(H){return{WebkitFlexBasis:H,flexBasis:H}},justifyContent:function(H){return{WebkitJustifyContent:H,justifyContent:H}},transition:function(H){return{msTransition:H,MozTransition:H,OTransition:H,WebkitTransition:H,transition:H}},transform:function(H){return{msTransform:H,MozTransform:H,OTransform:H,WebkitTransform:H,transform:H}},absolute:function(H){var p=H&&H.split(" ");return{position:"absolute",top:p&&p[0],right:p&&p[1],bottom:p&&p[2],left:p&&p[3]}},extend:function(H,p){var L=p[H];return L||{extend:H}}},U=J.autoprefix=function(H){var p={};return(0,m.default)(H,function(L,C){var E={};(0,m.default)(L,function(T,D){var se=X[D];se?E=S({},E,se(T)):E[D]=T}),p[C]=E}),p};J.default=U},L3Qv:function(re,J,v){"use strict";function B(){return!1}J.a=B},LcsW:function(re,J,v){var B=v("kekF"),m=B(Object.getPrototypeOf,Object);re.exports=m},Lpa7:function(re,J,v){"use strict";v.d(J,"a",function(){return Ur}),v.d(J,"b",function(){return ft});var B=v("q1tI"),m=v.n(B);function S(te,Y,Q,ve){return new(Q||(Q=Promise))(function(ge,Be){function ze(ke){try{Ot(ve.next(ke))}catch(xe){Be(xe)}}function xt(ke){try{Ot(ve.throw(ke))}catch(xe){Be(xe)}}function Ot(ke){var xe;ke.done?ge(ke.value):(xe=ke.value,xe instanceof Q?xe:new Q(function(De){De(xe)})).then(ze,xt)}Ot((ve=ve.apply(te,Y||[])).next())})}function O(te,Y){var Q,ve,ge,Be,ze={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return Be={next:xt(0),throw:xt(1),return:xt(2)},typeof Symbol=="function"&&(Be[Symbol.iterator]=function(){return this}),Be;function xt(Ot){return function(ke){return function(xe){if(Q)throw new TypeError("Generator is already executing.");for(;ze;)try{if(Q=1,ve&&(ge=2&xe[0]?ve.return:xe[0]?ve.throw||((ge=ve.return)&&ge.call(ve),0):ve.next)&&!(ge=ge.call(ve,xe[1])).done)return ge;switch(ve=0,ge&&(xe=[2&xe[0],ge.value]),xe[0]){case 0:case 1:ge=xe;break;case 4:return ze.label++,{value:xe[1],done:!1};case 5:ze.label++,ve=xe[1],xe=[0];continue;case 7:xe=ze.ops.pop(),ze.trys.pop();continue;default:if(ge=ze.trys,!((ge=ge.length>0&&ge[ge.length-1])||xe[0]!==6&&xe[0]!==2)){ze=0;continue}if(xe[0]===3&&(!ge||xe[1]>ge[0]&&xe[1]<ge[3])){ze.label=xe[1];break}if(xe[0]===6&&ze.label<ge[1]){ze.label=ge[1],ge=xe;break}if(ge&&ze.label<ge[2]){ze.label=ge[2],ze.ops.push(xe);break}ge[2]&&ze.ops.pop(),ze.trys.pop();continue}xe=Y.call(te,ze)}catch(De){xe=[6,De],ve=0}finally{Q=ge=0}if(5&xe[0])throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}([Ot,ke])}}}var X,U=function(){},z=U(),H=Object,p=function(Y){return Y===z},L=function(Y){return typeof Y=="function"},C=function(Y,Q){return H.assign({},Y,Q)},E=typeof window!="undefined",T=typeof document!="undefined",D=new WeakMap,se=0,M=function te(Y){var Q,ve,ge=typeof Y,Be=Y&&Y.constructor,ze=Be==Date;if(H(Y)!==Y||ze||Be==RegExp)Q=ze?Y.toJSON():ge=="symbol"?Y.toString():ge=="string"?JSON.stringify(Y):""+Y;else{if(Q=D.get(Y))return Q;if(Q=++se+"~",D.set(Y,Q),Be==Array){for(Q="@",ve=0;ve<Y.length;ve++)Q+=te(Y[ve])+",";D.set(Y,Q)}if(Be==H){Q="#";for(var xt=H.keys(Y).sort();!p(ve=xt.pop());)p(Y[ve])||(Q+=ve+":"+te(Y[ve])+",");D.set(Y,Q)}}return Q},$=!0,j=E?window.addEventListener.bind(window):U,W=T?document.addEventListener.bind(document):U,x=E&&removeEventListener||U,ne=T?document.removeEventListener.bind(document):U,Ae={isOnline:function(){return $},isVisible:function(){var Y=T&&document.visibilityState;return!!p(Y)||Y!=="hidden"}},je={initFocus:function(Y){return W("visibilitychange",Y),j("focus",Y),function(){ne("visibilitychange",Y),x("focus",Y)}},initReconnect:function(Y){var Q=function(){$=!0,Y()},ve=function(){$=!1};return j("online",Q),j("offline",ve),function(){x("online",Q),x("offline",ve)}}},Te=!E||"Deno"in window,ht=E&&window.requestAnimationFrame||function(te){return setTimeout(te,1)},yt=Te?B.useEffect:B.useLayoutEffect,Ct=typeof navigator!="undefined"&&navigator.connection,vt=!Te&&Ct&&(["slow-2g","2g"].includes(Ct.effectiveType)||Ct.saveData),Vt=function(Y){if(L(Y))try{Y=Y()}catch(ve){Y=""}var Q=[].concat(Y);return[Y=typeof Y=="string"?Y:(Array.isArray(Y)?Y.length:Y)?M(Y):"",Q,Y?"$err$"+Y:"",Y?"$req$"+Y:""]},gt=new WeakMap,zt=function(Y,Q,ve,ge,Be,ze){for(var xt=gt.get(Y),Ot=xt[0],ke=xt[1],xe=xt[4],De=xt[5],Ye=Ot[Q],Ut=ke[Q]||[],Yt=0;Yt<Ut.length;++Yt)Ut[Yt](ve,ge,Be);return ze&&(delete xe[Q],delete De[Q],Ye&&Ye[0])?Ye[0](2).then(function(){return Y.get(Q)}):Y.get(Q)},dt=0,Je=function(){return++dt},st=function(){for(var Y=[],Q=0;Q<arguments.length;Q++)Y[Q]=arguments[Q];return S(void 0,void 0,void 0,function(){var ve,ge,Be,ze,xt,Ot,ke,xe,De,Ye,Ut,Yt,Zt,Or;return O(this,function(fr){switch(fr.label){case 0:if(ve=Y[0],ge=Y[1],Be=Y[3]!==!1,ze=Y[2],xt=Vt(ge),Ot=xt[0],ke=xt[2],!Ot)return[2];if(xe=gt.get(ve),De=xe[2],Ye=xe[3],Y.length<3)return[2,zt(ve,Ot,ve.get(Ot),ve.get(ke),z,Be)];if(Zt=De[Ot]=Je(),Ye[Ot]=0,L(ze))try{ze=ze(ve.get(Ot))}catch($r){Yt=$r}return ze&&L(ze.then)?[4,ze.catch(function($r){Yt=$r})]:[3,2];case 1:if(Ut=fr.sent(),Zt!==De[Ot]){if(Yt)throw Yt;return[2,Ut]}return[3,3];case 2:Ut=ze,fr.label=3;case 3:return Yt||ve.set(Ot,Ut),ve.set(ke,Yt),Ye[Ot]=Je(),[4,zt(ve,Ot,Ut,Yt,z,Be)];case 4:if(Or=fr.sent(),Yt)throw Yt;return[2,Or]}})})},Xe=function(Y,Q){for(var ve in Y)Y[ve][0]&&Y[ve][0](Q)},Ue=function(Y,Q){if(!gt.has(Y)){var ve=C(je,Q),ge={},Be=st.bind(z,Y),ze=U;if(gt.set(Y,[ge,{},{},{},{},{},Be]),!Te){var xt=ve.initFocus(Xe.bind(z,ge,0)),Ot=ve.initReconnect(Xe.bind(z,ge,1));ze=function(){xt&&xt(),Ot&&Ot(),gt.delete(Y)}}return[Y,Be,ze]}return[Y,gt.get(Y)[6]]},$e=Ue(new Map),Ke=$e[0],ft=$e[1],rt=C({onLoadingSlow:U,onSuccess:U,onError:U,onErrorRetry:function(Y,Q,ve,ge,Be){if(Ae.isVisible()){var ze=ve.errorRetryCount,xt=Be.retryCount,Ot=~~((Math.random()+.5)*(1<<(xt<8?xt:8)))*ve.errorRetryInterval;!p(ze)&&xt>ze||setTimeout(ge,Ot,Be)}},onDiscarded:U,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:vt?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:vt?5e3:3e3,compare:function(Y,Q){return M(Y)==M(Q)},isPaused:function(){return!1},cache:Ke,mutate:ft,fallback:{}},Ae),Pe=function(Y,Q){var ve=C(Y,Q);if(Q){var ge=Y.use,Be=Y.fallback,ze=Q.use,xt=Q.fallback;ge&&ze&&(ve.use=ge.concat(ze)),Be&&xt&&(ve.fallback=C(Be,xt))}return ve},At=Object(B.createContext)({}),qt=function(Y){return L(Y[1])?[Y[0],Y[1],Y[2]||{}]:[Y[0],null,(Y[1]===null?Y[2]:Y[1])||{}]},Qr=function(){return C(rt,Object(B.useContext)(At))},Dr=function(Y,Q,ve){var ge=Q[Y]||(Q[Y]=[]);return ge.push(ve),function(){var Be=ge.indexOf(ve);Be>=0&&(ge[Be]=ge[ge.length-1],ge.pop())}},sr={dedupe:!0},zr=H.defineProperty(function(te){var Y=te.value,Q=Pe(Object(B.useContext)(At),Y),ve=Y&&Y.provider,ge=Object(B.useState)(function(){return ve?Ue(ve(Q.cache||Ke),Y):z})[0];return ge&&(Q.cache=ge[0],Q.mutate=ge[1]),yt(function(){return ge?ge[2]:z},[]),Object(B.createElement)(At.Provider,C(te,{value:Q}))},"default",{value:rt}),Ir=function(Y){return Vt(Y)[0]},Ur=(X=function(Y,Q,ve){var ge=ve.cache,Be=ve.compare,ze=ve.fallbackData,xt=ve.suspense,Ot=ve.revalidateOnMount,ke=ve.refreshInterval,xe=ve.refreshWhenHidden,De=ve.refreshWhenOffline,Ye=gt.get(ge),Ut=Ye[0],Yt=Ye[1],Zt=Ye[2],Or=Ye[3],fr=Ye[4],$r=Ye[5],kr=Vt(Y),Gt=kr[0],Tr=kr[1],Nr=kr[2],Zr=kr[3],ln=Object(B.useRef)(!1),fn=Object(B.useRef)(!1),En=Object(B.useRef)(Gt),_n=Object(B.useRef)(ve),pe=function(){return _n.current},Se=ge.get(Gt),Me=p(ze)?ve.fallback[Gt]:ze,Le=p(Se)?Me:Se,mt=ge.get(Nr),Wt=function(){return p(Ot)?!pe().isPaused()&&(xt?!p(Le):p(Le)||ve.revalidateIfStale):Ot},tr=!(!Gt||!Q)&&(!!ge.get(Zr)||!ln.current&&Wt()),$t=function(ee,de){var ye=Object(B.useState)({})[1],Ve=Object(B.useRef)(ee),lt=Object(B.useRef)({data:!1,error:!1,isValidating:!1}),it=Object(B.useCallback)(function(at){var pt=!1,Er=Ve.current;for(var Ar in at){var or=Ar;Er[or]!==at[or]&&(Er[or]=at[or],lt.current[or]&&(pt=!0))}pt&&!de.current&&ye({})},[]);return yt(function(){Ve.current=ee}),[Ve,lt.current,it]}({data:Le,error:mt,isValidating:tr},fn),Ce=$t[0],We=$t[1],Ge=$t[2],wt=Object(B.useCallback)(function(ee){return S(void 0,void 0,void 0,function(){var de,ye,Ve,lt,it,at,pt,Er,Ar,or;return O(this,function(Br){switch(Br.label){case 0:if(!Gt||!Q||fn.current||pe().isPaused())return[2,!1];Ve=!0,lt=ee||{},it=p(fr[Gt])||!lt.dedupe,at=function(){return!fn.current&&Gt===En.current&&ln.current},pt=function(){$r[Gt]===ye&&(delete fr[Gt],delete $r[Gt])},Er={isValidating:!1},Ar=function(){ge.set(Zr,!1),at()&&Ge(Er)},ge.set(Zr,!0),Ge({isValidating:!0}),Br.label=1;case 1:return Br.trys.push([1,3,,4]),it&&(zt(ge,Gt,Ce.current.data,Ce.current.error,!0),ve.loadingTimeout&&!ge.get(Gt)&&setTimeout(function(){Ve&&at()&&pe().onLoadingSlow(Gt,ve)},ve.loadingTimeout),$r[Gt]=Je(),fr[Gt]=Q.apply(void 0,Tr)),ye=$r[Gt],[4,fr[Gt]];case 2:return de=Br.sent(),it&&setTimeout(pt,ve.dedupingInterval),$r[Gt]!==ye?(it&&at()&&pe().onDiscarded(Gt),[2,!1]):(ge.set(Nr,z),Er.error=z,!p(Zt[Gt])&&(ye<=Zt[Gt]||ye<=Or[Gt]||Or[Gt]===0)?(Ar(),it&&at()&&pe().onDiscarded(Gt),[2,!1]):(Be(Ce.current.data,de)||(Er.data=de),Be(ge.get(Gt),de)||ge.set(Gt,de),it&&at()&&pe().onSuccess(de,Gt,ve),[3,4]));case 3:return or=Br.sent(),pt(),pe().isPaused()||(ge.set(Nr,or),Er.error=or,it&&at()&&(pe().onError(or,Gt,ve),ve.shouldRetryOnError&&pe().onErrorRetry(or,Gt,ve,wt,{retryCount:(lt.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Ve=!1,Ar(),at()&&it&&zt(ge,Gt,Er.data,Er.error,!1),[2,!0]}})})},[Gt]),ue=Object(B.useCallback)(st.bind(z,ge,function(){return En.current}),[]);if(yt(function(){_n.current=ve}),yt(function(){if(Gt){var ee=ln.current,de=wt.bind(z,sr),ye=function(){return pe().isVisible()&&pe().isOnline()},Ve=0,lt=Dr(Gt,Yt,function(at,pt,Er){Ge(C({error:pt,isValidating:Er},Be(Ce.current.data,at)?z:{data:at}))}),it=Dr(Gt,Ut,function(at){if(at==0){var pt=Date.now();pe().revalidateOnFocus&&pt>Ve&&ye()&&(Ve=pt+pe().focusThrottleInterval,de())}else if(at==1)pe().revalidateOnReconnect&&ye()&&de();else if(at==2)return wt()});return fn.current=!1,En.current=Gt,ln.current=!0,ee&&Ge({data:Le,error:mt,isValidating:tr}),Wt()&&(p(Le)||Te?de():ht(de)),function(){fn.current=!0,lt(),it()}}},[Gt,wt]),yt(function(){var ee;function de(){ke&&ee!==-1&&(ee=setTimeout(ye,ke))}function ye(){Ce.current.error||!xe&&!pe().isVisible()||!De&&!pe().isOnline()?de():wt(sr).then(de)}return de(),function(){ee&&(clearTimeout(ee),ee=-1)}},[ke,xe,De,wt]),Object(B.useDebugValue)(Le),xt&&p(Le))throw p(mt)?wt(sr):mt;return{mutate:ue,get data(){return We.data=!0,Le},get error(){return We.error=!0,mt},get isValidating(){return We.isValidating=!0,tr}}},function(){for(var te=[],Y=0;Y<arguments.length;Y++)te[Y]=arguments[Y];var Q=Qr(),ve=qt(te),ge=ve[0],Be=ve[1],ze=ve[2],xt=Pe(Q,ze),Ot=X,ke=xt.use;if(ke)for(var xe=ke.length;xe-- >0;)Ot=ke[xe](Ot);return Ot(ge,Be||xt.fetcher,xt)})},Lw8S:function(re,J){function v(m,S){for(var O=0;O<S.length;O++){var X=S[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(m,X.key,X)}}function B(m,S,O){return S&&v(m.prototype,S),O&&v(m,O),m}re.exports=B},"M+yt":function(re,J,v){},MrPd:function(re,J,v){var B=v("hypo"),m=v("ljhN"),S=Object.prototype,O=S.hasOwnProperty;function X(U,z,H){var p=U[z];(!(O.call(U,z)&&m(p,H))||H===void 0&&!(z in U))&&B(U,z,H)}re.exports=X},NYcB:function(re,J,v){"use strict";v.d(J,"a",function(){return H});var B=v("EFp3"),m=v("PQMj"),S=v("KrTs"),O=v("q1tI"),X=v.n(O),U=v("B+1O"),z={Success:function(C){var E=C.children;return X.a.createElement(S.a,{status:"success",text:E})},Error:function(C){var E=C.children;return X.a.createElement(S.a,{status:"error",text:E})},Default:function(C){var E=C.children;return X.a.createElement(S.a,{status:"default",text:E})},Processing:function(C){var E=C.children;return X.a.createElement(S.a,{status:"processing",text:E})},Warning:function(C){var E=C.children;return X.a.createElement(S.a,{status:"warning",text:E})},success:function(C){var E=C.children;return X.a.createElement(S.a,{status:"success",text:E})},error:function(C){var E=C.children;return X.a.createElement(S.a,{status:"error",text:E})},default:function(C){var E=C.children;return X.a.createElement(S.a,{status:"default",text:E})},processing:function(C){var E=C.children;return X.a.createElement(S.a,{status:"processing",text:E})},warning:function(C){var E=C.children;return X.a.createElement(S.a,{status:"warning",text:E})}},H=function(C){var E=C.color,T=C.children;return X.a.createElement(S.a,{color:E,text:T})},p=J.b=z},O0oS:function(re,J,v){var B=v("Cwc5"),m=function(){try{var S=B(Object,"defineProperty");return S({},"",{}),S}catch(O){}}();re.exports=m},O7RO:function(re,J,v){var B=v("CMye"),m=v("7GkX");function S(O){for(var X=m(O),U=X.length;U--;){var z=X[U],H=O[z];X[U]=[z,H,B(H)]}return X}re.exports=S},OBhP:function(re,J,v){var B=v("fmRc"),m=v("gFfm"),S=v("MrPd"),O=v("WwFo"),X=v("Dw+G"),U=v("5Tg0"),z=v("Q1l4"),H=v("VOtZ"),p=v("EEGq"),L=v("qZTm"),C=v("G6z8"),E=v("QqLw"),T=v("yHx3"),D=v("wrZu"),se=v("+iFO"),M=v("Z0cm"),$=v("DSRE"),j=v("zEVN"),W=v("GoyQ"),x=v("1+5i"),ne=v("7GkX"),Ae=v("mTTR"),je=1,Te=2,ht=4,yt="[object Arguments]",Ct="[object Array]",vt="[object Boolean]",Vt="[object Date]",gt="[object Error]",zt="[object Function]",dt="[object GeneratorFunction]",Je="[object Map]",st="[object Number]",Xe="[object Object]",Ue="[object RegExp]",$e="[object Set]",Ke="[object String]",ft="[object Symbol]",rt="[object WeakMap]",Pe="[object ArrayBuffer]",At="[object DataView]",qt="[object Float32Array]",Qr="[object Float64Array]",Dr="[object Int8Array]",sr="[object Int16Array]",zr="[object Int32Array]",Ir="[object Uint8Array]",Ur="[object Uint8ClampedArray]",te="[object Uint16Array]",Y="[object Uint32Array]",Q={};Q[yt]=Q[Ct]=Q[Pe]=Q[At]=Q[vt]=Q[Vt]=Q[qt]=Q[Qr]=Q[Dr]=Q[sr]=Q[zr]=Q[Je]=Q[st]=Q[Xe]=Q[Ue]=Q[$e]=Q[Ke]=Q[ft]=Q[Ir]=Q[Ur]=Q[te]=Q[Y]=!0,Q[gt]=Q[zt]=Q[rt]=!1;function ve(ge,Be,ze,xt,Ot,ke){var xe,De=Be&je,Ye=Be&Te,Ut=Be&ht;if(ze&&(xe=Ot?ze(ge,xt,Ot,ke):ze(ge)),xe!==void 0)return xe;if(!W(ge))return ge;var Yt=M(ge);if(Yt){if(xe=T(ge),!De)return z(ge,xe)}else{var Zt=E(ge),Or=Zt==zt||Zt==dt;if($(ge))return U(ge,De);if(Zt==Xe||Zt==yt||Or&&!Ot){if(xe=Ye||Or?{}:se(ge),!De)return Ye?p(ge,X(xe,ge)):H(ge,O(xe,ge))}else{if(!Q[Zt])return Ot?ge:{};xe=D(ge,Zt,De)}}ke||(ke=new B);var fr=ke.get(ge);if(fr)return fr;ke.set(ge,xe),x(ge)?ge.forEach(function(Gt){xe.add(ve(Gt,Be,ze,Gt,ge,ke))}):j(ge)&&ge.forEach(function(Gt,Tr){xe.set(Tr,ve(Gt,Be,ze,Tr,ge,ke))});var $r=Ut?Ye?C:L:Ye?Ae:ne,kr=Yt?void 0:$r(ge);return m(kr||ge,function(Gt,Tr){kr&&(Tr=Gt,Gt=ge[Tr]),S(xe,Tr,ve(Gt,Be,ze,Tr,ge,ke))}),xe}re.exports=ve},PQMj:function(re,J,v){},PdkY:function(re,J,v){},Q1l4:function(re,J){function v(B,m){var S=-1,O=B.length;for(m||(m=Array(O));++S<O;)m[S]=B[S];return m}re.exports=v},QbM5:function(re,J,v){},QcOe:function(re,J,v){var B=v("GoyQ"),m=v("6sVZ"),S=v("7Ix3"),O=Object.prototype,X=O.hasOwnProperty;function U(z){if(!B(z))return S(z);var H=m(z),p=[];for(var L in z)L=="constructor"&&(H||!X.call(z,L))||p.push(L);return p}re.exports=U},QeVK:function(re,J,v){},Qurx:function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=v("adzw"),O=["fieldProps","proFieldProps"],X=["fieldProps","proFieldProps"];function U(){return U=Object.assign||function(T){for(var D=1;D<arguments.length;D++){var se=arguments[D];for(var M in se)Object.prototype.hasOwnProperty.call(se,M)&&(T[M]=se[M])}return T},U.apply(this,arguments)}function z(T,D){if(T==null)return{};var se=H(T,D),M,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(T);for($=0;$<j.length;$++)M=j[$],!(D.indexOf(M)>=0)&&(!Object.prototype.propertyIsEnumerable.call(T,M)||(se[M]=T[M]))}return se}function H(T,D){if(T==null)return{};var se={},M=Object.keys(T),$,j;for(j=0;j<M.length;j++)$=M[j],!(D.indexOf($)>=0)&&(se[$]=T[$]);return se}var p="text",L=function(D){var se=D.fieldProps,M=D.proFieldProps,$=z(D,O);return m.a.createElement(S.a,U({mode:"edit",valueType:p,fieldProps:se,filedConfig:{valueType:p},proFieldProps:M},$))},C=function(D){var se=D.fieldProps,M=D.proFieldProps,$=z(D,X);return m.a.createElement(S.a,U({mode:"edit",valueType:"password",fieldProps:se,proFieldProps:M,filedConfig:{valueType:p}},$))},E=L;E.Password=C,E.displayName="ProFormComponent",J.a=E},S76h:function(re,J,v){},SKAX:function(re,J,v){var B=v("JC6p"),m=v("lQqw"),S=m(B);re.exports=S},SiRs:function(re,J,v){"use strict";var B=/\s/;function m(M){for(var $=M.length;$--&&B.test(M.charAt($)););return $}var S=m,O=/^\s+/;function X(M){return M&&M.slice(0,S(M)+1).replace(O,"")}var U=X,z=v("IzLi"),H=v("G8aS"),p=0/0,L=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,E=/^0o[0-7]+$/i,T=parseInt;function D(M){if(typeof M=="number")return M;if(Object(H.a)(M))return p;if(Object(z.a)(M)){var $=typeof M.valueOf=="function"?M.valueOf():M;M=Object(z.a)($)?$+"":$}if(typeof M!="string")return M===0?M:+M;M=U(M);var j=C.test(M);return j||E.test(M)?T(M.slice(2),j?2:8):L.test(M)?p:+M}var se=J.a=D},"SmY/":function(re,J,v){},U6JX:function(re,J,v){"use strict";function B(m,S){return function(O){return m(S(O))}}J.a=B},UudT:function(re,J,v){"use strict";var B=v("U6JX"),m=Object(B.a)(Object.getPrototypeOf,Object);J.a=m},VMEa:function(re,J,v){"use strict";v.d(J,"a",function(){return st});var B=v("y8nQ"),m=v("Vl3Y"),S=v("q1tI"),O=v.n(S),X=v("DYRE"),U=v("zeV3"),z=v("GNNt"),H=v("wEI+"),p=v("UESt"),L=v("lS/g"),C=v("fWo+"),E=v("9mHw"),T=v("YSkC"),D=v("TSYQ"),se=v.n(D);function M(){return M=Object.assign||function(Ue){for(var $e=1;$e<arguments.length;$e++){var Ke=arguments[$e];for(var ft in Ke)Object.prototype.hasOwnProperty.call(Ke,ft)&&(Ue[ft]=Ke[ft])}return Ue},M.apply(this,arguments)}function $(Ue,$e){return Ae(Ue)||ne(Ue,$e)||W(Ue,$e)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(Ue,$e){if(!!Ue){if(typeof Ue=="string")return x(Ue,$e);var Ke=Object.prototype.toString.call(Ue).slice(8,-1);if(Ke==="Object"&&Ue.constructor&&(Ke=Ue.constructor.name),Ke==="Map"||Ke==="Set")return Array.from(Ue);if(Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke))return x(Ue,$e)}}function x(Ue,$e){($e==null||$e>Ue.length)&&($e=Ue.length);for(var Ke=0,ft=new Array($e);Ke<$e;Ke++)ft[Ke]=Ue[Ke];return ft}function ne(Ue,$e){var Ke=Ue==null?null:typeof Symbol!="undefined"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(Ke!=null){var ft=[],rt=!0,Pe=!1,At,qt;try{for(Ke=Ke.call(Ue);!(rt=(At=Ke.next()).done)&&(ft.push(At.value),!($e&&ft.length===$e));rt=!0);}catch(Qr){Pe=!0,qt=Qr}finally{try{!rt&&Ke.return!=null&&Ke.return()}finally{if(Pe)throw qt}}return ft}}function Ae(Ue){if(Array.isArray(Ue))return Ue}function je(Ue,$e){var Ke=Object.keys(Ue);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(Ue);$e&&(ft=ft.filter(function(rt){return Object.getOwnPropertyDescriptor(Ue,rt).enumerable})),Ke.push.apply(Ke,ft)}return Ke}function Te(Ue){for(var $e=1;$e<arguments.length;$e++){var Ke=arguments[$e]!=null?arguments[$e]:{};$e%2?je(Object(Ke),!0).forEach(function(ft){ht(Ue,ft,Ke[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(Ke)):je(Object(Ke)).forEach(function(ft){Object.defineProperty(Ue,ft,Object.getOwnPropertyDescriptor(Ke,ft))})}return Ue}function ht(Ue,$e,Ke){return $e in Ue?Object.defineProperty(Ue,$e,{value:Ke,enumerable:!0,configurable:!0,writable:!0}):Ue[$e]=Ke,Ue}var yt=O.a.forwardRef(function(Ue,$e){var Ke=O.a.useContext(L.a),ft=Ke.groupProps,rt=Te(Te({},ft),Ue),Pe=rt.children,At=rt.collapsible,qt=rt.defaultCollapsed,Qr=rt.style,Dr=rt.labelLayout,sr=rt.title,zr=sr===void 0?Ue.label:sr,Ir=rt.tooltip,Ur=rt.align,te=Ur===void 0?"start":Ur,Y=rt.direction,Q=rt.size,ve=Q===void 0?32:Q,ge=rt.titleStyle,Be=rt.titleRender,ze=rt.spaceProps,xt=rt.extra,Ot=rt.autoFocus,ke=Object(E.a)(function(){return qt||!1},{value:Ue.collapsed,onChange:Ue.onCollapse}),xe=$(ke,2),De=xe[0],Ye=xe[1],Ut=Object(S.useContext)(H.b.ConfigContext),Yt=Ut.getPrefixCls,Zt=Yt("pro-form-group"),Or=At&&O.a.createElement(p.a,{style:{marginRight:8},rotate:De?void 0:90}),fr=O.a.createElement(T.a,{label:Or?O.a.createElement("div",null,Or,zr):zr,tooltip:Ir}),$r=Be?Be(fr,Ue):fr,kr=[],Gt=O.a.Children.toArray(Pe).map(function(Tr,Nr){var Zr;return O.a.isValidElement(Tr)&&(Tr==null||(Zr=Tr.props)===null||Zr===void 0?void 0:Zr.hidden)?(kr.push(Tr),null):Nr===0&&O.a.isValidElement(Tr)&&Ot?O.a.cloneElement(Tr,Te(Te({},Tr.props),{},{autoFocus:Ot})):Tr});return O.a.createElement("div",{className:se()(Zt,ht({},"".concat(Zt,"-twoLine"),Dr==="twoLine")),style:Qr,ref:$e},kr.length>0&&O.a.createElement("div",{style:{display:"none"}},kr),(zr||Ir||xt)&&O.a.createElement("div",{className:"".concat(Zt,"-title"),style:ge,onClick:function(){Ye(!De)}},xt?O.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},$r,O.a.createElement("span",{onClick:function(Nr){return Nr.stopPropagation()}},xt)):$r),At&&De?null:O.a.createElement(U.b,M({},ze,{className:"".concat(Zt,"-container"),size:ve,align:te,direction:Y,style:Te({rowGap:0},ze==null?void 0:ze.style)}),Gt))});yt.displayName="ProForm-Group";var Ct=yt,vt=v("b1eo"),Vt=v("DVw6");function gt(){return gt=Object.assign||function(Ue){for(var $e=1;$e<arguments.length;$e++){var Ke=arguments[$e];for(var ft in Ke)Object.prototype.hasOwnProperty.call(Ke,ft)&&(Ue[ft]=Ke[ft])}return Ue},gt.apply(this,arguments)}function zt(Ue){return O.a.createElement(vt.a,gt({layout:"vertical",submitter:{render:function(Ke,ft){return ft.reverse()}},contentRender:function(Ke,ft){return O.a.createElement(O.a.Fragment,null,Ke,ft)}},Ue))}zt.Group=Ct,zt.useForm=m.a.useForm,zt.Item=Vt.a;var dt=zt,Je=v("M+yt"),st=dt.Group,Xe=J.b=dt},VOtZ:function(re,J,v){var B=v("juv8"),m=v("MvSz");function S(O,X){return B(O,m(O),X)}re.exports=S},VYtm:function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.hover=void 0;var B=Object.assign||function(p){for(var L=1;L<arguments.length;L++){var C=arguments[L];for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(p[E]=C[E])}return p},m=v("q1tI"),S=O(m);function O(p){return p&&p.__esModule?p:{default:p}}function X(p,L){if(!(p instanceof L))throw new TypeError("Cannot call a class as a function")}function U(p,L){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:p}function z(p,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);p.prototype=Object.create(L&&L.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(p,L):p.__proto__=L)}var H=J.hover=function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(E){z(T,E);function T(){var D,se,M,$;X(this,T);for(var j=arguments.length,W=Array(j),x=0;x<j;x++)W[x]=arguments[x];return $=(se=(M=U(this,(D=T.__proto__||Object.getPrototypeOf(T)).call.apply(D,[this].concat(W))),M),M.state={hover:!1},M.handleMouseOver=function(){return M.setState({hover:!0})},M.handleMouseOut=function(){return M.setState({hover:!1})},M.render=function(){return S.default.createElement(C,{onMouseOver:M.handleMouseOver,onMouseOut:M.handleMouseOut},S.default.createElement(L,B({},M.props,M.state)))},se),U(M,$)}return T}(S.default.Component)};J.default=H},"Vg/k":function(re,J){(function(v){re.exports=function(){var B={46:function(X){X.exports=function(U){if(!U.webpackPolyfill){var z=Object.create(U);z.children||(z.children=[]),Object.defineProperty(z,"loaded",{enumerable:!0,get:function(){return z.l}}),Object.defineProperty(z,"id",{enumerable:!0,get:function(){return z.i}}),Object.defineProperty(z,"exports",{enumerable:!0}),z.webpackPolyfill=1}return z}}},m={};function S(O){if(m[O])return m[O].exports;var X=m[O]={exports:{}},U=!0;try{B[O](X,X.exports,S),U=!1}finally{U&&delete m[O]}return X.exports}return S.ab=v+"/",S(46)}()}).call(this,"/")},VzZb:function(re,J,v){},W3HW:function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.flattenNames=void 0;var B=v("4qC0"),m=p(B),S=v("Ag8Z"),O=p(S),X=v("YO3V"),U=p(X),z=v("3WF5"),H=p(z);function p(C){return C&&C.__esModule?C:{default:C}}var L=J.flattenNames=function C(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=[];return(0,H.default)(E,function(D){Array.isArray(D)?C(D).map(function(se){return T.push(se)}):(0,U.default)(D)?(0,O.default)(D,function(se,M){se===!0&&T.push(M),T.push(M+"-"+se)}):(0,m.default)(D)&&T.push(D)}),T};J.default=L},WOAq:function(re,J,v){"use strict";(function(B){var m=v("Ju5/"),S=v("L3Qv"),O=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X=O&&typeof B=="object"&&B&&!B.nodeType&&B,U=X&&X.exports===O,z=U?m.a.Buffer:void 0,H=z?z.isBuffer:void 0,p=H||S.a;J.a=p}).call(this,v("Vg/k")(re))},WuYN:function(re,J,v){"use strict";var B=v("y8nQ"),m=v("Vl3Y"),S=v("q1tI"),O=v.n(S),X=v("ub+h"),U=v("bG1m"),z=v("x1Ii"),H=v("wUu8"),p=v("/PRe"),L=["name","children","ignoreFormListField"];function C(){return C=Object.assign||function(j){for(var W=1;W<arguments.length;W++){var x=arguments[W];for(var ne in x)Object.prototype.hasOwnProperty.call(x,ne)&&(j[ne]=x[ne])}return j},C.apply(this,arguments)}function E(j,W){var x=Object.keys(j);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(j);W&&(ne=ne.filter(function(Ae){return Object.getOwnPropertyDescriptor(j,Ae).enumerable})),x.push.apply(x,ne)}return x}function T(j){for(var W=1;W<arguments.length;W++){var x=arguments[W]!=null?arguments[W]:{};W%2?E(Object(x),!0).forEach(function(ne){D(j,ne,x[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(x)):E(Object(x)).forEach(function(ne){Object.defineProperty(j,ne,Object.getOwnPropertyDescriptor(x,ne))})}return j}function D(j,W,x){return W in j?Object.defineProperty(j,W,{value:x,enumerable:!0,configurable:!0,writable:!0}):j[W]=x,j}function se(j,W){if(j==null)return{};var x=M(j,W),ne,Ae;if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(j);for(Ae=0;Ae<je.length;Ae++)ne=je[Ae],!(W.indexOf(ne)>=0)&&(!Object.prototype.propertyIsEnumerable.call(j,ne)||(x[ne]=j[ne]))}return x}function M(j,W){if(j==null)return{};var x={},ne=Object.keys(j),Ae,je;for(je=0;je<ne.length;je++)Ae=ne[je],!(W.indexOf(Ae)>=0)&&(x[Ae]=j[Ae]);return x}var $=function(W){var x=W.name,ne=W.children,Ae=W.ignoreFormListField,je=se(W,L),Te=Object(S.useContext)(H.a),ht=Object(S.useContext)(z.a),yt=Object(S.useMemo)(function(){return ht.name===void 0?x:x.map(function(Ct){return[ht.listName,Ct].flat(1)})},[ht.listName,ht.name,x]);return O.a.createElement(m.a.Item,C({},je,{noStyle:!0,shouldUpdate:function(vt,Vt){var gt=yt;return Ae&&Array.isArray(ht.listName)&&ht.listName.length>0&&(gt=yt.map(function(zt){return Array.isArray(zt)?zt.slice(ht.listName.length):zt})),gt.some(function(zt){var dt=Array.isArray(zt)?zt:[zt];return Object(X.a)(vt,dt)!==Object(X.a)(Vt,dt)})}}),function(Ct){if(ht.name===void 0){var vt=yt.reduce(function(zt,dt){var Je,st=Te==null||(Je=Te.getFieldsFormatValue)===null||Je===void 0?void 0:Je.call(Te,[dt]),Xe=Ct.getFieldsValue([dt]);return Object(p.a)({},zt,Xe,st)},{});return ne==null?void 0:ne(T({},vt),Ct)}if(Ae){var Vt=x.reduce(function(zt,dt){var Je=[dt].flat(1),st=Ct.getFieldValue(Je);return Object(U.a)(zt,[dt].flat(1),st,!1)},{});return ne==null?void 0:ne(T({},Vt),Ct)}var gt=x.reduce(function(zt,dt){var Je=[ht.listName,dt].flat(1),st=Ct.getFieldValue(Je);return Object(U.a)(zt,[dt].flat(1),st,!1)},{});return ne==null?void 0:ne(T({},gt),Ct)})};J.a=$},WwFo:function(re,J,v){var B=v("juv8"),m=v("7GkX");function S(O,X){return O&&B(X,m(X),O)}re.exports=S},XCrF:function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("QeVK"),O=v.n(S)},XQvf:function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.active=void 0;var B=Object.assign||function(p){for(var L=1;L<arguments.length;L++){var C=arguments[L];for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(p[E]=C[E])}return p},m=v("q1tI"),S=O(m);function O(p){return p&&p.__esModule?p:{default:p}}function X(p,L){if(!(p instanceof L))throw new TypeError("Cannot call a class as a function")}function U(p,L){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:p}function z(p,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);p.prototype=Object.create(L&&L.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(p,L):p.__proto__=L)}var H=J.active=function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(E){z(T,E);function T(){var D,se,M,$;X(this,T);for(var j=arguments.length,W=Array(j),x=0;x<j;x++)W[x]=arguments[x];return $=(se=(M=U(this,(D=T.__proto__||Object.getPrototypeOf(T)).call.apply(D,[this].concat(W))),M),M.state={active:!1},M.handleMouseDown=function(){return M.setState({active:!0})},M.handleMouseUp=function(){return M.setState({active:!1})},M.render=function(){return S.default.createElement(C,{onMouseDown:M.handleMouseDown,onMouseUp:M.handleMouseUp},S.default.createElement(L,B({},M.props,M.state)))},se),U(M,$)}return T}(S.default.Component)};J.default=H},XYm9:function(re,J,v){var B=v("+K+b");function m(S,O){var X=O?B(S.buffer):S.buffer;return new S.constructor(X,S.byteOffset,S.byteLength)}re.exports=m},XqMk:function(re,J,v){"use strict";(function(B){var m=typeof B=="object"&&B&&B.Object===Object&&B;J.a=m}).call(this,v("IyRk"))},Y7yP:function(re,J,v){"use strict";var B=v("vJtL"),m=v("Ju5/"),S=m.a["__core-js_shared__"],O=S,X=function(){var je=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return je?"Symbol(src)_1."+je:""}();function U(je){return!!X&&X in je}var z=U,H=v("IzLi"),p=v("dLWn"),L=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,E=Function.prototype,T=Object.prototype,D=E.toString,se=T.hasOwnProperty,M=RegExp("^"+D.call(se).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $(je){if(!Object(H.a)(je)||z(je))return!1;var Te=Object(B.a)(je)?M:C;return Te.test(Object(p.a)(je))}var j=$;function W(je,Te){return je==null?void 0:je[Te]}var x=W;function ne(je,Te){var ht=x(je,Te);return j(ht)?ht:void 0}var Ae=J.a=ne},YHEm:function(re,J,v){"use strict";function B(m,S){return m===S||m!==m&&S!==S}J.a=B},YO3V:function(re,J,v){var B=v("NykK"),m=v("LcsW"),S=v("ExA7"),O="[object Object]",X=Function.prototype,U=Object.prototype,z=X.toString,H=U.hasOwnProperty,p=z.call(Object);function L(C){if(!S(C)||B(C)!=O)return!1;var E=m(C);if(E===null)return!0;var T=H.call(E,"constructor")&&E.constructor;return typeof T=="function"&&T instanceof T&&z.call(T)==p}re.exports=L},YSkC:function(re,J,v){"use strict";var B=v("5Dmo"),m=v("3S7+"),S=v("GNNt"),O=v("wEI+"),X=v("q1tI"),U=v.n(X),z=v("+YFz"),H=v("slOs"),p=v.n(H),L=v("TSYQ"),C=v.n(L);function E(D,se,M){return se in D?Object.defineProperty(D,se,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[se]=M,D}var T=function(se){var M=se.label,$=se.tooltip,j=se.ellipsis,W=se.subTitle,x=Object(X.useContext)(O.b.ConfigContext),ne=x.getPrefixCls;if(!$&&!W)return U.a.createElement(U.a.Fragment,null,M);var Ae=ne("pro-core-label-tip"),je=typeof $=="string"||U.a.isValidElement($)?{title:$}:$,Te=(je==null?void 0:je.icon)||U.a.createElement(z.a,null);return U.a.createElement("div",{className:Ae,onMouseDown:function(yt){return yt.stopPropagation()},onMouseLeave:function(yt){return yt.stopPropagation()},onMouseMove:function(yt){return yt.stopPropagation()}},U.a.createElement("div",{className:C()("".concat(Ae,"-title"),E({},"".concat(Ae,"-title-ellipsis"),j))},M),W&&U.a.createElement("div",{className:"".concat(Ae,"-subtitle")},W),$&&U.a.createElement(m.a,je,U.a.createElement("span",{className:"".concat(Ae,"-icon")},Te)))};J.a=U.a.memo(T)},YkAm:function(re,J,v){},Z1je:function(re,J,v){},ZCpW:function(re,J,v){var B=v("lm/5"),m=v("O7RO"),S=v("IOzZ");function O(X){var U=m(X);return U.length==1&&U[0][2]?S(U[0][0],U[0][1]):function(z){return z===X||B(z,X,U)}}re.exports=O},ZJpN:function(re,J,v){var B=v("h875"),m=v("5h2M");function S(O,X,U){return m()?re.exports=S=Reflect.construct:re.exports=S=function(H,p,L){var C=[null];C.push.apply(C,p);var E=Function.bind.apply(H,C),T=new E;return L&&B(T,L.prototype),T},S.apply(null,arguments)}re.exports=S},ZTW2:function(re,J,v){},ZWtO:function(re,J,v){var B=v("4uTw"),m=v("9Nap");function S(O,X){X=B(X,O);for(var U=0,z=X.length;O!=null&&U<z;)O=O[m(X[U++])];return U&&U==z?O:void 0}re.exports=S},Zss7:function(re,J,v){var B;(function(m){var S=/^\s+/,O=/\s+$/,X=0,U=m.round,z=m.min,H=m.max,p=m.random;function L(te,Y){if(te=te||"",Y=Y||{},te instanceof L)return te;if(!(this instanceof L))return new L(te,Y);var Q=C(te);this._originalInput=te,this._r=Q.r,this._g=Q.g,this._b=Q.b,this._a=Q.a,this._roundA=U(100*this._a)/100,this._format=Y.format||Q.format,this._gradientType=Y.gradientType,this._r<1&&(this._r=U(this._r)),this._g<1&&(this._g=U(this._g)),this._b<1&&(this._b=U(this._b)),this._ok=Q.ok,this._tc_id=X++}L.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},getLuminance:function(){var Y=this.toRgb(),Q,ve,ge,Be,ze,xt;return Q=Y.r/255,ve=Y.g/255,ge=Y.b/255,Q<=.03928?Be=Q/12.92:Be=m.pow((Q+.055)/1.055,2.4),ve<=.03928?ze=ve/12.92:ze=m.pow((ve+.055)/1.055,2.4),ge<=.03928?xt=ge/12.92:xt=m.pow((ge+.055)/1.055,2.4),.2126*Be+.7152*ze+.0722*xt},setAlpha:function(Y){return this._a=Ue(Y),this._roundA=U(100*this._a)/100,this},toHsv:function(){var Y=se(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=se(this._r,this._g,this._b),Q=U(Y.h*360),ve=U(Y.s*100),ge=U(Y.v*100);return this._a==1?"hsv("+Q+", "+ve+"%, "+ge+"%)":"hsva("+Q+", "+ve+"%, "+ge+"%, "+this._roundA+")"},toHsl:function(){var Y=T(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=T(this._r,this._g,this._b),Q=U(Y.h*360),ve=U(Y.s*100),ge=U(Y.l*100);return this._a==1?"hsl("+Q+", "+ve+"%, "+ge+"%)":"hsla("+Q+", "+ve+"%, "+ge+"%, "+this._roundA+")"},toHex:function(Y){return $(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(Y){return j(this._r,this._g,this._b,this._a,Y)},toHex8String:function(Y){return"#"+this.toHex8(Y)},toRgb:function(){return{r:U(this._r),g:U(this._g),b:U(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+U(this._r)+", "+U(this._g)+", "+U(this._b)+")":"rgba("+U(this._r)+", "+U(this._g)+", "+U(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:U($e(this._r,255)*100)+"%",g:U($e(this._g,255)*100)+"%",b:U($e(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+U($e(this._r,255)*100)+"%, "+U($e(this._g,255)*100)+"%, "+U($e(this._b,255)*100)+"%)":"rgba("+U($e(this._r,255)*100)+"%, "+U($e(this._g,255)*100)+"%, "+U($e(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:st[$(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var Q="#"+W(this._r,this._g,this._b,this._a),ve=Q,ge=this._gradientType?"GradientType = 1, ":"";if(Y){var Be=L(Y);ve="#"+W(Be._r,Be._g,Be._b,Be._a)}return"progid:DXImageTransform.Microsoft.gradient("+ge+"startColorstr="+Q+",endColorstr="+ve+")"},toString:function(Y){var Q=!!Y;Y=Y||this._format;var ve=!1,ge=this._a<1&&this._a>=0,Be=!Q&&ge&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="hex4"||Y==="hex8"||Y==="name");return Be?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(ve=this.toRgbString()),Y==="prgb"&&(ve=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(ve=this.toHexString()),Y==="hex3"&&(ve=this.toHexString(!0)),Y==="hex4"&&(ve=this.toHex8String(!0)),Y==="hex8"&&(ve=this.toHex8String()),Y==="name"&&(ve=this.toName()),Y==="hsl"&&(ve=this.toHslString()),Y==="hsv"&&(ve=this.toHsvString()),ve||this.toHexString())},clone:function(){return L(this.toString())},_applyModification:function(Y,Q){var ve=Y.apply(null,[this].concat([].slice.call(Q)));return this._r=ve._r,this._g=ve._g,this._b=ve._b,this.setAlpha(ve._a),this},lighten:function(){return this._applyModification(je,arguments)},brighten:function(){return this._applyModification(Te,arguments)},darken:function(){return this._applyModification(ht,arguments)},desaturate:function(){return this._applyModification(x,arguments)},saturate:function(){return this._applyModification(ne,arguments)},greyscale:function(){return this._applyModification(Ae,arguments)},spin:function(){return this._applyModification(yt,arguments)},_applyCombination:function(Y,Q){return Y.apply(null,[this].concat([].slice.call(Q)))},analogous:function(){return this._applyCombination(zt,arguments)},complement:function(){return this._applyCombination(Ct,arguments)},monochromatic:function(){return this._applyCombination(dt,arguments)},splitcomplement:function(){return this._applyCombination(gt,arguments)},triad:function(){return this._applyCombination(vt,arguments)},tetrad:function(){return this._applyCombination(Vt,arguments)}},L.fromRatio=function(te,Y){if(typeof te=="object"){var Q={};for(var ve in te)te.hasOwnProperty(ve)&&(ve==="a"?Q[ve]=te[ve]:Q[ve]=qt(te[ve]));te=Q}return L(te,Y)};function C(te){var Y={r:0,g:0,b:0},Q=1,ve=null,ge=null,Be=null,ze=!1,xt=!1;return typeof te=="string"&&(te=Ir(te)),typeof te=="object"&&(zr(te.r)&&zr(te.g)&&zr(te.b)?(Y=E(te.r,te.g,te.b),ze=!0,xt=String(te.r).substr(-1)==="%"?"prgb":"rgb"):zr(te.h)&&zr(te.s)&&zr(te.v)?(ve=qt(te.s),ge=qt(te.v),Y=M(te.h,ve,ge),ze=!0,xt="hsv"):zr(te.h)&&zr(te.s)&&zr(te.l)&&(ve=qt(te.s),Be=qt(te.l),Y=D(te.h,ve,Be),ze=!0,xt="hsl"),te.hasOwnProperty("a")&&(Q=te.a)),Q=Ue(Q),{ok:ze,format:te.format||xt,r:z(255,H(Y.r,0)),g:z(255,H(Y.g,0)),b:z(255,H(Y.b,0)),a:Q}}function E(te,Y,Q){return{r:$e(te,255)*255,g:$e(Y,255)*255,b:$e(Q,255)*255}}function T(te,Y,Q){te=$e(te,255),Y=$e(Y,255),Q=$e(Q,255);var ve=H(te,Y,Q),ge=z(te,Y,Q),Be,ze,xt=(ve+ge)/2;if(ve==ge)Be=ze=0;else{var Ot=ve-ge;switch(ze=xt>.5?Ot/(2-ve-ge):Ot/(ve+ge),ve){case te:Be=(Y-Q)/Ot+(Y<Q?6:0);break;case Y:Be=(Q-te)/Ot+2;break;case Q:Be=(te-Y)/Ot+4;break}Be/=6}return{h:Be,s:ze,l:xt}}function D(te,Y,Q){var ve,ge,Be;te=$e(te,360),Y=$e(Y,100),Q=$e(Q,100);function ze(ke,xe,De){return De<0&&(De+=1),De>1&&(De-=1),De<1/6?ke+(xe-ke)*6*De:De<1/2?xe:De<2/3?ke+(xe-ke)*(2/3-De)*6:ke}if(Y===0)ve=ge=Be=Q;else{var xt=Q<.5?Q*(1+Y):Q+Y-Q*Y,Ot=2*Q-xt;ve=ze(Ot,xt,te+1/3),ge=ze(Ot,xt,te),Be=ze(Ot,xt,te-1/3)}return{r:ve*255,g:ge*255,b:Be*255}}function se(te,Y,Q){te=$e(te,255),Y=$e(Y,255),Q=$e(Q,255);var ve=H(te,Y,Q),ge=z(te,Y,Q),Be,ze,xt=ve,Ot=ve-ge;if(ze=ve===0?0:Ot/ve,ve==ge)Be=0;else{switch(ve){case te:Be=(Y-Q)/Ot+(Y<Q?6:0);break;case Y:Be=(Q-te)/Ot+2;break;case Q:Be=(te-Y)/Ot+4;break}Be/=6}return{h:Be,s:ze,v:xt}}function M(te,Y,Q){te=$e(te,360)*6,Y=$e(Y,100),Q=$e(Q,100);var ve=m.floor(te),ge=te-ve,Be=Q*(1-Y),ze=Q*(1-ge*Y),xt=Q*(1-(1-ge)*Y),Ot=ve%6,ke=[Q,ze,Be,Be,xt,Q][Ot],xe=[xt,Q,Q,ze,Be,Be][Ot],De=[Be,Be,xt,Q,Q,ze][Ot];return{r:ke*255,g:xe*255,b:De*255}}function $(te,Y,Q,ve){var ge=[At(U(te).toString(16)),At(U(Y).toString(16)),At(U(Q).toString(16))];return ve&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function j(te,Y,Q,ve,ge){var Be=[At(U(te).toString(16)),At(U(Y).toString(16)),At(U(Q).toString(16)),At(Qr(ve))];return ge&&Be[0].charAt(0)==Be[0].charAt(1)&&Be[1].charAt(0)==Be[1].charAt(1)&&Be[2].charAt(0)==Be[2].charAt(1)&&Be[3].charAt(0)==Be[3].charAt(1)?Be[0].charAt(0)+Be[1].charAt(0)+Be[2].charAt(0)+Be[3].charAt(0):Be.join("")}function W(te,Y,Q,ve){var ge=[At(Qr(ve)),At(U(te).toString(16)),At(U(Y).toString(16)),At(U(Q).toString(16))];return ge.join("")}L.equals=function(te,Y){return!te||!Y?!1:L(te).toRgbString()==L(Y).toRgbString()},L.random=function(){return L.fromRatio({r:p(),g:p(),b:p()})};function x(te,Y){Y=Y===0?0:Y||10;var Q=L(te).toHsl();return Q.s-=Y/100,Q.s=Ke(Q.s),L(Q)}function ne(te,Y){Y=Y===0?0:Y||10;var Q=L(te).toHsl();return Q.s+=Y/100,Q.s=Ke(Q.s),L(Q)}function Ae(te){return L(te).desaturate(100)}function je(te,Y){Y=Y===0?0:Y||10;var Q=L(te).toHsl();return Q.l+=Y/100,Q.l=Ke(Q.l),L(Q)}function Te(te,Y){Y=Y===0?0:Y||10;var Q=L(te).toRgb();return Q.r=H(0,z(255,Q.r-U(255*-(Y/100)))),Q.g=H(0,z(255,Q.g-U(255*-(Y/100)))),Q.b=H(0,z(255,Q.b-U(255*-(Y/100)))),L(Q)}function ht(te,Y){Y=Y===0?0:Y||10;var Q=L(te).toHsl();return Q.l-=Y/100,Q.l=Ke(Q.l),L(Q)}function yt(te,Y){var Q=L(te).toHsl(),ve=(Q.h+Y)%360;return Q.h=ve<0?360+ve:ve,L(Q)}function Ct(te){var Y=L(te).toHsl();return Y.h=(Y.h+180)%360,L(Y)}function vt(te){var Y=L(te).toHsl(),Q=Y.h;return[L(te),L({h:(Q+120)%360,s:Y.s,l:Y.l}),L({h:(Q+240)%360,s:Y.s,l:Y.l})]}function Vt(te){var Y=L(te).toHsl(),Q=Y.h;return[L(te),L({h:(Q+90)%360,s:Y.s,l:Y.l}),L({h:(Q+180)%360,s:Y.s,l:Y.l}),L({h:(Q+270)%360,s:Y.s,l:Y.l})]}function gt(te){var Y=L(te).toHsl(),Q=Y.h;return[L(te),L({h:(Q+72)%360,s:Y.s,l:Y.l}),L({h:(Q+216)%360,s:Y.s,l:Y.l})]}function zt(te,Y,Q){Y=Y||6,Q=Q||30;var ve=L(te).toHsl(),ge=360/Q,Be=[L(te)];for(ve.h=(ve.h-(ge*Y>>1)+720)%360;--Y;)ve.h=(ve.h+ge)%360,Be.push(L(ve));return Be}function dt(te,Y){Y=Y||6;for(var Q=L(te).toHsv(),ve=Q.h,ge=Q.s,Be=Q.v,ze=[],xt=1/Y;Y--;)ze.push(L({h:ve,s:ge,v:Be})),Be=(Be+xt)%1;return ze}L.mix=function(te,Y,Q){Q=Q===0?0:Q||50;var ve=L(te).toRgb(),ge=L(Y).toRgb(),Be=Q/100,ze={r:(ge.r-ve.r)*Be+ve.r,g:(ge.g-ve.g)*Be+ve.g,b:(ge.b-ve.b)*Be+ve.b,a:(ge.a-ve.a)*Be+ve.a};return L(ze)},L.readability=function(te,Y){var Q=L(te),ve=L(Y);return(m.max(Q.getLuminance(),ve.getLuminance())+.05)/(m.min(Q.getLuminance(),ve.getLuminance())+.05)},L.isReadable=function(te,Y,Q){var ve=L.readability(te,Y),ge,Be;switch(Be=!1,ge=Ur(Q),ge.level+ge.size){case"AAsmall":case"AAAlarge":Be=ve>=4.5;break;case"AAlarge":Be=ve>=3;break;case"AAAsmall":Be=ve>=7;break}return Be},L.mostReadable=function(te,Y,Q){var ve=null,ge=0,Be,ze,xt,Ot;Q=Q||{},ze=Q.includeFallbackColors,xt=Q.level,Ot=Q.size;for(var ke=0;ke<Y.length;ke++)Be=L.readability(te,Y[ke]),Be>ge&&(ge=Be,ve=L(Y[ke]));return L.isReadable(te,ve,{level:xt,size:Ot})||!ze?ve:(Q.includeFallbackColors=!1,L.mostReadable(te,["#fff","#000"],Q))};var Je=L.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},st=L.hexNames=Xe(Je);function Xe(te){var Y={};for(var Q in te)te.hasOwnProperty(Q)&&(Y[te[Q]]=Q);return Y}function Ue(te){return te=parseFloat(te),(isNaN(te)||te<0||te>1)&&(te=1),te}function $e(te,Y){rt(te)&&(te="100%");var Q=Pe(te);return te=z(Y,H(0,parseFloat(te))),Q&&(te=parseInt(te*Y,10)/100),m.abs(te-Y)<1e-6?1:te%Y/parseFloat(Y)}function Ke(te){return z(1,H(0,te))}function ft(te){return parseInt(te,16)}function rt(te){return typeof te=="string"&&te.indexOf(".")!=-1&&parseFloat(te)===1}function Pe(te){return typeof te=="string"&&te.indexOf("%")!=-1}function At(te){return te.length==1?"0"+te:""+te}function qt(te){return te<=1&&(te=te*100+"%"),te}function Qr(te){return m.round(parseFloat(te)*255).toString(16)}function Dr(te){return ft(te)/255}var sr=function(){var te="[-\\+]?\\d+%?",Y="[-\\+]?\\d*\\.\\d+%?",Q="(?:"+Y+")|(?:"+te+")",ve="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",ge="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?";return{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+ve),rgba:new RegExp("rgba"+ge),hsl:new RegExp("hsl"+ve),hsla:new RegExp("hsla"+ge),hsv:new RegExp("hsv"+ve),hsva:new RegExp("hsva"+ge),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function zr(te){return!!sr.CSS_UNIT.exec(te)}function Ir(te){te=te.replace(S,"").replace(O,"").toLowerCase();var Y=!1;if(Je[te])te=Je[te],Y=!0;else if(te=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Q;return(Q=sr.rgb.exec(te))?{r:Q[1],g:Q[2],b:Q[3]}:(Q=sr.rgba.exec(te))?{r:Q[1],g:Q[2],b:Q[3],a:Q[4]}:(Q=sr.hsl.exec(te))?{h:Q[1],s:Q[2],l:Q[3]}:(Q=sr.hsla.exec(te))?{h:Q[1],s:Q[2],l:Q[3],a:Q[4]}:(Q=sr.hsv.exec(te))?{h:Q[1],s:Q[2],v:Q[3]}:(Q=sr.hsva.exec(te))?{h:Q[1],s:Q[2],v:Q[3],a:Q[4]}:(Q=sr.hex8.exec(te))?{r:ft(Q[1]),g:ft(Q[2]),b:ft(Q[3]),a:Dr(Q[4]),format:Y?"name":"hex8"}:(Q=sr.hex6.exec(te))?{r:ft(Q[1]),g:ft(Q[2]),b:ft(Q[3]),format:Y?"name":"hex"}:(Q=sr.hex4.exec(te))?{r:ft(Q[1]+""+Q[1]),g:ft(Q[2]+""+Q[2]),b:ft(Q[3]+""+Q[3]),a:Dr(Q[4]+""+Q[4]),format:Y?"name":"hex8"}:(Q=sr.hex3.exec(te))?{r:ft(Q[1]+""+Q[1]),g:ft(Q[2]+""+Q[2]),b:ft(Q[3]+""+Q[3]),format:Y?"name":"hex"}:!1}function Ur(te){var Y,Q;return te=te||{level:"AA",size:"small"},Y=(te.level||"AA").toUpperCase(),Q=(te.size||"small").toLowerCase(),Y!=="AA"&&Y!=="AAA"&&(Y="AA"),Q!=="small"&&Q!=="large"&&(Q="small"),{level:Y,size:Q}}re.exports?re.exports=L:(B=function(){return L}.call(J,v,J,re),B!==void 0&&(re.exports=B))})(Math)},"aK+R":function(re,J,v){},aZkK:function(re,J,v){"use strict";function B(X){return function(U,z,H){for(var p=-1,L=Object(U),C=H(U),E=C.length;E--;){var T=C[X?E:++p];if(z(L[T],T,L)===!1)break}return U}}var m=B,S=m(),O=J.a=S},adzw:function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=v("/s86"),O=v("uX+g"),X=v("WFLz"),U=v("WuYN"),z=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","valuePropName"];function H(){return H=Object.assign||function(se){for(var M=1;M<arguments.length;M++){var $=arguments[M];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(se[j]=$[j])}return se},H.apply(this,arguments)}function p(se,M){var $=Object.keys(se);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(se);M&&(j=j.filter(function(W){return Object.getOwnPropertyDescriptor(se,W).enumerable})),$.push.apply($,j)}return $}function L(se){for(var M=1;M<arguments.length;M++){var $=arguments[M]!=null?arguments[M]:{};M%2?p(Object($),!0).forEach(function(j){C(se,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors($)):p(Object($)).forEach(function(j){Object.defineProperty(se,j,Object.getOwnPropertyDescriptor($,j))})}return se}function C(se,M,$){return M in se?Object.defineProperty(se,M,{value:$,enumerable:!0,configurable:!0,writable:!0}):se[M]=$,se}function E(se,M){if(se==null)return{};var $=T(se,M),j,W;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(se);for(W=0;W<x.length;W++)j=x[W],!(M.indexOf(j)>=0)&&(!Object.prototype.propertyIsEnumerable.call(se,j)||($[j]=se[j]))}return $}function T(se,M){if(se==null)return{};var $={},j=Object.keys(se),W,x;for(x=0;x<j.length;x++)W=j[x],!(M.indexOf(W)>=0)&&($[W]=se[W]);return $}var D=m.a.forwardRef(function(se,M){var $=se.fieldProps,j=se.children,W=se.labelCol,x=se.label,ne=se.autoFocus,Ae=se.isDefaultDom,je=se.render,Te=se.proFieldProps,ht=se.renderFormItem,yt=se.valueType,Ct=se.initialValue,vt=se.onChange,Vt=se.valueEnum,gt=se.params,zt=se.name,dt=se.valuePropName,Je=dt===void 0?"value":dt,st=E(se,z);if(Object(B.useImperativeHandle)(M,function(){return{}}),j)return m.a.isValidElement(j)?m.a.cloneElement(j,L(L({},st),{},{onChange:function(){for(var $e=arguments.length,Ke=new Array($e),ft=0;ft<$e;ft++)Ke[ft]=arguments[ft];if($==null?void 0:$.onChange){var rt;$==null||(rt=$.onChange)===null||rt===void 0||rt.call.apply(rt,[$].concat(Ke));return}vt==null||vt.apply(void 0,Ke)}},j.props)):j;var Xe=function($e){var Ke=$e?L(L({},gt),$e||{}):gt;return m.a.createElement(S.a,H({valuePropName:Je,text:$==null?void 0:$[Je],render:je,renderFormItem:ht,valueType:yt||"text",fieldProps:L(L({autoFocus:ne},$),{},{onChange:function(){for(var rt=arguments.length,Pe=new Array(rt),At=0;At<rt;At++)Pe[At]=arguments[At];if($==null?void 0:$.onChange){var qt;$==null||(qt=$.onChange)===null||qt===void 0||qt.call.apply(qt,[$].concat(Pe));return}vt==null||vt.apply(void 0,Pe)}}),valueEnum:Object(O.a)(Vt)},Te,st,{mode:(Te==null?void 0:Te.mode)||"edit",params:Ke}))};return st.dependencies&&st.request?m.a.createElement(U.a,{name:st.dependencies},function(Ue){return Xe(Ue)}):Xe()});J.a=Object(X.a)(D)},b1eo:function(re,J,v){"use strict";var B=v("WmNS"),m=v.n(B),S=v("T2oS"),O=v("W9HT"),X=v("GNNt"),U=v("wEI+"),z=v("y8nQ"),H=v("Vl3Y"),p=v("q1tI"),L=v.n(p),C=v("LQCs"),E=v("uX+g"),T=v("ub+h"),D=v("bG1m"),se=v("POPG"),M=v("/PRe");function $(pe,Se){var Me=Object.keys(pe);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(pe);Se&&(Le=Le.filter(function(mt){return Object.getOwnPropertyDescriptor(pe,mt).enumerable})),Me.push.apply(Me,Le)}return Me}function j(pe){for(var Se=1;Se<arguments.length;Se++){var Me=arguments[Se]!=null?arguments[Se]:{};Se%2?$(Object(Me),!0).forEach(function(Le){W(pe,Le,Me[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(Me)):$(Object(Me)).forEach(function(Le){Object.defineProperty(pe,Le,Object.getOwnPropertyDescriptor(Me,Le))})}return pe}function W(pe,Se,Me){return Se in pe?Object.defineProperty(pe,Se,{value:Me,enumerable:!0,configurable:!0,writable:!0}):pe[Se]=Me,pe}function x(pe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(Me){return typeof Me}:x=function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},x(pe)}var ne=function(Se,Me){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,mt=Object.keys(Me).reduce(function($t,Ce){var We=Me[Ce];return Object(se.a)(We)||($t[Ce]=We),$t},{});if(Object.keys(mt).length<1||typeof window=="undefined"||x(Se)!=="object"||Object(se.a)(Se)||Se instanceof Blob)return Se;var Wt={},tr=function $t(Ce,We){var Ge={};return Ce==null||Ce===void 0?Ge:(Object.keys(Ce).forEach(function(wt){var ue=We?[We,wt].flat(1):[wt].flat(1),ee=Ce[wt],de=Object(T.a)(mt,ue),ye=function(){var it=typeof de=="function"?de==null?void 0:de(ee,wt,Ce):wt;if(Array.isArray(it)){Ge=Object(D.a)(Ge,it,ee);return}x(it)==="object"?Wt=j(j({},Wt),it):it&&(Ge=Object(D.a)(Ge,[it],ee))};if(de&&typeof de=="function"&&ye(),typeof window!="undefined"){if(x(ee)==="object"&&!Array.isArray(ee)&&!L.a.isValidElement(ee)&&!(ee instanceof Blob)){var Ve=$t(ee,ue);if(Object.keys(Ve).length<1)return;Ge=Object(D.a)(Ge,[wt],Ve);return}ye()}}),Le?Ge:Ce)};return Wt=Object(M.a)({},tr(Se),Wt),Wt},Ae=ne,je=v("1O3P"),Te=v("9mHw"),ht=v("ft2k"),yt=v("ipCM"),Ct=v("wUu8"),vt=v("Lpa7");function Vt(pe,Se,Me,Le,mt,Wt,tr){try{var $t=pe[Wt](tr),Ce=$t.value}catch(We){Me(We);return}$t.done?Se(Ce):Promise.resolve(Ce).then(Le,mt)}function gt(pe){return function(){var Se=this,Me=arguments;return new Promise(function(Le,mt){var Wt=pe.apply(Se,Me);function tr(Ce){Vt(Wt,Le,mt,tr,$t,"next",Ce)}function $t(Ce){Vt(Wt,Le,mt,tr,$t,"throw",Ce)}tr(void 0)})}}function zt(pe,Se){return Ue(pe)||Xe(pe,Se)||Je(pe,Se)||dt()}function dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Je(pe,Se){if(!!pe){if(typeof pe=="string")return st(pe,Se);var Me=Object.prototype.toString.call(pe).slice(8,-1);if(Me==="Object"&&pe.constructor&&(Me=pe.constructor.name),Me==="Map"||Me==="Set")return Array.from(pe);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return st(pe,Se)}}function st(pe,Se){(Se==null||Se>pe.length)&&(Se=pe.length);for(var Me=0,Le=new Array(Se);Me<Se;Me++)Le[Me]=pe[Me];return Le}function Xe(pe,Se){var Me=pe==null?null:typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(Me!=null){var Le=[],mt=!0,Wt=!1,tr,$t;try{for(Me=Me.call(pe);!(mt=(tr=Me.next()).done)&&(Le.push(tr.value),!(Se&&Le.length===Se));mt=!0);}catch(Ce){Wt=!0,$t=Ce}finally{try{!mt&&Me.return!=null&&Me.return()}finally{if(Wt)throw $t}}return Le}}function Ue(pe){if(Array.isArray(pe))return pe}var $e=0;function Ke(pe){var Se=Object(p.useState)(function(){return pe.proFieldKey?pe.proFieldKey.toString():($e+=1,$e.toString())}),Me=zt(Se,1),Le=Me[0],mt=Object(p.useRef)(Le),Wt=function(){var Ge=gt(m.a.mark(function wt(){var ue,ee;return m.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,(ue=pe.request)===null||ue===void 0?void 0:ue.call(pe,pe.params,pe);case 2:return ee=ye.sent,ye.abrupt("return",ee);case 4:case"end":return ye.stop()}},wt)}));return function(){return Ge.apply(this,arguments)}}(),tr=Object(p.useMemo)(function(){return pe.params?[mt.current,JSON.stringify(pe.params)]:mt.current},[pe.params]),$t=Object(vt.a)(tr,Wt,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),Ce=$t.data,We=$t.error;return[Ce||We]}var ft=Ke,rt=function(){return rt=Object.assign||function(pe){for(var Se,Me=1,Le=arguments.length;Me<Le;Me++){Se=arguments[Me];for(var mt in Se)Object.prototype.hasOwnProperty.call(Se,mt)&&(pe[mt]=Se[mt])}return pe},rt.apply(this,arguments)};function Pe(pe){var Se,Me=(typeof window!="undefined"?window:{}).URL,Le=new Me((Se=window==null?void 0:window.location)===null||Se===void 0?void 0:Se.href);return Object.keys(pe).forEach(function(mt){var Wt=pe[mt];Wt!=null?Array.isArray(Wt)?(Le.searchParams.delete(mt),Wt.forEach(function(tr){Le.searchParams.append(mt,tr)})):Wt instanceof Date?Number.isNaN(Wt.getTime())||Le.searchParams.set(mt,Wt.toISOString()):typeof Wt=="object"?Le.searchParams.set(mt,JSON.stringify(Wt)):Le.searchParams.set(mt,Wt):Le.searchParams.delete(mt)}),Le}function At(pe,Se){var Me;pe===void 0&&(pe={}),Se===void 0&&(Se={disabled:!1});var Le=Object(p.useState)(),mt=Le[1],Wt=typeof window!="undefined"&&((Me=window==null?void 0:window.location)===null||Me===void 0?void 0:Me.search),tr=Object(p.useMemo)(function(){return Se.disabled?{}:new URLSearchParams(Wt||{})},[Se.disabled,Wt]),$t=Object(p.useMemo)(function(){if(Se.disabled)return{};if(typeof window=="undefined"||!window.URL)return{};var Ge=[];tr.forEach(function(ue,ee){Ge.push({key:ee,value:ue})}),Ge=Ge.reduce(function(ue,ee){return(ue[ee.key]=ue[ee.key]||[]).push(ee),ue},{}),Ge=Object.keys(Ge).map(function(ue){var ee=Ge[ue];return ee.length===1?[ue,ee[0].value]:[ue,ee.map(function(de){var ye=de.value;return ye})]});var wt=rt({},pe);return Ge.forEach(function(ue){var ee=ue[0],de=ue[1];wt[ee]=Qr(ee,de,{},pe)}),wt},[Se.disabled,pe,tr]);function Ce(Ge){if(!(typeof window=="undefined"||!window.URL)){var wt=Pe(Ge);window.location.search!==wt.search&&window.history.replaceState({},"",wt.toString()),tr.toString()!==wt.searchParams.toString()&&mt({})}}Object(p.useEffect)(function(){Se.disabled||typeof window=="undefined"||!window.URL||Ce(rt(rt({},pe),$t))},[Se.disabled,$t]);var We=function(wt){Ce(wt)};return Object(p.useEffect)(function(){if(Se.disabled)return function(){};if(typeof window=="undefined"||!window.URL)return function(){};var Ge=function(){mt({})};return window.addEventListener("popstate",Ge),function(){window.removeEventListener("popstate",Ge)}},[Se.disabled]),[$t,We]}var qt={true:!0,false:!1};function Qr(pe,Se,Me,Le){if(!Me)return Se;var mt=Me[pe],Wt=Se===void 0?Le[pe]:Se;return mt===Number?Number(Wt):mt===Boolean||Se==="true"||Se==="false"?qt[Wt]:Array.isArray(mt)?mt.find(function(tr){return tr==Wt})||Le[pe]:Wt}var Dr=v("lS/g"),sr=v("DYRE"),zr=v("zeV3"),Ir=v("+L6B"),Ur=v("2/Rp"),te=v("BGR+");function Y(pe,Se){var Me=Object.keys(pe);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(pe);Se&&(Le=Le.filter(function(mt){return Object.getOwnPropertyDescriptor(pe,mt).enumerable})),Me.push.apply(Me,Le)}return Me}function Q(pe){for(var Se=1;Se<arguments.length;Se++){var Me=arguments[Se]!=null?arguments[Se]:{};Se%2?Y(Object(Me),!0).forEach(function(Le){ve(pe,Le,Me[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(Me)):Y(Object(Me)).forEach(function(Le){Object.defineProperty(pe,Le,Object.getOwnPropertyDescriptor(Me,Le))})}return pe}function ve(pe,Se,Me){return Se in pe?Object.defineProperty(pe,Se,{value:Me,enumerable:!0,configurable:!0,writable:!0}):pe[Se]=Me,pe}function ge(){return ge=Object.assign||function(pe){for(var Se=1;Se<arguments.length;Se++){var Me=arguments[Se];for(var Le in Me)Object.prototype.hasOwnProperty.call(Me,Le)&&(pe[Le]=Me[Le])}return pe},ge.apply(this,arguments)}var Be=function(Se){var Me=Object(C.d)();if(Se.render===!1)return null;var Le=Se.form,mt=Se.onSubmit,Wt=Se.render,tr=Se.onReset,$t=Se.searchConfig,Ce=$t===void 0?{}:$t,We=Se.submitButtonProps,Ge=Se.resetButtonProps,wt=Ge===void 0?{}:Ge,ue=function(){Le.submit(),mt==null||mt()},ee=function(){Le.resetFields(),tr==null||tr()},de=Ce.submitText,ye=de===void 0?Me.getMessage("tableForm.submit","\u63D0\u4EA4"):de,Ve=Ce.resetText,lt=Ve===void 0?Me.getMessage("tableForm.reset","\u91CD\u7F6E"):Ve,it=[];wt!==!1&&it.push(L.a.createElement(Ur.a,ge({},Object(te.a)(wt,["preventDefault"]),{key:"rest",onClick:function(Er){var Ar;(wt==null?void 0:wt.preventDefault)||ee(),wt==null||(Ar=wt.onClick)===null||Ar===void 0||Ar.call(wt,Er)}}),lt)),We!==!1&&it.push(L.a.createElement(Ur.a,ge({type:"primary"},Object(te.a)(We||{},["preventDefault"]),{key:"submit",onClick:function(Er){var Ar;(We==null?void 0:We.preventDefault)||ue(),We==null||(Ar=We.onClick)===null||Ar===void 0||Ar.call(We,Er)}}),ye));var at=Wt?Wt(Q(Q({},Se),{},{submit:ue,reset:ee}),it):it;return at?Array.isArray(at)?(at==null?void 0:at.length)<1?null:(at==null?void 0:at.length)===1?at[0]:L.a.createElement(zr.b,null,at):at:null},ze=Be,xt=v("Kwbf"),Ot=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","extraUrlParams","syncToUrl","syncToInitialValues","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput"],ke=["request","params","initialValues","formKey"];function xe(){return xe=Object.assign||function(pe){for(var Se=1;Se<arguments.length;Se++){var Me=arguments[Se];for(var Le in Me)Object.prototype.hasOwnProperty.call(Me,Le)&&(pe[Le]=Me[Le])}return pe},xe.apply(this,arguments)}function De(pe,Se){var Me=Object.keys(pe);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(pe);Se&&(Le=Le.filter(function(mt){return Object.getOwnPropertyDescriptor(pe,mt).enumerable})),Me.push.apply(Me,Le)}return Me}function Ye(pe){for(var Se=1;Se<arguments.length;Se++){var Me=arguments[Se]!=null?arguments[Se]:{};Se%2?De(Object(Me),!0).forEach(function(Le){Ut(pe,Le,Me[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(Me)):De(Object(Me)).forEach(function(Le){Object.defineProperty(pe,Le,Object.getOwnPropertyDescriptor(Me,Le))})}return pe}function Ut(pe,Se,Me){return Se in pe?Object.defineProperty(pe,Se,{value:Me,enumerable:!0,configurable:!0,writable:!0}):pe[Se]=Me,pe}function Yt(pe,Se,Me,Le,mt,Wt,tr){try{var $t=pe[Wt](tr),Ce=$t.value}catch(We){Me(We);return}$t.done?Se(Ce):Promise.resolve(Ce).then(Le,mt)}function Zt(pe){return function(){var Se=this,Me=arguments;return new Promise(function(Le,mt){var Wt=pe.apply(Se,Me);function tr(Ce){Yt(Wt,Le,mt,tr,$t,"next",Ce)}function $t(Ce){Yt(Wt,Le,mt,tr,$t,"throw",Ce)}tr(void 0)})}}function Or(pe,Se){return Tr(pe)||Gt(pe,Se)||$r(pe,Se)||fr()}function fr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $r(pe,Se){if(!!pe){if(typeof pe=="string")return kr(pe,Se);var Me=Object.prototype.toString.call(pe).slice(8,-1);if(Me==="Object"&&pe.constructor&&(Me=pe.constructor.name),Me==="Map"||Me==="Set")return Array.from(pe);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return kr(pe,Se)}}function kr(pe,Se){(Se==null||Se>pe.length)&&(Se=pe.length);for(var Me=0,Le=new Array(Se);Me<Se;Me++)Le[Me]=pe[Me];return Le}function Gt(pe,Se){var Me=pe==null?null:typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(Me!=null){var Le=[],mt=!0,Wt=!1,tr,$t;try{for(Me=Me.call(pe);!(mt=(tr=Me.next()).done)&&(Le.push(tr.value),!(Se&&Le.length===Se));mt=!0);}catch(Ce){Wt=!0,$t=Ce}finally{try{!mt&&Me.return!=null&&Me.return()}finally{if(Wt)throw $t}}return Le}}function Tr(pe){if(Array.isArray(pe))return pe}function Nr(pe,Se){if(pe==null)return{};var Me=Zr(pe,Se),Le,mt;if(Object.getOwnPropertySymbols){var Wt=Object.getOwnPropertySymbols(pe);for(mt=0;mt<Wt.length;mt++)Le=Wt[mt],!(Se.indexOf(Le)>=0)&&(!Object.prototype.propertyIsEnumerable.call(pe,Le)||(Me[Le]=pe[Le]))}return Me}function Zr(pe,Se){if(pe==null)return{};var Me={},Le=Object.keys(pe),mt,Wt;for(Wt=0;Wt<Le.length;Wt++)mt=Le[Wt],!(Se.indexOf(mt)>=0)&&(Me[mt]=pe[mt]);return Me}var ln=function(Se,Me,Le){return Se===!0?Me:Object(E.a)(Se,Me,Le)};function fn(pe){var Se=pe.children,Me=pe.contentRender,Le=pe.submitter,mt=pe.fieldProps,Wt=pe.formItemProps,tr=pe.groupProps,$t=pe.dateFormatter,Ce=$t===void 0?"string":$t,We=pe.formRef,Ge=pe.onInit,wt=pe.form,ue=pe.formComponentType,ee=pe.extraUrlParams,de=ee===void 0?{}:ee,ye=pe.syncToUrl,Ve=pe.syncToInitialValues,lt=Ve===void 0?!0:Ve,it=pe.onReset,at=pe.omitNil,pt=at===void 0?!0:at,Er=pe.isKeyPressSubmit,Ar=pe.autoFocusFirstInput,or=Nr(pe,Ot),Br=H.a.useForm(wt),on=Or(Br,1),bn=on[0],jn=At({},{disabled:!ye}),qr=Or(jn,2),un=qr[0],lr=qr[1],Pr=Object(p.useRef)(bn||{}),hn=Object(p.useRef)({}),cn=Object(p.useRef)({}),jr=Object(p.useCallback)(function(Ht,bt,Lt){return Ae(Object(je.b)(Ht,Ce,hn.current,bt,Lt),cn.current,bt)},[Ce]),hr=Object(p.useMemo)(function(){return{getFieldsFormatValue:function(bt){var Lt;return jr((Lt=Pr.current)===null||Lt===void 0?void 0:Lt.getFieldsValue(bt),pt)},getFieldFormatValue:function(bt){var Lt;return jr((Lt=Pr.current)===null||Lt===void 0?void 0:Lt.getFieldValue(bt),pt,bt)},validateFieldsReturnFormatValue:function(){var Ht=Zt(m.a.mark(function Lt(ur){var _r,vn;return m.a.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return pn.next=2,(_r=Pr.current)===null||_r===void 0?void 0:_r.validateFields(ur);case 2:return vn=pn.sent,pn.abrupt("return",jr(vn,pt));case 4:case"end":return pn.stop()}},Lt)}));function bt(Lt){return Ht.apply(this,arguments)}return bt}()}},[pt,jr]),Vr=Object(p.useMemo)(function(){var Ht=Ye({},Pr.current);return Object.keys(Pr.current||{}).forEach(function(bt){Object.defineProperty(Ht,bt,{get:function(){return Pr.current[bt]}})}),Object.keys(hr).forEach(function(bt){Object.defineProperty(Ht,bt,{get:function(){return hr[bt]}})}),Ht},[]),sn=Object(Te.a)(!1),It=Or(sn,2),Rn=It[0],Xr=It[1],br=L.a.Children.toArray(Se).map(function(Ht,bt){return bt===0&&L.a.isValidElement(Ht)&&Ar?L.a.cloneElement(Ht,Ye(Ye({},Ht.props),{},{autoFocus:Ar})):Ht}),dr=Object(p.useMemo)(function(){return typeof Le=="boolean"||!Le?{}:Le},[Le]);Object(p.useImperativeHandle)(We,function(){return Vr});var Fr=Object(p.useMemo)(function(){if(Le!==!1)return L.a.createElement(ze,xe({key:"submitter"},dr,{onReset:function(){var bt,Lt,ur=jr((bt=Pr.current)===null||bt===void 0?void 0:bt.getFieldsValue(),pt);if(dr==null||(Lt=dr.onReset)===null||Lt===void 0||Lt.call(dr,ur),it==null||it(ur),ye){var _r,vn=Object.keys(jr((_r=Pr.current)===null||_r===void 0?void 0:_r.getFieldsValue(),!1)).reduce(function(Mr,pn){return Ye(Ye({},Mr),{},Ut({},pn,ur[pn]||void 0))},de);lr(ln(ye,vn,"set"))}},form:Vr,submitButtonProps:Ye({loading:Rn},dr.submitButtonProps)}))},[Le,dr,Vr,Rn,jr,pt,it,ye,de,lr]),vr=Object(p.useMemo)(function(){return Me?Me(br,Fr,Pr.current):br},[Me,br,Fr]),Cn=Object(p.useMemo)(function(){if(typeof window!="undefined"&&ue&&["DrawerForm"].includes(ue))return function(Ht){return Ht.parentNode||document.body}},[ue]);Object(p.useEffect)(function(){var Ht,bt=jr((Ht=Pr.current)===null||Ht===void 0?void 0:Ht.getFieldsValue(!0),pt);Ge==null||Ge(bt,Vr)},[]);var en=Object(p.useState)(function(){return ye?ln(ye,un,"get"):{}}),Dn=Or(en,2),Wr=Dn[0],Bn=Dn[1];Object(p.useEffect)(function(){lt||Bn({})},[lt]);var Yr=Object(ht.a)(pe.initialValues);return Object(p.useEffect)(function(){if(!(ye||!pe.initialValues||!Yr||or.request)){var Ht=Object(yt.a)(pe.initialValues,Yr);Object(xt.b)(Ht,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),Object(xt.b)(Ht,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[pe.initialValues]),Object(p.useEffect)(function(){!ye||lr(Ye(Ye({},un),de))},[de,ye]),L.a.createElement(C.a,null,L.a.createElement(Dr.a.Provider,{value:{formRef:Pr,fieldProps:mt,formItemProps:Wt,groupProps:tr,formComponentType:ue,getPopupContainer:Cn,setFieldValueType:function(bt,Lt){var ur=Lt.valueType,_r=ur===void 0?"text":ur,vn=Lt.dateFormat,Mr=Lt.transform;!Array.isArray(bt)||(cn.current=Object(D.a)(cn.current,bt,Mr),hn.current=Object(D.a)(hn.current,bt,{valueType:_r,dateFormat:vn}))}}},L.a.createElement(Ct.a.Provider,{value:hr},L.a.createElement(U.b.SizeContext.Provider,{value:or.size},L.a.createElement(H.a,xe({onKeyPress:function(bt){if(!!Er&&bt.key==="Enter"){var Lt;(Lt=Pr.current)===null||Lt===void 0||Lt.submit()}},form:bn},or,{initialValues:Ye(Ye({},Wr),or.initialValues),onValuesChange:function(bt,Lt){var ur;or==null||(ur=or.onValuesChange)===null||ur===void 0||ur.call(or,jr(bt,pt),jr(Lt,pt))},onFinish:Zt(m.a.mark(function Ht(){var bt,Lt,ur,_r;return m.a.wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:if(or.onFinish){Mr.next=2;break}return Mr.abrupt("return");case 2:if(!Rn){Mr.next=4;break}return Mr.abrupt("return");case 4:return Xr(!0),Mr.prev=5,Lt=jr((bt=Pr.current)===null||bt===void 0?void 0:bt.getFieldsValue(),pt),Mr.next=9,or.onFinish(Lt);case 9:ye&&(_r=Object.keys(jr((ur=Pr.current)===null||ur===void 0?void 0:ur.getFieldsValue(),!1)).reduce(function(pn,ci){return Ye(Ye({},pn),{},Ut({},ci,Lt[ci]||void 0))},de),Object.keys(un).forEach(function(pn){_r[pn]||(_r[pn]=void 0)}),lr(ln(ye,_r,"set"))),Xr(!1),Mr.next=16;break;case 13:Mr.prev=13,Mr.t0=Mr.catch(5),Xr(!1);case 16:case"end":return Mr.stop()}},Ht,null,[[5,13]])}))}),or.component!==!1&&L.a.createElement("input",{type:"text",style:{display:"none"}}),L.a.createElement(H.a.Item,{noStyle:!0,shouldUpdate:!0},function(Ht){return We&&(We.current=Ye(Ye({},Ht),hr)),Pr.current=Ht,null}),vr)))))}function En(pe){var Se=pe.request,Me=pe.params,Le=pe.initialValues,mt=pe.formKey,Wt=Nr(pe,ke),tr=ft({request:Se,params:Me,proFieldKey:mt}),$t=Or(tr,1),Ce=$t[0];return!Ce&&pe.request?L.a.createElement("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"}},L.a.createElement(O.a,null)):L.a.createElement(fn,xe({autoComplete:"off"},Wt,{initialValues:Ye(Ye({},Le),Ce)}))}var _n=J.a=En},b2z7:function(re,J){var v=/\w*$/;function B(m){var S=new m.constructor(m.source,v.exec(m));return S.lastIndex=m.lastIndex,S}re.exports=B},bE4E:function(re,J,v){},baxp:function(re,J,v){var B=v("z01/"),m=v("x49D");function S(O,X){return X&&(B(X)==="object"||typeof X=="function")?X:m(O)}re.exports=S},c29t:function(re,J,v){var B=v("8v5O");function m(S,O,X){return typeof Reflect!="undefined"&&Reflect.get?re.exports=m=Reflect.get:re.exports=m=function(z,H,p){var L=B(z,H);if(!!L){var C=Object.getOwnPropertyDescriptor(L,H);return C.get?C.get.call(p):C.value}},m(S,O,X||S)}re.exports=m},cSlR:function(re,J,v){"use strict";var B=9007199254740991,m=/^(?:0|[1-9]\d*)$/;function S(O,X){var U=typeof O;return X=X==null?B:X,!!X&&(U=="number"||U!="symbol"&&m.test(O))&&O>-1&&O%1==0&&O<X}J.a=S},"cq/+":function(re,J,v){var B=v("mc0g"),m=B();re.exports=m},cxFA:function(re,J,v){var B=v("dmwd");function m(O,X){var U=Object.keys(O);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(O);X&&(z=z.filter(function(H){return Object.getOwnPropertyDescriptor(O,H).enumerable})),U.push.apply(U,z)}return U}function S(O){for(var X=1;X<arguments.length;X++){var U=arguments[X]!=null?arguments[X]:{};X%2?m(Object(U),!0).forEach(function(z){B(O,z,U[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(U)):m(Object(U)).forEach(function(z){Object.defineProperty(O,z,Object.getOwnPropertyDescriptor(U,z))})}return O}re.exports=S},czTT:function(re,J,v){},dLWn:function(re,J,v){"use strict";var B=Function.prototype,m=B.toString;function S(O){if(O!=null){try{return m.call(O)}catch(X){}try{return O+""}catch(X){}}return""}J.a=S},dTAl:function(re,J,v){var B=v("GoyQ"),m=Object.create,S=function(){function O(){}return function(X){if(!B(X))return{};if(m)return m(X);O.prototype=X;var U=new O;return O.prototype=void 0,U}}();re.exports=S},df8c:function(re,J,v){},dmwd:function(re,J){function v(B,m,S){return m in B?Object.defineProperty(B,m,{value:S,enumerable:!0,configurable:!0,writable:!0}):B[m]=S,B}re.exports=v},efZk:function(re,J,v){"use strict";var B=v("ylTp"),m=v("twO/"),S=v("/1FC"),O=v("G8aS"),X=1/0,U=B.a?B.a.prototype:void 0,z=U?U.toString:void 0;function H(E){if(typeof E=="string")return E;if(Object(S.a)(E))return Object(m.a)(E,H)+"";if(Object(O.a)(E))return z?z.call(E):"";var T=E+"";return T=="0"&&1/E==-X?"-0":T}var p=H;function L(E){return E==null?"":p(E)}var C=J.a=L},fOrg:function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("YkAm"),O=v.n(S)},"fWo+":function(re,J,v){},ft2k:function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=function(X){var U=Object(B.useRef)();return Object(B.useEffect)(function(){U.current=X}),U.current};J.a=S},g5r2:function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=v("ipCM"),O=S.a;function X(z){var H=Object(B.useRef)();return O(z,H.current)||(H.current=z),H.current}function U(z){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(B.useEffect)(z,X(H))}J.a=U},gFfm:function(re,J){function v(B,m){for(var S=-1,O=B==null?0:B.length;++S<O&&m(B[S],S,B)!==!1;);return B}re.exports=v},h875:function(re,J){function v(B,m){return re.exports=v=Object.setPrototypeOf||function(O,X){return O.__proto__=X,O},v(B,m)}re.exports=v},hbEN:function(re,J,v){"use strict";var B=v("IzLi"),m=v("Ju5/"),S=function(){return m.a.Date.now()},O=S,X=v("SiRs"),U="Expected a function",z=Math.max,H=Math.min;function p(C,E,T){var D,se,M,$,j,W,x=0,ne=!1,Ae=!1,je=!0;if(typeof C!="function")throw new TypeError(U);E=Object(X.a)(E)||0,Object(B.a)(T)&&(ne=!!T.leading,Ae="maxWait"in T,M=Ae?z(Object(X.a)(T.maxWait)||0,E):M,je="trailing"in T?!!T.trailing:je);function Te(Je){var st=D,Xe=se;return D=se=void 0,x=Je,$=C.apply(Xe,st),$}function ht(Je){return x=Je,j=setTimeout(vt,E),ne?Te(Je):$}function yt(Je){var st=Je-W,Xe=Je-x,Ue=E-st;return Ae?H(Ue,M-Xe):Ue}function Ct(Je){var st=Je-W,Xe=Je-x;return W===void 0||st>=E||st<0||Ae&&Xe>=M}function vt(){var Je=O();if(Ct(Je))return Vt(Je);j=setTimeout(vt,yt(Je))}function Vt(Je){return j=void 0,je&&D?Te(Je):(D=se=void 0,$)}function gt(){j!==void 0&&clearTimeout(j),x=0,D=W=se=j=void 0}function zt(){return j===void 0?$:Vt(O())}function dt(){var Je=O(),st=Ct(Je);if(D=arguments,se=this,W=Je,st){if(j===void 0)return ht(W);if(Ae)return clearTimeout(j),j=setTimeout(vt,E),Te(W)}return j===void 0&&(j=setTimeout(vt,E)),$}return dt.cancel=gt,dt.flush=zt,dt}var L=J.a=p},hgQt:function(re,J,v){var B=v("Juji"),m=v("4sDh");function S(O,X){return O!=null&&m(O,X,B)}re.exports=S},hypo:function(re,J,v){var B=v("O0oS");function m(S,O,X){O=="__proto__"&&B?B(S,O,{configurable:!0,enumerable:!0,value:X,writable:!0}):S[O]=X}re.exports=m},ipCM:function(re,J,v){"use strict";function B(U,z){var H=typeof Symbol!="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(!H){if(Array.isArray(U)||(H=m(U))||z&&U&&typeof U.length=="number"){H&&(U=H);var p=0,L=function(){};return{s:L,n:function(){return p>=U.length?{done:!0}:{done:!1,value:U[p++]}},e:function(se){throw se},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=!0,E=!1,T;return{s:function(){H=H.call(U)},n:function(){var se=H.next();return C=se.done,se},e:function(se){E=!0,T=se},f:function(){try{!C&&H.return!=null&&H.return()}finally{if(E)throw T}}}}function m(U,z){if(!!U){if(typeof U=="string")return S(U,z);var H=Object.prototype.toString.call(U).slice(8,-1);if(H==="Object"&&U.constructor&&(H=U.constructor.name),H==="Map"||H==="Set")return Array.from(U);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return S(U,z)}}function S(U,z){(z==null||z>U.length)&&(z=U.length);for(var H=0,p=new Array(z);H<z;H++)p[H]=U[H];return p}function O(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(H){return typeof H}:O=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},O(U)}function X(U,z){if(U===z)return!0;if(U&&z&&O(U)==="object"&&O(z)==="object"){if(U.constructor!==z.constructor)return!1;var H,p,L;if(Array.isArray(U)){if(H=U.length,H!=z.length)return!1;for(p=H;p--!=0;)if(!X(U[p],z[p]))return!1;return!0}if(U instanceof Map&&z instanceof Map){if(U.size!==z.size)return!1;var C=B(U.entries()),E;try{for(C.s();!(E=C.n()).done;)if(p=E.value,!z.has(p[0]))return!1}catch(j){C.e(j)}finally{C.f()}var T=B(U.entries()),D;try{for(T.s();!(D=T.n()).done;)if(p=D.value,!X(p[1],z.get(p[0])))return!1}catch(j){T.e(j)}finally{T.f()}return!0}if(U instanceof Set&&z instanceof Set){if(U.size!==z.size)return!1;var se=B(U.entries()),M;try{for(se.s();!(M=se.n()).done;)if(p=M.value,!z.has(p[0]))return!1}catch(j){se.e(j)}finally{se.f()}return!0}if(ArrayBuffer.isView(U)&&ArrayBuffer.isView(z)){if(H=U.length,H!=z.length)return!1;for(p=H;p--!=0;)if(U[p]!==z[p])return!1;return!0}if(U.constructor===RegExp)return U.source===z.source&&U.flags===z.flags;if(U.valueOf!==Object.prototype.valueOf)return U.valueOf()===z.valueOf();if(U.toString!==Object.prototype.toString)return U.toString()===z.toString();if(L=Object.keys(U),H=L.length,H!==Object.keys(z).length)return!1;for(p=H;p--!=0;)if(!Object.prototype.hasOwnProperty.call(z,L[p]))return!1;for(p=H;p--!=0;){var $=L[p];if(!($==="_owner"&&U.$$typeof)&&!X(U[$],z[$]))return!1}return!0}return U!==U&&z!==z}J.a=X},jCWc:function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("1GLa")},jkmW:function(re,J,v){},juv8:function(re,J,v){var B=v("MrPd"),m=v("hypo");function S(O,X,U,z){var H=!U;U||(U={});for(var p=-1,L=X.length;++p<L;){var C=X[p],E=z?z(U[C],O[C],C,U,O):void 0;E===void 0&&(E=O[C]),H?m(U,C,E):B(U,C,E)}return U}re.exports=S},l9OW:function(re,J,v){var B=v("SKAX"),m=v("MMmD");function S(O,X){var U=-1,z=m(O)?Array(O.length):[];return B(O,function(H,p,L){z[++U]=X(H,p,L)}),z}re.exports=S},lPKl:function(re,J,v){var B=v("GXtI"),m=v("h875"),S=v("+O4Z"),O=v("ZJpN");function X(U){var z=typeof Map=="function"?new Map:void 0;return re.exports=X=function(p){if(p===null||!S(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z!="undefined"){if(z.has(p))return z.get(p);z.set(p,L)}function L(){return O(p,arguments,B(this).constructor)}return L.prototype=Object.create(p.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),m(L,p)},X(U)}re.exports=X},lQqw:function(re,J,v){var B=v("MMmD");function m(S,O){return function(X,U){if(X==null)return X;if(!B(X))return S(X,U);for(var z=X.length,H=O?z:-1,p=Object(X);(O?H--:++H<z)&&U(p[H],H,p)!==!1;);return X}}re.exports=m},"lm/5":function(re,J,v){var B=v("fmRc"),m=v("wF/u"),S=1,O=2;function X(U,z,H,p){var L=H.length,C=L,E=!p;if(U==null)return!C;for(U=Object(U);L--;){var T=H[L];if(E&&T[2]?T[1]!==U[T[0]]:!(T[0]in U))return!1}for(;++L<C;){T=H[L];var D=T[0],se=U[D],M=T[1];if(E&&T[2]){if(se===void 0&&!(D in U))return!1}else{var $=new B;if(p)var j=p(se,M,D,U,z,$);if(!(j===void 0?m(M,se,S|O,p,$):j))return!1}}return!0}re.exports=X},lreK:function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mergeClasses=void 0;var B=v("Ag8Z"),m=U(B),S=v("BkRI"),O=U(S),X=Object.assign||function(H){for(var p=1;p<arguments.length;p++){var L=arguments[p];for(var C in L)Object.prototype.hasOwnProperty.call(L,C)&&(H[C]=L[C])}return H};function U(H){return H&&H.__esModule?H:{default:H}}var z=J.mergeClasses=function(p){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=p.default&&(0,O.default)(p.default)||{};return L.map(function(E){var T=p[E];return T&&(0,m.default)(T,function(D,se){C[se]||(C[se]={}),C[se]=X({},C[se],T[se])}),E}),C};J.default=z},mF9B:function(re,J,v){},mTTR:function(re,J,v){var B=v("b80T"),m=v("QcOe"),S=v("MMmD");function O(X){return S(X)?B(X,!0):m(X)}re.exports=O},mc0g:function(re,J){function v(B){return function(m,S,O){for(var X=-1,U=Object(m),z=O(m),H=z.length;H--;){var p=z[B?H:++X];if(S(U[p],p,U)===!1)break}return m}}re.exports=v},mwIZ:function(re,J,v){var B=v("ZWtO");function m(S,O,X){var U=S==null?void 0:B(S,O);return U===void 0?X:U}re.exports=m},nLtN:function(re,J,v){"use strict";function B(){this.__data__=[],this.size=0}var m=B,S=v("YHEm");function O(j,W){for(var x=j.length;x--;)if(Object(S.a)(j[x][0],W))return x;return-1}var X=O,U=Array.prototype,z=U.splice;function H(j){var W=this.__data__,x=X(W,j);if(x<0)return!1;var ne=W.length-1;return x==ne?W.pop():z.call(W,x,1),--this.size,!0}var p=H;function L(j){var W=this.__data__,x=X(W,j);return x<0?void 0:W[x][1]}var C=L;function E(j){return X(this.__data__,j)>-1}var T=E;function D(j,W){var x=this.__data__,ne=X(x,j);return ne<0?(++this.size,x.push([j,W])):x[ne][1]=W,this}var se=D;function M(j){var W=-1,x=j==null?0:j.length;for(this.clear();++W<x;){var ne=j[W];this.set(ne[0],ne[1])}}M.prototype.clear=m,M.prototype.delete=p,M.prototype.get=C,M.prototype.has=T,M.prototype.set=se;var $=J.a=M},nSmt:function(re,J,v){},nhC9:function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=v("Znn+"),O=v("ZTPi"),X=v("GNNt"),U=v("wEI+"),z=v("1GLa"),H=v("TLLU"),p=v("UESt"),L=v("6cGi"),C=v("YSkC"),E=v("TSYQ"),T=v.n(E),D=v("BGR+"),se=v("14J3"),M=v("BMrR"),$=v("jCWc"),j=v("kPKH"),W=v("aK+R"),x=function(xe){var De=xe.style,Ye=xe.prefix;return m.a.createElement("div",{className:"".concat(Ye,"-loading-content"),style:De},m.a.createElement(M.a,{gutter:8},m.a.createElement(j.a,{span:22},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")}))),m.a.createElement(M.a,{gutter:8},m.a.createElement(j.a,{span:8},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")})),m.a.createElement(j.a,{span:15},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")}))),m.a.createElement(M.a,{gutter:8},m.a.createElement(j.a,{span:6},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")})),m.a.createElement(j.a,{span:18},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")}))),m.a.createElement(M.a,{gutter:8},m.a.createElement(j.a,{span:13},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")})),m.a.createElement(j.a,{span:9},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")}))),m.a.createElement(M.a,{gutter:8},m.a.createElement(j.a,{span:4},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")})),m.a.createElement(j.a,{span:3},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")})),m.a.createElement(j.a,{span:16},m.a.createElement("div",{className:"".concat(Ye,"-loading-block")}))))},ne=x,Ae=v("S76h"),je=function(xe){var De=xe.actions,Ye=xe.prefixCls;return Array.isArray(De)&&(De==null?void 0:De.length)?m.a.createElement("ul",{className:"".concat(Ye,"-actions")},De.map(function(Ut,Yt){return m.a.createElement("li",{style:{width:"".concat(100/De.length,"%")},key:"action-".concat(Yt)},m.a.createElement("span",null,Ut))})):De?m.a.createElement("ul",{className:"".concat(Ye,"-actions")},De):null},Te=je,ht=v("df8c"),yt=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"];function Ct(){return Ct=Object.assign||function(ke){for(var xe=1;xe<arguments.length;xe++){var De=arguments[xe];for(var Ye in De)Object.prototype.hasOwnProperty.call(De,Ye)&&(ke[Ye]=De[Ye])}return ke},Ct.apply(this,arguments)}function vt(ke,xe){var De=Object.keys(ke);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(ke);xe&&(Ye=Ye.filter(function(Ut){return Object.getOwnPropertyDescriptor(ke,Ut).enumerable})),De.push.apply(De,Ye)}return De}function Vt(ke){for(var xe=1;xe<arguments.length;xe++){var De=arguments[xe]!=null?arguments[xe]:{};xe%2?vt(Object(De),!0).forEach(function(Ye){gt(ke,Ye,De[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(De)):vt(Object(De)).forEach(function(Ye){Object.defineProperty(ke,Ye,Object.getOwnPropertyDescriptor(De,Ye))})}return ke}function gt(ke,xe,De){return xe in ke?Object.defineProperty(ke,xe,{value:De,enumerable:!0,configurable:!0,writable:!0}):ke[xe]=De,ke}function zt(ke){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zt=function(De){return typeof De}:zt=function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},zt(ke)}function dt(ke,xe){return $e(ke)||Ue(ke,xe)||st(ke,xe)||Je()}function Je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(ke,xe){if(!!ke){if(typeof ke=="string")return Xe(ke,xe);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return Xe(ke,xe)}}function Xe(ke,xe){(xe==null||xe>ke.length)&&(xe=ke.length);for(var De=0,Ye=new Array(xe);De<xe;De++)Ye[De]=ke[De];return Ye}function Ue(ke,xe){var De=ke==null?null:typeof Symbol!="undefined"&&ke[Symbol.iterator]||ke["@@iterator"];if(De!=null){var Ye=[],Ut=!0,Yt=!1,Zt,Or;try{for(De=De.call(ke);!(Ut=(Zt=De.next()).done)&&(Ye.push(Zt.value),!(xe&&Ye.length===xe));Ut=!0);}catch(fr){Yt=!0,Or=fr}finally{try{!Ut&&De.return!=null&&De.return()}finally{if(Yt)throw Or}}return Ye}}function $e(ke){if(Array.isArray(ke))return ke}function Ke(ke,xe){if(ke==null)return{};var De=ft(ke,xe),Ye,Ut;if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(ke);for(Ut=0;Ut<Yt.length;Ut++)Ye=Yt[Ut],!(xe.indexOf(Ye)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ke,Ye)||(De[Ye]=ke[Ye]))}return De}function ft(ke,xe){if(ke==null)return{};var De={},Ye=Object.keys(ke),Ut,Yt;for(Yt=0;Yt<Ye.length;Yt++)Ut=Ye[Yt],!(xe.indexOf(Ut)>=0)&&(De[Ut]=ke[Ut]);return De}var rt=H.a.useBreakpoint,Pe=m.a.forwardRef(function(ke,xe){var De,Ye,Ut,Yt=ke.className,Zt=ke.style,Or=ke.bodyStyle,fr=Or===void 0?{}:Or,$r=ke.headStyle,kr=$r===void 0?{}:$r,Gt=ke.title,Tr=ke.subTitle,Nr=ke.extra,Zr=ke.tip,ln=ke.wrap,fn=ln===void 0?!1:ln,En=ke.layout,_n=ke.loading,pe=ke.gutter,Se=pe===void 0?0:pe,Me=ke.tooltip,Le=ke.split,mt=ke.headerBordered,Wt=mt===void 0?!1:mt,tr=ke.bordered,$t=tr===void 0?!1:tr,Ce=ke.children,We=ke.size,Ge=ke.actions,wt=ke.ghost,ue=wt===void 0?!1:wt,ee=ke.hoverable,de=ee===void 0?!1:ee,ye=ke.direction,Ve=ke.collapsed,lt=ke.collapsible,it=lt===void 0?!1:lt,at=ke.defaultCollapsed,pt=at===void 0?!1:at,Er=ke.onCollapse,Ar=ke.checked,or=ke.onChecked,Br=ke.tabs,on=ke.type,bn=Ke(ke,yt),jn=Object(B.useContext)(U.b.ConfigContext),qr=jn.getPrefixCls,un=rt(),lr=Object(L.a)(pt,{value:Ve,onChange:Er}),Pr=dt(lr,2),hn=Pr[0],cn=Pr[1],jr=["xxl","xl","lg","md","sm","xs"],hr=function(bt){var Lt=[0,0],ur=Array.isArray(bt)?bt:[bt,0];return ur.forEach(function(_r,vn){if(zt(_r)==="object")for(var Mr=0;Mr<jr.length;Mr+=1){var pn=jr[Mr];if(un[pn]&&_r[pn]!==void 0){Lt[vn]=_r[pn];break}}else Lt[vn]=_r||0}),Lt},Vr=function(bt,Lt){return bt?Lt:{}},sn=function(bt){var Lt=bt;if(zt(bt)==="object")for(var ur=0;ur<jr.length;ur+=1){var _r=jr[ur];if(un[_r]&&bt[_r]!==void 0){Lt=bt[_r];break}}var vn=Vr(typeof Lt=="string"&&/\d%|\dpx/i.test(Lt),{width:Lt,flexShrink:0});return{span:Lt,colSpanStyle:vn}},It=qr("pro-card"),Rn=hr(Se),Xr=dt(Rn,2),br=Xr[0],dr=Xr[1],Fr=!1,vr=m.a.Children.toArray(Ce),Cn=vr.map(function(Ht,bt){var Lt;if(Ht==null||(Lt=Ht.type)===null||Lt===void 0?void 0:Lt.isProCard){var ur;Fr=!0;var _r=Ht.props.colSpan,vn=sn(_r),Mr=vn.span,pn=vn.colSpanStyle,ci=T()(["".concat(It,"-col")],(ur={},gt(ur,"".concat(It,"-split-vertical"),Le==="vertical"&&bt!==vr.length-1),gt(ur,"".concat(It,"-split-horizontal"),Le==="horizontal"&&bt!==vr.length-1),gt(ur,"".concat(It,"-col-").concat(Mr),typeof Mr=="number"&&Mr>=0&&Mr<=24),ur));return m.a.createElement("div",{style:Vt(Vt(Vt({},pn),Vr(br>0,{paddingRight:br/2,paddingLeft:br/2})),Vr(dr>0,{paddingTop:dr/2,paddingBottom:dr/2})),key:"pro-card-col-".concat(bt),className:ci},m.a.cloneElement(Ht))}return Ht}),en=T()("".concat(It),Yt,(De={},gt(De,"".concat(It,"-border"),$t),gt(De,"".concat(It,"-contain-card"),Fr),gt(De,"".concat(It,"-loading"),_n),gt(De,"".concat(It,"-split"),Le==="vertical"||Le==="horizontal"),gt(De,"".concat(It,"-ghost"),ue),gt(De,"".concat(It,"-hoverable"),de),gt(De,"".concat(It,"-size-").concat(We),We),gt(De,"".concat(It,"-type-").concat(on),on),gt(De,"".concat(It,"-collapse"),hn),gt(De,"".concat(It,"-checked"),Ar),De)),Dn=T()("".concat(It,"-body"),(Ye={},gt(Ye,"".concat(It,"-body-center"),En==="center"),gt(Ye,"".concat(It,"-body-direction-column"),Le==="horizontal"||ye==="column"),gt(Ye,"".concat(It,"-body-wrap"),fn&&Fr),Ye)),Wr=Vt(Vt(Vt({},Vr(br>0,{marginRight:-br/2,marginLeft:-br/2})),Vr(dr>0,{marginTop:-dr/2,marginBottom:-dr/2})),fr),Bn=m.a.isValidElement(_n)?_n:m.a.createElement(ne,{prefix:It,style:fr.padding===0||fr.padding==="0px"?{padding:24}:void 0}),Yr=it&&Ve===void 0&&m.a.createElement(p.a,{rotate:hn?void 0:90,className:"".concat(It,"-collapsible-icon")});return m.a.createElement("div",Ct({className:en,style:Zt,ref:xe,onClick:function(bt){var Lt;or==null||or(bt),bn==null||(Lt=bn.onClick)===null||Lt===void 0||Lt.call(bn,bt)}},Object(D.a)(bn,["prefixCls","colSpan"])),(Gt||Nr||Yr)&&m.a.createElement("div",{className:T()("".concat(It,"-header"),(Ut={},gt(Ut,"".concat(It,"-header-border"),Wt||on==="inner"),gt(Ut,"".concat(It,"-header-collapsible"),Yr),Ut)),style:kr,onClick:function(){Yr&&cn(!hn)}},m.a.createElement("div",{className:"".concat(It,"-title")},Yr,m.a.createElement(C.a,{label:Gt,tooltip:Me||Zr,subTitle:Tr})),Nr&&m.a.createElement("div",{className:"".concat(It,"-extra")},Nr)),Br?m.a.createElement("div",{className:"".concat(It,"-tabs")},m.a.createElement(O.a,Ct({onChange:Br.onChange},Br),_n?Bn:Ce)):m.a.createElement("div",{className:Dn,style:Wr},_n?Bn:Cn),m.a.createElement(Te,{actions:Ge,prefixCls:It}))}),At=Pe,qt=v("VzZb"),Qr=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function Dr(){return Dr=Object.assign||function(ke){for(var xe=1;xe<arguments.length;xe++){var De=arguments[xe];for(var Ye in De)Object.prototype.hasOwnProperty.call(De,Ye)&&(ke[Ye]=De[Ye])}return ke},Dr.apply(this,arguments)}function sr(ke,xe){if(ke==null)return{};var De=zr(ke,xe),Ye,Ut;if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(ke);for(Ut=0;Ut<Yt.length;Ut++)Ye=Yt[Ut],!(xe.indexOf(Ye)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ke,Ye)||(De[Ye]=ke[Ye]))}return De}function zr(ke,xe){if(ke==null)return{};var De={},Ye=Object.keys(ke),Ut,Yt;for(Yt=0;Yt<Ye.length;Yt++)Ut=Ye[Yt],!(xe.indexOf(Ut)>=0)&&(De[Ut]=ke[Ut]);return De}var Ir=function(xe){var De=xe.key,Ye=xe.tab,Ut=xe.tabKey,Yt=xe.disabled,Zt=xe.destroyInactiveTabPane,Or=xe.children,fr=xe.className,$r=xe.style,kr=xe.cardProps,Gt=sr(xe,Qr),Tr=Object(B.useContext)(U.b.ConfigContext),Nr=Tr.getPrefixCls,Zr=Nr("pro-card-tabpane"),ln=T()(Zr,fr);return m.a.createElement(O.a.TabPane,Dr({key:De,tabKey:Ut,tab:Ye,className:ln,style:$r,disabled:Yt,destroyInactiveTabPane:Zt},Gt),m.a.createElement(At,kr,Or))},Ur=Ir,te=v("u1OI");function Y(ke,xe,De){return xe in ke?Object.defineProperty(ke,xe,{value:De,enumerable:!0,configurable:!0,writable:!0}):ke[xe]=De,ke}var Q=function(xe){var De=Object(B.useContext)(U.b.ConfigContext),Ye=De.getPrefixCls,Ut=Ye("pro-card-divider"),Yt=xe.className,Zt=xe.style,Or=Zt===void 0?{}:Zt,fr=xe.type,$r=T()(Ut,Yt,Y({},"".concat(Ut,"-").concat(fr),fr));return m.a.createElement("div",{className:$r,style:Or})},ve=Q;function ge(){return ge=Object.assign||function(ke){for(var xe=1;xe<arguments.length;xe++){var De=arguments[xe];for(var Ye in De)Object.prototype.hasOwnProperty.call(De,Ye)&&(ke[Ye]=De[Ye])}return ke},ge.apply(this,arguments)}var Be=function(xe){return m.a.createElement(At,ge({bodyStyle:{padding:0}},xe))},ze=At;ze.isProCard=!0,ze.Divider=ve,ze.TabPane=Ur,ze.Group=Be;var xt=ze,Ot=J.a=xt},"oCl/":function(re,J,v){var B=v("CH3K"),m=v("LcsW"),S=v("MvSz"),O=v("0ycA"),X=Object.getOwnPropertySymbols,U=X?function(z){for(var H=[];z;)B(H,S(z)),z=m(z);return H}:O;re.exports=U},oSzE:function(re,J,v){"use strict";var B=v("nLtN");function m(){this.__data__=new B.a,this.size=0}var S=m;function O($){var j=this.__data__,W=j.delete($);return this.size=j.size,W}var X=O;function U($){return this.__data__.get($)}var z=U;function H($){return this.__data__.has($)}var p=H,L=v("3cmB"),C=v("DlmY"),E=200;function T($,j){var W=this.__data__;if(W instanceof B.a){var x=W.__data__;if(!L.a||x.length<E-1)return x.push([$,j]),this.size=++W.size,this;W=this.__data__=new C.a(x)}return W.set($,j),this.size=W.size,this}var D=T;function se($){var j=this.__data__=new B.a($);this.size=j.size}se.prototype.clear=S,se.prototype.delete=X,se.prototype.get=z,se.prototype.has=p,se.prototype.set=D;var M=J.a=se},oYcn:function(re,J,v){"use strict";var B=v("8M4i"),m=v("Js68"),S=v("EUcb"),O="[object Arguments]",X="[object Array]",U="[object Boolean]",z="[object Date]",H="[object Error]",p="[object Function]",L="[object Map]",C="[object Number]",E="[object Object]",T="[object RegExp]",D="[object Set]",se="[object String]",M="[object WeakMap]",$="[object ArrayBuffer]",j="[object DataView]",W="[object Float32Array]",x="[object Float64Array]",ne="[object Int8Array]",Ae="[object Int16Array]",je="[object Int32Array]",Te="[object Uint8Array]",ht="[object Uint8ClampedArray]",yt="[object Uint16Array]",Ct="[object Uint32Array]",vt={};vt[W]=vt[x]=vt[ne]=vt[Ae]=vt[je]=vt[Te]=vt[ht]=vt[yt]=vt[Ct]=!0,vt[O]=vt[X]=vt[$]=vt[U]=vt[j]=vt[z]=vt[H]=vt[p]=vt[L]=vt[C]=vt[E]=vt[T]=vt[D]=vt[se]=vt[M]=!1;function Vt($e){return Object(S.a)($e)&&Object(m.a)($e.length)&&!!vt[Object(B.a)($e)]}var gt=Vt;function zt($e){return function(Ke){return $e(Ke)}}var dt=zt,Je=v("xutz"),st=Je.a&&Je.a.isTypedArray,Xe=st?dt(st):gt,Ue=J.a=Xe},oaNE:function(re,J,v){"use strict";var B=v("oSzE"),m=v("Y7yP"),S=function(){try{var Ce=Object(m.a)(Object,"defineProperty");return Ce({},"",{}),Ce}catch(We){}}(),O=S;function X(Ce,We,Ge){We=="__proto__"&&O?O(Ce,We,{configurable:!0,enumerable:!0,value:Ge,writable:!0}):Ce[We]=Ge}var U=X,z=v("YHEm");function H(Ce,We,Ge){(Ge!==void 0&&!Object(z.a)(Ce[We],Ge)||Ge===void 0&&!(We in Ce))&&U(Ce,We,Ge)}var p=H,L=v("aZkK"),C=v("3/ER"),E=v("Ce4a");function T(Ce){var We=new Ce.constructor(Ce.byteLength);return new E.a(We).set(new E.a(Ce)),We}var D=T;function se(Ce,We){var Ge=We?D(Ce.buffer):Ce.buffer;return new Ce.constructor(Ge,Ce.byteOffset,Ce.length)}var M=se;function $(Ce,We){var Ge=-1,wt=Ce.length;for(We||(We=Array(wt));++Ge<wt;)We[Ge]=Ce[Ge];return We}var j=$,W=v("IzLi"),x=Object.create,ne=function(){function Ce(){}return function(We){if(!Object(W.a)(We))return{};if(x)return x(We);Ce.prototype=We;var Ge=new Ce;return Ce.prototype=void 0,Ge}}(),Ae=ne,je=v("UudT"),Te=v("pyRK");function ht(Ce){return typeof Ce.constructor=="function"&&!Object(Te.a)(Ce)?Ae(Object(je.a)(Ce)):{}}var yt=ht,Ct=v("9f76"),vt=v("/1FC"),Vt=v("5WsY"),gt=v("EUcb");function zt(Ce){return Object(gt.a)(Ce)&&Object(Vt.a)(Ce)}var dt=zt,Je=v("WOAq"),st=v("vJtL"),Xe=v("6LIB"),Ue=v("oYcn");function $e(Ce,We){if(!(We==="constructor"&&typeof Ce[We]=="function")&&We!="__proto__")return Ce[We]}var Ke=$e,ft=Object.prototype,rt=ft.hasOwnProperty;function Pe(Ce,We,Ge){var wt=Ce[We];(!(rt.call(Ce,We)&&Object(z.a)(wt,Ge))||Ge===void 0&&!(We in Ce))&&U(Ce,We,Ge)}var At=Pe;function qt(Ce,We,Ge,wt){var ue=!Ge;Ge||(Ge={});for(var ee=-1,de=We.length;++ee<de;){var ye=We[ee],Ve=wt?wt(Ge[ye],Ce[ye],ye,Ge,Ce):void 0;Ve===void 0&&(Ve=Ce[ye]),ue?U(Ge,ye,Ve):At(Ge,ye,Ve)}return Ge}var Qr=qt,Dr=v("7gMY");function sr(Ce){var We=[];if(Ce!=null)for(var Ge in Object(Ce))We.push(Ge);return We}var zr=sr,Ir=Object.prototype,Ur=Ir.hasOwnProperty;function te(Ce){if(!Object(W.a)(Ce))return zr(Ce);var We=Object(Te.a)(Ce),Ge=[];for(var wt in Ce)wt=="constructor"&&(We||!Ur.call(Ce,wt))||Ge.push(wt);return Ge}var Y=te;function Q(Ce){return Object(Vt.a)(Ce)?Object(Dr.a)(Ce,!0):Y(Ce)}var ve=Q;function ge(Ce){return Qr(Ce,ve(Ce))}var Be=ge;function ze(Ce,We,Ge,wt,ue,ee,de){var ye=Ke(Ce,Ge),Ve=Ke(We,Ge),lt=de.get(Ve);if(lt){p(Ce,Ge,lt);return}var it=ee?ee(ye,Ve,Ge+"",Ce,We,de):void 0,at=it===void 0;if(at){var pt=Object(vt.a)(Ve),Er=!pt&&Object(Je.a)(Ve),Ar=!pt&&!Er&&Object(Ue.a)(Ve);it=Ve,pt||Er||Ar?Object(vt.a)(ye)?it=ye:dt(ye)?it=j(ye):Er?(at=!1,it=Object(C.a)(Ve,!0)):Ar?(at=!1,it=M(Ve,!0)):it=[]:Object(Xe.a)(Ve)||Object(Ct.a)(Ve)?(it=ye,Object(Ct.a)(ye)?it=Be(ye):(!Object(W.a)(ye)||Object(st.a)(ye))&&(it=yt(Ve))):at=!1}at&&(de.set(Ve,it),ue(it,Ve,wt,ee,de),de.delete(Ve)),p(Ce,Ge,it)}var xt=ze;function Ot(Ce,We,Ge,wt,ue){Ce!==We&&Object(L.a)(We,function(ee,de){if(ue||(ue=new B.a),Object(W.a)(ee))xt(Ce,We,de,Ge,Ot,wt,ue);else{var ye=wt?wt(Ke(Ce,de),ee,de+"",Ce,We,ue):void 0;ye===void 0&&(ye=ee),p(Ce,de,ye)}},ve)}var ke=Ot,xe=v("+Xah");function De(Ce,We,Ge){switch(Ge.length){case 0:return Ce.call(We);case 1:return Ce.call(We,Ge[0]);case 2:return Ce.call(We,Ge[0],Ge[1]);case 3:return Ce.call(We,Ge[0],Ge[1],Ge[2])}return Ce.apply(We,Ge)}var Ye=De,Ut=Math.max;function Yt(Ce,We,Ge){return We=Ut(We===void 0?Ce.length-1:We,0),function(){for(var wt=arguments,ue=-1,ee=Ut(wt.length-We,0),de=Array(ee);++ue<ee;)de[ue]=wt[We+ue];ue=-1;for(var ye=Array(We+1);++ue<We;)ye[ue]=wt[ue];return ye[We]=Ge(de),Ye(Ce,this,ye)}}var Zt=Yt;function Or(Ce){return function(){return Ce}}var fr=Or,$r=O?function(Ce,We){return O(Ce,"toString",{configurable:!0,enumerable:!1,value:fr(We),writable:!0})}:xe.a,kr=$r,Gt=800,Tr=16,Nr=Date.now;function Zr(Ce){var We=0,Ge=0;return function(){var wt=Nr(),ue=Tr-(wt-Ge);if(Ge=wt,ue>0){if(++We>=Gt)return arguments[0]}else We=0;return Ce.apply(void 0,arguments)}}var ln=Zr,fn=ln(kr),En=fn;function _n(Ce,We){return En(Zt(Ce,We,xe.a),Ce+"")}var pe=_n,Se=v("cSlR");function Me(Ce,We,Ge){if(!Object(W.a)(Ge))return!1;var wt=typeof We;return(wt=="number"?Object(Vt.a)(Ge)&&Object(Se.a)(We,Ge.length):wt=="string"&&We in Ge)?Object(z.a)(Ge[We],Ce):!1}var Le=Me;function mt(Ce){return pe(function(We,Ge){var wt=-1,ue=Ge.length,ee=ue>1?Ge[ue-1]:void 0,de=ue>2?Ge[2]:void 0;for(ee=Ce.length>3&&typeof ee=="function"?(ue--,ee):void 0,de&&Le(Ge[0],Ge[1],de)&&(ee=ue<3?void 0:ee,ue=1),We=Object(We);++wt<ue;){var ye=Ge[wt];ye&&Ce(We,ye,wt,ee)}return We})}var Wt=mt,tr=Wt(function(Ce,We,Ge){ke(Ce,We,Ge)}),$t=J.a=tr},"otv/":function(re,J,v){var B=v("nmnc"),m=B?B.prototype:void 0,S=m?m.valueOf:void 0;function O(X){return S?Object(S.call(X)):{}}re.exports=O},pL63:function(re,J,v){},pWZp:function(re,J,v){"use strict";var B=v("DYRE"),m=v("zeV3"),S=v("tU7J"),O=v("wFql"),X=v("+BJd"),U=v("mr32"),z=v("/zsF"),H=v("PArb"),p=v("tJVT"),L=v("q1tI"),C=v.n(L),E=v("AEIT"),T=v.n(E),D=v("vnc/"),se=v.n(D),M=v("xEw5"),$=v.n(M),j=v("24R3"),W=v("nKUr"),x=v.n(W),ne=function(je){var Te=je.value,ht=je.onChange,yt=je.tokens,Ct=yt===void 0?[]:yt,vt=Object(L.useRef)(),Vt=Object(L.useState)(Math.random().toString()),gt=Object(p.a)(Vt,2),zt=gt[0],dt=gt[1];return Object(L.useEffect)(function(){dt(Math.random().toString())},[Ct]),Object(W.jsxs)("div",{className:"template-editor",children:[Object(W.jsx)(H.a,{children:Object(W.jsx)(j.a,{id:"tokens",defaultMessage:"posibble tokens:"})}),Object(W.jsx)(m.b,{children:Object(W.jsx)(O.a,{children:Ct.map(function(Je){return Object(W.jsx)(U.a,{children:Je},Je)})})}),Object(W.jsx)(H.a,{}),Object(W.jsx)(E.CKEditor,{ref:vt,config:{width:"210mm",height:"297mm",mention:{feeds:[{marker:"@",minimumCharacters:1,feed:Ct}]}},editor:se.a,data:Te||"",onChange:function(st,Xe){var Ue=Xe.getData();return ht&&ht(Ue)}},zt)]})};J.a=ne},pyRK:function(re,J,v){"use strict";var B=Object.prototype;function m(S){var O=S&&S.constructor,X=typeof O=="function"&&O.prototype||B;return S===X}J.a=m},"ql/k":function(re,J,v){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var B=Object.assign||function(z){for(var H=1;H<arguments.length;H++){var p=arguments[H];for(var L in p)Object.prototype.hasOwnProperty.call(p,L)&&(z[L]=p[L])}return z},m=v("q1tI"),S=O(m);function O(z){return z&&z.__esModule?z:{default:z}}function X(z,H){var p={};for(var L in z)H.indexOf(L)>=0||!Object.prototype.hasOwnProperty.call(z,L)||(p[L]=z[L]);return p}var U=24;J.default=function(z){var H=z.fill,p=H===void 0?"currentColor":H,L=z.width,C=L===void 0?U:L,E=z.height,T=E===void 0?U:E,D=z.style,se=D===void 0?{}:D,M=X(z,["fill","width","height","style"]);return S.default.createElement("svg",B({viewBox:"0 0 "+U+" "+U,style:B({fill:p,width:C,height:T},se)},M),S.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},rWUb:function(re,J,v){"use strict";v.d(J,"e",function(){return U}),v.d(J,"d",function(){return H}),v.d(J,"a",function(){return L}),v.d(J,"f",function(){return E}),v.d(J,"b",function(){return D}),v.d(J,"g",function(){return M}),v.d(J,"c",function(){return j});var B=v("k1fw"),m=v("9og8"),S=v("WmNS"),O=v.n(S),X=v("9kvl");function U(x,ne){return z.apply(this,arguments)}function z(){return z=Object(m.a)(O.a.mark(function x(ne,Ae){return O.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.abrupt("return",Object(X.f)("/api/admin/templates",Object(B.a)({method:"GET",useCache:!0,params:Object(B.a)(Object(B.a)({},ne),{},{per_page:ne.pageSize,page:ne.current})},Ae||{})));case 1:case"end":return Te.stop()}},x)})),z.apply(this,arguments)}function H(x,ne){return p.apply(this,arguments)}function p(){return p=Object(m.a)(O.a.mark(function x(ne,Ae){return O.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.abrupt("return",Object(X.f)("/api/admin/templates/".concat(ne),Object(B.a)({method:"GET"},Ae||{})));case 1:case"end":return Te.stop()}},x)})),p.apply(this,arguments)}function L(x,ne){return C.apply(this,arguments)}function C(){return C=Object(m.a)(O.a.mark(function x(ne,Ae){return O.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.abrupt("return",Object(X.f)("/api/admin/templates",Object(B.a)({method:"POST",headers:{"Content-Type":"application/json"},data:ne},Ae||{})));case 1:case"end":return Te.stop()}},x)})),C.apply(this,arguments)}function E(x,ne,Ae){return T.apply(this,arguments)}function T(){return T=Object(m.a)(O.a.mark(function x(ne,Ae,je){return O.a.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:return ht.abrupt("return",Object(X.f)("/api/admin/templates/".concat(ne),Object(B.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:Ae},je||{})));case 1:case"end":return ht.stop()}},x)})),T.apply(this,arguments)}function D(x,ne){return se.apply(this,arguments)}function se(){return se=Object(m.a)(O.a.mark(function x(ne,Ae){return O.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.abrupt("return",Object(X.f)("/api/admin/templates/".concat(ne),Object(B.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},Ae||{})));case 1:case"end":return Te.stop()}},x)})),se.apply(this,arguments)}function M(x){return $.apply(this,arguments)}function $(){return $=Object(m.a)(O.a.mark(function x(ne){return O.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.abrupt("return",Object(X.f)("/api/admin/templates/variables",Object(B.a)({method:"GET"},ne||{})));case 1:case"end":return je.stop()}},x)})),$.apply(this,arguments)}function j(x,ne){return W.apply(this,arguments)}function W(){return W=Object(m.a)(O.a.mark(function x(ne,Ae){return O.a.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.abrupt("return",Object(X.f)("/api/admin/templates/".concat(ne,"/preview"),Object(B.a)({method:"GET"},Ae||{})));case 1:case"end":return Te.stop()}},x)})),W.apply(this,arguments)}},sRBo:function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("KCY9"),O=v.n(S)},slOs:function(re,J,v){},tU7J:function(re,J,v){"use strict";var B=v("EFp3"),m=v.n(B),S=v("/qDX"),O=v.n(S),X=v("5Dmo"),U=v("5NDa")},"twO/":function(re,J,v){"use strict";function B(m,S){for(var O=-1,X=m==null?0:m.length,U=Array(X);++O<X;)U[O]=S(m[O],O,m);return U}J.a=B},u1OI:function(re,J,v){},"ut/Y":function(re,J,v){var B=v("ZCpW"),m=v("GDhZ"),S=v("zZ0H"),O=v("Z0cm"),X=v("+c4W");function U(z){return typeof z=="function"?z:z==null?S:typeof z=="object"?O(z)?m(z[0],z[1]):B(z):X(z)}re.exports=U},v56E:function(re,J,v){},vJtL:function(re,J,v){"use strict";var B=v("8M4i"),m=v("IzLi"),S="[object AsyncFunction]",O="[object Function]",X="[object GeneratorFunction]",U="[object Proxy]";function z(H){if(!Object(m.a)(H))return!1;var p=Object(B.a)(H);return p==O||p==X||p==S||p==U}J.a=z},"vnc/":function(re,J,v){var B=v("dmwd"),m=v("c29t"),S=v("GXtI"),O=v("x49D"),X=v("ZJpN"),U=v("baxp"),z=v("R5yR"),H=v("5wUe"),p=v("bfL6"),L=v("WmNS"),C=v("xbqb"),E=v("Lw8S"),T=v("2MUX"),D=v("CS2o"),se=v("lPKl");/*!
* @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
* For licensing, see LICENSE.md.
*/(function(M){var $=M.en=M.en||{};$.dictionary=Object.assign($.dictionary||{},{"%0 of %1":"%0 of %1","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(M,$){re.exports=$()}(window,function(){return function(M){var $={};function j(W){if($[W])return $[W].exports;var x=$[W]={i:W,l:!1,exports:{}};return M[W].call(x.exports,x,x.exports,j),x.l=!0,x.exports}return j.m=M,j.c=$,j.d=function(W,x,ne){j.o(W,x)||Object.defineProperty(W,x,{enumerable:!0,get:ne})},j.r=function(W){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})},j.t=function(W,x){if(1&x&&(W=j(W)),8&x||4&x&&typeof W=="object"&&W&&W.__esModule)return W;var ne=Object.create(null);if(j.r(ne),Object.defineProperty(ne,"default",{enumerable:!0,value:W}),2&x&&typeof W!="string")for(var Ae in W)j.d(ne,Ae,function(je){return W[je]}.bind(null,Ae));return ne},j.n=function(W){var x=W&&W.__esModule?function(){return W.default}:function(){return W};return j.d(x,"a",x),x},j.o=function(W,x){return Object.prototype.hasOwnProperty.call(W,x)},j.p="",j(j.s=100)}([function(M,$,j){"use strict";j.d($,"b",function(){return W}),j.d($,"a",function(){return x});var W=function(ne){T(je,ne);var Ae=D(je);function je(Te,ht,yt){var Ct;return C(this,je),Te=x(Te),yt&&(Te+=" "+JSON.stringify(yt)),Ct=Ae.call(this,Te),Ct.name="CKEditorError",Ct.context=ht,Ct.data=yt,Ct}return E(je,[{key:"is",value:function(ht){return ht==="CKEditorError"}}],[{key:"rethrowUnexpectedError",value:function(ht,yt){if(ht.is&&ht.is("CKEditorError"))throw ht;var Ct=new je(ht.message,yt);throw Ct.stack=ht.stack,Ct}}]),je}(se(Error));function x(ne){var Ae=ne.match(/^([^:]+):/);return Ae?ne+" Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(Ae[1],`
`):ne}},function(M,$,j){"use strict";var W,x=function(){return W===void 0&&(W=Boolean(window&&document&&document.all&&!window.atob)),W},ne=function(){var Je={};return function(st){if(Je[st]===void 0){var Xe=document.querySelector(st);if(window.HTMLIFrameElement&&Xe instanceof window.HTMLIFrameElement)try{Xe=Xe.contentDocument.head}catch(Ue){Xe=null}Je[st]=Xe}return Je[st]}}(),Ae=[];function je(Je){for(var st=-1,Xe=0;Xe<Ae.length;Xe++)if(Ae[Xe].identifier===Je){st=Xe;break}return st}function Te(Je,st){for(var Xe={},Ue=[],$e=0;$e<Je.length;$e++){var Ke=Je[$e],ft=st.base?Ke[0]+st.base:Ke[0],rt=Xe[ft]||0,Pe="".concat(ft," ").concat(rt);Xe[ft]=rt+1;var At=je(Pe),qt={css:Ke[1],media:Ke[2],sourceMap:Ke[3]};At!==-1?(Ae[At].references++,Ae[At].updater(qt)):Ae.push({identifier:Pe,updater:dt(qt,st),references:1}),Ue.push(Pe)}return Ue}function ht(Je){var st=document.createElement("style"),Xe=Je.attributes||{};if(Xe.nonce===void 0){var Ue=j.nc;Ue&&(Xe.nonce=Ue)}if(Object.keys(Xe).forEach(function(Ke){st.setAttribute(Ke,Xe[Ke])}),typeof Je.insert=="function")Je.insert(st);else{var $e=ne(Je.insert||"head");if(!$e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$e.appendChild(st)}return st}var yt,Ct=(yt=[],function(Je,st){return yt[Je]=st,yt.filter(Boolean).join(`
`)});function vt(Je,st,Xe,Ue){var $e=Xe?"":Ue.media?"@media ".concat(Ue.media," {").concat(Ue.css,"}"):Ue.css;if(Je.styleSheet)Je.styleSheet.cssText=Ct(st,$e);else{var Ke=document.createTextNode($e),ft=Je.childNodes;ft[st]&&Je.removeChild(ft[st]),ft.length?Je.insertBefore(Ke,ft[st]):Je.appendChild(Ke)}}function Vt(Je,st,Xe){var Ue=Xe.css,$e=Xe.media,Ke=Xe.sourceMap;if($e?Je.setAttribute("media",$e):Je.removeAttribute("media"),Ke&&btoa&&(Ue+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ke))))," */")),Je.styleSheet)Je.styleSheet.cssText=Ue;else{for(;Je.firstChild;)Je.removeChild(Je.firstChild);Je.appendChild(document.createTextNode(Ue))}}var gt=null,zt=0;function dt(Je,st){var Xe,Ue,$e;if(st.singleton){var Ke=zt++;Xe=gt||(gt=ht(st)),Ue=vt.bind(null,Xe,Ke,!1),$e=vt.bind(null,Xe,Ke,!0)}else Xe=ht(st),Ue=Vt.bind(null,Xe,st),$e=function(){(function(rt){if(rt.parentNode===null)return!1;rt.parentNode.removeChild(rt)})(Xe)};return Ue(Je),function(ft){if(ft){if(ft.css===Je.css&&ft.media===Je.media&&ft.sourceMap===Je.sourceMap)return;Ue(Je=ft)}else $e()}}M.exports=function(Je,st){(st=st||{}).singleton||typeof st.singleton=="boolean"||(st.singleton=x());var Xe=Te(Je=Je||[],st);return function(Ue){if(Ue=Ue||[],Object.prototype.toString.call(Ue)==="[object Array]"){for(var $e=0;$e<Xe.length;$e++){var Ke=je(Xe[$e]);Ae[Ke].references--}for(var ft=Te(Ue,st),rt=0;rt<Xe.length;rt++){var Pe=je(Xe[rt]);Ae[Pe].references===0&&(Ae[Pe].updater(),Ae.splice(Pe,1))}Xe=ft}}}},,function(M,$,j){"use strict";var W=j(7),x=typeof self=="object"&&self&&self.Object===Object&&self,ne=W.a||x||Function("return this")();$.a=ne},function(M,$,j){"use strict";(function(W){var x=j(3),ne=j(12),Ae=J&&!J.nodeType&&J,je=Ae&&typeof W=="object"&&W&&!W.nodeType&&W,Te=je&&je.exports===Ae?x.a.Buffer:void 0,ht=(Te?Te.isBuffer:void 0)||ne.a;$.a=ht}).call(this,j(9)(M))},function(M,$,j){"use strict";(function(W){var x=j(7),ne=J&&!J.nodeType&&J,Ae=ne&&typeof W=="object"&&W&&!W.nodeType&&W,je=Ae&&Ae.exports===ne&&x.a.process,Te=function(){try{var ht=Ae&&Ae.require&&Ae.require("util").types;return ht||je&&je.binding&&je.binding("util")}catch(yt){}}();$.a=Te}).call(this,j(9)(M))},function(M,$,j){"use strict";(function(W){var x=j(0),ne=typeof window=="object"?window:W;if(ne.CKEDITOR_VERSION)throw new x.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);ne.CKEDITOR_VERSION="19.1.1"}).call(this,j(10))},function(M,$,j){"use strict";(function(W){var x=typeof W=="object"&&W&&W.Object===Object&&W;$.a=x}).call(this,j(10))},function(M,$,j){"use strict";(function(W){var x=j(3),ne=J&&!J.nodeType&&J,Ae=ne&&typeof W=="object"&&W&&!W.nodeType&&W,je=Ae&&Ae.exports===ne?x.a.Buffer:void 0,Te=je?je.allocUnsafe:void 0;$.a=function(ht,yt){if(yt)return ht.slice();var Ct=ht.length,vt=Te?Te(Ct):new ht.constructor(Ct);return ht.copy(vt),vt}}).call(this,j(9)(M))},function(M,$){M.exports=function(j){if(!j.webpackPolyfill){var W=Object.create(j);W.children||(W.children=[]),Object.defineProperty(W,"loaded",{enumerable:!0,get:function(){return W.l}}),Object.defineProperty(W,"id",{enumerable:!0,get:function(){return W.i}}),Object.defineProperty(W,"exports",{enumerable:!0}),W.webpackPolyfill=1}return W}},function(M,$){var j;j=function(){return this}();try{j=j||new Function("return this")()}catch(W){typeof window=="object"&&(j=window)}M.exports=j},function(M,$,j){var W=j(1),x=j(71);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$,j){"use strict";$.a=function(){return!1}},function(M,$,j){var W=j(1),x=j(14);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(M,$,j){var W=j(1),x=j(16);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(M,$,j){var W=j(1),x=j(18);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(M,$,j){var W=j(1),x=j(20);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(M,$,j){var W=j(1),x=j(22);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(M,$,j){var W=j(1),x=j(24);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(M,$,j){var W=j(1),x=j(26);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(M,$,j){var W=j(1),x=j(28);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(M,$,j){var W=j(1),x=j(30);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(M,$,j){var W=j(1),x=j(32);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(M,$,j){var W=j(1),x=j(34);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(M,$,j){var W=j(1),x=j(36);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(M,$,j){var W=j(1),x=j(38);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(M,$,j){var W=j(1),x=j(40);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(M,$,j){var W=j(1),x=j(42);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(M,$,j){var W=j(1),x=j(44);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(M,$,j){var W=j(1),x=j(46);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(M,$,j){var W=j(1),x=j(48);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(M,$,j){var W=j(1),x=j(50);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget:not(.ck-widget_can-type-around_after)>.ck-widget__type-around>.ck-widget__type-around__button_after,.ck .ck-widget:not(.ck-widget_can-type-around_before)>.ck-widget__type-around>.ck-widget__type-around__button_before{display:none}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;pointer-events:none;opacity:0;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:auto;opacity:1}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:none;opacity:0}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}'},function(M,$,j){var W=j(1),x=j(52);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(M,$,j){var W=j(1),x=j(54);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(M,$,j){var W=j(1),x=j(56);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(M,$,j){var W=j(1),x=j(58);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(M,$,j){var W=j(1),x=j(60);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(M,$,j){var W=j(1),x=j(62);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(M,$,j){var W=j(1),x=j(64);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(M,$,j){var W=j(1),x=j(66);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(M,$,j){var W=j(1),x=j(68);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(M,$,j){var W=j(1),x=j(70);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(M,$){M.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(M,$,j){var W=j(1),x=j(73);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(M,$,j){var W=j(1),x=j(75);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(M,$,j){var W=j(1),x=j(77);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(M,$,j){var W=j(1),x=j(79);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(M,$,j){var W=j(1),x=j(81);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(M,$,j){var W=j(1),x=j(83);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(M,$,j){var W=j(1),x=j(85);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(M,$,j){var W=j(1),x=j(87);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(M,$,j){var W=j(1),x=j(89);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(M,$,j){var W=j(1),x=j(91);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(M,$,j){var W=j(1),x=j(93);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(M,$,j){var W=j(1),x=j(95);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(M,$,j){var W=j(1),x=j(97);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}"},function(M,$,j){var W=j(1),x=j(99);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[M.i,x,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};W(x,ne),M.exports=x.locals||{}},function(M,$){M.exports=":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}"},function(M,$,j){"use strict";var W=L.mark(El),x=L.mark(du),ne=L.mark(Pu);j.r($),j.d($,"default",function(){return sc});var Ae=j(3),je=Ae.a.Symbol,Te=Object.prototype,ht=Te.hasOwnProperty,yt=Te.toString,Ct=je?je.toStringTag:void 0,vt=function(n){var e=ht.call(n,Ct),r=n[Ct];try{n[Ct]=void 0;var t=!0}catch(o){}var i=yt.call(n);return t&&(e?n[Ct]=r:delete n[Ct]),i},Vt=Object.prototype.toString,gt=function(n){return Vt.call(n)},zt=je?je.toStringTag:void 0,dt=function(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":zt&&zt in Object(n)?vt(n):gt(n)},Je=function(n,e){return function(r){return n(e(r))}},st=Je(Object.getPrototypeOf,Object),Xe=function(n){return n!=null&&typeof n=="object"},Ue=Function.prototype,$e=Object.prototype,Ke=Ue.toString,ft=$e.hasOwnProperty,rt=Ke.call(Object),Pe=function(n){if(!Xe(n)||dt(n)!="[object Object]")return!1;var e=st(n);if(e===null)return!0;var r=ft.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ke.call(r)==rt},At=function(){this.__data__=[],this.size=0},qt=function(n,e){return n===e||n!=n&&e!=e},Qr=function(n,e){for(var r=n.length;r--;)if(qt(n[r][0],e))return r;return-1},Dr=Array.prototype.splice,sr=function(n){var e=this.__data__,r=Qr(e,n);return!(r<0)&&(r==e.length-1?e.pop():Dr.call(e,r,1),--this.size,!0)},zr=function(n){var e=this.__data__,r=Qr(e,n);return r<0?void 0:e[r][1]},Ir=function(n){return Qr(this.__data__,n)>-1},Ur=function(n,e){var r=this.__data__,t=Qr(r,n);return t<0?(++this.size,r.push([n,e])):r[t][1]=e,this};function te(a){var n=-1,e=a==null?0:a.length;for(this.clear();++n<e;){var r=a[n];this.set(r[0],r[1])}}te.prototype.clear=At,te.prototype.delete=sr,te.prototype.get=zr,te.prototype.has=Ir,te.prototype.set=Ur;var Y=te,Q=function(){this.__data__=new Y,this.size=0},ve=function(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r},ge=function(n){return this.__data__.get(n)},Be=function(n){return this.__data__.has(n)},ze=function(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")},xt,Ot=function(n){if(!ze(n))return!1;var e=dt(n);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ke=Ae.a["__core-js_shared__"],xe=(xt=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+xt:"",De=function(n){return!!xe&&xe in n},Ye=Function.prototype.toString,Ut=function(n){if(n!=null){try{return Ye.call(n)}catch(e){}try{return n+""}catch(e){}}return""},Yt=/^\[object .+?Constructor\]$/,Zt=Function.prototype,Or=Object.prototype,fr=Zt.toString,$r=Or.hasOwnProperty,kr=RegExp("^"+fr.call($r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gt=function(n){return!(!ze(n)||De(n))&&(Ot(n)?kr:Yt).test(Ut(n))},Tr=function(n,e){return n==null?void 0:n[e]},Nr=function(n,e){var r=Tr(n,e);return Gt(r)?r:void 0},Zr=Nr(Ae.a,"Map"),ln=Nr(Object,"create"),fn=function(){this.__data__=ln?ln(null):{},this.size=0},En=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},_n=Object.prototype.hasOwnProperty,pe=function(n){var e=this.__data__;if(ln){var r=e[n];return r==="__lodash_hash_undefined__"?void 0:r}return _n.call(e,n)?e[n]:void 0},Se=Object.prototype.hasOwnProperty,Me=function(n){var e=this.__data__;return ln?e[n]!==void 0:Se.call(e,n)},Le=function(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=ln&&e===void 0?"__lodash_hash_undefined__":e,this};function mt(a){var n=-1,e=a==null?0:a.length;for(this.clear();++n<e;){var r=a[n];this.set(r[0],r[1])}}mt.prototype.clear=fn,mt.prototype.delete=En,mt.prototype.get=pe,mt.prototype.has=Me,mt.prototype.set=Le;var Wt=mt,tr=function(){this.size=0,this.__data__={hash:new Wt,map:new(Zr||Y),string:new Wt}},$t=function(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null},Ce=function(n,e){var r=n.__data__;return $t(e)?r[typeof e=="string"?"string":"hash"]:r.map},We=function(n){var e=Ce(this,n).delete(n);return this.size-=e?1:0,e},Ge=function(n){return Ce(this,n).get(n)},wt=function(n){return Ce(this,n).has(n)},ue=function(n,e){var r=Ce(this,n),t=r.size;return r.set(n,e),this.size+=r.size==t?0:1,this};function ee(a){var n=-1,e=a==null?0:a.length;for(this.clear();++n<e;){var r=a[n];this.set(r[0],r[1])}}ee.prototype.clear=tr,ee.prototype.delete=We,ee.prototype.get=Ge,ee.prototype.has=wt,ee.prototype.set=ue;var de=ee,ye=function(n,e){var r=this.__data__;if(r instanceof Y){var t=r.__data__;if(!Zr||t.length<199)return t.push([n,e]),this.size=++r.size,this;r=this.__data__=new de(t)}return r.set(n,e),this.size=r.size,this};function Ve(a){var n=this.__data__=new Y(a);this.size=n.size}Ve.prototype.clear=Q,Ve.prototype.delete=ve,Ve.prototype.get=ge,Ve.prototype.has=Be,Ve.prototype.set=ye;var lt=Ve,it=function(n,e){for(var r=-1,t=n==null?0:n.length;++r<t&&e(n[r],r,n)!==!1;);return n},at=function(){try{var a=Nr(Object,"defineProperty");return a({},"",{}),a}catch(n){}}(),pt=function(n,e,r){e=="__proto__"&&at?at(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r},Er=Object.prototype.hasOwnProperty,Ar=function(n,e,r){var t=n[e];Er.call(n,e)&&qt(t,r)&&(r!==void 0||e in n)||pt(n,e,r)},or=function(n,e,r,t){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var l=e[o],u=t?t(r[l],n[l],l,r,n):void 0;u===void 0&&(u=n[l]),i?pt(r,l,u):Ar(r,l,u)}return r},Br=function(n,e){for(var r=-1,t=Array(n);++r<n;)t[r]=e(r);return t},on=function(n){return Xe(n)&&dt(n)=="[object Arguments]"},bn=Object.prototype,jn=bn.hasOwnProperty,qr=bn.propertyIsEnumerable,un=on(function(){return arguments}())?on:function(a){return Xe(a)&&jn.call(a,"callee")&&!qr.call(a,"callee")},lr=Array.isArray,Pr=j(4),hn=/^(?:0|[1-9]\d*)$/,cn=function(n,e){var r=typeof n;return!!(e=e==null?9007199254740991:e)&&(r=="number"||r!="symbol"&&hn.test(n))&&n>-1&&n%1==0&&n<e},jr=function(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=9007199254740991},hr={};hr["[object Float32Array]"]=hr["[object Float64Array]"]=hr["[object Int8Array]"]=hr["[object Int16Array]"]=hr["[object Int32Array]"]=hr["[object Uint8Array]"]=hr["[object Uint8ClampedArray]"]=hr["[object Uint16Array]"]=hr["[object Uint32Array]"]=!0,hr["[object Arguments]"]=hr["[object Array]"]=hr["[object ArrayBuffer]"]=hr["[object Boolean]"]=hr["[object DataView]"]=hr["[object Date]"]=hr["[object Error]"]=hr["[object Function]"]=hr["[object Map]"]=hr["[object Number]"]=hr["[object Object]"]=hr["[object RegExp]"]=hr["[object Set]"]=hr["[object String]"]=hr["[object WeakMap]"]=!1;var Vr=function(n){return Xe(n)&&jr(n.length)&&!!hr[dt(n)]},sn=function(n){return function(e){return n(e)}},It=j(5),Rn=It.a&&It.a.isTypedArray,Xr=Rn?sn(Rn):Vr,br=Object.prototype.hasOwnProperty,dr=function(n,e){var r=lr(n),t=!r&&un(n),i=!r&&!t&&Object(Pr.a)(n),o=!r&&!t&&!i&&Xr(n),s=r||t||i||o,l=s?Br(n.length,String):[],u=l.length;for(var c in n)!e&&!br.call(n,c)||s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cn(c,u))||l.push(c);return l},Fr=Object.prototype,vr=function(n){var e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||Fr)},Cn=Je(Object.keys,Object),en=Object.prototype.hasOwnProperty,Dn=function(n){if(!vr(n))return Cn(n);var e=[];for(var r in Object(n))en.call(n,r)&&r!="constructor"&&e.push(r);return e},Wr=function(n){return n!=null&&jr(n.length)&&!Ot(n)},Bn=function(n){return Wr(n)?dr(n):Dn(n)},Yr=function(n,e){return n&&or(e,Bn(e),n)},Ht=function(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e},bt=Object.prototype.hasOwnProperty,Lt=function(n){if(!ze(n))return Ht(n);var e=vr(n),r=[];for(var t in n)(t!="constructor"||!e&&bt.call(n,t))&&r.push(t);return r},ur=function(n){return Wr(n)?dr(n,!0):Lt(n)},_r=function(n,e){return n&&or(e,ur(e),n)},vn=j(8),Mr=function(n,e){var r=-1,t=n.length;for(e||(e=Array(t));++r<t;)e[r]=n[r];return e},pn=function(n,e){for(var r=-1,t=n==null?0:n.length,i=0,o=[];++r<t;){var s=n[r];e(s,r,n)&&(o[i++]=s)}return o},ci=function(){return[]},Ka=Object.prototype.propertyIsEnumerable,Pa=Object.getOwnPropertySymbols,Ea=Pa?function(a){return a==null?[]:(a=Object(a),pn(Pa(a),function(n){return Ka.call(a,n)}))}:ci,Ga=function(n,e){return or(n,Ea(n),e)},$a=function(n,e){for(var r=-1,t=e.length,i=n.length;++r<t;)n[i+r]=e[r];return n},Ya=Object.getOwnPropertySymbols?function(a){for(var n=[];a;)$a(n,Ea(a)),a=st(a);return n}:ci,Ci=function(n,e){return or(n,Ya(n),e)},Ja=function(n,e,r){var t=e(n);return lr(n)?t:$a(t,r(n))},ta=function(n){return Ja(n,Bn,Ea)},Ca=function(n){return Ja(n,ur,Ya)},Ai=Nr(Ae.a,"DataView"),ra=Nr(Ae.a,"Promise"),Fi=Nr(Ae.a,"Set"),Aa=Nr(Ae.a,"WeakMap"),Qa=Ut(Ai),Li=Ut(Zr),Sa=Ut(ra),na=Ut(Fi),Ta=Ut(Aa),ki=dt;(Ai&&ki(new Ai(new ArrayBuffer(1)))!="[object DataView]"||Zr&&ki(new Zr)!="[object Map]"||ra&&ki(ra.resolve())!="[object Promise]"||Fi&&ki(new Fi)!="[object Set]"||Aa&&ki(new Aa)!="[object WeakMap]")&&(ki=function(n){var e=dt(n),r=e=="[object Object]"?n.constructor:void 0,t=r?Ut(r):"";if(t)switch(t){case Qa:return"[object DataView]";case Li:return"[object Map]";case Sa:return"[object Promise]";case na:return"[object Set]";case Ta:return"[object WeakMap]"}return e});var Bi=ki,vo=Object.prototype.hasOwnProperty,po=function(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&vo.call(n,"index")&&(r.index=n.index,r.input=n.input),r},ia=Ae.a.Uint8Array,ni=function(n){var e=new n.constructor(n.byteLength);return new ia(e).set(new ia(n)),e},aa=function(n,e){var r=e?ni(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)},go=/\w*$/,Za=function(n){var e=new n.constructor(n.source,go.exec(n));return e.lastIndex=n.lastIndex,e},oa=je?je.prototype:void 0,sa=oa?oa.valueOf:void 0,ii=function(n){return sa?Object(sa.call(n)):{}},mo=function(n,e){var r=e?ni(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)},Xa=function(n,e,r){var t=n.constructor;switch(e){case"[object ArrayBuffer]":return ni(n);case"[object Boolean]":case"[object Date]":return new t(+n);case"[object DataView]":return aa(n,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mo(n,r);case"[object Map]":return new t;case"[object Number]":case"[object String]":return new t(n);case"[object RegExp]":return Za(n);case"[object Set]":return new t;case"[object Symbol]":return ii(n)}},qa=Object.create,la=function(){function a(){}return function(n){if(!ze(n))return{};if(qa)return qa(n);a.prototype=n;var e=new a;return a.prototype=void 0,e}}(),eo=function(n){return typeof n.constructor!="function"||vr(n)?{}:la(st(n))},Ma=function(n){return Xe(n)&&Bi(n)=="[object Map]"},bo=It.a&&It.a.isMap,Vi=bo?sn(bo):Ma,Si=function(n){return Xe(n)&&Bi(n)=="[object Set]"},Ia=It.a&&It.a.isSet,gi=Ia?sn(Ia):Si,Hr={};Hr["[object Arguments]"]=Hr["[object Array]"]=Hr["[object ArrayBuffer]"]=Hr["[object DataView]"]=Hr["[object Boolean]"]=Hr["[object Date]"]=Hr["[object Float32Array]"]=Hr["[object Float64Array]"]=Hr["[object Int8Array]"]=Hr["[object Int16Array]"]=Hr["[object Int32Array]"]=Hr["[object Map]"]=Hr["[object Number]"]=Hr["[object Object]"]=Hr["[object RegExp]"]=Hr["[object Set]"]=Hr["[object String]"]=Hr["[object Symbol]"]=Hr["[object Uint8Array]"]=Hr["[object Uint8ClampedArray]"]=Hr["[object Uint16Array]"]=Hr["[object Uint32Array]"]=!0,Hr["[object Error]"]=Hr["[object Function]"]=Hr["[object WeakMap]"]=!1;var ja=function a(n,e,r,t,i,o){var s,l=1&e,u=2&e,c=4&e;if(r&&(s=i?r(n,t,i,o):r(n)),s!==void 0)return s;if(!ze(n))return n;var d=lr(n);if(d){if(s=po(n),!l)return Mr(n,s)}else{var f=Bi(n),h=f=="[object Function]"||f=="[object GeneratorFunction]";if(Object(Pr.a)(n))return Object(vn.a)(n,l);if(f=="[object Object]"||f=="[object Arguments]"||h&&!i){if(s=u||h?{}:eo(n),!l)return u?Ci(n,_r(s,n)):Ga(n,Yr(s,n))}else{if(!Hr[f])return i?n:{};s=Xa(n,f,l)}}o||(o=new lt);var k=o.get(n);if(k)return k;o.set(n,s),gi(n)?n.forEach(function(I){s.add(a(I,e,r,I,n,o))}):Vi(n)&&n.forEach(function(I,G){s.set(G,a(I,e,r,G,n,o))});var P=c?u?Ca:ta:u?keysIn:Bn,A=d?void 0:P(n);return it(A||n,function(I,G){A&&(I=n[G=I]),Ar(s,G,a(I,e,r,G,n,o))}),s},ua=function(n,e){return ja(n,5,e=typeof e=="function"?e:void 0)},ai=function(n){return Xe(n)&&n.nodeType===1&&!Pe(n)},zi=function(){function a(n,e){C(this,a),this._config={},e&&this.define(tn(e)),n&&this._setObjectToTarget(this._config,n)}return E(a,[{key:"set",value:function(e,r){this._setToTarget(this._config,e,r)}},{key:"define",value:function(e,r){this._setToTarget(this._config,e,r,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:L.mark(function n(){var e,r,t;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=0,r=Object.keys(this._config);case 1:if(!(e<r.length)){o.next=8;break}return t=r[e],o.next=5,t;case 5:e++,o.next=1;break;case 8:case"end":return o.stop()}},n,this)})},{key:"_setToTarget",value:function(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Pe(r))return void this._setObjectToTarget(e,r,i);var o=r.split(".");r=o.pop();var s=p(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;Pe(e[u])||(e[u]={}),e=e[u]}}catch(c){s.e(c)}finally{s.f()}if(Pe(t))return Pe(e[r])||(e[r]={}),e=e[r],void this._setObjectToTarget(e,t,i);i&&e[r]!==void 0||(e[r]=t)}},{key:"_getFromSource",value:function(e,r){var t=r.split(".");r=t.pop();var i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!Pe(e[s])){e=null;break}e=e[s]}}catch(l){i.e(l)}finally{i.f()}return e?tn(e[r]):void 0}},{key:"_setObjectToTarget",value:function(e,r,t){var i=this;Object.keys(r).forEach(function(o){i._setToTarget(e,o,r[o],t)})}}]),a}();function tn(a){return ua(a,Ra)}function Ra(a){return ai(a)?a:void 0}var Da=function(){return function n(){n.called=!0}},oi=function a(n,e){C(this,a),this.source=n,this.name=e,this.path=[],this.stop=Da(),this.off=Da()},Vn=new Array(256).fill().map(function(a,n){return("0"+n.toString(16)).slice(-2)});function ei(){var a=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Vn[a>>0&255]+Vn[a>>8&255]+Vn[a>>16&255]+Vn[a>>24&255]+Vn[n>>0&255]+Vn[n>>8&255]+Vn[n>>16&255]+Vn[n>>24&255]+Vn[e>>0&255]+Vn[e>>8&255]+Vn[e>>16&255]+Vn[e>>24&255]+Vn[r>>0&255]+Vn[r>>8&255]+Vn[r>>16&255]+Vn[r>>24&255]}var ca={get:function(n){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},me=(j(6),j(0)),si=Symbol("listeningTo"),Ui=Symbol("emitterId"),rn={on:function(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.listenTo(this,n,e,r)},once:function(n,e,r){var t=!1;this.listenTo(this,n,function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];t||(t=!0,i.off(),e.call.apply(e,[this,i].concat(s)))},r)},off:function(n,e){this.stopListening(this,n,e)},listenTo:function(n,e,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i,o;this[si]||(this[si]={});var s=this[si];da(n)||Wi(n);var l=da(n);(i=s[l])||(i=s[l]={emitter:n,callbacks:{}}),(o=i.callbacks[e])||(o=i.callbacks[e]=[]),o.push(r),function(I,G){var Z=Na(I);if(!Z[G]){for(var q=G,ae=null,be=[];q!==""&&!Z[q];)Z[q]={callbacks:[],childEvents:[]},be.push(Z[q]),ae&&Z[q].childEvents.push(ae),ae=q,q=q.substr(0,q.lastIndexOf(":"));if(q!==""){var Re=p(be),Ne;try{for(Re.s();!(Ne=Re.n()).done;){var Ze=Ne.value;Ze.callbacks=Z[q].callbacks.slice()}}catch(_t){Re.e(_t)}finally{Re.f()}Z[q].childEvents.push(ae)}}}(n,e);var u=Fa(n,e),c=ca.get(t.priority),d={callback:r,priority:c},f=p(u),h;try{for(f.s();!(h=f.n()).done;){for(var k=h.value,P=!1,A=0;A<k.length;A++)if(k[A].priority<c){k.splice(A,0,d),P=!0;break}P||k.push(d)}}catch(I){f.e(I)}finally{f.f()}},stopListening:function(n,e,r){var t=this[si],i=n&&da(n),o=t&&i&&t[i],s=o&&e&&o.callbacks[e];if(!(!t||n&&!o||e&&!s))if(r)Hi(n,e,r);else if(s){for(;r=s.pop();)Hi(n,e,r);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(n,e);delete t[i]}else{for(i in t)this.stopListening(t[i].emitter);delete this[si]}},fire:function(n){try{for(var e=n instanceof oi?n:new oi(this,n),r=e.name,t=function f(h,k){var P;return!h._events||!(P=h._events[k])||!P.callbacks.length?k.indexOf(":")>-1?f(h,k.substr(0,k.lastIndexOf(":"))):null:P.callbacks}(this,r),i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(e.path.push(this),t){var l=[e].concat(o);t=Array.from(t);for(var u=0;u<t.length&&(t[u].callback.apply(this,l),e.off.called&&(delete e.off.called,Hi(this,r,t[u].callback)),!e.stop.called);u++);}if(this._delegations){var c=this._delegations.get(r),d=this._delegations.get("*");c&&yn(c,e,o),d&&yn(d,e,o)}return e.return}catch(f){me.b.rethrowUnexpectedError(f,this)}},delegate:function(){for(var n=this,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return{to:function(o,s){n._delegations||(n._delegations=new Map),r.forEach(function(l){var u=n._delegations.get(l);u?u.set(o,s):n._delegations.set(l,new Map([[o,s]]))})}}},stopDelegating:function(n,e){if(this._delegations)if(n)if(e){var r=this._delegations.get(n);r&&r.delete(e)}else this._delegations.delete(n);else this._delegations.clear()}};function Wi(a,n){a[Ui]||(a[Ui]=n||ei())}function da(a){return a[Ui]}function Na(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function Fa(a,n){var e=Na(a)[n];if(!e)return[];for(var r=[e.callbacks],t=0;t<e.childEvents.length;t++){var i=Fa(a,e.childEvents[t]);r=r.concat(i)}return r}function yn(a,n,e){var r=p(a),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=H(i,2),s=o[0],l=o[1];l?typeof l=="function"&&(l=l(n.name)):l=n.name;var u=new oi(n.source,l);u.path=z(n.path),s.fire.apply(s,[u].concat(z(e)))}}catch(c){r.e(c)}finally{r.f()}}function Hi(a,n,e){var r=Fa(a,n),t=p(r),i;try{for(t.s();!(i=t.n()).done;)for(var o=i.value,s=0;s<o.length;s++)o[s].callback==e&&(o.splice(s,1),s--)}catch(l){t.e(l)}finally{t.f()}}function Hn(a){return!(!a||!a[Symbol.iterator])}function rr(a){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];e.forEach(function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(i){if(!(i in a.prototype)){var o=Object.getOwnPropertyDescriptor(t,i);o.enumerable=!1,Object.defineProperty(a.prototype,i,o)}})})}var Un=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};C(this,a);var r=Hn(n);if(r||(e=n),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r){var t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}}catch(s){t.e(s)}finally{t.f()}}}return E(a,[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(e,r){var t=this._getItemIdBeforeAdding(e);if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new me.b("collection-add-item-invalid-index",this);return this._items.splice(r,0,e),this._itemMap.set(t,e),this.fire("add",e,r),this}},{key:"get",value:function(e){var r;if(typeof e=="string")r=this._itemMap.get(e);else{if(typeof e!="number")throw new me.b("collection-get-invalid-arg: Index or id must be given.",this);r=this._items[e]}return r||null}},{key:"has",value:function(e){if(typeof e=="string")return this._itemMap.has(e);{var r=e[this._idProperty];return this._itemMap.has(r)}}},{key:"getIndex",value:function(e){var r;return r=typeof e=="string"?this._itemMap.get(e):e,this._items.indexOf(r)}},{key:"remove",value:function(e){var r,t,i,o=!1,s=this._idProperty;if(typeof e=="string"?(t=e,i=this._itemMap.get(t),o=!i,i&&(r=this._items.indexOf(i))):typeof e=="number"?(r=e,i=this._items[r],o=!i,i&&(t=i[s])):(i=e,t=i[s],r=this._items.indexOf(i),o=r==-1||!this._itemMap.get(t)),o)throw new me.b("collection-remove-404: Item not found.",this);this._items.splice(r,1),this._itemMap.delete(t);var l=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(l),this.fire("remove",i,r),i}},{key:"map",value:function(e,r){return this._items.map(e,r)}},{key:"find",value:function(e,r){return this._items.find(e,r)}},{key:"filter",value:function(e,r){return this._items.filter(e,r)}},{key:"clear",value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:"bindTo",value:function(e){var r=this;if(this._bindToCollection)throw new me.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:function(i){r._setUpBindToBinding(function(o){return new i(o)})},using:function(i){typeof i=="function"?r._setUpBindToBinding(function(o){return i(o)}):r._setUpBindToBinding(function(o){return o[i]})}}}},{key:"_setUpBindToBinding",value:function(e){var r=this,t=this._bindToCollection,i=function(c,d,f){var h=t._bindToCollection==r,k=t._bindToInternalToExternalMap.get(d);if(h&&k)r._bindToExternalToInternalMap.set(d,k),r._bindToInternalToExternalMap.set(k,d);else{var P=e(d);if(!P)return void r._skippedIndexesFromExternal.push(f);var A=f,I=p(r._skippedIndexesFromExternal),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value;f>Z&&A--}}catch(Ne){I.e(Ne)}finally{I.f()}var q=p(t._skippedIndexesFromExternal),ae;try{for(q.s();!(ae=q.n()).done;){var be=ae.value;A>=be&&A++}}catch(Ne){q.e(Ne)}finally{q.f()}r._bindToExternalToInternalMap.set(d,P),r._bindToInternalToExternalMap.set(P,d),r.add(P,A);for(var Re=0;Re<t._skippedIndexesFromExternal.length;Re++)A<=t._skippedIndexesFromExternal[Re]&&t._skippedIndexesFromExternal[Re]++}},o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i(0,l,t.getIndex(l))}}catch(u){o.e(u)}finally{o.f()}this.listenTo(t,"add",i),this.listenTo(t,"remove",function(u,c,d){var f=r._bindToExternalToInternalMap.get(c);f&&r.remove(f),r._skippedIndexesFromExternal=r._skippedIndexesFromExternal.reduce(function(h,k){return d<k&&h.push(k-1),d>k&&h.push(k),h},[])})}},{key:"_getItemIdBeforeAdding",value:function(e){var r=this._idProperty,t;if(r in e){if(t=e[r],typeof t!="string")throw new me.b("collection-add-invalid-id",this);if(this.get(t))throw new me.b("collection-add-item-already-exists",this)}else e[r]=t=ei();return t}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}}]),a}();rr(Un,rn);var mi=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];C(this,a),this._context=n,this._plugins=new Map,this._availablePlugins=new Map;var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.pluginName&&this._availablePlugins.set(o.pluginName,o)}}catch(h){t.e(h)}finally{t.f()}this._contextPlugins=new Map;var s=p(r),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=H(u,2),d=c[0],f=c[1];this._contextPlugins.set(d,f),this._contextPlugins.set(f,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}}catch(h){s.e(h)}finally{s.f()}}return E(a,[{key:Symbol.iterator,value:L.mark(function n(){var e,r,t;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._plugins),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=11;break}if(t=r.value,o.t0=typeof t[0]=="function",!o.t0){o.next=9;break}return o.next=9,t;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),e.e(o.t1);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},n,this,[[1,13,16,19]])})},{key:"get",value:function(e){var r=this._plugins.get(e);if(!r){var t="plugincollection-plugin-not-loaded: The requested plugin is not loaded.",i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new me.b(t,this._context,{plugin:i})}return r}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=this,i=this._context,o=new Set,s=[],l=P(e),u=P(r),c=function(A){var I=[],G=p(A),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;k(q)||I.push(q)}}catch(ae){G.e(ae)}finally{G.f()}return I.length?I:null}(e);if(c){var d="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(me.a)(d),{plugins:c}),Promise.reject(new me.b(d,i,{plugins:c}))}return Promise.all(l.map(f)).then(function(){return h(s,"init")}).then(function(){return h(s,"afterInit")}).then(function(){return s});function f(A){if(!u.includes(A)&&!t._plugins.has(A)&&!o.has(A))return function(I){return new Promise(function(G){o.add(I),I.requires&&I.requires.forEach(function(q){var ae=k(q);if(I.isContextPlugin&&!ae.isContextPlugin)throw new me.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:ae.name,requiredBy:I.name});if(r.includes(ae))throw new me.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:ae.name,requiredBy:I.name});f(ae)});var Z=t._contextPlugins.get(I)||new I(i);t._add(I,Z),s.push(Z),G()})}(A).catch(function(I){throw console.error(Object(me.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:A}),I})}function h(A,I){return A.reduce(function(G,Z){return Z[I]?t._contextPlugins.has(Z)?G:G.then(Z[I].bind(Z)):G},Promise.resolve())}function k(A){return typeof A=="function"?A:t._availablePlugins.get(A)}function P(A){return A.map(function(I){return k(I)}).filter(function(I){return!!I})}}},{key:"destroy",value:function(){var e=[],r=p(this),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=H(i,2),s=o[1];typeof s.destroy!="function"||this._contextPlugins.has(s)||e.push(s.destroy())}}catch(l){r.e(l)}finally{r.f()}return Promise.all(e)}},{key:"_add",value:function(e,r){this._plugins.set(e,r);var t=e.pluginName;if(t){if(this._plugins.has(t))throw new me.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:t,plugin1:this._plugins.get(t).constructor,plugin2:e});this._plugins.set(t,r)}}}]),a}();function to(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(typeof e!="number")throw new me.b("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:e});var r=Object.keys(window.CKEDITOR_TRANSLATIONS).length;r===1&&(a=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var t=n.id||n.string;if(r===0||!function(l,u){return!!window.CKEDITOR_TRANSLATIONS[l]&&!!window.CKEDITOR_TRANSLATIONS[l].dictionary[u]}(a,t))return e!==1?n.plural:n.string;var i=window.CKEDITOR_TRANSLATIONS[a].dictionary,o=window.CKEDITOR_TRANSLATIONS[a].getPluralForm||function(l){return l===1?0:1};if(typeof i[t]=="string")return i[t];var s=Number(o(e));return i[t][s]}rr(mi,rn),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var Ee=["ar","fa","he","ku","ug"],V=function(){function a(){var n=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};C(this,a),this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=oe(this.uiLanguage),this.contentLanguageDirection=oe(this.contentLanguage),this.t=function(r,t){return n._t(r,t)}}return E(a,[{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}},{key:"_t",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Array.isArray(r)||(r=[r]),typeof e=="string"&&(e={string:e});var t=e.plural?r[0]:1;return function(i,o){return i.replace(/%(\d+)/g,function(s,l){return l<o.length?o[l]:s})}(to(this.uiLanguage,e,t),r)}}]),a}();function oe(a){return Ee.includes(a)?"rtl":"ltr"}var fe=function(){function a(n){C(this,a),this.config=new zi(n,this.constructor.defaultConfig);var e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new mi(this,e);var r=this.config.get("language")||{};this.locale=new V({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Un,this._contextOwner=null}return E(a,[{key:"initPlugins",value:function(){var e=this.config.get("plugins")||[],r=p(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(typeof i!="function")throw new me.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new me.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:i})}}catch(o){r.e(o)}finally{r.f()}return this.plugins.init(e)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,function(r){return r.destroy()})).then(function(){return e.plugins.destroy()})}},{key:"_addEditor",value:function(e,r){if(this._contextOwner)throw new me.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(e),r&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e={},r=p(this.config.names()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i))}}catch(o){r.e(o)}finally{r.f()}return e}}],[{key:"create",value:function(e){var r=this;return new Promise(function(t){var i=new r(e);t(i.initPlugins().then(function(){return i}))})}}]),a}();function le(a,n){for(var e=Math.min(a.length,n.length),r=0;r<e;r++)if(a[r]!=n[r])return r;return a.length==n.length?"same":a.length<n.length?"prefix":"extension"}var He=function(n){return ja(n,4)},ct=function(){function a(n){C(this,a),this.document=n,this.parent=null}return E(a,[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new me.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],r=this;r.parent;)e.unshift(r.index),r=r.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this:this.parent;t;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}},{key:"getCommonAncestor",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.getAncestors(r),i=e.getAncestors(r),o=0;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var r=this.getPath(),t=e.getPath(),i=le(r,t);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<t[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,r){this.fire("change:"+e,r),this.parent&&this.parent._fireChange(e,r)}},{key:"toJSON",value:function(){var e=He(this);return delete e.parent,e}},{key:"is",value:function(e){return e==="node"||e==="view:node"}}]),a}();rr(ct,rn);var tt=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i._textData=t,i}return E(e,[{key:"is",value:function(t){return t==="text"||t==="view:text"||t==="node"||t==="view:node"}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}},{key:"isSimilar",value:function(t){return t instanceof e&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new e(this.document,this.data)}}]),e}(ct),Ft=function(){function a(n,e,r){if(C(this,a),this.textNode=n,e<0||e>n.data.length)throw new me.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(r<0||e+r>n.data.length)throw new me.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=n.data.substring(e,e+r),this.offsetInText=e}return E(a,[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"is",value:function(e){return e==="textProxy"||e==="view:textProxy"}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this.textNode:this.parent;t!==null;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}}]),a}();function yr(a){return Hn(a)?new Map(a):function(n){var e=new Map;for(var r in n)e.set(r,n[r]);return e}(a)}var Sr=function(){function a(){C(this,a),this._patterns=[],this.add.apply(this,arguments)}return E(a,[{key:"add",value:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var i=0,o=r;i<o.length;i++){var s=o[i];(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),s.classes&&(typeof s.classes=="string"||s.classes instanceof RegExp)&&(s.classes=[s.classes]),this._patterns.push(s)}}},{key:"match",value:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var i=0,o=r;i<o.length;i++){var s=o[i],l=p(this._patterns),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=bi(s,c);if(d)return{element:s,pattern:c,match:d}}}catch(f){l.e(f)}finally{l.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];for(var o=0,s=t;o<s.length;o++){var l=s[o],u=p(this._patterns),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=bi(l,d);f&&e.push({element:l,pattern:d,match:f})}}catch(h){u.e(h)}finally{u.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(this._patterns.length!==1)return null;var e=this._patterns[0],r=e.name;return typeof e=="function"||!r||r instanceof RegExp?null:r}}]),a}();function bi(a,n){if(typeof n=="function")return n(a);var e={};return n.name&&(e.name=function(r,t){return r instanceof RegExp?r.test(t):r===t}(n.name,a.name),!e.name)||n.attributes&&(e.attributes=function(r,t){var i=[];for(var o in r){var s=r[o];if(!t.hasAttribute(o))return null;{var l=t.getAttribute(o);if(s===!0)i.push(o);else if(s instanceof RegExp){if(!s.test(l))return null;i.push(o)}else{if(l!==s)return null;i.push(o)}}}return i}(n.attributes,a),!e.attributes)?null:!(n.classes&&(e.classes=function(r,t){var i=[],o=p(r),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l instanceof RegExp){var u=t.getClassNames(),c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;l.test(f)&&i.push(f)}}catch(h){c.e(h)}finally{c.f()}if(i.length===0)return null}else{if(!t.hasClass(l))return null;i.push(l)}}}catch(h){o.e(h)}finally{o.f()}return i}(n.classes,a),!e.classes))&&!(n.styles&&(e.styles=function(r,t){var i=[];for(var o in r){var s=r[o];if(!t.hasStyle(o))return null;{var l=t.getStyle(o);if(s instanceof RegExp){if(!s.test(l))return null;i.push(o)}else{if(l!==s)return null;i.push(o)}}}return i}(n.styles,a),!e.styles))&&e}var Wn=function(n){return typeof n=="symbol"||Xe(n)&&dt(n)=="[object Symbol]"},di=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_i=/^\w*$/,Ti=function(n,e){if(lr(n))return!1;var r=typeof n;return!(r!="number"&&r!="symbol"&&r!="boolean"&&n!=null&&!Wn(n))||_i.test(n)||!di.test(n)||e!=null&&n in Object(e)};function Jn(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var e=function r(){var t=arguments,i=n?n.apply(this,t):t[0],o=r.cache;if(o.has(i))return o.get(i);var s=a.apply(this,t);return r.cache=o.set(i,s)||o,s};return e.cache=new(Jn.Cache||de),e}Jn.Cache=de;var Qn=Jn,Ki=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fa=/\\(\\)?/g,kn=function(a){var n=Qn(a,function(r){return e.size===500&&e.clear(),r}),e=n.cache;return n}(function(a){var n=[];return a.charCodeAt(0)===46&&n.push(""),a.replace(Ki,function(e,r,t,i){n.push(t?i.replace(fa,"$1"):r||e)}),n}),li=function(n,e){for(var r=-1,t=n==null?0:n.length,i=Array(t);++r<t;)i[r]=e(n[r],r,n);return i},Gi=je?je.prototype:void 0,$o=Gi?Gi.toString:void 0,yo=function a(n){if(typeof n=="string")return n;if(lr(n))return li(n,a)+"";if(Wn(n))return $o?$o.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},ro=function(n){return n==null?"":yo(n)},La=function(n,e){return lr(n)?n:Ti(n,e)?[n]:kn(ro(n))},As=function(n){var e=n==null?0:n.length;return e?n[e-1]:void 0},wo=function(n){if(typeof n=="string"||Wn(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},Yo=function(n,e){for(var r=0,t=(e=La(e,n)).length;n!=null&&r<t;)n=n[wo(e[r++])];return r&&r==t?n:void 0},Jo=function(n,e,r){var t=-1,i=n.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++t<i;)o[t]=n[t+e];return o},Qo=function(n,e){return e.length<2?n:Yo(n,Jo(e,0,-1))},hl=function(n,e){return e=La(e,n),(n=Qo(n,e))==null||delete n[wo(As(e))]},Ss=function(n,e){return n==null||hl(n,e)},Ba=function(n,e,r){var t=n==null?void 0:Yo(n,e);return t===void 0?r:t},no=function(n,e,r){(r!==void 0&&!qt(n[e],r)||r===void 0&&!(e in n))&&pt(n,e,r)},Ts=function(a){return function(n,e,r){for(var t=-1,i=Object(n),o=r(n),s=o.length;s--;){var l=o[a?s:++t];if(e(i[l],l,i)===!1)break}return n}}(),Va=function(n){return Xe(n)&&Wr(n)},ko=function(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]},Zo=function(n){return or(n,ur(n))},_o=function(n,e,r,t,i,o,s){var l=ko(n,r),u=ko(e,r),c=s.get(u);if(c)no(n,r,c);else{var d=o?o(l,u,r+"",n,e,s):void 0,f=d===void 0;if(f){var h=lr(u),k=!h&&Object(Pr.a)(u),P=!h&&!k&&Xr(u);d=u,h||k||P?lr(l)?d=l:Va(l)?d=Mr(l):k?(f=!1,d=Object(vn.a)(u,!0)):P?(f=!1,d=mo(u,!0)):d=[]:Pe(u)||un(u)?(d=l,un(l)?d=Zo(l):ze(l)&&!Ot(l)||(d=eo(u))):f=!1}f&&(s.set(u,d),i(d,u,t,o,s),s.delete(u)),no(n,r,d)}},vl=function a(n,e,r,t,i){n!==e&&Ts(e,function(o,s){if(i||(i=new lt),ze(o))_o(n,e,s,r,a,t,i);else{var l=t?t(ko(n,s),o,s+"",n,e,i):void 0;l===void 0&&(l=o),no(n,s,l)}},ur)},Xo=function(n){return n},Ms=function(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)},Is=Math.max,js=function(n,e,r){return e=Is(e===void 0?n.length-1:e,0),function(){for(var t=arguments,i=-1,o=Is(t.length-e,0),s=Array(o);++i<o;)s[i]=t[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=t[i];return l[e]=r(s),Ms(n,this,l)}},xo=function(n){return function(){return n}},qo=at?function(a,n){return at(a,"toString",{configurable:!0,enumerable:!1,value:xo(n),writable:!0})}:Xo,ha=Date.now,es=function(a){var n=0,e=0;return function(){var r=ha(),t=16-(r-e);if(e=r,t>0){if(++n>=800)return arguments[0]}else n=0;return a.apply(void 0,arguments)}}(qo),Rs=function(n,e){return es(js(n,e,Xo),n+"")},Ds=function(n,e,r){if(!ze(r))return!1;var t=typeof e;return!!(t=="number"?Wr(r)&&cn(e,r.length):t=="string"&&e in r)&&qt(r[e],n)},ts=function(n){return Rs(function(e,r){var t=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&Ds(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++t<i;){var l=r[t];l&&n(e,l,t,o)}return e})},Oo=ts(function(a,n,e){vl(a,n,e)}),Ns=function(n,e,r,t){if(!ze(n))return n;for(var i=-1,o=(e=La(e,n)).length,s=o-1,l=n;l!=null&&++i<o;){var u=wo(e[i]),c=r;if(i!=s){var d=l[u];(c=t?t(d,u,l):void 0)===void 0&&(c=ze(d)?d:cn(e[i+1])?[]:{})}Ar(l,u,c),l=l[u]}return n},Fs=function(n,e,r){return n==null?n:Ns(n,e,r)},Ls=function(){function a(n){C(this,a),this._styles={},this._styleProcessor=n}return E(a,[{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(e){this.clear();for(var r=Array.from(function(c){var d=null,f=0,h=0,k=null,P=new Map;if(c==="")return P;c.charAt(c.length-1)!=";"&&(c+=";");for(var A=0;A<c.length;A++){var I=c.charAt(A);if(d===null)switch(I){case":":k||(k=c.substr(f,A-f),h=A+1);break;case'"':case"'":d=I;break;case";":{var G=c.substr(h,A-h);k&&P.set(k.trim(),G.trim()),k=null,f=A+1;break}}else I===d&&(d=null)}return P}(e).entries()),t=0,i=r;t<i.length;t++){var o=i[t],s=H(o,2),l=s[0],u=s[1];this._styleProcessor.toNormalizedForm(l,u,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var r=this._styleProcessor.getReducedForm(e,this._styles).find(function(t){var i=H(t,1),o=i[0];return o===e});return Array.isArray(r)}},{key:"set",value:function(e,r){if(ze(e))for(var t=0,i=Object.entries(e);t<i.length;t++){var o=i[t],s=H(o,2),l=s[0],u=s[1];this._styleProcessor.toNormalizedForm(l,u,this._styles)}else this._styleProcessor.toNormalizedForm(e,r,this._styles)}},{key:"remove",value:function(e){var r=Po(e);Ss(this._styles,r),delete this._styles[e],this._cleanEmptyObjectsOnPath(r)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(e){return e.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!ze(this._styles[e]))return this._styles[e];var r=this._styleProcessor.getReducedForm(e,this._styles).find(function(t){var i=H(t,1),o=i[0];return o===e});return Array.isArray(r)?r[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map(function(e){var r=H(e,1),t=r[0];return t})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],r=Object.keys(this._styles),t=0,i=r;t<i.length;t++){var o=i[t];e.push.apply(e,z(this._styleProcessor.getReducedForm(o,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var r=e.split(".");if(r.length>1){var t=r.splice(0,r.length-1).join("."),i=Ba(this._styles,t);!i||!Array.from(Object.keys(i)).length&&this.remove(t)}}}]),a}(),Bs=function(){function a(){C(this,a),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return E(a,[{key:"toNormalizedForm",value:function(e,r,t){if(ze(r))Eo(t,Po(e),r);else if(this._normalizers.has(e)){var i=this._normalizers.get(e),o=i(r),s=o.path,l=o.value;Eo(t,s,l)}else Eo(t,e,r)}},{key:"getNormalized",value:function(e,r){if(!e)return Oo({},r);if(r[e]!==void 0)return r[e];if(this._extractors.has(e)){var t=this._extractors.get(e);if(typeof t=="string")return Ba(r,t);var i=t(e,r);if(i)return i}return Ba(r,Po(e))}},{key:"getReducedForm",value:function(e,r){var t=this.getNormalized(e,r);return t===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(t):[[e,t]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,r){this._normalizers.set(e,r)}},{key:"setExtractor",value:function(e,r){this._extractors.set(e,r)}},{key:"setReducer",value:function(e,r){this._reducers.set(e,r)}},{key:"setStyleRelation",value:function(e,r){this._mapStyleNames(e,r);var t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._mapStyleNames(o,[e])}}catch(s){t.e(s)}finally{t.f()}}},{key:"_mapStyleNames",value:function(e,r){var t;this._consumables.has(e)||this._consumables.set(e,[]),(t=this._consumables.get(e)).push.apply(t,z(r))}}]),a}();function Po(a){return a.replace("-",".")}function Eo(a,n,e){var r=e;ze(e)&&(r=Oo({},Ba(a,n),e)),Fs(a,n,r)}var xi=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;if(C(this,e),s=n.call(this,r),s.name=t,s._attrs=function(u){u=yr(u);var c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=H(f,2),k=h[0],P=h[1];P===null?u.delete(k):typeof P!="string"&&u.set(k,String(P))}}catch(A){c.e(A)}finally{c.f()}return u}(i),s._children=[],o&&s._insertChild(0,o),s._classes=new Set,s._attrs.has("class")){var l=s._attrs.get("class");rs(s._classes,l),s._attrs.delete("class")}return s._styles=new Ls(s.document.stylesProcessor),s._attrs.has("style")&&(s._styles.setTo(s._attrs.get("style")),s._attrs.delete("style")),s._customProperties=new Map,U(s)}return E(e,[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this._children.length===0}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="element"||t==="view:element"):t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:L.mark(function r(){return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this._classes.size>0,!i.t0){i.next=4;break}return i.next=4,"class";case 4:if(i.t1=this._styles.isEmpty,i.t1){i.next=8;break}return i.next=8,"style";case 8:return i.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return i.stop()}},r,this)})},{key:"getAttributes",value:L.mark(function r(){return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._attrs.entries(),"t0",1);case 1:if(i.t1=this._classes.size>0,!i.t1){i.next=5;break}return i.next=5,["class",this.getAttribute("class")];case 5:if(i.t2=this._styles.isEmpty,i.t2){i.next=9;break}return i.next=9,["style",this.getAttribute("style")];case 9:case"end":return i.stop()}},r,this)})},{key:"getAttribute",value:function(t){if(t=="class")return this._classes.size>0?z(this._classes).join(" "):void 0;if(t=="style"){var i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof e))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var i=p(this._attrs),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=H(s,2),u=l[0],c=l[1];if(!t._attrs.has(u)||t._attrs.get(u)!==c)return!1}}catch(I){i.e(I)}finally{i.f()}var d=p(this._classes),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;if(!t._classes.has(h))return!1}}catch(I){d.e(I)}finally{d.f()}var k=p(this._styles.getStyleNames()),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;if(!t._styles.has(A)||t._styles.getAsString(A)!==this._styles.getAsString(A))return!1}}catch(I){k.e(I)}finally{k.f()}return!0}},{key:"hasClass",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=0,l=i;s<l.length;s++){var u=l[s];if(!this._classes.has(u))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=0,l=i;s<l.length;s++){var u=l[s];if(!this._styles.has(u))return!1}return!0}},{key:"findAncestor",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=X(Sr,i),l=this.parent;l;){if(s.match(l))return l;l=l.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:L.mark(function r(){return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return i.stop()}},r,this)})},{key:"getIdentity",value:function(){var t=Array.from(this._classes).sort().join(","),i=this._styles.toString(),o=Array.from(this._attrs).map(function(s){return"".concat(s[0],'="').concat(s[1],'"')}).sort().join(" ");return this.name+(t==""?"":' class="'.concat(t,'"'))+(i?' style="'.concat(i,'"'):"")+(o==""?"":" "+o)}},{key:"_clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=[];if(t){var o=p(this.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.push(l._clone(t))}}catch(c){o.e(c)}finally{o.f()}}var u=new this.constructor(this.document,this.name,this._attrs,i);return u._classes=new Set(this._classes),u._styles.set(this._styles.getNormalized()),u._customProperties=new Map(this._customProperties),u.getFillerOffset=this.getFillerOffset,u}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,i){this._fireChange("children",this);var o=0,s=function(d,f){return typeof f=="string"?[new tt(d,f)]:(Hn(f)||(f=[f]),Array.from(f).map(function(h){return typeof h=="string"?new tt(d,h):h instanceof Ft?new tt(d,h.data):h}))}(this.document,i),l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(t,0,c),t++,o++}}catch(d){l.e(d)}finally{l.f()}return o}},{key:"_removeChildren",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var o=t;o<t+i;o++)this._children[o].parent=null;return this._children.splice(t,i)}},{key:"_setAttribute",value:function(t,i){i=String(i),this._fireChange("attributes",this),t=="class"?rs(this._classes,i):t=="style"?this._styles.setTo(i):this._attrs.set(t,i)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._classes.add(o)})}},{key:"_removeClass",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._classes.delete(o)})}},{key:"_setStyle",value:function(t,i){this._fireChange("attributes",this),this._styles.set(t,i)}},{key:"_removeStyle",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._styles.remove(o)})}},{key:"_setCustomProperty",value:function(t,i){this._customProperties.set(t,i)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}}]),e}(ct);function rs(a,n){var e=n.split(/\s+/);a.clear(),e.forEach(function(r){return a.add(r)})}var za=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=Co,s}return E(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}}]),e}(xi);function Co(){var a=z(this.getChildren()),n=a[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;var e=p(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(!t.is("uiElement"))return null}}catch(i){e.e(i)}finally{e.f()}return this.childCount}var va=ts(function(a,n){or(n,ur(n),a)}),$i=Symbol("observableProperties"),io=Symbol("boundObservables"),ao=Symbol("boundProperties"),ns={set:function(n,e){var r=this;if(ze(n))return void Object.keys(n).forEach(function(i){r.set(i,n[i])},this);is(this);var t=this[$i];if(n in this&&!t.has(n))throw new me.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:function(){return t.get(n)},set:function(o){var s=t.get(n),l=this.fire("set:"+n,n,o,s);l===void 0&&(l=o),s===l&&t.has(n)||(t.set(n,l),this.fire("change:"+n,n,l,s))}}),this[n]=e},bind:function(){for(var n=this,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(!r.length||!zs(r))throw new me.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(r).size!==r.length)throw new me.b("observable-bind-duplicate-properties: Properties must be unique.",this);is(this);var i=this[ao];r.forEach(function(s){if(i.has(s))throw new me.b("observable-bind-rebind: Cannot bind the same property more than once.",n)});var o=new Map;return r.forEach(function(s){var l={property:s,to:[]};i.set(s,l),o.set(s,l)}),{to:Vs,toMany:Ao,_observable:this,_bindProperties:r,_to:[],_bindings:o}},unbind:function(){var n=this;if(!!this[$i]){for(var e=this[ao],r=this[io],t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(i.length){if(!zs(i))throw new me.b("observable-unbind-wrong-properties: Properties must be strings.",this);i.forEach(function(s){var l=e.get(s);if(!!l){var u,c,d,f;l.to.forEach(function(h){u=h[0],c=h[1],d=r.get(u),f=d[c],f.delete(l),f.size||delete d[c],Object.keys(d).length||(r.delete(u),n.stopListening(u,"change"))}),e.delete(s)}})}else r.forEach(function(s,l){n.stopListening(l,"change")}),r.clear(),e.clear()}},decorate:function(n){var e=this,r=this[n];if(!r)throw new me.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:n});this.on(n,function(t,i){t.return=r.apply(e,i)}),this[n]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.fire(n,i)}}};va(ns,rn);var nn=ns;function is(a){a[$i]||(Object.defineProperty(a,$i,{value:new Map}),Object.defineProperty(a,io,{value:new Map}),Object.defineProperty(a,ao,{value:new Map}))}function Vs(){var a=this,n=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length)throw new me.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);var l={to:[]},u;return typeof o[o.length-1]=="function"&&(l.callback=o.pop()),o.forEach(function(c){if(typeof c=="string")u.properties.push(c);else{if(typeof c!="object")throw new me.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);u={observable:c,properties:[]},l.to.push(u)}}),l}.apply(void 0,arguments),e=Array.from(this._bindings.keys()),r=e.length;if(!n.callback&&n.to.length>1)throw new me.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(r>1&&n.callback)throw new me.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var t;n.to.forEach(function(i){if(i.properties.length&&i.properties.length!==r)throw new me.b("observable-bind-to-properties-length: The number of properties must match.",a);i.properties.length||(i.properties=a._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(e[0]).callback=n.callback),t=this._observable,this._to.forEach(function(i){var o=t[io],s;o.get(i.observable)||t.listenTo(i.observable,"change",function(l,u){s=o.get(i.observable)[u],s&&s.forEach(function(c){et(t,c.property)})})}),function(i){var o;i._bindings.forEach(function(s,l){i._to.forEach(function(u){o=u.properties[s.callback?0:i._bindProperties.indexOf(l)],s.to.push([u.observable,o]),function(c,d,f,h){var k=c[io],P=k.get(f),A=P||{};A[h]||(A[h]=new Set),A[h].add(d),P||k.set(f,A)}(i._observable,s,u.observable,o)})})}(this),this._bindProperties.forEach(function(i){et(a._observable,i)})}function Ao(a,n,e){if(this._bindings.size>1)throw new me.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to.apply(this,z(function(r,t){var i=r.map(function(o){return[o,t]});return Array.prototype.concat.apply([],i)}(a,n)).concat([e]))}function zs(a){return a.every(function(n){return typeof n=="string"})}function et(a,n){var e=a[ao].get(n),r;e.callback?r=e.callback.apply(a,e.to.map(function(t){return t[0][t[1]]})):(r=e.to[0],r=r[0][r[1]]),a.hasOwnProperty(n)?a[n]=r:a.set(n,r)}var pa=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,r,t,i,o),s.set("isReadOnly",!1),s.set("isFocused",!1),s.bind("isReadOnly").to(r),s.bind("isFocused").to(r,"isFocused",function(l){return l&&r.selection.editableElement==O(s)}),s.listenTo(r.selection,"change",function(){s.isFocused=r.isFocused&&r.selection.editableElement==O(s)}),s}return E(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"destroy",value:function(){this.stopListening()}}]),e}(za);rr(pa,nn);var as=Symbol("rootName"),So=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r,t),i.rootName="main",i}return E(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"rootName",get:function(){return this.getCustomProperty(as)},set:function(t){this._setCustomProperty(as,t)}},{key:"_name",set:function(t){this.name=t}}]),e}(pa),Yi=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(C(this,a),!n.boundaries&&!n.startPosition)throw new me.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new me.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this.position=Tt._createAt(n.startPosition):this.position=Tt._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return E(a,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var r,t,i;do{var o;i=this.position,o=this.next(),r=o.done,t=o.value}while(!r&&e(t));r||(this.position=i)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position.clone(),r=this.position,t=e.parent;if(t.parent===null&&e.offset===t.childCount)return{done:!0};if(t===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var i;if(t instanceof tt){if(e.isAtEnd)return this.position=Tt._createAfter(t),this._next();i=t.data[e.offset]}else i=t.getChild(e.offset);if(i instanceof xi)return this.shallow?e.offset++:e=new Tt(i,0),this.position=e,this._formatReturnValue("elementStart",i,r,e,1);if(i instanceof tt){if(this.singleCharacters)return e=new Tt(i,0),this.position=e,this._next();{var o,s=i.data.length;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new Ft(i,0,s),e=Tt._createAfter(o)):(o=new Ft(i,0,i.data.length),e.offset++),this.position=e,this._formatReturnValue("text",o,r,e,s)}}if(typeof i=="string"){var l;this.singleCharacters?l=1:l=(t===this._boundaryEndParent?this.boundaries.end.offset:t.data.length)-e.offset;var u=new Ft(t,e.offset,l);return e.offset+=l,this.position=e,this._formatReturnValue("text",u,r,e,l)}return e=Tt._createAfter(t),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",t,r,e)}},{key:"_previous",value:function(){var e=this.position.clone(),r=this.position,t=e.parent;if(t.parent===null&&e.offset===0)return{done:!0};if(t==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var i;if(t instanceof tt){if(e.isAtStart)return this.position=Tt._createBefore(t),this._previous();i=t.data[e.offset-1]}else i=t.getChild(e.offset-1);if(i instanceof xi)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",i,r,e,1)):(e=new Tt(i,i.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,r,e));if(i instanceof tt){if(this.singleCharacters)return e=new Tt(i,i.data.length),this.position=e,this._previous();{var o,s=i.data.length;if(i==this._boundaryStartParent){var l=this.boundaries.start.offset;o=new Ft(i,l,i.data.length-l),s=o.data.length,e=Tt._createBefore(o)}else o=new Ft(i,0,i.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",o,r,e,s)}}if(typeof i=="string"){var u;if(this.singleCharacters)u=1;else{var c=t===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-c}e.offset-=u;var d=new Ft(t,e.offset,u);return this.position=e,this._formatReturnValue("text",d,r,e,u)}return e=Tt._createBefore(t),this.position=e,this._formatReturnValue("elementStart",t,r,e,1)}},{key:"_formatReturnValue",value:function(e,r,t,i,o){return r instanceof Ft&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?t=Tt._createAfter(r.textNode):(i=Tt._createAfter(r.textNode),this.position=i)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?t=Tt._createBefore(r.textNode):(i=Tt._createBefore(r.textNode),this.position=i))),{done:!1,value:{type:e,item:r,previousPosition:t,nextPosition:i,length:o}}}}]),a}(),Tt=function(){function a(n,e){C(this,a),this.parent=n,this.offset=e}return E(a,[{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){var e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof pa);){if(!e.parent)return null;e=e.parent}return e}},{key:"getShiftedBy",value:function(e){var r=a._createAt(this),t=r.offset+e;return r.offset=t<0?0:t,r}},{key:"getLastMatchingPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.startPosition=this;var t=new Yi(r);return t.skip(e),t.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var r=this.getAncestors(),t=e.getAncestors(),i=0;r[i]==t[i]&&r[i];)i++;return i===0?null:r[i-1]}},{key:"is",value:function(e){return e==="position"||e==="view:position"}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var r=this.parent.is("node")?this.parent.getPath():[],t=e.parent.is("node")?e.parent.getPath():[];r.push(this.offset),t.push(e.offset);var i=le(r,t);switch(i){case"prefix":return"before";case"extension":return"after";default:return r[i]<t[i]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.startPosition=this,new Yi(e)}},{key:"clone",value:function(){return new a(this.parent,this.offset)}}],[{key:"_createAt",value:function(e,r){if(e instanceof a)return new this(e.parent,e.offset);{var t=e;if(r=="end")r=t.is("text")?t.data.length:t.childCount;else{if(r=="before")return this._createBefore(t);if(r=="after")return this._createAfter(t);if(r!==0&&!r)throw new me.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",t)}return new a(t,r)}}},{key:"_createAfter",value:function(e){if(e.is("textProxy"))return new a(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new me.b("view-position-after-root: You can not make position after root.",e,{root:e});return new a(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("textProxy"))return new a(e.textNode,e.offsetInText);if(!e.parent)throw new me.b("view-position-before-root: You can not make position before root.",e,{root:e});return new a(e.parent,e.index)}}]),a}(),Cr=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;C(this,a),this.start=n.clone(),this.end=e?e.clone():n.clone()}return E(a,[{key:Symbol.iterator,value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(new Yi({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(oo,{direction:"backward"}),r=this.end.getLastMatchingPosition(oo);return e.parent.is("text")&&e.isAtStart&&(e=Tt._createBefore(e.parent)),r.parent.is("text")&&r.isAtEnd&&(r=Tt._createAfter(r.parent)),new a(e,r)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(oo);if(e.isAfter(this.end)||e.isEqual(this.end))return new a(e,e);var r=this.end.getLastMatchingPosition(oo,{direction:"backward"}),t=e.nodeAfter,i=r.nodeBefore;return t&&t.is("text")&&(e=new Tt(t,0)),i&&i.is("text")&&(r=new Tt(i,i.data.length)),new a(e,r)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.isCollapsed&&(r=!1);var t=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return t&&i}},{key:"getDifference",value:function(e){var r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new a(this.start,e.start)),this.containsPosition(e.end)&&r.push(new a(e.end,this.end))):r.push(this.clone()),r}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var r=this.start,t=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(t=e.end),new a(r,t)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.boundaries=this,new Yi(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),e&&e.is("element")&&e===r?e:null}},{key:"clone",value:function(){return new a(this.start,this.end)}},{key:"getItems",value:L.mark(function n(){var e,r,t,i,o,s=arguments;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,r=new Yi(e),t=p(r),u.prev=4,t.s();case 6:if((i=t.n()).done){u.next=12;break}return o=i.value,u.next=10,o.item;case 10:u.next=6;break;case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(4),t.e(u.t0);case 17:return u.prev=17,t.f(),u.finish(17);case 20:case"end":return u.stop()}},n,this,[[4,14,17,20]])})},{key:"getPositions",value:L.mark(function n(){var e,r,t,i,o,s=arguments;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,r=new Yi(e),u.next=5,r.position;case 5:t=p(r),u.prev=6,t.s();case 8:if((i=t.n()).done){u.next=14;break}return o=i.value,u.next=12,o.nextPosition;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),t.e(u.t0);case 19:return u.prev=19,t.f(),u.finish(19);case 22:case"end":return u.stop()}},n,this,[[6,16,19,22]])})},{key:"is",value:function(e){return e==="range"||e==="view:range"}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}}],[{key:"_createFromParentsAndOffsets",value:function(e,r,t,i){return new this(new Tt(e,r),new Tt(t,i))}},{key:"_createFromPositionAndShift",value:function(e,r){var t=e,i=e.getShiftedBy(r);return r>0?new this(t,i):new this(i,t)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var r=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Tt._createBefore(e),r)}}]),a}();function oo(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}function ga(a){var n=0,e=p(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;n++}}catch(i){e.e(i)}finally{e.f()}return n}var pr=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;C(this,a),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(n,e,r)}return E(a,[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return this.rangeCount===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:L.mark(function n(){var e,r,t;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._ranges),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return t=r.value,o.next=7,t.clone();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.start.isBefore(e.start)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var e=null,r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.end.isAfter(e.end)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=!1,s=p(e._ranges),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(i.isEqual(u)){o=!0;break}}}catch(c){s.e(c)}finally{s.f()}if(!o)return!1}}catch(c){r.e(c)}finally{r.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var r=ga(this.getRanges());if(r!=ga(e.getRanges()))return!1;if(r==0)return!0;var t=p(this.getRanges()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o=o.getTrimmed();var s=!1,l=p(e.getRanges()),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c=c.getTrimmed(),o.start.isEqual(c.start)&&o.end.isEqual(c.end)){s=!0;break}}}catch(d){l.e(d)}finally{l.f()}if(!s)return!1}}catch(d){t.e(d)}finally{t.f()}return!0}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,r,t){if(e===null)this._setRanges([]),this._setFakeOptions(r);else if(e instanceof a||e instanceof so)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Cr)this._setRanges([e],r&&r.backward),this._setFakeOptions(r);else if(e instanceof Tt)this._setRanges([new Cr(e)]),this._setFakeOptions(r);else if(e instanceof ct){var i=!!t&&!!t.backward,o;if(r===void 0)throw new me.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o=r=="in"?Cr._createIn(e):r=="on"?Cr._createOn(e):new Cr(Tt._createAt(e,r)),this._setRanges([o],i),this._setFakeOptions(t)}else{if(!Hn(e))throw new me.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(e,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}},{key:"setFocus",value:function(e,r){if(this.anchor===null)throw new me.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);var t=Tt._createAt(e,r);if(t.compareWith(this.focus)!="same"){var i=this.anchor;this._ranges.pop(),t.compareWith(i)=="before"?this._addRange(new Cr(t,i),!0):this._addRange(new Cr(i,t)),this.fire("change")}}},{key:"is",value:function(e){return e==="selection"||e==="view:selection"}},{key:"_setRanges",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Array.from(e),this._ranges=[];var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._addRange(o)}}catch(s){t.e(s)}finally{t.f()}this._lastRangeBackward=!!r}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(e instanceof Cr))throw new me.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!r}},{key:"_pushRange",value:function(e){var r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(e.isIntersecting(i))throw new me.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:i})}}catch(o){r.e(o)}finally{r.f()}this._ranges.push(new Cr(e.start,e.end))}}]),a}();rr(pr,rn);var so=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;C(this,a),this._selection=new pr,this._selection.delegate("change").to(this),this._selection.setTo(n,e,r)}return E(a,[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return e==="selection"||e=="documentSelection"||e=="view:selection"||e=="view:documentSelection"}},{key:"_setTo",value:function(e,r,t){this._selection.setTo(e,r,t)}},{key:"_setFocus",value:function(e,r){this._selection.setFocus(e,r)}}]),a}();rr(so,rn);var Zn=function(){function a(n){C(this,a),this.selection=new so,this.roots=new Un({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return E(a,[{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map(function(e){return e.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(e){var r=!1;do{var t=p(this._postFixers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(r=o(e),r)break}}catch(s){t.e(s)}finally{t.f()}}while(r)}}]),a}();rr(Zn,nn);var Ji=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=To,s._priority=10,s._id=null,s._clonesGroup=null,s}return E(e,[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(this.id===null)throw new me.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"isSimilar",value:function(t){return this.id!==null||t.id!==null?this.id===t.id:m(S(e.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var i=m(S(e.prototype),"_clone",this).call(this,t);return i._priority=this._priority,i._id=this._id,i}}]),e}(xi);function To(){if(Mo(this))return null;for(var a=this.parent;a&&a.is("attributeElement");){if(Mo(a)>1)return null;a=a.parent}return!a||Mo(a)>1?null:this.childCount}function Mo(a){return Array.from(a.getChildren()).filter(function(n){return!n.is("uiElement")}).length}Ji.DEFAULT_PRIORITY=10;var Io=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=Us,s}return E(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"_insertChild",value:function(t,i){if(i&&(i instanceof ct||Array.from(i).length>0))throw new me.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,i])}}]),e}(xi);function Us(){return null}var jo=navigator.userAgent.toLowerCase(),y={isMac:function(a){return a.indexOf("macintosh")>-1}(jo),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(jo),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(jo),isAndroid:function(a){return a.indexOf("android")>-1}(jo),features:{isRegExpUnicodePropertySupported:function(){var a=!1;try{a="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch(n){}return a}()}},g={"\u2318":"ctrl","\u21E7":"shift","\u2325":"alt"},b={ctrl:"\u2318",shift:"\u21E7",alt:"\u2325"},_=function(){for(var a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},n=65;n<=90;n++){var e=String.fromCharCode(n);a[e.toLowerCase()]=n}for(var r=48;r<=57;r++)a[r-48]=r;for(var t=112;t<=123;t++)a["f"+(t-111)]=t;return a}();function ie(a){var n;if(typeof a=="string"){if(n=_[a.toLowerCase()],!n)throw new me.b("keyboard-unknown-key: Unknown key name.",null,{key:a})}else n=a.keyCode+(a.altKey?_.alt:0)+(a.ctrlKey?_.ctrl:0)+(a.shiftKey?_.shift:0);return n}function we(a){return typeof a=="string"&&(a=_e(a)),a.map(function(n){return typeof n=="string"?ie(n):n}).reduce(function(n,e){return e+n},0)}function nt(a){return y.isMac?_e(a).map(function(n){return b[n.toLowerCase()]||n}).reduce(function(n,e){return n.slice(-1)in g?n+e:n+"+"+e}):a}function _e(a){return a.split(/\s*\+\s*/)}var Qe=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,r,t,i,o),s.getFillerOffset=ut,s}return E(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"_insertChild",value:function(t,i){if(i&&(i instanceof ct||Array.from(i).length>0))throw new me.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var i=t.createElement(this.name),o=p(this.getAttributeKeys()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.setAttribute(l,this.getAttribute(l))}}catch(u){o.e(u)}finally{o.f()}return i}}]),e}(xi);function Nt(a){a.document.on("keydown",function(n,e){return function(r,t,i){if(t.keyCode==_.arrowright){var o=t.domTarget.ownerDocument.defaultView.getSelection(),s=o.rangeCount==1&&o.getRangeAt(0).collapsed;if(s||t.shiftKey){var l=o.focusNode,u=o.focusOffset,c=i.domPositionToView(l,u);if(c===null)return;var d=!1,f=c.getLastMatchingPosition(function(k){return k.item.is("uiElement")&&(d=!0),!(!k.item.is("uiElement")&&!k.item.is("attributeElement"))});if(d){var h=i.viewPositionToDom(f);s?o.collapse(h.parent,h.offset):o.extend(h.parent,h.offset)}}}}(0,e,a.domConverter)})}function ut(){return null}var Bt=function(){function a(n,e){C(this,a),this.document=n,this._children=[],e&&this._insertChild(0,e)}return E(a,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(e){return e==="documentFragment"||e==="view:documentFragment"}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,r){this._fireChange("children",this);var t=0,i=function(u,c){return typeof c=="string"?[new tt(u,c)]:(Hn(c)||(c=[c]),Array.from(c).map(function(d){return typeof d=="string"?new tt(u,d):d instanceof Ft?new tt(u,d.data):d}))}(this.document,r),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,t++}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"_removeChildren",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var t=e;t<e+r;t++)this._children[t].parent=null;return this._children.splice(e,r)}},{key:"_fireChange",value:function(e,r){this.fire("change:"+e,r)}}]),a}();rr(Bt,rn);var Kt=function(){function a(n){C(this,a),this.document=n,this._cloneGroups=new Map}return E(a,[{key:"setSelection",value:function(e,r,t){this.document.selection._setTo(e,r,t)}},{key:"setSelectionFocus",value:function(e,r){this.document.selection._setFocus(e,r)}},{key:"createText",value:function(e){return new tt(this.document,e)}},{key:"createAttributeElement",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new Ji(this.document,e,r);return t.priority&&(i._priority=t.priority),t.id&&(i._id=t.id),i}},{key:"createContainerElement",value:function(e,r){return new za(this.document,e,r)}},{key:"createEditableElement",value:function(e,r){var t=new pa(this.document,e,r);return t._document=this.document,t}},{key:"createEmptyElement",value:function(e,r){return new Io(this.document,e,r)}},{key:"createUIElement",value:function(e,r,t){var i=new Qe(this.document,e,r);return t&&(i.render=t),i}},{key:"setAttribute",value:function(e,r,t){t._setAttribute(e,r)}},{key:"removeAttribute",value:function(e,r){r._removeAttribute(e)}},{key:"addClass",value:function(e,r){r._addClass(e)}},{key:"removeClass",value:function(e,r){r._removeClass(e)}},{key:"setStyle",value:function(e,r,t){Pe(e)&&t===void 0&&(t=r),t._setStyle(e,r)}},{key:"removeStyle",value:function(e,r){r._removeStyle(e)}},{key:"setCustomProperty",value:function(e,r,t){t._setCustomProperty(e,r)}},{key:"removeCustomProperty",value:function(e,r){return r._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof Tt?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var r=e.parent;if(!r.is("containerElement"))throw new me.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!r.parent)throw new me.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return Tt._createBefore(r);if(!e.isAtEnd){var t=r._clone(!1);this.insert(Tt._createAfter(r),t);var i=new Cr(e,Tt._createAt(r,"end")),o=new Tt(t,0);this.move(i,o)}return Tt._createAfter(r)}},{key:"mergeAttributes",value:function(e){var r=e.offset,t=e.parent;if(t.is("text"))return e;if(t.is("attributeElement")&&t.childCount===0){var i=t.parent,o=t.index;return t._remove(),this._removeFromClonedElementsGroup(t),this.mergeAttributes(new Tt(i,o))}var s=t.getChild(r-1),l=t.getChild(r);if(!s||!l)return e;if(s.is("text")&&l.is("text"))return gn(s,l);if(s.is("attributeElement")&&l.is("attributeElement")&&s.isSimilar(l)){var u=s.childCount;return s._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new Tt(s,u))}return e}},{key:"mergeContainers",value:function(e){var r=e.nodeBefore,t=e.nodeAfter;if(!(r&&t&&r.is("containerElement")&&t.is("containerElement")))throw new me.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);var i=r.getChild(r.childCount-1),o=i instanceof tt?Tt._createAt(i,"end"):Tt._createAt(r,"end");return this.move(Cr._createIn(t),Tt._createAt(r,"end")),this.remove(Cr._createOn(t)),o}},{key:"insert",value:function(e,r){(function h(k,P){var A=p(k),I;try{var G=function(){var q=I.value;if(!dn.some(function(ae){return q instanceof ae}))throw new me.b("view-writer-insert-invalid-node",P);q.is("text")||h(q.getChildren(),P)};for(A.s();!(I=A.n()).done;)G()}catch(Z){A.e(Z)}finally{A.f()}})(r=Hn(r)?z(r):[r],this.document);var t=cr(e);if(!t)throw new me.b("view-writer-invalid-position-container",this.document);var i=this._breakAttributes(e,!0),o=t._insertChild(i.offset,r),s=p(r),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;this._addToClonedElementsGroup(u)}}catch(h){s.e(h)}finally{s.f()}var c=i.getShiftedBy(o),d=this.mergeAttributes(i);if(o===0)return new Cr(d,d);{d.isEqual(i)||c.offset--;var f=this.mergeAttributes(c);return new Cr(d,f)}}},{key:"remove",value:function(e){var r=e instanceof Cr?e:Cr._createOn(e);if(Kr(r,this.document),r.isCollapsed)return new Bt(this.document);var t=this._breakAttributesRange(r,!0),i=t.start,o=t.end,s=i.parent,l=o.offset-i.offset,u=s._removeChildren(i.offset,l),c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;this._removeFromClonedElementsGroup(f)}}catch(k){c.e(k)}finally{c.f()}var h=this.mergeAttributes(i);return r.start=h,r.end=h.clone(),new Bt(this.document,u)}},{key:"clear",value:function(e,r){Kr(e,this.document);var t=e.getWalker({direction:"backward",ignoreElementEnd:!0}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.item,u=void 0;if(l.is("element")&&r.isSimilar(l))u=Cr._createOn(l);else if(!s.nextPosition.isAfter(e.start)&&l.is("textProxy")){var c=l.getAncestors().find(function(d){return d.is("element")&&r.isSimilar(d)});c&&(u=Cr._createIn(c))}u&&(u.end.isAfter(e.end)&&(u.end=e.end),u.start.isBefore(e.start)&&(u.start=e.start),this.remove(u))}}catch(d){i.e(d)}finally{i.f()}}},{key:"move",value:function(e,r){var t;if(r.isAfter(e.end)){var i=(r=this._breakAttributes(r,!0)).parent,o=i.childCount;e=this._breakAttributesRange(e,!0),t=this.remove(e),r.offset+=i.childCount-o}else t=this.remove(e);return this.insert(r,t)}},{key:"wrap",value:function(e,r){if(!(r instanceof Ji))throw new me.b("view-writer-wrap-invalid-attribute",this.document);if(Kr(e,this.document),e.isCollapsed){var t=e.start;t.parent.is("element")&&(o=t.parent,!Array.from(o.getChildren()).some(function(s){return!s.is("uiElement")}))&&(t=t.getLastMatchingPosition(function(s){return s.item.is("uiElement")})),t=this._wrapPosition(t,r);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(t),new Cr(t)}return this._wrapRange(e,r);var o}},{key:"unwrap",value:function(e,r){if(!(r instanceof Ji))throw new me.b("view-writer-unwrap-invalid-attribute",this.document);if(Kr(e,this.document),e.isCollapsed)return e;var t=this._breakAttributesRange(e,!0),i=t.start,o=t.end,s=i.parent,l=this._unwrapChildren(s,i.offset,o.offset,r),u=this.mergeAttributes(l.start);u.isEqual(l.start)||l.end.offset--;var c=this.mergeAttributes(l.end);return new Cr(u,c)}},{key:"rename",value:function(e,r){var t=new za(this.document,e,r.getAttributes());return this.insert(Tt._createAfter(r),t),this.move(Cr._createIn(r),Tt._createAt(t,0)),this.remove(Cr._createOn(r)),t}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,r){return Tt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return Tt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Tt._createBefore(e)}},{key:"createRange",value:function(e,r){return new Cr(e,r)}},{key:"createRangeOn",value:function(e){return Cr._createOn(e)}},{key:"createRangeIn",value:function(e){return Cr._createIn(e)}},{key:"createSelection",value:function(e,r,t){return new pr(e,r,t)}},{key:"_wrapChildren",value:function(e,r,t,i){for(var o=r,s=[];o<t;){var l=e.getChild(o),u=l.is("text"),c=l.is("attributeElement"),d=l.is("emptyElement"),f=l.is("uiElement");if(c&&this._wrapAttributeElement(i,l))s.push(new Tt(e,o));else if(u||d||f||c&&nr(i,l)){var h=i._clone();l._remove(),h._appendChild(l),e._insertChild(o,h),this._addToClonedElementsGroup(h),s.push(new Tt(e,o))}else c&&this._wrapChildren(l,0,l.childCount,i);o++}for(var k=0,P=0,A=s;P<A.length;P++){var I=A[P];I.offset-=k,I.offset!=r&&(this.mergeAttributes(I).isEqual(I)||(k++,t--))}return Cr._createFromParentsAndOffsets(e,r,e,t)}},{key:"_unwrapChildren",value:function(e,r,t,i){for(var o=r,s=[];o<t;){var l=e.getChild(o);if(l.is("attributeElement"))if(l.isSimilar(i)){var u=l.getChildren(),c=l.childCount;l._remove(),e._insertChild(o,u),this._removeFromClonedElementsGroup(l),s.push(new Tt(e,o),new Tt(e,o+c)),o+=c,t+=c-1}else this._unwrapAttributeElement(i,l)?(s.push(new Tt(e,o),new Tt(e,o+1)),o++):(this._unwrapChildren(l,0,l.childCount,i),o++);else o++}for(var d=0,f=0,h=s;f<h.length;f++){var k=h[f];k.offset-=d,!(k.offset==r||k.offset==t)&&(this.mergeAttributes(k).isEqual(k)||(d++,t--))}return Cr._createFromParentsAndOffsets(e,r,e,t)}},{key:"_wrapRange",value:function(e,r){var t=this._breakAttributesRange(e,!0),i=t.start,o=t.end,s=i.parent,l=this._wrapChildren(s,i.offset,o.offset,r),u=this.mergeAttributes(l.start);u.isEqual(l.start)||l.end.offset--;var c=this.mergeAttributes(l.end);return new Cr(u,c)}},{key:"_wrapPosition",value:function(e,r){if(r.isSimilar(e.parent))return er(e.clone());e.parent.is("text")&&(e=xr(e));var t=this.createAttributeElement();t._priority=Number.POSITIVE_INFINITY,t.isSimilar=function(){return!1},e.parent._insertChild(e.offset,t);var i=new Cr(e,e.getShiftedBy(1));this.wrap(i,r);var o=new Tt(t.parent,t.index);t._remove();var s=o.nodeBefore,l=o.nodeAfter;return s instanceof tt&&l instanceof tt?gn(s,l):er(o)}},{key:"_wrapAttributeElement",value:function(e,r){if(!On(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;var t=p(e.getAttributeKeys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o!=="class"&&o!=="style"&&r.hasAttribute(o)&&r.getAttribute(o)!==e.getAttribute(o))return!1}}catch(Z){t.e(Z)}finally{t.f()}var s=p(e.getStyleNames()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(r.hasStyle(u)&&r.getStyle(u)!==e.getStyle(u))return!1}}catch(Z){s.e(Z)}finally{s.f()}var c=p(e.getAttributeKeys()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f!=="class"&&f!=="style"&&(r.hasAttribute(f)||this.setAttribute(f,e.getAttribute(f),r))}}catch(Z){c.e(Z)}finally{c.f()}var h=p(e.getStyleNames()),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;r.hasStyle(P)||this.setStyle(P,e.getStyle(P),r)}}catch(Z){h.e(Z)}finally{h.f()}var A=p(e.getClassNames()),I;try{for(A.s();!(I=A.n()).done;){var G=I.value;r.hasClass(G)||this.addClass(G,r)}}catch(Z){A.e(Z)}finally{A.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,r){if(!On(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;var t=p(e.getAttributeKeys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o!=="class"&&o!=="style"&&(!r.hasAttribute(o)||r.getAttribute(o)!==e.getAttribute(o)))return!1}}catch(h){t.e(h)}finally{t.f()}if(!r.hasClass.apply(r,z(e.getClassNames())))return!1;var s=p(e.getStyleNames()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!r.hasStyle(u)||r.getStyle(u)!==e.getStyle(u))return!1}}catch(h){s.e(h)}finally{s.f()}var c=p(e.getAttributeKeys()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f!=="class"&&f!=="style"&&this.removeAttribute(f,r)}}catch(h){c.e(h)}finally{c.f()}return this.removeClass(Array.from(e.getClassNames()),r),this.removeStyle(Array.from(e.getStyleNames()),r),!0}},{key:"_breakAttributesRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.start,i=e.end;if(Kr(e,this.document),e.isCollapsed){var o=this._breakAttributes(e.start,r);return new Cr(o,o)}var s=this._breakAttributes(i,r),l=s.parent.childCount,u=this._breakAttributes(t,r);return s.offset+=s.parent.childCount-l,new Cr(u,s)}},{key:"_breakAttributes",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new me.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new me.b("view-writer-cannot-break-ui-element",this.document);if(!r&&i.is("text")&&Lr(i.parent)||Lr(i))return e.clone();if(i.is("text"))return this._breakAttributes(xr(e),r);if(t==i.childCount){var o=new Tt(i.parent,i.index+1);return this._breakAttributes(o,r)}if(t===0){var s=new Tt(i.parent,i.index);return this._breakAttributes(s,r)}{var l=i.index+1,u=i._clone();i.parent._insertChild(l,u),this._addToClonedElementsGroup(u);var c=i.childCount-t,d=i._removeChildren(t,c);u._appendChild(d);var f=new Tt(i.parent,l);return this._breakAttributes(f,r)}}},{key:"_addToClonedElementsGroup",value:function(e){if(!!e.root.is("rootElement")){if(e.is("element")){var r=p(e.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._addToClonedElementsGroup(i)}}catch(l){r.e(l)}finally{r.f()}}var o=e.id;if(!!o){var s=this._cloneGroups.get(o);s||(s=new Set,this._cloneGroups.set(o,s)),s.add(e),e._clonesGroup=s}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var r=p(e.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._removeFromClonedElementsGroup(i)}}catch(l){r.e(l)}finally{r.f()}}var o=e.id;if(!!o){var s=this._cloneGroups.get(o);s&&s.delete(e)}}}]),a}();function cr(a){for(var n=a.parent;!Lr(n);){if(!n)return;n=n.parent}return n}function nr(a,n){return a.priority<n.priority||!(a.priority>n.priority)&&a.getIdentity()<n.getIdentity()}function er(a){var n=a.nodeBefore;if(n&&n.is("text"))return new Tt(n,n.data.length);var e=a.nodeAfter;return e&&e.is("text")?new Tt(e,0):a}function xr(a){if(a.offset==a.parent.data.length)return new Tt(a.parent.parent,a.parent.index+1);if(a.offset===0)return new Tt(a.parent.parent,a.parent.index);var n=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new tt(a.root.document,n)),new Tt(a.parent.parent,a.parent.index+1)}function gn(a,n){var e=a.data.length;return a._data+=n.data,n._remove(),new Tt(a,e)}var dn=[tt,Ji,za,Io,Qe];function Lr(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function Kr(a,n){var e=cr(a.start),r=cr(a.end);if(!e||!r||e!==r)throw new me.b("view-writer-invalid-range-container",n)}function On(a,n){return a.id===null&&n.id===null}function gr(a){return Object.prototype.toString.call(a)=="[object Text]"}var An=function(n){return n.createTextNode("\xA0")},Mi=function(n){var e=n.createElement("br");return e.dataset.ckeFiller=!0,e},Kn=function(){for(var a="",n=0;n<7;n++)a+="\u200B";return a}();function Sn(a){return gr(a)&&a.data.substr(0,7)===Kn}function Nn(a){return a.data.length==7&&Sn(a)}function Xn(a){return Sn(a)?a.data.slice(7):a.data}function Oi(a,n){if(n.keyCode==_.arrowleft){var e=n.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){var r=e.getRangeAt(0).startContainer,t=e.getRangeAt(0).startOffset;Sn(r)&&t<=7&&e.collapse(r,0)}}}function Ua(a,n,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e=e||function(i,o){return i===o},Array.isArray(a)||(a=Array.prototype.slice.call(a)),Array.isArray(n)||(n=Array.prototype.slice.call(n));var t=function(i,o,s){var l=ma(i,o,s);if(l===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var u=Qi(i,l),c=Qi(o,l),d=ma(u,c,s),f=i.length-d,h=o.length-d;return{firstIndex:l,lastIndexOld:f,lastIndexNew:h}}(a,n,e);return r?function(i,o){var s=i.firstIndex,l=i.lastIndexOld,u=i.lastIndexNew;if(s===-1)return Array(o).fill("equal");var c=[];return s>0&&(c=c.concat(Array(s).fill("equal"))),u-s>0&&(c=c.concat(Array(u-s).fill("insert"))),l-s>0&&(c=c.concat(Array(l-s).fill("delete"))),u<o&&(c=c.concat(Array(o-u).fill("equal"))),c}(t,n.length):function(i,o){var s=[],l=o.firstIndex,u=o.lastIndexOld,c=o.lastIndexNew;return c-l>0&&s.push({index:l,type:"insert",values:i.slice(l,c)}),u-l>0&&s.push({index:l+(c-l),type:"delete",howMany:u-l}),s}(n,t)}function ma(a,n,e){for(var r=0;r<Math.max(a.length,n.length);r++)if(a[r]===void 0||n[r]===void 0||!e(a[r],n[r]))return r;return-1}function Qi(a,n){return a.slice(n).reverse()}function yi(a,n,e){e=e||function(A,I){return A===I};var r=a.length,t=n.length;if(r>200||t>200||r+t>300)return yi.fastDiff(a,n,e,!0);var i,o;if(t<r){var s=a;a=n,n=s,i="delete",o="insert"}else i="insert",o="delete";var l=a.length,u=n.length,c=u-l,d={},f={};function h(A){var I=(f[A-1]!==void 0?f[A-1]:-1)+1,G=f[A+1]!==void 0?f[A+1]:-1,Z=I>G?-1:1;d[A+Z]&&(d[A]=d[A+Z].slice(0)),d[A]||(d[A]=[]),d[A].push(I>G?i:o);for(var q=Math.max(I,G),ae=q-A;ae<l&&q<u&&e(a[ae],n[q]);)ae++,q++,d[A].push("equal");return q}var k,P=0;do{for(k=-P;k<c;k++)f[k]=h(k);for(k=c+P;k>c;k--)f[k]=h(k);f[c]=h(c),P++}while(f[c]!==u);return d[c].slice(1)}function os(a,n,e){a.insertBefore(e,a.childNodes[n]||null)}function ss(a){var n=a.parentNode;n&&n.removeChild(a)}function lo(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}yi.fastDiff=Ua;var pl=function(){function a(n,e){C(this,a),this.domDocuments=new Set,this.domConverter=n,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return E(a,[{key:"markToSync",value:function(e,r){if(e==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(e==="attributes")this.markedAttributes.add(r);else{if(e!=="children")throw new me.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(r)}}}},{key:"render",value:function(){var e,r=p(this.markedChildren),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._updateChildrenMappings(i)}}catch(I){r.e(I)}finally{r.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var o=p(this.markedAttributes),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;this._updateAttrs(l)}}catch(I){o.e(I)}finally{o.f()}var u=p(this.markedChildren),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;this._updateChildren(d,{inlineFillerPosition:e})}}catch(I){u.e(I)}finally{u.f()}var f=p(this.markedTexts),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;!this.markedChildren.has(k.parent)&&this.domConverter.mapViewToDom(k.parent)&&this._updateText(k,{inlineFillerPosition:e})}}catch(I){f.e(I)}finally{f.f()}if(e){var P=this.domConverter.viewPositionToDom(e),A=P.parent.ownerDocument;Sn(P.parent)?this._inlineFiller=P.parent:this._inlineFiller=Ws(A,P.parent,P.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var r=this.domConverter.mapViewToDom(e);if(!!r){var t=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,r.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(t,i),s=this._findReplaceActions(o,t,i);if(s.indexOf("replace")!==-1){var l={equal:0,insert:0,delete:0},u=p(s),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d==="replace"){var f=l.equal+l.insert,h=l.equal+l.delete,k=e.getChild(f);k&&!k.is("uiElement")&&this._updateElementMappings(k,t[h]),ss(i[f]),l.equal++}else l[d]++}}catch(P){u.e(P)}finally{u.f()}}}}},{key:"_updateElementMappings",value:function(e,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("text")?Tt._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(e);return!!(r&&gr(r.parent)&&Sn(r.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!Sn(e))throw new me.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Nn(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),r=e.parent,t=e.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(s){if(s.getAttribute("contenteditable")=="false")return!1;var l=s.findAncestor(function(u){return u.hasAttribute("contenteditable")});return!l||l.getAttribute("contenteditable")=="true"}(r)||t===r.getFillerOffset())return!1;var i=e.nodeBefore,o=e.nodeAfter;return!(i instanceof tt||o instanceof tt)}},{key:"_updateText",value:function(e,r){var t=this.domConverter.findCorrespondingDomText(e),i=this.domConverter.viewToDom(e,t.ownerDocument),o=t.data,s=i.data,l=r.inlineFillerPosition;if(l&&l.parent==e.parent&&l.offset==e.index&&(s=Kn+s),o!=s){var u=Ua(o,s),c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f.type==="insert"?t.insertData(f.index,f.values.join("")):t.deleteData(f.index,f.howMany)}}catch(h){c.e(h)}finally{c.f()}}}},{key:"_updateAttrs",value:function(e){var r=this.domConverter.mapViewToDom(e);if(!!r){var t=Array.from(r.attributes).map(function(f){return f.name}),i=e.getAttributeKeys(),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;r.setAttribute(l,e.getAttribute(l))}}catch(f){o.e(f)}finally{o.f()}var u=p(t),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;e.hasAttribute(d)||r.removeAttribute(d)}}catch(f){u.e(f)}finally{u.f()}}}},{key:"_updateChildren",value:function(e,r){var t=this.domConverter.mapViewToDom(e);if(!!t){var i=r.inlineFillerPosition,o=this.domConverter.mapViewToDom(e).childNodes,s=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===e&&Ws(t.ownerDocument,s,i.offset);var l=this._diffNodeLists(o,s),u=0,c=new Set,d=p(l),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;h==="delete"?(c.add(o[u]),ss(o[u])):h==="equal"&&u++}}catch(q){d.e(q)}finally{d.f()}u=0;var k=p(l),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;A==="insert"?(os(t,u,s[u]),u++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(s[u])),u++)}}catch(q){k.e(q)}finally{k.f()}var I=p(c),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value;Z.parentNode||this.domConverter.unbindDomElement(Z)}}catch(q){I.e(q)}finally{I.f()}}}},{key:"_diffNodeLists",value:function(e,r){return yi(e=function(t,i){var o=Array.from(t);return o.length==0||!i||o[o.length-1]==i&&o.pop(),o}(e,this._fakeSelectionContainer),r,Ql.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,r,t){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;var i=[],o=[],s=[],l={equal:0,insert:0,delete:0},u=p(e),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;d==="insert"?s.push(t[l.equal+l.insert]):d==="delete"?o.push(r[l.equal+l.delete]):(i=i.concat(yi(o,s,gl).map(function(f){return f==="equal"?"replace":f})),i.push("equal"),o=[],s=[]),l[d]++}}catch(f){u.e(f)}finally{u.f()}return i.concat(yi(o,s,gl).map(function(f){return f==="equal"?"replace":f}))}},{key:"_markDescendantTextToSync",value:function(e){if(e){if(e.is("text"))this.markedTexts.add(e);else if(e.is("element")){var r=p(e.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._markDescendantTextToSync(i)}}catch(o){r.e(o)}finally{r.f()}}}}},{key:"_updateSelection",value:function(){if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var r=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(s){var l=s.createElement("div");return Object.assign(l.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),l.textContent="\xA0",l}(r));var t=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(t,this.selection),!!this._fakeSelectionNeedsUpdate(e)){t.parentElement&&t.parentElement==e||e.appendChild(t),t.textContent=this.selection.fakeSelectionLabel||"\xA0";var i=r.getSelection(),o=r.createRange();i.removeAllRanges(),o.selectNodeContents(t),i.addRange(o)}}},{key:"_updateDomSelection",value:function(e){var r=e.ownerDocument.defaultView.getSelection();if(!!this._domSelectionNeedsUpdate(r)){var t=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),r.collapse(t.parent,t.offset),r.extend(i.parent,i.offset),y.isGecko&&function(o,s){var l=o.parent;if(!(l.nodeType!=Node.ELEMENT_NODE||o.offset!=l.childNodes.length-1)){var u=l.childNodes[o.offset];u&&u.tagName=="BR"&&s.addRange(s.getRangeAt(0))}}(i,r)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var r=e&&this.domConverter.domSelectionToView(e);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var r=this._fakeSelectionContainer,t=e.ownerDocument.getSelection();return!r||r.parentElement!==e||t.anchorNode!==r&&!r.contains(t.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e=p(this.domDocuments),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.getSelection().rangeCount){var i=t.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&t.getSelection().removeAllRanges()}}}catch(s){e.e(s)}finally{e.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),a}();function Ws(a,n,e){var r=n instanceof Array?n:n.childNodes,t=r[e];if(gr(t))return t.data=Kn+t.data,t;{var i=a.createTextNode(Kn);return Array.isArray(n)?r.splice(e,0,i):os(n,e,i),i}}function gl(a,n){return lo(a)&&lo(n)&&!gr(a)&&!gr(n)&&a.tagName.toLowerCase()===n.tagName.toLowerCase()}function Ql(a,n,e){return n===e||(gr(n)&&gr(e)?n.data===e.data:!(!a.isBlockFiller(n)||!a.isBlockFiller(e)))}rr(pl,nn);var Tn={window,document};function Hs(a){for(var n=0;a.previousSibling;)a=a.previousSibling,n++;return n}function Ro(a){for(var n=[];a&&a.nodeType!=Node.DOCUMENT_NODE;)n.unshift(a),a=a.parentNode;return n}var Do=Mi(document),ls=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};C(this,a),this.document=n,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller=this.blockFillerMode=="br"?Mi:An,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return E(a,[{key:"bindFakeSelection",value:function(e,r){this._fakeSelectionMapping.set(e,new pr(r))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}},{key:"unbindDomElement",value:function(e){var r=this._domToViewMapping.get(e);if(r){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(r);var t=p(e.childNodes),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this.unbindDomElement(o)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"bindDocumentFragments",value:function(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}},{key:"viewToDom",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.is("text")){var i=this._processDataFromViewText(e);return r.createTextNode(i)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);var o;if(e.is("documentFragment"))o=r.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.render(r),t.bind&&this.bindElements(o,e),o;o=e.hasAttribute("xmlns")?r.createElementNS(e.getAttribute("xmlns"),e.name):r.createElement(e.name),t.bind&&this.bindElements(o,e);var s=p(e.getAttributeKeys()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;o.setAttribute(u,e.getAttribute(u))}}catch(h){s.e(h)}finally{s.f()}}if(t.withChildren||t.withChildren===void 0){var c=p(this.viewChildrenToDom(e,r,t)),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;o.appendChild(f)}}catch(h){c.e(h)}finally{c.f()}}return o}}},{key:"viewChildrenToDom",value:L.mark(function n(e,r){var t,i,o,s,l,u,c=arguments;return L.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=c.length>2&&c[2]!==void 0?c[2]:{},i=e.getFillerOffset&&e.getFillerOffset(),o=0,s=p(e.getChildren()),f.prev=4,s.s();case 6:if((l=s.n()).done){f.next=17;break}if(u=l.value,f.t0=i===o,!f.t0){f.next=12;break}return f.next=12,this._blockFiller(r);case 12:return f.next=14,this.viewToDom(u,r,t);case 14:o++;case 15:f.next=6;break;case 17:f.next=22;break;case 19:f.prev=19,f.t1=f.catch(4),s.e(f.t1);case 22:return f.prev=22,s.f(),f.finish(22);case 25:if(f.t2=i===o,!f.t2){f.next=29;break}return f.next=29,this._blockFiller(r);case 29:case"end":return f.stop()}},n,this,[[4,19,22,25]])})},{key:"viewRangeToDom",value:function(e){var r=this.viewPositionToDom(e.start),t=this.viewPositionToDom(e.end),i=document.createRange();return i.setStart(r.parent,r.offset),i.setEnd(t.parent,t.offset),i}},{key:"viewPositionToDom",value:function(e){var r=e.parent;if(r.is("text")){var t=this.findCorrespondingDomText(r);if(!t)return null;var i=e.offset;return Sn(t)&&(i+=7),{parent:t,offset:i}}{var o,s,l;if(e.offset===0){if(o=this.mapViewToDom(r),!o)return null;l=o.childNodes[0]}else{var u=e.nodeBefore;if(s=u.is("text")?this.findCorrespondingDomText(u):this.mapViewToDom(e.nodeBefore),!s)return null;o=s.parentNode,l=s.nextSibling}return gr(l)&&Sn(l)?{parent:l,offset:7}:{parent:o,offset:s?Hs(s)+1:0}}}},{key:"domToView",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var t=this.getParentUIElement(e,this._domToViewMapping);if(t)return t;if(gr(e)){if(Nn(e))return null;{var i=this._processDataFromDomText(e);return i===""?null:new tt(this.document,i)}}if(this.isComment(e))return null;{if(this.mapDomToView(e))return this.mapDomToView(e);var o;if(this.isDocumentFragment(e))o=new Bt(this.document),r.bind&&this.bindDocumentFragments(e,o);else{var s=r.keepOriginalCase?e.tagName:e.tagName.toLowerCase();o=new xi(this.document,s),r.bind&&this.bindElements(e,o);for(var l=e.attributes,u=l.length-1;u>=0;u--)o._setAttribute(l[u].name,l[u].value)}if(r.withChildren||r.withChildren===void 0){var c=p(this.domChildrenToView(e,r)),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;o._appendChild(f)}}catch(h){c.e(h)}finally{c.f()}}return o}}},{key:"domChildrenToView",value:L.mark(function n(e){var r,t,i,o,s=arguments;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:r=s.length>1&&s[1]!==void 0?s[1]:{},t=0;case 2:if(!(t<e.childNodes.length)){u.next=11;break}if(i=e.childNodes[t],o=this.domToView(i,r),u.t0=o!==null,!u.t0){u.next=8;break}return u.next=8,o;case 8:t++,u.next=2;break;case 11:case"end":return u.stop()}},n,this)})},{key:"domSelectionToView",value:function(e){if(e.rangeCount===1){var r=e.getRangeAt(0).startContainer;gr(r)&&(r=r.parentNode);var t=this.fakeSelectionToView(r);if(t)return t}for(var i=this.isDomSelectionBackward(e),o=[],s=0;s<e.rangeCount;s++){var l=e.getRangeAt(s),u=this.domRangeToView(l);u&&o.push(u)}return new pr(o,{backward:i})}},{key:"domRangeToView",value:function(e){var r=this.domPositionToView(e.startContainer,e.startOffset),t=this.domPositionToView(e.endContainer,e.endOffset);return r&&t?new Cr(r,t):null}},{key:"domPositionToView",value:function(e,r){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,Hs(e));var t=this.mapDomToView(e);if(t&&t.is("uiElement"))return Tt._createBefore(t);if(gr(e)){if(Nn(e))return this.domPositionToView(e.parentNode,Hs(e));var i=this.findCorrespondingViewText(e),o=r;return i?(Sn(e)&&(o-=7,o=o<0?0:o),new Tt(i,o)):null}if(r===0){var s=this.mapDomToView(e);if(s)return new Tt(s,0)}else{var l=e.childNodes[r-1],u=gr(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(u&&u.parent)return new Tt(u.parent,u.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(Nn(e))return null;var r=this.getParentUIElement(e);if(r)return r;var t=e.previousSibling;if(t){if(!this.isElement(t))return null;var i=this.mapDomToView(t);if(i)return i.nextSibling instanceof tt?i.nextSibling:null}else{var o=this.mapDomToView(e.parentNode);if(o){var s=o.getChild(0);return s instanceof tt?s:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var r=e.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var r=this.mapViewToDom(e);if(r&&r.ownerDocument.activeElement!==r){var t=Tn.window,i=t.scrollX,o=t.scrollY,s=[];ml(r,function(l){var u=l.scrollLeft,c=l.scrollTop;s.push([u,c])}),r.focus(),ml(r,function(l){var u=s.shift(),c=H(u,2),d=c[0],f=c[1];l.scrollLeft=d,l.scrollTop=f}),Tn.window.scrollTo(i,o)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return this.blockFillerMode=="br"?e.isEqualNode(Do):!(e.tagName!=="BR"||!bl(e,this.blockElements)||e.parentNode.childNodes.length!==1)||function(r,t){return gr(r)&&r.data=="\xA0"&&bl(r,t)&&r.parentNode.childNodes.length===1}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var r=document.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset);var t=r.collapsed;return r.detach(),t}},{key:"getParentUIElement",value:function(e){var r=Ro(e);for(r.pop();r.length;){var t=r.pop(),i=this._domToViewMapping.get(t);if(i&&i.is("uiElement"))return i}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,r){if(gr(e)&&Sn(e)&&r<7||this.isElement(e)&&Sn(e.childNodes[r]))return!1;var t=this.mapDomToView(e);return!t||!t.is("uiElement")}},{key:"_processDataFromViewText",value:function(e){var r=this,t=e.data;if(e.getAncestors().some(function(s){return r.preElements.includes(s.name)}))return t;if(t.charAt(0)==" "){var i=this._getTouchingViewTextNode(e,!1);!(i&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){var o=this._getTouchingViewTextNode(e,!0);t.charAt(t.length-2)!=" "&&o&&o.data.charAt(0)!=" "||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}},{key:"_nodeEndsWithSpace",value:function(e){var r=this;if(e.getAncestors().some(function(i){return r.preElements.includes(i.name)}))return!1;var t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}},{key:"_processDataFromDomText",value:function(e){var r=e.data;if(Ks(e,this.preElements))return Xn(e);r=r.replace(/[ \n\t\r]{1,}/g," ");var t=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),o=this._checkShouldLeftTrimDomText(t),s=this._checkShouldRightTrimDomText(e,i);return o&&(r=r.replace(/^ /,"")),s&&(r=r.replace(/ $/,"")),r=Xn(new Text(r)),r=r.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(r)||!i||i.data&&i.data.charAt(0)==" ")&&(r=r.replace(/\u00A0$/," ")),o&&(r=r.replace(/^\u00A0/," ")),r}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!ai(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,r){return!r&&!Sn(e)}},{key:"_getTouchingViewTextNode",value:function(e,r){var t=new Yi({startPosition:r?Tt._createAfter(e):Tt._createBefore(e),direction:r?"forward":"backward"}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.item.is("containerElement")||s.item.is("br"))return null;if(s.item.is("textProxy"))return s.item}}catch(l){i.e(l)}finally{i.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,r){if(!e.parentNode)return null;var t=r?"nextNode":"previousNode",i=e.ownerDocument,o=Ro(e)[0],s=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(d){return gr(d)||d.tagName=="BR"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});s.currentNode=e;var l=s[t]();if(l!==null){var u=function(c,d){for(var f=Ro(c),h=Ro(d),k=0;f[k]==h[k]&&f[k];)k++;return k===0?null:f[k-1]}(e,l);if(u&&!Ks(e,this.blockElements,u)&&!Ks(l,this.blockElements,u))return l}return null}}]),a}();function Ks(a,n,e){var r=Ro(a);return e&&(r=r.slice(r.indexOf(e)+1)),r.some(function(t){return t.tagName&&n.includes(t.tagName.toLowerCase())})}function ml(a,n){for(;a&&a!=Tn.document;)n(a),a=a.parentNode}function bl(a,n){var e=a.parentNode;return e&&e.tagName&&n.includes(e.tagName.toLowerCase())}function uo(a){var n=Object.prototype.toString.apply(a);return n=="[object Window]"||n=="[object global]"}var us=va({},rn,{listenTo:function(n){for(var e,r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];if(lo(n)||uo(n)){var o=this._getProxyEmitter(n)||new Gs(n);o.attach.apply(o,t),n=o}(e=rn.listenTo).call.apply(e,[this,n].concat(t))},stopListening:function(n,e,r){if(lo(n)||uo(n)){var t=this._getProxyEmitter(n);if(!t)return;n=t}rn.stopListening.call(this,n,e,r),n instanceof Gs&&n.detach(e)},_getProxyEmitter:function(n){return e=this,r=yl(n),e[si]&&e[si][r]?e[si][r].emitter:null;var e,r}}),Gs=function a(n){C(this,a),Wi(this,yl(n)),this._domNode=n};function yl(a){return a["data-ck-expando"]||(a["data-ck-expando"]=ei())}va(Gs.prototype,rn,{attach:function(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(this._domListeners&&this._domListeners[n])){var t=this._createDomListener(n,!!r.useCapture);this._domNode.addEventListener(n,t,!!r.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[n]=t}},detach:function(n){var e;!this._domListeners[n]||(e=this._events[n])&&e.callbacks.length||this._domListeners[n].removeListener()},_createDomListener:function(n,e){var r=this,t=function(o){r.fire(n,o)};return t.removeListener=function(){r._domNode.removeEventListener(n,t,e),delete r._domListeners[n]},t}});var ba=function(){function a(n){C(this,a),this.view=n,this.document=n.document,this.isEnabled=!1}return E(a,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),a}();rr(ba,us);var Zl=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Xl=function(n){return this.__data__.has(n)};function cs(a){var n=-1,e=a==null?0:a.length;for(this.__data__=new de;++n<e;)this.add(a[n])}cs.prototype.add=cs.prototype.push=Zl,cs.prototype.has=Xl;var $s=cs,cc=function(n,e){for(var r=-1,t=n==null?0:n.length;++r<t;)if(e(n[r],r,n))return!0;return!1},Ys=function(n,e){return n.has(e)},ql=function(n,e,r,t,i,o){var s=1&r,l=n.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(n);if(c&&o.get(e))return c==e;var d=-1,f=!0,h=2&r?new $s:void 0;for(o.set(n,e),o.set(e,n);++d<l;){var k=n[d],P=e[d];if(t)var A=s?t(P,k,d,e,n,o):t(k,P,d,n,e,o);if(A!==void 0){if(A)continue;f=!1;break}if(h){if(!cc(e,function(I,G){if(!Ys(h,G)&&(k===I||i(k,I,r,t,o)))return h.push(G)})){f=!1;break}}else if(k!==P&&!i(k,P,r,t,o)){f=!1;break}}return o.delete(n),o.delete(e),f},Js=function(n){var e=-1,r=Array(n.size);return n.forEach(function(t,i){r[++e]=[i,t]}),r},eu=function(n){var e=-1,r=Array(n.size);return n.forEach(function(t){r[++e]=t}),r},ds=je?je.prototype:void 0,Qs=ds?ds.valueOf:void 0,tu=function(n,e,r,t,i,o,s){switch(r){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!o(new ia(n),new ia(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qt(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var l=Js;case"[object Set]":var u=1&t;if(l||(l=eu),n.size!=e.size&&!u)return!1;var c=s.get(n);if(c)return c==e;t|=2,s.set(n,e);var d=ql(l(n),l(e),t,i,o,s);return s.delete(n),d;case"[object Symbol]":if(Qs)return Qs.call(n)==Qs.call(e)}return!1},ru=Object.prototype.hasOwnProperty,Zs=function(n,e,r,t,i,o){var s=1&r,l=ta(n),u=l.length;if(u!=ta(e).length&&!s)return!1;for(var c=u;c--;){var d=l[c];if(!(s?d in e:ru.call(e,d)))return!1}var f=o.get(n);if(f&&o.get(e))return f==e;var h=!0;o.set(n,e),o.set(e,n);for(var k=s;++c<u;){var P=n[d=l[c]],A=e[d];if(t)var I=s?t(A,P,d,e,n,o):t(P,A,d,n,e,o);if(!(I===void 0?P===A||i(P,A,r,t,o):I)){h=!1;break}k||(k=d=="constructor")}if(h&&!k){var G=n.constructor,Z=e.constructor;G==Z||!("constructor"in n)||!("constructor"in e)||typeof G=="function"&&G instanceof G&&typeof Z=="function"&&Z instanceof Z||(h=!1)}return o.delete(n),o.delete(e),h},nu=Object.prototype.hasOwnProperty,N=function(n,e,r,t,i,o){var s=lr(n),l=lr(e),u=s?"[object Array]":Bi(n),c=l?"[object Array]":Bi(e),d=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",f=(c=c=="[object Arguments]"?"[object Object]":c)=="[object Object]",h=u==c;if(h&&Object(Pr.a)(n)){if(!Object(Pr.a)(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new lt),s||Xr(n)?ql(n,e,r,t,i,o):tu(n,e,u,r,t,i,o);if(!(1&r)){var k=d&&nu.call(n,"__wrapped__"),P=f&&nu.call(e,"__wrapped__");if(k||P){var A=k?n.value():n,I=P?e.value():e;return o||(o=new lt),i(A,I,r,t,o)}}return!!h&&(o||(o=new lt),Zs(n,e,r,t,i,o))},w=function a(n,e,r,t,i){return n===e||(n==null||e==null||!Xe(n)&&!Xe(e)?n!=n&&e!=e:N(n,e,r,t,a,i))},K=function(n,e,r){var t=(r=typeof r=="function"?r:void 0)?r(n,e):void 0;return t===void 0?w(n,e,void 0,r):!!t},R=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},t.domConverter=r.domConverter,t.renderer=r._renderer,t._domElements=[],t._mutationObserver=new window.MutationObserver(t._onMutations.bind(O(t))),t}return E(e,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){m(S(e.prototype),"enable",this).call(this);var t=p(this._domElements),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._mutationObserver.observe(o,this._config)}}catch(s){t.e(s)}finally{t.f()}}},{key:"disable",value:function(){m(S(e.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(t.length===0)return;var i=this.domConverter,o=new Map,s=new Set,l=p(t),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.type==="childList"){var d=i.mapDomToView(c.target);if(d&&d.is("uiElement"))continue;d&&!this._isBogusBrMutation(c)&&s.add(d)}}}catch(Qt){l.e(Qt)}finally{l.f()}var f=p(t),h;try{for(f.s();!(h=f.n()).done;){var k=h.value,P=i.mapDomToView(k.target);if((!P||!P.is("uiElement"))&&k.type==="characterData"){var A=i.findCorrespondingViewText(k.target);A&&!s.has(A.parent)?o.set(A,{type:"text",oldText:A.data,newText:Xn(k.target),node:A}):!A&&Sn(k.target)&&s.add(i.mapDomToView(k.target.parentNode))}}}catch(Qt){f.e(Qt)}finally{f.f()}var I=[],G=p(o.values()),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;this.renderer.markToSync("text",q.node),I.push(q)}}catch(Qt){G.e(Qt)}finally{G.f()}var ae=p(s),be;try{for(ae.s();!(be=ae.n()).done;){var Re=be.value,Ne=i.mapViewToDom(Re),Ze=Array.from(Re.getChildren()),_t=Array.from(i.domChildrenToView(Ne,{withChildren:!1}));K(Ze,_t,Xt)||(this.renderer.markToSync("children",Re),I.push({type:"children",oldChildren:Ze,newChildren:_t,node:Re}))}}catch(Qt){ae.e(Qt)}finally{ae.f()}var Rt=t[0].target.ownerDocument.getSelection(),Jt=null;if(Rt&&Rt.anchorNode){var Dt=i.domPositionToView(Rt.anchorNode,Rt.anchorOffset),Et=i.domPositionToView(Rt.focusNode,Rt.focusOffset);Dt&&Et&&(Jt=new pr(Dt),Jt.setFocus(Et))}function Xt(Qt,wr){if(!Array.isArray(Qt))return Qt===wr||!(!Qt.is("text")||!wr.is("text"))&&Qt.data===wr.data}I.length&&(this.document.fire("mutations",I,Jt),this.view.forceRender())}},{key:"_isBogusBrMutation",value:function(t){var i=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(i=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}]),e}(ba),F=function(){function a(n,e,r){C(this,a),this.view=n,this.document=n.document,this.domEvent=e,this.domTarget=e.target,va(this,r)}return E(a,[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}]),a}(),ce=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.useCapture=!1,t}return E(e,[{key:"observe",value:function(t){var i=this;(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(function(o){i.listenTo(t,o,function(s,l){i.isEnabled&&i.onDomEvent(l)},{useCapture:i.useCapture})})}},{key:"fire",value:function(t,i,o){this.isEnabled&&this.document.fire(t,new F(this.view,i,o))}}]),e}(ba),he=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.domEventType=["keydown","keyup"],t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return ie(this)}})}}]),e}(ce),Oe=function(){return Ae.a.Date.now()},Ie=/^\s+|\s+$/g,Fe=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,jt=/^0o[0-7]+$/i,Pt=parseInt,Mt=function(n){if(typeof n=="number")return n;if(Wn(n))return NaN;if(ze(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ze(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Ie,"");var r=qe.test(n);return r||jt.test(n)?Pt(n.slice(2),r?2:8):Fe.test(n)?NaN:+n},ir=Math.max,ar=Math.min,mr=function(n,e,r){var t,i,o,s,l,u,c=0,d=!1,f=!1,h=!0;if(typeof n!="function")throw new TypeError("Expected a function");function k(q){var ae=t,be=i;return t=i=void 0,c=q,s=n.apply(be,ae)}function P(q){return c=q,l=setTimeout(I,e),d?k(q):s}function A(q){var ae=q-u;return u===void 0||ae>=e||ae<0||f&&q-c>=o}function I(){var q=Oe();if(A(q))return G(q);l=setTimeout(I,function(ae){var be=e-(ae-u);return f?ar(be,o-(ae-c)):be}(q))}function G(q){return l=void 0,h&&t?k(q):(t=i=void 0,s)}function Z(){var q=Oe(),ae=A(q);if(t=arguments,i=this,u=q,ae){if(l===void 0)return P(u);if(f)return clearTimeout(l),l=setTimeout(I,e),k(u)}return l===void 0&&(l=setTimeout(I,e)),s}return e=Mt(e)||0,ze(r)&&(d=!!r.leading,o=(f="maxWait"in r)?ir(Mt(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h),Z.cancel=function(){l!==void 0&&clearTimeout(l),c=0,t=u=i=l=void 0},Z.flush=function(){return l===void 0?s:G(Oe())},Z},Mn=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._fireSelectionChangeDoneDebounced=mr(function(i){return t.document.fire("selectionChangeDone",i)},200),t}return E(e,[{key:"observe",value:function(){var t=this,i=this.document;i.on("keydown",function(o,s){var l;i.selection.isFake&&((l=s.keyCode)==_.arrowright||l==_.arrowleft||l==_.arrowup||l==_.arrowdown)&&t.isEnabled&&(s.preventDefault(),t._handleSelectionMove(s.keyCode))},{priority:"lowest"})}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var i=this.document.selection,o=new pr(i.getRanges(),{backward:i.isBackward,fake:!1});t!=_.arrowleft&&t!=_.arrowup||o.setTo(o.getFirstPosition()),t!=_.arrowright&&t!=_.arrowdown||o.setTo(o.getLastPosition());var s={oldSelection:i,newSelection:o,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}]),e}(ba),Ii=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.mutationObserver=r.getObserver(R),t.selection=t.document.selection,t.domConverter=r.domConverter,t._documents=new WeakSet,t._fireSelectionChangeDoneDebounced=mr(function(i){return t.document.fire("selectionChangeDone",i)},200),t._clearInfiniteLoopInterval=setInterval(function(){return t._clearInfiniteLoop()},1e3),t._loopbackCounter=0,t}return E(e,[{key:"observe",value:function(t){var i=this,o=t.ownerDocument;this._documents.has(o)||(this.listenTo(o,"selectionchange",function(){i._handleSelectionChange(o)}),this._documents.add(o))}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t){if(!!this.isEnabled){this.mutationObserver.flush();var i=t.defaultView.getSelection(),o=this.domConverter.domSelectionToView(i);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(i)||++this._loopbackCounter>60))if(this.selection.isSimilar(o))this.view.forceRender();else{var s={oldSelection:this.selection,newSelection:o,domSelection:i};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),e}(ba),No=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r),t.domEventType=["focus","blur"],t.useCapture=!0;var i=t.document;return i.on("focus",function(){i.isFocused=!0,t._renderTimeoutId=setTimeout(function(){return r.forceRender()},50)}),i.on("blur",function(o,s){var l=i.selection.editableElement;l!==null&&l!==s.target||(i.isFocused=!1,r.forceRender())}),t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),m(S(e.prototype),"destroy",this).call(this)}}]),e}(ce),Pi=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r),t.domEventType=["compositionstart","compositionupdate","compositionend"];var i=t.document;return i.on("compositionstart",function(){i.isComposing=!0}),i.on("compositionend",function(){i.isComposing=!1}),t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ce),fs=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.domEventType=["beforeinput"],t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ce);function wl(a){return Object.prototype.toString.apply(a)=="[object Range]"}function dc(a){var n=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}var fc=["top","right","bottom","left","width","height"],$n=function(){function a(n){C(this,a);var e=wl(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),ai(n)||e)iu(this,e?a.getDomRangeRects(n)[0]:n.getBoundingClientRect());else if(uo(n)){var r=n.innerWidth,t=n.innerHeight;iu(this,{top:0,right:r,bottom:t,left:0,width:r,height:t})}else iu(this,n)}return E(a,[{key:"clone",value:function(){return new a(this)}},{key:"moveTo",value:function(e,r){return this.top=r,this.right=e+this.width,this.bottom=r+this.height,this.left=e,this}},{key:"moveBy",value:function(e,r){return this.top+=r,this.right+=e,this.left+=e,this.bottom+=r,this}},{key:"getIntersection",value:function(e){var r={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0?null:new a(r)}},{key:"getIntersectionArea",value:function(e){var r=this.getIntersection(e);return r?r.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,r=this.clone();if(!hc(e))for(var t=e.parentNode||e.commonAncestorContainer;t&&!hc(t);){var i=new a(t),o=r.getIntersection(i);if(!o)return null;o.getArea()<r.getArea()&&(r=o),t=t.parentNode}return r}},{key:"isEqual",value:function(e){var r=p(fc),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(this[i]!==e[i])return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"contains",value:function(e){var r=this.getIntersection(e);return!(!r||!r.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e=this._source,r,t,i;if(uo(e))r=e.innerWidth-e.document.documentElement.clientWidth,t=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{var o=dc(this._source);r=e.offsetWidth-e.clientWidth-o.left-o.right,t=e.offsetHeight-e.clientHeight-o.top-o.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,i==="ltr"?this.right-=r:this.left+=r,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(e){var r=[],t=Array.from(e.getClientRects());if(t.length){var i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;r.push(new a(s))}}catch(c){i.e(c)}finally{i.f()}}else{var l=e.startContainer;gr(l)&&(l=l.parentNode);var u=new a(l.getBoundingClientRect());u.right=u.left,u.width=0,r.push(u)}return r}}]),a}();function iu(a,n){var e=p(fc),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;a[t]=n[t]}}catch(i){e.e(i)}finally{e.f()}}function hc(a){return!!ai(a)&&a===a.ownerDocument.body}function vc(a){for(var n=a.target,e=a.viewportOffset,r=e===void 0?0:e,t=au(n),i=t,o=null;i;){var s=void 0;s=wc(i==t?n:o),pc(s,function(){return kc(n,i)});var l=kc(n,i);if(wv(i,l,r),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function wv(a,n,e){var r=n.clone().moveBy(0,e),t=n.clone().moveBy(0,-e),i=new $n(a).excludeScrollbarsAndBorders();if(![t,r].every(function(l){return i.contains(l)})){var o=a.scrollX,s=a.scrollY;mc(t,i)?s-=i.top-n.top+e:gc(r,i)&&(s+=n.bottom-i.bottom+e),bc(n,i)?o-=i.left-n.left+e:yc(n,i)&&(o+=n.right-i.right+e),a.scrollTo(o,s)}}function pc(a,n){for(var e=au(a),r,t;a!=e.document.body;)t=n(),r=new $n(a).excludeScrollbarsAndBorders(),r.contains(t)||(mc(t,r)?a.scrollTop-=r.top-t.top:gc(t,r)&&(a.scrollTop+=t.bottom-r.bottom),bc(t,r)?a.scrollLeft-=r.left-t.left:yc(t,r)&&(a.scrollLeft+=t.right-r.right)),a=a.parentNode}function gc(a,n){return a.bottom>n.bottom}function mc(a,n){return a.top<n.top}function bc(a,n){return a.left<n.left}function yc(a,n){return a.right>n.right}function au(a){return wl(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function wc(a){if(wl(a)){var n=a.commonAncestorContainer;return gr(n)&&(n=n.parentNode),n}return a.parentNode}function kc(a,n){var e=au(a),r=new $n(a);if(e===n)return r;for(var t=e;t!=n;){var i=t.frameElement,o=new $n(i).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),t=t.parent}return r}Object.assign({},{scrollViewportToShowTarget:vc,scrollAncestorsToShowTarget:function(n){pc(wc(n),function(){return new $n(n)})}});var _c=function(){function a(n){var e=this;C(this,a),this.document=new Zn(n),this.domConverter=new ls(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new pl(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Kt(this.document),this.addObserver(R),this.addObserver(Ii),this.addObserver(No),this.addObserver(he),this.addObserver(Mn),this.addObserver(Pi),y.isAndroid&&this.addObserver(fs),this.document.on("keydown",Oi),Nt(this),this.on("render",function(){e._render(),e.document.fire("layoutChanged"),e._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",function(){e._hasChangedSinceTheLastRendering=!0})}return E(a,[{key:"attachDomRoot",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main",i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();for(var o={},s=0,l=Array.from(e.attributes);s<l.length;s++){var u=l[s],c=u.name,d=u.value;o[c]=d,c==="class"?this._writer.addClass(d.split(" "),i):this._writer.setAttribute(c,d,i)}this._initialDomRootAttributes.set(e,o);var f=function(){r._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?r._writer.addClass("ck-read-only",i):r._writer.removeClass("ck-read-only",i)};f(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",function(A,I){return r._renderer.markToSync("children",I)}),i.on("change:attributes",function(A,I){return r._renderer.markToSync("attributes",I)}),i.on("change:text",function(A,I){return r._renderer.markToSync("text",I)}),i.on("change:isReadOnly",function(){return r.change(f)}),i.on("change",function(){r._hasChangedSinceTheLastRendering=!0});var h=p(this._observers.values()),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;P.observe(e,t)}}catch(A){h.e(A)}finally{h.f()}}},{key:"detachDomRoot",value:function(e){var r=this.domRoots.get(e);Array.from(r.attributes).forEach(function(o){var s=o.name;return r.removeAttribute(s)});var t=this._initialDomRootAttributes.get(r);for(var i in t)r.setAttribute(i,t[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(r)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var r=this._observers.get(e);if(r)return r;r=new e(this),this._observers.set(e,r);var t=p(this.domRoots),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=H(o,2),l=s[0],u=s[1];r.observe(u,l)}}catch(c){t.e(c)}finally{t.f()}return r.enable(),r}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e=p(this._observers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.disable()}}catch(i){e.e(i)}finally{e.f()}}},{key:"enableObservers",value:function(){var e=p(this._observers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.enable()}}catch(i){e.e(i)}finally{e.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&vc({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new me.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var r=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(t){me.b.rethrowUnexpectedError(t,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change(function(){})}},{key:"destroy",value:function(){var e=p(this._observers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.destroy()}}catch(i){e.e(i)}finally{e.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,r){return Tt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return Tt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Tt._createBefore(e)}},{key:"createRange",value:function(e,r){return new Cr(e,r)}},{key:"createRangeOn",value:function(e){return Cr._createOn(e)}},{key:"createRangeIn",value:function(e){return Cr._createIn(e)}},{key:"createSelection",value:function(e,r,t){return new pr(e,r,t)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,e==0&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),a}();rr(_c,nn);var Xs=function(){function a(n){C(this,a),this.parent=null,this._attrs=yr(n)}return E(a,[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new me.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new me.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],r=this;r.parent;)e.unshift(r.startOffset),r=r.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this:this.parent;t;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}},{key:"getCommonAncestor",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.getAncestors(r),i=e.getAncestors(r),o=0;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var r=this.getPath(),t=e.getPath(),i=le(r,t);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<t[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(function(r,t){return r[t[0]]=t[1],r},{})),e}},{key:"is",value:function(e){return e==="node"||e==="model:node"}},{key:"_clone",value:function(){return new a(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,r){this._attrs.set(e,r)}},{key:"_setAttributesTo",value:function(e){this._attrs=yr(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),a}(),Fn=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,t),i._data=r||"",i}return E(e,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"is",value:function(t){return t==="text"||t==="model:text"||t==="node"||t==="model:node"}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new e(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(t){return new e(t.data,t.attributes)}}]),e}(Xs),ya=function(){function a(n,e,r){if(C(this,a),this.textNode=n,e<0||e>n.offsetSize)throw new me.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(r<0||e+r>n.offsetSize)throw new me.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=n.data.substring(e,e+r),this.offsetInText=e}return E(a,[{key:"startOffset",get:function(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"is",value:function(e){return e==="textProxy"||e==="model:textProxy"}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},r=[],t=e.includeSelf?this:this.parent;t;)r[e.parentFirst?"push":"unshift"](t),t=t.parent;return r}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),a}(),hs=function(){function a(n){C(this,a),this._nodes=[],n&&this._insertNodes(0,n)}return E(a,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(e,r){return e+r.offsetSize},0)}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var r=this._nodes.indexOf(e);return r==-1?null:r}},{key:"getNodeStartOffset",value:function(e){var r=this.getNodeIndex(e);return r===null?null:this._nodes.slice(0,r).reduce(function(t,i){return t+i.offsetSize},0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var r=this._nodes[e];if(!r)throw new me.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(r)}},{key:"offsetToIndex",value:function(e){var r=0,t=p(this._nodes),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(e>=r&&e<r+o.offsetSize)return this.getNodeIndex(o);r+=o.offsetSize}}catch(s){t.e(s)}finally{t.f()}if(r!=e)throw new me.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,r){var t,i=p(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!(s instanceof Xs))throw new me.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}catch(l){i.e(l)}finally{i.f()}(t=this._nodes).splice.apply(t,[e,0].concat(z(r)))}},{key:"_removeNodes",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._nodes.splice(e,r)}},{key:"toJSON",value:function(){return this._nodes.map(function(e){return e.toJSON()})}}]),a}(),zn=function(a){T(e,a);var n=D(e);function e(r,t,i){var o;return C(this,e),o=n.call(this,t),o.name=r,o._children=new hs,i&&o._insertChild(0,i),o}return E(e,[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t===this.name||t==="model:"+this.name||t==="node"||t==="model:node"}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var i=this,o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i=i.getChild(i.offsetToIndex(l))}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var i=p(this._children),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.children.push(s.toJSON())}}catch(l){i.e(l)}finally{i.f()}}return t}},{key:"_clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=t?Array.from(this._children).map(function(o){return o._clone(!0)}):null;return new e(this.name,this.getAttributes(),i)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,i){var o=function(c){return typeof c=="string"?[new Fn(c)]:(Hn(c)||(c=[c]),Array.from(c).map(function(d){return typeof d=="string"?new Fn(d):d instanceof ya?new Fn(d.data,d.getAttributes()):d}))}(i),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.parent!==null&&u._remove(),u.parent=this}}catch(c){s.e(c)}finally{s.f()}this._children._insertNodes(t,o)}},{key:"_removeChildren",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=this._children._removeNodes(t,i),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.parent=null}}catch(c){s.e(c)}finally{s.f()}return o}}],[{key:"fromJSON",value:function(t){var i=null;if(t.children){i=[];var o=p(t.children),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.name?i.push(e.fromJSON(l)):i.push(Fn.fromJSON(l))}}catch(u){o.e(u)}finally{o.f()}}return new e(t.name,t.attributes,i)}}]),e}(Xs),Wa=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(C(this,a),!n.boundaries&&!n.startPosition)throw new me.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);var e=n.direction||"forward";if(e!="forward"&&e!="backward")throw new me.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",n,{direction:e});this.direction=e,this.boundaries=n.boundaries||null,n.startPosition?this.position=n.startPosition.clone():this.position=kt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return E(a,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var r,t,i,o;do{var s;i=this.position,o=this._visitedParent,s=this.next(),r=s.done,t=s.value}while(!r&&e(t));r||(this.position=i,this._visitedParent=o)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,r=this.position.clone(),t=this._visitedParent;if(t.parent===null&&r.offset===t.maxOffset)return{done:!0};if(t===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0};var i=r.parent,o=qs(r,i),s=o||xc(r,i,o);if(s instanceof zn)return this.shallow?r.offset++:(r.path.push(0),this._visitedParent=s),this.position=r,Fo("elementStart",s,e,r,1);if(s instanceof Fn){var l;if(this.singleCharacters)l=1;else{var u=s.endOffset;this._boundaryEndParent==t&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),l=u-r.offset}var c=r.offset-s.startOffset,d=new ya(s,c,l);return r.offset+=l,this.position=r,Fo("text",d,e,r,l)}return r.path.pop(),r.offset++,this.position=r,this._visitedParent=t.parent,this.ignoreElementEnd?this._next():Fo("elementEnd",t,e,r)}},{key:"_previous",value:function(){var e=this.position,r=this.position.clone(),t=this._visitedParent;if(t.parent===null&&r.offset===0)return{done:!0};if(t==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0};var i=r.parent,o=qs(r,i),s=o||Oc(r,i,o);if(s instanceof zn)return r.offset--,this.shallow?(this.position=r,Fo("elementStart",s,e,r,1)):(r.path.push(s.maxOffset),this.position=r,this._visitedParent=s,this.ignoreElementEnd?this._previous():Fo("elementEnd",s,e,r));if(s instanceof Fn){var l;if(this.singleCharacters)l=1;else{var u=s.startOffset;this._boundaryStartParent==t&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),l=r.offset-u}var c=r.offset-s.startOffset,d=new ya(s,c-l,l);return r.offset-=l,this.position=r,Fo("text",d,e,r,l)}return r.path.pop(),this.position=r,this._visitedParent=t.parent,Fo("elementStart",t,e,r,1)}}]),a}();function Fo(a,n,e,r,t){return{done:!1,value:{type:a,item:n,previousPosition:e,nextPosition:r,length:t}}}var kt=function(){function a(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(C(this,a),!n.is("element")&&!n.is("documentFragment"))throw new me.b("model-position-root-invalid: Position root invalid.",n);if(!(e instanceof Array)||e.length===0)throw new me.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",n,{path:e});n.is("rootElement")?e=e.slice():(e=[].concat(z(n.getPath()),z(e)),n=n.root),this.root=n,this.path=e,this.stickiness=r}return E(a,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,r=0;r<this.path.length-1;r++)if(e=e.getChild(e.offsetToIndex(this.path[r])),!e)throw new me.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new me.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return qs(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return xc(this,e,qs(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return Oc(this,e,qs(this,e))}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var r=le(this.path,e.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<e.path[r]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.startPosition=this;var t=new Wa(r);return t.skip(e),t.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var r=le(this.path,e.path),t=typeof r=="string"?Math.min(this.path.length,e.path.length):r;return this.path.slice(0,t)}},{key:"getCommonAncestor",value:function(e){for(var r=this.getAncestors(),t=e.getAncestors(),i=0;r[i]==t[i]&&r[i];)i++;return i===0?null:r[i-1]}},{key:"getShiftedBy",value:function(e){var r=this.clone(),t=r.offset+e;return r.offset=t<0?0:t,r}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isEqual",value:function(e){return this.compareWith(e)=="same"}},{key:"isTouching",value:function(e){var r=null,t=null;switch(this.compareWith(e)){case"same":return!0;case"before":r=a._createAt(this),t=a._createAt(e);break;case"after":r=a._createAt(e),t=a._createAt(this);break;default:return!1}for(var i=r.parent;r.path.length+t.path.length;){if(r.isEqual(t))return!0;if(r.path.length>t.path.length){if(r.offset!==i.maxOffset)return!1;r.path=r.path.slice(0,-1),i=i.parent,r.offset++}else{if(t.offset!==0)return!1;t.path=t.path.slice(0,-1)}}}},{key:"is",value:function(e){return e==="position"||e==="model:position"}},{key:"hasSameParentAs",value:function(e){return this.root!==e.root?!1:le(this.getParentPath(),e.getParentPath())=="same"}},{key:"getTransformedByOperation",value:function(e){var r;switch(e.type){case"insert":r=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(e);break;case"split":r=this._getTransformedBySplitOperation(e);break;case"merge":r=this._getTransformedByMergeOperation(e);break;default:r=a._createAt(this)}return r}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var r=e.movedRange,t;return r.containsPosition(this)||r.start.isEqual(this)?(t=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(t=t._getTransformedByDeletion(e.deletionPosition,1))):t=this.isEqual(e.deletionPosition)?a._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),t}},{key:"_getTransformedByDeletion",value:function(e,r){var t=a._createAt(this);if(this.root!=e.root)return t;if(le(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+r>this.offset)return null;t.offset-=r}}else if(le(e.getParentPath(),this.getParentPath())=="prefix"){var i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+r>this.path[i])return null;t.path[i]-=r}}return t}},{key:"_getTransformedByInsertion",value:function(e,r){var t=a._createAt(this);if(this.root!=e.root)return t;if(le(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(t.offset+=r);else if(le(e.getParentPath(),this.getParentPath())=="prefix"){var i=e.path.length-1;e.offset<=this.path[i]&&(t.path[i]+=r)}return t}},{key:"_getTransformedByMove",value:function(e,r,t){if(r=r._getTransformedByDeletion(e,t),e.isEqual(r))return a._createAt(this);var i=this._getTransformedByDeletion(e,t);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(t).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,r):i._getTransformedByInsertion(r,t)}},{key:"_getCombined",value:function(e,r){var t=e.path.length-1,i=a._createAt(r);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[t]-e.offset,i.path=[].concat(z(i.path),z(this.path.slice(t+1))),i}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(e instanceof a)return new a(e.root,e.path,e.stickiness);{var i=e;if(r=="end")r=i.maxOffset;else{if(r=="before")return this._createBefore(i,t);if(r=="after")return this._createAfter(i,t);if(r!==0&&!r)throw new me.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new me.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e]);var o=i.getPath();return o.push(r),new this(i.root,o,t)}}},{key:"_createAfter",value:function(e,r){if(!e.parent)throw new me.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,r)}},{key:"_createBefore",value:function(e,r){if(!e.parent)throw new me.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,r)}},{key:"fromJSON",value:function(e,r){if(e.root==="$graveyard"){var t=new a(r.graveyard,e.path);return t.stickiness=e.stickiness,t}if(!r.getRoot(e.root))throw new me.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",r,{rootName:e.root});return new a(r.getRoot(e.root),e.path,e.stickiness)}}]),a}();function qs(a,n){var e=n.getChild(n.offsetToIndex(a.offset));return e&&e.is("text")&&e.startOffset<a.offset?e:null}function xc(a,n,e){return e!==null?null:n.getChild(n.offsetToIndex(a.offset))}function Oc(a,n,e){return e!==null?null:n.getChild(n.offsetToIndex(a.offset)-1)}var ot=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;C(this,a),this.start=kt._createAt(n),this.end=e?kt._createAt(e):kt._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return E(a,[{key:Symbol.iterator,value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(new Wa({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return le(this.start.getParentPath(),this.end.getParentPath())=="same"}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.isCollapsed&&(r=!1);var t=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return t&&i}},{key:"containsItem",value:function(e){var r=kt._createBefore(e);return this.containsPosition(r)||this.start.isEqual(r)}},{key:"is",value:function(e){return e==="range"||e==="model:range"}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new a(this.start,e.start)),this.containsPosition(e.end)&&r.push(new a(e.end,this.end))):r.push(new a(this.start,this.end)),r}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var r=this.start,t=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(t=e.end),new a(r,t)}return null}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],r=this.start.getCommonPath(this.end).length,t=kt._createAt(this.start),i=t.parent;t.path.length>r+1;){var o=i.maxOffset-t.offset;o!==0&&e.push(new a(t,t.getShiftedBy(o))),t.path=t.path.slice(0,-1),t.offset++,i=i.parent}for(;t.path.length<=this.end.path.length;){var s=this.end.path[t.path.length-1],l=s-t.offset;l!==0&&e.push(new a(t,t.getShiftedBy(l))),t.offset=s,t.path.push(0)}return e}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.boundaries=this,new Wa(e)}},{key:"getItems",value:L.mark(function n(){var e,r,t,i,o,s=arguments;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,r=new Wa(e),t=p(r),u.prev=4,t.s();case 6:if((i=t.n()).done){u.next=12;break}return o=i.value,u.next=10,o.item;case 10:u.next=6;break;case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(4),t.e(u.t0);case 17:return u.prev=17,t.f(),u.finish(17);case 20:case"end":return u.stop()}},n,this,[[4,14,17,20]])})},{key:"getPositions",value:L.mark(function n(){var e,r,t,i,o,s=arguments;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,r=new Wa(e),u.next=5,r.position;case 5:t=p(r),u.prev=6,t.s();case 8:if((i=t.n()).done){u.next=14;break}return o=i.value,u.next=12,o.nextPosition;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),t.e(u.t0);case 19:return u.prev=19,t.f(),u.finish(19);case 22:case"end":return u.stop()}},n,this,[[6,16,19,22]])})},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new a(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var r=[new a(this.start,this.end)],t=p(e),i;try{for(t.s();!(i=t.n()).done;)for(var o=i.value,s=0;s<r.length;s++){var l=r[s].getTransformedByOperation(o);r.splice.apply(r,[s,1].concat(z(l))),s+=l.length-1}}catch(h){t.e(h)}finally{t.f()}for(var u=0;u<r.length;u++)for(var c=r[u],d=u+1;d<r.length;d++){var f=r[d];(c.containsRange(f)||f.containsRange(c)||c.isEqual(f))&&r.splice(d,1)}return r}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,r=this.end.nodeBefore;return e&&e.is("element")&&e===r?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._getTransformedByInsertion(e.position,e.howMany,r)}},{key:"_getTransformedByMoveOperation",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.sourcePosition,i=e.howMany,o=e.targetPosition;return this._getTransformedByMove(t,o,i,r)}},{key:"_getTransformedBySplitOperation",value:function(e){var r=this.start._getTransformedBySplitOperation(e),t=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(t=this.end.getShiftedBy(1)),r.root!=t.root&&(t=this.end.getShiftedBy(-1)),new a(r,t)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new a(this.start);var r=this.start._getTransformedByMergeOperation(e),t=this.end._getTransformedByMergeOperation(e);return r.root!=t.root&&(t=this.end.getShiftedBy(-1)),r.isAfter(t)?(e.sourcePosition.isBefore(e.targetPosition)?(r=kt._createAt(t),r.offset=0):(e.deletionPosition.isEqual(r)||(t=e.deletionPosition),r=e.targetPosition),new a(r,t)):new a(r,t)}},{key:"_getTransformedByInsertion",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t&&this.containsPosition(e))return[new a(this.start,e),new a(e.getShiftedBy(r),this.end._getTransformedByInsertion(e,r))];{var i=new a(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,r),i.end=i.end._getTransformedByInsertion(e,r),[i]}}},{key:"_getTransformedByMove",value:function(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.isCollapsed){var o=this.start._getTransformedByMove(e,r,t);return[new a(o)]}var s=a._createFromPositionAndShift(e,t),l=r._getTransformedByDeletion(e,t);if(this.containsPosition(r)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var u=this.start._getTransformedByMove(e,r,t),c=this.end._getTransformedByMove(e,r,t);return[new a(u,c)]}var d,f=this.getDifference(s),h=null,k=this.getIntersection(s);if(f.length==1?h=new a(f[0].start._getTransformedByDeletion(e,t),f[0].end._getTransformedByDeletion(e,t)):f.length==2&&(h=new a(this.start,this.end._getTransformedByDeletion(e,t))),d=h?h._getTransformedByInsertion(l,t,k!==null||i):[],k){var P=new a(k.start._getCombined(s.start,l),k.end._getCombined(s.start,l));d.length==2?d.splice(1,0,P):d.push(P)}return d}},{key:"_getTransformedByDeletion",value:function(e,r){var t=this.start._getTransformedByDeletion(e,r),i=this.end._getTransformedByDeletion(e,r);return t==null&&i==null?null:(t==null&&(t=e),i==null&&(i=e),new a(t,i))}}],[{key:"_createFromPositionAndShift",value:function(e,r){var t=e,i=e.getShiftedBy(r);return r>0?new this(t,i):new this(i,t)}},{key:"_createIn",value:function(e){return new this(kt._createAt(e,0),kt._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(kt._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(e.length===0)throw new me.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(e.length==1)return e[0].clone();var r=e[0];e.sort(function(l,u){return l.start.isAfter(u.start)?1:-1});var t=e.indexOf(r),i=new this(r.start,r.end);if(t>0)for(var o=t-1;e[o].end.isEqual(i.start);o++)i.start=kt._createAt(e[o].start);for(var s=t+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=kt._createAt(e[s].end);return i}},{key:"fromJSON",value:function(e,r){return new this(kt.fromJSON(e.start,r),kt.fromJSON(e.end,r))}}]),a}(),ou=function(){function a(){var n=this;C(this,a),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",function(e,r){if(!r.viewPosition){var t=n._modelToViewMapping.get(r.modelPosition.parent);r.viewPosition=n._findPositionIn(t,r.modelPosition.offset)}},{priority:"low"}),this.on("viewToModelPosition",function(e,r){if(!r.modelPosition){var t=n.findMappedViewAncestor(r.viewPosition),i=n._viewToModelMapping.get(t),o=n._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,t);r.modelPosition=kt._createAt(i,o)}},{priority:"low"})}return E(a,[{key:"bindElements",value:function(e,r){this._modelToViewMapping.set(e,r),this._viewToModelMapping.set(r,e)}},{key:"unbindViewElement",value:function(e){var r=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var t=p(this._elementToMarkerNames.get(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._unboundMarkerNames.add(o)}}catch(s){t.e(s)}finally{t.f()}}this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r)}},{key:"unbindModelElement",value:function(e){var r=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(r)==e&&this._viewToModelMapping.delete(r)}},{key:"bindElementToMarker",value:function(e,r){var t=this._markerNameToElements.get(r)||new Set;t.add(e);var i=this._elementToMarkerNames.get(e)||new Set;i.add(r),this._markerNameToElements.set(r,t),this._elementToMarkerNames.set(e,i)}},{key:"unbindElementFromMarkerName",value:function(e,r){var t=this._markerNameToElements.get(r);t&&(t.delete(e),t.size==0&&this._markerNameToElements.delete(r));var i=this._elementToMarkerNames.get(e);i&&(i.delete(r),i.size==0&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new ot(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new Cr(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var r={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}},{key:"toViewPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isPhantom:!1},t={modelPosition:e,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",t),t.viewPosition}},{key:"markerNameToElements",value:function(e){var r=this._markerNameToElements.get(e);if(!r)return null;var t=new Set,i=p(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.is("attributeElement")){var l=p(s.getElementsWithSameId()),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;t.add(c)}}catch(d){l.e(d)}finally{l.f()}}else t.add(s)}}catch(d){i.e(d)}finally{i.f()}return t}},{key:"registerViewToModelLength",value:function(e,r){this._viewToModelLengthCallbacks.set(e,r)}},{key:"findMappedViewAncestor",value:function(e){for(var r=e.parent;!this._viewToModelMapping.has(r);)r=r.parent;return r}},{key:"_toModelOffset",value:function(e,r,t){if(t!=e)return this._toModelOffset(e.parent,e.index,t)+this._toModelOffset(e,r,e);if(e.is("text"))return r;for(var i=0,o=0;o<r;o++)i+=this.getModelLength(e.getChild(o));return i}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;{var r=0,t=p(e.getChildren()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;r+=this.getModelLength(o)}}catch(s){t.e(s)}finally{t.f()}return r}}},{key:"_findPositionIn",value:function(e,r){var t,i=0,o=0,s=0;if(e.is("text"))return new Tt(e,r);for(;o<r;)t=e.getChild(s),i=this.getModelLength(t),o+=i,s++;return o==r?this._moveViewPositionToTextNode(new Tt(e,s)):this._findPositionIn(t,r-(o-i))}},{key:"_moveViewPositionToTextNode",value:function(e){var r=e.nodeBefore,t=e.nodeAfter;return r instanceof tt?new Tt(r,r.data.length):t instanceof tt?new Tt(t,0):e}}]),a}();rr(ou,rn);var kl=function(){function a(){C(this,a),this._consumable=new Map,this._textProxyRegistry=new Map}return E(a,[{key:"add",value:function(e,r){r=_l(r),e instanceof ya&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(r,!0)}},{key:"consume",value:function(e,r){return r=_l(r),e instanceof ya&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,r)&&(this._consumable.get(e).set(r,!1),!0)}},{key:"test",value:function(e,r){r=_l(r),e instanceof ya&&(e=this._getSymbolForTextProxy(e));var t=this._consumable.get(e);if(t===void 0)return null;var i=t.get(r);return i===void 0?null:i}},{key:"revert",value:function(e,r){r=_l(r),e instanceof ya&&(e=this._getSymbolForTextProxy(e));var t=this.test(e,r);return t===!1?(this._consumable.get(e).set(r,!0),!0):t!==!0&&null}},{key:"_getSymbolForTextProxy",value:function(e){var r=null,t=this._textProxyRegistry.get(e.startOffset);if(t){var i=t.get(e.endOffset);i&&(r=i.get(e.parent))}return r||(r=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),r}},{key:"_addSymbolForTextProxy",value:function(e,r,t){var i=Symbol("textProxySymbol"),o,s;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),s=o.get(r),s||(s=new Map,o.set(r,s)),s.set(t,i),i}}]),a}();function _l(a){var n=a.split(":");return n.length>1?n[0]+":"+n[1]:n[0]}var su=function(){function a(n){C(this,a),this.conversionApi=va({dispatcher:this},n)}return E(a,[{key:"convertChanges",value:function(e,r,t){var i=p(e.getMarkersToRemove()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.convertMarkerRemove(s.name,s.range,t)}}catch(G){i.e(G)}finally{i.f()}var l=p(e.getChanges()),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c.type=="insert"?this.convertInsert(ot._createFromPositionAndShift(c.position,c.length),t):c.type=="remove"?this.convertRemove(c.position,c.length,c.name,t):this.convertAttribute(c.range,c.attributeKey,c.attributeOldValue,c.attributeNewValue,t)}}catch(G){l.e(G)}finally{l.f()}var d=p(this.conversionApi.mapper.flushUnboundMarkerNames()),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,k=r.get(h).getRange();this.convertMarkerRemove(h,k,t),this.convertMarkerAdd(h,k,t)}}catch(G){d.e(G)}finally{d.f()}var P=p(e.getMarkersToAdd()),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;this.convertMarkerAdd(I.name,I.range,t)}}catch(G){P.e(G)}finally{P.f()}}},{key:"convertInsert",value:function(e,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createInsertConsumable(e);var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.item,l={item:s,range:ot._createFromPositionAndShift(o.previousPosition,o.length)};this._testAndFire("insert",l);var u=p(s.getAttributeKeys()),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;l.attributeKey=d,l.attributeOldValue=null,l.attributeNewValue=s.getAttribute(d),this._testAndFire("attribute:"+d,l)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){t.e(f)}finally{t.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,r,t,i){this.conversionApi.writer=i,this.fire("remove:"+t,{position:e,length:r},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,r,t,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+r);var s=p(e),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c={item:u.item,range:ot._createFromPositionAndShift(u.previousPosition,u.length),attributeKey:r,attributeOldValue:t,attributeNewValue:i};this._testAndFire("attribute:"+r,c)}}catch(d){s.e(d)}finally{s.f()}this._clearConversionApi()}},{key:"convertSelection",value:function(e,r,t){var i=Array.from(r.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=t,this.conversionApi.consumable=this._createSelectionConsumable(e,i),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.getRange();if(!!kv(e.getFirstPosition(),l,this.conversionApi.mapper)){var c={item:e,markerName:l.name,markerRange:u};this.conversionApi.consumable.test(e,"addMarker:"+l.name)&&this.fire("addMarker:"+l.name,c,this.conversionApi)}}}catch(P){o.e(P)}finally{o.f()}var d=p(e.getAttributeKeys()),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,k={item:e,range:e.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:e.getAttribute(h)};this.conversionApi.consumable.test(e,"attribute:"+k.attributeKey)&&this.fire("attribute:"+k.attributeKey+":$text",k,this.conversionApi)}}catch(P){d.e(P)}finally{d.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,r,t){if(!(!r.root.document||r.root.rootName=="$graveyard")){this.conversionApi.writer=t;var i="addMarker:"+e,o=new kl;if(o.add(r,i),this.conversionApi.consumable=o,this.fire(i,{markerName:e,markerRange:r},this.conversionApi),o.test(r,i)){this.conversionApi.consumable=this._createConsumableForRange(r,i);var s=p(r.getItems()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!!this.conversionApi.consumable.test(u,i)){var c={item:u,range:ot._createOn(u),markerName:e,markerRange:r};this.fire(i,c,this.conversionApi)}}}catch(d){s.e(d)}finally{s.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,r,t){r.root.document&&r.root.rootName!="$graveyard"&&(this.conversionApi.writer=t,this.fire("removeMarker:"+e,{markerName:e,markerRange:r},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(e){var r=new kl,t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.item;r.add(s,"insert");var l=p(s.getAttributeKeys()),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;r.add(s,"attribute:"+c)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){t.e(d)}finally{t.f()}return r}},{key:"_createConsumableForRange",value:function(e,r){var t=new kl,i=p(e.getItems()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.add(s,r)}}catch(l){i.e(l)}finally{i.f()}return t}},{key:"_createSelectionConsumable",value:function(e,r){var t=new kl;t.add(e,"selection");var i=p(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.add(e,"addMarker:"+s.name)}}catch(d){i.e(d)}finally{i.f()}var l=p(e.getAttributeKeys()),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;t.add(e,"attribute:"+c)}}catch(d){l.e(d)}finally{l.f()}return t}},{key:"_testAndFire",value:function(e,r){if(!!this.conversionApi.consumable.test(r.item,e)){var t=r.item.name||"$text";this.fire(e+":"+t,r,this.conversionApi)}}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),a}();function kv(a,n,e){var r=n.getRange(),t=Array.from(a.getAncestors());return t.shift(),t.reverse(),!t.some(function(i){if(r.containsItem(i))return!!e.toViewElement(i).getCustomProperty("addHighlight")})}rr(su,rn);var co=function(){function a(n,e,r){C(this,a),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,n&&this.setTo(n,e,r)}return E(a,[{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return this._ranges.length===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=!1,s=p(e._ranges),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(i.isEqual(u)){o=!0;break}}}catch(c){s.e(c)}finally{s.f()}if(!o)return!1}}catch(c){r.e(c)}finally{r.f()}return!0}},{key:"getRanges",value:L.mark(function n(){var e,r,t;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._ranges),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return t=r.value,o.next=7,new ot(t.start,t.end);case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.start.isBefore(e.start)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?new ot(e.start,e.end):null}},{key:"getLastRange",value:function(){var e=null,r=p(this._ranges),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e&&!i.end.isAfter(e.end)||(e=i)}}catch(o){r.e(o)}finally{r.f()}return e?new ot(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(e,r,t){if(e===null)this._setRanges([]);else if(e instanceof a)this._setRanges(e.getRanges(),e.isBackward);else if(e&&typeof e.getRanges=="function")this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof ot)this._setRanges([e],!!r&&!!r.backward);else if(e instanceof kt)this._setRanges([new ot(e)]);else if(e instanceof Xs){var i=!!t&&!!t.backward,o;if(r=="in")o=ot._createIn(e);else if(r=="on")o=ot._createOn(e);else{if(r===void 0)throw new me.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,e]);o=new ot(kt._createAt(e,r))}this._setRanges([o],i)}else{if(!Hn(e))throw new me.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e]);this._setRanges(e,r&&!!r.backward)}}},{key:"_setRanges",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=(e=Array.from(e)).some(function(u){if(!(u instanceof ot))throw new me.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[r,e]);return r._ranges.every(function(c){return!c.isEqual(u)})});if(e.length!==this._ranges.length||i){this._removeAllRanges();var o=p(e),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;this._pushRange(l)}}catch(u){o.e(u)}finally{o.f()}this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,r){if(this.anchor===null)throw new me.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);var t=kt._createAt(e,r);if(t.compareWith(this.focus)!="same"){var i=this.anchor;this._ranges.length&&this._popRange(),t.compareWith(i)=="before"?(this._pushRange(new ot(t,i)),this._lastRangeBackward=!0):(this._pushRange(new ot(i,t)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,r){this.getAttribute(e)!==r&&(this._attrs.set(e,r),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return e==="selection"||e==="model:selection"}},{key:"getSelectedBlocks",value:L.mark(function n(){var e,r,t,i,o,s,l,u,c,d;return L.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:e=new WeakSet,r=p(this.getRanges()),h.prev=2,r.s();case 4:if((t=r.n()).done){h.next=38;break}if(i=t.value,o=Ec(i.start,e),h.t0=o&&lu(o,i),!h.t0){h.next=11;break}return h.next=11,o;case 11:s=p(i.getWalker()),h.prev=12,s.s();case 14:if((l=s.n()).done){h.next=23;break}if(u=l.value,c=u.item,h.t1=u.type=="elementEnd"&&_v(c,e,i),!h.t1){h.next=21;break}return h.next=21,c;case 21:h.next=14;break;case 23:h.next=28;break;case 25:h.prev=25,h.t2=h.catch(12),s.e(h.t2);case 28:return h.prev=28,s.f(),h.finish(28);case 31:if(d=Ec(i.end,e),h.t3=d&&!i.end.isTouching(kt._createAt(d,0))&&lu(d,i),!h.t3){h.next=36;break}return h.next=36,d;case 36:h.next=4;break;case 38:h.next=43;break;case 40:h.prev=40,h.t4=h.catch(2),r.e(h.t4);case 43:return h.prev=43,r.f(),h.finish(43);case 46:case"end":return h.stop()}},n,this,[[2,40,43,46],[12,25,28,31]])})},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.anchor.root,r=kt._createAt(e,0),t=kt._createAt(e,"end");return r.isTouching(this.getFirstPosition())&&t.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new ot(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var r=0;r<this._ranges.length;r++)if(e.isIntersecting(this._ranges[r]))throw new me.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[r]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),a}();function Pc(a,n){return!n.has(a)&&(n.add(a),a.root.document.model.schema.isBlock(a)&&a.parent)}function _v(a,n,e){return Pc(a,n)&&lu(a,e)}function Ec(a,n){var e=a.parent.root.document.model.schema,r=a.parent.getAncestors({parentFirst:!0,includeSelf:!0}),t=!1,i=r.find(function(o){return!t&&(t=e.isLimit(o),!t&&Pc(o,n))});return r.forEach(function(o){return n.add(o)}),i}function lu(a,n){var e=function(r){for(var t=r.root.document.model.schema,i=r.parent;i;){if(t.isBlock(i))return i;i=i.parent}}(a);return e?!n.containsRange(ot._createOn(e),!0):!0}rr(co,rn);var vs=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r,t),xv.call(O(i)),i}return E(e,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"}},{key:"toRange",value:function(){return new ot(this.start,this.end)}}],[{key:"fromRange",value:function(t){return new e(t.start,t.end)}}]),e}(ot);function xv(){var a=this;this.listenTo(this.root.document.model,"applyOperation",function(n,e){var r=e[0];r.isDocumentOperation&&Ov.call(a,r)},{priority:"low"})}function Ov(a){var n=this.getTransformedByOperation(a),e=ot._createFromRanges(n),r=!e.isEqual(this),t=function(s,l){switch(l.type){case"insert":return s.containsPosition(l.position);case"move":case"remove":case"reinsert":case"merge":return s.containsPosition(l.sourcePosition)||s.start.isEqual(l.sourcePosition)||s.containsPosition(l.targetPosition);case"split":return s.containsPosition(l.splitPosition)||s.containsPosition(l.insertionPosition)}return!1}(this,a),i=null;if(r){e.root.rootName=="$graveyard"&&(i=a.type=="remove"?a.sourcePosition:a.deletionPosition);var o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:i})}else t&&this.fire("change:content",this.toRange(),{deletionPosition:i})}rr(vs,rn);var Zi=function(){function a(n){C(this,a),this._selection=new Pv(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return E(a,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return e==="selection"||e=="model:selection"||e=="documentSelection"||e=="model:documentSelection"}},{key:"_setFocus",value:function(e,r){this._selection.setFocus(e,r)}},{key:"_setTo",value:function(e,r,t){this._selection.setTo(e,r,t)}},{key:"_setAttribute",value:function(e,r){this._selection.setAttribute(e,r)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),a}();rr(Zi,rn);var Pv=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this),t.markers=new Un({idProperty:"name"}),t._model=r.model,t._document=r,t._attributePriority=new Map,t._fixGraveyardRangesData=[],t._hasChangedRange=!1,t._overriddenGravityRegister=new Set,t.listenTo(t._model,"applyOperation",function(i,o){var s=o[0];if(s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"){for(;t._fixGraveyardRangesData.length;){var l=t._fixGraveyardRangesData.shift(),u=l.liveRange,c=l.sourcePosition;t._fixGraveyardSelection(u,c)}t._hasChangedRange&&(t._hasChangedRange=!1,t.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),t.on("change:range",function(){var i=p(t.getRanges()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!t._document._validateSelectionRange(s))throw new me.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",O(t),{range:s})}}catch(l){i.e(l)}finally{i.f()}}),t.listenTo(t._model.markers,"update",function(){return t._updateMarkers()}),t.listenTo(t._document,"change",function(i,o){(function(s,l){var u=s.document.differ,c=p(u.getChanges()),d;try{var f=function(){var P=d.value;if(P.type!="insert")return"continue";var A=P.position.parent;P.length===A.maxOffset&&s.enqueueChange(l,function(I){var G=Array.from(A.getAttributeKeys()).filter(function(be){return be.startsWith("selection:")}),Z=p(G),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value;I.removeAttribute(ae,A)}}catch(be){Z.e(be)}finally{Z.f()}})};for(c.s();!(d=c.n()).done;)var h=f()}catch(k){c.e(k)}finally{c.f()}})(t._model,o)}),t}return E(e,[{key:"isCollapsed",get:function(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:m(S(e.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return m(S(e.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return m(S(e.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}},{key:"getRanges",value:L.mark(function r(){return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this._ranges.length){i.next=4;break}return i.delegateYield(m(S(e.prototype),"getRanges",this).call(this),"t0",2);case 2:i.next=6;break;case 4:return i.next=6,this._document._getDefaultRange();case 6:case"end":return i.stop()}},r,this)})},{key:"getFirstRange",value:function(){return m(S(e.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return m(S(e.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,i,o){m(S(e.prototype),"setTo",this).call(this,t,i,o),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,i){m(S(e.prototype),"setFocus",this).call(this,t,i),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,i){if(this._setAttribute(t,i)){var o=[t];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var i=[t];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=ei();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new me.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var i=this._prepareRange(t);i&&this._ranges.push(i)}},{key:"_prepareRange",value:function(t){var i=this;if(this._checkRange(t),t.root!=this._document.graveyard){var o=vs.fromRange(t);return o.on("change:range",function(s,l,u){i._hasChangedRange=!0,o.root==i._document.graveyard&&i._fixGraveyardRangesData.push({liveRange:o,sourcePosition:u.deletionPosition})}),o}}},{key:"_updateMarkers",value:function(){var t=[],i=!1,o=p(this._model.markers),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.getRange(),c=p(this.getRanges()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;u.containsRange(f,!f.isCollapsed)&&t.push(l)}}catch(q){c.e(q)}finally{c.f()}}}catch(q){o.e(q)}finally{o.f()}for(var h=Array.from(this.markers),k=0,P=t;k<P.length;k++){var A=P[k];this.markers.has(A)||(this.markers.add(A),i=!0)}for(var I=0,G=Array.from(this.markers);I<G.length;I++){var Z=G[I];t.includes(Z)||(this.markers.remove(Z),i=!0)}i&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}},{key:"_updateAttributes",value:function(t){var i=yr(this._getSurroundingAttributes()),o=yr(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else{var s=p(this._attributePriority),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=H(u,2),d=c[0],f=c[1];f=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d))}}catch(Ze){s.e(Ze)}finally{s.f()}}this._setAttributesTo(i);var h=[],k=p(this.getAttributes()),P;try{for(k.s();!(P=k.n()).done;){var A=P.value,I=H(A,2),G=I[0],Z=I[1];o.has(G)&&o.get(G)===Z||h.push(G)}}catch(Ze){k.e(Ze)}finally{k.f()}var q=p(o),ae;try{for(q.s();!(ae=q.n()).done;){var be=ae.value,Re=H(be,1),Ne=Re[0];this.hasAttribute(Ne)||h.push(Ne)}}catch(Ze){q.e(Ze)}finally{q.f()}h.length>0&&this.fire("change:attribute",{attributeKeys:h,directChange:!1})}},{key:"_setAttribute",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o?"normal":"low";return s=="low"&&this._attributePriority.get(t)=="normal"?!1:m(S(e.prototype),"getAttribute",this).call(this,t)!==i&&(this._attrs.set(t,i),this._attributePriority.set(t,s),!0)}},{key:"_removeAttribute",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=i?"normal":"low";return(o!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,o),!!m(S(e.prototype),"hasAttribute",this).call(this,t)&&(this._attrs.delete(t),!0))}},{key:"_setAttributesTo",value:function(t){var i=new Set,o=p(this.getAttributes()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=H(l,2),c=u[0],d=u[1];t.get(c)!==d&&this._removeAttribute(c,!1)}}catch(G){o.e(G)}finally{o.f()}var f=p(t),h;try{for(f.s();!(h=f.n()).done;){var k=h.value,P=H(k,2),A=P[0],I=P[1];this._setAttribute(A,I,!1)&&i.add(A)}}catch(G){f.e(G)}finally{f.f()}return i}},{key:"_getStoredAttributes",value:L.mark(function r(){var t,i,o,s,l;return L.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=this.getFirstPosition().parent,!(this.isCollapsed&&t.isEmpty)){c.next=21;break}i=p(t.getAttributeKeys()),c.prev=3,i.s();case 5:if((o=i.n()).done){c.next=13;break}if(s=o.value,!s.startsWith("selection:")){c.next=11;break}return l=s.substr("selection:".length),c.next=11,[l,t.getAttribute(s)];case 11:c.next=5;break;case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(3),i.e(c.t0);case 18:return c.prev=18,i.f(),c.finish(18);case 21:case"end":return c.stop()}},r,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),i=this._model.schema,o=null;if(this.isCollapsed){var s=t.textNode?t.textNode:t.nodeBefore,l=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(o=xl(s)),o||(o=xl(l)),!this.isGravityOverridden&&!o)for(var u=s;u&&!o;)u=u.previousSibling,o=xl(u);if(!o)for(var c=l;c&&!o;)c=c.nextSibling,o=xl(c);o||(o=this._getStoredAttributes())}else{var d=this.getFirstRange(),f=p(d),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;if(k.item.is("element")&&i.isObject(k.item))break;if(k.type=="text"){o=k.item.getAttributes();break}}}catch(P){f.e(P)}finally{f.f()}}return o}},{key:"_fixGraveyardSelection",value:function(t,i){var o=i.clone(),s=this._model.schema.getNearestSelectionRange(o),l=this._ranges.indexOf(t);if(this._ranges.splice(l,1),t.detach(),s&&(c=s,this._ranges.every(function(d){return!c.isEqual(d)}))){var u=this._prepareRange(s);this._ranges.splice(l,0,u)}var c}}]),e}(co);function xl(a){return a instanceof ya||a instanceof Fn?a.getAttributes():null}var Cc=function(){function a(n){C(this,a),this._dispatchers=n}return E(a,[{key:"add",value:function(e){var r=p(this._dispatchers),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e(i)}}catch(o){r.e(o)}finally{r.f()}return this}}]),a}(),fo=function(n){return ja(n,5)},Ev=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"elementToElement",value:function(t){return this.add(function(i){return(i=fo(i)).view=Ol(i.view,"container"),function(o){var s;o.on("insert:"+i.model,(s=i.view,function(l,u,c){var d=s(u.item,c.writer);if(!!d&&!!c.consumable.consume(u.item,"insert")){var f=c.mapper.toViewPosition(u.range.start);c.mapper.bindElements(u.item,d),c.writer.insert(f,d)}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"attributeToElement",value:function(t){return this.add(function(i){i=fo(i);var o="attribute:"+(i.model.key?i.model.key:i.model);if(i.model.name&&(o+=":"+i.model.name),i.model.values){var s=p(i.model.values),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;i.view[u]=Ol(i.view[u],"attribute")}}catch(d){s.e(d)}finally{s.f()}}else i.view=Ol(i.view,"attribute");var c=Sc(i);return function(d){d.on(o,function(f){return function(h,k,P){var A=f(k.attributeOldValue,P.writer),I=f(k.attributeNewValue,P.writer);if(!(!A&&!I)&&!!P.consumable.consume(k.item,h.name)){var G=P.writer,Z=G.document.selection;if(k.item instanceof co||k.item instanceof Zi)G.wrap(Z.getFirstRange(),I);else{var q=P.mapper.toViewRange(k.range);k.attributeOldValue!==null&&A&&(q=G.unwrap(q,A)),k.attributeNewValue!==null&&I&&G.wrap(q,I)}}}}(c),{priority:i.converterPriority||"normal"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(i){i=fo(i);var o="attribute:"+(i.model.key?i.model.key:i.model);if(i.model.name&&(o+=":"+i.model.name),i.model.values){var s=p(i.model.values),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;i.view[u]=Tc(i.view[u])}}catch(d){s.e(d)}finally{s.f()}}else i.view=Tc(i.view);var c=Sc(i);return function(d){var f;d.on(o,(f=c,function(h,k,P){var A=f(k.attributeOldValue,k),I=f(k.attributeNewValue,k);if(!(!A&&!I)&&!!P.consumable.consume(k.item,h.name)){var G=P.mapper.toViewElement(k.item),Z=P.writer;if(!G)throw new me.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[k,P]);if(k.attributeOldValue!==null&&A)if(A.key=="class"){var q=Array.isArray(A.value)?A.value:[A.value],ae=p(q),be;try{for(ae.s();!(be=ae.n()).done;){var Re=be.value;Z.removeClass(Re,G)}}catch(wi){ae.e(wi)}finally{ae.f()}}else if(A.key=="style")for(var Ne=Object.keys(A.value),Ze=0,_t=Ne;Ze<_t.length;Ze++){var Rt=_t[Ze];Z.removeStyle(Rt,G)}else Z.removeAttribute(A.key,G);if(k.attributeNewValue!==null&&I)if(I.key=="class"){var Jt=Array.isArray(I.value)?I.value:[I.value],Dt=p(Jt),Et;try{for(Dt.s();!(Et=Dt.n()).done;){var Xt=Et.value;Z.addClass(Xt,G)}}catch(wi){Dt.e(wi)}finally{Dt.f()}}else if(I.key=="style")for(var Qt=Object.keys(I.value),wr=0,xn=Qt;wr<xn.length;wr++){var qn=xn[wr];Z.setStyle(qn,I.value[qn],G)}else Z.setAttribute(I.key,I.value,G)}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"markerToElement",value:function(t){return this.add(function(i){return(i=fo(i)).view=Ol(i.view,"ui"),function(o){var s;o.on("addMarker:"+i.model,(s=i.view,function(l,u,c){u.isOpening=!0;var d=s(u,c.writer);u.isOpening=!1;var f=s(u,c.writer);if(!(!d||!f)){var h=u.markerRange;if(!(h.isCollapsed&&!c.consumable.consume(h,l.name))){var k=p(h),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;if(!c.consumable.consume(A.item,l.name))return}}catch(Z){k.e(Z)}finally{k.f()}var I=c.mapper,G=c.writer;G.insert(I.toViewPosition(h.start),d),c.mapper.bindElementToMarker(d,u.markerName),h.isCollapsed||(G.insert(I.toViewPosition(h.end),f),c.mapper.bindElementToMarker(f,u.markerName)),l.stop()}}}),{priority:i.converterPriority||"normal"}),o.on("removeMarker:"+i.model,(i.view,function(l,u,c){var d=c.mapper.markerNameToElements(u.markerName);if(d){var f=p(d),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;c.mapper.unbindElementFromMarkerName(k,u.markerName),c.writer.clear(c.writer.createRangeOn(k),k)}}catch(P){f.e(P)}finally{f.f()}c.writer.clearClonedElementsGroup(u.markerName),l.stop()}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"markerToHighlight",value:function(t){return this.add(function(i){return function(o){var s;o.on("addMarker:"+i.model,(s=i.view,function(l,u,c){if(!!u.item&&!!(u.item instanceof co||u.item instanceof Zi||u.item.is("textProxy"))){var d=uu(s,u,c);if(!!d&&!!c.consumable.consume(u.item,l.name)){var f=c.writer,h=Ac(f,d),k=f.document.selection;if(u.item instanceof co||u.item instanceof Zi)f.wrap(k.getFirstRange(),h,k);else{var P=c.mapper.toViewRange(u.range),A=f.wrap(P,h),I=p(A.getItems()),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value;if(Z.is("attributeElement")&&Z.isSimilar(h)){c.mapper.bindElementToMarker(Z,u.markerName);break}}}catch(q){I.e(q)}finally{I.f()}}}}}),{priority:i.converterPriority||"normal"}),o.on("addMarker:"+i.model,function(l){return function(u,c,d){if(!!c.item&&c.item instanceof zn){var f=uu(l,c,d);if(!!f&&!!d.consumable.test(c.item,u.name)){var h=d.mapper.toViewElement(c.item);if(h&&h.getCustomProperty("addHighlight")){d.consumable.consume(c.item,u.name);var k=p(ot._createIn(c.item)),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;d.consumable.consume(A.item,u.name)}}catch(I){k.e(I)}finally{k.f()}h.getCustomProperty("addHighlight")(h,f,d.writer),d.mapper.bindElementToMarker(h,c.markerName)}}}}}(i.view),{priority:i.converterPriority||"normal"}),o.on("removeMarker:"+i.model,function(l){return function(u,c,d){if(!c.markerRange.isCollapsed){var f=uu(l,c,d);if(!!f){var h=Ac(d.writer,f),k=d.mapper.markerNameToElements(c.markerName);if(k){var P=p(k),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;d.mapper.unbindElementFromMarkerName(I,c.markerName),I.is("attributeElement")?d.writer.unwrap(d.writer.createRangeOn(I),h):I.getCustomProperty("removeHighlight")(I,f.id,d.writer)}}catch(G){P.e(G)}finally{P.f()}d.writer.clearClonedElementsGroup(c.markerName),u.stop()}}}}}(i.view),{priority:i.converterPriority||"normal"})}}(t))}}]),e}(Cc);function Ac(a,n){var e=a.createAttributeElement("span",n.attributes);return n.classes&&e._addClass(n.classes),n.priority&&(e._priority=n.priority),e._id=n.id,e}function Ol(a,n){return typeof a=="function"?a:function(e,r){return function(t,i,o){typeof t=="string"&&(t={name:t});var s,l=Object.assign({},t.attributes);if(o=="container")s=i.createContainerElement(t.name,l);else if(o=="attribute"){var u={priority:t.priority||Ji.DEFAULT_PRIORITY};s=i.createAttributeElement(t.name,l,u)}else s=i.createUIElement(t.name,l);if(t.styles)for(var c=Object.keys(t.styles),d=0,f=c;d<f.length;d++){var h=f[d];i.setStyle(h,t.styles[h],s)}if(t.classes){var k=t.classes;if(typeof k=="string")i.addClass(k,s);else{var P=p(k),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;i.addClass(I,s)}}catch(G){P.e(G)}finally{P.f()}}}return s}(a,r,n)}}function Sc(a){return a.model.values?function(n,e){var r=a.view[n];return r?r(n,e):null}:a.view}function Tc(a){return typeof a=="string"?function(n){return{key:a,value:n}}:typeof a=="object"?a.value?function(){return a}:function(n){return{key:a.key,value:n}}:a}function uu(a,n,e){var r=typeof a=="function"?a(n,e):a;return r?(r.priority||(r.priority=10),r.id||(r.id=n.markerName),r):null}var Cv=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"elementToElement",value:function(t){return this.add(Mc(t))}},{key:"elementToAttribute",value:function(t){return this.add(function(i){Ic(i=fo(i));var o=jc(i,!1),s=cu(i.view),l=s?"element:"+s:"element";return function(u){u.on(l,o,{priority:i.converterPriority||"low"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(i){i=fo(i);var o=null;(typeof i.view=="string"||i.view.key)&&(o=function(l){typeof l.view=="string"&&(l.view={key:l.view});var u=l.view.key,c;if(u=="class"||u=="style")c=B({},u=="class"?"classes":"styles",l.view.value);else{var d=l.view.value===void 0?/[\s\S]*/:l.view.value;c={attributes:B({},u,d)}}return l.view.name&&(c.name=l.view.name),l.view=c,u}(i)),Ic(i,o);var s=jc(i,!0);return function(l){l.on("element",s,{priority:i.converterPriority||"low"})}}(t))}},{key:"elementToMarker",value:function(t){return this.add(function(i){return function(o){var s=o.model;o.model=function(l,u){var c=typeof s=="string"?s:s(l);return u.createElement("$marker",{"data-name":c})}}(i=fo(i)),Mc(i)}(t))}}]),e}(Cc);function Mc(a){var n=function(t){var i=t.view?new Sr(t.view):null;return function(o,s,l){var u={};if(i){var c=i.match(s.viewItem);if(!c)return;u=c.match}u.name=!0;var d=(f=t.model,h=s.viewItem,k=l.writer,f instanceof Function?f(h,k):k.createElement(f)),f,h,k;if(!!d&&!!l.consumable.test(s.viewItem,u)){var P=l.splitToAllowedParent(d,s.modelCursor);if(!!P){l.writer.insert(d,P.position),l.convertChildren(s.viewItem,l.writer.createPositionAt(d,0)),l.consumable.consume(s.viewItem,u);var A=l.getSplitParts(d);s.modelRange=new ot(l.writer.createPositionBefore(d),l.writer.createPositionAfter(A[A.length-1])),P.cursorParent?s.modelCursor=l.writer.createPositionAt(P.cursorParent,0):s.modelCursor=s.modelRange.end}}}}(a=fo(a)),e=cu(a.view),r=e?"element:"+e:"element";return function(t){t.on(r,n,{priority:a.converterPriority||"normal"})}}function cu(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function Ic(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=n===null||function(i){return i.getAttribute(n)},r=typeof a.model!="object"?a.model:a.model.key,t=typeof a.model!="object"||a.model.value===void 0?e:a.model.value;a.model={key:r,value:t}}function jc(a,n){var e=new Sr(a.view);return function(r,t,i){var o=e.match(t.viewItem);if(!!o){var s=a.model.key,l=typeof a.model.value=="function"?a.model.value(t.viewItem):a.model.value;l!==null&&(function(u,c){var d=typeof u=="function"?u(c):u;return typeof d=="object"&&!cu(d)?!1:!d.classes&&!d.attributes&&!d.styles}(a.view,t.viewItem)?o.match.name=!0:delete o.match.name,!!i.consumable.test(t.viewItem,o.match)&&(t.modelRange||(t=Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor))),function(u,c,d,f){for(var h=!1,k=0,P=Array.from(u.getItems({shallow:d}));k<P.length;k++){var A=P[k];f.schema.checkAttribute(A,c.key)&&(f.writer.setAttribute(c.key,c.value,A),h=!0)}return h}(t.modelRange,{key:s,value:l},n,i)&&i.consumable.consume(t.viewItem,o.match)))}}}var Rc=function(){function a(n,e){var r=this;C(this,a),this.model=n,this.view=new _c(e),this.mapper=new ou,this.downcastDispatcher=new su({mapper:this.mapper});var t=this.model.document,i=t.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){r.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){r.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(t,"change",function(){r.view.change(function(s){r.downcastDispatcher.convertChanges(t.differ,o,s),r.downcastDispatcher.convertSelection(i,o,s)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(s,l){return function(u,c){var d=c.newSelection,f=new co,h=[],k=p(d.getRanges()),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;h.push(l.toModelRange(A))}}catch(I){k.e(I)}finally{k.f()}f.setTo(h,{backward:d.isBackward}),f.isEqual(s.document.selection)||s.change(function(I){I.setSelection(f)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",function(s,l,u){if(!!u.consumable.consume(l.item,"insert")){var c=u.writer,d=u.mapper.toViewPosition(l.range.start),f=c.createText(l.item.data);c.insert(d,f)}},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(s,l,u){var c=u.mapper.toViewPosition(l.position),d=l.position.getShiftedBy(l.length),f=u.mapper.toViewPosition(d,{isPhantom:!0}),h=u.writer.createRange(c,f),k=u.writer.remove(h.getTrimmed()),P=p(u.writer.createRangeIn(k).getItems()),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;u.mapper.unbindViewElement(I)}}catch(G){P.e(G)}finally{P.f()}},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,u){var c=u.writer,d=c.document.selection,f=p(d.getRanges()),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;k.isCollapsed&&k.end.parent.isAttached()&&u.writer.mergeAttributes(k.start)}}catch(P){f.e(P)}finally{f.f()}c.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,u){var c=l.selection;if(!c.isCollapsed&&!!u.consumable.consume(c,"selection")){var d=[],f=p(c.getRanges()),h;try{for(f.s();!(h=f.n()).done;){var k=h.value,P=u.mapper.toViewRange(k);d.push(P)}}catch(A){f.e(A)}finally{f.f()}u.writer.setSelection(d,{backward:c.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,u){var c=l.selection;if(!!c.isCollapsed&&!!u.consumable.consume(c,"selection")){var d=u.writer,f=c.getFirstPosition(),h=u.mapper.toViewPosition(f),k=d.breakAttributes(h);d.setSelection(k)}},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(s){if(s.rootName=="$graveyard")return null;var l=new So(r.view.document,s.name);return l.rootName=s.rootName,r.mapper.bindElements(s,l),l})}return E(a,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),a}();rr(Rc,nn);var Av=function(){function a(){C(this,a),this._commands=new Map}return E(a,[{key:"add",value:function(e,r){this._commands.set(e,r)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var r=this.get(e);if(!r)throw new me.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];r.execute.apply(r,i)}},{key:"names",value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"commands",value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e=p(this.commands()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.destroy()}}catch(i){e.e(i)}finally{e.f()}}}]),a}(),Sv=function(){function a(){C(this,a),this._consumables=new Map}return E(a,[{key:"add",value:function(e,r){var t;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?t=this._consumables.get(e):(t=new Tv(e),this._consumables.set(e,t)),t.add(r))}},{key:"test",value:function(e,r){var t=this._consumables.get(e);return t===void 0?null:e.is("text")||e.is("documentFragment")?t:t.test(r)}},{key:"consume",value:function(e,r){return!!this.test(e,r)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(r),!0)}},{key:"revert",value:function(e,r){var t=this._consumables.get(e);t!==void 0&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):t.revert(r))}}],[{key:"consumablesFromElement",value:function(e){var r={element:e,name:!0,attributes:[],classes:[],styles:[]},t=e.getAttributeKeys(),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s!="style"&&s!="class"&&r.attributes.push(s)}}catch(A){i.e(A)}finally{i.f()}var l=e.getClassNames(),u=p(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;r.classes.push(d)}}catch(A){u.e(A)}finally{u.f()}var f=e.getStyleNames(),h=p(f),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;r.styles.push(P)}}catch(A){h.e(A)}finally{h.f()}return r}},{key:"createFrom",value:function(e,r){if(r||(r=new a(e)),e.is("text"))return r.add(e),r;e.is("element")&&r.add(e,a.consumablesFromElement(e)),e.is("documentFragment")&&r.add(e);var t=p(e.getChildren()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;r=a.createFrom(o,r)}}catch(s){t.e(s)}finally{t.f()}return r}}]),a}(),Tv=function(){function a(n){C(this,a),this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return E(a,[{key:"add",value:function(e){e.name&&(this._canConsumeName=!0);for(var r in this._consumables)r in e&&this._add(r,e[r])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var r in this._consumables)if(r in e){var t=this._test(r,e[r]);if(t!==!0)return t}return!0}},{key:"consume",value:function(e){e.name&&(this._canConsumeName=!1);for(var r in this._consumables)r in e&&this._consume(r,e[r])}},{key:"revert",value:function(e){e.name&&(this._canConsumeName=!0);for(var r in this._consumables)r in e&&this._revert(r,e[r])}},{key:"_add",value:function(e,r){var t=lr(r)?r:[r],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e==="attributes"&&(l==="class"||l==="style"))throw new me.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(i.set(l,!0),e==="styles"){var u=p(this.element.document.stylesProcessor.getRelatedStyles(l)),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;i.set(d,!0)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){o.e(f)}finally{o.f()}}},{key:"_test",value:function(e,r){var t=lr(r)?r:[r],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style"){var u=i.get(l);if(u===void 0)return null;if(!u)return!1}else{var c=l=="class"?"classes":"styles",d=this._test(c,z(this._consumables[c].keys()));if(d!==!0)return d}}}catch(f){o.e(f)}finally{o.f()}return!0}},{key:"_consume",value:function(e,r){var t=lr(r)?r:[r],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style"){if(i.set(l,!1),e=="styles"){var u=p(this.element.document.stylesProcessor.getRelatedStyles(l)),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;i.set(d,!1)}}catch(h){u.e(h)}finally{u.f()}}}else{var f=l=="class"?"classes":"styles";this._consume(f,z(this._consumables[f].keys()))}}}catch(h){o.e(h)}finally{o.f()}}},{key:"_revert",value:function(e,r){var t=lr(r)?r:[r],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style")i.get(l)===!1&&i.set(l,!0);else{var u=l=="class"?"classes":"styles";this._revert(u,z(this._consumables[u].keys()))}}}catch(c){o.e(c)}finally{o.f()}}}]),a}(),Dc=function(){function a(){var n=this;C(this,a),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(e,r){r[0]=new Pl(r[0])},{priority:"highest"}),this.on("checkChild",function(e,r){r[0]=new Pl(r[0]),r[1]=n.getDefinition(r[1])},{priority:"highest"})}return E(a,[{key:"register",value:function(e,r){if(this._sourceDefinitions[e])throw new me.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},r)],this._clearCache()}},{key:"extend",value:function(e,r){if(!this._sourceDefinitions[e])throw new me.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},r)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var r;return r=typeof e=="string"?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[r]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var r=this.getDefinition(e);return!(!r||!r.isBlock)}},{key:"isLimit",value:function(e){var r=this.getDefinition(e);return!!r&&!(!r.isLimit&&!r.isObject)}},{key:"isObject",value:function(e){var r=this.getDefinition(e);return!(!r||!r.isObject)}},{key:"isInline",value:function(e){var r=this.getDefinition(e);return!(!r||!r.isInline)}},{key:"checkChild",value:function(e,r){return!!r&&this._checkContextMatch(r,e)}},{key:"checkAttribute",value:function(e,r){var t=this.getDefinition(e.last);return!!t&&t.allowAttributes.includes(r)}},{key:"checkMerge",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e instanceof kt){var t=e.nodeBefore,i=e.nodeAfter;if(!(t instanceof zn))throw new me.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(i instanceof zn))throw new me.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(t,i)}var o=p(r.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(!this.checkChild(e,l))return!1}}catch(u){o.e(u)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",function(r,t){var i=H(t,2),o=i[0],s=i[1];if(!!s){var l=e(o,s);typeof l=="boolean"&&(r.stop(),r.return=l)}},{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",function(r,t){var i=H(t,2),o=i[0],s=i[1],l=e(o,s);typeof l=="boolean"&&(r.stop(),r.return=l)},{priority:"high"})}},{key:"setAttributeProperties",value:function(e,r){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),r)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var r;for(e instanceof kt?r=e.parent:r=(e instanceof ot?[e]:Array.from(e.getRanges())).reduce(function(t,i){var o=i.getCommonAncestor();return t?t.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}},{key:"checkAttributeInSelection",value:function(e,r){if(e.isCollapsed){var t=[].concat(z(e.getFirstPosition().getAncestors()),[new Fn("",e.getAttributes())]);return this.checkAttribute(t,r)}{var i=e.getRanges(),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=p(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;if(this.checkAttribute(d.item,r))return!0}}catch(f){u.e(f)}finally{u.f()}}}catch(f){o.e(f)}finally{o.f()}}return!1}},{key:"getValidRanges",value:L.mark(function n(e,r){var t,i,o;return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=L.mark(function u(c){var d,f,h;return L.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:d=p(c),P.prev=1,d.s();case 3:if((f=d.n()).done){P.next=8;break}return h=f.value,P.delegateYield(h.getMinimalFlatRanges(),"t0",6);case 6:P.next=3;break;case 8:P.next=13;break;case 10:P.prev=10,P.t1=P.catch(1),d.e(P.t1);case 13:return P.prev=13,d.f(),P.finish(13);case 16:case"end":return P.stop()}},u,null,[[1,10,13,16]])})(e),t=p(e),l.prev=2,t.s();case 4:if((i=t.n()).done){l.next=9;break}return o=i.value,l.delegateYield(this._getValidRangesForRange(o,r),"t0",7);case 7:l.next=4;break;case 9:l.next=14;break;case 11:l.prev=11,l.t1=l.catch(2),t.e(l.t1);case 14:return l.prev=14,t.f(),l.finish(14);case 17:case"end":return l.stop()}},n,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"both";if(this.checkChild(e,"$text"))return new ot(e);var i,o,s=e.getAncestors().reverse().find(function(h){return r.isLimit(h)})||e.root;t!="both"&&t!="backward"||(i=new Wa({boundaries:ot._createIn(s),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new Wa({boundaries:ot._createIn(s),startPosition:e}));var l=p(L.mark(function h(k,P){var A,I,G;return L.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:A=!1;case 1:if(A){q.next=18;break}if(A=!0,!k){q.next=9;break}if(I=k.next(),q.t0=I.done,q.t0){q.next=9;break}return A=!1,q.next=9,{walker:k,value:I.value};case 9:if(!P){q.next=16;break}if(G=P.next(),q.t1=G.done,q.t1){q.next=16;break}return A=!1,q.next=16,{walker:P,value:G.value};case 16:q.next=1;break;case 18:case"end":return q.stop()}},h)})(i,o)),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=c.walker==i?"elementEnd":"elementStart",f=c.value;if(f.type==d&&this.isObject(f.item))return ot._createOn(f.item);if(this.checkChild(f.nextPosition,"$text"))return new ot(f.nextPosition)}}catch(h){l.e(h)}finally{l.f()}return null}},{key:"findAllowedParent",value:function(e,r){for(var t=e.parent;t;){if(this.checkChild(t,r))return t;if(this.isLimit(t))return null;t=t.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,r){var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o.is("text"))Nc(this,o,r);else{var s=ot._createIn(o).getPositions(),l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;Nc(this,c.nodeBefore||c.parent,r)}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){t.e(d)}finally{t.f()}}},{key:"createContext",value:function(e){return new Pl(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},r=this._sourceDefinitions,t=Object.keys(r),i=0,o=t;i<o.length;i++){var s=o[i];e[s]=Mv(r[s],s)}for(var l=0,u=t;l<u.length;l++){var c=u[l];Iv(e,c)}for(var d=0,f=t;d<f.length;d++){var h=f[d];jv(e,h)}for(var k=0,P=t;k<P.length;k++){var A=P[k];Rv(e,A),Dv(e,A)}for(var I=0,G=t;I<G.length;I++){var Z=G[I];Nv(e,Z),Fv(e,Z)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length-1,i=r.getItem(t);if(e.allowIn.includes(i.name)){if(t==0)return!0;{var o=this.getDefinition(i);return this._checkContextMatch(o,r,t-1)}}return!1}},{key:"_getValidRangesForRange",value:L.mark(function n(e,r){var t,i,o,s,l;return L.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t=e.start,i=e.start,o=p(e.getItems({shallow:!0})),c.prev=2,o.s();case 4:if((s=o.n()).done){c.next=19;break}if(l=s.value,c.t0=l.is("element"),!c.t0){c.next=9;break}return c.delegateYield(this._getValidRangesForRange(ot._createIn(l),r),"t1",9);case 9:if(c.t2=this.checkAttribute(l,r),c.t2){c.next=16;break}if(c.t3=t.isEqual(i),c.t3){c.next=15;break}return c.next=15,new ot(t,i);case 15:t=kt._createAfter(l);case 16:i=kt._createAfter(l);case 17:c.next=4;break;case 19:c.next=24;break;case 21:c.prev=21,c.t4=c.catch(2),o.e(c.t4);case 24:return c.prev=24,o.f(),c.finish(24);case 27:if(c.t5=t.isEqual(i),c.t5){c.next=31;break}return c.next=31,new ot(t,i);case 31:case"end":return c.stop()}},n,this,[[2,21,24,27]])})}]),a}();rr(Dc,nn);var Pl=function(){function a(n){if(C(this,a),n instanceof a)return n;typeof n=="string"?n=[n]:Array.isArray(n)||(n=n.getAncestors({includeSelf:!0})),n[0]&&typeof n[0]!="string"&&n[0].is("documentFragment")&&n.shift(),this._items=n.map(Bv)}return E(a,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var r=new a([e]);return r._items=[].concat(z(this._items),z(r._items)),r}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this._items.map(function(t){return t.name}),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}]),a}();function Mv(a,n){var e={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(r,t){var i=p(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=Object.keys(s).filter(function(f){return f.startsWith("is")}),u=p(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;t[d]=s[d]}}catch(f){u.e(f)}finally{u.f()}}}catch(f){i.e(f)}finally{i.f()}}(a,e),ps(a,e,"allowIn"),ps(a,e,"allowContentOf"),ps(a,e,"allowWhere"),ps(a,e,"allowAttributes"),ps(a,e,"allowAttributesOf"),ps(a,e,"inheritTypesFrom"),function(r,t){var i=p(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.inheritAllFrom;l&&(t.allowContentOf.push(l),t.allowWhere.push(l),t.allowAttributesOf.push(l),t.inheritTypesFrom.push(l))}}catch(u){i.e(u)}finally{i.f()}}(a,e),e}function Iv(a,n){var e=p(a[n].allowContentOf),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;a[t]&&Lv(a,t).forEach(function(i){i.allowIn.push(n)})}}catch(i){e.e(i)}finally{e.f()}delete a[n].allowContentOf}function jv(a,n){var e=p(a[n].allowWhere),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=a[t];if(i){var o,s=i.allowIn;(o=a[n].allowIn).push.apply(o,z(s))}}}catch(l){e.e(l)}finally{e.f()}delete a[n].allowWhere}function Rv(a,n){var e=p(a[n].allowAttributesOf),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=a[t];if(i){var o,s=i.allowAttributes;(o=a[n].allowAttributes).push.apply(o,z(s))}}}catch(l){e.e(l)}finally{e.f()}delete a[n].allowAttributesOf}function Dv(a,n){var e=a[n],r=p(e.inheritTypesFrom),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=a[i];if(o){var s=Object.keys(o).filter(function(d){return d.startsWith("is")}),l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c in e||(e[c]=o[c])}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){r.e(d)}finally{r.f()}delete e.inheritTypesFrom}function Nv(a,n){var e=a[n],r=e.allowIn.filter(function(t){return a[t]});e.allowIn=Array.from(new Set(r))}function Fv(a,n){var e=a[n];e.allowAttributes=Array.from(new Set(e.allowAttributes))}function ps(a,n,e){var r=p(a),t;try{for(r.s();!(t=r.n()).done;){var i,o=t.value;typeof o[e]=="string"?n[e].push(o[e]):Array.isArray(o[e])&&(i=n[e]).push.apply(i,z(o[e]))}}catch(s){r.e(s)}finally{r.f()}}function Lv(a,n){var e=a[n];return(r=a,Object.keys(r).map(function(t){return r[t]})).filter(function(t){return t.allowIn.includes(e.name)});var r}function Bv(a){return typeof a=="string"?{name:a,getAttributeKeys:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}},n)}),getAttribute:function(){}}:{name:a.is("element")?a.name:"$text",getAttributeKeys:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(a.getAttributeKeys(),"t0",1);case 1:case"end":return r.stop()}},n)}),getAttribute:function(e){return a.getAttribute(e)}}}function Nc(a,n,e){var r=p(n.getAttributeKeys()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;a.checkAttribute(n,i)||e.removeAttribute(i,n)}}catch(o){r.e(o)}finally{r.f()}}var Fc=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};C(this,a),this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},n),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return E(a,[{key:"convert",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(d,f){var h,k=p(new Pl(d)),P;try{for(k.s();!(P=k.n()).done;){var A=P.value,I={},G=p(A.getAttributeKeys()),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;I[q]=A.getAttribute(q)}}catch(be){G.e(be)}finally{G.f()}var ae=f.createElement(A.name,I);h&&f.append(ae,h),h=kt._createAt(ae,0)}}catch(be){k.e(be)}finally{k.f()}return h}(t,r),this.conversionApi.writer=r,this.conversionApi.consumable=Sv.createFrom(e),this.conversionApi.store={};var i=this._convertItem(e,this._modelCursor),o=i.modelRange,s=r.createDocumentFragment();if(o){this._removeEmptyElements();for(var l=0,u=Array.from(this._modelCursor.parent.getChildren());l<u.length;l++){var c=u[l];r.append(c,s)}s.markers=function(d,f){var h=new Set,k=new Map,P=ot._createIn(d).getItems(),A=p(P),I;try{for(A.s();!(I=A.n()).done;){var G=I.value;G.name=="$marker"&&h.add(G)}}catch(Ne){A.e(Ne)}finally{A.f()}var Z=p(h),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value,be=ae.getAttribute("data-name"),Re=f.createPositionBefore(ae);k.has(be)?k.get(be).end=Re.clone():k.set(be,new ot(Re.clone())),f.remove(ae)}}catch(Ne){Z.e(Ne)}finally{Z.f()}return k}(s,r)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}},{key:"_convertItem",value:function(e,r){var t=Object.assign({viewItem:e,modelCursor:r,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,t,this.conversionApi):e.is("text")?this.fire("text",t,this.conversionApi):this.fire("documentFragment",t,this.conversionApi),t.modelRange&&!(t.modelRange instanceof ot))throw new me.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:t.modelRange,modelCursor:t.modelCursor}}},{key:"_convertChildren",value:function(e,r){for(var t=new ot(r),i=r,o=0,s=Array.from(e.getChildren());o<s.length;o++){var l=s[o],u=this._convertItem(l,i);u.modelRange instanceof ot&&(t.end=u.modelRange.end,i=u.modelCursor)}return{modelRange:t,modelCursor:i}}},{key:"_splitToAllowedParent",value:function(e,r){var t=this.conversionApi.schema.findAllowedParent(r,e);if(!t)return null;if(t===r.parent)return{position:r};if(this._modelCursor.parent.getAncestors().includes(t))return null;var i=this.conversionApi.writer.split(r,t),o=[],s=p(i.range.getWalker()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.type=="elementEnd")o.push(u.item);else{var c=o.pop(),d=u.item;this._registerSplitPair(c,d)}}}catch(f){s.e(f)}finally{s.f()}return{position:i.position,cursorParent:i.range.end.parent}}},{key:"_registerSplitPair",value:function(e,r){this._splitParts.has(e)||this._splitParts.set(e,[e]);var t=this._splitParts.get(e);this._splitParts.set(r,t),t.push(r)}},{key:"_getSplitParts",value:function(e){var r;return r=this._splitParts.has(e)?this._splitParts.get(e):[e],r}},{key:"_removeEmptyElements",value:function(){var e=!1,r=p(this._splitParts.keys()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isEmpty&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0)}}catch(o){r.e(o)}finally{r.f()}e&&this._removeEmptyElements()}}]),a}();rr(Fc,rn);var Lc=function(){function a(n,e){var r=this;C(this,a),this.model=n,this.stylesProcessor=e,this.processor,this.mapper=new ou,this.downcastDispatcher=new su({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",function(t,i,o){if(!!o.consumable.consume(i.item,"insert")){var s=o.writer,l=o.mapper.toViewPosition(i.range.start),u=s.createText(i.item.data);s.insert(l,u)}},{priority:"lowest"}),this.upcastDispatcher=new Fc({schema:n.schema}),this.viewDocument=new Zn(e),this._viewWriter=new Kt(this.viewDocument),this.upcastDispatcher.on("text",function(t,i,o){if(o.schema.checkChild(i.modelCursor,"$text")&&o.consumable.consume(i.viewItem)){var s=o.writer.createText(i.viewItem.data);o.writer.insert(s,i.modelCursor),i.modelRange=ot._createFromPositionAndShift(i.modelCursor,s.offsetSize),i.modelCursor=i.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(t,i,o){if(!i.modelRange&&o.consumable.consume(i.viewItem,{name:!0})){var s=o.convertChildren(i.viewItem,i.modelCursor),l=s.modelRange,u=s.modelCursor;i.modelRange=l,i.modelCursor=u}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(t,i,o){if(!i.modelRange&&o.consumable.consume(i.viewItem,{name:!0})){var s=o.convertChildren(i.viewItem,i.modelCursor),l=s.modelRange,u=s.modelCursor;i.modelRange=l,i.modelCursor=u}},{priority:"lowest"}),this.decorate("init"),this.on("init",function(){r.fire("ready")},{priority:"lowest"})}return E(a,[{key:"get",value:function(e){var r=e||{},t=r.rootName,i=t===void 0?"main":t,o=r.trim,s=o===void 0?"empty":o;if(!this._checkIfRootsExists([i]))throw new me.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);var l=this.model.document.getRoot(i);return s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l):""}},{key:"stringify",value:function(e){var r=this.toView(e);return this.processor.toData(r)}},{key:"toView",value:function(e){var r=this.viewDocument,t=this._viewWriter;this.mapper.clearBindings();var i=ot._createIn(e),o=new Bt(r);if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(i,t),!e.is("documentFragment")){var s=function(k){var P=[],A=k.root.document;if(!A)return[];var I=ot._createIn(k),G=p(A.model.markers),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value,ae=I.getIntersection(q.getRange());ae&&P.push([q.name,ae])}}catch(be){G.e(be)}finally{G.f()}return P}(e),l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=H(c,2),f=d[0],h=d[1];this.downcastDispatcher.convertMarkerAdd(f,h,t)}}catch(k){l.e(k)}finally{l.f()}}return o}},{key:"init",value:function(e){var r=this;if(this.model.document.version)throw new me.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);var t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new me.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",function(i){for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o],u=r.model.document.getRoot(l);i.insert(r.parse(t[l],u),u,0)}}),Promise.resolve()}},{key:"set",value:function(e){var r=this,t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new me.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",function(i){i.setSelection(null),i.removeSelectionAttribute(r.model.document.selection.getAttributeKeys());for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o],u=r.model.document.getRoot(l);i.remove(i.createRangeIn(u)),i.insert(r.parse(t[l],u),u,0)}})}},{key:"parse",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root",t=this.processor.toView(e);return this.toModel(t,r)}},{key:"toModel",value:function(e){var r=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root";return this.model.change(function(i){return r.upcastDispatcher.convert(e,i,t)})}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var r=p(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}}]),a}();rr(Lc,nn);var Vv=function(){function a(n,e){C(this,a),this._helpers=new Map,this._downcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return E(a,[{key:"addAlias",value:function(e,r){var t=this._downcast.includes(r);if(!this._upcast.includes(r)&&!t)throw new me.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[r],isDowncast:t})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new me.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var r=p(El(e)),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").elementToElement({model:o,view:s,converterPriority:e.converterPriority})}}catch(l){r.e(l)}finally{r.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var r=p(El(e)),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").elementToAttribute({view:s,model:o,converterPriority:e.converterPriority})}}catch(l){r.e(l)}finally{r.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var r=p(El(e)),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").attributeToAttribute({view:s,model:o})}}catch(l){r.e(l)}finally{r.f()}}},{key:"_createConversionHelpers",value:function(e){var r=e.name,t=e.dispatchers,i=e.isDowncast;if(this._helpers.has(r))throw new me.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);var o=i?new Ev(t):new Cv(t);this._helpers.set(r,o)}}]),a}();function El(a){var n,e,r,t,i,o;return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.model.values){l.next=20;break}n=p(a.model.values),l.prev=2,n.s();case 4:if((e=n.n()).done){l.next=10;break}return r=e.value,t={key:a.model.key,value:r},i=a.view[r],o=a.upcastAlso?a.upcastAlso[r]:void 0,l.delegateYield(du(t,i,o),"t0",8);case 8:l.next=4;break;case 10:l.next=15;break;case 12:l.prev=12,l.t1=l.catch(2),n.e(l.t1);case 15:return l.prev=15,n.f(),l.finish(15);case 18:l.next=21;break;case 20:return l.delegateYield(du(a.model,a.view,a.upcastAlso),"t2",21);case 21:case"end":return l.stop()}},W,null,[[2,12,15,18]])}function du(a,n,e){var r,t,i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,{model:a,view:n};case 2:if(!e){s.next=21;break}e=Array.isArray(e)?e:[e],r=p(e),s.prev=5,r.s();case 7:if((t=r.n()).done){s.next=13;break}return i=t.value,s.next=11,{model:a,view:i};case 11:s.next=7;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(5),r.e(s.t0);case 18:return s.prev=18,r.f(),s.finish(18);case 21:case"end":return s.stop()}},x,null,[[5,15,18,21]])}var Cl=function(){function a(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";C(this,a),this.operations=[],this.type=n}return E(a,[{key:"baseVersion",get:function(){var e=p(this.operations),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.baseVersion!==null)return t.baseVersion}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}}]),a}(),ji=function(){function a(n){C(this,a),this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}return E(a,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(e){return new this(e.baseVersion)}}]),a}(),Lo=function(){function a(n){C(this,a),this.markers=new Map,this._children=new hs,n&&this._insertChild(0,n)}return E(a,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(e){return e==="documentFragment"||e==="model:documentFragment"}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var r=this,t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;r=r.getChild(r.offsetToIndex(o))}}catch(s){t.e(s)}finally{t.f()}return r}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e=[],r=p(this._children),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e.push(i.toJSON())}}catch(o){r.e(o)}finally{r.f()}return e}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,r){var t=function(l){return typeof l=="string"?[new Fn(l)]:(Hn(l)||(l=[l]),Array.from(l).map(function(u){return typeof u=="string"?new Fn(u):u instanceof ya?new Fn(u.data,u.getAttributes()):u}))}(r),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.parent!==null&&s._remove(),s.parent=this}}catch(l){i.e(l)}finally{i.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=this._children._removeNodes(e,r),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.parent=null}}catch(l){i.e(l)}finally{i.f()}return t}}],[{key:"fromJSON",value:function(e){var r=[],t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.name?r.push(zn.fromJSON(o)):r.push(Fn.fromJSON(o))}}catch(s){t.e(s)}finally{t.f()}return new a(r)}}]),a}();function fu(a,n){var e=(n=Vc(n)).reduce(function(i,o){return i+o.offsetSize},0),r=a.parent;rl(a);var t=a.index;return r._insertChild(t,n),tl(r,t+n.length),tl(r,t),new ot(a,a.getShiftedBy(e))}function Bc(a){if(!a.isFlat)throw new me.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);var n=a.start.parent;rl(a.start),rl(a.end);var e=n._removeChildren(a.start.index,a.end.index-a.start.index);return tl(n,a.start.index),e}function el(a,n){if(!a.isFlat)throw new me.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);var e=Bc(a);return fu(n=n._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),e)}function Vc(a){var n=[];a instanceof Array||(a=[a]);for(var e=0;e<a.length;e++)if(typeof a[e]=="string")n.push(new Fn(a[e]));else if(a[e]instanceof ya)n.push(new Fn(a[e].data,a[e].getAttributes()));else if(a[e]instanceof Lo||a[e]instanceof hs){var r=p(a[e]),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i)}}catch(u){r.e(u)}finally{r.f()}}else a[e]instanceof Xs&&n.push(a[e]);for(var o=1;o<n.length;o++){var s=n[o],l=n[o-1];s instanceof Fn&&l instanceof Fn&&zc(s,l)&&(n.splice(o-1,2,new Fn(l.data+s.data,l.getAttributes())),o--)}return n}function tl(a,n){var e=a.getChild(n-1),r=a.getChild(n);if(e&&r&&e.is("text")&&r.is("text")&&zc(e,r)){var t=new Fn(e.data+r.data,e.getAttributes());a._removeChildren(n-1,2),a._insertChild(n-1,t)}}function rl(a){var n=a.textNode,e=a.parent;if(n){var r=a.offset-n.startOffset,t=n.index;e._removeChildren(t,1);var i=new Fn(n.data.substr(0,r),n.getAttributes()),o=new Fn(n.data.substr(r),n.getAttributes());e._insertChild(t,[i,o])}}function zc(a,n){var e=a.getAttributes(),r=n.getAttributes(),t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o[1]!==n.getAttribute(o[0]))return!1;r.next()}}catch(s){t.e(s)}finally{t.f()}return r.next().done}var Uc=function(n,e){return w(n,e)},ti=function(a){T(e,a);var n=D(e);function e(r,t,i,o,s){var l;return C(this,e),l=n.call(this,s),l.range=r.clone(),l.key=t,l.oldValue=i===void 0?null:i,l.newValue=o===void 0?null:o,l}return E(e,[{key:"type",get:function(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new e(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new me.b("attribute-operation-range-not-flat: The range to change is not flat.",this);var t=p(this.range.getItems({shallow:!0})),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(this.oldValue!==null&&!Uc(o.getAttribute(this.key),this.oldValue))throw new me.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:o,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&o.hasAttribute(this.key))throw new me.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:o,key:this.key})}}catch(s){t.e(s)}finally{t.f()}}},{key:"_execute",value:function(){Uc(this.oldValue,this.newValue)||function(t,i,o){rl(t.start),rl(t.end);var s=p(t.getItems({shallow:!0})),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=u.is("textProxy")?u.textNode:u;o!==null?c._setAttribute(i,o):c._removeAttribute(i),tl(c.parent,c.index)}}catch(d){s.e(d)}finally{s.f()}tl(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(t,i){return new e(ot.fromJSON(t.range,i),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),e}(ji),zv=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,null),i.sourcePosition=r.clone(),i.howMany=t,i}return E(e,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new me.b("detach-operation-on-document-node: Cannot detach document node.",this)}},{key:"_execute",value:function(){Bc(ot._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),e}(ji),wn=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,o),s.sourcePosition=r.clone(),s.sourcePosition.stickiness="toNext",s.howMany=t,s.targetPosition=i.clone(),s.targetPosition.stickiness="toNone",s}return E(e,[{key:"type",get:function(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,i=this.targetPosition.parent,o=this.sourcePosition.offset,s=this.targetPosition.offset;if(o+this.howMany>t.maxOffset)throw new me.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===i&&o<s&&s<o+this.howMany)throw new me.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&le(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){var l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=o&&this.targetPosition.path[l]<o+this.howMany)throw new me.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}},{key:"_execute",value:function(){el(ot._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(t,i){var o=kt.fromJSON(t.sourcePosition,i),s=kt.fromJSON(t.targetPosition,i);return new this(o,t.howMany,s,t.baseVersion)}}]),e}(ji),fi=function(a){T(e,a);var n=D(e);function e(r,t,i){var o;return C(this,e),o=n.call(this,i),o.position=r.clone(),o.position.stickiness="toNone",o.nodes=new hs(Vc(t)),o.shouldReceiveAttributes=!1,o}return E(e,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var t=new hs(z(this.nodes).map(function(o){return o._clone(!0)})),i=new e(this.position,t,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,i=new kt(t,[0]);return new wn(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new me.b("insert-operation-position-invalid: Insertion position is invalid.",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new hs(z(t).map(function(i){return i._clone(!0)})),fu(this.position,t)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(t,i){var o=[],s=p(t.nodes),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.name?o.push(zn.fromJSON(u)):o.push(Fn.fromJSON(u))}}catch(d){s.e(d)}finally{s.f()}var c=new e(kt.fromJSON(t.position,i),o,t.baseVersion);return c.shouldReceiveAttributes=t.shouldReceiveAttributes,c}}]),e}(ji),wa=function(a){T(e,a);var n=D(e);function e(r,t,i,o,s,l){var u;return C(this,e),u=n.call(this,l),u.name=r,u.oldRange=t?t.clone():null,u.newRange=i?i.clone():null,u.affectsData=s,u._markers=o,u}return E(e,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new e(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(t,i){return new e(t.name,t.oldRange?ot.fromJSON(t.oldRange,i):null,t.newRange?ot.fromJSON(t.newRange,i):null,i.model.markers,t.affectsData,t.baseVersion)}}]),e}(ji),ka=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,o),s.position=r,s.position.stickiness="toNext",s.oldName=t,s.newName=i,s}return E(e,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new e(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof zn))throw new me.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new me.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(t,i){return new e(kt.fromJSON(t.position,i),t.oldName,t.newName,t.baseVersion)}}]),e}(ji),nl=function(a){T(e,a);var n=D(e);function e(r,t,i,o,s){var l;return C(this,e),l=n.call(this,s),l.root=r,l.key=t,l.oldValue=i,l.newValue=o,l}return E(e,[{key:"type",get:function(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new e(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new me.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new me.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new me.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(t,i){if(!i.getRoot(t.root))throw new me.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new e(i.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),e}(ji),Gn=function(a){T(e,a);var n=D(e);function e(r,t,i,o,s){var l;return C(this,e),l=n.call(this,s),l.sourcePosition=r.clone(),l.sourcePosition.stickiness="toPrevious",l.howMany=t,l.targetPosition=i.clone(),l.targetPosition.stickiness="toNext",l.graveyardPosition=o.clone(),l}return E(e,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new kt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ot(this.sourcePosition,t)}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),o=new kt(this.sourcePosition.root,i)._getTransformedByMergeOperation(this),s=new Pn(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return s.insertionPosition=o,s}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,i=this.targetPosition.parent;if(!t.parent)throw new me.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!i.parent)throw new me.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new me.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent;el(ot._createIn(t),this.targetPosition),el(ot._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(t,i){var o=kt.fromJSON(t.sourcePosition,i),s=kt.fromJSON(t.targetPosition,i),l=kt.fromJSON(t.graveyardPosition,i);return new this(o,t.howMany,s,l,t.baseVersion)}}]),e}(ji),Pn=function(a){T(e,a);var n=D(e);function e(r,t,i,o){var s;return C(this,e),s=n.call(this,o),s.splitPosition=r.clone(),s.splitPosition.stickiness="toNext",s.howMany=t,s.insertionPosition=e.getInsertionPosition(r),s.insertionPosition.stickiness="toNone",s.graveyardPosition=i?i.clone():null,s.graveyardPosition&&(s.graveyardPosition.stickiness="toNext"),s}return E(e,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new kt(this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ot(this.splitPosition,t)}},{key:"clone",value:function(){var t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,i=new kt(t,[0]);return new Gn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,i=this.splitPosition.offset;if(!t||t.maxOffset<i)throw new me.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new me.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new me.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new me.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)el(ot._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var i=t._clone();fu(this.insertionPosition,i)}el(new ot(kt._createAt(t,this.splitPosition.offset),kt._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=m(S(e.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(t){var i=t.path.slice(0,-1);return i[i.length-1]++,new kt(t.root,i)}},{key:"fromJSON",value:function(t,i){var o=kt.fromJSON(t.splitPosition,i),s=kt.fromJSON(t.insertionPosition,i),l=t.graveyardPosition?kt.fromJSON(t.graveyardPosition,i):null,u=new this(o,t.howMany,l,t.baseVersion);return u.insertionPosition=s,u}}]),e}(ji),hu=function(a){T(e,a);var n=D(e);function e(r,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"main";return C(this,e),i=n.call(this,t),i._document=r,i.rootName=o,i}return E(e,[{key:"document",get:function(){return this._document}},{key:"is",value:function(t,i){return i?i===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t===this.name||t==="model:"+this.name||t==="node"||t==="model:node"}},{key:"toJSON",value:function(){return this.rootName}}]),e}(zn),Uv=function(){function a(n,e){C(this,a),this.model=n,this.batch=e}return E(a,[{key:"createText",value:function(e,r){return new Fn(e,r)}},{key:"createElement",value:function(e,r){return new zn(e,r)}},{key:"createDocumentFragment",value:function(){return new Lo}},{key:"insert",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof Fn&&e.data=="")){var i=kt._createAt(r,t);if(e.parent){if(Kc(e.root,i.root))return void this.move(ot._createOn(e),i);if(e.root.document)throw new me.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}var o=i.root.document?i.root.document.version:null,s=new fi(i,e,o);if(e instanceof Fn&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),e instanceof Lo){var l=p(e.markers),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=H(c,2),f=d[0],h=d[1],k=kt._createAt(h.root,0),P={range:new ot(h.start._getCombined(k,i),h.end._getCombined(k,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(f)?this.updateMarker(f,P):this.addMarker(f,P)}}catch(A){l.e(A)}finally{l.f()}}}}},{key:"insertText",value:function(e,r,t,i){r instanceof Lo||r instanceof zn||r instanceof kt?this.insert(this.createText(e),r,t):this.insert(this.createText(e,r),t,i)}},{key:"insertElement",value:function(e,r,t,i){r instanceof Lo||r instanceof zn||r instanceof kt?this.insert(this.createElement(e),r,t):this.insert(this.createElement(e,r),t,i)}},{key:"append",value:function(e,r){this.insert(e,r,"end")}},{key:"appendText",value:function(e,r,t){r instanceof Lo||r instanceof zn?this.insert(this.createText(e),r,"end"):this.insert(this.createText(e,r),t,"end")}},{key:"appendElement",value:function(e,r,t){r instanceof Lo||r instanceof zn?this.insert(this.createElement(e),r,"end"):this.insert(this.createElement(e,r),t,"end")}},{key:"setAttribute",value:function(e,r,t){if(this._assertWriterUsedCorrectly(),t instanceof ot){var i=t.getMinimalFlatRanges(),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;Wc(this,e,r,l)}}catch(u){o.e(u)}finally{o.f()}}else Hc(this,e,r,t)}},{key:"setAttributes",value:function(e,r){var t=p(yr(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=H(o,2),l=s[0],u=s[1];this.setAttribute(l,u,r)}}catch(c){t.e(c)}finally{t.f()}}},{key:"removeAttribute",value:function(e,r){if(this._assertWriterUsedCorrectly(),r instanceof ot){var t=r.getMinimalFlatRanges(),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;Wc(this,e,null,s)}}catch(l){i.e(l)}finally{i.f()}}else Hc(this,e,null,r)}},{key:"clearAttributes",value:function(e){var r=this;this._assertWriterUsedCorrectly();var t=function(u){var c=p(u.getAttributeKeys()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;r.removeAttribute(f,u)}}catch(h){c.e(h)}finally{c.f()}};if(e instanceof ot){var i=p(e.getItems()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t(s)}}catch(l){i.e(l)}finally{i.f()}}else t(e)}},{key:"move",value:function(e,r,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ot))throw new me.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new me.b("writer-move-range-not-flat: Range to move is not flat.",this);var i=kt._createAt(r,t);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!Kc(e.root,i.root))throw new me.b("writer-move-different-document: Range is going to be moved between different documents.",this);var o=e.root.document?e.root.document.version:null,s=new wn(e.start,e.end.offset-e.start.offset,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var r=(e instanceof ot?e:ot._createOn(e)).getMinimalFlatRanges().reverse(),t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._addOperationForAffectedMarkers("move",o),Wv(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(s){t.e(s)}finally{t.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var r=e.nodeBefore,t=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(r instanceof zn))throw new me.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(t instanceof zn))throw new me.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,r,t){return this.model.createPositionFromPath(e,r,t)}},{key:"createPositionAt",value:function(e,r){return this.model.createPositionAt(e,r)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,r){return this.model.createRange(e,r)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,r,t){return this.model.createSelection(e,r,t)}},{key:"_mergeDetached",value:function(e){var r=e.nodeBefore,t=e.nodeAfter;this.move(ot._createIn(t),kt._createAt(r,"end")),this.remove(t)}},{key:"_merge",value:function(e){var r=kt._createAt(e.nodeBefore,"end"),t=kt._createAt(e.nodeAfter,0),i=e.root.document.graveyard,o=new kt(i,[0]),s=e.root.document.version,l=new Gn(t,e.nodeAfter.maxOffset,r,o,s);this.batch.addOperation(l),this.model.applyOperation(l)}},{key:"rename",value:function(e,r){if(this._assertWriterUsedCorrectly(),!(e instanceof zn))throw new me.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);var t=e.root.document?e.root.document.version:null,i=new ka(kt._createBefore(e),e.name,r,t);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,r){this._assertWriterUsedCorrectly();var t,i,o=e.parent;if(!o.parent)throw new me.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(r||(r=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(r))throw new me.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{var s=o.root.document?o.root.document.version:null,l=o.maxOffset-e.offset,u=new Pn(e,l,null,s);this.batch.addOperation(u),this.model.applyOperation(u),t||i||(t=o,i=e.parent.nextSibling),o=(e=this.createPositionAfter(e.parent)).parent}while(o!==r);return{position:e,range:new ot(kt._createAt(t,"end"),kt._createAt(i,0))}}},{key:"wrap",value:function(e,r){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new me.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);var t=r instanceof zn?r:new zn(r);if(t.childCount>0)throw new me.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(t.parent!==null)throw new me.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(t,e.start);var i=new ot(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,kt._createAt(t,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new me.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(ot._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new me.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);var t=r.usingOperation,i=r.range,o=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(e))throw new me.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new me.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return t?(il(this,e,null,i,o),this.model.markers.get(e)):this.model.markers._set(e,i,t,o)}},{key:"updateMarker",value:function(e,r){this._assertWriterUsedCorrectly();var t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new me.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!r)return void this.model.markers._refresh(i);var o=typeof r.usingOperation=="boolean",s=typeof r.affectsData=="boolean",l=s?r.affectsData:i.affectsData;if(!o&&!r.range&&!s)throw new me.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);var u=i.getRange(),c=r.range?r.range:u;o&&r.usingOperation!==i.managedUsingOperations?r.usingOperation?il(this,t,null,c,l):(il(this,t,u,null,l),this.model.markers._set(t,c,void 0,l)):i.managedUsingOperations?il(this,t,u,c,l):this.model.markers._set(t,c,void 0,l)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var r=typeof e=="string"?e:e.name;if(!this.model.markers.has(r))throw new me.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);var t=this.model.markers.get(r);if(!t.managedUsingOperations)return void this.model.markers._remove(r);il(this,r,t.getRange(),null,t.affectsData)}},{key:"setSelection",value:function(e,r,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,r,t)}},{key:"setSelectionFocus",value:function(e,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,r)}},{key:"setSelectionAttribute",value:function(e,r){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,r);else{var t=p(yr(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=H(o,2),l=s[0],u=s[1];this._setSelectionAttribute(l,u)}}catch(c){t.e(c)}finally{t.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else{var r=p(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._removeSelectionAttribute(i)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,r){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var i=Zi._getStoreAttributeKey(e);this.setAttribute(i,r,t.anchor.parent)}t._setAttribute(e,r)}},{key:"_removeSelectionAttribute",value:function(e){var r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){var t=Zi._getStoreAttributeKey(e);this.removeAttribute(t,r.anchor.parent)}r._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new me.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,r){var t=p(this.model.markers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(!!o.managedUsingOperations){var s=o.getRange(),l=!1;if(e==="move")l=r.containsPosition(s.start)||r.start.isEqual(s.start)||r.containsPosition(s.end)||r.end.isEqual(s.end);else{var u=r.nodeBefore,c=r.nodeAfter,d=s.start.parent==u&&s.start.isAtEnd,f=s.end.parent==c&&s.end.offset==0,h=s.end.nodeAfter==c,k=s.start.nodeAfter==c;l=d||f||h||k}l&&this.updateMarker(o.name,{range:s})}}}catch(P){t.e(P)}finally{t.f()}}}]),a}();function Wc(a,n,e,r){var t=a.model,i=t.document,o,s,l,u=r.start,c=p(r.getWalker({shallow:!0})),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;l=f.item.getAttribute(n),o&&s!=l&&(s!=e&&h(),u=o),o=f.nextPosition,s=l}}catch(k){c.e(k)}finally{c.f()}function h(){var k=new ot(u,o),P=k.root.document?i.version:null,A=new ti(k,n,s,e,P);a.batch.addOperation(A),t.applyOperation(A)}o instanceof kt&&o!=u&&s!=e&&h()}function Hc(a,n,e,r){var t=a.model,i=t.document,o=r.getAttribute(n),s,l;if(o!=e){if(r.root===r){var u=r.document?i.version:null;l=new nl(r,n,o,e,u)}else{s=new ot(kt._createBefore(r),a.createPositionAfter(r));var c=s.root.document?i.version:null;l=new ti(s,n,o,e,c)}a.batch.addOperation(l),t.applyOperation(l)}}function il(a,n,e,r,t){var i=a.model,o=i.document,s=new wa(n,e,r,i.markers,t,o.version);a.batch.addOperation(s),i.applyOperation(s)}function Wv(a,n,e,r){var t;if(a.root.document){var i=r.document,o=new kt(i.graveyard,[0]);t=new wn(a,n,o,i.version)}else t=new zv(a,n);e.addOperation(t),r.applyOperation(t)}function Kc(a,n){return a===n||a instanceof hu&&n instanceof hu}var Hv=function(){function a(n){C(this,a),this._markerCollection=n,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return E(a,[{key:"isEmpty",get:function(){return this._changesInElement.size==0&&this._changedMarkers.size==0}},{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var r=ot._createOn(e),t=p(this._markerCollection.getMarkersIntersectingRange(r)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.getRange();this.bufferMarkerChange(o.name,s,s,o.affectsData)}}catch(l){t.e(l)}finally{t.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var r=p(e.range.getItems({shallow:!0})),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._isInInsertedElement(i.parent)||this._markAttribute(i)}}catch(I){r.e(I)}finally{r.f()}break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var o=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);o||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var l=ot._createFromPositionAndShift(e.position,1),u=p(this._markerCollection.getMarkersIntersectingRange(l)),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=d.getRange();this.bufferMarkerChange(d.name,f,f,d.affectsData)}}catch(I){u.e(I)}finally{u.f()}break}case"split":{var h=e.splitPosition.parent;this._isInInsertedElement(h)||this._markRemove(h,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{var k=e.sourcePosition.parent;this._isInInsertedElement(k.parent)||this._markRemove(k.parent,k.startOffset,1);var P=e.graveyardPosition.parent;this._markInsert(P,e.graveyardPosition.offset,1);var A=e.targetPosition.parent;this._isInInsertedElement(A)||this._markInsert(A,e.targetPosition.offset,k.maxOffset);break}}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,r,t,i){var o=this._changedMarkers.get(e);o?(o.newRange=t,o.affectsData=i,o.oldRange==null&&o.newRange==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:r,newRange:t,affectsData:i})}},{key:"getMarkersToRemove",value:function(){var e=[],r=p(this._changedMarkers),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=H(i,2),s=o[0],l=o[1];l.oldRange!=null&&e.push({name:s,range:l.oldRange})}}catch(u){r.e(u)}finally{r.f()}return e}},{key:"getMarkersToAdd",value:function(){var e=[],r=p(this._changedMarkers),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=H(i,2),s=o[0],l=o[1];l.newRange!=null&&e.push({name:s,range:l.newRange})}}catch(u){r.e(u)}finally{r.f()}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}})}},{key:"hasDataChanges",value:function(){var e=p(this._changedMarkers),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=H(t,2),o=i[1];if(o.affectsData)return!0}}catch(s){e.e(s)}finally{e.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var r=[],t=p(this._changesInElement.keys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=this._changesInElement.get(o).sort(function(Dt,Et){return Dt.offset===Et.offset?Dt.type!=Et.type?Dt.type=="remove"?-1:1:0:Dt.offset<Et.offset?-1:1}),l=this._elementSnapshots.get(o),u=Gc(o.getChildren()),c=Kv(l.length,s),d=0,f=0,h=p(c),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;if(P==="i")r.push(this._getInsertDiff(o,d,u[d].name)),d++;else if(P==="r")r.push(this._getRemoveDiff(o,d,l[f].name)),f++;else if(P==="a"){var A=u[d].attributes,I=l[f].attributes,G=void 0;if(u[d].name=="$text")G=new ot(kt._createAt(o,d),kt._createAt(o,d+1));else{var Z=o.offsetToIndex(d);G=new ot(kt._createAt(o,d),kt._createAt(o.getChild(Z),0))}r.push.apply(r,z(this._getAttributesDiff(G,I,A))),d++,f++}else d++,f++}}catch(Dt){h.e(Dt)}finally{h.f()}}}catch(Dt){t.e(Dt)}finally{t.f()}r.sort(function(Dt,Et){return Dt.position.root!=Et.position.root?Dt.position.root.rootName<Et.position.root.rootName?-1:1:Dt.position.isEqual(Et.position)?Dt.changeCount-Et.changeCount:Dt.position.isBefore(Et.position)?-1:1});for(var q=1;q<r.length;q++){var ae=r[q-1],be=r[q],Re=ae.type=="remove"&&be.type=="remove"&&ae.name=="$text"&&be.name=="$text"&&ae.position.isEqual(be.position),Ne=ae.type=="insert"&&be.type=="insert"&&ae.name=="$text"&&be.name=="$text"&&ae.position.parent==be.position.parent&&ae.position.offset+ae.length==be.position.offset,Ze=ae.type=="attribute"&&be.type=="attribute"&&ae.position.parent==be.position.parent&&ae.range.isFlat&&be.range.isFlat&&ae.position.offset+ae.length==be.position.offset&&ae.attributeKey==be.attributeKey&&ae.attributeOldValue==be.attributeOldValue&&ae.attributeNewValue==be.attributeNewValue;(Re||Ne||Ze)&&(r[q-1].length++,Ze&&(r[q-1].range.end=r[q-1].range.end.getShiftedBy(1)),r.splice(q,1),q--)}for(var _t=0,Rt=r;_t<Rt.length;_t++){var Jt=Rt[_t];delete Jt.changeCount,Jt.type=="attribute"&&(delete Jt.position,delete Jt.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=r.slice(),this._cachedChanges=r.slice().filter(Gv),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,r,t){var i={type:"insert",offset:r,howMany:t,count:this._changeCount++};this._markChange(e,i)}},{key:"_markRemove",value:function(e,r,t){var i={type:"remove",offset:r,howMany:t,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,r,t)}},{key:"_markAttribute",value:function(e){var r={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,r)}},{key:"_markChange",value:function(e,r){this._makeSnapshot(e);var t=this._getChangesForElement(e);this._handleChange(r,t),t.push(r);for(var i=0;i<t.length;i++)t[i].howMany<1&&(t.splice(i,1),i--)}},{key:"_getChangesForElement",value:function(e){var r;return this._changesInElement.has(e)?r=this._changesInElement.get(e):(r=[],this._changesInElement.set(e,r)),r}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Gc(e.getChildren()))}},{key:"_handleChange",value:function(e,r){e.nodesToHandle=e.howMany;var t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=e.offset+e.howMany,l=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<l&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<l){var u=o.howMany;o.howMany=e.offset-o.offset,r.unshift({type:"attribute",offset:s,howMany:u-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(s<=o.offset)o.offset-=e.howMany;else if(s<=l)if(e.offset<o.offset){var c=s-o.offset;o.offset=e.offset,o.howMany-=c,e.nodesToHandle-=c}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<l){var d=l-e.offset;o.howMany-=d,e.nodesToHandle-=d}}if(o.type=="remove"&&(s<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(s<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){var f=s-o.offset;o.offset=e.offset,o.howMany-=f}else if(e.offset<l)if(s<=l){var h=o.howMany;o.howMany=e.offset-o.offset;var k=h-o.howMany-e.nodesToHandle;r.unshift({type:"attribute",offset:e.offset,howMany:k,count:this._changeCount++})}else o.howMany-=l-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&s>o.offset){if(s>l){var P={type:"attribute",offset:l,howMany:s-l,count:this._changeCount++};this._handleChange(P,r),r.push(P)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<l&&(s>l?(e.nodesToHandle=s-l,e.offset=l):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&s>o.offset){var A={type:"attribute",offset:o.offset,howMany:s-o.offset,count:this._changeCount++};this._handleChange(A,r),r.push(A),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&s<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&s>=l&&(o.howMany=0))}}}catch(I){t.e(I)}finally{t.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,r,t){return{type:"insert",position:kt._createAt(e,r),name:t,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,r,t){return{type:"remove",position:kt._createAt(e,r),name:t,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,r,t){var i=[];t=new Map(t);var o=p(r),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=H(l,2),c=u[0],d=u[1],f=t.has(c)?t.get(c):null;f!==d&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:d,attributeNewValue:f,changeCount:this._changeCount++}),t.delete(c)}}catch(Z){o.e(Z)}finally{o.f()}var h=p(t),k;try{for(h.s();!(k=h.n()).done;){var P=k.value,A=H(P,2),I=A[0],G=A[1];i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:I,attributeOldValue:null,attributeNewValue:G,changeCount:this._changeCount++})}}catch(Z){h.e(Z)}finally{h.f()}return i}},{key:"_isInInsertedElement",value:function(e){var r=e.parent;if(!r)return!1;var t=this._changesInElement.get(r),i=e.startOffset;if(t){var o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.type=="insert"&&i>=l.offset&&i<l.offset+l.howMany)return!0}}catch(u){o.e(u)}finally{o.f()}}return this._isInInsertedElement(r)}},{key:"_removeAllNestedChanges",value:function(e,r,t){var i=new ot(kt._createAt(e,r),kt._createAt(e,r+t)),o=p(i.getItems({shallow:!0})),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}catch(u){o.e(u)}finally{o.f()}}}]),a}();function Gc(a){var n=[],e=p(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.is("text"))for(var i=0;i<t.data.length;i++)n.push({name:"$text",attributes:new Map(t.getAttributes())});else n.push({name:t.name,attributes:new Map(t.getAttributes())})}}catch(o){e.e(o)}finally{e.f()}return n}function Kv(a,n){var e=[],r=0,t=0,i=p(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.offset>r){for(var l=0;l<s.offset-r;l++)e.push("e");t+=s.offset-r}if(s.type=="insert"){for(var u=0;u<s.howMany;u++)e.push("i");r=s.offset+s.howMany}else if(s.type=="remove"){for(var c=0;c<s.howMany;c++)e.push("r");r=s.offset,t+=s.howMany}else e.push.apply(e,z("a".repeat(s.howMany).split(""))),r=s.offset+s.howMany,t+=s.howMany}}catch(f){i.e(f)}finally{i.f()}if(t<a)for(var d=0;d<a-t-r;d++)e.push("e");return e}function Gv(a){var n=a.position&&a.position.root.rootName=="$graveyard",e=a.range&&a.range.root.rootName=="$graveyard";return!n&&!e}var $v=function(){function a(){C(this,a),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return E(a,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.POSITIVE_INFINITY;return e<0?[]:this._operations.slice(e,r)}},{key:"getOperation",value:function(e){return this._operations[e]}},{key:"setOperationAsUndone",value:function(e,r){this._undoPairs.set(r,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),a}();function $c(a,n){return!!(e=a.charAt(n-1))&&e.length==1&&/[\ud800-\udbff]/.test(e)&&function(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}(a.charAt(n));var e}function Yc(a,n){return!!(e=a.charAt(n))&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);var e}var Jc=function(){function a(n){var e=this;C(this,a),this.model=n,this.version=0,this.history=new $v(this),this.selection=new Zi(this),this.roots=new Un({idProperty:"rootName"}),this.differ=new Hv(n.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(n,"applyOperation",function(r,t){var i=t[0];if(i.isDocumentOperation&&i.baseVersion!==e.version)throw new me.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",e,{operation:i})},{priority:"highest"}),this.listenTo(n,"applyOperation",function(r,t){var i=t[0];i.isDocumentOperation&&e.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(n,"applyOperation",function(r,t){var i=t[0];i.isDocumentOperation&&(e.version++,e.history.addOperation(i))},{priority:"low"}),this.listenTo(this.selection,"change",function(){e._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",function(r,t,i,o){e.differ.bufferMarkerChange(t.name,i,o,t.affectsData),i===null&&t.on("change",function(s,l){e.differ.bufferMarkerChange(t.name,l,t.getRange(),t.affectsData)})})}return E(a,[{key:"graveyard",get:function(){return this.getRoot("$graveyard")}},{key:"createRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"$root",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main";if(this.roots.get(r))throw new me.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:r});var t=new hu(this,e,r);return this.roots.add(t),t}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,function(e){return e.rootName}).filter(function(e){return e!="$graveyard"})}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=He(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e=p(this.roots),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t!==this.graveyard)return t}}catch(i){e.e(i)}finally{e.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),r=this.model,t=r.schema,i=r.createPositionFromPath(e,[0]);return t.getNearestSelectionRange(i)||r.createRange(i)}},{key:"_validateSelectionRange",value:function(e){return Qc(e.start)&&Qc(e.end)}},{key:"_callPostFixers",value:function(e){var r=!1;do{var t=p(this._postFixers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(this.selection.refresh(),r=o(e),r)break}}catch(s){t.e(s)}finally{t.f()}}while(r)}}]),a}();function Qc(a){var n=a.textNode;if(n){var e=n.data,r=a.offset-n.startOffset;return!$c(e,r)&&!Yc(e,r)}return!0}rr(Jc,rn);var Zc=function(){function a(){C(this,a),this._markers=new Map}return E(a,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e instanceof al?e.name:e,s=this._markers.get(o);if(s){var l=s.getRange(),u=!1;return l.isEqual(r)||(s._attachLiveRange(vs.fromRange(r)),u=!0),t!=s.managedUsingOperations&&(s._managedUsingOperations=t,u=!0),typeof i=="boolean"&&i!=s.affectsData&&(s._affectsData=i,u=!0),u&&this.fire("update:"+o,s,l,r),s}var c=vs.fromRange(r),d=new al(o,c,t,i);return this._markers.set(o,d),this.fire("update:"+o,d,null,r),d}},{key:"_remove",value:function(e){var r=e instanceof al?e.name:e,t=this._markers.get(r);return!!t&&(this._markers.delete(r),this.fire("update:"+r,t,t.getRange(),null),this._destroyMarker(t),!0)}},{key:"_refresh",value:function(e){var r=e instanceof al?e.name:e,t=this._markers.get(r);if(!t)throw new me.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);var i=t.getRange();this.fire("update:"+r,t,i,i,t.managedUsingOperations,t.affectsData)}},{key:"getMarkersAtPosition",value:L.mark(function n(e){var r,t,i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=p(this),s.prev=1,r.s();case 3:if((t=r.n()).done){s.next=11;break}if(i=t.value,s.t0=i.getRange().containsPosition(e),!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),r.e(s.t1);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}},n,this,[[1,13,16,19]])})},{key:"getMarkersIntersectingRange",value:L.mark(function n(e){var r,t,i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=p(this),s.prev=1,r.s();case 3:if((t=r.n()).done){s.next=11;break}if(i=t.value,s.t0=i.getRange().getIntersection(e)!==null,!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),r.e(s.t1);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}},n,this,[[1,13,16,19]])})},{key:"destroy",value:function(){var e=p(this._markers.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;this._destroyMarker(t)}}catch(i){e.e(i)}finally{e.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:L.mark(function n(e){var r,t,i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=p(this._markers.values()),s.prev=1,r.s();case 3:if((t=r.n()).done){s.next=11;break}if(i=t.value,s.t0=i.name.startsWith(e+":"),!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),r.e(s.t1);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}},n,this,[[1,13,16,19]])})},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),a}();rr(Zc,rn);var al=function(){function a(n,e,r,t){C(this,a),this.name=n,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=r,this._affectsData=t}return E(a,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new me.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new me.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}},{key:"getStart",value:function(){if(!this._liveRange)throw new me.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new me.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new me.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return e==="marker"||e==="model:marker"}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),a}();rr(al,rn);var hi=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new e(this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),e}(ji),Xi={};Xi[ti.className]=ti,Xi[fi.className]=fi,Xi[wa.className]=wa,Xi[wn.className]=wn,Xi[hi.className]=hi,Xi[ji.className]=ji,Xi[ka.className]=ka,Xi[nl.className]=nl,Xi[Pn.className]=Pn,Xi[Gn.className]=Gn;var ui=function(a){T(e,a);var n=D(e);function e(r,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(C(this,e),i=n.call(this,r,t,o),!i.root.is("rootElement"))throw new me.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",r);return Yv.call(O(i)),U(i)}return E(e,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"}},{key:"toPosition",value:function(){return new kt(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(t,i){return new this(t.root,t.path.slice(),i||t.stickiness)}}]),e}(kt);function Yv(){var a=this;this.listenTo(this.root.document.model,"applyOperation",function(n,e){var r=e[0];r.isDocumentOperation&&Jv.call(a,r)},{priority:"low"})}function Jv(a){var n=this.getTransformedByOperation(a);if(!this.isEqual(n)){var e=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",e)}}rr(ui,rn);var Qv=function(){function a(n,e,r){C(this,a),this.model=n,this.writer=e,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return E(a,[{key:"handleNodes",value:function(e,r){e=Array.from(e);for(var t=0;t<e.length;t++){var i=e[t];this._handleNode(i,{isFirst:t===0&&r.isFirst,isLast:t===e.length-1&&r.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?ot._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new ot(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,r){if(this.schema.isObject(e))return void this._handleObject(e,r);this._checkAndSplitToAllowedPosition(e,r)?(this._insert(e),this._mergeSiblingsOf(e,r)):this._handleDisallowedNode(e,r)}},{key:"_handleObject",value:function(e,r){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,r)}},{key:"_handleDisallowedNode",value:function(e,r){e.is("element")?this.handleNodes(e.getChildren(),r):this._tryAutoparagraphing(e,r)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new me.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});var r=ui.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=r.toPosition(),r.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=ui.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ui.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,r){if(e instanceof zn){var t=this._canMergeLeft(e,r),i=this._canMergeRight(e,r),o=ui._createBefore(e);o.stickiness="toNext";var s=ui._createAfter(e);if(s.stickiness="toNext",t){var l=ui.fromPosition(this.position);l.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=ui._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&r.isLast&&(this._affectedEnd.detach(),this._affectedEnd=ui._createAt(o.nodeBefore,"end","toNext")),this.position=l.toPosition(),l.detach()}if(i){if(!this.position.isEqual(s))throw new me.b("insertcontent-invalid-insertion-position",this);this.position=kt._createAt(s.nodeBefore,"end");var u=ui.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=ui._createAt(s.nodeBefore,"end","toNext")),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&r.isFirst&&(this._affectedStart.detach(),this._affectedStart=ui._createAt(s.nodeBefore,0,"toPrevious")),this.position=u.toPosition(),u.detach()}(t||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),s.detach()}}},{key:"_canMergeLeft",value:function(e,r){var t=e.previousSibling;return r.isFirst&&t instanceof zn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e,r){var t=e.nextSibling;return r.isLast&&t instanceof zn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e,r){var t=this.writer.createElement("paragraph");this._getAllowedIn(t,this.position.parent)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t,r))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var r=this._getAllowedIn(e,this.position.parent);if(!r)return!1;for(;r!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===r&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,r){return this.schema.checkChild(r,e)?r:r.parent?this._getAllowedIn(e,r.parent):null}}]),a}();function Zv(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n.isCollapsed){var r=n.getFirstRange();if(r.root.rootName!="$graveyard"){var t=a.schema;a.change(function(i){if(!e.doNotResetEntireContent&&function(l,u){var c=l.getLimitElement(u);if(!u.containsEntireContent(c))return!1;var d=u.getFirstRange();return d.start.parent==d.end.parent?!1:l.checkChild(c,"paragraph")}(t,n))return void function(l,u){var c=l.model.schema.getLimitElement(u);l.remove(l.createRangeIn(c)),Xc(l,l.createPositionAt(c,0),u)}(i,n);var o=r.start,s=ui.fromPosition(r.end,"toNext");r.start.isTouching(r.end)||i.remove(r),e.leaveUnmerged||(function l(u,c,d){var f=c.parent,h=d.parent;if(f!=h&&!(u.model.schema.isLimit(f)||u.model.schema.isLimit(h))&&!!function(P,A,I){var G=new ot(P,A),Z=p(G.getWalker()),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value;if(I.isLimit(ae.item))return!1}}catch(be){Z.e(be)}finally{Z.f()}return!0}(c,d,u.model.schema)){for(c=u.createPositionAfter(f),(d=u.createPositionBefore(h)).isEqual(c)||u.insert(h,c),u.merge(c);d.parent.isEmpty;){var k=d.parent;d=u.createPositionBefore(k),u.remove(k)}l(u,c,d)}}(i,o,s),t.removeDisallowedAttributes(o.parent.getChildren(),i)),qc(i,n,o),!e.doNotAutoparagraph&&function(l,u){var c=l.checkChild(u,"$text"),d=l.checkChild(u,"paragraph");return!c&&d}(t,o)&&Xc(i,o,n),s.detach()})}}}function Xc(a,n,e){var r=a.createElement("paragraph");a.insert(r,n),qc(a,e,a.createPositionAt(r,0))}function qc(a,n,e){n instanceof Zi?a.setSelection(e):n.setTo(e)}function Xv(a,n){if(n.type=="text")return a.unit==="word"?function(e,r){var t=e.position.textNode;if(t)for(var i=e.position.offset-t.startOffset;!ep(t.data,i,r)&&!tp(t,i,r);){e.next();var o=r?e.position.nodeAfter:e.position.nodeBefore;if(o&&o.is("text")){var s=o.data.charAt(r?0:o.data.length-1);' ,.?!:;"-()'.includes(s)||(e.next(),t=e.position.textNode)}i=e.position.offset-t.startOffset}return e.position}(a.walker,a.isForward):function(e,r){var t=e.position.textNode;if(t)for(var i=t.data,o=e.position.offset-t.startOffset;$c(i,o)||r=="character"&&Yc(i,o);)e.next(),o=e.position.offset-t.startOffset;return e.position}(a.walker,a.unit,a.isForward);if(n.type==(a.isForward?"elementStart":"elementEnd")){if(a.schema.isObject(n.item))return kt._createAt(n.item,a.isForward?"after":"before");if(a.schema.checkChild(n.nextPosition,"$text"))return n.nextPosition}else{if(a.schema.isLimit(n.item))return void a.walker.skip(function(){return!0});if(a.schema.checkChild(n.nextPosition,"$text"))return n.nextPosition}}function qv(a,n){var e=a.root,r=kt._createAt(e,n?"end":0);return n?new ot(a,r):new ot(r,a)}function ep(a,n,e){var r=n+(e?0:-1);return' ,.?!:;"-()'.includes(a.charAt(r))}function tp(a,n,e){return n===(e?a.endOffset:0)}function ed(a,n){var e=[];Array.from(a.getItems({direction:"backward"})).map(function(r){return n.createRangeOn(r)}).filter(function(r){return(r.start.isAfter(a.start)||r.start.isEqual(a.start))&&(r.end.isBefore(a.end)||r.end.isEqual(a.end))}).forEach(function(r){e.push(r.start.parent),n.remove(r)}),e.forEach(function(r){for(var t=r;t.parent&&t.isEmpty;){var i=n.createRangeOn(t);t=t.parent,n.remove(i)}})}function rp(a){a.document.registerPostFixer(function(n){return function(e,r){var t=r.document.selection,i=r.schema,o=[],s=!1,l=p(t.getRanges()),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=np(c,i);d?(o.push(d),s=!0):o.push(c)}}catch(f){l.e(f)}finally{l.f()}s&&e.setSelection(function(f){var h=[];h.push(f.shift());var k=p(f),P;try{for(k.s();!(P=k.n()).done;){var A=P.value,I=h.pop();if(A.isIntersecting(I)){var G=I.start.isAfter(A.start)?A.start:I.start,Z=I.end.isAfter(A.end)?I.end:A.end,q=new ot(G,Z);h.push(q)}else h.push(I),h.push(A)}}catch(ae){k.e(ae)}finally{k.f()}return h}(o),{backward:t.isBackward})}(n,a)})}function np(a,n){return a.isCollapsed?function(e,r){var t=e.start,i=r.getNearestSelectionRange(t);if(!i)return null;if(!i.isCollapsed)return i;var o=i.start;return t.isEqual(o)?null:new ot(o)}(a,n):function(e,r){var t=e.start,i=e.end,o=r.checkChild(t,"$text"),s=r.checkChild(i,"$text"),l=r.getLimitElement(t),u=r.getLimitElement(i);if(l===u){if(o&&s)return null;if(function(ae,be,Re){var Ne=ae.nodeAfter&&!Re.isLimit(ae.nodeAfter)||Re.checkChild(ae,"$text"),Ze=be.nodeBefore&&!Re.isLimit(be.nodeBefore)||Re.checkChild(be,"$text");return Ne||Ze}(t,i,r)){var c=t.nodeAfter&&r.isObject(t.nodeAfter)?null:r.getNearestSelectionRange(t,"forward"),d=i.nodeBefore&&r.isObject(i.nodeBefore)?null:r.getNearestSelectionRange(i,"backward"),f=c?c.start:t,h=d?d.start:i;return new ot(f,h)}}var k=l&&!l.is("rootElement"),P=u&&!u.is("rootElement");if(k||P){var A=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,I=k&&(!A||!rd(t.nodeAfter,r)),G=P&&(!A||!rd(i.nodeBefore,r)),Z=t,q=i;return I&&(Z=kt._createBefore(td(l,r))),G&&(q=kt._createAfter(td(u,r))),new ot(Z,q)}return null}(a,n)}function td(a,n){for(var e=a,r=e;n.isLimit(r)&&r.parent;)e=r,r=r.parent;return e}function rd(a,n){return a&&n.isObject(a)}var nd=function(){function a(){var n=this;C(this,a),this.markers=new Zc,this.document=new Jc(this),this.schema=new Dc,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(e){return n.decorate(e)}),this.on("applyOperation",function(e,r){r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck(function(e,r){if(r.name==="$marker")return!0}),rp(this)}return E(a,[{key:"change",value:function(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Cl,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(r){me.b.rethrowUnexpectedError(r,this)}}},{key:"enqueueChange",value:function(e,r){try{typeof e=="string"?e=new Cl(e):typeof e=="function"&&(r=e,e=new Cl),this._pendingChanges.push({batch:e,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(t){me.b.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,r,t){return function(i,o,s,l){return i.change(function(u){var c;c=s?s instanceof co||s instanceof Zi?s:u.createSelection(s,l):i.document.selection,c.isCollapsed||i.deleteContent(c,{doNotAutoparagraph:!0});var d=new Qv(i,u,c.anchor),f;f=o.is("documentFragment")?o.getChildren():[o],d.handleNodes(f,{isFirst:!0,isLast:!0});var h=d.getSelectionRange();h&&(c instanceof Zi?u.setSelection(h):c.setTo(h));var k=d.getAffectedRange()||i.createRange(c.anchor);return d.destroy(),k})}(this,e,r,t)}},{key:"deleteContent",value:function(e,r){Zv(this,e,r)}},{key:"modifySelection",value:function(e,r){(function(t,i){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t.schema,l=o.direction!="backward",u=o.unit?o.unit:"character",c=i.focus,d=new Wa({boundaries:qv(c,l),singleCharacters:!0,direction:l?"forward":"backward"}),f={walker:d,schema:s,isForward:l,unit:u},h,k=function(){if(h.done)return{v:void 0};var I=Xv(f,h.value);if(I)return{v:void(i instanceof Zi?t.change(function(G){G.setSelectionFocus(I)}):i.setFocus(I))}};h=d.next();){var P=k();if(typeof P=="object")return P.v}})(this,e,r)}},{key:"getSelectedContent",value:function(e){return function(r,t){return r.change(function(i){var o=i.createDocumentFragment(),s=t.getFirstRange();if(!s||s.isCollapsed)return o;var l=s.start.root,u=s.start.getCommonPath(s.end),c=l.getNodeByPath(u),d;d=s.start.parent==s.end.parent?s:i.createRange(i.createPositionAt(c,s.start.path[u.length]),i.createPositionAt(c,s.end.path[u.length]+1));var f=d.end.offset-d.start.offset,h=p(d.getItems({shallow:!0})),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;P.is("textProxy")?i.appendText(P.data,P.getAttributes(),o):i.append(P._clone(!0),o)}}catch(G){h.e(G)}finally{h.f()}if(d!=s){var A=s._getTransformedByMove(d.start,i.createPositionAt(o,0),f)[0],I=i.createRange(i.createPositionAt(o,0),A.start);ed(i.createRange(A.end,i.createPositionAt(o,"end")),i),ed(I,i)}return o})}(this,e)}},{key:"hasContent",value:function(e,r){var t=e instanceof zn?ot._createIn(e):e;if(t.isCollapsed)return!1;var i=p(this.markers.getMarkersIntersectingRange(t)),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.affectsData)return!0}}catch(k){i.e(k)}finally{i.f()}var l=r||{},u=l.ignoreWhitespaces,c=u===void 0?!1:u,d=p(t.getItems()),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h.is("textProxy")){if(!c||h.data.search(/\S/)!==-1)return!0}else if(this.schema.isObject(h))return!0}}catch(k){d.e(k)}finally{d.f()}return!1}},{key:"createPositionFromPath",value:function(e,r,t){return new kt(e,r,t)}},{key:"createPositionAt",value:function(e,r){return kt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return kt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return kt._createBefore(e)}},{key:"createRange",value:function(e,r){return new ot(e,r)}},{key:"createRangeIn",value:function(e){return ot._createIn(e)}},{key:"createRangeOn",value:function(e){return ot._createOn(e)}},{key:"createSelection",value:function(e,r,t){return new co(e,r,t)}},{key:"createBatch",value:function(e){return new Cl(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function r(){C(this,r)}return E(r,null,[{key:"fromJSON",value:function(i,o){return Xi[i.__className].fromJSON(i,o)}}]),r}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var r=this._pendingChanges[0].batch;this._currentWriter=new Uv(this,r);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),a}();rr(nd,nn);var Ha=function(){function a(){C(this,a),this._listener=Object.create(us)}return E(a,[{key:"listenTo",value:function(e){var r=this;this._listener.listenTo(e,"keydown",function(t,i){r._listener.fire("_keydown:"+ie(i),i)})}},{key:"set",value:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we(e),o=t.priority;this._listener.listenTo(this._listener,"_keydown:"+i,function(s,l){r(l,function(){l.preventDefault(),l.stopPropagation(),s.stop()}),s.return=!0},{priority:o})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+ie(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),a}(),ip=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this),t.editor=r,t}return E(e,[{key:"set",value:function(t,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof i=="string"){var l=i;i=function(c,d){o.editor.execute(l),d()}}m(S(e.prototype),"set",this).call(this,t,i,s)}}]),e}(Ha),id=function(){function a(){var n=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};C(this,a),this._context=e.context||new fe({language:e.language}),this._context._addEditor(this,!e.context);var r=Array.from(this.constructor.builtinPlugins||[]);this.config=new zi(e,this.constructor.defaultConfig),this.config.define("plugins",r),this.config.define(this._context._getEditorConfig()),this.plugins=new mi(this,r,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Av,this.set("state","initializing"),this.once("ready",function(){return n.state="ready"},{priority:"high"}),this.once("destroy",function(){return n.state="destroyed"},{priority:"high"}),this.set("isReadOnly",!1),this.model=new nd;var t=new Bs;this.data=new Lc(this.model,t),this.editing=new Rc(this.model,t),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Vv([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ip(this),this.keystrokes.listenTo(this.editing.view.document)}return E(a,[{key:"initPlugins",value:function(){var e=this.config,r=e.get("plugins"),t=e.get("removePlugins")||[],i=e.get("extraPlugins")||[];return this.plugins.init(r.concat(i),t)}},{key:"destroy",value:function(){var e=this,r=Promise.resolve();return this.state=="initializing"&&(r=new Promise(function(t){return e.once("ready",t)})),r.then(function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()}).then(function(){return e.plugins.destroy()}).then(function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()}).then(function(){return e._context._removeEditor(e)})}},{key:"execute",value:function(){try{var e;(e=this.commands).execute.apply(e,arguments)}catch(r){me.b.rethrowUnexpectedError(r,this)}}}]),a}();rr(id,nn);var ap={setData:function(n){this.data.set(n)},getData:function(n){return this.data.get(n)}},op={updateSourceElement:function(){if(!this.sourceElement)throw new me.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var n,e;n=this.sourceElement,e=this.data.get(),n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}},sp=function(){function a(){C(this,a)}return E(a,[{key:"getHtml",value:function(e){var r=document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}]),a}(),ad=function(){function a(n){C(this,a),this._domParser=new DOMParser,this._domConverter=new ls(n,{blockFillerMode:"nbsp"}),this._htmlWriter=new sp}return E(a,[{key:"toData",value:function(e){var r=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(r)}},{key:"toView",value:function(e){var r=this._toDom(e);return this._domConverter.domToView(r)}},{key:"_toDom",value:function(e){for(var r=this._domParser.parseFromString(e,"text/html"),t=r.createDocumentFragment(),i=r.body.childNodes;i.length>0;)t.appendChild(i[0]);return t}}]),a}(),lp=function(){function a(n){C(this,a),this.editor=n,this._components=new Map}return E(a,[{key:"names",value:L.mark(function n(){var e,r,t;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._components.values()),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return t=r.value,o.next=7,t.originalName;case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},n,this,[[1,11,14,17]])})},{key:"add",value:function(e,r){if(this.has(e))throw new me.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set(vu(e),{callback:r,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new me.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get(vu(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(vu(e))}}]),a}();function vu(a){return String(a).toLowerCase()}var qi=function(){function a(){C(this,a),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return E(a,[{key:"add",value:function(e){var r=this;if(this._elements.has(e))throw new me.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",function(){return r._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return r._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),a}();rr(qi,us),rr(qi,nn);var od=function(){function a(n){var e=this;C(this,a),this.editor=n,this.componentFactory=new lp(n),this.focusTracker=new qi,this._editableElementsMap=new Map,this.listenTo(n.editing.view.document,"layoutChanged",function(){return e.update()})}return E(a,[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e=p(this._editableElementsMap.values()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.ckeditorInstance=null}}catch(i){e.e(i)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,r){this._editableElementsMap.set(e,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),a}();rr(od,rn),j(13);var Al=new WeakMap;function sd(a){var n=a.view,e=a.element,r=a.text,t=a.isDirectHost,i=t===void 0?!0:t,o=n.document;Al.has(o)||(Al.set(o,new Map),o.registerPostFixer(function(s){return ld(o,s)})),Al.get(o).set(e,{text:r,isDirectHost:i}),n.change(function(s){return ld(o,s)})}function up(a,n){return!!n.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",n),!0)}function ld(a,n){var e=Al.get(a),r=!1,t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=H(o,2),l=s[0],u=s[1];cp(n,l,u)&&(r=!0)}}catch(c){t.e(c)}finally{t.f()}return r}function cp(a,n,e){var r=e.text,t=e.isDirectHost,i=t?n:function(s){if(s.childCount===1){var l=s.getChild(0);if(l.is("element")&&!l.is("uiElement"))return l}return null}(n),o=!1;return!!i&&(e.hostElement=i,i.getAttribute("data-placeholder")!==r&&(a.setAttribute("data-placeholder",r,i),o=!0),function(s){if(!s.isAttached())return!1;var l=!Array.from(s.getChildren()).some(function(d){return!d.is("uiElement")}),u=s.document;if(!u.isFocused&&l)return!0;var c=u.selection.anchor;return!(!l||!c||c.parent===s)}(i)?function(s,l){return!l.hasClass("ck-placeholder")&&(s.addClass("ck-placeholder",l),!0)}(a,i)&&(o=!0):up(a,i)&&(o=!0),o)}var dp=function(){function a(){C(this,a),this._replacedElements=[]}return E(a,[{key:"replace",value:function(e,r){this._replacedElements.push({element:e,newElement:r}),e.style.display="none",r&&e.parentNode.insertBefore(r,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(e){var r=e.element,t=e.newElement;r.style.display="",t&&t.remove()}),this._replacedElements=[]}}]),a}(),fp=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e);var o;return i=n.call(this,r),i.view=t,i._toolbarConfig=(o=r.config.get("toolbar"),Array.isArray(o)?{items:o}:o?Object.assign({items:[]},o):{items:[]}),i._elementReplacer=new dp,i}return E(e,[{key:"element",get:function(){return this.view.element}},{key:"init",value:function(t){var i=this.editor,o=this.view,s=i.editing.view,l=o.editable,u=s.document.getRoot();l.name=u.rootName,o.render();var c=l.element;this.setEditableElement(l.name,c),this.focusTracker.add(c),o.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(c),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var t=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(t.editable.name),t.destroy(),m(S(e.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var t=this.editor,i=this.view,o=t.editing.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,this._toolbarConfig.viewportTopOffset&&(i.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),i.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(s){var l=s.origin,u=s.originKeystrokeHandler,c=s.originFocusTracker,d=s.toolbar,f=s.beforeFocus,h=s.afterBlur;c.add(d.element),u.set("Alt+F10",function(k,P){c.isFocused&&!d.focusTracker.isFocused&&(f&&f(),d.focus(),P())}),d.keystrokes.set("Esc",function(k,P){d.focusTracker.isFocused&&(l.focus(),h&&h(),P())})}({origin:o,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:i.toolbar})}},{key:"_initPlaceholder",value:function(){var t=this.editor,i=t.editing.view,o=i.document.getRoot(),s=t.sourceElement,l=t.config.get("placeholder")||s&&s.tagName.toLowerCase()==="textarea"&&s.getAttribute("placeholder");l&&sd({view:i,element:o,text:l,isDirectHost:!1})}}]),e}(od),Bo=function(a){T(e,a);var n=D(e);function e(){var r,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C(this,e),r=n.call(this,t,{idProperty:"viewUid"}),r.on("add",function(i,o,s){r._renderViewIntoCollectionParent(o,s)}),r.on("remove",function(i,o){o.element&&r._parentElement&&o.element.remove()}),r._parentElement=null,r}return E(e,[{key:"destroy",value:function(){this.map(function(t){return t.destroy()})}},{key:"setParent",value:function(t){this._parentElement=t;var i=p(this),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this._renderViewIntoCollectionParent(s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"delegate",value:function(){for(var t=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length||!o.every(function(l){return typeof l=="string"}))throw new me.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:function(u){var c=p(t),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=p(o),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;f.delegate(P).to(u)}}catch(A){h.e(A)}finally{h.f()}}}catch(A){c.e(A)}finally{c.f()}t.on("add",function(A,I){var G=p(o),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;I.delegate(q).to(u)}}catch(ae){G.e(ae)}finally{G.f()}}),t.on("remove",function(A,I){var G=p(o),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;I.stopDelegating(q,u)}}catch(ae){G.e(ae)}finally{G.f()}})}}}},{key:"_renderViewIntoCollectionParent",value:function(t,i){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[i])}}]),e}(Un),ea=function(){function a(n){C(this,a),Object.assign(this,fd(dd(n))),this._isRendered=!1,this._revertData=null}return E(a,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new me.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:L.mark(function n(){return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(L.mark(function t(i){var o,s,l;return L.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!i.children){c.next=24;break}o=p(i.children),c.prev=2,o.s();case 4:if((s=o.n()).done){c.next=16;break}if(l=s.value,!Tl(l)){c.next=11;break}return c.next=9,l;case 9:c.next=14;break;case 11:if(c.t0=pu(l),!c.t0){c.next=14;break}return c.delegateYield(t(l),"t1",14);case 14:c.next=4;break;case 16:c.next=21;break;case 18:c.prev=18,c.t2=c.catch(2),o.e(c.t2);case 21:return c.prev=21,o.f(),c.finish(21);case 24:case"end":return c.stop()}},t,null,[[2,18,21,24]])})(this),"t0",1);case 1:case"end":return r.stop()}},n,this)})},{key:"_renderNode",value:function(e){var r;if(r=e.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new me.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var r=e.node;return r||(r=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),r}},{key:"_renderText",value:function(e){var r=e.node;return r?e.revertData.text=r.textContent:r=e.node=document.createTextNode(""),Sl(this.text)?this._bindToObservable({schema:this.text,updater:vp(r),data:e}):r.textContent=this.text.join(""),r}},{key:"_renderAttributes",value:function(e){var r,t,i,o;if(!!this.attributes){var s=e.node,l=e.revertData;for(r in this.attributes)if(i=s.getAttribute(r),t=this.attributes[r],l&&(l.attributes[r]=i),o=ze(t[0])&&t[0].ns?t[0].ns:null,Sl(t)){var u=o?t[0].value:t;l&&gd(r)&&u.unshift(i),this._bindToObservable({schema:u,updater:pp(s,r,o),data:e})}else r=="style"&&typeof t[0]!="string"?this._renderStyleAttribute(t[0],e):(l&&i&&gd(r)&&t.unshift(i),t=t.map(function(c){return c&&c.value||c}).reduce(function(c,d){return c.concat(d)},[]).reduce(vd,""),gs(t)||s.setAttributeNS(o,r,t))}}},{key:"_renderStyleAttribute",value:function(e,r){var t=r.node;for(var i in e){var o=e[i];Sl(o)?this._bindToObservable({schema:[o],updater:gp(t,i),data:r}):t.style[i]=o}}},{key:"_renderElementChildren",value:function(e){var r=e.node,t=e.intoFragment?document.createDocumentFragment():r,i=e.isApplying,o=0,s=p(this.children),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(gu(u)){if(!i){u.setParent(r);var c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;t.appendChild(f.element)}}catch(k){c.e(k)}finally{c.f()}}}else if(Tl(u))i||(u.isRendered||u.render(),t.appendChild(u.element));else if(lo(u))t.appendChild(u);else if(i){var h={children:[],bindings:[],attributes:{}};e.revertData.children.push(h),u._renderNode({node:t.childNodes[o++],isApplying:!0,revertData:h})}else t.appendChild(u.render())}}catch(k){s.e(k)}finally{s.f()}e.intoFragment&&r.appendChild(t)}},{key:"_setUpListeners",value:function(e){var r=this;if(this.eventListeners){var t=function(s){var l=r.eventListeners[s].map(function(u){var c=s.split("@"),d=H(c,2),f=d[0],h=d[1];return u.activateDomEventListener(f,h,e)});e.revertData&&e.revertData.bindings.push(l)};for(var i in this.eventListeners)t(i)}}},{key:"_bindToObservable",value:function(e){var r=e.schema,t=e.updater,i=e.data,o=i.revertData;cd(r,t,i);var s=r.filter(function(l){return!gs(l)}).filter(function(l){return l.observable}).map(function(l){return l.activateAttributeListener(r,t,i)});o&&o.bindings.push(s)}},{key:"_revertTemplateFromNode",value:function(e,r){var t=p(r.bindings),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=p(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u()}}catch(h){s.e(h)}finally{s.f()}}}catch(h){t.e(h)}finally{t.f()}if(r.text)e.textContent=r.text;else{for(var c in r.attributes){var d=r.attributes[c];d===null?e.removeAttribute(c):e.setAttribute(c,d)}for(var f=0;f<r.children.length;++f)this._revertTemplateFromNode(e.childNodes[f],r.children[f])}}}],[{key:"bind",value:function(e,r){return{to:function(i,o){return new hp({eventNameOrFunction:i,attribute:i,observable:e,emitter:r,callback:o})},if:function(i,o,s){return new ud({observable:e,emitter:r,attribute:i,valueIfTrue:o,callback:s})}}}},{key:"extend",value:function(e,r){if(e._isRendered)throw new me.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);(function t(i,o){var s;if(o.attributes&&(i.attributes||(i.attributes={}),pd(i.attributes,o.attributes)),o.eventListeners&&(i.eventListeners||(i.eventListeners={}),pd(i.eventListeners,o.eventListeners)),o.text&&(s=i.text).push.apply(s,z(o.text)),o.children&&o.children.length){if(i.children.length!=o.children.length)throw new me.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",i);var l=0,u=p(o.children),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;t(i.children[l++],d)}}catch(f){u.e(f)}finally{u.f()}}})(e,fd(dd(r)))}}]),a}();rr(ea,rn);var ol=function(){function a(n){C(this,a),Object.assign(this,n)}return E(a,[{key:"getValue",value:function(e){var r=this.observable[this.attribute];return this.callback?this.callback(r,e):r}},{key:"activateAttributeListener",value:function(e,r,t){var i=this,o=function(){return cd(e,r,t)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,o)}}}]),a}(),hp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"activateDomEventListener",value:function(t,i,o){var s=this,l=function(c,d){i&&!d.target.matches(i)||(typeof s.eventNameOrFunction=="function"?s.eventNameOrFunction(d):s.observable.fire(s.eventNameOrFunction,d))};return this.emitter.listenTo(o.node,t,l),function(){s.emitter.stopListening(o.node,t,l)}}}]),e}(ol),ud=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"getValue",value:function(t){return!gs(m(S(e.prototype),"getValue",this).call(this,t))&&(this.valueIfTrue||!0)}}]),e}(ol);function Sl(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Sl):a instanceof ol)}function cd(a,n,e){var r=e.node,t=function(i,o){return i.map(function(s){return s instanceof ol?s.getValue(o):s})}(a,r);t=a.length==1&&a[0]instanceof ud?t[0]:t.reduce(vd,""),gs(t)?n.remove():n.set(t)}function vp(a){return{set:function(e){a.textContent=e},remove:function(){a.textContent=""}}}function pp(a,n,e){return{set:function(t){a.setAttributeNS(e,n,t)},remove:function(){a.removeAttributeNS(e,n)}}}function gp(a,n){return{set:function(r){a.style[n]=r},remove:function(){a.style[n]=null}}}function dd(a){return ua(a,function(n){if(n&&(n instanceof ol||pu(n)||Tl(n)||gu(n)))return n})}function fd(a){if(typeof a=="string"?a=function(i){return{text:[i]}}(a):a.text&&function(i){Array.isArray(i.text)||(i.text=[i.text])}(a),a.on&&(a.eventListeners=function(i){for(var o in i)hd(i,o);return i}(a.on),delete a.on),!a.text){a.attributes&&function(i){for(var o in i)i[o].value&&(i[o].value=[].concat(i[o].value)),hd(i,o)}(a.attributes);var n=[];if(a.children)if(gu(a.children))n.push(a.children);else{var e=p(a.children),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;pu(t)||Tl(t)||lo(t)?n.push(t):n.push(new ea(t))}}catch(i){e.e(i)}finally{e.f()}}a.children=n}return a}function hd(a,n){Array.isArray(a[n])||(a[n]=[a[n]])}function vd(a,n){return gs(n)?a:gs(a)?n:"".concat(a," ").concat(n)}function pd(a,n){for(var e in n){var r;a[e]?(r=a[e]).push.apply(r,z(n[e])):a[e]=n[e]}}function gs(a){return!a&&a!==0}function Tl(a){return a instanceof Rr}function pu(a){return a instanceof ea}function gu(a){return a instanceof Bo}function gd(a){return a=="class"||a=="style"}j(15);var Rr=function(){function a(n){C(this,a),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Un,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,r){r.locale=n}),this.decorate("render")}return E(a,[{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ea.bind(this,this)}},{key:"createCollection",value:function(e){var r=new Bo(e);return this._viewCollections.add(r),r}},{key:"registerChild",value:function(e){Hn(e)||(e=[e]);var r=p(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._unboundChildren.add(i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"deregisterChild",value:function(e){Hn(e)||(e=[e]);var r=p(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._unboundChildren.remove(i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"setTemplate",value:function(e){this.template=new ea(e)}},{key:"extendTemplate",value:function(e){ea.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new me.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}}]),a}();rr(Rr,us),rr(Rr,nn);var md=function(n){return typeof n=="string"||!lr(n)&&Xe(n)&&dt(n)=="[object String]"},mp=function(a){T(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return C(this,e),t=n.call(this,i),t.locale=r,t}return E(e,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new ea({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var t=document.querySelector(".ck-body-wrapper");t||(t=function(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],u=s&&s.xmlns,c=u?i.createElementNS(u,o):i.createElement(o);for(var d in s)c.setAttribute(d,s[d]);!md(l)&&Hn(l)||(l=[l]);var f=p(l),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;md(k)&&(k=i.createTextNode(k)),c.appendChild(k)}}catch(P){f.e(P)}finally{f.f()}return c}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){m(S(e.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}]),e}(Bo);j(17);var bp=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.body=new mp(r),t}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),m(S(e.prototype),"destroy",this).call(this)}}]),e}(Rr);j(19);var bd=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r),t.set("text"),t.set("for"),t.id="ck-editor__label_"+ei();var i=t.bindTemplate;return t.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:t.id,for:i.to("for")},children:[{text:i.to("text")}]}),t}return e}(Rr),yp=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.top=t.createCollection(),t.main=t.createCollection(),t._voiceLabelView=t._createVoiceLabel(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:r.uiLanguageDirection,lang:r.uiLanguage,"aria-labelledby":t._voiceLabelView.id},children:[t._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:t.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:t.main}]}),t}return E(e,[{key:"_createVoiceLabel",value:function(){var t=this.t,i=new bd;return i.text=t("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}]),e}(bp),wp=function(a){T(e,a);var n=D(e);function e(r,t,i){var o;return C(this,e),o=n.call(this,r),o.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:r.contentLanguage,dir:r.contentLanguageDirection}}),o.name=null,o.set("isFocused",!1),o._editableElement=i,o._hasExternalElement=!!o._editableElement,o._editingView=t,o}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return t._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),m(S(e.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var t=this._editingView;function i(o){t.change(function(s){var l=t.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",l)})}t.isRenderingInProgress?function o(s){t.once("change:isRenderingInProgress",function(l,u,c){c?o(s):i(s)})}(this):i(this)}}]),e}(Rr),kp=function(a){T(e,a);var n=D(e);function e(r,t,i){var o;return C(this,e),o=n.call(this,r,t,i),o.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),o}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this);var i=this._editingView,o=this.t;i.change(function(s){var l=i.document.getRoot(t.name);s.setAttribute("aria-label",o("Rich Text Editor, %0",[t.name]),l)})}}]),e}(wp);function mu(a){return function(n){return n+a}}j(21);var sl=mu("px"),_p=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("isActive",!1),t.set("isSticky",!1),t.set("limiterElement",null),t.set("limiterBottomOffset",50),t.set("viewportTopOffset",0),t.set("_marginLeft",null),t.set("_isStickyToTheLimiter",!1),t.set("_hasViewportTopOffset",!1),t.content=t.createCollection(),t._contentPanelPlaceholder=new ea({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",function(o){return o?"block":"none"}),height:i.to("isSticky",function(o){return o?sl(t._panelRect.height):null})}}}).render(),t._contentPanel=new ea({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",function(o){return o?sl(t._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:i.to("_hasViewportTopOffset",function(o){return o?sl(t.viewportTopOffset):null}),bottom:i.to("_isStickyToTheLimiter",function(o){return o?sl(t.limiterBottomOffset):null}),marginLeft:i.to("_marginLeft")}},children:t.content}).render(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[t._contentPanelPlaceholder,t._contentPanel]}),t}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Tn.window,"scroll",function(){t._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){t._checkIfShouldBeSticky()})}},{key:"_checkIfShouldBeSticky",value:function(){var t=this._panelRect=this._contentPanel.getBoundingClientRect(),i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:sl(-Tn.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),e}(Rr),ms=function(){function a(n){var e=this;if(C(this,a),Object.assign(this,n),n.actions&&n.keystrokeHandler){var r=function(o){var s=n.actions[o];typeof s=="string"&&(s=[s]);var l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;n.keystrokeHandler.set(c,function(d,f){e[o](),f()})}}catch(d){l.e(d)}finally{l.f()}};for(var t in n.actions)r(t)}}return E(a,[{key:"first",get:function(){return this.focusables.find(bu)||null}},{key:"last",get:function(){return this.focusables.filter(bu).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,r=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(function(t,i){var o=t.element===e.focusTracker.focusedElement;return o&&(r=i),o}),r)}},{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var r=this.current,t=this.focusables.length;if(!t)return null;if(r===null)return this[e===1?"first":"last"];var i=(r+t+e)%t;do{var o=this.focusables.get(i);if(bu(o))return o;i=(i+t+e)%t}while(i!==r);return null}}]),a}();function bu(a){return!(!a.focus||Tn.window.getComputedStyle(a.element).display=="none")}var yd=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),t}return e}(Rr),yu=function(){function a(n,e){C(this,a),a._observerInstance||a._createObserver(),this._element=n,this._callback=e,a._addElementCallback(n,e),a._observerInstance.observe(n)}return E(a,[{key:"destroy",value:function(){a._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,r){a._elementCallbacks||(a._elementCallbacks=new Map);var t=a._elementCallbacks.get(e);t||(t=new Set,a._elementCallbacks.set(e,t)),t.add(r)}},{key:"_deleteElementCallback",value:function(e,r){var t=a._getElementCallbacks(e);t&&(t.delete(r),t.size||(a._elementCallbacks.delete(e),a._observerInstance.unobserve(e))),a._elementCallbacks&&!a._elementCallbacks.size&&(a._observerInstance=null,a._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return a._elementCallbacks?a._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e;e=typeof Tn.window.ResizeObserver=="function"?Tn.window.ResizeObserver:wd,a._observerInstance=new e(function(r){var t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(!!o.target.offsetParent){var s=a._getElementCallbacks(o.target);if(s){var l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c(o)}}catch(d){l.e(d)}finally{l.f()}}}}}catch(d){t.e(d)}finally{t.f()}})}}]),a}();yu._observerInstance=null,yu._elementCallbacks=null;var wd=function(){function a(n){C(this,a),this._callback=n,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return E(a,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),this._elements.size===1&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this,r=function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(Tn.window,"resize",function(){e._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(r,100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e=[],r=p(this._elements),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;this._hasRectChanged(i)&&e.push({target:i,contentRect:this._previousRects.get(i)})}}catch(o){r.e(o)}finally{r.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var r=new $n(e),t=this._previousRects.get(e),i=!t||!t.isEqual(r);return this._previousRects.set(e,r),i}}]),a}();rr(wd,us);var xp=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("isVisible",!1),t.set("position","se"),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",function(o){return"ck-dropdown__panel_"+o}),i.if("isVisible","ck-dropdown__panel-visible")]},children:t.children,on:{selectstart:i.to(function(o){return o.preventDefault()})}}),t}return E(e,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}]),e}(Rr);j(23);function kd(a){var n=a.element,e=a.target,r=a.positions,t=a.limiter,i=a.fitInViewport;Ot(e)&&(e=e()),Ot(t)&&(t=t());var o=function(I){return I&&I.parentNode?I.offsetParent===Tn.document.body?null:I.offsetParent:null}(n),s=new $n(n),l=new $n(e),u,c;if(t||i){var d=function(I,G){var Z=G.elementRect,q=G.viewportRect,ae=Z.getArea(),be=function(Ne,Ze){var _t=Ze.targetRect,Rt=Ze.elementRect,Jt=Ze.limiterRect,Dt=Ze.viewportRect,Et=[],Xt=Rt.getArea(),Qt=p(Ne),wr;try{for(Qt.s();!(wr=Qt.n()).done;){var xn=wr.value,qn=wu(xn,_t,Rt);if(!!qn){var wi=H(qn,2),Ho=wi[0],Ni=wi[1],Ei=0,Oa=0;if(Jt)if(Dt){var Ko=Jt.getIntersection(Dt);Ko&&(Ei=Ko.getIntersectionArea(Ni))}else Ei=Jt.getIntersectionArea(Ni);Dt&&(Oa=Dt.getIntersectionArea(Ni));var Go={positionName:Ho,positionRect:Ni,limiterIntersectArea:Ei,viewportIntersectArea:Oa};if(Ei===Xt)return[Go];Et.push(Go)}}}catch(dl){Qt.e(dl)}finally{Qt.f()}return Et}(I,G);if(q){var Re=_d(be.filter(function(Ne){var Ze=Ne.viewportIntersectArea;return Ze===ae}),ae);if(Re)return Re}return _d(be,ae)}(r,{targetRect:l,elementRect:s,limiterRect:t&&new $n(t).getVisible(),viewportRect:i&&new $n(Tn.window)}),f=d||wu(r[0],l,s),h=H(f,2);c=h[0],u=h[1]}else{var k=wu(r[0],l,s),P=H(k,2);c=P[0],u=P[1]}var A=xd(u);return o&&(A=function(I,G){var Z=I.left,q=I.top,ae=xd(new $n(G)),be=dc(G);return Z-=ae.left,q-=ae.top,Z+=G.scrollLeft,q+=G.scrollTop,Z-=be.left,q-=be.top,{left:Z,top:q}}(A,o)),{left:A.left,top:A.top,name:c}}function wu(a,n,e){var r=a(n,e);if(!r)return null;var t=r.left,i=r.top,o=r.name;return[o,e.clone().moveTo(t,i)]}function _d(a,n){var e,r,t=0,i=p(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.positionName,u=s.positionRect,c=s.limiterIntersectArea,d=s.viewportIntersectArea;if(c===n)return[l,u];var f=Math.pow(d,2)+Math.pow(c,2);f>t&&(t=f,e=u,r=l)}}catch(h){i.e(h)}finally{i.f()}return e?[r,e]:null}function xd(a){var n=a.left,e=a.top,r=Tn.window,t=r.scrollX,i=r.scrollY;return{left:n+t,top:e+i}}var ku=function(a){T(e,a);var n=D(e);function e(r,t,i){var o;C(this,e),o=n.call(this,r);var s=o.bindTemplate;return o.buttonView=t,o.panelView=i,o.set("isOpen",!1),o.set("isEnabled",!0),o.set("class"),o.set("id"),o.set("panelPosition","auto"),o.keystrokes=new Ha,o.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",function(l){return!l})],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),o}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",function(){t.isOpen=!t.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){t.isOpen&&(t.panelPosition==="auto"?t.panelView.position=e._getOptimalPosition({element:t.panelView.element,target:t.buttonView.element,fitInViewport:!0,positions:t._panelPositions}).name:t.panelView.position=t.panelPosition)}),this.keystrokes.listenTo(this.element);var i=function(s,l){t.isOpen&&(t.buttonView.focus(),t.isOpen=!1,l())};this.keystrokes.set("arrowdown",function(o,s){t.buttonView.isEnabled&&!t.isOpen&&(t.isOpen=!0,s())}),this.keystrokes.set("arrowright",function(o,s){t.isOpen&&s()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var t=e.defaultPanelPositions,i=t.southEast,o=t.southWest,s=t.northEast,l=t.northWest;return this.locale.uiLanguageDirection==="ltr"?[i,o,s,l]:[o,i,l,s]}}]),e}(Rr);ku.defaultPanelPositions={southEast:function(n){return{top:n.bottom,left:n.left,name:"se"}},southWest:function(n,e){return{top:n.bottom,left:n.left-e.width+n.width,name:"sw"}},northEast:function(n,e){return{top:n.top-e.height,left:n.left,name:"ne"}},northWest:function(n,e){return{top:n.bottom-e.height,left:n.left-e.width+n.width,name:"nw"}}},ku._getOptimalPosition=kd,j(25);var Ml=function(a){T(e,a);var n=D(e);function e(){var r;C(this,e),r=n.call(this);var t=r.bindTemplate;return r.set("content",""),r.set("viewBox","0 0 20 20"),r.set("fillColor",""),r.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}}),r}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){t._updateXMLContent(),t._colorFillPaths()}),this.on("change:fillColor",function(){t._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=t.getAttribute("viewBox");for(i&&(this.viewBox=i),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(i){i.style.fill=t.fillColor})}}]),e}(Rr);j(27);var Od=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r),t.set("text",""),t.set("position","s");var i=t.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",i.to("position",function(o){return"ck-tooltip_"+o}),i.if("text","ck-hidden",function(o){return!o.trim()})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:i.to("text")}]}]}),t}return e}(Rr);j(29);var Ln=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.bindTemplate,o=ei();return t.set("class"),t.set("labelStyle"),t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isVisible",!0),t.set("isToggleable",!1),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.set("withKeystroke",!1),t.children=t.createCollection(),t.tooltipView=t._createTooltipView(),t.labelView=t._createLabelView(o),t.iconView=new Ml,t.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),t.keystrokeView=t._createKeystrokeView(),t.bind("_tooltipString").to(O(t),"tooltip",O(t),"label",O(t),"keystroke",t._getTooltipString.bind(O(t))),t.setTemplate({tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",function(s){return!s}),i.if("isVisible","ck-hidden",function(s){return!s}),i.to("isOn",function(s){return s?"ck-on":"ck-off"}),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",function(s){return s||"button"}),tabindex:i.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+o,"aria-disabled":i.if("isEnabled",!0,function(s){return!s}),"aria-pressed":i.to("isOn",function(s){return!!t.isToggleable&&String(s)})},children:t.children,on:{mousedown:i.to(function(s){s.preventDefault()}),click:i.to(function(s){t.isEnabled?t.fire("execute"):s.preventDefault()})}}),t}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var t=new Od;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}},{key:"_createLabelView",value:function(t){var i=new Rr,o=this.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),i}},{key:"_createKeystrokeView",value:function(){var t=new Rr;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",function(i){return nt(i)})}]}),t}},{key:"_getTooltipString",value:function(t,i,o){return t?typeof t=="string"?t:(o&&(o=nt(o)),t instanceof Function?t(i,o):"".concat(i).concat(o?" (".concat(o,")"):"")):""}}]),e}(Rr),Pd='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',Ed=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.arrowView=t._createArrowView(),t.extendTemplate({attributes:{"aria-haspopup":!0}}),t.delegate("execute").to(O(t),"open"),t}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var t=new Ml;return t.content=Pd,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}]),e}(Ln);j(31);var Cd=function(a){T(e,a);var n=D(e);function e(){var r;return C(this,e),r=n.call(this),r.items=r.createCollection(),r.focusTracker=new qi,r.keystrokes=new Ha,r._focusCycler=new ms({focusables:r.items,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),r.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:r.items}),r}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this);var i=p(this.items),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.focusTracker.add(s.element)}}catch(l){i.e(l)}finally{i.f()}this.items.on("add",function(l,u){t.focusTracker.add(u.element)}),this.items.on("remove",function(l,u){t.focusTracker.remove(u.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),e}(Rr),Ad=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.children=t.createCollection(),t.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:t.children}),t}return E(e,[{key:"focus",value:function(){this.children.first.focus()}}]),e}(Rr),Op=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),t}return e}(Rr);j(33);var _u=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.isToggleable=!0,t.toggleSwitchView=t._createToggleView(),t.extendTemplate({attributes:{class:"ck-switchbutton"}}),t}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var t=new Rr;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}]),e}(Ln);function Il(a){var n=a.emitter,e=a.activator,r=a.callback,t=a.contextElements;n.listenTo(document,"mousedown",function(i,o){var s=o.target;if(e()){var l=p(t),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.contains(s))return}}catch(d){l.e(d)}finally{l.f()}r()}})}j(35),j(37);function bs(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ed,e=new n(a),r=new xp(a),t=new ku(a,e,r);return e.bind("isEnabled").to(t),e instanceof Ed?e.bind("isOn").to(t,"isOpen"):e.arrowView.bind("isOn").to(t,"isOpen"),function(i){(function(o){o.on("render",function(){Il({emitter:o,activator:function(){return o.isOpen},callback:function(){o.isOpen=!1},contextElements:[o.element]})})})(i),function(o){o.on("execute",function(s){s.source instanceof _u||(o.isOpen=!1)})}(i),function(o){o.keystrokes.set("arrowdown",function(s,l){o.isOpen&&(o.panelView.focus(),l())}),o.keystrokes.set("arrowup",function(s,l){o.isOpen&&(o.panelView.focusLast(),l())})}(i)}(t),t}function Sd(a,n){var e=a.locale,r=a.listView=new Cd(e);r.items.bindTo(n).using(function(t){var i=t.type,o=t.model;if(i==="separator")return new Op(e);if(i==="button"||i==="switchbutton"){var s,l=new Ad(e),u;return u=i==="button"?new Ln(e):new _u(e),(s=u).bind.apply(s,z(Object.keys(o))).to(o),u.delegate("execute").to(l),l.children.add(u),l}}),a.panelView.children.add(r),r.items.delegate("execute").to(a)}j(39);var xu=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e),i=n.call(this,r);var o=i.bindTemplate,s=i.t,l;return i.options=t||{},i.set("ariaLabel",s("Editor toolbar")),i.set("maxWidth","auto"),i.items=i.createCollection(),i.focusTracker=new qi,i.keystrokes=new Ha,i.set("class"),i.set("isCompact",!1),i.itemsView=new Pp(r),i.children=i.createCollection(),i.children.add(i.itemsView),i.focusables=i.createCollection(),i._focusCycler=new ms({focusables:i.focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:i.children,on:{mousedown:(l=O(i),l.bindTemplate.to(function(u){u.target===l.element&&u.preventDefault()}))}}),i._behavior=i.options.shouldGroupWhenFull?new Cp(O(i)):new Ep(O(i)),i}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this);var i=p(this.items),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.focusTracker.add(s.element)}}catch(l){i.e(l)}finally{i.f()}this.items.on("add",function(l,u){t.focusTracker.add(u.element)}),this.items.on("remove",function(l,u){t.focusTracker.remove(u.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),m(S(e.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(t,i){var o=this;t.map(function(s){s=="|"?o.items.add(new yd):i.has(s)?o.items.add(i.create(s)):console.warn(Object(me.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:s})})}}]),e}(Rr),Pp=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:t.children}),t}return e}(Rr),Ep=function(){function a(n){C(this,a);var e=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(function(r){return r}),n.focusables.bindTo(n.items).using(function(r){return r}),n.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}return E(a,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),a}(),Cp=function(){function a(n){var e=this;C(this,a),this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,n.itemsView.children.bindTo(this.ungroupedItems).using(function(r){return r}),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),n.children.on("add",this._updateFocusCycleableItems.bind(this)),n.children.on("remove",this._updateFocusCycleableItems.bind(this)),n.items.on("add",function(r,t,i){i>e.ungroupedItems.length?e.groupedItems.add(t,i-e.ungroupedItems.length):e.ungroupedItems.add(t,i),e._updateGrouping()}),n.items.on("remove",function(r,t,i){i>e.ungroupedItems.length?e.groupedItems.remove(t):e.ungroupedItems.remove(t),e._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return E(a,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(!!this.viewElement.ownerDocument.body.contains(this.viewElement)){if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);for(var e;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,r=this.viewLocale.uiLanguageDirection,t=new $n(e.lastChild),i=new $n(e);if(!this.cachedPadding){var o=Tn.window.getComputedStyle(e),s=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[s])}return r==="ltr"?t.right>i.right-this.cachedPadding:t.left<i.left+this.cachedPadding}},{key:"_enableGroupingOnResize",value:function(){var e=this,r;this.resizeObserver=new yu(this.viewElement,function(t){r&&r===t.contentRect.width&&!e.shouldUpdateGroupingOnNextResize||(e.shouldUpdateGroupingOnNextResize=!1,e._updateGrouping(),r=t.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var r=this;e.on("change:maxWidth",function(){r._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new yd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,r=e.t,t=bs(e);return t.class="ck-toolbar__grouped-dropdown",t.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",function(i,o){var s=i.locale,l=s.t,u=i.toolbarView=new xu(s);u.set("ariaLabel",l("Dropdown toolbar")),i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.map(function(c){return u.items.add(c)}),i.panelView.children.add(u),u.items.delegate("execute").to(i)}(t,[]),t.buttonView.set({label:r("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),t.toolbarView.items.bindTo(this.groupedItems).using(function(i){return i}),t}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(r){e.viewFocusables.add(r)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}]),a}();j(41);var Ap=function(a){T(e,a);var n=D(e);function e(r,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C(this,e),i=n.call(this,r),i.stickyPanel=new _p(r),i.toolbar=new xu(r,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),i.editable=new kp(r,t),i}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),e}(yp),Ou=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e),i=n.call(this,t),ai(r)&&(i.sourceElement=r),i.data.processor=new ad(i.data.viewDocument),i.model.document.createRoot();var o=!i.config.get("toolbar.shouldNotGroupWhenFull"),s=new Ap(i.locale,i.editing.view,{shouldToolbarGroupWhenFull:o});return i.ui=new fp(O(i),s),function(l){if(!Ot(l.updateSourceElement))throw new me.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",l);var u=l.sourceElement;if(u&&u.tagName.toLowerCase()==="textarea"&&u.form){var c,d=u.form,f=function(){return l.updateSourceElement()};Ot(d.submit)&&(c=d.submit,d.submit=function(){f(),c.apply(d)}),d.addEventListener("submit",f),l.on("destroy",function(){d.removeEventListener("submit",f),c&&(d.submit=c)})}}(O(i)),i}return E(e,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),m(S(e.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(s){var l=new i(t,o);s(l.initPlugins().then(function(){return l.ui.init(ai(t)?t:null)}).then(function(){if(!ai(t)&&o.initialData)throw new me.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);var u=o.initialData||function(c){return ai(c)?(d=c,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):c;var d}(t);return l.data.init(u)}).then(function(){return l.fire("ready")}).then(function(){return l}))})}}]),e}(id);rr(Ou,ap),rr(Ou,op);var St=function(){function a(n){C(this,a),this.editor=n,this.set("isEnabled",!0),this._disableStack=new Set}return E(a,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Td,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Td),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),a}();function Td(a){a.return=!1,a.stop()}rr(St,nn);var Sp=function(){function a(n){C(this,a),this.files=function(e){var r=e.files?Array.from(e.files):[],t=e.items?Array.from(e.items):[];return r.length?r:t.filter(function(i){return i.kind==="file"}).map(function(i){return i.getAsFile()})}(n),this._native=n}return E(a,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,r){this._native.setData(e,r)}}]),a}(),Tp=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.document;function o(s,l){l.preventDefault();var u=l.dropRange?[l.dropRange]:Array.from(i.selection.getRanges()),c=new oi(i,"clipboardInput");i.fire(c,{dataTransfer:l.dataTransfer,targetRanges:u}),c.stop.called&&l.stopPropagation()}return t.domEventType=["paste","copy","cut","drop","dragover"],t.listenTo(i,"paste",o,{priority:"low"}),t.listenTo(i,"drop",o,{priority:"low"}),t}return E(e,[{key:"onDomEvent",value:function(t){var i={dataTransfer:new Sp(t.clipboardData?t.clipboardData:t.dataTransfer)};t.type=="drop"&&(i.dropRange=function(o,s){var l=s.target.ownerDocument,u=s.clientX,c=s.clientY,d;return l.caretRangeFromPoint&&l.caretRangeFromPoint(u,c)?d=l.caretRangeFromPoint(u,c):s.rangeParent&&(d=l.createRange(),d.setStart(s.rangeParent,s.rangeOffset),d.collapse(!0)),d?o.domConverter.domRangeToView(d):o.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,i)}}]),e}(ce),Md=["figcaption","li"],ys=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document,s=i.editing.view,l=s.document;function u(c,d){var f=d.dataTransfer;d.preventDefault();var h=i.data.toView(i.model.getSelectedContent(o.selection));l.fire("clipboardOutput",{dataTransfer:f,content:h,method:c.name})}this._htmlDataProcessor=new ad(l),s.addObserver(Tp),this.listenTo(l,"clipboardInput",function(c){i.isReadOnly&&c.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",function(c,d){var f=d.dataTransfer,h="",k;f.getData("text/html")?h=function(A){return A.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(I,G){return G.length==1?" ":G})}(f.getData("text/html")):f.getData("text/plain")&&((k=(k=f.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(k="<p>".concat(k,"</p>")),h=k),h=t._htmlDataProcessor.toView(h);var P=new oi(t,"inputTransformation");t.fire(P,{content:h,dataTransfer:f}),P.stop.called&&c.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(c,d){if(!d.content.isEmpty){var f=t.editor.data,h=t.editor.model,k=f.toModel(d.content,"$clipboardHolder");if(k.childCount==0)return;h.insertContent(k),c.stop()}},{priority:"low"}),this.listenTo(l,"copy",u,{priority:"low"}),this.listenTo(l,"cut",function(c,d){i.isReadOnly?d.preventDefault():u(c,d)},{priority:"low"}),this.listenTo(l,"clipboardOutput",function(c,d){d.content.isEmpty||(d.dataTransfer.setData("text/html",t._htmlDataProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",function f(h){var k="";if(h.is("text")||h.is("textProxy"))k=h.data;else if(h.is("img")&&h.hasAttribute("alt"))k=h.getAttribute("alt");else{var P=null,A=p(h.getChildren()),I;try{for(A.s();!(I=A.n()).done;){var G=I.value,Z=f(G);P&&(P.is("containerElement")||G.is("containerElement"))&&(Md.includes(P.name)||Md.includes(G.name)?k+=`
`:k+=`

`),k+=Z,P=G}}catch(q){A.e(q)}finally{A.f()}}return k}(d.content))),d.method=="cut"&&i.model.deleteContent(o.selection)},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}}]),e}(St),Gr=function(){function a(n){var e=this;C(this,a),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){e.refresh()}),this.on("execute",function(r){e.isEnabled||r.stop()},{priority:"high"}),this.listenTo(n,"change:isReadOnly",function(r,t,i){i?e.forceDisabled("readOnlyMode"):e.clearForceDisabled("readOnlyMode")})}return E(a,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Id,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Id),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),a}();function Id(a){a.return=!1,a.stop()}function Pu(a,n){var e,r,t;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(n),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=11;break}if(t=r.value,o.t0=t&&a.getAttributeProperties(t[0]).copyOnEnter,!o.t0){o.next=9;break}return o.next=9,t;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),e.e(o.t1);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},ne,null,[[1,13,16,19]])}rr(Gr,nn);var Mp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document;i.change(function(s){(function(l,u,c,d){var f=c.isCollapsed,h=c.getFirstRange(),k=h.start.parent,P=h.end.parent;if(d.isLimit(k)||d.isLimit(P))return void(f||k!=P||l.deleteContent(c));if(f){var A=Pu(u.model.schema,c.getAttributes());jd(u,h.start),u.setSelectionAttribute(A)}else{var I=!(h.start.isAtStart&&h.end.isAtEnd),G=k==P;l.deleteContent(c,{leaveUnmerged:I}),I&&(G?jd(u,c.focus):u.setSelection(P,0))}})(t.editor.model,s,o.selection,i.schema),t.fire("afterExecute",{writer:s})})}}]),e}(Gr);function jd(a,n){a.split(n),a.setSelection(n.parent.nextSibling,0)}var Rd=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.document;return i.on("keydown",function(o,s){if(t.isEnabled&&s.keyCode==_.enter){var l;i.once("enter",function(u){return l=u},{priority:"highest"}),i.fire("enter",new F(i,s.domEvent,{isSoft:s.shiftKey})),l&&l.stop.called&&o.stop()}}),t}return E(e,[{key:"observe",value:function(){}}]),e}(ba),Ip=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view,o=i.document;i.addObserver(Rd),t.commands.add("enter",new Mp(t)),this.listenTo(o,"enter",function(s,l){l.preventDefault(),l.isSoft||(t.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),e}(St),jp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document;i.change(function(s){(function(l,u,c){var d=c.isCollapsed,f=c.getFirstRange(),h=f.start.parent,k=f.end.parent,P=h==k;if(d){var A=Pu(l.schema,c.getAttributes());Dd(l,u,f.end),u.removeSelectionAttribute(c.getAttributeKeys()),u.setSelectionAttribute(A)}else{var I=!(f.start.isAtStart&&f.end.isAtEnd);l.deleteContent(c,{leaveUnmerged:I}),P?Dd(l,u,c.focus):I&&u.setSelection(k,0)}})(i,s,o.selection),t.fire("afterExecute",{writer:s})})}},{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.isEnabled=function(o,s){if(s.rangeCount>1)return!1;var l=s.anchor;if(!l||!o.checkChild(l,"softBreak"))return!1;var u=s.getFirstRange(),c=u.start.parent,d=u.end.parent;return!((Eu(c,o)||Eu(d,o))&&c!==d)}(t.schema,i.selection)}}]),e}(Gr);function Dd(a,n,e){var r=n.createElement("softBreak");a.insertContent(r,e),n.setSelection(r,"after")}function Eu(a,n){return!a.is("rootElement")&&(n.isLimit(a)||Eu(a.parent,n))}var Rp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.conversion,s=t.editing.view,l=s.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:function(c,d){return d.createEmptyElement("br")}}),s.addObserver(Rd),t.commands.add("shiftEnter",new jp(t)),this.listenTo(l,"enter",function(u,c){c.preventDefault(),c.isSoft&&(t.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),e}(St),Dp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"execute",value:function(){var t=this.editor.model,i=t.schema.getLimitElement(t.document.selection);t.change(function(o){o.setSelection(i,"in")})}}]),e}(Gr),Np=we("Ctrl+A"),Fp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view.document;t.commands.add("selectAll",new Dp(t)),this.listenTo(i,"keydown",function(o,s){ie(s)===Np&&(t.execute("selectAll"),s.preventDefault())})}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),e}(St),Lp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor;i.ui.componentFactory.add("selectAll",function(o){var s=i.commands.get("selectAll"),l=new Ln(o),u=o.t;return l.set({label:u("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),t.listenTo(l,"execute",function(){i.execute("selectAll"),i.editing.view.focus()}),l})}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),e}(St),Bp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[Fp,Lp]}},{key:"pluginName",get:function(){return"SelectAll"}}]),e}(St),Nd=function(){function a(n){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20;C(this,a),this.model=n,this.size=0,this.limit=r,this.isLocked=!1,this._changeCallback=function(t,i){i.type!="transparent"&&i!==e._batch&&e._reset(!0)},this._selectionChangeCallback=function(){e._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return E(a,[{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}},{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}]),a}(),Vp=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i._buffer=new Nd(r.model,t),i._batches=new WeakSet,i}return E(e,[{key:"buffer",get:function(){return this._buffer}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document,l=i.text||"",u=l.length,c=i.range?o.createSelection(i.range):s.selection,d=i.resultRange;o.enqueueChange(this._buffer.batch,function(f){t._buffer.lock(),o.deleteContent(c),l&&o.insertContent(f.createText(l,s.selection.getAttributes()),c),d?f.setSelection(d):c.is("documentSelection")||f.setSelection(c),t._buffer.unlock(),t._buffer.input(u),t._batches.add(t._buffer.batch)})}}]),e}(Gr);function zp(a){var n=null,e=a.model,r=a.editing.view,t=a.commands.get("input");function i(s){var l=e.document,u=r.document.isComposing,c=n&&n.isEqual(l.selection);n=null,t.isEnabled&&(function(d){return d.ctrlKey?!0:Fd.includes(d.keyCode)}(s)||l.selection.isCollapsed||u&&s.keyCode===229||!u&&s.keyCode===229&&c||o())}function o(){var s=t.buffer;s.lock(),e.enqueueChange(s.batch,function(){e.deleteContent(e.document.selection)}),s.unlock()}y.isAndroid?r.document.on("beforeinput",function(s,l){return i(l)},{priority:"lowest"}):r.document.on("keydown",function(s,l){return i(l)},{priority:"lowest"}),r.document.on("compositionstart",function(){var s=e.document,l=s.selection.rangeCount!==1||s.selection.getFirstRange().isFlat;s.selection.isCollapsed||l||o()},{priority:"lowest"}),r.document.on("compositionend",function(){n=e.createSelection(e.document.selection)},{priority:"lowest"})}for(var Fd=[ie("arrowUp"),ie("arrowRight"),ie("arrowDown"),ie("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],Cu=112;Cu<=135;Cu++)Fd.push(Cu);function Ld(a){if(a.newChildren.length-a.oldChildren.length==1){var n=function(r,t){var i=[],o,s=0;return r.forEach(function(c){c=="equal"?(l(),s++):c=="insert"?(u("insert")?o.values.push(t[s]):(l(),o={type:"insert",index:s,values:[t[s]]}),s++):u("delete")?o.howMany++:(l(),o={type:"delete",index:s,howMany:1})}),l(),i;function l(){o&&(i.push(o),o=null)}function u(c){return o&&o.type==c}}(yi(a.oldChildren,a.newChildren,Up),a.newChildren);if(!(n.length>1)){var e=n[0];return e.values[0]&&e.values[0].is("text")?e:void 0}}}function Up(a,n){return a&&a.is("text")&&n&&n.is("text")?a.data===n.data:a===n}var Wp=function(){function a(n){C(this,a),this.editor=n,this.editing=this.editor.editing}return E(a,[{key:"handle",value:function(e,r){if(function(s){if(s.length==0)return!1;var l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.type==="children"&&!Ld(c))return!0}}catch(d){l.e(d)}finally{l.f()}return!1}(e))this._handleContainerChildrenMutations(e,r);else{var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._handleTextMutation(o,r),this._handleTextNodeInsertion(o)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"_handleContainerChildrenMutations",value:function(e,r){var t=function(Ne){var Ze=Ne.map(function(_t){return _t.node}).reduce(function(_t,Rt){return _t.getCommonAncestor(Rt,{includeSelf:!0})});if(!!Ze)return Ze.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(_t){return _t.is("containerElement")||_t.is("rootElement")})}(e);if(!!t){var i=this.editor.editing.view.domConverter.mapViewToDom(t),o=new ls(this.editor.editing.view.document),s=this.editor.data.toModel(o.domToView(i)).getChild(0),l=this.editor.editing.mapper.toModelElement(t);if(!!l){var u=Array.from(s.getChildren()),c=Array.from(l.getChildren()),d=u[u.length-1],f=c[c.length-1];d&&d.is("softBreak")&&f&&!f.is("softBreak")&&u.pop();var h=this.editor.model.schema;if(!(!Bd(u,h)||!Bd(c,h))){var k=u.map(function(Ne){return Ne.is("text")?Ne.data:"@"}).join("").replace(/\u00A0/g," "),P=c.map(function(Ne){return Ne.is("text")?Ne.data:"@"}).join("").replace(/\u00A0/g," ");if(P!==k){var A=yi(P,k),I=Vd(A),G=I.firstChangeAt,Z=I.insertions,q=I.deletions,ae=null;r&&(ae=this.editing.mapper.toModelRange(r.getFirstRange()));var be=k.substr(G,Z),Re=this.editor.model.createRange(this.editor.model.createPositionAt(l,G),this.editor.model.createPositionAt(l,G+q));this.editor.execute("input",{text:be,range:Re,resultRange:ae})}}}}}},{key:"_handleTextMutation",value:function(e,r){if(e.type=="text"){var t=e.newText.replace(/\u00A0/g," "),i=e.oldText.replace(/\u00A0/g," ");if(i!==t){var o=yi(i,t),s=Vd(o),l=s.firstChangeAt,u=s.insertions,c=s.deletions,d=null;r&&(d=this.editing.mapper.toModelRange(r.getFirstRange()));var f=this.editing.view.createPositionAt(e.node,l),h=this.editing.mapper.toModelPosition(f),k=this.editor.model.createRange(h,h.getShiftedBy(c)),P=t.substr(l,u);this.editor.execute("input",{text:P,range:k,resultRange:d})}}}},{key:"_handleTextNodeInsertion",value:function(e){if(e.type=="children"){var r=Ld(e),t=this.editing.view.createPositionAt(e.node,r.index),i=this.editing.mapper.toModelPosition(t),o=r.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}}]),a}();function Bd(a,n){return a.every(function(e){return n.isInline(e)})}function Vd(a){for(var n=null,e=null,r=0;r<a.length;r++)a[r]!="equal"&&(n=n===null?r:n,e=r);for(var t=0,i=0,o=n;o<=e;o++)a[o]!="insert"&&t++,a[o]!="delete"&&i++;return{insertions:i,deletions:t,firstChangeAt:n}}var Hp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=new Vp(t,t.config.get("typing.undoStep")||20);t.commands.add("input",i),zp(t),function(o){o.editing.view.document.on("mutations",function(s,l,u){new Wp(o).handle(l,u)})}(t)}},{key:"isInput",value:function(t){return this.editor.commands.get("input")._batches.has(t)}}],[{key:"pluginName",get:function(){return"Input"}}]),e}(St),zd=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.direction=t,i._buffer=new Nd(r.model,r.config.get("typing.undoStep")),i}return E(e,[{key:"buffer",get:function(){return this._buffer}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document;o.enqueueChange(this._buffer.batch,function(l){t._buffer.lock();var u=l.createSelection(i.selection||s.selection),c=u.isCollapsed;if(u.isCollapsed&&o.modifySelection(u,{direction:t.direction,unit:i.unit}),t._shouldEntireContentBeReplacedWithParagraph(i.sequence||1))return void t._replaceEntireContentWithParagraph(l);if(!u.isCollapsed){var d=0;u.getFirstRange().getMinimalFlatRanges().forEach(function(f){d+=ga(f.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(u,{doNotResetEntireContent:c,direction:t.direction}),t._buffer.input(d),l.setSelection(u),t._buffer.unlock()}})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(t){if(t>1)return!1;var i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!i.schema.checkChild(s,"paragraph"))return!1;var l=s.getChild(0);return!l||l.name!=="paragraph"}},{key:"_replaceEntireContentWithParagraph",value:function(t){var i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o),l=t.createElement("paragraph");t.remove(t.createRangeIn(s)),t.insert(l,s),t.setSelection(l,0)}}]),e}(Gr),Kp=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=r.document,o=0;function s(l,u,c){var d;i.once("delete",function(f){return d=f},{priority:Number.POSITIVE_INFINITY}),i.fire("delete",new F(i,u,c)),d&&d.stop.called&&l.stop()}return i.on("keyup",function(l,u){u.keyCode!=_.delete&&u.keyCode!=_.backspace||(o=0)}),i.on("keydown",function(l,u){var c={};if(u.keyCode==_.delete)c.direction="forward",c.unit="character";else{if(u.keyCode!=_.backspace)return;c.direction="backward",c.unit="codePoint"}var d=y.isMac?u.altKey:u.ctrlKey;c.unit=d?"word":c.unit,c.sequence=++o,s(l,u.domEvent,c)}),y.isAndroid&&i.on("beforeinput",function(l,u){if(u.domEvent.inputType=="deleteContentBackward"){var c={unit:"codepoint",direction:"backward",sequence:1},d=u.domTarget.ownerDocument.defaultView.getSelection();d.anchorNode==d.focusNode&&d.anchorOffset+1!=d.focusOffset&&(c.selectionToRemove=r.domConverter.domSelectionToView(d)),s(l,u.domEvent,c)}}),t}return E(e,[{key:"observe",value:function(){}}]),e}(ba),Gp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view,o=i.document;if(i.addObserver(Kp),t.commands.add("forwardDelete",new zd(t,"forward")),t.commands.add("delete",new zd(t,"backward")),this.listenTo(o,"delete",function(l,u){var c={unit:u.unit,sequence:u.sequence};if(u.selectionToRemove){var d=t.model.createSelection(),f=[],h=p(u.selectionToRemove.getRanges()),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;f.push(t.editing.mapper.toModelRange(P))}}catch(A){h.e(A)}finally{h.f()}d.setTo(f),c.selection=d}t.execute(u.direction=="forward"?"forwardDelete":"delete",c),u.preventDefault(),i.scrollToTheSelection()}),y.isAndroid){var s=null;this.listenTo(o,"delete",function(l,u){var c=u.domTarget.ownerDocument.defaultView.getSelection();s={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}},{priority:"lowest"}),this.listenTo(o,"keyup",function(l,u){if(s){var c=u.domTarget.ownerDocument.defaultView.getSelection();c.collapse(s.anchorNode,s.anchorOffset),c.extend(s.focusNode,s.focusOffset),s=null}})}}}],[{key:"pluginName",get:function(){return"Delete"}}]),e}(St),$p=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[Hp,Gp]}},{key:"pluginName",get:function(){return"Typing"}}]),e}(St),Au=new Map;function an(a,n,e){var r=Au.get(a);r||(r=new Map,Au.set(a,r)),r.set(n,e)}function Yp(a){return[a]}function Ud(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(t,i){var o=Au.get(t);return o&&o.has(i)?o.get(i):Yp}(a.constructor,n.constructor);try{return r(a=a.clone(),n,e)}catch(t){throw t}}function Jp(a,n,e){a=a.slice(),n=n.slice();var r=new Qp(e.document,e.useRelations,e.forceWeakRemove);r.setOriginalOperations(a),r.setOriginalOperations(n);var t=r.originalOperations;if(a.length==0||n.length==0)return{operationsA:a,operationsB:n,originalOperations:t};var i=new WeakMap,o=p(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.set(l,0)}}catch(Re){o.e(Re)}finally{o.f()}for(var u={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:n.length},c=0;c<a.length;){var d,f,h=a[c],k=i.get(h);if(k==n.length){c++;continue}var P=n[k],A=Ud(h,P,r.getContext(h,P,!0)),I=Ud(P,h,r.getContext(P,h,!1));r.updateRelation(h,P),r.setOriginalOperations(A,h),r.setOriginalOperations(I,P);var G=p(A),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;i.set(q,k+I.length)}}catch(Re){G.e(Re)}finally{G.f()}(d=a).splice.apply(d,[c,1].concat(z(A))),(f=n).splice.apply(f,[k,1].concat(z(I)))}if(e.padWithNoOps){var ae=a.length-u.originalOperationsACount,be=n.length-u.originalOperationsBCount;Hd(a,be-ae),Hd(n,ae-be)}return Wd(a,u.nextBaseVersionB),Wd(n,u.nextBaseVersionA),{operationsA:a,operationsB:n,originalOperations:t}}var Qp=function(){function a(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;C(this,a),this.originalOperations=new Map,this._history=n.history,this._useRelations=e,this._forceWeakRemove=!!r,this._relations=new Map}return E(a,[{key:"setOriginalOperations",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=r?this.originalOperations.get(r):null,i=p(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.originalOperations.set(s,t||s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"updateRelation",value:function(e,r){switch(e.constructor){case wn:switch(r.constructor){case Gn:e.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,r,"insertAtSource"):e.targetPosition.isEqual(r.deletionPosition)?this._setRelation(e,r,"insertBetween"):e.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(e,r,"moveTargetAfter");break;case wn:e.targetPosition.isEqual(r.sourcePosition)||e.targetPosition.isBefore(r.sourcePosition)?this._setRelation(e,r,"insertBefore"):this._setRelation(e,r,"insertAfter")}break;case Pn:switch(r.constructor){case Gn:e.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(e,r,"splitBefore");break;case wn:(e.splitPosition.isEqual(r.sourcePosition)||e.splitPosition.isBefore(r.sourcePosition))&&this._setRelation(e,r,"splitBefore")}break;case Gn:switch(r.constructor){case Gn:e.targetPosition.isEqual(r.sourcePosition)||this._setRelation(e,r,"mergeTargetNotMoved"),e.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(e,r,"mergeSourceNotMoved"),e.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(e,r,"mergeSameElement");break;case Pn:e.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(e,r,"splitAtSource")}break;case wa:{var t=e.newRange;if(!t)return;switch(r.constructor){case wn:{var i=ot._createFromPositionAndShift(r.sourcePosition,r.howMany),o=i.containsPosition(t.start)||i.start.isEqual(t.start),s=i.containsPosition(t.end)||i.end.isEqual(t.end);!o&&!s||i.containsRange(t)||this._setRelation(e,r,{side:o?"left":"right",path:o?t.start.path.slice():t.end.path.slice()});break}case Gn:{var l=t.start.isEqual(r.targetPosition),u=t.start.isEqual(r.deletionPosition),c=t.end.isEqual(r.deletionPosition),d=t.end.isEqual(r.sourcePosition);(l||u||c||d)&&this._setRelation(e,r,{wasInLeftElement:l,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:c,wasInRightElement:d});break}}break}}}},{key:"getContext",value:function(e,r,t){return{aIsStrong:t,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(e,r):null,baRelation:this._useRelations?this._getRelation(r,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var r=this.originalOperations.get(e);return r.wasUndone||this._history.isUndoneOperation(r)}},{key:"_getRelation",value:function(e,r){var t=this.originalOperations.get(r),i=this._history.getUndoneOperation(t);if(!i)return null;var o=this.originalOperations.get(e),s=this._relations.get(o);return s&&s.get(i)||null}},{key:"_setRelation",value:function(e,r,t){var i=this.originalOperations.get(e),o=this.originalOperations.get(r),s=this._relations.get(i);s||(s=new Map,this._relations.set(i,s)),s.set(o,t)}}]),a}();function Wd(a,n){var e=p(a),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;t.baseVersion=n++}}catch(i){e.e(i)}finally{e.f()}}function Hd(a,n){for(var e=0;e<n;e++)a.push(new hi(0))}function Kd(a,n,e){var r=a.nodes.getNode(0).getAttribute(n);if(r==e)return null;var t=new ot(a.position,a.position.getShiftedBy(a.howMany));return new ti(t,n,r,e,0)}function Gd(a,n){return a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function ws(a,n){for(var e=[],r=0;r<a.length;r++){var t=a[r],i=new wn(t.start,t.end.offset-t.start.offset,n,0);e.push(i);for(var o=r+1;o<a.length;o++)a[o]=a[o]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];n=n._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return e}an(ti,ti,function(a,n,e){if(a.key===n.key&&a.range.start.hasSameParentAs(n.range.start)){var r=a.range.getDifference(n.range).map(function(i){return new ti(i,a.key,a.oldValue,a.newValue,0)}),t=a.range.getIntersection(n.range);return t&&e.aIsStrong&&r.push(new ti(t,n.key,n.newValue,a.newValue,0)),r.length==0?[new hi(0)]:r}return[a]}),an(ti,fi,function(a,n){if(a.range.start.hasSameParentAs(n.position)&&a.range.containsPosition(n.position)){var e=a.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(function(t){return new ti(t,a.key,a.oldValue,a.newValue,a.baseVersion)});if(n.shouldReceiveAttributes){var r=Kd(n,a.key,a.oldValue);r&&e.unshift(r)}return e}return a.range=a.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[a]}),an(ti,Gn,function(a,n){var e=[];a.range.start.hasSameParentAs(n.deletionPosition)&&(a.range.containsPosition(n.deletionPosition)||a.range.start.isEqual(n.deletionPosition))&&e.push(ot._createFromPositionAndShift(n.graveyardPosition,1));var r=a.range._getTransformedByMergeOperation(n);return r.isCollapsed||e.push(r),e.map(function(t){return new ti(t,a.key,a.oldValue,a.newValue,a.baseVersion)})}),an(ti,wn,function(a,n){return function(e,r){var t=ot._createFromPositionAndShift(r.sourcePosition,r.howMany),i=null,o=[];t.containsRange(e,!0)?i=e:e.start.hasSameParentAs(t.start)?(o=e.getDifference(t),i=e.getIntersection(t)):o=[e];var s=[],l=p(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c=c._getTransformedByDeletion(r.sourcePosition,r.howMany);var d=r.getMovedRangeStart(),f=c.start.hasSameParentAs(d);c=c._getTransformedByInsertion(d,r.howMany,f),s.push.apply(s,z(c))}}catch(h){l.e(h)}finally{l.f()}return i&&s.push(i._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,!1)[0]),s}(a.range,n).map(function(e){return new ti(e,a.key,a.oldValue,a.newValue,a.baseVersion)})}),an(ti,Pn,function(a,n){if(a.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(n.splitPosition)&&a.range.containsPosition(n.splitPosition)){var e=a.clone();return e.range=new ot(n.moveTargetPosition.clone(),a.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),a.range.end=n.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,e]}return a.range=a.range._getTransformedBySplitOperation(n),[a]}),an(fi,ti,function(a,n){var e=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(a.position)){var r=Kd(a,n.key,n.newValue);r&&e.push(r)}return e}),an(fi,fi,function(a,n,e){return a.position.isEqual(n.position)&&e.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(n)),[a]}),an(fi,wn,function(a,n){return a.position=a.position._getTransformedByMoveOperation(n),[a]}),an(fi,Pn,function(a,n){return a.position=a.position._getTransformedBySplitOperation(n),[a]}),an(fi,Gn,function(a,n){return a.position=a.position._getTransformedByMergeOperation(n),[a]}),an(wa,fi,function(a,n){return a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(n)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(n)[0]),[a]}),an(wa,wa,function(a,n,e){if(a.name==n.name){if(!e.aIsStrong)return[new hi(0)];a.oldRange=n.newRange?n.newRange.clone():null}return[a]}),an(wa,Gn,function(a,n){return a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(n)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(n)),[a]}),an(wa,wn,function(a,n,e){if(a.oldRange&&(a.oldRange=ot._createFromRanges(a.oldRange._getTransformedByMoveOperation(n))),a.newRange){if(e.abRelation){var r=ot._createFromRanges(a.newRange._getTransformedByMoveOperation(n));if(e.abRelation.side=="left"&&n.targetPosition.isEqual(a.newRange.start))return a.newRange.start.path=e.abRelation.path,a.newRange.end=r.end,[a];if(e.abRelation.side=="right"&&n.targetPosition.isEqual(a.newRange.end))return a.newRange.start=r.start,a.newRange.end.path=e.abRelation.path,[a]}a.newRange=ot._createFromRanges(a.newRange._getTransformedByMoveOperation(n))}return[a]}),an(wa,Pn,function(a,n,e){if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(n)),a.newRange){if(e.abRelation){var r=a.newRange._getTransformedBySplitOperation(n);return a.newRange.start.isEqual(n.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?a.newRange.start=kt._createAt(n.insertionPosition):a.newRange.start.isEqual(n.splitPosition)&&!e.abRelation.wasInLeftElement&&(a.newRange.start=kt._createAt(n.moveTargetPosition)),a.newRange.end.isEqual(n.splitPosition)&&e.abRelation.wasInRightElement?a.newRange.end=kt._createAt(n.moveTargetPosition):a.newRange.end.isEqual(n.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?a.newRange.end=kt._createAt(n.insertionPosition):a.newRange.end=r.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(n)}return[a]}),an(Gn,fi,function(a,n){return a.sourcePosition.hasSameParentAs(n.position)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(n),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n),[a]}),an(Gn,Gn,function(a,n,e){if(a.sourcePosition.isEqual(n.sourcePosition)&&a.targetPosition.isEqual(n.targetPosition)){if(e.bWasUndone){var r=n.graveyardPosition.path.slice();return r.push(0),a.sourcePosition=new kt(n.graveyardPosition.root,r),a.howMany=0,[a]}return[new hi(0)]}if(a.sourcePosition.isEqual(n.sourcePosition)&&!a.targetPosition.isEqual(n.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){var t=a.targetPosition.root.rootName=="$graveyard",i=n.targetPosition.root.rootName=="$graveyard",o=t&&!i;if(i&&!t||!o&&e.aIsStrong){var s=n.targetPosition._getTransformedByMergeOperation(n),l=a.targetPosition._getTransformedByMergeOperation(n);return[new wn(s,a.howMany,l,0)]}return[new hi(0)]}return a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(n),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),a.graveyardPosition.isEqual(n.graveyardPosition)&&e.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),an(Gn,wn,function(a,n,e){var r=ot._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&a.deletionPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(a.sourcePosition)?[new hi(0)]:(a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition.hasSameParentAs(n.sourcePosition)&&(a.howMany-=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(n),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(n),a.graveyardPosition.isEqual(n.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)),[a])}),an(Gn,Pn,function(a,n,e){if(n.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),a.deletionPosition.isEqual(n.graveyardPosition)&&(a.howMany=n.howMany)),a.targetPosition.isEqual(n.splitPosition)){var r=n.howMany!=0,t=n.graveyardPosition&&a.deletionPosition.isEqual(n.graveyardPosition);if(r||t||e.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),[a]}if(a.sourcePosition.isEqual(n.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a];if(e.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=n.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}return a.sourcePosition.hasSameParentAs(n.splitPosition)&&(a.howMany=n.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}),an(wn,fi,function(a,n){var e=ot._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(n,!1)[0];return a.sourcePosition=e.start,a.howMany=e.end.offset-e.start.offset,a.targetPosition.isEqual(n.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n)),[a]}),an(wn,wn,function(a,n,e){var r=ot._createFromPositionAndShift(a.sourcePosition,a.howMany),t=ot._createFromPositionAndShift(n.sourcePosition,n.howMany),i,o=e.aIsStrong,s=!e.aIsStrong;if(e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?s=!0:e.abRelation!="insertAfter"&&e.baRelation!="insertBefore"||(s=!1),i=a.targetPosition.isEqual(n.targetPosition)&&s?a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):a.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Gd(a,n)&&Gd(n,a))return[n.getReversed()];if(r.containsPosition(n.targetPosition)&&r.containsRange(t,!0))return r.start=r.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),r.end=r.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),ws([r],i);if(t.containsPosition(a.targetPosition)&&t.containsRange(r,!0))return r.start=r.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),r.end=r.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),ws([r],i);var l=le(a.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(l=="prefix"||l=="extension")return r.start=r.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),r.end=r.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),ws([r],i);a.type!="remove"||n.type=="remove"||e.aWasUndone||e.forceWeakRemove?a.type=="remove"||n.type!="remove"||e.bWasUndone||e.forceWeakRemove||(o=!1):o=!0;var u=[],c=r.getDifference(t),d=p(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;h.start=h.start._getTransformedByDeletion(n.sourcePosition,n.howMany),h.end=h.end._getTransformedByDeletion(n.sourcePosition,n.howMany);var k=le(h.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",P=h._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,k);u.push.apply(u,z(P))}}catch(I){d.e(I)}finally{d.f()}var A=r.getIntersection(t);return A!==null&&o&&(A.start=A.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),A.end=A.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),u.length===0?u.push(A):u.length==1?t.start.isBefore(r.start)||t.start.isEqual(r.start)?u.unshift(A):u.push(A):u.splice(1,0,A)),u.length===0?[new hi(a.baseVersion)]:ws(u,i)}),an(wn,Pn,function(a,n,e){var r=a.targetPosition.clone();a.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&e.abRelation!="moveTargetAfter"||(r=a.targetPosition._getTransformedBySplitOperation(n));var t=ot._createFromPositionAndShift(a.sourcePosition,a.howMany);if(t.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.howMany++,a.targetPosition=r,[a];if(t.start.hasSameParentAs(n.splitPosition)&&t.containsPosition(n.splitPosition)){var i=new ot(n.splitPosition,t.end);return i=i._getTransformedBySplitOperation(n),ws([new ot(t.start,n.splitPosition),i],r)}a.targetPosition.isEqual(n.splitPosition)&&e.abRelation=="insertAtSource"&&(r=n.moveTargetPosition),a.targetPosition.isEqual(n.insertionPosition)&&e.abRelation=="insertBetween"&&(r=a.targetPosition);var o=[t._getTransformedBySplitOperation(n)];if(n.graveyardPosition){var s=t.start.isEqual(n.graveyardPosition)||t.containsPosition(n.graveyardPosition);a.howMany>1&&s&&!e.aWasUndone&&o.push(ot._createFromPositionAndShift(n.insertionPosition,1))}return ws(o,r)}),an(wn,Gn,function(a,n,e){var r=ot._createFromPositionAndShift(a.sourcePosition,a.howMany);if(n.deletionPosition.hasSameParentAs(a.sourcePosition)&&r.containsPosition(n.sourcePosition)){if(a.type!="remove"||e.forceWeakRemove){if(a.howMany==1)return e.bWasUndone?(a.sourcePosition=n.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]):[new hi(0)]}else if(!e.aWasUndone){var t=[],i=n.graveyardPosition.clone(),o=n.targetPosition._getTransformedByMergeOperation(n);a.howMany>1&&(t.push(new wn(a.sourcePosition,a.howMany-1,a.targetPosition,0)),i=i._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),o=o._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));var s=n.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),l=new wn(i,1,s,0),u=l.getMovedRangeStart().path.slice();u.push(0);var c=new kt(l.targetPosition.root,u);o=o._getTransformedByMove(i,s,1);var d=new wn(o,n.howMany,c,0);return t.push(l),t.push(d),t}}var f=ot._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(n);return a.sourcePosition=f.start,a.howMany=f.end.offset-f.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]}),an(ka,fi,function(a,n){return a.position=a.position._getTransformedByInsertOperation(n),[a]}),an(ka,Gn,function(a,n){return a.position.isEqual(n.deletionPosition)?(a.position=n.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(n),[a])}),an(ka,wn,function(a,n){return a.position=a.position._getTransformedByMoveOperation(n),[a]}),an(ka,ka,function(a,n,e){if(a.position.isEqual(n.position)){if(!e.aIsStrong)return[new hi(0)];a.oldName=n.newName}return[a]}),an(ka,Pn,function(a,n){if(le(a.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){var e=new ka(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,e]}return a.position=a.position._getTransformedBySplitOperation(n),[a]}),an(nl,nl,function(a,n,e){if(a.root===n.root&&a.key===n.key){if(!e.aIsStrong||a.newValue===n.newValue)return[new hi(0)];a.oldValue=n.newValue}return[a]}),an(Pn,fi,function(a,n){return a.splitPosition.hasSameParentAs(n.position)&&a.splitPosition.offset<n.position.offset&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(n),a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),[a]}),an(Pn,Gn,function(a,n,e){if(!a.graveyardPosition&&!e.bWasUndone&&a.splitPosition.hasSameParentAs(n.sourcePosition)){var r=n.graveyardPosition.path.slice();r.push(0);var t=new kt(n.graveyardPosition.root,r),i=Pn.getInsertionPosition(new kt(n.graveyardPosition.root,r)),o=new Pn(t,0,null,0);return o.insertionPosition=i,a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),a.graveyardPosition=o.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[o,a]}return a.splitPosition.hasSameParentAs(n.deletionPosition)&&!a.splitPosition.isAfter(n.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),an(Pn,wn,function(a,n,e){var r=ot._createFromPositionAndShift(n.sourcePosition,n.howMany);if(a.graveyardPosition){var t=r.start.isEqual(a.graveyardPosition)||r.containsPosition(a.graveyardPosition);if(!e.bWasUndone&&t){var i=a.splitPosition._getTransformedByMoveOperation(n),o=a.graveyardPosition._getTransformedByMoveOperation(n),s=o.path.slice();s.push(0);var l=new kt(o.root,s);return[new wn(i,a.howMany,l,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)}if(a.splitPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(a.splitPosition)){var u=n.howMany-(a.splitPosition.offset-n.sourcePosition.offset);return a.howMany-=u,a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany),a.splitPosition=n.sourcePosition.clone(),a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),[a]}return!a.splitPosition.isEqual(n.targetPosition)||e.baRelation!="insertAtSource"&&e.abRelation!="splitBefore"?(n.sourcePosition.isEqual(n.targetPosition)||(a.splitPosition.hasSameParentAs(n.sourcePosition)&&a.splitPosition.offset<=n.sourcePosition.offset&&(a.howMany-=n.howMany),a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(n),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(n):a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),[a]):(a.howMany+=n.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),[a])}),an(Pn,Pn,function(a,n,e){if(a.splitPosition.isEqual(n.splitPosition)){if(!a.graveyardPosition&&!n.graveyardPosition)return[new hi(0)];if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition))return[new hi(0)];if(e.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n),[a]}if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition)){var r=a.splitPosition.root.rootName=="$graveyard",t=n.splitPosition.root.rootName=="$graveyard",i=r&&!t;if(t&&!r||!i&&e.aIsStrong){var o=[];return n.howMany&&o.push(new wn(n.moveTargetPosition,n.howMany,n.splitPosition,0)),a.howMany&&o.push(new wn(a.splitPosition,a.howMany,a.moveTargetPosition,0)),o}return[new hi(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n)),a.splitPosition.isEqual(n.insertionPosition)&&e.abRelation=="splitBefore")return a.howMany++,[a];if(n.splitPosition.isEqual(a.insertionPosition)&&e.baRelation=="splitBefore"){var s=n.insertionPosition.path.slice();s.push(0);var l=new kt(n.insertionPosition.root,s);return[a,new wn(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(n.splitPosition)&&a.splitPosition.offset<n.splitPosition.offset&&(a.howMany-=n.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(n),a.insertionPosition=Pn.getInsertionPosition(a.splitPosition),[a]});var $d=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._stack=[],t._createdBatches=new WeakSet,t.refresh(),t}return E(e,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(t){var i=this.editor.model.document.selection,o={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:t,selection:o}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(t,i,o){var s=this.editor.model,l=s.document,u=[],c=p(t),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=Zp(f,o).find(function(k){return k.start.root!=l.graveyard});h&&u.push(h)}}catch(k){c.e(k)}finally{c.f()}u.length&&s.change(function(k){k.setSelection(u,{backward:i})})}},{key:"_undo",value:function(t,i){var o=this.editor.model,s=o.document;this._createdBatches.add(i);var l=t.operations.slice().filter(function(G){return G.isDocumentOperation});l.reverse();var u=p(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=d.baseVersion+1,h=Array.from(s.history.getOperations(f)),k=Jp([d.getReversed()],h,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,P=p(k),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;i.addOperation(I),o.applyOperation(I),s.history.setOperationAsUndone(d,I)}}catch(G){P.e(G)}finally{P.f()}}}catch(G){u.e(G)}finally{u.f()}}}]),e}(Gr);function Zp(a,n){var e=a.getTransformedByOperations(n);e.sort(function(o,s){return o.start.isBefore(s.start)?-1:1});for(var r=1;r<e.length;r++){var t=e[r-1],i=e[r];t.end.isTouching(i.start)&&(t.end=i.end,e.splice(r,1),r--)}return e}var Xp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=i?this._stack.findIndex(function(u){return u.batch==i}):this._stack.length-1,s=this._stack.splice(o,1)[0],l=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(l,function(){t._undo(s.batch,l);var u=t.editor.model.document.history.getOperations(s.batch.baseVersion);t._restoreSelection(s.selection.ranges,s.selection.isBackward,u),t.fire("revert",s.batch,l)}),this.refresh()}}]),e}($d),qp=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"execute",value:function(){var t=this,i=this._stack.pop(),o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,function(){var s=i.batch.operations[i.batch.operations.length-1].baseVersion+1,l=t.editor.model.document.history.getOperations(s);t._restoreSelection(i.selection.ranges,i.selection.isBackward,l),t._undo(i.batch,o)}),this.refresh()}}]),e}($d),eg=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._batchRegistry=new WeakSet,t}return E(e,[{key:"init",value:function(){var t=this,i=this.editor;this._undoCommand=new Xp(i),this._redoCommand=new qp(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",function(o,s){var l=s[0];if(!!l.isDocumentOperation){var u=l.batch,c=t._redoCommand._createdBatches.has(u),d=t._undoCommand._createdBatches.has(u);t._batchRegistry.has(u)||u.type=="transparent"&&!c&&!d||(c?t._undoCommand.addBatch(u):d||(t._undoCommand.addBatch(u),t._redoCommand.clearStack()),t._batchRegistry.add(u))}},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(o,s,l){t._redoCommand.addBatch(l)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}],[{key:"pluginName",get:function(){return"UndoEditing"}}]),e}(St),Yd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Jd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',tg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.locale,o=t.t,s=i.uiLanguageDirection=="ltr"?Yd:Jd,l=i.uiLanguageDirection=="ltr"?Jd:Yd;this._addButton("undo",o("Undo"),"CTRL+Z",s),this._addButton("redo",o("Redo"),"CTRL+Y",l)}},{key:"_addButton",value:function(t,i,o,s){var l=this,u=this.editor;u.ui.componentFactory.add(t,function(c){var d=u.commands.get(t),f=new Ln(c);return f.set({label:i,icon:s,keystroke:o,tooltip:!0}),f.bind("isEnabled").to(d,"isEnabled"),l.listenTo(f,"execute",function(){u.execute(t),u.editing.view.focus()}),f})}}]),e}(St),Qd=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[eg,tg]}},{key:"pluginName",get:function(){return"Undo"}}]),e}(St),jl=function(){function a(n){C(this,a),this.context=n}return E(a,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),a}();rr(jl,nn);var Zd=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Un({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if(typeof t!="string")throw new me.b("pendingactions-add-invalid-message: The message must be a string.",this);var i=Object.create(nn);return i.set("message",t),this._actions.add(i),this.hasAny=!0,i}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),e}(jl),Xd=function(){function a(){var n=this;C(this,a);var e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=function(r){n.loaded=r.loaded}}return E(a,[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(e){var r=this,t=this._reader;return this.total=e.size,new Promise(function(i,o){t.onload=function(){var s=t.result;r._data=s,i(s)},t.onerror=function(){o("error")},t.onabort=function(){o("aborted")},r._reader.readAsDataURL(e)})}},{key:"abort",value:function(){this._reader.abort()}}]),a}();rr(Xd,nn);var Ri=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this;this.loaders=new Un,this.loaders.on("add",function(){return t._updatePendingAction()}),this.loaders.on("remove",function(){return t._updatePendingAction()}),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(i,o){return o?i/o*100:0})}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var i=this;if(!this.createUploadAdapter)return console.warn(Object(me.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;var o=new Su(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(t,o),t instanceof Promise&&o.file.then(function(s){i._loadersMap.set(s,o)}).catch(function(){}),o.on("change:uploaded",function(){var s=0,l=p(i.loaders),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;s+=c.uploaded}}catch(d){l.e(d)}finally{l.f()}i.uploaded=s}),o.on("change:uploadTotal",function(){var s=0,l=p(i.loaders),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c.uploadTotal&&(s+=c.uploadTotal)}}catch(d){l.e(d)}finally{l.f()}i.uploadTotal=s}),o}},{key:"destroyLoader",value:function(t){var i=this,o=t instanceof Su?t:this.getLoader(t);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach(function(s,l){s===o&&i._loadersMap.delete(l)})}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(Zd);if(this.loaders.length){if(!this._pendingAction){var i=this.editor.t,o=function(l){return"".concat(i("Upload in progress")," ").concat(parseInt(l),"%.")};this._pendingAction=t.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Zd]}}]),e}(St);rr(Ri,nn);var Su=function(){function a(n,e){C(this,a),this.id=ei(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=e(this),this._reader=new Xd,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(r,t){return t?r/t*100:0}),this.set("uploadResponse",null)}return E(a,[{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(r){return e._filePromiseWrapper?r:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var e=this;if(this.status!="idle")throw new me.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(function(r){return e._reader.read(r)}).then(function(r){if(e.status!=="reading")throw e.status;return e.status="idle",r}).catch(function(r){throw r==="aborted"?(e.status="aborted","aborted"):(e.status="error",e._reader.error?e._reader.error:r)})}},{key:"upload",value:function(){var e=this;if(this.status!="idle")throw new me.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(function(){return e._adapter.upload()}).then(function(r){return e.uploadResponse=r,e.status="idle",r}).catch(function(r){throw e.status==="aborted"?"aborted":(e.status="error",r)})}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var r={};return r.promise=new Promise(function(t,i){r.rejecter=i,r.isFulfilled=!1,e.then(function(o){r.isFulfilled=!0,t(o)}).catch(function(o){r.isFulfilled=!0,i(o)})}),r}}]),a}();rr(Su,nn);function rg(){var a=function(r){r=r.toLowerCase();var t=document.cookie.split(";"),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.split("=");if(decodeURIComponent(l[0].trim().toLowerCase())===r)return decodeURIComponent(l[1])}}catch(u){i.e(u)}finally{i.f()}return null}("ckCsrfToken"),n,e;return a&&a.length==40||(a=function(r){var t="",i=new Uint8Array(r);window.crypto.getRandomValues(i);for(var o=0;o<i.length;o++){var s="abcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?s.toUpperCase():s}return t}(40),n="ckCsrfToken",e=a,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+";path=/"),a}var qd=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor.config.get("ckfinder.uploadUrl");i&&(this.editor.plugins.get(Ri).createUploadAdapter=function(o){return new ng(o,i,t.editor.t)})}}],[{key:"requires",get:function(){return[Ri]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),e}(St),ng=function(){function a(n,e,r){C(this,a),this.loader=n,this.url=e,this.t=r}return E(a,[{key:"upload",value:function(){var e=this;return this.loader.file.then(function(r){return new Promise(function(t,i){e._initRequest(),e._initListeners(t,i,r),e._sendRequest(r)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,r,t){var i=this.xhr,o=this.loader,s=(0,this.t)("Cannot upload file:")+" ".concat(t.name,".");i.addEventListener("error",function(){return r(s)}),i.addEventListener("abort",function(){return r()}),i.addEventListener("load",function(){var l=i.response;if(!l||!l.uploaded)return r(l&&l.error&&l.error.message?l.error.message:s);e({default:l.url})}),i.upload&&i.upload.addEventListener("progress",function(l){l.lengthComputable&&(o.uploadTotal=l.total,o.uploaded=l.loaded)})}},{key:"_sendRequest",value:function(e){var r=new FormData;r.append("upload",e),r.append("ckCsrfToken",rg()),this.xhr.send(r)}}]),a}(),ll=function(){function a(n,e,r){C(this,a);var t,i=null;typeof r=="function"?t=r:(i=n.commands.get(r),t=function(){n.execute(r)}),n.model.document.on("change",function(o,s){if(!(i&&!i.isEnabled)&&s.type!="transparent"){var l=Array.from(n.model.document.differ.getChanges()),u=l[0];if(!(l.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)){var c=u.position.parent;if(!(!c.is("paragraph")||c.childCount!==1)){var d=e.exec(c.getChild(0).data);d&&n.model.enqueueChange(function(f){var h=f.createPositionAt(c,0),k=f.createPositionAt(c,d[0].length),P=new vs(h,k);t({match:d})!==!1&&f.remove(P),P.detach()})}}}})}return E(a,null,[{key:"pluginName",get:function(){return"BlockAutoformatEditing"}}]),a}();function ef(a,n){var e=a.start;return{text:Array.from(a.getItems()).reduce(function(r,t){return t.is("text")||t.is("textProxy")?r+t.data:(e=n.createPositionAfter(t),"")},""),range:n.createRange(e,a.end)}}var ks=function(){function a(n,e,r){C(this,a);var t,i,o,s;e instanceof RegExp?t=e:o=e,typeof r=="string"?i=r:s=r,o=o||function(l){for(var u,c=[],d=[];(u=t.exec(l))!==null&&!(u&&u.length<4);){var f=u,h=f.index,k=f[1],P=f[2],A=f[3],I=k+P+A;h+=u[0].length-I.length;var G=[h,h+k.length],Z=[h+k.length+P.length,h+k.length+P.length+A.length];c.push(G),c.push(Z),d.push([h+k.length,h+k.length+P.length])}return{remove:c,format:d}},s=s||function(l,u){var c=n.model.schema.getValidRanges(u,i),d=p(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;l.setAttribute(i,!0,h)}}catch(k){d.e(k)}finally{d.f()}l.removeSelectionAttribute(i)},n.model.document.on("change",function(l,u){if(u.type!="transparent"){var c=n.model,d=c.document.selection;if(!!d.isCollapsed){var f=Array.from(c.document.differ.getChanges()),h=f[0];if(!(f.length!=1||h.type!=="insert"||h.name!="$text"||h.length!=1)){var k=d.focus,P=k.parent,A=ef(c.createRange(c.createPositionAt(P,0),k),c),I=A.text,G=A.range,Z=o(I),q=tf(G.start,Z.format,c),ae=tf(G.start,Z.remove,c);q.length&&ae.length&&c.enqueueChange(function(be){if(s(be,q)!==!1){var Re=p(ae.reverse()),Ne;try{for(Re.s();!(Ne=Re.n()).done;){var Ze=Ne.value;be.remove(Ze)}}catch(_t){Re.e(_t)}finally{Re.f()}}})}}}})}return E(a,null,[{key:"pluginName",get:function(){return"InlineAutoformatEditing"}}]),a}();function tf(a,n,e){return n.filter(function(r){return r[0]!==void 0&&r[1]!==void 0}).map(function(r){return e.createRange(a.getShiftedBy(r[0]),a.getShiftedBy(r[1]))})}function Rl(a,n){return function(e,r){if(!a.commands.get(n).isEnabled)return!1;var t=a.model.schema.getValidRanges(r,n),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;e.setAttribute(n,!0,s)}}catch(l){i.e(l)}finally{i.f()}e.removeSelectionAttribute(n)}}var rf=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.attributeKey=t,i}return E(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(i.selection,this.attributeKey)}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document.selection,l=i.forceValue===void 0?!this.value:i.forceValue;o.change(function(u){if(s.isCollapsed)l?u.setSelectionAttribute(t.attributeKey,!0):u.removeSelectionAttribute(t.attributeKey);else{var c=o.schema.getValidRanges(s.getRanges(),t.attributeKey),d=p(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;l?u.setAttribute(t.attributeKey,l,h):u.removeAttribute(t.attributeKey,h)}}catch(k){d.e(k)}finally{d.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var t=this.editor.model,i=t.schema,o=t.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);var s=p(o.getRanges()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=p(u.getItems()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;if(i.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){s.e(h)}finally{s.f()}return!1}}]),e}(Gr),ig=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(i){var o=i.getStyle("font-weight");return o?o=="bold"||Number(o)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new rf(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),e}(St),ag=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("bold",function(s){var l=i.commands.get("bold"),u=new Ln(s);return u.set({label:o("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(u,"execute",function(){i.execute("bold"),i.editing.view.focus()}),u})}}]),e}(St),og=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new rf(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),e}(St),sg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("italic",function(s){var l=i.commands.get("italic"),u=new Ln(s);return u.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(u,"execute",function(){i.execute("italic"),i.editing.view.focus()}),u})}}]),e}(St);function _a(a){var n=a.next();return n.done?null:n.value}var lg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.schema,l=o.document.selection,u=Array.from(l.getSelectedBlocks()),c=i.forceValue===void 0?!this.value:i.forceValue;o.change(function(d){if(c){var f=u.filter(function(h){return Dl(h)||af(s,h)});t._applyQuote(d,f)}else t._removeQuote(d,u.filter(Dl))})}},{key:"_getValue",value:function(){var t=_a(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Dl(t))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,i=this.editor.model.schema,o=_a(t.getSelectedBlocks());return!!o&&af(i,o)}},{key:"_removeQuote",value:function(t,i){nf(t,i).reverse().forEach(function(o){if(o.start.isAtStart&&o.end.isAtEnd)return void t.unwrap(o.start.parent);if(o.start.isAtStart){var s=t.createPositionBefore(o.start.parent);return void t.move(o,s)}o.end.isAtEnd||t.split(o.end);var l=t.createPositionAfter(o.end.parent);t.move(o,l)})}},{key:"_applyQuote",value:function(t,i){var o=[];nf(t,i).reverse().forEach(function(s){var l=Dl(s.start);l||(l=t.createElement("blockQuote"),t.wrap(s,l)),o.push(l)}),o.reverse().reduce(function(s,l){return s.nextSibling==l?(t.merge(t.createPositionAfter(s)),s):l})}}]),e}(Gr);function Dl(a){return a.parent.name=="blockQuote"?a.parent:null}function nf(a,n){for(var e,r=0,t=[];r<n.length;){var i=n[r],o=n[r+1];e||(e=a.createPositionBefore(i)),o&&i.nextSibling==o||(t.push(a.createRange(e,a.createPositionAfter(i))),e=null),r++}return t}function af(a,n){var e=a.checkChild(n.parent,"blockQuote"),r=a.checkChild(["$root","blockQuote"],n);return e&&r}var ug=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema;t.commands.add("blockQuote",new lg(t)),i.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),i.addChildCheck(function(o,s){if(o.endsWith("blockQuote")&&s.name=="blockQuote")return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(function(o){var s=t.model.document.differ.getChanges(),l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.type=="insert"){var d=c.position.nodeAfter;if(!d)continue;if(d.is("blockQuote")&&d.isEmpty)return o.remove(d),!0;if(d.is("blockQuote")&&!i.checkChild(c.position,d))return o.unwrap(d),!0;if(d.is("element")){var f=o.createRangeIn(d),h=p(f.getItems()),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;if(P.is("blockQuote")&&!i.checkChild(o.createPositionBefore(P),P))return o.unwrap(P),!0}}catch(I){h.e(I)}finally{h.f()}}}else if(c.type=="remove"){var A=c.position.parent;if(A.is("blockQuote")&&A.isEmpty)return o.remove(A),!0}}}catch(I){l.e(I)}finally{l.f()}return!1})}},{key:"afterInit",value:function(){var t=this,i=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",function(o,s){var l=t.editor.model.document,u=l.selection.getLastPosition().parent;l.selection.isCollapsed&&u.isEmpty&&i.value&&(t.editor.execute("blockQuote"),t.editor.editing.view.scrollToTheSelection(),s.preventDefault(),o.stop())})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}}]),e}(St);j(43);var cg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",function(s){var l=i.commands.get("blockQuote"),u=new Ln(s);return u.set({label:o("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(u,"execute",function(){i.execute("blockQuote"),i.editing.view.focus()}),u})}}]),e}(St),dg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.ui.componentFactory,o=t.t;i.add("ckfinder",function(s){var l=t.commands.get("ckfinder"),u=new Ln(s);return u.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),u.bind("isEnabled").to(l),u.on("execute",function(){t.execute("ckfinder"),t.editing.view.focus()}),u})}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),e}(St),fg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"observe",value:function(t){var i=this;this.listenTo(t,"load",function(o,s){s.target.tagName=="IMG"&&i._fireEvents(s)},{useCapture:!0})}},{key:"_fireEvents",value:function(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}]),e}(ba),of=function(){function a(){C(this,a),this._stack=[]}return E(a,[{key:"add",value:function(e,r){var t=this._stack,i=t[0];this._insertDescriptor(e);var o=t[0];i===o||Tu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:r})}},{key:"remove",value:function(e,r){var t=this._stack,i=t[0];this._removeDescriptor(e);var o=t[0];i===o||Tu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:r})}},{key:"_insertDescriptor",value:function(e){var r=this._stack,t=r.findIndex(function(o){return o.id===e.id});if(!Tu(e,r[t])){t>-1&&r.splice(t,1);for(var i=0;r[i]&&hg(r[i],e);)i++;r.splice(i,0,e)}}},{key:"_removeDescriptor",value:function(e){var r=this._stack,t=r.findIndex(function(i){return i.id===e});t>-1&&r.splice(t,1)}}]),a}();function Tu(a,n){return a&&n&&a.priority==n.priority&&Nl(a.classes)==Nl(n.classes)}function hg(a,n){return a.priority>n.priority||!(a.priority<n.priority)&&Nl(a.classes)>Nl(n.classes)}function Nl(a){return Array.isArray(a)?a.sort().join(","):a}rr(of,rn),j(45);var sf=mu("px"),lf=Tn.document.body,Jr=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("top",0),t.set("left",0),t.set("position","arrow_nw"),t.set("isVisible",!1),t.set("withArrow",!0),t.set("class"),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",function(o){return"ck-balloon-panel_"+o}),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",sf),left:i.to("left",sf)}},children:t.content}),t}return E(e,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(t){this.show();var i=e.defaultPositions,o=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast],limiter:lf,fitInViewport:!0},t),s=e._getOptimalPosition(o),l=parseInt(s.left),u=parseInt(s.top),c=s.name;Object.assign(this,{top:u,left:l,position:c})}},{key:"pin",value:function(t){var i=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){i.isVisible?i._startPinning(t):i._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(t){var i=this;this.attachTo(t);var o=Mu(t.target),s=t.limiter?Mu(t.limiter):lf;this.listenTo(Tn.document,"scroll",function(l,u){var c=u.target,d=o&&c.contains(o),f=s&&c.contains(s);!d&&!f&&o&&s||i.attachTo(t)},{useCapture:!0}),this.listenTo(Tn.window,"resize",function(){i.attachTo(t)})}},{key:"_stopPinning",value:function(){this.stopListening(Tn.document,"scroll"),this.stopListening(Tn.window,"resize")}}]),e}(Rr);function Mu(a){return ai(a)?a:wl(a)?a.commonAncestorContainer:typeof a=="function"?Mu(a()):null}function vi(a,n){return a.top-n.height-Jr.arrowVerticalOffset}function pi(a){return a.bottom+Jr.arrowVerticalOffset}Jr.arrowHorizontalOffset=25,Jr.arrowVerticalOffset=10,Jr._getOptimalPosition=kd,Jr.defaultPositions={northWestArrowSouthWest:function(n,e){return{top:vi(n,e),left:n.left-Jr.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(n,e){return{top:vi(n,e),left:n.left-.25*e.width-Jr.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(n,e){return{top:vi(n,e),left:n.left-e.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(n,e){return{top:vi(n,e),left:n.left-.75*e.width+Jr.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(n,e){return{top:vi(n,e),left:n.left-e.width+Jr.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(n,e){return{top:vi(n,e),left:n.left+n.width/2-Jr.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(n,e){return{top:vi(n,e),left:n.left+n.width/2-.25*e.width-Jr.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(n,e){return{top:vi(n,e),left:n.left+n.width/2-e.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(n,e){return{top:vi(n,e),left:n.left+n.width/2-.75*e.width+Jr.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(n,e){return{top:vi(n,e),left:n.left+n.width/2-e.width+Jr.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(n,e){return{top:vi(n,e),left:n.right-Jr.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(n,e){return{top:vi(n,e),left:n.right-.25*e.width-Jr.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(n,e){return{top:vi(n,e),left:n.right-e.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(n,e){return{top:vi(n,e),left:n.right-.75*e.width+Jr.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(n,e){return{top:vi(n,e),left:n.right-e.width+Jr.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(n,e){return{top:pi(n),left:n.left-Jr.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(n,e){return{top:pi(n),left:n.left-.25*e.width-Jr.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(n,e){return{top:pi(n),left:n.left-e.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(n,e){return{top:pi(n),left:n.left-.75*e.width+Jr.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(n,e){return{top:pi(n),left:n.left-e.width+Jr.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(n,e){return{top:pi(n),left:n.left+n.width/2-Jr.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(n,e){return{top:pi(n),left:n.left+n.width/2-.25*e.width-Jr.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(n,e){return{top:pi(n),left:n.left+n.width/2-e.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(n,e){return{top:pi(n),left:n.left+n.width/2-.75*e.width+Jr.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(n,e){return{top:pi(n),left:n.left+n.width/2-e.width+Jr.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(n,e){return{top:pi(n),left:n.right-Jr.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(n,e){return{top:pi(n),left:n.right-.25*e.width-Jr.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(n,e){return{top:pi(n),left:n.right-e.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(n,e){return{top:pi(n),left:n.right-.75*e.width+Jr.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(n,e){return{top:pi(n),left:n.right-e.width+Jr.arrowHorizontalOffset,name:"arrow_ne"}}};function xa(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Iu(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.setAttribute("contenteditable","false",a),n.addClass("ck-widget",a),n.setCustomProperty("widget",!0,a),a.getFillerOffset=gg,e.label&&function(t,i,o){o.setCustomProperty("widgetLabel",i,t)}(a,e.label,n),e.hasSelectionHandle&&function(t,i){var o=i.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(s){var l=this.toDomElement(s),u=new Ml;return u.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),u.render(),l.appendChild(u.element),l});i.insert(i.createPositionAt(t,0),o),i.addClass(["ck-widget_with-selection-handle"],t)}(a,n),function(t,i,o,s){var l=new of;l.on("change:top",function(u,c){c.oldDescriptor&&s(t,c.oldDescriptor,c.writer),c.newDescriptor&&o(t,c.newDescriptor,c.writer)}),i.setCustomProperty("addHighlight",function(u,c,d){return l.add(c,d)},t),i.setCustomProperty("removeHighlight",function(u,c,d){return l.remove(c,d)},t)}(a,n,function(t,i,o){return o.addClass(r(i.classes),t)},function(t,i,o){return o.removeClass(r(i.classes),t)}),a;function r(t){return Array.isArray(t)?t:[t]}}function vg(a){var n=a.getCustomProperty("widgetLabel");return n?typeof n=="function"?n():n:""}function ju(a,n){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),n.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",function(e,r,t){n.setAttribute("contenteditable",t?"false":"true",a)}),a.on("change:isFocused",function(e,r,t){t?n.addClass("ck-editor__nested-editable_focused",a):n.removeClass("ck-editor__nested-editable_focused",a)}),a}function Fl(a,n){var e=a.getSelectedElement();if(e&&n.schema.isBlock(e))return n.createPositionAfter(e);var r=a.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return n.createPositionAt(r,0);var t=n.createPositionAfter(r);return a.focus.isTouching(t)?t:n.createPositionBefore(r)}return a.focus}function pg(a,n){var e=new $n(Tn.window),r=e.getIntersection(a),t=n.height+Jr.arrowVerticalOffset;if(a.top-t>e.top||a.bottom+t<e.bottom)return null;var i=r||a,o=i.left+i.width/2-n.width/2;return{top:Math.max(a.top,0)+Jr.arrowVerticalOffset,left:o,name:"arrow_n"}}function gg(){return null}function Ru(a){var n=a.getSelectedElement();return n&&function(e){return!!e.getCustomProperty("image")&&xa(e)}(n)?n:null}function Ll(a){return!!a&&a.is("image")}function uf(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=a.createElement("image",e),t=Fl(n.document.selection,n);n.insertContent(r,t),r.parent&&a.setSelection(r,"on")}function cf(a){var n=a.schema,e=a.document.selection;return function(r,t,i){var o=function(s,l){var u=Fl(s,l).parent;return u.isEmpty&&!u.is("$root")?u.parent:u}(r,i);return t.checkChild(o,"image")}(e,n,a)&&!function(r,t){var i=r.getSelectedElement();return i&&t.isObject(i)}(e,n)&&function(r){return z(r.focus.getAncestors()).every(function(t){return!t.is("image")})}(e)}function Vo(a){return Array.from(a.getChildren()).find(function(n){return n.is("img")})}function df(a){return function(e){e.on("attribute:".concat(a,":image"),n)};function n(e,r,t){if(!!t.consumable.consume(r.item,e.name)){var i=t.writer,o=Vo(t.mapper.toViewElement(r.item));r.attributeNewValue!==null?i.setAttribute(r.attributeKey,r.attributeNewValue,o):i.removeAttribute(r.attributeKey,o)}}}var mg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){this.isEnabled=cf(this.editor.model)}},{key:"execute",value:function(t){var i=this.editor.model;i.change(function(o){var s=Array.isArray(t.source)?t.source:[t.source],l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;uf(o,i,{src:c})}}catch(d){l.e(d)}finally{l.f()}})}}]),e}(Gr),ff=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.t,s=t.conversion;t.editing.view.addObserver(fg),i.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),s.for("dataDowncast").elementToElement({model:"image",view:function(u,c){return hf(c)}}),s.for("editingDowncast").elementToElement({model:"image",view:function(u,c){return d=hf(c),f=c,h=o("image widget"),f.setCustomProperty("image",!0,d),Iu(d,f,{label:function(){var P=Vo(d).getAttribute("alt");return P?"".concat(P," ").concat(h):h}});var d,f,h}}),s.for("downcast").add(df("src")).add(df("alt")).add(function(){return function(u){u.on("attribute:srcset:image",l)};function l(u,c,d){if(!!d.consumable.consume(c.item,u.name)){var f=d.writer,h=Vo(d.mapper.toViewElement(c.item));if(c.attributeNewValue===null){var k=c.attributeOldValue;k.data&&(f.removeAttribute("srcset",h),f.removeAttribute("sizes",h),k.width&&f.removeAttribute("width",h))}else{var P=c.attributeNewValue;P.data&&(f.setAttribute("srcset",P.data,h),f.setAttribute("sizes","100vw",h),P.width&&f.setAttribute("width",P.width,h))}}}}()),s.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(u,c){return c.createElement("image",{src:u.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(u){var c={data:u.getAttribute("srcset")};return u.hasAttribute("width")&&(c.width=u.getAttribute("width")),c}}}).add(function(){return function(u){u.on("element:figure",l)};function l(u,c,d){if(!!d.consumable.test(c.viewItem,{name:!0,classes:"image"})){var f=Vo(c.viewItem);if(!(!f||!f.hasAttribute("src")||!d.consumable.test(f,{name:!0}))){var h=d.convertItem(f,c.modelCursor),k=_a(h.modelRange.getItems());k&&(d.convertChildren(c.viewItem,d.writer.createPositionAt(k,0)),c.modelRange=h.modelRange,c.modelCursor=h.modelCursor)}}}}()),t.commands.add("imageInsert",new mg(t))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),e}(St);function hf(a){var n=a.createEmptyElement("img"),e=a.createContainerElement("figure",{class:"image"});return a.insert(a.createPositionAt(e,0),n),e}function Du(a,n,e){return e.createRange(vf(a,n,!0,e),vf(a,n,!1,e))}function vf(a,n,e,r){for(var t=a.textNode||(e?a.nodeBefore:a.nodeAfter),i=null;t&&t.getAttribute("linkHref")==n;)i=t,t=e?t.previousSibling:t.nextSibling;return i?r.createPositionAt(i,e?"before":"after"):a}var bg=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.manualDecorators=new Un,t}return E(e,[{key:"restoreManualDecoratorStates",value:function(){var t=p(this.manualDecorators),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(s){t.e(s)}finally{t.f()}}},{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.value=i.selection.getAttribute("linkHref");var o=p(this.manualDecorators),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.value=this._getDecoratorStateFromModel(l.id)}}catch(u){o.e(u)}finally{o.f()}this.isEnabled=t.schema.checkAttributeInSelection(i.selection,"linkHref")}},{key:"execute",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.editor.model,s=o.document.selection,l=[],u=[];for(var c in i)i[c]?l.push(c):u.push(c);o.change(function(d){if(s.isCollapsed){var f=s.getFirstPosition();if(s.hasAttribute("linkHref")){var h=Du(f,s.getAttribute("linkHref"),o);d.setAttribute("linkHref",t,h),l.forEach(function(q){d.setAttribute(q,!0,h)}),u.forEach(function(q){d.removeAttribute(q,h)}),d.setSelection(h)}else if(t!==""){var k=yr(s.getAttributes());k.set("linkHref",t),l.forEach(function(q){k.set(q,!0)});var P=d.createText(t,k);o.insertContent(P,f),d.setSelection(d.createRangeOn(P))}}else{var A=o.schema.getValidRanges(s.getRanges(),"linkHref"),I=p(A),G;try{var Z=function(){var ae=G.value;d.setAttribute("linkHref",t,ae),l.forEach(function(be){d.setAttribute(be,!0,ae)}),u.forEach(function(be){d.removeAttribute(be,ae)})};for(I.s();!(G=I.n()).done;)Z()}catch(q){I.e(q)}finally{I.f()}}})}},{key:"_getDecoratorStateFromModel",value:function(t){return this.editor.model.document.selection.getAttribute(t)}}]),e}(Gr),yg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}},{key:"execute",value:function(){var t=this.editor,i=this.editor.model,o=i.document.selection,s=t.commands.get("link");i.change(function(l){var u=o.isCollapsed?[Du(o.getFirstPosition(),o.getAttribute("linkHref"),i)]:o.getRanges(),c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;if(l.removeAttribute("linkHref",f),s){var h=p(s.manualDecorators),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;l.removeAttribute(P.id,f)}}catch(A){h.e(A)}finally{h.f()}}}}catch(A){c.e(A)}finally{c.f()}})}}]),e}(Gr),wg=function(n,e,r){var t=n.length;return r=r===void 0?t:r,!e&&r>=t?n:Jo(n,e,r)},kg=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),pf=function(n){return kg.test(n)},_g=function(n){return n.split("")},xg="[\\ud800-\\udfff]",Nu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Fu="\\ud83c[\\udffb-\\udfff]",gf="[^\\ud800-\\udfff]",mf="(?:\\ud83c[\\udde6-\\uddff]){2}",bf="[\\ud800-\\udbff][\\udc00-\\udfff]",yf="(?:"+Nu+"|"+Fu+")?",Og="[\\ufe0e\\ufe0f]?"+yf+("(?:\\u200d(?:"+[gf,mf,bf].join("|")+")[\\ufe0e\\ufe0f]?"+yf+")*"),Pg="(?:"+[gf+Nu+"?",Nu,mf,bf,xg].join("|")+")",Eg=RegExp(Fu+"(?="+Fu+")|"+Pg+Og,"g"),Cg=function(n){return n.match(Eg)||[]},Ag=function(n){return pf(n)?Cg(n):_g(n)},Sg=function(a){return function(n){n=ro(n);var e=pf(n)?Ag(n):void 0,r=e?e[0]:n.charAt(0),t=e?wg(e,1).join(""):n.slice(1);return r[a]()+t}}("toUpperCase"),Tg=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Mg=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function wf(a,n){var e=n.createAttributeElement("a",{href:a},{priority:5});return n.setCustomProperty("link",!0,e),e}function kf(a){return function(n){return n.replace(Tg,"").match(Mg)}(a=String(a))?a:"#"}var Ig=function(){function a(){C(this,a),this._definitions=new Set}return E(a,[{key:"length",get:function(){return this._definitions.size}},{key:"add",value:function(e){var r=this;Array.isArray(e)?e.forEach(function(t){return r._definitions.add(t)}):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(r){r.on("attribute:linkHref",function(t,i,o){if(!!o.consumable.test(i.item,"attribute:linkHref")){var s=o.writer,l=s.document.selection,u=p(e._definitions),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=s.createAttributeElement("a",d.attributes,{priority:5});s.setCustomProperty("link",!0,f),d.callback(i.attributeNewValue)?i.item.is("selection")?s.wrap(l.getFirstRange(),f):s.wrap(o.mapper.toViewRange(i.range),f):s.unwrap(o.mapper.toViewRange(i.range),f)}}catch(h){u.e(h)}finally{u.f()}}},{priority:"high"})}}}]),a}(),_f=function a(n){var e=n.id,r=n.label,t=n.attributes,i=n.defaultValue;C(this,a),this.id=e,this.set("value"),this.defaultValue=i,this.label=r,this.attributes=t};rr(_f,nn);var jg=function(){function a(n,e,r){var t=this;C(this,a),this.model=n,this.attribute=r,this._modelSelection=n.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",function(i,o){t._isNextGravityRestorationSkipped?t._isNextGravityRestorationSkipped=!1:t._isGravityOverridden&&(!o.directChange&&xf(t._modelSelection.getFirstPosition(),r)||t._restoreGravity())})}return E(a,[{key:"handleForwardMovement",value:function(e,r){var t=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return Bu(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(r),this._removeSelectionAttribute(),!0):Of(e,t)||Lu(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(r),this._overrideGravity(),!0):void 0}},{key:"handleBackwardMovement",value:function(e,r){var t=this.attribute;return this._isGravityOverridden?Bu(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(r),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(r),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):Bu(e,t)&&!this._hasSelectionAttribute?(this._preventCaretMovement(r),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&Lu(e,t)?this._hasSelectionAttribute?void(Pf(e,t)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(r),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(r),!0):void 0:void(Pf(e,t)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_hasSelectionAttribute",get:function(){return this._modelSelection.hasAttribute(this.attribute)}},{key:"_overrideGravity",value:function(){this._overrideUid=this.model.change(function(e){return e.overrideSelectionGravity()})}},{key:"_restoreGravity",value:function(){var e=this;this.model.change(function(r){r.restoreSelectionGravity(e._overrideUid),e._overrideUid=null})}},{key:"_preventCaretMovement",value:function(e){e.preventDefault()}},{key:"_removeSelectionAttribute",value:function(){var e=this;this.model.change(function(r){r.removeSelectionAttribute(e.attribute)})}},{key:"_setSelectionAttributeFromTheNodeBefore",value:function(e){var r=this,t=this.attribute;this.model.change(function(i){i.setSelectionAttribute(r.attribute,e.nodeBefore.getAttribute(t))})}},{key:"_skipNextAutomaticGravityRestoration",value:function(){this._isNextGravityRestorationSkipped=!0}}]),a}();function xf(a,n){return Of(a,n)||Lu(a,n)}function Of(a,n){var e=a.nodeBefore,r=a.nodeAfter,t=!!e&&e.hasAttribute(n);return!!r&&r.hasAttribute(n)&&(!t||e.getAttribute(n)!==r.getAttribute(n))}function Lu(a,n){var e=a.nodeBefore,r=a.nodeAfter,t=!!e&&e.hasAttribute(n),i=!!r&&r.hasAttribute(n);return t&&(!i||e.getAttribute(n)!==r.getAttribute(n))}function Bu(a,n){var e=a.nodeBefore,r=a.nodeAfter,t=!!e&&e.hasAttribute(n);if(!!r&&r.hasAttribute(n)&&t)return r.getAttribute(n)!==e.getAttribute(n)}function Pf(a,n){return xf(a.getShiftedBy(-1),n)}j(47);var Rg=/^(https?:)?\/\//,Ef=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),r.config.define("link",{addTargetToExternalLinks:!1}),t}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:wf}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(l,u){return wf(kf(l),u)}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(l){return l.getAttribute("href")}}}),t.commands.add("link",new bg(t)),t.commands.add("unlink",new yg(t));var o=function(s,l){var u={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return l.forEach(function(c){return c.label&&u[c.label]&&(c.label=u[c.label]),c}),l}(t.t,function(s){var l=[];if(s)for(var u=0,c=Object.entries(s);u<c.length;u++){var d=c[u],f=H(d,2),h=f[0],k=f[1],P=Object.assign({},k,{id:"link"+Sg(h)});l.push(P)}return l}(t.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(function(s){return s.mode==="automatic"})),this._enableManualDecorators(o.filter(function(s){return s.mode==="manual"})),function(s){var l=s.view,u=s.model,c=s.emitter,d=s.attribute,f=s.locale,h=new jg(u,c,d),k=u.document.selection;c.listenTo(l.document,"keydown",function(P,A){if(!!k.isCollapsed&&!(A.shiftKey||A.altKey||A.ctrlKey)){var I=A.keyCode==_.arrowright,G=A.keyCode==_.arrowleft;if(!(!I&&!G)){var Z=k.getFirstPosition(),q=f.contentLanguageDirection,ae;ae=q==="ltr"&&I||q==="rtl"&&G?h.handleForwardMovement(Z,A):h.handleBackwardMovement(Z,A),ae&&P.stop()}}},{priority:ca.get("high")+1})}({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:i}),this._setupLinkHighlight(),this._enableInsertContentSelectionAttributesFixer()}},{key:"_enableAutomaticDecorators",value:function(t){var i=this.editor,o=new Ig;i.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:"automatic",callback:function(l){return Rg.test(l)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(t),o.length&&i.conversion.for("downcast").add(o.getDispatcher())}},{key:"_enableManualDecorators",value:function(t){if(!!t.length){var i=this.editor,o=i.commands.get("link").manualDecorators;t.forEach(function(s){i.model.schema.extend("$text",{allowAttributes:s.id}),o.add(new _f(s)),i.conversion.for("downcast").attributeToElement({model:s.id,view:function(u,c){if(u){var d=o.get(s.id).attributes,f=c.createAttributeElement("a",d,{priority:5});return c.setCustomProperty("link",!0,f),f}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:o.get(s.id).attributes},model:{key:s.id}})})}}},{key:"_setupLinkHighlight",value:function(){var t=this.editor,i=t.editing.view,o=new Set;i.document.registerPostFixer(function(s){var l=t.model.document.selection,u=!1;if(l.hasAttribute("linkHref")){var c=Du(l.getFirstPosition(),l.getAttribute("linkHref"),t.model),d=t.editing.mapper.toViewRange(c),f=p(d.getItems()),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;k.is("a")&&!k.hasClass("ck-link_selected")&&(s.addClass("ck-link_selected",k),o.add(k),u=!0)}}catch(P){f.e(P)}finally{f.f()}}return u}),t.conversion.for("editingDowncast").add(function(s){function l(){i.change(function(u){var c=p(o.values()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;u.removeClass("ck-link_selected",f),o.delete(f)}}catch(h){c.e(h)}finally{c.f()}})}s.on("insert",l,{priority:"highest"}),s.on("remove",l,{priority:"highest"}),s.on("attribute",l,{priority:"highest"}),s.on("selection",l,{priority:"highest"})})}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var t=this.editor.model,i=t.document.selection;t.on("insertContent",function(){var o=i.anchor.nodeBefore,s=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||t.change(function(l){z(t.document.selection.getAttributeKeys()).filter(function(u){return u.startsWith("link")}).forEach(function(u){return l.removeSelectionAttribute(u)})}))},{priority:"low"})}}],[{key:"pluginName",get:function(){return"LinkEditing"}}]),e}(St),Vu=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){this.on("show:warning",function(t,i){window.alert(i.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:i.namespace,title:i.title})}},{key:"showInfo",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:i.namespace,title:i.title})}},{key:"showWarning",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:i.namespace,title:i.title})}},{key:"_showNotification",value:function(t){var i="show:"+t.type+(t.namespace?":"+t.namespace:"");this.fire(i,{message:t.message,type:t.type,title:t.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),e}(jl),Dg=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.stopListening(t.editor.model.document,"change"),t.listenTo(t.editor.model.document,"change",function(){return t.refresh()},{priority:"low"}),t}return E(e,[{key:"refresh",value:function(){var t=this.editor.commands.get("imageInsert"),i=this.editor.commands.get("link");this.isEnabled=t.isEnabled||i.isEnabled}},{key:"execute",value:function(){var t=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new me.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);var o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;var s=o.onInit;o.language||(o.language=t.locale.uiLanguage),o.onInit=function(l){s&&s(l),l.on("files:choose",function(u){var c=u.data.files.toArray(),d=c.filter(function(ae){return!ae.isImage()}),f=c.filter(function(ae){return ae.isImage()}),h=p(d),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;t.execute("link",P.getUrl())}}catch(ae){h.e(ae)}finally{h.f()}var A=[],I=p(f),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value,q=Z.getUrl();A.push(q||l.request("file:getProxyUrl",{file:Z}))}}catch(ae){I.e(ae)}finally{I.f()}A.length&&Cf(t,A)}),l.on("file:choose:resizedImage",function(u){var c=u.data.resizedUrl;if(c)Cf(t,[c]);else{var d=t.plugins.get("Notification"),f=t.locale.t;d.showWarning(f("Could not obtain resized image URL."),{title:f("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](o)}}]),e}(Gr);function Cf(a,n){if(a.commands.get("imageInsert").isEnabled)a.execute("imageInsert",{source:n});else{var e=a.plugins.get("Notification"),r=a.locale.t;e.showWarning(r("Could not insert image at the current position."),{title:r("Inserting image failed"),namespace:"ckfinder"})}}var Ng=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor;t.commands.add("ckfinder",new Dg(t))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Vu,ff,Ef]}}]),e}(St),zu=/^data:(\S*?);base64,/,Af=function(){function a(n,e,r){if(C(this,a),!n)throw new me.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new me.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!r)throw new me.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if(typeof t!="string")return!1;var i=t.match(zu);return!(!i||!i.length)}(n)?function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512;try{for(var o=t.match(zu)[1],s=atob(t.replace(zu,"")),l=[],u=0;u<s.length;u+=i){for(var c=s.slice(u,u+i),d=new Array(c.length),f=0;f<c.length;f++)d[f]=c.charCodeAt(f);l.push(new Uint8Array(d))}return new Blob(l,{type:o})}catch(h){throw new me.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(n):n,this._token=e,this._apiAddress=r}return E(a,[{key:"onProgress",value:function(e){return this.on("progress",function(r,t){return e(t)}),this}},{key:"onError",value:function(e){return this.once("error",function(r,t){return e(t)}),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,r=this,t=this.xhr;function i(o){return function(){return r.fire("error",o)}}t.addEventListener("error",i("Network Error")),t.addEventListener("abort",i("Abort")),t.upload&&t.upload.addEventListener("progress",function(o){o.lengthComputable&&e.fire("progress",{total:o.total,uploaded:o.loaded})}),t.addEventListener("load",function(){var o=t.status,s=t.response;if(o<200||o>299)return e.fire("error",s.message||s.error)})}},{key:"_sendRequest",value:function(){var e=this,r=new FormData,t=this.xhr;return r.append("file",this.file),new Promise(function(i,o){t.addEventListener("load",function(){var s=t.status,l=t.response;return s<200||s>299?l.message?o(new me.b("fileuploader-uploading-data-failed: Uploading file failed.",e,{message:l.message})):o(l.error):i(l)}),t.addEventListener("error",function(){return o(new Error("Network Error"))}),t.addEventListener("abort",function(){return o(new Error("Abort"))}),t.send(r)})}}]),a}();rr(Af,rn);var Uu={refreshInterval:36e5,autoRefresh:!0},Sf=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uu;if(C(this,a),!n)throw new me.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh=typeof n=="function"?n:function(){return r=n,new Promise(function(t,i){var o=new XMLHttpRequest;o.open("GET",r),o.addEventListener("load",function(){var s=o.status,l=o.response;return s<200||s>299?i(new me.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(l)}),o.addEventListener("error",function(){return i(new Error("Network Error"))}),o.addEventListener("abort",function(){return i(new Error("Abort"))}),o.send()});var r},this._options=Object.assign({},Uu,e)}return E(a,[{key:"init",value:function(){var e=this;return new Promise(function(r,t){e._options.autoRefresh&&e._startRefreshing(),e.value?r(e):e.refreshToken().then(r).catch(t)})}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then(function(r){return e.set("value",r)}).then(function(){return e})}},{key:"destroy",value:function(){this._stopRefreshing()}},{key:"_startRefreshing",value:function(){var e=this;this._refreshInterval=setInterval(function(){return e.refreshToken()},this._options.refreshInterval)}},{key:"_stopRefreshing",value:function(){clearInterval(this._refreshInterval)}}],[{key:"create",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uu;return new a(e,r).init()}}]),a}();rr(Sf,nn);var Fg=Sf,Wu=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.context.config.get("cloudServices")||{};for(var i in t)this[i]=t[i];if(this.tokenUrl)return this.token=new e.Token(this.tokenUrl),this.token.init();this.token=null}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this.token&&this.token.destroy()}}],[{key:"pluginName",get:function(){return"CloudServices"}}]),e}(jl);Wu.Token=Fg;var Tf=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.plugins.get(Wu),s=o.token,l=o.uploadUrl;s&&(this._uploadGateway=new e._UploadGateway(s,l),i.plugins.get(Ri).createUploadAdapter=function(u){return new Lg(t._uploadGateway,u)})}}],[{key:"requires",get:function(){return[Ri,Wu]}}]),e}(St),Lg=function(){function a(n,e){C(this,a),this.uploadGateway=n,this.loader=e}return E(a,[{key:"upload",value:function(){var e=this;return this.loader.file.then(function(r){return e.fileUploader=e.uploadGateway.upload(r),e.fileUploader.on("progress",function(t,i){e.loader.uploadTotal=i.total,e.loader.uploaded=i.uploaded}),e.fileUploader.send()})}},{key:"abort",value:function(){this.fileUploader.abort()}}]),a}();Tf._UploadGateway=function(){function a(n,e){if(C(this,a),!n)throw new me.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new me.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=n,this._apiAddress=e}return E(a,[{key:"upload",value:function(e){return new Af(e,this._token,this._apiAddress)}}]),a}();var Bg=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.domEventType="mousedown",t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ce),Vg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=this.editor.model,i=_a(t.document.selection.getSelectedBlocks());this.value=!!i&&i.is("paragraph"),this.isEnabled=!!i&&Mf(i,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.editor.model,o=i.document;i.change(function(s){var l=(t.selection||o.selection).getSelectedBlocks(),u=p(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;!d.is("paragraph")&&Mf(d,i.schema)&&s.rename(d,"paragraph")}}catch(f){u.e(f)}finally{u.f()}})}}]),e}(Gr);function Mf(a,n){return n.checkChild(a.parent,"paragraph")&&!n.isObject(a)}var zg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"execute",value:function(t){var i=this.editor.model;i.schema.checkChild(t.position,"paragraph")&&i.change(function(o){var s=o.createElement("paragraph");i.insertContent(s,t.position),o.setSelection(s,"in")})}}]),e}(Gr),ul=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model,s=i.data;i.commands.add("paragraph",new Vg(i)),i.commands.add("insertParagraph",new zg(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:function(u,c){return e.paragraphLikeElements.has(u.name)?u.isEmpty?null:c.createElement("paragraph"):null},converterPriority:"low"}),s.upcastDispatcher.on("element",function(l,u,c){c.consumable.test(u.viewItem,{name:u.viewItem.name})&&jf(u.viewItem,u.modelCursor,c.schema)&&Object.assign(u,If(u.viewItem,u.modelCursor,c))},{priority:"low"}),s.upcastDispatcher.on("text",function(l,u,c){u.modelRange||jf(u.viewItem,u.modelCursor,c.schema)&&Object.assign(u,If(u.viewItem,u.modelCursor,c))},{priority:"lowest"}),o.document.registerPostFixer(function(l){return t._autoparagraphEmptyRoots(l)}),i.data.on("ready",function(){o.enqueueChange("transparent",function(l){return t._autoparagraphEmptyRoots(l)})},{priority:"lowest"})}},{key:"_autoparagraphEmptyRoots",value:function(t){var i=this.editor.model,o=p(i.document.getRootNames()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=i.document.getRoot(l);if(u.isEmpty&&u.rootName!="$graveyard"&&i.schema.checkChild(u,"paragraph"))return t.insertElement("paragraph",u),!0}}catch(c){o.e(c)}finally{o.f()}}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),e}(St);function If(a,n,e){var r=e.writer.createElement("paragraph");return e.writer.insert(r,n),e.convertItem(a,e.writer.createPositionAt(r,0))}function jf(a,n,e){var r=e.createContext(n);return!!e.checkChild(r,"paragraph")&&!!e.checkChild(r.push("paragraph"),a)}function Ug(a){var n=[];return(!a.previousSibling||function(e){return e.previousSibling&&xa(e.previousSibling)}(a))&&n.push("before"),(function(e){return!e.nextSibling}(a)||function(e){return e.nextSibling&&xa(e.nextSibling)}(a))&&n.push("after"),n}ul.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]),j(49);var Rf=["before","after"],Wg=new DOMParser().parseFromString(`<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>
`,"image/svg+xml").firstChild,Hg=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._widgetsWithTypeAroundUI=new Set,t}return E(e,[{key:"destroy",value:function(){this._widgetsWithTypeAroundUI.clear()}},{key:"init",value:function(){this._enableTypeAroundUIInjection(),this._enableDetectionOfTypeAroundWidgets(),this._enableInsertingParagraphsOnButtonClick()}},{key:"_insertParagraph",value:function(t,i){var o=this.editor,s=o.editing.view,l=o.editing.mapper.toModelElement(t),u;u=i==="before"?o.model.createPositionBefore(l):o.model.createPositionAfter(l),o.execute("insertParagraph",{position:u}),s.focus(),s.scrollToTheSelection()}},{key:"_enableTypeAroundUIInjection",value:function(){var t=this,i=this.editor,o=i.model.schema,s=i.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",function(u,c,d){var f=d.mapper.toViewElement(c.item);(function(h,k,P){return h&&xa(h)&&!P.isInline(k)})(f,c.item,o)&&(function(h,k,P){var A=h.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(I){var G=this.toDomElement(I);return function(Z,q){var ae=p(Rf),be;try{for(ae.s();!(be=ae.n()).done;){var Re=be.value,Ne=new ea({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+Re],title:q[Re]},children:[Z.ownerDocument.importNode(Wg,!0)]});Z.appendChild(Ne.render())}}catch(Ze){ae.e(Ze)}finally{ae.f()}}(G,k),G});h.insert(h.createPositionAt(P,"end"),A)}(d.writer,l,f),t._widgetsWithTypeAroundUI.add(f))},{priority:"low"})}},{key:"_enableDetectionOfTypeAroundWidgets",value:function(){var t=this;function i(o){return"ck-widget_can-type-around_"+o}this.editor.editing.view.document.registerPostFixer(function(o){var s=p(t._widgetsWithTypeAroundUI),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.isAttached()){var c=Ug(u);o.removeClass(Rf.map(i),u),o.addClass(c.map(i),u)}else t._widgetsWithTypeAroundUI.delete(u)}}catch(d){s.e(d)}finally{s.f()}})}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var t=this,i=this.editor.editing.view;i.document.on("mousedown",function(o,s){var l=s.domTarget.closest(".ck-widget__type-around__button");if(!!l){var u=function(d){return d.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),c=function(d,f){var h=d.closest(".ck-widget");return f.mapDomToView(h)}(l,i.domConverter);t._insertParagraph(c,u),s.preventDefault(),o.stop()}})}}],[{key:"requires",get:function(){return[ul]}},{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),e}(St);j(51);var Hu=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",function(s,l,u){t._clearPreviouslySelectedWidgets(u.writer);var c=u.writer,d=c.document.selection,f=d.getSelectedElement(),h=null,k=p(d.getRanges()),P;try{for(k.s();!(P=k.n()).done;){var A=P.value,I=p(A),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value,q=Z.item;xa(q)&&!Kg(q,h)&&(c.addClass("ck-widget_selected",q),t._previouslySelected.add(q),h=q,q==f&&c.setSelection(d.getRanges(),{fake:!0,label:vg(f)}))}}catch(ae){I.e(ae)}finally{I.f()}}}catch(ae){k.e(ae)}finally{k.f()}},{priority:"low"}),i.addObserver(Bg),this.listenTo(o,"mousedown",function(){return t._onMousedown.apply(t,arguments)}),this.listenTo(o,"keydown",function(){return t._onKeydown.apply(t,arguments)},{priority:"high"}),this.listenTo(o,"delete",function(s,l){t._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())},{priority:"high"})}},{key:"_onMousedown",value:function(t,i){var o=this.editor,s=o.editing.view,l=s.document,u=i.target;if(function(f){for(;f;){if(f.is("editableElement")&&!f.is("rootElement"))return!0;if(xa(f))return!1;f=f.parent}return!1}(u)){if(y.isSafari&&i.domEvent.detail>=3){var c=o.editing.mapper.toModelElement(u);this.editor.model.change(function(f){i.preventDefault(),f.setSelection(c,"in")})}return}if(!(!xa(u)&&(u=u.findAncestor(xa),!u))){i.preventDefault(),l.isFocused||s.focus();var d=o.editing.mapper.toModelElement(u);this._setSelectionOverElement(d)}}},{key:"_onKeydown",value:function(t,i){var o=i.keyCode,s=this.editor.locale.contentLanguageDirection==="ltr",l=o==_.arrowdown||o==_[s?"arrowright":"arrowleft"],u=!1;(function(c){return c==_.arrowright||c==_.arrowleft||c==_.arrowup||c==_.arrowdown})(o)?u=this._handleArrowKeys(l):o===_.enter&&(u=this._handleEnterKey(i.shiftKey)),u&&(i.preventDefault(),t.stop())}},{key:"_handleDelete",value:function(t){var i=this;if(!this.editor.isReadOnly){var o=this.editor.model.document.selection;if(!!o.isCollapsed){var s=this._getObjectElementNextToSelection(t);return s?(this.editor.model.change(function(l){for(var u=o.anchor.parent;u.isEmpty;){var c=u;u=c.parent,l.remove(c)}i._setSelectionOverElement(s)}),!0):void 0}}}},{key:"_handleArrowKeys",value:function(t){var i=this.editor.model,o=i.schema,s=i.document.selection,l=s.getSelectedElement();if(l&&o.isObject(l)){var u=t?s.getLastPosition():s.getFirstPosition(),c=o.getNearestSelectionRange(u,t?"forward":"backward");return c&&i.change(function(f){f.setSelection(c)}),!0}if(!!s.isCollapsed){var d=this._getObjectElementNextToSelection(t);return d&&o.isObject(d)?(this._setSelectionOverElement(d),!0):void 0}}},{key:"_handleEnterKey",value:function(t){var i=this.editor.model,o=i.document.selection.getSelectedElement();if(s=o,l=i.schema,s&&l.isObject(s)&&!l.isInline(s))return i.change(function(u){var c=u.createPositionAt(o,t?"before":"after"),d=u.createElement("paragraph");if(i.schema.isBlock(o.parent)){var f=i.schema.findAllowedParent(c,d);c=u.split(c,f).position}u.insert(d,c),u.setSelection(d,"in")}),!0;var s,l}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change(function(i){i.setSelection(i.createRangeOn(t))})}},{key:"_getObjectElementNextToSelection",value:function(t){var i=this.editor.model,o=i.schema,s=i.document.selection,l=i.createSelection(s);i.modifySelection(l,{direction:t?"forward":"backward"});var u=t?l.focus.nodeBefore:l.focus.nodeAfter;return u&&o.isObject(u)?u:null}},{key:"_clearPreviouslySelectedWidgets",value:function(t){var i=p(this._previouslySelected),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.removeClass("ck-widget_selected",s)}}catch(l){i.e(l)}finally{i.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[Hg]}}]),e}(St);function Kg(a,n){return!!n&&Array.from(a.getAncestors()).includes(n)}var Gg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Ll(t),Ll(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection.getSelectedElement();i.change(function(s){s.setAttribute("alt",t.newValue,o)})}}]),e}(Gr),$g=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new Gg(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),e}(St);j(53);var Ku=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e),i=n.call(this,r);var o="ck-labeled-field-view-"+ei(),s="ck-labeled-field-view-status-"+ei();i.fieldView=t(O(i),o,s),i.set("label"),i.set("isEnabled",!0),i.set("errorText",null),i.set("infoText",null),i.set("class"),i.labelView=i._createLabelView(o),i.statusView=i._createStatusView(s),i.bind("_statusText").to(O(i),"errorText",O(i),"infoText",function(u,c){return u||c});var l=i.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",function(u){return!u})]},children:[i.labelView,i.fieldView,i.statusView]}),i}return E(e,[{key:"_createLabelView",value:function(t){var i=new bd(this.locale);return i.for=t,i.bind("text").to(this,"label"),i}},{key:"_createStatusView",value:function(t){var i=new Rr(this.locale),o=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",function(s){return!s})],id:t,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),i}},{key:"focus",value:function(){this.fieldView.focus()}}]),e}(Rr);j(55);var Yg=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r),t.set("value"),t.set("id"),t.set("placeholder"),t.set("isReadOnly",!1),t.set("hasError",!1),t.set("ariaDescribedById");var i=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to("input")}}),t}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this);var i=function(s){t.element.value=s||s===0?s:""};i(this.value),this.on("change:value",function(o,s,l){i(l)})}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),e}(Rr);function Gu(a,n,e){var r=new Yg(a.locale);return r.set({id:n,ariaDescribedById:e}),r.bind("isReadOnly").to(a,"isEnabled",function(t){return!t}),r.bind("hasError").to(a,"errorText",function(t){return!!t}),r.on("input",function(){a.errorText=null}),r}function $u(a){var n=a.view;n.listenTo(n.element,"submit",function(e,r){r.preventDefault(),n.fire("submit")},{useCapture:!0})}var Yu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Ju='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';j(57);var Jg=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.locale.t;return t.focusTracker=new qi,t.keystrokes=new Ha,t.labeledInput=t._createLabeledInputView(),t.saveButtonView=t._createButton(i("Save"),Yu,"ck-button-save"),t.saveButtonView.type="submit",t.cancelButtonView=t._createButton(i("Cancel"),Ju,"ck-button-cancel","cancel"),t._focusables=new Bo,t._focusCycler=new ms({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[t.labeledInput,t.saveButtonView,t.cancelButtonView]}),t}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),$u({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)})}},{key:"_createButton",value:function(t,i,o,s){var l=new Ln(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}},{key:"_createLabeledInputView",value:function(){var t=this.locale.t,i=new Ku(this.locale,Gu);return i.label=t("Text alternative"),i.fieldView.placeholder=t("Text alternative"),i}}]),e}(Rr);j(59),j(61);var Bl=mu("px"),_s=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.positionLimiter=function(){var i=t.editor.editing.view,o=i.document.selection.editableElement;return o?i.domConverter.mapViewToDom(o.root):null},t.set("visibleView",null),t.view=new Jr(r.locale),r.ui.view.body.add(t.view),r.ui.focusTracker.add(t.view.element),t._viewToStack=new Map,t._idToStack=new Map,t.set("_numberOfStacks",0),t.set("_singleViewMode",!1),t._rotatorView=t._createRotatorView(),t._fakePanelsView=t._createFakePanelsView(),t}return E(e,[{key:"hasView",value:function(t){return Array.from(this._viewToStack.keys()).includes(t)}},{key:"add",value:function(t){if(this.hasView(t.view))throw new me.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);var i=t.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(i));var o=this._idToStack.get(i);t.singleViewMode&&this.showStack(i),o.set(t.view,t),this._viewToStack.set(t.view,o),o===this._visibleStack&&this._showView(t)}},{key:"remove",value:function(t){if(!this.hasView(t))throw new me.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);var i=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(t),this._viewToStack.delete(t)}},{key:"updatePosition",value:function(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(t){this.visibleStack=t;var i=this._idToStack.get(t);if(!i)throw new me.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find(function(i){return i[1]===t})[0]}},{key:"_showNextStack",value:function(){var t=Array.from(this._idToStack.values()),i=t.indexOf(this._visibleStack)+1;t[i]||(i=0),this.showStack(this._getStackId(t[i]))}},{key:"_showPrevStack",value:function(){var t=Array.from(this._idToStack.values()),i=t.indexOf(this._visibleStack)-1;t[i]||(i=t.length-1),this.showStack(this._getStackId(t[i]))}},{key:"_createRotatorView",value:function(){var t=this,i=new Qg(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(s,l){return!l&&s>1}),i.on("change:isNavigationVisible",function(){return t.updatePosition()},{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(s,l){if(l<2)return"";var u=Array.from(t._idToStack.values()).indexOf(t._visibleStack)+1;return o("%0 of %1",[u,l])}),i.buttonNextView.on("execute",function(){i.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showNextStack()}),i.buttonPrevView.on("execute",function(){i.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showPrevStack()}),i}},{key:"_createFakePanelsView",value:function(){var t=new Zg(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(i,o){return!o&&i>=2?Math.min(i-1,2):0}),t.listenTo(this.view,"change:top",function(){return t.updatePosition()}),t.listenTo(this.view,"change:left",function(){return t.updatePosition()}),this.editor.ui.view.body.add(t),t}},{key:"_showView",value:function(t){var i=t.view,o=t.balloonClassName,s=o===void 0?"":o,l=t.withArrow,u=l===void 0?!0:l,c=t.singleViewMode,d=c===void 0?!1:c;this.view.class=s,this.view.withArrow=u,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}],[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),e}(St),Qg=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=r.t,o=t.bindTemplate;return t.set("isNavigationVisible",!0),t.focusTracker=new qi,t.buttonPrevView=t._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),t.buttonNextView=t._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",function(s){return s?"":"ck-hidden"})]},children:[t.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},t.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:t.content}]}),t}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(t){this.hideView(),this.content.add(t)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(t,i){var o=new Ln(this.locale);return o.set({label:t,icon:i,tooltip:!0}),o}}]),e}(Rr),Zg=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e),i=n.call(this,r);var o=i.bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=t,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",function(s){return s?"":"ck-hidden"})],style:{top:o.to("top",Bl),left:o.to("left",Bl),width:o.to("width",Bl),height:o.to("height",Bl)}},children:i.content}),i.on("change:numberOfPanels",function(s,l,u,c){u>c?i._addPanels(u-c):i._removePanels(c-u),i.updatePosition()}),i}return E(e,[{key:"_addPanels",value:function(t){for(;t--;){var i=new Rr;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}},{key:"_removePanels",value:function(t){for(;t--;){var i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var t=this._balloonPanelView,i=t.top,o=t.left,s=new $n(this._balloonPanelView.element),l=s.width,u=s.height;Object.assign(this,{top:i,left:o,width:l,height:u})}}}]),e}(Rr);function Df(a){var n=a.editing.view,e=Jr.defaultPositions;return{target:n.domConverter.viewToDom(n.document.selection.getSelectedElement()),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast]}}var Xg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",function(s){var l=i.commands.get("imageTextAlternative"),u=new Ln(s);return u.set({label:o("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),t.listenTo(u,"execute",function(){t._showForm()}),u})}},{key:"_createForm",value:function(){var t=this,i=this.editor,o=i.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Jg(i.locale),this._form.render(),this.listenTo(this._form,"submit",function(){i.execute("imageTextAlternative",{newValue:t._form.labeledInput.fieldView.element.value}),t._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){t._hideForm(!0)}),this._form.keystrokes.set("Esc",function(s,l){t._hideForm(!0),l()}),this.listenTo(i.ui,"update",function(){Ru(o.selection)?t._isVisible&&function(s){var l=s.plugins.get("ContextualBalloon");if(Ru(s.editing.view.document.selection)){var u=Df(s);l.updatePosition(u)}}(i):t._hideForm(!0)}),Il({emitter:this._form,activator:function(){return t._isVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var t=this.editor,i=t.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Df(t)}),o.fieldView.value=o.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[_s]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),e}(St),qg=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[$g,Xg]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),e}(St);j(63);var Nf=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[ff,Hu,qg]}},{key:"pluginName",get:function(){return"Image"}}]),e}(St),em=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.buttonView=new Ln(r),t._fileInputView=new tm(r),t._fileInputView.bind("acceptedType").to(O(t)),t._fileInputView.bind("allowMultipleFiles").to(O(t)),t._fileInputView.delegate("done").to(O(t)),t.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[t.buttonView,t._fileInputView]}),t.buttonView.on("execute",function(){t._fileInputView.open()}),t}return E(e,[{key:"focus",value:function(){this.buttonView.focus()}}]),e}(Rr),tm=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r),t.set("acceptedType"),t.set("allowMultipleFiles",!1);var i=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(function(){t.element&&t.element.files&&t.element.files.length&&t.fire("done",t.element.files),t.element.value=""})}}),t}return E(e,[{key:"open",value:function(){this.element.click()}}]),e}(Rr);function Ff(a){var n=a.map(function(e){return e.replace("+","\\+")});return new RegExp("^image\\/(".concat(n.join("|"),")$"))}var rm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.t;t.ui.componentFactory.add("imageUpload",function(o){var s=new em(o),l=t.commands.get("imageUpload"),u=t.config.get("image.upload.types"),c=Ff(u);return s.set({acceptedType:u.map(function(d){return"image/"+d}).join(","),allowMultipleFiles:!0}),s.buttonView.set({label:i("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),s.buttonView.bind("isEnabled").to(l),s.on("done",function(d,f){var h=Array.from(f).filter(function(k){return c.test(k.type)});h.length&&t.execute("imageUpload",{file:h})}),s})}}]),e}(St);j(65),j(67),j(69);var nm=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),t}return E(e,[{key:"init",value:function(){var t=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",function(){return t.uploadStatusChange.apply(t,arguments)})}},{key:"uploadStatusChange",value:function(t,i,o){var s=this.editor,l=i.item,u=l.getAttribute("uploadId");if(!!o.consumable.consume(i.item,t.name)){var c=s.plugins.get(Ri),d=u?i.attributeNewValue:null,f=this.placeholder,h=s.editing.mapper.toViewElement(l),k=o.writer;if(d=="reading")return Lf(h,k),void Bf(f,h,k);if(d=="uploading"){var P=c.loaders.get(u);return Lf(h,k),void(P?(Vf(h,k),function(A,I,G,Z){var q=function(ae){var be=ae.createUIElement("div",{class:"ck-progress-bar"});return ae.setCustomProperty("progressBar",!0,be),be}(I);I.insert(I.createPositionAt(A,"end"),q),G.on("change:uploadedPercent",function(ae,be,Re){Z.change(function(Ne){Ne.setStyle("width",Re+"%",q)})})}(h,k,P,s.editing.view),function(A,I,G){if(G.data){var Z=Vo(A);I.setAttribute("src",G.data,Z)}}(h,k,P)):Bf(f,h,k))}d=="complete"&&c.loaders.get(u)&&function(A,I,G){var Z=I.createUIElement("div",{class:"ck-image-upload-complete-icon"});I.insert(I.createPositionAt(A,"end"),Z),setTimeout(function(){G.change(function(q){return q.remove(q.createRangeOn(Z))})},3e3)}(h,k,s.editing.view),function(A,I){Uf(A,I,"progressBar")}(h,k),Vf(h,k),function(A,I){I.removeClass("ck-appear",A)}(h,k)}}}]),e}(St);function Lf(a,n){a.hasClass("ck-appear")||n.addClass("ck-appear",a)}function Bf(a,n,e){n.hasClass("ck-image-upload-placeholder")||e.addClass("ck-image-upload-placeholder",n);var r=Vo(n);r.getAttribute("src")!==a&&e.setAttribute("src",a,r),zf(n,"placeholder")||e.insert(e.createPositionAfter(r),function(t){var i=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,i),i}(e))}function Vf(a,n){a.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",a),Uf(a,n,"placeholder")}function zf(a,n){var e=p(a.getChildren()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.getCustomProperty(n))return t}}catch(i){e.e(i)}finally{e.f()}}function Uf(a,n,e){var r=zf(a,e);r&&n.remove(n.createRangeOn(r))}var Vl=function(){function a(n){C(this,a),this.document=n}return E(a,[{key:"createDocumentFragment",value:function(e){return new Bt(this.document,e)}},{key:"createElement",value:function(e,r,t){return new xi(this.document,e,r,t)}},{key:"createText",value:function(e){return new tt(this.document,e)}},{key:"clone",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e._clone(r)}},{key:"appendChild",value:function(e,r){return r._appendChild(e)}},{key:"insertChild",value:function(e,r,t){return t._insertChild(e,r)}},{key:"removeChildren",value:function(e,r,t){return t._removeChildren(e,r)}},{key:"remove",value:function(e){var r=e.parent;return r?this.removeChildren(r.getChildIndex(e),1,r):[]}},{key:"replace",value:function(e,r){var t=e.parent;if(t){var i=t.getChildIndex(e);return this.removeChildren(i,1,t),this.insertChild(i,r,t),!0}return!1}},{key:"unwrapElement",value:function(e){var r=e.parent;if(r){var t=r.getChildIndex(e);this.remove(e),this.insertChild(t,e.getChildren(),r)}}},{key:"rename",value:function(e,r){var t=new xi(this.document,e,r.getAttributes(),r.getChildren());return this.replace(r,t)?t:null}},{key:"setAttribute",value:function(e,r,t){t._setAttribute(e,r)}},{key:"removeAttribute",value:function(e,r){r._removeAttribute(e)}},{key:"addClass",value:function(e,r){r._addClass(e)}},{key:"removeClass",value:function(e,r){r._removeClass(e)}},{key:"setStyle",value:function(e,r,t){Pe(e)&&t===void 0&&(t=r),t._setStyle(e,r)}},{key:"removeStyle",value:function(e,r){r._removeStyle(e)}},{key:"setCustomProperty",value:function(e,r,t){t._setCustomProperty(e,r)}},{key:"removeCustomProperty",value:function(e,r){return r._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,r){return Tt._createAt(e,r)}},{key:"createPositionAfter",value:function(e){return Tt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Tt._createBefore(e)}},{key:"createRange",value:function(e,r){return new Cr(e,r)}},{key:"createRangeOn",value:function(e){return Cr._createOn(e)}},{key:"createRangeIn",value:function(e){return Cr._createIn(e)}},{key:"createSelection",value:function(e,r,t){return new pr(e,r,t)}}]),a}(),im=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){this.isEnabled=cf(this.editor.model)}},{key:"execute",value:function(t){var i=this.editor,o=i.model,s=i.plugins.get(Ri);o.change(function(l){var u=Array.isArray(t.file)?t.file:[t.file],c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;am(l,o,s,f)}}catch(h){c.e(h)}finally{c.f()}})}}]),e}(Gr);function am(a,n,e,r){var t=e.createLoader(r);t&&uf(a,n,{uploadId:t.id})}var om=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),r.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),t}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document,s=i.model.schema,l=i.conversion,u=i.plugins.get(Ri),c=Ff(i.config.get("image.upload.types"));s.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),i.commands.add("imageUpload",new im(i)),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",function(d,f){if(h=f.dataTransfer,!(Array.from(h.types).includes("text/html")&&h.getData("text/html")!=="")){var h,k=Array.from(f.dataTransfer.files).filter(function(A){return!!A&&c.test(A.type)}),P=f.targetRanges.map(function(A){return i.editing.mapper.toModelRange(A)});i.model.change(function(A){A.setSelection(P),k.length&&(d.stop(),i.model.enqueueChange("default",function(){i.execute("imageUpload",{file:k})}))})}}),this.listenTo(i.plugins.get(ys),"inputTransformation",function(d,f){var h=Array.from(i.editing.view.createRangeIn(f.content)).filter(function(Z){return!(!(q=Z.item).is("element","img")||!q.getAttribute("src"))&&(q.getAttribute("src").match(/^data:image\/\w+;base64,/g)||q.getAttribute("src").match(/^blob:/g))&&!Z.item.getAttribute("uploadProcessed");var q}).map(function(Z){return{promise:(q=Z.item,new Promise(function(ae,be){var Re=q.getAttribute("src");fetch(Re).then(function(Ne){return Ne.blob()}).then(function(Ne){var Ze=function(Jt,Dt){return Jt.type?Jt.type:Dt.match(/data:(image\/\w+);base64/)?Dt.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(Ne,Re),_t=Ze.replace("image/",""),Rt=new File([Ne],"image."+_t,{type:Ze});ae(Rt)}).catch(be)})),imageElement:Z.item};var q});if(!!h.length){var k=new Vl(i.editing.view.document),P=p(h),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;k.setAttribute("uploadProcessed",!0,I.imageElement);var G=u.createLoader(I.promise);G&&(k.setAttribute("src","",I.imageElement),k.setAttribute("uploadId",G.id,I.imageElement))}}catch(Z){P.e(Z)}finally{P.f()}}}),i.editing.view.document.on("dragover",function(d,f){f.preventDefault()}),o.on("change",function(){var d=o.differ.getChanges({includeChangesInGraveyard:!0}),f=p(d),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;if(k.type=="insert"&&k.name!="$text"){var P=k.position.nodeAfter,A=k.position.root.rootName=="$graveyard",I=p(sm(i,P)),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value,q=Z.getAttribute("uploadId");if(!!q){var ae=u.loaders.get(q);ae&&(A?ae.abort():ae.status=="idle"&&t._readAndUpload(ae,Z))}}}catch(be){I.e(be)}finally{I.f()}}}}catch(be){f.e(be)}finally{f.f()}})}},{key:"_readAndUpload",value:function(t,i){var o=this,s=this.editor,l=s.model,u=s.locale.t,c=s.plugins.get(Ri),d=s.plugins.get(Vu);return l.enqueueChange("transparent",function(h){h.setAttribute("uploadStatus","reading",i)}),t.read().then(function(){var h=t.upload();if(y.isSafari){var k=Vo(s.editing.mapper.toViewElement(i));s.editing.view.once("render",function(){if(!!k.parent){var P=s.editing.view.domConverter.mapViewToDom(k.parent);if(!!P){var A=P.style.display;P.style.display="none",P._ckHack=P.offsetHeight,P.style.display=A}}})}return l.enqueueChange("transparent",function(P){P.setAttribute("uploadStatus","uploading",i)}),h}).then(function(h){l.enqueueChange("transparent",function(k){k.setAttributes({uploadStatus:"complete",src:h.default},i),o._parseAndSetSrcsetAttributeOnImage(h,i,k)}),f()}).catch(function(h){if(t.status!=="error"&&t.status!=="aborted")throw h;t.status=="error"&&h&&d.showWarning(h,{title:u("Upload failed"),namespace:"upload"}),f(),l.enqueueChange("transparent",function(k){k.remove(i)})});function f(){l.enqueueChange("transparent",function(h){h.removeAttribute("uploadId",i),h.removeAttribute("uploadStatus",i)}),c.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,i,o){var s=0,l=Object.keys(t).filter(function(u){var c=parseInt(u,10);if(!isNaN(c))return s=Math.max(s,c),!0}).map(function(u){return"".concat(t[u]," ").concat(u,"w")}).join(", ");l!=""&&o.setAttribute("srcset",{data:l,width:s},i)}}],[{key:"requires",get:function(){return[Ri,Vu,ys]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),e}(St);function sm(a,n){return Array.from(a.model.createRangeOn(n)).filter(function(e){return e.item.is("image")}).map(function(e){return e.item})}var Wf=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[om,rm,nm]}}]),e}(St),lm=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.modelElements=t,i}return E(e,[{key:"refresh",value:function(){var t=this,i=_a(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(function(o){return Hf(i,o,t.editor.model.schema)})}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document,s=t.value;i.change(function(l){var u=Array.from(o.selection.getSelectedBlocks()).filter(function(h){return Hf(h,s,i.schema)}),c=p(u),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f.is(s)||l.rename(f,s)}}catch(h){c.e(h)}finally{c.f()}})}}]),e}(Gr);function Hf(a,n,e){return e.checkChild(a.parent,n)&&!e.isObject(a)}var um=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),r.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),t}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.config.get("heading.options"),o=[],s=p(i),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.model!=="paragraph"&&(t.model.schema.register(u.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(u),o.push(u.model))}}catch(c){s.e(c)}finally{s.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new lm(t,o))}},{key:"afterInit",value:function(){var t=this.editor,i=t.commands.get("enter"),o=t.config.get("heading.options");i&&this.listenTo(i,"afterExecute",function(s,l){var u=t.model.document.selection.getFirstPosition().parent;o.some(function(c){return u.is(c.model)})&&!u.is("paragraph")&&u.childCount===0&&l.writer.rename(u,"paragraph")})}},{key:"_addDefaultH1Conversion",value:function(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ca.get("low")+1})}}],[{key:"pluginName",get:function(){return"HeadingEditing"}},{key:"requires",get:function(){return[ul]}}]),e}(St),Qu=function a(n,e){C(this,a),e&&va(this,e),n&&this.set(n)};rr(Qu,nn),j(11);var cm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t,s=function(c){var d=c.t,f={Paragraph:d("Paragraph"),"Heading 1":d("Heading 1"),"Heading 2":d("Heading 2"),"Heading 3":d("Heading 3"),"Heading 4":d("Heading 4"),"Heading 5":d("Heading 5"),"Heading 6":d("Heading 6")};return c.config.get("heading.options").map(function(h){var k=f[h.title];return k&&k!=h.title&&(h.title=k),h})}(i),l=o("Choose heading"),u=o("Heading");i.ui.componentFactory.add("heading",function(c){var d={},f=new Un,h=i.commands.get("heading"),k=i.commands.get("paragraph"),P=[h],A=p(s),I;try{var G=function(){var ae=I.value,be={type:"button",model:new Qu({label:ae.title,class:ae.class,withText:!0})};ae.model==="paragraph"?(be.model.bind("isOn").to(k,"value"),be.model.set("commandName","paragraph"),P.push(k)):(be.model.bind("isOn").to(h,"value",function(Re){return Re===ae.model}),be.model.set({commandName:"heading",commandValue:ae.model})),f.add(be),d[ae.model]=ae.title};for(A.s();!(I=A.n()).done;)G()}catch(q){A.e(q)}finally{A.f()}var Z=bs(c);return Sd(Z,f),Z.buttonView.set({isOn:!1,withText:!0,tooltip:u}),Z.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),Z.bind("isEnabled").toMany(P,"isEnabled",function(){for(var q=arguments.length,ae=new Array(q),be=0;be<q;be++)ae[be]=arguments[be];return ae.some(function(Re){return Re})}),Z.buttonView.bind("label").to(h,"value",k,"value",function(q,ae){var be=q||ae&&"paragraph";return d[be]?d[be]:l}),t.listenTo(Z,"execute",function(q){i.execute(q.source.commandName,q.source.commandValue?{value:q.source.commandValue}:void 0),i.editing.view.focus()}),Z})}}]),e}(St);function Zu(a){var n=p(a.getChildren()),e;try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r&&r.is("caption"))return r}}catch(t){n.e(t)}finally{n.f()}return null}function dm(a){var n=a.parent;return a.name=="figcaption"&&n&&n.name=="figure"&&n.hasClass("image")?{name:!0}:null}var fm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.editing.view,s=i.model.schema,l=i.data,u=i.editing,c=i.t;s.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),i.model.document.registerPostFixer(function(f){return t._insertMissingModelCaptionElement(f)}),i.conversion.for("upcast").elementToElement({view:dm,model:"caption"}),l.downcastDispatcher.on("insert:caption",Kf(function(f){return f.createContainerElement("figcaption")},!1));var d=function(f,h){return function(k){var P=k.createEditableElement("figcaption");return k.setCustomProperty("imageCaption",!0,P),sd({view:f,element:P,text:h}),ju(P,k)}}(o,c("Enter image caption"));u.downcastDispatcher.on("insert:caption",Kf(d)),u.downcastDispatcher.on("insert",this._fixCaptionVisibility(function(f){return f.item}),{priority:"high"}),u.downcastDispatcher.on("remove",this._fixCaptionVisibility(function(f){return f.position.parent}),{priority:"high"}),o.document.registerPostFixer(function(f){return t._updateCaptionVisibility(f)})}},{key:"_updateCaptionVisibility",value:function(t){var i=this.editor.editing.mapper,o=this._lastSelectedCaption,s,l=this.editor.model.document.selection,u=l.getSelectedElement();if(u&&u.is("image")){var c=Zu(u);s=i.toViewElement(c)}var d=Gf(l.getFirstPosition().parent);if(d&&(s=i.toViewElement(d)),s)return o?(o===s||($f(o,t),this._lastSelectedCaption=s),Yf(s,t)):(this._lastSelectedCaption=s,Yf(s,t));if(o){var f=$f(o,t);return this._lastSelectedCaption=null,f}return!1}},{key:"_fixCaptionVisibility",value:function(t){var i=this;return function(o,s,l){var u=Gf(t(s)),c=i.editor.editing.mapper,d=l.writer;if(u){var f=c.toViewElement(u);f&&(u.childCount?d.removeClass("ck-hidden",f):d.addClass("ck-hidden",f))}}}},{key:"_insertMissingModelCaptionElement",value:function(t){var i=this.editor.model,o=i.document.differ.getChanges(),s=[],l=p(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.type=="insert"&&c.name!="$text"){var d=c.position.nodeAfter;if(d.is("image")&&!Zu(d)&&s.push(d),!d.is("image")&&d.childCount){var f=p(i.createRangeIn(d).getItems()),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;k.is("image")&&!Zu(k)&&s.push(k)}}catch(G){f.e(G)}finally{f.f()}}}}}catch(G){l.e(G)}finally{l.f()}for(var P=0,A=s;P<A.length;P++){var I=A[P];t.appendElement("caption",I)}return!!s.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),e}(St);function Kf(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(e,r,t){var i=r.item;if((i.childCount||n)&&Ll(i.parent)){if(!t.consumable.consume(r.item,"insert"))return;var o=t.mapper.toViewElement(r.range.start.parent),s=a(t.writer),l=t.writer;i.childCount||l.addClass("ck-hidden",s),function(u,c,d,f){var h=f.writer.createPositionAt(d,"end");f.writer.insert(h,u),f.mapper.bindElements(c,u)}(s,r.item,o,t)}}}function Gf(a){var n=a.getAncestors({includeSelf:!0}).find(function(e){return e.name=="caption"});return n&&n.parent&&n.parent.name=="image"?n:null}function $f(a,n){return!a.childCount&&!a.hasClass("ck-hidden")&&(n.addClass("ck-hidden",a),!0)}function Yf(a,n){return!!a.hasClass("ck-hidden")&&(n.removeClass("ck-hidden",a),!0)}j(72);var hm=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.defaultStyle=!1,i.styles=t.reduce(function(o,s){return o[s.name]=s,s.isDefault&&(i.defaultStyle=s.name),o},{}),i}return E(e,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Ll(t),t)if(t.hasAttribute("imageStyle")){var i=t.getAttribute("imageStyle");this.value=!!this.styles[i]&&i}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(t){var i=this,o=t.value,s=this.editor.model,l=s.document.selection.getSelectedElement();s.change(function(u){i.styles[o].isDefault?u.removeAttribute("imageStyle",l):u.setAttribute("imageStyle",o,l)})}}]),e}(Gr);function Jf(a,n){var e=p(n),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.name===a)return t}}catch(i){e.e(i)}finally{e.f()}}var Qf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',Zf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',Xf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',Xu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',zl={full:{name:"full",title:"Full size image",icon:Qf,isDefault:!0},side:{name:"side",title:"Side image",icon:Xu,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Zf,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Xf,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:Xu,className:"image-style-align-right"}},qf={full:Qf,left:Zf,right:Xu,center:Xf};function eh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return a.map(vm)}function vm(a){if(typeof a=="string"){var n=a;zl[n]?a=Object.assign({},zl[n]):(console.warn(Object(me.a)("image-style-not-found: There is no such image style of given name."),{name:n}),a={name:n})}else if(zl[a.name]){var e=zl[a.name],r=Object.assign({},a);for(var t in e)a.hasOwnProperty(t)||(r[t]=e[t]);a=r}return typeof a.icon=="string"&&qf[a.icon]&&(a.icon=qf[a.icon]),a}var pm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.data,s=t.editing;t.config.define("image.styles",["full","side"]);var l=eh(t.config.get("image.styles"));i.extend("image",{allowAttributes:"imageStyle"});var u=function(c){return function(d,f,h){if(!!h.consumable.consume(f.item,d.name)){var k=Jf(f.attributeNewValue,c),P=Jf(f.attributeOldValue,c),A=h.mapper.toViewElement(f.item),I=h.writer;P&&I.removeClass(P.className,A),k&&I.addClass(k.className,A)}}}(l);s.downcastDispatcher.on("attribute:imageStyle:image",u),o.downcastDispatcher.on("attribute:imageStyle:image",u),o.upcastDispatcher.on("element:figure",function(c){var d=c.filter(function(f){return!f.isDefault});return function(f,h,k){if(!!h.modelRange){var P=h.viewItem,A=_a(h.modelRange.getItems());if(k.schema.checkAttribute(A,"imageStyle")){var I=p(d),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value;k.consumable.consume(P,{classes:Z.className})&&k.writer.setAttribute("imageStyle",Z.name,A)}}catch(q){I.e(q)}finally{I.f()}}}}}(l),{priority:"low"}),t.commands.add("imageStyle",new hm(t,l))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),e}(St);j(74);var gm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"localizedDefaultStylesTitles",get:function(){var t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}},{key:"init",value:function(){var t=function(l,u){var c=p(l),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;u[f.title]&&(f.title=u[f.title])}}catch(h){c.e(h)}finally{c.f()}return l}(eh(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this._createButton(s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"_createButton",value:function(t){var i=this,o=this.editor,s="imageStyle:"+t.name;o.ui.componentFactory.add(s,function(l){var u=o.commands.get("imageStyle"),c=new Ln(l);return c.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(u,"isEnabled"),c.bind("isOn").to(u,"value",function(d){return d===t.name}),i.listenTo(c,"execute",function(){o.execute("imageStyle",{value:t.name}),o.editing.view.focus()}),c})}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),e}(St),Ul=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor;if(i.plugins.has("BalloonToolbar")){var o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",function(s){(function(l){var u=l.getSelectedElement();return!(!u||!xa(u))})(i.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){t._updateToolbarsVisibility()}),this.listenTo(i.ui,"update",function(){t._updateToolbarsVisibility()}),this.listenTo(i.ui.focusTracker,"change:isFocused",function(){t._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this);var t=p(this._toolbarDefinitions.values()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.view.destroy()}}catch(s){t.e(s)}finally{t.f()}}},{key:"register",value:function(t,i){var o=i.ariaLabel,s=i.items,l=i.getRelatedElement,u=i.balloonClassName,c=u===void 0?"ck-toolbar-container":u,d=this.editor,f=d.t,h=new xu(d.locale);if(h.ariaLabel=o||f("Widget toolbar"),this._toolbarDefinitions.has(t))throw new me.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});h.fillFromConfig(s,d.ui.componentFactory),this._toolbarDefinitions.set(t,{view:h,getRelatedElement:l,balloonClassName:c})}},{key:"_updateToolbarsVisibility",value:function(){var t=0,i=null,o=null,s=p(this._toolbarDefinitions.values()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&c)if(this.editor.ui.focusTracker.isFocused){var d=c.getAncestors().length;d>t&&(t=d,i=c,o=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}}catch(f){s.e(f)}finally{s.f()}o&&this._showToolbar(o,i)}},{key:"_hideToolbar",value:function(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(t,i){var o=this;this._isToolbarVisible(t)?th(this.editor,i):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:rh(this.editor,i),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var s=p(o._toolbarDefinitions.values()),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(o._isToolbarVisible(u)){var c=u.getRelatedElement(o.editor.editing.view.document.selection);th(o.editor,c)}}}catch(d){s.e(d)}finally{s.f()}}))}},{key:"_isToolbarVisible",value:function(t){return this._balloon.visibleView===t.view}},{key:"_isToolbarInBalloon",value:function(t){return this._balloon.hasView(t.view)}}],[{key:"requires",get:function(){return[_s]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),e}(St);function th(a,n){var e=a.plugins.get("ContextualBalloon"),r=rh(a,n);e.updatePosition(r)}function rh(a,n){var e=a.editing.view,r=Jr.defaultPositions;return{target:e.domConverter.mapViewToDom(n),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,pg]}}var nh=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._childCommands=[],t}return E(e,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];this._getFirstEnabledCommand().execute(i)}},{key:"registerChildCommand",value:function(t){var i=this;this._childCommands.push(t),t.on("change:isEnabled",function(){return i._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find(function(t){return t.isEnabled})}}]),e}(Gr),mm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new nh(t)),t.commands.add("outdent",new nh(t))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),e}(St),ih='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ah='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',bm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.locale,o=t.t,s=i.uiLanguageDirection=="ltr"?ih:ah,l=i.uiLanguageDirection=="ltr"?ah:ih;this._defineButton("indent",o("Increase indent"),s),this._defineButton("outdent",o("Decrease indent"),l)}},{key:"_defineButton",value:function(t,i,o){var s=this,l=this.editor;l.ui.componentFactory.add(t,function(u){var c=l.commands.get(t),d=new Ln(u);return d.set({label:i,icon:o,tooltip:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),s.listenTo(d,"execute",function(){l.execute(t),l.editing.view.focus()}),d})}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),e}(St),ym=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.domEventType="click",t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ce);j(76);var wm=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e),i=n.call(this,r);var o=r.t;i.focusTracker=new qi,i.keystrokes=new Ha,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),Yu,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),Ju,"ck-button-cancel","cancel"),i._manualDecoratorSwitches=i._createManualDecoratorSwitches(t),i.children=i._createFormChildren(t.manualDecorators),i._focusables=new Bo,i._focusCycler=new ms({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var s=["ck","ck-link-form"];return t.manualDecorators.length&&s.push("ck-link-form_layout-vertical"),i.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:i.children}),i}return E(e,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce(function(t,i){return t[i.name]=i.isOn,t},{})}},{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),$u({view:this}),[this.urlInputView].concat(z(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var t=this.locale.t,i=new Ku(this.locale,Gu);return i.label=t("Link URL"),i.fieldView.placeholder="https://example.com",i}},{key:"_createButton",value:function(t,i,o,s){var l=new Ln(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}},{key:"_createManualDecoratorSwitches",value:function(t){var i=this,o=this.createCollection(),s=p(t.manualDecorators),l;try{var u=function(){var d=l.value,f=new _u(i.locale);f.set({name:d.id,label:d.label,withText:!0}),f.bind("isOn").toMany([d,t],"value",function(h,k){return k===void 0&&h===void 0?d.defaultValue:h}),f.on("execute",function(){d.set("value",!f.isOn)}),o.add(f)};for(s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return o}},{key:"_createFormChildren",value:function(t){var i=this.createCollection();if(i.add(this.urlInputView),t.length){var o=new Rr;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(function(s){return{tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}}}),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(o)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}]),e}(Rr);j(78);var km=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=r.t;return t.focusTracker=new qi,t.keystrokes=new Ha,t.previewButtonView=t._createPreviewButton(),t.unlinkButtonView=t._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),t.editButtonView=t._createButton(i("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),t.set("href"),t._focusables=new Bo,t._focusCycler=new ms({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[t.previewButtonView,t.editButtonView,t.unlinkButtonView]}),t}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(t,i,o){var s=new Ln(this.locale);return s.set({label:t,icon:i,tooltip:!0}),s.delegate("execute").to(this,o),s}},{key:"_createPreviewButton",value:function(){var t=new Ln(this.locale),i=this.bindTemplate,o=this.t;return t.set({withText:!0,tooltip:o("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",function(s){return s&&kf(s)}),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",function(s){return s||o("This link has no URL")}),t.bind("isEnabled").to(this,"href",function(s){return!!s}),t.template.tag="a",t.template.eventListeners={},t}}]),e}(Rr),_m=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor;t.editing.view.addObserver(ym),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(_s),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var t=this,i=this.editor,o=new km(i.locale),s=i.commands.get("link"),l=i.commands.get("unlink");return o.bind("href").to(s,"value"),o.editButtonView.bind("isEnabled").to(s),o.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(o,"edit",function(){t._addFormView()}),this.listenTo(o,"unlink",function(){i.execute("unlink"),t._hideUI()}),o.keystrokes.set("Esc",function(u,c){t._hideUI(),c()}),o.keystrokes.set("Ctrl+K",function(u,c){t._addFormView(),c()}),o}},{key:"_createFormView",value:function(){var t=this,i=this.editor,o=i.commands.get("link"),s=new wm(i.locale,o);return s.urlInputView.fieldView.bind("value").to(o,"value"),s.urlInputView.bind("isReadOnly").to(o,"isEnabled",function(l){return!l}),s.saveButtonView.bind("isEnabled").to(o),this.listenTo(s,"submit",function(){i.execute("link",s.urlInputView.fieldView.element.value,s.getDecoratorSwitchesState()),t._closeFormView()}),this.listenTo(s,"cancel",function(){t._closeFormView()}),s.keystrokes.set("Esc",function(l,u){t._closeFormView(),u()}),s}},{key:"_createToolbarLinkButton",value:function(){var t=this,i=this.editor,o=i.commands.get("link"),s=i.t;i.keystrokes.set("Ctrl+K",function(l,u){u(),t._showUI(!0)}),i.ui.componentFactory.add("link",function(l){var u=new Ln(l);return u.isEnabled=!0,u.label=s("Link"),u.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',u.keystroke="Ctrl+K",u.tooltip=!0,u.isToggleable=!0,u.bind("isEnabled").to(o,"isEnabled"),u.bind("isOn").to(o,"value",function(c){return!!c}),t.listenTo(u,"execute",function(){return t._showUI(!0)}),u})}},{key:"_enableUserBalloonInteractions",value:function(){var t=this,i=this.editor.editing.view.document;this.listenTo(i,"click",function(){t._getSelectedLinkElement()&&t._showUI()}),this.editor.keystrokes.set("Tab",function(o,s){t._areActionsVisible&&!t.actionsView.focusTracker.isFocused&&(t.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",function(o,s){t._isUIVisible&&(t._hideUI(),s())}),Il({emitter:this.formView,activator:function(){return t._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return t._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=t.value||""}}},{key:"_closeFormView",value:function(){var t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}},{key:"_showUI",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(!!this._isUIInPanel){var t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}}},{key:"_startUpdatingUI",value:function(){var t=this,i=this.editor,o=i.editing.view.document,s=this._getSelectedLinkElement(),l=c(),u=function(){var f=t._getSelectedLinkElement(),h=c();s&&!f||!s&&h!==l?t._hideUI():t._isUIVisible&&t._balloon.updatePosition(t._getBalloonPositionData()),s=f,l=h};function c(){return o.selection.focus.getAncestors().reverse().find(function(d){return d.is("element")})}this.listenTo(i.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}},{key:"_getBalloonPositionData",value:function(){var t=this.editor.editing.view,i=t.document,o=this._getSelectedLinkElement();return{target:o?t.domConverter.mapViewToDom(o):t.domConverter.viewRangeToDom(i.selection.getFirstRange())}}},{key:"_getSelectedLinkElement",value:function(){var t=this.editor.editing.view,i=t.document.selection;if(i.isCollapsed)return qu(i.getFirstPosition());{var o=i.getFirstRange().getTrimmed(),s=qu(o.start),l=qu(o.end);return s&&s==l&&t.createRangeIn(s).getTrimmed().isEqual(o)?s:null}}}],[{key:"requires",get:function(){return[_s]}},{key:"pluginName",get:function(){return"LinkUI"}}]),e}(St);function qu(a){return a.getAncestors().find(function(n){return(e=n).is("attributeElement")&&!!e.getCustomProperty("link");var e})}var oh=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.type=t,i}return E(e,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks()).filter(function(u){return lh(u,i.schema)}),l=this.value===!0;i.change(function(u){if(l){for(var c=s[s.length-1].nextSibling,d=Number.POSITIVE_INFINITY,f=[];c&&c.name=="listItem"&&c.getAttribute("listIndent")!==0;){var h=c.getAttribute("listIndent");h<d&&(d=h);var k=h-d;f.push({element:c,listIndent:k}),c=c.nextSibling}f=f.reverse();var P=p(f),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;u.setAttribute("listIndent",I.listIndent,I.element)}}catch(Ze){P.e(Ze)}finally{P.f()}}if(!l){var G=Number.POSITIVE_INFINITY,Z=p(s),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value;ae.is("listItem")&&ae.getAttribute("listIndent")<G&&(G=ae.getAttribute("listIndent"))}}catch(Ze){Z.e(Ze)}finally{Z.f()}G=G===0?1:G,sh(s,!0,G),sh(s,!1,G)}var be=p(s.reverse()),Re;try{for(be.s();!(Re=be.n()).done;){var Ne=Re.value;l&&Ne.name=="listItem"?u.rename(Ne,"paragraph"):l||Ne.name=="listItem"?l||Ne.name!="listItem"||Ne.getAttribute("listType")==t.type||u.setAttribute("listType",t.type,Ne):(u.setAttributes({listType:t.type,listIndent:0},Ne),u.rename(Ne,"listItem"))}}catch(Ze){be.e(Ze)}finally{be.f()}})}},{key:"_getValue",value:function(){var t=_a(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,i=this.editor.model.schema,o=_a(t.getSelectedBlocks());return!!o&&lh(o,i)}}]),e}(Gr);function sh(a,n,e){var r=n?a[0]:a[a.length-1];if(r.is("listItem"))for(var t=r[n?"previousSibling":"nextSibling"],i=r.getAttribute("listIndent");t&&t.is("listItem")&&t.getAttribute("listIndent")>=e;)i>t.getAttribute("listIndent")&&(i=t.getAttribute("listIndent")),t.getAttribute("listIndent")==i&&a[n?"unshift":"push"](t),t=t[n?"previousSibling":"nextSibling"]}function lh(a,n){return n.checkChild(a.parent,"listItem")&&!n.isObject(a)}var uh=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i._indentBy=t=="forward"?1:-1,i}return E(e,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks());i.change(function(l){for(var u=s[s.length-1],c=u.nextSibling;c&&c.name=="listItem"&&c.getAttribute("listIndent")>u.getAttribute("listIndent");)s.push(c),c=c.nextSibling;t._indentBy<0&&(s=s.reverse());var d=p(s),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,k=h.getAttribute("listIndent")+t._indentBy;k<0?l.rename(h,"paragraph"):l.setAttribute("listIndent",k,h)}}catch(P){d.e(P)}finally{d.f()}})}},{key:"_checkEnabled",value:function(){var t=_a(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){for(var i=t.getAttribute("listIndent"),o=t.getAttribute("listType"),s=t.previousSibling;s&&s.is("listItem")&&s.getAttribute("listIndent")>=i;){if(s.getAttribute("listIndent")==i)return s.getAttribute("listType")==o;s=s.previousSibling}return!1}return!0}}]),e}(Gr);function xm(a,n){var e=n.mapper,r=n.writer,t=a.getAttribute("listType")=="numbered"?"ol":"ul",i=function(s){var l=s.createContainerElement("li");return l.getFillerOffset=Om,l}(r),o=r.createContainerElement(t,null);return r.insert(r.createPositionAt(o,0),i),e.bindElements(a,i),i}function ch(a,n,e,r){var t=n.parent,i=e.mapper,o=e.writer,s=i.toViewPosition(r.createPositionBefore(a)),l=fh(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),u=a.previousSibling;if(l&&l.getAttribute("listIndent")==a.getAttribute("listIndent")){var c=i.toViewElement(l);s=o.breakContainer(o.createPositionAfter(c))}else s=u&&u.name=="listItem"?i.toViewPosition(r.createPositionAt(u,"end")):i.toViewPosition(r.createPositionBefore(a));if(s=dh(s),o.insert(s,t),u&&u.name=="listItem"){var d=i.toViewElement(u),f=o.createRange(o.createPositionAt(d,0),s).getWalker({ignoreElementEnd:!0}),h=p(f),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;if(P.item.is("li")){var A=o.breakContainer(o.createPositionBefore(P.item)),I=P.item.parent,G=o.createPositionAt(n,"end");Di(o,G.nodeBefore,G.nodeAfter),o.move(o.createRangeOn(I),G),f.position=A}}}catch(Ze){h.e(Ze)}finally{h.f()}}else{var Z=t.nextSibling;if(Z&&(Z.is("ul")||Z.is("ol"))){var q=null,ae=p(Z.getChildren()),be;try{for(ae.s();!(be=ae.n()).done;){var Re=be.value,Ne=i.toModelElement(Re);if(!(Ne&&Ne.getAttribute("listIndent")>a.getAttribute("listIndent")))break;q=Re}}catch(Ze){ae.e(Ze)}finally{ae.f()}q&&(o.breakContainer(o.createPositionAfter(q)),o.move(o.createRangeOn(q.parent),o.createPositionAt(n,"end")))}}Di(o,t,t.nextSibling),Di(o,t.previousSibling,t)}function Di(a,n,e){return!n||!e||n.name!="ul"&&n.name!="ol"||n.name!=e.name||n.getAttribute("class")!==e.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(n))}function dh(a){return a.getLastMatchingPosition(function(n){return n.item.is("uiElement")})}function fh(a,n){for(var e=!!n.sameIndent,r=!!n.smallerIndent,t=n.listIndent,i=a;i&&i.name=="listItem";){var o=i.getAttribute("listIndent");if(e&&t==o||r&&t>o)return i;i=i.previousSibling}return null}function hh(a,n,e,r){a.ui.componentFactory.add(n,function(t){var i=a.commands.get(n),o=new Ln(t);return o.set({label:e,icon:r,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),o.on("execute",function(){a.execute(n),a.editing.view.focus()}),o})}function Om(){var a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:Co.call(this)}function vh(a){return function(n,e,r){var t=r.consumable;if(!(!t.test(e.item,"insert")||!t.test(e.item,"attribute:listType")||!t.test(e.item,"attribute:listIndent"))){t.consume(e.item,"insert"),t.consume(e.item,"attribute:listType"),t.consume(e.item,"attribute:listIndent");var i=e.item;ch(i,xm(i,r),r,a)}}}function Pm(a,n,e){if(!!e.consumable.consume(n.item,"attribute:listType")){var r=e.mapper.toViewElement(n.item),t=e.writer;t.breakContainer(t.createPositionBefore(r)),t.breakContainer(t.createPositionAfter(r));var i=r.parent,o=n.attributeNewValue=="numbered"?"ol":"ul";t.rename(o,i)}}function Em(a,n,e){var r=e.mapper.toViewElement(n.item).parent,t=e.writer;Di(t,r,r.nextSibling),Di(t,r.previousSibling,r);var i=p(n.item.getChildren()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;e.consumable.consume(s,"insert")}}catch(l){i.e(l)}finally{i.f()}}function ph(a,n,e){if(n.item.name!="listItem"){for(var r=e.mapper.toViewPosition(n.range.start),t=e.writer,i=[];(r.parent.name=="ul"||r.parent.name=="ol")&&(r=t.breakContainer(r),r.parent.name=="li");){var o=r,s=t.createPositionAt(r.parent,"end");if(!o.isEqual(s)){var l=t.remove(t.createRange(o,s));i.push(l)}r=t.createPositionAfter(r.parent)}if(i.length>0){for(var u=0;u<i.length;u++){var c=r.nodeBefore;if(r=t.insert(r,i[u]).end,u>0){var d=Di(t,c,c.nextSibling);d&&d.parent==c&&r.offset--}}Di(t,r.nodeBefore,r.nodeAfter)}}}function Cm(a,n,e){var r=e.mapper.toViewPosition(n.position),t=r.nodeBefore,i=r.nodeAfter;Di(e.writer,t,i)}function Am(a,n,e){if(e.consumable.consume(n.viewItem,{name:!0})){var r=e.writer,t=r.createElement("listItem"),i=function(u){for(var c=0,d=u.parent;d;){if(d.is("li"))c++;else{var f=d.previousSibling;f&&f.is("li")&&c++}d=d.parent}return c}(n.viewItem);r.setAttribute("listIndent",i,t);var o=n.viewItem.parent&&n.viewItem.parent.name=="ol"?"numbered":"bulleted";r.setAttribute("listType",o,t);var s=e.splitToAllowedParent(t,n.modelCursor);if(!s)return;r.insert(t,s.position);var l=function(u,c,d){var f=d.writer,h=d.schema,k=f.createPositionAfter(u),P=p(c),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;if(I.name=="ul"||I.name=="ol")k=d.convertItem(I,k).modelCursor;else{var G=d.convertItem(I,f.createPositionAt(u,"end")),Z=G.modelRange.start.nodeAfter;Z&&Z.is("element")&&!h.checkChild(u,Z.name)&&(u=G.modelCursor.parent.is("listItem")?G.modelCursor.parent:Mm(G.modelCursor),k=f.createPositionAfter(u))}}}catch(q){P.e(q)}finally{P.f()}return k}(t,n.viewItem.getChildren(),e);n.modelRange=r.createRange(n.modelCursor,l),s.cursorParent?n.modelCursor=r.createPositionAt(s.cursorParent,0):n.modelCursor=n.modelRange.end}}function gh(a,n,e){if(e.consumable.test(n.viewItem,{name:!0}))for(var r=Array.from(n.viewItem.getChildren()),t=0,i=r;t<i.length;t++){var o=i[t];!(o.is("li")||zo(o))&&o._remove()}}function Sm(a,n,e){if(e.consumable.test(n.viewItem,{name:!0})){if(n.viewItem.childCount===0)return;var r=z(n.viewItem.getChildren()),t=!1,i=!0,o=p(r),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;t&&!zo(l)&&l._remove(),l.is("text")?(i&&(l._data=l.data.replace(/^\s+/,"")),l.nextSibling&&!zo(l.nextSibling)||(l._data=l.data.replace(/\s+$/,""))):zo(l)&&(t=!0),i=!1}}catch(u){o.e(u)}finally{o.f()}}}function mh(a){return function(n,e){if(!e.isPhantom){var r=e.modelPosition.nodeBefore;if(r&&r.is("listItem")){var t=e.mapper.toViewElement(r),i=t.getAncestors().find(zo),o=a.createPositionAt(t,0).getWalker(),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.type=="elementStart"&&u.item.is("li")){e.viewPosition=u.previousPosition;break}if(u.type=="elementEnd"&&u.item==i){e.viewPosition=u.nextPosition;break}}}catch(c){s.e(c)}finally{s.f()}}}}}function Tm(a,n){var e=H(n,2),r=e[0],t=e[1],i,o=r.is("documentFragment")?r.getChild(0):r;if(i=t?this.createSelection(t):this.document.selection,o&&o.is("listItem")){var s=i.getFirstPosition(),l=null;if(s.parent.is("listItem")?l=s.parent:s.nodeBefore&&s.nodeBefore.is("listItem")&&(l=s.nodeBefore),l){var u=l.getAttribute("listIndent");if(u>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+u),o=o.nextSibling}}}function Mm(a){var n=new Wa({startPosition:a}),e;do e=n.next();while(!e.value.item.is("listItem"));return e.value.item}function bh(a,n,e,r,t,i){var o=fh(n.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a,foo:"b"}),s=t.mapper,l=t.writer,u=o?o.getAttribute("listIndent"):null,c;if(o)if(u==a){var d=s.toViewElement(o).parent;c=l.createPositionAfter(d)}else{var f=i.createPositionAt(o,"end");c=s.toViewPosition(f)}else c=e;c=dh(c);for(var h=0,k=z(r.getChildren());h<k.length;h++){var P=k[h];zo(P)&&(c=l.move(l.createRangeOn(P),c).end,Di(l,P,P.nextSibling),Di(l,P.previousSibling,P))}}function zo(a){return a.is("ol")||a.is("ul")}var Im=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var o=i.data,s=i.editing,l;i.model.document.registerPostFixer(function(d){return function(f,h){var k=f.document.differ.getChanges(),P=new Map,A=!1,I=p(k),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value;if(Z.type=="insert"&&Z.name=="listItem")Rt(Z.position);else if(Z.type=="insert"&&Z.name!="listItem"){if(Z.name!="$text"){var q=Z.position.nodeAfter;q.hasAttribute("listIndent")&&(h.removeAttribute("listIndent",q),A=!0),q.hasAttribute("listType")&&(h.removeAttribute("listType",q),A=!0);var ae=p(Array.from(f.createRangeIn(q)).filter(function(Et){return Et.item.is("listItem")})),be;try{for(ae.s();!(be=ae.n()).done;){var Re=be.value;Rt(Re.previousPosition)}}catch(Et){ae.e(Et)}finally{ae.f()}}Rt(Z.position.getShiftedBy(Z.length))}else Z.type=="remove"&&Z.name=="listItem"?Rt(Z.position):(Z.type=="attribute"&&Z.attributeKey=="listIndent"||Z.type=="attribute"&&Z.attributeKey=="listType")&&Rt(Z.range.start)}}catch(Et){I.e(Et)}finally{I.f()}var Ne=p(P.values()),Ze;try{for(Ne.s();!(Ze=Ne.n()).done;){var _t=Ze.value;Jt(_t),Dt(_t)}}catch(Et){Ne.e(Et)}finally{Ne.f()}return A;function Rt(Et){var Xt=Et.nodeBefore;if(Xt&&Xt.is("listItem")){var Qt=Xt;if(P.has(Qt))return;for(var wr=Qt.previousSibling;wr&&wr.is("listItem");wr=Qt.previousSibling)if(Qt=wr,P.has(Qt))return;P.set(Xt,Qt)}else{var xn=Et.nodeAfter;xn&&xn.is("listItem")&&P.set(xn,xn)}}function Jt(Et){for(var Xt=0,Qt=null;Et&&Et.is("listItem");){var wr=Et.getAttribute("listIndent");if(wr>Xt){var xn=void 0;Qt===null?(Qt=wr-Xt,xn=Xt):(Qt>wr&&(Qt=wr),xn=wr-Qt),h.setAttribute("listIndent",xn,Et),A=!0}else Qt=null,Xt=Et.getAttribute("listIndent")+1;Et=Et.nextSibling}}function Dt(Et){for(var Xt=[],Qt=null;Et&&Et.is("listItem");){var wr=Et.getAttribute("listIndent");if(Qt&&Qt.getAttribute("listIndent")>wr&&(Xt=Xt.slice(0,wr+1)),wr!=0)if(Xt[wr]){var xn=Xt[wr];Et.getAttribute("listType")!=xn&&(h.setAttribute("listType",xn,Et),A=!0)}else Xt[wr]=Et.getAttribute("listType");Qt=Et,Et=Et.nextSibling}}}(i.model,d)}),s.mapper.registerViewToModelLength("li",ec),o.mapper.registerViewToModelLength("li",ec),s.mapper.on("modelToViewPosition",mh(s.view)),s.mapper.on("viewToModelPosition",(l=i.model,function(d,f){var h=f.viewPosition,k=h.parent,P=f.mapper;if(k.name=="ul"||k.name=="ol"){if(h.isAtEnd){var A=P.toModelElement(h.nodeBefore),I=P.getModelLength(h.nodeBefore);f.modelPosition=l.createPositionBefore(A).getShiftedBy(I)}else{var G=P.toModelElement(h.nodeAfter);f.modelPosition=l.createPositionBefore(G)}d.stop()}else if(k.name=="li"&&h.nodeBefore&&(h.nodeBefore.name=="ul"||h.nodeBefore.name=="ol")){for(var Z=P.toModelElement(k),q=1,ae=h.nodeBefore;ae&&zo(ae);)q+=P.getModelLength(ae),ae=ae.previousSibling;f.modelPosition=l.createPositionBefore(Z).getShiftedBy(q),d.stop()}})),o.mapper.on("modelToViewPosition",mh(s.view)),i.conversion.for("editingDowncast").add(function(d){d.on("insert",ph,{priority:"high"}),d.on("insert:listItem",vh(i.model)),d.on("attribute:listType:listItem",Pm,{priority:"high"}),d.on("attribute:listType:listItem",Em,{priority:"low"}),d.on("attribute:listIndent:listItem",function(f){return function(h,k,P){if(!!P.consumable.consume(k.item,"attribute:listIndent")){var A=P.mapper.toViewElement(k.item),I=P.writer;I.breakContainer(I.createPositionBefore(A)),I.breakContainer(I.createPositionAfter(A));var G=A.parent,Z=G.previousSibling,q=I.createRangeOn(G);I.remove(q),Z&&Z.nextSibling&&Di(I,Z,Z.nextSibling),bh(k.attributeOldValue+1,k.range.start,q.start,A,P,f),ch(k.item,A,P,f);var ae=p(k.item.getChildren()),be;try{for(ae.s();!(be=ae.n()).done;){var Re=be.value;P.consumable.consume(Re,"insert")}}catch(Ne){ae.e(Ne)}finally{ae.f()}}}}(i.model)),d.on("remove:listItem",function(f){return function(h,k,P){var A=P.mapper.toViewPosition(k.position).getLastMatchingPosition(function(Ze){return!Ze.item.is("li")}).nodeAfter,I=P.writer;I.breakContainer(I.createPositionBefore(A)),I.breakContainer(I.createPositionAfter(A));var G=A.parent,Z=G.previousSibling,q=I.createRangeOn(G),ae=I.remove(q);Z&&Z.nextSibling&&Di(I,Z,Z.nextSibling),bh(P.mapper.toModelElement(A).getAttribute("listIndent")+1,k.position,q.start,A,P,f);var be=p(I.createRangeIn(ae).getItems()),Re;try{for(be.s();!(Re=be.n()).done;){var Ne=Re.value;P.mapper.unbindViewElement(Ne)}}catch(Ze){be.e(Ze)}finally{be.f()}h.stop()}}(i.model)),d.on("remove",Cm,{priority:"low"})}),i.conversion.for("dataDowncast").add(function(d){d.on("insert",ph,{priority:"high"}),d.on("insert:listItem",vh(i.model))}),i.conversion.for("upcast").add(function(d){d.on("element:ul",gh,{priority:"high"}),d.on("element:ol",gh,{priority:"high"}),d.on("element:li",Sm,{priority:"high"}),d.on("element:li",Am)}),i.model.on("insertContent",Tm,{priority:"high"}),i.commands.add("numberedList",new oh(i,"numbered")),i.commands.add("bulletedList",new oh(i,"bulleted")),i.commands.add("indentList",new uh(i,"forward")),i.commands.add("outdentList",new uh(i,"backward"));var u=s.view.document;this.listenTo(u,"enter",function(d,f){var h=t.editor.model.document,k=h.selection.getLastPosition().parent;h.selection.isCollapsed&&k.name=="listItem"&&k.isEmpty&&(t.editor.execute("outdentList"),f.preventDefault(),d.stop())}),this.listenTo(u,"delete",function(d,f){if(f.direction==="backward"){var h=t.editor.model.document.selection;if(!!h.isCollapsed){var k=h.getFirstPosition();if(!!k.isAtStart){var P=k.parent;P.name==="listItem"&&(P.previousSibling&&P.previousSibling.name==="listItem"||(t.editor.execute("outdentList"),f.preventDefault(),d.stop()))}}}},{priority:"high"});var c=function(f){return function(h,k){t.editor.commands.get(f).isEnabled&&(t.editor.execute(f),k())}};i.keystrokes.set("Tab",c("indentList")),i.keystrokes.set("Shift+Tab",c("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,i=t.get("indent"),o=t.get("outdent");i&&i.registerChildCommand(t.get("indentList")),o&&o.registerChildCommand(t.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[ul]}}]),e}(St);function ec(a){var n=1,e=p(a.getChildren()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.name=="ul"||t.name=="ol"){var i=p(t.getChildren()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;n+=ec(s)}}catch(l){i.e(l)}finally{i.f()}}}}catch(l){e.e(l)}finally{e.f()}return n}var jm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor.t;hh(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),hh(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}]),e}(St);function yh(a,n){return function(r){r.on("attribute:url:media",e)};function e(r,t,i){if(!!i.consumable.consume(t.item,r.name)){var o=t.attributeNewValue,s=i.writer,l=i.mapper.toViewElement(t.item),u=z(l.getChildren()).find(function(d){return d.getCustomProperty("media-content")});s.remove(u);var c=a.getMediaViewElement(s,o,n);s.insert(s.createPositionAt(l,0),c)}}}function wh(a,n,e,r){var t=a.createContainerElement("figure",{class:"media"});return t.getFillerOffset=Rm,a.insert(a.createPositionAt(t,0),n.getMediaViewElement(a,e,r)),t}function kh(a){var n=a.getSelectedElement();return n&&n.is("media")?n:null}function _h(a,n,e){a.change(function(r){var t=r.createElement("media",{url:n});a.insertContent(t,e),r.setSelection(t,"on")})}function Rm(){return null}var Dm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document.selection,o=t.schema,s=i.getFirstPosition(),l=kh(i),u=s.parent;u!=u.root&&(u=u.parent),this.value=l?l.getAttribute("url"):null,this.isEnabled=o.checkChild(u,"media")}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection,s=kh(o);if(s)i.change(function(u){u.setAttribute("url",t,s)});else{var l=Fl(o,i);_h(i,t,l)}}}]),e}(Gr),Nm=function(){function a(n,e){C(this,a);var r=e.providers,t=e.extraProviders||[],i=new Set(e.removeProviders),o=r.concat(t).filter(function(s){var l=s.name;return l?!i.has(l):(console.warn(Object(me.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:s}),!1)});this.locale=n,this.providerDefinitions=o}return E(a,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,r,t){return this._getMedia(r).getViewElement(e,t)}},{key:"_getMedia",value:function(e){if(!e)return new xh(this.locale);e=e.trim();var r=p(this.providerDefinitions),t;try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.html,s=i.url;Array.isArray(s)||(s=[s]);var l=p(s),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=this._getUrlMatches(e,c);if(d)return new xh(this.locale,e,d,o)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){r.e(f)}finally{r.f()}return null}},{key:"_getUrlMatches",value:function(e,r){var t=e.match(r);if(t)return t;var i=e.replace(/^https?:\/\//,"");return t=i.match(r),t||(i=i.replace(/^www\./,""),t=i.match(r),t||null)}}]),a}(),xh=function(){function a(n,e,r,t){C(this,a),this.url=this._getValidUrl(e),this._t=n.t,this._match=r,this._previewRenderer=t}return E(a,[{key:"getViewElement",value:function(e,r){var t={},i;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(t["data-oembed-url"]=this.url),r.renderForEditingView&&(t.class="ck-media__wrapper");var o=this._getPreviewHtml(r);i=e.createUIElement("div",t,function(s){var l=this.toDomElement(s);return l.innerHTML=o,l})}else this.url&&(t.url=this.url),i=e.createEmptyElement("oembed",t);return e.setCustomProperty("media-content",!0,i),i}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new Od,r=new Ml;return e.text=this._t("Open media in new tab"),r.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',r.viewBox="0 0 64 42",new ea({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[r]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),a}();j(80);var Wl=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),r.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),t.registry=new Nm(r.locale,r.config.get("mediaEmbed")),t}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.t,s=t.conversion,l=t.config.get("mediaEmbed.previewsInData"),u=this.registry;t.commands.add("mediaEmbed",new Dm(t)),i.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),s.for("dataDowncast").elementToElement({model:"media",view:function(d,f){var h=d.getAttribute("url");return wh(f,u,h,{renderMediaPreview:h&&l})}}),s.for("dataDowncast").add(yh(u,{renderMediaPreview:l})),s.for("editingDowncast").elementToElement({model:"media",view:function(d,f){var h=d.getAttribute("url"),k=wh(f,u,h,{renderForEditingView:!0});return P=k,A=f,I=o("media widget"),A.setCustomProperty("media",!0,P),Iu(P,A,{label:I});var P,A,I}}),s.for("editingDowncast").add(yh(u,{renderForEditingView:!0})),s.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(d,f){var h=d.getAttribute("url");if(u.hasMedia(h))return f.createElement("media",{url:h})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(d,f){var h=d.getAttribute("data-oembed-url");if(u.hasMedia(h))return f.createElement("media",{url:h})}})}}],[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),e}(St),Fm=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,Lm=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._timeoutId=null,t._positionToInsert=null,t}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document;this.listenTo(i.plugins.get(ys),"inputTransformation",function(){var s=o.selection.getFirstRange(),l=ui.fromPosition(s.start);l.stickiness="toPrevious";var u=ui.fromPosition(s.end);u.stickiness="toNext",o.once("change:data",function(){t._embedMediaBetweenPositions(l,u),l.detach(),u.detach()},{priority:"high"})}),i.commands.get("undo").on("execute",function(){t._timeoutId&&(Tn.window.clearTimeout(t._timeoutId),t._positionToInsert.detach(),t._timeoutId=null,t._positionToInsert=null)},{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(t,i){var o=this,s=this.editor,l=s.plugins.get(Wl).registry,u=new vs(t,i),c=u.getWalker({ignoreElementEnd:!0}),d="",f=p(c),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;k.item.is("textProxy")&&(d+=k.item.data)}}catch(P){f.e(P)}finally{f.f()}if(d=d.trim(),!d.match(Fm)||!l.hasMedia(d))return void u.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ui.fromPosition(t),this._timeoutId=Tn.window.setTimeout(function(){s.model.change(function(P){var A;o._timeoutId=null,P.remove(u),u.detach(),o._positionToInsert.root.rootName!=="$graveyard"&&(A=o._positionToInsert),_h(s.model,d,A),o._positionToInsert.detach(),o._positionToInsert=null})},100)):u.detach()}}],[{key:"requires",get:function(){return[ys,Qd]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),e}(St);j(82);var Bm=function(a){T(e,a);var n=D(e);function e(r,t){var i;C(this,e),i=n.call(this,t);var o=t.t;return i.focusTracker=new qi,i.keystrokes=new Ha,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),Yu,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),Ju,"ck-button-cancel","cancel"),i._focusables=new Bo,i._focusCycler=new ms({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i._validators=r,i.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[i.urlInputView,i.saveButtonView,i.cancelButtonView]}),i}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),$u({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(function(o){t._focusables.add(o),t.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);var i=function(s){return s.stopPropagation()};this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",function(o,s){s.stopPropagation()},{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(t){this.urlInputView.fieldView.element.value=t.trim()}},{key:"isValid",value:function(){this.resetFormStatus();var t=p(this._validators),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o(this);if(s)return this.urlInputView.errorText=s,!1}}catch(l){t.e(l)}finally{t.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var t=this,i=this.locale.t,o=new Ku(this.locale,Gu),s=o.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),o.label=i("Media URL"),o.infoText=this._urlInputViewInfoDefault,s.placeholder="https://example.com",s.on("input",function(){o.infoText=s.element.value?t._urlInputViewInfoTip:t._urlInputViewInfoDefault}),o}},{key:"_createButton",value:function(t,i,o,s){var l=new Ln(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}}]),e}(Rr),Vm=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.commands.get("mediaEmbed"),s=i.plugins.get(Wl).registry;i.ui.componentFactory.add("mediaEmbed",function(l){var u=bs(l),c=new Bm(function(d,f){return[function(h){if(!h.url.length)return d("The URL must not be empty.")},function(h){if(!f.hasMedia(h.url))return d("This media URL is not supported.")}]}(i.t,s),i.locale);return t._setUpDropdown(u,c,o,i),t._setUpForm(u,c,o),u})}},{key:"_setUpDropdown",value:function(t,i,o){var s=this.editor,l=s.t,u=t.buttonView;function c(){s.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(o),t.panelView.children.add(i),u.set({label:l("Insert media"),icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>
`,tooltip:!0}),u.on("open",function(){i.url=o.value||"",i.urlInputView.fieldView.select(),i.focus()},{priority:"low"}),t.on("submit",function(){i.isValid()&&(s.execute("mediaEmbed",i.url),c())}),t.on("change:isOpen",function(){return i.resetFormStatus()}),t.on("cancel",function(){return c()})}},{key:"_setUpForm",value:function(t,i,o){i.delegate("submit","cancel").to(t),i.urlInputView.bind("value").to(o,"value"),i.urlInputView.bind("isReadOnly").to(o,"isEnabled",function(s){return!s}),i.saveButtonView.bind("isEnabled").to(o)}}],[{key:"requires",get:function(){return[Wl]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),e}(St);j(84);function zm(a,n){if(!!a.childCount){var e=new Vl(a.document),r=function(o,s){var l=s.createRangeIn(o),u=new Sr({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),c=[],d=p(l),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h.type==="elementStart"&&u.match(h.item)){var k=Um(h.item);c.push({element:h.item,id:k.id,order:k.order,indent:k.indent})}}}catch(P){d.e(P)}finally{d.f()}return c}(a,e);if(!!r.length){var t=null,i=1;r.forEach(function(o,s){var l=function(G,Z){if(!G||G.id!==Z.id)return!0;var q=Z.element.previousSibling;if(!q)return!0;return ae=q,!(ae.is("ol")||ae.is("ul"));var ae}(r[s-1],o),u=l?null:r[s-1],c=(f=o,(d=u)?f.indent-d.indent:f.indent-1),d,f;if(l&&(t=null,i=1),!t||c!==0){var h=function(G,Z){var q=new RegExp("@list l".concat(G.id,":level").concat(G.indent,"\\s*({[^}]*)"),"gi"),ae=/mso-level-number-format:([^;]*);/gi,be=q.exec(Z),Re="decimal";if(be&&be[1]){var Ne=ae.exec(be[1]);Ne&&Ne[1]&&(Re=Ne[1].trim())}return{type:Re!=="bullet"&&Re!=="image"?"ol":"ul",style:Re}}(o,n);if(t){if(o.indent>i){var k=t.getChild(t.childCount-1),P=k.getChild(k.childCount-1);t=Oh(h,P,e),i+=1}else if(o.indent<i){var A=i-o.indent;t=function(G,Z){var q=G.getAncestors({parentFirst:!0}),ae=null,be=0,Re=p(q),Ne;try{for(Re.s();!(Ne=Re.n()).done;){var Ze=Ne.value;if(Ze.name!=="ul"&&Ze.name!=="ol"||be++,be===Z){ae=Ze;break}}}catch(_t){Re.e(_t)}finally{Re.f()}return ae}(t,A),i=parseInt(o.indent)}}else t=Oh(h,o.element,e);o.indent<=i&&(t.is(h.type)||(t=e.rename(h.type,t)))}var I=function(G,Z){return function(q,ae){var be=new Sr({name:"span",styles:{"mso-list":"Ignore"}}),Re=ae.createRangeIn(q),Ne=p(Re),Ze;try{for(Ne.s();!(Ze=Ne.n()).done;){var _t=Ze.value;_t.type==="elementStart"&&be.match(_t.item)&&ae.remove(_t.item)}}catch(Rt){Ne.e(Rt)}finally{Ne.f()}}(G,Z),Z.rename("li",G)}(o.element,e);e.appendChild(I,t)})}}}function Oh(a,n,e){var r=n.parent,t=e.createElement(a.type),i=r.getChildIndex(n)+1;return e.insertChild(i,t,r),t}function Um(a){var n={},e=a.getStyle("mso-list");if(e){var r=e.match(/(^|\s+)l(\d+)/i),t=e.match(/\s*lfo(\d+)/i),i=e.match(/\s*level(\d+)/i);r&&t&&i&&(n.id=r[2],n.order=t[1],n.indent=i[1])}return n}var Wm=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Hm=function(){function a(n){C(this,a),this.document=n}return E(a,[{key:"isActive",value:function(e){return Wm.test(e)}},{key:"execute",value:function(e){var r=new Vl(this.document);(function(t,i){var o=p(t.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.is("b")&&l.getStyle("font-weight")==="normal"){var u=t.getChildIndex(l);i.remove(l),i.insertChild(u,l.getChildren(),t)}}}catch(c){o.e(c)}finally{o.f()}})(e.content,r),function(t,i){var o=p(i.createRangeIn(t)),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.item;if(u.is("li")){var c=u.getChild(0);c.is("p")&&i.unwrapElement(c)}}}catch(d){o.e(d)}finally{o.f()}}(e.content,r)}}]),a}();function Ph(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(n,e){return e.length===1?" ":Array(e.length+1).join("\xA0 ").substr(0,e.length)})}function Km(a,n){var e=new DOMParser,r=function(l){return Ph(Ph(l)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(l){var u=l.match(/<\/body>(.*?)(<\/html>|$)/);return u&&u[1]&&(l=l.slice(0,u.index)+l.slice(u.index).replace(u[1],"")),l}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),t=e.parseFromString(r,"text/html");(function(l){l.querySelectorAll("span[style*=spacerun]").forEach(function(u){var c=u.innerText.length||0;u.innerHTML=Array(c+1).join("\xA0 ").substr(0,c)})})(t);var i=t.body.innerHTML,o=function(l,u){for(var c=new Zn(u),d=new ls(c,{blockFillerMode:"nbsp"}),f=l.createDocumentFragment(),h=l.body.childNodes;h.length>0;)f.appendChild(h[0]);return d.domToView(f)}(t,n),s=function(l){for(var u=[],c=[],d=Array.from(l.getElementsByTagName("style")),f=0,h=d;f<h.length;f++){var k=h[f];k.sheet&&k.sheet.cssRules&&k.sheet.cssRules.length&&(u.push(k.sheet),c.push(k.innerHTML))}return{styles:u,stylesString:c.join(" ")}}(t);return{body:o,bodyString:i,styles:s.styles,stylesString:s.stylesString}}function Gm(a,n){if(!!a.childCount){var e=new Vl;(function(t,i,o){var s=o.createRangeIn(i),l=new Sr({name:"img"}),u=[],c=p(s),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;if(l.match(f.item)){var h=f.item,k=h.getAttribute("v:shapes")?h.getAttribute("v:shapes").split(" "):[];k.length&&k.every(function(G){return t.indexOf(G)>-1})?u.push(h):h.getAttribute("src")||u.push(h)}}}catch(G){c.e(G)}finally{c.f()}for(var P=0,A=u;P<A.length;P++){var I=A[P];o.remove(I)}})(function(t,i){var o=i.createRangeIn(t),s=new Sr({name:/v:(.+)/}),l=[],u=p(o),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=d.item,h=f.previousSibling&&f.previousSibling.name||null;s.match(f)&&f.getAttribute("o:gfxdata")&&h!=="v:shapetype"&&l.push(d.item.getAttribute("id"))}}catch(k){u.e(k)}finally{u.f()}return l}(a,e),a,e),function(t,i){var o=i.createRangeIn(t),s=new Sr({name:/v:(.+)/}),l=[],u=p(o),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;s.match(d.item)&&l.push(d.item)}}catch(P){u.e(P)}finally{u.f()}for(var f=0,h=l;f<h.length;f++){var k=h[f];i.remove(k)}}(a,e);var r=function(t,i){var o=i.createRangeIn(t),s=new Sr({name:"img"}),l=[],u=p(o),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;s.match(d.item)&&d.item.getAttribute("src").startsWith("file://")&&l.push(d.item)}}catch(f){u.e(f)}finally{u.f()}return l}(a,e);r.length&&function(t,i,o){if(t.length===i.length)for(var s=0;s<t.length;s++){var l="data:".concat(i[s].type,";base64,").concat((u=i[s].hex,btoa(u.match(/\w{2}/g).map(function(c){return String.fromCharCode(parseInt(c,16))}).join(""))));o.setAttribute("src",l,t[s])}var u}(r,function(t){if(!t)return[];var i=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,o=new RegExp("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),s=t.match(o),l=[];if(s){var u=p(s),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=!1;d.includes("\\pngblip")?f="image/png":d.includes("\\jpegblip")&&(f="image/jpeg"),f&&l.push({hex:d.replace(i,"").replace(/[^\da-fA-F]/g,""),type:f})}}catch(h){u.e(h)}finally{u.f()}}return l}(n),e)}}var $m=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Ym=/xmlns:o="urn:schemas-microsoft-com/i,Jm=function(){function a(n){C(this,a),this.document=n}return E(a,[{key:"isActive",value:function(e){return $m.test(e)||Ym.test(e)}},{key:"execute",value:function(e){var r=Km(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),t=r.body,i=r.stylesString;zm(t,i),Gm(t,e.dataTransfer.getData("text/rtf")),e.content=t}}]),a}();function In(a,n){for(var e=n.parent;e;){if(e.name===a)return e;e=e.parent}}function Yn(a,n,e,r){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;n>t?r.setAttribute(a,n,e):r.removeAttribute(a,e)}function Uo(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=a.createElement("tableCell",e);a.insertElement("paragraph",r),a.insert(r,n)}function tc(a,n){var e=n.parent.parent,r=parseInt(e.getAttribute("headingColumns")||0),t=a.getCellLocation(n),i=t.column;return!!r&&i<r}function Qm(){return function(a){a.on("element:table",function(n,e,r){var t=e.viewItem;if(!!r.consumable.test(t,{name:!0})){var i=function(h){for(var k={headingRows:0,headingColumns:0},P=[],A=[],I,G=0,Z=Array.from(h.getChildren());G<Z.length;G++){var q=Z[G];if(q.name==="tbody"||q.name==="thead"||q.name==="tfoot"){q.name!=="thead"||I||(I=q);var ae=Array.from(q.getChildren()).filter(function(_t){return _t.is("element","tr")}),be=p(ae),Re;try{for(be.s();!(Re=be.n()).done;){var Ne=Re.value;if(Ne.parent.name==="thead"&&Ne.parent===I)k.headingRows++,P.push(Ne);else{A.push(Ne);var Ze=Zm(Ne);Ze>k.headingColumns&&(k.headingColumns=Ze)}}}catch(_t){be.e(_t)}finally{be.f()}}}return k.rows=[].concat(P,A),k}(t),o=i.rows,s=i.headingRows,l=i.headingColumns,u={};l&&(u.headingColumns=l),s&&(u.headingRows=s);var c=r.writer.createElement("table",u),d=r.splitToAllowedParent(c,e.modelCursor);if(d){if(r.writer.insert(c,d.position),r.consumable.consume(t,{name:!0}),o.forEach(function(h){return r.convertItem(h,r.writer.createPositionAt(c,"end"))}),c.isEmpty){var f=r.writer.createElement("tableRow");r.writer.insert(f,r.writer.createPositionAt(c,"end")),Uo(r.writer,r.writer.createPositionAt(f,"end"))}e.modelRange=r.writer.createRange(r.writer.createPositionBefore(c),r.writer.createPositionAfter(c)),d.cursorParent?e.modelCursor=r.writer.createPositionAt(d.cursorParent,0):e.modelCursor=e.modelRange.end}}})}}function Eh(a){return function(n){n.on("element:"+a,function(e,r,t){var i=r.viewItem;if(!!t.consumable.test(i,{name:!0})){var o=t.writer.createElement("tableCell"),s=t.splitToAllowedParent(o,r.modelCursor);if(!!s){t.writer.insert(o,s.position),t.consumable.consume(i,{name:!0});var l=t.writer.createPositionAt(o,0);t.convertChildren(i,l),o.childCount||t.writer.insertElement("paragraph",l),r.modelRange=t.writer.createRange(t.writer.createPositionBefore(o),t.writer.createPositionAfter(o)),r.modelCursor=r.modelRange.end}}})}}function Zm(a){for(var n=0,e=0,r=Array.from(a.getChildren()).filter(function(i){return i.name==="th"||i.name==="td"});e<r.length&&r[e].name==="th";){var t=r[e];n+=parseInt(t.getAttribute("colspan")||1),e++}return n}var mn=function(){function a(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};C(this,a),this.table=n,this.startRow=e.startRow||0,this.endRow=typeof e.endRow=="number"?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column=typeof e.column=="number"?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return E(a,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};var r,t,i;if(this._isSpanned(this._row,this._column))r=this._getSpanned(this._row,this._column),t=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(r,this._column,!0);else{if(r=e.getChild(this._cellIndex),!r)return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();var o=parseInt(r.getAttribute("colspan")||1),s=parseInt(r.getAttribute("rowspan")||1);(o>1||s>1)&&this._recordSpans(this._row,this._column,s,o,r),this._nextCellAtColumn=this._column+o,t=this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(r,this._column,!1,s,o)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t?this.next():i}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_isOverEndRow",value:function(){return this.endRow!==void 0&&this._row>this.endRow}},{key:"_formatOutValue",value:function(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return{done:!1,value:{cell:e,row:this._row,column:r,isSpanned:t,rowspan:i,colspan:o,cellIndex:this._cellIndex}}}},{key:"_shouldSkipRow",value:function(){var e=this._row<this.startRow,r=this._skipRows.has(this._row);return e||r}},{key:"_shouldSkipColumn",value:function(){return this.column!==void 0&&this.column!=this._column}},{key:"_isSpanned",value:function(e,r){return this._spannedCells.has(e)?this._spannedCells.get(e).has(r):!1}},{key:"_getSpanned",value:function(e,r){return this._spannedCells.get(e).get(r)}},{key:"_recordSpans",value:function(e,r,t,i,o){for(var s=r+1;s<=r+i-1;s++)this._markSpannedCell(e,s,o);for(var l=e+1;l<e+t;l++)for(var u=r;u<=r+i-1;u++)this._markSpannedCell(l,u,o)}},{key:"_markSpannedCell",value:function(e,r,t){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(r,t)}}]),a}();function Ch(a){return!!a.getCustomProperty("table")&&xa(a)}function Xm(a){var n=a.getSelectedElement();return n&&Ch(n)?n:null}function qm(a){var n=In("table",a.getFirstPosition());return n&&Ch(n.parent)?n.parent:null}function xs(a){var n=[],e=p((o=a.getRanges(),Array.from(o).sort(eb))),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=t.getContainedElement();i&&i.is("tableCell")&&n.push(i)}}catch(s){e.e(s)}finally{e.f()}var o;return n}function cl(a){var n=[],e=p(a.getRanges()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value,i=In("tableCell",t.start);i&&n.push(i)}}catch(o){e.e(o)}finally{e.f()}return n}function ri(a){var n=xs(a);return n.length?n:cl(a)}function ho(a){return jh(a.map(function(n){return n.parent.index}))}function Os(a){var n=In("table",a[0]);return jh(z(new mn(n)).filter(function(e){return a.includes(e.cell)}).map(function(e){return e.column}))}function Ah(a,n){if(a.length<2||!function(h){var k=In("table",h[0]),P=ho(h),A=parseInt(k.getAttribute("headingRows")||0);if(!Rh(P,A))return!1;var I=parseInt(k.getAttribute("headingColumns")||0);return Rh(Os(h),I)}(a))return!1;var e=new Set,r=new Set,t=0,i=p(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=n.getCellLocation(s),u=l.row,c=l.column,d=parseInt(s.getAttribute("rowspan")||1),f=parseInt(s.getAttribute("colspan")||1);e.add(u),r.add(c),d>1&&e.add(u+d-1),f>1&&r.add(c+f-1),t+=d*f}}catch(h){i.e(h)}finally{i.f()}return function(h,k){var P=Array.from(h.values()),A=Array.from(k.values()),I=Math.max.apply(Math,z(P)),G=Math.min.apply(Math,z(P)),Z=Math.max.apply(Math,z(A)),q=Math.min.apply(Math,z(A));return(I-G+1)*(Z-q+1)}(e,r)==t}function Sh(a,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=[],t=new mn(a,{startRow:e,endRow:n-1}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.row,u=s.rowspan,c=l+u-1;l<n&&n<=c&&r.push(s)}}catch(d){i.e(d)}finally{i.f()}return r}function Th(a,n,e){var r=a.parent,t=r.parent,i=r.index,o=n-i,s={},l=parseInt(a.getAttribute("rowspan"))-o;l>1&&(s.rowspan=l);var u=parseInt(a.getAttribute("colspan")||1);u>1&&(s.colspan=u);var c=i+o,d=z(new mn(t,{startRow:i,endRow:c,includeSpanned:!0})),f,h=p(d),k;try{for(h.s();!(k=h.n()).done;){var P=k.value,A=P.row,I=P.column,G=P.cell,Z=P.cellIndex;if(G===a&&f===void 0&&(f=I),f!==void 0&&f===I&&A===c){var q=t.getChild(A),ae=e.createPositionAt(q,Z);Uo(e,ae,s)}}}catch(be){h.e(be)}finally{h.f()}Yn("rowspan",o,a,e)}function Mh(a,n){var e=[],r=new mn(a),t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.column,l=o.colspan,u=s+l-1;s<n&&n<=u&&e.push(o)}}catch(c){t.e(c)}finally{t.f()}return e}function Ih(a,n,e,r){var t=e-n,i={},o=parseInt(a.getAttribute("colspan"))-t;o>1&&(i.colspan=o);var s=parseInt(a.getAttribute("rowspan")||1);s>1&&(i.rowspan=s),Uo(r,r.createPositionAfter(a),i),Yn("colspan",t,a,r)}function jh(a){var n=a.sort(function(e,r){return e-r});return{first:n[0],last:n[n.length-1]}}function eb(a,n){var e=a.start,r=n.start;return e.isBefore(r)?-1:1}function Rh(a,n){var e=a.first,r=a.last;return e<n==r<n}function Dh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.on("insert:table",function(e,r,t){var i=r.item;if(!!t.consumable.consume(i,"insert")){t.consumable.consume(i,"attribute:headingRows:table"),t.consumable.consume(i,"attribute:headingColumns:table");var o=a&&a.asWidget,s=t.writer.createContainerElement("figure",{class:"table"}),l=t.writer.createContainerElement("table"),u,c,d;t.writer.insert(t.writer.createPositionAt(s,0),l),o&&(c=s,(d=t.writer).setCustomProperty("table",!0,c),u=Iu(c,d,{hasSelectionHandle:!0}));var f=new mn(i),h={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},k=new Map,P=p(f),A;try{for(P.s();!(A=P.n()).done;){var I=A.value,G=I.row,Z=I.cell,q=Hl(Hh(G,h),l,t),ae=i.getChild(G),be=k.get(G)||Uh(ae,G,q,t);k.set(G,be),t.consumable.consume(Z,"insert"),rc(I,h,t.writer.createPositionAt(be,"end"),t,a)}}catch(Ne){P.e(Ne)}finally{P.f()}var Re=t.mapper.toViewPosition(r.range.start);t.mapper.bindElements(i,o?u:s),t.writer.insert(Re,o?u:s)}})}}function Nh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.on("insert:tableRow",function(e,r,t){var i=r.item;if(!!t.consumable.consume(i,"insert")){var o=i.parent,s=$h(t.mapper.toViewElement(o)),l=o.getChildIndex(i),u=new mn(o,{startRow:l,endRow:l}),c={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},d=new Map,f=p(u),h;try{for(f.s();!(h=f.n()).done;){var k=h.value,P=Hl(Hh(l,c),s,t),A=d.get(l)||Uh(i,l,P,t);d.set(l,A),t.consumable.consume(k.cell,"insert"),rc(k,c,t.writer.createPositionAt(A,"end"),t,a)}}catch(I){f.e(I)}finally{f.f()}}})}}function Fh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.on("insert:tableCell",function(e,r,t){var i=r.item;if(!!t.consumable.consume(i,"insert")){var o=i.parent,s=o.parent,l=s.getChildIndex(o),u=new mn(s,{startRow:l,endRow:l}),c={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},d=p(u),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h.cell===i){var k=t.mapper.toViewElement(o);return void rc(h,c,t.writer.createPositionAt(k,o.getChildIndex(i)),t,a)}}}catch(P){d.e(P)}finally{d.f()}}})}}function Lh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=!!a.asWidget;return function(e){return e.on("attribute:headingRows:table",function(r,t,i){var o=t.item;if(!i.consumable.consume(t.item,r.name))return;var s=$h(i.mapper.toViewElement(o)),l=t.attributeOldValue,u=t.attributeNewValue;if(u>l){var c=Array.from(o.getChildren()).filter(function(Re){var Ne=Re.index;return be(Ne,l-1,u)});Gh(c,Hl("thead",s,i),i,"end");var d=p(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,k=p(h.getChildren()),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;Vh(A,"th",i,n)}}catch(Re){k.e(Re)}finally{k.f()}}}catch(Re){d.e(Re)}finally{d.f()}}else{Gh(Array.from(o.getChildren()).filter(function(Re){var Ne=Re.index;return be(Ne,u-1,l)}).reverse(),Hl("tbody",s,i),i,0);var I=new mn(o,{startRow:u&&u-1,endRow:l-1}),G={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},Z=p(I),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value;zh(ae,G,i,n)}}catch(Re){Z.e(Re)}finally{Z.f()}}function be(Re,Ne,Ze){return Re>Ne&&Re<Ze}Kl("thead",s,i),Kl("tbody",s,i)})}}function Bh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=!!a.asWidget;return function(e){return e.on("attribute:headingColumns:table",function(r,t,i){var o=t.item;if(!!i.consumable.consume(t.item,r.name)){var s={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},l=t.attributeOldValue,u=t.attributeNewValue,c=(l>u?l:u)-1,d=p(new mn(o)),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;h.column>c||zh(h,s,i,n)}}catch(k){d.e(k)}finally{d.f()}}})}}function Vh(a,n,e,r){var t=e.writer,i=e.mapper.toViewElement(a);if(!!i){var o;r?(o=ju(t.createEditableElement(n,i.getAttributes()),t),t.insert(t.createPositionAfter(i),o),t.move(t.createRangeIn(i),t.createPositionAt(o,0)),t.remove(t.createRangeOn(i))):o=t.rename(n,i),e.mapper.unbindViewElement(i),e.mapper.bindElements(a,o)}}function zh(a,n,e,r){var t=a.cell,i=Wh(a,n),o=e.mapper.toViewElement(t);o&&o.name!==i&&Vh(t,i,e,r)}function rc(a,n,e,r,t){var i=t&&t.asWidget,o=Wh(a,n),s=i?ju(r.writer.createEditableElement(o),r.writer):r.writer.createContainerElement(o),l=a.cell,u=l.getChild(0),c=l.childCount===1&&u.name==="paragraph";if(r.writer.insert(e,s),c&&!z(u.getAttributeKeys()).length){var d=l.getChild(0),f=r.writer.createPositionAt(s,"end");if(r.consumable.consume(d,"insert"),t.asWidget){var h=r.writer.createContainerElement("span",{style:"display:inline-block"});r.mapper.bindElements(d,h),r.writer.insert(f,h),r.mapper.bindElements(l,s)}else r.mapper.bindElements(l,s),r.mapper.bindElements(d,s)}else r.mapper.bindElements(l,s)}function Uh(a,n,e,r){r.consumable.consume(a,"insert");var t=r.writer.createContainerElement("tr");r.mapper.bindElements(a,t);var i=a.parent.getAttribute("headingRows")||0,o=i>0&&n>=i?n-i:n,s=r.writer.createPositionAt(e,o);return r.writer.insert(s,t),t}function Wh(a,n){var e=a.row,r=a.column,t=n.headingColumns,i=n.headingRows;return i&&i>e||t&&t>r?"th":"td"}function Hh(a,n){return a<n.headingRows?"thead":"tbody"}function Hl(a,n,e){var r=Kh(a,n);return r||function(t,i,o){var s=o.writer.createContainerElement(t),l=o.writer.createPositionAt(i,t=="tbody"?"end":0);return o.writer.insert(l,s),s}(a,n,e)}function Kh(a,n){var e=p(n.getChildren()),r;try{for(e.s();!(r=e.n()).done;){var t=r.value;if(t.name==a)return t}}catch(i){e.e(i)}finally{e.f()}}function Kl(a,n,e){var r=Kh(a,n);r&&r.childCount===0&&e.writer.remove(e.writer.createRangeOn(r))}function Gh(a,n,e,r){var t=p(a),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=e.mapper.toViewElement(o);s&&e.writer.move(e.writer.createRangeOn(s),e.writer.createPositionAt(n,r))}}catch(l){t.e(l)}finally{t.f()}}function $h(a){var n=p(a.getChildren()),e;try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.name==="table")return r}}catch(t){n.e(t)}finally{n.f()}}var tb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document.selection,o=t.schema,s=function(l){var u=l.parent;return u===u.root?u:u.parent}(i.getFirstPosition());this.isEnabled=o.checkChild(s,"table")}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.editor.model,o=i.document.selection,s=this.editor.plugins.get("TableUtils"),l=parseInt(t.rows)||2,u=parseInt(t.columns)||2,c=Fl(o,i);i.change(function(d){var f=s.createTable(d,l,u);i.insertContent(f,c),d.setSelection(d.createPositionAt(f.getNodeByPath([0,0,0]),0))})}}]),e}(Gr),Yh=function(a){T(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C(this,e),t=n.call(this,r),t.order=i.order||"below",t}return E(e,[{key:"refresh",value:function(){var t=In("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}},{key:"execute",value:function(){var t=this.editor,i=t.model.document.selection,o=t.plugins.get("TableUtils"),s=this.order==="above",l=ri(i),u=ho(l),c=s?u.first:u.last,d=In("table",l[0]);o.insertRows(d,{at:s?c:c+1,copyStructureFromAbove:!s})}}]),e}(Gr),Jh=function(a){T(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C(this,e),t=n.call(this,r),t.order=i.order||"right",t}return E(e,[{key:"refresh",value:function(){var t=In("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}},{key:"execute",value:function(){var t=this.editor,i=t.model.document.selection,o=t.plugins.get("TableUtils"),s=this.order==="left",l=ri(i),u=Os(l),c=s?u.first:u.last,d=In("table",l[0]);o.insertColumns(d,{columns:1,at:s?c:c+1})}}]),e}(Gr),Qh=function(a){T(e,a);var n=D(e);function e(r){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C(this,e),t=n.call(this,r),t.direction=i.direction||"horizontally",t}return E(e,[{key:"refresh",value:function(){var t=ri(this.editor.model.document.selection);this.isEnabled=t.length===1}},{key:"execute",value:function(){var t=ri(this.editor.model.document.selection)[0],i=this.direction==="horizontally",o=this.editor.plugins.get("TableUtils");i?o.splitCellHorizontally(t,2):o.splitCellVertically(t,2)}}]),e}(Gr),Gl=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.direction=t.direction,i.isHorizontal=i.direction=="right"||i.direction=="left",i}return E(e,[{key:"refresh",value:function(){var t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=cl(i.document.selection)[0],s=this.value,l=this.direction;i.change(function(u){var c=l=="right"||l=="down",d=c?o:s,f=c?s:o,h=f.parent;(function(Z,q,ae){Zh(Z)||(Zh(q)&&ae.remove(ae.createRangeIn(q)),ae.move(ae.createRangeIn(Z),ae.createPositionAt(q,"end"))),ae.remove(Z)})(f,d,u);var k=t.isHorizontal?"colspan":"rowspan",P=parseInt(o.getAttribute(k)||1),A=parseInt(s.getAttribute(k)||1);if(u.setAttribute(k,P+A,d),u.setSelection(u.createRangeIn(d)),!h.childCount){var I=t.editor.plugins.get("TableUtils"),G=In("table",h);I.removeRows(G,{at:h.index,batch:u.batch})}})}},{key:"_getMergeableCell",value:function(){var t=cl(this.editor.model.document.selection)[0];if(!!t){var i=this.editor.plugins.get("TableUtils"),o=this.isHorizontal?function(u,c,d){var f=u.parent.parent,h=c=="right"?u.nextSibling:u.previousSibling,k=(f.getAttribute("headingColumns")||0)>0;if(!!h){var P=c=="right"?u:h,A=c=="right"?h:u,I=d.getCellLocation(P),G=I.column,Z=d.getCellLocation(A),q=Z.column,ae=parseInt(P.getAttribute("colspan")||1),be=tc(d,P),Re=tc(d,A);if(!(k&&be!=Re))return G+ae===q?h:void 0}}(t,this.direction,i):function(u,c){var d=u.parent,f=d.parent,h=f.getChildIndex(d);if(!(c=="down"&&h===f.childCount-1||c=="up"&&h===0)){var k=parseInt(u.getAttribute("rowspan")||1),P=f.getAttribute("headingRows")||0,A=c=="down"&&h+k===P,I=c=="up"&&h===P;if(!(P&&(A||I))){var G=parseInt(u.getAttribute("rowspan")||1),Z=c=="down"?h+G:h,q=z(new mn(f,{endRow:Z})),ae=q.find(function(Re){return Re.cell===u}).column,be=q.find(function(Re){var Ne=Re.row,Ze=Re.rowspan,_t=Re.column;return _t===ae&&(c=="down"?Ne===Z:Z===Ne+Ze)});return be&&be.cell}}}(t,this.direction);if(!!o){var s=this.isHorizontal?"rowspan":"colspan",l=parseInt(t.getAttribute(s)||1);return parseInt(o.getAttribute(s)||1)===l?o:void 0}}}}]),e}(Gr);function Zh(a){return a.childCount==1&&a.getChild(0).is("paragraph")&&a.getChild(0).isEmpty}var rb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=ri(this.editor.model.document.selection),i=t[0];if(i){var o=In("table",i),s=this.editor.plugins.get("TableUtils").getRows(o)-1,l=ho(t),u=l.first===0&&l.last===s;this.isEnabled=!u}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=ri(i.document.selection),s=ho(o),l=o[0],u=In("table",l),c=this.editor.plugins.get("TableUtils").getCellLocation(l).column,d=i.createBatch();i.enqueueChange(d,function(f){f.setSelection(f.createSelection(u,"on"));var h=s.last-s.first+1;t.editor.plugins.get("TableUtils").removeRows(u,{at:s.first,rows:h,batch:d})}),i.enqueueChange(d,function(f){var h=function(k,P,A){var I=k.getChild(P)||k.getChild(k.childCount-1),G=I.getChild(0),Z=0,q=p(I.getChildren()),ae;try{for(q.s();!(ae=q.n()).done;){var be=ae.value;if(Z>A)return G;G=be,Z+=parseInt(be.getAttribute("colspan")||1)}}catch(Re){q.e(Re)}finally{q.f()}return G}(u,s.first,c);f.setSelection(f.createPositionAt(h,0))})}}]),e}(Gr),nb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=ri(this.editor.model.document.selection),i=t[0];if(i){var o=In("table",i),s=this.editor.plugins.get("TableUtils").getColumns(o),l=Os(t),u=l.first,c=l.last;this.isEnabled=c-u<s-1}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,i=function(h){var k=ri(h),P=k[0],A=k.pop(),I=[P,A];return P.isBefore(A)?I:I.reverse()}(this.editor.model.document.selection),o=H(i,2),s=o[0],l=o[1],u=s.parent.parent,c=z(new mn(u)),d={first:c.find(function(h){return h.cell===s}).column,last:c.find(function(h){return h.cell===l}).column},f=function(h,k,P,A){return parseInt(P.getAttribute("colspan")||1)>1?P:k.previousSibling||P.nextSibling?P.nextSibling||k.previousSibling:A.first?h.reverse().find(function(I){var G=I.column;return G<A.first}).cell:h.reverse().find(function(I){var G=I.column;return G>A.last}).cell}(c,s,l,d);this.editor.model.change(function(h){var k=d.last-d.first+1;t.editor.plugins.get("TableUtils").removeColumns(u,{at:d.first,columns:k}),h.setSelection(h.createPositionAt(f,0))})}}]),e}(Gr),ib=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=this,i=ri(this.editor.model.document.selection),o=i.length>0;this.isEnabled=o,this.value=o&&i.every(function(s){return t._isInHeading(s,s.parent.parent)})}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.forceValue!==this.value){var i=this.editor.model,o=ri(i.document.selection),s=In("table",o[0]),l=ho(o),u=l.first,c=l.last,d=this.value?u:c+1,f=s.getAttribute("headingRows")||0;i.change(function(h){if(d){var k=Sh(s,d,d>f?f:0),P=p(k),A;try{for(P.s();!(A=P.n()).done;){var I=A.value,G=I.cell;Th(G,d,h)}}catch(Z){P.e(Z)}finally{P.f()}}Yn("headingRows",d,s,h,0)})}}},{key:"_isInHeading",value:function(t,i){var o=parseInt(i.getAttribute("headingRows")||0);return!!o&&t.parent.index<o}}]),e}(Gr),ab=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=ri(this.editor.model.document.selection),i=this.editor.plugins.get("TableUtils"),o=t.length>0;this.isEnabled=o,this.value=o&&t.every(function(s){return tc(i,s)})}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.forceValue!==this.value){var i=this.editor.model,o=ri(i.document.selection),s=In("table",o[0]),l=Os(o),u=l.first,c=l.last,d=this.value?u:c+1;i.change(function(f){if(d){var h=Mh(s,d),k=p(h),P;try{for(k.s();!(P=k.n()).done;){var A=P.value,I=A.cell,G=A.column;Ih(I,G,d,f)}}catch(Z){k.e(Z)}finally{k.f()}}Yn("headingColumns",d,s,f,0)})}}}]),e}(Gr),Ps=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"getCellLocation",value:function(t){var i=t.parent,o=i.parent,s=o.getChildIndex(i),l=new mn(o,{startRow:s,endRow:s}),u=p(l),c;try{for(u.s();!(c=u.n()).done;){var d=c.value,f=d.cell,h=d.row,k=d.column;if(f===t)return{row:h,column:k}}}catch(P){u.e(P)}finally{u.f()}}},{key:"createTable",value:function(t,i,o){var s=t.createElement("table");return nc(t,s,0,i,o),s}},{key:"insertRows",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.editor.model,s=i.at||0,l=i.rows||1,u=i.copyStructureFromAbove!==void 0,c=i.copyStructureFromAbove?s-1:s,d=this.getRows(t),f=this.getColumns(t);o.change(function(h){var k=t.getAttribute("headingRows")||0;if(k>s&&h.setAttribute("headingRows",k+l,t),!u&&(s===0||s===d))return void nc(h,t,s,l,f);var P=u?Math.max(s,c):s,A=new mn(t,{endRow:P}),I=new Array(f).fill(1),G=p(A),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value,ae=q.row,be=q.column,Re=q.rowspan,Ne=q.colspan,Ze=q.cell,_t=ae+Re-1,Rt=ae<=c&&c<=_t;ae<s&&s<=_t?(h.setAttribute("rowspan",Re+l,Ze),I[be]=-Ne):u&&Rt&&(I[be]=Ne)}}catch(wr){G.e(wr)}finally{G.f()}for(var Jt=0;Jt<l;Jt++){var Dt=h.createElement("tableRow");h.insert(Dt,t,s);for(var Et=0;Et<I.length;Et++){var Xt=I[Et],Qt=h.createPositionAt(Dt,"end");Xt>0&&Uo(h,Qt,Xt>1?{colspan:Xt}:null),Et+=Math.abs(Xt)-1}}})}},{key:"insertColumns",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.editor.model,l=o.at||0,u=o.columns||1;s.change(function(c){var d=t.getAttribute("headingColumns");l<d&&c.setAttribute("headingColumns",d+u,t);var f=i.getColumns(t);if(l===0||f===l){var h=p(t.getChildren()),k;try{for(h.s();!(k=h.n()).done;){var P=k.value;Es(u,c,c.createPositionAt(P,l?"end":0))}}catch(Rt){h.e(Rt)}finally{h.f()}return}var A=new mn(t,{column:l,includeSpanned:!0}),I=p(A),G;try{for(I.s();!(G=I.n()).done;){var Z=G.value,q=Z.row,ae=Z.cell,be=Z.cellIndex,Re=parseInt(ae.getAttribute("rowspan")||1),Ne=parseInt(ae.getAttribute("colspan")||1);if(be!==l&&Ne>1){if(c.setAttribute("colspan",Ne+u,ae),A.skipRow(q),Re>1)for(var Ze=q+1;Ze<q+Re;Ze++)A.skipRow(Ze)}else{var _t=c.createPositionAt(t.getChild(q),be);Es(u,c,_t)}}}catch(Rt){I.e(Rt)}finally{I.f()}})}},{key:"removeRows",value:function(t,i){var o=this.editor.model,s=i.rows||1,l=i.at,u=l+s-1,c=i.batch||"default";o.enqueueChange(c,function(d){var f=function(ae,be,Re){var Ne=new Map,Ze=[],_t=p(new mn(ae,{endRow:Re})),Rt;try{for(_t.s();!(Rt=_t.n()).done;){var Jt=Rt.value,Dt=Jt.row,Et=Jt.column,Xt=Jt.rowspan,Qt=Jt.cell,wr=Dt+Xt-1;if(Dt>=be&&Dt<=Re&&wr>Re){var xn=Xt-(Re-Dt+1);Ne.set(Et,{cell:Qt,rowspan:xn})}if(Dt<be&&wr>=be){var qn=void 0;qn=wr>=Re?Re-be+1:wr-be+1,Ze.push({cell:Qt,rowspan:Xt-qn})}}}catch(wi){_t.e(wi)}finally{_t.f()}return{cellsToMove:Ne,cellsToTrim:Ze}}(t,l,u),h=f.cellsToMove,k=f.cellsToTrim;h.size&&function(ae,be,Re,Ne){var Ze=z(new mn(ae,{includeSpanned:!0,startRow:be,endRow:be})),_t=ae.getChild(be),Rt,Jt=p(Ze),Dt;try{for(Jt.s();!(Dt=Jt.n()).done;){var Et=Dt.value,Xt=Et.column,Qt=Et.cell,wr=Et.isSpanned;if(Re.has(Xt)){var xn=Re.get(Xt),qn=xn.cell,wi=xn.rowspan,Ho=Rt?Ne.createPositionAfter(Rt):Ne.createPositionAt(_t,0);Ne.move(Ne.createRangeOn(qn),Ho),Yn("rowspan",wi,qn,Ne),Rt=qn}else wr||(Rt=Qt)}}catch(Ni){Jt.e(Ni)}finally{Jt.f()}}(t,u+1,h,d);for(var P=u;P>=l;P--)d.remove(t.getChild(P));var A=p(k),I;try{for(A.s();!(I=A.n()).done;){var G=I.value,Z=G.rowspan,q=G.cell;Yn("rowspan",Z,q,d)}}catch(ae){A.e(ae)}finally{A.f()}(function(ae,be,Re,Ne,Ze){Ne.enqueueChange(Ze,function(_t){var Rt=ae.getAttribute("headingRows")||0;be<Rt&&Yn("headingRows",Re<Rt?Rt-(Re-be+1):be,ae,_t,0)})})(t,l,u,o,c)})}},{key:"removeColumns",value:function(t,i){var o=this,s=this.editor.model,l=i.at,u=i.columns||1,c=i.at+u-1;s.change(function(d){(function(ae,be,Re){var Ne=ae.getAttribute("headingColumns")||0;if(Ne&&be.first<Ne){var Ze=Math.min(Ne-1,be.last)-be.first+1;Re.setAttribute("headingColumns",Ne-Ze,ae)}})(t,{first:l,last:c},d);for(var f=[],h=c;h>=l;h--)for(var k=0,P=z(new mn(t));k<P.length;k++){var A=P[k],I=A.cell,G=A.column,Z=A.colspan;if(G<=h&&Z>1&&G+Z>h)Yn("colspan",Z-1,I,d);else if(G===h){var q=I.parent;d.remove(I),q.childCount||f.push(q.index)}}f.reverse().forEach(function(ae){return o.removeRows(t,{at:ae,batch:d.batch})})})}},{key:"splitCellVertically",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=this.editor.model,s=t.parent.parent,l=parseInt(t.getAttribute("rowspan")||1),u=parseInt(t.getAttribute("colspan")||1);o.change(function(c){if(u>1){var d=Xh(u,i),f=d.newCellsSpan,h=d.updatedSpan;Yn("colspan",h,t,c);var k={};f>1&&(k.colspan=f),l>1&&(k.rowspan=l),Es(u>i?i-1:u-1,c,c.createPositionAfter(t),k)}if(u<i){var P=i-u,A=z(new mn(s)),I=A.find(function(Rt){var Jt=Rt.cell;return Jt===t}),G=I.column,Z=A.filter(function(Rt){var Jt=Rt.cell,Dt=Rt.colspan,Et=Rt.column;return Jt!==t&&Et===G||Et<G&&Et+Dt>G}),q=p(Z),ae;try{for(q.s();!(ae=q.n()).done;){var be=ae.value,Re=be.cell,Ne=be.colspan;c.setAttribute("colspan",Ne+P,Re)}}catch(Rt){q.e(Rt)}finally{q.f()}var Ze={};l>1&&(Ze.rowspan=l),Es(P,c,c.createPositionAfter(t),Ze);var _t=s.getAttribute("headingColumns")||0;_t>G&&Yn("headingColumns",_t+P,s,c)}})}},{key:"splitCellHorizontally",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=this.editor.model,s=t.parent,l=s.parent,u=l.getChildIndex(s),c=parseInt(t.getAttribute("rowspan")||1),d=parseInt(t.getAttribute("colspan")||1);o.change(function(f){if(c>1){var h=z(new mn(l,{startRow:u,endRow:u+c-1,includeSpanned:!0})),k=Xh(c,i),P=k.newCellsSpan,A=k.updatedSpan;Yn("rowspan",A,t,f);var I=h.find(function(Oa){var Ko=Oa.cell;return Ko===t}),G=I.column,Z={};P>1&&(Z.rowspan=P),d>1&&(Z.colspan=d);for(var q=0,ae=h;q<ae.length;q++){var be=ae[q],Re=be.column,Ne=be.row,Ze=be.cellIndex,_t=Re===G,Rt=(Ne+u+A)%P==0;if(Ne>=u+A&&_t&&Rt){var Jt=f.createPositionAt(l.getChild(Ne),Ze);Es(1,f,Jt,Z)}}}if(c<i){var Dt=i-c,Et=z(new mn(l,{startRow:0,endRow:u})),Xt=p(Et),Qt;try{for(Xt.s();!(Qt=Xt.n()).done;){var wr=Qt.value,xn=wr.cell,qn=wr.rowspan,wi=wr.row;if(xn!==t&&wi+qn>u){var Ho=qn+Dt;f.setAttribute("rowspan",Ho,xn)}}}catch(Oa){Xt.e(Oa)}finally{Xt.f()}var Ni={};d>1&&(Ni.colspan=d),nc(f,l,u+1,Dt,1,Ni);var Ei=l.getAttribute("headingRows")||0;Ei>u&&Yn("headingRows",Ei+Dt,l,f)}})}},{key:"getColumns",value:function(t){return z(t.getChild(0).getChildren()).reduce(function(i,o){return i+parseInt(o.getAttribute("colspan")||1)},0)}},{key:"getRows",value:function(t){return t.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),e}(St);function nc(a,n,e,r,t){for(var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=0;o<r;o++){var s=a.createElement("tableRow");a.insert(s,n,e),Es(t,a,a.createPositionAt(s,"end"),i)}}function Es(a,n,e){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},t=0;t<a;t++)Uo(n,e,r)}function Xh(a,n){if(a<n)return{newCellsSpan:1,updatedSpan:1};var e=Math.floor(a/n);return{newCellsSpan:e,updatedSpan:a-e*n+e}}var ob=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=xs(this.editor.model.document.selection);this.isEnabled=Ah(t,this.editor.plugins.get(Ps))}},{key:"execute",value:function(){var t=this.editor.model,i=this.editor.plugins.get(Ps);t.change(function(o){var s=xs(t.document.selection),l=s.shift();o.setSelection(l,0);var u=function(G,Z,q){var ae=0,be=0,Re=p(Z),Ne;try{for(Re.s();!(Ne=Re.n()).done;){var Ze=Ne.value,_t=q.getCellLocation(Ze),Rt=_t.row,Jt=_t.column;ae=ev(Ze,Jt,ae,"colspan"),be=ev(Ze,Rt,be,"rowspan")}}catch(Qt){Re.e(Qt)}finally{Re.f()}var Dt=q.getCellLocation(G),Et=Dt.row,Xt=Dt.column;return{mergeWidth:ae-Xt,mergeHeight:be-Et}}(l,s,i),c=u.mergeWidth,d=u.mergeHeight;Yn("colspan",c,l,o),Yn("rowspan",d,l,o);var f=[],h=p(s),k;try{for(h.s();!(k=h.n()).done;){var P=k.value,A=P.parent;sb(P,l,o),A.childCount||f.push(A.index)}}catch(G){h.e(G)}finally{h.f()}if(f.length){var I=In("table",l);f.reverse().forEach(function(G){return i.removeRows(I,{at:G,batch:o.batch})})}o.setSelection(l,"in")})}}]),e}(Gr);function sb(a,n,e){qh(a)||(qh(n)&&e.remove(e.createRangeIn(n)),e.move(e.createRangeIn(a),e.createPositionAt(n,"end"))),e.remove(a)}function qh(a){return a.childCount==1&&a.getChild(0).is("paragraph")&&a.getChild(0).isEmpty}function ev(a,n,e,r){var t=parseInt(a.getAttribute(r)||1);return Math.max(e,n+t)}var lb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=ri(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){for(var t=this.editor.model,i=ri(t.document.selection),o=ho(i),s=In("table",i[0]),l=[],u=o.first;u<=o.last;u++){var c=p(s.getChild(u).getChildren()),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;l.push(t.createRangeOn(f))}}catch(h){c.e(h)}finally{c.f()}}t.change(function(h){h.setSelection(l)})}}]),e}(Gr),ub=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=ri(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){var t=this.editor.model,i=ri(t.document.selection),o=i[0],s=i.pop(),l=this.editor.plugins.get("TableUtils"),u=l.getCellLocation(o),c=l.getCellLocation(s),d=Math.min(u.column,c.column),f=Math.max(u.column,c.column),h=[],k=p(new mn(In("table",o))),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;A.column>=d&&A.column<=f&&h.push(t.createRangeOn(A.cell))}}catch(I){k.e(I)}finally{k.f()}t.change(function(I){I.setSelection(h)})}}]),e}(Gr);function cb(a){a.document.registerPostFixer(function(n){return function(e,r){var t=r.document.differ.getChanges(),i=!1,o=new Set,s=p(t),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=void 0;u.name=="table"&&u.type=="insert"&&(c=u.position.nodeAfter),u.name!="tableRow"&&u.name!="tableCell"||(c=In("table",u.position)),hb(u)&&(c=In("table",u.range.start)),c&&!o.has(c)&&(i=db(c,e)||i,i=fb(c,e)||i,o.add(c))}}catch(d){s.e(d)}finally{s.f()}return i}(n,a)})}function db(a,n){var e=!1,r=function(s){var l=parseInt(s.getAttribute("headingRows")||0),u=s.childCount,c=[],d=p(new mn(s)),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,k=h.row,P=h.rowspan,A=h.cell;if(!(P<2)){var I=k<l?l:u;if(k+P>I){var G=I-k;c.push({cell:A,rowspan:G})}}}}catch(Z){d.e(Z)}finally{d.f()}return c}(a);if(r.length){e=!0;var t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;Yn("rowspan",o.rowspan,o.cell,n,1)}}catch(s){t.e(s)}finally{t.f()}}return e}function fb(a,n){var e=!1,r=function(Ne){var Ze=new Array(Ne.childCount).fill(0),_t=p(new mn(Ne,{includeSpanned:!0})),Rt;try{for(_t.s();!(Rt=_t.n()).done;){var Jt=Rt.value,Dt=Jt.row;Ze[Dt]++}}catch(Et){_t.e(Et)}finally{_t.f()}return Ze}(a),t=[],i=p(r.entries()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=H(s,2),u=l[0],c=l[1];c||t.push(u)}}catch(Ne){i.e(Ne)}finally{i.f()}if(t.length){e=!0;var d=p(t.reverse()),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;n.remove(a.getChild(h)),r.splice(h,1)}}catch(Ne){d.e(Ne)}finally{d.f()}}var k=r[0];if(!r.every(function(Ne){return Ne===k})){var P=r.reduce(function(Ne,Ze){return Ze>Ne?Ze:Ne},0),A=p(r.entries()),I;try{for(A.s();!(I=A.n()).done;){var G=I.value,Z=H(G,2),q=Z[0],ae=Z[1],be=P-ae;if(be){for(var Re=0;Re<be;Re++)Uo(n,n.createPositionAt(a.getChild(q),"end"));e=!0}}}catch(Ne){A.e(Ne)}finally{A.f()}}return e}function hb(a){var n=a.type==="attribute",e=a.attributeKey;return n&&(e==="headingRows"||e==="colspan"||e==="rowspan")}function vb(a){a.document.registerPostFixer(function(n){return function(e,r){var t=r.document.differ.getChanges(),i=!1,o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.type=="insert"&&l.name=="table"&&(i=pb(l.position.nodeAfter,e)||i),l.type=="insert"&&l.name=="tableRow"&&(i=tv(l.position.nodeAfter,e)||i),l.type=="insert"&&l.name=="tableCell"&&(i=ic(l.position.nodeAfter,e)||i),gb(l)&&(i=ic(l.position.parent,e)||i)}}catch(u){o.e(u)}finally{o.f()}return i}(n,a)})}function pb(a,n){var e=!1,r=p(a.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e=tv(i,n)||e}}catch(o){r.e(o)}finally{r.f()}return e}function tv(a,n){var e=!1,r=p(a.getChildren()),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;e=ic(i,n)||e}}catch(o){r.e(o)}finally{r.f()}return e}function ic(a,n){if(a.childCount==0)return n.insertElement("paragraph",a),!0;var e=Array.from(a.getChildren()).filter(function(o){return o.is("text")}),r=p(e),t;try{for(r.s();!(t=r.n()).done;){var i=t.value;n.wrap(n.createRangeOn(i),"paragraph")}}catch(o){r.e(o)}finally{r.f()}return!!e.length}function gb(a){return!(!a.position||!a.position.parent.is("tableCell"))&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function mb(a){a.document.registerPostFixer(function(){return function(n){var e=n.document.differ,r=new Set,t=0,i=p(e.getChanges()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.type=="insert"||s.type=="remove"?s.position.parent:s.range.start.parent;l.is("tableCell")&&(s.type=="insert"&&t++,bb(l,s.type,t)&&r.add(l))}}catch(f){i.e(f)}finally{i.f()}if(r.size){var u=p(r.values()),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;e.refreshItem(d)}}catch(f){u.e(f)}finally{u.f()}return!0}return!1}(a)})}function bb(a,n,e){if(!Array.from(a.getChildren()).some(function(t){return t.is("paragraph")}))return!1;if(n=="attribute"){var r=Array.from(a.getChild(0).getAttributeKeys()).length;return a.childCount===1&&r<2}return a.childCount<=(n=="insert"?e+1:1)}j(86);var yb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model,o=i.schema,s=t.conversion;o.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),o.extend("$block",{allowIn:"tableCell"}),o.addChildCheck(function(l,u){if(u.name=="table"&&Array.from(l.getNames()).includes("table"))return!1}),s.for("upcast").add(Qm()),s.for("editingDowncast").add(Dh({asWidget:!0})),s.for("dataDowncast").add(Dh()),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(function(l){l.on("element:tr",function(u,c){c.viewItem.isEmpty&&u.stop()},{priority:"high"})}),s.for("editingDowncast").add(Nh({asWidget:!0})),s.for("dataDowncast").add(Nh()),s.for("downcast").add(function(l){return l.on("remove:tableRow",function(u,c,d){u.stop();var f=d.writer,h=d.mapper,k=h.toViewPosition(c.position).getLastMatchingPosition(function(ae){return!ae.item.is("tr")}).nodeAfter,P=k.parent.parent,A=f.createRangeOn(k),I=f.remove(A),G=p(f.createRangeIn(I).getItems()),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;h.unbindViewElement(q)}}catch(ae){G.e(ae)}finally{G.f()}Kl("thead",P,d),Kl("tbody",P,d)},{priority:"higher"})}),s.for("upcast").add(Eh("td")),s.for("upcast").add(Eh("th")),s.for("editingDowncast").add(Fh({asWidget:!0})),s.for("dataDowncast").add(Fh()),s.attributeToAttribute({model:"colspan",view:"colspan"}),s.attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("editingDowncast").add(Bh({asWidget:!0})),s.for("dataDowncast").add(Bh()),s.for("editingDowncast").add(Lh({asWidget:!0})),s.for("dataDowncast").add(Lh()),t.commands.add("insertTable",new tb(t)),t.commands.add("insertTableRowAbove",new Yh(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Yh(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new Jh(t,{order:"left"})),t.commands.add("insertTableColumnRight",new Jh(t,{order:"right"})),t.commands.add("removeTableRow",new rb(t)),t.commands.add("removeTableColumn",new nb(t)),t.commands.add("splitTableCellVertically",new Qh(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Qh(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new ob(t)),t.commands.add("mergeTableCellRight",new Gl(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Gl(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Gl(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Gl(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new ab(t)),t.commands.add("setTableRowHeader",new ib(t)),t.commands.add("selectTableRow",new lb(t)),t.commands.add("selectTableColumn",new ub(t)),cb(i),mb(i),vb(i)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[Ps]}}]),e}(St);j(88);var wb=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isToggleable",!1),t.set("isVisible",!0),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.children=t.createCollection(),t.actionView=t._createActionView(),t.arrowView=t._createArrowView(),t.keystrokes=new Ha,t.focusTracker=new qi,t.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.if("isVisible","ck-hidden",function(o){return!o}),t.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:t.children}),t}return E(e,[{key:"render",value:function(){var t=this;m(S(e.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(i,o){t.focusTracker.focusedElement===t.actionView.element&&(t.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",function(i,o){t.focusTracker.focusedElement===t.arrowView.element&&(t.actionView.focus(),o())})}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var t=new Ln;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}},{key:"_createArrowView",value:function(){var t=new Ln,i=t.bindTemplate;return t.icon=Pd,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":i.to("isOn",function(o){return String(o)})}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}]),e}(Rr);j(90);var kb=function(a){T(e,a);var n=D(e);function e(r){var t;C(this,e),t=n.call(this,r);var i=t.bindTemplate;return t.items=t._createGridCollection(),t.set("rows",0),t.set("columns",0),t.bind("label").to(O(t),"columns",O(t),"rows",function(o,s){return"".concat(s," \xD7 ").concat(o)}),t.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:t.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:i.to("label")}]}],on:{mousedown:i.to(function(o){o.preventDefault()}),click:i.to(function(){t.fire("execute")})}}),t.on("boxover",function(o,s){var l=s.target.dataset,u=l.row,c=l.column;t.set({rows:parseInt(u),columns:parseInt(c)})}),t.on("change:columns",function(){t._highlightGridBoxes()}),t.on("change:rows",function(){t._highlightGridBoxes()}),t}return E(e,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var t=this.rows,i=this.columns;this.items.map(function(o,s){var l=Math.floor(s/10)<t&&s%10<i;o.set("isOn",l)})}},{key:"_createGridCollection",value:function(){for(var t=[],i=0;i<100;i++){var o=Math.floor(i/10),s=i%10;t.push(new _b(this.locale,o+1,s+1))}return this.createCollection(t)}}]),e}(Rr),_b=function(a){T(e,a);var n=D(e);function e(r,t,i){var o;C(this,e),o=n.call(this,r);var s=o.bindTemplate;return o.set("isOn",!1),o.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",s.if("isOn","ck-on")],"data-row":t,"data-column":i}}),o}return e}(Rr),xb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=this.editor.t,s=i.locale.contentLanguageDirection==="ltr";i.ui.componentFactory.add("insertTable",function(l){var u=i.commands.get("insertTable"),c=bs(l),d;return c.bind("isEnabled").to(u),c.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),c.on("change:isOpen",function(){d||(d=new kb(l),c.panelView.children.add(d),d.delegate("execute").to(c),c.buttonView.on("open",function(){d.rows=0,d.columns=0}),c.on("execute",function(){i.execute("insertTable",{rows:d.rows,columns:d.columns}),i.editing.view.focus()}))}),c}),i.ui.componentFactory.add("tableColumn",function(l){var u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return t._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,l)}),i.ui.componentFactory.add("tableRow",function(l){var u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return t._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,l)}),i.ui.componentFactory.add("mergeTableCells",function(l){var u=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return t._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,l)})}},{key:"_prepareDropdown",value:function(t,i,o,s){var l=this.editor,u=bs(s),c=this._fillDropdownWithListOptions(u,o);return u.buttonView.set({label:t,icon:i,tooltip:!0}),u.bind("isEnabled").toMany(c,"isEnabled",function(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return f.some(function(k){return k})}),this.listenTo(u,"execute",function(d){l.execute(d.source.commandName),l.editing.view.focus()}),u}},{key:"_prepareMergeSplitButtonDropdown",value:function(t,i,o,s){var l=this.editor,u=bs(s,wb);return this._fillDropdownWithListOptions(u,o),u.buttonView.set({label:t,icon:i,tooltip:!0,isEnabled:!0}),this.listenTo(u.buttonView,"execute",function(){l.execute("mergeTableCells"),l.editing.view.focus()}),this.listenTo(u,"execute",function(c){l.execute(c.source.commandName),l.editing.view.focus()}),u}},{key:"_fillDropdownWithListOptions",value:function(t,i){var o=this.editor,s=[],l=new Un,u=p(i),c;try{for(u.s();!(c=u.n()).done;){var d=c.value;Ob(d,o,s,l)}}catch(f){u.e(f)}finally{u.f()}return Sd(t,l,o.ui.componentFactory),s}}]),e}(St);function Ob(a,n,e,r){var t=a.model=new Qu(a.model),i=a.model,o=i.commandName,s=i.bindIsOn;if(a.type==="button"||a.type==="switchbutton"){var l=n.commands.get(o);e.push(l),t.set({commandName:o}),t.bind("isEnabled").to(l),s&&t.bind("isOn").to(l,"value")}t.set({withText:!0}),r.add(a)}var Pb=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.domEventType=["mousemove","mouseup","mouseleave"],t}return E(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(ce);function rv(a,n,e,r){for(var t=n.startRow,i=n.startColumn,o=n.endRow,s=n.endColumn,l=e.createElement("table"),u=o-t+1,c=0;c<u;c++)e.insertElement("tableRow",l,"end");var d=z(new mn(a,{startRow:t,endRow:o,includeSpanned:!0})),f=p(d),h;try{for(f.s();!(h=f.n()).done;){var k=h.value,P=k.row,A=k.column,I=k.cell,G=k.isSpanned;if(!(A<i||A>s)){var Z=P-t,q=l.getChild(Z);if(G){var ae=r.getCellLocation(I),be=ae.row,Re=ae.column;(be<t||Re<i)&&Uo(e,e.createPositionAt(q,"end"))}else{var Ne=I._clone(!0);e.append(Ne,q),nv(Ne,P,A,o,s,e)}}}}catch(Ze){f.e(Ze)}finally{f.f()}return function(Ze,_t,Rt,Jt,Dt){var Et=parseInt(_t.getAttribute("headingRows")||0);Et>0&&Yn("headingRows",Et-Rt,Ze,Dt,0);var Xt=parseInt(_t.getAttribute("headingColumns")||0);Xt>0&&Yn("headingColumns",Xt-Jt,Ze,Dt,0)}(l,a,t,i,e),l}function nv(a,n,e,r,t,i){var o=parseInt(a.getAttribute("colspan")||1),s=parseInt(a.getAttribute("rowspan")||1);e+o-1>t&&Yn("colspan",t-e+1,a,i,1),n+s-1>r&&Yn("rowspan",r-n+1,a,i,1)}j(92);var $l=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model;this.listenTo(o,"deleteContent",function(s,l){return t._handleDeleteContent(s,l)},{priority:"high"}),i.editing.view.addObserver(Pb),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var t=xs(this.editor.model.document.selection);return t.length==0?null:t}},{key:"getSelectionAsFragment",value:function(){var t=this,i=this.getSelectedTableCells();return i?this.editor.model.change(function(o){var s=o.createDocumentFragment(),l=Os(i),u=l.first,c=l.last,d=ho(i),f=d.first,h=d.last,k=rv(In("table",i[0]),{startRow:f,startColumn:u,endRow:h,endColumn:c},o,t.editor.plugins.get("TableUtils"));return o.insert(k,s,0),s}):null}},{key:"setCellSelection",value:function(t,i){var o=this._getCellsToSelect(t,i);this.editor.model.change(function(s){s.setSelection(o.cells.map(function(l){return s.createRangeOn(l)}),{backward:o.backward})})}},{key:"getFocusCell",value:function(){var t=z(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return t&&t.is("tableCell")?t:null}},{key:"getAnchorCell",value:function(){var t=_a(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("tableCell")?t:null}},{key:"_defineSelectionConverter",value:function(){var t=this,i=this.editor,o=new Set;i.conversion.for("editingDowncast").add(function(s){return s.on("selection",function(l,u,c){var d=c.writer;(function(G){var Z=p(o),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value;G.removeClass("ck-editor__editable_selected",ae)}}catch(be){Z.e(be)}finally{Z.f()}o.clear()})(d);var f=t.getSelectedTableCells();if(!!f){var h=p(f),k;try{for(h.s();!(k=h.n()).done;){var P=k.value,A=c.mapper.toViewElement(P);d.addClass("ck-editor__editable_selected",A),o.add(A)}}catch(G){h.e(G)}finally{h.f()}var I=c.mapper.toViewElement(f[f.length-1]);d.setSelection(I,0)}},{priority:"lowest"})})}},{key:"_enableShiftClickSelection",value:function(){var t=this,i=this.editor,o=!1;this.listenTo(i.editing.view.document,"mousedown",function(s,l){if(!!t.isEnabled&&!!l.domEvent.shiftKey){var u=t.getAnchorCell()||cl(i.model.document.selection)[0];if(!!u){var c=t._getModelTableCellFromDomEvent(l);c&&iv(u,c)&&(o=!0,t.setCellSelection(u,c),l.preventDefault())}}}),this.listenTo(i.editing.view.document,"mouseup",function(){o=!1}),this.listenTo(i.editing.view.document,"selectionChange",function(s){o&&s.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var t=this,i=this.editor,o,s,l=!1,u=!1;this.listenTo(i.editing.view.document,"mousedown",function(c,d){t.isEnabled&&(d.domEvent.shiftKey||d.domEvent.ctrlKey||d.domEvent.altKey||(o=t._getModelTableCellFromDomEvent(d)))}),this.listenTo(i.editing.view.document,"mousemove",function(c,d){if(!!d.domEvent.buttons&&!!o){var f=t._getModelTableCellFromDomEvent(d);f&&iv(o,f)&&(s=f,l||s==o||(l=!0)),l&&(u=!0,t.setCellSelection(o,s),d.preventDefault())}}),this.listenTo(i.editing.view.document,"mouseup",function(){l=!1,u=!1,o=null,s=null}),this.listenTo(i.editing.view.document,"selectionChange",function(c){u&&c.stop()},{priority:"highest"})}},{key:"_enablePluginDisabling",value:function(){var t=this,i=this.editor;this.on("change:isEnabled",function(){if(!t.isEnabled){var o=t.getSelectedTableCells();if(!o)return;i.model.change(function(s){var l=s.createPositionAt(o[0],0),u=i.model.schema.getNearestSelectionRange(l);s.setSelection(u)})}})}},{key:"_handleDeleteContent",value:function(t,i){var o=H(i,2),s=o[0],l=o[1],u=this.editor.model,c=!l||l.direction=="backward",d=xs(s);d.length&&(t.stop(),u.change(function(f){var h=d[c?d.length-1:0];u.change(function(P){var A=p(d),I;try{for(A.s();!(I=A.n()).done;){var G=I.value;u.deleteContent(P.createSelection(G,"in"))}}catch(Z){A.e(Z)}finally{A.f()}});var k=u.schema.getNearestSelectionRange(f.createPositionAt(h,0));s.is("documentSelection")?f.setSelection(k):s.setTo(k)}))}},{key:"_getModelTableCellFromDomEvent",value:function(t){var i=t.target,o=this.editor.editing.view.createPositionAt(i,0),s=this.editor.editing.mapper.toModelPosition(o).parent;return s.is("tableCell")?s:In("tableCell",s)}},{key:"_getCellsToSelect",value:function(t,i){var o=this.editor.plugins.get("TableUtils"),s=o.getCellLocation(t),l=o.getCellLocation(i),u=Math.min(s.row,l.row),c=Math.max(s.row,l.row),d=Math.min(s.column,l.column),f=Math.max(s.column,l.column),h=new Array(c-u+1).fill(null).map(function(){return[]}),k=p(new mn(In("table",t),{startRow:u,endRow:c})),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;A.column>=d&&A.column<=f&&h[A.row-u].push(A.cell)}}catch(Z){k.e(Z)}finally{k.f()}var I=l.row<s.row,G=l.column<s.column;return I&&h.reverse(),G&&h.forEach(function(Z){return Z.reverse()}),{cells:h.flat(),backward:I||G}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[Ps]}}]),e}(St);function iv(a,n){return a.parent.parent==n.parent.parent}var Eb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.editing.view.document;this.listenTo(o,"copy",function(s,l){return t._onCopyCut(s,l)}),this.listenTo(o,"cut",function(s,l){return t._onCopyCut(s,l)}),this.listenTo(i.model,"insertContent",function(s,l){return t._onInsertContent.apply(t,[s].concat(z(l)))},{priority:"high"})}},{key:"_onCopyCut",value:function(t,i){var o=this.editor.plugins.get($l);if(!!o.getSelectedTableCells()&&!(t.name=="cut"&&this.editor.isReadOnly)){i.preventDefault(),t.stop();var s=this.editor.data,l=this.editor.editing.view.document,u=s.toView(o.getSelectionAsFragment());l.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:u,method:t.name})}}},{key:"_onInsertContent",value:function(t,i,o){if(!(o&&!o.is("documentSelection"))){var s=this.editor.model,l=this.editor.plugins.get(Ps),u=ri(s.document.selection);if(!!u.length){var c=function(d){return d.is("table")?d:d.childCount!=1||!d.getChild(0).is("table")?null:d.getChild(0)}(i);c&&(t.stop(),s.change(function(d){var f=Os(u),h=ho(u),k=f.first,P=f.last,A=h.first,I=h.last,G=l.getRows(c),Z=l.getColumns(c),q=In("table",u[0]),ae=u.length===1;ae&&(I+=G-1,P+=Z-1,function(Ze,_t,Rt,Jt,Dt){var Et=Dt.getColumns(Ze),Xt=Dt.getRows(Ze);Rt>Et&&Dt.insertColumns(Ze,{batch:Jt.batch,at:Et,columns:Rt-Et}),_t>Xt&&Dt.insertRows(Ze,{batch:Jt.batch,at:Xt,rows:_t-Xt})}(q,I+1,P+1,d,l)),ae||!Ah(u,l)?function(Ze,_t,Rt){var Jt=_t.firstRow,Dt=_t.lastRow,Et=_t.firstColumn,Xt=_t.lastColumn,Qt={first:Jt,last:Dt},wr={first:Et,last:Xt};ov(Ze,Et,Qt,Rt),ov(Ze,Xt+1,Qt,Rt),av(Ze,Jt,wr,Rt),av(Ze,Dt+1,wr,Rt,Jt)}(q,{firstRow:A,lastRow:I,firstColumn:k,lastColumn:P},d):(I=function(Ze,_t,Rt){var Jt=new mn(Ze,{startRow:_t.last,endRow:_t.last}),Dt=Array.from(Jt).filter(function(Xt){var Qt=Xt.column;return Rt.first<=Qt&&Qt<=Rt.last});if(Dt.every(function(Xt){var Qt=Xt.rowspan;return Qt===1}))return _t.last;var Et=Dt[0].rowspan-1;return _t.last+Et}(q,h,f),P=function(Ze,_t,Rt){var Jt=Array.from(new mn(Ze,{startRow:_t.first,endRow:_t.last,column:Rt.last}));if(Jt.every(function(Et){var Xt=Et.colspan;return Xt===1}))return Rt.last;var Dt=Jt[0].colspan-1;return Rt.last+Dt}(q,h,f));var be=I-A+1,Re=P-k+1,Ne={startRow:0,startColumn:0,endRow:Math.min(be-1,G-1),endColumn:Math.min(Re-1,Z-1)};c=rv(c,Ne,d,l),function(Ze,_t,Rt,Jt,Dt){for(var Et=Jt.firstColumnOfSelection,Xt=Jt.lastColumnOfSelection,Qt=Jt.firstRowOfSelection,wr=Jt.lastRowOfSelection,xn=_t.width,qn=_t.height,wi=function(lc,Jb,Qb){var bv=new Array(Qb).fill(null).map(function(){return new Array(Jb).fill(null)}),Jl=p(new mn(lc)),yv;try{for(Jl.s();!(yv=Jl.n()).done;){var uc=yv.value,Zb=uc.column,Xb=uc.row,qb=uc.cell;bv[Xb][Zb]=qb}}catch(ey){Jl.e(ey)}finally{Jl.f()}return bv}(Ze,xn,qn),Ho=z(new mn(Rt,{startRow:Qt,endRow:wr,includeSpanned:!0})),Ni=[],Ei,Oa=0,Ko=Ho;Oa<Ko.length;Oa++){var Go=Ko[Oa],dl=Go.row,fl=Go.column,vv=Go.cell,pv=Go.isSpanned;if(fl===0&&(Ei=null),fl<Et||fl>Xt){pv||(Ei=vv);continue}pv||Dt.remove(vv);var Yb=fl-Et,gv=wi[(dl-Qt)%qn][Yb%xn];if(!!gv){var Yl=gv._clone(!0),mv=void 0;nv(Yl,dl,fl,wr,Xt,Dt),mv=Ei?Dt.createPositionAfter(Ei):Dt.createPositionAt(Rt.getChild(dl),0),Dt.insert(Yl,mv),Ni.push(Yl),Ei=Yl}}Dt.setSelection(Ni.map(function(lc){return Dt.createRangeOn(lc)}))}(c,{width:Z,height:G},q,{firstColumnOfSelection:k,firstRowOfSelection:A,lastColumnOfSelection:P,lastRowOfSelection:I},d)}))}}}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[$l,Ps]}}]),e}(St);function av(a,n,e,r){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!(n<1)){var i=Sh(a,n,t).filter(function(c){var d=c.column,f=c.colspan;return sv(d,f,e)}),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=l.cell;Th(u,n,r)}}catch(c){o.e(c)}finally{o.f()}}}function ov(a,n,e,r){if(!(n<1)){var t=Mh(a,n).filter(function(c){var d=c.row,f=c.rowspan;return sv(d,f,e)}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.cell,u=s.column;Ih(l,u,n,r)}}catch(c){i.e(c)}finally{i.f()}}}function sv(a,n,e){var r=a+n-1,t=e.first,i=e.last;return a>=t&&a<=i||a<t&&r>=t}var Cb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this,i=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",function(){return t._handleTabOnSelectedTable.apply(t,arguments)},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(i,"keydown",function(){return t._onKeydown.apply(t,arguments)},{priority:ca.get("high")+1})}},{key:"_handleTabOnSelectedTable",value:function(t,i){var o=this.editor,s=o.model.document.selection;if(!s.isCollapsed&&s.rangeCount===1&&s.getFirstRange().isFlat){var l=s.getSelectedElement();if(!l||!l.is("table"))return;i(),o.model.change(function(u){u.setSelection(u.createRangeIn(l.getChild(0).getChild(0)))})}}},{key:"_getTabHandler",value:function(t){var i=this.editor;return function(o,s){var l=cl(i.model.document.selection)[0];if(!!l){s();var u=l.parent,c=u.parent,d=c.getChildIndex(u),f=u.getChildIndex(l),h=f===0;if(!(!t&&h&&d===0)){var k=f===u.childCount-1,P=d===c.childCount-1;if(!(t&&P&&k&&(i.execute("insertTableRowBelow"),d===c.childCount-1))){var A;if(t&&k){var I=c.getChild(d+1);A=I.getChild(0)}else if(!t&&h){var G=c.getChild(d-1);A=G.getChild(G.childCount-1)}else A=u.getChild(f+(t?1:-1));i.model.change(function(Z){Z.setSelection(Z.createRangeIn(A))})}}}}}},{key:"_onKeydown",value:function(t,i){var o=i.keyCode;if(!!function(l){return l==_.arrowright||l==_.arrowleft||l==_.arrowup||l==_.arrowdown}(o)){var s=function(l,u){var c=u==="ltr";switch(l){case _.arrowleft:return c?"left":"right";case _.arrowright:return c?"right":"left";case _.arrowup:return"up";case _.arrowdown:return"down"}}(o,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(s,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),t.stop())}}},{key:"_handleArrowKeys",value:function(t,i){var o=this.editor.model,s=o.document.selection,l=["right","down"].includes(t),u=xs(s);if(u.length){var c;return c=i?this.editor.plugins.get("TableSelection").getFocusCell():l?u[u.length-1]:u[0],this._navigateFromCellInDirection(c,t,i),!0}var d=In("tableCell",s.focus);if(!d)return!1;var f=o.createRangeIn(d);if(this._isSelectionAtCellEdge(s,l))return this._navigateFromCellInDirection(d,t,i),!0;var h=s.getSelectedElement();if(h&&o.schema.isObject(h)||this._isObjectElementNextToSelection(s,l))return!1;var k=this._findTextRangeFromSelection(f,s,l);return k?!["left","right"].includes(t)&&(this._isSingleLineRange(k,l)?(o.change(function(P){var A=l?f.end:f.start;if(i){var I=o.createSelection(s.anchor);I.setFocus(A),P.setSelection(I)}else P.setSelection(A)}),!0):void 0):(this._navigateFromCellInDirection(d,t,i),!0)}},{key:"_isSelectionAtCellEdge",value:function(t,i){var o=this.editor.model,s=this.editor.model.schema,l=i?t.getLastPosition():t.getFirstPosition();if(!s.getLimitElement(l).is("tableCell"))return!1;var u=o.createSelection(l);return o.modifySelection(u,{direction:i?"forward":"backward"}),l.isEqual(u.focus)}},{key:"_isObjectElementNextToSelection",value:function(t,i){var o=this.editor.model,s=o.schema,l=o.createSelection(t);o.modifySelection(l,{direction:i?"forward":"backward"});var u=i?l.focus.nodeBefore:l.focus.nodeAfter;return u&&s.isObject(u)}},{key:"_findTextRangeFromSelection",value:function(t,i,o){var s=this.editor.model;if(o){var l=i.getLastPosition(),u=this._getNearestVisibleTextPosition(t,"backward");return u&&l.isBefore(u)?s.createRange(l,u):null}{var c=i.getFirstPosition(),d=this._getNearestVisibleTextPosition(t,"forward");return d&&c.isAfter(d)?s.createRange(d,c):null}}},{key:"_getNearestVisibleTextPosition",value:function(t,i){var o=this.editor.model.schema,s=this.editor.editing.mapper,l=p(t.getWalker({direction:i})),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=c.nextPosition,f=c.item;if(o.checkChild(d,"$text")){var h=s.toViewElement(f);if(h&&!h.hasClass("ck-hidden"))return d}}}catch(k){l.e(k)}finally{l.f()}}},{key:"_isSingleLineRange",value:function(t,i){var o=this.editor.model,s=this.editor.editing,l=s.view.domConverter;if(i){var u=o.createSelection(t.start);o.modifySelection(u),u.focus.isAtEnd||t.start.isEqual(u.focus)||(t=o.createRange(u.focus,t.end))}var c=s.mapper.toViewRange(t),d=l.viewRangeToDom(c),f=$n.getDomRangeRects(d),h,k=p(f),P;try{for(k.s();!(P=k.n()).done;){var A=P.value;if(h!==void 0){if(Math.round(A.top)>=h)return!1;h=Math.max(h,Math.round(A.bottom))}else h=Math.round(A.bottom)}}catch(I){k.e(I)}finally{k.f()}return!0}},{key:"_navigateFromCellInDirection",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.editor.model,l=In("table",t),u=z(new mn(l,{includeSpanned:!0})),c=u[u.length-1],d=c.row,f=c.column,h=u.find(function(ae){var be=ae.cell;return be==t}),k=h.row,P=h.column;switch(i){case"left":P--;break;case"up":k--;break;case"right":P+=h.colspan;break;case"down":k+=h.rowspan}if(k<0||k>d||P<0&&k<=0||P>f&&k>=d)return void s.change(function(ae){ae.setSelection(ae.createRangeOn(l))});P<0?(P=o?0:f,k--):P>f&&(P=o?f:0,k++);var A=u.find(function(ae){return ae.row==k&&ae.column==P}).cell,I=["right","down"].includes(i);if(o){var G=this.editor.plugins.get("TableSelection"),Z=G.getAnchorCell()||t;G.setCellSelection(Z,A)}else{var q=s.createPositionAt(A,I?0:"end");s.change(function(ae){ae.setSelection(q)})}}}],[{key:"pluginName",get:function(){return"TableNavigation"}},{key:"requires",get:function(){return[$l]}}]),e}(St);j(94);var ac=function(){function a(n,e){var r=this;C(this,a),this.model=n,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",function(){r.isEnabled?r._startListening():(r.stopListening(n.document.selection),r.stopListening(n.document))}),this._startListening()}return E(a,[{key:"_startListening",value:function(){var e=this,r=this.model.document;this.listenTo(r.selection,"change:range",function(t,i){var o=i.directChange;o&&(r.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))}),this.listenTo(r,"change:data",function(t,i){i.type!="transparent"&&e._evaluateTextBeforeSelection("data",{batch:i})})}},{key:"_evaluateTextBeforeSelection",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.model,i=t.document.selection,o=t.createRange(t.createPositionAt(i.focus.parent,0),i.focus),s=ef(o,t),l=s.text,u=s.range,c=this.testCallback(l);if(!c&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!c,c){var d=Object.assign(r,{text:l,range:u});typeof c=="object"&&Object.assign(d,c),this.fire("matched:"+e,d)}}}]),a}();rr(ac,nn);var lv=/[\\^$.*+?()[\]{}|]/g,Ab=RegExp(lv.source),Sb=function(n){return(n=ro(n))&&Ab.test(n)?n.replace(lv,"\\$&"):n},Tb={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xBD"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xBC"},threeQuarters:{from:"3/4",to:"\xBE"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Cs('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Cs("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Cs("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Cs('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Cs('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Cs("'"),to:[null,"\u201A",null,"\u2019"]}},uv={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Mb=["symbols","mathematical","typography","quotes"];function Ib(a){return typeof a=="string"?new RegExp("(".concat(Sb(a),")$")):a}function jb(a){return typeof a=="string"?function(){return[a]}:a instanceof Array?function(){return a}:a}function Rb(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Cs(a){return new RegExp("(^|\\s)(".concat(a,")([^").concat(a,"]*)(").concat(a,")$"))}var Db=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.isEnabled=t.schema.checkAttributeInSelection(i.selection,"mention")}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection,s=typeof t.mention=="string"?{id:t.mention}:t.mention,l=s.id,u=t.range||o.getFirstRange(),c=t.text||l,d=cv({_text:c,id:l},s);if(t.marker.length!=1)throw new me.b("mentioncommand-incorrect-marker: The marker must be a single character.",this);if(l.charAt(0)!=t.marker)throw new me.b("mentioncommand-incorrect-id: The item id must start with the marker character.",this);i.change(function(f){var h=yr(o.getAttributes()),k=new Map(h.entries());k.set("mention",d),i.insertContent(f.createText(c,k),u),i.insertContent(f.createText(" ",h),u.start.getShiftedBy(c.length))})}}]),e}(Gr),Nb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.model,o=i.document;i.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:dv}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:Lb}),t.conversion.for("downcast").add(Fb),o.registerPostFixer(function(s){return function(l,u,c){var d=u.differ.getChanges(),f=!1,h=p(d),k;try{for(h.s();!(k=h.n()).done;){var P=k.value,A=P.position;if(P.name=="$text"){var I=A.textNode&&A.textNode.nextSibling;f=Wo(A.textNode,l)||f,f=Wo(I,l)||f,f=Wo(A.nodeBefore,l)||f,f=Wo(A.nodeAfter,l)||f}if(P.name!="$text"&&P.type=="insert"){var G=A.nodeAfter,Z=p(l.createRangeIn(G).getItems()),q;try{for(Z.s();!(q=Z.n()).done;){var ae=q.value;f=Wo(ae,l)||f}}catch(Re){Z.e(Re)}finally{Z.f()}}if(P.type=="insert"&&c.isInline(P.name)){var be=A.nodeAfter&&A.nodeAfter.nextSibling;f=Wo(A.nodeBefore,l)||f,f=Wo(be,l)||f}}}catch(Re){h.e(Re)}finally{h.f()}return f}(s,o,i.schema)}),o.registerPostFixer(function(s){return function(l,u){var c=u.differ.getChanges(),d=!1,f=p(c),h;try{for(f.s();!(h=f.n()).done;){var k=h.value;if(k.type==="attribute"&&k.attributeKey!="mention")for(var P=k.range.start.nodeBefore,A=k.range.end.nodeAfter,I=0,G=[P,A];I<G.length;I++){var Z=G[I];fv(Z)&&Z.getAttribute(k.attributeKey)!=k.attributeNewValue&&(l.setAttribute(k.attributeKey,k.attributeNewValue,Z),d=!0)}}}catch(q){f.e(q)}finally{f.f()}return d}(s,o)}),o.registerPostFixer(function(s){return function(l,u){var c=u.selection,d=c.focus;if(c.isCollapsed&&c.hasAttribute("mention")&&function(f){var h=f.isAtStart;return f.nodeBefore&&f.nodeBefore.is("text")||h}(d))return l.removeSelectionAttribute("mention"),!0}(s,o)}),t.commands.add("mention",new Db(t))}}],[{key:"pluginName",get:function(){return"MentionEditing"}}]),e}(St);function cv(a,n){return Object.assign({_uid:ei()},a,n||{})}function dv(a,n){var e=a.getAttribute("data-mention"),r=a.getChild(0);if(!!r)return cv({id:e,_text:r.data},n)}function Fb(a){a.on("attribute:mention",function(n,e,r){var t=e.attributeNewValue;if(!(!e.item.is("textProxy")||!t)){var i=e.range.start;(i.textNode||i.nodeAfter).data!=t._text&&r.consumable.consume(e.item,n.name)}},{priority:"highest"})}function Lb(a,n){if(!!a){var e={class:"mention","data-mention":a.id},r={id:a._uid,priority:20};return n.createAttributeElement("span",e,r)}}function fv(a){return!a||!a.is("text")&&!a.is("textProxy")||!a.hasAttribute("mention")?!1:a.data!=a.getAttribute("mention")._text}function Wo(a,n){return!!fv(a)&&(n.removeAttribute("mention",a),!0)}j(96);var Bb=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}}),t}return E(e,[{key:"selectFirst",value:function(){this.select(0)}},{key:"selectNext",value:function(){var t=this.selected,i=this.items.getIndex(t);this.select(i+1)}},{key:"selectPrevious",value:function(){var t=this.selected,i=this.items.getIndex(t);this.select(i-1)}},{key:"select",value:function(t){var i=0;t>0&&t<this.items.length?i=t:t<0&&(i=this.items.length-1);var o=this.items.get(i);this.selected!==o&&(this.selected&&this.selected.removeHighlight(),o.highlight(),this.selected=o,this._isItemVisibleInScrolledArea(o)||(this.element.scrollTop=o.element.offsetTop))}},{key:"executeSelected",value:function(){this.selected.fire("execute")}},{key:"_isItemVisibleInScrolledArea",value:function(t){return new $n(this.element).contains(new $n(t.element))}}]),e}(Cd),Vb=function(a){T(e,a);var n=D(e);function e(r,t){var i;return C(this,e),i=n.call(this,r),i.template=!1,i.domElement=t,i.domElement.classList.add("ck-button"),i.set("isOn",!1),i.on("change:isOn",function(o,s,l){l?(i.domElement.classList.add("ck-on"),i.domElement.classList.remove("ck-off")):(i.domElement.classList.add("ck-off"),i.domElement.classList.remove("ck-on"))}),i.listenTo(i.domElement,"click",function(){i.fire("execute")}),i}return E(e,[{key:"render",value:function(){m(S(e.prototype),"render",this).call(this),this.element=this.domElement}}]),e}(Rr),zb=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"highlight",value:function(){this.children.first.isOn=!0}},{key:"removeHighlight",value:function(){this.children.first.isOn=!1}}]),e}(Ad),Ub=[_.arrowup,_.arrowdown,_.enter,_.tab,_.space,_.esc],Wb=function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),t._mentionsView=t._createMentionView(),t._mentionsConfigurations=new Map,t._requestFeedDebounced=mr(t._requestFeed,100),r.config.define("mention",{feeds:[]}),t}return E(e,[{key:"init",value:function(){var t=this,i=this.editor;this._balloon=i.plugins.get(_s),i.editing.view.document.on("keydown",function(P,A){var I;I=A.keyCode,Ub.includes(I)&&t._isUIVisible&&(A.preventDefault(),P.stop(),A.keyCode==_.arrowdown&&t._mentionsView.selectNext(),A.keyCode==_.arrowup&&t._mentionsView.selectPrevious(),A.keyCode!=_.enter&&A.keyCode!=_.tab&&A.keyCode!=_.space||t._mentionsView.executeSelected(),A.keyCode==_.esc&&t._hideUIAndRemoveMarker())},{priority:"highest"}),Il({emitter:this._mentionsView,activator:function(){return t._isUIVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideUIAndRemoveMarker()}});var o=i.config.get("mention.feeds"),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=u.feed,d=u.marker;if(!Gb(d))throw new me.b("mentionconfig-incorrect-marker: The marker must be provided and it must be a single character.",null);var f=u.minimumCharacters||0,h=typeof c=="function"?c.bind(this.editor):Kb(c),k={watcher:this._setupTextWatcherForFeed(d,f),marker:d,feedCallback:h,itemRenderer:u.itemRenderer};this._mentionsConfigurations.set(d,k)}}catch(P){s.e(P)}finally{s.f()}this.on("requestFeed:response",function(P,A){return t._handleFeedResponse(A)}),this.on("requestFeed:error",function(){return t._hideUIAndRemoveMarker()})}},{key:"destroy",value:function(){m(S(e.prototype),"destroy",this).call(this),this._mentionsView.destroy()}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView===this._mentionsView}},{key:"_createMentionView",value:function(){var t=this,i=this.editor.locale,o=new Bb(i);return this._items=new Un,o.items.bindTo(this._items).using(function(s){var l=s.item,u=s.marker,c=new zb(i),d=t._renderItem(l,u);return d.delegate("execute").to(c),c.children.add(d),c.item=l,c.marker=u,c.on("execute",function(){o.fire("execute",{item:l,marker:u})}),c}),o.on("execute",function(s,l){var u=t.editor,c=u.model,d=l.item,f=l.marker,h=u.model.markers.get("mention"),k=c.createPositionAt(c.document.selection.focus),P=c.createPositionAt(h.getStart()),A=c.createRange(P,k);t._hideUIAndRemoveMarker(),u.execute("mention",{mention:d,text:d.text,marker:f,range:A}),u.editing.view.focus()}),o}},{key:"_getItemRenderer",value:function(t){var i=this._mentionsConfigurations.get(t),o=i.itemRenderer;return o}},{key:"_requestFeed",value:function(t,i){var o=this;this._lastRequested=i;var s=this._mentionsConfigurations.get(t),l=s.feedCallback,u=l(i);u instanceof Promise?u.then(function(c){o._lastRequested==i?o.fire("requestFeed:response",{feed:c,marker:t,feedText:i}):o.fire("requestFeed:discarded",{feed:c,marker:t,feedText:i})}).catch(function(c){o.fire("requestFeed:error",{error:c}),console.warn(Object(me.a)("mention-feed-callback-error: Could not obtain mention autocomplete feed."))}):this.fire("requestFeed:response",{feed:u,marker:t,feedText:i})}},{key:"_setupTextWatcherForFeed",value:function(t,i){var o=this,s=this.editor,l=new ac(s.model,function(c,d){var f=hv(c,d);return function(h){return f.test(h)}}(t,i));l.on("matched",function(c,d){var f=s.model.document.selection.focus;if(function(Z){var q=Z.textNode&&Z.textNode.hasAttribute("mention"),ae=Z.nodeBefore;return q||ae&&ae.is("text")&&ae.hasAttribute("mention")}(f))return void o._hideUIAndRemoveMarker();var h=function(Z,q){var ae=hv(Z,0);return q.match(ae)[2]}(t,d.text),k=t.length+h.length,P=f.getShiftedBy(-k),A=f.getShiftedBy(-h.length),I=s.model.createRange(P,A);if(oc(s)){var G=s.model.markers.get("mention");s.model.change(function(Z){Z.updateMarker(G,{range:I})})}else s.model.change(function(Z){Z.addMarker("mention",{range:I,usingOperation:!1,affectsData:!1})});o._requestFeedDebounced(t,h)}),l.on("unmatched",function(){o._hideUIAndRemoveMarker()});var u=s.commands.get("mention");return l.bind("isEnabled").to(u),l}},{key:"_handleFeedResponse",value:function(t){var i=t.feed,o=t.marker;if(!!oc(this.editor)){this._items.clear();var s=p(i),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=typeof u!="object"?{id:u,text:u}:u;this._items.add({item:c,marker:o})}}catch(f){s.e(f)}finally{s.f()}var d=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(d):this._hideUIAndRemoveMarker()}}},{key:"_showOrUpdateUI",value:function(t){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(t,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(t,this._mentionsView.position),withArrow:!1,singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}},{key:"_hideUIAndRemoveMarker",value:function(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),oc(this.editor)&&this.editor.model.change(function(t){return t.removeMarker("mention")}),this._mentionsView.position=void 0}},{key:"_renderItem",value:function(t,i){var o=this.editor,s,l=t.id,u=this._getItemRenderer(i);if(u){var c=u(t);typeof c!="string"?s=new Vb(o.locale,c):l=c}if(!s){var d=new Ln(o.locale);d.label=l,d.withText=!0,s=d}return s}},{key:"_getBalloonPanelPositionData",value:function(t,i){var o=this,s=this.editor,l=s.editing,u=l.view.domConverter,c=l.mapper;return{target:function(){var f=t.getRange();f.start.root.rootName=="$graveyard"&&(f=s.model.document.selection.getFirstRange());var h=c.toViewRange(f);return $n.getDomRangeRects(u.viewRangeToDom(h)).pop()},limiter:function(){var f=o.editor.editing.view,h=f.document.selection.editableElement;return h?f.domConverter.mapViewToDom(h.root):null},positions:Hb(i)}}}],[{key:"pluginName",get:function(){return"MentionUI"}},{key:"requires",get:function(){return[_s]}}]),e}(St);function Hb(a){var n={caret_se:function(r){return{top:r.bottom+3,left:r.right,name:"caret_se"}},caret_ne:function(r,t){return{top:r.top-t.height-3,left:r.right,name:"caret_ne"}},caret_sw:function(r,t){return{top:r.bottom+3,left:r.right-t.width,name:"caret_sw"}},caret_nw:function(r,t){return{top:r.top-t.height-3,left:r.right-t.width,name:"caret_nw"}}};return n.hasOwnProperty(a)?[n[a]]:[n.caret_se,n.caret_sw,n.caret_ne,n.caret_nw]}function hv(a,n){var e=n==0?"*":"{".concat(n,",}"),r=y.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`;return new RegExp("(?:^|[ ".concat(r,"])([").concat(a,"])([\\S]").concat(e,")$"),"u")}function Kb(a){return function(n){return a.filter(function(e){return(typeof e=="string"?e:String(e.id)).toLowerCase().includes(n.toLowerCase())}).slice(0,10)}}function Gb(a){return a&&a.length==1}function oc(a){return a.model.markers.has("mention")}j(98);var $b=function(){function a(n){C(this,a),this.loader=n}return E(a,[{key:"upload",value:function(){var e=this;return new Promise(function(r,t){var i=e.reader=new window.FileReader;i.addEventListener("load",function(){r({default:i.result})}),i.addEventListener("error",function(o){t(o)}),i.addEventListener("abort",function(){t()}),e.loader.file.then(function(o){i.readAsDataURL(o)})})}},{key:"abort",value:function(){this.reader.abort()}}]),a}(),sc=function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return e}(Ou);sc.builtinPlugins=[function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[ys,Ip,Bp,Rp,$p,Qd]}},{key:"pluginName",get:function(){return"Essentials"}}]),e}(St),qd,function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}},{key:"_addListAutoformats",value:function(){var t=this.editor.commands;t.get("bulletedList")&&new ll(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new ll(this.editor,/^1[.|)]\s$/,"numberedList")}},{key:"_addBasicStylesAutoformats",value:function(){var t=this.editor.commands;if(t.get("bold")){var i=Rl(this.editor,"bold");new ks(this.editor,/(\*\*)([^*]+)(\*\*)$/g,i),new ks(this.editor,/(__)([^_]+)(__)$/g,i)}if(t.get("italic")){var o=Rl(this.editor,"italic");new ks(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,o),new ks(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,o)}if(t.get("code")){var s=Rl(this.editor,"code");new ks(this.editor,/(`)([^`]+)(`)$/g,s)}if(t.get("strikethrough")){var l=Rl(this.editor,"strikethrough");new ks(this.editor,/(~~)([^~]+)(~~)$/g,l)}}},{key:"_addHeadingAutoformats",value:function(){var t=this,i=this.editor.commands.get("heading");i&&i.modelElements.filter(function(o){return o.match(/^heading[1-6]$/)}).forEach(function(o){var s=o[7],l=new RegExp("^(#{".concat(s,"})\\s$"));new ll(t.editor,l,function(){if(!i.isEnabled)return!1;t.editor.execute("heading",{value:o})})})}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&new ll(this.editor,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&new ll(this.editor,/^```$/,"codeBlock")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[ig,ag]}},{key:"pluginName",get:function(){return"Bold"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[og,sg]}},{key:"pluginName",get:function(){return"Italic"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[ug,cg]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[Ng,dg,qd]}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[Tf,Nf,Wf]}},{key:"pluginName",get:function(){return"EasyImage"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[um,cm]}},{key:"pluginName",get:function(){return"Heading"}}]),e}(St),Nf,function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[fm]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[pm,gm]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"afterInit",value:function(){var t=this.editor,i=t.t;t.plugins.get(Ul).register("image",{ariaLabel:i("Image toolbar"),items:t.config.get("image.toolbar")||[],getRelatedElement:Ru})}}],[{key:"requires",get:function(){return[Ul]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),e}(St),Wf,function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[mm,bm]}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[Ef,_m]}},{key:"pluginName",get:function(){return"Link"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[Im,jm]}},{key:"pluginName",get:function(){return"List"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[Wl,Vm,Lm,Hu]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),e}(St),ul,function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view.document,o=[];o.push(new Jm(i)),o.push(new Hm(i)),t.plugins.get("Clipboard").on("inputTransformation",function(s,l){if(!l.isTransformedWithPasteFromOffice){var u=l.dataTransfer.getData("text/html"),c=o.find(function(d){return d.isActive(u)});c&&(c.execute(l),l.isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[ys]}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,null,[{key:"requires",get:function(){return[yb,xb,$l,Eb,Cb,Hu]}},{key:"pluginName",get:function(){return"Table"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"afterInit",value:function(){var t=this.editor,i=t.t,o=t.plugins.get(Ul),s=t.config.get("table.contentToolbar"),l=t.config.get("table.tableToolbar");s&&o.register("tableContent",{ariaLabel:i("Table toolbar"),items:s,getRelatedElement:qm}),l&&o.register("table",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:Xm})}}],[{key:"requires",get:function(){return[Ul]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(r){var t;return C(this,e),t=n.call(this,r),r.config.define("typing",{transformations:{include:Mb}}),t}return E(e,[{key:"init",value:function(){var t=this,i=this.editor.model.document.selection;i.on("change:range",function(){t.isEnabled=!i.anchor.parent.is("codeBlock")}),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var t=this.editor,i=t.model,o=t.plugins.get("Input"),s=function(u){var c=u.extra||[],d=u.remove||[],f=function(k){return!d.includes(k)};return function(h){var k=new Set,P=p(h),A;try{for(P.s();!(A=P.n()).done;){var I=A.value;if(uv[I]){var G=p(uv[I]),Z;try{for(G.s();!(Z=G.n()).done;){var q=Z.value;k.add(q)}}catch(ae){G.e(ae)}finally{G.f()}}else k.add(I)}}catch(ae){P.e(ae)}finally{P.f()}return Array.from(k)}(u.include.concat(c).filter(f)).filter(f).map(function(h){return Tb[h]||h}).map(function(h){return{from:Ib(h.from),to:jb(h.to)}})}(t.config.get("typing.transformations")),l=new ac(t.model,function(u){var c=p(s),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;if(f.from.test(u))return{normalizedTransformation:f}}}catch(h){c.e(h)}finally{c.f()}});l.on("matched:data",function(u,c){if(!!o.isInput(c.batch)){var d=c.normalizedTransformation,f=d.from,h=d.to,k=f.exec(c.text),P=h(k.slice(1)),A=c.range,I=k.index;i.enqueueChange(function(G){for(var Z=1;Z<k.length;Z++){var q=k[Z],ae=P[Z-1];if(ae==null){I+=q.length;continue}var be=A.start.getShiftedBy(I),Re=i.createRange(be,be.getShiftedBy(q.length)),Ne=Rb(be);i.insertContent(G.createText(ae,Ne),Re),I+=ae.length}})}}),l.bind("isEnabled").to(this)}}],[{key:"pluginName",get:function(){return"TextTransformation"}}]),e}(St),function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"toMentionAttribute",value:function(t,i){return dv(t,i)}}],[{key:"pluginName",get:function(){return"Mention"}},{key:"requires",get:function(){return[Nb,Wb]}}]),e}(St),function(a){a.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention",attributes:{href:!0,"data-user-id":!0}},model:{key:"mention",value:function(e){return a.plugins.get("Mention").toMentionAttribute(e,{link:e.getAttribute("href"),userId:e.getAttribute("data-user-id")})}},converterPriority:"high"}),a.conversion.for("downcast").attributeToElement({model:"mention",view:function(e,r){if(e)return r.createAttributeElement("span",{class:"mention","data-mention":e.name,"data-user-id":e.userId,href:e.link},{priority:20,id:e.uid})},converterPriority:"high"})},function(a){T(e,a);var n=D(e);function e(){return C(this,e),n.apply(this,arguments)}return E(e,[{key:"init",value:function(){this.editor.plugins.get(Ri).createUploadAdapter=function(t){return new $b(t)}}}],[{key:"requires",get:function(){return[Ri]}},{key:"pluginName",get:function(){return"Base64UploadAdapter"}}]),e}(St)],sc.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default})},"w/wX":function(re,J,v){var B=v("QqLw"),m=v("ExA7"),S="[object Set]";function O(X){return m(X)&&B(X)==S}re.exports=O},wME1:function(re,J,v){"use strict";v.d(J,"p",function(){return B}),v.d(J,"n",function(){return m}),v.d(J,"o",function(){return S}),v.d(J,"g",function(){return O}),v.d(J,"i",function(){return X}),v.d(J,"b",function(){return U}),v.d(J,"j",function(){return z}),v.d(J,"e",function(){return H}),v.d(J,"q",function(){return p}),v.d(J,"h",function(){return L}),v.d(J,"k",function(){return C}),v.d(J,"l",function(){return E}),v.d(J,"r",function(){return T}),v.d(J,"a",function(){return D}),v.d(J,"m",function(){return se}),v.d(J,"f",function(){return M}),v.d(J,"d",function(){return $}),v.d(J,"c",function(){return W});var B={"50":"#ffebee","100":"#ffcdd2","200":"#ef9a9a","300":"#e57373","400":"#ef5350","500":"#f44336","600":"#e53935","700":"#d32f2f","800":"#c62828","900":"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},m={"50":"#fce4ec","100":"#f8bbd0","200":"#f48fb1","300":"#f06292","400":"#ec407a","500":"#e91e63","600":"#d81b60","700":"#c2185b","800":"#ad1457","900":"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},S={"50":"#f3e5f5","100":"#e1bee7","200":"#ce93d8","300":"#ba68c8","400":"#ab47bc","500":"#9c27b0","600":"#8e24aa","700":"#7b1fa2","800":"#6a1b9a","900":"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},O={"50":"#ede7f6","100":"#d1c4e9","200":"#b39ddb","300":"#9575cd","400":"#7e57c2","500":"#673ab7","600":"#5e35b1","700":"#512da8","800":"#4527a0","900":"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},X={"50":"#e8eaf6","100":"#c5cae9","200":"#9fa8da","300":"#7986cb","400":"#5c6bc0","500":"#3f51b5","600":"#3949ab","700":"#303f9f","800":"#283593","900":"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},U={"50":"#e3f2fd","100":"#bbdefb","200":"#90caf9","300":"#64b5f6","400":"#42a5f5","500":"#2196f3","600":"#1e88e5","700":"#1976d2","800":"#1565c0","900":"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},z={"50":"#e1f5fe","100":"#b3e5fc","200":"#81d4fa","300":"#4fc3f7","400":"#29b6f6","500":"#03a9f4","600":"#039be5","700":"#0288d1","800":"#0277bd","900":"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},H={"50":"#e0f7fa","100":"#b2ebf2","200":"#80deea","300":"#4dd0e1","400":"#26c6da","500":"#00bcd4","600":"#00acc1","700":"#0097a7","800":"#00838f","900":"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},p={"50":"#e0f2f1","100":"#b2dfdb","200":"#80cbc4","300":"#4db6ac","400":"#26a69a","500":"#009688","600":"#00897b","700":"#00796b","800":"#00695c","900":"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},L={"50":"#e8f5e9","100":"#c8e6c9","200":"#a5d6a7","300":"#81c784","400":"#66bb6a","500":"#4caf50","600":"#43a047","700":"#388e3c","800":"#2e7d32","900":"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},C={"50":"#f1f8e9","100":"#dcedc8","200":"#c5e1a5","300":"#aed581","400":"#9ccc65","500":"#8bc34a","600":"#7cb342","700":"#689f38","800":"#558b2f","900":"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},E={"50":"#f9fbe7","100":"#f0f4c3","200":"#e6ee9c","300":"#dce775","400":"#d4e157","500":"#cddc39","600":"#c0ca33","700":"#afb42b","800":"#9e9d24","900":"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},T={"50":"#fffde7","100":"#fff9c4","200":"#fff59d","300":"#fff176","400":"#ffee58","500":"#ffeb3b","600":"#fdd835","700":"#fbc02d","800":"#f9a825","900":"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},D={"50":"#fff8e1","100":"#ffecb3","200":"#ffe082","300":"#ffd54f","400":"#ffca28","500":"#ffc107","600":"#ffb300","700":"#ffa000","800":"#ff8f00","900":"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},se={"50":"#fff3e0","100":"#ffe0b2","200":"#ffcc80","300":"#ffb74d","400":"#ffa726","500":"#ff9800","600":"#fb8c00","700":"#f57c00","800":"#ef6c00","900":"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},M={"50":"#fbe9e7","100":"#ffccbc","200":"#ffab91","300":"#ff8a65","400":"#ff7043","500":"#ff5722","600":"#f4511e","700":"#e64a19","800":"#d84315","900":"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},$={"50":"#efebe9","100":"#d7ccc8","200":"#bcaaa4","300":"#a1887f","400":"#8d6e63","500":"#795548","600":"#6d4c41","700":"#5d4037","800":"#4e342e","900":"#3e2723"},j={"50":"#fafafa","100":"#f5f5f5","200":"#eeeeee","300":"#e0e0e0","400":"#bdbdbd","500":"#9e9e9e","600":"#757575","700":"#616161","800":"#424242","900":"#212121"},W={"50":"#eceff1","100":"#cfd8dc","200":"#b0bec5","300":"#90a4ae","400":"#78909c","500":"#607d8b","600":"#546e7a","700":"#455a64","800":"#37474f","900":"#263238"},x={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},ne={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},Ae={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},je={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},Te="#ffffff",ht="#000000",yt={red:B,pink:m,purple:S,deepPurple:O,indigo:X,blue:U,lightBlue:z,cyan:H,teal:p,green:L,lightGreen:C,lime:E,yellow:T,amber:D,orange:se,deepOrange:M,brown:$,grey:j,blueGrey:W,darkText:x,lightText:ne,darkIcons:Ae,lightIcons:je,white:Te,black:ht}},wUu8:function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=m.a.createContext({});J.a=S},wrZu:function(re,J,v){var B=v("+K+b"),m=v("XYm9"),S=v("b2z7"),O=v("otv/"),X=v("yP5f"),U="[object Boolean]",z="[object Date]",H="[object Map]",p="[object Number]",L="[object RegExp]",C="[object Set]",E="[object String]",T="[object Symbol]",D="[object ArrayBuffer]",se="[object DataView]",M="[object Float32Array]",$="[object Float64Array]",j="[object Int8Array]",W="[object Int16Array]",x="[object Int32Array]",ne="[object Uint8Array]",Ae="[object Uint8ClampedArray]",je="[object Uint16Array]",Te="[object Uint32Array]";function ht(yt,Ct,vt){var Vt=yt.constructor;switch(Ct){case D:return B(yt);case U:case z:return new Vt(+yt);case se:return m(yt,vt);case M:case $:case j:case W:case x:case ne:case Ae:case je:case Te:return X(yt,vt);case H:return new Vt;case p:case E:return new Vt(yt);case L:return S(yt);case C:return new Vt;case T:return O(yt)}}re.exports=ht},x49D:function(re,J){function v(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}re.exports=v},xEw5:function(re,J,v){},xbqb:function(re,J){function v(B,m){if(!(B instanceof m))throw new TypeError("Cannot call a class as a function")}re.exports=v},xutz:function(re,J,v){"use strict";(function(B){var m=v("XqMk"),S=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=S&&typeof B=="object"&&B&&!B.nodeType&&B,X=O&&O.exports===S,U=X&&m.a.process,z=function(){try{var H=O&&O.require&&O.require("util").types;return H||U&&U.binding&&U.binding("util")}catch(p){}}();J.a=z}).call(this,v("Vg/k")(re))},xzDV:function(re,J,v){},yHx3:function(re,J){var v=Object.prototype,B=v.hasOwnProperty;function m(S){var O=S.length,X=new S.constructor(O);return O&&typeof S[0]=="string"&&B.call(S,"index")&&(X.index=S.index,X.input=S.input),X}re.exports=m},yP5f:function(re,J,v){var B=v("+K+b");function m(S,O){var X=O?B(S.buffer):S.buffer;return new S.constructor(X,S.byteOffset,S.length)}re.exports=m},yeZT:function(re,J,v){"use strict";v.d(J,"a",function(){return Le}),v.d(J,"c",function(){return mt}),v.d(J,"d",function(){return Ce}),v.d(J,"e",function(){return We});var B=v("WmNS"),m=v.n(B),S=v("T2oS"),O=v("W9HT"),X=v("GNNt"),U=v("wEI+"),z=v("DYRE"),H=v("zeV3"),p=v("q1tI"),L=v.n(p),C=v("9mHw"),E=v("g5r2"),T=v("HBdL"),D=v("Lpa7"),se=v("LQCs"),M=v("OaEy"),$=v("2fM7"),j=v("5NDa"),W=v("5rEg"),x=v("l+S1"),ne=v("TSYQ"),Ae=v.n(ne),je=v("iGn7"),Te=v("jkmW"),ht=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"];function yt(){return yt=Object.assign||function(ue){for(var ee=1;ee<arguments.length;ee++){var de=arguments[ee];for(var ye in de)Object.prototype.hasOwnProperty.call(de,ye)&&(ue[ye]=de[ye])}return ue},yt.apply(this,arguments)}function Ct(ue,ee,de){return ee in ue?Object.defineProperty(ue,ee,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[ee]=de,ue}function vt(ue,ee){return Je(ue)||dt(ue,ee)||gt(ue,ee)||Vt()}function Vt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(ue,ee){if(!!ue){if(typeof ue=="string")return zt(ue,ee);var de=Object.prototype.toString.call(ue).slice(8,-1);if(de==="Object"&&ue.constructor&&(de=ue.constructor.name),de==="Map"||de==="Set")return Array.from(ue);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return zt(ue,ee)}}function zt(ue,ee){(ee==null||ee>ue.length)&&(ee=ue.length);for(var de=0,ye=new Array(ee);de<ee;de++)ye[de]=ue[de];return ye}function dt(ue,ee){var de=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var ye=[],Ve=!0,lt=!1,it,at;try{for(de=de.call(ue);!(Ve=(it=de.next()).done)&&(ye.push(it.value),!(ee&&ye.length===ee));Ve=!0);}catch(pt){lt=!0,at=pt}finally{try{!Ve&&de.return!=null&&de.return()}finally{if(lt)throw at}}return ye}}function Je(ue){if(Array.isArray(ue))return ue}function st(ue,ee){if(ue==null)return{};var de=Xe(ue,ee),ye,Ve;if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ue);for(Ve=0;Ve<lt.length;Ve++)ye=lt[Ve],!(ee.indexOf(ye)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ue,ye)||(de[ye]=ue[ye]))}return de}function Xe(ue,ee){if(ue==null)return{};var de={},ye=Object.keys(ue),Ve,lt;for(lt=0;lt<ye.length;lt++)Ve=ye[lt],!(ee.indexOf(Ve)>=0)&&(de[Ve]=ue[Ve]);return de}function Ue(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ue=function(de){return typeof de}:Ue=function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},Ue(ue)}var $e=function(ee,de){return Ue(de)!=="object"?ee[de]||de:ee[de==null?void 0:de.value]||de.label},Ke=function(ee,de){var ye=ee.label,Ve=ee.prefixCls,lt=ee.onChange,it=ee.value,at=ee.mode,pt=ee.children,Er=ee.defaultValue,Ar=ee.size,or=ee.showSearch,Br=ee.disabled,on=ee.style,bn=ee.className,jn=ee.bordered,qr=ee.options,un=ee.onSearch,lr=ee.allowClear,Pr=ee.labelInValue,hn=st(ee,ht),cn=ee.placeholder,jr=cn===void 0?ye:cn,hr=Object(p.useContext)(U.b.ConfigContext),Vr=hr.getPrefixCls,sn=Vr("pro-field-select-light-select"),It=Object(p.useState)(!1),Rn=vt(It,2),Xr=Rn[0],br=Rn[1],dr=Object(p.useState)(""),Fr=vt(dr,2),vr=Fr[0],Cn=Fr[1],en=Object(p.useMemo)(function(){var Wr={};return qr==null||qr.forEach(function(Bn){var Yr=Bn.label,Ht=Bn.value;Wr[Ht]=Yr||Ht}),Wr},[qr]),Dn=Array.isArray(it)?it.map(function(Wr){return $e(en,Wr)}):$e(en,it);return L.a.createElement("div",{className:Ae()(sn,Ct({},"".concat(sn,"-searchable"),or),bn),style:on,onClick:function(){Br||br(!0)}},L.a.createElement($.a,yt({},hn,{allowClear:lr,value:it,mode:at,labelInValue:Pr,size:Ar,disabled:Br,onChange:function(Bn,Yr){lt==null||lt(Bn,Yr),at!=="multiple"&&setTimeout(function(){br(!1)},0)},bordered:jn,showSearch:or,onSearch:un,style:on,dropdownRender:function(Bn){return L.a.createElement("div",{ref:de},or&&L.a.createElement("div",{style:{margin:"4px 8px"}},L.a.createElement(W.a,{value:vr,allowClear:lr,onChange:function(Ht){Cn(Ht.target.value.toLowerCase()),un==null||un(Ht.target.value)},onKeyDown:function(Ht){Ht.stopPropagation()},style:{width:"100%"},prefix:L.a.createElement(x.a,null)})),Bn)},open:Xr,onDropdownVisibleChange:br,prefixCls:Ve,options:vr?qr==null?void 0:qr.filter(function(Wr){return String(Wr.label).toLowerCase().includes(vr)||Wr.value.toLowerCase().includes(vr)}):qr})),L.a.createElement(je.a,{ellipsis:!0,size:Ar,label:ye,placeholder:jr,disabled:Br,expanded:Xr,bordered:jn,allowClear:lr,value:Dn||(it==null?void 0:it.label)||it,onClear:function(){lt==null||lt(void 0,void 0)}}))},ft=L.a.forwardRef(Ke),rt=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch"];function Pe(){return Pe=Object.assign||function(ue){for(var ee=1;ee<arguments.length;ee++){var de=arguments[ee];for(var ye in de)Object.prototype.hasOwnProperty.call(de,ye)&&(ue[ye]=de[ye])}return ue},Pe.apply(this,arguments)}function At(ue,ee){var de=Object.keys(ue);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(ue);ee&&(ye=ye.filter(function(Ve){return Object.getOwnPropertyDescriptor(ue,Ve).enumerable})),de.push.apply(de,ye)}return de}function qt(ue){for(var ee=1;ee<arguments.length;ee++){var de=arguments[ee]!=null?arguments[ee]:{};ee%2?At(Object(de),!0).forEach(function(ye){Qr(ue,ye,de[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(de)):At(Object(de)).forEach(function(ye){Object.defineProperty(ue,ye,Object.getOwnPropertyDescriptor(de,ye))})}return ue}function Qr(ue,ee,de){return ee in ue?Object.defineProperty(ue,ee,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[ee]=de,ue}function Dr(ue,ee){return te(ue)||Ur(ue,ee)||zr(ue,ee)||sr()}function sr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(ue,ee){if(!!ue){if(typeof ue=="string")return Ir(ue,ee);var de=Object.prototype.toString.call(ue).slice(8,-1);if(de==="Object"&&ue.constructor&&(de=ue.constructor.name),de==="Map"||de==="Set")return Array.from(ue);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return Ir(ue,ee)}}function Ir(ue,ee){(ee==null||ee>ue.length)&&(ee=ue.length);for(var de=0,ye=new Array(ee);de<ee;de++)ye[de]=ue[de];return ye}function Ur(ue,ee){var de=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var ye=[],Ve=!0,lt=!1,it,at;try{for(de=de.call(ue);!(Ve=(it=de.next()).done)&&(ye.push(it.value),!(ee&&ye.length===ee));Ve=!0);}catch(pt){lt=!0,at=pt}finally{try{!Ve&&de.return!=null&&de.return()}finally{if(lt)throw at}}return ye}}function te(ue){if(Array.isArray(ue))return ue}function Y(ue,ee){if(ue==null)return{};var de=Q(ue,ee),ye,Ve;if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ue);for(Ve=0;Ve<lt.length;Ve++)ye=lt[Ve],!(ee.indexOf(ye)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ue,ye)||(de[ye]=ue[ye]))}return de}function Q(ue,ee){if(ue==null)return{};var de={},ye=Object.keys(ue),Ve,lt;for(lt=0;lt<ye.length;lt++)Ve=ye[lt],!(ee.indexOf(Ve)>=0)&&(de[Ve]=ue[Ve]);return de}var ve=$.a.Option,ge=$.a.OptGroup,Be=function(ee,de){var ye=ee.optionItemRender,Ve=ee.mode,lt=ee.onSearch,it=ee.onFocus,at=ee.onChange,pt=ee.autoClearSearchValue,Er=ee.searchOnFocus,Ar=Er===void 0?!1:Er,or=ee.resetAfterSelect,Br=or===void 0?!1:or,on=ee.optionFilterProp,bn=on===void 0?"label":on,jn=ee.optionLabelProp,qr=jn===void 0?"label":jn,un=ee.className,lr=ee.disabled,Pr=ee.options,hn=ee.fetchData,cn=ee.resetData,jr=ee.prefixCls,hr=ee.onClear,Vr=ee.searchValue,sn=ee.showSearch,It=Y(ee,rt),Rn=Object(p.useState)(Vr),Xr=Dr(Rn,2),br=Xr[0],dr=Xr[1],Fr=Object(p.useRef)();Object(p.useImperativeHandle)(de,function(){return Fr.current}),Object(p.useEffect)(function(){if(It.autoFocus){var Yr;Fr==null||(Yr=Fr.current)===null||Yr===void 0||Yr.focus()}},[It.autoFocus]),Object(p.useEffect)(function(){dr(Vr)},[Vr]);var vr=Object(p.useContext)(U.b.ConfigContext),Cn=vr.getPrefixCls,en=Cn("pro-filed-search-select",jr),Dn=Ae()(en,un,Qr({},"".concat(en,"-disabled"),lr)),Wr=function(Ht,bt){return Array.isArray(Ht)&&Ht.length>0?Ht.map(function(Lt,ur){var _r=bt==null?void 0:bt[ur],vn=(_r==null?void 0:_r["data-item"])||{};return qt(qt({},vn),Lt)}):[]},Bn=function Yr(Ht){return Ht.map(function(bt){var Lt=bt.label,ur=bt.value,_r=bt.disabled,vn=bt.className,Mr=bt.optionType;return Mr==="optGroup"?L.a.createElement(ge,{key:bt.key||bt.value,label:bt.label},Yr((bt==null?void 0:bt.options)||(bt==null?void 0:bt.children)||[])):L.a.createElement(ve,Pe({},bt,{value:ur,key:ur||(Lt==null?void 0:Lt.toString()),disabled:_r,"data-item":bt,className:"".concat(en,"-option ").concat(vn||""),label:bt.label}),(ye==null?void 0:ye(bt))||Lt)})};return L.a.createElement($.a,Pe({ref:Fr,className:Dn,allowClear:!0,disabled:lr,mode:Ve,showSearch:sn,searchValue:br,optionFilterProp:bn,optionLabelProp:qr,onClear:function(){hr==null||hr(),hn(""),sn&&dr("")}},It,{onSearch:sn?function(Yr){hn(Yr),lt==null||lt(Yr),dr(Yr)}:void 0,onChange:function(Ht,bt){sn&&pt&&(hn(""),lt==null||lt(""),dr(""));for(var Lt=arguments.length,ur=new Array(Lt>2?Lt-2:0),_r=2;_r<Lt;_r++)ur[_r-2]=arguments[_r];if(!ee.labelInValue){at==null||at.apply(void 0,[Ht,bt].concat(ur));return}if(Ve!=="multiple"){var vn=bt&&bt["data-item"]||{};at==null||at.apply(void 0,[qt(qt({},Ht),vn),bt].concat(ur));return}var Mr=Wr(Ht,bt);at==null||at.apply(void 0,[Mr,bt].concat(ur)),Br&&cn()},onFocus:function(Ht){Ar&&hn(""),it==null||it(Ht)}}),Bn(Pr||[]))},ze=L.a.forwardRef(Be),xt=v("NYcB"),Ot=v("SmY/"),ke=["value","text"],xe=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id"];function De(){return De=Object.assign||function(ue){for(var ee=1;ee<arguments.length;ee++){var de=arguments[ee];for(var ye in de)Object.prototype.hasOwnProperty.call(de,ye)&&(ue[ye]=de[ye])}return ue},De.apply(this,arguments)}function Ye(ue,ee,de,ye,Ve,lt,it){try{var at=ue[lt](it),pt=at.value}catch(Er){de(Er);return}at.done?ee(pt):Promise.resolve(pt).then(ye,Ve)}function Ut(ue){return function(){var ee=this,de=arguments;return new Promise(function(ye,Ve){var lt=ue.apply(ee,de);function it(pt){Ye(lt,ye,Ve,it,at,"next",pt)}function at(pt){Ye(lt,ye,Ve,it,at,"throw",pt)}it(void 0)})}}function Yt(ue,ee){var de=Object.keys(ue);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(ue);ee&&(ye=ye.filter(function(Ve){return Object.getOwnPropertyDescriptor(ue,Ve).enumerable})),de.push.apply(de,ye)}return de}function Zt(ue){for(var ee=1;ee<arguments.length;ee++){var de=arguments[ee]!=null?arguments[ee]:{};ee%2?Yt(Object(de),!0).forEach(function(ye){Or(ue,ye,de[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(de)):Yt(Object(de)).forEach(function(ye){Object.defineProperty(ue,ye,Object.getOwnPropertyDescriptor(de,ye))})}return ue}function Or(ue,ee,de){return ee in ue?Object.defineProperty(ue,ee,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[ee]=de,ue}function fr(ue,ee){if(ue==null)return{};var de=$r(ue,ee),ye,Ve;if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ue);for(Ve=0;Ve<lt.length;Ve++)ye=lt[Ve],!(ee.indexOf(ye)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ue,ye)||(de[ye]=ue[ye]))}return de}function $r(ue,ee){if(ue==null)return{};var de={},ye=Object.keys(ue),Ve,lt;for(lt=0;lt<ye.length;lt++)Ve=ye[lt],!(ee.indexOf(Ve)>=0)&&(de[Ve]=ue[Ve]);return de}function kr(ue,ee){return Nr(ue)||Tr(ue,ee)||En(ue,ee)||Gt()}function Gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tr(ue,ee){var de=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var ye=[],Ve=!0,lt=!1,it,at;try{for(de=de.call(ue);!(Ve=(it=de.next()).done)&&(ye.push(it.value),!(ee&&ye.length===ee));Ve=!0);}catch(pt){lt=!0,at=pt}finally{try{!Ve&&de.return!=null&&de.return()}finally{if(lt)throw at}}return ye}}function Nr(ue){if(Array.isArray(ue))return ue}function Zr(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zr=function(de){return typeof de}:Zr=function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},Zr(ue)}function ln(ue){return pe(ue)||_n(ue)||En(ue)||fn()}function fn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function En(ue,ee){if(!!ue){if(typeof ue=="string")return Se(ue,ee);var de=Object.prototype.toString.call(ue).slice(8,-1);if(de==="Object"&&ue.constructor&&(de=ue.constructor.name),de==="Map"||de==="Set")return Array.from(ue);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return Se(ue,ee)}}function _n(ue){if(typeof Symbol!="undefined"&&ue[Symbol.iterator]!=null||ue["@@iterator"]!=null)return Array.from(ue)}function pe(ue){if(Array.isArray(ue))return Se(ue)}function Se(ue,ee){(ee==null||ee>ue.length)&&(ee=ue.length);for(var de=0,ye=new Array(ee);de<ee;de++)ye[de]=ue[de];return ye}var Me=0,Le=function(ee){return tr(ee)==="map"?ee:new Map(Object.entries(ee||{}))},mt=function ue(ee,de){if(Array.isArray(ee))return L.a.createElement(H.b,null,ee.map(function(pt){return L.a.createElement(L.a.Fragment,{key:(pt==null?void 0:pt.value)||pt},ue(pt,de))}));var ye=Le(de);if(!ye.has(ee)&&!ye.has("".concat(ee)))return(ee==null?void 0:ee.label)||ee;var Ve=ye.get(ee)||ye.get("".concat(ee));if(!Ve)return(ee==null?void 0:ee.label)||ee;var lt=Ve.status,it=Ve.color,at=xt.b[lt||"Init"];return at?L.a.createElement(at,null,Ve.text):it?L.a.createElement(xt.a,{color:it},Ve.text):Ve.text||Ve},Wt=function(ee){var de=ee.label,ye=ee.words,Ve=".^$*+-?()[]{}\\|",lt=Object(p.useContext)(U.b.ConfigContext),it=lt.getPrefixCls,at=it("pro-select-item-option-content-light"),pt=it("pro-select-item-option-content"),Er=new RegExp(ye.map(function(Br){return Br.split("").map(function(on){return Ve.includes(on)?"\\".concat(on):on}).join("")}).join("|"),"gi"),Ar=de.replace(Er,"#@$&#"),or=Ar.split("#").map(function(Br){return Br[0]==="@"?L.a.createElement("span",{className:at},Br.slice(1)):Br});return L.a.createElement.apply(L.a,["div",{className:pt}].concat(ln(or)))};function tr(ue){var ee=Object.prototype.toString.call(ue).match(/^\[object (.*)\]$/)[1].toLowerCase();return ee==="string"&&Zr(ue)==="object"?"object":ue===null?"null":ue===void 0?"undefined":ee}function $t(ue,ee){var de,ye;if(!ee||(ue==null||(de=ue.label)===null||de===void 0?void 0:de.toString().toLowerCase().includes(ee.toLowerCase()))||(ue==null||(ye=ue.value)===null||ye===void 0?void 0:ye.toString().toLowerCase().includes(ee.toLowerCase())))return!0;if(ue.optionType==="optGroup"&&(ue.children||ue.options)){var Ve=[].concat(ln(ue.children||[]),[ue.options||[]]).find(function(lt){return $t(lt,ee)});if(Ve)return!0}return!1}var Ce=function(ee){var de=[],ye=Le(ee);return ye.forEach(function(Ve,lt){var it=ye.get(lt)||ye.get("".concat(lt));if(!!it){if(Zr(it)==="object"&&(it==null?void 0:it.text)){de.push({text:it==null?void 0:it.text,value:lt,disabled:it.disabled});return}de.push({text:it,value:lt})}}),de},We=function(ee){var de,ye,Ve,lt=Object(p.useState)(void 0),it=kr(lt,2),at=it[0],pt=it[1],Er=Object(p.useState)(function(){return ee.proFieldKey?ee.proFieldKey.toString():ee.request?(Me+=1,Me.toString()):"no-fetch"}),Ar=kr(Er,1),or=Ar[0],Br=Object(p.useRef)(or),on=Object(p.useCallback)(function(br){return Ce(Le(br)).map(function(dr){var Fr=dr.value,vr=dr.text,Cn=fr(dr,ke);return Zt({label:vr,value:Fr,key:Fr},Cn)})},[]),bn=Object(C.a)(function(){return ee.valueEnum?on(ee.valueEnum):[]},{value:(de=ee.fieldProps)===null||de===void 0?void 0:de.options}),jn=kr(bn,2),qr=jn[0],un=jn[1];Object(E.a)(function(){var br;!ee.valueEnum||((br=ee.fieldProps)===null||br===void 0?void 0:br.options)||un(on(ee.valueEnum))},[ee.valueEnum]);var lr=Object(C.a)(!1),Pr=kr(lr,2),hn=Pr[0],cn=Pr[1],jr=Object(T.a)(function(){var br=Ut(m.a.mark(function dr(Fr){var vr;return m.a.wrap(function(en){for(;;)switch(en.prev=en.next){case 0:if(ee.request){en.next=2;break}return en.abrupt("return",[]);case 2:return cn(!0),en.next=5,ee.request(Fr,ee);case 5:return vr=en.sent,cn(!1),en.abrupt("return",vr);case 8:case"end":return en.stop()}},dr)}));return function(dr){return br.apply(this,arguments)}}(),[],(ye=ee.debounceTime)!==null&&ye!==void 0?ye:10),hr=jr.run,Vr=Object(p.useMemo)(function(){return ee.request?!ee.params&&!at?Br.current:[Br.current,JSON.stringify(Zt(Zt({},ee.params),{},{keyWords:at}))]:"no-fetch"},[at,ee.params,ee.request]),sn=Object(D.a)([Vr,ee.params,at],function(br,dr,Fr){return hr(Zt(Zt({},dr),{},{keyWords:Fr}))},{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),It=sn.data,Rn=sn.mutate,Xr=Object(p.useMemo)(function(){var br,dr,Fr=qr==null?void 0:qr.map(function(vr){if(typeof vr=="string")return{label:vr,value:vr};if((vr==null?void 0:vr.optionType)==="optGroup"&&(vr.children||vr.options)){var Cn=[].concat(ln(vr.children||[]),ln(vr.options||[])).filter(function(en){return $t(en,at)});return Zt(Zt({},vr),{},{children:Cn,options:Cn})}return vr});return((br=ee.fieldProps)===null||br===void 0?void 0:br.filterOption)===!0||((dr=ee.fieldProps)===null||dr===void 0?void 0:dr.filterOption)===void 0?Fr==null?void 0:Fr.filter(function(vr){return vr?at?$t(vr,at):!0:!1}):Fr},[qr,at,(Ve=ee.fieldProps)===null||Ve===void 0?void 0:Ve.filterOption]);return[hn,ee.request?It:Xr,function(br){pt(br),Object(D.b)(Vr)},function(){pt(void 0),Rn([],!1)}]},Ge=function(ee,de){var ye=ee.mode,Ve=ee.valueEnum,lt=ee.render,it=ee.renderFormItem,at=ee.request,pt=ee.fieldProps,Er=ee.plain,Ar=ee.children,or=ee.light,Br=ee.proFieldKey,on=ee.params,bn=ee.label,jn=ee.bordered,qr=ee.id,un=fr(ee,xe),lr=Object(p.useRef)(),Pr=Object(se.d)(),hn=Object(p.useRef)("");Object(p.useEffect)(function(){Me+=1},[]),Object(p.useEffect)(function(){hn.current=pt==null?void 0:pt.searchValue},[pt==null?void 0:pt.searchValue]);var cn=We(ee),jr=kr(cn,4),hr=jr[0],Vr=jr[1],sn=jr[2],It=jr[3],Rn=Object(p.useContext)(U.b.SizeContext);if(Object(p.useImperativeHandle)(de,function(){return Zt(Zt({},lr.current||{}),{},{fetchData:function(){return sn()}})}),ye==="read"){var Xr,br=(Vr==null?void 0:Vr.length)?Vr==null?void 0:Vr.reduce(function(en,Dn){return Zt(Zt({},en),{},Or({},Dn.value,Dn.label))},{}):void 0;if((Xr=un.text)===null||Xr===void 0?void 0:Xr.label){var dr;return(dr=un.text)===null||dr===void 0?void 0:dr.label}var Fr=L.a.createElement(L.a.Fragment,null,mt(un.text,Le(Ve||br)));return lt?lt(un.text,Zt({mode:ye},pt),Fr)||null:Fr}if(ye==="edit"||ye==="update"){var vr=function(){return or?L.a.createElement(ft,De({bordered:jn,id:qr,loading:hr,ref:lr,allowClear:!0,size:Rn,options:Vr,label:bn,placeholder:Pr.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},pt)):L.a.createElement(ze,De({key:"SearchSelect",style:{minWidth:100},bordered:jn,id:qr,loading:hr,ref:lr,allowClear:!0,notFoundContent:hr?L.a.createElement(O.a,{size:"small"}):pt==null?void 0:pt.notFoundContent,fetchData:function(Wr){hn.current=Wr,sn(Wr)},resetData:It,optionItemRender:function(Wr){return typeof Wr.label=="string"&&hn.current?L.a.createElement(Wt,{label:Wr.label,words:[hn.current]}):Wr.label},placeholder:Pr.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),label:bn},pt,{options:Vr}))},Cn=vr();return it?it(un.text,Zt(Zt({mode:ye},pt),{},{options:Vr}),Cn)||null:Cn}return null},wt=J.b=L.a.forwardRef(Ge)},"yj/a":function(re,J,v){"use strict";var B=v("q1tI"),m=v.n(B),S=v("adzw"),O=v("uX+g"),X=v("lS/g"),U=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function H(){return H=Object.assign||function(W){for(var x=1;x<arguments.length;x++){var ne=arguments[x];for(var Ae in ne)Object.prototype.hasOwnProperty.call(ne,Ae)&&(W[Ae]=ne[Ae])}return W},H.apply(this,arguments)}function p(W,x){var ne=Object.keys(W);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(W);x&&(Ae=Ae.filter(function(je){return Object.getOwnPropertyDescriptor(W,je).enumerable})),ne.push.apply(ne,Ae)}return ne}function L(W){for(var x=1;x<arguments.length;x++){var ne=arguments[x]!=null?arguments[x]:{};x%2?p(Object(ne),!0).forEach(function(Ae){C(W,Ae,ne[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(ne)):p(Object(ne)).forEach(function(Ae){Object.defineProperty(W,Ae,Object.getOwnPropertyDescriptor(ne,Ae))})}return W}function C(W,x,ne){return x in W?Object.defineProperty(W,x,{value:ne,enumerable:!0,configurable:!0,writable:!0}):W[x]=ne,W}function E(W,x){if(W==null)return{};var ne=T(W,x),Ae,je;if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(W);for(je=0;je<Te.length;je++)Ae=Te[je],!(x.indexOf(Ae)>=0)&&(!Object.prototype.propertyIsEnumerable.call(W,Ae)||(ne[Ae]=W[Ae]))}return ne}function T(W,x){if(W==null)return{};var ne={},Ae=Object.keys(W),je,Te;for(Te=0;Te<Ae.length;Te++)je=Ae[Te],!(x.indexOf(je)>=0)&&(ne[je]=W[je]);return ne}var D=m.a.forwardRef(function(W,x){var ne=W.fieldProps,Ae=W.children,je=W.params,Te=W.proFieldProps,ht=W.mode,yt=W.valueEnum,Ct=W.request,vt=W.showSearch,Vt=W.options,gt=E(W,U),zt=Object(B.useContext)(X.a);return m.a.createElement(S.a,H({mode:"edit",valueEnum:Object(O.a)(yt),request:Ct,params:je,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:L({options:Vt,mode:ht,showSearch:vt,getPopupContainer:zt.getPopupContainer},ne),ref:x,proFieldProps:Te},gt),Ae)}),se=m.a.forwardRef(function(W,x){var ne=W.fieldProps,Ae=W.children,je=W.params,Te=W.proFieldProps,ht=W.mode,yt=W.valueEnum,Ct=W.request,vt=W.options,Vt=E(W,z),gt=L({options:vt,mode:ht||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},ne),zt=Object(B.useContext)(X.a);return m.a.createElement(S.a,H({mode:"edit",valueEnum:Object(O.a)(yt),request:Ct,params:je,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:L({getPopupContainer:zt.getPopupContainer},gt),ref:x,proFieldProps:Te},Vt),Ae)}),M=D,$=se,j=M;j.SearchSelect=$,j.displayName="ProFormComponent",J.a=j},ylTp:function(re,J,v){"use strict";var B=v("Ju5/"),m=B.a.Symbol;J.a=m},"z01/":function(re,J){function v(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?re.exports=v=function(S){return typeof S}:re.exports=v=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},v(B)}re.exports=v},zEVN:function(re,J,v){var B=v("Gi0A"),m=v("sEf8"),S=v("mdPL"),O=S&&S.isMap,X=O?m(O):B;re.exports=X},zZ0H:function(re,J){function v(B){return B}re.exports=v}}]);
