(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"/y+f":function(ve,E,e){"use strict";e.d(E,"h",function(){return ie}),e.d(E,"e",function(){return Z}),e.d(E,"f",function(){return P}),e.d(E,"d",function(){return V}),e.d(E,"a",function(){return p}),e.d(E,"c",function(){return C}),e.d(E,"b",function(){return n}),e.d(E,"g",function(){return d});var ie;(function(a){a.Unselected="",a.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",a.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",a.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",a.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",a.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",a.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",a.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",a.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",a.Project="EscolaLms\\TopicTypeProject\\Models\\Project",a.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(ie||(ie={}));var w;(function(a){a.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",a.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(w||(w={}));var R;(function(a){a.draft="draft",a.published="published",a.archived="archived"})(R||(R={}));var Z;(function(a){a.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",a.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",a.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(Z||(Z={}));var P;(function(a){a.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(P||(P={}));var g;(function(a){a.cart_fixed="cart_fixed",a.cart_percent="cart_percent",a.product_fixed="product_fixed",a.product_percent="product_percent"})(g||(g={}));var V;(function(a){a.MULTIPLE_CHOICE="multiple_choice",a.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",a.TRUE_FALSE="true_false",a.SHORT_ANSWERS="short_answers",a.MATCHING="matching",a.NUMERICAL_QUESTION="numerical_question",a.ESSAY="essay",a.DESCRIPTION="description"})(V||(V={}));var p;(function(a){a.PRESENT="present",a.PRESENT_NOT_EXERCISING="present_not_exercising",a.ABSENT="absent",a.EXCUSED_ABSENCE="excused_absence"})(p||(p={}));var C;(function(a){a.Manual="manual",a.TeamsForms="teams_forms",a.TeamsLecture="teams_lecture",a.TestPortal="test_portal"})(C||(C={}));var n;(function(a){a.Simple="simple",a.Complex="complex"})(n||(n={}));var d;(function(a){a.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT"})(d||(d={}))},"5qq5":function(ve,E,e){"use strict";var ie=e("7Kak"),w=e("9yH6"),R=e("VTBJ"),Z=e("Ff2n"),P=e("nKUr"),g=e.n(P),V=e("uX+g"),p=e("q1tI"),C=e.n(p),n=e("WFLz"),d=e("adzw"),a=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],re=C.a.forwardRef(function(l,K){var J=l.fieldProps,S=l.options,je=l.radioType,D=l.layout,W=l.proFieldProps,fe=l.valueEnum,H=Object(Z.a)(l,a);return Object(P.jsx)(d.a,Object(R.a)(Object(R.a)({valueType:je==="button"?"radioButton":"radio",ref:K,valueEnum:Object(V.a)(fe,void 0)},H),{},{fieldProps:Object(R.a)({options:S,layout:D},J),proFieldProps:W,filedConfig:{customLightMode:!0}}))}),ne=C.a.forwardRef(function(l,K){var J=l.fieldProps,S=l.children;return Object(P.jsx)(w.a,Object(R.a)(Object(R.a)({},J),{},{ref:K,children:S}))}),q=Object(n.a)(ne,{valuePropName:"checked",ignoreWidth:!0}),T=q;T.Group=re,T.Button=w.a.Button,T.displayName="ProFormComponent",E.a=T},FJDo:function(ve,E,e){"use strict";var ie=e("VTBJ"),w=e("Ff2n"),R=e("nKUr"),Z=e.n(R),P=e("q1tI"),g=e.n(P),V=e("adzw"),p=["fieldProps","min","proFieldProps","max"],C=function(d,a){var re=d.fieldProps,ne=d.min,q=d.proFieldProps,T=d.max,l=Object(w.a)(d,p);return Object(R.jsx)(V.a,Object(ie.a)({valueType:"digit",fieldProps:Object(ie.a)({min:ne,max:T},re),ref:a,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:q},l))};E.a=g.a.forwardRef(C)},HEzf:function(ve,E,e){"use strict";var ie=e("EFp3"),w=e("O/iA"),R=e("OaEy"),Z=e("wx14"),P=e("U8pU"),g=e("ODXe"),V=e("TSYQ"),p=e.n(V),C=e("Zm9Q"),n=e("bT9E"),d=e("q1tI"),a=e.n(d),re=e("H84U"),ne=e("2fM7"),q=e("0n0R"),T=ne.a.Option;function l(y){return y&&y.type&&(y.type.isSelectOption||y.type.isSelectOptGroup)}var K=function(f,me){var Oe=f.prefixCls,ee=f.className,v=f.popupClassName,j=f.dropdownClassName,m=f.children,U=f.dataSource,$=Object(C.a)(m),M;if($.length===1&&Object(q.c)($[0])&&!l($[0])){var Y=Object(g.a)($,1);M=Y[0]}var de=M?function(){return M}:void 0,Se;return $.length&&l($[0])?Se=m:Se=U?U.map(function(se){if(Object(q.c)(se))return se;switch(Object(P.a)(se)){case"string":return d.createElement(T,{key:se,value:se},se);case"object":{var Q=se.value;return d.createElement(T,{key:Q,value:Q},se.text)}default:return}}):[],d.createElement(re.a,null,function(se){var Q=se.getPrefixCls,ge=Q("select",Oe);return d.createElement(ne.a,Object(Z.a)({ref:me},Object(n.a)(f,["dataSource"]),{prefixCls:ge,popupClassName:v||j,className:p()("".concat(ge,"-auto-complete"),ee),mode:ne.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:de}),Se)})},J=d.forwardRef(K);J.Option=T;var S=J,je=e("y8nQ"),D=e("Vl3Y"),W=e("+L6B"),fe=e("2/Rp"),H=e("5NDa"),u=e("5rEg"),Ee=e("tJVT"),I=e("VMEa"),Le=e("rmhi"),ye=e("Qurx"),Ce=e("F/zT"),t=e("5qq5"),De=e("BiO0"),Fe=e("tneF"),Ae=e("FJDo"),k=e("9kvl"),Re=e("+up7"),Me=e("hd5d"),Ue=e("3fxf"),b=e("ovOe"),L=e.n(b),F=e("bRQS"),_=e("4i/N"),r=e("nKUr"),ue=function(f){var me=f.value,Oe=f.onChange,ee=f.type,v=ee===void 0?"file":ee,j=Object(d.useState)(!1),m=Object(Ee.a)(j,2),U=m[0],$=m[1];return Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsxs)(I.a.Group,{children:[Object(r.jsx)(u.a,{value:me,readOnly:!0}),Object(r.jsxs)(fe.a,{size:"small",type:"primary",onClick:function(){return $(!U)},children:["toggle ",v," browser"]})]}),U&&Object(r.jsx)(Ue.a,{onFile:function(Y,de){return Oe&&Oe("".concat(de,"/").concat(Y.name))}})]})},G=function(f){var me=Object(k.l)(),Oe=f.visible,ee=f.onVisibleChange,v=f.onFinish,j=f.id,m=f.initialData,U=f.groups,$=D.a.useForm(),M=Object(Ee.a)($,1),Y=M[0],de=!j||j===-1,Se=Object(d.useState)("text"),se=Object(Ee.a)(Se,2),Q=se[0],ge=se[1],Ie=Object(d.useCallback)(function(){return!!(Y.getFieldValue("group")==="global"||m)},[Y,m]),Ke=Object(d.useState)(""),N=Object(Ee.a)(Ke,2),o=N[0],s=N[1];Object(d.useEffect)(function(){if(typeof j=="object"){var i;Y.setFieldsValue(j),ge((i=j.type)!==null&&i!==void 0?i:"text")}else j&&j!==-1?Object(Re.e)(Number(j)).then(function(h){h.success&&(Y.setFieldsValue(h.data),ge(h.data.type),s(h.data.group))}):(Y.resetFields(),ge("text"))},[j,Y,m]);var c=Object(d.useCallback)(function(i){i.type&&i.type!==Q&&ge(i.type)},[Q]);return Object(r.jsxs)(Le.a,{form:Y,title:me.formatMessage({id:j?"editSetting":"newSetting",defaultMessage:j?"editSetting":"newSetting"}),width:"60vw",visible:!!Oe,onVisibleChange:ee,onFinish:v,onValuesChange:c,children:[Object(r.jsxs)(I.a.Group,{children:[m?Object(r.jsx)(ye.a,{label:Object(r.jsx)(k.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:Ie()}):Object(r.jsx)(I.a.Item,{label:Object(r.jsx)(k.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(r.jsx)(S,{style:{width:"300px"},autoFocus:!0,value:o,onChange:function(h){return s(h)},filterOption:function(h,O){var B;return(O==null||(B=O.children)===null||B===void 0?void 0:B.toString().toLowerCase().indexOf(h.toLowerCase()))!==-1},children:U.map(function(i){return Object(r.jsx)(S.Option,{value:i,children:i},i)})})}),Object(r.jsx)(ye.a,{label:Object(r.jsx)(k.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:Ie()})]}),Object(r.jsxs)(I.a.Group,{children:[Object(r.jsx)(Ce.a,{name:"enumerable",disabled:Ie(),label:Object(r.jsx)(k.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(r.jsx)(Ce.a,{name:"public",disabled:Ie(),label:Object(r.jsx)(k.a,{id:"public",defaultMessage:"public"})})]}),Object(r.jsx)(I.a.Group,{children:Object(r.jsx)(t.a.Group,{disabled:!!(!de||m),name:"type",label:Object(r.jsx)(k.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),Object(r.jsxs)("div",{children:[Q==="text"&&Object(r.jsx)(ye.a,{width:"lg",name:"value",label:Object(r.jsx)(k.a,{id:"value"})}),Q==="json"&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(De.a,{width:"lg",name:"value",label:Object(r.jsx)(k.a,{id:"value"}),tooltip:"".concat(me.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(r.jsx)(I.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(r.jsx)(L.a,{src:JSON.parse(Y.getFieldValue("value"))})}catch(h){return Object(r.jsx)(L.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(Q==="file"||Q==="image")&&Object(r.jsx)(I.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(r.jsx)(ue,{type:Q})}),Q==="markdown"&&Object(r.jsx)(I.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(r.jsx)(Me.a,{directory:"settings/wysiwyg"})}),Q==="boolean"?Object(r.jsx)(Ce.a,{name:"data",label:Object(r.jsx)(k.a,{id:"value"}),checkedChildren:Object(r.jsx)(F.a,{}),unCheckedChildren:Object(r.jsx)(_.a,{})}):Object(r.jsx)(I.a.Item,{noStyle:!0,hidden:!0,children:Object(r.jsx)(Fe.a,{name:"data",valuePropName:"data"})}),Q==="number"&&Object(r.jsx)(Ae.a,{name:"data",label:Object(r.jsx)(k.a,{id:"value"})}),Q==="array"&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(De.a,{width:"lg",name:"value",label:Object(r.jsx)(k.a,{id:"value"}),tooltip:"".concat(me.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),Object(r.jsx)(I.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(r.jsx)(L.a,{src:JSON.parse(Y.getFieldValue("value"))})}catch(h){return Object(r.jsx)(L.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})},Te=E.a=G},"O/iA":function(ve,E,e){},YjuE:function(ve,E,e){"use strict";e.r(E);var ie=e("fOrg"),w=e("+KLJ"),R=e("T2oS"),Z=e("W9HT"),P=e("tJVT"),g=e("q1tI"),V=e.n(g),p=e("nhC9"),C=e("Ty5D"),n=e("9kvl"),d=e("tMyG"),a=e("+up7"),re=e("P2fV"),ne=e("NJEC"),q=e("5Dmo"),T=e("3S7+"),l=e("+L6B"),K=e("2/Rp"),J=e("+BJd"),S=e("mr32"),je=e("jrin"),D=e("qLMh"),W=e("k1fw"),fe=e("miYZ"),H=e("tsqr"),u=e("9og8"),Ee=e("xvlK"),I=e("Qiat"),Le=e("HEzf"),ye=e("G3dp"),Ce=e("/MfK"),t=e("nKUr"),De=function(){var N=Object(u.a)(Object(D.a)().mark(function o(s,c,i){var h;return Object(D.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return h=H.b.loading(s.formatMessage({id:"loading"})),B.prev=1,B.next=4,i&&i!==-1?Object(a.i)(i,Object(W.a)({},c)):Object(a.b)(Object(W.a)({},c));case 4:return h(),H.b.success(s.formatMessage({id:"success"})),B.abrupt("return",!0);case 9:return B.prev=9,B.t0=B.catch(1),h(),H.b.error(s.formatMessage({id:"error"})),B.abrupt("return",!1);case 14:case"end":return B.stop()}},o,null,[[1,9]])}));return function(s,c,i){return N.apply(this,arguments)}}(),Fe=function(){var N=Object(u.a)(Object(D.a)().mark(function o(s,c){var i;return Object(D.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return i=H.b.loading(s.formatMessage({id:"loading"})),O.prev=1,O.next=4,Object(a.c)(c);case 4:return i(),H.b.success(s.formatMessage({id:"success"})),O.abrupt("return",!0);case 9:return O.prev=9,O.t0=O.catch(1),i(),H.b.error(s.formatMessage({id:"error"})),O.abrupt("return",!1);case 14:case"end":return O.stop()}},o,null,[[1,9]])}));return function(s,c){return N.apply(this,arguments)}}(),Ae=function(){var o=Object(g.useState)(!1),s=Object(P.a)(o,2),c=s[0],i=s[1],h=Object(g.useState)([]),O=Object(P.a)(h,2),B=O[0],be=O[1],X=Object(g.useRef)(),te=Object(n.l)(),le=Object(n.m)("@@initialState"),x=le.setInitialState;Object(g.useEffect)(function(){Object(a.f)().then(function(A){A.success&&be(A.data.filter(function(z){return z!=="global"}))})},[]);var ce=[{title:Object(t.jsx)(n.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:B.sort().reduce(function(A,z){return Object(W.a)(Object(W.a)({},A),{},Object(je.a)({},z,z))},{})},{title:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(n.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(n.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(z,ae){return Object(t.jsx)(S.a,{color:ae.enumerable?"success":"error",children:Object(t.jsx)(n.a,{id:ae.enumerable?"true":"false",defaultMessage:ae.enumerable?"true":"false"})})}},{title:Object(t.jsx)(n.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(z,ae){return Object(t.jsx)(S.a,{color:ae.public?"success":"error",children:Object(t.jsx)(n.a,{id:ae.public?"true":"false",defaultMessage:ae.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(n.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(z,ae){return[Object(t.jsx)(T.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(K.a,{type:"primary",icon:Object(t.jsx)(ye.a,{}),onClick:function(){return i(ae.id)}})},"edit"),Object(t.jsx)(ne.a,{title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(u.a)(Object(D.a)().mark(function oe(){var pe;return Object(D.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Fe(te,ae.id);case 2:pe=Pe.sent,pe&&(i(!1),X.current&&X.current.reload());case 4:case"end":return Pe.stop()}},oe)})),okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(T.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(K.a,{type:"primary",icon:Object(t.jsx)(Ce.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(V.a.Fragment,{children:[Object(t.jsx)(I.a,{headerTitle:te.formatMessage({id:"menu.settings"}),actionRef:X,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(t.jsxs)(K.a,{type:"primary",onClick:function(){i(-1)},children:[Object(t.jsx)(Ee.a,{})," ",Object(t.jsx)(n.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(z){var ae=z.pageSize,oe=z.current,pe=z.group;return Object(a.g)({per_page:ae,current:oe,group:pe}).then(function(xe){return xe.success?{data:xe.data.filter(function(Pe){return Pe.group!=="global"}),total:xe.meta.total,success:!0}:[]})},columns:ce}),Object(t.jsx)(Le.a,{groups:B,id:c,visible:Number.isInteger(c),onVisibleChange:function(z){return!z&&i(!1)},onFinish:function(){var A=Object(u.a)(Object(D.a)().mark(function z(ae){var oe,pe,xe;return Object(D.a)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return oe=ae,he.next=3,De(te,oe,Number(c));case 3:if(pe=he.sent,!pe){he.next=12;break}if(i(!1),X.current&&X.current.reload(),oe.group!=="global"){he.next=12;break}return he.next=10,Object(a.g)({current:1,per_page:100,group:"global"});case 10:xe=he.sent,x(function(Be){return Object(W.a)(Object(W.a)({},Be),{},{config:xe.success?xe.data:Be==null?void 0:Be.config})});case 12:case"end":return he.stop()}},z)}));return function(z){return A.apply(this,arguments)}}()})]})},k=Ae,Re=e("oBTY"),Me=e("y8nQ"),Ue=e("Vl3Y"),b=e("tU7J"),L=e("wFql"),F=e("rmhi"),_=e("VMEa"),r=e("F/zT"),ue=e("BiO0"),G=e("ovOe"),Te=e.n(G),y=e("Fghh"),f=e("Qurx"),me=function(o){var s=o.field,c=o.name;return s!=null&&s.includes("boolean")?Object(t.jsx)(r.a,{name:c,checkedChildren:Object(t.jsx)(y.a,{id:"true"}),unCheckedChildren:Object(t.jsx)(y.a,{id:"false"})}):Object(t.jsx)(f.a,{width:"lg",name:c})},Oe=me,ee=L.a.Text,v;(function(N){N.Array="array",N.String="string"})(v||(v={}));var j=function(o,s){return s===v.Array?o&&Array.isArray(o)?JSON.stringify(o):"[]":o},m=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0;if(s===v.Array){var c=JSON.parse(o);return c&&Array.isArray(c)?c:[]}return o},U=function(o){var s=Object(y.k)(),c=o.visible,i=o.onVisibleChange,h=o.onFinish,O=o.value,B=Ue.a.useForm(),be=Object(P.a)(B,1),X=be[0],te=Object(g.useMemo)(function(){return(O.rules||[]).includes(v.Array)?v.Array:v.String},[O.rules]);return Object(g.useEffect)(function(){X.setFieldsValue(Object(W.a)(Object(W.a)({},O),{},{value:j(O.value,te)}))},[te,O,X]),Object(t.jsxs)(F.a,{form:X,title:O.full_key,width:"60vw",visible:c,onVisibleChange:i,onFinish:Object(u.a)(Object(D.a)().mark(function le(){var x;return Object(D.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Object(a.h)({key:O.full_key,value:m(X.getFieldsValue().value,te)});case 2:if(x=A.sent,!x.success){A.next=6;break}return h(x.success===!0),A.abrupt("return",x.success);case 6:return A.abrupt("return");case 7:case"end":return A.stop()}},le)})),children:[Object(t.jsxs)(_.a.Group,{children:[Object(t.jsx)(r.a,{disabled:!0,name:"public",label:Object(t.jsx)(n.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(r.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(n.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(_.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(n.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(ee,{code:!0,children:JSON.stringify(X.getFieldValue("rules"))})}})]}),te===v.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(ue.a,{width:"lg",name:"value",label:Object(t.jsx)(n.a,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(_.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(Te.a,{src:JSON.parse(X.getFieldValue("value"))})}catch(x){return Object(t.jsx)(Te.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(_.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(n.a,{id:"value"}),children:function(){return Object(t.jsx)(Oe,{field:X.getFieldValue("rules"),name:"value"})}})})]})},$=U,M=e("c+yx"),Y=[{title:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:Object(t.jsx)(n.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(o,s){return Object(t.jsx)(S.a,{color:s.readonly?"success":"error",children:Object(t.jsx)(n.a,{id:s.readonly?"true":"false",defaultMessage:s.readonly?"true":"false"})})}},{title:Object(t.jsx)(n.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(o,s){return Object(t.jsx)(S.a,{color:s.public?"success":"error",children:Object(t.jsx)(n.a,{id:s.public?"true":"false",defaultMessage:s.public?"true":"false"})})}},{title:Object(t.jsx)(n.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(o,s){return typeof s.value=="boolean"?Object(t.jsx)(S.a,{color:s.value?"success":"error",children:Object(t.jsx)(n.a,{id:s.value?"true":"false",defaultMessage:s.value?"true":"false"})}):Array.isArray(s.value)?s.value.map(function(c){return typeof c=="object"?V.a.Children.toArray(Object(t.jsx)("p",{children:Object.keys(c).map(function(i){return"".concat(i,": ").concat(c[i])}).join(", ")})):c}):s.value}}],de=function N(o,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!o||typeof o!="object"?!1:(Object.keys(o).forEach(function(i){var h=o[i];i===s?c.push(o):typeof h=="object"&&N(h,s,c)}),c)},Se=function(o){var s=o.packageName,c=o.values,i=o.onValueUpdated,h=Object(n.l)(),O=Object(g.useState)(),B=Object(P.a)(O,2),be=B[0],X=B[1],te=Object(g.useMemo)(function(){var le=c[s];return de(le,"rules")},[c,s]);return Object(t.jsxs)(V.a.Fragment,{children:[Object(t.jsx)(I.a,{headerTitle:h.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(Y,[{hideInSearch:!0,title:Object(t.jsx)(n.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(x,ce){return[Object(t.jsx)(T.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(K.a,{type:"primary",icon:Object(t.jsx)(ye.a,{}),onClick:function(){return X(ce)}})},"edit")]}}]),request:function(x,ce){var A=x.key,z=ce&&Object.entries(ce)[0];return new Promise(function(ae){var oe=te?Object(Re.a)(te):[];A&&(oe=oe.filter(function(pe){return pe.key.toLowerCase().includes(A.toLowerCase())})),z&&(oe=Object(M.i)(oe,z[0],z[1]!=="ascend")),ae({data:oe,success:!0,total:oe.length})})}}),be&&Object(t.jsx)($,{value:be,visible:be!==void 0,onVisibleChange:function(x){return x===!1&&X(void 0)},onFinish:Object(u.a)(Object(D.a)().mark(function le(){return Object(D.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:i();case 1:case"end":return ce.stop()}},le)}))})]})},se=Se,Q=e("t4ZK"),ge=e("I5X1"),Ie=function(o){return o.replaceAll("escolalms","").split("_").join("")},Ke=E.default=function(){var N=Object(C.l)(),o=Object(n.l)(),s=N.tab,c=s===void 0?"user_settings":s,i=Object(g.useState)(),h=Object(P.a)(i,2),O=h[0],B=h[1],be=Object(g.useCallback)(function(){Object(a.a)().then(function(x){x.success&&B(x.data)})},[]),X=Object(ge.a)("@@initialState"),te=X.initialState,le=Object(g.useCallback)(function(){var x;return(te==null||(x=te.config)===null||x===void 0?void 0:x.length)!==0},[te]);return Object(g.useEffect)(function(){be()},[]),O?Object(t.jsxs)(d.a,{title:Object(t.jsx)(n.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:o.formatMessage({id:"menu.Configuration.settings"})},{path:String(c),breadcrumbName:String(c)}]}},children:[!le()&&Object(t.jsx)(w.a,{message:Object(t.jsx)(n.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(t.jsx)(n.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(t.jsxs)(p.a,{tabs:{type:"card",activeKey:c,onChange:function(ce){return n.f.push("/configuration/settings/".concat(ce))}},children:[Object(t.jsx)(p.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"user.settings"}),children:Object(t.jsx)(k,{})},"user_settings"),Object(t.jsx)(p.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"global_settings"}),children:Object(t.jsx)(Q.a,{})},"global_settings"),Object.keys(O).map(function(x){return Object(t.jsxs)(p.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(n.a,{id:"package"})," ",Ie(x)]}),children:[Object(t.jsx)(se,{values:O,packageName:x,onValueUpdated:function(){return be()}}),x]},x)})]})]}):Object(t.jsx)(Z.a,{})}},hd5d:function(ve,E,e){"use strict";var ie=e("qLMh"),w=e("9og8"),R=e("q1tI"),Z=e.n(R),P=e("acco"),g=e.n(P),V=e("BAh9"),p=e("vtG9"),C=e.n(p),n=e("9kvl"),d=e("nKUr"),a=e.n(d),re=function(T){var l=T.attrs,K=l.href,J=K.split("/").pop();return Object(d.jsx)("p",{children:Object(d.jsx)("a",{rel:"noreferrer",href:K,target:"_blank",children:J})})},ne=function(T){var l=T.value,K=T.onChange,J=T.directory,S=J===void 0?"/wysiwyg":J,je=Object(n.l)();return Object(d.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(d.jsx)(g.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(W){return!0},component:re}],uploadImage:function(){var D=Object(w.a)(Object(ie.a)().mark(function W(fe){var H,u;return Object(ie.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Object(V.e)(fe,S);case 2:if(H=I.sent,!H.success){I.next=8;break}if(!fe.type.includes("image/")){I.next=7;break}return u=H.data[0].name.includes("/")?H.data[0].name:"".concat(S).concat(H.data[0].name),I.abrupt("return",Object(V.d)(u,1e3));case 7:return I.abrupt("return",H.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return I.stop()}},W)}));return function(W){return D.apply(this,arguments)}}(),defaultValue:l||"",onChange:function(W){return K&&K(W())},placeholder:je.formatMessage({id:"wysiwyg_placeholder"})})})};E.a=ne},t4ZK:function(ve,E,e){"use strict";e.d(E,"b",function(){return k});var ie=e("P2fV"),w=e("NJEC"),R=e("+L6B"),Z=e("2/Rp"),P=e("5Dmo"),g=e("3S7+"),V=e("tJVT"),p=e("oBTY"),C=e("qLMh"),n=e("k1fw"),d=e("miYZ"),a=e("tsqr"),re=e("9og8"),ne=e("xvlK"),q=e("q1tI"),T=e.n(q),l=e("9kvl"),K=e("Qiat"),J=e("/y+f"),S=e("+up7"),je=e("HEzf"),D=e("+YFz"),W=e("G3dp"),fe=e("/MfK"),H=e("ujla"),u=e("nKUr"),Ee=e.n(u),I=function(){var b=Object(re.a)(Object(C.a)().mark(function L(F,_,r){var ue,G;return Object(C.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return ue=a.b.loading(F.formatMessage({id:"loading"})),y.prev=1,y.next=4,r&&r!==-1?Object(S.i)(r,Object(n.a)({},_)):Object(S.b)(Object(n.a)({},_));case 4:return G=y.sent,ue(),a.b.success(F.formatMessage({id:"success"})),y.abrupt("return",{success:!0,updatedSettings:G});case 10:return y.prev=10,y.t0=y.catch(1),ue(),a.b.error(F.formatMessage({id:"error"})),y.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return y.stop()}},L,null,[[1,10]])}));return function(F,_,r){return b.apply(this,arguments)}}(),Le=function(){var b=Object(re.a)(Object(C.a)().mark(function L(F,_){var r;return Object(C.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return r=a.b.loading(F.formatMessage({id:"loading"})),G.prev=1,G.next=4,Object(S.c)(_);case 4:return r(),a.b.success(F.formatMessage({id:"success"})),G.abrupt("return",!0);case 9:return G.prev=9,G.t0=G.catch(1),r(),a.b.error(F.formatMessage({id:"error"})),G.abrupt("return",!1);case 14:case"end":return G.stop()}},L,null,[[1,9]])}));return function(F,_){return b.apply(this,arguments)}}(),ye=function(L){return L.toLowerCase().replace(/(_\w)/g,function(F){return F.toUpperCase().substr(1)})},Ce=function b(L){return L.reduce(function(F,_){return[].concat(Object(p.a)(F),Object(p.a)(_.routes?b(_.routes):[]),[_])},[]).filter(function(F){return F.layout!==!1&&F.hideInMenu!==!0})},t=["statistics","user_submission","user_projects"],De=["public"],Fe=["email","sms"],Ae=function(L){return"hideInMenu-".concat(ye(L.split("/").join("_")))},k=function(L){return"disableTopicType-".concat(L)},Re=[].concat(Object(p.a)(Object.keys(J.h).map(function(b){return{key:k(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(p.a)(Ce(Object(H.a)()).filter(function(b){return b.path&&b.path!=="/"}).map(function(b){return{path:b.path,key:Ae(b.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(p.a)(["ECommerce","Certificates"].map(function(b){return{key:"disable-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(p.a)(De.map(function(b){return{key:"showInCourseAdditionalSettings-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(p.a)(t.map(function(b){return{key:"hideInCourseTabs-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(p.a)(Fe.map(function(b){return{key:"hideTemplateTab-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(b,L,F){return b[L.key]=Object(n.a)(Object(n.a)({},L),{},{id:-100*F}),b},{}),Me=Object(n.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"}},Re),Ue=function(){var L=Object(q.useState)(!1),F=Object(V.a)(L,2),_=F[0],r=F[1],ue=Object(q.useRef)(),G=Object(l.l)(),Te=Object(l.m)("@@initialState"),y=Te.setInitialState,f=Te.initialState,me=[{title:Object(u.jsx)(l.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(v,j){return Object(u.jsx)(q.Fragment,{children:Object(u.jsxs)(g.a,{title:Object(u.jsx)(l.a,{id:"Settings.tooltip.".concat(j.key)}),children:[j.key," ",Object(u.jsx)(D.a,{})]})})}},{title:Object(u.jsx)(l.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(u.jsx)(l.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(v,j){return j.value}},{hideInSearch:!0,title:Object(u.jsx)(l.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(v,j){return[j.id>0?Object(u.jsx)(g.a,{title:Object(u.jsx)(l.a,{id:"edit",defaultMessage:"edit"}),children:Object(u.jsx)(Z.a,{type:"primary",icon:Object(u.jsx)(W.a,{}),onClick:function(){return r(j.id)}})},"edit"):Object(u.jsx)(g.a,{title:Object(u.jsx)(l.a,{id:"create",defaultMessage:"create"}),children:Object(u.jsx)(Z.a,{type:"primary",icon:Object(u.jsx)(ne.a,{}),onClick:function(){r(Me[j.key]||-1)}})},"create"),Object(u.jsx)(w.a,{title:Object(u.jsx)(l.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(re.a)(Object(C.a)().mark(function m(){var U;return Object(C.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Le(G,j.id);case 2:U=M.sent,U&&(r(!1),ue.current&&ue.current.reload());case 4:case"end":return M.stop()}},m)})),okText:Object(u.jsx)(l.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(u.jsx)(l.a,{id:"no",defaultMessage:"No"}),children:j.id>0?Object(u.jsx)(g.a,{title:Object(u.jsx)(l.a,{id:"delete",defaultMessage:"delete"}),children:Object(u.jsx)(Z.a,{type:"primary",icon:Object(u.jsx)(fe.a,{}),danger:!0})}):null},"delete")]}}],Oe=function(v){var j;if(!!v&&(!(f!=null&&(j=f.config)!==null&&j!==void 0&&j.length)&&v&&y(Object(n.a)(Object(n.a)({},f),{},{config:[v]})),!!(f!=null&&f.config))){var m=f==null?void 0:f.config.map(function(U){return U.key===v.key?Object(n.a)(Object(n.a)({},U),v):U});y(Object(n.a)(Object(n.a)({},f),{},{config:m}))}};return Object(u.jsxs)(T.a.Fragment,{children:[Object(u.jsx)(K.a,{headerTitle:G.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:ue,rowKey:"id",request:function(v){var j=v.pageSize,m=v.current;return Object(S.g)({per_page:j,current:m,group:"global"}).then(function(U){if(U.success){var $=[].concat(Object(p.a)(Object.keys(Me).map(function(M){return U.data.find(function(Y){return Y.key===M})||Me[M]})),Object(p.a)(U.data.filter(function(M){return!Object.keys(Me).includes(M.key)})));return{data:$,total:$.length,success:!0}}return[]})},columns:me}),Object(u.jsx)(je.a,{groups:[],id:_,visible:_,initialData:Me,onVisibleChange:function(v){return!v&&r(!1)},onFinish:function(){var ee=Object(re.a)(Object(C.a)().mark(function v(j){var m,U,$,M;return Object(C.a)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return m=j,m.type==="number"&&(m=Object(n.a)(Object(n.a)({},m),{},{value:String(m.data)})),m.type==="boolean"&&(m=Object(n.a)(Object(n.a)({},m),{},{value:m.data})),m.type==="array"&&(m=Object(n.a)(Object(n.a)({},m),{},{value:JSON.parse(m.value)})),de.next=6,I(G,m,Number(_));case 6:U=de.sent,$=U.success,M=U.updatedSettings,$&&(M!=null&&M.success&&Oe(M.data),r(!1),ue.current&&ue.current.reload());case 10:case"end":return de.stop()}},v)}));return function(v){return ee.apply(this,arguments)}}()})]})};E.a=Ue},tneF:function(ve,E,e){"use strict";var ie=e("sRBo"),w=e("kaz8"),R=e("VTBJ"),Z=e("Ff2n"),P=e("nKUr"),g=e.n(P),V=e("uX+g"),p=e("q1tI"),C=e.n(p),n=e("WFLz"),d=e("adzw"),a=["options","fieldProps","proFieldProps","valueEnum"],re=C.a.forwardRef(function(l,K){var J=l.options,S=l.fieldProps,je=l.proFieldProps,D=l.valueEnum,W=Object(Z.a)(l,a);return Object(P.jsx)(d.a,Object(R.a)({ref:K,valueType:"checkbox",valueEnum:Object(V.a)(D,void 0),fieldProps:Object(R.a)({options:J},S),lightProps:Object(R.a)({labelFormatter:function(){return Object(P.jsx)(d.a,Object(R.a)({ref:K,valueType:"checkbox",mode:"read",valueEnum:Object(V.a)(D,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(R.a)({options:J},S),proFieldProps:je},W))}},W.lightProps),proFieldProps:je},W))}),ne=C.a.forwardRef(function(l,K){var J=l.fieldProps,S=l.children;return Object(P.jsx)(w.a,Object(R.a)(Object(R.a)({ref:K},J),{},{children:S}))}),q=Object(n.a)(ne,{valuePropName:"checked"}),T=q;T.Group=re,E.a=T},vtG9:function(ve,E,e){}}]);

//# sourceMappingURL=p__Settings.60793774.async.js.map