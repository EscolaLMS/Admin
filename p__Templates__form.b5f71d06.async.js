(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"B0O/":function(be,N,t){"use strict";var E=t("Mwp2"),B=t("VXEj"),X=t("+L6B"),K=t("2/Rp"),xe=t("tU7J"),le=t("wFql"),Te=t("/zsF"),te=t("PArb"),Se=t("T2oS"),ce=t("W9HT"),Ce=t("fOrg"),W=t("+KLJ"),$=t("tJVT"),A=t("q1tI"),O=t("9kvl"),x=t("qLMh"),U=t("k1fw"),ae=t("9og8");function Oe(H,I){return k.apply(this,arguments)}function k(){return k=Object(ae.a)(Object(x.a)().mark(function H(I,R){return Object(x.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",Object(O.i)("/api/admin/pdfs",Object(U.a)({params:Object(U.a)({},I),method:"GET"},R||{})));case 1:case"end":return S.stop()}},H)})),k.apply(this,arguments)}function p(H,I){return w.apply(this,arguments)}function w(){return w=Object(ae.a)(Object(x.a)().mark(function H(I,R){return Object(x.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",Object(O.i)("/api/pdfs/".concat(I),Object(U.a)({method:"GET"},R||{})));case 1:case"end":return S.stop()}},H)})),w.apply(this,arguments)}function c(H,I){return j.apply(this,arguments)}function j(){return j=Object(ae.a)(Object(x.a)().mark(function H(I,R){return Object(x.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",Object(O.i)("/api/pdfs/generate/".concat(I),Object(U.a)({method:"GET"},R||{})));case 1:case"end":return S.stop()}},H)})),j.apply(this,arguments)}var h=t("oBTY"),M=t("Iab2"),m=t("xOOu"),g=t.n(m),T=t("nKUr"),Fe=function(I){var R=I.pdfIds,re=I.onProgress,S=I.onFinished,pe=I.filename,ue=pe===void 0?"package.zip":pe,ne=Object(A.useState)([]),q=Object($.a)(ne,2),je=q[0],fe=q[1],he=Object(A.useCallback)(function(se){var ie=new g.a;se.forEach(function(z,_){return ie.file("".concat(R[_],".pdf"),z)}),ie.generateAsync({type:"blob"}).then(function(z){Object(M.saveAs)(z,ue),S&&S()})},[je,ue]);return Object(A.useEffect)(function(){R.forEach(function(se){var ie=fetch("".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/pdfs/generate/").concat(se),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}});ie.then(function(z){return z.blob()}).then(function(z){z&&z instanceof Blob&&fe(function(_){var oe=(_.length+1)/R.length;return re&&re(oe),oe>=1&&he([].concat(Object(h.a)(_),[z])),[].concat(Object(h.a)(_),[z])})})})},[R]),Object(T.jsxs)("p",{children:["Progress ",je.length," / ",R.length]})},ve=Fe,Ae=t("Vpfc"),de=t("dF/Y"),u=t("39sE"),e=function(I){var R=I.user_id,re=I.template_id,S=I.title,pe=Object(A.useState)({state:"initial"}),ue=Object($.a)(pe,2),ne=ue[0],q=ue[1],je=Object(A.useState)({state:"initial"}),fe=Object($.a)(je,2),he=fe[0],se=fe[1],ie=Object(A.useState)(!1),z=Object($.a)(ie,2),_=z[0],oe=z[1];Object(A.useEffect)(function(){q({state:"loading"});var ee=new AbortController;return Oe({user_id:R,template_id:re},{signal:ee.signal}).then(function(V){V&&V.success?q({state:"loaded",list:V.data}):V&&!V.success&&q({state:"error",error:V.message})}).catch(function(V){return q({state:"error",error:V.toString()})}),function(){ee.abort()}},[]);var Pe=Object(A.useCallback)(function(ee){se({state:"loading"}),p(ee).then(function(V){V.success?se({state:"loaded",data:V.data.content}):se({state:"initial"})})},[]);return ne.state==="error"?Object(T.jsx)(W.a,{message:"Error Text",type:"error"}):ne.state==="loading"||ne.state==="initial"?Object(T.jsx)(ce.a,{}):Object(T.jsxs)(A.Fragment,{children:[Object(T.jsx)(te.a,{}),_&&Object(T.jsx)(ve,{pdfIds:ne.list.map(function(ee){return ee.id}),onFinished:function(){return oe(!1)}}),Object(T.jsx)(B.b,{size:"small",itemLayout:"horizontal",dataSource:ne.list,header:Object(T.jsxs)("div",{children:[Object(T.jsx)(O.a,{id:"template"})," ",S&&Object(T.jsx)(le.a.Text,{strong:!0,children:S}),". ",Object(T.jsx)(O.a,{id:"generated_pdfs",defaultMessage:"Generated PDFs"})," ",Object(T.jsx)(K.a,{loading:_,type:"primary",onClick:function(){return oe(!0)},icon:Object(T.jsx)(de.a,{}),size:"small",children:Object(T.jsx)(O.a,{id:"download_all",defaultMessage:"Download all PDFs"})})]}),renderItem:function(V){return Object(T.jsxs)(B.b.Item,{actions:[Object(T.jsx)(u.a,{url:"/api/pdfs/generate/".concat(V.id),filename:"generated-".concat(V.id,".pdf"),size:"small",icon:Object(T.jsx)(de.a,{}),type:"primary",onClick:function(){return Pe(V.id)},loading:he.state==="loading",children:Object(T.jsx)(O.a,{id:"download_pdf",defaultMessage:"Download PDFs"})},"download")],children:[V.title," ",Object(T.jsx)(Ae.a,{type:"App\\Models\\User",type_id:V.user_id})]})}})]})},Me=N.a=e},BOG6:function(be,N,t){"use strict";t.r(N);var E=t("DYRE"),B=t("zeV3"),X=t("tU7J"),K=t("wFql"),xe=t("+BJd"),le=t("mr32"),Te=t("/zsF"),te=t("PArb"),Se=t("T2oS"),ce=t("W9HT"),Ce=t("miYZ"),W=t("tsqr"),$=t("qLMh"),A=t("9og8"),O=t("k1fw"),x=t("jrin"),U=t("tJVT"),ae=t("oBTY"),Oe=t("fu2T"),k=t("gK9i"),p=t("q1tI"),w=t.n(p),c=t("VMEa"),j=t("Qurx"),h=t("yj/a"),M=t("tneF"),m=t("nhC9"),g=t("rWUb"),T=t("tMyG"),Fe=t("fOrg"),ve=t("+KLJ"),Ae=t("+L6B"),de=t("2/Rp"),u=t("9kvl"),e=t("nKUr"),Me=function(i){var a=i.disabled,r=a===void 0?!1:a,b=i.id,D=i.onPreviewData,C=Object(p.useState)({state:"ready"}),f=Object(U.a)(C,2),d=f[0],s=f[1],l=Object(p.useCallback)(function(){s({state:"loading"}),Object(g.c)(b).then(function(n){n.success?(D&&D(n.data),n.data.sent&&n.data.to?s({state:"loaded",data:n.data,message:"email sent to ".concat(n.data.to)}):n.data.url?s({state:"loaded",data:n.data,message:Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)(u.a,{id:"download"})," ",Object(e.jsx)("a",{target:"_blank",href:n.data.url,rel:"noreferrer",children:n.data.filename})]})}):s({state:"loaded",data:n.data,message:n.message})):s({state:"error",error:n.message})}).catch(function(){s({state:"error",error:"error"})})},[b]);return Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)(de.a,{type:"primary",loading:d.state==="loading",disabled:r,onClick:l,children:Object(e.jsx)(u.a,{id:"preview"})}),d.state==="loaded"&&Object(e.jsx)(ve.a,{message:d.message,type:"success",closable:!0,onClose:function(){return s({state:"ready"})}}),d.state==="error"&&Object(e.jsx)(ve.a,{message:d.error,type:"error",closable:!0,onClose:function(){return s({state:"ready"})}})]})},H=Me,I=t("Ty5D"),R=t("BiO0"),re=t("PGov"),S=t("D6/r"),pe=t("wbUo"),ue=function(i){return Object(e.jsxs)("div",{className:"".concat(i.entity.required&&"required"),children:["@","".concat(i.entity.name)]})},ne=function(i){var a=i.requiredVariables,r=i.variables,b=i.onChange,D=i.value,C=i.error,f=i.styles,d=r.map(function(s){return{name:s.substring(1),required:a.includes(s)}});return Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)(re.a,{style:f,className:"ant-input pro-field pro-field-lg rta__textarea_wide ".concat(C.length&&"error"),onChange:function(l){return b(l.target.value)},loadingComponent:function(){return Object(e.jsx)(u.a,{id:"loading"})},minChar:0,value:D,itemStyle:{fontSize:"16px"},trigger:{"@":{dataProvider:function(l){return d.filter(function(n){return n.name.startsWith(l)})},component:ue,output:function(l,n){return"".concat(n).concat(l.name)}}}}),Object(e.jsx)("div",{role:"alert",className:"ant-form-item-explain-error",children:C})]})},q=ne,je=t("UF3W"),fe=t("bXNp"),he=t("ctOJ"),se=function(i){switch(i.toLocaleLowerCase()){case"varusername":return"John Doe";case"varcoursetitle":return"How to be an LMS Expert";case"varappname":return"Wellms Headless LMS";default:return"Lorem Ipsum"}};function ie(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function z(o){return ie(o)&&typeof(o==null?void 0:o.version)=="number"&&ie(o==null?void 0:o.documentProperties)&&Array.isArray(o==null?void 0:o.styles)&&Array.isArray(o==null?void 0:o.parameters)&&Array.isArray(o==null?void 0:o.docElements)}var _=function(i,a,r){var b=Math.max.apply(null,i.parameters?[i.parameters.map(function(f){return f.id}),i.docElements.map(function(f){return f.id})].flat():[1])+1,D=i.parameters?i.parameters.reduce(function(f,d){return Object(O.a)(Object(O.a)({},f),{},Object(x.a)({},d.name,d))},{}):{},C=a.map(function(f){return f.replace("@","")}).reduce(function(f,d,s){return f[d]?Object(O.a)(Object(O.a)({},f),{},Object(x.a)({},d,Object(O.a)(Object(O.a)({},f[d]),{},{id:b+s}))):Object(O.a)(Object(O.a)({},f),{},Object(x.a)({},d,{id:b+s,name:d,type:"string",arrayItemType:"string",eval:!1,nullable:!r.includes(d),pattern:"",expression:"",showOnlyNameType:!1,testData:se(d)}))},D);return Object.assign({},i,{parameters:Object.values(C)})},oe=function(i){var a=i.onTemplateSaved,r=i.reportBroTemplate,b=r===void 0?null:r,D=i.field,C=i.variables,f=i.onTemplateUpdated,d=Object(p.useRef)(null),s=function(n){var P=n.nativeEvent.target.tagName.toLowerCase();switch(P){case"span":case"button":n.nativeEvent.stopPropagation(),n.nativeEvent.preventDefault();default:return}};return Object(p.useEffect)(function(){if(d.current){var l=new je.ReportBro(d.current,{enableSpreadsheet:!1,fonts:[{name:"Open Sans",value:"Open Sans"}],defaultFont:"Open Sans",reportServerUrl:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/pdfs/reportbro/report/run"),saveCallback:function(){a(l.getReport())},cmdExecutedCallback:function(){f&&f(l.getReport())}});b&&z(b)&&l.load(_(b,C,D.required_variables))}},[d]),Object(e.jsx)("div",{ref:d,className:"pdf-editor",onClick:s,children:"pdf editor"})},Pe=oe,ee=t("JAl+"),V=function(i){var a=i.name,r=i.field,b=i.variables,D=b===void 0?[]:b,C=Object(p.useCallback)(function(s){if(s.length)return Object(e.jsx)(B.b,{children:Object(e.jsxs)(K.a,{children:[Object(e.jsx)(u.a,{id:"templates.required_variables"}),":"," ",s.map(function(l){return Object(e.jsx)(le.a,{color:"red",children:l},l)})]})})},[r,a]),f=Object(p.useCallback)(function(s,l){return s&&l.every(function(n){return s.includes(n)})?Promise.resolve():Promise.reject(new Error("No required variable used"))},[r,a]),d=Object(p.useCallback)(function(){if(!r.readonly)switch(r.type){case"text":case"url":return Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)("label",{children:Object(e.jsx)(u.a,{id:a})}),Object(e.jsx)(c.a.Item,{shouldUpdate:!0,children:function(l){return Object(e.jsx)(q,{requiredVariables:r.required_variables,variables:D,value:l.getFieldValue(a),onChange:function(P){return l.setFieldsValue(Object(x.a)({},a,P))},error:l.getFieldError(a),styles:{width:"100%",height:"100px"}})}}),Object(e.jsx)(j.a,{name:a,shouldUpdate:!0,hidden:!0,rules:r.readonly?void 0:[{required:r.required,message:Object(e.jsx)(u.a,{id:"templates.this_required"})},{validator:function(){var s=Object(A.a)(Object($.a)().mark(function n(P,y){return Object($.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",f(y,r.required_variables));case 1:case"end":return G.stop()}},n)}));function l(n,P){return s.apply(this,arguments)}return l}()}]}),C(r.required_variables)]});case"fabric.js":return Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)(c.a.Item,{shouldUpdate:!0,children:function(l){return Object(e.jsx)(Pe,{reportBroTemplate:l.getFieldValue(a)&&JSON.parse(l.getFieldValue(a)),variables:D,field:r,onTemplateSaved:function(P){l.setFieldsValue(Object(x.a)({},a,JSON.stringify(P))),l.submit()},onTemplateUpdated:function(P){l.setFieldsValue(Object(x.a)({},a,JSON.stringify(P)))}})}}),Object(e.jsx)(R.a,{name:a,shouldUpdate:!0,width:"lg",hidden:!0})]});case"html":return Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)(R.a,{readonly:r.readonly,shouldUpdate:!0,width:"lg",label:Object(e.jsx)(u.a,{id:a}),name:a,tooltip:Object(e.jsx)(u.a,{id:"templates.html_tooltip"}),rules:r.readonly?void 0:[{required:r.required,message:Object(e.jsx)(u.a,{id:"templates.this_required"})},{validator:function(){var s=Object(A.a)(Object($.a)().mark(function n(P,y){return Object($.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",f(y,r.required_variables));case 1:case"end":return G.stop()}},n)}));function l(n,P){return s.apply(this,arguments)}return l}()}]}),C(r.required_variables)]});case"mjml":return Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsxs)("p",{children:[Object(e.jsx)(u.a,{id:"templates.to_create_template"})," ",Object(e.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://mjml.io/try-it-live",children:"https://mjml.io/try-it-live"})]}),Object(e.jsx)("code",{children:Object(e.jsx)(u.a,{id:"code.snippet"})}),Object(e.jsx)(c.a.Item,{shouldUpdate:!0,children:function(l){return Object(e.jsx)(q,{requiredVariables:r.required_variables,variables:D,value:l.getFieldValue(a),onChange:function(P){return l.setFieldsValue(Object(x.a)({},a,P))},error:l.getFieldError(a),styles:{width:"100%",height:"40vh"}})}}),Object(e.jsx)(R.a,{name:a,shouldUpdate:!0,hidden:!0,rules:r.readonly?void 0:[{required:r.required,message:Object(e.jsx)(u.a,{id:"templates.this_required"})},{validator:function(){var s=Object(A.a)(Object($.a)().mark(function n(P,y){return Object($.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",f(y,r.required_variables));case 1:case"end":return G.stop()}},n)}));function l(n,P){return s.apply(this,arguments)}return l}()}]}),C(r.required_variables)]});default:return}},[r,a,D]);return Object(e.jsx)(w.a.Fragment,{children:d()})},Ie=V,$e=t("B0O/"),Ee=t("/y+f"),st=t("5Dmo"),Ve=t("3S7+"),Re=t("0WSk"),Ge=function(i){var a=i.templateId,r=Object(p.useState)(!1),b=Object(U.a)(r,2),D=b[0],C=b[1],f=Object(p.useState)([]),d=Object(U.a)(f,2),s=d[0],l=d[1],n=Object(u.l)(),P=Object(p.useCallback)(function(){C(!0),Object(g.f)(Number(a),s).then(function(y){y.success?W.b.success(y.message):W.b.error(y.message)}).catch(function(y){return W.b.error(y.toString())}).finally(function(){return C(!1)})},[s,a]);return Object(e.jsxs)(B.b,{children:[Object(e.jsx)(Re.a,{multiple:!0,value:s,onChange:function(L){return l(L)}}),Object(e.jsx)(Ve.a,{title:n.formatMessage({id:"generate_pdf_users_tooltip"}),children:Object(e.jsx)(de.a,{loading:D,onClick:function(){return P()},disabled:!s.length,children:Object(e.jsx)(u.a,{id:"generate"})})})]})},Je=Ge,ze=t("qSko"),Ke=function(i){var a=i.templateId,r=Object(p.useState)(!1),b=Object(U.a)(r,2),D=b[0],C=b[1],f=Object(p.useState)(),d=Object(U.a)(f,2),s=d[0],l=d[1],n=Object(u.l)(),P=Object(p.useCallback)(function(){C(!0),typeof s=="number"&&Object(g.g)(Number(a),Number(s)).then(function(y){y.success?W.b.success(y.message):W.b.error(y.message)}).catch(function(y){return W.b.error(y.toString())}).finally(function(){return C(!1)})},[s,a]);return Object(e.jsxs)(B.b,{children:[Object(e.jsx)(ze.a,{multiple:!1,value:s,onChange:function(L){return l(L)}}),Object(e.jsx)(Ve.a,{title:n.formatMessage({id:"generate_pdf_products_tooltip"}),children:Object(e.jsx)(de.a,{loading:D,onClick:function(){return P()},disabled:!s,children:Object(e.jsx)(u.a,{id:"generate"})})})]})},We=Ke,He=k.a.Panel,Ye=function(i){return Object.entries(i).map(function(a){return{key:a[0],content:a[1]}})},De=function(i){return Object.assign.apply(Object,[{}].concat(Object(ae.a)(i)))},Ze=function(i){var a=["name","event","default"];return Object.keys(i).filter(function(r){return!a.includes(r)}).reduce(function(r,b){return r[b]=i[b],r},{})},ge=Ee.h,it=N.default=function(){var o=Object(u.l)(),i=Object(I.l)(),a=i.template,r=i.id,b=r==="new",D=Object(p.useState)(!1),C=Object(U.a)(D,2),f=C[0],d=C[1],s=c.a.useForm(),l=Object(U.a)(s,1),n=l[0],P=Object(p.useState)(),y=Object(U.a)(P,2),L=y[0],G=y[1],Xe=Object(p.useState)(void 0),Ue=Object(U.a)(Xe,2),Y=Ue[0],Qe=Ue[1],ke=Object(p.useState)(),we=Object(U.a)(ke,2),qe=we[0],_e=we[1],et=Object(p.useState)(!1),Le=Object(U.a)(et,2),Ne=Le[0],tt=Le[1];Object(p.useEffect)(function(){Object(g.i)().then(function(F){G(F.success?F.data:{})})},[]),Object(p.useEffect)(function(){var F=n.getFieldsValue(),v=Y&&Object.keys(Y.sections).map(function(J){return Object(x.a)({},J,Y.sections[J].default_content)});v&&b&&n.setFieldsValue(Object(O.a)(Object(O.a)({},F),De(v)))},[Y]);var Be=Object(p.useCallback)(function(F){if(F&&a){var v=L&&L[F][ge[a]];Qe(v)}tt(F===Ee.i.ManuallyTriggeredEvent)},[L,r]),at=Object(p.useCallback)(Object(A.a)(Object($.a)().mark(function F(){var v,J,Q;return Object($.a)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,Object(g.d)(Number(r));case 2:v=me.sent,v.success&&(J=v.data.sections&&v.data.sections.map(function(Z){return Object(x.a)({},Z.key,Z.content)}),Q=J&&De(J),n.setFieldsValue(Object(O.a)(Object(O.a)({},v.data),Q)),Be(String(v.data.event)),d(!0));case 4:case"end":return me.stop()}},F)})),[r,L]),rt=Object(p.useCallback)(function(){var F=Object(A.a)(Object($.a)().mark(function v(J){var Q,ye;return Object($.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(ye=Object(O.a)(Object(O.a)({},J),{},{channel:ge[a],sections:Ye(Ze(J))}),!b){Z.next=8;break}return Z.next=4,Object(g.a)(ye);case 4:Q=Z.sent,Q.success&&u.f.push("/configuration/templates/".concat(a,"/").concat(Q.data.id)),Z.next=11;break;case 8:return Z.next=10,Object(g.h)(Number(r),ye);case 10:Q=Z.sent;case 11:d(!0),W.b.success(Q.message);case 13:case"end":return Z.stop()}},v)}));return function(v){return F.apply(this,arguments)}}(),[L,r]);Object(p.useEffect)(function(){b||at()},[r,L]);var nt=Object(p.useCallback)(function(F){return L?Object.keys(L).reduce(function(v,J){return L[J][F]?Object(O.a)(Object(O.a)({},v),{},Object(x.a)({},J,o.formatMessage({id:J,defaultMessage:J}))):v},{}):{}},[L]);return Object(e.jsxs)(T.a,{title:b?Object(e.jsxs)("span",{children:[Object(e.jsx)(u.a,{id:"new"})," ",a," ",Object(e.jsx)(u.a,{id:"template"})]}):Object(e.jsxs)("span",{children:[Object(e.jsx)(u.a,{id:"edit"})," ",a," ",Object(e.jsx)(u.a,{id:"template"})]}),children:[Object(e.jsx)(m.a,{size:"small",children:Object(e.jsxs)(c.a,{initialValues:{},onFinish:rt,form:n,onValuesChange:function(){var v=n.getFieldsValue();Be(v.event),d(!1)},children:[Object(e.jsxs)(c.a.Group,{children:[Object(e.jsx)(j.a,{width:"sm",name:"name",label:Object(e.jsx)(u.a,{id:"name"}),placeholder:o.formatMessage({id:"name"}),rules:[{required:!0,message:Object(e.jsx)(u.a,{id:"select"})}]}),Object(e.jsx)(h.a,{name:"event",width:"lg",label:Object(e.jsx)(u.a,{id:"event"}),valueEnum:L?nt(ge[a]):{},placeholder:o.formatMessage({id:"event"}),rules:[{required:!0,message:Object(e.jsx)(u.a,{id:"select"})}]}),Object(e.jsx)(c.a.Item,{label:Object(e.jsx)(u.a,{id:"templates.set_as_default_template"}),children:Object(e.jsx)(M.a,{name:"default"})})]}),!b&&a!=="pdf"&&Object(e.jsxs)(c.a.Group,{children:[Object(e.jsx)(c.a.Item,{label:Object(e.jsx)(u.a,{id:"preview"}),children:Object(e.jsx)(H,{disabled:!f,id:Number(r),type:a,onPreviewData:function(v){v&&v.data&&v.data.content&&_e(v.data.content)}})}),Ne&&Object(e.jsx)(c.a.Item,{label:Object(e.jsx)(u.a,{id:"generate_pdf"}),tooltip:Object(e.jsx)(u.a,{id:"generate_pdf_tooltip"}),children:Object(e.jsx)(Je,{templateId:Number(r)})}),Ne&&Object(e.jsx)(c.a.Item,{label:Object(e.jsx)(u.a,{id:"generate_pdf"}),tooltip:Object(e.jsx)(u.a,{id:"generate_pdf_tooltip"}),children:Object(e.jsx)(We,{templateId:Number(r)})})]}),ge[a]===Ee.h.pdf&&!b&&Object(e.jsx)(k.a,{ghost:!0,destroyInactivePanel:!0,defaultActiveKey:[-1],children:Object(e.jsx)(He,{header:Object(e.jsx)(u.a,{id:"generated_pdfs"}),children:Object(e.jsx)($e.a,{template_id:Number(r)})},0)}),!Y&&!b?Object(e.jsx)(ce.a,{}):Y&&Y.sections&&Object.keys(Y.sections).map(function(F,v){var J=Y.sections&&Y.sections[F];return Object(e.jsxs)(w.a.Fragment,{children:[v===0&&a!=="pdf"&&Object(e.jsxs)(w.a.Fragment,{children:[Object(e.jsx)(te.a,{children:Object(e.jsx)(u.a,{id:"templates.tokens"})}),Object(e.jsx)(B.b,{children:Object(e.jsx)(K.a,{children:Y.variables.map(function(Q){return Object(e.jsx)(le.a,{color:"orange",children:Q},Q)})})})]}),Object(e.jsx)(te.a,{}),Object(e.jsx)(Ie,{name:F,field:J,variables:Y.variables})]},F)}),Object(e.jsx)(te.a,{})]})}),qe&&Object(e.jsx)("p",{children:"fabric preview"})]})}},"JAl+":function(be,N,t){},ctOJ:function(be,N,t){},rWUb:function(be,N,t){"use strict";t.d(N,"e",function(){return xe}),t.d(N,"d",function(){return Te}),t.d(N,"a",function(){return Se}),t.d(N,"h",function(){return Ce}),t.d(N,"b",function(){return $}),t.d(N,"i",function(){return O}),t.d(N,"c",function(){return U}),t.d(N,"f",function(){return Oe}),t.d(N,"g",function(){return p});var E=t("qLMh"),B=t("k1fw"),X=t("9og8"),K=t("9kvl");function xe(c,j){return le.apply(this,arguments)}function le(){return le=Object(X.a)(Object(E.a)().mark(function c(j,h){return Object(E.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(K.i)("/api/admin/templates",Object(B.a)({method:"GET",useCache:!1,params:j},h||{})));case 1:case"end":return m.stop()}},c)})),le.apply(this,arguments)}function Te(c,j){return te.apply(this,arguments)}function te(){return te=Object(X.a)(Object(E.a)().mark(function c(j,h){return Object(E.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(K.i)("/api/admin/templates/".concat(j),Object(B.a)({method:"GET"},h||{})));case 1:case"end":return m.stop()}},c)})),te.apply(this,arguments)}function Se(c,j){return ce.apply(this,arguments)}function ce(){return ce=Object(X.a)(Object(E.a)().mark(function c(j,h){return Object(E.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(K.i)("/api/admin/templates",Object(B.a)({method:"POST",headers:{"Content-Type":"application/json"},data:j},h||{})));case 1:case"end":return m.stop()}},c)})),ce.apply(this,arguments)}function Ce(c,j,h){return W.apply(this,arguments)}function W(){return W=Object(X.a)(Object(E.a)().mark(function c(j,h,M){return Object(E.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(K.i)("/api/admin/templates/".concat(j),Object(B.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:h},M||{})));case 1:case"end":return g.stop()}},c)})),W.apply(this,arguments)}function $(c,j){return A.apply(this,arguments)}function A(){return A=Object(X.a)(Object(E.a)().mark(function c(j,h){return Object(E.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(K.i)("/api/admin/templates/".concat(j),Object(B.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},h||{})));case 1:case"end":return m.stop()}},c)})),A.apply(this,arguments)}function O(c){return x.apply(this,arguments)}function x(){return x=Object(X.a)(Object(E.a)().mark(function c(j){return Object(E.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",Object(K.i)("/api/admin/templates/variables",Object(B.a)({method:"GET"},j||{})));case 1:case"end":return M.stop()}},c)})),x.apply(this,arguments)}function U(c,j){return ae.apply(this,arguments)}function ae(){return ae=Object(X.a)(Object(E.a)().mark(function c(j,h){return Object(E.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(K.i)("/api/admin/templates/".concat(j,"/preview"),Object(B.a)({method:"GET"},h||{})));case 1:case"end":return m.stop()}},c)})),ae.apply(this,arguments)}function Oe(c,j,h){return k.apply(this,arguments)}function k(){return k=Object(X.a)(Object(E.a)().mark(function c(j,h,M){return Object(E.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(K.i)("/api/admin/events/trigger-manually/".concat(j),Object(B.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:h}},M||{})));case 1:case"end":return g.stop()}},c)})),k.apply(this,arguments)}function p(c,j,h){return w.apply(this,arguments)}function w(){return w=Object(X.a)(Object(E.a)().mark(function c(j,h,M){return Object(E.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(K.i)("/api/admin/products/".concat(h,"/trigger-event-manually/").concat(j),Object(B.a)({method:"POST",headers:{"Content-Type":"application/json"}},M||{})));case 1:case"end":return g.stop()}},c)})),w.apply(this,arguments)}},wbUo:function(be,N,t){}}]);

//# sourceMappingURL=p__Templates__form.b5f71d06.async.js.map