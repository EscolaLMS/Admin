(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3CzR":function(N,m,t){"use strict";var i=t("nhC9"),o=t("9kvl"),b=t("jCWc"),j=t("kPKH"),g=t("14J3"),T=t("BMrR"),U=t("T2oS"),l=t("W9HT"),W=t("fOrg"),y=t("+KLJ"),A=t("miYZ"),c=t("tsqr"),p=t("tJVT"),d=t("q1tI"),u=t.n(d),v=t("nzng"),a=t("pDTe"),e=t("nKUr"),s=function(P){var f=P.id,x=P.onSubmitted,_=P.onLoaded,L=Object(d.useState)(),M=Object(p.a)(L,2),I=M[0],V=M[1],H=Object(d.useState)(!1),B=Object(p.a)(H,2),Y=B[0],K=B[1],J=Object(d.useState)(),z=Object(p.a)(J,2),S=z[0],R=z[1],G=Object(o.l)(),X=G.locale.split("-")[0];Object(d.useEffect)(function(){f&&(K(!0),Object(v.c)(f==="new"?void 0:f,X).then(function(E){E.success?(_&&_(E.data),V(E.data)):R(E.message)}).catch(function(E){return E&&R(E.toString())}).finally(function(){return K(!1)}))},[f]);var Z=Object(d.useCallback)(function(E){K(!0),Object(v.f)(E,f==="new"?void 0:f).then(function(h){h.success?(x(h.data.id),c.b.success(Object(e.jsx)(o.a,{id:"h5p_edited",defaultMessage:"H5P Element edited and saved successfully"}))):R(h.message)}).catch(function(h){return h&&R(h.toString())}).finally(function(){return K(!1)})},[]);return I?Object(e.jsxs)(u.a.Fragment,{children:[S&&Object(e.jsx)(y.a,{message:S,type:"error"}),I&&Object(e.jsx)(a.ContextlessEditor,{onError:function(h){return console.error(h)},state:I,allowSameOrigin:!0,onSubmit:Z,loading:Y,lang:X})]}):Object(e.jsx)(j.a,{children:Object(e.jsxs)(T.a,{justify:"center",align:"middle",children:[S&&Object(e.jsx)(y.a,{message:S,type:"error"}),Object(e.jsx)(l.a,{})]})})},r=s,n=t("sN0a"),C=function(P){var f=P.defaultCard,x=f===void 0?"edit":f,_=P.id,L=P.onSubmit,M=P.onLoaded;return Object(e.jsxs)(i.a,{tabs:{type:"card",defaultActiveKey:x},children:[Object(e.jsx)(i.a.TabPane,{disabled:!_,tab:Object(e.jsx)(o.a,{id:"edit"}),children:Object(e.jsx)(r,{id:_,onSubmitted:L,onLoaded:M},_)},"edit"),_!=="new"&&Object(e.jsx)(i.a.TabPane,{disabled:!_,tab:Object(e.jsx)(o.a,{id:"preview"}),children:Object(e.jsx)(n.a,{id:_,onLoaded:M})},"preview")]})},O=m.a=C},nzng:function(N,m,t){"use strict";t.d(m,"d",function(){return g}),t.d(m,"c",function(){return W}),t.d(m,"b",function(){return y}),t.d(m,"f",function(){return A}),t.d(m,"e",function(){return p}),t.d(m,"a",function(){return u});var i=t("qLMh"),o=t("k1fw"),b=t("9og8"),j=t("9kvl");function g(a,e){return T.apply(this,arguments)}function T(){return T=Object(b.a)(Object(i.a)().mark(function a(e,s){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.i)("/api/admin/hh5p/content",Object(o.a)({method:"GET",params:Object(o.a)(Object(o.a)({},e),{},{per_page:e.pageSize,page:e.current})},s||{})));case 1:case"end":return n.stop()}},a)})),T.apply(this,arguments)}function U(a,e){return l.apply(this,arguments)}function l(){return l=Object(b.a)(Object(i.a)().mark(function a(e,s){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.i)("/api/admin/hh5p/content/".concat(e),Object(o.a)({method:"GET"},s||{})));case 1:case"end":return n.stop()}},a)})),l.apply(this,arguments)}var W=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",r=arguments.length>2?arguments[2]:void 0,n=e?"/api/admin/hh5p/editor/".concat(e):"/api/admin/hh5p/editor";return n=s?"".concat(n,"?lang=").concat(s):n,Object(j.i)(n,Object(o.a)({method:"GET"},r||{}))},y=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",r=arguments.length>2?arguments[2]:void 0,n="/api/admin/hh5p/content/".concat(e);return n=s?"".concat(n,"?lang=").concat(s):n,Object(j.i)(n,Object(o.a)({method:"GET"},r||{}))};function A(a,e,s){return c.apply(this,arguments)}function c(){return c=Object(b.a)(Object(i.a)().mark(function a(e,s,r){return Object(i.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(j.i)(s?"/api/admin/hh5p/content/".concat(s):"/api/admin/hh5p/content",Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"},data:e},r||{})));case 1:case"end":return C.stop()}},a)})),c.apply(this,arguments)}function p(a){return d.apply(this,arguments)}function d(){return d=Object(b.a)(Object(i.a)().mark(function a(e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.i)("/api/admin/hh5p/content/".concat(e),{method:"DELETE"}));case 1:case"end":return r.stop()}},a)})),d.apply(this,arguments)}function u(a){return v.apply(this,arguments)}function v(){return v=Object(b.a)(Object(i.a)().mark(function a(e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.i)("/api/admin/hh5p/content?per_page=0",Object(o.a)({method:"GET"},e||{})));case 1:case"end":return r.stop()}},a)})),v.apply(this,arguments)}},pj0m:function(N,m,t){"use strict";t.r(m);var i=t("tJVT"),o=t("q1tI"),b=t.n(o),j=t("Ty5D"),g=t("9kvl"),T=t("3CzR"),U=t("tMyG"),l=t("nKUr"),W=t.n(l);m.default=function(){var y=Object(j.l)(),A=Object(g.l)(),c=y.h5p,p=Object(o.useState)(""),d=Object(i.a)(p,2),u=d[0],v=d[1];return Object(l.jsx)(U.a,{title:Object(l.jsxs)(l.Fragment,{children:[u?Object(l.jsx)(g.a,{id:"H5P_edit_content_title"}):Object(l.jsx)(g.a,{id:"H5P_new_content_title"})," ".concat(u)]}),header:{breadcrumb:{routes:[{path:"h5ps",breadcrumbName:A.formatMessage({id:"H5P"})},{path:u,breadcrumbName:A.formatMessage({id:"form"})}]}},children:Object(l.jsx)(T.a,{onLoaded:function(e){var s=e.contents&&e.contents["cid-".concat(c)];s&&s.title&&v(s.title)},onSubmit:function(e){return c==="new"&&g.f.push("/courses/h5ps/".concat(e))},id:c==="new"||!c?"new":Number(c)})})}},sN0a:function(N,m,t){"use strict";var i=t("/zsF"),o=t("PArb"),b=t("oBTY"),j=t("jCWc"),g=t("kPKH"),T=t("14J3"),U=t("BMrR"),l=t("T2oS"),W=t("W9HT"),y=t("fOrg"),A=t("+KLJ"),c=t("tJVT"),p=t("tU7J"),d=t("wFql"),u=t("q1tI"),v=t.n(u),a=t("nzng"),e=t("pDTe"),s=t.n(e),r=t("9kvl"),n=t("ovOe"),C=t.n(n),O=t("nKUr"),Q=t.n(O),P=d.a.Title,f=function(_){var L=_.id,M=_.onXAPI,I=_.onLoaded,V=Object(u.useState)(),H=Object(c.a)(V,2),B=H[0],Y=H[1],K=Object(u.useState)(!1),J=Object(c.a)(K,2),z=J[0],S=J[1],R=Object(u.useState)([]),G=Object(c.a)(R,2),X=G[0],Z=G[1],E=Object(u.useState)(),h=Object(c.a)(E,2),F=h[0],w=h[1],k=Object(r.l)(),q=k.locale.split("-")[0];return Object(u.useEffect)(function(){L&&(S(!0),Object(a.b)(L,q).then(function(D){D.success?(I&&I(D.data),Y(D.data)):w(D.message)}).catch(function(D){return D&&w(D.toString())}).finally(function(){return S(!1)}))},[L]),B?Object(O.jsxs)(v.a.Fragment,{children:[F&&Object(O.jsx)(A.a,{message:F,type:"error"}),Object(O.jsx)(e.ContextlessPlayer,{contentId:L,onError:function($){return console.error($)},state:B,allowSameOrigin:!0,loading:z,onXAPI:function($){M?M($):Z(function(tt){return[].concat(Object(b.a)(tt),[$])})}}),!M&&Object(O.jsxs)(v.a.Fragment,{children:[Object(O.jsx)(o.a,{}),Object(O.jsxs)("div",{style:{overflow:"auto",maxHeight:"400px"},children:[Object(O.jsx)(P,{level:5,children:"XAPI Events"}),Object(O.jsx)(C.a,{src:X})]})]})]}):Object(O.jsx)(g.a,{children:Object(O.jsxs)(U.a,{justify:"center",align:"middle",children:[F&&Object(O.jsx)(A.a,{message:F,type:"error"}),Object(O.jsx)(W.a,{})]})})};m.a=f}}]);
