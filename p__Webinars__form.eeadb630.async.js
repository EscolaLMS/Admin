(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"4f6N":function(W,P,e){"use strict";var l=e("2qtc"),b=e("kLXV"),o=e("9kvl"),c=e("nKUr"),f=e.n(c),M=function(i){var j=i.visible,v=i.setManage;return Object(c.jsx)(b.a,{width:"600px",title:Object(c.jsx)(o.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:j,onOk:function(){return v({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return v({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(c.jsx)("p",{children:Object(c.jsx)(o.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};P.a=M},"5qq5":function(W,P,e){"use strict";var l=e("7Kak"),b=e("9yH6"),o=e("VTBJ"),c=e("Ff2n"),f=e("nKUr"),M=e.n(f),g=e("uX+g"),i=e("q1tI"),j=e.n(i),v=e("WFLz"),n=e("adzw"),h=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],E=j.a.forwardRef(function(r,I){var O=r.fieldProps,_=r.options,N=r.radioType,y=r.layout,J=r.proFieldProps,a=r.valueEnum,G=Object(c.a)(r,h);return Object(f.jsx)(n.a,Object(o.a)(Object(o.a)({valueType:N==="button"?"radioButton":"radio",ref:I,valueEnum:Object(g.a)(a,void 0)},G),{},{fieldProps:Object(o.a)({options:_,layout:y},O),proFieldProps:J,filedConfig:{customLightMode:!0}}))}),t=j.a.forwardRef(function(r,I){var O=r.fieldProps,_=r.children;return Object(f.jsx)(b.a,Object(o.a)(Object(o.a)({},O),{},{ref:I,children:_}))}),T=Object(v.a)(t,{valuePropName:"checked",ignoreWidth:!0}),x=T;x.Group=E,x.Button=b.a.Button,x.displayName="ProFormComponent",P.a=x},BiO0:function(W,P,e){"use strict";var l=e("VTBJ"),b=e("Ff2n"),o=e("nKUr"),c=e.n(o),f=e("q1tI"),M=e.n(f),g=e("adzw"),i=["fieldProps","proFieldProps"],j=function(n,h){var E=n.fieldProps,t=n.proFieldProps,T=Object(b.a)(n,i);return Object(o.jsx)(g.a,Object(l.a)({ref:h,valueType:"textarea",fieldProps:E,proFieldProps:t},T))};P.a=M.a.forwardRef(j)},CiXh:function(W,P,e){"use strict";var l=e("2qtc"),b=e("kLXV"),o=e("9kvl"),c=e("nKUr"),f=e.n(c),M=function(i){var j=i.open,v=i.onOk,n=i.onCancel,h=i.title,E=i.content,t=i.okText,T=i.loading;return Object(c.jsx)(b.a,{width:"600px",title:h!=null?h:Object(c.jsx)(o.a,{id:"confirmModal.title"}),open:j,onOk:v,onCancel:n,okText:t!=null?t:Object(c.jsx)(o.a,{id:"save"}),cancelText:Object(c.jsx)(o.a,{id:"cancel"}),confirmLoading:T,children:E!=null?E:Object(c.jsx)("p",{children:Object(c.jsx)(o.a,{id:"confirmModal.content"})})})};P.a=M},FJDo:function(W,P,e){"use strict";var l=e("VTBJ"),b=e("Ff2n"),o=e("nKUr"),c=e.n(o),f=e("q1tI"),M=e.n(f),g=e("adzw"),i=["fieldProps","min","proFieldProps","max"],j=function(n,h){var E=n.fieldProps,t=n.min,T=n.proFieldProps,x=n.max,r=Object(b.a)(n,i);return Object(o.jsx)(g.a,Object(l.a)({valueType:"digit",fieldProps:Object(l.a)({min:t,max:x},E),ref:h,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:T},r))};P.a=M.a.forwardRef(j)},eFHa:function(W,P,e){"use strict";e.d(P,"a",function(){return g});var l=e("k1fw"),b=e("tJVT"),o=e("q1tI"),c=e("/Tr7"),f=e("jIYg");function M(i){return Object(f.a)(1,arguments),Object(c.a)(i).getTime()<Date.now()}function g(){var i=Object(o.useState)({showModal:!1,disableEdit:!1,clicked:!1}),j=Object(b.a)(i,2),v=j[0],n=j[1],h=function(t){(t==null?void 0:t.status)==="published"&&t!==null&&t!==void 0&&t.active_from&&M(new Date(t==null?void 0:t.active_from))&&!v.clicked?n(Object(l.a)(Object(l.a)({},v),{},{showModal:!1,disableEdit:!0,clicked:!1})):n(Object(l.a)(Object(l.a)({},v),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:v,setManageCourseEdit:n,validateCourseEdit:h}}},q34N:function(W,P,e){"use strict";var l=e("tJVT"),b=e("0eZe"),o=e("q1tI"),c=e.n(o),f=e("nKUr"),M=e.n(f),g=function(j){var v=j.productable,n=j.type,h=n===void 0?"card":n,E=Object(o.useState)("attributes"),t=Object(l.a)(E,2),T=t[0],x=t[1];return Object(f.jsx)(b.a,{productable:v,tab:T,onTabChange:function(I){return x(I)},type:h})};P.a=g},tixb:function(W,P,e){"use strict";e.r(P);var l=e("14J3"),b=e("BMrR"),o=e("jCWc"),c=e("kPKH"),f=e("fOrg"),M=e("+KLJ"),g=e("+L6B"),i=e("2/Rp"),j=e("T2oS"),v=e("W9HT"),n=e("miYZ"),h=e("tsqr"),E=e("qLMh"),t=e("k1fw"),T=e("9og8"),x=e("tJVT"),r=e("q1tI"),I=e.n(r),O=e("VMEa"),_=e("Qurx"),N=e("yj/a"),y=e("VTBJ"),J=e("Ff2n"),a=e("nKUr"),G=e("lS/g"),H=e("adzw"),Y=["fieldProps","proFieldProps"],z="dateTime",Z=I.a.forwardRef(function(U,C){var Q=U.fieldProps,m=U.proFieldProps,w=Object(J.a)(U,Y),S=Object(r.useContext)(G.b);return Object(a.jsx)(H.a,Object(y.a)({ref:C,fieldProps:Object(y.a)({getPopupContainer:S.getPopupContainer},Q),valueType:z,proFieldProps:m,filedConfig:{valueType:z,customLightMode:!0}},w))}),oe=Z,ce=e("BiO0"),$=e("nhC9"),ie=e("hd5d"),ue=e("tMyG"),s=e("9kvl"),je=e("Ty5D"),ee=e("EmS3"),Oe=e("0WSk"),ne=e("Gn8c"),ae=e("c+yx"),me=e("rnuo"),be=e("eFHa"),ve=e("4f6N"),Ee=e("q34N"),Pe=e("5RzD"),fe=e("CiXh"),R;(function(U){U.ATTRIBUTES="attributes",U.PRODUCT="product",U.MEDIA="media",U.TAGS="tags",U.BRANDING="branding",U.USER_SUBMISSION="user_submission"})(R||(R={}));var pe=function(){var C=Object(s.l)(),Q=Object(je.l)(),m=Q.webinar,w=Q.tab,S=w===void 0?R.ATTRIBUTES:w,K=m==="new",Me=Object(r.useState)(),de=Object(x.a)(Me,2),d=de[0],k=de[1],te=Object(be.a)(),u=te.manageCourseEdit,L=te.setManageCourseEdit,le=te.validateCourseEdit,he=O.a.useForm(),ge=Object(x.a)(he,1),re=ge[0],xe=Object(r.useCallback)(Object(T.a)(Object(E.a)().mark(function D(){var p,A;return Object(E.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Object(ee.d)(Number(m));case 2:p=B.sent,p.success&&(S===R.ATTRIBUTES&&le(p.data),k(Object(t.a)(Object(t.a)({},p.data),{},{tags:(A=p.data.tags)===null||A===void 0?void 0:A.map(ae.l)})));case 4:case"end":return B.stop()}},D)})),[m]);Object(r.useEffect)(function(){if(K){k({name:"new"});return}xe()},[m]);var q=Object(r.useMemo)(function(){return{onValuesChange:function(){L(Object(t.a)(Object(t.a)({},u),{},{valuesChanged:!0}))},onFinish:function(){var D=Object(T.a)(Object(E.a)().mark(function A(X){var B,V;return Object(E.a)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!u.disableEdit){F.next=3;break}return L({showModal:!0,disableEdit:!0,clicked:!1}),F.abrupt("return");case 3:if(B=Object(t.a)(Object(t.a)({},X),{},{active_from:new Date(String(X.active_from))||(d==null?void 0:d.active_from)||null,active_to:new Date(String(X.active_to))||(d==null?void 0:d.active_to)||null,image_url:d==null?void 0:d.image_url,image_path:(d==null?void 0:d.image_url)&&Object(ae.k)(d.image_url),logotype_url:d==null?void 0:d.logotype_url,logotype_path:(d==null?void 0:d.logotype_path)&&Object(ae.k)(d.logotype_path),trainers:X.trainers&&X.trainers.map(function(se){return typeof se=="object"?se.id:se})}),!K){F.next=11;break}return F.next=7,Object(ee.a)(B);case 7:V=F.sent,V.success&&s.f.push("/courses/webinars/".concat(V.data.id)),F.next=15;break;case 11:return F.next=13,Object(ee.e)(Number(m),B);case 13:V=F.sent,V.success&&(le(V.data),s.f.push("/courses/webinars/".concat(V.data.id,"/").concat(S)));case 15:h.b.success(V.message),L(Object(t.a)(Object(t.a)({},u),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return F.stop()}},A)}));function p(A){return D.apply(this,arguments)}return p}(),initialValues:d,form:re}},[d,m,S,u,re]);return d?Object(a.jsxs)(ue.a,{title:K?Object(a.jsx)(s.a,{id:"menu.Webinars"}):Object(a.jsx)(s.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:C.formatMessage({id:"menu.Webinars"})},{path:String(m),breadcrumbName:C.formatMessage({id:"form"})},{path:"/",breadcrumbName:C.formatMessage({id:String(d.name)})},{path:String(S),breadcrumbName:C.formatMessage({id:String(S)})}]}},children:[Object(a.jsxs)($.a,{tabs:{type:"card",activeKey:S,onChange:function(p){p!==R.ATTRIBUTES&&u.valuesChanged?L(Object(t.a)(Object(t.a)({},u),{},{showConfirmModal:!0})):s.f.push("/courses/webinars/".concat(m,"/").concat(p))}},children:[Object(a.jsxs)($.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"attributes"}),children:[u.disableEdit&&Object(a.jsx)(M.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(s.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(i.a,{onClick:function(){return L({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(s.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(ve.a,{visible:u.showModal,setManage:L}),Object(a.jsxs)(O.a,Object(t.a)(Object(t.a)({},q),{},{children:[Object(a.jsxs)(O.a.Group,{children:[Object(a.jsx)(_.a,{width:"md",name:"name",label:Object(a.jsx)(s.a,{id:"name"}),tooltip:Object(a.jsx)(s.a,{id:"name"}),placeholder:C.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:u.disableEdit}),Object(a.jsx)(_.a,{width:"sm",name:"duration",label:Object(a.jsx)(s.a,{id:"duration_freemode"}),tooltip:Object(a.jsx)(s.a,{id:"duration_freemode_description"}),placeholder:C.formatMessage({id:"duration_freemode",defaultMessage:"duration_freemode"}),disabled:u.disableEdit}),Object(a.jsx)(N.a,{name:"status",width:"sm",label:Object(a.jsx)(s.a,{id:"status"}),valueEnum:{draft:C.formatMessage({id:"draft",defaultMessage:"draft"}),published:C.formatMessage({id:"published",defaultMessage:"published"}),archived:C.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:C.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:C.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"select"})}],disabled:u.disableEdit})]}),Object(a.jsxs)(O.a.Group,{children:[Object(a.jsx)(oe,{width:"sm",name:"active_from",label:Object(a.jsx)(s.a,{id:"active_from"}),tooltip:Object(a.jsx)(s.a,{id:"active_from"}),placeholder:C.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:u.disableEdit}),Object(a.jsx)(oe,{width:"sm",name:"active_to",label:Object(a.jsx)(s.a,{id:"active_to"}),tooltip:Object(a.jsx)(s.a,{id:"active_to"}),placeholder:C.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:u.disableEdit}),Object(a.jsx)(O.a.Item,{name:"trainers",label:Object(a.jsx)(s.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(Oe.a,{multiple:!0})})]}),Object(a.jsx)(O.a.Group,{children:Object(a.jsx)(ce.a,{name:"short_desc",label:Object(a.jsx)(s.a,{id:"short_description"}),tooltip:Object(a.jsx)(s.a,{id:"short_description"}),width:"lg"})}),Object(a.jsx)(O.a.Item,{name:"agenda",label:Object(a.jsx)(s.a,{id:"program"}),tooltip:Object(a.jsx)(s.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(ie.a,{directory:"webinars/".concat(m,"/wysiwyg")})}),Object(a.jsx)(O.a.Item,{name:"description",label:Object(a.jsx)(s.a,{id:"description"}),tooltip:Object(a.jsx)(s.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(ie.a,{directory:"webinars/".concat(m,"/wysiwyg")})})]}))]},R.ATTRIBUTES)," ",!K&&Object(a.jsx)($.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"product"}),disabled:u.disableEdit,children:m&&Object(a.jsx)(Ee.a,{productable:{class_type:"App\\Models\\Webinar",class_id:m,name:String(d.name),quantity:1}})},R.PRODUCT),!K&&Object(a.jsx)($.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"media"}),disabled:u.disableEdit,children:Object(a.jsx)(O.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(m),title:"image",action:"/api/admin/webinars/".concat(m),src_name:"image_url",form_name:"image",getUploadedSrcField:function(p){return p.file.response.data.image_url},setPath:function(p){return k(function(A){return Object(t.a)(Object(t.a)({},A),p)})}})}))},R.MEDIA),!K&&Object(a.jsx)($.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"tags"}),disabled:u.disableEdit,children:Object(a.jsx)(b.a,{children:Object(a.jsx)(c.a,{span:12,children:Object(a.jsx)(O.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(O.a.Item,{label:Object(a.jsx)(s.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(me.a,{})})}))})})},R.TAGS)," ",!K&&Object(a.jsx)($.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"branding"}),disabled:u.disableEdit,children:Object(a.jsx)(O.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(m),title:"logotype",action:"/api/admin/webinars/".concat(m),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(p){return p.file.response.data.logotype_url},setPath:function(p){return k(function(A){return Object(t.a)(Object(t.a)({},A),p)})}})}))},R.BRANDING)," ",!K&&Object(a.jsx)($.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user_submission"}),disabled:u.disableEdit,children:m&&Object(a.jsx)(Pe.a,{id:Number(m),type:"App\\Models\\Webinar"})},R.USER_SUBMISSION)]}),Object(a.jsx)(fe.a,{open:!!u.showConfirmModal,onOk:function(){L(Object(t.a)(Object(t.a)({},u),{},{loading:!0})),re.submit()},onCancel:function(){L(Object(t.a)(Object(t.a)({},u),{},{showConfirmModal:!1}))},loading:!!u.loading})]}):Object(a.jsx)(v.a,{})},Ce=P.default=pe},"yj/a":function(W,P,e){"use strict";var l=e("VTBJ"),b=e("Ff2n"),o=e("nKUr"),c=e.n(o),f=e("uX+g"),M=e("q1tI"),g=e.n(M),i=e("lS/g"),j=e("adzw"),v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],n=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],h=g.a.forwardRef(function(r,I){var O=r.fieldProps,_=r.children,N=r.params,y=r.proFieldProps,J=r.mode,a=r.valueEnum,G=r.request,H=r.showSearch,Y=r.options,z=Object(b.a)(r,v),Z=Object(M.useContext)(i.b);return Object(o.jsx)(j.a,Object(l.a)(Object(l.a)({valueEnum:Object(f.a)(a),request:G,params:N,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(l.a)({options:Y,mode:J,showSearch:H,getPopupContainer:Z.getPopupContainer},O),ref:I,proFieldProps:y},z),{},{children:_}))}),E=g.a.forwardRef(function(r,I){var O=r.fieldProps,_=r.children,N=r.params,y=r.proFieldProps,J=r.mode,a=r.valueEnum,G=r.request,H=r.options,Y=Object(b.a)(r,n),z=Object(l.a)({options:H,mode:J||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},O),Z=Object(M.useContext)(i.b);return Object(o.jsx)(j.a,Object(l.a)(Object(l.a)({valueEnum:Object(f.a)(a),request:G,params:N,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(l.a)({getPopupContainer:Z.getPopupContainer},z),ref:I,proFieldProps:y},Y),{},{children:_}))}),t=h,T=E,x=t;x.SearchSelect=T,x.displayName="ProFormComponent",P.a=x}}]);
