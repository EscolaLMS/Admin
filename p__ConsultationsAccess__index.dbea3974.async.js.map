{"version":3,"file":"p__ConsultationsAccess__index.dbea3974.async.js","mappings":"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","sources":["webpack://ant-design-pro/./src/components/CollectionSelect/index.tsx","webpack://ant-design-pro/./src/services/escola-lms/consultations_access.ts","webpack://ant-design-pro/./node_modules/uuid/dist/esm-browser/native.js","webpack://ant-design-pro/./node_modules/uuid/dist/esm-browser/rng.js","webpack://ant-design-pro/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://ant-design-pro/./node_modules/uuid/dist/esm-browser/v4.js","webpack://ant-design-pro/./src/pages/ConsultationsAccess/approveForm.tsx","webpack://ant-design-pro/./src/pages/ConsultationsAccess/disapproveForm.tsx","webpack://ant-design-pro/./src/pages/ConsultationsAccess/index.tsx"],"sourcesContent":["import { Select, Spin } from 'antd';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport {\n  getConsultation,\n  consultations as getConsultations,\n} from '@/services/escola-lms/consultations';\nimport { getCourse, course as getCourses } from '@/services/escola-lms/course';\nimport { getWebinar, webinars as getWebinars } from '@/services/escola-lms/webinars';\nimport type { DefaultOptionType, LabeledValue } from 'antd/lib/select';\nimport { FormattedMessage } from 'umi';\n\ntype CollectionModelItem = {\n  id: number;\n  name: string;\n};\n\n// this creates a simple state object with typegurad\nconst prepareObj = (arr: (API.Course | API.Webinar | API.Consultation)[]) =>\n  arr.map((item: API.Course | API.Webinar | API.Consultation) => {\n    if ('name' in item) {\n      return {\n        id: Number(item.id),\n        name: item.name,\n      };\n    }\n\n    return {\n      id: Number(item.id),\n      name: item.title ? item.title : '',\n    };\n  });\n\nexport const CollectionSelect: React.FC<{\n  state?: {\n    type: number;\n  };\n  multiple?: boolean;\n  value?: string;\n  onChange?: (\n    value: string | string[] | number | number[] | LabeledValue | LabeledValue[],\n    option: DefaultOptionType | DefaultOptionType[],\n  ) => void;\n  defaultValue?: string | string[] | number | number[] | LabeledValue | LabeledValue[];\n  modelType?: string;\n}> = ({ value, onChange, multiple = false, defaultValue, modelType = 'COURSE' }) => {\n  const [modelCollection, setModelCollection] = useState<CollectionModelItem[]>([]);\n  const [fetching, setFetching] = useState(false);\n\n  const abortController = useRef<AbortController>();\n\n  const modelCollectionMethod = useCallback(\n    (params: Partial<API.CourseParams & API.WebinarsParams & API.ConsultationsParams>) => {\n      switch (modelType) {\n        case 'COURSE':\n          return getCourses(params, { signal: abortController?.current?.signal });\n        case 'WEBINAR':\n          return getWebinars(params, { signal: abortController?.current?.signal });\n        case 'CONSULTATIONS':\n          return getConsultations(params, { signal: abortController?.current?.signal });\n        default:\n          return getCourses(params, { signal: abortController?.current?.signal });\n      }\n    },\n    [modelType, abortController],\n  );\n  const modelSingleMethod = useCallback(\n    (id: string | number) => {\n      switch (modelType) {\n        case 'COURSE':\n          return getCourse(Number(id), { signal: abortController.current?.signal });\n        case 'WEBINAR':\n          return getWebinar(Number(id), { signal: abortController.current?.signal });\n        case 'CONSULTATIONS':\n          return getConsultation(Number(id), { signal: abortController.current?.signal });\n        default:\n          return getCourse(Number(id), { signal: abortController.current?.signal });\n      }\n    },\n    [modelType, abortController],\n  );\n\n  const fetch = useCallback(\n    (search?: string) => {\n      setFetching(true);\n      if (abortController.current) {\n        abortController.current.abort();\n      }\n\n      abortController.current = new AbortController();\n\n      modelCollectionMethod(\n        search\n          ? { name: search }\n          : ({} as Partial<API.CourseParams & API.WebinarsParams & API.ConsultationsParams>),\n      )\n        .then((response) => {\n          if (response.success) {\n            setModelCollection(prepareObj(response.data));\n          }\n        })\n        .catch((error) => console.error(error))\n        .finally(() => {\n          setFetching(false);\n        });\n    },\n    [modelType],\n  );\n\n  const onSearch = useCallback(\n    (search: string) => {\n      fetch(search);\n    },\n    [fetch],\n  );\n\n  useEffect(() => {\n    abortController.current = new AbortController();\n\n    if (value) {\n      modelSingleMethod(Number(value)).then((response) => {\n        if (response) {\n          if (response.success) {\n            setModelCollection((prevCourses) => [...prevCourses, ...prepareObj([response.data])]);\n          }\n        }\n      });\n    }\n    return () => {\n      if (abortController.current) {\n        abortController.current.abort();\n      }\n    };\n  }, [value, modelType]);\n\n  return (\n    <Select<string | string[] | number | number[] | LabeledValue | LabeledValue[]>\n      defaultValue={defaultValue}\n      onFocus={() => fetch()}\n      allowClear\n      style={{ width: '100%' }}\n      value={value}\n      onChange={onChange}\n      mode={multiple ? 'multiple' : undefined}\n      showSearch\n      onSearch={onSearch}\n      placeholder={<FormattedMessage id=\"select_content\" defaultMessage=\"select_content\" />}\n      optionFilterProp=\"children\"\n      filterOption={(input, option) => {\n        if (option && option.children) {\n          return option?.children?.toString().toLowerCase().indexOf(input.toLowerCase()) >= 0;\n        }\n        return true;\n      }}\n      loading={fetching}\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n      optionLabelProp=\"label\"\n    >\n      {modelCollection.map((modelItem: CollectionModelItem) => (\n        <Select.Option key={modelItem.id} value={modelItem.id} label={modelItem.name}>\n          {modelItem.name}\n        </Select.Option>\n      ))}\n    </Select>\n  );\n};\n","import { request } from 'umi';\n\nimport type { AxiosRequestConfig } from '@umijs/max';\n\n/**  GET /api/admin/consultation-access-enquiries */\nexport async function consultationAccess(\n  params: API.ConsultationAccessEnquiryListParams,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.ConsultationAccessEnquiryList>(`/api/admin/consultation-access-enquiries`, {\n    method: 'GET',\n    params,\n    ...(options || {}),\n  });\n}\n\n/**  POST /api/admin/consultation-access-enquiries/approve/:id */\nexport async function approveConsultationAccessTerm(\n  id: number,\n  body: { meeting_link: string | null },\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.ConsultationAccessEnquiry>>(\n    `/api/admin/consultation-access-enquiries/approve/${id}`,\n    {\n      data: body,\n      method: 'POST',\n      ...(options || {}),\n    },\n  );\n}\n\n/**  POST /api/admin/consultation-access-enquiries/disapprove/:id */\nexport async function disapproveConsultationAccess(\n  id: number,\n  body: EscolaLms.ConsultationAccess.Http.Requests.Admin.AdminDisapproveConsultationAccessEnquiryRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.ConsultationAccessEnquiry>>(\n    `/api/admin/consultation-access-enquiries/disapprove/${id}`,\n    {\n      data: body,\n      method: 'POST',\n      ...(options || {}),\n    },\n  );\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { DrawerForm, ProFormSelect, ProFormText } from '@ant-design/pro-form';\nimport { Descriptions, Form } from 'antd';\nimport { format } from 'date-fns';\nimport React, { useCallback, useMemo } from 'react';\nimport { FormattedMessage, useIntl, useModel } from 'umi';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { DATETIME_FORMAT } from '@/consts/dates';\nimport PACKAGES from '@/consts/packages';\nimport { approveConsultationAccessTerm } from '@/services/escola-lms/consultations_access';\n\nenum MeetingType {\n  Custom = 'custom',\n  Jitsi = 'jitsi',\n  PencilSpaces = 'pencil-spaces',\n}\n\nconst conditionallyReturnArr = <TObj extends Record<string, any>>(\n  value: TObj,\n  bool: boolean,\n): TObj[] => (bool ? [value] : []);\n\nconst generateJitsiMeeting = () => `https://meet.jit.si/${uuidv4()}`;\n\nconst getMeetingLink = ({ meeting_link, meeting_type }: FormData): string | null => {\n  const meetingTypeMap: Record<MeetingType, string | null> = {\n    [MeetingType.Custom]: meeting_link,\n    [MeetingType.Jitsi]: generateJitsiMeeting(),\n    [MeetingType.PencilSpaces]: null,\n  };\n\n  return meetingTypeMap?.[meeting_type] ?? meeting_link;\n};\n\ninterface FormData {\n  meeting_type: MeetingType;\n  meeting_link: string;\n}\n\ninterface Props {\n  term?: EscolaLms.ConsultationAccess.Models.ConsultationAccessEnquiryProposedTerm;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nexport const ApproveForm: React.FC<Props> = ({ term, onClose, onSuccess }) => {\n  const intl = useIntl();\n  const { initialState } = useModel('@@initialState');\n\n  const [form] = Form.useForm<FormData>();\n  const meetingType = Form.useWatch('meeting_type', form);\n\n  const pencilSpacesPackageInstalled = useMemo(\n    () => Boolean(initialState?.packages?.[PACKAGES.PencilSpaces]),\n    [initialState?.packages],\n  );\n\n  const meetingTypeOptions = useMemo(\n    () => [\n      {\n        value: MeetingType.Custom,\n        label: intl.formatMessage({ id: `ConsultationsAccess.meetingType.custom` }),\n      },\n      {\n        value: MeetingType.Jitsi,\n        label: intl.formatMessage({ id: `ConsultationsAccess.meetingType.jitsi` }),\n      },\n      ...conditionallyReturnArr(\n        {\n          value: MeetingType.PencilSpaces,\n          label: intl.formatMessage({ id: `ConsultationsAccess.meetingType.pencil-spaces` }),\n        },\n        pencilSpacesPackageInstalled,\n      ),\n    ],\n    [intl, pencilSpacesPackageInstalled],\n  );\n\n  const handleFinish = useCallback(\n    async (formData: FormData) => {\n      if (!term) return;\n      const meeting_link = getMeetingLink(formData);\n\n      const res = await approveConsultationAccessTerm(term?.id, { meeting_link });\n      if (!res.success) return;\n\n      onClose();\n      onSuccess();\n    },\n    [term],\n  );\n\n  return (\n    <DrawerForm<FormData>\n      title={<FormattedMessage id=\"approve_form\" defaultMessage=\"Approve Form\" />}\n      onVisibleChange={(visible) => !visible && onClose()}\n      form={form}\n      visible={!!term}\n      autoFocusFirstInput\n      drawerProps={{\n        destroyOnClose: true,\n      }}\n      submitTimeout={2000}\n      initialValues={{ meeting_type: MeetingType.Custom }}\n      onFinish={handleFinish}\n    >\n      {term && (\n        <Descriptions column={2}>\n          <Descriptions.Item\n            label={<FormattedMessage id=\"approve_date\" defaultMessage=\"Approved Date\" />}\n          >\n            {format(new Date(term.proposed_at), DATETIME_FORMAT)}\n          </Descriptions.Item>\n        </Descriptions>\n      )}\n      <ProFormSelect\n        name=\"meeting_type\"\n        options={meetingTypeOptions}\n        label={<FormattedMessage id=\"ConsultationsAccess.meetingType\" />}\n      />\n      {meetingType === MeetingType.Custom && (\n        <ProFormText\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n          name=\"meeting_link\"\n          label={<FormattedMessage id=\"ConsultationsAccess.meetingLink\" />}\n        />\n      )}\n    </DrawerForm>\n  );\n};\n","import { DrawerForm, ProFormTextArea } from '@ant-design/pro-form';\n\nimport { Form } from 'antd';\nimport { FormattedMessage } from 'umi';\n\nimport { disapproveConsultationAccess } from '@/services/escola-lms/consultations_access';\n\nexport const DisapproveForm: React.FC<{\n  id?: number;\n  onClose: () => void;\n  onSuccess: () => void;\n}> = ({ id, onClose, onSuccess }) => {\n  const [form] = Form.useForm<{ name: string; company: string }>();\n\n  return (\n    <DrawerForm<{\n      message: string;\n    }>\n      title={<FormattedMessage id=\"disapprove_form\" defaultMessage=\"Disapprove Form\" />}\n      onVisibleChange={(visible) => !visible && onClose()}\n      form={form}\n      visible={!!id}\n      autoFocusFirstInput\n      drawerProps={{\n        destroyOnClose: true,\n      }}\n      submitTimeout={2000}\n      onFinish={async (values) => {\n        if (id) {\n          await disapproveConsultationAccess(id, values).then((data) => {\n            if (data.success) {\n              onClose();\n              onSuccess();\n            }\n          });\n        }\n\n        return true;\n      }}\n    >\n      <ProFormTextArea\n        name=\"message\"\n        label={<FormattedMessage id=\"reason\" defaultMessage=\"Reason\" />}\n        tooltip={<FormattedMessage id=\"reason_tooltip\" defaultMessage=\"Reason\" />}\n      />\n    </DrawerForm>\n  );\n};\n","import { PageContainer } from '@ant-design/pro-layout';\nimport ProTable, { type ActionType, type ProColumns } from '@ant-design/pro-table';\nimport { Button, Space, Tag } from 'antd';\nimport { format } from 'date-fns';\nimport React, { useMemo, useRef, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'umi';\n\nimport { CollectionSelect } from '@/components/CollectionSelect';\nimport TypeButtonDrawer from '@/components/TypeButtonDrawer';\nimport UserSelect from '@/components/UserSelect';\nimport { DATETIME_FORMAT } from '@/consts/dates';\nimport { consultationAccess } from '@/services/escola-lms/consultations_access';\nimport { ApproveForm } from './approveForm';\nimport { DisapproveForm } from './disapproveForm';\n\nconst TableList: React.FC = () => {\n  const actionRef = useRef<ActionType>();\n  const intl = useIntl();\n\n  const [disapproveId, setDisapproveId] = useState<number>();\n  const [approveTerm, setApproveTerm] =\n    useState<EscolaLms.ConsultationAccess.Models.ConsultationAccessEnquiryProposedTerm>();\n\n  const columns: ProColumns[] = useMemo(\n    () => [\n      {\n        title: <FormattedMessage id=\"ID\" defaultMessage=\"ID\" />,\n        dataIndex: 'id',\n        hideInSearch: true,\n        defaultSortOrder: 'descend',\n        sorter: true,\n        width: '80px',\n      },\n      {\n        title: <FormattedMessage id=\"description\" defaultMessage=\"Description\" />,\n        dataIndex: 'description',\n        hideInSearch: true,\n        sorter: true,\n      },\n      {\n        title: <FormattedMessage id=\"user\" defaultMessage=\"User\" />,\n        dataIndex: 'user_id',\n        renderFormItem: (_i, { type, defaultRender, ...rest }, form) => {\n          if (type === 'form') {\n            return null;\n          }\n          const stateType = form.getFieldValue('state');\n          return (\n            <UserSelect\n              {...rest}\n              state={{\n                type: stateType,\n              }}\n            />\n          );\n        },\n        render: (_, record) =>\n          record.user?.id && (\n            <TypeButtonDrawer\n              key={'user'}\n              type=\"EscolaLms\\Core\\Models\\User\"\n              type_id={record.user?.id}\n            >\n              <Tag>{record.user.email}</Tag>\n            </TypeButtonDrawer>\n          ),\n      },\n\n      {\n        title: <FormattedMessage id=\"consultation_id\" defaultMessage=\"Consultation\" />,\n        dataIndex: 'consultation_id',\n\n        renderFormItem: (_i, { type, defaultRender, ...rest }, form) => {\n          if (type === 'form') {\n            return null;\n          }\n          const stateType = form.getFieldValue('state');\n          return (\n            <CollectionSelect\n              modelType=\"CONSULTATIONS\"\n              {...rest}\n              state={{\n                type: stateType,\n              }}\n            />\n          );\n        },\n\n        render: (_, record) =>\n          record.consultation?.id && (\n            <TypeButtonDrawer\n              key=\"consultation_id\"\n              type=\"EscolaLms\\Consultations\\Models\\Consultation\"\n              type_id={record.consultation?.id}\n            >\n              <Tag>{record.consultation.name}</Tag>\n            </TypeButtonDrawer>\n          ),\n      },\n      {\n        title: <FormattedMessage id=\"consultation_term_date\" defaultMessage=\"Term Date\" />,\n        dataIndex: 'consultation_term',\n        hideInSearch: true,\n        sorter: true,\n        render: (_, record) => {\n          return record.consultation_term ? (\n            <>\n              <FormattedMessage id=\"approved_date\" defaultMessage=\"Approved Date\" />:\n              {format(new Date(record.consultation_term.date), DATETIME_FORMAT)}\n            </>\n          ) : (\n            <Space direction=\"vertical\">\n              {record.proposed_terms.map(\n                (\n                  term: EscolaLms.ConsultationAccess.Models.ConsultationAccessEnquiryProposedTerm,\n                ) => (\n                  <Button\n                    key={term.id}\n                    size=\"small\"\n                    type=\"primary\"\n                    onClick={() => {\n                      setApproveTerm(term);\n                    }}\n                  >\n                    <FormattedMessage id=\"approve\" defaultMessage=\"Approve Term\" />\n                    {':'}\n                    {format(new Date(term.proposed_at), DATETIME_FORMAT)}\n                  </Button>\n                ),\n              )}\n            </Space>\n          );\n        },\n      },\n\n      {\n        title: <FormattedMessage id=\"meeting_link\" defaultMessage=\"Meeting Link\" />,\n        dataIndex: 'meeting_link',\n        hideInSearch: true,\n        render: (_, record) =>\n          record.meeting_link ? (\n            <Button target=\"_blank\" type=\"primary\" href={record.meeting_link}>\n              {new URL(record.meeting_link).host}\n            </Button>\n          ) : (\n            <React.Fragment />\n          ),\n      },\n      {\n        title: <FormattedMessage id=\"created_at\" defaultMessage=\"Created at\" />,\n        dataIndex: 'created_at',\n        hideInSearch: true,\n        sorter: true,\n        render: (_, record) =>\n          record.created_at && format(new Date(record.created_at), DATETIME_FORMAT),\n      },\n      {\n        title: <FormattedMessage id=\"status\" defaultMessage=\"Status\" />,\n        dataIndex: 'status',\n        sorter: true,\n        valueType: 'select',\n        valueEnum: {\n          pending: {\n            text: 'pending',\n            status: 'pending',\n          },\n          approved: {\n            text: 'approved',\n            status: 'approved',\n          },\n        },\n        render: (_, record) =>\n          record.status === 'pending' ? (\n            <Button\n              danger\n              size=\"small\"\n              type=\"primary\"\n              onClick={() => {\n                setDisapproveId(record.id);\n              }}\n            >\n              <FormattedMessage id=\"disapprove\" defaultMessage=\"Disapprove\" />\n            </Button>\n          ) : (\n            record.status\n          ),\n      },\n    ],\n    [],\n  );\n\n  return (\n    <PageContainer>\n      <ApproveForm\n        term={approveTerm}\n        onClose={() => setApproveTerm(undefined)}\n        onSuccess={() => actionRef.current?.reload()}\n      />\n      <DisapproveForm\n        id={disapproveId}\n        onClose={() => setDisapproveId(undefined)}\n        onSuccess={() => actionRef.current?.reload()}\n      />\n\n      <ProTable\n        headerTitle={intl.formatMessage({\n          id: 'menu.Other activities.Consultation Requests',\n        })}\n        search={{\n          layout: 'vertical',\n        }}\n        actionRef={actionRef}\n        rowKey=\"id\"\n        request={async (\n          {\n            pageSize: per_page,\n            current: page,\n            consultation_id,\n            status,\n            user_id,\n            is_coming,\n            proposed_at_from,\n            proposed_at_to,\n          },\n          sort,\n        ) => {\n          const sortArr = sort && Object.entries(sort)[0];\n\n          const response = await consultationAccess({\n            per_page,\n            page,\n            consultation_id,\n            status,\n            user_id,\n            is_coming,\n            proposed_at_from,\n            proposed_at_to,\n            order_by: sortArr && sortArr[0],\n            order: sortArr ? (sortArr[1] === 'ascend' ? 'ASC' : 'DESC') : undefined,\n          });\n\n          if (!response.success) {\n            return { data: [], total: 0, success: false };\n          }\n\n          return {\n            data: response.data,\n            total: response.meta.total,\n            success: true,\n          };\n        }}\n        columns={columns}\n      />\n    </PageContainer>\n  );\n};\n\nexport default TableList;\n"],"names":["prepareObj","arr","map","item","id","Number","name","title","CollectionSelect","_ref","value","onChange","_ref$multiple","multiple","defaultValue","_ref$modelType","modelType","_useState","useState","_useState2","_slicedToArray","modelCollection","setModelCollection","_useState3","_useState4","fetching","setFetching","abortController","useRef","modelCollectionMethod","useCallback","params","_abortController$curr","_abortController$curr2","_abortController$curr3","_abortController$curr4","getCourses","signal","current","getWebinars","getConsultations","modelSingleMethod","_abortController$curr5","_abortController$curr6","_abortController$curr7","_abortController$curr8","getCourse","getWebinar","getConsultation","fetch","search","abort","AbortController","then","response","success","data","error","console","onSearch","useEffect","prevCourses","concat","_toConsumableArray","_jsx","Select","onFocus","allowClear","style","width","mode","undefined","showSearch","placeholder","FormattedMessage","defaultMessage","optionFilterProp","filterOption","input","option","children","_option$children","toString","toLowerCase","indexOf","loading","notFoundContent","Spin","size","optionLabelProp","modelItem","Option","label","consultationAccess","_x","_x2","_consultationAccess","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","options","wrap","_context","prev","next","abrupt","request","_objectSpread","method","stop","approveConsultationAccessTerm","_x3","_x4","_x5","_approveConsultationAccessTerm","_callee2","body","_context2","disapproveConsultationAccess","_x6","_x7","_x8","_disapproveConsultationAccess","_callee3","_context3","getRandomValues","rnds8","rng","byteToHex","i","unsafeStringify","offset","stringify","uuid","v4","buf","rnds","MeetingType","conditionallyReturnArr","bool","generateJitsiMeeting","uuidv4","getMeetingLink","_meetingTypeMap$meeti","meeting_link","meeting_type","meetingTypeMap","_defineProperty","Custom","Jitsi","PencilSpaces","ApproveForm","_ref2","term","onClose","onSuccess","intl","useIntl","_useModel","useModel","initialState","_Form$useForm","Form","useForm","_Form$useForm2","form","meetingType","useWatch","pencilSpacesPackageInstalled","useMemo","_initialState$package","Boolean","packages","PACKAGES","meetingTypeOptions","formatMessage","handleFinish","_ref3","formData","res","sent","_jsxs","DrawerForm","onVisibleChange","visible","autoFocusFirstInput","drawerProps","destroyOnClose","submitTimeout","initialValues","onFinish","Descriptions","column","Item","format","Date","proposed_at","DATETIME_FORMAT","ProFormSelect","ProFormText","rules","required","DisapproveForm","values","ProFormTextArea","tooltip","TableList","actionRef","disapproveId","setDisapproveId","approveTerm","setApproveTerm","columns","dataIndex","hideInSearch","defaultSortOrder","sorter","renderFormItem","_i","type","defaultRender","rest","_objectWithoutProperties","_excluded","stateType","getFieldValue","UserSelect","state","render","_","record","_record$user","_record$user2","user","TypeButtonDrawer","type_id","Tag","email","_excluded2","_record$consultation","_record$consultation2","consultation","consultation_term","_Fragment","date","Space","direction","proposed_terms","Button","onClick","target","href","URL","host","React","created_at","valueType","valueEnum","pending","text","status","approved","danger","PageContainer","_actionRef$current","reload","_actionRef$current2","ProTable","headerTitle","layout","rowKey","_ref4","sort","per_page","page","consultation_id","user_id","is_coming","proposed_at_from","proposed_at_to","sortArr","pageSize","Object","entries","order_by","order","total","meta"],"sourceRoot":""}