"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[787],{82061:function(B,f,e){var _=e(1413),s=e(67294),h=e(47046),d=e(84089),c=function(u,M){return s.createElement(d.Z,(0,_.Z)((0,_.Z)({},u),{},{ref:M,icon:h.Z}))};c.displayName="DeleteOutlined",f.Z=s.forwardRef(c)},47389:function(B,f,e){var _=e(1413),s=e(67294),h=e(27363),d=e(84089),c=function(u,M){return s.createElement(d.Z,(0,_.Z)((0,_.Z)({},u),{},{ref:M,icon:h.Z}))};c.displayName="EditOutlined",f.Z=s.forwardRef(c)},51042:function(B,f,e){var _=e(1413),s=e(67294),h=e(42110),d=e(84089),c=function(u,M){return s.createElement(d.Z,(0,_.Z)((0,_.Z)({},u),{},{ref:M,icon:h.Z}))};c.displayName="PlusOutlined",f.Z=s.forwardRef(c)},5966:function(B,f,e){var _=e(97685),s=e(1413),h=e(45987),d=e(21770),c=e(75842),p=e(55241),u=e(97435),M=e(67294),O=e(41550),v=e(85893),R=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],P="text",L=function(t){var r=t.fieldProps,m=t.proFieldProps,n=(0,h.Z)(t,R);return(0,v.jsx)(O.Z,(0,s.Z)({valueType:P,fieldProps:r,filedConfig:{valueType:P},proFieldProps:m},n))},j=function(t){var r=(0,d.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),m=(0,_.Z)(r,2),n=m[0],g=m[1];return(0,v.jsx)(c.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(x){var T,U=x.getFieldValue(t.name||[]);return(0,v.jsx)(p.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},onOpenChange:g,content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(T=t.statusRender)===null||T===void 0?void 0:T.call(t,U),t.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},t.popoverProps),{},{open:n,children:t.children}))}})},y=function(t){var r=t.fieldProps,m=t.proFieldProps,n=(0,h.Z)(t,W),g=(0,M.useState)(!1),S=(0,_.Z)(g,2),x=S[0],T=S[1];return r!=null&&r.statusRender&&n.name?(0,v.jsx)(j,{name:n.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:x,onOpenChange:T,children:(0,v.jsx)(O.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,u.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(Z){var a;r==null||(a=r.onBlur)===null||a===void 0||a.call(r,Z),T(!1)},onClick:function(Z){var a;r==null||(a=r.onClick)===null||a===void 0||a.call(r,Z),T(!0)}}),proFieldProps:m,filedConfig:{valueType:P}},n))}):(0,v.jsx)(O.Z,(0,s.Z)({valueType:"password",fieldProps:r,proFieldProps:m,filedConfig:{valueType:P}},n))},o=L;o.Password=y,o.displayName="ProFormComponent",f.Z=o},74093:function(B,f,e){e.r(f),e.d(f,{TableColumns:function(){return x},default:function(){return U}});var _=e(15009),s=e.n(_),h=e(99289),d=e.n(h),c=e(5574),p=e.n(c),u=e(91680),M=e(51042),O=e(47389),v=e(82061),R=e(74453),W=e(16894),P=e(14726),L=e(86738),j=e(83062),y=e(67294),o=e(80854),l=e(37476),t=e(952),r=e(5966),m=e(75842),n=e(85893),g=function(a){var $=(0,o.useIntl)(),K=a.visible,V=a.onVisibleChange,I=a.onFinish,b=a.id,A=m.Z.useForm(),E=p()(A,1),D=E[0];return(0,n.jsx)(l.Y,{form:D,title:$.formatMessage({id:b?"editSetting":"newSetting",defaultMessage:b?"editSetting":"newSetting"}),width:"30vw",visible:K,onVisibleChange:V,onFinish:I,children:(0,n.jsxs)(t.ZP.Group,{children:[(0,n.jsx)(r.Z,{label:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),rules:[{required:!0}],width:"md",name:"name"})," "]})})},S=g,x=[{title:(0,n.jsx)(o.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{width:"80%",title:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!1,sorter:!0}],T=function(){var a=(0,y.useRef)(),$=(0,y.useState)(!1),K=p()($,2),V=K[0],I=K[1],b=(0,o.useIntl)();return(0,n.jsxs)(R._z,{children:[(0,n.jsx)(W.ZP,{headerTitle:b.formatMessage({id:"menu.Users.Roles",defaultMessage:"roles"}),actionRef:a,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(P.ZP,{type:"primary",onClick:function(){return I(!0)},children:[(0,n.jsx)(M.Z,{})," ",(0,n.jsx)(o.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(E,D){var F=E.pageSize,C=E.current,G=E.name,i=D&&Object.entries(D)[0];return(0,u.uJ)({pageSize:F,current:C,name:G,order_by:i&&i[0],order:i?i[1]==="ascend"?"ASC":"DESC":void 0}).then(function(w){return w.success?{data:w.data,total:w.meta.total,success:!0}:[]})},columns:[].concat(x,[{hideInSearch:!0,title:(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(E,D){return[(0,n.jsx)(o.Link,{to:"/users/roles/".concat(D.name),children:(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(O.Z,{})})},"new"),(0,n.jsx)(L.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:d()(s()().mark(function F(){var C;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,u.Rd)(D.name);case 2:C=i.sent,C&&(I(!1),a.current&&a.current.reload());case 4:case"end":return i.stop()}},F)})),okText:(0,n.jsx)(o.FormattedMessage,{id:"yes"}),cancelText:(0,n.jsx)(o.FormattedMessage,{id:"no"}),children:(0,n.jsx)(j.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(v.Z,{}),danger:!0})})},"delete")]}}])}),(0,n.jsx)(S,{visible:V,onVisibleChange:function(E){return E===!1&&I(!1)},onFinish:function(){var A=d()(s()().mark(function E(D){var F,C;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,u.fA)(D);case 2:return F=i.sent,i.next=5,F;case 5:C=i.sent,C.success&&(I(!1),a.current&&(a.current.reload(),o.history.push("/users/roles/".concat(C.data.name))));case 7:case"end":return i.stop()}},E)}));return function(E){return A.apply(this,arguments)}}()})]})},U=T},91680:function(B,f,e){e.d(f,{Cv:function(){return y},Rd:function(){return W},fA:function(){return v},iy:function(){return L},uJ:function(){return M}});var _=e(15009),s=e.n(_),h=e(97857),d=e.n(h),c=e(99289),p=e.n(c),u=e(80854);function M(l,t){return O.apply(this,arguments)}function O(){return O=p()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/admin/roles",d()({method:"GET",useCache:!1,params:t},r||{})));case 1:case"end":return n.stop()}},l)})),O.apply(this,arguments)}function v(l,t){return R.apply(this,arguments)}function R(){return R=p()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/admin/roles",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},r||{})));case 1:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function W(l,t){return P.apply(this,arguments)}function P(){return P=p()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/admin/roles/".concat(t),d()({method:"DELETE",headers:{"Content-Type":"application/json"}},r||{})));case 1:case"end":return n.stop()}},l)})),P.apply(this,arguments)}function L(l,t){return j.apply(this,arguments)}function j(){return j=p()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/admin/roles/".concat(t),d()({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},l)})),j.apply(this,arguments)}function y(l,t,r){return o.apply(this,arguments)}function o(){return o=p()(s()().mark(function l(t,r,m){return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,u.request)("/api/admin/roles/".concat(t),d()({method:"PATCH",headers:{"Content-Type":"application/json"},data:r},m||{})));case 1:case"end":return g.stop()}},l)})),o.apply(this,arguments)}}}]);
