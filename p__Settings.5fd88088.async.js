(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"/y+f":function(fe,p,e){"use strict";e.d(p,"f",function(){return F}),e.d(p,"d",function(){return S}),e.d(p,"e",function(){return A}),e.d(p,"c",function(){return K}),e.d(p,"a",function(){return v}),e.d(p,"b",function(){return D});var F;(function(t){t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(F||(F={}));var G;(function(t){t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(G||(G={}));var P;(function(t){t.draft="draft",t.published="published",t.archived="archived"})(P||(P={}));var S;(function(t){t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(S||(S={}));var A;(function(t){t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(A||(A={}));var j;(function(t){t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent"})(j||(j={}));var K;(function(t){t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description"})(K||(K={}));var v;(function(t){t.PRESENT="present",t.ABSENT="absent"})(v||(v={}));var D;(function(t){t.Manual="manual",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal"})(D||(D={}))},"3fxf":function(fe,p,e){"use strict";var F=e("DjyN"),G=e("NUBc"),P=e("Mwp2"),S=e("VXEj"),A=e("+L6B"),j=e("2/Rp"),K=e("5NDa"),v=e("5rEg"),D=e("oBTY"),t=e("k1fw"),b=e("tJVT"),R=e("DYRE"),w=e("zeV3"),T=e("tU7J"),E=e("wFql"),o=e("q1tI"),s=e.n(o),i=e("BAh9"),q=e("/MfK"),x=e("mAF4"),be=e("dF/Y"),L=e("9kvl"),$=e("DBJ/"),he=e("lLVY"),te=e.n(he),r=e("nKUr"),ye=e.n(r),B=function(ce){var a=ce.directory,pe=ce.onUploaded;return Object(r.jsxs)(w.b,{align:"start",children:[Object(r.jsxs)(E.a.Text,{children:[Object(r.jsx)(L.a,{id:"pages.files.filesBrowser"}),Object(r.jsx)(E.a.Text,{code:!0,children:a})]}),Object(r.jsx)($.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(Ee){Ee.success&&pe(a,Ee.data)}})]})},Le=function(ce){var a=ce.defaultDirectory,pe=a===void 0?"/":a,ve=ce.onFile,Ee=ce.hideDeleteBtn,ne=Ee===void 0?!1:Ee,Te=ce.forceLoading,_e=Te===void 0?!1:Te,Re=Object(L.l)(),y=Object(o.useState)({loading:!1,name:"",directory:pe,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),W=Object(b.a)(y,2),O=W[0],J=W[1],n=Object(o.useRef)(),Y=Object(o.useCallback)(function(I){J(function(u){return Object(t.a)(Object(t.a)({},u),{},{loading:I})})},[]),Q=Object(o.useCallback)(function(I,u){I.success&&J(function(M){return Object(t.a)(Object(t.a)(Object(t.a)({},M),I.data),{},{data:[{url:u.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(D.a)(I.data.data.map(function(c){return Object(t.a)(Object(t.a)({},c),{},{url:c.mime==="directory"?"".concat(u,"/").concat(c.name):c.url})}))).filter(function(c){return u==="/"||u===pe?c.name!=="..":!0}),directory:u,loading:!1})})},[Y]),re=Object(o.useCallback)(function(I){var u,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=function(){return n.current&&n.current.abort()};return c(),n.current=new AbortController,Y(!0),Object(i.a)({directory:I,page:M},{signal:(u=n.current)===null||u===void 0?void 0:u.signal}).then(function(d){d.success&&Q(d,I)}).catch(function(){return Y(!1)}),function(){c()}},[Y]);Object(o.useEffect)(function(){return re(pe)},[pe,re]);var U=Object(o.useCallback)(function(I){Y(!0),Object(i.c)(I).then(function(){re(O.directory)}).catch(function(){Y(!1)})},[re,Y,O.directory]),_=Object(o.useCallback)(function(I,u){var M,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=function(){return n.current&&n.current.abort()};return d(),n.current=new AbortController,Y(!0),Object(i.b)({directory:I,name:u,page:c},{signal:(M=n.current)===null||M===void 0?void 0:M.signal}).then(function(h){h.success&&Q(h,I)}).catch(function(){return Y(!1)}),function(){d()}},[Y]);return Object(r.jsxs)("div",{className:"file-browser",children:[Object(r.jsxs)("div",{className:"file-browser__header",children:[Object(r.jsx)(v.a,{placeholder:Re.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(u){return J(function(M){return Object(t.a)(Object(t.a)({},M),{},{name:u.target.value})})},value:O.name}),Object(r.jsxs)("div",{children:[Object(r.jsx)(j.a,{className:"file-browser__button",onClick:function(){return re(O.directory)},children:Object(r.jsx)(L.a,{id:"reset"})}),Object(r.jsx)(j.a,{className:"file-browser__button",type:"primary",onClick:function(){return _(O.directory,O.name)},children:Object(r.jsx)(L.a,{id:"query"})})]})]}),Object(r.jsx)(S.b,{loading:O.loading||_e,size:"small",itemLayout:"horizontal",dataSource:O.data,header:Object(r.jsx)(B,{directory:O.directory,onUploaded:function(u,M){M&&(re(u),ve&&ve(M,u))}}),footer:Object(r.jsx)(B,{directory:O.directory,onUploaded:function(u,M){re(u),M&&ve&&ve(M,u)}}),renderItem:function(u){return Object(r.jsx)(S.b.Item,{actions:u.mime!=="directory"&&!ne?[Object(r.jsx)(j.a,{type:"default",danger:!0,icon:Object(r.jsx)(q.a,{}),size:"small",onClick:function(){return U(u.url)}},"dir")]:[],children:Object(r.jsx)(S.b.Item.Meta,{avatar:u.mime==="directory"?Object(r.jsx)(j.a,{type:"primary",icon:Object(r.jsx)(x.a,{}),size:"small",onClick:function(){return re(u.url)}}):Object(r.jsx)("a",{href:u.url,target:"_blank",rel:"noreferrer",children:Object(r.jsx)(j.a,{type:"default",icon:Object(r.jsx)(be.a,{}),size:"small"})}),description:Object(r.jsx)(s.a.Fragment,{children:Object(r.jsx)(j.a,{type:"text",size:"small",onClick:function(){return u.mime==="directory"?re(u.url):ve&&ve(u,O.directory)},children:u.name})})})})}}),Object(r.jsx)(G.a,{pageSizeOptions:[],current:O.current_page,total:O.total,pageSize:O.per_page,onChange:function(u){return re(O.directory,u)}})]})};p.a=Le},"5qq5":function(fe,p,e){"use strict";var F=e("7Kak"),G=e("9yH6"),P=e("VTBJ"),S=e("Ff2n"),A=e("nKUr"),j=e.n(A),K=e("uX+g"),v=e("q1tI"),D=e.n(v),t=e("WFLz"),b=e("adzw"),R=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],w=D.a.forwardRef(function(s,i){var q=s.fieldProps,x=s.options,be=s.radioType,L=s.layout,$=s.proFieldProps,he=s.valueEnum,te=Object(S.a)(s,R);return Object(A.jsx)(b.a,Object(P.a)(Object(P.a)({valueType:be==="button"?"radioButton":"radio",ref:i,valueEnum:Object(K.a)(he,void 0)},te),{},{fieldProps:Object(P.a)({options:x,layout:L},q),proFieldProps:$,filedConfig:{customLightMode:!0}}))}),T=D.a.forwardRef(function(s,i){var q=s.fieldProps,x=s.children;return Object(A.jsx)(G.a,Object(P.a)(Object(P.a)({},q),{},{ref:i,children:x}))}),E=Object(t.a)(T,{valuePropName:"checked",ignoreWidth:!0}),o=E;o.Group=w,o.Button=G.a.Button,o.displayName="ProFormComponent",p.a=o},BAh9:function(fe,p,e){"use strict";e.d(p,"a",function(){return A}),e.d(p,"b",function(){return K}),e.d(p,"e",function(){return D}),e.d(p,"d",function(){return b}),e.d(p,"c",function(){return R});var F=e("qLMh"),G=e("k1fw"),P=e("9og8"),S=e("9kvl");function A(T,E){return j.apply(this,arguments)}function j(){return j=Object(P.a)(Object(F.a)().mark(function T(E,o){return Object(F.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(S.i)("/api/admin/file/list",Object(G.a)({method:"GET",params:E},o||{})));case 1:case"end":return i.stop()}},T)})),j.apply(this,arguments)}function K(T,E){return v.apply(this,arguments)}function v(){return v=Object(P.a)(Object(F.a)().mark(function T(E,o){return Object(F.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(S.i)("/api/admin/file/find",Object(G.a)({method:"GET",params:E},o||{})));case 1:case"end":return i.stop()}},T)})),v.apply(this,arguments)}function D(T,E,o){return t.apply(this,arguments)}function t(){return t=Object(P.a)(Object(F.a)().mark(function T(E,o,s){var i;return Object(F.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return i=new FormData,i.append("file[]",E),i.append("target",o),x.abrupt("return",Object(S.i)("/api/admin/file/upload",Object(G.a)({method:"POST",data:i},s||{})));case 4:case"end":return x.stop()}},T)})),t.apply(this,arguments)}var b=function(E){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(E,"&w=").concat(o)};function R(T,E){return w.apply(this,arguments)}function w(){return w=Object(P.a)(Object(F.a)().mark(function T(E,o){return Object(F.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(S.i)("/api/admin/file/delete",Object(G.a)({method:"DELETE",data:{url:E}},o||{})));case 1:case"end":return i.stop()}},T)})),w.apply(this,arguments)}},BiO0:function(fe,p,e){"use strict";var F=e("VTBJ"),G=e("Ff2n"),P=e("nKUr"),S=e.n(P),A=e("q1tI"),j=e.n(A),K=e("adzw"),v=["fieldProps","proFieldProps"],D=function(b,R){var w=b.fieldProps,T=b.proFieldProps,E=Object(G.a)(b,v);return Object(P.jsx)(K.a,Object(F.a)({ref:R,valueType:"textarea",fieldProps:w,proFieldProps:T},E))};p.a=j.a.forwardRef(D)},FJDo:function(fe,p,e){"use strict";var F=e("VTBJ"),G=e("Ff2n"),P=e("nKUr"),S=e.n(P),A=e("q1tI"),j=e.n(A),K=e("adzw"),v=["fieldProps","min","proFieldProps","max"],D=function(b,R){var w=b.fieldProps,T=b.min,E=b.proFieldProps,o=b.max,s=Object(G.a)(b,v);return Object(P.jsx)(K.a,Object(F.a)({valueType:"digit",fieldProps:Object(F.a)({min:T,max:o},w),ref:R,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:E},s))};p.a=j.a.forwardRef(D)},HEzf:function(fe,p,e){"use strict";var F=e("EFp3"),G=e("O/iA"),P=e("OaEy"),S=e("wx14"),A=e("U8pU"),j=e("ODXe"),K=e("TSYQ"),v=e.n(K),D=e("Zm9Q"),t=e("bT9E"),b=e("q1tI"),R=e.n(b),w=e("H84U"),T=e("2fM7"),E=e("0n0R"),o=T.a.Option;function s(U){return U&&U.type&&(U.type.isSelectOption||U.type.isSelectOptGroup)}var i=function(_,I){var u=_.prefixCls,M=_.className,c=_.popupClassName,d=_.dropdownClassName,h=_.children,X=_.dataSource,ae=Object(D.a)(h),N;if(ae.length===1&&Object(E.c)(ae[0])&&!s(ae[0])){var le=Object(j.a)(ae,1);N=le[0]}var ge=N?function(){return N}:void 0,Ue;return ae.length&&s(ae[0])?Ue=h:Ue=X?X.map(function(de){if(Object(E.c)(de))return de;switch(Object(A.a)(de)){case"string":return b.createElement(o,{key:de,value:de},de);case"object":{var ie=de.value;return b.createElement(o,{key:ie,value:ie},de.text)}default:return}}):[],b.createElement(w.a,null,function(de){var ie=de.getPrefixCls,xe=ie("select",u);return b.createElement(T.a,Object(S.a)({ref:I},Object(t.a)(_,["dataSource"]),{prefixCls:xe,popupClassName:c||d,className:v()("".concat(xe,"-auto-complete"),M),mode:T.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:ge}),Ue)})},q=b.forwardRef(i);q.Option=o;var x=q,be=e("y8nQ"),L=e("Vl3Y"),$=e("+L6B"),he=e("2/Rp"),te=e("5NDa"),r=e("5rEg"),ye=e("tJVT"),B=e("VMEa"),Le=e("rmhi"),Me=e("Qurx"),ce=e("F/zT"),a=e("5qq5"),pe=e("BiO0"),ve=e("tneF"),Ee=e("FJDo"),ne=e("9kvl"),Te=e("+up7"),_e=e("hd5d"),Re=e("3fxf"),y=e("ovOe"),W=e.n(y),O=e("bRQS"),J=e("4i/N"),n=e("nKUr"),Y=function(_){var I=_.value,u=_.onChange,M=_.type,c=M===void 0?"file":M,d=Object(b.useState)(!1),h=Object(ye.a)(d,2),X=h[0],ae=h[1];return Object(n.jsxs)(R.a.Fragment,{children:[Object(n.jsxs)(B.a.Group,{children:[Object(n.jsx)(r.a,{value:I,readOnly:!0}),Object(n.jsxs)(he.a,{size:"small",type:"primary",onClick:function(){return ae(!X)},children:["toggle ",c," browser"]})]}),X&&Object(n.jsx)(Re.a,{onFile:function(le,ge){return u&&u("".concat(ge,"/").concat(le.name))}})]})},Q=function(_){var I=Object(ne.l)(),u=_.visible,M=_.onVisibleChange,c=_.onFinish,d=_.id,h=_.initialData,X=_.groups,ae=L.a.useForm(),N=Object(ye.a)(ae,1),le=N[0],ge=!d||d===-1,Ue=Object(b.useState)("text"),de=Object(ye.a)(Ue,2),ie=de[0],xe=de[1],Se=Object(b.useCallback)(function(){return!!(le.getFieldValue("group")==="global"||h)},[le,h]),Fe=Object(b.useState)(""),k=Object(ye.a)(Fe,2),m=k[0],l=k[1];Object(b.useEffect)(function(){if(typeof d=="object"){var f;le.setFieldsValue(d),xe((f=d.type)!==null&&f!==void 0?f:"text")}else d&&d!==-1?Object(Te.d)(Number(d)).then(function(V){V.success&&(le.setFieldsValue(V.data),xe(V.data.type),l(V.data.group))}):(le.resetFields(),xe("text"))},[d,le,h]);var g=Object(b.useCallback)(function(f){f.type&&f.type!==ie&&xe(f.type)},[ie]);return Object(n.jsxs)(Le.a,{form:le,title:I.formatMessage({id:d?"editSetting":"newSetting",defaultMessage:d?"editSetting":"newSetting"}),width:"60vw",visible:!!u,onVisibleChange:M,onFinish:c,onValuesChange:g,children:[Object(n.jsxs)(B.a.Group,{children:[h?Object(n.jsx)(Me.a,{label:Object(n.jsx)(ne.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:Se()}):Object(n.jsx)(B.a.Item,{label:Object(n.jsx)(ne.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(n.jsx)(x,{style:{width:"300px"},autoFocus:!0,value:m,onChange:function(V){return l(V)},filterOption:function(V,C){var Z;return(C==null||(Z=C.children)===null||Z===void 0?void 0:Z.toString().toLowerCase().indexOf(V.toLowerCase()))!==-1},children:X.map(function(f){return Object(n.jsx)(x.Option,{value:f,children:f},f)})})}),Object(n.jsx)(Me.a,{label:Object(n.jsx)(ne.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:Se()})]}),Object(n.jsxs)(B.a.Group,{children:[Object(n.jsx)(ce.a,{name:"enumerable",disabled:Se(),label:Object(n.jsx)(ne.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(n.jsx)(ce.a,{name:"public",disabled:Se(),label:Object(n.jsx)(ne.a,{id:"public",defaultMessage:"public"})})]}),Object(n.jsx)(B.a.Group,{children:Object(n.jsx)(a.a.Group,{disabled:!!(!ge||h),name:"type",label:Object(n.jsx)(ne.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"}]})}),Object(n.jsxs)("div",{children:[ie==="text"&&Object(n.jsx)(Me.a,{width:"lg",name:"value",label:Object(n.jsx)(ne.a,{id:"value"})}),ie==="json"&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe.a,{width:"lg",name:"value",label:Object(n.jsx)(ne.a,{id:"value"}),tooltip:"".concat(I.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(n.jsx)(B.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(n.jsx)(W.a,{src:JSON.parse(le.getFieldValue("value"))})}catch(V){return Object(n.jsx)(W.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(ie==="file"||ie==="image")&&Object(n.jsx)(B.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(n.jsx)(Y,{type:ie})}),ie==="markdown"&&Object(n.jsx)(B.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(n.jsx)(_e.a,{directory:"settings/wysiwyg"})}),ie==="boolean"?Object(n.jsx)(ce.a,{name:"data",label:Object(n.jsx)(ne.a,{id:"value"}),checkedChildren:Object(n.jsx)(O.a,{}),unCheckedChildren:Object(n.jsx)(J.a,{})}):Object(n.jsx)(B.a.Item,{noStyle:!0,hidden:!0,children:Object(n.jsx)(ve.a,{name:"data",valuePropName:"data"})}),ie==="number"&&Object(n.jsx)(Ee.a,{name:"data",label:Object(n.jsx)(ne.a,{id:"value"})})]})]})},re=p.a=Q},"O/iA":function(fe,p,e){},YjuE:function(fe,p,e){"use strict";e.r(p);var F=e("fOrg"),G=e("+KLJ"),P=e("T2oS"),S=e("W9HT"),A=e("tJVT"),j=e("q1tI"),K=e.n(j),v=e("nhC9"),D=e("Ty5D"),t=e("9kvl"),b=e("tMyG"),R=e("+up7"),w=e("P2fV"),T=e("NJEC"),E=e("5Dmo"),o=e("3S7+"),s=e("+L6B"),i=e("2/Rp"),q=e("+BJd"),x=e("mr32"),be=e("jrin"),L=e("qLMh"),$=e("k1fw"),he=e("miYZ"),te=e("tsqr"),r=e("9og8"),ye=e("xvlK"),B=e("Qiat"),Le=e("HEzf"),Me=e("G3dp"),ce=e("/MfK"),a=e("nKUr"),pe=function(){var k=Object(r.a)(Object(L.a)().mark(function m(l,g,f){var V;return Object(L.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return V=te.b.loading(l.formatMessage({id:"loading"})),Z.prev=1,Z.next=4,f&&f!==-1?Object(R.h)(f,Object($.a)({},g)):Object(R.b)(Object($.a)({},g));case 4:return V(),te.b.success(l.formatMessage({id:"success"})),Z.abrupt("return",!0);case 9:return Z.prev=9,Z.t0=Z.catch(1),V(),te.b.error(l.formatMessage({id:"error"})),Z.abrupt("return",!1);case 14:case"end":return Z.stop()}},m,null,[[1,9]])}));return function(l,g,f){return k.apply(this,arguments)}}(),ve=function(){var k=Object(r.a)(Object(L.a)().mark(function m(l,g){var f;return Object(L.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return f=te.b.loading(l.formatMessage({id:"loading"})),C.prev=1,C.next=4,Object(R.c)(g);case 4:return f(),te.b.success(l.formatMessage({id:"success"})),C.abrupt("return",!0);case 9:return C.prev=9,C.t0=C.catch(1),f(),te.b.error(l.formatMessage({id:"error"})),C.abrupt("return",!1);case 14:case"end":return C.stop()}},m,null,[[1,9]])}));return function(l,g){return k.apply(this,arguments)}}(),Ee=function(){var m=Object(j.useState)(!1),l=Object(A.a)(m,2),g=l[0],f=l[1],V=Object(j.useState)([]),C=Object(A.a)(V,2),Z=C[0],Pe=C[1],se=Object(j.useRef)(),oe=Object(t.l)(),je=Object(t.m)("@@initialState"),z=je.setInitialState;Object(j.useEffect)(function(){Object(R.e)().then(function(H){H.success&&Pe(H.data.filter(function(ee){return ee!=="global"}))})},[]);var Oe=[{title:Object(a.jsx)(t.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:Z.sort().reduce(function(H,ee){return Object($.a)(Object($.a)({},H),{},Object(be.a)({},ee,ee))},{})},{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(ee,ue){return Object(a.jsx)(x.a,{color:ue.enumerable?"success":"error",children:Object(a.jsx)(t.a,{id:ue.enumerable?"true":"false",defaultMessage:ue.enumerable?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(ee,ue){return Object(a.jsx)(x.a,{color:ue.public?"success":"error",children:Object(a.jsx)(t.a,{id:ue.public?"true":"false",defaultMessage:ue.public?"true":"false"})})}},{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ee,ue){return[Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(i.a,{type:"primary",icon:Object(a.jsx)(Me.a,{}),onClick:function(){return f(ue.id)}})},"edit"),Object(a.jsx)(T.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(r.a)(Object(L.a)().mark(function me(){var Ce;return Object(L.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,ve(oe,ue.id);case 2:Ce=Ae.sent,Ce&&(f(!1),se.current&&se.current.reload());case 4:case"end":return Ae.stop()}},me)})),okText:Object(a.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(a.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(i.a,{type:"primary",icon:Object(a.jsx)(ce.a,{}),danger:!0})})},"delete")]}}];return Object(a.jsxs)(K.a.Fragment,{children:[Object(a.jsx)(B.a,{headerTitle:oe.formatMessage({id:"menu.settings"}),actionRef:se,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(a.jsxs)(i.a,{type:"primary",onClick:function(){f(-1)},children:[Object(a.jsx)(ye.a,{})," ",Object(a.jsx)(t.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(ee){var ue=ee.pageSize,me=ee.current,Ce=ee.group;return Object(R.f)({per_page:ue,current:me,group:Ce}).then(function(Ie){return Ie.success?{data:Ie.data.filter(function(Ae){return Ae.group!=="global"}),total:Ie.meta.total,success:!0}:[]})},columns:Oe}),Object(a.jsx)(Le.a,{groups:Z,id:g,visible:Number.isInteger(g),onVisibleChange:function(ee){return!ee&&f(!1)},onFinish:function(){var H=Object(r.a)(Object(L.a)().mark(function ee(ue){var me,Ce,Ie;return Object(L.a)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return me=ue,De.next=3,pe(oe,me,Number(g));case 3:if(Ce=De.sent,!Ce){De.next=12;break}if(f(!1),se.current&&se.current.reload(),me.group!=="global"){De.next=12;break}return De.next=10,Object(R.f)({current:1,per_page:100,group:"global"});case 10:Ie=De.sent,z(function(Be){return Object($.a)(Object($.a)({},Be),{},{config:Ie.success?Ie.data:Be==null?void 0:Be.config})});case 12:case"end":return De.stop()}},ee)}));return function(ee){return H.apply(this,arguments)}}()})]})},ne=Ee,Te=e("oBTY"),_e=e("y8nQ"),Re=e("Vl3Y"),y=e("tU7J"),W=e("wFql"),O=e("rmhi"),J=e("VMEa"),n=e("F/zT"),Y=e("BiO0"),Q=e("ovOe"),re=e.n(Q),U=e("Fghh"),_=e("Qurx"),I=function(m){var l=m.field,g=m.name;return l!=null&&l.includes("boolean")?Object(a.jsx)(n.a,{name:g,checkedChildren:Object(a.jsx)(U.a,{id:"true"}),unCheckedChildren:Object(a.jsx)(U.a,{id:"false"})}):Object(a.jsx)(_.a,{width:"lg",name:g})},u=I,M=W.a.Text,c;(function(k){k.Array="array",k.String="string"})(c||(c={}));var d=function(m,l){return l===c.Array?m&&Array.isArray(m)?JSON.stringify(m):"[]":m},h=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1?arguments[1]:void 0;if(l===c.Array){var g=JSON.parse(m);return g&&Array.isArray(g)?g:[]}return m},X=function(m){var l=Object(U.k)(),g=m.visible,f=m.onVisibleChange,V=m.onFinish,C=m.value,Z=Re.a.useForm(),Pe=Object(A.a)(Z,1),se=Pe[0],oe=Object(j.useMemo)(function(){return(C.rules||[]).includes(c.Array)?c.Array:c.String},[C.rules]);return Object(j.useEffect)(function(){se.setFieldsValue(Object($.a)(Object($.a)({},C),{},{value:d(C.value,oe)}))},[oe,C,se]),Object(a.jsxs)(O.a,{form:se,title:C.full_key,width:"60vw",visible:g,onVisibleChange:f,onFinish:Object(r.a)(Object(L.a)().mark(function je(){var z;return Object(L.a)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,Object(R.g)({key:C.full_key,value:h(se.getFieldsValue().value,oe)});case 2:if(z=H.sent,!z.success){H.next=6;break}return V(z.success===!0),H.abrupt("return",z.success);case 6:return H.abrupt("return");case 7:case"end":return H.stop()}},je)})),children:[Object(a.jsxs)(J.a.Group,{children:[Object(a.jsx)(n.a,{disabled:!0,name:"public",label:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"})}),Object(a.jsx)(n.a,{disabled:!0,name:"readonly",label:Object(a.jsx)(t.a,{id:"readonly",defaultMessage:"readonly"})}),Object(a.jsx)(J.a.Item,{shouldUpdate:!0,label:Object(a.jsx)(t.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(a.jsx)(M,{code:!0,children:JSON.stringify(se.getFieldValue("rules"))})}})]}),oe===c.Array?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Y.a,{width:"lg",name:"value",label:Object(a.jsx)(t.a,{id:"value"}),tooltip:"".concat(l.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(a.jsx)(J.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(a.jsx)(re.a,{src:JSON.parse(se.getFieldValue("value"))})}catch(z){return Object(a.jsx)(re.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(J.a.Item,{shouldUpdate:!0,label:Object(a.jsx)(t.a,{id:"value"}),children:function(){return Object(a.jsx)(u,{field:se.getFieldValue("rules"),name:"value"})}})})]})},ae=X,N=e("c+yx"),le=[{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:Object(a.jsx)(t.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(m,l){return Object(a.jsx)(x.a,{color:l.readonly?"success":"error",children:Object(a.jsx)(t.a,{id:l.readonly?"true":"false",defaultMessage:l.readonly?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(m,l){return Object(a.jsx)(x.a,{color:l.public?"success":"error",children:Object(a.jsx)(t.a,{id:l.public?"true":"false",defaultMessage:l.public?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(m,l){return typeof l.value=="boolean"?Object(a.jsx)(x.a,{color:l.value?"success":"error",children:Object(a.jsx)(t.a,{id:l.value?"true":"false",defaultMessage:l.value?"true":"false"})}):Array.isArray(l.value)?l.value.map(function(g){return typeof g=="object"?K.a.Children.toArray(Object(a.jsx)("p",{children:Object.keys(g).map(function(f){return"".concat(f,": ").concat(g[f])}).join(", ")})):g}):l.value}}],ge=function k(m,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!m||typeof m!="object"?!1:(Object.keys(m).forEach(function(f){var V=m[f];f===l?g.push(m):typeof V=="object"&&k(V,l,g)}),g)},Ue=function(m){var l=m.packageName,g=m.values,f=m.onValueUpdated,V=Object(t.l)(),C=Object(j.useState)(),Z=Object(A.a)(C,2),Pe=Z[0],se=Z[1],oe=Object(j.useMemo)(function(){var je=g[l];return ge(je,"rules")},[g,l]);return Object(a.jsxs)(K.a.Fragment,{children:[Object(a.jsx)(B.a,{headerTitle:V.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(le,[{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(z,Oe){return[Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(i.a,{type:"primary",icon:Object(a.jsx)(Me.a,{}),onClick:function(){return se(Oe)}})},"edit")]}}]),request:function(z,Oe){var H=z.key,ee=Oe&&Object.entries(Oe)[0];return new Promise(function(ue){var me=oe?Object(Te.a)(oe):[];H&&(me=me.filter(function(Ce){return Ce.key.toLowerCase().includes(H.toLowerCase())})),ee&&(me=Object(N.h)(me,ee[0],ee[1]!=="ascend")),ue({data:me,success:!0,total:me.length})})}}),Pe&&Object(a.jsx)(ae,{value:Pe,visible:Pe!==void 0,onVisibleChange:function(z){return z===!1&&se(void 0)},onFinish:Object(r.a)(Object(L.a)().mark(function je(){return Object(L.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:f();case 1:case"end":return Oe.stop()}},je)}))})]})},de=Ue,ie=e("t4ZK"),xe=e("I5X1"),Se=function(m){return m.replaceAll("escolalms","").split("_").join("")},Fe=p.default=function(){var k=Object(D.l)(),m=Object(t.l)(),l=k.tab,g=l===void 0?"user_settings":l,f=Object(j.useState)(),V=Object(A.a)(f,2),C=V[0],Z=V[1],Pe=Object(j.useCallback)(function(){Object(R.a)().then(function(z){z.success&&Z(z.data)})},[]),se=Object(xe.a)("@@initialState"),oe=se.initialState,je=Object(j.useCallback)(function(){var z;return(oe==null||(z=oe.config)===null||z===void 0?void 0:z.length)!==0},[oe]);return Object(j.useEffect)(function(){Pe()},[]),C?Object(a.jsxs)(b.a,{title:Object(a.jsx)(t.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:m.formatMessage({id:"menu.Configuration.settings"})},{path:String(g),breadcrumbName:String(g)}]}},children:[!je()&&Object(a.jsx)(G.a,{message:Object(a.jsx)(t.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(a.jsx)(t.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(a.jsxs)(v.a,{tabs:{type:"card",activeKey:g,onChange:function(Oe){return t.f.push("/configuration/settings/".concat(Oe))}},children:[Object(a.jsx)(v.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"user.settings"}),children:Object(a.jsx)(ne,{})},"user_settings"),Object(a.jsx)(v.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"global_settings"}),children:Object(a.jsx)(ie.a,{})},"global_settings"),Object.keys(C).map(function(z){return Object(a.jsxs)(v.a.TabPane,{tab:Object(a.jsxs)("span",{children:[Object(a.jsx)(t.a,{id:"package"})," ",Se(z)]}),children:[Object(a.jsx)(de,{values:C,packageName:z,onValueUpdated:function(){return Pe()}}),z]},z)})]})]}):Object(a.jsx)(S.a,{})}},hd5d:function(fe,p,e){"use strict";var F=e("qLMh"),G=e("9og8"),P=e("q1tI"),S=e.n(P),A=e("acco"),j=e.n(A),K=e("BAh9"),v=e("vtG9"),D=e.n(v),t=e("9kvl"),b=e("nKUr"),R=e.n(b),w=function(o){var s=o.attrs,i=s.href,q=i.split("/").pop();return Object(b.jsx)("p",{children:Object(b.jsx)("a",{rel:"noreferrer",href:i,target:"_blank",children:q})})},T=function(o){var s=o.value,i=o.onChange,q=o.directory,x=q===void 0?"/wysiwyg":q,be=Object(t.l)();return Object(b.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(b.jsx)(j.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function($){return!0},component:w}],uploadImage:function(){var L=Object(G.a)(Object(F.a)().mark(function $(he){var te,r;return Object(F.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Object(K.e)(he,x);case 2:if(te=B.sent,!te.success){B.next=8;break}if(!he.type.includes("image/")){B.next=7;break}return r=te.data[0].name.includes("/")?te.data[0].name:"".concat(x).concat(te.data[0].name),B.abrupt("return",Object(K.d)(r,1e3));case 7:return B.abrupt("return",te.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return B.stop()}},$)}));return function($){return L.apply(this,arguments)}}(),defaultValue:s||"",onChange:function($){return i&&i($())},placeholder:be.formatMessage({id:"wysiwyg_placeholder"})})})};p.a=T},lLVY:function(fe,p,e){},t4ZK:function(fe,p,e){"use strict";e.d(p,"b",function(){return ne});var F=e("P2fV"),G=e("NJEC"),P=e("+L6B"),S=e("2/Rp"),A=e("5Dmo"),j=e("3S7+"),K=e("tJVT"),v=e("oBTY"),D=e("qLMh"),t=e("k1fw"),b=e("miYZ"),R=e("tsqr"),w=e("9og8"),T=e("xvlK"),E=e("q1tI"),o=e.n(E),s=e("9kvl"),i=e("Qiat"),q=e("/y+f"),x=e("+up7"),be=e("HEzf"),L=e("+YFz"),$=e("G3dp"),he=e("/MfK"),te=e("ujla"),r=e("nKUr"),ye=e.n(r),B=function(){var y=Object(w.a)(Object(D.a)().mark(function W(O,J,n){var Y,Q;return Object(D.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return Y=R.b.loading(O.formatMessage({id:"loading"})),U.prev=1,U.next=4,n&&n!==-1?Object(x.h)(n,Object(t.a)({},J)):Object(x.b)(Object(t.a)({},J));case 4:return Q=U.sent,Y(),R.b.success(O.formatMessage({id:"success"})),U.abrupt("return",{success:!0,updatedSettings:Q});case 10:return U.prev=10,U.t0=U.catch(1),Y(),R.b.error(O.formatMessage({id:"error"})),U.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return U.stop()}},W,null,[[1,10]])}));return function(O,J,n){return y.apply(this,arguments)}}(),Le=function(){var y=Object(w.a)(Object(D.a)().mark(function W(O,J){var n;return Object(D.a)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return n=R.b.loading(O.formatMessage({id:"loading"})),Q.prev=1,Q.next=4,Object(x.c)(J);case 4:return n(),R.b.success(O.formatMessage({id:"success"})),Q.abrupt("return",!0);case 9:return Q.prev=9,Q.t0=Q.catch(1),n(),R.b.error(O.formatMessage({id:"error"})),Q.abrupt("return",!1);case 14:case"end":return Q.stop()}},W,null,[[1,9]])}));return function(O,J){return y.apply(this,arguments)}}(),Me=function(W){return W.toLowerCase().replace(/(_\w)/g,function(O){return O.toUpperCase().substr(1)})},ce=function y(W){return W.reduce(function(O,J){return[].concat(Object(v.a)(O),Object(v.a)(J.routes?y(J.routes):[]),[J])},[]).filter(function(O){return O.layout!==!1&&O.hideInMenu!==!0})},a=["statistics","user_submission","user_projects"],pe=["public"],ve=["email","sms"],Ee=function(W){return"hideInMenu-".concat(Me(W.split("/").join("_")))},ne=function(W){return"disableTopicType-".concat(W)},Te=[].concat(Object(v.a)(Object.keys(q.f).map(function(y){return{key:ne(y),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(v.a)(ce(Object(te.a)()).filter(function(y){return y.path&&y.path!=="/"}).map(function(y){return{path:y.path,key:Ee(y.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(v.a)(["ECommerce","Certificates"].map(function(y){return{key:"disable-".concat(y),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(v.a)(pe.map(function(y){return{key:"showInCourseAdditionalSettings-".concat(y),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(v.a)(a.map(function(y){return{key:"hideInCourseTabs-".concat(y),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(v.a)(ve.map(function(y){return{key:"hideTemplateTab-".concat(y),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(y,W,O){return y[W.key]=Object(t.a)(Object(t.a)({},W),{},{id:-100*O}),y},{}),_e=Object(t.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"}},Te),Re=function(){var W=Object(E.useState)(!1),O=Object(K.a)(W,2),J=O[0],n=O[1],Y=Object(E.useRef)(),Q=Object(s.l)(),re=Object(s.m)("@@initialState"),U=re.setInitialState,_=re.initialState,I=[{title:Object(r.jsx)(s.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(c,d){return Object(r.jsx)(E.Fragment,{children:Object(r.jsxs)(j.a,{title:Object(r.jsx)(s.a,{id:"Settings.tooltip.".concat(d.key)}),children:[d.key," ",Object(r.jsx)(L.a,{})]})})}},{title:Object(r.jsx)(s.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(r.jsx)(s.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(c,d){return d.value}},{hideInSearch:!0,title:Object(r.jsx)(s.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(c,d){return[d.id>0?Object(r.jsx)(j.a,{title:Object(r.jsx)(s.a,{id:"edit",defaultMessage:"edit"}),children:Object(r.jsx)(S.a,{type:"primary",icon:Object(r.jsx)($.a,{}),onClick:function(){return n(d.id)}})},"edit"):Object(r.jsx)(j.a,{title:Object(r.jsx)(s.a,{id:"create",defaultMessage:"create"}),children:Object(r.jsx)(S.a,{type:"primary",icon:Object(r.jsx)(T.a,{}),onClick:function(){n(_e[d.key]||-1)}})},"create"),Object(r.jsx)(G.a,{title:Object(r.jsx)(s.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(w.a)(Object(D.a)().mark(function h(){var X;return Object(D.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Le(Q,d.id);case 2:X=N.sent,X&&(n(!1),Y.current&&Y.current.reload());case 4:case"end":return N.stop()}},h)})),okText:Object(r.jsx)(s.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(s.a,{id:"no",defaultMessage:"No"}),children:d.id>0?Object(r.jsx)(j.a,{title:Object(r.jsx)(s.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(S.a,{type:"primary",icon:Object(r.jsx)(he.a,{}),danger:!0})}):null},"delete")]}}],u=function(c){var d;if(!!c&&(!(_!=null&&(d=_.config)!==null&&d!==void 0&&d.length)&&c&&U(Object(t.a)(Object(t.a)({},_),{},{config:[c]})),!!(_!=null&&_.config))){var h=_==null?void 0:_.config.map(function(X){return X.key===c.key?Object(t.a)(Object(t.a)({},X),c):X});U(Object(t.a)(Object(t.a)({},_),{},{config:h}))}};return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(i.a,{headerTitle:Q.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:Y,rowKey:"id",request:function(c){var d=c.pageSize,h=c.current;return Object(x.f)({per_page:d,current:h,group:"global"}).then(function(X){if(X.success){var ae=[].concat(Object(v.a)(Object.keys(_e).map(function(N){return X.data.find(function(le){return le.key===N})||_e[N]})),Object(v.a)(X.data.filter(function(N){return!Object.keys(_e).includes(N.key)})));return{data:ae,total:ae.length,success:!0}}return[]})},columns:I}),Object(r.jsx)(be.a,{groups:[],id:J,visible:J,initialData:_e,onVisibleChange:function(c){return!c&&n(!1)},onFinish:function(){var M=Object(w.a)(Object(D.a)().mark(function c(d){var h,X,ae,N;return Object(D.a)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return h=d,h.type==="number"&&(h=Object(t.a)(Object(t.a)({},h),{},{value:String(h.data)})),h.type==="boolean"&&(h=Object(t.a)(Object(t.a)({},h),{},{value:h.data})),ge.next=5,B(Q,h,Number(J));case 5:X=ge.sent,ae=X.success,N=X.updatedSettings,ae&&(N!=null&&N.success&&u(N.data),n(!1),Y.current&&Y.current.reload());case 9:case"end":return ge.stop()}},c)}));return function(c){return M.apply(this,arguments)}}()})]})};p.a=Re},tneF:function(fe,p,e){"use strict";var F=e("sRBo"),G=e("kaz8"),P=e("VTBJ"),S=e("Ff2n"),A=e("nKUr"),j=e.n(A),K=e("uX+g"),v=e("q1tI"),D=e.n(v),t=e("WFLz"),b=e("adzw"),R=["options","fieldProps","proFieldProps","valueEnum"],w=D.a.forwardRef(function(s,i){var q=s.options,x=s.fieldProps,be=s.proFieldProps,L=s.valueEnum,$=Object(S.a)(s,R);return Object(A.jsx)(b.a,Object(P.a)({ref:i,valueType:"checkbox",valueEnum:Object(K.a)(L,void 0),fieldProps:Object(P.a)({options:q},x),lightProps:Object(P.a)({labelFormatter:function(){return Object(A.jsx)(b.a,Object(P.a)({ref:i,valueType:"checkbox",mode:"read",valueEnum:Object(K.a)(L,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(P.a)({options:q},x),proFieldProps:be},$))}},$.lightProps),proFieldProps:be},$))}),T=D.a.forwardRef(function(s,i){var q=s.fieldProps,x=s.children;return Object(A.jsx)(G.a,Object(P.a)(Object(P.a)({ref:i},q),{},{children:x}))}),E=Object(t.a)(T,{valuePropName:"checked"}),o=E;o.Group=w,p.a=o},vtG9:function(fe,p,e){}}]);
