(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"9A0E":function(Y,u,t){"use strict";t.r(u),t.d(u,"channelType",function(){return c});var i=t("q1tI"),d=t("Ty5D"),a=t("9kvl"),o=t("tMyG"),O=t("nhC9"),S=t("P2fV"),G=t("NJEC"),I=t("5Dmo"),D=t("3S7+"),L=t("+L6B"),x=t("2/Rp"),b=t("qLMh"),F=t("miYZ"),f=t("tsqr"),K=t("9og8"),E=t("tJVT"),B=t("xvlK"),M=t("G3dp"),U=t("/MfK"),v=t("55Ip"),W=t("sWYD"),P=t("Qiat"),s=t("rWUb"),n=t("mGZj"),e=t("nKUr"),l=function(A){var R=A.templateType,z=A.channel,$=Object(i.useRef)(),J=Object(a.l)(),w=Object(i.useState)(!1),Q=Object(E.a)(w,2),H=Q[0],g=Q[1],N=[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"created_at",defaultMessage:"created_at"}),dataIndex:"created_at",hideInSearch:!0,render:function(p,m){return m.created_at&&Object(W.a)(new Date(m.created_at),n.a)}},{title:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"event",defaultMessage:"event"}),dataIndex:"event",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"templates.is_default"}),dataIndex:"default",hideInSearch:!0,render:function(p,m){return m.default&&Object(e.jsx)(a.a,{id:"yes"})}}],X=Object(i.useCallback)(function(){var y=Object(K.a)(Object(b.a)().mark(function p(m){var T,h;return Object(b.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return g(!0),T=f.b.loading(Object(e.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),j.prev=2,j.next=5,Object(s.b)(m).then(function(V){g(!1),V.success&&f.b.success(V.message)});case 5:return T(),g(!1),(h=$.current)===null||h===void 0||h.reload(),j.abrupt("return",!0);case 11:return j.prev=11,j.t0=j.catch(2),T(),f.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),g(!1),j.abrupt("return",!1);case 17:case"end":return j.stop()}},p,null,[[2,11]])}));return function(p){return y.apply(this,arguments)}}(),[$]);return Object(e.jsx)(P.a,{headerTitle:J.formatMessage({id:"templates",defaultMessage:"templates"}),loading:H,actionRef:$,rowKey:"id",search:!1,toolBarRender:function(){return[Object(e.jsx)(v.a,{to:"/configuration/templates/".concat(R,"/new"),children:Object(e.jsxs)(x.a,{type:"primary",children:[Object(e.jsx)(B.a,{})," ",Object(e.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(p){var m=p.pageSize,T=p.current;return g(!0),Object(s.e)({pageSize:m,current:T,channel:z}).then(function(h){return h.success?(g(!1),{data:h.data,total:h.meta.total,success:!0}):[]})},columns:[].concat(N,[{hideInSearch:!0,title:Object(e.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(p,m){return[Object(e.jsx)(v.a,{to:"/configuration/templates/".concat(R,"/").concat(m.id),children:Object(e.jsx)(D.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(x.a,{type:"primary",icon:Object(e.jsx)(M.a,{})})})},"edit"),Object(e.jsx)(G.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return X(m.id)},okText:Object(e.jsx)(a.a,{id:"yes"}),cancelText:Object(e.jsx)(a.a,{id:"no"}),children:Object(e.jsx)(D.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(x.a,{type:"primary",icon:Object(e.jsx)(U.a,{}),danger:!0})})},"delete")]}}])})},r=l,c;(function(C){C.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",C.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",C.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(c||(c={}));var Z=function(){var A=Object(d.l)(),R=A.template,z=Object(a.k)();return Object(e.jsx)(o.a,{children:Object(e.jsxs)(O.a,{tabs:{type:"card",activeKey:R,onChange:function(J){return a.f.push("/configuration/templates/".concat(J))}},children:[Object(e.jsx)(O.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"email"}),children:Object(e.jsx)(r,{templateType:"email",channel:c.email})},"email"),z.certificatesPermission&&Object(e.jsx)(O.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"PDF"}),children:Object(e.jsx)(r,{templateType:"pdf",channel:c.pdf})},"pdf"),Object(e.jsx)(O.a.TabPane,{disabled:!0,tab:Object(e.jsx)("span",{children:Object(e.jsx)(a.a,{id:"Push"})}),children:"Push"},"Push"),Object(e.jsx)(O.a.TabPane,{tab:Object(e.jsx)("span",{children:Object(e.jsx)(a.a,{id:"SMS"})}),children:Object(e.jsx)(r,{templateType:"sms",channel:c.sms})},"sms")]})})},k=u.default=Z},rWUb:function(Y,u,t){"use strict";t.d(u,"e",function(){return O}),t.d(u,"d",function(){return G}),t.d(u,"a",function(){return D}),t.d(u,"h",function(){return x}),t.d(u,"b",function(){return F}),t.d(u,"i",function(){return K}),t.d(u,"c",function(){return B}),t.d(u,"f",function(){return U}),t.d(u,"g",function(){return W});var i=t("qLMh"),d=t("k1fw"),a=t("9og8"),o=t("9kvl");function O(s,n){return S.apply(this,arguments)}function S(){return S=Object(a.a)(Object(i.a)().mark(function s(n,e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.i)("/api/admin/templates",Object(d.a)({method:"GET",useCache:!1,params:Object(d.a)(Object(d.a)({},n),{},{per_page:n&&n.pageSize,page:n&&n.current})},e||{})));case 1:case"end":return r.stop()}},s)})),S.apply(this,arguments)}function G(s,n){return I.apply(this,arguments)}function I(){return I=Object(a.a)(Object(i.a)().mark(function s(n,e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.i)("/api/admin/templates/".concat(n),Object(d.a)({method:"GET"},e||{})));case 1:case"end":return r.stop()}},s)})),I.apply(this,arguments)}function D(s,n){return L.apply(this,arguments)}function L(){return L=Object(a.a)(Object(i.a)().mark(function s(n,e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.i)("/api/admin/templates",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:n},e||{})));case 1:case"end":return r.stop()}},s)})),L.apply(this,arguments)}function x(s,n,e){return b.apply(this,arguments)}function b(){return b=Object(a.a)(Object(i.a)().mark(function s(n,e,l){return Object(i.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(o.i)("/api/admin/templates/".concat(n),Object(d.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:e},l||{})));case 1:case"end":return c.stop()}},s)})),b.apply(this,arguments)}function F(s,n){return f.apply(this,arguments)}function f(){return f=Object(a.a)(Object(i.a)().mark(function s(n,e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.i)("/api/admin/templates/".concat(n),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},e||{})));case 1:case"end":return r.stop()}},s)})),f.apply(this,arguments)}function K(s){return E.apply(this,arguments)}function E(){return E=Object(a.a)(Object(i.a)().mark(function s(n){return Object(i.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(o.i)("/api/admin/templates/variables",Object(d.a)({method:"GET"},n||{})));case 1:case"end":return l.stop()}},s)})),E.apply(this,arguments)}function B(s,n){return M.apply(this,arguments)}function M(){return M=Object(a.a)(Object(i.a)().mark(function s(n,e){return Object(i.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.i)("/api/admin/templates/".concat(n,"/preview"),Object(d.a)({method:"GET"},e||{})));case 1:case"end":return r.stop()}},s)})),M.apply(this,arguments)}function U(s,n,e){return v.apply(this,arguments)}function v(){return v=Object(a.a)(Object(i.a)().mark(function s(n,e,l){return Object(i.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(o.i)("/api/admin/events/trigger-manually/".concat(n),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:e}},l||{})));case 1:case"end":return c.stop()}},s)})),v.apply(this,arguments)}function W(s,n,e){return P.apply(this,arguments)}function P(){return P=Object(a.a)(Object(i.a)().mark(function s(n,e,l){return Object(i.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(o.i)("/api/admin/products/".concat(e,"/trigger-event-manually/").concat(n),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"}},l||{})));case 1:case"end":return c.stop()}},s)})),P.apply(this,arguments)}}}]);
