(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5tKr":function(K,l,e){"use strict";e.d(l,"b",function(){return d}),e.d(l,"a",function(){return r});var i=e("k1fw"),m=e("9og8"),h=e("WmNS"),s=e.n(h),I=e("9kvl");function d(o,_){return M.apply(this,arguments)}function M(){return M=Object(m.a)(s.a.mark(function o(_,n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(I.f)("/api/admin/scorm",Object(i.a)({params:Object(i.a)(Object(i.a)({},_),{},{per_page:_.pageSize,page:_.current}),method:"GET",useCache:!1},n||{})));case 1:case"end":return t.stop()}},o)})),M.apply(this,arguments)}function r(o,_){return u.apply(this,arguments)}function u(){return u=Object(m.a)(s.a.mark(function o(_,n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(I.f)("/api/admin/scorm/".concat(_),Object(i.a)({method:"DELETE"},n||{})));case 1:case"end":return t.stop()}},o)})),u.apply(this,arguments)}},"DBJ/":function(K,l,e){"use strict";var i=e("y8nQ"),m=e("Vl3Y"),h=e("etVw"),s=e("q1tI"),I=e.n(s),d=e("9kvl"),M=e("qFDU"),r=e("nKUr"),u=e.n(r),o=function(n){var E=n.onChange,t=n.url,p=n.name,R=n.extra,g=n.accept,P=n.data,C=n.wrapInForm,T=C===void 0?!0:C,b=Object(d.i)();return P&&P[p]&&delete P[p],Object(r.jsx)(M.a,{condition:T,wrap:function(B){return Object(r.jsx)(m.a,{children:B})},children:Object(r.jsx)(h.a,{title:Object(r.jsx)(d.a,{id:"upload_click_here"}),placeholder:b.formatMessage({id:"upload_click_here"}),onChange:E,label:Object(r.jsx)(d.a,{id:"upload"}),max:2,fieldProps:{data:P,accept:g,name:p,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(t),extra:R})})};l.a=o},"RY+t":function(K,l,e){"use strict";var i=e("DBJ/"),m=e("q1tI"),h=e.n(m),s=e("nKUr"),I=e.n(s),d=function(r){var u=r.onSuccess,o=r.onError;return Object(s.jsx)(i.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(n){if(n.file.response){var E=n.file.response.response;E.success?u(E.data.model):o(E)}}})};l.a=d},"w76+":function(K,l,e){"use strict";e.r(l);var i=e("P2fV"),m=e("NJEC"),h=e("5Dmo"),s=e("3S7+"),I=e("+L6B"),d=e("2/Rp"),M=e("miYZ"),r=e("tsqr"),u=e("9og8"),o=e("WmNS"),_=e.n(o),n=e("q1tI"),E=e.n(n),t=e("9kvl"),p=e("55Ip"),R=e("tMyG"),g=e("Qiat"),P=e("Dx9A"),C=e("/MfK"),T=e("5tKr"),b=e("RY+t"),a=e("nKUr"),B=e.n(a),x=function(){var L=Object(u.a)(_.a.mark(function O(U){return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(T.a)(U);case 2:return c.abrupt("return",!0);case 3:case"end":return c.stop()}},O)}));return function(U){return L.apply(this,arguments)}}(),S=function(){var O=Object(n.useRef)(),U=Object(t.i)(),W=[{title:Object(a.jsx)(t.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(a.jsx)(b.a,{onSuccess:function(){O.current&&O.current.reload(),r.default.success(Object(a.jsx)(t.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(D){return r.default.error(D)}})]}},{title:Object(a.jsx)(t.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(f,D){return[D.scos.map(function(j){return Object(a.jsx)(p.a,{to:"/scorms/preview/".concat(j.uuid),children:Object(a.jsx)(s.a,{title:Object(a.jsx)(t.a,{id:"preview",defaultMessage:"preview"}),children:Object(a.jsx)(d.a,{size:"small",icon:Object(a.jsx)(P.a,{}),type:"primary",children:j.title})})},j.uuid)})]}},{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(f,D){return[Object(a.jsx)(m.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(u.a)(_.a.mark(function j(){var v;return _.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,x(D.id);case 2:v=A.sent,v&&O.current&&O.current.reload();case 4:case"end":return A.stop()}},j)})),okText:Object(a.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(a.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(a.jsx)(s.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(d.a,{type:"primary",icon:Object(a.jsx)(C.a,{}),danger:!0})})},"delete")]}}];return Object(a.jsx)(R.a,{children:Object(a.jsx)(g.a,{headerTitle:U.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:O,rowKey:"id",search:{labelWidth:120},request:function(f){var D=f.pageSize,j=f.current;return Object(T.b)({pageSize:D,current:j}).then(function(v){return v.success?{data:v.data.data,total:v.data.total,success:!0}:[]})},columns:W})})};l.default=S}}]);
