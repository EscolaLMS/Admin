(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"3CzR":function(G,b,t){"use strict";var c=t("nhC9"),e=t("9kvl"),B=t("jCWc"),p=t("kPKH"),s=t("14J3"),A=t("BMrR"),X=t("T2oS"),T=t("W9HT"),$=t("fOrg"),K=t("+KLJ"),H=t("miYZ"),h=t("tsqr"),R=t("tJVT"),E=t("q1tI"),P=t.n(E),f=t("nzng"),v=t("pDTe"),a=t("nKUr"),i=function(O){var S=O.id,W=O.onSubmitted,M=O.onLoaded,N=Object(E.useState)(),L=Object(R.a)(N,2),Q=L[0],dt=L[1],et=Object(E.useState)(!1),w=Object(R.a)(et,2),k=w[0],q=w[1],at=Object(E.useState)(),nt=Object(R.a)(at,2),F=nt[0],V=nt[1],rt=Object(e.j)(),ut=rt.locale.split("-")[0];Object(E.useEffect)(function(){S&&(q(!0),Object(f.c)(S==="new"?void 0:S,ut).then(function(g){g.success?(M&&M(g.data),dt(g.data)):V(g.message)}).catch(function(g){return g&&V(g.toString())}).finally(function(){return q(!1)}))},[S]);var jt=Object(E.useCallback)(function(g){q(!0),Object(f.f)(g,S==="new"?void 0:S).then(function(D){D.success?(W(D.data.id),h.b.success(Object(a.jsx)(e.a,{id:"h5p_edited",defaultMessage:"H5P Element edited and saved successfully"}))):V(D.message)}).catch(function(D){return D&&V(D.toString())}).finally(function(){return q(!1)})},[]);return Q?Object(a.jsxs)(P.a.Fragment,{children:[F&&Object(a.jsx)(K.a,{message:F,type:"error"}),Q&&Object(a.jsx)(v.ContextlessEditor,{onError:function(D){return console.error(D)},state:Q,allowSameOrigin:!0,onSubmit:jt,loading:k})]}):Object(a.jsx)(p.a,{children:Object(a.jsxs)(A.a,{justify:"center",align:"middle",children:[F&&Object(a.jsx)(K.a,{message:F,type:"error"}),Object(a.jsx)(T.a,{})]})})},d=i,j=t("sN0a"),U=function(O){var S=O.defaultCard,W=S===void 0?"edit":S,M=O.id,N=O.onSubmit,L=O.onLoaded;return Object(a.jsxs)(c.a,{tabs:{type:"card",defaultActiveKey:W},children:[Object(a.jsx)(c.a.TabPane,{disabled:!M,tab:Object(a.jsx)(e.a,{id:"edit"}),children:Object(a.jsx)(d,{id:M,onSubmitted:N,onLoaded:L},M)},"edit"),M!=="new"&&Object(a.jsx)(c.a.TabPane,{disabled:!M,tab:Object(a.jsx)(e.a,{id:"preview"}),children:Object(a.jsx)(j.a,{id:M,onLoaded:L})},"preview")]})},C=b.a=U},S76h:function(G,b,t){},VzZb:function(G,b,t){},"aK+R":function(G,b,t){},df8c:function(G,b,t){},nhC9:function(G,b,t){"use strict";var c=t("VTBJ"),e=t("nKUr"),B=t("Znn+"),p=t("ZTPi"),s=t("rePB"),A=t("U8pU"),X=t("ODXe"),T=t("GNNt"),$=t("wEI+"),K=t("Ff2n"),H=t("1GLa"),h=t("TLLU"),R=t("UESt"),E=t("YSkC"),P=t("TSYQ"),f=t.n(P),v=t("BGR+"),a=t("6cGi"),i=t("q1tI"),d=t.n(i),j=t("S76h"),U=function(u){var o=u.actions,r=u.prefixCls;return Array.isArray(o)&&(o==null?void 0:o.length)?Object(e.jsx)("ul",{className:"".concat(r,"-actions"),children:o.map(function(x,J){return Object(e.jsx)("li",{style:{width:"".concat(100/o.length,"%")},children:Object(e.jsx)("span",{children:x})},"action-".concat(J))})}):o?Object(e.jsx)("ul",{className:"".concat(r,"-actions"),children:o}):null},C=U,pt=t("jCWc"),O=t("kPKH"),S=t("14J3"),W=t("BMrR"),M=t("aK+R"),N=function(u){var o=u.style,r=u.prefix;return Object(e.jsxs)("div",{className:"".concat(r,"-loading-content"),style:o,children:[Object(e.jsx)(W.a,{gutter:8,children:Object(e.jsx)(O.a,{span:22,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})})}),Object(e.jsxs)(W.a,{gutter:8,children:[Object(e.jsx)(O.a,{span:8,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})}),Object(e.jsx)(O.a,{span:15,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})})]}),Object(e.jsxs)(W.a,{gutter:8,children:[Object(e.jsx)(O.a,{span:6,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})}),Object(e.jsx)(O.a,{span:18,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})})]}),Object(e.jsxs)(W.a,{gutter:8,children:[Object(e.jsx)(O.a,{span:13,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})}),Object(e.jsx)(O.a,{span:9,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})})]}),Object(e.jsxs)(W.a,{gutter:8,children:[Object(e.jsx)(O.a,{span:4,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})}),Object(e.jsx)(O.a,{span:3,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})}),Object(e.jsx)(O.a,{span:16,children:Object(e.jsx)("div",{className:"".concat(r,"-loading-block")})})]})]})},L=N,Q=t("df8c"),dt=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],et=h.a.useBreakpoint,w=d.a.forwardRef(function(n,u){var o,r,x,J=n.className,ct=n.style,st=n.bodyStyle,Z=st===void 0?{}:st,ot=n.headStyle,Tt=ot===void 0?{}:ot,Et=n.title,Mt=n.subTitle,Ot=n.extra,_t=n.tip,yt=n.wrap,Yt=yt===void 0?!1:yt,Qt=n.layout,bt=n.loading,Bt=n.gutter,wt=Bt===void 0?0:Bt,kt=n.tooltip,mt=n.split,Kt=n.headerBordered,qt=Kt===void 0?!1:Kt,Rt=n.bordered,te=Rt===void 0?!1:Rt,Ut=n.children,Wt=n.size,ee=n.actions,Nt=n.ghost,ae=Nt===void 0?!1:Nt,zt=n.hoverable,ne=zt===void 0?!1:zt,re=n.direction,Gt=n.collapsed,$t=n.collapsible,ce=$t===void 0?!1:$t,Ht=n.collapsibleIconRender,Jt=n.defaultCollapsed,se=Jt===void 0?!1:Jt,oe=n.onCollapse,le=n.checked,Dt=n.onChecked,St=n.tabs,At=n.type,ht=Object(K.a)(n,dt),ie=Object(i.useContext)($.a.ConfigContext),de=ie.getPrefixCls,Xt=et(),ue=Object(a.a)(se,{value:Gt,onChange:oe}),Ft=Object(X.a)(ue,2),Pt=Ft[0],je=Ft[1],Ct=["xxl","xl","lg","md","sm","xs"],ve=function(y){var m=[0,0],I=Array.isArray(y)?y:[y,0];return I.forEach(function(z,tt){if(Object(A.a)(z)==="object")for(var Y=0;Y<Ct.length;Y+=1){var gt=Ct[Y];if(Xt[gt]&&z[gt]!==void 0){m[tt]=z[gt];break}}else m[tt]=z||0}),m},ft=function(y,m){return y?m:{}},Oe=function(y){var m=y;if(Object(A.a)(y)==="object")for(var I=0;I<Ct.length;I+=1){var z=Ct[I];if(Xt[z]&&y[z]!==void 0){m=y[z];break}}var tt=ft(typeof m=="string"&&/\d%|\dpx/i.test(m),{width:m,flexShrink:0});return{span:m,colSpanStyle:tt}},l=de("pro-card"),be=ve(wt),Vt=Object(X.a)(be,2),lt=Vt[0],it=Vt[1],Lt=!1,It=d.a.Children.toArray(Ut),me=It.map(function(_,y){var m;if(_==null||(m=_.type)===null||m===void 0?void 0:m.isProCard){var I;Lt=!0;var z=_.props.colSpan,tt=Oe(z),Y=tt.span,gt=tt.colSpanStyle,Ee=f()(["".concat(l,"-col")],(I={},Object(s.a)(I,"".concat(l,"-split-vertical"),mt==="vertical"&&y!==It.length-1),Object(s.a)(I,"".concat(l,"-split-horizontal"),mt==="horizontal"&&y!==It.length-1),Object(s.a)(I,"".concat(l,"-col-").concat(Y),typeof Y=="number"&&Y>=0&&Y<=24),I));return Object(e.jsx)("div",{style:Object(c.a)(Object(c.a)(Object(c.a)({},gt),ft(lt>0,{paddingRight:lt/2,paddingLeft:lt/2})),ft(it>0,{paddingTop:it/2,paddingBottom:it/2})),className:Ee,children:d.a.cloneElement(_)},"pro-card-col-".concat((_==null?void 0:_.key)||y))}return _}),he=f()("".concat(l),J,(o={},Object(s.a)(o,"".concat(l,"-border"),te),Object(s.a)(o,"".concat(l,"-contain-card"),Lt),Object(s.a)(o,"".concat(l,"-loading"),bt),Object(s.a)(o,"".concat(l,"-split"),mt==="vertical"||mt==="horizontal"),Object(s.a)(o,"".concat(l,"-ghost"),ae),Object(s.a)(o,"".concat(l,"-hoverable"),ne),Object(s.a)(o,"".concat(l,"-size-").concat(Wt),Wt),Object(s.a)(o,"".concat(l,"-type-").concat(At),At),Object(s.a)(o,"".concat(l,"-collapse"),Pt),Object(s.a)(o,"".concat(l,"-checked"),le),o)),fe=f()("".concat(l,"-body"),(r={},Object(s.a)(r,"".concat(l,"-body-center"),Qt==="center"),Object(s.a)(r,"".concat(l,"-body-direction-column"),mt==="horizontal"||re==="column"),Object(s.a)(r,"".concat(l,"-body-wrap"),Yt&&Lt),r)),ge=Object(c.a)(Object(c.a)(Object(c.a)({},ft(lt>0,{marginRight:-lt/2,marginLeft:-lt/2})),ft(it>0,{marginTop:-it/2,marginBottom:-it/2})),Z),Zt=d.a.isValidElement(bt)?bt:Object(e.jsx)(L,{prefix:l,style:Z.padding===0||Z.padding==="0px"?{padding:24}:void 0}),xt=ce&&Gt===void 0&&(Ht?Ht({collapsed:Pt}):Object(e.jsx)(R.a,{rotate:Pt?void 0:90,className:"".concat(l,"-collapsible-icon")}));return Object(e.jsxs)("div",Object(c.a)(Object(c.a)({className:he,style:ct,ref:u,onClick:function(y){var m;Dt==null||Dt(y),ht==null||(m=ht.onClick)===null||m===void 0||m.call(ht,y)}},Object(v.a)(ht,["prefixCls","colSpan"])),{},{children:[(Et||Ot||xt)&&Object(e.jsxs)("div",{className:f()("".concat(l,"-header"),(x={},Object(s.a)(x,"".concat(l,"-header-border"),qt||At==="inner"),Object(s.a)(x,"".concat(l,"-header-collapsible"),xt),x)),style:Tt,onClick:function(){xt&&je(!Pt)},children:[Object(e.jsxs)("div",{className:"".concat(l,"-title"),children:[xt,Object(e.jsx)(E.a,{label:Et,tooltip:kt||_t,subTitle:Mt})]}),Ot&&Object(e.jsx)("div",{className:"".concat(l,"-extra"),children:Ot})]}),St?Object(e.jsx)("div",{className:"".concat(l,"-tabs"),children:Object(e.jsx)(p.a,Object(c.a)(Object(c.a)({onChange:St.onChange},St),{},{children:bt?Zt:Ut}))}):Object(e.jsx)("div",{className:fe,style:ge,children:bt?Zt:me}),Object(e.jsx)(C,{actions:ee,prefixCls:l})]}))}),k=w,q=t("u1OI"),at=function(u){var o=Object(i.useContext)($.a.ConfigContext),r=o.getPrefixCls,x=r("pro-card-divider"),J=u.className,ct=u.style,st=ct===void 0?{}:ct,Z=u.type,ot=f()(x,J,Object(s.a)({},"".concat(x,"-").concat(Z),Z));return Object(e.jsx)("div",{className:ot,style:st})},nt=at,F=t("VzZb"),V=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],rt=function(u){var o=u.key,r=u.tab,x=u.tabKey,J=u.disabled,ct=u.destroyInactiveTabPane,st=u.children,Z=u.className,ot=u.style,Tt=u.cardProps,Et=Object(K.a)(u,V),Mt=Object(i.useContext)($.a.ConfigContext),Ot=Mt.getPrefixCls,_t=Ot("pro-card-tabpane"),yt=f()(_t,Z);return Object(e.jsx)(p.a.TabPane,Object(c.a)(Object(c.a)({tabKey:x,tab:r,className:yt,style:ot,disabled:J,destroyInactiveTabPane:ct},Et),{},{children:Object(e.jsx)(k,Object(c.a)(Object(c.a)({},Tt),{},{children:st}))}),o)},ut=rt,jt=function(u){return Object(e.jsx)(k,Object(c.a)({bodyStyle:{padding:0}},u))},g=k;g.isProCard=!0,g.Divider=nt,g.TabPane=ut,g.Group=jt;var D=g,vt=b.a=D},nzng:function(G,b,t){"use strict";t.d(b,"d",function(){return s}),t.d(b,"c",function(){return $}),t.d(b,"b",function(){return K}),t.d(b,"f",function(){return H}),t.d(b,"e",function(){return R}),t.d(b,"a",function(){return P});var c=t("qLMh"),e=t("k1fw"),B=t("9og8"),p=t("9kvl");function s(v,a){return A.apply(this,arguments)}function A(){return A=Object(B.a)(Object(c.a)().mark(function v(a,i){return Object(c.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(p.g)("/api/admin/hh5p/content",Object(e.a)({method:"GET",params:Object(e.a)(Object(e.a)({},a),{},{per_page:a.pageSize,page:a.current})},i||{})));case 1:case"end":return j.stop()}},v)})),A.apply(this,arguments)}function X(v,a){return T.apply(this,arguments)}function T(){return T=Object(B.a)(Object(c.a)().mark(function v(a,i){return Object(c.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(p.g)("/api/admin/hh5p/content/".concat(a),Object(e.a)({method:"GET"},i||{})));case 1:case"end":return j.stop()}},v)})),T.apply(this,arguments)}var $=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",d=arguments.length>2?arguments[2]:void 0,j=a?"/api/admin/hh5p/editor/".concat(a):"/api/admin/hh5p/editor";return j=i?"".concat(j,"?lang=").concat(i):j,Object(p.g)(j,Object(e.a)({method:"GET"},d||{}))},K=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",d=arguments.length>2?arguments[2]:void 0,j="/api/admin/hh5p/content/".concat(a);return j=i?"".concat(j,"?lang=").concat(i):j,Object(p.g)(j,Object(e.a)({method:"GET"},d||{}))};function H(v,a,i){return h.apply(this,arguments)}function h(){return h=Object(B.a)(Object(c.a)().mark(function v(a,i,d){return Object(c.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(p.g)(i?"/api/admin/hh5p/content/".concat(i):"/api/admin/hh5p/content",Object(e.a)({method:"POST",headers:{"Content-Type":"application/json"},data:a},d||{})));case 1:case"end":return U.stop()}},v)})),h.apply(this,arguments)}function R(v){return E.apply(this,arguments)}function E(){return E=Object(B.a)(Object(c.a)().mark(function v(a){return Object(c.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.g)("/api/admin/hh5p/content/".concat(a),{method:"DELETE"}));case 1:case"end":return d.stop()}},v)})),E.apply(this,arguments)}function P(v){return f.apply(this,arguments)}function f(){return f=Object(B.a)(Object(c.a)().mark(function v(a){return Object(c.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.g)("/api/admin/hh5p/content?per_page=0",Object(e.a)({method:"GET"},a||{})));case 1:case"end":return d.stop()}},v)})),f.apply(this,arguments)}},pj0m:function(G,b,t){"use strict";t.r(b);var c=t("tJVT"),e=t("q1tI"),B=t.n(e),p=t("Ty5D"),s=t("9kvl"),A=t("3CzR"),X=t("tMyG"),T=t("nKUr"),$=t.n(T);b.default=function(){var K=Object(p.l)(),H=Object(s.j)(),h=K.h5p,R=Object(e.useState)(""),E=Object(c.a)(R,2),P=E[0],f=E[1];return Object(T.jsx)(X.a,{title:Object(T.jsxs)(T.Fragment,{children:[P?Object(T.jsx)(s.a,{id:"H5P_edit_content_title"}):Object(T.jsx)(s.a,{id:"H5P_new_content_title"})," ".concat(P)]}),header:{breadcrumb:{routes:[{path:"h5ps",breadcrumbName:H.formatMessage({id:"H5P"})},{path:P,breadcrumbName:H.formatMessage({id:"form"})}]}},children:Object(T.jsx)(A.a,{onLoaded:function(a){var i=a.contents&&a.contents["cid-".concat(h)];i&&i.title&&f(i.title)},onSubmit:function(a){return h==="new"&&s.e.push("/courses/h5ps/".concat(a))},id:h==="new"||!h?"new":Number(h)})})}},sN0a:function(G,b,t){"use strict";var c=t("/zsF"),e=t("PArb"),B=t("oBTY"),p=t("jCWc"),s=t("kPKH"),A=t("14J3"),X=t("BMrR"),T=t("T2oS"),$=t("W9HT"),K=t("fOrg"),H=t("+KLJ"),h=t("tJVT"),R=t("tU7J"),E=t("wFql"),P=t("q1tI"),f=t.n(P),v=t("nzng"),a=t("pDTe"),i=t.n(a),d=t("9kvl"),j=t("ovOe"),U=t.n(j),C=t("nKUr"),pt=t.n(C),O=E.a.Title,S=function(M){var N=M.id,L=M.onXAPI,Q=M.onLoaded,dt=Object(P.useState)(),et=Object(h.a)(dt,2),w=et[0],k=et[1],q=Object(P.useState)(!1),at=Object(h.a)(q,2),nt=at[0],F=at[1],V=Object(P.useState)([]),rt=Object(h.a)(V,2),ut=rt[0],jt=rt[1],g=Object(P.useState)(),D=Object(h.a)(g,2),vt=D[0],n=D[1],u=Object(d.j)(),o=u.locale.split("-")[0];return Object(P.useEffect)(function(){N&&(F(!0),Object(v.b)(N,o).then(function(r){r.success?(Q&&Q(r.data),k(r.data)):n(r.message)}).catch(function(r){return r&&n(r.toString())}).finally(function(){return F(!1)}))},[N]),w?Object(C.jsxs)(f.a.Fragment,{children:[vt&&Object(C.jsx)(H.a,{message:vt,type:"error"}),Object(C.jsx)(a.ContextlessPlayer,{contentId:N,onError:function(x){return console.error(x)},state:w,allowSameOrigin:!0,loading:nt,onXAPI:function(x){L?L(x):jt(function(J){return[].concat(Object(B.a)(J),[x])})}}),!L&&Object(C.jsxs)(f.a.Fragment,{children:[Object(C.jsx)(e.a,{}),Object(C.jsxs)("div",{style:{overflow:"auto",maxHeight:"400px"},children:[Object(C.jsx)(O,{level:5,children:"XAPI Events"}),Object(C.jsx)(U.a,{src:ut})]})]})]}):Object(C.jsx)(s.a,{children:Object(C.jsxs)(X.a,{justify:"center",align:"middle",children:[vt&&Object(C.jsx)(H.a,{message:vt,type:"error"}),Object(C.jsx)($.a,{})]})})};b.a=S},u1OI:function(G,b,t){}}]);
