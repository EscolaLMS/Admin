(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"+up7":function(G,v,e){"use strict";e.d(v,"f",function(){return P}),e.d(v,"d",function(){return f}),e.d(v,"b",function(){return i}),e.d(v,"h",function(){return _}),e.d(v,"c",function(){return c}),e.d(v,"e",function(){return C}),e.d(v,"a",function(){return D}),e.d(v,"g",function(){return s});var h=e("k1fw"),M=e("9og8"),K=e("WmNS"),r=e.n(K),O=e("9kvl");function P(o,d){return m.apply(this,arguments)}function m(){return m=Object(M.a)(r.a.mark(function o(d,a){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(O.f)("/api/admin/settings",Object(h.a)({method:"GET",useCache:!1,params:Object(h.a)(Object(h.a)({},d),{},{per_page:d.pageSize,page:d.current})},a||{})));case 1:case"end":return l.stop()}},o)})),m.apply(this,arguments)}function f(o,d){return n.apply(this,arguments)}function n(){return n=Object(M.a)(r.a.mark(function o(d,a){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(O.f)("/api/admin/settings/".concat(d),Object(h.a)({method:"GET",useCache:!1},a||{})));case 1:case"end":return l.stop()}},o)})),n.apply(this,arguments)}function i(o,d){return g.apply(this,arguments)}function g(){return g=Object(M.a)(r.a.mark(function o(d,a){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(O.f)("/api/admin/settings",Object(h.a)({method:"POST",headers:{"Content-Type":"application/json"},data:d},a||{})));case 1:case"end":return l.stop()}},o)})),g.apply(this,arguments)}function _(o,d,a){return p.apply(this,arguments)}function p(){return p=Object(M.a)(r.a.mark(function o(d,a,u){return r.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(O.f)("/api/admin/settings/".concat(d),Object(h.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:a},u||{})));case 1:case"end":return j.stop()}},o)})),p.apply(this,arguments)}function c(o,d){return b.apply(this,arguments)}function b(){return b=Object(M.a)(r.a.mark(function o(d,a){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(O.f)("/api/admin/settings/".concat(d),Object(h.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return l.stop()}},o)})),b.apply(this,arguments)}function C(o){return x.apply(this,arguments)}function x(){return x=Object(M.a)(r.a.mark(function o(d){return r.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(O.f)("/api/admin/settings/groups",Object(h.a)({method:"GET",useCache:!1},d||{})));case 1:case"end":return u.stop()}},o)})),x.apply(this,arguments)}function D(o){return t.apply(this,arguments)}function t(){return t=Object(M.a)(r.a.mark(function o(d){return r.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(O.f)("/api/admin/config",Object(h.a)({method:"GET",useCache:!1},d||{})));case 1:case"end":return u.stop()}},o)})),t.apply(this,arguments)}function s(o,d){return I.apply(this,arguments)}function I(){return I=Object(M.a)(r.a.mark(function o(d,a){var u,l;return r.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u=d.key,l=d.value,A.abrupt("return",Object(O.f)("/api/admin/config",Object(h.a)({method:"POST",data:{config:[{key:u,value:l}]}},a||{})));case 2:case"end":return A.stop()}},o)})),I.apply(this,arguments)}},"5ddx":function(G,v,e){"use strict";var h=e("9og8"),M=e("+L6B"),K=e("2/Rp"),r=e("tJVT"),O=e("WmNS"),P=e.n(O),m=e("q1tI"),f=e.n(m),n=e("9kvl"),i=e("Qiat"),g=e("VK58"),_=e("xvlK"),p=e("Xcxh"),c=e("y8nQ"),b=e("Vl3Y"),C=e("rmhi"),x=e("VMEa"),D=e("Qurx"),t=e("nKUr"),s=function(u){var l=Object(n.i)(),j=u.visible,A=u.onVisibleChange,R=u.onFinish,V=b.a.useForm(),W=Object(r.a)(V,1),T=W[0];return Object(m.useEffect)(function(){return function(){T.resetFields()}},[]),Object(t.jsx)(C.a,{form:T,title:l.formatMessage({id:"newSetting",defaultMessage:"newSetting"}),width:"30vw",visible:j,onVisibleChange:A,onFinish:R,children:Object(t.jsxs)(x.a.Group,{children:[Object(t.jsx)(D.a,{label:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"}),Object(t.jsx)(D.a,{label:Object(t.jsx)(n.a,{id:"value",defaultMessage:"value"}),rules:[{required:!0}],width:"md",name:"value"})]})})},I=s,o=function(u){var l=u.user,j=u.isProfile,A=j===void 0?!1:j,R=Object(m.useRef)(),V=Object(n.i)(),W=Object(m.useState)(!1),T=Object(r.a)(W,2),z=T[0],J=T[1],Q=Object(m.useState)("PATCH"),Y=Object(r.a)(Q,2),k=Y[0],H=Y[1],X=[{title:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(n.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInSearch:!0}],q=Object(m.useCallback)(function(y){var B=y&&Object.entries(y).map(function(N){return{key:N[0],value:N[1]}});return B},[l]);return Object(t.jsxs)(f.a.Fragment,{children:[Object(t.jsx)(i.a,{headerTitle:V.formatMessage({id:"menu.settings"}),actionRef:R,rowKey:"id",search:!1,toolBarRender:A?function(){return[Object(t.jsxs)(K.a,{type:"primary",onClick:function(){J(-1),H("PATCH")},children:[Object(t.jsx)(_.a,{})," ",Object(t.jsx)(n.a,{id:"pages.searchTable.new"})]},"primary"),Object(t.jsxs)(K.a,{color:"yellow",type:"primary",onClick:function(){J(-1),H("PUT")},children:[Object(t.jsx)(p.a,{})," ",Object(t.jsx)(n.a,{id:"user.settings.overwrite"})]},"primary")]}:!1,request:function(){return Object(g.d)(Number(l)).then(function(B){return B.success?{data:q(B.data)}:[]})},columns:X}),Object(t.jsx)(I,{id:z,visible:Number.isInteger(z),onVisibleChange:function(B){return B===!1&&J(!1)},onFinish:function(){var y=Object(h.a)(P.a.mark(function B(N){var Z;return P.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(g.g)(Number(l),k,N);case 2:Z=E.sent,Z.success&&(J(!1),R.current&&R.current.reload());case 4:case"end":return E.stop()}},B)}));return function(B){return y.apply(this,arguments)}}()})]})},d=v.a=o},C8Qx:function(G,v,e){"use strict";var h=e("YDZB"),M=e("FJDo"),K=e("tneF"),r=e("Qurx"),O=e("BiO0"),P=e("VMEa"),m=e("q1tI"),f=e.n(m),n=e("9kvl"),i=e("nKUr"),g=e.n(i),_=function(c){var b=c.field,C=Object(n.i)(),x=function(t){var s=t&&t.extra&&t.extra.find(function(I){return I[Object(n.c)()]});switch(t.type){case"number":return Object(i.jsx)(M.a,{width:"md",name:t.name,label:s?s[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),placeholder:C.formatMessage({id:t.name,defaultMessage:t.name}),min:1,max:1024,fieldProps:{step:1}});case"boolean":return Object(i.jsx)(K.a,{name:t.name,children:s?s[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name})});case"varchar":return Object(i.jsx)(r.a,{width:"md",name:t.name,label:s?s[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),placeholder:C.formatMessage({id:t.name}),required:!0});case"text":return Object(i.jsx)(O.a,{width:"md",name:t.name,label:s?s[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),placeholder:C.formatMessage({id:t.name}),required:!0});case"json":return Object(i.jsx)(P.a.Item,{name:t.name,label:s?s[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),valuePropName:"value",children:Object(i.jsx)(h.a,{})})}};return Object(i.jsx)(i.Fragment,{children:x(b)})};v.a=_},"DBJ/":function(G,v,e){"use strict";var h=e("y8nQ"),M=e("Vl3Y"),K=e("etVw"),r=e("q1tI"),O=e.n(r),P=e("9kvl"),m=e("qFDU"),f=e("nKUr"),n=e.n(f),i=function(_){var p=_.onChange,c=_.url,b=_.name,C=_.extra,x=_.accept,D=_.data,t=_.wrapInForm,s=t===void 0?!0:t,I=_.title,o=Object(P.i)();return D&&D[b]&&delete D[b],Object(f.jsx)(m.a,{condition:s,wrap:function(a){return Object(f.jsx)(M.a,{children:a})},children:Object(f.jsx)(K.a,{title:I||Object(f.jsx)(P.a,{id:"upload_click_here"}),placeholder:o.formatMessage({id:"upload_click_here"}),onChange:p,label:Object(f.jsx)(P.a,{id:"upload"}),max:2,fieldProps:{data:D,accept:x,name:b,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(c),extra:C})})};v.a=i},Jfn2:function(G,v,e){"use strict";var h=e("k1fw"),M=e("XCrF"),K=e("1GRj"),r=e("PpiC"),O=e("q1tI"),P=e.n(O),m=e("nKUr"),f=e.n(m),n=function(g){var _=g.path,p=g.size,c=g.srcSizes,b=g.alt,C=b===void 0?"LMS Image":b,x=Object(r.a)(g,["path","size","srcSizes","alt"]),D="".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(_,"&w=").concat(c?c[0]:p),t=c&&c.map(function(s){return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(_,"&w=").concat(s," ").concat(s,"w")});return Object(m.jsx)("div",{className:"escolalms-image",children:Object(m.jsx)(K.a,Object(h.a)({src:D,srcSet:t&&t.join(","),alt:C},x))})};v.a=n},YDZB:function(G,v,e){"use strict";var h=e("2qtc"),M=e("kLXV"),K=e("7Kak"),r=e("9yH6"),O=e("+L6B"),P=e("2/Rp"),m=e("tJVT"),f=e("q1tI"),n=e.n(f),i=e("gU/Y"),g=e("9kvl"),_=e("u95b"),p=e.n(_),c=e("nKUr"),b=e.n(c),C=function(D){var t=D.value,s=D.onChange,I=Object(f.useState)(!1),o=Object(m.a)(I,2),d=o[0],a=o[1],u=Object(f.useCallback)(function(){a(!1)},[]),l=Object(f.useState)("code"),j=Object(m.a)(l,2),A=j[0],R=j[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(P.a,{type:"primary",onClick:function(){return a(!0)},size:"small",children:Object(c.jsx)(g.a,{id:"json_editor"})}),Object(c.jsxs)(M.a,{title:"JSON",visible:d,onOk:u,onCancel:u,children:[Object(c.jsxs)(r.a.Group,{onChange:function(W){return R(W.target.value)},value:A,children:[Object(c.jsx)(r.a,{value:"tree",children:"tree"}),Object(c.jsx)(r.a,{value:"view",children:"view"}),Object(c.jsx)(r.a,{value:"form",children:"form"}),Object(c.jsx)(r.a,{value:"code",children:"code"}),Object(c.jsx)(r.a,{value:"text",children:"text"})]}),Object(c.jsx)(i.a,{mode:A,value:t,onChange:function(W){return s&&s(W)}},A)]})]})};v.a=C},fWLy:function(G,v,e){"use strict";e.r(v);var h=e("T2oS"),M=e("W9HT"),K=e("miYZ"),r=e("tsqr"),O=e("k1fw"),P=e("9og8"),m=e("tJVT"),f=e("WmNS"),n=e.n(f),i=e("q1tI"),g=e.n(i),_=e("VMEa"),p=e("Qurx"),c=e("nhC9"),b=e("VK58"),C=e("tMyG"),x=e("DBJ/"),D=e("Jfn2"),t=e("Ty5D"),s=e("9kvl"),I=e("5ddx"),o=e("+up7"),d=e("C8Qx"),a=e("nKUr"),u=e.n(a);v.default=function(){var l=Object(t.h)(),j=Object(s.i)(),A=l.tab,R=A===void 0?"general":A,V=Object(i.useState)(),W=Object(m.a)(V,2),T=W[0],z=W[1],J=Object(i.useState)([]),Q=Object(m.a)(J,2),Y=Q[0],k=Q[1],H=Object(i.useState)([]),X=Object(m.a)(H,2),q=X[0],y=X[1],B=Object(i.useCallback)(Object(P.a)(n.a.mark(function S(){var E;return n.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Object(o.a)();case 2:E=U.sent,E.success&&(k(E.data.escola_auth.additional_fields_required.value),y(E.data.escola_auth.additional_fields.value));case 4:case"end":return U.stop()}},S)})),[]);Object(i.useEffect)(function(){var S=function(){var E=Object(P.a)(n.a.mark(function F(){var U;return n.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Object(b.e)();case 2:U=$.sent,U.success&&z(Object(O.a)(Object(O.a)({},U.data),{},{bio:U.data.bio||""}));case 4:case"end":return $.stop()}},F)}));return function(){return E.apply(this,arguments)}}();B(),S()},[]);var N=Object(i.useMemo)(function(){return{onFinish:function(){var S=Object(P.a)(n.a.mark(function F(U){var w;return n.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(b.h)(U);case 2:w=L.sent,r.default.success(w.message);case 4:case"end":return L.stop()}},F)}));function E(F){return S.apply(this,arguments)}return E}(),initialValues:T}},[T]),Z=Object(i.useMemo)(function(){return{onFinish:function(){var S=Object(P.a)(n.a.mark(function F(U){var w;return n.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(b.i)(U);case 2:w=L.sent,r.default.success(w.message);case 4:case"end":return L.stop()}},F)}));function E(F){return S.apply(this,arguments)}return E}(),initialValues:T}},[T]);return T?Object(a.jsx)(C.a,{title:Object(a.jsx)(s.a,{id:"my_profile"}),header:{breadcrumb:{routes:[{path:"users",breadcrumbName:j.formatMessage({id:"menu.Users"})},{path:"me",breadcrumbName:j.formatMessage({id:"my_profile"})},{path:String(R),breadcrumbName:j.formatMessage({id:String(R)})}]}},children:Object(a.jsxs)(c.a,{tabs:{type:"card",activeKey:R,onChange:function(E){return s.d.push("/users/me/".concat(E))}},children:[Object(a.jsx)(c.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"general"}),children:Object(a.jsxs)(_.a,Object(O.a)(Object(O.a)({},N),{},{children:[Object(a.jsxs)(_.a.Group,{children:[Object(a.jsx)(p.a,{width:"md",name:"first_name",label:Object(a.jsx)(s.a,{id:"first_name"}),tooltip:Object(a.jsx)(s.a,{id:"first_name"}),placeholder:j.formatMessage({id:"first_name"}),required:!0}),Object(a.jsx)(p.a,{width:"md",name:"last_name",label:Object(a.jsx)(s.a,{id:"last_name"}),tooltip:Object(a.jsx)(s.a,{id:"last_name"}),placeholder:j.formatMessage({id:"last_name"}),required:!0})]}),Object(a.jsx)(d.a,{additionalFields:q,requiredFields:Y,id:T.id}),Object(a.jsx)(_.a.Group,{children:Object(a.jsxs)(_.a.Item,{name:"avatar",label:Object(a.jsx)(s.a,{id:"avatar"}),children:[T.path_avatar&&Object(a.jsx)(D.a,{path:T.path_avatar,size:600,width:200}),Object(a.jsx)(x.a,{url:"/api/profile/upload-avatar",name:"avatar",accept:"image/*",onChange:function(E){E.file.status==="done"&&E.file.response.success&&z(E.file.response.data)}})]})})]}))},"general"),Object(a.jsx)(c.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"change_password"}),children:Object(a.jsxs)(_.a,Object(O.a)(Object(O.a)({},Z),{},{children:[Object(a.jsx)(_.a.Group,{children:Object(a.jsx)(p.a.Password,{width:"md",name:"current_password",label:Object(a.jsx)(s.a,{id:"current_password"}),placeholder:j.formatMessage({id:"current_password"}),required:!0})}),Object(a.jsxs)(_.a.Group,{children:[Object(a.jsx)(p.a.Password,{width:"md",name:"new_password",label:Object(a.jsx)(s.a,{id:"new_password"}),placeholder:j.formatMessage({id:"new_password"}),required:!0}),Object(a.jsx)(p.a.Password,{width:"md",name:"new_confirm_password",label:Object(a.jsx)(s.a,{id:"new_confirm_password"}),placeholder:j.formatMessage({id:"new_confirm_password"}),required:!0})]})]}))},"change_password"),Object(a.jsx)(c.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user.settings"}),children:Object(a.jsx)(I.a,{user:String(T.id),isProfile:!0})},"user_settings")]})}):Object(a.jsx)(M.a,{})}}}]);
