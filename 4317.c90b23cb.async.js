(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4317],{46936:function(){"use strict"},4554:function(){"use strict"},57913:function(cr,dr,It){"use strict";var Dt=It(73935),Qt=It(16496),mt=It.n(Qt),at=It(49638),$=It.n(at),T=It(67294);function k(M,F,V){return F in M?Object.defineProperty(M,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):M[F]=V,M}function y(M){for(var F=1;F<arguments.length;F++){var V=arguments[F]!=null?arguments[F]:{},L=Object.keys(V);typeof Object.getOwnPropertySymbols=="function"&&(L=L.concat(Object.getOwnPropertySymbols(V).filter(function(U){return Object.getOwnPropertyDescriptor(V,U).enumerable}))),L.forEach(function(U){k(M,U,V[U])})}return M}function b(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function w(M,F){for(var V=0;V<F.length;V++){var L=F[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}function E(M,F,V){return F&&w(M.prototype,F),V&&w(M,V),M}function g(M){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(V){return typeof V}:g=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},g(M)}function h(M){return typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?h=function(V){return g(V)}:h=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":g(V)},h(M)}function l(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function o(M,F){return F&&(h(F)==="object"||typeof F=="function")?F:l(M)}function n(M){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},n(M)}function a(M,F){return a=Object.setPrototypeOf||function(L,U){return L.__proto__=U,L},a(M,F)}function u(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),F&&a(M,F)}function c(M){if(Array.isArray(M)){for(var F=0,V=new Array(M.length);F<M.length;F++)V[F]=M[F];return V}}function f(M){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]")return Array.from(M)}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(M){return c(M)||f(M)||x()}var C={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},P=function M(){var F=this;b(this,M),this.startListen=function(V){V&&V.addEventListener("keydown",F.f)},this.stopListen=function(V){V&&V.removeEventListener("keydown",F.f)},this.add=function(V,L){var U=V;return typeof U!="object"&&(U=[U]),F.listeners[F.index]={keyCode:U,fn:L},F.index++},this.remove=function(V){delete F.listeners[V]},this.removeAll=function(){F.listeners={},F.index=1},this.index=1,this.listeners={},this.f=function(V){if(V){var L=V.keyCode||V.which;Object.values(F.listeners).forEach(function(U){var Z=U.keyCode,ue=U.fn;Z.includes(L)&&(V.stopPropagation(),V.preventDefault(),ue(V))})}}},S=new P,i=function(M){u(F,M);function F(){var V,L;b(this,F);for(var U=arguments.length,Z=new Array(U),ue=0;ue<U;ue++)Z[ue]=arguments[ue];return L=o(this,(V=n(F)).call.apply(V,[this].concat(Z))),L.selectItem=function(){var fe=L.props,ne=fe.item,G=fe.onSelectHandler;G(ne)},L}return E(F,[{key:"shouldComponentUpdate",value:function(L){return this.props.item!==L.item||this.props.selected!==L.selected||this.props.style!==L.style||this.props.className!==L.className}},{key:"render",value:function(){var L=this,U=this.props,Z=U.component,ue=U.style,fe=U.onClickHandler,ne=U.item,G=U.selected,J=U.className,le=U.innerRef;return T.createElement("li",{className:"rta__item  ".concat(G===!0?"rta__item--selected":""," ").concat(J||""),style:ue},T.createElement("div",{className:"rta__entity ".concat(G===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:fe,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){L.clicked=!0,L.selectItem()},onTouchEnd:function(se){se.preventDefault(),L.clicked&&fe(se)},onTouchMove:function(){L.clicked=!1},onTouchCancel:function(){L.clicked=!1},ref:le},T.createElement(Z,{selected:G,entity:ne})))}}]),F}(T.Component),A=function(M){u(F,M);function F(){var V,L;b(this,F);for(var U=arguments.length,Z=new Array(U),ue=0;ue<U;ue++)Z[ue]=arguments[ue];return L=o(this,(V=n(F)).call.apply(V,[this].concat(Z))),L.state={selectedItem:null},L.cachedIdOfItems=new Map,L.onPressEnter=function(fe){typeof fe!="undefined"&&fe.preventDefault();var ne=L.props.values;L.modifyText(ne[L.getPositionInList()])},L.getPositionInList=function(){var fe=L.props.values,ne=L.state.selectedItem;return ne?fe.findIndex(function(G){return L.getId(G)===L.getId(ne)}):0},L.getId=function(fe){if(L.cachedIdOfItems.has(fe))return L.cachedIdOfItems.get(fe);var ne=L.props.getTextToReplace(fe),G=function(){if(ne){if(ne.key)return ne.key;if(typeof fe=="string"||!fe.key)return ne.text}if(!fe.key)throw new Error("Item ".concat(JSON.stringify(fe),' has to have defined "key" property'));return fe.key},J=G();return L.cachedIdOfItems.set(fe,J),J},L.listeners=[],L.itemsRef={},L.modifyText=function(fe){if(fe){var ne=L.props.onSelect;ne(fe)}},L.selectItem=function(fe){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=L.props.onItemHighlighted;L.state.selectedItem!==fe&&L.setState({selectedItem:fe},function(){G(fe),ne&&L.props.dropdownScroll(L.itemsRef[L.getId(fe)])})},L.scroll=function(fe){fe.preventDefault();var ne=L.props.values,G=fe.keyCode||fe.which,J=L.getPositionInList(),le;switch(G){case C.DOWN:le=J+1;break;case C.UP:le=J-1;break;default:le=J;break}le=(le%ne.length+ne.length)%ne.length,L.selectItem(ne[le],[C.DOWN,C.UP].includes(G))},L.isSelected=function(fe){var ne=L.state.selectedItem;return ne?L.getId(ne)===L.getId(fe):!1},L}return E(F,[{key:"componentDidMount",value:function(){this.listeners.push(S.add([C.DOWN,C.UP],this.scroll),S.add([C.ENTER,C.TAB],this.onPressEnter));var L=this.props.values;L&&L[0]&&this.selectItem(L[0])}},{key:"componentDidUpdate",value:function(L){var U=this,Z=L.values,ue=this.props.values,fe=Z.map(function(G){return U.getId(G)}).join(""),ne=ue.map(function(G){return U.getId(G)}).join("");fe!==ne&&ue&&ue[0]&&this.selectItem(ue[0])}},{key:"componentWillUnmount",value:function(){for(var L;this.listeners.length;)L=this.listeners.pop(),S.remove(L)}},{key:"render",value:function(){var L=this,U=this.props,Z=U.values,ue=U.component,fe=U.style,ne=U.itemClassName,G=U.className,J=U.itemStyle;return T.createElement("ul",{className:"rta__list ".concat(G||""),style:fe},Z.map(function(le){return T.createElement(i,{key:L.getId(le),innerRef:function(se){L.itemsRef[L.getId(le)]=se},selected:L.isSelected(le),item:le,className:ne,style:J,onClickHandler:L.onPressEnter,onSelectHandler:L.selectItem,component:ue})}))}}]),F}(T.Component);function O(M,F){var V=parseInt(getComputedStyle(F).getPropertyValue("height"),10),L=parseInt(getComputedStyle(M).getPropertyValue("height"),10)-V,U=F.offsetTop,Z=M.scrollTop;U<Z+L&&Z<U||(M.scrollTop=U)}var B="next",q={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},z=function(F){return console.error("RTA: dataProvider fails: ".concat(F,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},j=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],H=function(F){return p(F).map(function(V){return j.includes(V)?"\\".concat(V):V}).join("")},W=function(M){u(F,M);function F(){return b(this,F),o(this,n(F).apply(this,arguments))}return E(F,[{key:"componentDidMount",value:function(){var L=this.props.boundariesElement;if(typeof L=="string"){var U=document.querySelector(L);if(!U)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=U}else if(L instanceof HTMLElement)this.containerElem=L;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var L,U,Z=this.props.top||0,ue=this.props.left||0,fe=[],ne=[],G=0,J=0,le=this.containerElem.getBoundingClientRect(),de=this.ref.getBoundingClientRect(),se=this.props.textareaRef.getBoundingClientRect(),ke=window.getComputedStyle(this.ref),xe=parseInt(ke.getPropertyValue("margin-top"),10),De=parseInt(ke.getPropertyValue("margin-bottom"),10),ye=parseInt(ke.getPropertyValue("margin-left"),10),Be=parseInt(ke.getPropertyValue("margin-right"),10),He=xe+De+se.top+Z+de.height,Te=ye+Be+se.left+ue+de.width;Te>le.right&&se.left+ue>de.width?(J=ue-de.width,fe.push(q.X.LEFT),ne.push(q.X.RIGHT)):(J=ue,fe.push(q.X.RIGHT),ne.push(q.X.LEFT)),He>le.bottom&&se.top+Z>de.height?(G=Z-de.height,fe.push(q.Y.TOP),ne.push(q.Y.BOTTOM)):(G=Z,fe.push(q.Y.BOTTOM),ne.push(q.Y.TOP)),this.props.renderToBody&&(G+=se.top,J+=se.left),this.ref.style.top="".concat(G,"px"),this.ref.style.left="".concat(J,"px"),(L=this.ref.classList).remove.apply(L,ne),(U=this.ref.classList).add.apply(U,fe)}},{key:"render",value:function(){var L=this,U=this.props,Z=U.style,ue=U.className,fe=U.innerRef,ne=U.children,G=U.renderToBody,J=document.body,le=T.createElement("div",{ref:function(se){L.ref=se,fe(se)},className:"rta__autocomplete ".concat(ue||""),style:Z},ne);return G&&J!==null?Dt.createPortal(le,J):le}}]),F}(T.Component),N=function(M){u(F,M);function F(V){var L;b(this,F),L=o(this,n(F).call(this,V)),L.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},L.escListenerInit=function(){L.escListener||(L.escListener=S.add(C.ESC,L._closeAutocomplete))},L.escListenerDestroy=function(){L.escListener&&(S.remove(L.escListener),L.escListener=null)},L.getSelectionPosition=function(){return L.textareaRef?{selectionStart:L.textareaRef.selectionStart,selectionEnd:L.textareaRef.selectionEnd}:null},L.getSelectedText=function(){if(!L.textareaRef)return null;var ne=L.textareaRef,G=ne.selectionStart,J=ne.selectionEnd;return G===J?null:L.state.value.substr(G,J-G)},L.setCaretPosition=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;L.textareaRef&&(L.textareaRef.focus(),L.textareaRef.setSelectionRange(ne,ne))},L.getCaretPosition=function(){if(!L.textareaRef)return 0;var ne=L.textareaRef.selectionEnd;return ne},L._handleCaretChange=function(ne){var G=function(){var de=L.getCaretPosition()-1;L.lastTrigger=L.lastTrigger?de:0};if(ne.type==="keydown"){var J=ne.keyCode||ne.which;switch(J){case C.UP:case C.DOWN:L._isAutocompleteOpen()||G();break;case C.LEFT:case C.RIGHT:G();break;default:}return}G()},L._onSelect=function(ne){var G=L.state,J=G.selectionEnd,le=G.currentTrigger,de=G.value,se=L.props.onItemSelected;if(le){var ke=L._getTextToReplace(le);if(!ke){L._closeAutocomplete();return}var xe=ke(ne);if(!xe){L._closeAutocomplete();return}se&&se({currentTrigger:le,item:ne});var De=function(tt,dt,Ue){switch(tt){case"start":return Ue;case"next":case"end":return Ue+dt.length;default:if(!Number.isInteger(tt))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return tt}},ye=de.slice(0,J),Be=H(le),He=ye.length-ye.lastIndexOf(le),Te=ye.search(new RegExp("(?!".concat(Be,")$")))-He,Se=xe.caretPosition==="next"?"".concat(xe.text," "):xe.text,Me=De(xe.caretPosition,Se,Te),Ke=ye.substring(0,Te)+Se,We=de.replace(ye,Ke);L.setState({value:We,dataLoading:!1},function(){var _e=L.tokenRegExpEnding.exec(Se),tt=_e?_e[0].length:1;L.lastTrigger=Me&&Me-tt,L.textareaRef.value=We,L.textareaRef.selectionEnd=Me,L._changeHandler();var dt=L.textareaRef.scrollTop;L.setCaretPosition(Me),window.chrome&&(L.textareaRef.scrollTop=dt)})}},L._getTextToReplace=function(ne){var G=L.props.trigger[ne];if(!ne||!G)return null;var J=G.output;return function(le){if(typeof le=="object"&&(!J||typeof J!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(J){var de=J(le,ne);if(de===void 0||typeof de=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(de),'". Check the implementation for trigger "').concat(ne,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(de===null)return null;if(typeof de=="string")return{text:de,caretPosition:B};if(!de.text&&typeof de.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ne,`"
`));if(!de.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ne,`"
`));return de}if(typeof le!="string")throw new Error(`Output item should be string
`);return{text:"".concat(ne).concat(le).concat(ne),caretPosition:B}}},L._getCurrentTriggerSettings=function(){var ne=L.state.currentTrigger;return ne?L.props.trigger[ne]:null},L._getValuesFromProvider=function(){var ne=L.state,G=ne.currentTrigger,J=ne.actualToken,le=L._getCurrentTriggerSettings();if(!(!G||!le)){var de=le.dataProvider,se=le.component;if(typeof de!="function")throw new Error("Trigger provider has to be a function!");L.setState({dataLoading:!0});var ke=de(J);ke instanceof Promise||(ke=Promise.resolve(ke)),ke.then(function(xe){if(!Array.isArray(xe))throw new Error("Trigger provider has to provide an array!");if(typeof se!="function")throw new Error("Component should be defined!");if(G===L.state.currentTrigger){if(!xe.length){L._closeAutocomplete();return}L.setState({dataLoading:!1,data:xe,component:se})}}).catch(function(xe){return z(xe.message)})}},L._getSuggestions=function(){var ne=L.state,G=ne.currentTrigger,J=ne.data;return!G||!J||J&&!J.length?null:J},L._createRegExp=function(){var ne=L.props.trigger;L.tokenRegExp=new RegExp("(".concat(Object.keys(ne).sort(function(G,J){return G<J?1:G>J?-1:0}).map(function(G){return H(G)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),L.tokenRegExpEnding=new RegExp("(".concat(Object.keys(ne).sort(function(G,J){return G<J?1:G>J?-1:0}).map(function(G){return H(G)}).join("|"),")$"))},L._closeAutocomplete=function(){var ne=L.state.currentTrigger;L.escListenerDestroy(),L.setState({data:null,dataLoading:!1,currentTrigger:null},function(){ne&&L._onItemHighlightedHandler(null)})},L._cleanUpProps=function(){var ne=y({},L.props),G=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var J in ne)G.includes(J)&&delete ne[J];return ne},L._changeHandler=function(ne){var G=L.props,J=G.trigger,le=G.onChange,de=G.minChar,se=G.onCaretPositionChange,ke=G.movePopupAsYouType,xe=L.state,De=xe.top,ye=xe.left,Be=ne;Be||(Be=new($())("change",{bubbles:!0}),L.textareaRef.dispatchEvent(Be));var He=Be.target||L.textareaRef,Te=He.selectionEnd,Se=He.value;if(L.lastValueBubbledEvent=Se,le&&Be&&(Be.persist&&Be.persist(),le(new Proxy(Be,{get:function(Ut,re,Et){return re==="target"?He:Reflect.get(Ut,re,Et)}}))),se){var Me=L.getCaretPosition();se(Me)}L.setState({value:Se});var Ke=function(){var Ut=mt()(He,Te),re=Ut.top,Et=Ut.left;L.setState({top:re-L.textareaRef.scrollTop||0,left:Et})},We=function(Ut){L.lastTrigger=Te-Ut,L._closeAutocomplete(),Ke()};if(Te<=L.lastTrigger){var _e=Se.slice(0,Te),tt=L.tokenRegExp.exec(_e);We(tt?tt[0].length:0)}var dt=Se.slice(L.lastTrigger,Te),Ue=L.tokenRegExp.exec(dt),Lt=Ue&&Ue[0],yt=Ue&&Ue[1]||null,St=yt?yt.length-1:0,st=L.tokenRegExpEnding.exec(dt);if(st?We(st[0].length):L._isAutocompleteOpen()||L._closeAutocomplete(),(!Lt||Lt.length<=de+St)&&(L.state.currentTrigger&&!J[L.state.currentTrigger].allowWhitespace||!L.state.currentTrigger)){L._closeAutocomplete();return}if(yt&&J[yt].afterWhitespace&&!/\s/.test(Se[Te-Lt.length-1])&&Se[Te-Lt.length-1]!==void 0){L._closeAutocomplete();return}if(L.state.currentTrigger&&J[L.state.currentTrigger].allowWhitespace){if(Ue=new RegExp("".concat(H(L.state.currentTrigger),".*$")).exec(Se.slice(0,Te)),Lt=Ue&&Ue[0],!Lt){L._closeAutocomplete();return}yt=Object.keys(J).find(function(Vt){return Vt.slice(0,St+1)===Lt.slice(0,St+1)})||null}var yr=Lt.slice(1);if(yt){(ke||De===null&&ye===null||L.state.currentTrigger!==yt)&&Ke(),L.escListenerInit();var er=L._getTextToReplace(yt);L.setState({selectionEnd:Te,currentTrigger:yt,textToReplace:er,actualToken:yr},function(){try{L._getValuesFromProvider()}catch(Vt){z(Vt.message)}})}},L._selectHandler=function(ne){var G=L.props,J=G.onCaretPositionChange,le=G.onSelect;if(J){var de=L.getCaretPosition();J(de)}le&&(ne.persist(),le(ne))},L._shouldStayOpen=function(ne){var G=ne.relatedTarget;return G===null&&(G=document.activeElement),!!(L.dropdownRef&&G instanceof Node&&L.dropdownRef.contains(G))},L._onClick=function(ne){var G=L.props.onClick;G&&(ne.persist(),G(ne)),!L._shouldStayOpen(ne)&&L._closeAutocomplete()},L._onBlur=function(ne){var G=L.props.onBlur;G&&(ne.persist(),G(ne)),!L._shouldStayOpen(ne)&&L._closeAutocomplete()},L._onScrollHandler=function(){L._closeAutocomplete()},L._onItemHighlightedHandler=function(ne){var G=L.props.onItemHighlighted,J=L.state.currentTrigger;if(G)if(typeof G=="function")G({currentTrigger:J,item:ne});else throw new Error("`onItemHighlighted` has to be a function")},L._dropdownScroll=function(ne){var G=L.props.scrollToItem;if(G){if(G===!0){O(L.dropdownRef,ne);return}if(typeof G!="function"||G.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");G(L.dropdownRef,ne)}},L._isAutocompleteOpen=function(){var ne=L.state,G=ne.dataLoading,J=ne.currentTrigger,le=L._getSuggestions();return!!((G||le)&&J)},L._textareaRef=function(ne){L.props.innerRef&&L.props.innerRef(ne),L.textareaRef=ne},L.lastTrigger=0,L.escListener=null;var U=L.props,Z=U.loadingComponent,ue=U.trigger,fe=U.value;if(fe&&(L.state.value=fe),L._createRegExp(),!Z)throw new Error("RTA: loadingComponent is not defined");if(!ue)throw new Error("RTA: trigger is not defined");return L}return E(F,[{key:"componentDidMount",value:function(){S.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(L){var U=L.trigger,Z=L.value,ue=this.props,fe=ue.trigger,ne=ue.value;Object.keys(fe).join("")!==Object.keys(U).join("")&&this._createRegExp(),Z!==ne&&this.lastValueBubbledEvent!==ne&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),S.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var L=this,U=this.props,Z=U.loadingComponent,ue=U.style,fe=U.className,ne=U.listStyle,G=U.itemStyle,J=U.boundariesElement,le=U.movePopupAsYouType,de=U.listClassName,se=U.itemClassName,ke=U.dropdownClassName,xe=U.dropdownStyle,De=U.containerStyle,ye=U.containerClassName,Be=U.loaderStyle,He=U.loaderClassName,Te=U.textAreaComponent,Se=U.renderToBody,Me=this.state,Ke=Me.left,We=Me.top,_e=Me.dataLoading,tt=Me.component,dt=Me.value,Ue=Me.textToReplace,Lt=this._isAutocompleteOpen(),yt=this._getSuggestions(),St={},st;return Te.component?(st=Te.component,St[Te.ref]=this._textareaRef):(st=Te,St.ref=this._textareaRef),T.createElement("div",{className:"rta ".concat(_e===!0?"rta--loading":""," ").concat(ye||""),style:De},T.createElement(st,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(fe||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:dt,style:ue},St)),Lt&&T.createElement(W,{innerRef:function(er){L.dropdownRef=er},top:We,left:Ke,style:xe,className:ke,movePopupAsYouType:le,boundariesElement:J,textareaRef:this.textareaRef,renderToBody:Se},yt&&tt&&Ue&&T.createElement(A,{values:yt,component:tt,style:ne,className:de,itemClassName:se,itemStyle:G,getTextToReplace:Ue,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),_e&&T.createElement("div",{className:"rta__loader ".concat(yt!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(He||""),style:Be},T.createElement(Z,{data:yt}))))}}],[{key:"getDerivedStateFromProps",value:function(L){var U=L.value;return U==null?null:{value:U}}}]),F}(T.Component);N.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},dr.Z=N},49638:function(cr,dr,It){var Dt=It.g.CustomEvent;function Qt(){try{var mt=new Dt("cat",{detail:{foo:"bar"}});return mt.type==="cat"&&mt.detail.foo==="bar"}catch(at){}return!1}cr.exports=Qt()?Dt:typeof document!="undefined"&&typeof document.createEvent=="function"?function(at,$){var T=document.createEvent("CustomEvent");return $?T.initCustomEvent(at,$.bubbles,$.cancelable,$.detail):T.initCustomEvent(at,!1,!1,void 0),T}:function(at,$){var T=document.createEventObject();return T.type=at,$?(T.bubbles=!!$.bubbles,T.cancelable=!!$.cancelable,T.detail=$.detail):(T.bubbles=!1,T.cancelable=!1,T.detail=void 0),T}},79031:function(cr,dr,It){var Dt=It(48764).lW;(()=>{var Qt={456:($,T,k)=>{"use strict";var y=k(453),b=k(487),w=b(y("String.prototype.indexOf"));$.exports=function(E,g){var h=y(E,!!g);return typeof h=="function"&&w(E,".prototype.")>-1?b(h):h}},487:($,T,k)=>{"use strict";var y=k(6743),b=k(453),w=k(6897),E=k(9675),g=b("%Function.prototype.apply%"),h=b("%Function.prototype.call%"),l=b("%Reflect.apply%",!0)||y.call(h,g),o=k(655),n=b("%Math.max%");$.exports=function(u){if(typeof u!="function")throw new E("a function is required");var c=l(y,h,arguments);return w(c,1+n(0,u.length-(arguments.length-1)),!0)};var a=function(){return l(y,g,arguments)};o?o($.exports,"apply",{value:a}):$.exports.apply=a},4982:($,T,k)=>{var y=k(1189),b=k(7244),w=k(7653),E=k(4035),g=k(1589),h=k(2120),l=Date.prototype.getTime;function o(a){return a==null}function n(a){return!(!a||typeof a!="object"||typeof a.length!="number"||typeof a.copy!="function"||typeof a.slice!="function"||a.length>0&&typeof a[0]!="number")}$.exports=function a(u,c,f){var x=f||{};return!!(x.strict?w(u,c):u===c)||(!u||!c||typeof u!="object"&&typeof c!="object"?x.strict?w(u,c):u==c:function(p,C,P){var S,i;if(typeof p!=typeof C||o(p)||o(C)||p.prototype!==C.prototype||b(p)!==b(C))return!1;var A=E(p),O=E(C);if(A!==O)return!1;if(A||O)return p.source===C.source&&g(p)===g(C);if(h(p)&&h(C))return l.call(p)===l.call(C);var B=n(p),q=n(C);if(B!==q)return!1;if(B||q){if(p.length!==C.length)return!1;for(S=0;S<p.length;S++)if(p[S]!==C[S])return!1;return!0}if(typeof p!=typeof C)return!1;try{var z=y(p),j=y(C)}catch(H){return!1}if(z.length!==j.length)return!1;for(z.sort(),j.sort(),S=z.length-1;S>=0;S--)if(z[S]!=j[S])return!1;for(S=z.length-1;S>=0;S--)if(!a(p[i=z[S]],C[i],P))return!1;return!0}(u,c,x))}},41:($,T,k)=>{"use strict";var y=k(655),b=k(8068),w=k(9675),E=k(5795);$.exports=function(g,h,l){if(!g||typeof g!="object"&&typeof g!="function")throw new w("`obj` must be an object or a function`");if(typeof h!="string"&&typeof h!="symbol")throw new w("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new w("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new w("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new w("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new w("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],c=!!E&&E(g,h);if(y)y(g,h,{configurable:a===null&&c?c.configurable:!a,enumerable:o===null&&c?c.enumerable:!o,value:l,writable:n===null&&c?c.writable:!n});else{if(!u&&(o||n||a))throw new b("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");g[h]=l}}},8452:($,T,k)=>{"use strict";var y=k(1189),b=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",w=Object.prototype.toString,E=Array.prototype.concat,g=k(41),h=k(592)(),l=function(n,a,u,c){if(a in n){if(c===!0){if(n[a]===u)return}else if(typeof(f=c)!="function"||w.call(f)!=="[object Function]"||!c())return}var f;h?g(n,a,u,!0):g(n,a,u)},o=function(n,a){var u=arguments.length>2?arguments[2]:{},c=y(a);b&&(c=E.call(c,Object.getOwnPropertySymbols(a)));for(var f=0;f<c.length;f+=1)l(n,c[f],a[c[f]],u[c[f]])};o.supportsDescriptors=!!h,$.exports=o},3939:$=>{"use strict";var T={single_source_shortest_paths:function(k,y,b){var w={},E={};E[y]=0;var g,h,l,o,n,a,u,c=T.PriorityQueue.make();for(c.push(y,0);!c.empty();)for(l in h=(g=c.pop()).value,o=g.cost,n=k[h]||{})n.hasOwnProperty(l)&&(a=o+n[l],u=E[l],(E[l]===void 0||u>a)&&(E[l]=a,c.push(l,a),w[l]=h));if(b!==void 0&&E[b]===void 0){var f=["Could not find a path from ",y," to ",b,"."].join("");throw new Error(f)}return w},extract_shortest_path_from_predecessor_list:function(k,y){for(var b=[],w=y;w;)b.push(w),k[w],w=k[w];return b.reverse(),b},find_path:function(k,y,b){var w=T.single_source_shortest_paths(k,y,b);return T.extract_shortest_path_from_predecessor_list(w,b)},PriorityQueue:{make:function(k){var y,b=T.PriorityQueue,w={};for(y in k=k||{},b)b.hasOwnProperty(y)&&(w[y]=b[y]);return w.queue=[],w.sorter=k.sorter||b.default_sorter,w},default_sorter:function(k,y){return k.cost-y.cost},push:function(k,y){var b={value:k,cost:y};this.queue.push(b),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};$.exports=T},9049:$=>{"use strict";$.exports=function(T){for(var k=[],y=T.length,b=0;b<y;b++){var w=T.charCodeAt(b);if(w>=55296&&w<=56319&&y>b+1){var E=T.charCodeAt(b+1);E>=56320&&E<=57343&&(w=1024*(w-55296)+E-56320+65536,b+=1)}w<128?k.push(w):w<2048?(k.push(w>>6|192),k.push(63&w|128)):w<55296||w>=57344&&w<65536?(k.push(w>>12|224),k.push(w>>6&63|128),k.push(63&w|128)):w>=65536&&w<=1114111?(k.push(w>>18|240),k.push(w>>12&63|128),k.push(w>>6&63|128),k.push(63&w|128)):k.push(239,191,189)}return new Uint8Array(k).buffer}},655:($,T,k)=>{"use strict";var y=k(453)("%Object.defineProperty%",!0)||!1;if(y)try{y({},"a",{value:1})}catch(b){y=!1}$.exports=y},1237:$=>{"use strict";$.exports=EvalError},9383:$=>{"use strict";$.exports=Error},9290:$=>{"use strict";$.exports=RangeError},9538:$=>{"use strict";$.exports=ReferenceError},8068:$=>{"use strict";$.exports=SyntaxError},9675:$=>{"use strict";$.exports=TypeError},5345:$=>{"use strict";$.exports=URIError},2849:$=>{"use strict";var T=Object.prototype.hasOwnProperty,k=Object.prototype.toString,y=Object.defineProperty,b=Object.getOwnPropertyDescriptor,w=function(l){return typeof Array.isArray=="function"?Array.isArray(l):k.call(l)==="[object Array]"},E=function(l){if(!l||k.call(l)!=="[object Object]")return!1;var o,n=T.call(l,"constructor"),a=l.constructor&&l.constructor.prototype&&T.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!n&&!a)return!1;for(o in l);return o===void 0||T.call(l,o)},g=function(l,o){y&&o.name==="__proto__"?y(l,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):l[o.name]=o.newValue},h=function(l,o){if(o==="__proto__"){if(!T.call(l,o))return;if(b)return b(l,o).value}return l[o]};$.exports=function l(){var o,n,a,u,c,f,x=arguments[0],p=1,C=arguments.length,P=!1;for(typeof x=="boolean"&&(P=x,x=arguments[1]||{},p=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});p<C;++p)if((o=arguments[p])!=null)for(n in o)a=h(x,n),x!==(u=h(o,n))&&(P&&u&&(E(u)||(c=w(u)))?(c?(c=!1,f=a&&w(a)?a:[]):f=a&&E(a)?a:{},g(x,{name:n,newValue:l(P,f,u)})):u!==void 0&&g(x,{name:n,newValue:u}));return x}},5606:$=>{var T=-1,k=1,y=0;function b(n,a,u){if(n==a)return n?[[y,n]]:[];(u<0||n.length<u)&&(u=null);var c=E(n,a),f=n.substring(0,c);c=g(n=n.substring(c),a=a.substring(c));var x=n.substring(n.length-c),p=function(C,P){var S;if(!C)return[[k,P]];if(!P)return[[T,C]];var i=C.length>P.length?C:P,A=C.length>P.length?P:C,O=i.indexOf(A);if(O!=-1)return S=[[k,i.substring(0,O)],[y,A],[k,i.substring(O+A.length)]],C.length>P.length&&(S[0][0]=S[2][0]=T),S;if(A.length==1)return[[T,C],[k,P]];var B=function(F,V){var L=F.length>V.length?F:V,U=F.length>V.length?V:F;if(L.length<4||2*U.length<L.length)return null;function Z(se,ke,xe){for(var De,ye,Be,He,Te=se.substring(xe,xe+Math.floor(se.length/4)),Se=-1,Me="";(Se=ke.indexOf(Te,Se+1))!=-1;){var Ke=E(se.substring(xe),ke.substring(Se)),We=g(se.substring(0,xe),ke.substring(0,Se));Me.length<We+Ke&&(Me=ke.substring(Se-We,Se)+ke.substring(Se,Se+Ke),De=se.substring(0,xe-We),ye=se.substring(xe+Ke),Be=ke.substring(0,Se-We),He=ke.substring(Se+Ke))}return 2*Me.length>=se.length?[De,ye,Be,He,Me]:null}var ue,fe,ne,G,J,le=Z(L,U,Math.ceil(L.length/4)),de=Z(L,U,Math.ceil(L.length/2));return le||de?(ue=de?le&&le[4].length>de[4].length?le:de:le,F.length>V.length?(fe=ue[0],ne=ue[1],G=ue[2],J=ue[3]):(G=ue[0],J=ue[1],fe=ue[2],ne=ue[3]),[fe,ne,G,J,ue[4]]):null}(C,P);if(B){var q=B[0],z=B[1],j=B[2],H=B[3],W=B[4],N=b(q,j),M=b(z,H);return N.concat([[y,W]],M)}return function(F,V){for(var L=F.length,U=V.length,Z=Math.ceil((L+U)/2),ue=Z,fe=2*Z,ne=new Array(fe),G=new Array(fe),J=0;J<fe;J++)ne[J]=-1,G[J]=-1;ne[ue+1]=0,G[ue+1]=0;for(var le=L-U,de=le%2!=0,se=0,ke=0,xe=0,De=0,ye=0;ye<Z;ye++){for(var Be=-ye+se;Be<=ye-ke;Be+=2){for(var He=ue+Be,Te=(_e=Be==-ye||Be!=ye&&ne[He-1]<ne[He+1]?ne[He+1]:ne[He-1]+1)-Be;_e<L&&Te<U&&F.charAt(_e)==V.charAt(Te);)_e++,Te++;if(ne[He]=_e,_e>L)ke+=2;else if(Te>U)se+=2;else if(de&&(Ke=ue+le-Be)>=0&&Ke<fe&&G[Ke]!=-1&&_e>=(Me=L-G[Ke]))return w(F,V,_e,Te)}for(var Se=-ye+xe;Se<=ye-De;Se+=2){for(var Me,Ke=ue+Se,We=(Me=Se==-ye||Se!=ye&&G[Ke-1]<G[Ke+1]?G[Ke+1]:G[Ke-1]+1)-Se;Me<L&&We<U&&F.charAt(L-Me-1)==V.charAt(U-We-1);)Me++,We++;if(G[Ke]=Me,Me>L)De+=2;else if(We>U)xe+=2;else if(!de){var _e;if((He=ue+le-Se)>=0&&He<fe&&ne[He]!=-1&&(Te=ue+(_e=ne[He])-He,_e>=(Me=L-Me)))return w(F,V,_e,Te)}}}return[[T,F],[k,V]]}(C,P)}(n=n.substring(0,n.length-c),a=a.substring(0,a.length-c));return f&&p.unshift([y,f]),x&&p.push([y,x]),h(p),u!=null&&(p=function(C,P){var S=function(z,j){if(j===0)return[y,z];for(var H=0,W=0;W<z.length;W++){var N=z[W];if(N[0]===T||N[0]===y){var M=H+N[1].length;if(j===M)return[W+1,z];if(j<M){z=z.slice();var F=j-H,V=[N[0],N[1].slice(0,F)],L=[N[0],N[1].slice(F)];return z.splice(W,1,V,L),[W+1,z]}H=M}}throw new Error("cursor_pos is out of bounds!")}(C,P),i=S[1],A=S[0],O=i[A],B=i[A+1];if(O==null||O[0]!==y)return C;if(B!=null&&O[1]+B[1]===B[1]+O[1])return i.splice(A,2,B,O),o(i,A,2);if(B!=null&&B[1].indexOf(O[1])===0){i.splice(A,2,[B[0],O[1]],[0,O[1]]);var q=B[1].slice(O[1].length);return q.length>0&&i.splice(A+2,0,[B[0],q]),o(i,A,3)}return C}(p,u)),function(C){for(var P=!1,S=function(B){return B.charCodeAt(0)>=56320&&B.charCodeAt(0)<=57343},i=2;i<C.length;i+=1)C[i-2][0]===y&&(A=C[i-2][1]).charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319&&C[i-1][0]===T&&S(C[i-1][1])&&C[i][0]===k&&S(C[i][1])&&(P=!0,C[i-1][1]=C[i-2][1].slice(-1)+C[i-1][1],C[i][1]=C[i-2][1].slice(-1)+C[i][1],C[i-2][1]=C[i-2][1].slice(0,-1));var A;if(!P)return C;var O=[];for(i=0;i<C.length;i+=1)C[i][1].length>0&&O.push(C[i]);return O}(p)}function w(n,a,u,c){var f=n.substring(0,u),x=a.substring(0,c),p=n.substring(u),C=a.substring(c),P=b(f,x),S=b(p,C);return P.concat(S)}function E(n,a){if(!n||!a||n.charAt(0)!=a.charAt(0))return 0;for(var u=0,c=Math.min(n.length,a.length),f=c,x=0;u<f;)n.substring(x,f)==a.substring(x,f)?x=u=f:c=f,f=Math.floor((c-u)/2+u);return f}function g(n,a){if(!n||!a||n.charAt(n.length-1)!=a.charAt(a.length-1))return 0;for(var u=0,c=Math.min(n.length,a.length),f=c,x=0;u<f;)n.substring(n.length-f,n.length-x)==a.substring(a.length-f,a.length-x)?x=u=f:c=f,f=Math.floor((c-u)/2+u);return f}function h(n){n.push([y,""]);for(var a,u=0,c=0,f=0,x="",p="";u<n.length;)switch(n[u][0]){case k:f++,p+=n[u][1],u++;break;case T:c++,x+=n[u][1],u++;break;case y:c+f>1?(c!==0&&f!==0&&((a=E(p,x))!==0&&(u-c-f>0&&n[u-c-f-1][0]==y?n[u-c-f-1][1]+=p.substring(0,a):(n.splice(0,0,[y,p.substring(0,a)]),u++),p=p.substring(a),x=x.substring(a)),(a=g(p,x))!==0&&(n[u][1]=p.substring(p.length-a)+n[u][1],p=p.substring(0,p.length-a),x=x.substring(0,x.length-a))),c===0?n.splice(u-f,c+f,[k,p]):f===0?n.splice(u-c,c+f,[T,x]):n.splice(u-c-f,c+f,[T,x],[k,p]),u=u-c-f+(c?1:0)+(f?1:0)+1):u!==0&&n[u-1][0]==y?(n[u-1][1]+=n[u][1],n.splice(u,1)):u++,f=0,c=0,x="",p=""}n[n.length-1][1]===""&&n.pop();var C=!1;for(u=1;u<n.length-1;)n[u-1][0]==y&&n[u+1][0]==y&&(n[u][1].substring(n[u][1].length-n[u-1][1].length)==n[u-1][1]?(n[u][1]=n[u-1][1]+n[u][1].substring(0,n[u][1].length-n[u-1][1].length),n[u+1][1]=n[u-1][1]+n[u+1][1],n.splice(u-1,1),C=!0):n[u][1].substring(0,n[u+1][1].length)==n[u+1][1]&&(n[u-1][1]+=n[u+1][1],n[u][1]=n[u][1].substring(n[u+1][1].length)+n[u+1][1],n.splice(u+1,1),C=!0)),u++;C&&h(n)}var l=b;function o(n,a,u){for(var c=a+u-1;c>=0&&c>=a-1;c--)if(c+1<n.length){var f=n[c],x=n[c+1];f[0]===x[1]&&n.splice(c,2,[f[0],f[1]+x[1]])}return n}l.INSERT=k,l.DELETE=T,l.EQUAL=y,$.exports=l},9353:$=>{"use strict";var T=Object.prototype.toString,k=Math.max,y=function(b,w){for(var E=[],g=0;g<b.length;g+=1)E[g]=b[g];for(var h=0;h<w.length;h+=1)E[h+b.length]=w[h];return E};$.exports=function(b){var w=this;if(typeof w!="function"||T.apply(w)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+w);for(var E,g=function(a,u){for(var c=[],f=1,x=0;f<a.length;f+=1,x+=1)c[x]=a[f];return c}(arguments),h=k(0,w.length-g.length),l=[],o=0;o<h;o++)l[o]="$"+o;if(E=Function("binder","return function ("+function(a,u){for(var c="",f=0;f<a.length;f+=1)c+=a[f],f+1<a.length&&(c+=",");return c}(l)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof E){var a=w.apply(this,y(g,arguments));return Object(a)===a?a:this}return w.apply(b,y(g,arguments))}),w.prototype){var n=function(){};n.prototype=w.prototype,E.prototype=new n,n.prototype=null}return E}},6743:($,T,k)=>{"use strict";var y=k(9353);$.exports=Function.prototype.bind||y},4462:$=>{"use strict";var T=function(){return typeof function(){}.name=="string"},k=Object.getOwnPropertyDescriptor;if(k)try{k([],"length")}catch(b){k=null}T.functionsHaveConfigurableNames=function(){if(!T()||!k)return!1;var b=k(function(){},"name");return!!b&&!!b.configurable};var y=Function.prototype.bind;T.boundFunctionsHaveNames=function(){return T()&&typeof y=="function"&&function(){}.bind().name!==""},$.exports=T},453:($,T,k)=>{"use strict";var y,b=k(9383),w=k(1237),E=k(9290),g=k(9538),h=k(8068),l=k(9675),o=k(5345),n=Function,a=function(U){try{return n('"use strict"; return ('+U+").constructor;")()}catch(Z){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(U){u=null}var c=function(){throw new l},f=u?function(){try{return c}catch(U){try{return u(arguments,"callee").get}catch(Z){return c}}}():c,x=k(4039)(),p=k(24)(),C=Object.getPrototypeOf||(p?function(U){return U.__proto__}:null),P={},S=typeof Uint8Array!="undefined"&&C?C(Uint8Array):y,i={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?y:ArrayBuffer,"%ArrayIteratorPrototype%":x&&C?C([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics=="undefined"?y:Atomics,"%BigInt%":typeof BigInt=="undefined"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":b,"%eval%":eval,"%EvalError%":w,"%Float32Array%":typeof Float32Array=="undefined"?y:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?y:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array=="undefined"?y:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?y:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&C?C(C([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map=="undefined"?y:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&x&&C?C(new Map()[Symbol.iterator]()):y,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?y:Promise,"%Proxy%":typeof Proxy=="undefined"?y:Proxy,"%RangeError%":E,"%ReferenceError%":g,"%Reflect%":typeof Reflect=="undefined"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?y:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&x&&C?C(new Set()[Symbol.iterator]()):y,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&C?C(""[Symbol.iterator]()):y,"%Symbol%":x?Symbol:y,"%SyntaxError%":h,"%ThrowTypeError%":f,"%TypedArray%":S,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array=="undefined"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?y:Uint32Array,"%URIError%":o,"%WeakMap%":typeof WeakMap=="undefined"?y:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?y:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?y:WeakSet};if(C)try{null.error}catch(U){var A=C(C(U));i["%Error.prototype%"]=A}var O=function U(Z){var ue;if(Z==="%AsyncFunction%")ue=a("async function () {}");else if(Z==="%GeneratorFunction%")ue=a("function* () {}");else if(Z==="%AsyncGeneratorFunction%")ue=a("async function* () {}");else if(Z==="%AsyncGenerator%"){var fe=U("%AsyncGeneratorFunction%");fe&&(ue=fe.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var ne=U("%AsyncGenerator%");ne&&C&&(ue=C(ne.prototype))}return i[Z]=ue,ue},B={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q=k(6743),z=k(9957),j=q.call(Function.call,Array.prototype.concat),H=q.call(Function.apply,Array.prototype.splice),W=q.call(Function.call,String.prototype.replace),N=q.call(Function.call,String.prototype.slice),M=q.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,L=function(U,Z){var ue,fe=U;if(z(B,fe)&&(fe="%"+(ue=B[fe])[0]+"%"),z(i,fe)){var ne=i[fe];if(ne===P&&(ne=O(fe)),ne===void 0&&!Z)throw new l("intrinsic "+U+" exists, but is not available. Please file an issue!");return{alias:ue,name:fe,value:ne}}throw new h("intrinsic "+U+" does not exist!")};$.exports=function(U,Z){if(typeof U!="string"||U.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new l('"allowMissing" argument must be a boolean');if(M(/^%?[^%]*%?$/,U)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ue=function(He){var Te=N(He,0,1),Se=N(He,-1);if(Te==="%"&&Se!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(Se==="%"&&Te!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var Me=[];return W(He,F,function(Ke,We,_e,tt){Me[Me.length]=_e?W(tt,V,"$1"):We||Ke}),Me}(U),fe=ue.length>0?ue[0]:"",ne=L("%"+fe+"%",Z),G=ne.name,J=ne.value,le=!1,de=ne.alias;de&&(fe=de[0],H(ue,j([0,1],de)));for(var se=1,ke=!0;se<ue.length;se+=1){var xe=ue[se],De=N(xe,0,1),ye=N(xe,-1);if((De==='"'||De==="'"||De==="`"||ye==='"'||ye==="'"||ye==="`")&&De!==ye)throw new h("property names with quotes must have matching quotes");if(xe!=="constructor"&&ke||(le=!0),z(i,G="%"+(fe+="."+xe)+"%"))J=i[G];else if(J!=null){if(!(xe in J)){if(!Z)throw new l("base intrinsic for "+U+" exists, but the property is not available.");return}if(u&&se+1>=ue.length){var Be=u(J,xe);J=(ke=!!Be)&&"get"in Be&&!("originalValue"in Be.get)?Be.get:J[xe]}else ke=z(J,xe),J=J[xe];ke&&!le&&(i[G]=J)}}return J}},5795:($,T,k)=>{"use strict";var y=k(453)("%Object.getOwnPropertyDescriptor%",!0);if(y)try{y([],"length")}catch(b){y=null}$.exports=y},592:($,T,k)=>{"use strict";var y=k(655),b=function(){return!!y};b.hasArrayLengthDefineBug=function(){if(!y)return null;try{return y([],"length",{value:1}).length!==1}catch(w){return!0}},$.exports=b},24:$=>{"use strict";var T={__proto__:null,foo:{}},k=Object;$.exports=function(){return{__proto__:T}.foo===T.foo&&!(T instanceof k)}},4039:($,T,k)=>{"use strict";var y=typeof Symbol!="undefined"&&Symbol,b=k(3714);$.exports=function(){return typeof y=="function"&&typeof Symbol=="function"&&typeof y("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&b()}},3714:$=>{"use strict";$.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var T={},k=Symbol("test"),y=Object(k);if(typeof k=="string"||Object.prototype.toString.call(k)!=="[object Symbol]"||Object.prototype.toString.call(y)!=="[object Symbol]")return!1;for(k in T[k]=42,T)return!1;if(typeof Object.keys=="function"&&Object.keys(T).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(T).length!==0)return!1;var b=Object.getOwnPropertySymbols(T);if(b.length!==1||b[0]!==k||!Object.prototype.propertyIsEnumerable.call(T,k))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(T,k);if(w.value!==42||w.enumerable!==!0)return!1}return!0}},9092:($,T,k)=>{"use strict";var y=k(3714);$.exports=function(){return y()&&!!Symbol.toStringTag}},9957:($,T,k)=>{"use strict";var y=Function.prototype.call,b=Object.prototype.hasOwnProperty,w=k(6743);$.exports=w.call(y,b)},7244:($,T,k)=>{"use strict";var y=k(9092)(),b=k(456)("Object.prototype.toString"),w=function(h){return!(y&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&b(h)==="[object Arguments]"},E=function(h){return!!w(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&b(h)!=="[object Array]"&&b(h.callee)==="[object Function]"},g=function(){return w(arguments)}();w.isLegacyArguments=E,$.exports=g?w:E},2120:($,T,k)=>{"use strict";var y=Date.prototype.getDay,b=Object.prototype.toString,w=k(9092)();$.exports=function(E){return typeof E=="object"&&E!==null&&(w?function(g){try{return y.call(g),!0}catch(h){return!1}}(E):b.call(E)==="[object Date]")}},4035:($,T,k)=>{"use strict";var y,b,w,E,g=k(456),h=k(9092)();if(h){y=g("Object.prototype.hasOwnProperty"),b=g("RegExp.prototype.exec"),w={};var l=function(){throw w};E={toString:l,valueOf:l},typeof Symbol.toPrimitive=="symbol"&&(E[Symbol.toPrimitive]=l)}var o=g("Object.prototype.toString"),n=Object.getOwnPropertyDescriptor;$.exports=h?function(a){if(!a||typeof a!="object")return!1;var u=n(a,"lastIndex");if(!u||!y(u,"value"))return!1;try{b(a,E)}catch(c){return c===w}}:function(a){return!(!a||typeof a!="object"&&typeof a!="function")&&o(a)==="[object RegExp]"}},6129:($,T,k)=>{"use strict";var y=a(k(9368)),b=a(k(1490)),w=a(k(8165)),E=a(k(3623)),g=a(k(8179)),h=a(k(9796)),l=a(k(4205)),o=k(8157),n=a(k(5099));function a(S){return S&&S.__esModule?S:{default:S}}var u=function(){},c=function(S,i,A){var O=new u;if(S===void 0)throw Error("No element to render on was provided.");return O._renderProperties=(0,g.default)(S),O._encodings=[],O._options=n.default,O._errorHandler=new l.default(O),i!==void 0&&((A=A||{}).format||(A.format=C()),O.options(A)[A.format](i,A).render()),O};for(var f in c.getModule=function(S){return y.default[S]},y.default)y.default.hasOwnProperty(f)&&x(y.default,f);function x(S,i){u.prototype[i]=u.prototype[i.toUpperCase()]=u.prototype[i.toLowerCase()]=function(A,O){var B=this;return B._errorHandler.wrapBarcodeCall(function(){O.text=O.text===void 0?void 0:""+O.text;var q=(0,b.default)(B._options,O);q=(0,h.default)(q);var z=S[i],j=p(A,z,q);return B._encodings.push(j),B})}}function p(S,i,A){var O=new i(S=""+S,A);if(!O.valid())throw new o.InvalidInputException(O.constructor.name,S);var B=O.encode();B=(0,w.default)(B);for(var q=0;q<B.length;q++)B[q].options=(0,b.default)(A,B[q].options);return B}function C(){return y.default.CODE128?"CODE128":Object.keys(y.default)[0]}function P(S,i,A){i=(0,w.default)(i);for(var O=0;O<i.length;O++)i[O].options=(0,b.default)(A,i[O].options),(0,E.default)(i[O].options);(0,E.default)(A),new S.renderer(S.element,i,A).render(),S.afterRender&&S.afterRender()}u.prototype.options=function(S){return this._options=(0,b.default)(this._options,S),this},u.prototype.blank=function(S){var i=new Array(S+1).join("0");return this._encodings.push({data:i}),this},u.prototype.init=function(){var S;if(this._renderProperties)for(var i in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){S=this._renderProperties[i];var A=(0,b.default)(this._options,S.options);A.format=="auto"&&(A.format=C()),this._errorHandler.wrapBarcodeCall(function(){var O=p(A.value,y.default[A.format.toUpperCase()],A);P(S,O,A)})}},u.prototype.render=function(){if(!this._renderProperties)throw new o.NoElementException;if(Array.isArray(this._renderProperties))for(var S=0;S<this._renderProperties.length;S++)P(this._renderProperties[S],this._encodings,this._options);else P(this._renderProperties,this._encodings,this._options);return this},u.prototype._defaults=n.default,typeof window!="undefined"&&(window.JsBarcode=c),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(S,i){var A=[];return jQuery(this).each(function(){A.push(this)}),c(A,S,i)}),$.exports=c},2444:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function k(y,b){(function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")})(this,k),this.data=y,this.text=b.text||y,this.options=b}},3651:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),w=(y=k(2444))&&y.__esModule?y:{default:y},E=k(2700),g=function(h){function l(o,n){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l);var a=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o.substring(1),n));return a.bytes=o.split("").map(function(u){return u.charCodeAt(0)}),a}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),b(l,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var o=this.bytes,n=o.shift()-105,a=E.SET_BY_CODE[n];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&o.unshift(E.FNC1);var u=l.next(o,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:l.getBar(n)+u.result+l.getBar((u.checksum+n)%E.MODULO)+l.getBar(E.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var o=this.options.ean128||!1;return typeof o=="string"&&(o=o.toLowerCase()==="true"),o}}],[{key:"getBar",value:function(o){return E.BARS[o]?E.BARS[o].toString():""}},{key:"correctIndex",value:function(o,n){if(n===E.SET_A){var a=o.shift();return a<32?a+64:a-32}return n===E.SET_B?o.shift()-32:10*(o.shift()-48)+o.shift()-48}},{key:"next",value:function(o,n,a){if(!o.length)return{result:"",checksum:0};var u=void 0,c=void 0;if(o[0]>=200){c=o.shift()-105;var f=E.SWAP[c];f!==void 0?u=l.next(o,n+1,f):(a!==E.SET_A&&a!==E.SET_B||c!==E.SHIFT||(o[0]=a===E.SET_A?o[0]>95?o[0]-96:o[0]:o[0]<32?o[0]+96:o[0]),u=l.next(o,n+1,a))}else c=l.correctIndex(o,a),u=l.next(o,n+1,a);var x=c*n;return{result:l.getBar(c)+u.result,checksum:x+u.checksum}}}]),l}(w.default);T.default=g},3804:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),w=(y=k(3651))&&y.__esModule?y:{default:y},E=k(2700),g=function(h){function l(o,n){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E.A_START_CHAR+o,n))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),b(l,[{key:"valid",value:function(){return new RegExp("^"+E.A_CHARS+"+$").test(this.data)}}]),l}(w.default);T.default=g},3541:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),w=(y=k(3651))&&y.__esModule?y:{default:y},E=k(2700),g=function(h){function l(o,n){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E.B_START_CHAR+o,n))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),b(l,[{key:"valid",value:function(){return new RegExp("^"+E.B_CHARS+"+$").test(this.data)}}]),l}(w.default);T.default=g},5798:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),w=(y=k(3651))&&y.__esModule?y:{default:y},E=k(2700),g=function(h){function l(o,n){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E.C_START_CHAR+o,n))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),b(l,[{key:"valid",value:function(){return new RegExp("^"+E.C_CHARS+"+$").test(this.data)}}]),l}(w.default);T.default=g},4845:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=w(k(3651)),b=w(k(4802));function w(h){return h&&h.__esModule?h:{default:h}}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?h:l}var g=function(h){function l(o,n){if(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,l),/^[\x00-\x7F\xC8-\xD3]+$/.test(o))var a=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,(0,b.default)(o),n));else a=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,n));return E(a)}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),l}(y.default);T.default=g},4802:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=k(2700),b=function(l){return l.match(new RegExp("^"+y.A_CHARS+"*"))[0].length},w=function(l){return l.match(new RegExp("^"+y.B_CHARS+"*"))[0].length},E=function(l){return l.match(new RegExp("^"+y.C_CHARS+"*"))[0]};function g(l,o){var n=o?y.A_CHARS:y.B_CHARS,a=l.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(a)return a[1]+"\xCC"+h(l.substring(a[1].length));var u=l.match(new RegExp("^"+n+"+"))[0];return u.length===l.length?l:u+String.fromCharCode(o?205:206)+g(l.substring(u.length),!o)}function h(l){var o=E(l),n=o.length;if(n===l.length)return l;l=l.substring(n);var a=b(l)>=w(l);return o+String.fromCharCode(a?206:205)+g(l,a)}T.default=function(l){var o=void 0;if(E(l).length>=2)o=y.C_START_CHAR+h(l);else{var n=b(l)>w(l);o=(n?y.A_START_CHAR:y.B_START_CHAR)+g(l,n)}return o.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,u){return"\xCB"+u})}},2700:($,T)=>{"use strict";var k;function y(o,n,a){return n in o?Object.defineProperty(o,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[n]=a,o}Object.defineProperty(T,"__esModule",{value:!0});var b=T.SET_A=0,w=T.SET_B=1,E=T.SET_C=2,g=(T.SHIFT=98,T.START_A=103),h=T.START_B=104,l=T.START_C=105;T.MODULO=103,T.STOP=106,T.FNC1=207,T.SET_BY_CODE=(y(k={},g,b),y(k,h,w),y(k,l,E),k),T.SWAP={101:b,100:w,99:E},T.A_START_CHAR="\xD0",T.B_START_CHAR="\xD1",T.C_START_CHAR="\xD2",T.A_CHARS="[\0-_\xC8-\xCF]",T.B_CHARS="[ -\x7F\xC8-\xCF]",T.C_CHARS="(\xCF*[0-9]{2}\xCF*)",T.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1509:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CODE128C=T.CODE128B=T.CODE128A=T.CODE128=void 0;var y=g(k(4845)),b=g(k(3804)),w=g(k(3541)),E=g(k(5798));function g(h){return h&&h.__esModule?h:{default:h}}T.CODE128=y.default,T.CODE128A=b.default,T.CODE128B=w.default,T.CODE128C=E.default},1428:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CODE39=void 0;var y,b=function(){function o(n,a){for(var u=0;u<a.length;u++){var c=a[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,a,u){return a&&o(n.prototype,a),u&&o(n,u),n}}(),w=function(o){function n(a,u){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,n),a=a.toUpperCase(),u.mod43&&(a+=function(c){return E[c]}(function(c){for(var f=0,x=0;x<c.length;x++)f+=l(c[x]);return f%43}(a))),function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a,u))}return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(a,u):a.__proto__=u)}(n,o),b(n,[{key:"encode",value:function(){for(var a=h("*"),u=0;u<this.data.length;u++)a+=h(this.data[u])+"0";return{data:a+=h("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),n}(((y=k(2444))&&y.__esModule?y:{default:y}).default),E=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],g=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(o){return function(n){return g[n].toString(2)}(l(o))}function l(o){return E.indexOf(o)}T.CODE39=w},4754:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),b=k(6575),w=E(k(6350));function E(h){return h&&h.__esModule?h:{default:h}}var g=function(h){function l(o,n){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l);var a=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,n));return a.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),y(l,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(o,n){return this.text.substr(o,n)}},{key:"leftEncode",value:function(o,n){return(0,w.default)(o,n)}},{key:"rightText",value:function(o,n){return this.text.substr(o,n)}},{key:"rightEncode",value:function(o,n){return(0,w.default)(o,n)}},{key:"encodeGuarded",value:function(){var o={fontSize:this.fontSize},n={height:this.guardHeight};return[{data:b.SIDE_BIN,options:n},{data:this.leftEncode(),text:this.leftText(),options:o},{data:b.MIDDLE_BIN,options:n},{data:this.rightEncode(),text:this.rightText(),options:o},{data:b.SIDE_BIN,options:n}]}},{key:"encodeFlat",value:function(){return{data:[b.SIDE_BIN,this.leftEncode(),b.MIDDLE_BIN,this.rightEncode(),b.SIDE_BIN].join(""),text:this.text}}}]),l}(E(k(2444)).default);T.default=g},4250:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function o(n,a){for(var u=0;u<a.length;u++){var c=a[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,a,u){return a&&o(n.prototype,a),u&&o(n,u),n}}(),w=function o(n,a,u){n===null&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(c===void 0){var f=Object.getPrototypeOf(n);return f===null?void 0:o(f,a,u)}if("value"in c)return c.value;var x=c.get;return x!==void 0?x.call(u):void 0},E=k(6575),g=(y=k(4754))&&y.__esModule?y:{default:y},h=function(o){return(10-o.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,a,u){return u%2?n+3*a:n+a},0)%10)%10},l=function(o){function n(a,u){(function(f,x){if(!(f instanceof x))throw new TypeError("Cannot call a class as a function")})(this,n),a.search(/^[0-9]{12}$/)!==-1&&(a+=h(a));var c=function(f,x){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?f:x}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a,u));return c.lastChar=u.lastChar,c}return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(a,u):a.__proto__=u)}(n,o),b(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===h(this.data)}},{key:"leftText",value:function(){return w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var a=this.data.substr(1,6),u=E.EAN13_STRUCTURE[this.data[0]];return w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,a,u)}},{key:"rightText",value:function(){return w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var a=this.data.substr(7,6);return w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,a,"RRRRRR")}},{key:"encodeGuarded",value:function(){var a=w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(a.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(a.push({data:"00"}),a.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),a}}]),n}(g.default);T.default=l},7570:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),b=k(6575),w=E(k(6350));function E(h){return h&&h.__esModule?h:{default:h}}var g=function(h){function l(o,n){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,n))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),y(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var o=b.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,w.default)(this.data,o,"01"),text:this.text}}}]),l}(E(k(2444)).default);T.default=g},8075:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),b=k(6575),w=E(k(6350));function E(h){return h&&h.__esModule?h:{default:h}}var g=function(h){function l(o,n){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,n))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),y(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var o,n=b.EAN5_STRUCTURE[o=this.data,o.split("").map(function(a){return+a}).reduce(function(a,u,c){return c%2?a+9*u:a+3*u},0)%10];return{data:"1011"+(0,w.default)(this.data,n,"01"),text:this.text}}}]),l}(E(k(2444)).default);T.default=g},8784:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),w=function l(o,n,a){o===null&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,n);if(u===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:l(c,n,a)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(a):void 0},E=(y=k(4754))&&y.__esModule?y:{default:y},g=function(l){return(10-l.substr(0,7).split("").map(function(o){return+o}).reduce(function(o,n,a){return a%2?o+n:o+3*n},0)%10)%10},h=function(l){function o(n,a){return function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,o),n.search(/^[0-9]{7}$/)!==-1&&(n+=g(n)),function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,a))}return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}(o,l),b(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===g(this.data)}},{key:"leftText",value:function(){return w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),o}(E.default);T.default=h},7960:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}();T.checksum=g;var b=w(k(6350));function w(h){return h&&h.__esModule?h:{default:h}}var E=function(h){function l(o,n){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),o.search(/^[0-9]{11}$/)!==-1&&(o+=g(o));var a=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,n));return a.displayValue=n.displayValue,n.fontSize>10*n.width?a.fontSize=10*n.width:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),y(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==g(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var o="";return o+="101",o+=(0,b.default)(this.data.substr(0,6),"LLLLLL"),o+="01010",o+=(0,b.default)(this.data.substr(6,6),"RRRRRR"),{data:o+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var o=[];return this.displayValue&&o.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),o.push({data:"101"+(0,b.default)(this.data[0],"L"),options:{height:this.guardHeight}}),o.push({data:(0,b.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),o.push({data:"01010",options:{height:this.guardHeight}}),o.push({data:(0,b.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),o.push({data:(0,b.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&o.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),o}}]),l}(w(k(2444)).default);function g(h){var l,o=0;for(l=1;l<11;l+=2)o+=parseInt(h[l]);for(l=0;l<11;l+=2)o+=3*parseInt(h[l]);return(10-o%10)%10}T.default=E},3781:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=function(){function u(c,f){for(var x=0;x<f.length;x++){var p=f[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,x){return f&&u(c.prototype,f),x&&u(c,x),c}}(),b=g(k(6350)),w=g(k(2444)),E=k(7960);function g(u){return u&&u.__esModule?u:{default:u}}function h(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var l=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],o=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],n=function(u){function c(f,x){(function(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")})(this,c);var p=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,x));if(p.isValid=!1,f.search(/^[0-9]{6}$/)!==-1)p.middleDigits=f,p.upcA=a(f,"0"),p.text=x.text||""+p.upcA[0]+f+p.upcA[p.upcA.length-1],p.isValid=!0;else{if(f.search(/^[01][0-9]{7}$/)===-1||(p.middleDigits=f.substring(1,f.length-1),p.upcA=a(p.middleDigits,f[0]),p.upcA[p.upcA.length-1]!==f[f.length-1]))return h(p);p.isValid=!0}return p.displayValue=x.displayValue,x.fontSize>10*x.width?p.fontSize=10*x.width:p.fontSize=x.fontSize,p.guardHeight=x.height+p.fontSize/2+x.textMargin,p}return function(f,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);f.prototype=Object.create(x&&x.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(f,x):f.__proto__=x)}(c,u),y(c,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var f="";return f+="101",f+=this.encodeMiddleDigits(),{data:f+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var f=[];return this.displayValue&&f.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),f.push({data:"101",options:{height:this.guardHeight}}),f.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),f.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&f.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),f}},{key:"encodeMiddleDigits",value:function(){var f=this.upcA[0],x=this.upcA[this.upcA.length-1],p=o[parseInt(x)][parseInt(f)];return(0,b.default)(this.middleDigits,p)}}]),c}(w.default);function a(u,c){for(var f=parseInt(u[u.length-1]),x=l[f],p="",C=0,P=0;P<x.length;P++){var S=x[P];p+=S==="X"?u[C++]:S}return(p=""+c+p)+(0,E.checksum)(p)}T.default=n},6575:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SIDE_BIN="101",T.MIDDLE_BIN="01010",T.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},T.EAN2_STRUCTURE=["LL","LG","GL","GG"],T.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],T.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},6350:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=k(6575);T.default=function(b,w,E){var g=b.split("").map(function(l,o){return y.BINARIES[w[o]]}).map(function(l,o){return l?l[b[o]]:""});if(E){var h=b.length-1;g=g.map(function(l,o){return o<h?l+E:l})}return g.join("")}},5726:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UPCE=T.UPC=T.EAN2=T.EAN5=T.EAN8=T.EAN13=void 0;var y=l(k(4250)),b=l(k(8784)),w=l(k(8075)),E=l(k(7570)),g=l(k(7960)),h=l(k(3781));function l(o){return o&&o.__esModule?o:{default:o}}T.EAN13=y.default,T.EAN8=b.default,T.EAN5=w.default,T.EAN2=E.default,T.UPC=g.default,T.UPCE=h.default},1886:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.GenericBarcode=void 0;var y,b=function(){function E(g,h){for(var l=0;l<h.length;l++){var o=h[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(g,o.key,o)}}return function(g,h,l){return h&&E(g.prototype,h),l&&E(g,l),g}}(),w=function(E){function g(h,l){return function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,g),function(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?o:n}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,h,l))}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}(g,E),b(g,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),g}(((y=k(2444))&&y.__esModule?y:{default:y}).default);T.GenericBarcode=w},739:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function g(h,l){for(var o=0;o<l.length;o++){var n=l[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}return function(h,l,o){return l&&g(h.prototype,l),o&&g(h,o),h}}(),w=k(1135),E=function(g){function h(){return function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}(this,h),function(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?l:o}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),b(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var l=this,o=this.data.match(/.{2}/g).map(function(n){return l.encodePair(n)}).join("");return{data:w.START_BIN+o+w.END_BIN,text:this.text}}},{key:"encodePair",value:function(l){var o=w.BINARIES[l[1]];return w.BINARIES[l[0]].split("").map(function(n,a){return(n==="1"?"111":"1")+(o[a]==="1"?"000":"0")}).join("")}}]),h}(((y=k(2444))&&y.__esModule?y:{default:y}).default);T.default=E},8122:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),w=(y=k(739))&&y.__esModule?y:{default:y},E=function(h){var l=h.substr(0,13).split("").map(function(o){return parseInt(o,10)}).reduce(function(o,n,a){return o+n*(3-a%2*2)},0);return 10*Math.ceil(l/10)-l},g=function(h){function l(o,n){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),o.search(/^[0-9]{13}$/)!==-1&&(o+=E(o)),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,n))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),b(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===E(this.data)}}]),l}(w.default);T.default=g},1135:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.START_BIN="1010",T.END_BIN="11101",T.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5070:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ITF14=T.ITF=void 0;var y=w(k(739)),b=w(k(8122));function w(E){return E&&E.__esModule?E:{default:E}}T.ITF=y.default,T.ITF14=b.default},3551:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function g(h,l){for(var o=0;o<l.length;o++){var n=l[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}return function(h,l,o){return l&&g(h.prototype,l),o&&g(h,o),h}}(),w=function(g){function h(l,o){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l,o))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),b(h,[{key:"encode",value:function(){for(var l="110",o=0;o<this.data.length;o++){var n=parseInt(this.data[o]).toString(2);n=E(n,4-n.length);for(var a=0;a<n.length;a++)l+=n[a]=="0"?"100":"110"}return{data:l+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h}(((y=k(2444))&&y.__esModule?y:{default:y}).default);function E(g,h){for(var l=0;l<h;l++)g="0"+g;return g}T.default=w},6338:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=(y=k(3551))&&y.__esModule?y:{default:y},w=k(6320),E=function(g){function h(l,o){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l+(0,w.mod10)(l),o))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(b.default);T.default=E},23:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=(y=k(3551))&&y.__esModule?y:{default:y},w=k(6320),E=function(g){function h(l,o){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),l+=(0,w.mod10)(l),l+=(0,w.mod10)(l),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l,o))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(b.default);T.default=E},6065:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=(y=k(3551))&&y.__esModule?y:{default:y},w=k(6320),E=function(g){function h(l,o){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l+(0,w.mod11)(l),o))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(b.default);T.default=E},7052:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=(y=k(3551))&&y.__esModule?y:{default:y},w=k(6320),E=function(g){function h(l,o){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),l+=(0,w.mod11)(l),l+=(0,w.mod10)(l),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l,o))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(b.default);T.default=E},6320:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.mod10=function(k){for(var y=0,b=0;b<k.length;b++){var w=parseInt(k[b]);(b+k.length)%2==0?y+=w:y+=2*w%10+Math.floor(2*w/10)}return(10-y%10)%10},T.mod11=function(k){for(var y=0,b=[2,3,4,5,6,7],w=0;w<k.length;w++){var E=parseInt(k[k.length-1-w]);y+=b[w%b.length]*E}return(11-y%11)%11}},8248:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.MSI1110=T.MSI1010=T.MSI11=T.MSI10=T.MSI=void 0;var y=h(k(3551)),b=h(k(6338)),w=h(k(6065)),E=h(k(23)),g=h(k(7052));function h(l){return l&&l.__esModule?l:{default:l}}T.MSI=y.default,T.MSI10=b.default,T.MSI11=w.default,T.MSI1010=E.default,T.MSI1110=g.default},1133:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.codabar=void 0;var y,b=function(){function E(g,h){for(var l=0;l<h.length;l++){var o=h[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(g,o.key,o)}}return function(g,h,l){return h&&E(g.prototype,h),l&&E(g,l),g}}(),w=function(E){function g(h,l){(function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")})(this,g),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var o=function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,h.toUpperCase(),l));return o.text=o.options.text||o.text.replace(/[A-D]/g,""),o}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}(g,E),b(g,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],l=this.getEncodings(),o=0;o<this.data.length;o++)h.push(l[this.data.charAt(o)]),o!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),g}(((y=k(2444))&&y.__esModule?y:{default:y}).default);T.codabar=w},9368:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=k(1428),b=k(1509),w=k(5726),E=k(5070),g=k(8248),h=k(2889),l=k(1133),o=k(1886);T.default={CODE39:y.CODE39,CODE128:b.CODE128,CODE128A:b.CODE128A,CODE128B:b.CODE128B,CODE128C:b.CODE128C,EAN13:w.EAN13,EAN8:w.EAN8,EAN5:w.EAN5,EAN2:w.EAN2,UPC:w.UPC,UPCE:w.UPCE,ITF14:E.ITF14,ITF:E.ITF,MSI:g.MSI,MSI10:g.MSI10,MSI11:g.MSI11,MSI1010:g.MSI1010,MSI1110:g.MSI1110,pharmacode:h.pharmacode,codabar:l.codabar,GenericBarcode:o.GenericBarcode}},2889:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.pharmacode=void 0;var y,b=function(){function E(g,h){for(var l=0;l<h.length;l++){var o=h[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(g,o.key,o)}}return function(g,h,l){return h&&E(g.prototype,h),l&&E(g,l),g}}(),w=function(E){function g(h,l){(function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")})(this,g);var o=function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,h,l));return o.number=parseInt(h,10),o}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}(g,E),b(g,[{key:"encode",value:function(){for(var h=this.number,l="";!isNaN(h)&&h!=0;)h%2==0?(l="11100"+l,h=(h-2)/2):(l="100"+l,h=(h-1)/2);return{data:l=l.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),g}(((y=k(2444))&&y.__esModule?y:{default:y}).default);T.pharmacode=w},4205:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var k=function(){function b(w,E){for(var g=0;g<E.length;g++){var h=E[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(w,h.key,h)}}return function(w,E,g){return E&&b(w.prototype,E),g&&b(w,g),w}}(),y=function(){function b(w){(function(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")})(this,b),this.api=w}return k(b,[{key:"handleCatch",value:function(w){if(w.name!=="InvalidInputException")throw w;if(this.api._options.valid===this.api._defaults.valid)throw w.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(w){try{var E=w.apply(void 0,arguments);return this.api._options.valid(!0),E}catch(g){return this.handleCatch(g),this.api}}}]),b}();T.default=y},8157:($,T)=>{"use strict";function k(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function y(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?h:l}function b(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}Object.defineProperty(T,"__esModule",{value:!0});var w=function(h){function l(o,n){k(this,l);var a=y(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return a.name="InvalidInputException",a.symbology=o,a.input=n,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return b(l,Error),l}(),E=function(h){function l(){k(this,l);var o=y(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return o.name="InvalidElementException",o.message="Not supported type to render on",o}return b(l,Error),l}(),g=function(h){function l(){k(this,l);var o=y(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return o.name="NoElementException",o.message="No element to render on.",o}return b(l,Error),l}();T.InvalidInputException=w,T.InvalidElementException=E,T.NoElementException=g},3623:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(k){return k.marginTop=k.marginTop||k.margin,k.marginBottom=k.marginBottom||k.margin,k.marginRight=k.marginRight||k.margin,k.marginLeft=k.marginLeft||k.margin,k}},892:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=w(k(9796)),b=w(k(5099));function w(E){return E&&E.__esModule?E:{default:E}}T.default=function(E){var g={};for(var h in b.default)b.default.hasOwnProperty(h)&&(E.hasAttribute("jsbarcode-"+h.toLowerCase())&&(g[h]=E.getAttribute("jsbarcode-"+h.toLowerCase())),E.hasAttribute("data-"+h.toLowerCase())&&(g[h]=E.getAttribute("data-"+h.toLowerCase())));return g.value=E.getAttribute("jsbarcode-value")||E.getAttribute("data-value"),(0,y.default)(g)}},8179:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},b=g(k(892)),w=g(k(2727)),E=k(8157);function g(h){return h&&h.__esModule?h:{default:h}}T.default=function h(l){if(typeof l=="string")return function(c){var f=document.querySelectorAll(c);if(f.length!==0){for(var x=[],p=0;p<f.length;p++)x.push(h(f[p]));return x}}(l);if(Array.isArray(l)){for(var o=[],n=0;n<l.length;n++)o.push(h(l[n]));return o}if(typeof HTMLCanvasElement!="undefined"&&l instanceof HTMLImageElement)return a=l,{element:u=document.createElement("canvas"),options:(0,b.default)(a),renderer:w.default.CanvasRenderer,afterRender:function(){a.setAttribute("src",u.toDataURL())}};if(l&&l.nodeName&&l.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&l instanceof SVGElement)return{element:l,options:(0,b.default)(l),renderer:w.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&l instanceof HTMLCanvasElement)return{element:l,options:(0,b.default)(l),renderer:w.default.CanvasRenderer};if(l&&l.getContext)return{element:l,renderer:w.default.CanvasRenderer};if(l&&(l===void 0?"undefined":y(l))==="object"&&!l.nodeName)return{element:l,renderer:w.default.ObjectRenderer};throw new E.InvalidElementException;var a,u}},8165:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(k){var y=[];return function b(w){if(Array.isArray(w))for(var E=0;E<w.length;E++)b(w[E]);else w.text=w.text||"",w.data=w.data||"",y.push(w)}(k),y}},1490:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var k=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(y[E]=w[E])}return y};T.default=function(y,b){return k({},y,b)}},9796:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(k){var y=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var b in y)y.hasOwnProperty(b)&&typeof k[b=y[b]]=="string"&&(k[b]=parseInt(k[b],10));return typeof k.displayValue=="string"&&(k.displayValue=k.displayValue!="false"),k}},5099:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1687:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),w=(y=k(1490))&&y.__esModule?y:{default:y},E=k(6258),g=function(){function h(l,o,n){(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,h),this.canvas=l,this.encodings=o,this.options=n}return b(h,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var l=0;l<this.encodings.length;l++){var o=(0,w.default)(this.options,this.encodings[l].options);this.drawCanvasBarcode(o,this.encodings[l]),this.drawCanvasText(o,this.encodings[l]),this.moveCanvasDrawing(this.encodings[l])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var l=this.canvas.getContext("2d");l.save(),(0,E.calculateEncodingAttributes)(this.encodings,this.options,l);var o=(0,E.getTotalWidthOfEncodings)(this.encodings),n=(0,E.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=o+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,l.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(l.fillStyle=this.options.background,l.fillRect(0,0,this.canvas.width,this.canvas.height)),l.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(l,o){var n,a=this.canvas.getContext("2d"),u=o.data;n=l.textPosition=="top"?l.marginTop+l.fontSize+l.textMargin:l.marginTop,a.fillStyle=l.lineColor;for(var c=0;c<u.length;c++){var f=c*l.width+o.barcodePadding;u[c]==="1"?a.fillRect(f,n,l.width,l.height):u[c]&&a.fillRect(f,n,l.width,l.height*u[c])}}},{key:"drawCanvasText",value:function(l,o){var n,a,u=this.canvas.getContext("2d"),c=l.fontOptions+" "+l.fontSize+"px "+l.font;l.displayValue&&(a=l.textPosition=="top"?l.marginTop+l.fontSize-l.textMargin:l.height+l.textMargin+l.marginTop+l.fontSize,u.font=c,l.textAlign=="left"||o.barcodePadding>0?(n=0,u.textAlign="left"):l.textAlign=="right"?(n=o.width-1,u.textAlign="right"):(n=o.width/2,u.textAlign="center"),u.fillText(o.text,n,a))}},{key:"moveCanvasDrawing",value:function(l){this.canvas.getContext("2d").translate(l.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),h}();T.default=g},2727:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y=E(k(1687)),b=E(k(5965)),w=E(k(3528));function E(g){return g&&g.__esModule?g:{default:g}}T.default={CanvasRenderer:y.default,SVGRenderer:b.default,ObjectRenderer:w.default}},3528:($,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var k=function(){function b(w,E){for(var g=0;g<E.length;g++){var h=E[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(w,h.key,h)}}return function(w,E,g){return E&&b(w.prototype,E),g&&b(w,g),w}}(),y=function(){function b(w,E,g){(function(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")})(this,b),this.object=w,this.encodings=E,this.options=g}return k(b,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),b}();T.default=y},6258:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.getTotalWidthOfEncodings=T.calculateEncodingAttributes=T.getBarcodePadding=T.getEncodingHeight=T.getMaximumHeightOfEncodings=void 0;var y,b=(y=k(1490))&&y.__esModule?y:{default:y};function w(h,l){return l.height+(l.displayValue&&h.text.length>0?l.fontSize+l.textMargin:0)+l.marginTop+l.marginBottom}function E(h,l,o){if(o.displayValue&&l<h){if(o.textAlign=="center")return Math.floor((h-l)/2);if(o.textAlign=="left")return 0;if(o.textAlign=="right")return Math.floor(h-l)}return 0}function g(h,l,o){var n;if(o)n=o;else{if(typeof document=="undefined")return 0;n=document.createElement("canvas").getContext("2d")}n.font=l.fontOptions+" "+l.fontSize+"px "+l.font;var a=n.measureText(h);return a?a.width:0}T.getMaximumHeightOfEncodings=function(h){for(var l=0,o=0;o<h.length;o++)h[o].height>l&&(l=h[o].height);return l},T.getEncodingHeight=w,T.getBarcodePadding=E,T.calculateEncodingAttributes=function(h,l,o){for(var n=0;n<h.length;n++){var a,u=h[n],c=(0,b.default)(l,u.options);a=c.displayValue?g(u.text,c,o):0;var f=u.data.length*c.width;u.width=Math.ceil(Math.max(a,f)),u.height=w(u,c),u.barcodePadding=E(a,f,c)}},T.getTotalWidthOfEncodings=function(h){for(var l=0,o=0;o<h.length;o++)l+=h[o].width;return l}},5965:($,T,k)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var y,b=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),w=(y=k(1490))&&y.__esModule?y:{default:y},E=k(6258),g="http://www.w3.org/2000/svg",h=function(){function l(o,n,a){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.svg=o,this.encodings=n,this.options=a,this.document=a.xmlDocument||document}return b(l,[{key:"render",value:function(){var o=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var a=this.encodings[n],u=(0,w.default)(this.options,a.options),c=this.createGroup(o,u.marginTop,this.svg);this.setGroupOptions(c,u),this.drawSvgBarcode(c,u,a),this.drawSVGText(c,u,a),o+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,E.calculateEncodingAttributes)(this.encodings,this.options);var o=(0,E.getTotalWidthOfEncodings)(this.encodings),n=(0,E.getMaximumHeightOfEncodings)(this.encodings),a=o+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,n),this.options.background&&this.drawRect(0,0,a,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(o,n,a){var u,c=a.data;u=n.textPosition=="top"?n.fontSize+n.textMargin:0;for(var f=0,x=0,p=0;p<c.length;p++)x=p*n.width+a.barcodePadding,c[p]==="1"?f++:f>0&&(this.drawRect(x-n.width*f,u,n.width*f,n.height,o),f=0);f>0&&this.drawRect(x-n.width*(f-1),u,n.width*f,n.height,o)}},{key:"drawSVGText",value:function(o,n,a){var u,c,f=this.document.createElementNS(g,"text");n.displayValue&&(f.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),c=n.textPosition=="top"?n.fontSize-n.textMargin:n.height+n.textMargin+n.fontSize,n.textAlign=="left"||a.barcodePadding>0?(u=0,f.setAttribute("text-anchor","start")):n.textAlign=="right"?(u=a.width-1,f.setAttribute("text-anchor","end")):(u=a.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",u),f.setAttribute("y",c),f.appendChild(this.document.createTextNode(a.text)),o.appendChild(f))}},{key:"setSvgAttributes",value:function(o,n){var a=this.svg;a.setAttribute("width",o+"px"),a.setAttribute("height",n+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+o+" "+n),a.setAttribute("xmlns",g),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(o,n,a){var u=this.document.createElementNS(g,"g");return u.setAttribute("transform","translate("+o+", "+n+")"),a.appendChild(u),u}},{key:"setGroupOptions",value:function(o,n){o.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(o,n,a,u,c){var f=this.document.createElementNS(g,"rect");return f.setAttribute("x",o),f.setAttribute("y",n),f.setAttribute("width",a),f.setAttribute("height",u),c.appendChild(f),f}}]),l}();T.default=h},9211:$=>{"use strict";var T=function(k){return k!=k};$.exports=function(k,y){return k===0&&y===0?1/k==1/y:k===y||!(!T(k)||!T(y))}},7653:($,T,k)=>{"use strict";var y=k(8452),b=k(487),w=k(9211),E=k(9394),g=k(6576),h=b(E(),Object);y(h,{getPolyfill:E,implementation:w,shim:g}),$.exports=h},9394:($,T,k)=>{"use strict";var y=k(9211);$.exports=function(){return typeof Object.is=="function"?Object.is:y}},6576:($,T,k)=>{"use strict";var y=k(9394),b=k(8452);$.exports=function(){var w=y();return b(Object,{is:w},{is:function(){return Object.is!==w}}),w}},8875:($,T,k)=>{"use strict";var y;if(!Object.keys){var b=Object.prototype.hasOwnProperty,w=Object.prototype.toString,E=k(1093),g=Object.prototype.propertyIsEnumerable,h=!g.call({toString:null},"toString"),l=g.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=function(c){var f=c.constructor;return f&&f.prototype===c},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window=="undefined")return!1;for(var c in window)try{if(!a["$"+c]&&b.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{n(window[c])}catch(f){return!0}}catch(f){return!0}return!1}();y=function(c){var f=c!==null&&typeof c=="object",x=w.call(c)==="[object Function]",p=E(c),C=f&&w.call(c)==="[object String]",P=[];if(!f&&!x&&!p)throw new TypeError("Object.keys called on a non-object");var S=l&&x;if(C&&c.length>0&&!b.call(c,0))for(var i=0;i<c.length;++i)P.push(String(i));if(p&&c.length>0)for(var A=0;A<c.length;++A)P.push(String(A));else for(var O in c)S&&O==="prototype"||!b.call(c,O)||P.push(String(O));if(h)for(var B=function(z){if(typeof window=="undefined"||!u)return n(z);try{return n(z)}catch(j){return!1}}(c),q=0;q<o.length;++q)B&&o[q]==="constructor"||!b.call(c,o[q])||P.push(o[q]);return P}}$.exports=y},1189:($,T,k)=>{"use strict";var y=Array.prototype.slice,b=k(1093),w=Object.keys,E=w?function(h){return w(h)}:k(8875),g=Object.keys;E.shim=function(){if(Object.keys){var h=function(){var l=Object.keys(arguments);return l&&l.length===arguments.length}(1,2);h||(Object.keys=function(l){return b(l)?g(y.call(l)):g(l)})}else Object.keys=E;return Object.keys||E},$.exports=E},1093:$=>{"use strict";var T=Object.prototype.toString;$.exports=function(k){var y=T.call(k),b=y==="[object Arguments]";return b||(b=y!=="[object Array]"&&k!==null&&typeof k=="object"&&typeof k.length=="number"&&k.length>=0&&T.call(k.callee)==="[object Function]"),b}},7583:($,T,k)=>{const y=k(1333),b=k(157),w=k(7899),E=k(6756);function g(h,l,o,n,a){const u=[].slice.call(arguments,1),c=u.length,f=typeof u[c-1]=="function";if(!f&&!y())throw new Error("Callback required as last argument");if(!f){if(c<1)throw new Error("Too few arguments provided");return c===1?(o=l,l=n=void 0):c!==2||l.getContext||(n=o,o=l,l=void 0),new Promise(function(x,p){try{const C=b.create(o,n);x(h(C,l,n))}catch(C){p(C)}})}if(c<2)throw new Error("Too few arguments provided");c===2?(a=o,o=l,l=n=void 0):c===3&&(l.getContext&&a===void 0?(a=n,n=void 0):(a=n,n=o,o=l,l=void 0));try{const x=b.create(o,n);a(null,h(x,l,n))}catch(x){a(x)}}T.create=b.create,T.toCanvas=g.bind(null,w.render),T.toDataURL=g.bind(null,w.renderToDataURL),T.toString=g.bind(null,function(h,l,o){return E.render(h,o)})},1333:$=>{$.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},6421:($,T,k)=>{const y=k(6886).getSymbolSize;T.getRowColCoords=function(b){if(b===1)return[];const w=Math.floor(b/7)+2,E=y(b),g=E===145?26:2*Math.ceil((E-13)/(2*w-2)),h=[E-7];for(let l=1;l<w-1;l++)h[l]=h[l-1]-g;return h.push(6),h.reverse()},T.getPositions=function(b){const w=[],E=T.getRowColCoords(b),g=E.length;for(let h=0;h<g;h++)for(let l=0;l<g;l++)h===0&&l===0||h===0&&l===g-1||h===g-1&&l===0||w.push([E[h],E[l]]);return w}},1433:($,T,k)=>{const y=k(208),b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function w(E){this.mode=y.ALPHANUMERIC,this.data=E}w.getBitsLength=function(E){return 11*Math.floor(E/2)+E%2*6},w.prototype.getLength=function(){return this.data.length},w.prototype.getBitsLength=function(){return w.getBitsLength(this.data.length)},w.prototype.write=function(E){let g;for(g=0;g+2<=this.data.length;g+=2){let h=45*b.indexOf(this.data[g]);h+=b.indexOf(this.data[g+1]),E.put(h,11)}this.data.length%2&&E.put(b.indexOf(this.data[g]),6)},$.exports=w},9899:$=>{function T(){this.buffer=[],this.length=0}T.prototype={get:function(k){const y=Math.floor(k/8);return(this.buffer[y]>>>7-k%8&1)==1},put:function(k,y){for(let b=0;b<y;b++)this.putBit((k>>>y-b-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(k){const y=Math.floor(this.length/8);this.buffer.length<=y&&this.buffer.push(0),k&&(this.buffer[y]|=128>>>this.length%8),this.length++}},$.exports=T},8820:$=>{function T(k){if(!k||k<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=k,this.data=new Uint8Array(k*k),this.reservedBit=new Uint8Array(k*k)}T.prototype.set=function(k,y,b,w){const E=k*this.size+y;this.data[E]=b,w&&(this.reservedBit[E]=!0)},T.prototype.get=function(k,y){return this.data[k*this.size+y]},T.prototype.xor=function(k,y,b){this.data[k*this.size+y]^=b},T.prototype.isReserved=function(k,y){return this.reservedBit[k*this.size+y]},$.exports=T},5822:($,T,k)=>{const y=k(9049),b=k(208);function w(E){this.mode=b.BYTE,typeof E=="string"&&(E=y(E)),this.data=new Uint8Array(E)}w.getBitsLength=function(E){return 8*E},w.prototype.getLength=function(){return this.data.length},w.prototype.getBitsLength=function(){return w.getBitsLength(this.data.length)},w.prototype.write=function(E){for(let g=0,h=this.data.length;g<h;g++)E.put(this.data[g],8)},$.exports=w},7518:($,T,k)=>{const y=k(9953),b=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],w=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];T.getBlocksCount=function(E,g){switch(g){case y.L:return b[4*(E-1)+0];case y.M:return b[4*(E-1)+1];case y.Q:return b[4*(E-1)+2];case y.H:return b[4*(E-1)+3];default:return}},T.getTotalCodewordsCount=function(E,g){switch(g){case y.L:return w[4*(E-1)+0];case y.M:return w[4*(E-1)+1];case y.Q:return w[4*(E-1)+2];case y.H:return w[4*(E-1)+3];default:return}}},9953:($,T)=>{T.L={bit:1},T.M={bit:0},T.Q={bit:3},T.H={bit:2},T.isValid=function(k){return k&&k.bit!==void 0&&k.bit>=0&&k.bit<4},T.from=function(k,y){if(T.isValid(k))return k;try{return function(b){if(typeof b!="string")throw new Error("Param is not a string");switch(b.toLowerCase()){case"l":case"low":return T.L;case"m":case"medium":return T.M;case"q":case"quartile":return T.Q;case"h":case"high":return T.H;default:throw new Error("Unknown EC Level: "+b)}}(k)}catch(b){return y}}},7756:($,T,k)=>{const y=k(6886).getSymbolSize;T.getPositions=function(b){const w=y(b);return[[0,0],[w-7,0],[0,w-7]]}},4565:($,T,k)=>{const y=k(6886),b=y.getBCHDigit(1335);T.getEncodedBits=function(w,E){const g=w.bit<<3|E;let h=g<<10;for(;y.getBCHDigit(h)-b>=0;)h^=1335<<y.getBCHDigit(h)-b;return 21522^(g<<10|h)}},2731:($,T)=>{const k=new Uint8Array(512),y=new Uint8Array(256);(function(){let b=1;for(let w=0;w<255;w++)k[w]=b,y[b]=w,b<<=1,256&b&&(b^=285);for(let w=255;w<512;w++)k[w]=k[w-255]})(),T.log=function(b){if(b<1)throw new Error("log("+b+")");return y[b]},T.exp=function(b){return k[b]},T.mul=function(b,w){return b===0||w===0?0:k[y[b]+y[w]]}},4861:($,T,k)=>{const y=k(208),b=k(6886);function w(E){this.mode=y.KANJI,this.data=E}w.getBitsLength=function(E){return 13*E},w.prototype.getLength=function(){return this.data.length},w.prototype.getBitsLength=function(){return w.getBitsLength(this.data.length)},w.prototype.write=function(E){let g;for(g=0;g<this.data.length;g++){let h=b.toSJIS(this.data[g]);if(h>=33088&&h<=40956)h-=33088;else{if(!(h>=57408&&h<=60351))throw new Error("Invalid SJIS character: "+this.data[g]+`
Make sure your charset is UTF-8`);h-=49472}h=192*(h>>>8&255)+(255&h),E.put(h,13)}},$.exports=w},1332:($,T)=>{T.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function k(y,b,w){switch(y){case T.Patterns.PATTERN000:return(b+w)%2==0;case T.Patterns.PATTERN001:return b%2==0;case T.Patterns.PATTERN010:return w%3==0;case T.Patterns.PATTERN011:return(b+w)%3==0;case T.Patterns.PATTERN100:return(Math.floor(b/2)+Math.floor(w/3))%2==0;case T.Patterns.PATTERN101:return b*w%2+b*w%3==0;case T.Patterns.PATTERN110:return(b*w%2+b*w%3)%2==0;case T.Patterns.PATTERN111:return(b*w%3+(b+w)%2)%2==0;default:throw new Error("bad maskPattern:"+y)}}T.isValid=function(y){return y!=null&&y!==""&&!isNaN(y)&&y>=0&&y<=7},T.from=function(y){return T.isValid(y)?parseInt(y,10):void 0},T.getPenaltyN1=function(y){const b=y.size;let w=0,E=0,g=0,h=null,l=null;for(let o=0;o<b;o++){E=g=0,h=l=null;for(let n=0;n<b;n++){let a=y.get(o,n);a===h?E++:(E>=5&&(w+=E-5+3),h=a,E=1),a=y.get(n,o),a===l?g++:(g>=5&&(w+=g-5+3),l=a,g=1)}E>=5&&(w+=E-5+3),g>=5&&(w+=g-5+3)}return w},T.getPenaltyN2=function(y){const b=y.size;let w=0;for(let E=0;E<b-1;E++)for(let g=0;g<b-1;g++){const h=y.get(E,g)+y.get(E,g+1)+y.get(E+1,g)+y.get(E+1,g+1);h!==4&&h!==0||w++}return 3*w},T.getPenaltyN3=function(y){const b=y.size;let w=0,E=0,g=0;for(let h=0;h<b;h++){E=g=0;for(let l=0;l<b;l++)E=E<<1&2047|y.get(h,l),l>=10&&(E===1488||E===93)&&w++,g=g<<1&2047|y.get(l,h),l>=10&&(g===1488||g===93)&&w++}return 40*w},T.getPenaltyN4=function(y){let b=0;const w=y.data.length;for(let E=0;E<w;E++)b+=y.data[E];return 10*Math.abs(Math.ceil(100*b/w/5)-10)},T.applyMask=function(y,b){const w=b.size;for(let E=0;E<w;E++)for(let g=0;g<w;g++)b.isReserved(g,E)||b.xor(g,E,k(y,g,E))},T.getBestMask=function(y,b){const w=Object.keys(T.Patterns).length;let E=0,g=1/0;for(let h=0;h<w;h++){b(h),T.applyMask(h,y);const l=T.getPenaltyN1(y)+T.getPenaltyN2(y)+T.getPenaltyN3(y)+T.getPenaltyN4(y);T.applyMask(h,y),l<g&&(g=l,E=h)}return E}},208:($,T,k)=>{const y=k(1878),b=k(7044);T.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},T.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},T.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},T.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},T.MIXED={bit:-1},T.getCharCountIndicator=function(w,E){if(!w.ccBits)throw new Error("Invalid mode: "+w);if(!y.isValid(E))throw new Error("Invalid version: "+E);return E>=1&&E<10?w.ccBits[0]:E<27?w.ccBits[1]:w.ccBits[2]},T.getBestModeForData=function(w){return b.testNumeric(w)?T.NUMERIC:b.testAlphanumeric(w)?T.ALPHANUMERIC:b.testKanji(w)?T.KANJI:T.BYTE},T.toString=function(w){if(w&&w.id)return w.id;throw new Error("Invalid mode")},T.isValid=function(w){return w&&w.bit&&w.ccBits},T.from=function(w,E){if(T.isValid(w))return w;try{return function(g){if(typeof g!="string")throw new Error("Param is not a string");switch(g.toLowerCase()){case"numeric":return T.NUMERIC;case"alphanumeric":return T.ALPHANUMERIC;case"kanji":return T.KANJI;case"byte":return T.BYTE;default:throw new Error("Unknown mode: "+g)}}(w)}catch(g){return E}}},4357:($,T,k)=>{const y=k(208);function b(w){this.mode=y.NUMERIC,this.data=w.toString()}b.getBitsLength=function(w){return 10*Math.floor(w/3)+(w%3?w%3*3+1:0)},b.prototype.getLength=function(){return this.data.length},b.prototype.getBitsLength=function(){return b.getBitsLength(this.data.length)},b.prototype.write=function(w){let E,g,h;for(E=0;E+3<=this.data.length;E+=3)g=this.data.substr(E,3),h=parseInt(g,10),w.put(h,10);const l=this.data.length-E;l>0&&(g=this.data.substr(E),h=parseInt(g,10),w.put(h,3*l+1))},$.exports=b},4713:($,T,k)=>{const y=k(2731);T.mul=function(b,w){const E=new Uint8Array(b.length+w.length-1);for(let g=0;g<b.length;g++)for(let h=0;h<w.length;h++)E[g+h]^=y.mul(b[g],w[h]);return E},T.mod=function(b,w){let E=new Uint8Array(b);for(;E.length-w.length>=0;){const g=E[0];for(let l=0;l<w.length;l++)E[l]^=y.mul(w[l],g);let h=0;for(;h<E.length&&E[h]===0;)h++;E=E.slice(h)}return E},T.generateECPolynomial=function(b){let w=new Uint8Array([1]);for(let E=0;E<b;E++)w=T.mul(w,new Uint8Array([1,y.exp(E)]));return w}},157:($,T,k)=>{const y=k(6886),b=k(9953),w=k(9899),E=k(8820),g=k(6421),h=k(7756),l=k(1332),o=k(7518),n=k(4764),a=k(1427),u=k(4565),c=k(208),f=k(9801);function x(C,P,S){const i=C.size,A=u.getEncodedBits(P,S);let O,B;for(O=0;O<15;O++)B=(A>>O&1)==1,O<6?C.set(O,8,B,!0):O<8?C.set(O+1,8,B,!0):C.set(i-15+O,8,B,!0),O<8?C.set(8,i-O-1,B,!0):O<9?C.set(8,15-O-1+1,B,!0):C.set(8,15-O-1,B,!0);C.set(i-8,8,1,!0)}function p(C,P,S,i){let A;if(Array.isArray(C))A=f.fromArray(C);else{if(typeof C!="string")throw new Error("Invalid data");{let j=P;if(!j){const H=f.rawSplit(C);j=a.getBestVersionForData(H,S)}A=f.fromString(C,j||40)}}const O=a.getBestVersionForData(A,S);if(!O)throw new Error("The amount of data is too big to be stored in a QR Code");if(P){if(P<O)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+O+`.
`)}else P=O;const B=function(j,H,W){const N=new w;W.forEach(function(V){N.put(V.mode.bit,4),N.put(V.getLength(),c.getCharCountIndicator(V.mode,j)),V.write(N)});const M=8*(y.getSymbolTotalCodewords(j)-o.getTotalCodewordsCount(j,H));for(N.getLengthInBits()+4<=M&&N.put(0,4);N.getLengthInBits()%8!=0;)N.putBit(0);const F=(M-N.getLengthInBits())/8;for(let V=0;V<F;V++)N.put(V%2?17:236,8);return function(V,L,U){const Z=y.getSymbolTotalCodewords(L),ue=Z-o.getTotalCodewordsCount(L,U),fe=o.getBlocksCount(L,U),ne=fe-Z%fe,G=Math.floor(Z/fe),J=Math.floor(ue/fe),le=J+1,de=G-J,se=new n(de);let ke=0;const xe=new Array(fe),De=new Array(fe);let ye=0;const Be=new Uint8Array(V.buffer);for(let Ke=0;Ke<fe;Ke++){const We=Ke<ne?J:le;xe[Ke]=Be.slice(ke,ke+We),De[Ke]=se.encode(xe[Ke]),ke+=We,ye=Math.max(ye,We)}const He=new Uint8Array(Z);let Te,Se,Me=0;for(Te=0;Te<ye;Te++)for(Se=0;Se<fe;Se++)Te<xe[Se].length&&(He[Me++]=xe[Se][Te]);for(Te=0;Te<de;Te++)for(Se=0;Se<fe;Se++)He[Me++]=De[Se][Te];return He}(N,j,H)}(P,S,A),q=y.getSymbolSize(P),z=new E(q);return function(j,H){const W=j.size,N=h.getPositions(H);for(let M=0;M<N.length;M++){const F=N[M][0],V=N[M][1];for(let L=-1;L<=7;L++)if(!(F+L<=-1||W<=F+L))for(let U=-1;U<=7;U++)V+U<=-1||W<=V+U||(L>=0&&L<=6&&(U===0||U===6)||U>=0&&U<=6&&(L===0||L===6)||L>=2&&L<=4&&U>=2&&U<=4?j.set(F+L,V+U,!0,!0):j.set(F+L,V+U,!1,!0))}}(z,P),function(j){const H=j.size;for(let W=8;W<H-8;W++){const N=W%2==0;j.set(W,6,N,!0),j.set(6,W,N,!0)}}(z),function(j,H){const W=g.getPositions(H);for(let N=0;N<W.length;N++){const M=W[N][0],F=W[N][1];for(let V=-2;V<=2;V++)for(let L=-2;L<=2;L++)V===-2||V===2||L===-2||L===2||V===0&&L===0?j.set(M+V,F+L,!0,!0):j.set(M+V,F+L,!1,!0)}}(z,P),x(z,S,0),P>=7&&function(j,H){const W=j.size,N=a.getEncodedBits(H);let M,F,V;for(let L=0;L<18;L++)M=Math.floor(L/3),F=L%3+W-8-3,V=(N>>L&1)==1,j.set(M,F,V,!0),j.set(F,M,V,!0)}(z,P),function(j,H){const W=j.size;let N=-1,M=W-1,F=7,V=0;for(let L=W-1;L>0;L-=2)for(L===6&&L--;;){for(let U=0;U<2;U++)if(!j.isReserved(M,L-U)){let Z=!1;V<H.length&&(Z=(H[V]>>>F&1)==1),j.set(M,L-U,Z),F--,F===-1&&(V++,F=7)}if(M+=N,M<0||W<=M){M-=N,N=-N;break}}}(z,B),isNaN(i)&&(i=l.getBestMask(z,x.bind(null,z,S))),l.applyMask(i,z),x(z,S,i),{modules:z,version:P,errorCorrectionLevel:S,maskPattern:i,segments:A}}T.create=function(C,P){if(C===void 0||C==="")throw new Error("No input text");let S,i,A=b.M;return P!==void 0&&(A=b.from(P.errorCorrectionLevel,b.M),S=a.from(P.version),i=l.from(P.maskPattern),P.toSJISFunc&&y.setToSJISFunction(P.toSJISFunc)),p(C,S,A,i)}},4764:($,T,k)=>{const y=k(4713);function b(w){this.genPoly=void 0,this.degree=w,this.degree&&this.initialize(this.degree)}b.prototype.initialize=function(w){this.degree=w,this.genPoly=y.generateECPolynomial(this.degree)},b.prototype.encode=function(w){if(!this.genPoly)throw new Error("Encoder not initialized");const E=new Uint8Array(w.length+this.degree);E.set(w);const g=y.mod(E,this.genPoly),h=this.degree-g.length;if(h>0){const l=new Uint8Array(this.degree);return l.set(g,h),l}return g},$.exports=b},7044:($,T)=>{const k="[0-9]+";let y="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";y=y.replace(/u/g,"\\u");const b="(?:(?![A-Z0-9 $%*+\\-./:]|"+y+`)(?:.|[\r
]))+`;T.KANJI=new RegExp(y,"g"),T.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),T.BYTE=new RegExp(b,"g"),T.NUMERIC=new RegExp(k,"g"),T.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const w=new RegExp("^"+y+"$"),E=new RegExp("^"+k+"$"),g=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");T.testKanji=function(h){return w.test(h)},T.testNumeric=function(h){return E.test(h)},T.testAlphanumeric=function(h){return g.test(h)}},9801:($,T,k)=>{const y=k(208),b=k(4357),w=k(1433),E=k(5822),g=k(4861),h=k(7044),l=k(6886),o=k(3939);function n(x){return unescape(encodeURIComponent(x)).length}function a(x,p,C){const P=[];let S;for(;(S=x.exec(C))!==null;)P.push({data:S[0],index:S.index,mode:p,length:S[0].length});return P}function u(x){const p=a(h.NUMERIC,y.NUMERIC,x),C=a(h.ALPHANUMERIC,y.ALPHANUMERIC,x);let P,S;return l.isKanjiModeEnabled()?(P=a(h.BYTE,y.BYTE,x),S=a(h.KANJI,y.KANJI,x)):(P=a(h.BYTE_KANJI,y.BYTE,x),S=[]),p.concat(C,P,S).sort(function(i,A){return i.index-A.index}).map(function(i){return{data:i.data,mode:i.mode,length:i.length}})}function c(x,p){switch(p){case y.NUMERIC:return b.getBitsLength(x);case y.ALPHANUMERIC:return w.getBitsLength(x);case y.KANJI:return g.getBitsLength(x);case y.BYTE:return E.getBitsLength(x)}}function f(x,p){let C;const P=y.getBestModeForData(x);if(C=y.from(p,P),C!==y.BYTE&&C.bit<P.bit)throw new Error('"'+x+'" cannot be encoded with mode '+y.toString(C)+`.
 Suggested mode is: `+y.toString(P));switch(C!==y.KANJI||l.isKanjiModeEnabled()||(C=y.BYTE),C){case y.NUMERIC:return new b(x);case y.ALPHANUMERIC:return new w(x);case y.KANJI:return new g(x);case y.BYTE:return new E(x)}}T.fromArray=function(x){return x.reduce(function(p,C){return typeof C=="string"?p.push(f(C,null)):C.data&&p.push(f(C.data,C.mode)),p},[])},T.fromString=function(x,p){const C=function(A){const O=[];for(let B=0;B<A.length;B++){const q=A[B];switch(q.mode){case y.NUMERIC:O.push([q,{data:q.data,mode:y.ALPHANUMERIC,length:q.length},{data:q.data,mode:y.BYTE,length:q.length}]);break;case y.ALPHANUMERIC:O.push([q,{data:q.data,mode:y.BYTE,length:q.length}]);break;case y.KANJI:O.push([q,{data:q.data,mode:y.BYTE,length:n(q.data)}]);break;case y.BYTE:O.push([{data:q.data,mode:y.BYTE,length:n(q.data)}])}}return O}(u(x,l.isKanjiModeEnabled())),P=function(A,O){const B={},q={start:{}};let z=["start"];for(let j=0;j<A.length;j++){const H=A[j],W=[];for(let N=0;N<H.length;N++){const M=H[N],F=""+j+N;W.push(F),B[F]={node:M,lastCount:0},q[F]={};for(let V=0;V<z.length;V++){const L=z[V];B[L]&&B[L].node.mode===M.mode?(q[L][F]=c(B[L].lastCount+M.length,M.mode)-c(B[L].lastCount,M.mode),B[L].lastCount+=M.length):(B[L]&&(B[L].lastCount=M.length),q[L][F]=c(M.length,M.mode)+4+y.getCharCountIndicator(M.mode,O))}}z=W}for(let j=0;j<z.length;j++)q[z[j]].end=0;return{map:q,table:B}}(C,p),S=o.find_path(P.map,"start","end"),i=[];for(let A=1;A<S.length-1;A++)i.push(P.table[S[A]].node);return T.fromArray(i.reduce(function(A,O){const B=A.length-1>=0?A[A.length-1]:null;return B&&B.mode===O.mode?(A[A.length-1].data+=O.data,A):(A.push(O),A)},[]))},T.rawSplit=function(x){return T.fromArray(u(x,l.isKanjiModeEnabled()))}},6886:($,T)=>{let k;const y=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];T.getSymbolSize=function(b){if(!b)throw new Error('"version" cannot be null or undefined');if(b<1||b>40)throw new Error('"version" should be in range from 1 to 40');return 4*b+17},T.getSymbolTotalCodewords=function(b){return y[b]},T.getBCHDigit=function(b){let w=0;for(;b!==0;)w++,b>>>=1;return w},T.setToSJISFunction=function(b){if(typeof b!="function")throw new Error('"toSJISFunc" is not a valid function.');k=b},T.isKanjiModeEnabled=function(){return k!==void 0},T.toSJIS=function(b){return k(b)}},1878:($,T)=>{T.isValid=function(k){return!isNaN(k)&&k>=1&&k<=40}},1427:($,T,k)=>{const y=k(6886),b=k(7518),w=k(9953),E=k(208),g=k(1878),h=y.getBCHDigit(7973);function l(n,a){return E.getCharCountIndicator(n,a)+4}function o(n,a){let u=0;return n.forEach(function(c){const f=l(c.mode,a);u+=f+c.getBitsLength()}),u}T.from=function(n,a){return g.isValid(n)?parseInt(n,10):a},T.getCapacity=function(n,a,u){if(!g.isValid(n))throw new Error("Invalid QR Code version");u===void 0&&(u=E.BYTE);const c=8*(y.getSymbolTotalCodewords(n)-b.getTotalCodewordsCount(n,a));if(u===E.MIXED)return c;const f=c-l(u,n);switch(u){case E.NUMERIC:return Math.floor(f/10*3);case E.ALPHANUMERIC:return Math.floor(f/11*2);case E.KANJI:return Math.floor(f/13);case E.BYTE:default:return Math.floor(f/8)}},T.getBestVersionForData=function(n,a){let u;const c=w.from(a,w.M);if(Array.isArray(n)){if(n.length>1)return function(f,x){for(let p=1;p<=40;p++)if(o(f,p)<=T.getCapacity(p,x,E.MIXED))return p}(n,c);if(n.length===0)return 1;u=n[0]}else u=n;return function(f,x,p){for(let C=1;C<=40;C++)if(x<=T.getCapacity(C,p,f))return C}(u.mode,u.getLength(),c)},T.getEncodedBits=function(n){if(!g.isValid(n)||n<7)throw new Error("Invalid QR Code version");let a=n<<12;for(;y.getBCHDigit(a)-h>=0;)a^=7973<<y.getBCHDigit(a)-h;return n<<12|a}},7899:($,T,k)=>{const y=k(2726);T.render=function(b,w,E){let g=E,h=w;g!==void 0||w&&w.getContext||(g=w,w=void 0),w||(h=function(){try{return document.createElement("canvas")}catch(a){throw new Error("You need to specify a canvas element")}}()),g=y.getOptions(g);const l=y.getImageWidth(b.modules.size,g),o=h.getContext("2d"),n=o.createImageData(l,l);return y.qrToImageData(n.data,b,g),function(a,u,c){a.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=c,u.width=c,u.style.height=c+"px",u.style.width=c+"px"}(o,h,l),o.putImageData(n,0,0),h},T.renderToDataURL=function(b,w,E){let g=E;g!==void 0||w&&w.getContext||(g=w,w=void 0),g||(g={});const h=T.render(b,w,g),l=g.type||"image/png",o=g.rendererOpts||{};return h.toDataURL(l,o.quality)}},6756:($,T,k)=>{const y=k(2726);function b(E,g){const h=E.a/255,l=g+'="'+E.hex+'"';return h<1?l+" "+g+'-opacity="'+h.toFixed(2).slice(1)+'"':l}function w(E,g,h){let l=E+g;return h!==void 0&&(l+=" "+h),l}T.render=function(E,g,h){const l=y.getOptions(g),o=E.modules.size,n=E.modules.data,a=o+2*l.margin,u=l.color.light.a?"<path "+b(l.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+b(l.color.dark,"stroke")+' d="'+function(p,C,P){let S="",i=0,A=!1,O=0;for(let B=0;B<p.length;B++){const q=Math.floor(B%C),z=Math.floor(B/C);q||A||(A=!0),p[B]?(O++,B>0&&q>0&&p[B-1]||(S+=A?w("M",q+P,.5+z+P):w("m",i,0),i=0,A=!1),q+1<C&&p[B+1]||(S+=w("h",O),O=0)):i++}return S}(n,o,l.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+c+`</svg>
`;return typeof h=="function"&&h(null,x),x}},2726:($,T)=>{function k(y){if(typeof y=="number"&&(y=y.toString()),typeof y!="string")throw new Error("Color should be defined as hex string");let b=y.slice().replace("#","").split("");if(b.length<3||b.length===5||b.length>8)throw new Error("Invalid hex color: "+y);b.length!==3&&b.length!==4||(b=Array.prototype.concat.apply([],b.map(function(E){return[E,E]}))),b.length===6&&b.push("F","F");const w=parseInt(b.join(""),16);return{r:w>>24&255,g:w>>16&255,b:w>>8&255,a:255&w,hex:"#"+b.slice(0,6).join("")}}T.getOptions=function(y){y||(y={}),y.color||(y.color={});const b=y.margin===void 0||y.margin===null||y.margin<0?4:y.margin,w=y.width&&y.width>=21?y.width:void 0,E=y.scale||4;return{width:w,scale:w?4:E,margin:b,color:{dark:k(y.color.dark||"#000000ff"),light:k(y.color.light||"#ffffffff")},type:y.type,rendererOpts:y.rendererOpts||{}}},T.getScale=function(y,b){return b.width&&b.width>=y+2*b.margin?b.width/(y+2*b.margin):b.scale},T.getImageWidth=function(y,b){const w=T.getScale(y,b);return Math.floor((y+2*b.margin)*w)},T.qrToImageData=function(y,b,w){const E=b.modules.size,g=b.modules.data,h=T.getScale(E,w),l=Math.floor((E+2*w.margin)*h),o=w.margin*h,n=[w.color.light,w.color.dark];for(let a=0;a<l;a++)for(let u=0;u<l;u++){let c=4*(a*l+u),f=w.color.light;a>=o&&u>=o&&a<l-o&&u<l-o&&(f=n[g[Math.floor((a-o)/h)*E+Math.floor((u-o)/h)]?1:0]),y[c++]=f.r,y[c++]=f.g,y[c++]=f.b,y[c]=f.a}}},5815:($,T,k)=>{var y=k(5606),b=k(4982),w=k(2849),E=k(226),g="\0",h=function(l){Array.isArray(l)?this.ops=l:l!=null&&Array.isArray(l.ops)?this.ops=l.ops:this.ops=[]};h.prototype.insert=function(l,o){var n={};return l.length===0?this:(n.insert=l,o!=null&&typeof o=="object"&&Object.keys(o).length>0&&(n.attributes=o),this.push(n))},h.prototype.delete=function(l){return l<=0?this:this.push({delete:l})},h.prototype.retain=function(l,o){if(l<=0)return this;var n={retain:l};return o!=null&&typeof o=="object"&&Object.keys(o).length>0&&(n.attributes=o),this.push(n)},h.prototype.push=function(l){var o=this.ops.length,n=this.ops[o-1];if(l=w(!0,{},l),typeof n=="object"){if(typeof l.delete=="number"&&typeof n.delete=="number")return this.ops[o-1]={delete:n.delete+l.delete},this;if(typeof n.delete=="number"&&l.insert!=null&&(o-=1,typeof(n=this.ops[o-1])!="object"))return this.ops.unshift(l),this;if(b(l.attributes,n.attributes)){if(typeof l.insert=="string"&&typeof n.insert=="string")return this.ops[o-1]={insert:n.insert+l.insert},typeof l.attributes=="object"&&(this.ops[o-1].attributes=l.attributes),this;if(typeof l.retain=="number"&&typeof n.retain=="number")return this.ops[o-1]={retain:n.retain+l.retain},typeof l.attributes=="object"&&(this.ops[o-1].attributes=l.attributes),this}}return o===this.ops.length?this.ops.push(l):this.ops.splice(o,0,l),this},h.prototype.chop=function(){var l=this.ops[this.ops.length-1];return l&&l.retain&&!l.attributes&&this.ops.pop(),this},h.prototype.filter=function(l){return this.ops.filter(l)},h.prototype.forEach=function(l){this.ops.forEach(l)},h.prototype.map=function(l){return this.ops.map(l)},h.prototype.partition=function(l){var o=[],n=[];return this.forEach(function(a){(l(a)?o:n).push(a)}),[o,n]},h.prototype.reduce=function(l,o){return this.ops.reduce(l,o)},h.prototype.changeLength=function(){return this.reduce(function(l,o){return o.insert?l+E.length(o):o.delete?l-o.delete:l},0)},h.prototype.length=function(){return this.reduce(function(l,o){return l+E.length(o)},0)},h.prototype.slice=function(l,o){l=l||0,typeof o!="number"&&(o=1/0);for(var n=[],a=E.iterator(this.ops),u=0;u<o&&a.hasNext();){var c;u<l?c=a.next(l-u):(c=a.next(o-u),n.push(c)),u+=E.length(c)}return new h(n)},h.prototype.compose=function(l){var o=E.iterator(this.ops),n=E.iterator(l.ops),a=[],u=n.peek();if(u!=null&&typeof u.retain=="number"&&u.attributes==null){for(var c=u.retain;o.peekType()==="insert"&&o.peekLength()<=c;)c-=o.peekLength(),a.push(o.next());u.retain-c>0&&n.next(u.retain-c)}for(var f=new h(a);o.hasNext()||n.hasNext();)if(n.peekType()==="insert")f.push(n.next());else if(o.peekType()==="delete")f.push(o.next());else{var x=Math.min(o.peekLength(),n.peekLength()),p=o.next(x),C=n.next(x);if(typeof C.retain=="number"){var P={};typeof p.retain=="number"?P.retain=x:P.insert=p.insert;var S=E.attributes.compose(p.attributes,C.attributes,typeof p.retain=="number");if(S&&(P.attributes=S),f.push(P),!n.hasNext()&&b(f.ops[f.ops.length-1],P)){var i=new h(o.rest());return f.concat(i).chop()}}else typeof C.delete=="number"&&typeof p.retain=="number"&&f.push(C)}return f.chop()},h.prototype.concat=function(l){var o=new h(this.ops.slice());return l.ops.length>0&&(o.push(l.ops[0]),o.ops=o.ops.concat(l.ops.slice(1))),o},h.prototype.diff=function(l,o){if(this.ops===l.ops)return new h;var n=[this,l].map(function(x){return x.map(function(p){if(p.insert!=null)return typeof p.insert=="string"?p.insert:g;throw new Error("diff() called "+(x===l?"on":"with")+" non-document")}).join("")}),a=new h,u=y(n[0],n[1],o),c=E.iterator(this.ops),f=E.iterator(l.ops);return u.forEach(function(x){for(var p=x[1].length;p>0;){var C=0;switch(x[0]){case y.INSERT:C=Math.min(f.peekLength(),p),a.push(f.next(C));break;case y.DELETE:C=Math.min(p,c.peekLength()),c.next(C),a.delete(C);break;case y.EQUAL:C=Math.min(c.peekLength(),f.peekLength(),p);var P=c.next(C),S=f.next(C);b(P.insert,S.insert)?a.retain(C,E.attributes.diff(P.attributes,S.attributes)):a.push(S).delete(C)}p-=C}}),a.chop()},h.prototype.eachLine=function(l,o){o=o||`
`;for(var n=E.iterator(this.ops),a=new h,u=0;n.hasNext();){if(n.peekType()!=="insert")return;var c=n.peek(),f=E.length(c)-n.peekLength(),x=typeof c.insert=="string"?c.insert.indexOf(o,f)-f:-1;if(x<0)a.push(n.next());else if(x>0)a.push(n.next(x));else{if(l(a,n.next(1).attributes||{},u)===!1)return;u+=1,a=new h}}a.length()>0&&l(a,{},u)},h.prototype.transform=function(l,o){if(o=!!o,typeof l=="number")return this.transformPosition(l,o);for(var n=E.iterator(this.ops),a=E.iterator(l.ops),u=new h;n.hasNext()||a.hasNext();)if(n.peekType()!=="insert"||!o&&a.peekType()==="insert")if(a.peekType()==="insert")u.push(a.next());else{var c=Math.min(n.peekLength(),a.peekLength()),f=n.next(c),x=a.next(c);if(f.delete)continue;x.delete?u.push(x):u.retain(c,E.attributes.transform(f.attributes,x.attributes,o))}else u.retain(E.length(n.next()));return u.chop()},h.prototype.transformPosition=function(l,o){o=!!o;for(var n=E.iterator(this.ops),a=0;n.hasNext()&&a<=l;){var u=n.peekLength(),c=n.peekType();n.next(),c!=="delete"?(c==="insert"&&(a<l||!o)&&(l+=u),a+=u):l-=Math.min(u,l-a)}return l},$.exports=h},226:($,T,k)=>{var y=k(4982),b=k(2849),w={attributes:{compose:function(g,h,l){typeof g!="object"&&(g={}),typeof h!="object"&&(h={});var o=b(!0,{},h);for(var n in l||(o=Object.keys(o).reduce(function(a,u){return o[u]!=null&&(a[u]=o[u]),a},{})),g)g[n]!==void 0&&h[n]===void 0&&(o[n]=g[n]);return Object.keys(o).length>0?o:void 0},diff:function(g,h){typeof g!="object"&&(g={}),typeof h!="object"&&(h={});var l=Object.keys(g).concat(Object.keys(h)).reduce(function(o,n){return y(g[n],h[n])||(o[n]=h[n]===void 0?null:h[n]),o},{});return Object.keys(l).length>0?l:void 0},transform:function(g,h,l){if(typeof g!="object")return h;if(typeof h=="object"){if(!l)return h;var o=Object.keys(h).reduce(function(n,a){return g[a]===void 0&&(n[a]=h[a]),n},{});return Object.keys(o).length>0?o:void 0}}},iterator:function(g){return new E(g)},length:function(g){return typeof g.delete=="number"?g.delete:typeof g.retain=="number"?g.retain:typeof g.insert=="string"?g.insert.length:1}};function E(g){this.ops=g,this.index=0,this.offset=0}E.prototype.hasNext=function(){return this.peekLength()<1/0},E.prototype.next=function(g){g||(g=1/0);var h=this.ops[this.index];if(h){var l=this.offset,o=w.length(h);if(g>=o-l?(g=o-l,this.index+=1,this.offset=0):this.offset+=g,typeof h.delete=="number")return{delete:g};var n={};return h.attributes&&(n.attributes=h.attributes),typeof h.retain=="number"?n.retain=g:typeof h.insert=="string"?n.insert=h.insert.substr(l,g):n.insert=h.insert,n}return{retain:1/0}},E.prototype.peek=function(){return this.ops[this.index]},E.prototype.peekLength=function(){return this.ops[this.index]?w.length(this.ops[this.index])-this.offset:1/0},E.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},E.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var g=this.offset,h=this.index,l=this.next(),o=this.ops.slice(this.index);return this.offset=g,this.index=h,[l].concat(o)}return[]},$.exports=w},1574:function($){var T;T=function(){return function(k){var y={};function b(w){if(y[w])return y[w].exports;var E=y[w]={i:w,l:!1,exports:{}};return k[w].call(E.exports,E,E.exports,b),E.l=!0,E.exports}return b.m=k,b.c=y,b.d=function(w,E,g){b.o(w,E)||Object.defineProperty(w,E,{configurable:!1,enumerable:!0,get:g})},b.n=function(w){var E=w&&w.__esModule?function(){return w.default}:function(){return w};return b.d(E,"a",E),E},b.o=function(w,E){return Object.prototype.hasOwnProperty.call(w,E)},b.p="",b(b.s=109)}([function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=b(17),E=b(18),g=b(19),h=b(45),l=b(46),o=b(47),n=b(48),a=b(49),u=b(12),c=b(32),f=b(33),x=b(31),p=b(1),C={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:w.default,Format:E.default,Leaf:g.default,Embed:n.default,Scroll:h.default,Block:o.default,Inline:l.default,Text:a.default,Attributor:{Attribute:u.default,Class:c.default,Style:f.default,Store:x.default}};y.default=C},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var x in f)f.hasOwnProperty(x)&&(c[x]=f[x])},function(c,f){function x(){this.constructor=c}w(c,f),c.prototype=f===null?Object.create(f):(x.prototype=f.prototype,new x)});Object.defineProperty(y,"__esModule",{value:!0});var g=function(c){function f(x){var p=this;return x="[Parchment] "+x,(p=c.call(this,x)||this).message=x,p.name=p.constructor.name,p}return E(f,c),f}(Error);y.ParchmentError=g;var h,l={},o={},n={},a={};function u(c,f){var x;if(f===void 0&&(f=h.ANY),typeof c=="string")x=a[c]||l[c];else if(c instanceof Text||c.nodeType===Node.TEXT_NODE)x=a.text;else if(typeof c=="number")c&h.LEVEL&h.BLOCK?x=a.block:c&h.LEVEL&h.INLINE&&(x=a.inline);else if(c instanceof HTMLElement){var p=(c.getAttribute("class")||"").split(/\s+/);for(var C in p)if(x=o[p[C]])break;x=x||n[c.tagName]}return x==null?null:f&h.LEVEL&x.scope&&f&h.TYPE&x.scope?x:null}y.DATA_KEY="__blot",function(c){c[c.TYPE=3]="TYPE",c[c.LEVEL=12]="LEVEL",c[c.ATTRIBUTE=13]="ATTRIBUTE",c[c.BLOT=14]="BLOT",c[c.INLINE=7]="INLINE",c[c.BLOCK=11]="BLOCK",c[c.BLOCK_BLOT=10]="BLOCK_BLOT",c[c.INLINE_BLOT=6]="INLINE_BLOT",c[c.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",c[c.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",c[c.ANY=15]="ANY"}(h=y.Scope||(y.Scope={})),y.create=function(c,f){var x=u(c);if(x==null)throw new g("Unable to create "+c+" blot");var p=x,C=c instanceof Node||c.nodeType===Node.TEXT_NODE?c:p.create(f);return new p(C,f)},y.find=function c(f,x){return x===void 0&&(x=!1),f==null?null:f[y.DATA_KEY]!=null?f[y.DATA_KEY].blot:x?c(f.parentNode,x):null},y.query=u,y.register=function c(){for(var f=[],x=0;x<arguments.length;x++)f[x]=arguments[x];if(f.length>1)return f.map(function(C){return c(C)});var p=f[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new g("Invalid definition");if(p.blotName==="abstract")throw new g("Cannot register abstract class");return a[p.blotName||p.attrName]=p,typeof p.keyName=="string"?l[p.keyName]=p:(p.className!=null&&(o[p.className]=p),p.tagName!=null&&(Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(C){return C.toUpperCase()}):p.tagName=p.tagName.toUpperCase(),(Array.isArray(p.tagName)?p.tagName:[p.tagName]).forEach(function(C){n[C]!=null&&p.className!=null||(n[C]=p)}))),p}},function(k,y,b){var w=b(51),E=b(11),g=b(3),h=b(20),l="\0",o=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};o.prototype.insert=function(n,a){var u={};return n.length===0?this:(u.insert=n,a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(u.attributes=a),this.push(u))},o.prototype.delete=function(n){return n<=0?this:this.push({delete:n})},o.prototype.retain=function(n,a){if(n<=0)return this;var u={retain:n};return a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(u.attributes=a),this.push(u)},o.prototype.push=function(n){var a=this.ops.length,u=this.ops[a-1];if(n=g(!0,{},n),typeof u=="object"){if(typeof n.delete=="number"&&typeof u.delete=="number")return this.ops[a-1]={delete:u.delete+n.delete},this;if(typeof u.delete=="number"&&n.insert!=null&&(a-=1,typeof(u=this.ops[a-1])!="object"))return this.ops.unshift(n),this;if(E(n.attributes,u.attributes)){if(typeof n.insert=="string"&&typeof u.insert=="string")return this.ops[a-1]={insert:u.insert+n.insert},typeof n.attributes=="object"&&(this.ops[a-1].attributes=n.attributes),this;if(typeof n.retain=="number"&&typeof u.retain=="number")return this.ops[a-1]={retain:u.retain+n.retain},typeof n.attributes=="object"&&(this.ops[a-1].attributes=n.attributes),this}}return a===this.ops.length?this.ops.push(n):this.ops.splice(a,0,n),this},o.prototype.chop=function(){var n=this.ops[this.ops.length-1];return n&&n.retain&&!n.attributes&&this.ops.pop(),this},o.prototype.filter=function(n){return this.ops.filter(n)},o.prototype.forEach=function(n){this.ops.forEach(n)},o.prototype.map=function(n){return this.ops.map(n)},o.prototype.partition=function(n){var a=[],u=[];return this.forEach(function(c){(n(c)?a:u).push(c)}),[a,u]},o.prototype.reduce=function(n,a){return this.ops.reduce(n,a)},o.prototype.changeLength=function(){return this.reduce(function(n,a){return a.insert?n+h.length(a):a.delete?n-a.delete:n},0)},o.prototype.length=function(){return this.reduce(function(n,a){return n+h.length(a)},0)},o.prototype.slice=function(n,a){n=n||0,typeof a!="number"&&(a=1/0);for(var u=[],c=h.iterator(this.ops),f=0;f<a&&c.hasNext();){var x;f<n?x=c.next(n-f):(x=c.next(a-f),u.push(x)),f+=h.length(x)}return new o(u)},o.prototype.compose=function(n){var a=h.iterator(this.ops),u=h.iterator(n.ops),c=[],f=u.peek();if(f!=null&&typeof f.retain=="number"&&f.attributes==null){for(var x=f.retain;a.peekType()==="insert"&&a.peekLength()<=x;)x-=a.peekLength(),c.push(a.next());f.retain-x>0&&u.next(f.retain-x)}for(var p=new o(c);a.hasNext()||u.hasNext();)if(u.peekType()==="insert")p.push(u.next());else if(a.peekType()==="delete")p.push(a.next());else{var C=Math.min(a.peekLength(),u.peekLength()),P=a.next(C),S=u.next(C);if(typeof S.retain=="number"){var i={};typeof P.retain=="number"?i.retain=C:i.insert=P.insert;var A=h.attributes.compose(P.attributes,S.attributes,typeof P.retain=="number");if(A&&(i.attributes=A),p.push(i),!u.hasNext()&&E(p.ops[p.ops.length-1],i)){var O=new o(a.rest());return p.concat(O).chop()}}else typeof S.delete=="number"&&typeof P.retain=="number"&&p.push(S)}return p.chop()},o.prototype.concat=function(n){var a=new o(this.ops.slice());return n.ops.length>0&&(a.push(n.ops[0]),a.ops=a.ops.concat(n.ops.slice(1))),a},o.prototype.diff=function(n,a){if(this.ops===n.ops)return new o;var u=[this,n].map(function(C){return C.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:l;throw new Error("diff() called "+(C===n?"on":"with")+" non-document")}).join("")}),c=new o,f=w(u[0],u[1],a),x=h.iterator(this.ops),p=h.iterator(n.ops);return f.forEach(function(C){for(var P=C[1].length;P>0;){var S=0;switch(C[0]){case w.INSERT:S=Math.min(p.peekLength(),P),c.push(p.next(S));break;case w.DELETE:S=Math.min(P,x.peekLength()),x.next(S),c.delete(S);break;case w.EQUAL:S=Math.min(x.peekLength(),p.peekLength(),P);var i=x.next(S),A=p.next(S);E(i.insert,A.insert)?c.retain(S,h.attributes.diff(i.attributes,A.attributes)):c.push(A).delete(S)}P-=S}}),c.chop()},o.prototype.eachLine=function(n,a){a=a||`
`;for(var u=h.iterator(this.ops),c=new o,f=0;u.hasNext();){if(u.peekType()!=="insert")return;var x=u.peek(),p=h.length(x)-u.peekLength(),C=typeof x.insert=="string"?x.insert.indexOf(a,p)-p:-1;if(C<0)c.push(u.next());else if(C>0)c.push(u.next(C));else{if(n(c,u.next(1).attributes||{},f)===!1)return;f+=1,c=new o}}c.length()>0&&n(c,{},f)},o.prototype.transform=function(n,a){if(a=!!a,typeof n=="number")return this.transformPosition(n,a);for(var u=h.iterator(this.ops),c=h.iterator(n.ops),f=new o;u.hasNext()||c.hasNext();)if(u.peekType()!=="insert"||!a&&c.peekType()==="insert")if(c.peekType()==="insert")f.push(c.next());else{var x=Math.min(u.peekLength(),c.peekLength()),p=u.next(x),C=c.next(x);if(p.delete)continue;C.delete?f.push(C):f.retain(x,h.attributes.transform(p.attributes,C.attributes,a))}else f.retain(h.length(u.next()));return f.chop()},o.prototype.transformPosition=function(n,a){a=!!a;for(var u=h.iterator(this.ops),c=0;u.hasNext()&&c<=n;){var f=u.peekLength(),x=u.peekType();u.next(),x!=="delete"?(x==="insert"&&(c<n||!a)&&(n+=f),c+=f):n-=Math.min(f,n-c)}return n},k.exports=o},function(k,y){"use strict";var b=Object.prototype.hasOwnProperty,w=Object.prototype.toString,E=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=function(a){return typeof Array.isArray=="function"?Array.isArray(a):w.call(a)==="[object Array]"},l=function(a){if(!a||w.call(a)!=="[object Object]")return!1;var u,c=b.call(a,"constructor"),f=a.constructor&&a.constructor.prototype&&b.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!c&&!f)return!1;for(u in a);return u===void 0||b.call(a,u)},o=function(a,u){E&&u.name==="__proto__"?E(a,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):a[u.name]=u.newValue},n=function(a,u){if(u==="__proto__"){if(!b.call(a,u))return;if(g)return g(a,u).value}return a[u]};k.exports=function a(){var u,c,f,x,p,C,P=arguments[0],S=1,i=arguments.length,A=!1;for(typeof P=="boolean"&&(A=P,P=arguments[1]||{},S=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});S<i;++S)if((u=arguments[S])!=null)for(c in u)f=n(P,c),P!==(x=n(u,c))&&(A&&x&&(l(x)||(p=h(x)))?(p?(p=!1,C=f&&h(f)?f:[]):C=f&&l(f)?f:{},o(P,{name:c,newValue:a(A,C,x)})):x!==void 0&&o(P,{name:c,newValue:x}));return P}},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BlockEmbed=y.bubbleFormats=void 0;var w=function(){function S(i,A){for(var O=0;O<A.length;O++){var B=A[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(i,B.key,B)}}return function(i,A,O){return A&&S(i.prototype,A),O&&S(i,O),i}}(),E=function S(i,A,O){i===null&&(i=Function.prototype);var B=Object.getOwnPropertyDescriptor(i,A);if(B===void 0){var q=Object.getPrototypeOf(i);return q===null?void 0:S(q,A,O)}if("value"in B)return B.value;var z=B.get;return z!==void 0?z.call(O):void 0},g=u(b(3)),h=u(b(2)),l=u(b(0)),o=u(b(16)),n=u(b(6)),a=u(b(7));function u(S){return S&&S.__esModule?S:{default:S}}function c(S,i){if(!(S instanceof i))throw new TypeError("Cannot call a class as a function")}function f(S,i){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?S:i}function x(S,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);S.prototype=Object.create(i&&i.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(S,i):S.__proto__=i)}var p=function(S){function i(){return c(this,i),f(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return x(i,S),w(i,[{key:"attach",value:function(){E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,g.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,O){var B=l.default.query(A,l.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,O)}},{key:"formatAt",value:function(A,O,B,q){this.format(B,q)}},{key:"insertAt",value:function(A,O,B){if(typeof O=="string"&&O.endsWith(`
`)){var q=l.default.create(C.blotName);this.parent.insertBefore(q,A===0?this:this.next),q.insertAt(0,O.slice(0,-1))}else E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"insertAt",this).call(this,A,O,B)}}]),i}(l.default.Embed);p.scope=l.default.Scope.BLOCK_BLOT;var C=function(S){function i(A){c(this,i);var O=f(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,A));return O.cache={},O}return x(i,S),w(i,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(l.default.Leaf).reduce(function(A,O){return O.length()===0?A:A.insert(O.value(),P(O))},new h.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(A,O){E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"deleteAt",this).call(this,A,O),this.cache={}}},{key:"formatAt",value:function(A,O,B,q){O<=0||(l.default.query(B,l.default.Scope.BLOCK)?A+O===this.length()&&this.format(B,q):E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"formatAt",this).call(this,A,Math.min(O,this.length()-A-1),B,q),this.cache={})}},{key:"insertAt",value:function(A,O,B){if(B!=null)return E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"insertAt",this).call(this,A,O,B);if(O.length!==0){var q=O.split(`
`),z=q.shift();z.length>0&&(A<this.length()-1||this.children.tail==null?E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var j=this;q.reduce(function(H,W){return(j=j.split(H,!0)).insertAt(0,W),W.length},A+z.length)}}},{key:"insertBefore",value:function(A,O){var B=this.children.head;E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"insertBefore",this).call(this,A,O),B instanceof o.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(A,O){E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"moveChildren",this).call(this,A,O),this.cache={}}},{key:"optimize",value:function(A){E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(O&&(A===0||A>=this.length()-1)){var B=this.clone();return A===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}var q=E(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"split",this).call(this,A,O);return this.cache={},q}}]),i}(l.default.Block);function P(S){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null?i:(typeof S.formats=="function"&&(i=(0,g.default)(i,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope?i:P(S.parent,i))}C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[n.default,l.default.Embed,a.default],y.bubbleFormats=P,y.BlockEmbed=p,y.default=C},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.overload=y.expandConfig=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},E=function(z,j){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(H,W){var N=[],M=!0,F=!1,V=void 0;try{for(var L,U=H[Symbol.iterator]();!(M=(L=U.next()).done)&&(N.push(L.value),!W||N.length!==W);M=!0);}catch(Z){F=!0,V=Z}finally{try{!M&&U.return&&U.return()}finally{if(F)throw V}}return N}(z,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function z(j,H){for(var W=0;W<H.length;W++){var N=H[W];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(j,N.key,N)}}return function(j,H,W){return H&&z(j.prototype,H),W&&z(j,W),j}}();b(50);var h=C(b(2)),l=C(b(14)),o=C(b(8)),n=C(b(9)),a=C(b(0)),u=b(15),c=C(u),f=C(b(3)),x=C(b(10)),p=C(b(34));function C(z){return z&&z.__esModule?z:{default:z}}function P(z,j,H){return j in z?Object.defineProperty(z,j,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[j]=H,z}var S=(0,x.default)("quill"),i=function(){function z(j){var H=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(function(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}(this,z),this.options=A(j,W),this.container=this.options.container,this.container==null)return S.error("Invalid Quill container",j);this.options.debug&&z.debug(this.options.debug);var N=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new o.default,this.scroll=a.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(o.default.events.EDITOR_CHANGE,function(F){F===o.default.events.TEXT_CHANGE&&H.root.classList.toggle("ql-blank",H.editor.isBlank())}),this.emitter.on(o.default.events.SCROLL_UPDATE,function(F,V){var L=H.selection.lastRange,U=L&&L.length===0?L.index:void 0;O.call(H,function(){return H.editor.update(null,V,U)},F)});var M=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+N+"<p><br></p></div>");this.setContents(M),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return g(z,null,[{key:"debug",value:function(j){j===!0&&(j="log"),x.default.level(j)}},{key:"find",value:function(j){return j.__quill||a.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&S.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,H){var W=this,N=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof j!="string"){var M=j.attrName||j.blotName;typeof M=="string"?this.register("formats/"+M,j,H):Object.keys(j).forEach(function(F){W.register(F,j[F],H)})}else this.imports[j]==null||N||S.warn("Overwriting "+j+" with",H),this.imports[j]=H,(j.startsWith("blots/")||j.startsWith("formats/"))&&H.blotName!=="abstract"?a.default.register(H):j.startsWith("modules")&&typeof H.register=="function"&&H.register()}}]),g(z,[{key:"addContainer",value:function(j){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var W=j;(j=document.createElement("div")).classList.add(W)}return this.container.insertBefore(j,H),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,H,W){var N=this,M=B(j,H,W),F=E(M,4);return j=F[0],H=F[1],W=F[3],O.call(this,function(){return N.editor.deleteText(j,H)},W,j,-1*H)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,H){var W=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;return O.call(this,function(){var M=W.getSelection(!0),F=new h.default;if(M==null)return F;if(a.default.query(j,a.default.Scope.BLOCK))F=W.editor.formatLine(M.index,M.length,P({},j,H));else{if(M.length===0)return W.selection.format(j,H),F;F=W.editor.formatText(M.index,M.length,P({},j,H))}return W.setSelection(M,o.default.sources.SILENT),F},N)}},{key:"formatLine",value:function(j,H,W,N,M){var F,V=this,L=B(j,H,W,N,M),U=E(L,4);return j=U[0],H=U[1],F=U[2],M=U[3],O.call(this,function(){return V.editor.formatLine(j,H,F)},M,j,0)}},{key:"formatText",value:function(j,H,W,N,M){var F,V=this,L=B(j,H,W,N,M),U=E(L,4);return j=U[0],H=U[1],F=U[2],M=U[3],O.call(this,function(){return V.editor.formatText(j,H,F)},M,j,0)}},{key:"getBounds",value:function(j){var H,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;H=typeof j=="number"?this.selection.getBounds(j,W):this.selection.getBounds(j.index,j.length);var N=this.container.getBoundingClientRect();return{bottom:H.bottom-N.top,height:H.height,left:H.left-N.left,right:H.right-N.left,top:H.top-N.top,width:H.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,W=B(j,H),N=E(W,2);return j=N[0],H=N[1],this.editor.getContents(j,H)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,H):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,H)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,W=B(j,H),N=E(W,2);return j=N[0],H=N[1],this.editor.getText(j,H)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,H,W){var N=this,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return O.call(this,function(){return N.editor.insertEmbed(j,H,W)},M,j)}},{key:"insertText",value:function(j,H,W,N,M){var F,V=this,L=B(j,0,W,N,M),U=E(L,4);return j=U[0],F=U[2],M=U[3],O.call(this,function(){return V.editor.insertText(j,H,F)},M,j,H.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,H,W){this.clipboard.dangerouslyPasteHTML(j,H,W)}},{key:"removeFormat",value:function(j,H,W){var N=this,M=B(j,H,W),F=E(M,4);return j=F[0],H=F[1],W=F[3],O.call(this,function(){return N.editor.removeFormat(j,H)},W,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var H=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.default.sources.API;return O.call(this,function(){j=new h.default(j);var N=H.getLength(),M=H.editor.deleteText(0,N),F=H.editor.applyDelta(j),V=F.ops[F.ops.length-1];return V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(H.editor.deleteText(H.getLength()-1,1),F.delete(1)),M.compose(F)},W)}},{key:"setSelection",value:function(j,H,W){if(j==null)this.selection.setRange(null,H||z.sources.API);else{var N=B(j,H,W),M=E(N,4);j=M[0],H=M[1],W=M[3],this.selection.setRange(new u.Range(j,H),W),W!==o.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.default.sources.API,W=new h.default().insert(j);return this.setContents(W,H)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.default.sources.USER,H=this.scroll.update(j);return this.selection.update(j),H}},{key:"updateContents",value:function(j){var H=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.default.sources.API;return O.call(this,function(){return j=new h.default(j),H.editor.applyDelta(j,W)},W,!0)}}]),z}();function A(z,j){if((j=(0,f.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},j)).theme&&j.theme!==i.DEFAULTS.theme){if(j.theme=i.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?")}else j.theme=p.default;var H=(0,f.default)(!0,{},j.theme.DEFAULTS);[H,j].forEach(function(N){N.modules=N.modules||{},Object.keys(N.modules).forEach(function(M){N.modules[M]===!0&&(N.modules[M]={})})});var W=Object.keys(H.modules).concat(Object.keys(j.modules)).reduce(function(N,M){var F=i.import("modules/"+M);return F==null?S.error("Cannot load "+M+" module. Are you sure you registered it?"):N[M]=F.DEFAULTS||{},N},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,f.default)(!0,{},i.DEFAULTS,{modules:W},H,j),["bounds","container","scrollingContainer"].forEach(function(N){typeof j[N]=="string"&&(j[N]=document.querySelector(j[N]))}),j.modules=Object.keys(j.modules).reduce(function(N,M){return j.modules[M]&&(N[M]=j.modules[M]),N},{}),j}function O(z,j,H,W){if(this.options.strict&&!this.isEnabled()&&j===o.default.sources.USER)return new h.default;var N=H==null?null:this.getSelection(),M=this.editor.delta,F=z();if(N!=null&&(H===!0&&(H=N.index),W==null?N=q(N,F,j):W!==0&&(N=q(N,H,W,j)),this.setSelection(N,o.default.sources.SILENT)),F.length()>0){var V,L,U=[o.default.events.TEXT_CHANGE,F,M,j];(V=this.emitter).emit.apply(V,[o.default.events.EDITOR_CHANGE].concat(U)),j!==o.default.sources.SILENT&&(L=this.emitter).emit.apply(L,U)}return F}function B(z,j,H,W,N){var M={};return typeof z.index=="number"&&typeof z.length=="number"?typeof j!="number"?(N=W,W=H,H=j,j=z.length,z=z.index):(j=z.length,z=z.index):typeof j!="number"&&(N=W,W=H,H=j,j=0),(H===void 0?"undefined":w(H))==="object"?(M=H,N=W):typeof H=="string"&&(W!=null?M[H]=W:N=H),[z,j,M,N=N||o.default.sources.API]}function q(z,j,H,W){if(z==null)return null;var N=void 0,M=void 0;if(j instanceof h.default){var F=[z.index,z.index+z.length].map(function(Z){return j.transformPosition(Z,W!==o.default.sources.USER)}),V=E(F,2);N=V[0],M=V[1]}else{var L=[z.index,z.index+z.length].map(function(Z){return Z<j||Z===j&&W===o.default.sources.USER?Z:H>=0?Z+H:Math.max(j,Z+H)}),U=E(L,2);N=U[0],M=U[1]}return new u.Range(N,M-N)}i.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},i.events=o.default.events,i.sources=o.default.sources,i.version="1.3.7",i.imports={delta:h.default,parchment:a.default,"core/module":n.default,"core/theme":p.default},y.expandConfig=A,y.overload=B,y.default=i},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function n(a,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,u,c){return u&&n(a.prototype,u),c&&n(a,c),a}}(),E=function n(a,u,c){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,u);if(f===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:n(x,u,c)}if("value"in f)return f.value;var p=f.get;return p!==void 0?p.call(c):void 0},g=l(b(7)),h=l(b(0));function l(n){return n&&n.__esModule?n:{default:n}}var o=function(n){function a(){return function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(a,n),w(a,[{key:"formatAt",value:function(u,c,f,x){if(a.compare(this.statics.blotName,f)<0&&h.default.query(f,h.default.Scope.BLOT)){var p=this.isolate(u,c);x&&p.wrap(f,x)}else E(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"formatAt",this).call(this,u,c,f,x)}},{key:"optimize",value:function(u){if(E(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,u),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var c=this.parent.isolate(this.offset(),this.length());this.moveChildren(c),c.wrap(this)}}}],[{key:"compare",value:function(u,c){var f=a.order.indexOf(u),x=a.order.indexOf(c);return f>=0||x>=0?f-x:u===c?0:u<c?-1:1}}]),a}(h.default.Inline);o.allowedChildren=[o,h.default.Embed,g.default],o.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],y.default=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(g){function h(){return function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}(this,h),function(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?l:o}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(((w=b(0))&&w.__esModule?w:{default:w}).default.Text);y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function n(a,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,u,c){return u&&n(a.prototype,u),c&&n(a,c),a}}(),E=function n(a,u,c){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,u);if(f===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:n(x,u,c)}if("value"in f)return f.value;var p=f.get;return p!==void 0?p.call(c):void 0},g=h(b(54));function h(n){return n&&n.__esModule?n:{default:n}}var l=(0,h(b(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(n){document.addEventListener(n,function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(f){var x;f.__quill&&f.__quill.emitter&&(x=f.__quill.emitter).handleDOM.apply(x,u)})})});var o=function(n){function a(){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return u.listeners={},u.on("error",l.error),u}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(a,n),w(a,[{key:"emit",value:function(){l.log.apply(l,arguments),E(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),x=1;x<c;x++)f[x-1]=arguments[x];(this.listeners[u.type]||[]).forEach(function(p){var C=p.node,P=p.handler;(u.target===C||C.contains(u.target))&&P.apply(void 0,[u].concat(f))})}},{key:"listenDOM",value:function(u,c,f){this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push({node:c,handler:f})}}]),a}(g.default);o.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},o.sources={API:"api",SILENT:"silent",USER:"user"},y.default=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function E(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")})(this,E),this.quill=g,this.options=h};w.DEFAULTS={},y.default=w},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=["error","warn","log","info"],E="warn";function g(l){if(w.indexOf(l)<=w.indexOf(E)){for(var o,n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];(o=console)[l].apply(o,a)}}function h(l){return w.reduce(function(o,n){return o[n]=g.bind(console,n,l),o},{})}g.level=h.level=function(l){E=l},y.default=h},function(k,y,b){var w=Array.prototype.slice,E=b(52),g=b(53),h=k.exports=function(n,a,u){return u||(u={}),n===a||(n instanceof Date&&a instanceof Date?n.getTime()===a.getTime():!n||!a||typeof n!="object"&&typeof a!="object"?u.strict?n===a:n==a:function(c,f,x){var p,C;if(l(c)||l(f)||c.prototype!==f.prototype)return!1;if(g(c))return!!g(f)&&(c=w.call(c),f=w.call(f),h(c,f,x));if(o(c)){if(!o(f)||c.length!==f.length)return!1;for(p=0;p<c.length;p++)if(c[p]!==f[p])return!1;return!0}try{var P=E(c),S=E(f)}catch(i){return!1}if(P.length!=S.length)return!1;for(P.sort(),S.sort(),p=P.length-1;p>=0;p--)if(P[p]!=S[p])return!1;for(p=P.length-1;p>=0;p--)if(C=P[p],!h(c[C],f[C],x))return!1;return typeof c==typeof f}(n,a,u))};function l(n){return n==null}function o(n){return!(!n||typeof n!="object"||typeof n.length!="number"||typeof n.copy!="function"||typeof n.slice!="function"||n.length>0&&typeof n[0]!="number")}},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=b(1),E=function(){function g(h,l,o){o===void 0&&(o={}),this.attrName=h,this.keyName=l;var n=w.Scope.TYPE&w.Scope.ATTRIBUTE;o.scope!=null?this.scope=o.scope&w.Scope.LEVEL|n:this.scope=w.Scope.ATTRIBUTE,o.whitelist!=null&&(this.whitelist=o.whitelist)}return g.keys=function(h){return[].map.call(h.attributes,function(l){return l.name})},g.prototype.add=function(h,l){return!!this.canAdd(h,l)&&(h.setAttribute(this.keyName,l),!0)},g.prototype.canAdd=function(h,l){return w.query(h,w.Scope.BLOT&(this.scope|w.Scope.TYPE))!=null&&(this.whitelist==null||(typeof l=="string"?this.whitelist.indexOf(l.replace(/["']/g,""))>-1:this.whitelist.indexOf(l)>-1))},g.prototype.remove=function(h){h.removeAttribute(this.keyName)},g.prototype.value=function(h){var l=h.getAttribute(this.keyName);return this.canAdd(h,l)&&l?l:""},g}();y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.Code=void 0;var w=function(P,S){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(i,A){var O=[],B=!0,q=!1,z=void 0;try{for(var j,H=i[Symbol.iterator]();!(B=(j=H.next()).done)&&(O.push(j.value),!A||O.length!==A);B=!0);}catch(W){q=!0,z=W}finally{try{!B&&H.return&&H.return()}finally{if(q)throw z}}return O}(P,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function P(S,i){for(var A=0;A<i.length;A++){var O=i[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,i,A){return i&&P(S.prototype,i),A&&P(S,A),S}}(),g=function P(S,i,A){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,i);if(O===void 0){var B=Object.getPrototypeOf(S);return B===null?void 0:P(B,i,A)}if("value"in O)return O.value;var q=O.get;return q!==void 0?q.call(A):void 0},h=u(b(2)),l=u(b(0)),o=u(b(4)),n=u(b(6)),a=u(b(7));function u(P){return P&&P.__esModule?P:{default:P}}function c(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function f(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?P:S}function x(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var p=function(P){function S(){return c(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return x(S,P),S}(n.default);p.blotName="code",p.tagName="CODE";var C=function(P){function S(){return c(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return x(S,P),E(S,[{key:"delta",value:function(){var i=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(O,B){return O.insert(B).insert(`
`,i.formats())},new h.default)}},{key:"format",value:function(i,A){if(i!==this.statics.blotName||!A){var O=this.descendant(a.default,this.length()-1),B=w(O,1)[0];B!=null&&B.deleteAt(B.length()-1,1),g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,i,A)}}},{key:"formatAt",value:function(i,A,O,B){if(A!==0&&l.default.query(O,l.default.Scope.BLOCK)!=null&&(O!==this.statics.blotName||B!==this.statics.formats(this.domNode))){var q=this.newlineIndex(i);if(!(q<0||q>=i+A)){var z=this.newlineIndex(i,!0)+1,j=q-z+1,H=this.isolate(z,j),W=H.next;H.format(O,B),W instanceof S&&W.formatAt(0,i-z+A-j,O,B)}}}},{key:"insertAt",value:function(i,A,O){if(O==null){var B=this.descendant(a.default,i),q=w(B,2),z=q[0],j=q[1];z.insertAt(j,A)}}},{key:"length",value:function(){var i=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?i:i+1}},{key:"newlineIndex",value:function(i){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1])return this.domNode.textContent.slice(0,i).lastIndexOf(`
`);var A=this.domNode.textContent.slice(i).indexOf(`
`);return A>-1?i+A:-1}},{key:"optimize",value:function(i){this.domNode.textContent.endsWith(`
`)||this.appendChild(l.default.create("text",`
`)),g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,i);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(i),A.moveChildren(this),A.remove())}},{key:"replace",value:function(i){g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,i),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var O=l.default.find(A);O==null?A.parentNode.removeChild(A):O instanceof l.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(i){var A=g(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,i);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),S}(o.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",y.Code=p,y.default=C},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},E=function(O,B){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return function(q,z){var j=[],H=!0,W=!1,N=void 0;try{for(var M,F=q[Symbol.iterator]();!(H=(M=F.next()).done)&&(j.push(M.value),!z||j.length!==z);H=!0);}catch(V){W=!0,N=V}finally{try{!H&&F.return&&F.return()}finally{if(W)throw N}}return j}(O,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function O(B,q){for(var z=0;z<q.length;z++){var j=q[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(B,j.key,j)}}return function(B,q,z){return q&&O(B.prototype,q),z&&O(B,z),B}}(),h=P(b(2)),l=P(b(20)),o=P(b(0)),n=P(b(13)),a=P(b(24)),u=b(4),c=P(u),f=P(b(16)),x=P(b(21)),p=P(b(11)),C=P(b(3));function P(O){return O&&O.__esModule?O:{default:O}}var S=/^[ -~]*$/,i=function(){function O(B){(function(q,z){if(!(q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,O),this.scroll=B,this.delta=this.getDelta()}return g(O,[{key:"applyDelta",value:function(B){var q=this,z=!1;this.scroll.update();var j=this.scroll.length();return this.scroll.batchStart(),(B=function(H){return H.reduce(function(W,N){if(N.insert===1){var M=(0,x.default)(N.attributes);return delete M.image,W.insert({image:N.attributes.image},M)}if(N.attributes==null||N.attributes.list!==!0&&N.attributes.bullet!==!0||((N=(0,x.default)(N)).attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var F=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(F,N.attributes)}return W.push(N)},new h.default)}(B)).reduce(function(H,W){var N=W.retain||W.delete||W.insert.length||1,M=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var F=W.insert;F.endsWith(`
`)&&z&&(z=!1,F=F.slice(0,-1)),H>=j&&!F.endsWith(`
`)&&(z=!0),q.scroll.insertAt(H,F);var V=q.scroll.line(H),L=E(V,2),U=L[0],Z=L[1],ue=(0,C.default)({},(0,u.bubbleFormats)(U));if(U instanceof c.default){var fe=U.descendant(o.default.Leaf,Z),ne=E(fe,1)[0];ue=(0,C.default)(ue,(0,u.bubbleFormats)(ne))}M=l.default.attributes.diff(ue,M)||{}}else if(w(W.insert)==="object"){var G=Object.keys(W.insert)[0];if(G==null)return H;q.scroll.insertAt(H,G,W.insert[G])}j+=N}return Object.keys(M).forEach(function(J){q.scroll.formatAt(H,N,J,M[J])}),H+N},0),B.reduce(function(H,W){return typeof W.delete=="number"?(q.scroll.deleteAt(H,W.delete),H):H+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,q){return this.scroll.deleteAt(B,q),this.update(new h.default().retain(B).delete(q))}},{key:"formatLine",value:function(B,q){var z=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(j).forEach(function(H){if(z.scroll.whitelist==null||z.scroll.whitelist[H]){var W=z.scroll.lines(B,Math.max(q,1)),N=q;W.forEach(function(M){var F=M.length();if(M instanceof n.default){var V=B-M.offset(z.scroll),L=M.newlineIndex(V+N)-V+1;M.formatAt(V,L,H,j[H])}else M.format(H,j[H]);N-=F})}}),this.scroll.optimize(),this.update(new h.default().retain(B).retain(q,(0,x.default)(j)))}},{key:"formatText",value:function(B,q){var z=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(j).forEach(function(H){z.scroll.formatAt(B,q,H,j[H])}),this.update(new h.default().retain(B).retain(q,(0,x.default)(j)))}},{key:"getContents",value:function(B,q){return this.delta.slice(B,B+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,q){return B.concat(q.delta())},new h.default)}},{key:"getFormat",value:function(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],j=[];q===0?this.scroll.path(B).forEach(function(W){var N=E(W,1)[0];N instanceof c.default?z.push(N):N instanceof o.default.Leaf&&j.push(N)}):(z=this.scroll.lines(B,q),j=this.scroll.descendants(o.default.Leaf,B,q));var H=[z,j].map(function(W){if(W.length===0)return{};for(var N=(0,u.bubbleFormats)(W.shift());Object.keys(N).length>0;){var M=W.shift();if(M==null)return N;N=A((0,u.bubbleFormats)(M),N)}return N});return C.default.apply(C.default,H)}},{key:"getText",value:function(B,q){return this.getContents(B,q).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(B,q,z){return this.scroll.insertAt(B,q,z),this.update(new h.default().retain(B).insert(function(j,H,W){return H in j?Object.defineProperty(j,H,{value:W,enumerable:!0,configurable:!0,writable:!0}):j[H]=W,j}({},q,z)))}},{key:"insertText",value:function(B,q){var z=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,q),Object.keys(j).forEach(function(H){z.scroll.formatAt(B,q.length,H,j[H])}),this.update(new h.default().retain(B).insert(q,(0,x.default)(j)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName===c.default.blotName&&!(B.children.length>1)&&B.children.head instanceof f.default}},{key:"removeFormat",value:function(B,q){var z=this.getText(B,q),j=this.scroll.line(B+q),H=E(j,2),W=H[0],N=H[1],M=0,F=new h.default;W!=null&&(M=W instanceof n.default?W.newlineIndex(N)-N+1:W.length()-N,F=W.delta().slice(N,N+M-1).insert(`
`));var V=this.getContents(B,q+M).diff(new h.default().insert(z).concat(F)),L=new h.default().retain(B).concat(V);return this.applyDelta(L)}},{key:"update",value:function(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,j=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(S)&&o.default.find(q[0].target)){var H=o.default.find(q[0].target),W=(0,u.bubbleFormats)(H),N=H.offset(this.scroll),M=q[0].oldValue.replace(a.default.CONTENTS,""),F=new h.default().insert(M),V=new h.default().insert(H.value());B=new h.default().retain(N).concat(F.diff(V,z)).reduce(function(L,U){return U.insert?L.insert(U.insert,W):L.push(U)},new h.default),this.delta=j.compose(B)}else this.delta=this.getDelta(),B&&(0,p.default)(j.compose(B),this.delta)||(B=j.diff(this.delta,z));return B}}]),O}();function A(O,B){return Object.keys(B).reduce(function(q,z){return O[z]==null||(B[z]===O[z]?q[z]=B[z]:Array.isArray(B[z])?B[z].indexOf(O[z])<0&&(q[z]=B[z].concat([O[z]])):q[z]=[B[z],O[z]]),q},{})}y.default=i},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.Range=void 0;var w=function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return function(S,i){var A=[],O=!0,B=!1,q=void 0;try{for(var z,j=S[Symbol.iterator]();!(O=(z=j.next()).done)&&(A.push(z.value),!i||A.length!==i);O=!0);}catch(H){B=!0,q=H}finally{try{!O&&j.return&&j.return()}finally{if(B)throw q}}return A}(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function C(P,S){for(var i=0;i<S.length;i++){var A=S[i];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,S,i){return S&&C(P.prototype,S),i&&C(P,i),P}}(),g=n(b(0)),h=n(b(21)),l=n(b(11)),o=n(b(8));function n(C){return C&&C.__esModule?C:{default:C}}function a(C){if(Array.isArray(C)){for(var P=0,S=Array(C.length);P<C.length;P++)S[P]=C[P];return S}return Array.from(C)}function u(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}var c=(0,n(b(10)).default)("quill:selection"),f=function C(P){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;u(this,C),this.index=P,this.length=S},x=function(){function C(P,S){var i=this;u(this,C),this.emitter=S,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=g.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||setTimeout(i.update.bind(i,o.default.sources.USER),1)}),this.emitter.on(o.default.events.EDITOR_CHANGE,function(A,O){A===o.default.events.TEXT_CHANGE&&O.length()>0&&i.update(o.default.sources.SILENT)}),this.emitter.on(o.default.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var A=i.getNativeRange();A!=null&&A.start.node!==i.cursor.textNode&&i.emitter.once(o.default.events.SCROLL_UPDATE,function(){try{i.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch(O){}})}}),this.emitter.on(o.default.events.SCROLL_OPTIMIZE,function(A,O){if(O.range){var B=O.range,q=B.startNode,z=B.startOffset,j=B.endNode,H=B.endOffset;i.setNativeRange(q,z,j,H)}}),this.update(o.default.sources.SILENT)}return E(C,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var S=P.cursor.restore();if(!S)return;setTimeout(function(){P.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(o.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,S){if(this.scroll.whitelist==null||this.scroll.whitelist[P]){this.scroll.update();var i=this.getNativeRange();if(i!=null&&i.native.collapsed&&!g.default.query(P,g.default.Scope.BLOCK)){if(i.start.node!==this.cursor.textNode){var A=g.default.find(i.start.node,!1);if(A==null)return;if(A instanceof g.default.Leaf){var O=A.split(i.start.offset);A.parent.insertBefore(this.cursor,O)}else A.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(P,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.scroll.length();P=Math.min(P,i-1),S=Math.min(P+S,i-1)-P;var A=void 0,O=this.scroll.leaf(P),B=w(O,2),q=B[0],z=B[1];if(q==null)return null;var j=q.position(z,!0),H=w(j,2);A=H[0],z=H[1];var W=document.createRange();if(S>0){W.setStart(A,z);var N=this.scroll.leaf(P+S),M=w(N,2);if(q=M[0],z=M[1],q==null)return null;var F=q.position(z,!0),V=w(F,2);return A=V[0],z=V[1],W.setEnd(A,z),W.getBoundingClientRect()}var L="left",U=void 0;return A instanceof Text?(z<A.data.length?(W.setStart(A,z),W.setEnd(A,z+1)):(W.setStart(A,z-1),W.setEnd(A,z),L="right"),U=W.getBoundingClientRect()):(U=q.domNode.getBoundingClientRect(),z>0&&(L="right")),{bottom:U.top+U.height,height:U.height,left:U[L],right:U[L],top:U.top,width:0}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var S=P.getRangeAt(0);if(S==null)return null;var i=this.normalizeNative(S);return c.info("getNativeRange",i),i}},{key:"getRange",value:function(){var P=this.getNativeRange();return P==null?[null,null]:[this.normalizedToRange(P),P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var S=this,i=[[P.start.node,P.start.offset]];P.native.collapsed||i.push([P.end.node,P.end.offset]);var A=i.map(function(q){var z=w(q,2),j=z[0],H=z[1],W=g.default.find(j,!0),N=W.offset(S.scroll);return H===0?N:W instanceof g.default.Container?N+W.length():N+W.index(j,H)}),O=Math.min(Math.max.apply(Math,a(A)),this.scroll.length()-1),B=Math.min.apply(Math,[O].concat(a(A)));return new f(B,O-B)}},{key:"normalizeNative",value:function(P){if(!p(this.root,P.startContainer)||!P.collapsed&&!p(this.root,P.endContainer))return null;var S={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[S.start,S.end].forEach(function(i){for(var A=i.node,O=i.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>O)A=A.childNodes[O],O=0;else{if(A.childNodes.length!==O)break;O=(A=A.lastChild)instanceof Text?A.data.length:A.childNodes.length+1}i.node=A,i.offset=O}),S}},{key:"rangeToNative",value:function(P){var S=this,i=P.collapsed?[P.index]:[P.index,P.index+P.length],A=[],O=this.scroll.length();return i.forEach(function(B,q){B=Math.min(O-1,B);var z,j=S.scroll.leaf(B),H=w(j,2),W=H[0],N=H[1],M=W.position(N,q!==0),F=w(M,2);z=F[0],N=F[1],A.push(z,N)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(P){var S=this.lastRange;if(S!=null){var i=this.getBounds(S.index,S.length);if(i!=null){var A=this.scroll.length()-1,O=this.scroll.line(Math.min(S.index,A)),B=w(O,1)[0],q=B;if(S.length>0){var z=this.scroll.line(Math.min(S.index+S.length,A));q=w(z,1)[0]}if(B!=null&&q!=null){var j=P.getBoundingClientRect();i.top<j.top?P.scrollTop-=j.top-i.top:i.bottom>j.bottom&&(P.scrollTop+=i.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(P,S){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,O=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(c.info("setNativeRange",P,S,i,A),P==null||this.root.parentNode!=null&&P.parentNode!=null&&i.parentNode!=null){var B=document.getSelection();if(B!=null)if(P!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||O||P!==q.startContainer||S!==q.startOffset||i!==q.endContainer||A!==q.endOffset){P.tagName=="BR"&&(S=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),i.tagName=="BR"&&(A=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode);var z=document.createRange();z.setStart(P,S),z.setEnd(i,A),B.removeAllRanges(),B.addRange(z)}}else B.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof S=="string"&&(i=S,S=!1),c.info("setRange",P),P!=null){var A=this.rangeToNative(P);this.setNativeRange.apply(this,a(A).concat([S]))}else this.setNativeRange(null);this.update(i)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.default.sources.USER,S=this.lastRange,i=this.getRange(),A=w(i,2),O=A[0],B=A[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,l.default)(S,this.lastRange)){var q;!this.composing&&B!=null&&B.native.collapsed&&B.start.node!==this.cursor.textNode&&this.cursor.restore();var z,j=[o.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(S),P];(q=this.emitter).emit.apply(q,[o.default.events.EDITOR_CHANGE].concat(j)),P!==o.default.sources.SILENT&&(z=this.emitter).emit.apply(z,j)}}}]),C}();function p(C,P){try{P.parentNode}catch(S){return!1}return P instanceof Text&&(P=P.parentNode),C.contains(P)}y.Range=f,y.default=x},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),g=function l(o,n,a){o===null&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,n);if(u===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:l(c,n,a)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(a):void 0},h=function(l){function o(){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,o),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}(o,l),E(o,[{key:"insertInto",value:function(n,a){n.children.length===0?g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"insertInto",this).call(this,n,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),o}(((w=b(0))&&w.__esModule?w:{default:w}).default.Embed);h.blotName="break",h.tagName="BR",y.default=h},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])},function(a,u){function c(){this.constructor=a}w(a,u),a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(44),h=b(30),l=b(1),o=function(a){function u(c){var f=a.call(this,c)||this;return f.build(),f}return E(u,a),u.prototype.appendChild=function(c){this.insertBefore(c)},u.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(c){c.attach()})},u.prototype.build=function(){var c=this;this.children=new g.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var x=n(f);c.insertBefore(x,c.children.head||void 0)}catch(p){if(p instanceof l.ParchmentError)return;throw p}})},u.prototype.deleteAt=function(c,f){if(c===0&&f===this.length())return this.remove();this.children.forEachAt(c,f,function(x,p,C){x.deleteAt(p,C)})},u.prototype.descendant=function(c,f){var x=this.children.find(f),p=x[0],C=x[1];return c.blotName==null&&c(p)||c.blotName!=null&&p instanceof c?[p,C]:p instanceof u?p.descendant(c,C):[null,-1]},u.prototype.descendants=function(c,f,x){f===void 0&&(f=0),x===void 0&&(x=Number.MAX_VALUE);var p=[],C=x;return this.children.forEachAt(f,x,function(P,S,i){(c.blotName==null&&c(P)||c.blotName!=null&&P instanceof c)&&p.push(P),P instanceof u&&(p=p.concat(P.descendants(c,S,C))),C-=i}),p},u.prototype.detach=function(){this.children.forEach(function(c){c.detach()}),a.prototype.detach.call(this)},u.prototype.formatAt=function(c,f,x,p){this.children.forEachAt(c,f,function(C,P,S){C.formatAt(P,S,x,p)})},u.prototype.insertAt=function(c,f,x){var p=this.children.find(c),C=p[0],P=p[1];if(C)C.insertAt(P,f,x);else{var S=x==null?l.create("text",f):l.create(f,x);this.appendChild(S)}},u.prototype.insertBefore=function(c,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return c instanceof x}))throw new l.ParchmentError("Cannot insert "+c.statics.blotName+" into "+this.statics.blotName);c.insertInto(this,f)},u.prototype.length=function(){return this.children.reduce(function(c,f){return c+f.length()},0)},u.prototype.moveChildren=function(c,f){this.children.forEach(function(x){c.insertBefore(x,f)})},u.prototype.optimize=function(c){if(a.prototype.optimize.call(this,c),this.children.length===0)if(this.statics.defaultChild!=null){var f=l.create(this.statics.defaultChild);this.appendChild(f),f.optimize(c)}else this.remove()},u.prototype.path=function(c,f){f===void 0&&(f=!1);var x=this.children.find(c,f),p=x[0],C=x[1],P=[[this,c]];return p instanceof u?P.concat(p.path(C,f)):(p!=null&&P.push([p,C]),P)},u.prototype.removeChild=function(c){this.children.remove(c)},u.prototype.replace=function(c){c instanceof u&&c.moveChildren(this),a.prototype.replace.call(this,c)},u.prototype.split=function(c,f){if(f===void 0&&(f=!1),!f){if(c===0)return this;if(c===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(c,this.length(),function(p,C,P){p=p.split(C,f),x.appendChild(p)}),x},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(c,f){var x=this,p=[],C=[];c.forEach(function(P){P.target===x.domNode&&P.type==="childList"&&(p.push.apply(p,P.addedNodes),C.push.apply(C,P.removedNodes))}),C.forEach(function(P){if(!(P.parentNode!=null&&P.tagName!=="IFRAME"&&document.body.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var S=l.find(P);S!=null&&(S.domNode.parentNode!=null&&S.domNode.parentNode!==x.domNode||S.detach())}}),p.filter(function(P){return P.parentNode==x.domNode}).sort(function(P,S){return P===S?0:P.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(P){var S=null;P.nextSibling!=null&&(S=l.find(P.nextSibling));var i=n(P);i.next==S&&i.next!=null||(i.parent!=null&&i.parent.removeChild(x),x.insertBefore(i,S||void 0))})},u}(h.default);function n(a){var u=l.find(a);if(u==null)try{u=l.create(a)}catch(c){u=l.create(l.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(f){u.domNode.appendChild(f)}),a.parentNode&&a.parentNode.replaceChild(u.domNode,a),u.attach()}return u}y.default=o},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])},function(a,u){function c(){this.constructor=a}w(a,u),a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(12),h=b(31),l=b(17),o=b(1),n=function(a){function u(c){var f=a.call(this,c)||this;return f.attributes=new h.default(f.domNode),f}return E(u,a),u.formats=function(c){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?c.tagName.toLowerCase():void 0)},u.prototype.format=function(c,f){var x=o.query(c);x instanceof g.default?this.attributes.attribute(x,f):f&&(x==null||c===this.statics.blotName&&this.formats()[c]===f||this.replaceWith(c,f))},u.prototype.formats=function(){var c=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(c[this.statics.blotName]=f),c},u.prototype.replaceWith=function(c,f){var x=a.prototype.replaceWith.call(this,c,f);return this.attributes.copy(x),x},u.prototype.update=function(c,f){var x=this;a.prototype.update.call(this,c,f),c.some(function(p){return p.target===x.domNode&&p.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(c,f){var x=a.prototype.wrap.call(this,c,f);return x instanceof u&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},u}(l.default);y.default=n},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a])},function(o,n){function a(){this.constructor=o}w(o,n),o.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(30),h=b(1),l=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return E(n,o),n.value=function(a){return!0},n.prototype.index=function(a,u){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},n.prototype.position=function(a,u){var c=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(c+=1),[this.parent.domNode,c]},n.prototype.value=function(){var a;return(a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},n.scope=h.Scope.INLINE_BLOT,n}(g.default);y.default=l},function(k,y,b){var w=b(11),E=b(3),g={attributes:{compose:function(l,o,n){typeof l!="object"&&(l={}),typeof o!="object"&&(o={});var a=E(!0,{},o);for(var u in n||(a=Object.keys(a).reduce(function(c,f){return a[f]!=null&&(c[f]=a[f]),c},{})),l)l[u]!==void 0&&o[u]===void 0&&(a[u]=l[u]);return Object.keys(a).length>0?a:void 0},diff:function(l,o){typeof l!="object"&&(l={}),typeof o!="object"&&(o={});var n=Object.keys(l).concat(Object.keys(o)).reduce(function(a,u){return w(l[u],o[u])||(a[u]=o[u]===void 0?null:o[u]),a},{});return Object.keys(n).length>0?n:void 0},transform:function(l,o,n){if(typeof l!="object")return o;if(typeof o=="object"){if(!n)return o;var a=Object.keys(o).reduce(function(u,c){return l[c]===void 0&&(u[c]=o[c]),u},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(l){return new h(l)},length:function(l){return typeof l.delete=="number"?l.delete:typeof l.retain=="number"?l.retain:typeof l.insert=="string"?l.insert.length:1}};function h(l){this.ops=l,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(l){l||(l=1/0);var o=this.ops[this.index];if(o){var n=this.offset,a=g.length(o);if(l>=a-n?(l=a-n,this.index+=1,this.offset=0):this.offset+=l,typeof o.delete=="number")return{delete:l};var u={};return o.attributes&&(u.attributes=o.attributes),typeof o.retain=="number"?u.retain=l:typeof o.insert=="string"?u.insert=o.insert.substr(n,l):u.insert=o.insert,u}return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?g.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var l=this.offset,o=this.index,n=this.next(),a=this.ops.slice(this.index);return this.offset=l,this.index=o,[n].concat(a)}return[]},k.exports=g},function(k,y){var b=function(){"use strict";function w(a,u){return u!=null&&a instanceof u}var E,g,h;try{E=Map}catch(a){E=function(){}}try{g=Set}catch(a){g=function(){}}try{h=Promise}catch(a){h=function(){}}function l(a,u,c,f,x){typeof u=="object"&&(c=u.depth,f=u.prototype,x=u.includeNonEnumerable,u=u.circular);var p=[],C=[],P=typeof Dt!="undefined";return u===void 0&&(u=!0),c===void 0&&(c=1/0),function S(i,A){if(i===null)return null;if(A===0)return i;var O,B;if(typeof i!="object")return i;if(w(i,E))O=new E;else if(w(i,g))O=new g;else if(w(i,h))O=new h(function(V,L){i.then(function(U){V(S(U,A-1))},function(U){L(S(U,A-1))})});else if(l.__isArray(i))O=[];else if(l.__isRegExp(i))O=new RegExp(i.source,n(i)),i.lastIndex&&(O.lastIndex=i.lastIndex);else if(l.__isDate(i))O=new Date(i.getTime());else{if(P&&Dt.isBuffer(i))return O=Dt.allocUnsafe?Dt.allocUnsafe(i.length):new Dt(i.length),i.copy(O),O;w(i,Error)?O=Object.create(i):f===void 0?(B=Object.getPrototypeOf(i),O=Object.create(B)):(O=Object.create(f),B=f)}if(u){var q=p.indexOf(i);if(q!=-1)return C[q];p.push(i),C.push(O)}for(var z in w(i,E)&&i.forEach(function(V,L){var U=S(L,A-1),Z=S(V,A-1);O.set(U,Z)}),w(i,g)&&i.forEach(function(V){var L=S(V,A-1);O.add(L)}),i){var j;B&&(j=Object.getOwnPropertyDescriptor(B,z)),j&&j.set==null||(O[z]=S(i[z],A-1))}if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(i);for(z=0;z<H.length;z++){var W=H[z];(!(M=Object.getOwnPropertyDescriptor(i,W))||M.enumerable||x)&&(O[W]=S(i[W],A-1),M.enumerable||Object.defineProperty(O,W,{enumerable:!1}))}}if(x){var N=Object.getOwnPropertyNames(i);for(z=0;z<N.length;z++){var M,F=N[z];(M=Object.getOwnPropertyDescriptor(i,F))&&M.enumerable||(O[F]=S(i[F],A-1),Object.defineProperty(O,F,{enumerable:!1}))}}return O}(a,c)}function o(a){return Object.prototype.toString.call(a)}function n(a){var u="";return a.global&&(u+="g"),a.ignoreCase&&(u+="i"),a.multiline&&(u+="m"),u}return l.clonePrototype=function(a){if(a===null)return null;var u=function(){};return u.prototype=a,new u},l.__objToStr=o,l.__isDate=function(a){return typeof a=="object"&&o(a)==="[object Date]"},l.__isArray=function(a){return typeof a=="object"&&o(a)==="[object Array]"},l.__isRegExp=function(a){return typeof a=="object"&&o(a)==="[object RegExp]"},l.__getRegExpFlags=n,l}();typeof k=="object"&&k.exports&&(k.exports=b)},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return function(S,i){var A=[],O=!0,B=!1,q=void 0;try{for(var z,j=S[Symbol.iterator]();!(O=(z=j.next()).done)&&(A.push(z.value),!i||A.length!==i);O=!0);}catch(H){B=!0,q=H}finally{try{!O&&j.return&&j.return()}finally{if(B)throw q}}return A}(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function C(P,S){for(var i=0;i<S.length;i++){var A=S[i];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,S,i){return S&&C(P.prototype,S),i&&C(P,i),P}}(),g=function C(P,S,i){P===null&&(P=Function.prototype);var A=Object.getOwnPropertyDescriptor(P,S);if(A===void 0){var O=Object.getPrototypeOf(P);return O===null?void 0:C(O,S,i)}if("value"in A)return A.value;var B=A.get;return B!==void 0?B.call(i):void 0},h=f(b(0)),l=f(b(8)),o=b(4),n=f(o),a=f(b(16)),u=f(b(13)),c=f(b(25));function f(C){return C&&C.__esModule?C:{default:C}}function x(C){return C instanceof n.default||C instanceof o.BlockEmbed}var p=function(C){function P(S,i){(function(O,B){if(!(O instanceof B))throw new TypeError("Cannot call a class as a function")})(this,P);var A=function(O,B){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||typeof B!="object"&&typeof B!="function"?O:B}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,S));return A.emitter=i.emitter,Array.isArray(i.whitelist)&&(A.whitelist=i.whitelist.reduce(function(O,B){return O[B]=!0,O},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return function(S,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);S.prototype=Object.create(i&&i.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(S,i):S.__proto__=i)}(P,C),E(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(S,i){var A=this.line(S),O=w(A,2),B=O[0],q=O[1],z=this.line(S+i),j=w(z,1)[0];if(g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,S,i),j!=null&&B!==j&&q>0){if(B instanceof o.BlockEmbed||j instanceof o.BlockEmbed)return void this.optimize();if(B instanceof u.default){var H=B.newlineIndex(B.length(),!0);if(H>-1&&(B=B.split(H+1))===j)return void this.optimize()}else if(j instanceof u.default){var W=j.newlineIndex(0);W>-1&&j.split(W+1)}var N=j.children.head instanceof a.default?null:j.children.head;B.moveChildren(j,N),B.remove()}this.optimize()}},{key:"enable",value:function(){var S=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",S)}},{key:"formatAt",value:function(S,i,A,O){(this.whitelist==null||this.whitelist[A])&&(g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,S,i,A,O),this.optimize())}},{key:"insertAt",value:function(S,i,A){if(A==null||this.whitelist==null||this.whitelist[i]){if(S>=this.length())if(A==null||h.default.query(i,h.default.Scope.BLOCK)==null){var O=h.default.create(this.statics.defaultChild);this.appendChild(O),A==null&&i.endsWith(`
`)&&(i=i.slice(0,-1)),O.insertAt(0,i,A)}else{var B=h.default.create(i,A);this.appendChild(B)}else g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,S,i,A);this.optimize()}}},{key:"insertBefore",value:function(S,i){if(S.statics.scope===h.default.Scope.INLINE_BLOT){var A=h.default.create(this.statics.defaultChild);A.appendChild(S),S=A}g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,S,i)}},{key:"leaf",value:function(S){return this.path(S).pop()||[null,-1]}},{key:"line",value:function(S){return S===this.length()?this.line(S-1):this.descendant(x,S)}},{key:"lines",value:function(){return function S(i,A,O){var B=[],q=O;return i.children.forEachAt(A,O,function(z,j,H){x(z)?B.push(z):z instanceof h.default.Container&&(B=B.concat(S(z,j,q))),q-=H}),B}(this,arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S,i),S.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,S,i))}},{key:"path",value:function(S){return g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,S).slice(1)}},{key:"update",value:function(S){if(this.batch!==!0){var i=l.default.sources.USER;typeof S=="string"&&(i=S),Array.isArray(S)||(S=this.observer.takeRecords()),S.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,i,S),g(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,S.concat([])),S.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,i,S)}}}]),P}(h.default.Scroll);p.blotName="scroll",p.className="ql-editor",p.tagName="DIV",p.defaultChild="block",p.allowedChildren=[n.default,o.BlockEmbed,c.default],y.default=p},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.SHORTKEY=y.default=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},E=function(N,M){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(F,V){var L=[],U=!0,Z=!1,ue=void 0;try{for(var fe,ne=F[Symbol.iterator]();!(U=(fe=ne.next()).done)&&(L.push(fe.value),!V||L.length!==V);U=!0);}catch(G){Z=!0,ue=G}finally{try{!U&&ne.return&&ne.return()}finally{if(Z)throw ue}}return L}(N,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function N(M,F){for(var V=0;V<F.length;V++){var L=F[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,F,V){return F&&N(M.prototype,F),V&&N(M,V),M}}(),h=p(b(21)),l=p(b(11)),o=p(b(3)),n=p(b(2)),a=p(b(20)),u=p(b(0)),c=p(b(5)),f=p(b(10)),x=p(b(9));function p(N){return N&&N.__esModule?N:{default:N}}function C(N,M,F){return M in N?Object.defineProperty(N,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):N[M]=F,N}var P=(0,f.default)("quill:keyboard"),S=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",i=function(N){function M(F,V){(function(U,Z){if(!(U instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,M);var L=function(U,Z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||typeof Z!="object"&&typeof Z!="function"?U:Z}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,F,V));return L.bindings={},Object.keys(L.options.bindings).forEach(function(U){(U!=="list autofill"||F.scroll.whitelist==null||F.scroll.whitelist.list)&&L.options.bindings[U]&&L.addBinding(L.options.bindings[U])}),L.addBinding({key:M.keys.ENTER,shiftKey:null},z),L.addBinding({key:M.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(L.addBinding({key:M.keys.BACKSPACE},{collapsed:!0},O),L.addBinding({key:M.keys.DELETE},{collapsed:!0},B)):(L.addBinding({key:M.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},O),L.addBinding({key:M.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),L.addBinding({key:M.keys.BACKSPACE},{collapsed:!1},q),L.addBinding({key:M.keys.DELETE},{collapsed:!1},q),L.addBinding({key:M.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},O),L.listen(),L}return function(F,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);F.prototype=Object.create(V&&V.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(F,V):F.__proto__=V)}(M,N),g(M,null,[{key:"match",value:function(F,V){return V=W(V),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(L){return!!V[L]!==F[L]&&V[L]!==null})&&V.key===(F.which||F.keyCode)}}]),g(M,[{key:"addBinding",value:function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=W(F);if(U==null||U.key==null)return P.warn("Attempted to add invalid keyboard binding",U);typeof V=="function"&&(V={handler:V}),typeof L=="function"&&(L={handler:L}),U=(0,o.default)(U,V,L),this.bindings[U.key]=this.bindings[U.key]||[],this.bindings[U.key].push(U)}},{key:"listen",value:function(){var F=this;this.quill.root.addEventListener("keydown",function(V){if(!V.defaultPrevented){var L=V.which||V.keyCode,U=(F.bindings[L]||[]).filter(function(Se){return M.match(V,Se)});if(U.length!==0){var Z=F.quill.getSelection();if(Z!=null&&F.quill.hasFocus()){var ue=F.quill.getLine(Z.index),fe=E(ue,2),ne=fe[0],G=fe[1],J=F.quill.getLeaf(Z.index),le=E(J,2),de=le[0],se=le[1],ke=Z.length===0?[de,se]:F.quill.getLeaf(Z.index+Z.length),xe=E(ke,2),De=xe[0],ye=xe[1],Be=de instanceof u.default.Text?de.value().slice(0,se):"",He=De instanceof u.default.Text?De.value().slice(ye):"",Te={collapsed:Z.length===0,empty:Z.length===0&&ne.length()<=1,format:F.quill.getFormat(Z),offset:G,prefix:Be,suffix:He};U.some(function(Se){if(Se.collapsed!=null&&Se.collapsed!==Te.collapsed||Se.empty!=null&&Se.empty!==Te.empty||Se.offset!=null&&Se.offset!==Te.offset)return!1;if(Array.isArray(Se.format)){if(Se.format.every(function(Me){return Te.format[Me]==null}))return!1}else if(w(Se.format)==="object"&&!Object.keys(Se.format).every(function(Me){return Se.format[Me]===!0?Te.format[Me]!=null:Se.format[Me]===!1?Te.format[Me]==null:(0,l.default)(Se.format[Me],Te.format[Me])}))return!1;return!(Se.prefix!=null&&!Se.prefix.test(Te.prefix)||Se.suffix!=null&&!Se.suffix.test(Te.suffix)||Se.handler.call(F,Z,Te)===!0)})&&V.preventDefault()}}}})}}]),M}(x.default);function A(N,M){var F,V=N===i.keys.LEFT?"prefix":"suffix";return C(F={key:N,shiftKey:M,altKey:null},V,/^$/),C(F,"handler",function(L){var U=L.index;N===i.keys.RIGHT&&(U+=L.length+1);var Z=this.quill.getLeaf(U);return!(E(Z,1)[0]instanceof u.default.Embed&&(N===i.keys.LEFT?M?this.quill.setSelection(L.index-1,L.length+1,c.default.sources.USER):this.quill.setSelection(L.index-1,c.default.sources.USER):M?this.quill.setSelection(L.index,L.length+1,c.default.sources.USER):this.quill.setSelection(L.index+L.length+1,c.default.sources.USER),1))}),F}function O(N,M){if(!(N.index===0||this.quill.getLength()<=1)){var F=this.quill.getLine(N.index),V=E(F,1)[0],L={};if(M.offset===0){var U=this.quill.getLine(N.index-1),Z=E(U,1)[0];if(Z!=null&&Z.length()>1){var ue=V.formats(),fe=this.quill.getFormat(N.index-1,1);L=a.default.attributes.diff(ue,fe)||{}}}var ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;this.quill.deleteText(N.index-ne,ne,c.default.sources.USER),Object.keys(L).length>0&&this.quill.formatLine(N.index-ne,ne,L,c.default.sources.USER),this.quill.focus()}}function B(N,M){var F=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(!(N.index>=this.quill.getLength()-F)){var V={},L=0,U=this.quill.getLine(N.index),Z=E(U,1)[0];if(M.offset>=Z.length()-1){var ue=this.quill.getLine(N.index+1),fe=E(ue,1)[0];if(fe){var ne=Z.formats(),G=this.quill.getFormat(N.index,1);V=a.default.attributes.diff(ne,G)||{},L=fe.length()}}this.quill.deleteText(N.index,F,c.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(N.index+L-1,F,V,c.default.sources.USER)}}function q(N){var M=this.quill.getLines(N),F={};if(M.length>1){var V=M[0].formats(),L=M[M.length-1].formats();F=a.default.attributes.diff(L,V)||{}}this.quill.deleteText(N,c.default.sources.USER),Object.keys(F).length>0&&this.quill.formatLine(N.index,1,F,c.default.sources.USER),this.quill.setSelection(N.index,c.default.sources.SILENT),this.quill.focus()}function z(N,M){var F=this;N.length>0&&this.quill.scroll.deleteAt(N.index,N.length);var V=Object.keys(M.format).reduce(function(L,U){return u.default.query(U,u.default.Scope.BLOCK)&&!Array.isArray(M.format[U])&&(L[U]=M.format[U]),L},{});this.quill.insertText(N.index,`
`,V,c.default.sources.USER),this.quill.setSelection(N.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(M.format).forEach(function(L){V[L]==null&&(Array.isArray(M.format[L])||L!=="link"&&F.quill.format(L,M.format[L],c.default.sources.USER))})}function j(N){return{key:i.keys.TAB,shiftKey:!N,format:{"code-block":!0},handler:function(M){var F=u.default.query("code-block"),V=M.index,L=M.length,U=this.quill.scroll.descendant(F,V),Z=E(U,2),ue=Z[0],fe=Z[1];if(ue!=null){var ne=this.quill.getIndex(ue),G=ue.newlineIndex(fe,!0)+1,J=ue.newlineIndex(ne+fe+L),le=ue.domNode.textContent.slice(G,J).split(`
`);fe=0,le.forEach(function(de,se){N?(ue.insertAt(G+fe,F.TAB),fe+=F.TAB.length,se===0?V+=F.TAB.length:L+=F.TAB.length):de.startsWith(F.TAB)&&(ue.deleteAt(G+fe,F.TAB.length),fe-=F.TAB.length,se===0?V-=F.TAB.length:L-=F.TAB.length),fe+=de.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(V,L,c.default.sources.SILENT)}}}}function H(N){return{key:N[0].toUpperCase(),shortKey:!0,handler:function(M,F){this.quill.format(N,!F.format[N],c.default.sources.USER)}}}function W(N){if(typeof N=="string"||typeof N=="number")return W({key:N});if((N===void 0?"undefined":w(N))==="object"&&(N=(0,h.default)(N,!1)),typeof N.key=="string")if(i.keys[N.key.toUpperCase()]!=null)N.key=i.keys[N.key.toUpperCase()];else{if(N.key.length!==1)return null;N.key=N.key.toUpperCase().charCodeAt(0)}return N.shortKey&&(N[S]=N.shortKey,delete N.shortKey),N}i.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},i.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:i.keys.TAB,format:["blockquote","indent","list"],handler:function(N,M){if(M.collapsed&&M.offset!==0)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:i.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(N,M){if(M.collapsed&&M.offset!==0)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:i.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(N,M){M.format.indent!=null?this.quill.format("indent","-1",c.default.sources.USER):M.format.list!=null&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":j(!0),"outdent code-block":j(!1),"remove tab":{key:i.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(N){this.quill.deleteText(N.index-1,1,c.default.sources.USER)}},tab:{key:i.keys.TAB,handler:function(N){this.quill.history.cutoff();var M=new n.default().retain(N.index).delete(N.length).insert("	");this.quill.updateContents(M,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(N.index+1,c.default.sources.SILENT)}},"list empty enter":{key:i.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(N,M){this.quill.format("list",!1,c.default.sources.USER),M.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:i.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(N){var M=this.quill.getLine(N.index),F=E(M,2),V=F[0],L=F[1],U=(0,o.default)({},V.formats(),{list:"checked"}),Z=new n.default().retain(N.index).insert(`
`,U).retain(V.length()-L-1).retain(1,{list:"unchecked"});this.quill.updateContents(Z,c.default.sources.USER),this.quill.setSelection(N.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:i.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(N,M){var F=this.quill.getLine(N.index),V=E(F,2),L=V[0],U=V[1],Z=new n.default().retain(N.index).insert(`
`,M.format).retain(L.length()-U-1).retain(1,{header:null});this.quill.updateContents(Z,c.default.sources.USER),this.quill.setSelection(N.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(N,M){var F=M.prefix.length,V=this.quill.getLine(N.index),L=E(V,2),U=L[0],Z=L[1];if(Z>F)return!0;var ue=void 0;switch(M.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(N.index," ",c.default.sources.USER),this.quill.history.cutoff();var fe=new n.default().retain(N.index-Z).delete(F+1).retain(U.length()-2-Z).retain(1,{list:ue});this.quill.updateContents(fe,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(N.index-F,c.default.sources.SILENT)}},"code exit":{key:i.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(N){var M=this.quill.getLine(N.index),F=E(M,2),V=F[0],L=F[1],U=new n.default().retain(N.index+V.length()-L-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(U,c.default.sources.USER)}},"embed left":A(i.keys.LEFT,!1),"embed left shift":A(i.keys.LEFT,!0),"embed right":A(i.keys.RIGHT,!1),"embed right shift":A(i.keys.RIGHT,!0)}},y.default=i,y.SHORTKEY=S},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function n(a,u,c){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,u);if(f===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:n(x,u,c)}if("value"in f)return f.value;var p=f.get;return p!==void 0?p.call(c):void 0},E=function(){function n(a,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,u,c){return u&&n(a.prototype,u),c&&n(a,c),a}}(),g=l(b(0)),h=l(b(7));function l(n){return n&&n.__esModule?n:{default:n}}var o=function(n){function a(u,c){(function(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")})(this,a);var f=function(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?x:p}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,u));return f.selection=c,f.textNode=document.createTextNode(a.CONTENTS),f.domNode.appendChild(f.textNode),f._length=0,f}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(a,n),E(a,null,[{key:"value",value:function(){}}]),E(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(u,c){if(this._length!==0)return w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,u,c);for(var f=this,x=0;f!=null&&f.statics.scope!==g.default.Scope.BLOCK_BLOT;)x+=f.offset(f.parent),f=f.parent;f!=null&&(this._length=a.CONTENTS.length,f.optimize(),f.formatAt(x,a.CONTENTS.length,u,c),this._length=0)}},{key:"index",value:function(u,c){return u===this.textNode?0:w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,u,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var u=this.textNode,c=this.selection.getNativeRange(),f=void 0,x=void 0,p=void 0;if(c!=null&&c.start.node===u&&c.end.node===u){var C=[u,c.start.offset,c.end.offset];f=C[0],x=C[1],p=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var P=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof h.default?(f=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=a.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(g.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var S=function(i,A){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return function(O,B){var q=[],z=!0,j=!1,H=void 0;try{for(var W,N=O[Symbol.iterator]();!(z=(W=N.next()).done)&&(q.push(W.value),!B||q.length!==B);z=!0);}catch(M){j=!0,H=M}finally{try{!z&&N.return&&N.return()}finally{if(j)throw H}}return q}(i,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([x,p].map(function(i){return Math.max(0,Math.min(f.data.length,i-1))}),2);return x=S[0],p=S[1],{startNode:f,startOffset:x,endNode:f,endOffset:p}}}}},{key:"update",value:function(u,c){var f=this;if(u.some(function(p){return p.type==="characterData"&&p.target===f.textNode})){var x=this.restore();x&&(c.range=x)}}},{key:"value",value:function(){return""}}]),a}(g.default.Embed);o.blotName="cursor",o.className="ql-cursor",o.tagName="span",o.CONTENTS="\uFEFF",y.default=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=h(b(0)),E=b(4),g=h(E);function h(o){return o&&o.__esModule?o:{default:o}}var l=function(o){function n(){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,n),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(a,u):a.__proto__=u)}(n,o),n}(w.default.Container);l.allowedChildren=[g.default,E.BlockEmbed,l],y.default=l},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.ColorStyle=y.ColorClass=y.ColorAttributor=void 0;var w,E=function(){function a(u,c){for(var f=0;f<c.length;f++){var x=c[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}return function(u,c,f){return c&&a(u.prototype,c),f&&a(u,f),u}}(),g=function a(u,c,f){u===null&&(u=Function.prototype);var x=Object.getOwnPropertyDescriptor(u,c);if(x===void 0){var p=Object.getPrototypeOf(u);return p===null?void 0:a(p,c,f)}if("value"in x)return x.value;var C=x.get;return C!==void 0?C.call(f):void 0},h=(w=b(0))&&w.__esModule?w:{default:w},l=function(a){function u(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,a),E(u,[{key:"value",value:function(c){var f=g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"value",this).call(this,c);return f.startsWith("rgb(")?"#"+(f=f.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join(""):f}}]),u}(h.default.Attributor.Style),o=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),n=new l("color","color",{scope:h.default.Scope.INLINE});y.ColorAttributor=l,y.ColorClass=o,y.ColorStyle=n},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.sanitize=y.default=void 0;var w,E=function(){function o(n,a){for(var u=0;u<a.length;u++){var c=a[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,a,u){return a&&o(n.prototype,a),u&&o(n,u),n}}(),g=function o(n,a,u){n===null&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,a);if(c===void 0){var f=Object.getPrototypeOf(n);return f===null?void 0:o(f,a,u)}if("value"in c)return c.value;var x=c.get;return x!==void 0?x.call(u):void 0},h=function(o){function n(){return function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}(this,n),function(a,u){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?a:u}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(a,u):a.__proto__=u)}(n,o),E(n,[{key:"format",value:function(a,u){if(a!==this.statics.blotName||!u)return g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,a,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(a){var u=g(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,a);return a=this.sanitize(a),u.setAttribute("href",a),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(a){return a.getAttribute("href")}},{key:"sanitize",value:function(a){return l(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}}]),n}(((w=b(6))&&w.__esModule?w:{default:w}).default);function l(o,n){var a=document.createElement("a");a.href=o;var u=a.href.slice(0,a.href.indexOf(":"));return n.indexOf(u)>-1}h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"],y.default=h,y.sanitize=l},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},E=function(){function u(c,f){for(var x=0;x<f.length;x++){var p=f[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,x){return f&&u(c.prototype,f),x&&u(c,x),c}}(),g=l(b(23)),h=l(b(107));function l(u){return u&&u.__esModule?u:{default:u}}var o=0;function n(u,c){u.setAttribute(c,u.getAttribute(c)!=="true")}var a=function(){function u(c){var f=this;(function(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u),this.select=c,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case g.default.keys.ENTER:f.togglePicker();break;case g.default.keys.ESCAPE:f.escape(),x.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return E(u,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),n(this.label,"aria-expanded"),n(this.options,"aria-hidden")}},{key:"buildItem",value:function(c){var f=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),c.hasAttribute("value")&&x.setAttribute("data-value",c.getAttribute("value")),c.textContent&&x.setAttribute("data-label",c.textContent),x.addEventListener("click",function(){f.selectItem(x,!0)}),x.addEventListener("keydown",function(p){switch(p.keyCode){case g.default.keys.ENTER:f.selectItem(x,!0),p.preventDefault();break;case g.default.keys.ESCAPE:f.escape(),p.preventDefault()}}),x}},{key:"buildLabel",value:function(){var c=document.createElement("span");return c.classList.add("ql-picker-label"),c.innerHTML=h.default,c.tabIndex="0",c.setAttribute("role","button"),c.setAttribute("aria-expanded","false"),this.container.appendChild(c),c}},{key:"buildOptions",value:function(){var c=this,f=document.createElement("span");f.classList.add("ql-picker-options"),f.setAttribute("aria-hidden","true"),f.tabIndex="-1",f.id="ql-picker-options-"+o,o+=1,this.label.setAttribute("aria-controls",f.id),this.options=f,[].slice.call(this.select.options).forEach(function(x){var p=c.buildItem(x);f.appendChild(p),x.selected===!0&&c.selectItem(p)}),this.container.appendChild(f)}},{key:"buildPicker",value:function(){var c=this;[].slice.call(this.select.attributes).forEach(function(f){c.container.setAttribute(f.name,f.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var c=this;this.close(),setTimeout(function(){return c.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=this.container.querySelector(".ql-selected");if(c!==x&&(x!=null&&x.classList.remove("ql-selected"),c!=null&&(c.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(c.parentNode.children,c),c.hasAttribute("data-value")?this.label.setAttribute("data-value",c.getAttribute("data-value")):this.label.removeAttribute("data-value"),c.hasAttribute("data-label")?this.label.setAttribute("data-label",c.getAttribute("data-label")):this.label.removeAttribute("data-label"),f))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":w(Event))==="object"){var p=document.createEvent("Event");p.initEvent("change",!0,!0),this.select.dispatchEvent(p)}this.close()}}},{key:"update",value:function(){var c=void 0;if(this.select.selectedIndex>-1){var f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];c=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);var x=c!=null&&c!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),u}();y.default=a},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=P(b(0)),E=P(b(5)),g=b(4),h=P(g),l=P(b(16)),o=P(b(25)),n=P(b(24)),a=P(b(35)),u=P(b(6)),c=P(b(22)),f=P(b(7)),x=P(b(55)),p=P(b(42)),C=P(b(23));function P(S){return S&&S.__esModule?S:{default:S}}E.default.register({"blots/block":h.default,"blots/block/embed":g.BlockEmbed,"blots/break":l.default,"blots/container":o.default,"blots/cursor":n.default,"blots/embed":a.default,"blots/inline":u.default,"blots/scroll":c.default,"blots/text":f.default,"modules/clipboard":x.default,"modules/history":p.default,"modules/keyboard":C.default}),w.default.register(h.default,l.default,n.default,u.default,c.default,f.default),y.default=E.default},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=b(1),E=function(){function g(h){this.domNode=h,this.domNode[w.DATA_KEY]={blot:this}}return Object.defineProperty(g.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),g.create=function(h){if(this.tagName==null)throw new w.ParchmentError("Blot definition missing tagName");var l;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),l=typeof h=="number"?document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?document.createElement(h):document.createElement(this.tagName[0])):l=document.createElement(this.tagName),this.className&&l.classList.add(this.className),l},g.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},g.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return w.create(h)},g.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[w.DATA_KEY]},g.prototype.deleteAt=function(h,l){this.isolate(h,l).remove()},g.prototype.formatAt=function(h,l,o,n){var a=this.isolate(h,l);if(w.query(o,w.Scope.BLOT)!=null&&n)a.wrap(o,n);else if(w.query(o,w.Scope.ATTRIBUTE)!=null){var u=w.create(this.statics.scope);a.wrap(u),u.format(o,n)}},g.prototype.insertAt=function(h,l,o){var n=o==null?w.create("text",l):w.create(l,o),a=this.split(h);this.parent.insertBefore(n,a)},g.prototype.insertInto=function(h,l){l===void 0&&(l=null),this.parent!=null&&this.parent.children.remove(this);var o=null;h.children.insertBefore(this,l),l!=null&&(o=l.domNode),this.domNode.parentNode==h.domNode&&this.domNode.nextSibling==o||h.domNode.insertBefore(this.domNode,o),this.parent=h,this.attach()},g.prototype.isolate=function(h,l){var o=this.split(h);return o.split(l),o},g.prototype.length=function(){return 1},g.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},g.prototype.optimize=function(h){this.domNode[w.DATA_KEY]!=null&&delete this.domNode[w.DATA_KEY].mutations},g.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},g.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},g.prototype.replaceWith=function(h,l){var o=typeof h=="string"?w.create(h,l):h;return o.replace(this),o},g.prototype.split=function(h,l){return h===0?this:this.next},g.prototype.update=function(h,l){},g.prototype.wrap=function(h,l){var o=typeof h=="string"?w.create(h,l):h;return this.parent!=null&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},g.blotName="abstract",g}();y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=b(12),E=b(32),g=b(33),h=b(1),l=function(){function o(n){this.attributes={},this.domNode=n,this.build()}return o.prototype.attribute=function(n,a){a?n.add(this.domNode,a)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])},o.prototype.build=function(){var n=this;this.attributes={};var a=w.default.keys(this.domNode),u=E.default.keys(this.domNode),c=g.default.keys(this.domNode);a.concat(u).concat(c).forEach(function(f){var x=h.query(f,h.Scope.ATTRIBUTE);x instanceof w.default&&(n.attributes[x.attrName]=x)})},o.prototype.copy=function(n){var a=this;Object.keys(this.attributes).forEach(function(u){var c=a.attributes[u].value(a.domNode);n.format(u,c)})},o.prototype.move=function(n){var a=this;this.copy(n),Object.keys(this.attributes).forEach(function(u){a.attributes[u].remove(a.domNode)}),this.attributes={}},o.prototype.values=function(){var n=this;return Object.keys(this.attributes).reduce(function(a,u){return a[u]=n.attributes[u].value(n.domNode),a},{})},o}();y.default=l},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var n in o)o.hasOwnProperty(n)&&(l[n]=o[n])},function(l,o){function n(){this.constructor=l}w(l,o),l.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)});function g(l,o){return(l.getAttribute("class")||"").split(/\s+/).filter(function(n){return n.indexOf(o+"-")===0})}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function o(){return l!==null&&l.apply(this,arguments)||this}return E(o,l),o.keys=function(n){return(n.getAttribute("class")||"").split(/\s+/).map(function(a){return a.split("-").slice(0,-1).join("-")})},o.prototype.add=function(n,a){return!!this.canAdd(n,a)&&(this.remove(n),n.classList.add(this.keyName+"-"+a),!0)},o.prototype.remove=function(n){g(n,this.keyName).forEach(function(a){n.classList.remove(a)}),n.classList.length===0&&n.removeAttribute("class")},o.prototype.value=function(n){var a=(g(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,a)?a:""},o}(b(12).default);y.default=h},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var n in o)o.hasOwnProperty(n)&&(l[n]=o[n])},function(l,o){function n(){this.constructor=l}w(l,o),l.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)});function g(l){var o=l.split("-"),n=o.slice(1).map(function(a){return a[0].toUpperCase()+a.slice(1)}).join("");return o[0]+n}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function o(){return l!==null&&l.apply(this,arguments)||this}return E(o,l),o.keys=function(n){return(n.getAttribute("style")||"").split(";").map(function(a){return a.split(":")[0].trim()})},o.prototype.add=function(n,a){return!!this.canAdd(n,a)&&(n.style[g(this.keyName)]=a,!0)},o.prototype.remove=function(n){n.style[g(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")},o.prototype.value=function(n){var a=n.style[g(this.keyName)];return this.canAdd(n,a)?a:""},o}(b(12).default);y.default=h},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function g(h,l){for(var o=0;o<l.length;o++){var n=l[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}return function(h,l,o){return l&&g(h.prototype,l),o&&g(h,o),h}}(),E=function(){function g(h,l){(function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")})(this,g),this.quill=h,this.options=l,this.modules={}}return w(g,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(l){h.modules[l]==null&&h.addModule(l)})}},{key:"addModule",value:function(h){var l=this.quill.constructor.import("modules/"+h);return this.modules[h]=new l(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),g}();E.DEFAULTS={modules:{}},E.themes={default:E},y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function a(u,c){for(var f=0;f<c.length;f++){var x=c[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}return function(u,c,f){return c&&a(u.prototype,c),f&&a(u,f),u}}(),E=function a(u,c,f){u===null&&(u=Function.prototype);var x=Object.getOwnPropertyDescriptor(u,c);if(x===void 0){var p=Object.getPrototypeOf(u);return p===null?void 0:a(p,c,f)}if("value"in x)return x.value;var C=x.get;return C!==void 0?C.call(f):void 0},g=l(b(0)),h=l(b(7));function l(a){return a&&a.__esModule?a:{default:a}}var o="\uFEFF",n=function(a){function u(c){(function(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u);var f=function(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?x:p}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,c));return f.contentNode=document.createElement("span"),f.contentNode.setAttribute("contenteditable",!1),[].slice.call(f.domNode.childNodes).forEach(function(x){f.contentNode.appendChild(x)}),f.leftGuard=document.createTextNode(o),f.rightGuard=document.createTextNode(o),f.domNode.appendChild(f.leftGuard),f.domNode.appendChild(f.contentNode),f.domNode.appendChild(f.rightGuard),f}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,a),w(u,[{key:"index",value:function(c,f){return c===this.leftGuard?0:c===this.rightGuard?1:E(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"index",this).call(this,c,f)}},{key:"restore",value:function(c){var f=void 0,x=void 0,p=c.data.split(o).join("");if(c===this.leftGuard)if(this.prev instanceof h.default){var C=this.prev.length();this.prev.insertAt(C,p),f={startNode:this.prev.domNode,startOffset:C+p.length}}else x=document.createTextNode(p),this.parent.insertBefore(g.default.create(x),this),f={startNode:x,startOffset:p.length};else c===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,p),f={startNode:this.next.domNode,startOffset:p.length}):(x=document.createTextNode(p),this.parent.insertBefore(g.default.create(x),this.next),f={startNode:x,startOffset:p.length}));return c.data=o,f}},{key:"update",value:function(c,f){var x=this;c.forEach(function(p){if(p.type==="characterData"&&(p.target===x.leftGuard||p.target===x.rightGuard)){var C=x.restore(p.target);C&&(f.range=C)}})}}]),u}(g.default.Embed);y.default=n},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.AlignStyle=y.AlignClass=y.AlignAttribute=void 0;var w,E=(w=b(0))&&w.__esModule?w:{default:w},g={scope:E.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new E.default.Attributor.Attribute("align","align",g),l=new E.default.Attributor.Class("align","ql-align",g),o=new E.default.Attributor.Style("align","text-align",g);y.AlignAttribute=h,y.AlignClass=l,y.AlignStyle=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.BackgroundStyle=y.BackgroundClass=void 0;var w,E=(w=b(0))&&w.__esModule?w:{default:w},g=b(26),h=new E.default.Attributor.Class("background","ql-bg",{scope:E.default.Scope.INLINE}),l=new g.ColorAttributor("background","background-color",{scope:E.default.Scope.INLINE});y.BackgroundClass=h,y.BackgroundStyle=l},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.DirectionStyle=y.DirectionClass=y.DirectionAttribute=void 0;var w,E=(w=b(0))&&w.__esModule?w:{default:w},g={scope:E.default.Scope.BLOCK,whitelist:["rtl"]},h=new E.default.Attributor.Attribute("direction","dir",g),l=new E.default.Attributor.Class("direction","ql-direction",g),o=new E.default.Attributor.Style("direction","direction",g);y.DirectionAttribute=h,y.DirectionClass=l,y.DirectionStyle=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.FontClass=y.FontStyle=void 0;var w,E=function(){function u(c,f){for(var x=0;x<f.length;x++){var p=f[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,x){return f&&u(c.prototype,f),x&&u(c,x),c}}(),g=function u(c,f,x){c===null&&(c=Function.prototype);var p=Object.getOwnPropertyDescriptor(c,f);if(p===void 0){var C=Object.getPrototypeOf(c);return C===null?void 0:u(C,f,x)}if("value"in p)return p.value;var P=p.get;return P!==void 0?P.call(x):void 0},h=(w=b(0))&&w.__esModule?w:{default:w},l={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},o=new h.default.Attributor.Class("font","ql-font",l),n=function(u){function c(){return function(f,x){if(!(f instanceof x))throw new TypeError("Cannot call a class as a function")}(this,c),function(f,x){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?f:x}(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(f,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);f.prototype=Object.create(x&&x.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(f,x):f.__proto__=x)}(c,u),E(c,[{key:"value",value:function(f){return g(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"value",this).call(this,f).replace(/["']/g,"")}}]),c}(h.default.Attributor.Style),a=new n("font","font-family",l);y.FontStyle=a,y.FontClass=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.SizeStyle=y.SizeClass=void 0;var w,E=(w=b(0))&&w.__esModule?w:{default:w},g=new E.default.Attributor.Class("size","ql-size",{scope:E.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new E.default.Attributor.Style("size","font-size",{scope:E.default.Scope.INLINE,whitelist:["10px","18px","32px"]});y.SizeClass=g,y.SizeStyle=h},function(k,y,b){"use strict";k.exports={align:{"":b(76),center:b(77),right:b(78),justify:b(79)},background:b(80),blockquote:b(81),bold:b(82),clean:b(83),code:b(58),"code-block":b(58),color:b(84),direction:{"":b(85),rtl:b(86)},float:{center:b(87),full:b(88),left:b(89),right:b(90)},formula:b(91),header:{1:b(92),2:b(93)},italic:b(94),image:b(95),indent:{"+1":b(96),"-1":b(97)},link:b(98),list:{ordered:b(99),bullet:b(100),check:b(101)},script:{sub:b(102),super:b(103)},strike:b(104),underline:b(105),video:b(106)}},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.getLastChangeIndex=y.default=void 0;var w=function(){function n(a,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,u,c){return u&&n(a.prototype,u),c&&n(a,c),a}}(),E=h(b(0)),g=h(b(5));function h(n){return n&&n.__esModule?n:{default:n}}var l=function(n){function a(u,c){(function(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")})(this,a);var f=function(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?x:p}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,u,c));return f.lastRecorded=0,f.ignoreChange=!1,f.clear(),f.quill.on(g.default.events.EDITOR_CHANGE,function(x,p,C,P){x!==g.default.events.TEXT_CHANGE||f.ignoreChange||(f.options.userOnly&&P!==g.default.sources.USER?f.transform(p):f.record(p,C))}),f.quill.keyboard.addBinding({key:"Z",shortKey:!0},f.undo.bind(f)),f.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},f.redo.bind(f)),/Win/i.test(navigator.platform)&&f.quill.keyboard.addBinding({key:"Y",shortKey:!0},f.redo.bind(f)),f}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(a,n),w(a,[{key:"change",value:function(u,c){if(this.stack[u].length!==0){var f=this.stack[u].pop();this.stack[c].push(f),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(f[u],g.default.sources.USER),this.ignoreChange=!1;var x=o(f[u]);this.quill.setSelection(x)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(u,c){if(u.ops.length!==0){this.stack.redo=[];var f=this.quill.getContents().diff(c),x=Date.now();if(this.lastRecorded+this.options.delay>x&&this.stack.undo.length>0){var p=this.stack.undo.pop();f=f.compose(p.undo),u=p.redo.compose(u)}else this.lastRecorded=x;this.stack.undo.push({redo:u,undo:f}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(u){this.stack.undo.forEach(function(c){c.undo=u.transform(c.undo,!0),c.redo=u.transform(c.redo,!0)}),this.stack.redo.forEach(function(c){c.undo=u.transform(c.undo,!0),c.redo=u.transform(c.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),a}(h(b(9)).default);function o(n){var a=n.reduce(function(c,f){return c+(f.delete||0)},0),u=n.length()-a;return function(c){var f=c.ops[c.ops.length-1];return f!=null&&(f.insert!=null?typeof f.insert=="string"&&f.insert.endsWith(`
`):f.attributes!=null&&Object.keys(f.attributes).some(function(x){return E.default.query(x,E.default.Scope.BLOCK)!=null}))}(n)&&(u-=1),u}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},y.default=l,y.getLastChangeIndex=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BaseTooltip=void 0;var w=function(){function H(W,N){for(var M=0;M<N.length;M++){var F=N[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(W,F.key,F)}}return function(W,N,M){return N&&H(W.prototype,N),M&&H(W,M),W}}(),E=function H(W,N,M){W===null&&(W=Function.prototype);var F=Object.getOwnPropertyDescriptor(W,N);if(F===void 0){var V=Object.getPrototypeOf(W);return V===null?void 0:H(V,N,M)}if("value"in F)return F.value;var L=F.get;return L!==void 0?L.call(M):void 0},g=x(b(3)),h=x(b(2)),l=x(b(8)),o=x(b(23)),n=x(b(34)),a=x(b(59)),u=x(b(60)),c=x(b(28)),f=x(b(61));function x(H){return H&&H.__esModule?H:{default:H}}function p(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}function C(H,W){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||typeof W!="object"&&typeof W!="function"?H:W}function P(H,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);H.prototype=Object.create(W&&W.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(H,W):H.__proto__=W)}var S=[!1,"center","right","justify"],i=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],A=[!1,"serif","monospace"],O=["1","2","3",!1],B=["small",!1,"large","huge"],q=function(H){function W(N,M){p(this,W);var F=C(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,N,M));return N.emitter.listenDOM("click",document.body,function V(L){if(!document.body.contains(N.root))return document.body.removeEventListener("click",V);F.tooltip==null||F.tooltip.root.contains(L.target)||document.activeElement===F.tooltip.textbox||F.quill.hasFocus()||F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(U){U.container.contains(L.target)||U.close()})}),F}return P(W,H),w(W,[{key:"addModule",value:function(N){var M=E(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,N);return N==="toolbar"&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(N,M){N.forEach(function(F){(F.getAttribute("class")||"").split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),M[V]!=null))if(V==="direction")F.innerHTML=M[V][""]+M[V].rtl;else if(typeof M[V]=="string")F.innerHTML=M[V];else{var L=F.value||"";L!=null&&M[V][L]&&(F.innerHTML=M[V][L])}})})}},{key:"buildPickers",value:function(N,M){var F=this;this.pickers=N.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&j(V,S),new u.default(V,M.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var L=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&j(V,i,L==="background"?"#ffffff":"#000000"),new a.default(V,M[L])}return V.querySelector("option")==null&&(V.classList.contains("ql-font")?j(V,A):V.classList.contains("ql-header")?j(V,O):V.classList.contains("ql-size")&&j(V,B)),new c.default(V)}),this.quill.on(l.default.events.EDITOR_CHANGE,function(){F.pickers.forEach(function(V){V.update()})})}}]),W}(n.default);q.DEFAULTS=(0,g.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&((W=document.createElement("input")).setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var N=new FileReader;N.onload=function(M){var F=H.quill.getSelection(!0);H.quill.updateContents(new h.default().retain(F.index).delete(F.length).insert({image:M.target.result}),l.default.sources.USER),H.quill.setSelection(F.index+1,l.default.sources.SILENT),W.value=""},N.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(H){function W(N,M){p(this,W);var F=C(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,N,M));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return P(W,H),w(W,[{key:"listen",value:function(){var N=this;this.textbox.addEventListener("keydown",function(M){o.default.match(M,"enter")?(N.save(),M.preventDefault()):o.default.match(M,"escape")&&(N.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),M!=null?this.textbox.value=M:N!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+N)||""),this.root.setAttribute("data-mode",N)}},{key:"restoreFocus",value:function(){var N=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=N}},{key:"save",value:function(){var N,M,F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,l.default.sources.USER)),this.quill.root.scrollTop=V;break;case"video":F=(M=(N=F).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":N;case"formula":if(!F)break;var L=this.quill.getSelection(!0);if(L!=null){var U=L.index+L.length;this.quill.insertEmbed(U,this.root.getAttribute("data-mode"),F,l.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(U+1," ",l.default.sources.USER),this.quill.setSelection(U+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),W}(f.default);function j(H,W){var N=arguments.length>2&&arguments[2]!==void 0&&arguments[2];W.forEach(function(M){var F=document.createElement("option");M===N?F.setAttribute("selected","selected"):F.setAttribute("value",M),H.appendChild(F)})}y.BaseTooltip=z,y.default=q},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function E(){this.head=this.tail=null,this.length=0}return E.prototype.append=function(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];this.insertBefore(g[0],null),g.length>1&&this.append.apply(this,g.slice(1))},E.prototype.contains=function(g){for(var h,l=this.iterator();h=l();)if(h===g)return!0;return!1},E.prototype.insertBefore=function(g,h){g&&(g.next=h,h!=null?(g.prev=h.prev,h.prev!=null&&(h.prev.next=g),h.prev=g,h===this.head&&(this.head=g)):this.tail!=null?(this.tail.next=g,g.prev=this.tail,this.tail=g):(g.prev=null,this.head=this.tail=g),this.length+=1)},E.prototype.offset=function(g){for(var h=0,l=this.head;l!=null;){if(l===g)return h;h+=l.length(),l=l.next}return-1},E.prototype.remove=function(g){this.contains(g)&&(g.prev!=null&&(g.prev.next=g.next),g.next!=null&&(g.next.prev=g.prev),g===this.head&&(this.head=g.next),g===this.tail&&(this.tail=g.prev),this.length-=1)},E.prototype.iterator=function(g){return g===void 0&&(g=this.head),function(){var h=g;return g!=null&&(g=g.next),h}},E.prototype.find=function(g,h){h===void 0&&(h=!1);for(var l,o=this.iterator();l=o();){var n=l.length();if(g<n||h&&g===n&&(l.next==null||l.next.length()!==0))return[l,g];g-=n}return[null,0]},E.prototype.forEach=function(g){for(var h,l=this.iterator();h=l();)g(h)},E.prototype.forEachAt=function(g,h,l){if(!(h<=0))for(var o,n=this.find(g),a=n[0],u=g-n[1],c=this.iterator(a);(o=c())&&u<g+h;){var f=o.length();g>u?l(o,g-u,Math.min(h,u+f-g)):l(o,0,Math.min(f,g+h-u)),u+=f}},E.prototype.map=function(g){return this.reduce(function(h,l){return h.push(g(l)),h},[])},E.prototype.reduce=function(g,h){for(var l,o=this.iterator();l=o();)h=g(h,l);return h},E}();y.default=w},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var u in a)a.hasOwnProperty(u)&&(n[u]=a[u])},function(n,a){function u(){this.constructor=n}w(n,a),n.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(17),h=b(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},o=function(n){function a(u){var c=n.call(this,u)||this;return c.scroll=c,c.observer=new MutationObserver(function(f){c.update(f)}),c.observer.observe(c.domNode,l),c.attach(),c}return E(a,n),a.prototype.detach=function(){n.prototype.detach.call(this),this.observer.disconnect()},a.prototype.deleteAt=function(u,c){this.update(),u===0&&c===this.length()?this.children.forEach(function(f){f.remove()}):n.prototype.deleteAt.call(this,u,c)},a.prototype.formatAt=function(u,c,f,x){this.update(),n.prototype.formatAt.call(this,u,c,f,x)},a.prototype.insertAt=function(u,c,f){this.update(),n.prototype.insertAt.call(this,u,c,f)},a.prototype.optimize=function(u,c){var f=this;u===void 0&&(u=[]),c===void 0&&(c={}),n.prototype.optimize.call(this,c);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)u.push(x.pop());for(var p=function(i,A){A===void 0&&(A=!0),i!=null&&i!==f&&i.domNode.parentNode!=null&&(i.domNode[h.DATA_KEY].mutations==null&&(i.domNode[h.DATA_KEY].mutations=[]),A&&p(i.parent))},C=function(i){i.domNode[h.DATA_KEY]!=null&&i.domNode[h.DATA_KEY].mutations!=null&&(i instanceof g.default&&i.children.forEach(C),i.optimize(c))},P=u,S=0;P.length>0;S+=1){if(S>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(i){var A=h.find(i.target,!0);A!=null&&(A.domNode===i.target&&(i.type==="childList"?(p(h.find(i.previousSibling,!1)),[].forEach.call(i.addedNodes,function(O){var B=h.find(O,!1);p(B,!1),B instanceof g.default&&B.children.forEach(function(q){p(q,!1)})})):i.type==="attributes"&&p(A.prev)),p(A))}),this.children.forEach(C),x=(P=[].slice.call(this.observer.takeRecords())).slice();x.length>0;)u.push(x.pop())}},a.prototype.update=function(u,c){var f=this;c===void 0&&(c={}),(u=u||this.observer.takeRecords()).map(function(x){var p=h.find(x.target,!0);return p==null?null:p.domNode[h.DATA_KEY].mutations==null?(p.domNode[h.DATA_KEY].mutations=[x],p):(p.domNode[h.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x!=null&&x!==f&&x.domNode[h.DATA_KEY]!=null&&x.update(x.domNode[h.DATA_KEY].mutations||[],c)}),this.domNode[h.DATA_KEY].mutations!=null&&n.prototype.update.call(this,this.domNode[h.DATA_KEY].mutations,c),this.optimize(u,c)},a.blotName="scroll",a.defaultChild="block",a.scope=h.Scope.BLOCK_BLOT,a.tagName="DIV",a}(g.default);y.default=o},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a])},function(o,n){function a(){this.constructor=o}w(o,n),o.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(18),h=b(1),l=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return E(n,o),n.formats=function(a){if(a.tagName!==n.tagName)return o.formats.call(this,a)},n.prototype.format=function(a,u){var c=this;a!==this.statics.blotName||u?o.prototype.format.call(this,a,u):(this.children.forEach(function(f){f instanceof g.default||(f=f.wrap(n.blotName,!0)),c.attributes.copy(f)}),this.unwrap())},n.prototype.formatAt=function(a,u,c,f){this.formats()[c]!=null||h.query(c,h.Scope.ATTRIBUTE)?this.isolate(a,u).format(c,f):o.prototype.formatAt.call(this,a,u,c,f)},n.prototype.optimize=function(a){o.prototype.optimize.call(this,a);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var c=this.next;c instanceof n&&c.prev===this&&function(f,x){if(Object.keys(f).length!==Object.keys(x).length)return!1;for(var p in f)if(f[p]!==x[p])return!1;return!0}(u,c.formats())&&(c.moveChildren(this),c.remove())},n.blotName="inline",n.scope=h.Scope.INLINE_BLOT,n.tagName="SPAN",n}(g.default);y.default=l},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a])},function(o,n){function a(){this.constructor=o}w(o,n),o.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(18),h=b(1),l=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return E(n,o),n.formats=function(a){var u=h.query(n.blotName).tagName;if(a.tagName!==u)return o.formats.call(this,a)},n.prototype.format=function(a,u){h.query(a,h.Scope.BLOCK)!=null&&(a!==this.statics.blotName||u?o.prototype.format.call(this,a,u):this.replaceWith(n.blotName))},n.prototype.formatAt=function(a,u,c,f){h.query(c,h.Scope.BLOCK)!=null?this.format(c,f):o.prototype.formatAt.call(this,a,u,c,f)},n.prototype.insertAt=function(a,u,c){if(c==null||h.query(u,h.Scope.INLINE)!=null)o.prototype.insertAt.call(this,a,u,c);else{var f=this.split(a),x=h.create(u,c);f.parent.insertBefore(x,f)}},n.prototype.update=function(a,u){navigator.userAgent.match(/Trident/)?this.build():o.prototype.update.call(this,a,u)},n.blotName="block",n.scope=h.Scope.BLOCK_BLOT,n.tagName="P",n}(g.default);y.default=l},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var o in l)l.hasOwnProperty(o)&&(h[o]=l[o])},function(h,l){function o(){this.constructor=h}w(h,l),h.prototype=l===null?Object.create(l):(o.prototype=l.prototype,new o)});Object.defineProperty(y,"__esModule",{value:!0});var g=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return E(l,h),l.formats=function(o){},l.prototype.format=function(o,n){h.prototype.formatAt.call(this,0,this.length(),o,n)},l.prototype.formatAt=function(o,n,a,u){o===0&&n===this.length()?this.format(a,u):h.prototype.formatAt.call(this,o,n,a,u)},l.prototype.formats=function(){return this.statics.formats(this.domNode)},l}(b(19).default);y.default=g},function(k,y,b){"use strict";var w,E=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a])},function(o,n){function a(){this.constructor=o}w(o,n),o.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)});Object.defineProperty(y,"__esModule",{value:!0});var g=b(19),h=b(1),l=function(o){function n(a){var u=o.call(this,a)||this;return u.text=u.statics.value(u.domNode),u}return E(n,o),n.create=function(a){return document.createTextNode(a)},n.value=function(a){var u=a.data;return u.normalize&&(u=u.normalize()),u},n.prototype.deleteAt=function(a,u){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+u)},n.prototype.index=function(a,u){return this.domNode===a?u:-1},n.prototype.insertAt=function(a,u,c){c==null?(this.text=this.text.slice(0,a)+u+this.text.slice(a),this.domNode.data=this.text):o.prototype.insertAt.call(this,a,u,c)},n.prototype.length=function(){return this.text.length},n.prototype.optimize=function(a){o.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof n&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},n.prototype.position=function(a,u){return u===void 0&&(u=!1),[this.domNode,a]},n.prototype.split=function(a,u){if(u===void 0&&(u=!1),!u){if(a===0)return this;if(a===this.length())return this.next}var c=h.create(this.domNode.splitText(a));return this.parent.insertBefore(c,this.next),this.text=this.statics.value(this.domNode),c},n.prototype.update=function(a,u){var c=this;a.some(function(f){return f.type==="characterData"&&f.target===c.domNode})&&(this.text=this.statics.value(this.domNode))},n.prototype.value=function(){return this.text},n.blotName="text",n.scope=h.Scope.INLINE_BLOT,n}(g.default);y.default=l},function(k,y,b){"use strict";var w=document.createElement("div");if(w.classList.toggle("test-class",!1),w.classList.contains("test-class")){var E=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g,h){return arguments.length>1&&!this.contains(g)==!h?h:E.call(this,g)}}String.prototype.startsWith||(String.prototype.startsWith=function(g,h){return h=h||0,this.substr(h,g.length)===g}),String.prototype.endsWith||(String.prototype.endsWith=function(g,h){var l=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>l.length)&&(h=l.length),h-=g.length;var o=l.indexOf(g,h);return o!==-1&&o===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(g){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof g!="function")throw new TypeError("predicate must be a function");for(var h,l=Object(this),o=l.length>>>0,n=arguments[1],a=0;a<o;a++)if(h=l[a],g.call(n,h,a,l))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(k,y){var b=-1,w=1,E=0;function g(c,f,x){if(c==f)return c?[[E,c]]:[];(x<0||c.length<x)&&(x=null);var p=l(c,f),C=c.substring(0,p);p=o(c=c.substring(p),f=f.substring(p));var P=c.substring(c.length-p),S=function(i,A){var O;if(!i)return[[w,A]];if(!A)return[[b,i]];var B=i.length>A.length?i:A,q=i.length>A.length?A:i,z=B.indexOf(q);if(z!=-1)return O=[[w,B.substring(0,z)],[E,q],[w,B.substring(z+q.length)]],i.length>A.length&&(O[0][0]=O[2][0]=b),O;if(q.length==1)return[[b,i],[w,A]];var j=function(U,Z){var ue=U.length>Z.length?U:Z,fe=U.length>Z.length?Z:U;if(ue.length<4||2*fe.length<ue.length)return null;function ne(De,ye,Be){for(var He,Te,Se,Me,Ke=De.substring(Be,Be+Math.floor(De.length/4)),We=-1,_e="";(We=ye.indexOf(Ke,We+1))!=-1;){var tt=l(De.substring(Be),ye.substring(We)),dt=o(De.substring(0,Be),ye.substring(0,We));_e.length<dt+tt&&(_e=ye.substring(We-dt,We)+ye.substring(We,We+tt),He=De.substring(0,Be-dt),Te=De.substring(Be+tt),Se=ye.substring(0,We-dt),Me=ye.substring(We+tt))}return 2*_e.length>=De.length?[He,Te,Se,Me,_e]:null}var G,J,le,de,se,ke=ne(ue,fe,Math.ceil(ue.length/4)),xe=ne(ue,fe,Math.ceil(ue.length/2));return ke||xe?(G=xe?ke&&ke[4].length>xe[4].length?ke:xe:ke,U.length>Z.length?(J=G[0],le=G[1],de=G[2],se=G[3]):(de=G[0],se=G[1],J=G[2],le=G[3]),[J,le,de,se,G[4]]):null}(i,A);if(j){var H=j[0],W=j[1],N=j[2],M=j[3],F=j[4],V=g(H,N),L=g(W,M);return V.concat([[E,F]],L)}return function(U,Z){for(var ue=U.length,fe=Z.length,ne=Math.ceil((ue+fe)/2),G=ne,J=2*ne,le=new Array(J),de=new Array(J),se=0;se<J;se++)le[se]=-1,de[se]=-1;le[G+1]=0,de[G+1]=0;for(var ke=ue-fe,xe=ke%2!=0,De=0,ye=0,Be=0,He=0,Te=0;Te<ne;Te++){for(var Se=-Te+De;Se<=Te-ye;Se+=2){for(var Me=G+Se,Ke=(Ue=Se==-Te||Se!=Te&&le[Me-1]<le[Me+1]?le[Me+1]:le[Me-1]+1)-Se;Ue<ue&&Ke<fe&&U.charAt(Ue)==Z.charAt(Ke);)Ue++,Ke++;if(le[Me]=Ue,Ue>ue)ye+=2;else if(Ke>fe)De+=2;else if(xe&&(tt=G+ke-Se)>=0&&tt<J&&de[tt]!=-1&&Ue>=(_e=ue-de[tt]))return h(U,Z,Ue,Ke)}for(var We=-Te+Be;We<=Te-He;We+=2){for(var _e,tt=G+We,dt=(_e=We==-Te||We!=Te&&de[tt-1]<de[tt+1]?de[tt+1]:de[tt-1]+1)-We;_e<ue&&dt<fe&&U.charAt(ue-_e-1)==Z.charAt(fe-dt-1);)_e++,dt++;if(de[tt]=_e,_e>ue)He+=2;else if(dt>fe)Be+=2;else if(!xe){var Ue;if((Me=G+ke-We)>=0&&Me<J&&le[Me]!=-1&&(Ke=G+(Ue=le[Me])-Me,Ue>=(_e=ue-_e)))return h(U,Z,Ue,Ke)}}}return[[b,U],[w,Z]]}(i,A)}(c=c.substring(0,c.length-p),f=f.substring(0,f.length-p));return C&&S.unshift([E,C]),P&&S.push([E,P]),n(S),x!=null&&(S=function(i,A){var O=function(W,N){if(N===0)return[E,W];for(var M=0,F=0;F<W.length;F++){var V=W[F];if(V[0]===b||V[0]===E){var L=M+V[1].length;if(N===L)return[F+1,W];if(N<L){W=W.slice();var U=N-M,Z=[V[0],V[1].slice(0,U)],ue=[V[0],V[1].slice(U)];return W.splice(F,1,Z,ue),[F+1,W]}M=L}}throw new Error("cursor_pos is out of bounds!")}(i,A),B=O[1],q=O[0],z=B[q],j=B[q+1];if(z==null||z[0]!==E)return i;if(j!=null&&z[1]+j[1]===j[1]+z[1])return B.splice(q,2,j,z),u(B,q,2);if(j!=null&&j[1].indexOf(z[1])===0){B.splice(q,2,[j[0],z[1]],[0,z[1]]);var H=j[1].slice(z[1].length);return H.length>0&&B.splice(q+2,0,[j[0],H]),u(B,q,3)}return i}(S,x)),function(i){for(var A=!1,O=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},B=2;B<i.length;B+=1)i[B-2][0]===E&&(q=i[B-2][1]).charCodeAt(q.length-1)>=55296&&q.charCodeAt(q.length-1)<=56319&&i[B-1][0]===b&&O(i[B-1][1])&&i[B][0]===w&&O(i[B][1])&&(A=!0,i[B-1][1]=i[B-2][1].slice(-1)+i[B-1][1],i[B][1]=i[B-2][1].slice(-1)+i[B][1],i[B-2][1]=i[B-2][1].slice(0,-1));var q;if(!A)return i;var z=[];for(B=0;B<i.length;B+=1)i[B][1].length>0&&z.push(i[B]);return z}(S)}function h(c,f,x,p){var C=c.substring(0,x),P=f.substring(0,p),S=c.substring(x),i=f.substring(p),A=g(C,P),O=g(S,i);return A.concat(O)}function l(c,f){if(!c||!f||c.charAt(0)!=f.charAt(0))return 0;for(var x=0,p=Math.min(c.length,f.length),C=p,P=0;x<C;)c.substring(P,C)==f.substring(P,C)?P=x=C:p=C,C=Math.floor((p-x)/2+x);return C}function o(c,f){if(!c||!f||c.charAt(c.length-1)!=f.charAt(f.length-1))return 0;for(var x=0,p=Math.min(c.length,f.length),C=p,P=0;x<C;)c.substring(c.length-C,c.length-P)==f.substring(f.length-C,f.length-P)?P=x=C:p=C,C=Math.floor((p-x)/2+x);return C}function n(c){c.push([E,""]);for(var f,x=0,p=0,C=0,P="",S="";x<c.length;)switch(c[x][0]){case w:C++,S+=c[x][1],x++;break;case b:p++,P+=c[x][1],x++;break;case E:p+C>1?(p!==0&&C!==0&&((f=l(S,P))!==0&&(x-p-C>0&&c[x-p-C-1][0]==E?c[x-p-C-1][1]+=S.substring(0,f):(c.splice(0,0,[E,S.substring(0,f)]),x++),S=S.substring(f),P=P.substring(f)),(f=o(S,P))!==0&&(c[x][1]=S.substring(S.length-f)+c[x][1],S=S.substring(0,S.length-f),P=P.substring(0,P.length-f))),p===0?c.splice(x-C,p+C,[w,S]):C===0?c.splice(x-p,p+C,[b,P]):c.splice(x-p-C,p+C,[b,P],[w,S]),x=x-p-C+(p?1:0)+(C?1:0)+1):x!==0&&c[x-1][0]==E?(c[x-1][1]+=c[x][1],c.splice(x,1)):x++,C=0,p=0,P="",S=""}c[c.length-1][1]===""&&c.pop();var i=!1;for(x=1;x<c.length-1;)c[x-1][0]==E&&c[x+1][0]==E&&(c[x][1].substring(c[x][1].length-c[x-1][1].length)==c[x-1][1]?(c[x][1]=c[x-1][1]+c[x][1].substring(0,c[x][1].length-c[x-1][1].length),c[x+1][1]=c[x-1][1]+c[x+1][1],c.splice(x-1,1),i=!0):c[x][1].substring(0,c[x+1][1].length)==c[x+1][1]&&(c[x-1][1]+=c[x+1][1],c[x][1]=c[x][1].substring(c[x+1][1].length)+c[x+1][1],c.splice(x+1,1),i=!0)),x++;i&&n(c)}var a=g;function u(c,f,x){for(var p=f+x-1;p>=0&&p>=f-1;p--)if(p+1<c.length){var C=c[p],P=c[p+1];C[0]===P[1]&&c.splice(p,2,[C[0],C[1]+P[1]])}return c}a.INSERT=w,a.DELETE=b,a.EQUAL=E,k.exports=a},function(k,y){function b(w){var E=[];for(var g in w)E.push(g);return E}(k.exports=typeof Object.keys=="function"?Object.keys:b).shim=b},function(k,y){var b=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function w(g){return Object.prototype.toString.call(g)=="[object Arguments]"}function E(g){return g&&typeof g=="object"&&typeof g.length=="number"&&Object.prototype.hasOwnProperty.call(g,"callee")&&!Object.prototype.propertyIsEnumerable.call(g,"callee")||!1}(y=k.exports=b?w:E).supported=w,y.unsupported=E},function(k,y){"use strict";var b=Object.prototype.hasOwnProperty,w="~";function E(){}function g(l,o,n){this.fn=l,this.context=o,this.once=n||!1}function h(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(w=!1)),h.prototype.eventNames=function(){var l,o,n=[];if(this._eventsCount===0)return n;for(o in l=this._events)b.call(l,o)&&n.push(w?o.slice(1):o);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},h.prototype.listeners=function(l,o){var n=w?w+l:l,a=this._events[n];if(o)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var u=0,c=a.length,f=new Array(c);u<c;u++)f[u]=a[u].fn;return f},h.prototype.emit=function(l,o,n,a,u,c){var f=w?w+l:l;if(!this._events[f])return!1;var x,p,C=this._events[f],P=arguments.length;if(C.fn){switch(C.once&&this.removeListener(l,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,o),!0;case 3:return C.fn.call(C.context,o,n),!0;case 4:return C.fn.call(C.context,o,n,a),!0;case 5:return C.fn.call(C.context,o,n,a,u),!0;case 6:return C.fn.call(C.context,o,n,a,u,c),!0}for(p=1,x=new Array(P-1);p<P;p++)x[p-1]=arguments[p];C.fn.apply(C.context,x)}else{var S,i=C.length;for(p=0;p<i;p++)switch(C[p].once&&this.removeListener(l,C[p].fn,void 0,!0),P){case 1:C[p].fn.call(C[p].context);break;case 2:C[p].fn.call(C[p].context,o);break;case 3:C[p].fn.call(C[p].context,o,n);break;case 4:C[p].fn.call(C[p].context,o,n,a);break;default:if(!x)for(S=1,x=new Array(P-1);S<P;S++)x[S-1]=arguments[S];C[p].fn.apply(C[p].context,x)}}return!0},h.prototype.on=function(l,o,n){var a=new g(o,n||this),u=w?w+l:l;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],a]:this._events[u].push(a):(this._events[u]=a,this._eventsCount++),this},h.prototype.once=function(l,o,n){var a=new g(o,n||this,!0),u=w?w+l:l;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],a]:this._events[u].push(a):(this._events[u]=a,this._eventsCount++),this},h.prototype.removeListener=function(l,o,n,a){var u=w?w+l:l;if(!this._events[u])return this;if(!o)return--this._eventsCount==0?this._events=new E:delete this._events[u],this;var c=this._events[u];if(c.fn)c.fn!==o||a&&!c.once||n&&c.context!==n||(--this._eventsCount==0?this._events=new E:delete this._events[u]);else{for(var f=0,x=[],p=c.length;f<p;f++)(c[f].fn!==o||a&&!c[f].once||n&&c[f].context!==n)&&x.push(c[f]);x.length?this._events[u]=x.length===1?x[0]:x:--this._eventsCount==0?this._events=new E:delete this._events[u]}return this},h.prototype.removeAllListeners=function(l){var o;return l?(o=w?w+l:l,this._events[o]&&(--this._eventsCount==0?this._events=new E:delete this._events[o])):(this._events=new E,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=w,h.EventEmitter=h,k!==void 0&&(k.exports=h)},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.matchText=y.matchSpacing=y.matchNewline=y.matchBlot=y.matchAttributor=y.default=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},E=function(G,J){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return function(le,de){var se=[],ke=!0,xe=!1,De=void 0;try{for(var ye,Be=le[Symbol.iterator]();!(ke=(ye=Be.next()).done)&&(se.push(ye.value),!de||se.length!==de);ke=!0);}catch(He){xe=!0,De=He}finally{try{!ke&&Be.return&&Be.return()}finally{if(xe)throw De}}return se}(G,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function G(J,le){for(var de=0;de<le.length;de++){var se=le[de];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(J,se.key,se)}}return function(J,le,de){return le&&G(J.prototype,le),de&&G(J,de),J}}(),h=i(b(3)),l=i(b(2)),o=i(b(0)),n=i(b(5)),a=i(b(10)),u=i(b(9)),c=b(36),f=b(37),x=i(b(13)),p=b(26),C=b(38),P=b(39),S=b(40);function i(G){return G&&G.__esModule?G:{default:G}}function A(G,J,le){return J in G?Object.defineProperty(G,J,{value:le,enumerable:!0,configurable:!0,writable:!0}):G[J]=le,G}var O=(0,a.default)("quill:clipboard"),B="__ql-matcher",q=[[Node.TEXT_NODE,ne],[Node.TEXT_NODE,ue],["br",function(G,J){return M(J,`
`)||J.insert(`
`),J}],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,function(G,J){var le={},de=G.style||{};return de.fontStyle&&N(G).fontStyle==="italic"&&(le.italic=!0),de.fontWeight&&(N(G).fontWeight.startsWith("bold")||parseInt(N(G).fontWeight)>=700)&&(le.bold=!0),Object.keys(le).length>0&&(J=W(J,le)),parseFloat(de.textIndent||0)>0&&(J=new l.default().insert("	").concat(J)),J}],["li",function(G,J){var le=o.default.query(G);if(le==null||le.blotName!=="list-item"||!M(J,`
`))return J;for(var de=-1,se=G.parentNode;!se.classList.contains("ql-clipboard");)(o.default.query(se)||{}).blotName==="list"&&(de+=1),se=se.parentNode;return de<=0?J:J.compose(new l.default().retain(J.length()-1).retain(1,{indent:de}))}],["b",L.bind(L,"bold")],["i",L.bind(L,"italic")],["style",function(){return new l.default}]],z=[c.AlignAttribute,C.DirectionAttribute].reduce(function(G,J){return G[J.keyName]=J,G},{}),j=[c.AlignStyle,f.BackgroundStyle,p.ColorStyle,C.DirectionStyle,P.FontStyle,S.SizeStyle].reduce(function(G,J){return G[J.keyName]=J,G},{}),H=function(G){function J(le,de){(function(ke,xe){if(!(ke instanceof xe))throw new TypeError("Cannot call a class as a function")})(this,J);var se=function(ke,xe){if(!ke)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!xe||typeof xe!="object"&&typeof xe!="function"?ke:xe}(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,le,de));return se.quill.root.addEventListener("paste",se.onPaste.bind(se)),se.container=se.quill.addContainer("ql-clipboard"),se.container.setAttribute("contenteditable",!0),se.container.setAttribute("tabindex",-1),se.matchers=[],q.concat(se.options.matchers).forEach(function(ke){var xe=E(ke,2),De=xe[0],ye=xe[1];(de.matchVisual||ye!==fe)&&se.addMatcher(De,ye)}),se}return function(le,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);le.prototype=Object.create(de&&de.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(le,de):le.__proto__=de)}(J,G),g(J,[{key:"addMatcher",value:function(le,de){this.matchers.push([le,de])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var de=this.quill.getFormat(this.quill.selection.savedRange.index);if(de[x.default.blotName]){var se=this.container.innerText;return this.container.innerHTML="",new l.default().insert(se,A({},x.default.blotName,de[x.default.blotName]))}var ke=this.prepareMatching(),xe=E(ke,2),De=xe[0],ye=xe[1],Be=V(this.container,De,ye);return M(Be,`
`)&&Be.ops[Be.ops.length-1].attributes==null&&(Be=Be.compose(new l.default().retain(Be.length()-1).delete(1))),O.log("convert",this.container.innerHTML,Be),this.container.innerHTML="",Be}},{key:"dangerouslyPasteHTML",value:function(le,de){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),de),this.quill.setSelection(0,n.default.sources.SILENT);else{var ke=this.convert(de);this.quill.updateContents(new l.default().retain(le).concat(ke),se),this.quill.setSelection(le+ke.length(),n.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var de=this;if(!le.defaultPrevented&&this.quill.isEnabled()){var se=this.quill.getSelection(),ke=new l.default().retain(se.index),xe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(n.default.sources.SILENT),setTimeout(function(){ke=ke.concat(de.convert()).delete(se.length),de.quill.updateContents(ke,n.default.sources.USER),de.quill.setSelection(ke.length()-se.length,n.default.sources.SILENT),de.quill.scrollingContainer.scrollTop=xe,de.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,de=[],se=[];return this.matchers.forEach(function(ke){var xe=E(ke,2),De=xe[0],ye=xe[1];switch(De){case Node.TEXT_NODE:se.push(ye);break;case Node.ELEMENT_NODE:de.push(ye);break;default:[].forEach.call(le.container.querySelectorAll(De),function(Be){Be[B]=Be[B]||[],Be[B].push(ye)})}}),[de,se]}}]),J}(u.default);function W(G,J,le){return(J===void 0?"undefined":w(J))==="object"?Object.keys(J).reduce(function(de,se){return W(de,se,J[se])},G):G.reduce(function(de,se){return se.attributes&&se.attributes[J]?de.push(se):de.insert(se.insert,(0,h.default)({},A({},J,le),se.attributes))},new l.default)}function N(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return G[J]||(G[J]=window.getComputedStyle(G))}function M(G,J){for(var le="",de=G.ops.length-1;de>=0&&le.length<J.length;--de){var se=G.ops[de];if(typeof se.insert!="string")break;le=se.insert+le}return le.slice(-1*J.length)===J}function F(G){if(G.childNodes.length===0)return!1;var J=N(G);return["block","list-item"].indexOf(J.display)>-1}function V(G,J,le){return G.nodeType===G.TEXT_NODE?le.reduce(function(de,se){return se(G,de)},new l.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(de,se){var ke=V(se,J,le);return se.nodeType===G.ELEMENT_NODE&&(ke=J.reduce(function(xe,De){return De(se,xe)},ke),ke=(se[B]||[]).reduce(function(xe,De){return De(se,xe)},ke)),de.concat(ke)},new l.default):new l.default}function L(G,J,le){return W(le,G,!0)}function U(G,J){var le=o.default.Attributor.Attribute.keys(G),de=o.default.Attributor.Class.keys(G),se=o.default.Attributor.Style.keys(G),ke={};return le.concat(de).concat(se).forEach(function(xe){var De=o.default.query(xe,o.default.Scope.ATTRIBUTE);De!=null&&(ke[De.attrName]=De.value(G),ke[De.attrName])||((De=z[xe])==null||De.attrName!==xe&&De.keyName!==xe||(ke[De.attrName]=De.value(G)||void 0),(De=j[xe])==null||De.attrName!==xe&&De.keyName!==xe||(De=j[xe],ke[De.attrName]=De.value(G)||void 0))}),Object.keys(ke).length>0&&(J=W(J,ke)),J}function Z(G,J){var le=o.default.query(G);if(le==null)return J;if(le.prototype instanceof o.default.Embed){var de={},se=le.value(G);se!=null&&(de[le.blotName]=se,J=new l.default().insert(de,le.formats(G)))}else typeof le.formats=="function"&&(J=W(J,le.blotName,le.formats(G)));return J}function ue(G,J){return M(J,`
`)||(F(G)||J.length()>0&&G.nextSibling&&F(G.nextSibling))&&J.insert(`
`),J}function fe(G,J){if(F(G)&&G.nextElementSibling!=null&&!M(J,`

`)){var le=G.offsetHeight+parseFloat(N(G).marginTop)+parseFloat(N(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+1.5*le&&J.insert(`
`)}return J}function ne(G,J){var le=G.data;if(G.parentNode.tagName==="O:P")return J.insert(le.trim());if(le.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return J;if(!N(G.parentNode).whiteSpace.startsWith("pre")){var de=function(se,ke){return(ke=ke.replace(/[^\u00a0]/g,"")).length<1&&se?" ":ke};le=(le=le.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,de.bind(de,!0)),(G.previousSibling==null&&F(G.parentNode)||G.previousSibling!=null&&F(G.previousSibling))&&(le=le.replace(/^\s+/,de.bind(de,!1))),(G.nextSibling==null&&F(G.parentNode)||G.nextSibling!=null&&F(G.nextSibling))&&(le=le.replace(/\s+$/,de.bind(de,!1)))}return J.insert(le)}H.DEFAULTS={matchers:[],matchVisual:!0},y.default=H,y.matchAttributor=U,y.matchBlot=Z,y.matchNewline=ue,y.matchSpacing=fe,y.matchText=ne},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),g=function l(o,n,a){o===null&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,n);if(u===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:l(c,n,a)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(a):void 0},h=function(l){function o(){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,o),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}(o,l),E(o,[{key:"optimize",value:function(n){g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"optimize",this).call(this,n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),o}(((w=b(6))&&w.__esModule?w:{default:w}).default);h.blotName="bold",h.tagName=["STRONG","B"],y.default=h},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.addControls=y.default=void 0;var w=function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return function(S,i){var A=[],O=!0,B=!1,q=void 0;try{for(var z,j=S[Symbol.iterator]();!(O=(z=j.next()).done)&&(A.push(z.value),!i||A.length!==i);O=!0);}catch(H){B=!0,q=H}finally{try{!O&&j.return&&j.return()}finally{if(B)throw q}}return A}(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function C(P,S){for(var i=0;i<S.length;i++){var A=S[i];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,S,i){return S&&C(P.prototype,S),i&&C(P,i),P}}(),g=a(b(2)),h=a(b(0)),l=a(b(5)),o=a(b(10)),n=a(b(9));function a(C){return C&&C.__esModule?C:{default:C}}function u(C,P){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?C:P}var c=(0,o.default)("quill:toolbar"),f=function(C){function P(S,i){(function(q,z){if(!(q instanceof z))throw new TypeError("Cannot call a class as a function")})(this,P);var A,O=u(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,S,i));if(Array.isArray(O.options.container)){var B=document.createElement("div");p(B,O.options.container),S.container.parentNode.insertBefore(B,S.container),O.container=B}else typeof O.options.container=="string"?O.container=document.querySelector(O.options.container):O.container=O.options.container;return O.container instanceof HTMLElement?(O.container.classList.add("ql-toolbar"),O.controls=[],O.handlers={},Object.keys(O.options.handlers).forEach(function(q){O.addHandler(q,O.options.handlers[q])}),[].forEach.call(O.container.querySelectorAll("button, select"),function(q){O.attach(q)}),O.quill.on(l.default.events.EDITOR_CHANGE,function(q,z){q===l.default.events.SELECTION_CHANGE&&O.update(z)}),O.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){var q=O.quill.selection.getRange(),z=w(q,1)[0];O.update(z)}),O):(A=c.error("Container required for toolbar",O.options),u(O,A))}return function(S,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);S.prototype=Object.create(i&&i.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(S,i):S.__proto__=i)}(P,C),E(P,[{key:"addHandler",value:function(S,i){this.handlers[S]=i}},{key:"attach",value:function(S){var i=this,A=[].find.call(S.classList,function(B){return B.indexOf("ql-")===0});if(A){if(A=A.slice(3),S.tagName==="BUTTON"&&S.setAttribute("type","button"),this.handlers[A]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[A]==null)return void c.warn("ignoring attaching to disabled format",A,S);if(h.default.query(A)==null)return void c.warn("ignoring attaching to nonexistent format",A,S)}var O=S.tagName==="SELECT"?"change":"click";S.addEventListener(O,function(B){var q=void 0;if(S.tagName==="SELECT"){if(S.selectedIndex<0)return;var z=S.options[S.selectedIndex];q=!z.hasAttribute("selected")&&(z.value||!1)}else q=!S.classList.contains("ql-active")&&(S.value||!S.hasAttribute("value")),B.preventDefault();i.quill.focus();var j=i.quill.selection.getRange(),H=w(j,1)[0];if(i.handlers[A]!=null)i.handlers[A].call(i,q);else if(h.default.query(A).prototype instanceof h.default.Embed){if(!(q=prompt("Enter "+A)))return;i.quill.updateContents(new g.default().retain(H.index).delete(H.length).insert(function(W,N,M){return N in W?Object.defineProperty(W,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):W[N]=M,W}({},A,q)),l.default.sources.USER)}else i.quill.format(A,q,l.default.sources.USER);i.update(H)}),this.controls.push([A,S])}}},{key:"update",value:function(S){var i=S==null?{}:this.quill.getFormat(S);this.controls.forEach(function(A){var O=w(A,2),B=O[0],q=O[1];if(q.tagName==="SELECT"){var z=void 0;if(S==null)z=null;else if(i[B]==null)z=q.querySelector("option[selected]");else if(!Array.isArray(i[B])){var j=i[B];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),z=q.querySelector('option[value="'+j+'"]')}z==null?(q.value="",q.selectedIndex=-1):z.selected=!0}else if(S==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var H=i[B]===q.getAttribute("value")||i[B]!=null&&i[B].toString()===q.getAttribute("value")||i[B]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",H)}else q.classList.toggle("ql-active",i[B]!=null)})}}]),P}(n.default);function x(C,P,S){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+P),S!=null&&(i.value=S),C.appendChild(i)}function p(C,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(S){var i=document.createElement("span");i.classList.add("ql-formats"),S.forEach(function(A){if(typeof A=="string")x(i,A);else{var O=Object.keys(A)[0],B=A[O];Array.isArray(B)?function(q,z,j){var H=document.createElement("select");H.classList.add("ql-"+z),j.forEach(function(W){var N=document.createElement("option");W!==!1?N.setAttribute("value",W):N.setAttribute("selected","selected"),H.appendChild(N)}),q.appendChild(H)}(i,O,B):x(i,O,B)}}),C.appendChild(i)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var C=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var S=this.quill.getFormat();Object.keys(S).forEach(function(i){h.default.query(i,h.default.Scope.INLINE)!=null&&C.quill.format(i,!1)})}else this.quill.removeFormat(P,l.default.sources.USER)},direction:function(C){var P=this.quill.getFormat().align;C==="rtl"&&P==null?this.quill.format("align","right",l.default.sources.USER):C||P!=="right"||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",C,l.default.sources.USER)},indent:function(C){var P=this.quill.getSelection(),S=this.quill.getFormat(P),i=parseInt(S.indent||0);if(C==="+1"||C==="-1"){var A=C==="+1"?1:-1;S.direction==="rtl"&&(A*=-1),this.quill.format("indent",i+A,l.default.sources.USER)}},link:function(C){C===!0&&(C=prompt("Enter link URL:")),this.quill.format("link",C,l.default.sources.USER)},list:function(C){var P=this.quill.getSelection(),S=this.quill.getFormat(P);C==="check"?S.list==="checked"||S.list==="unchecked"?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",C,l.default.sources.USER)}}},y.default=f,y.addControls=p},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),g=function l(o,n,a){o===null&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,n);if(u===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:l(c,n,a)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(a):void 0},h=function(l){function o(n,a){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n));return u.label.innerHTML=a,u.container.classList.add("ql-color-picker"),[].slice.call(u.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),u}return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}(o,l),E(o,[{key:"buildItem",value:function(n){var a=g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"buildItem",this).call(this,n);return a.style.backgroundColor=n.getAttribute("value")||"",a}},{key:"selectItem",value:function(n,a){g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,n,a);var u=this.label.querySelector(".ql-color-label"),c=n&&n.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=c:u.style.fill=c)}}]),o}(((w=b(28))&&w.__esModule?w:{default:w}).default);y.default=h},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),g=function l(o,n,a){o===null&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,n);if(u===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:l(c,n,a)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(a):void 0},h=function(l){function o(n,a){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n));return u.container.classList.add("ql-icon-picker"),[].forEach.call(u.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=a[c.getAttribute("data-value")||""]}),u.defaultItem=u.container.querySelector(".ql-selected"),u.selectItem(u.defaultItem),u}return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}(o,l),E(o,[{key:"selectItem",value:function(n,a){g(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,n,a),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),o}(((w=b(28))&&w.__esModule?w:{default:w}).default);y.default=h},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function g(h,l){for(var o=0;o<l.length;o++){var n=l[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}return function(h,l,o){return l&&g(h.prototype,l),o&&g(h,o),h}}(),E=function(){function g(h,l){var o=this;(function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")})(this,g),this.quill=h,this.boundsContainer=l||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"}),this.hide()}return w(g,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var l=h.left+h.width/2-this.root.offsetWidth/2,o=h.bottom+this.quill.root.scrollTop;this.root.style.left=l+"px",this.root.style.top=o+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),u=0;if(a.right>n.right&&(u=n.right-a.right,this.root.style.left=l+u+"px"),a.left<n.left&&(u=n.left-a.left,this.root.style.left=l+u+"px"),a.bottom>n.bottom){var c=a.bottom-a.top,f=h.bottom-h.top+c;this.root.style.top=o-f+"px",this.root.classList.add("ql-flip")}return u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),g}();y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=function i(A,O,B){A===null&&(A=Function.prototype);var q=Object.getOwnPropertyDescriptor(A,O);if(q===void 0){var z=Object.getPrototypeOf(A);return z===null?void 0:i(z,O,B)}if("value"in q)return q.value;var j=q.get;return j!==void 0?j.call(B):void 0},E=function(){function i(A,O){for(var B=0;B<O.length;B++){var q=O[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(A,q.key,q)}}return function(A,O,B){return O&&i(A.prototype,O),B&&i(A,B),A}}(),g=c(b(3)),h=c(b(8)),l=b(43),o=c(l),n=c(b(27)),a=b(15),u=c(b(41));function c(i){return i&&i.__esModule?i:{default:i}}function f(i,A){if(!(i instanceof A))throw new TypeError("Cannot call a class as a function")}function x(i,A){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?i:A}function p(i,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);i.prototype=Object.create(A&&A.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(i,A):i.__proto__=A)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],P=function(i){function A(O,B){f(this,A),B.modules.toolbar!=null&&B.modules.toolbar.container==null&&(B.modules.toolbar.container=C);var q=x(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,B));return q.quill.container.classList.add("ql-snow"),q}return p(A,i),E(A,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),u.default),this.tooltip=new S(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,q){O.handlers.link.call(O,!q.format.link)})}}]),A}(o.default);P.DEFAULTS=(0,g.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(i){if(i){var A=this.quill.getSelection();if(A==null||A.length==0)return;var O=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O),this.quill.theme.tooltip.edit("link",O)}else this.quill.format("link",!1)}}}}});var S=function(i){function A(O,B){f(this,A);var q=x(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,B));return q.preview=q.root.querySelector("a.ql-preview"),q}return p(A,i),E(A,[{key:"listen",value:function(){var O=this;w(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(O.linkRange!=null){var q=O.linkRange;O.restoreFocus(),O.quill.formatText(q,"link",!1,h.default.sources.USER),delete O.linkRange}B.preventDefault(),O.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(B,q,z){if(B!=null){if(B.length===0&&z===h.default.sources.USER){var j=function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(V,L){var U=[],Z=!0,ue=!1,fe=void 0;try{for(var ne,G=V[Symbol.iterator]();!(Z=(ne=G.next()).done)&&(U.push(ne.value),!L||U.length!==L);Z=!0);}catch(J){ue=!0,fe=J}finally{try{!Z&&G.return&&G.return()}finally{if(ue)throw fe}}return U}(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(O.quill.scroll.descendant(n.default,B.index),2),H=j[0],W=j[1];if(H!=null){O.linkRange=new a.Range(B.index-W,H.length());var N=n.default.formats(H.domNode);return O.preview.textContent=N,O.preview.setAttribute("href",N),O.show(),void O.position(O.quill.getBounds(O.linkRange))}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){w(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(l.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),y.default=P},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w=ue(b(29)),E=b(36),g=b(38),h=b(64),l=ue(b(65)),o=ue(b(66)),n=b(67),a=ue(n),u=b(37),c=b(26),f=b(39),x=b(40),p=ue(b(56)),C=ue(b(68)),P=ue(b(27)),S=ue(b(69)),i=ue(b(70)),A=ue(b(71)),O=ue(b(72)),B=ue(b(73)),q=b(13),z=ue(q),j=ue(b(74)),H=ue(b(75)),W=ue(b(57)),N=ue(b(41)),M=ue(b(28)),F=ue(b(59)),V=ue(b(60)),L=ue(b(61)),U=ue(b(108)),Z=ue(b(62));function ue(fe){return fe&&fe.__esModule?fe:{default:fe}}w.default.register({"attributors/attribute/direction":g.DirectionAttribute,"attributors/class/align":E.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":c.ColorClass,"attributors/class/direction":g.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":E.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":c.ColorStyle,"attributors/style/direction":g.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":x.SizeStyle},!0),w.default.register({"formats/align":E.AlignClass,"formats/direction":g.DirectionClass,"formats/indent":h.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":c.ColorStyle,"formats/font":f.FontClass,"formats/size":x.SizeClass,"formats/blockquote":l.default,"formats/code-block":z.default,"formats/header":o.default,"formats/list":a.default,"formats/bold":p.default,"formats/code":q.Code,"formats/italic":C.default,"formats/link":P.default,"formats/script":S.default,"formats/strike":i.default,"formats/underline":A.default,"formats/image":O.default,"formats/video":B.default,"formats/list/item":n.ListItem,"modules/formula":j.default,"modules/syntax":H.default,"modules/toolbar":W.default,"themes/bubble":U.default,"themes/snow":Z.default,"ui/icons":N.default,"ui/picker":M.default,"ui/icon-picker":V.default,"ui/color-picker":F.default,"ui/tooltip":L.default},!0),y.default=w.default},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.IndentClass=void 0;var w,E=function(){function n(a,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,u,c){return u&&n(a.prototype,u),c&&n(a,c),a}}(),g=function n(a,u,c){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,u);if(f===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:n(x,u,c)}if("value"in f)return f.value;var p=f.get;return p!==void 0?p.call(c):void 0},h=(w=b(0))&&w.__esModule?w:{default:w},l=function(n){function a(){return function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(a,n),E(a,[{key:"add",value:function(u,c){if(c==="+1"||c==="-1"){var f=this.value(u)||0;c=c==="+1"?f+1:f-1}return c===0?(this.remove(u),!0):g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"add",this).call(this,u,c)}},{key:"canAdd",value:function(u,c){return g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"canAdd",this).call(this,u,c)||g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"canAdd",this).call(this,u,parseInt(c))}},{key:"value",value:function(u){return parseInt(g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,u))||void 0}}]),a}(h.default.Attributor.Class),o=new l("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});y.IndentClass=o},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(g){function h(){return function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}(this,h),function(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?l:o}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(((w=b(4))&&w.__esModule?w:{default:w}).default);E.blotName="blockquote",E.tagName="blockquote",y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function h(l,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,o,n){return o&&h(l.prototype,o),n&&h(l,n),l}}(),g=function(h){function l(){return function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),function(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?o:n}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}(l,h),E(l,null,[{key:"formats",value:function(o){return this.tagName.indexOf(o.tagName)+1}}]),l}(((w=b(4))&&w.__esModule?w:{default:w}).default);g.blotName="header",g.tagName=["H1","H2","H3","H4","H5","H6"],y.default=g},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.ListItem=void 0;var w=function(){function x(p,C){for(var P=0;P<C.length;P++){var S=C[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,C,P){return C&&x(p.prototype,C),P&&x(p,P),p}}(),E=function x(p,C,P){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,C);if(S===void 0){var i=Object.getPrototypeOf(p);return i===null?void 0:x(i,C,P)}if("value"in S)return S.value;var A=S.get;return A!==void 0?A.call(P):void 0},g=o(b(0)),h=o(b(4)),l=o(b(25));function o(x){return x&&x.__esModule?x:{default:x}}function n(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function a(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?x:p}function u(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var c=function(x){function p(){return n(this,p),a(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return u(p,x),w(p,[{key:"format",value:function(C,P){C!==f.blotName||P?E(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,C,P):this.replaceWith(g.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():E(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(C,P){return this.parent.isolate(this.offset(this.parent),this.length()),C===this.parent.statics.blotName?(this.parent.replaceWith(C,P),this):(this.parent.unwrap(),E(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"replaceWith",this).call(this,C,P))}}],[{key:"formats",value:function(C){return C.tagName===this.tagName?void 0:E(p.__proto__||Object.getPrototypeOf(p),"formats",this).call(this,C)}}]),p}(h.default);c.blotName="list-item",c.tagName="LI";var f=function(x){function p(C){n(this,p);var P=a(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,C)),S=function(i){if(i.target.parentNode===C){var A=P.statics.formats(C),O=g.default.find(i.target);A==="checked"?O.format("list","unchecked"):A==="unchecked"&&O.format("list","checked")}};return C.addEventListener("touchstart",S),C.addEventListener("mousedown",S),P}return u(p,x),w(p,null,[{key:"create",value:function(C){var P=C==="ordered"?"OL":"UL",S=E(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,P);return C!=="checked"&&C!=="unchecked"||S.setAttribute("data-checked",C==="checked"),S}},{key:"formats",value:function(C){return C.tagName==="OL"?"ordered":C.tagName==="UL"?C.hasAttribute("data-checked")?C.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),w(p,[{key:"format",value:function(C,P){this.children.length>0&&this.children.tail.format(C,P)}},{key:"formats",value:function(){return C={},P=this.statics.blotName,S=this.statics.formats(this.domNode),P in C?Object.defineProperty(C,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[P]=S,C;var C,P,S}},{key:"insertBefore",value:function(C,P){if(C instanceof c)E(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,C,P);else{var S=P==null?this.length():P.offset(this),i=this.split(S);i.parent.insertBefore(C,i)}}},{key:"optimize",value:function(C){E(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,C);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&P.domNode.tagName===this.domNode.tagName&&P.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(P.moveChildren(this),P.remove())}},{key:"replace",value:function(C){if(C.statics.blotName!==this.statics.blotName){var P=g.default.create(this.statics.defaultChild);C.moveChildren(P),this.appendChild(P)}E(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"replace",this).call(this,C)}}]),p}(l.default);f.blotName="list",f.scope=g.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[c],y.ListItem=c,y.default=f},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(g){function h(){return function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}(this,h),function(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?l:o}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(((w=b(56))&&w.__esModule?w:{default:w}).default);E.blotName="italic",E.tagName=["EM","I"],y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function l(o,n){for(var a=0;a<n.length;a++){var u=n[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}return function(o,n,a){return n&&l(o.prototype,n),a&&l(o,a),o}}(),g=function l(o,n,a){o===null&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,n);if(u===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:l(c,n,a)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(a):void 0},h=function(l){function o(){return function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,o),function(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?n:a}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}(o,l),E(o,null,[{key:"create",value:function(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):g(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,n)}},{key:"formats",value:function(n){return n.tagName==="SUB"?"sub":n.tagName==="SUP"?"super":void 0}}]),o}(((w=b(6))&&w.__esModule?w:{default:w}).default);h.blotName="script",h.tagName=["SUB","SUP"],y.default=h},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(g){function h(){return function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}(this,h),function(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?l:o}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(((w=b(6))&&w.__esModule?w:{default:w}).default);E.blotName="strike",E.tagName="S",y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(g){function h(){return function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}(this,h),function(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?l:o}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}(h,g),h}(((w=b(6))&&w.__esModule?w:{default:w}).default);E.blotName="underline",E.tagName="U",y.default=E},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function a(u,c){for(var f=0;f<c.length;f++){var x=c[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}return function(u,c,f){return c&&a(u.prototype,c),f&&a(u,f),u}}(),g=function a(u,c,f){u===null&&(u=Function.prototype);var x=Object.getOwnPropertyDescriptor(u,c);if(x===void 0){var p=Object.getPrototypeOf(u);return p===null?void 0:a(p,c,f)}if("value"in x)return x.value;var C=x.get;return C!==void 0?C.call(f):void 0},h=(w=b(0))&&w.__esModule?w:{default:w},l=b(27),o=["alt","height","width"],n=function(a){function u(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,a),E(u,[{key:"format",value:function(c,f){o.indexOf(c)>-1?f?this.domNode.setAttribute(c,f):this.domNode.removeAttribute(c):g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,c,f)}}],[{key:"create",value:function(c){var f=g(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,c);return typeof c=="string"&&f.setAttribute("src",this.sanitize(c)),f}},{key:"formats",value:function(c){return o.reduce(function(f,x){return c.hasAttribute(x)&&(f[x]=c.getAttribute(x)),f},{})}},{key:"match",value:function(c){return/\.(jpe?g|gif|png)$/.test(c)||/^data:image\/.+;base64/.test(c)}},{key:"sanitize",value:function(c){return(0,l.sanitize)(c,["http","https","data"])?c:"//:0"}},{key:"value",value:function(c){return c.getAttribute("src")}}]),u}(h.default.Embed);n.blotName="image",n.tagName="IMG",y.default=n},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var w,E=function(){function a(u,c){for(var f=0;f<c.length;f++){var x=c[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}return function(u,c,f){return c&&a(u.prototype,c),f&&a(u,f),u}}(),g=function a(u,c,f){u===null&&(u=Function.prototype);var x=Object.getOwnPropertyDescriptor(u,c);if(x===void 0){var p=Object.getPrototypeOf(u);return p===null?void 0:a(p,c,f)}if("value"in x)return x.value;var C=x.get;return C!==void 0?C.call(f):void 0},h=b(4),l=(w=b(27))&&w.__esModule?w:{default:w},o=["height","width"],n=function(a){function u(){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,a),E(u,[{key:"format",value:function(c,f){o.indexOf(c)>-1?f?this.domNode.setAttribute(c,f):this.domNode.removeAttribute(c):g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,c,f)}}],[{key:"create",value:function(c){var f=g(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,c);return f.setAttribute("frameborder","0"),f.setAttribute("allowfullscreen",!0),f.setAttribute("src",this.sanitize(c)),f}},{key:"formats",value:function(c){return o.reduce(function(f,x){return c.hasAttribute(x)&&(f[x]=c.getAttribute(x)),f},{})}},{key:"sanitize",value:function(c){return l.default.sanitize(c)}},{key:"value",value:function(c){return c.getAttribute("src")}}]),u}(h.BlockEmbed);n.blotName="video",n.className="ql-video",n.tagName="IFRAME",y.default=n},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.FormulaBlot=void 0;var w=function(){function x(p,C){for(var P=0;P<C.length;P++){var S=C[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,C,P){return C&&x(p.prototype,C),P&&x(p,P),p}}(),E=function x(p,C,P){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,C);if(S===void 0){var i=Object.getPrototypeOf(p);return i===null?void 0:x(i,C,P)}if("value"in S)return S.value;var A=S.get;return A!==void 0?A.call(P):void 0},g=o(b(35)),h=o(b(5)),l=o(b(9));function o(x){return x&&x.__esModule?x:{default:x}}function n(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function a(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?x:p}function u(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var c=function(x){function p(){return n(this,p),a(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return u(p,x),w(p,null,[{key:"create",value:function(C){var P=E(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",C)),P}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),p}(g.default);c.blotName="formula",c.className="ql-formula",c.tagName="SPAN";var f=function(x){function p(){n(this,p);var C=a(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return u(p,x),w(p,null,[{key:"register",value:function(){h.default.register(c,!0)}}]),p}(l.default);y.FormulaBlot=c,y.default=f},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.CodeToken=y.CodeBlock=void 0;var w=function(){function p(C,P){for(var S=0;S<P.length;S++){var i=P[S];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(C,i.key,i)}}return function(C,P,S){return P&&p(C.prototype,P),S&&p(C,S),C}}(),E=function p(C,P,S){C===null&&(C=Function.prototype);var i=Object.getOwnPropertyDescriptor(C,P);if(i===void 0){var A=Object.getPrototypeOf(C);return A===null?void 0:p(A,P,S)}if("value"in i)return i.value;var O=i.get;return O!==void 0?O.call(S):void 0},g=o(b(0)),h=o(b(5)),l=o(b(9));function o(p){return p&&p.__esModule?p:{default:p}}function n(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function a(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?p:C}function u(p,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}var c=function(p){function C(){return n(this,C),a(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return u(C,p),w(C,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),E(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),C}(o(b(13)).default);c.className="ql-syntax";var f=new g.default.Attributor.Class("token","hljs",{scope:g.default.Scope.INLINE}),x=function(p){function C(P,S){n(this,C);var i=a(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,P,S));if(typeof i.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return i.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){i.highlight(),A=null},i.options.interval)}),i.highlight(),i}return u(C,p),w(C,null,[{key:"register",value:function(){h.default.register(f,!0),h.default.register(c,!0)}}]),w(C,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(i){i.highlight(P.options.highlight)}),this.quill.update(h.default.sources.SILENT),S!=null&&this.quill.setSelection(S,h.default.sources.SILENT)}}}]),C}(l.default);x.DEFAULTS={highlight:window.hljs==null?null:function(p){return window.hljs.highlightAuto(p).value},interval:1e3},y.CodeBlock=c,y.CodeToken=f,y.default=x},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(k,y){k.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(k,y){k.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(k,y){k.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(k,y){k.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(k,y){k.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(k,y,b){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BubbleTooltip=void 0;var w=function S(i,A,O){i===null&&(i=Function.prototype);var B=Object.getOwnPropertyDescriptor(i,A);if(B===void 0){var q=Object.getPrototypeOf(i);return q===null?void 0:S(q,A,O)}if("value"in B)return B.value;var z=B.get;return z!==void 0?z.call(O):void 0},E=function(){function S(i,A){for(var O=0;O<A.length;O++){var B=A[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(i,B.key,B)}}return function(i,A,O){return A&&S(i.prototype,A),O&&S(i,O),i}}(),g=u(b(3)),h=u(b(8)),l=b(43),o=u(l),n=b(15),a=u(b(41));function u(S){return S&&S.__esModule?S:{default:S}}function c(S,i){if(!(S instanceof i))throw new TypeError("Cannot call a class as a function")}function f(S,i){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?S:i}function x(S,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);S.prototype=Object.create(i&&i.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(S,i):S.__proto__=i)}var p=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(S){function i(A,O){c(this,i),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=p);var B=f(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,A,O));return B.quill.container.classList.add("ql-bubble"),B}return x(i,S),E(i,[{key:"extendToolbar",value:function(A){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),a.default)}}]),i}(o.default);C.DEFAULTS=(0,g.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=function(S){function i(A,O){c(this,i);var B=f(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,A,O));return B.quill.on(h.default.events.EDITOR_CHANGE,function(q,z,j,H){if(q===h.default.events.SELECTION_CHANGE)if(z!=null&&z.length>0&&H===h.default.sources.USER){B.show(),B.root.style.left="0px",B.root.style.width="",B.root.style.width=B.root.offsetWidth+"px";var W=B.quill.getLines(z.index,z.length);if(W.length===1)B.position(B.quill.getBounds(z));else{var N=W[W.length-1],M=B.quill.getIndex(N),F=Math.min(N.length()-1,z.index+z.length-M),V=B.quill.getBounds(new n.Range(M,F));B.position(V)}}else document.activeElement!==B.textbox&&B.quill.hasFocus()&&B.hide()}),B}return x(i,S),E(i,[{key:"listen",value:function(){var A=this;w(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var O=A.quill.getSelection();O!=null&&A.position(A.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var O=w(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"position",this).call(this,A),B=this.root.querySelector(".ql-tooltip-arrow");if(B.style.marginLeft="",O===0)return O;B.style.marginLeft=-1*O-B.offsetWidth/2+"px"}}]),i}(l.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),y.BubbleTooltip=P,y.default=C},function(k,y,b){k.exports=b(63)}]).default},$.exports=T()},7675:($,T,k)=>{"use strict";var y=k(3206),b=k(9675),w=Object;$.exports=y(function(){if(this==null||this!==w(this))throw new b("RegExp.prototype.flags getter called on non-object");var E="";return this.hasIndices&&(E+="d"),this.global&&(E+="g"),this.ignoreCase&&(E+="i"),this.multiline&&(E+="m"),this.dotAll&&(E+="s"),this.unicode&&(E+="u"),this.unicodeSets&&(E+="v"),this.sticky&&(E+="y"),E},"get flags",!0)},1589:($,T,k)=>{"use strict";var y=k(8452),b=k(487),w=k(7675),E=k(5330),g=k(3984),h=b(E());y(h,{getPolyfill:E,implementation:w,shim:g}),$.exports=h},5330:($,T,k)=>{"use strict";var y=k(7675),b=k(8452).supportsDescriptors,w=Object.getOwnPropertyDescriptor;$.exports=function(){if(b&&/a/gim.flags==="gim"){var E=w(RegExp.prototype,"flags");if(E&&typeof E.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var g="",h={};if(Object.defineProperty(h,"hasIndices",{get:function(){g+="d"}}),Object.defineProperty(h,"sticky",{get:function(){g+="y"}}),g==="dy")return E.get}}return y}},3984:($,T,k)=>{"use strict";var y=k(8452).supportsDescriptors,b=k(5330),w=Object.getOwnPropertyDescriptor,E=Object.defineProperty,g=TypeError,h=Object.getPrototypeOf,l=/a/;$.exports=function(){if(!y||!h)throw new g("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var o=b(),n=h(l),a=w(n,"flags");return a&&a.get===o||E(n,"flags",{configurable:!0,enumerable:!1,get:o}),o}},6897:($,T,k)=>{"use strict";var y=k(453),b=k(41),w=k(592)(),E=k(5795),g=k(9675),h=y("%Math.floor%");$.exports=function(l,o){if(typeof l!="function")throw new g("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||h(o)!==o)throw new g("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,u=!0;if("length"in l&&E){var c=E(l,"length");c&&!c.configurable&&(a=!1),c&&!c.writable&&(u=!1)}return(a||u||!n)&&(w?b(l,"length",o,!0,!0):b(l,"length",o)),l}},3206:($,T,k)=>{"use strict";var y=k(41),b=k(592)(),w=k(4462).functionsHaveConfigurableNames(),E=k(9675);$.exports=function(g,h){if(typeof g!="function")throw new E("`fn` is not a function");return arguments.length>2&&arguments[2]&&!w||(b?y(g,"name",h,!0,!0):y(g,"name",h)),g}}},mt={};function at($){var T=mt[$];if(T!==void 0)return T.exports;var k=mt[$]={exports:{}};return Qt[$].call(k.exports,k,k.exports,at),k.exports}at.n=$=>{var T=$&&$.__esModule?()=>$.default:()=>$;return at.d(T,{a:T}),T},at.d=($,T)=>{for(var k in T)at.o(T,k)&&!at.o($,k)&&Object.defineProperty($,k,{enumerable:!0,get:T[k]})},at.o=($,T)=>Object.prototype.hasOwnProperty.call($,T),(()=>{"use strict";function $(_,r){if(!(_ instanceof r))throw new TypeError("Cannot call a class as a function")}function T(_){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(_)}function k(_){var r=function(e,t){if(T(e)!="object"||!e)return e;var d=e[Symbol.toPrimitive];if(d!==void 0){var s=d.call(e,"string");if(T(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(_);return T(r)=="symbol"?r:String(r)}function y(_,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(_,k(t.key),t)}}function b(_,r,e){return r&&y(_.prototype,r),e&&y(_,e),Object.defineProperty(_,"prototype",{writable:!1}),_}function w(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function E(_,r){if(r&&(T(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(_)}function g(_){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g(_)}function h(_,r){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(_,r)}function l(_,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(r&&r.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),r&&h(_,r)}var o=function(){function _(){$(this,_)}return b(_,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(r){return!1}},{key:"replace",value:function(r){}}]),_}();function n(){return n=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(_,r,e){var t=function(s,m){for(;!Object.prototype.hasOwnProperty.call(s,m)&&(s=g(s))!==null;);return s}(_,r);if(t){var d=Object.getOwnPropertyDescriptor(t,r);return d.get?d.get.call(arguments.length<3?_:e):d.value}},n.apply(this,arguments)}function a(_,r,e){return r=g(r),E(_,u()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function u(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(u=function(){return!!_})()}o.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var c=function(_){function r(e,t,d,s){var m;if($(this,r),(m=a(this,r)).objId=e.getId(),m.moveToParentId=t.getId(),m.moveToPosition=d,m.oldParentId=e.getParent().getId(),m.oldPosition=e.getSiblingPosition(),m.oldContainerId=null,m.moveToContainerId=null,e.getData()instanceof we){var I=e.getData();m.oldContainerId=I.getValue("containerId");var v=s.getMainPanel().getContainerByItem(t);v!==null&&(m.moveToContainerId=v.getId())}return m.rb=s,m}return l(r,_),b(r,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var e=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<e&&e--,this.moveTo(this.moveToParentId,e,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(e,t,d){var s=this.rb.getDataObject(this.objId),m=this.rb.getDataObject(e);s!==null&&m!==null&&(s.getPanelItem().moveToPosition(m.getPanelItem(),t),s.getPanelItem().openParentItems(),this.rb.notifyEvent(s,o.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),r}(o);function f(_,r,e){return r=g(r),E(_,x()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function x(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(x=function(){return!!_})()}var p=function(_){function r(e,t,d,s,m){var I;$(this,r),(I=f(this,r)).objId=e,I.field=t,I.value=d,I.type=s,I.rb=m;var v=m.getDataObject(e);return I.oldValue=v.getValue(t),I.firstExecution=!0,I.select=!0,I.notifyChange=!0,I}return l(r,_),b(r,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(e){var t=this.rb.getDataObject(this.objId);if(t.setValue(this.field,e),this.field==="name"){var d=document.getElementById("rbro_menu_item_name".concat(this.objId));d.textContent=e,d.setAttribute("title",e),this.rb.notifyEvent(t,o.operation.rename)}!this.notifyChange||this.type===r.type.richText&&this.firstExecution||this.rb.notifyEvent(t,o.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(e){this.notifyChange=e}},{key:"allowReplace",value:function(e){return e instanceof r&&(this.type===r.type.text||this.type===r.type.richText)&&this.objId===e.objId&&this.field===e.field}},{key:"replace",value:function(e){this.oldValue=e.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),r}(o);p.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var C=function(){function _(r,e,t){$(this,_),this.rb=t,this.id=r,this.panelItem=null,this.name=e,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return b(_,[{key:"init",value:function(r){this.owner=r,this.el=r.getElement(),this.elContent=r.getContentElement(),this.panelItem=r.getPanelItem(),this.parent=r.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var r=this.parent;r!==null;)this.level++,r=r.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(r){this.elContent!==null&&this.elContent.append(r)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(r){this.parent=r,this.initLevel()}},{key:"isChildOf",value:function(r){for(var e=this.getParent();e!==null;){if(e===r)return!0;e=e.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(r){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(r){if(r!==null&&r!==this){var e=this.getOffset(),t=r.getOffset();return{x:e.x-t.x,y:e.y-t.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(r,e){var t=this.getOffset(),d=this.getSize();return r-=t.x,e-=t.y,r>=0&&e>=0&&r<d.width&&e<d.height}},{key:"clearErrors",value:function(){}}]),_}();function P(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return S(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?S(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function S(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function i(_,r,e){var t=document.createElement(_);if(r)for(var d in r)r.hasOwnProperty(d)&&t.setAttribute(d,r[d]);return e&&(t.textContent=e),t}function A(_){for(;_.firstChild;)_.removeChild(_.firstChild)}function O(_,r,e,t){var d=t||{};e&&(d.for=e),_.append(i("label",d,r+":"))}function B(_){var r=_.getBoundingClientRect();return{top:r.top+window.scrollY,left:r.left+window.scrollX}}function q(_){_.addEventListener("keyup",function(r){var e=r.target.value,t=e.replace(/[^0-9]/g,"");e!==t&&(r.target.value=t)})}function z(_,r,e){var t=parseFloat(_.replace(",","."));return isNaN(t)||t<r?""+r:t>e?""+e:_}function j(_){if(typeof _=="number")return _;if(typeof _=="string"&&_!==""){var r=parseFloat(_.replace(",","."));if(!isNaN(r))return r}return 0}function H(_,r){var e=Math.ceil(_/r)*r;return e-_<=r>>1?e:e-r}function W(_,r){return Math.floor(_/r)*r}function N(_,r){return Math.ceil(_/r)*r}function M(_,r,e,t){var d,s={shown:!1,paletteId:r.getAttribute("id")+"_select"},m=t.getProperty("colors"),I=i("div",{class:"rbroColorPalette rbroHidden"}),v=P(m);try{for(v.s();!(d=v.n()).done;){var D=d.value;I.append(i("span",{style:"color: ".concat(D),"data-value":D,class:"rbroColorPaletteItem"}))}}catch(X){v.e(X)}finally{v.f()}e&&I.append(i("span",{"data-value":"clear",class:"rbroClearColorPalette"},t.getLabel("clear"))),I.addEventListener("click",function(X){var Y=X.target.dataset.value;Y&&(Y==="clear"?(r.value="",r.dispatchEvent(new Event("change"))):r.value=Y,r.dispatchEvent(new Event("change"))),I.classList.add("rbroHidden"),X.stopImmediatePropagation()});var R=i("div",{id:s.paletteId,class:"rbroColorPicker"});return R.addEventListener("click",function(X){I.classList.toggle("rbroHidden"),s.shown=!s.shown}),_.prepend(R),_.append(I),r.addEventListener("focus",function(X){_.classList.add("rbroActive")}),r.addEventListener("blur",function(X){_.classList.remove("rbroActive")}),s.documentClickListener=function(X){var Y=X.target.id;s.shown&&Y!==s.paletteId&&(I.classList.add("rbroHidden"),s.shown=!1)},document.addEventListener("click",s.documentClickListener),s.destroy=function(){s.documentClickListener&&(document.removeEventListener("click",s.documentClickListener),s.documentClickListener=null)},s}function F(_){return!_||/^#[0-9A-F]{6}$/i.test(_)}function V(_){if(!(window.TouchEvent&&_ instanceof TouchEvent))return{x:_.pageX,y:_.pageY};if(_.touches.length>0){var r=_.touches[_.touches.length-1];return{x:r.pageX,y:r.pageY}}return null}function L(_,r,e){var t=new FileReader;t.onload=function(d){var s=new Image;s.onload=function(){var m=document.createElement("canvas"),I=e.getProperty("imageMaxSize");I&&(s.width>I||s.height>I)&&(s.width>s.height?(s.height=s.height*(I/s.width),s.width=I):(s.width=s.width*(I/s.height),s.height=I));var v=m.getContext("2d");v.clearRect(0,0,m.width,m.height),m.width=s.width,m.height=s.height,v.drawImage(s,0,0,s.width,s.height);var D=m.toDataURL("image/webp");D.substring(0,15)!=="data:image/webp"&&(e.getProperty("imageRequireWebPFormat")?(D=null,alert(e.getLabel("docElementLoadImageWebPErrorMsg"))):D.length>d.target.result.length&&(D=d.target.result)),D&&r(D,_.name)},s.src=d.target.result},t.onerror=function(d){alert(e.getLabel("docElementLoadImageErrorMsg"))},t.readAsDataURL(_)}function U(_,r,e,t){var d=t.getStyles();A(_),_.append(i("option",{value:""},t.getLabel("styleNone")));var s,m=P(d);try{for(m.s();!(s=m.n()).done;){var I=s.value;if(!r||I.getValue("type")===r){var v=i("option",{value:I.getId()},I.getName());e&&e===String(I.getId())&&(v.selected=!0),_.append(v)}}}catch(D){m.e(D)}finally{m.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var Z=b(function _(r,e){$(this,_),this.value=r,this.type=e});function ue(_,r){for(var e=0,t=[];e<_.length;){var d=_[e];if(/[0-9]/.test(d)){for(var s="";e<_.length&&/[0-9.]/.test(_[e]);)s+=_[e++];var m=parseFloat(s);t.push(new Z(m,Z.type.number))}else if(/[a-zA-Z]/.test(d)){for(var I="";e<_.length&&/[a-zA-Z0-9_]/.test(_[e]);)I+=_[e++];if(I==="true")t.push(new Z(!0,Z.type.boolean));else if(I==="false")t.push(new Z(!1,Z.type.boolean));else if(I==="docElementType")r!==null?t.push(new Z(r.getElementType(),Z.type.string)):t.push(new Z("",Z.type.string));else if(r===null)t.push(new Z(I,Z.type.field));else{var v,D=r.getValue(I);v=typeof D=="number"?Z.type.number:typeof D=="string"?Z.type.string:typeof D=="boolean"?Z.type.boolean:Z.type.undefined,t.push(new Z(D,v))}}else if(d!=="'")if(d!=="("&&d!==")")if(/[!=|&]/.test(d)){if(e++,d==="!"&&(e>=_.length||_[e]!=="=")){t.push(new Z(Z.operator.negate,Z.type.operator));continue}if(!(e<_.length))throw new Error("Invalid token ".concat(d," at end of input"));var R=_[e];if(d==="!"&&R==="=")t.push(new Z(Z.operator.notEqual,Z.type.operator)),e++;else if(d==="="&&R==="=")t.push(new Z(Z.operator.equal,Z.type.operator)),e++;else if(d==="|"&&R==="|")t.push(new Z(Z.operator.or,Z.type.operator)),e++;else{if(d!=="&"||R!=="&")throw new Error("Invalid token ".concat(R," at position ").concat(e));t.push(new Z(Z.operator.and,Z.type.operator)),e++}}else{if(d!==" ")throw new Error("Invalid token ".concat(d," at position ").concat(e));e++}else t.push(new Z(d,d==="("?Z.type.bracketOpen:Z.type.bracketClose)),e++;else{var X="";for(e++;e<_.length&&_[e]!=="'";)X+=_[e++];if(e>=_.length)throw new Error("Unterminated string token in input ".concat(_));t.push(new Z(X,Z.type.string)),e++}}return t}Z.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},Z.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var fe={"!":4,"!=":3,"==":3,"||":2,"&&":1};function ne(_,r){if(_.length===0)return!1;var e=_[_.length-1];return fe[e.value]>=fe[r.value]}function G(_,r){var e,t=r.pop().value;switch(_.value!==Z.operator.negate&&(e=r.pop().value),_.value){case Z.operator.and:return new Z(e&&t,Z.type.boolean);case Z.operator.or:return new Z(e||t,Z.type.boolean);case Z.operator.equal:return new Z(e===t,Z.type.boolean);case Z.operator.notEqual:return new Z(e!==t,Z.type.boolean);case Z.operator.negate:return new Z(!t,Z.type.boolean);default:throw new Error("Invalid operator: ".concat(_))}}function J(_,r){return function(e){for(var t=[],d=0;d<e.length;d++){var s=e[d];s.type!==Z.type.operator?t.push(s):t.push(G(s,t))}var m=t.pop();return m.type===Z.type.boolean?m.value:!!m.value}(function(e){for(var t=[],d=[],s=0;s<e.length;s++){var m=e[s];if(m.type===Z.type.operator){for(;ne(t,m);)d.push(t.pop());t.push(m)}else if(m.type===Z.type.bracketOpen)t.push(m);else if(m.type===Z.type.bracketClose){for(;t.length>0&&t[t.length-1]!==Z.type.bracketOpen;)d.push(t.pop());t.pop()}else d.push(m)}for(var I=t.length-1;I>=0;I--)d.push(t[I]);return d}(ue(_,r)))}function le(_,r,e){return r=g(r),E(_,de()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function de(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(de=function(){return!!_})()}var se=function(_){function r(e,t,d,s,m){var I;return $(this,r),(I=le(this,r,[d,s,m])).panelItem=null,I.bandType=e,I.section=t,t||(e===r.bandType.header?(I.id="0_header",I.name=m.getLabel("bandHeader")):e===r.bandType.content?(I.id="0_content",I.name=m.getLabel("bandContent"),I.allowAllElements=!0):e===r.bandType.footer&&(I.id="0_footer",I.name=m.getLabel("bandFooter"))),I.el=null,I}return l(r,_),b(r,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(e){return e!==we.type.tableText&&(this.bandType===r.bandType.content||e!==we.type.pageBreak&&e!==we.type.table&&e!==we.type.section)}},{key:"getOffset",value:function(){var e=0;if(this.section)this.owner!==null&&(e=this.owner.getAbsolutePosition().y);else{var t=this.rb.getDocumentProperties();this.bandType===r.bandType.content&&t.getValue("header")?e=j(t.getValue("headerSize")):this.bandType===r.bandType.footer&&(e=this.rb.getDocument().getHeight()-j(t.getValue("footerSize")))}return{x:0,y:e}}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties(),t=e.getValue("width")-e.getValue("marginLeftVal")-e.getValue("marginRightVal"),d=0;return this.section?this.owner!==null&&(d=this.owner.getValue("heightVal")):this.bandType===r.bandType.header?d=e.getValue("headerSizeVal"):this.bandType===r.bandType.content?d=e.getValue("height")-e.getValue("headerSizeVal")-e.getValue("footerSizeVal")-e.getValue("marginTopVal")-e.getValue("marginBottomVal"):this.bandType===r.bandType.footer&&(d=e.getValue("footerSizeVal")),{width:t,height:d}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(e,t){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&n(g(r.prototype),"isInside",this).call(this,e,t)}}]),r}(C);function ke(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function xe(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return De(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?De(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function De(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}se.bandType={header:"header",content:"content",footer:"footer"};var ye=function(){function _(r,e,t){$(this,_),this.rb=t,this.id=r,this.name=t.getLabel("style"),this.panelItem=null,this.errors=[],this.type=_.type.text,this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=_.alignment.left,this.verticalAlignment=_.alignment.top,this.color="#000000",this.textColor="#000000",this.backgroundColor="",this.alternateBackgroundColor="",this.font=t.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.border="grid",this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(e)}return b(_,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);this.borderWidthVal=j(this.borderWidth)}},{key:"getFields",value:function(){var r=this.getProperties();return r.splice(0,0,"id"),r}},{key:"getProperties",value:function(){return["name","type","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","color","textColor","backgroundColor","alternateBackgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","border","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getStyleProperties",value:function(){return this.getProperties().slice(2)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){if(this[r]=e,r.indexOf("border")!==-1&&(r==="borderWidth"&&(this.borderWidthVal=j(e)),_.setBorderValue(this,r,"",e,this.rb)),r!=="name"){var t,d=xe(this.rb.getDocElements(!0));try{for(d.s();!(t=d.n()).done;)t.value.updateChangedStyle(this.getId())}catch(s){d.e(s)}finally{d.f()}}}},{key:"getUpdateValue",value:function(r,e){return e}},{key:"addCommandsForChangedProperty",value:function(r,e,t,d){var s,m=""+this.getId(),I=xe(this.rb.getDocElements(!0));try{for(I.s();!(s=I.n()).done;){var v=s.value;if(v.hasProperty("styleId")){if(v.getValue("styleId")===m&&v.getValue(r)!==e){var D=new p(v.getId(),r,e,t,this.rb);D.disableSelect(),d.addCommand(D)}if(v.getValue("cs_styleId")===m&&v.getValue("cs_"+r)!==e){var R=new p(v.getId(),"cs_"+r,e,t,this.rb);R.disableSelect(),d.addCommand(R)}}}}catch(X){I.e(X)}finally{I.f()}}},{key:"addCommandsForDelete",value:function(r){var e,t,d=xe(this.rb.getDocElements(!0));try{for(d.s();!(t=d.n()).done;){var s=t.value;s.getElementType()!==we.type.text&&s.getElementType()!==we.type.tableText||!s.getValue("styleId")||j(s.getValue("styleId"))!==this.id||(e=new p(s.getId(),"styleId","",p.type.text,this.rb),r.addCommand(e))}}catch(m){d.e(m)}finally{d.f()}e=new Te(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),r.addCommand(e)}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var r,e={},t=xe(this.getFields());try{for(t.s();!(r=t.n()).done;){var d=r.value;e[d]=this.getValue(d)}}catch(s){t.e(s)}finally{t.f()}return e}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(r,e,t,d,s){var m=e;if(t.length>0&&(m=m.substring(t.length)),m==="borderLeft"||m==="borderTop"||m==="borderRight"||m==="borderBottom"){var I=r.getValue("".concat(t,"borderLeft"))&&r.getValue("".concat(t,"borderTop"))&&r.getValue("".concat(t,"borderRight"))&&r.getValue("".concat(t,"borderBottom")),v="".concat(t,"borderAll");I!==r[v]&&(r[v]=I,s.notifyEvent(r,o.operation.change,v))}}}]),_}();function Be(_,r,e){return r=g(r),E(_,He()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function He(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(He=function(){return!!_})()}ye.type={text:"text",line:"line",image:"image",table:"table",tableBand:"tableBand",frame:"frame",sectionBand:"sectionBand"},ye.font={courier:"courier",helvetica:"helvetica",times:"times"},ye.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var Te=function(_){function r(e,t,d,s,m,I){var v;return $(this,r),(v=Be(this,r)).add=e,v.initialData=t,v.parentId=s,v.position=m,v.rb=I,v.id=d,v}return l(r,_),b(r,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var e=this.rb.getDataObject(this.parentId);if(e!==null){var t=new ye(this.id,this.initialData,this.rb),d=new Ue("style",e.getPanelItem(),t,{draggable:!0},this.rb);d.openParentItems(),t.setPanelItem(d),e.getPanelItem().insertChild(this.position,d),this.rb.addStyle(t)}}},{key:"deleteStyle",value:function(){var e=this.rb.getDataObject(this.id);e!==null&&(this.initialData=e.toJS(),this.rb.deleteStyle(e))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),r}(o);function Se(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return Me(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Me(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function Me(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function Ke(_,r,e){return r=g(r),E(_,We()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function We(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(We=function(){return!!_})()}var _e=function(_){function r(e,t){var d;return $(this,r),(d=Ke(this,r)).name=e,d.rb=t,d.commands=[],d.selectObjectIds=[],d.selectionCmdIndex=[],d}return l(r,_),b(r,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex[this.selectionCmdIndex.length-1],t=0;t<this.commands.length;t++){var d=this.commands[t];d instanceof p&&d.setNotifyChange(t>=e)}for(var s=0;s<this.commands.length;s++)this.commands[s].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,t=this.commands.length-1;t>=0;t--){var d=this.commands[t];d instanceof p&&d.setNotifyChange(t<e)}for(var s=this.commands.length-1;s>=0;s--)this.commands[s].undo();this.selectObjects()}},{key:"addCommand",value:function(e){e instanceof p&&e.disableSelect(),this.commands.push(e)}},{key:"addSelection",value:function(e){this.selectObjectIds.indexOf(e)===-1&&this.selectObjectIds.push(e),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var e,t=!0,d=Se(this.selectObjectIds);try{for(d.s();!(e=d.n()).done;){var s=e.value;if(!this.rb.isSelectedObject(s)){t=!1;break}}}catch(R){d.e(R)}finally{d.f()}if(!t){var m,I=!0,v=Se(this.selectObjectIds);try{for(v.s();!(m=v.n()).done;){var D=m.value;this.rb.selectObject(D,I),I=!1}}catch(R){v.e(R)}finally{v.f()}}}},{key:"allowReplace",value:function(e){if(e instanceof r){var t=e.getCommands();if(this.commands.length===t.length){for(var d=0;d<this.commands.length;d++)if(!this.commands[d].allowReplace(t[d]))return!1;return!0}}return!1}},{key:"replace",value:function(e){for(var t=e.getCommands(),d=0;d<this.commands.length;d++)this.commands[d].replace(t[d])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),r}(o);function tt(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return dt(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?dt(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function dt(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var Ue=function(){function _(r,e,t,d,s){var m=this;$(this,_),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1,static:!1},Object.assign(this.properties,d),this.panelName=r;var I=t!==null?t.getName():d.name?d.name:"";this.id=t!==null?t.getId():d.id,this.parent=e,this.data=t,this.rb=s,this.children=[],this.dragEnterCount=0,this.element=i("li"),this.properties.visible||this.element.classList.add("rbroHidden");var v=i("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(v.setAttribute("draggable","true"),v.addEventListener("dragstart",function(Y){Y.dataTransfer.setData("text/plain",""),Y.dataTransfer.effectAllowed="move",m.rb.startBrowserDrag("panelItem",null,m.id),Y.stopPropagation()})),v.addEventListener("dragover",function(Y){m.rb.isBrowserDragActive("panelItem")&&m.rb.getBrowserDragId()!==m.id&&m.getDropObjectInfo().allowDrop&&(Y.preventDefault(),Y.stopPropagation())}),v.addEventListener("dragenter",function(Y){m.rb.isBrowserDragActive("panelItem")&&m.rb.getBrowserDragId()!==m.id&&m.getDropObjectInfo().allowDrop&&(v.classList.add("rbroMenuItemDragOver"),m.dragEnterCount++,Y.preventDefault())}),v.addEventListener("dragleave",function(Y){m.rb.isBrowserDragActive("panelItem")&&m.rb.getBrowserDragId()!==m.id&&m.getDropObjectInfo().allowDrop&&(m.dragEnterCount--,m.dragEnterCount===0&&v.classList.remove("rbroMenuItemDragOver"))}),v.addEventListener("drop",function(Y){if(m.rb.isBrowserDragActive("panelItem")&&m.rb.getBrowserDragId()!==m.id){var ae=m.getDropObjectInfo();if(ae.allowDrop){m.dragEnterCount--,v.classList.remove("rbroMenuItemDragOver");var Q=new _e("Move panel item",m.rb),ie=m.rb.getDataObject(m.rb.getBrowserDragId());if(ie instanceof we&&ie.getValue("containerId")!==ae.container.getId()){ie.checkBounds(ie.getValue("xVal"),ie.getValue("yVal"),ie.getValue("widthVal"),ie.getValue("heightVal"),ae.container.getSize(),Q);var me=new p(ie.getId(),"containerId",ae.container.getId(),p.type.internal,m.rb);Q.addCommand(me)}var he=new c(ie.getPanelItem(),ae.panel,ae.position,m.rb);return Q.addCommand(he),m.rb.executeCommand(Q),Y.preventDefault(),!1}}});var D=i("div",{class:"rbroMenuItemText"});if(D.append(i("span",{id:"rbro_menu_item_name".concat(this.id)},I)),this.properties.showAdd){var R=i("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});R.addEventListener("click",function(Y){if(r==="parameter"){var ae=new St(!0,{},m.rb.getUniqueId(),m.getId(),-1,m.rb);m.rb.executeCommand(ae)}else if(r==="style"){var Q=new Te(!0,{},m.rb.getUniqueId(),m.getId(),-1,m.rb);m.rb.executeCommand(Q)}else if(r==="watermarkText"||r==="watermarkImage"){var ie,me={containerId:m.getId()};ie=r==="watermarkText"?we.type.watermarkText:we.type.watermarkImage;var he=new gt(!0,ie,me,m.rb.getUniqueId(),m.getId(),-1,m.rb);m.rb.executeCommand(he)}var be=m.children[m.children.length-1];m.rb.selectObject(be.getId(),!0),Y.stopPropagation()}),v.append(R)}if(this.properties.showDelete){var X=i("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});X.addEventListener("click",function(Y){var ae=null;r==="parameter"?ae=new St(!1,m.getData().toJS(),m.getId(),m.parent.getId(),m.getSiblingPosition(),m.rb):(r==="style"||m.isDocElementPanel()&&m.getData()instanceof we)&&(ae=new _e("Delete",m),m.getData().addCommandsForDelete(ae)),ae!==null&&m.rb.executeCommand(ae),Y.stopPropagation()}),v.append(X)}v.addEventListener("click",function(Y){if(!m.properties.hasDetails||document.getElementById("rbro_menu_item".concat(m.id)).classList.contains("rbroMenuItemActive")){var ae=document.getElementById("rbro_menu_item_children".concat(m.id));ae&&(v.classList.toggle("rbroMenuItemOpen"),ae.classList.toggle("rbroHidden"))}if(m.properties.hasDetails)if(m.rb.isSelectedObject(m.id))Y.shiftKey&&m.rb.deselectObject(m.id);else{var Q=!0;m.isDocElementPanel()&&(Q=!Y.shiftKey),m.rb.selectObject(m.id,Q)}}),this.properties.hasChildren&&(v.classList.add("rbroMenuItemNoChildren"),D.append(i("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(i("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),v.prepend(D),this.element.prepend(v)}return b(_,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(r){this.data=r,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=r!==null?r.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var r=[],e=this.getParent();e!==null;)r.push(e.id),e=e.getParent();return r}},{key:"openParentItems",value:function(){for(var r=this.getParent();r!==null;)r.open(),r=r.getParent()}},{key:"open",value:function(){var r=document.getElementById("rbro_menu_item_children".concat(this.getId()));r&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),r.classList.remove("rbroHidden"))}},{key:"close",value:function(){var r=document.getElementById("rbro_menu_item_children".concat(this.getId()));r&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),r.classList.add("rbroHidden"))}},{key:"appendChild",value:function(r){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(r),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(r.getElement())}},{key:"insertChild",value:function(r,e){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),r!==-1?this.children.splice(r,0,e):this.children.push(e);var t=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));r>=0&&r<t.length?t[r].before(e.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(e.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(r){return this.getChildByNameExclude(r,null)}},{key:"getChildByNameExclude",value:function(r,e){var t,d=tt(this.children);try{for(d.s();!(t=d.n()).done;){var s=t.value;if(s.getData()!==null&&s.getData()!==e&&s.getData().getName()===r)return s}}catch(m){d.e(m)}finally{d.f()}return null}},{key:"removeChild",value:function(r){this.removeChildInternal(r,!0)}},{key:"removeChildInternal",value:function(r,e){for(var t=0;t<this.children.length;t++)if(r.getId()===this.children[t].getId()){if(this.children.splice(t,1),e&&r.getElement().remove(),this.children.length===0){var d=document.getElementById("rbro_menu_item".concat(this.getId()));d!==null&&d.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var r=this.getParent().getChildren(),e=0;e<r.length;e++)if(r[e]===this)return e}return 0}},{key:"moveTo",value:function(r){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=r,r.appendChild(this)}},{key:"moveToPosition",value:function(r,e){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=r,r.insertChild(e,this)}},{key:"clear",value:function(){if(this.children.length>0)if(this.properties.static){var r,e=tt(this.children);try{for(e.s();!(r=e.n()).done;)r.value.clear()}catch(t){e.e(t)}finally{e.f()}}else A(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[]}},{key:"getDropObjectInfo",value:function(){var r={allowDrop:!1,panel:null,position:-1,container:null},e=this.rb.getDataObject(this.rb.getBrowserDragId());if(e!==null){var t=!1;if(e instanceof we){if(this.data instanceof we&&this.data.isDroppingAllowed()?(r.container=this.data.getLinkedContainer(),r.container===null&&(r.container=this.data.getContainer(),t=!0)):this.panelName==="band"&&(r.container=this.data),r.container!==null&&r.container.isElementAllowed(e.getElementType())){r.allowDrop=!0;var d,s=tt(e.getLinkedContainers());try{for(s.s();!(d=s.n()).done;){var m=d.value;if(m===r.container||r.container.isChildOf(m)){r.allowDrop=!1;break}}}catch(v){s.e(v)}finally{s.f()}}}else if(e instanceof re)if(this.data instanceof re){var I=this.data.getParent();I!==null?I.getValue("type")===re.type.array?e.getValue("type")!==re.type.array&&e.getValue("type")!==re.type.map&&e.getValue("type")!==re.type.sum&&e.getValue("type")!==re.type.average&&(r.allowDrop=!0,t=!0):I.getValue("type")===re.type.map&&e.getValue("type")!==re.type.array&&e.getValue("type")!==re.type.map&&(r.allowDrop=!0,t=!0):(r.allowDrop=!0,t=!0)}else this.panelName==="parameter"&&(r.allowDrop=!0);else e instanceof ye&&(this.data instanceof ye?(r.allowDrop=!0,t=!0):this.panelName==="style"&&(r.allowDrop=!0));r.allowDrop&&(t?(r.panel=this.getParent(),r.position=this.getSiblingPosition()+1):(r.panel=this,r.position=0),(r.panel===null||r.panel===e.getPanelItem().getParent()&&r.position===e.getPanelItem().getSiblingPosition())&&(r.allowDrop=!1))}return r}},{key:"isDocElementPanel",value:function(){return this.panelName===we.type.text||this.panelName===we.type.image||this.panelName===we.type.line||this.panelName===we.type.table||this.panelName===we.type.pageBreak||this.panelName===we.type.barCode||this.panelName===we.type.frame||this.panelName===we.type.section}}]),_}();function Lt(_,r,e){return r=g(r),E(_,yt()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function yt(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(yt=function(){return!!_})()}var St=function(_){function r(e,t,d,s,m,I){var v;return $(this,r),(v=Lt(this,r)).add=e,v.initialData=t,v.parentId=s,v.position=m,v.rb=I,v.id=d,v.showDelete=!0,v}return l(r,_),b(r,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(e){this.showDelete=e}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var e=this.rb.getDataObject(this.parentId);if(e!==null){var t=new re(this.id,this.initialData,this.rb);this.rb.addParameter(t);var d=new Ue("parameter",e.getPanelItem(),t,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);d.openParentItems(),t.setPanelItem(d),e.getPanelItem().insertChild(this.position,d),t.setup(),this.rb.notifyEvent(t,o.operation.add)}}},{key:"deleteParameter",value:function(){var e=this.rb.getDataObject(this.id);e!==null&&(this.initialData=e.toJS(),this.rb.deleteParameter(e))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),r}(o);function st(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return yr(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?yr(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function yr(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var er,Vt,Ut,re=function(){function _(r,e,t){$(this,_),this.rb=t,this.id=r,this.name=t.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=_.type.string,this.arrayItemType=_.type.string,this.eval=!t.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.testDataRichText="",this.children=[],this.editable=t.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(e)}return b(_,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);"showOnlyNameType"in r&&r.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(r){r?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===_.type.array||this.type===_.type.map){var r,e=this.rb.getProperty("adminMode"),t=st(this.children);try{for(t.s();!(r=t.n()).done;){var d=r.value,s=new _(d.id||this.rb.getUniqueId(),d,this.rb);this.rb.addParameter(s);var m=new Ue("parameter",this.panelItem,s,{hasChildren:!0,showAdd:e,showDelete:e,draggable:!0},this.rb);s.setPanelItem(m),this.panelItem.appendChild(m),s.setup(),this.rb.notifyEvent(s,o.operation.add)}}catch(I){t.e(I)}finally{t.f()}}this.updateMenuItemDisplay()}},{key:"isRangeFunction",value:function(){return this.type===_.type.average||this.type===_.type.sum}},{key:"getFields",value:function(){var r=this.getProperties();return r.splice(0,0,"id"),r}},{key:"getProperties",value:function(){return["name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename","testDataRichText"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var r,e=this.id;if(this.type===_.type.array||this.type===_.type.map)for(var t=this.children.slice(),d=0;d<t.length;){var s=t[d];s.id>e&&(e=s.id),s.type!==_.type.array&&s.type!==_.type.map||t.push.apply(t,function(m){if(Array.isArray(m))return ke(m)}(r=s.children)||function(m){if(typeof Symbol!="undefined"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(r)||function(m,I){if(m){if(typeof m=="string")return ke(m,I);var v=Object.prototype.toString.call(m).slice(8,-1);return v==="Object"&&m.constructor&&(v=m.constructor.name),v==="Map"||v==="Set"?Array.from(m):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ke(m,I):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),d++}return e}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){this[r]=e,r==="type"&&this.updateMenuItemDisplay()}},{key:"getUpdateValue",value:function(r,e){return e}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===_.type.array||this.type===_.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof _?this.panelItem.getParent().getData():null}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(r,e,t){this.addCommandForChangedParameterName(r,e,"expression",t);var d,s=st(this.getChildren());try{for(s.s();!(d=s.n()).done;)d.value.addCommandsForChangedParameterName(r,e,t)}catch(m){s.e(m)}finally{s.f()}}},{key:"addCommandForChangedParameterName",value:function(r,e,t,d){var s,m,I=r.getParent();if(I!==null&&I.getValue("type")===_.type.map?(s="${"+I.getName()+"."+r.getName()+"}",m="${"+I.getName()+"."+e+"}"):r.getValue("type")===_.type.map?(s="${"+r.getName()+".",m="${"+e+"."):(s="${"+r.getName()+"}",m="${"+e+"}"),this.getValue(t).indexOf(s)!==-1){var v=new p(this.id,t,this.getValue(t).replaceAll(s,m),p.type.text,this.rb);d.addCommand(v)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(r,e,t){var d=e.length>0?e[0]:null;if(d!==null&&(d.type===_.type.array||d.type===_.type.map))try{var s=d.getTestData(!0);this.renameTestDataParameter(s,this.getName(),r,e,0);var m=JSON.stringify(s);if(this.testData!==m){var I=new p(d.getId(),"testData",m,p.type.text,this.rb);t.addCommand(I)}}catch(v){}}},{key:"renameTestDataParameter",value:function(r,e,t,d,s){var m,I=s+1,v=I<d.length,D=v?d[I].getName():e,R=st(r);try{for(R.s();!(m=R.n()).done;){var X=m.value;D in X&&(v?this.renameTestDataParameter(X[D],e,t,d,I):(X[t]=X[D],delete X[D]))}}catch(Y){R.e(Y)}finally{R.f()}}},{key:"addCommandsForChangedParameterType",value:function(r,e){if(this.type===_.type.array||this.type===_.type.simpleArray||this.type===_.type.map||r===_.type.array||r===_.type.simpleArray||r===_.type.map){var t=new p(this.getId(),"testData","",p.type.text,this.rb);e.addCommand(t)}if(this.type!==_.type.array&&r===_.type.array){var d={name:"row_number",type:_.type.number,eval:!1,editable:!1,showOnlyNameType:!0},s=new St(!0,d,this.rb.getUniqueId(),this.getId(),0,this.rb);s.setShowDelete(!1),e.addCommand(s)}else if(this.type===_.type.array&&r!==_.type.array){var m,I=st(this.getChildren());try{for(I.s();!(m=I.n()).done;){var v=m.value;if(v.getValue("name")==="row_number"&&!v.getValue("editable")){var D=new St(!1,v.toJS(),v.getId(),this.getId(),v.getPanelItem().getSiblingPosition(),this.rb);e.addCommand(D);break}}}catch(R){I.e(R)}finally{I.f()}}}},{key:"toJS",value:function(){var r,e={},t=st(this.getFields());try{for(t.s();!(r=t.n()).done;){var d=r.value;e[d]=this.getValue(d)}}catch(D){t.e(D)}finally{t.f()}if(this.type===_.type.array||this.type===_.type.map){var s,m=[],I=st(this.panelItem.getChildren());try{for(I.s();!(s=I.n()).done;){var v=s.value;m.push(v.getData().toJS())}}catch(D){I.e(D)}finally{I.f()}e.children=m}return e}},{key:"getChildren",value:function(){var r=[];if(this.type===_.type.array||this.type===_.type.map){var e,t=st(this.panelItem.getChildren());try{for(t.s();!(e=t.n()).done;){var d=e.value;r.push(d.getData())}}catch(s){t.e(s)}finally{t.f()}}return r}},{key:"appendParameterItems",value:function(r,e,t){this.appendParameterItemsWithPrefix(r,e,t,"")}},{key:"appendParameterItemsWithPrefix",value:function(r,e,t,d){if(this.type===_.type.map){var s,m=[],I=[],v=st(this.getChildren());try{for(v.s();!(s=v.n()).done;){var D=s.value;D.type===_.type.map?I.push(D):D.isAllowed(e)&&m.push(D)}}catch(me){v.e(me)}finally{v.f()}if(m.length>0){r.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:d+this.name});var R,X=st(m);try{for(X.s();!(R=X.n()).done;){var Y=R.value,ae=d+this.name+"."+Y.getName();r.push({name:ae,nameLowerCase:ae.toLowerCase(),id:Y.getId(),description:"",dataSourceName:t})}}catch(me){X.e(me)}finally{X.f()}}for(var Q=0,ie=I;Q<ie.length;Q++)ie[Q].appendParameterItemsWithPrefix(r,e,t,d+this.name+".")}else this.isAllowed(e)&&r.push({name:d+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:t})}},{key:"isAllowed",value:function(r){return this.type!==_.type.array?!Array.isArray(r)||r.indexOf(this.type)!==-1:Array.isArray(r)&&r.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(r,e,t,d){if(this.type===_.type.array){var s,m=!0,I=st(this.panelItem.getChildren());try{for(I.s();!(s=I.n()).done;){var v=s.value.getData();if(!Array.isArray(e)||e.indexOf(v.getValue("type"))!==-1){if(t){m&&r.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var D=v.getName();r.push({name:D,nameLowerCase:D.toLowerCase(),id:v.getId(),description:"",dataSourceName:d})}else{var R=this.name+"."+v.getName();r.push({name:R,nameLowerCase:R.toLowerCase(),id:v.getId(),description:"",dataSourceName:d})}m=!1}}}catch(Y){I.e(Y)}finally{I.f()}}if(t)for(var X=this.getParent();X!==null;){if(X.type===_.type.array){X.appendFieldParameterItems(r,e,t,X.name);break}X=X.getParent()}}},{key:"getParameterFields",value:function(){var r=[];if(this.type===_.type.array||this.type===_.type.simpleArray||this.type===_.type.map)if(this.type===_.type.simpleArray)r.push({name:"data",type:this.arrayItemType,parameter:this});else{var e,t=st(this.getChildren());try{for(t.s();!(e=t.n()).done;){var d=e.value;d.showOnlyNameType||d.eval||d.isRangeFunction()||r.push({name:d.getName(),type:d.getValue("type"),parameter:d})}}catch(s){t.e(s)}finally{t.f()}}return r}},{key:"getTestData",value:function(r){var e=null;try{e=JSON.parse(this.testData)}catch(t){}return this.type!==_.type.array&&this.type!==_.type.simpleArray&&this.type!==_.type.map||!e?null:_.getSanitizedTestData(this,e,r)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(r,e,t){var d;if(r.type===_.type.map)e&&Object.getPrototypeOf(e)===Object.prototype||(e={}),d=_.getSanitizedTestDataMap(r,e,t);else if(r.type===_.type.simpleArray)d=_.getSanitizedTestDataSimpleArray(r,e,t);else if(r.type===_.type.array){Array.isArray(e)||(e=[]),d=[];var s,m=st(e);try{for(m.s();!(s=m.n()).done;){var I=s.value;I&&Object.getPrototypeOf(I)===Object.prototype||(I={}),d.push(_.getSanitizedTestDataMap(r,I,t))}}catch(v){m.e(v)}finally{m.f()}}return d}},{key:"getSanitizedTestDataMap",value:function(r,e,t){var d,s={},m=st(r.getChildren());try{for(m.s();!(d=m.n()).done;){var I=d.value;if(!I.showOnlyNameType){var v=I.name in e?e[I.name]:null;I.type===_.type.array||I.type===_.type.map?s[I.name]=_.getSanitizedTestData(I,v,t):I.type===_.type.simpleArray?s[I.name]=_.getSanitizedTestDataSimpleArray(I,v,t):s[I.name]=_.getSanitizedTestDataValue(I.type,v,t)}}}catch(D){m.e(D)}finally{m.f()}return s}},{key:"getSanitizedTestDataSimpleArray",value:function(r,e,t){var d=e;Array.isArray(d)||(d=[]);var s,m=[],I=st(d);try{for(I.s();!(s=I.n()).done;){var v=s.value;if(Object.getPrototypeOf(v)===Object.prototype){var D=_.getSanitizedTestDataValue(r.arrayItemType,v.data,t);t?m.push({data:D}):m.push(D)}}}catch(R){I.e(R)}finally{I.f()}return m}},{key:"getSanitizedTestDataValue",value:function(r,e,t){var d=null;if(r===_.type.string)typeof e=="string"&&(d=e);else if(r===_.type.number){if(typeof e=="number")d=e;else if(typeof e=="string"){var s=Number(e.replaceAll(",","."));isNaN(s)||(d=s)}}else r===_.type.boolean?d=typeof e=="boolean"?e:!!e:r===_.type.date?typeof e=="string"&&_.dateRegex.test(e)&&(d=e):r===_.type.image?d=e&&Object.getPrototypeOf(e)===Object.prototype&&"data"in e&&"filename"in e?t?e:e.data:t?{data:"",filename:""}:"":r===_.type.richText&&typeof e=="string"&&(d=e);return d}},{key:"removeIds",value:function(r){if(r.children){var e,t=st(r.children);try{for(t.s();!(e=t.n()).done;){var d=e.value;"id"in d&&delete d.id}}catch(s){t.e(s)}finally{t.f()}}}}]),_}();function Et(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return Yr(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Yr(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function Yr(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}er=re,Ut=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(Vt=k(Vt="dateRegex"))in er?Object.defineProperty(er,Vt,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):er[Vt]=Ut,re.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",richText:"rich_text",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var we=function(){function _(r,e,t,d,s){$(this,_),this.rb=s,this.id=e,this.name=r,this.panelItem=null,this.x="0",this.y="0",this.width=""+t,this.height=""+d,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.styleId="",this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return b(_,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=j(this.x),this.yVal=j(this.y),this.widthVal=j(this.width),this.heightVal=j(this.height)}},{key:"setup",value:function(r){var e=this.getContainer();if(e!==null){var t=e.getContentSize();this.xVal+this.widthVal>t.width&&(this.xVal=t.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>t.height&&(this.yVal=t.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var r=this;this.el.addEventListener("dblclick",function(e){r.rb.isSelectedObject(r.id)||(r.rb.selectObject(r.id,!0),e.stopPropagation())}),this.el.addEventListener("mousedown",function(e){e.shiftKey?(r.rb.deselectObject(r.id),e.stopPropagation()):r.rb.isSelectedObject(r.id)?(r.rb.getDocument().startDrag(e.pageX,e.pageY,r.id,r.containerId,r.getElementType(),_.dragType.element),e.stopPropagation()):r.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(e){if(r.rb.isSelectedObject(r.id)){var t=V(e);r.rb.getDocument().startDrag(t.x,t.y,r.id,r.containerId,r.getElementType(),_.dragType.element)}e.preventDefault()}),this.el.addEventListener("touchmove",function(e){r.rb.getDocument().processDrag(e)}),this.el.addEventListener("touchend",function(e){r.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var r=this;this.el.addEventListener("dblclick",function(e){r.handleDoubleClick(e)}),this.el.addEventListener("mousedown",function(e){r.handleClick(e,!1)}),this.el.addEventListener("touchstart",function(e){if(r.rb.isSelectedObject(r.id)){var t=V(e);r.rb.getDocument().startDrag(t.x,t.y,r.id,r.containerId,r.getElementType(),_.dragType.element),e.preventDefault()}else r.handleClick(e,!0)}),this.el.addEventListener("touchmove",function(e){r.rb.isSelectedObject(r.id)&&r.rb.getDocument().processDrag(e)}),this.el.addEventListener("touchend",function(e){r.rb.isSelectedObject(r.id)&&r.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(r){this.handleClick(r,!0)}},{key:"handleClick",value:function(r,e){if(this.rb.isSelectedObject(this.id))r.shiftKey?this.rb.deselectObject(this.id):e||this.rb.getDocument().startDrag(r.pageX,r.pageY,this.id,this.containerId,this.getElementType(),_.dragType.element),r.stopPropagation();else if(e||!this.isContainerSelected()){var t=!0;if(r.shiftKey){var d=[];this.appendContainerChildren(d);for(var s=0,m=d;s<m.length;s++){var I=m[s];if(this.rb.isSelectedObject(I.getId())){t=!1;break}}}t&&this.rb.selectObject(this.id,!r.shiftKey),r.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var r=this.getLinkedContainer();return r?[r]:[]}},{key:"getContainerContentSize",value:function(){var r=this.getContainer();return r!==null?r.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var r=this.getContainer();r!==null&&r.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var r=this.getContainer();return r!==null&&r.isSelected()}},{key:"appendContainerChildren",value:function(r){if(this.linkedContainerId!==null&&this.panelItem!==null){var e,t=Et(this.panelItem.getChildren());try{for(t.s();!(e=t.n()).done;){var d=e.value;d.getData()instanceof _&&(r.push(d.getData()),d.getData().appendContainerChildren(r))}}catch(s){t.e(s)}finally{t.f()}}}},{key:"getAbsolutePosition",value:function(){var r={x:this.xVal,y:this.yVal},e=this.getContainer();if(e!==null){var t=e.getOffset();r.x+=t.x,r.y+=t.y}return r}},{key:"checkBounds",value:function(r,e,t,d,s,m){if(r+t>s.width&&(r=s.width-t),r<0&&(r=0),r+t>s.width&&(t=s.width-r),e+d>s.height&&(e=s.height-d),e<0&&(e=0),e+d>s.height&&(d=s.height-e),r!==this.xVal&&this.hasProperty("x")){var I=new p(this.id,"x",""+r,p.type.text,this.rb);I.disableSelect(),m.addCommand(I)}if(e!==this.yVal&&this.hasProperty("y")){var v=new p(this.id,"y",""+e,p.type.text,this.rb);v.disableSelect(),m.addCommand(v)}if(t!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(t,!0,m),d!==this.getDisplayHeight()&&this.hasProperty("height")){var D=new p(this.id,"height",""+d,p.type.text,this.rb);D.disableSelect(),m.addCommand(D)}var R=this.getLinkedContainer();if(R!==null&&R.getPanelItem()!==null){var X,Y={width:t,height:d},ae=Et(R.getPanelItem().getChildren());try{for(ae.s();!(X=ae.n()).done;){var Q=X.value;if(Q.getData()instanceof _){var ie=Q.getData();ie.checkBounds(ie.getValue("xVal"),ie.getValue("yVal"),ie.getDisplayWidth(),ie.getDisplayHeight(),Y,m)}}}catch(me){ae.e(me)}finally{ae.f()}}}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){if(this[r]=e,r==="x"||r==="y"||r==="width"||r==="height")this[r+"Val"]=j(e),this.updateDisplay();else if(r==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var t=this.getLinkedContainers();if(t.length>0){var d,s=this.getContainer(),m=Et(t);try{for(m.s();!(d=m.n()).done;)d.value.setParent(s)}catch(D){m.e(D)}finally{m.f()}}var I,v=Et(this.rb.getContainers());try{for(v.s();!(I=v.n()).done;)I.value.initLevel()}catch(D){v.e(D)}finally{v.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(r)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(r)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(r,e){return e}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var r=this.getProperties();return r.splice(0,0,"id","containerId"),r}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(r){return this.getProperties().indexOf(r)!==-1}},{key:"getElementType",value:function(){return _.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(r,e,t,d){this.el!==null&&(this.el.style.left=this.rb.toPixel(r),this.el.style.top=this.rb.toPixel(e),this.el.style.width=this.rb.toPixel(t),this.el.style.height=this.rb.toPixel(d))}},{key:"getStyle",value:function(){var r=this;if(this.styleId!==""){var e=this.rb.getDataObject(this.styleId);e!==null&&(r=e)}return r}},{key:"addCommandsForChangedStyle",value:function(r,e,t,d){if(r){var s=this.rb.getStyleById(r);if(s!==null){var m,I=this.getProperties(),v=Et(s.getStyleProperties());try{for(v.s();!(m=v.n()).done;){var D=m.value;if(I.indexOf(D)!==-1){var R=e+D,X=s.getValue(D);if(X!==this.getValue(R)){var Y=t[R],ae=new p(this.getId(),R,X,Y.type,this.rb);ae.disableSelect(),d.addCommand(ae)}}}}catch(Q){v.e(Q)}finally{v.f()}}}d.addCommand(new p(this.getId(),e+"styleId",r,p.type.select,this.rb))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(r){j(this.styleId)===r&&this.updateStyle()}},{key:"getDragDiff",value:function(r,e,t,d){var s,m,I={x:0,y:0},v=this.xVal,D=this.yVal,R=v+this.getDisplayWidth(),X=D+this.getDisplayHeight(),Y=this.getMinWidth(),ae=this.getMaxWidth(),Q=this.getMinHeight();if(t===_.dragType.element)s=v+r,d!==0&&(s=H(s,d)),m=D+e,d!==0&&(m=H(m,d)),I.x=s-v,I.y=m-D;else{var ie=this.getContainerContentSize();t!==_.dragType.sizerNW&&t!==_.dragType.sizerN&&t!==_.dragType.sizerNE||(m=D+e,d!==0&&(m=H(m,d)),m>X-Q?m=d!==0?W(X-Q,d):X-Q:m<0&&(m=0),I.y=m-D),t!==_.dragType.sizerNE&&t!==_.dragType.sizerE&&t!==_.dragType.sizerSE||(s=R+r,d!==0&&(s=H(s,d)),s<v+Y?s=d!==0?N(v+Y,d):v+Y:s>ae&&(s=ae),I.x=s-R),t!==_.dragType.sizerSE&&t!==_.dragType.sizerS&&t!==_.dragType.sizerSW||(m=X+e,d!==0&&(m=H(m,d)),m<D+Q?m=d!==0?N(D+Q,d):D+Q:m>ie.height&&(m=ie.height),I.y=m-X),t!==_.dragType.sizerSW&&t!==_.dragType.sizerW&&t!==_.dragType.sizerNW||(s=v+r,d!==0&&(s=H(s,d)),s>R-Y?s=d!==0?W(R-Y,d):R-Y:s<0&&(s=0),I.x=s-v)}return I}},{key:"updateDrag",value:function(r,e,t,d,s){var m=this.xVal,I=this.yVal,v=m+this.getDisplayWidth(),D=I+this.getDisplayHeight(),R=this.getMaxWidth(),X=this.getContainerContentSize();t===_.dragType.element?(v=(m+=r)+this.getDisplayWidth(),D=(I+=e)+this.getDisplayHeight()):(t!==_.dragType.sizerNW&&t!==_.dragType.sizerN&&t!==_.dragType.sizerNE||(I+=e),t!==_.dragType.sizerNE&&t!==_.dragType.sizerE&&t!==_.dragType.sizerSE||(v+=r),t!==_.dragType.sizerSE&&t!==_.dragType.sizerS&&t!==_.dragType.sizerSW||(D+=e),t!==_.dragType.sizerSW&&t!==_.dragType.sizerW&&t!==_.dragType.sizerNW||(m+=r),m<0&&(m=0),v<m&&(v=m),I<0&&(I=0),D<I&&(D=I),v>R&&(v=R),D>X.height&&(D=X.height));var Y=v-m,ae=D-I;if(s!==null){var Q=!1,ie=this.getContainer(),me={width:0,height:0};if(d!==null&&d.getId()!==this.getContainerId()){if(Q=!0,me=d.getContentSize(),ie!==null){var he=d.getOffsetTo(ie);m-=he.x,I-=he.y}}else me=ie.getContentSize();if(!Q||d.isElementAllowed(this.getElementType())){var be=s.getCommands().length;if(this.checkBounds(m,I,Y,ae,me,s),Q){var Ce=new p(this.id,"containerId",d.getId(),p.type.internal,this.rb);s.addCommand(Ce),Ce=new c(this.getPanelItem(),d.getPanelItem(),d.getPanelItem().getChildren().length,this.rb),s.addCommand(Ce)}s.getCommands().length===be&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(m,I,Y,ae)}},{key:"select",value:function(){var r=this;if(this.el!==null){var e,t=this.getSizerContainerElement(),d=Et(this.getSizers());try{var s=function(){var m=e.value,I=m,v=i("div",{class:"rbroSizer rbroSizer".concat(m)});v.addEventListener("mousedown",function(D){r.rb.getDocument().startDrag(D.pageX,D.pageY,r.id,r.containerId,r.getElementType(),_.dragType["sizer"+I]),D.stopPropagation()}),v.addEventListener("touchstart",function(D){if(r.rb.isSelectedObject(r.id)){var R=V(D);r.rb.getDocument().startDrag(R.x,R.y,r.id,r.containerId,r.getElementType(),_.dragType["sizer"+I])}D.preventDefault(),D.stopPropagation()}),v.addEventListener("touchmove",function(D){r.rb.getDocument().processDrag(D)}),v.addEventListener("touchend",function(D){r.rb.getDocument().stopDrag()}),t.append(v)};for(d.s();!(e=d.n()).done;)s()}catch(m){d.e(m)}finally{d.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var r,e=Et(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(e.s();!(r=e.n()).done;)r.value.remove()}catch(t){e.e(t)}finally{e.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var r=this.getValue("dataSource").trim();if(r.length>=3&&r.substring(0,2)==="${"&&r.charAt(r.length-1)==="}")return r.substring(2,r.length-1)}return null}},{key:"getAllDataSources",value:function(){var r=[],e=[];this.getAllDataSourceParameterNames(e,null);for(var t=e.length-1;t>=0;t--){var d,s=e[t],m=null,I=Et(r);try{for(I.s();!(d=I.n()).done;){var v,D=Et(d.value.parameters);try{for(D.s();!(v=D.n()).done;){var R=v.value;if(R.getName()===s){m=R;break}}}catch(X){D.e(X)}finally{D.f()}}}catch(X){I.e(X)}finally{I.f()}m===null&&(m=this.rb.getParameterByName(s)),m!==null&&m.getValue("type")===re.type.array&&r.unshift({name:s,parameters:m.getChildren()})}return r}},{key:"getAllDataSourceParameterNames",value:function(r,e){if((this.getElementType()===_.type.table||this.getElementType()===_.type.section)&&e&&e.getValue("bandType")===se.bandType.content){var t=this.getDataSourceParameterName();t!==null&&r.push(t)}var d=this.getPanelItem();if(d!==null){var s=d.getParent();s!==null&&s.getData()instanceof _&&s.getData().getAllDataSourceParameterNames(r,this)}}},{key:"addCommandsForChangedParameterName",value:function(r,e,t){}},{key:"addCommandForChangedParameterName",value:function(r,e,t,d){for(var s=r.getParent(),m=this.getAllDataSources(),I=!1,v="",D=null,R=null;s!==null;){if(s.getValue("type")!==re.type.map){if(s.getValue("type")===re.type.array){I=!0,D=s.getName();break}return}v=s.getName()+"."+v,R=s.getName(),s=s.getParent()}var X="${"+v+r.getName(),Y="${"+v+e;r.getValue("type")===re.type.map?(X+=".",Y+="."):(X+="}",Y+="}");var ae=!1;if(m.length>0){var Q,ie=R||r.getName(),me=Et(m[0].parameters);try{for(me.s();!(Q=me.n()).done;)if(Q.value.getName()===ie){ae=!0;break}}catch(Ce){me.e(Ce)}finally{me.f()}}if(I){for(var he=-1,be=0;be<m.length;be++)if(m[be].name===D){he=be;break}he===0&&ae&&m[0].name===D?this.addCommandForChangedText(X,Y,t,d):he>0&&(X="${"+D+":"+X.substring(2),Y="${"+D+":"+Y.substring(2),this.addCommandForChangedText(X,Y,t,d))}else ae||(m.length>0&&(X="${:"+X.substring(2),Y="${:"+Y.substring(2)),this.addCommandForChangedText(X,Y,t,d))}},{key:"addCommandForChangedText",value:function(r,e,t,d){var s=this.getValue(t),m=p.type.text;if(T(s)==="object"&&(s=JSON.stringify(s),m=p.type.richText),s.indexOf(r)!==-1){var I=s.replaceAll(r,e);m===p.type.richText&&(I=JSON.parse(I));var v=new p(this.id,t,I,m,this.rb);d.addCommand(v)}}},{key:"addCommandsForDelete",value:function(r){var e=[];this.appendContainerChildren(e),e.push(this);for(var t=0,d=e;t<d.length;t++){var s=d[t],m=new gt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),s.getPanelItem().getSiblingPosition(),this.rb);r.addCommand(m)}}},{key:"addCommandsForChangedWidth",value:function(r,e,t){var d=new p(this.id,"width",""+r,p.type.text,this.rb);e&&d.disableSelect(),t.addCommand(d)}},{key:"addChildren",value:function(r){}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var r,e={elementType:this.getElementType()},t=Et(this.getFields());try{for(t.s();!(r=t.n()).done;){var d=r.value;["x","y","width","height"].indexOf(d)===-1?e[d]=this.getValue(d):e[d]=this.getValue(d+"Val")}}catch(s){t.e(s)}finally{t.f()}return e}}]),_}();we.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section",watermarkText:"watermark_text",watermarkImage:"watermark_image"},we.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var Gn=at(6129),Zr=at.n(Gn),$n=at(7583);function Kn(_,r,e){return r=g(r),E(_,Jr()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function Jr(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Jr=function(){return!!_})()}var Xn=function(_){function r(e,t,d){var s;return $(this,r),(s=Kn(this,r,[d.getLabel("docElementImage"),e,80,80,d])).elBarCode=null,s.elContent=null,s.content="",s.format="CODE128",s.displayValue=!1,s.barWidth="2",s.guardBar=!1,s.errorCorrectionLevel="M",s.rotate=!1,s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_colspan="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(t),s.name=s.rb.getLabel("docElementBarCode"),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e!=="content"&&e!=="format"&&e!=="displayValue"&&e!=="barWidth"&&e!=="guardBar"&&e!=="width"&&e!=="height"&&e!=="errorCorrectionLevel"&&e!=="rotate"||(this.updateBarCode(),this.updateDisplay(),e==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return we.type.barCode}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(d),this.el.style.height=this.rb.toPixel(s))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=i("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=i("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),n(g(r.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){n(g(r.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var e=this.content;e===""&&(e="https://www.reportbro.com");var t={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),$n.toCanvas(this.elBarCode,e,t)}else{var d=!1,s=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(s-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(s-=12);var m={format:this.format,height:s,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?m.flat=!this.guardBar:this.format==="UPC"&&(m.flat=!0);var I=j(this.barWidth);if(I&&(m.width=I),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{Zr()("#"+this.elBarCode.id,this.content,m),d=!0}catch(X){}if(!d){var v="";this.format==="CODE39"||this.format==="CODE128"?v="12345678":this.format==="EAN13"?v="5901234123457":this.format==="EAN8"?v="96385074":this.format==="EAN5"?v="12345":this.format==="EAN2"?v="12":this.format==="ITF14"?v="12345678901231":this.format==="UPC"?v="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(v="1234"),Zr()("#"+this.elBarCode.id,v,m)}if(this.rotate){var D=-(this.elBarCode.clientWidth-this.widthVal)/2,R=-D;this.elBarCode.style.transform="translate(".concat(D,"px, ").concat(R,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"content",d),this.addCommandForChangedParameterName(e,t,"printIf",d)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),r}(we);function Yn(_,r,e){return r=g(r),E(_,Qr()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function Qr(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Qr=function(){return!!_})()}var Zn=function(_){function r(e,t,d){return $(this,r),Yn(this,r,[e,t,d])}return l(r,_),b(r,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(e){return e!==we.type.pageBreak&&e!==we.type.frame&&e!==we.type.section}},{key:"getOffset",value:function(){var e=0,t=0;if(this.owner!==null&&(e=this.owner.getValue("xVal"),t=this.owner.getValue("yVal")),this.parent!==null){var d=this.parent.getOffset();e+=d.x,t+=d.y}return{x:e,y:t}}},{key:"getSize",value:function(){var e=0,t=0;return this.owner!==null&&(e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal")),{width:e,height:t}}},{key:"getContentSize",value:function(){var e=0,t=0;if(this.owner!==null){e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal");var d=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(e-=d),this.owner.getValue("borderRight")&&(e-=d),this.owner.getValue("borderTop")&&(t-=d),this.owner.getValue("borderBottom")&&(t-=d)}return{width:e,height:t}}}]),r}(C);function Jn(_,r,e){return r=g(r),E(_,en()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function en(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(en=function(){return!!_})()}var Ar=function(_){function r(e,t,d){var s;return $(this,r),(s=Jn(this,r,[d.getLabel("docElementFrame"),e,100,100,d])).frame=null,s.setupComplete=!1,s.elContent=null,s.elContentFrame=null,s.label="",s.backgroundColor="",s.borderAll=!1,s.borderLeft=!1,s.borderTop=!1,s.borderRight=!1,s.borderBottom=!1,s.borderColor="#000000",s.borderWidth="1",s.shrinkToContentHeight=!1,s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(t),s.borderWidthVal=j(s.borderWidth),s}return l(r,_),b(r,[{key:"setup",value:function(e){this.borderWidthVal=j(this.borderWidth),n(g(r.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new Zn(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){n(g(r.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,t){e.indexOf("border")!==-1&&(this[e]=t,e==="borderWidth"&&(this.borderWidthVal=j(t)),ye.setBorderValue(this,e,"",t,this.rb)),n(g(r.prototype),"setValue",this).call(this,e,t),e==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(d),this.el.style.height=this.rb.toPixel(s)),this.borderLeft&&(d-=this.borderWidthVal),this.borderRight&&(d-=this.borderWidthVal),this.borderTop&&(s-=this.borderWidthVal),this.borderBottom&&(s-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(d),this.elContentFrame.style.height=this.rb.toPixel(s)}},{key:"updateStyle",value:function(){var e;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(e=this.getValue("borderTop")?"solid":"none",e+=this.getValue("borderRight")?" solid":" none",e+=this.getValue("borderBottom")?" solid":" none",e+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):e="none",this.elContent.style.borderStyle=e,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){return["label","x","y","width","height","styleId","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return we.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=i("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=i("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){n(g(r.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"printIf",d)}},{key:"getClassName",value:function(){return"FrameElement"}}]),r}(we);function Qn(_,r,e){return r=g(r),E(_,tn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function tn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(tn=function(){return!!_})()}var Dr=function(_){function r(e,t,d){var s;return $(this,r),(s=Qn(this,r,[d.getLabel("docElementImage"),e,80,80,d])).source="",s.image="",s.imageWidth=0,s.imageHeight=0,s.imageRatio=0,s.imageFilename="",s.elImg=null,s.elContent=null,s.horizontalAlignment=ye.alignment.left,s.verticalAlignment=ye.alignment.top,s.backgroundColor="",s.link="",s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(t),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e!=="source"&&e!=="imageFilename"||this.updateName(),e!=="source"&&e!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","styleId","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return we.type.image}},{key:"updateDisplayInternal",value:function(e,t,d,s){if(this.el!==null){this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(d),this.el.style.height=this.rb.toPixel(s);var m=0,I=0;if(this.imageRatio!==0&&(m=this.imageWidth<d?this.imageWidth:d,I=this.imageHeight<s?this.imageHeight:s,m!==this.imageWidth||I!==this.imageHeight)){var v=Math.floor(I*this.imageRatio);v<d?m=v:I=Math.floor(m/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(m),this.elImg.style.height=this.rb.toPixel(I)}}},{key:"updateStyle",value:function(){var e=this.getValue("horizontalAlignment"),t=this.getValue("verticalAlignment"),d="rbroDocElementAlign"+e.charAt(0).toUpperCase()+e.slice(1),s="rbroDocElementVAlign"+t.charAt(0).toUpperCase()+t.slice(1);this.elContent.style.textAlign=e,this.elContent.style.verticalAlign=t,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(d),this.elContent.classList.add(s)}},{key:"createElement",value:function(){var e=this;this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=i("img",{src:""}),this.elImg.addEventListener("load",function(t){e.imageWidth=e.elImg.naturalWidth,e.imageHeight=e.elImg.naturalHeight,e.imageHeight!==0?e.imageRatio=e.imageWidth/e.imageHeight:e.imageRatio=0,e.updateDisplay()}),this.elContent=i("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),n(g(r.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,n(g(r.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var e=document.getElementById("rbro_menu_item_name".concat(this.id));e.textContent=this.name,e.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"source",d),this.addCommandForChangedParameterName(e,t,"printIf",d)}},{key:"getClassName",value:function(){return"ImageElement"}}]),r}(we);function eo(_,r,e){return r=g(r),E(_,rn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function rn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(rn=function(){return!!_})()}var nn=function(_){function r(e,t,d){var s;return $(this,r),(s=eo(this,r,[d.getLabel("docElementLine"),e,100,1,d])).color="#000000",s.setInitialData(t),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","styleId","color","printIf"]}},{key:"getElementType",value:function(){return we.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),n(g(r.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"printIf",d)}},{key:"getClassName",value:function(){return"LineElement"}}]),r}(we);function to(_,r,e){return r=g(r),E(_,on()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function on(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(on=function(){return!!_})()}var an=function(_){function r(e,t,d){var s;return $(this,r),(s=to(this,r,[d.getLabel("docElementPageBreak"),e,-1,1,d])).setInitialData(t),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return we.type.pageBreak}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),n(g(r.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),r}(we);function ro(_,r,e){return r=g(r),E(_,ln()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function ln(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(ln=function(){return!!_})()}var sn=function(_){function r(e,t,d,s){var m;return $(this,r),(m=ro(this,r,[d===se.bandType.header?s.getLabel("bandHeader"):d===se.bandType.footer?s.getLabel("bandFooter"):s.getLabel("bandContent"),e,0,100,s])).setupComplete=!1,m.band=null,m.bandType=d,m.repeatHeader=!1,m.backgroundColor="",m.alternateBackgroundColor="",m.alwaysPrintOnSamePage=!0,m.shrinkToContentHeight=!1,m.parentId=t.parentId,m.heightVal=0,m.visible=d===se.bandType.content,m.setInitialData(t),m}return l(r,_),b(r,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new se(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var e={x:0,y:0},t=this.getParent();return t!==null&&(e=t.getAbsolutePosition()),e.y+=this.yVal,e}},{key:"setValue",value:function(e,t){if(n(g(r.prototype),"setValue",this).call(this,e,t),e==="height"){this[e+"Val"]=j(t);var d=this.getParent();d!==null&&d.updateBands(this)}else e==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){var e=["height","styleId","backgroundColor","shrinkToContentHeight"];return this.bandType===se.bandType.header?e.push("repeatHeader"):(e.push("alwaysPrintOnSamePage"),e.push("shrinkToContentHeight"),this.bandType===se.bandType.content&&e.push("alternateBackgroundColor")),e}},{key:"updateDisplayInternal",value:function(e,t,d,s){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(s),this.setupComplete)){var m=this.getParent();m!==null&&m.updateHeight(this,s)}}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"select",value:function(){n(g(r.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){n(g(r.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(i("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(e){this.visible=e,e?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),r}(we);function un(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function no(_,r,e){return r=g(r),E(_,cn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function cn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(cn=function(){return!!_})()}var Lr=function(_){function r(e,t,d){var s;return $(this,r),(s=no(this,r,[d.getLabel("docElementSection"),e,-1,60,d])).setupComplete=!1,s.elDividerHeader=null,s.elDividerFooter=null,s.elDividerBottom=null,s.dataSource="",s.label="",s.header=!1,s.footer=!1,s.headerData=null,s.contentData=null,s.footerData=null,s.setInitialData(t),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(se.bandType.header,null),this.contentData=this.createBand(se.bandType.content,null),this.footerData=this.createBand(se.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t){var d,s,m=e+"Data",I={hasChildren:!0,showDelete:!1};t?d=t:this[m]?s=(d=this[m]).id:d={},d.parentId=this.id,d.containerId=this.containerId,s||(s=this.rb.getUniqueId());var v=0;e===se.bandType.header?d.y=""+v:e===se.bandType.content?(this.header&&this.headerData!==null&&(v+=this.headerData.getValue("heightVal")),d.y=""+v):e===se.bandType.footer&&(this.header&&this.headerData!==null&&(v+=this.headerData.getValue("heightVal")),this.contentData!==null&&(v+=this.contentData.getValue("heightVal")),d.y=""+v),(e===se.bandType.header&&!this.header||e===se.bandType.footer&&!this.footer)&&(I.visible=!1);var D=new sn(s,d,e,this.rb);this.rb.addDataObject(D);var R=new Ue("sectionBand",this.panelItem,D,I,this.rb);return D.setPanelItem(R),this.panelItem.appendChild(R),D.setup(),e===se.bandType.header?D.show(this.header):e===se.bandType.footer&&D.show(this.footer),D}},{key:"registerEventHandlers",value:function(){n(g(r.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var e=this.id;return this.footerData!==null&&(e=this.footerData.getMaxId()),e}},{key:"appendContainerChildren",value:function(e){this.headerData!==null&&this.headerData.appendContainerChildren(e),this.contentData!==null&&this.contentData.appendContainerChildren(e),this.footerData!==null&&this.footerData.appendContainerChildren(e)}},{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e==="label"||e==="dataSource"?this.updateName():e==="header"?(this.headerData.show(t),t?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):e==="footer"?(this.footerData.show(t),t?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e==="containerId"&&(this.headerData.containerId=t,this.contentData.containerId=t,this.footerData.containerId=t),e!=="header"&&e!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.el!==null&&(this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(s))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return we.type.section}},{key:"select",value:function(){n(g(r.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),t=0,d=["N","S"];t<d.length;t++){var s=d[t];e.append(i("div",{class:"rbroSizer rbroSizer".concat(s," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){n(g(r.prototype),"deselect",this).call(this);var e,t=function(d,s){var m=typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(!m){if(Array.isArray(d)||(m=function(Y,ae){if(Y){if(typeof Y=="string")return un(Y,ae);var Q=Object.prototype.toString.call(Y).slice(8,-1);return Q==="Object"&&Y.constructor&&(Q=Y.constructor.name),Q==="Map"||Q==="Set"?Array.from(Y):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?un(Y,ae):void 0}}(d))||s&&d&&typeof d.length=="number"){m&&(d=m);var I=0,v=function(){};return{s:v,n:function(){return I>=d.length?{done:!0}:{done:!1,value:d[I++]}},e:function(Y){throw Y},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,R=!0,X=!1;return{s:function(){m=m.call(d)},n:function(){var Y=m.next();return R=Y.done,Y},e:function(Y){X=!0,D=Y},f:function(){try{R||m.return==null||m.return()}finally{if(X)throw D}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("rbroHighlightBandDescription")}catch(d){t.e(d)}finally{t.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(i("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=i("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=i("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=i("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){n(g(r.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(e){this.widthVal=e,this.width=""+e,this.headerData!==null&&(this.headerData.widthVal=e,this.headerData.width=""+e),this.contentData!==null&&(this.contentData.widthVal=e,this.contentData.width=""+e),this.footerData!==null&&(this.footerData.widthVal=e,this.footerData.width=""+e)}},{key:"updateHeight",value:function(e,t){var d=0;this.header&&this.headerData!==null?(e===this.headerData?d+=t:d+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(d),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(e===this.contentData?d+=t:d+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(d),this.elDividerFooter.classList.remove("rbroHidden"),e===this.footerData?d+=t:d+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(d),this.height=""+d,this.heightVal=d,this.updateDisplay()}},{key:"updateBands",value:function(e){if(this.setupComplete){var t=0;this.header&&(this.headerData!==e&&this.headerData.setValue("y",""+t),t+=this.headerData.getValue("heightVal")),this.contentData!==e&&this.contentData.setValue("y",""+t),t+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==e&&this.footerData.setValue("y",""+t)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var e,t=[],d=0,s=["headerData","contentData","footerData"];d<s.length;d++){var m=s[d];this[m]!==null&&(e=this[m].getLinkedContainer())!==null&&t.push(e)}return t}},{key:"hasDataSource",value:function(){return!0}},{key:"addChildren",value:function(e){e.push(this.headerData),e.push(this.contentData),e.push(this.footerData)}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"dataSource",d),this.addCommandForChangedParameterName(e,t,"printIf",d)}},{key:"toJS",value:function(){var e=n(g(r.prototype),"toJS",this).call(this);return e.headerData=this.headerData.toJS(),e.contentData=this.contentData.toJS(),e.footerData=this.footerData.toJS(),e}},{key:"getClassName",value:function(){return"SectionElement"}}]),r}(we);function dn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function oo(_,r,e){return r=g(r),E(_,pn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function pn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(pn=function(){return!!_})()}var xr=function(_){function r(e,t,d){var s;return $(this,r),(s=oo(this,r,[d.getLabel("docElementText"),e,100,20,d])).elContent=null,s.elContentText=null,s.elContentTextData=null,s.content="",s.richText=!1,s.richTextContent=null,s.richTextHtml="",s.eval=!1,s.styleId="",s.bold=!1,s.italic=!1,s.underline=!1,s.strikethrough=!1,s.horizontalAlignment=ye.alignment.left,s.verticalAlignment=ye.alignment.top,s.textColor="#000000",s.backgroundColor="",s.font=d.getProperty("defaultFont"),s.fontSize=12,s.lineSpacing=1,s.borderColor="#000000",s.borderWidth="1",s.borderAll=!1,s.borderLeft=!1,s.borderTop=!1,s.borderRight=!1,s.borderBottom=!1,s.paddingLeft="2",s.paddingTop="2",s.paddingRight="2",s.paddingBottom="2",s.cs_condition="",s.cs_styleId="",s.cs_additionalRules="",s.cs_bold=!1,s.cs_italic=!1,s.cs_underline=!1,s.cs_strikethrough=!1,s.cs_horizontalAlignment=ye.alignment.left,s.cs_verticalAlignment=ye.alignment.top,s.cs_textColor="#000000",s.cs_backgroundColor="",s.cs_font=ye.font.helvetica,s.cs_fontSize=12,s.cs_lineSpacing=1,s.cs_borderColor="#000000",s.cs_borderWidth="1",s.cs_borderAll=!1,s.cs_borderLeft=!1,s.cs_borderTop=!1,s.cs_borderRight=!1,s.cs_borderBottom=!1,s.cs_paddingLeft="2",s.cs_paddingTop="2",s.cs_paddingRight="2",s.cs_paddingBottom="2",s.alwaysPrintOnSamePage=!0,s.pattern="",s.link="",s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_colspan="",s.spreadsheet_addEmptyRow=!1,s.spreadsheet_type="",s.spreadsheet_pattern="",s.spreadsheet_textWrap=!1,s.setInitialData(t),s.borderWidthVal=j(s.borderWidth),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(e){n(g(r.prototype),"handleDoubleClick",this).call(this,e);var t=document.getElementById("rbro_doc_element_content");t.focus(),typeof t.selectionStart=="number"&&(t.selectionStart=t.selectionEnd=t.value.length)}},{key:"setValue",value:function(e,t){e.indexOf("border")!==-1&&(this[e]=t,e.substring(0,3)==="cs_"?(e==="cs_borderWidth"&&(this.borderWidthVal=j(t)),ye.setBorderValue(this,e,"cs_",t,this.rb)):(e==="borderWidth"&&(this.borderWidthVal=j(t)),ye.setBorderValue(this,e,"",t,this.rb))),n(g(r.prototype),"setValue",this).call(this,e,t),e==="content"?this.updateContent(t):e==="width"||e==="height"?this.updateDisplay():e==="richText"?(t?this.setupRichText():this.updateContent(this.content),this.updateStyle()):e==="richTextContent"?this.updateRichTextContent(t):e==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=t)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_type","spreadsheet_pattern","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return we.type.text}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(d),this.el.style.height=this.rb.toPixel(s));var m=this.getContentSize(d,s,this.getStyle());this.elContentText.style.width=this.rb.toPixel(m.width),this.elContentText.style.height=this.rb.toPixel(m.height)}},{key:"getContentSize",value:function(e,t,d){var s=d.getValue("borderWidthVal");return e-=j(d.getValue("paddingLeft"))+j(d.getValue("paddingRight")),d.getValue("borderLeft")&&(e-=s),d.getValue("borderRight")&&(e-=s),t-=j(d.getValue("paddingTop"))+j(d.getValue("paddingBottom")),d.getValue("borderTop")&&(t-=s),d.getValue("borderBottom")&&(t-=s),{width:e,height:t}}},{key:"updateStyle",value:function(){var e,t={},d=this.getStyle(),s="",m="",I=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),d);t.width=this.rb.toPixel(I.width),t.height=this.rb.toPixel(I.height);var v=d.getValue("horizontalAlignment"),D=d.getValue("verticalAlignment"),R="rbroDocElementAlign"+v.charAt(0).toUpperCase()+v.slice(1),X="rbroDocElementVAlign"+D.charAt(0).toUpperCase()+D.slice(1);t["vertical-align"]=D,t["background-color"]=d.getValue("backgroundColor"),this.richText?(t["font-weight"]="unset",t["font-style"]="normal",t["text-decoration"]="none",t["text-align"]="unset",t.color="#000000",t["font-family"]=this.rb.getProperty("defaultFont"),t["font-size"]="12px"):(t["font-weight"]=d.getValue("bold")?"bold":"",t["font-style"]=d.getValue("italic")?"italic":"normal",d.getValue("underline")&&d.getValue("strikethrough")?t["text-decoration"]="underline line-through":d.getValue("underline")?t["text-decoration"]="underline":d.getValue("strikethrough")?t["text-decoration"]="line-through":t["text-decoration"]="none",t["text-align"]=v,t.color=d.getValue("textColor"),t["font-family"]=d.getValue("font"),t["font-size"]=d.getValue("fontSize")+"px"),t["line-height"]=d.getValue("lineSpacing"),d.getValue("borderLeft")||d.getValue("borderTop")||d.getValue("borderRight")||d.getValue("borderBottom")?(e=d.getValue("borderTop")?"solid":"none",e+=d.getValue("borderRight")?" solid":" none",e+=d.getValue("borderBottom")?" solid":" none",e+=d.getValue("borderLeft")?" solid":" none",s=d.getValue("borderWidthVal")+"px",m=d.getValue("borderColor")):e="none",d.getValue("paddingLeft")!==""||d.getValue("paddingTop")!==""||d.getValue("paddingRight")!==""||d.getValue("paddingBottom")!==""?(t.padding=this.rb.toPixel(d.getValue("paddingTop")),t.padding+=" "+this.rb.toPixel(d.getValue("paddingRight")),t.padding+=" "+this.rb.toPixel(d.getValue("paddingBottom")),t.padding+=" "+this.rb.toPixel(d.getValue("paddingLeft"))):t.padding="",this.elContent.style.borderStyle=e,this.elContent.style.borderWidth=s,this.elContent.style.borderColor=m,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(R),this.elContent.classList.add(X);var Y="";for(var ae in t)Y+=ae+": "+t[ae]+";";this.elContentText.style.cssText=Y}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=i("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=i("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=i("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=i("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,n(g(r.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(e){e.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=e;var t=document.getElementById("rbro_menu_item_name".concat(this.id));t.textContent=this.name,t.setAttribute("title",this.name),this.elContentTextData.textContent=e}},{key:"updateRichTextContent",value:function(e){var t="";if(e&&e.ops){var d,s=function(v,D){var R=typeof Symbol!="undefined"&&v[Symbol.iterator]||v["@@iterator"];if(!R){if(Array.isArray(v)||(R=function(me,he){if(me){if(typeof me=="string")return dn(me,he);var be=Object.prototype.toString.call(me).slice(8,-1);return be==="Object"&&me.constructor&&(be=me.constructor.name),be==="Map"||be==="Set"?Array.from(me):be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be)?dn(me,he):void 0}}(v))||D&&v&&typeof v.length=="number"){R&&(v=R);var X=0,Y=function(){};return{s:Y,n:function(){return X>=v.length?{done:!0}:{done:!1,value:v[X++]}},e:function(me){throw me},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae,Q=!0,ie=!1;return{s:function(){R=R.call(v)},n:function(){var me=R.next();return Q=me.done,me},e:function(me){ie=!0,ae=me},f:function(){try{Q||R.return==null||R.return()}finally{if(ie)throw ae}}}}(e.ops);try{for(s.s();!(d=s.n()).done;){var m=d.value;"insert"in m&&(t+=m.insert)}}catch(v){s.e(v)}finally{s.f()}(t=t.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(t=t.substring(0,80)),t=t.trim()}this.name=t===""?this.rb.getLabel("docElementText"):t;var I=document.getElementById("rbro_menu_item_name".concat(this.id));I.textContent=this.name,I.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"content",d),this.addCommandForChangedParameterName(e,t,"richTextContent",d),this.addCommandForChangedParameterName(e,t,"richTextHtml",d),this.addCommandForChangedParameterName(e,t,"printIf",d),this.addCommandForChangedParameterName(e,t,"cs_condition",d)}},{key:"toJS",value:function(){var e=n(g(r.prototype),"toJS",this).call(this),t=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom"];this.getElementType()!==we.type.watermarkText&&t.push("cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom");for(var d=0,s=t;d<s.length;d++){var m=s[d];e[m]=j(this.getValue(m))}return e}},{key:"getClassName",value:function(){return"TextElement"}}]),r}(we);function ao(_,r,e){return r=g(r),E(_,hn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function hn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(hn=function(){return!!_})()}var qt=function(_){function r(e,t,d){var s;return $(this,r),(s=ao(this,r,[e,t,d])).elContent=null,s.elContentText=null,s.elContentTextData=null,s.colspan=t.colspan||"",s.colspanVal=1,s.columnIndex=t.columnIndex,s.parentId=t.parentId,s.tableId=t.tableId,s.displayWidth=s.widthVal,s.lastTouchStartTime=0,s.updateColspanVal(),s}return l(r,_),b(r,[{key:"setInitialData",value:function(e){this.growWeight=0,n(g(r.prototype),"setInitialData",this).call(this,e)}},{key:"registerEventHandlers",value:function(){var e=this;this.el.addEventListener("dblclick",function(t){e.rb.isSelectedObject(e.id)||e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}),this.el.addEventListener("mousedown",function(t){e.rb.isSelectedObject(e.id)?(t.shiftKey&&e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}),this.el.addEventListener("touchstart",function(t){e.rb.isSelectedObject(e.id)||(new Date().getTime()-e.lastTouchStartTime<1e3?e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation())),e.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var e=this.getTable();return e!==null?e.getContainerId():null}},{key:"getValue",value:function(e){return e==="xReadOnly"?this.getOffsetX():n(g(r.prototype),"getValue",this).call(this,e)}},{key:"setValue",value:function(e,t){if(n(g(r.prototype),"setValue",this).call(this,e,t),e==="width"){var d=this.getTable();d!==null&&(d.updateColumnWidth(this.columnIndex,t),d.updateColumnDisplay())}else if(e==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(e==="colspan"){this.updateColspanVal();var s=this.rb.getDataObject(this.tableId);s!==null&&s.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(e,t){if(e==="width"){var d=j(t);if(this.colspanVal>1){var s=this.rb.getDataObject(this.parentId);if(s!==null){var m=this.getNextCellIndex(),I=s.getSingleCellWidths();m>I.length&&(m=I.length);for(var v=this.columnIndex+1;v<m;v++)d+=I[v]}}return t===""&&d===0?"":""+d}return t}},{key:"setWidth",value:function(e){this.width=e,this.widthVal=j(e)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(e){this.displayWidth=e}},{key:"getDisplayWidthSplit",value:function(e){if(this.colspanVal===1)return[e];var t=[20],d=20,s=this.rb.getDataObject(this.parentId);if(s!==null){var m=this.getNextCellIndex(),I=s.getSingleCellWidths();m>I.length&&(m=I.length);for(var v=this.columnIndex+1;v<m;v++)t.push(I[v]),d+=I[v];var D=e-d;if(D>0)t[0]+=D;else if(D<0){var R=1;for(D=-D;R<t.length;){if(t[R]-20>D){t[R]-=D;break}D-=t[R]-20,t[R]=20,R++}}}return t}},{key:"updateColspanVal",value:function(){this.colspanVal=j(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,1,"id"),e}},{key:"getProperties",value:function(){var e=["xReadOnly","width","content","richText","richTextContent","richTextHtml","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_type","spreadsheet_pattern","spreadsheet_textWrap"],t=this.rb.getDataObject(this.parentId);return t!==null&&t.getValue("bandType")===se.bandType.header&&(e.push("printIf"),e.push("growWeight")),e}},{key:"getElementType",value:function(){return we.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.updateDisplayInternalNotify(e,t,d,s,!0)}},{key:"updateDisplayInternalNotify",value:function(e,t,d,s,m){this.el!==null&&(this.el.style.width=this.rb.toPixel(d-1));var I=this.getContentSize(d,s,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(I.width),this.elContentText.style.height=this.rb.toPixel(I.height),m){var v=this.rb.getDataObject(this.tableId);if(v!==null){for(var D=this.rb.getDataObject(this.parentId),R=d,X=D.getSingleCellWidths(),Y=0;Y<X.length;Y++)(Y<this.columnIndex||Y>=this.columnIndex+this.colspanVal)&&(R+=X[Y]);for(var ae=this.getDisplayWidthSplit(d),Q=0;Q<ae.length;Q++)v.notifyColumnWidthResized(D,this.columnIndex+Q,ae[Q],R)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var e=this.rb.getDataObject(this.tableId),t=this.rb.getDataObject(this.parentId);if(e!==null&&t!==null){for(var d=this.rb.getDocumentProperties().getContentSize().width,s=t.getSingleCellWidths(),m=0,I=0;I<s.length;I++)(I<this.columnIndex||I>=this.columnIndex+this.colspanVal)&&(m+=s[I]);return d-m-e.xVal}return 0}},{key:"getOffsetX",value:function(){var e=this.rb.getDataObject(this.parentId);if(e!==null){for(var t=e.getSingleCellWidths(),d=0,s=0;s<this.columnIndex;s++)d+=t[s];return d}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=i("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=i("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=i("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=i("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(e,t,d){var s=this.getDisplayWidthSplit(e),m=this.getParent();if(m!==null)for(var I=s.length-1;I>=0;I--){var v=new p(m.getColumn(this.columnIndex+I).getId(),"width",""+s[I],p.type.text,this.rb);(t||I>0)&&v.disableSelect(),d.addCommand(v)}}},{key:"insertColumn",value:function(e){var t=this.getParent(),d=this.getTable();if(t!==null&&d!==null){var s=t.getColumnIndex(this);if(s!==-1){var m=new _e("Insert column"),I=new gt(!1,d.getPanelItem().getPanelName(),d.toJS(),d.getId(),d.getContainerId(),-1,this.rb);m.addCommand(I);var v=j(d.getValue("columns"))+1;d.setValue("columns",v),d.getValue("headerData").createColumns(v,!0,s,e);for(var D=0;D<d.getValue("contentDataRows").length;D++)d.getValue("contentDataRows")[D].createColumns(v,!0,s,e);d.getValue("footerData").createColumns(v,!0,s,e),I=new gt(!0,d.getPanelItem().getPanelName(),d.toJS(),d.getId(),d.getContainerId(),-1,this.rb),m.addCommand(I),this.rb.executeCommand(m),this.rb.selectObject(this.getParent().getValue("columnData")[e?s:s+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var e=this.getParent(),t=this.getTable();if(e!==null&&t!==null){var d=e.getColumnIndex(this);if(d!==-1){var s=new _e("Delete column"),m=new gt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);s.addCommand(m);var I=j(t.getValue("columns"))-1;t.setValue("columns",I);var v=t.getValue("widthVal");t.setValue("width",v-this.widthVal),t.getValue("headerData").deleteColumn(d);for(var D=0;D<t.getValue("contentDataRows").length;D++)t.getValue("contentDataRows")[D].deleteColumn(d);t.getValue("footerData").deleteColumn(d),m=new gt(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),s.addCommand(m),this.rb.executeCommand(s)}}}},{key:"toJS",value:function(){var e=n(g(r.prototype),"toJS",this).call(this);return e.growWeight=j(e.growWeight),e}},{key:"getClassName",value:function(){return"TableTextElement"}}]),r}(xr);function tr(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return fn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?fn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function fn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function io(_,r,e){return r=g(r),E(_,mn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function mn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(mn=function(){return!!_})()}var yn=function(_){function r(e,t,d,s){var m;return $(this,r),(m=io(this,r,[d==="header"?s.getLabel("bandHeader"):d==="footer"?s.getLabel("bandFooter"):s.getLabel("bandContent"),e,0,20,s])).bandType=d,m.repeatHeader=!1,m.alwaysPrintOnSamePage=!0,m.pageBreak=!1,m.backgroundColor="",m.alternateBackgroundColor="",m.groupExpression="",m.repeatGroupHeader=!1,m.parentId=t.parentId,m.columnData=[],m.heightVal=0,m.setInitialData(t),m}return l(r,_),b(r,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.heightVal=j(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var e,t=this.id,d=tr(this.columnData);try{for(d.s();!(e=d.n()).done;){var s=e.value;s.getId()>t&&(t=s.getId())}}catch(m){d.e(m)}finally{d.f()}return t}},{key:"getContainerId",value:function(){var e=this.getParent();return e!==null?e.getContainerId():null}},{key:"setValue",value:function(e,t){if(this[e]=t,e==="height"){var d=j(t);this[e+"Val"]=d;var s,m=tr(this.getElement().querySelectorAll("td"));try{for(m.s();!(s=m.n()).done;)s.value.style.height=this.rb.toPixel(d)}catch(R){m.e(R)}finally{m.f()}var I,v=tr(this.columnData);try{for(v.s();!(I=v.n()).done;)I.value.setValue(e,t)}catch(R){v.e(R)}finally{v.f()}var D=this.getParent();D!==null&&D.updateHeight()}else e==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id"),e}},{key:"getProperties",value:function(){var e=["height","styleId","backgroundColor"];return this.bandType===se.bandType.header?e.push("repeatHeader"):this.bandType===se.bandType.content&&(e.push("alternateBackgroundColor"),e.push("groupExpression"),e.push("printIf"),e.push("alwaysPrintOnSamePage"),e.push("pageBreak"),e.push("repeatGroupHeader")),e}},{key:"updateDisplayInternal",value:function(e,t,d,s){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=i("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var e=0;e<this.columnData.length;e++)this.rb.deleteDataObject(this.columnData[e]);n(g(r.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(e,t,d,s){if(this.panelItem!==null){if(t)for(var m=0;m<this.columnData.length;m++)this.columnData[m].remove(),m>=e&&this.rb.deleteDataObject(this.columnData[m]);for(var I=[],v=0;v<e;v++){var D=void 0,R=void 0,X=t?20:100,Y=v;d!==-1&&(s?v===d?(X=this.columnData[d].getValue("widthVal"),Y=-1):v>=d&&Y--:v===d+1?(X=this.columnData[d].getValue("widthVal"),Y=-1):v>d&&Y--),Y!==-1&&Y<this.columnData.length?((D=this.columnData[Y]).columnIndex=v,R=D.id,t||(D.band=this.band,D.parentId=this.id,D.tableId=this.parentId,D.height=this.height)):D={band:this.band,columnIndex:v,parentId:this.id,tableId:this.parentId,width:X,height:this.height},R||(R=this.rb.getUniqueId());var ae=new qt(R,D,this.rb);I.push(ae),this.rb.addDataObject(ae);var Q=new Ue(we.type.text,this.panelItem,ae,{showDelete:!1},this.rb);ae.setPanelItem(Q),this.panelItem.appendChild(Q)}this.columnData=I;for(var ie=0,me=I;ie<me.length;ie++)me[ie].setup(!0);this.updateColumnDisplay();var he,be=tr(this.getElement().querySelectorAll("td"));try{for(be.s();!(he=be.n()).done;)he.value.style.height=this.rb.toPixel(this.heightVal)}catch(Ce){be.e(Ce)}finally{be.f()}}}},{key:"deleteColumn",value:function(e){e<this.columnData.length&&(this.columnData[e].remove(),this.rb.deleteDataObject(this.columnData[e]),this.columnData.splice(e,1))}},{key:"show",value:function(e){e?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(e,t){e<this.columnData.length&&this.columnData[e].setWidth(t)}},{key:"updateColumnDisplay",value:function(){for(var e=0;e<this.columnData.length;){var t=this.columnData[e],d=t.getValue("widthVal"),s=t.getValue("colspanVal");if(t.getElement().style.display="",s>1){var m=e+s<this.columnData.length?e+s:this.columnData.length;for(e++;e<m;)d+=this.columnData[e].getValue("widthVal"),this.columnData[e].getElement().style.display="none",e++}else e++;t.setDisplayWidth(d),t.updateDisplay()}}},{key:"getColumn",value:function(e){return e>=0&&e<this.columnData.length?this.columnData[e]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(e,t){for(var d=0;d<this.columnData.length;){var s=this.columnData[d],m=s.getNextCellIndex();if(m>e){if(m>d+1)for(var I=d;I<m&&I<this.columnData.length;I++)I!==e&&(t+=this.columnData[I].getValue("widthVal"));s.updateDisplayInternalNotify(0,0,t,s.getValue("heightVal"),!1);break}d=m}}},{key:"getColumnIndex",value:function(e){for(var t=0;t<this.columnData.length;t++)if(e===this.columnData[t])return t;return-1}},{key:"getWidth",value:function(){for(var e=0,t=0;t<this.columnData.length;){var d=this.columnData[t];e+=d.getDisplayWidth();var s=d.getValue("colspanVal");s>1?t+=s:t++}return e}},{key:"getSingleCellWidths",value:function(){var e,t=[],d=tr(this.columnData);try{for(d.s();!(e=d.n()).done;){var s=e.value;t.push(s.getValue("widthVal"))}}catch(m){d.e(m)}finally{d.f()}return t}},{key:"insertRow",value:function(e){var t=this.getParent();if(t!==null){var d=t.getContentRowIndex(this);if(d!==-1){var s=new _e("Insert row"),m=new gt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);s.addCommand(m);var I=j(t.getValue("contentRows"))+1;t.setValue("contentRows",I);var v,D=t.getValue("contentDataRows")[d],R={height:D.height,columnData:[]},X=tr(D.columnData);try{for(X.s();!(v=X.n()).done;){var Y=v.value;R.columnData.push({width:Y.width})}}catch(Q){X.e(Q)}finally{X.f()}var ae=t.createBand("content",-1,R);t.getValue("contentDataRows").splice(e?d:d+1,0,ae),m=new gt(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),s.addCommand(m),this.rb.executeCommand(s),this.rb.selectObject(ae.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var e=this.getParent();if(e!==null){var t=e.getContentRowIndex(this),d=j(e.getValue("contentRows"));if(t!==-1&&d>1){var s=new _e("Delete row"),m=new gt(!1,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb);s.addCommand(m);var I=e.toJS();I.contentRows=d-1,I.contentDataRows.splice(t,1),m=new gt(!0,e.getPanelItem().getPanelName(),I,e.getId(),e.getContainerId(),-1,this.rb),s.addCommand(m),this.rb.executeCommand(s)}}}},{key:"addChildren",value:function(e){var t,d=tr(this.columnData);try{for(d.s();!(t=d.n()).done;){var s=t.value;e.push(s)}}catch(m){d.e(m)}finally{d.f()}}},{key:"toJS",value:function(){var e=n(g(r.prototype),"toJS",this).call(this);e.columnData=[];var t,d=tr(this.columnData);try{for(d.s();!(t=d.n()).done;){var s=t.value;e.columnData.push(s.toJS())}}catch(m){d.e(m)}finally{d.f()}return e}},{key:"getClassName",value:function(){return"TableBandElement"}}]),r}(we);function gr(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return gn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?gn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function gn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function lo(_,r,e){return r=g(r),E(_,bn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function bn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(bn=function(){return!!_})()}var Kt=function(_){function r(e,t,d){var s;return $(this,r),(s=lo(this,r,[d.getLabel("docElementTable"),e,200,40,d])).setupComplete=!1,s.dataSource="",s.borderColor="#000000",s.borderWidth="1",s.border=r.border.grid,s.header=!0,s.footer=!1,s.contentRows="1",s.columns="2",s.headerData=null,s.contentDataRows=[],s.footerData=null,s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(t),s.borderWidthVal=j(s.borderWidth),s}return l(r,_),b(r,[{key:"setup",value:function(e){n(g(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var t=j(this.contentRows);t<1&&(t=1);for(var d=[],s=0;s<t;s++)d.push(this.createBand("content",s,null));this.contentDataRows=d,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t,d){var s,m,I=e+(e==="content"?"DataRows":"Data"),v={hasChildren:!0,showDelete:!1};d?s=d:this[I]&&(e!=="content"||t!==-1&&t<this[I].length)?m=(s=e==="content"?this[I][t]:this[I]).id:s={},s.parentId=this.id,m||(m=this.rb.getUniqueId()),(e==="header"&&!this.header||e==="footer"&&!this.footer)&&(v.visible=!1);var D=new yn(m,s,e,this.rb);this.rb.addDataObject(D);var R=new Ue("tableBand",this.panelItem,D,v,this.rb);D.setPanelItem(R),this.panelItem.appendChild(R),D.setup();var X=j(this.columns);return D.createColumns(X,!1,-1,!1),R.open(),e==="header"?D.show(this.header):e==="footer"&&D.show(this.footer),D}},{key:"getMaxId",value:function(){var e,t=this.id;(e=this.headerData.getMaxId())>t&&(t=e);for(var d=0;d<this.contentDataRows.length;d++)(e=this.contentDataRows[d].getMaxId())>t&&(t=e);return(e=this.footerData.getMaxId())>t&&(t=e),t}},{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e==="dataSource"?this.updateName():e==="header"?(this.headerData.show(t),t?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):e==="footer"?(this.footerData.show(t),t?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e.indexOf("border")!==-1&&(e==="borderWidth"&&(this.borderWidthVal=j(t)),this.updateStyle()),e!=="header"&&e!=="footer"&&e!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(e,t,d,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t))}},{key:"updateStyle",value:function(){var e,t=this.el.querySelector("table");this.border===r.border.grid||this.border===r.border.frameRow||this.border===r.border.frame?(t.style.borderStyle="solid",t.style.borderWidth=this.borderWidthVal+"px",t.style.borderColor=this.borderColor):t.style.borderStyle="none";var d="",s="",m="";this.border===r.border.grid||this.border===r.border.frameRow||this.border===r.border.row?(d="solid none solid none",s=this.borderWidthVal+"px",m=this.borderColor):d="none";var I=this.headerData.getElement();for(I.style.borderStyle=d,I.style.borderWidth=s,I.style.borderColor=m,e=0;e<this.contentDataRows.length;e++){var v=this.contentDataRows[e].getElement();v.style.borderStyle=d,v.style.borderWidth=s,v.style.borderColor=m}var D=this.footerData.getElement();D.style.borderStyle=d,D.style.borderWidth=s,D.style.borderColor=m,this.border===r.border.grid?(d="none solid none solid",s=this.borderWidthVal+"px",m=this.borderColor):d="none";var R,X=gr(this.headerData.getElement().querySelectorAll("td"));try{for(X.s();!(R=X.n()).done;){var Y=R.value;Y.style.borderStyle=d,Y.style.borderWidth=s,Y.style.borderColor=m}}catch(Ee){X.e(Ee)}finally{X.f()}for(e=0;e<this.contentDataRows.length;e++){var ae,Q=gr(this.contentDataRows[e].getElement().querySelectorAll("td"));try{for(Q.s();!(ae=Q.n()).done;){var ie=ae.value;ie.style.borderStyle=d,ie.style.borderWidth=s,ie.style.borderColor=m}}catch(Ee){Q.e(Ee)}finally{Q.f()}}var me,he=gr(this.footerData.getElement().querySelectorAll("td"));try{for(he.s();!(me=he.n()).done;){var be=me.value;be.style.borderStyle=d,be.style.borderWidth=s,be.style.borderColor=m}}catch(Ee){he.e(Ee)}finally{he.f()}for(var Ce=0,Oe=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];Ce<Oe.length;Ce++){var Ie=Oe[Ce];this.el.classList.remove(Ie)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","width"),e}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","styleId","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return we.type.table}},{key:"select",value:function(){n(g(r.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),t=0,d=["NE","SE","SW","NW"];t<d.length;t++){var s=d[t];e.append(i("div",{class:"rbroSizer rbroSizer".concat(s," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=i("div",{class:"rbroDocElement rbroTableElement"});var e=i("table",{id:"rbro_el_table".concat(this.id)});e.append(i("thead",{id:"rbro_el_table_header".concat(this.id)})),e.append(i("tbody",{id:"rbro_el_table_content".concat(this.id)})),e.append(i("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(e),this.appendToContainer(),this.registerEventHandlers(),e.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var e=0;e<this.contentDataRows.length;e++)this.rb.deleteDataObject(this.contentDataRows[e]),this.contentDataRows[e].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,n(g(r.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(e,t){if(this.setupComplete){this.headerData.updateColumnWidth(e,t);for(var d=0;d<this.contentDataRows.length;d++)this.contentDataRows[d].updateColumnWidth(e,t);this.footerData.updateColumnWidth(e,t)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var e=0;e<this.contentDataRows.length;e++)this.contentDataRows[e].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var e=0;this.header&&(e+=this.headerData.getHeight());for(var t=0;t<this.contentDataRows.length;t++)e+=this.contentDataRows[t].getHeight();this.footer&&(e+=this.footerData.getHeight()),this.height=""+e,this.heightVal=e}}},{key:"notifyColumnWidthResized",value:function(e,t,d,s){if(this.setupComplete){e!==this.headerData&&this.headerData.notifyColumnWidthResized(t,d);for(var m=0;m<this.contentDataRows.length;m++)e!==this.contentDataRows[m]&&this.contentDataRows[m].notifyColumnWidthResized(t,d);e!==this.footerData&&this.footerData.notifyColumnWidthResized(t,d),this.width=""+s,this.widthVal=s,document.getElementById("rbro_el_table".concat(this.id)).style.width=s+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(e){for(var t=0;t<this.contentDataRows.length;t++)if(e===this.contentDataRows[t])return t;return-1}},{key:"addChildren",value:function(e){var t;for(e.push(this.headerData),t=0;t<this.contentDataRows.length;t++)e.push(this.contentDataRows[t]);for(e.push(this.footerData),this.headerData.addChildren(e),t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].addChildren(e);this.footerData.addChildren(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,d){this.addCommandForChangedParameterName(e,t,"dataSource",d)}},{key:"createSpaceForNewColumns",value:function(e,t){for(var d=r.getColumnMinWidth(),s=e*d,m=t-1;m>=0;){var I=this.headerData.getColumn(m),v=I.getValue("widthVal")-d,D=d;if(v>s&&(D=I.getValue("widthVal")-s),this.updateColumnWidth(m,D),(s-=v)<=0)break;m--}}},{key:"hasEnoughAvailableSpace",value:function(e){var t=j(this.columns),d=Math.floor(this.widthVal/r.getColumnMinWidth());return!(e>t&&e>d)}},{key:"addCommandsForChangedColumns",value:function(e,t){if(this.hasEnoughAvailableSpace(e)){var d=j(this.columns),s=new gt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(s),e>d)this.createSpaceForNewColumns(e-d,d);else if(e<d){for(var m=0,I=0;I<e;I++)m+=this.headerData.getColumn(I).getValue("widthVal");var v=this.headerData.getColumn(e-1);this.widthVal-m>0&&this.updateColumnWidth(e-1,v.getValue("widthVal")+(this.widthVal-m))}this.columns=e,this.headerData.createColumns(e,!0,-1,!1);for(var D=0;D<this.contentDataRows.length;D++)this.contentDataRows[D].createColumns(e,!0,-1,!1);this.footerData.createColumns(e,!0,-1,!1),s=new gt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(s)}}},{key:"addCommandsForChangedContentRows",value:function(e,t){if(e!==j(this.contentRows)){var d,s=new gt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(s),e<this.contentDataRows.length){for(d=e;d<this.contentDataRows.length;d++)this.rb.deleteDataObject(this.contentDataRows[d]),this.contentDataRows[d].remove();this.contentDataRows.splice(e,this.contentDataRows.length-e)}else{var m;if(this.contentDataRows.length>0){m={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var I,v=gr(this.contentDataRows[0].columnData);try{for(v.s();!(I=v.n()).done;){var D=I.value;m.columnData.push({width:D.width})}}catch(R){v.e(R)}finally{v.f()}}for(d=this.contentDataRows.length;d<e;d++)this.contentDataRows.push(this.createBand("content",d,m))}this.contentRows=""+e,s=new gt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(s)}}},{key:"toJS",value:function(){var e=n(g(r.prototype),"toJS",this).call(this);e.headerData=this.headerData.toJS();for(var t=[],d=0;d<this.contentDataRows.length;d++)t.push(this.contentDataRows[d].toJS());return e.contentDataRows=t,e.footerData=this.footerData.toJS(),e}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(e){for(var t=0,d=["headerData","footerData"];t<d.length;t++){var s=d[t];r.removeBandIds(e[s])}for(var m=0;m<e.contentDataRows.length;m++)r.removeBandIds(e.contentDataRows[m])}},{key:"removeBandIds",value:function(e){delete e.id;var t,d=gr(e.columnData);try{for(d.s();!(t=d.n()).done;)delete t.value.id}catch(s){d.e(s)}finally{d.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),r}(we);function so(_,r,e){return r=g(r),E(_,vn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function vn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(vn=function(){return!!_})()}Kt.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var uo=function(_){function r(e,t,d){var s;return $(this,r),(s=so(this,r,[e,t,d])).rotateDeg=0,s.opacity=30,s}return l(r,_),b(r,[{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e!=="rotateDeg"&&e!=="opacity"||this.updateDisplay()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","rotateDeg","opacity","styleId","horizontalAlignment","verticalAlignment","backgroundColor","printIf"]}},{key:"getElementType",value:function(){return we.type.watermarkImage}},{key:"updateDisplayInternal",value:function(e,t,d,s){n(g(r.prototype),"updateDisplayInternal",this).call(this,e,t,d,s),this.el.style.rotate=this.rotateDeg+"deg",this.elContent.style.opacity=this.opacity/100}},{key:"select",value:function(){n(g(r.prototype),"select",this).call(this),this.el.classList.remove("rbroHidden"),this.el.style.zIndex=""}},{key:"deselect",value:function(){n(g(r.prototype),"deselect",this).call(this),this.el.classList.add("rbroHidden")}},{key:"createElement",value:function(){n(g(r.prototype),"createElement",this).call(this),this.el.classList.add("rbroHidden")}},{key:"getClassName",value:function(){return"WatermarkImageElement"}}]),r}(Dr);function co(_,r,e){return r=g(r),E(_,_n()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function _n(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(_n=function(){return!!_})()}var po=function(_){function r(e,t,d){var s;return $(this,r),(s=co(this,r,[e,t,d])).rotateDeg=0,s.opacity=30,s}return l(r,_),b(r,[{key:"setValue",value:function(e,t){n(g(r.prototype),"setValue",this).call(this,e,t),e!=="rotateDeg"&&e!=="opacity"||this.updateDisplay()}},{key:"getProperties",value:function(){return["x","y","width","height","content","eval","rotateDeg","opacity","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf"]}},{key:"getElementType",value:function(){return we.type.watermarkText}},{key:"updateDisplayInternal",value:function(e,t,d,s){n(g(r.prototype),"updateDisplayInternal",this).call(this,e,t,d,s),this.el.style.rotate=this.rotateDeg+"deg",this.elContent.style.opacity=this.opacity/100}},{key:"select",value:function(){n(g(r.prototype),"select",this).call(this),this.el.classList.remove("rbroHidden"),this.el.style.zIndex=""}},{key:"deselect",value:function(){n(g(r.prototype),"deselect",this).call(this),this.el.classList.add("rbroHidden")}},{key:"createElement",value:function(){n(g(r.prototype),"createElement",this).call(this),this.el.classList.add("rbroHidden")}},{key:"getClassName",value:function(){return"WatermarkTextElement"}}]),r}(xr);function ho(_,r,e){return r=g(r),E(_,wn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function wn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(wn=function(){return!!_})()}var gt=function(_){function r(e,t,d,s,m,I,v){var D;return $(this,r),(D=ho(this,r)).add=e,D.elementType=t,D.initialData=d,D.parentId=m,D.position=I,D.rb=v,D.id=s,D.firstExecution=!0,D}return l(r,_),b(r,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var e=r.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(e,o.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=e.toJS())}}},{key:"deleteElement",value:function(){var e=this.rb.getDataObject(this.id);e!==null&&this.rb.deleteDocElement(e)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(e,t,d,s,m,I){var v,D={draggable:!0};d===we.type.text?v=new xr(e,t,I):d===we.type.line?v=new nn(e,t,I):d===we.type.image?v=new Dr(e,t,I):d===we.type.pageBreak?v=new an(e,t,I):d===we.type.table?(v=new Kt(e,t,I),D.hasChildren=!0):d===we.type.frame?(v=new Ar(e,t,I),D.hasChildren=!0):d===we.type.section?(v=new Lr(e,t,I),D.hasChildren=!0):d===we.type.barCode?v=new Xn(e,t,I):d===we.type.watermarkText?v=new po(e,t,I):d===we.type.watermarkImage&&(v=new uo(e,t,I)),I.addDocElement(v);var R=v.getContainer().getPanelItem(),X=new Ue(d,R,v,D,I);return v.setPanelItem(X),R.insertChild(s,X),v.setup(m),v}}]),r}(o);function jt(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return En(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?En(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function En(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var xn=function(){function _(r,e,t){$(this,_),this.rootElement=r,this.rb=t,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=e,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=we.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return b(_,[{key:"render",value:function(){var r=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(I){r.rb.isDocElementSelected()&&!I.shiftKey&&r.rb.deselectAll(!0);var v=B(r.elDocContent);r.startSelectionArea(r.getCoordWithoutZoom(I.pageX-v.left),r.getCoordWithoutZoom(I.pageY-v.top))});var e=i("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(e.addEventListener("mousedown",function(I){I.stopPropagation()}),this.elTabPdfLayout=i("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(I){r.setDocumentTab(_.tab.pdfLayout)}),e.append(this.elTabPdfLayout),this.elTabPdfPreview=i("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(I){r.setDocumentTab(_.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var t=i("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});t.addEventListener("click",function(I){r.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(t)}var d=i("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});d.addEventListener("click",function(I){r.closePdfPreviewTab()}),this.elTabPdfPreview.append(d),e.append(this.elTabPdfPreview),this.elPanel.append(e);var s=this.rb.getDocumentProperties();this.elDoc=i("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=i("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=i("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(i("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=i("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(i("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=i("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(i("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=i("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=i("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=i("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=i("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=i("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=i("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=i("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=i("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var m=s.getPageSize();this.updatePageSize(m.width,m.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(_.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var r=this;this.elDocContent.addEventListener("dragover",function(e){r.processDragover(e)}),this.elDocContent.addEventListener("dragenter",function(e){r.rb.isBrowserDragActive("docElement")&&(r.dragEnterCount++,e.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(e){if(r.rb.isBrowserDragActive("docElement")&&(r.dragEnterCount--,r.dragEnterCount===0)){var t,d=jt(document.querySelectorAll(".rbroElementContainer"));try{for(d.s();!(t=d.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(s){d.e(s)}finally{d.f()}r.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(e){return r.processDrop(e),!1})}},{key:"processMouseMove",value:function(r){if(this.dragging)this.processDrag(r);else if(this.selectionAreaStarted){var e=B(this.elDocContent),t=this.getSelectionArea(this.getCoordWithoutZoom(r.pageX-e.left),this.getCoordWithoutZoom(r.pageY-e.top));this.elSelectionArea.style.left=this.rb.toPixel(t.left),this.elSelectionArea.style.top=this.rb.toPixel(t.top),this.elSelectionArea.style.width=this.rb.toPixel(t.width),this.elSelectionArea.style.height=this.rb.toPixel(t.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(r){if(this.rb.isBrowserDragActive("docElement")){var e=V(r),t=null;e!==null&&(t=this.getContainer(e.x,e.y,this.dragElementType,[]),this.dragCurrentX=e.x,this.dragCurrentY=e.y);var d=t!==null?t.getId():null;if(d!==this.dragContainerId){var s,m=jt(document.querySelectorAll(".rbroElementContainer"));try{for(m.s();!(s=m.n()).done;)s.value.classList.remove("rbroElementDragOver")}catch(I){m.e(I)}finally{m.f()}t!==null&&t.dragOver(),this.dragContainerId=d}r.preventDefault(),r.stopPropagation()}}},{key:"processDrop",value:function(r){if(this.rb.isBrowserDragActive("docElement")){r.preventDefault();var e,t=jt(document.querySelectorAll(".rbroElementContainer"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("rbroElementDragOver")}catch(me){t.e(me)}finally{t.f()}if(this.dragElementType===we.type.image&&this.rb.getProperty("imageLimit")!==null){var d,s=0,m=jt(this.rb.getDocElements(!0));try{for(m.s();!(d=m.n()).done;)d.value.getElementType()===we.type.image&&s++}catch(me){m.e(me)}finally{m.f()}if(s>=this.rb.getProperty("imageLimit"))return void alert(this.rb.getLabel("docElementImageCountExceeded").replace("${count}",this.rb.getProperty("imageLimit")))}var I=V(r);I!==null&&(this.dragCurrentX=I.x,this.dragCurrentY=I.y);for(var v=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);v!==null&&!v.isElementAllowed(this.dragElementType);)v=v.getParent();if(v!==null&&v.isElementAllowed(this.dragElementType)){var D=B(this.elDocContent),R=this.getCoordWithoutZoom(this.dragCurrentX-D.left),X=this.getCoordWithoutZoom(this.dragCurrentY-D.top),Y=v.getOffset();if(R-=Y.x,X-=Y.y,!r.ctrlKey&&this.rb.getDocument().isGridVisible()){var ae=this.rb.getDocument().getGridSize();R=H(R,ae),X=H(X,ae)}var Q={x:""+R,y:""+X,containerId:v.getId()},ie=new gt(!0,this.dragElementType,Q,this.rb.getUniqueId(),v.getId(),-1,this.rb);this.rb.executeCommand(ie)}}}},{key:"processDrag",value:function(r){var e=V(r);if(this.dragType===we.dragType.element){var t=this.getContainer(e.x,e.y,this.dragElementType,this.dragLinkedContainers),d=t!==null?t.getId():null;if(d!==this.dragCurrentContainerId){var s,m=jt(document.querySelectorAll(".rbroElementContainer"));try{for(m.s();!(s=m.n()).done;)s.value.classList.remove("rbroElementDragOver")}catch(D){m.e(D)}finally{m.f()}t!==null&&d!==this.dragContainerId&&t.dragOver()}this.dragCurrentContainerId=d}this.dragCurrentX=e.x,this.dragCurrentY=e.y,this.dragSnapToGrid=!r.ctrlKey;var I=this.rb.getDataObject(this.dragObjectId);if(I!==null){var v=I.getDragDiff(this.getCoordWithoutZoom(e.x-this.dragStartX),this.getCoordWithoutZoom(e.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(v.x,v.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(r,e){this.elDoc.style.width=this.rb.toPixel(r),this.elDoc.style.height=this.rb.toPixel(e)}},{key:"updatePageMargins",value:function(){var r=this.rb.getDocumentProperties(),e=j(r.getValue("marginLeft")),t=j(r.getValue("marginTop")),d=j(r.getValue("marginRight")),s=j(r.getValue("marginBottom")),m=this.rb.toPixel(e),I=this.rb.toPixel(t-1),v=this.rb.toPixel(d),D=this.rb.toPixel(s);this.elDividerMarginLeft.style.left=m,this.elDividerMarginTop.style.top=I,e!==0?(this.elDividerMarginLeft.style.left=m,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",t!==0?(this.elDividerMarginTop.style.top=I,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",d!==0?(this.elDividerMarginRight.style.right=v,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",s!==0?(this.elDividerMarginBottom.style.bottom=D,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=m,this.elDocContent.style.top=I,this.elDocContent.style.right=v,this.elDocContent.style.bottom=D}},{key:"updateHeader",value:function(){var r=this.rb.getDocumentProperties();if(r.getValue("header")){var e=this.rb.toPixel(r.getValue("headerSize"));this.elHeader.style.height=e,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(j(r.getValue("marginTop"))+j(r.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=e}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var r=this.rb.getDocumentProperties();if(r.getValue("footer")){var e=this.rb.toPixel(r.getValue("footerSize"));this.elFooter.style.height=e,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(j(r.getValue("marginBottom"))+j(r.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=e}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(r){var e,t=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),d=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),s=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),m=jt(t);try{for(m.s();!(e=m.n()).done;)e.value.classList.remove("rbroActive")}catch(he){m.e(he)}finally{m.f()}if(r===_.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var I,v=jt(d);try{for(v.s();!(I=v.n()).done;){var D=I.value;D.classList.remove("rbroDisabled"),D.draggable=!0}}catch(he){v.e(he)}finally{v.f()}var R,X=jt(s);try{for(X.s();!(R=X.n()).done;)R.value.disabled=!1}catch(he){X.e(he)}finally{X.f()}}else if(this.pdfPreviewExists&&r===_.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var Y,ae=jt(d);try{for(ae.s();!(Y=ae.n()).done;){var Q=Y.value;Q.classList.add("rbroDisabled"),Q.draggable=!1}}catch(he){ae.e(he)}finally{ae.f()}var ie,me=jt(s);try{for(me.s();!(ie=me.n()).done;)ie.value.disabled=!0}catch(he){me.e(he)}finally{me.f()}}}},{key:"openPdfPreviewTab",value:function(r,e){if(A(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),e&&Object.keys(e).length>0){var t=this,d=new XMLHttpRequest;for(var s in d.responseType="blob",d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE)if(d.status===200){var I=document.createElement("object");I.type="application/pdf",I.width="100%",I.height="100%",t.pdfPreviewObjectURL=URL.createObjectURL(d.response),I.data=t.pdfPreviewObjectURL,t.elPdfPreview.append(I)}else alert("preview failed")},d.open("GET",r,!0),e)e.hasOwnProperty(s)&&d.setRequestHeader(s,e[s]);d.send()}else{var m=i("object",{data:r,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(m)}this.pdfPreviewExists=!0,this.setDocumentTab(_.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,A(this.elPdfPreview),this.setDocumentTab(_.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var r=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),r++):this.elTabPdfPreview.classList.add("rbroHidden"),r>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(r,e,t,d){var s=B(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(r-s.left),this.getCoordWithoutZoom(e-s.top),t,d)}},{key:"getContentScrollPosY",value:function(){var r=B(this.elDocContent);return B(this.elPanel).top-r.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var r=0;r<this.zoomLevels.length-1;r++)if(this.zoom===this.zoomLevels[r]){this.updateZoomLevel(this.zoomLevels[r+1]);break}}},{key:"zoomOut",value:function(){for(var r=1;r<this.zoomLevels.length;r++)if(this.zoom===this.zoomLevels[r]){this.updateZoomLevel(this.zoomLevels[r-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(r){this.zoom=r;var e=this.rb.getDocumentProperties().getPageSize(),t=e.width*(r/100),d=e.height*(r/100),s=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),m=getComputedStyle(this.elPanel),I=parseInt(m.paddingTop)||0,v=parseInt(m.paddingBottom)||0,D=this.elPanel.clientHeight-I-v,R=0;r!==100?(e.width>s?(this.elDoc.style.transformOrigin="",r<100&&t<s&&(R=Math.round((s-t)/2))):t>s?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(R,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=r+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=t<s?"hidden":"",this.elPanel.style.overflowY=d<D?"hidden":""}},{key:"getCoordWithoutZoom",value:function(r){return Math.round(r*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(r){return r===se.bandType.header?this.elHeader:r===se.bandType.content?this.elContent:r===se.bandType.footer?this.elFooter:null}},{key:"getRootElement",value:function(){return this.elDocContent}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(r,e,t,d,s,m){this.dragging=!0,this.dragStartX=this.dragCurrentX=r,this.dragStartY=this.dragCurrentY=e,this.dragElementType=s,this.dragType=m,this.dragObjectId=t,this.dragContainerId=d,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var I=this.rb.getDataObject(this.dragObjectId);I&&(this.dragLinkedContainers=I.getLinkedContainers())}},{key:"stopDrag",value:function(){var r=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),e=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),t=this.rb.getDataObject(this.dragObjectId);if(t===null||r===0&&e===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var d=null;this.dragType===we.dragType.element&&(d=this.rb.getDataObject(this.dragCurrentContainerId));var s=this.rb.getSelectedObjects();if(s.length>1&&d!==null){for(var m=s[0].getContainerId(),I=1;I<s.length;I++)if(s[I].getContainerId()!==m){d=null;break}}var v=t.getDragDiff(r,e,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(v.x,v.y,this.dragType,d,!0)}this.dragging=!1,this.dragType=we.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var D,R=jt(document.querySelectorAll(".rbroElementContainer"));try{for(R.s();!(D=R.n()).done;)D.value.classList.remove("rbroElementDragOver")}catch(X){R.e(X)}finally{R.f()}}},{key:"startBrowserDrag",value:function(r){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=r,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(r,e){this.selectionAreaStarted=!0,this.selectionAreaStartX=r,this.selectionAreaStartY=e}},{key:"stopSelectionArea",value:function(r,e,t){var d=this.getSelectionArea(r,e);if(d.width>10&&d.height>10){var s,m=jt(this.rb.getDocElements(!0));try{for(m.s();!(s=m.n()).done;){var I=s.value;if(I.isAreaSelectionAllowed()){var v=I.getAbsolutePosition();if(d.left<v.x+I.getValue("widthVal")&&d.left+d.width>=v.x&&d.top<v.y+I.getValue("heightVal")&&d.top+d.height>=v.y){var D=!0;if(I.getContainerId()){var R=I.getContainer();R!==null&&R.isSelected()&&(D=!1)}D&&(this.rb.selectObject(I.getId(),t),t=!1)}}}}catch(X){m.e(X)}finally{m.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(r,e){var t={};return r>this.selectionAreaStartX?(t.left=this.selectionAreaStartX,t.width=r-this.selectionAreaStartX):(t.left=r,t.width=this.selectionAreaStartX-r),e>this.selectionAreaStartY?(t.top=this.selectionAreaStartY,t.height=e-this.selectionAreaStartY):(t.top=e,t.height=this.selectionAreaStartY-e),t}},{key:"mouseUp",value:function(r){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var e=B(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(r.pageX-e.left),this.getCoordWithoutZoom(r.pageY-e.top),!r.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),_}();xn.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var ar,Ir,br=typeof Map=="function"?new Map:(ar=[],Ir=[],{has:function(_){return ar.indexOf(_)>-1},get:function(_){return Ir[ar.indexOf(_)]},set:function(_,r){ar.indexOf(_)===-1&&(ar.push(_),Ir.push(r))},delete:function(_){var r=ar.indexOf(_);r>-1&&(ar.splice(r,1),Ir.splice(r,1))}}),In=function(_){return new Event(_,{bubbles:!0})};try{new Event("test")}catch(_){In=function(r){var e=document.createEvent("Event");return e.initEvent(r,!0,!1),e}}function fo(_){var r=br.get(_);r&&r.destroy()}function mo(_){var r=br.get(_);r&&r.update()}var vr=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((vr=function(_){return _}).destroy=function(_){return _},vr.update=function(_){return _}):((vr=function(_,r){return _&&Array.prototype.forEach.call(_.length?_:[_],function(e){return function(t){if(t&&t.nodeName&&t.nodeName==="TEXTAREA"&&!br.has(t)){var d,s=null,m=null,I=null,v=function(){t.clientWidth!==m&&Y()},D=function(ae){window.removeEventListener("resize",v,!1),t.removeEventListener("input",Y,!1),t.removeEventListener("keyup",Y,!1),t.removeEventListener("autosize:destroy",D,!1),t.removeEventListener("autosize:update",Y,!1),Object.keys(ae).forEach(function(Q){t.style[Q]=ae[Q]}),br.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",D,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",Y,!1),window.addEventListener("resize",v,!1),t.addEventListener("input",Y,!1),t.addEventListener("autosize:update",Y,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",br.set(t,{destroy:D,update:Y}),(d=window.getComputedStyle(t,null)).resize==="vertical"?t.style.resize="none":d.resize==="both"&&(t.style.resize="horizontal"),s=d.boxSizing==="content-box"?-(parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)):parseFloat(d.borderTopWidth)+parseFloat(d.borderBottomWidth),isNaN(s)&&(s=0),Y()}function R(ae){var Q=t.style.width;t.style.width="0px",t.style.width=Q,t.style.overflowY=ae}function X(){if(t.scrollHeight!==0){var ae=function(Q){for(var ie=[];Q&&Q.parentNode&&Q.parentNode instanceof Element;)Q.parentNode.scrollTop&&(Q.parentNode.style.scrollBehavior="auto",ie.push([Q.parentNode,Q.parentNode.scrollTop])),Q=Q.parentNode;return function(){return ie.forEach(function(me){var he=me[0];he.scrollTop=me[1],he.style.scrollBehavior=null})}}(t);t.style.height="",t.style.height=t.scrollHeight+s+"px",m=t.clientWidth,ae()}}function Y(){X();var ae=Math.round(parseFloat(t.style.height)),Q=window.getComputedStyle(t,null),ie=Q.boxSizing==="content-box"?Math.round(parseFloat(Q.height)):t.offsetHeight;if(ie<ae?Q.overflowY==="hidden"&&(R("scroll"),X(),ie=Q.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):Q.overflowY!=="hidden"&&(R("hidden"),X(),ie=Q.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),I!==ie){I=ie;var me=In("autosize:resized");try{t.dispatchEvent(me)}catch(he){}}}}(e)}),_}).destroy=function(_){return _&&Array.prototype.forEach.call(_.length?_:[_],fo),_},vr.update=function(_){return _&&Array.prototype.forEach.call(_.length?_:[_],mo),_});const pt=vr;function Gt(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return kn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?kn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function kn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var bt=function(){function _(r,e){$(this,_),this.rootElement=r,this.rb=e,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return b(_,[{key:"render",value:function(){var r=this;this.elWindow=i("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=i("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(t){t.stopPropagation()}),this.elWindow.append(this.elContent);var e=i("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});e.addEventListener("click",function(t){r.hide()}),this.elWindow.append(e),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(r,e,t,d,s,m,I,v,D,R){var X=this,Y=window.innerWidth,ae=window.innerHeight,Q=null,ie=null;if(this.input=t!==""?document.getElementById(t):null,this.objId=e,this.field=d,this.type=s,this.items=r,A(this.elContent),this.rootParameter=I,this.rootDataType=v,this.rootFields=D,this.nextRowId=1,this.rowMap={},m&&(ie=m.getSelection()),s===_.type.data){I?(console.assert(v===null&&D===null&&R===null),v=I.type,D=I.getParameterFields(),R=I.getTestData(!0)):v===re.type.map?this.dataEmptyBeforeEdit=Object.keys(R).length===0:v!==re.type.array&&v!==re.type.simpleArray||!Array.isArray(R)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=R.length===0,this.createDataTable(this.elContent,I,v,D,R);var me=Math.round(.8*Y),he=Math.round(.8*ae),be=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((Y-me)/2)+"px",this.elWindow.style.top=Math.round((ae-he)/2)+be+"px",this.elWindow.style.width=me+"px",this.elWindow.style.height=he+"px",document.body.append(i("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{s!==_.type.parameterSet&&s!==_.type.parameterAppend||((Q=i("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",function(Ne){X.filterParameters(Q.value)}),this.elContent.append(Q));var Ce=i("ul");Ce.addEventListener("mousedown",function(Ne){Ne.preventDefault()});var Oe,Ie=Gt(r);try{var Ee=function(){var Ne=Oe.value,ve=i("li");if(Ne.separator){s!==_.type.parameterSet&&s!==_.type.parameterAppend||!Ne.id||ve.setAttribute("id","parameter_group_"+Ne.id);var oe="rbroPopupItemSeparator";Ne.separatorClass&&(oe+=" "+Ne.separatorClass),ve.setAttribute("class",oe)}else s!==_.type.parameterSet&&s!==_.type.parameterAppend||!Ne.id||ve.setAttribute("id","parameter_"+Ne.id),ve.addEventListener("mousedown",function(Le){if(s===_.type.pattern)X.input.value=Ne.name,X.input.dispatchEvent(new Event("input")),X.hide();else if(s===_.type.parameterSet||s===_.type.parameterAppend){var Xe="${"+(Ne.dataSourceName!==null?Ne.dataSourceName+":":"")+Ne.name+"}";s===_.type.parameterSet?(X.input.value=Xe,X.input.dispatchEvent(new Event("input")),pt.update(X.input)):m?ie&&m.insertText(ie.index,Xe):(function(Pe,ot){if(document.selection)Pe.focus(),document.selection.createRange().text=ot,Pe.focus();else if(Pe.selectionStart||Pe.selectionStart===0){var rt=Pe.selectionStart,et=Pe.selectionEnd,ht=Pe.scrollTop;Pe.value=Pe.value.substring(0,rt)+ot+Pe.value.substring(et,Pe.value.length),Pe.focus(),Pe.selectionStart=rt+ot.length,Pe.selectionEnd=rt+ot.length,Pe.scrollTop=ht}else Pe.value+=ot,Pe.focus()}(X.input,Xe),pt.update(X.input),X.input.dispatchEvent(new Event("input"))),X.hide()}Le.preventDefault()});ve.append(i("div",{class:"rbroPopupItemHeader"},Ne.name)),Ne.description&&Ne.description!==""&&ve.append(i("div",{class:"rbroPopupItemDescription"},Ne.description)),Ce.append(ve)};for(Ie.s();!(Oe=Ie.n()).done;)Ee()}catch(Ne){Ie.e(Ne)}finally{Ie.f()}this.elContent.append(Ce);var je=B(this.input),Re=je.top;Re<ae/2||Re<300?Re+this.input.clientHeight+300<ae&&(Re+=this.input.clientHeight):Re-=300,this.elWindow.style.left=je.left+"px",this.elWindow.style.top=Re+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,Q!==null&&Q.focus();var Ge,ze=Gt(this.elWindow.querySelectorAll("textarea"));try{for(ze.s();!(Ge=ze.n()).done;){var Ze=Ge.value;pt.update(Ze)}}catch(Ne){ze.e(Ne)}finally{ze.f()}}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===_.type.data){var r,e=!0;if(this.rootParameter?r=this.getTestData(this.elContent,this.rootParameter):(r=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===re.type.map?e=this.isDataEmpty(r,this.rootFields):this.rootDataType!==re.type.array&&this.rootDataType!==re.type.simpleArray||!Array.isArray(r)||(r.length===0?e=!1:r.length===1&&(e=!this.isDataEmpty(r[0],this.rootFields))))),e){var t=this.rb.getDataObject(this.objId),d=JSON.stringify(r);if(t!==null&&t.getValue(this.field)!==d){var s=new p(this.objId,this.field,d,p.type.text,this.rb);this.rb.executeCommand(s)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),A(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(r,e){var t,d=!0,s=Gt(e);try{for(s.s();!(t=s.n()).done;){var m=t.value;if(m.name in r){var I=r[m.name];m.type===re.type.string||m.type===re.type.number||m.type===re.type.date?I!==""&&(d=!1):m.type===re.type.boolean?I&&(d=!1):m.type===re.type.image?T(I)==="object"&&"filename"in I&&I.filename!==""&&(d=!1):m.type===re.type.array||m.type===re.type.simpleArray?I.length>0&&(d=!1):m.type===re.type.map&&Object.keys(I).length>0&&(d=!1)}}}catch(v){s.e(v)}finally{s.f()}return d}},{key:"createDataTable",value:function(r,e,t,d,s){var m,I=this,v=i("div"),D=i("table"),R=i("tr"),X=i("tbody");t===re.type.array||t===re.type.simpleArray?Array.isArray(s)||(s=[]):t===re.type.map&&(s&&Object.getPrototypeOf(s)===Object.prototype||(s={}));var Y=i("th");t===re.type.map&&(Y.style.display="none"),R.append(Y);var ae,Q=Gt(d);try{for(Q.s();!(ae=Q.n()).done;){var ie=ae.value,me=i("th",{},ie.label?ie.label:ie.name);ie.type===re.type.image&&me.append(i("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),R.append(me)}}catch(Ie){Q.e(Ie)}finally{Q.f()}var he=i("thead");if(he.append(R),D.append(he),t===re.type.map){var be=[s];this.addDataRow(X,e,t,d,be,0)}else{var Ce=Array.isArray(s)?s:[];if(Ce.length===0)this.addEmptyDataRow(X,e,t,d);else for(m=0;m<Ce.length;m++)this.addDataRow(X,e,t,d,Ce,m)}if(D.append(X),v.append(D),t!==re.type.map){var Oe=i("div",{class:"rbroButton rbroFullWidthButton"});Oe.append(i("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),Oe.addEventListener("click",function(Ie){I.addEmptyDataRow(X,e,t,d)}),v.append(Oe)}A(r),r.append(v)}},{key:"addEmptyDataRow",value:function(r,e,t,d){var s,m={},I=Gt(d);try{for(I.s();!(s=I.n()).done;){var v=s.value;v.type===re.type.array||v.type===re.type.simpleArray?m[v.name]=[]:v.type===re.type.map?m[v.name]={}:m[v.name]=""}}catch(R){I.e(R)}finally{I.f()}var D=[m];this.addDataRow(r,e,t,d,D,0)}},{key:"addDataRow",value:function(r,e,t,d,s,m){var I=this,v=s[m],D=i("tr");D.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:v},this.nextRowId++;var R=i("td");if(t!==re.type.map){var X=i("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});X.addEventListener("click",function(he){var be=he.target.parentElement.parentElement,Ce=be.dataset.rowId;be.remove();var Oe=I.rowMap[Ce];s.splice(s.indexOf(Oe.data),1),delete I.rowMap[Ce]}),R.append(X)}else R.style.display="none";D.append(R);var Y,ae=d.length,Q=Gt(d);try{for(Q.s();!(Y=Q.n()).done;){var ie=Y.value,me=ie.type===re.type.array||ie.type===re.type.simpleArray?[]:"";v!==null&&ie.name in v&&(me=v[ie.name]),this.appendColumn(D,ie,me,v,ae)}}catch(he){Q.e(he)}finally{Q.f()}r.append(D)}},{key:"appendColumn",value:function(r,e,t,d,s){var m=this,I=i("td");if(e.type===re.type.array||e.type===re.type.simpleArray||e.type===re.type.map){var v=i("div",{class:"expandableCell"}),D=i("span",{class:"rbroIcon-plus"});v.append(D);var R=i("span");if(v.append(R),v.addEventListener("click",function(be){var Ce=!v.classList.contains("rbroExpandedCell"),Oe=r.nextElementSibling;if(Oe&&Oe.tagName==="TR"){var Ie=Oe.querySelector("td table");if(Ie){var Ee,je=Gt(r.querySelectorAll(".expandableCell"));try{for(je.s();!(Ee=je.n()).done;){var Re=Ee.value;if(Re.classList.contains("rbroExpandedCell")){Re.classList.remove("rbroExpandedCell");var Ge=Re.children[0],ze=Re.children[1];Ge.classList.remove("rbroIcon-minus"),Ge.classList.add("rbroIcon-plus");var Ze=m.rowMap[Oe.dataset.rowId];if(Ze.type==="table"&&(Ze.parentData[Ze.field.name]=m.getTestData(Ie,Ze.field.parameter),Ze.field.type===re.type.array||Ze.field.type===re.type.simpleArray)){var Ne=Ze.field.name in d&&Array.isArray(d[Ze.field.name])?d[Ze.field.name].length:0;m.setTableRowCount(ze,Ne)}break}}}catch(Pe){je.e(Pe)}finally{je.f()}Oe.remove()}}if(Ce){var ve=i("tr");ve.dataset.rowId=String(m.nextRowId),m.rowMap[String(m.nextRowId)]={type:"table",field:e,parentData:d},m.nextRowId++;var oe=i("td",{colspan:String(s+1)}),Le=e.parameter.getParameterFields();if(Le.length>0){var Xe=d[e.name];m.createDataTable(oe,e.parameter,e.parameter.type,Le,Xe),ve.append(oe),r.insertAdjacentElement("afterend",ve),v.classList.add("rbroExpandedCell"),D.classList.remove("rbroIcon-plus"),D.classList.add("rbroIcon-minus"),R.textContent=""}else e.parameter.getValue("type")===re.type.map?alert(m.rb.getLabel("parameterEditTestDataMapNoFields")):alert(m.rb.getLabel("parameterEditTestDataArrayNoFields"))}}),e.type===re.type.array||e.type===re.type.simpleArray){var X=e.name in d&&Array.isArray(d[e.name])?d[e.name].length:0;this.setTableRowCount(R,X)}I.append(v)}else if(e.type===re.type.image){var Y=i("div",{class:"rbroImageFileContainer"}),ae=i("input",{type:"file"});ae.addEventListener("change",function(be){var Ce=be.target.files;Ce&&Ce[0]&&L(Ce[0],function(Oe,Ie){d[e.name]={data:Oe,filename:Ie},Q.classList.remove("rbroHidden"),ie.textContent=Ie},m.rb)}),Y.append(ae);var Q=i("div",{class:"rbroImageFile rbroHidden"}),ie=i("div");Q.append(ie);var me=i("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});me.addEventListener("click",function(be){ae.value="",d[e.name]={data:"",filename:""},Q.classList.add("rbroHidden"),ie.textContent=""}),Q.append(me),Y.append(Q),t.filename&&(ie.textContent=t.filename,Q.classList.remove("rbroHidden")),I.append(Y)}else{var he;e.attributes&&e.attributes.multiLine?(console.assert(e.type===re.type.string),he=i("textarea",{rows:1}),t&&(he.value=t),pt(he)):e.attributes&&e.attributes.select?(console.assert(e.type===re.type.string||e.type===re.type.number),he=i("select"),e.attributes.select==="style"&&U(he,we.type.text,t||null,this.rb)):(he=i("input"),e.type===re.type.boolean?(he.setAttribute("type","checkbox"),t&&(he.checked=!0),I.classList.add("rbroDataCheckbox")):(he.setAttribute("type","text"),t&&he.setAttribute("value",t),e.type===re.type.number?function(be){var Ce=this;be.addEventListener("keyup",function(Oe){var Ie=Oe.target.value,Ee=Ie.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),je=Ce.className,Re=je?je.indexOf("decimalPlaces"):-1;if(Re!==-1){Re+=13;var Ge,ze=je.indexOf(" ",Re);Ge=parseInt(ze!==-1?je.substring(Re,ze):je.substring(Re),10),isNaN(Ge)||((Re=Ee.indexOf("."))===-1&&(Re=Ee.indexOf(",")),Re!==-1&&Ee.length-1-Re>Ge&&(Ee=Ee.substring(0,Re+Ge+1)))}Ie!==Ee&&(Oe.target.value=Ee)})}(he):e.type===re.type.date&&he.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),he.addEventListener("focus",function(be){he.parentElement.classList.add("rbroHasFocus")}),he.addEventListener("blur",function(be){he.parentElement.classList.remove("rbroHasFocus")}),I.append(he)}r.append(I)}},{key:"getTestData",value:function(r,e){return this.getData(r,e.type,e.getParameterFields())}},{key:"getData",value:function(r,e,t){var d=[];if(e===re.type.map)d={};else if(e!==re.type.array&&e!==re.type.simpleArray)return console.assert(!1),null;var s,m=Gt(r.querySelector("tbody").children);try{for(m.s();!(s=m.n()).done;){var I=s.value,v=this.rowMap[I.dataset.rowId];if(v.type==="table"){var D=v.field.parameter;v.parentData[v.field.name]=this.getData(I,D.type,D.getParameterFields())}else{var R,X=v.data,Y=I.querySelectorAll("input,textarea,select"),ae=0,Q=Gt(t);try{for(Q.s();!(R=Q.n()).done;){var ie=R.value;if(ie.type!==re.type.array&&ie.type!==re.type.simpleArray&&ie.type!==re.type.map){var me=Y[ae];ie.type===re.type.boolean?X[ie.name]=me.checked:ie.type!==re.type.image&&(X[ie.name]=me.value.trim()),ae++}}}catch(he){Q.e(he)}finally{Q.f()}e===re.type.array||e===re.type.simpleArray?d.push(X):e===re.type.map&&(d=X)}}}catch(he){m.e(he)}finally{m.f()}return d}},{key:"setTableRowCount",value:function(r,e){r.textContent=e===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):e===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(e))}},{key:"filterParameters",value:function(r){var e=null,t=0;if(this.items!==null){r=r.toLowerCase();var d,s=Gt(this.items);try{for(s.s();!(d=s.n()).done;){var m=d.value;m.separator?(e!==null&&(document.getElementById("parameter_group_"+e).style.display=t>0?"block":"none"),e=m.id?m.id:null,t=0):m.nameLowerCase.indexOf(r)!==-1?(document.getElementById("parameter_"+m.id).style.display="block",e!==-1&&t++):document.getElementById("parameter_"+m.id).style.display="none"}}catch(I){s.e(I)}finally{s.f()}e!==null&&(document.getElementById("parameter_group_"+e).style.display=t>0?"block":"none")}}}]),_}();function yo(_,r,e){return r=g(r),E(_,Cn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function Cn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Cn=function(){return!!_})()}bt.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Sn=function(_){function r(e,t,d){return $(this,r),yo(this,r,[e,t,d])}return l(r,_),b(r,[{key:"setup",value:function(){this.el=this.rb.getDocument().getRootElement(),this.elContent=this.el}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties();return{width:e.getValue("width"),height:e.getValue("height")}}},{key:"getContentSize",value:function(){return this.getSize()}}]),r}(C);function Pn(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return On(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?On(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function On(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var Xt=function(){function _(r){$(this,_),this.rb=r,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=_.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=_.unit.mm,this.orientation=_.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=_.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=_.display.always,this.headerSizeVal=this.header?j(this.headerSize):0,this.footerSizeVal=this.footer?j(this.footerSize):0,this.watermark=!1,this.patternLocale=r.getProperty("patternLocale"),this.patternCurrencySymbol=r.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=r.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return b(_,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);this.headerSizeVal=this.header?j(this.headerSize):0,this.footerSizeVal=this.footer?j(this.footerSize):0,this.marginLeftVal=j(this.marginLeft),this.marginTopVal=j(this.marginTop),this.marginRightVal=j(this.marginRight),this.marginBottomVal=j(this.marginBottom)}},{key:"setup",value:function(){var r=this.getPageSize();this.updatePageSize(r),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter(),this.updateWatermark()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","watermark","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getProperties",value:function(){return this.getFields()}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){if(this[r]=e,r==="marginLeft"||r==="marginTop"||r==="marginRight"||r==="marginBottom"?(this[r+"Val"]=j(e),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):r==="header"?this.updateHeader():r==="footer"?this.updateFooter():r==="watermark"&&this.updateWatermark(),r==="header"||r==="headerSize")this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?j(this.headerSize):0;else if(r==="footer"||r==="footerSize")this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?j(this.footerSize):0;else if(r==="pageFormat"||r==="pageWidth"||r==="pageHeight"||r==="unit"||r==="orientation"||r==="contentHeight"||r==="marginTop"||r==="marginBottom"){var t=this.getPageSize();this.updatePageSize(t)}}},{key:"getUpdateValue",value:function(r,e){return e}},{key:"updatePageSize",value:function(r){this.width=r.width,this.height=r.height,this.rb.getDocument().updatePageSize(r.width,r.height);var e,t=Pn(this.rb.getDocElements(!0));try{for(t.s();!(e=t.n()).done;){var d=e.value;d instanceof Lr&&d.setWidth(r.width)}}catch(s){t.e(s)}finally{t.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"updateWatermark",value:function(){this.watermark?this.rb.getMainPanel().showWatermarks():this.rb.getMainPanel().hideWatermarks()}},{key:"getPageSize",value:function(){var r,e,t;return this.pageFormat===_.pageFormat.A4?(this.orientation===_.orientation.portrait?(r=210,e=297):(r=297,e=210),t=_.unit.mm):this.pageFormat===_.pageFormat.A5?(this.orientation===_.orientation.portrait?(r=148,e=210):(r=210,e=148),t=_.unit.mm):this.pageFormat===_.pageFormat.letter?(this.orientation===_.orientation.portrait?(r=8.5,e=11):(r=11,e=8.5),t=_.unit.inch):(r=j(this.pageWidth),e=j(this.pageHeight),t=this.unit),t===_.unit.mm?(r=Math.round(72*r/25.4),e=Math.round(72*e/25.4)):(r=Math.round(72*r),e=Math.round(72*e)),this.contentHeight.trim()!==""&&(e=j(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:r,height:e}}},{key:"getContentSize",value:function(){var r,e=this.getPageSize();return r=this.contentHeight.trim()!==""?j(this.contentHeight):e.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:e.width-this.marginLeftVal-this.marginRightVal,height:r}}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var r,e={},t=Pn(this.getFields());try{for(t.s();!(r=t.n()).done;){var d=r.value;e[d]=this.getValue(d)}}catch(s){t.e(s)}finally{t.f()}return e}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),_}();Xt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Xt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Xt.unit={mm:"mm",inch:"inch"},Xt.orientation={portrait:"portrait",landscape:"landscape"},Xt.display={always:"always",notOnFirstPage:"not_on_first_page"};const go={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zus\xE4tzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird f\xFCr diese Einstellung nicht unterst\xFCtzt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageCountExceeded:"Es sind nur bis zu ${count} Bilder erlaubt",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementLoadImageWebPErrorMsg:"Bild laden fehlgeschlagen, aktueller Browser ben\xF6tigt",docElementOpacity:"Deckkraft %",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementRotateDeg:"Drehen \xB0",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetPattern:"Pattern",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementSpreadsheetType:"Typ",docElementSpreadsheetTypeDate:"Datum",docElementSpreadsheetTypeNone:"Standard",docElementSpreadsheetTypeNumber:"Number",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage f\xFCr Regel {info} ausgew\xE4hlt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgExternalImageNotAllowed:"Server unterst\xFCtzt das Laden von Bildern von externen Resourcen nicht",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck ben\xF6tigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidRichTextFontNotAvailable:"Der Rich Text enth\xE4lt eine Schrift, welche am Server nicht vorhanden ist",errorMsgInvalidRichTextParameter:"Der Rich Text enth\xE4lt ung\xFCltige Tags",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidSpreadsheetDate:"Inhalt kann nicht zu Datum konvertiert werden, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidSpreadsheetNumber:"Inhalt kann nicht zu Zahl konvertiert werden",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingGlyph:"Text enth\xE4lt Zeichen, die in der ausgew\xE4hlten Schrift nicht verf\xFCgbar sind",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter ${info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Datenfelder f\xFCr diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Datenfelder f\xFCr diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRichTextInfo:'Rich Text kann Html-Tags zur Formatierung enthalten. Siehe <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">erlaubte Tags</a>',parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"${name} Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzuf\xFCgen",select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleType:"Element",styleTypeFrame:"Rahmen",styleTypeImage:"Bild",styleTypeLine:"Linie",styleTypeSectionBand:"Sektionsbereich",styleTypeTable:"Tabelle",styleTypeTableBand:"Tabellenzeile",styleTypeText:"Text",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen",watermarkImages:"Bild-Wasserzeichen",watermarkTexts:"Text-Wasserzeichen",watermarks:"Wasserzeichen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageCountExceeded:"Reached maximum number of ${count} allowed images",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementLoadImageWebPErrorMsg:"Loading image failed, upgrade browser to latest version",docElementOpacity:"Opacity %",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementRotateDeg:"Rotate \xB0",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetPattern:"Pattern",docElementSpreadsheetTextWrap:"Text wrap",docElementSpreadsheetType:"Type",docElementSpreadsheetTypeDate:"Date",docElementSpreadsheetTypeNone:"Default",docElementSpreadsheetTypeNumber:"Number",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgExternalImageNotAllowed:"Server does not support loading images from external resources",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidRichTextFontNotAvailable:"The rich text contains a font which is not available on server",errorMsgInvalidRichTextParameter:"The rich text contains invalid tags",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidSpreadsheetDate:"The data cannot be converted to date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidSpreadsheetNumber:"The data cannot be converted to number",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingGlyph:"Text contains characters that are not available in the selected font",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter ${info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No data fields defined for this list",parameterEditTestDataMapNoFields:"No data fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRichTextInfo:'Rich text can contain html tags for formatting. See <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">allowed tags</a>',parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"${name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleType:"Element",styleTypeFrame:"Frame",styleTypeImage:"Image",styleTypeLine:"Line",styleTypeSectionBand:"Section band",styleTypeTable:"Table",styleTypeTableBand:"Table band",styleTypeText:"Text",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles",watermarkImages:"Image watermarks",watermarkTexts:"Text watermarks",watermarks:"Watermarks"}};var bo=at(5815),Tn=at.n(bo);function kt(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return An(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?An(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function An(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var kr=function(){function _(r,e,t,d){$(this,_),this.idPrefix=r,this.dataBaseClass=e,this.panelId=r+"_panel",this.rootElement=t,this.rb=d,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={},this.visibleIfFields=[]}return b(_,[{key:"initVisibleIfFields",value:function(){for(var r in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(r)){var e=this.propertyDescriptors[r];if("visibleIf"in e){var t,d=kt(ue(e.visibleIf,null));try{for(d.s();!(t=d.n()).done;){var s=t.value;s.type==="field"&&("visibleIfFields"in e?e.visibleIfFields.includes(s.value)||e.visibleIfFields.push(s.value):e.visibleIfFields=[s.value],this.visibleIfFields.includes(s.value)||this.visibleIfFields.push(s.value))}}catch(m){d.e(m)}finally{d.f()}}}}},{key:"render",value:function(r){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(r,e,t){var d="".concat(this.idPrefix,"_").concat(r.fieldId);t?document.getElementById(d).classList.add("rbroDifferentValues"):document.getElementById(d).classList.remove("rbroDifferentValues");var s=document.getElementById(d);if(r.type===p.type.text)t?(s.value="",s.setAttribute("placeholder",this.differentValuesLabel)):(s.value=e,s.setAttribute("placeholder",""));else if(r.type===p.type.richText)this.quill&&(t||!e?this.quill.setContents({},"silent"):this.quill.setContents(e,"silent"));else if(r.type===p.type.select)s.value=e;else if(r.type===p.type.checkbox)s.checked=!t&&e;else if(r.type===p.type.button)t?s.classList.remove("rbroButtonActive"):e?s.classList.add("rbroButtonActive"):s.classList.remove("rbroButtonActive");else if(r.type===p.type.buttonGroup){var m,I=kt(s.querySelectorAll("button"));try{for(I.s();!(m=I.n()).done;)m.value.classList.remove("rbroButtonActive")}catch(D){I.e(D)}finally{I.f()}t||s.querySelector('button[value="'.concat(e,'"]')).classList.add("rbroButtonActive")}else if(r.type===p.type.color){var v=document.getElementById(d+"_select");t?r.allowEmpty?(s.value="",v.style.color="",v.classList.add("rbroTransparentColorSelect")):(s.value="#000000",v.style.color="#000000",v.classList.remove("rbroTransparentColorSelect")):(s.value=e,v.style.color=e,e?v.classList.remove("rbroTransparentColorSelect"):v.classList.add("rbroTransparentColorSelect"))}else r.type===p.type.filename&&(t?(s.textContent=this.differentFilesLabel,document.getElementById(d+"_container").classList.remove("rbroHidden")):(s.textContent=e,e===""?document.getElementById(d+"_container").classList.add("rbroHidden"):document.getElementById(d+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(r){var e,t=this.rb.getSelectedObjects(),d={},s={},m=kt(t);try{for(m.s();!(e=m.n()).done;){var I,v=kt(e.value.getProperties());try{for(v.s();!(I=v.n()).done;){var D=I.value;D in s?s[D]+=1:s[D]=1}}catch(Je){v.e(Je)}finally{v.f()}}}catch(Je){m.e(Je)}finally{m.f()}for(var R in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(R)){var X=this.propertyDescriptors[R],Y="";if("visibleIf"in X&&(Y=X.visibleIf),r===null||R===r||Y&&X.visibleIfFields.includes(r)){var ae=!1;if(R in s)if(s[R]===t.length){var Q,ie=null,me=!1,he=kt(t);try{for(he.s();!(Q=he.n()).done;){var be=Q.value,Ce=be.getUpdateValue(R,be.getValue(R));if(ie===null)ie=Ce;else if(X.type===p.type.richText){if(Ce&&ie&&new(Tn())(Ce).diff(new(Tn())(ie)).ops.length>0){me=!0;break}}else if(Ce!==ie){me=!0;break}}}catch(Je){he.e(Je)}finally{he.f()}if(me&&X.type===p.type.select&&X.allowEmpty&&(ie=""),this.setValue(X,ie,me),"section"in X){var Oe=X.section;Oe in d?d[Oe]+=1:d[Oe]=1}ae=!0}else delete s[R];if(ae&&Y){var Ie,Ee=kt(t);try{for(Ee.s();!(Ie=Ee.n()).done;)if(!J(Y,Ie.value)){ae=!1,delete s[R];break}}catch(Je){Ee.e(Je)}finally{Ee.f()}}if("singleRowProperty"in X&&!X.singleRowProperty){var je="".concat(this.idPrefix,"_").concat(X.fieldId);ae?document.getElementById(je).classList.remove("rbroHidden"):document.getElementById(je).classList.add("rbroHidden")}else{var Re=this.getRowId(X);ae?document.getElementById(Re).classList.remove("rbroHidden"):document.getElementById(Re).classList.add("rbroHidden")}}}if(r===null||this.visibleIfFields.includes(r)){for(var Ge in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(Ge)){var ze=this.propertyDescriptors[Ge];if("rowId"in ze&&"rowProperties"in ze){var Ze,Ne=0,ve=kt(ze.rowProperties);try{for(ve.s();!(Ze=ve.n()).done;)Ze.value in s&&Ne++}catch(Je){ve.e(Je)}finally{ve.f()}if("labelId"in ze){var oe=ze.defaultLabel;if(Ne===1){var Le,Xe=kt(ze.rowProperties);try{for(Xe.s();!(Le=Xe.n()).done;){var Pe=Le.value;if(Pe in s){oe=this.propertyDescriptors[Pe].singlePropertyLabel;break}}}catch(Je){Xe.e(Je)}finally{Xe.f()}}document.getElementById(ze.labelId).textContent=this.rb.getLabel(oe)+":"}Ne>0?document.getElementById(ze.rowId).classList.remove("rbroHidden"):document.getElementById(ze.rowId).classList.add("rbroHidden")}}}if(r===null){var ot,rt=kt(this.getSections());try{for(rt.s();!(ot=rt.n()).done;){var et=ot.value,ht="".concat(this.idPrefix,"_").concat(et,"_section_container");et in d?document.getElementById(ht).classList.remove("rbroHidden"):document.getElementById(ht).classList.add("rbroHidden")}}catch(Je){rt.e(Je)}finally{rt.f()}}this.updateAutosizeInputs(r)}},{key:"updateAutosizeInputs",value:function(r){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(r,e,t){r instanceof this.dataBaseClass&&this.rb.isSelectedObject(r.id)&&e===o.operation.change&&this.updateDisplay(t)}},{key:"updateErrors",value:function(){var r,e=document.getElementById(this.panelId),t=e.querySelectorAll(".rbroFormRow"),d=e.querySelectorAll(".rbroErrorMessage"),s=kt(t);try{for(s.s();!(r=s.n()).done;)r.value.classList.remove("rbroError")}catch(he){s.e(he)}finally{s.f()}var m,I=kt(d);try{for(I.s();!(m=I.n()).done;)m.value.textContent=""}catch(he){I.e(he)}finally{I.f()}var v=this.rb.getSelectedObject();if(v!==null){var D,R=kt(v.getErrors());try{for(R.s();!(D=R.n()).done;){var X=D.value,Y=this.propertyDescriptors[X.field];if(Y){if("section"in Y){var ae=Y.section;document.getElementById("".concat(this.idPrefix,"_").concat(ae,"_header")).classList.add("rbroError")}var Q=this.rb.getLabel(X.msg_key);X.info&&(Q=Q.replaceAll("${info}",'<span class="rbroErrorMessageInfo">'+X.info.replaceAll("<","&lt;").replaceAll(">","&gt;")+"</span>"));var ie=this.getRowId(Y);document.getElementById(ie).classList.add("rbroError");var me;me="errorMsgId"in Y?Y.errorMsgId:"".concat(this.idPrefix,"_").concat(Y.fieldId,"_error"),document.getElementById(me).innerHTML=Q}}}catch(he){R.e(he)}finally{R.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"getSections",value:function(){return[]}},{key:"scrollToFirstError",value:function(){var r=this.rb.getSelectedObject();if(r!==null){var e,t=kt(r.getErrors());try{for(t.s();!(e=t.n()).done;){var d=e.value,s=this.propertyDescriptors[d.field];if(s&&"section"in s){var m=s.section,I=document.getElementById("".concat(this.idPrefix,"_").concat(m,"_header"));I.classList.contains("rbroPanelSectionHeaderOpen")||I.dispatchEvent(new Event("click"))}}}catch(me){t.e(me)}finally{t.f()}var v,D="",R=-1,X=kt(r.getErrors());try{for(X.s();!(v=X.n()).done;){var Y=v.value,ae=this.propertyDescriptors[Y.field];if(ae){var Q=this.getRowId(ae),ie=B(document.getElementById(Q)).top;(D===""||ie<R)&&(D=Q,R=ie)}}}catch(me){X.e(me)}finally{X.f()}D!==""&&document.getElementById(D).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(r){return"rowId"in r?r.rowId:"".concat(this.idPrefix,"_").concat(r.fieldId,"_row")}}]),_}();function Dn(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return Ln(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Ln(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function Ln(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function vo(_,r,e){return r=g(r),E(_,jn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function jn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(jn=function(){return!!_})()}var _r=function(_){function r(e,t){var d,s;return $(this,r),(s=vo(this,r,["rbro_style",ye,e,t])).propertyDescriptors={name:{type:p.type.text,fieldId:"name"},type:{type:p.type.select,fieldId:"type"},bold:{type:p.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},italic:{type:p.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},underline:{type:p.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},strikethrough:{type:p.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},horizontalAlignment:{type:p.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],visibleIf:"type == 'text' || type == 'image'"},verticalAlignment:{type:p.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'image'"},color:{type:p.type.color,allowEmpty:!1,fieldId:"color",visibleIf:"type == 'line'"},textColor:{type:p.type.color,allowEmpty:!1,fieldId:"text_color",visibleIf:"type == 'text'"},backgroundColor:{type:p.type.color,allowEmpty:!0,fieldId:"background_color",visibleIf:"type == 'text' || type == 'image' || type == 'tableBand' || type == 'frame' || type == 'sectionBand'"},alternateBackgroundColor:{type:p.type.color,allowEmpty:!0,fieldId:"alternate_background_color",visibleIf:"type == 'tableBand' || type == 'sectionBand'"},font:{type:p.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],visibleIf:"type == 'text'"},fontSize:{type:p.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1,visibleIf:"type == 'text'"},lineSpacing:{type:p.type.select,fieldId:"line_spacing",visibleIf:"type == 'text'"},borderAll:{type:p.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],visibleIf:"type == 'text' || type == 'frame'"},borderLeft:{type:p.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},borderTop:{type:p.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},borderRight:{type:p.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},borderBottom:{type:p.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},border:{type:p.type.buttonGroup,fieldId:"table_border",rowId:"rbro_style_table_border_row",visibleIf:"type == 'table'"},borderColor:{type:p.type.color,allowEmpty:!1,fieldId:"border_color",visibleIf:"type == 'text' || type == 'table' || type == 'frame'"},borderWidth:{type:p.type.text,fieldId:"border_width",visibleIf:"type == 'text' || type == 'table' || type == 'frame'"},paddingLeft:{type:p.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],visibleIf:"type == 'text'"},paddingTop:{type:p.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1,visibleIf:"type == 'text'"},paddingRight:{type:p.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1,visibleIf:"type == 'text'"},paddingBottom:{type:p.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1,visibleIf:"type == 'text'"}},n((d=w(s),g(r.prototype)),"initVisibleIfFields",d).call(d),s}return l(r,_),b(r,[{key:"render",value:function(){var e=this,t=i("div",{id:"rbro_style_panel",class:"rbroHidden"}),d=i("div",{id:"rbro_style_name_row",class:"rbroFormRow"});O(d,this.rb.getLabel("styleName"),"rbro_style_name");var s=i("div",{class:"rbroFormField"}),m=i("input",{id:"rbro_style_name",autocomplete:"off"});m.addEventListener("input",function(v){var D=e.rb.getSelectedObject();D!==null&&(m.value.trim()!==""?e.rb.executeCommand(new p(D.getId(),"name",m.value,p.type.text,e.rb)):m.value=D.getName())}),s.append(m),d.append(s),t.append(d),O(d=i("div",{id:"rbro_style_type_row",class:"rbroFormRow"}),this.rb.getLabel("styleType"),"rbro_style_type"),s=i("div",{class:"rbroFormField"});var I=i("select",{id:"rbro_style_type"});I.append(i("option",{value:ye.type.text},this.rb.getLabel("styleTypeText"))),I.append(i("option",{value:ye.type.line},this.rb.getLabel("styleTypeLine"))),I.append(i("option",{value:ye.type.image},this.rb.getLabel("styleTypeImage"))),I.append(i("option",{value:ye.type.table},this.rb.getLabel("styleTypeTable"))),I.append(i("option",{value:ye.type.tableBand},this.rb.getLabel("styleTypeTableBand"))),I.append(i("option",{value:ye.type.frame},this.rb.getLabel("styleTypeFrame"))),I.append(i("option",{value:ye.type.sectionBand},this.rb.getLabel("styleTypeSectionBand"))),I.addEventListener("change",function(v){var D=e.rb.getSelectedObject();D!==null&&e.rb.executeCommand(new p(D.getId(),"type",I.value,p.type.select,e.rb))}),s.append(I),d.append(s),t.append(d),r.renderStyle(t,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(t)}},{key:"destroy",value:function(){r.destroyStyle("",this.controls)}}],[{key:"renderStyle",value:function(e,t,d,s,m,I){var v,D,R=this;O(v=i("div",{id:"rbro_".concat(t,"textstyle_row"),class:"rbroFormRow"}),I.getLabel("styleTextStyle")),D=i("div",{class:"rbroFormField"});var X=i("div",{id:"rbro_".concat(t,"textstyle")}),Y=i("button",{id:"rbro_".concat(t,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:I.getLabel("styleBold")});Y.addEventListener("click",function(Ye){var ge=!Y.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("bold",ge,p.type.button,d,I)}),X.append(Y);var ae=i("button",{id:"rbro_".concat(t,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:I.getLabel("styleItalic")});ae.addEventListener("click",function(Ye){var ge=!ae.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("italic",ge,p.type.button,d,I)}),X.append(ae);var Q=i("button",{id:"rbro_".concat(t,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:I.getLabel("styleUnderline")});Q.addEventListener("click",function(Ye){var ge=!Q.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("underline",ge,p.type.button,d,I)}),X.append(Q);var ie=i("button",{id:"rbro_".concat(t,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:I.getLabel("styleStrikethrough")});ie.addEventListener("click",function(Ye){var ge=!ie.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("strikethrough",ge,p.type.button,d,I)}),X.append(ie),D.append(X),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"alignment_row"),class:"rbroFormRow"}),I.getLabel("styleAlignment")),D=i("div",{class:"rbroFormField"});var me=i("div",{id:"rbro_".concat(t,"halignment")}),he=i("button",{id:"rbro_".concat(t,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:I.getLabel("styleHAlignmentLeft")});he.addEventListener("click",function(Ye){for(var ge=ye.alignment.left,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"horizontalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("horizontalAlignment",ge,p.type.buttonGroup,d,I)}),me.append(he);var be=i("button",{id:"rbro_".concat(t,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:I.getLabel("styleHAlignmentCenter")});be.addEventListener("click",function(Ye){for(var ge=ye.alignment.center,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"horizontalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("horizontalAlignment",ge,p.type.buttonGroup,d,I)}),me.append(be);var Ce=i("button",{id:"rbro_".concat(t,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:I.getLabel("styleHAlignmentRight")});Ce.addEventListener("click",function(Ye){for(var ge=ye.alignment.right,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"horizontalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("horizontalAlignment",ge,p.type.buttonGroup,d,I)}),me.append(Ce);var Oe=i("button",{id:"rbro_".concat(t,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:I.getLabel("styleHAlignmentJustify")});Oe.addEventListener("click",function(Ye){for(var ge=ye.alignment.justify,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"horizontalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("horizontalAlignment",ge,p.type.buttonGroup,d,I)}),me.append(Oe),D.append(me);var Ie=i("div",{id:"rbro_".concat(t,"valignment")}),Ee=i("button",{id:"rbro_".concat(t,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:I.getLabel("styleVAlignmentTop")});Ee.addEventListener("click",function(Ye){for(var ge=ye.alignment.top,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"verticalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("verticalAlignment",ge,p.type.buttonGroup,d,I)}),Ie.append(Ee);var je=i("button",{id:"rbro_".concat(t,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:I.getLabel("styleVAlignmentMiddle")});je.addEventListener("click",function(Ye){for(var ge=ye.alignment.middle,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"verticalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("verticalAlignment",ge,p.type.buttonGroup,d,I)}),Ie.append(je);var Re=i("button",{id:"rbro_".concat(t,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:I.getLabel("styleVAlignmentBottom")});Re.addEventListener("click",function(Ye){for(var ge=ye.alignment.bottom,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"verticalAlignment"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("verticalAlignment",ge,p.type.buttonGroup,d,I)}),Ie.append(Re),D.append(Ie),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"color_row"),class:"rbroFormRow"}),I.getLabel("docElementColor"),"rbro_".concat(t,"color")),D=i("div",{class:"rbroFormField"});var Ge=i("div",{class:"rbroColorPickerContainer"}),ze=i("input",{id:"rbro_".concat(t,"color"),autocomplete:"off"});ze.addEventListener("change",function(Ye){var ge=ze.value;F(ge)&&R.executeCommandsForChangedProperty("color",ge,p.type.color,d,I)}),Ge.append(ze),m.color=M(Ge,ze,!1,I),D.append(Ge),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"text_color_row"),class:"rbroFormRow"}),I.getLabel("styleTextColor"),"rbro_".concat(t,"text_color")),D=i("div",{class:"rbroFormField"});var Ze=i("div",{class:"rbroColorPickerContainer"}),Ne=i("input",{id:"rbro_".concat(t,"text_color"),autocomplete:"off"});Ne.addEventListener("change",function(Ye){var ge=Ne.value;F(ge)&&R.executeCommandsForChangedProperty("textColor",ge,p.type.color,d,I)}),Ze.append(Ne),m[d+"textColor"]=M(Ze,Ne,!1,I),D.append(Ze),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"background_color_row"),class:"rbroFormRow"}),I.getLabel("styleBackgroundColor"),"rbro_".concat(t,"background_color")),D=i("div",{class:"rbroFormField"});var ve=i("div",{class:"rbroColorPickerContainer"}),oe=i("input",{id:"rbro_".concat(t,"background_color"),autocomplete:"off"});oe.addEventListener("change",function(Ye){var ge=oe.value;F(ge)&&R.executeCommandsForChangedProperty("backgroundColor",ge,p.type.color,d,I)}),ve.append(oe),m[d+"backgroundColor"]=M(ve,oe,!0,I),D.append(ve),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"alternate_background_color_row"),class:"rbroFormRow"}),I.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(t,"alternate_background_color")),D=i("div",{class:"rbroFormField"});var Le=i("div",{class:"rbroColorPickerContainer"}),Xe=i("input",{id:"rbro_".concat(t,"alternate_background_color")});Xe.addEventListener("change",function(Ye){var ge=Xe.value;F(ge)&&R.executeCommandsForChangedProperty("alternateBackgroundColor",ge,p.type.color,d,I)}),Le.append(Xe),m[d+"alternateBackgroundColor"]=M(Le,Xe,!0,I),D.append(Le),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"font_row"),class:"rbroFormRow"}),I.getLabel("styleFont"),"rbro_".concat(t,"font")),D=i("div",{class:"rbroFormField"});var Pe,ot=i("div",{class:"rbroSplit rbroSelectFont"}),rt=i("select",{id:"rbro_".concat(t,"font")}),et=Dn(I.getFonts());try{for(et.s();!(Pe=et.n()).done;){var ht=Pe.value;rt.append(i("option",{value:ht.value},ht.name))}}catch(Ye){et.e(Ye)}finally{et.f()}rt.addEventListener("change",function(Ye){var ge=rt.value;R.executeCommandsForChangedProperty("font",ge,p.type.select,d,I)}),ot.append(rt);var Je,vt=i("select",{id:"rbro_".concat(t,"font_size")}),ut=Dn(I.getProperty("fontSizes"));try{for(ut.s();!(Je=ut.n()).done;){var lt=Je.value;vt.append(i("option",{value:lt},String(lt)))}}catch(Ye){ut.e(Ye)}finally{ut.f()}vt.addEventListener("change",function(Ye){var ge=vt.value;R.executeCommandsForChangedProperty("fontSize",ge,p.type.select,d,I)}),ot.append(vt),ot.append(i("span",{},I.getLabel("styleFontSizeUnit"))),D.append(ot),D.append(i("div",{id:"rbro_".concat(t,"font_error"),class:"rbroErrorMessage"})),v.append(D),e.append(v),O(v=i("div",{id:"rbro_".concat(t,"line_spacing_row"),class:"rbroFormRow"}),I.getLabel("styleLineSpacing"),"rbro_".concat(t,"line_spacing")),D=i("div",{class:"rbroFormField"});for(var _t=i("select",{id:"rbro_".concat(t,"line_spacing")}),xt=0,Bt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];xt<Bt.length;xt++){var Qe=Bt[xt];_t.append(i("option",{value:Qe},Qe))}_t.addEventListener("change",function(Ye){var ge=_t.value;R.executeCommandsForChangedProperty("lineSpacing",ge,p.type.select,d,I)}),D.append(_t),v.append(D),e.append(v);var Yt=i("div",{id:"rbro_".concat(t,"border_div")});O(v=i("div",{id:"rbro_".concat(t,"border_row"),class:"rbroFormRow"}),I.getLabel("styleBorder")),D=i("div",{class:"rbroFormField"});var Pt=i("div",{id:"rbro_".concat(t,"border")}),zt=i("button",{id:"rbro_".concat(t,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(d,"borderAll"),title:I.getLabel("styleBorderAll")});zt.addEventListener("click",function(Ye){for(var ge=!zt.classList.contains("rbroButtonActive"),Ve=new _e("Set value",I),$e=I.getSelectedObjects(),Fe=$e.length-1;Fe>=0;Fe--){var ct=$e[Fe];Ve.addSelection(ct.getId()),Ve.addCommand(new p(ct.getId(),"".concat(d,"borderLeft"),ge,p.type.button,I)),Ve.addCommand(new p(ct.getId(),"".concat(d,"borderTop"),ge,p.type.button,I)),Ve.addCommand(new p(ct.getId(),"".concat(d,"borderRight"),ge,p.type.button,I)),Ve.addCommand(new p(ct.getId(),"".concat(d,"borderBottom"),ge,p.type.button,I)),ct instanceof we&&ct.getValue("".concat(d,"styleId"))!==""?ct.getValue("".concat(d,"borderLeft"))===ge&&ct.getValue("".concat(d,"borderTop"))===ge&&ct.getValue("".concat(d,"borderRight"))===ge&&ct.getValue("".concat(d,"borderBottom"))===ge||Ve.addCommand(new p(ct.getId(),"".concat(d,"styleId"),"",p.type.select,I)):ct instanceof ye&&(ct.addCommandsForChangedProperty("borderLeft",ge,p.type.button,Ve),ct.addCommandsForChangedProperty("borderTop",ge,p.type.button,Ve),ct.addCommandsForChangedProperty("borderRight",ge,p.type.button,Ve),ct.addCommandsForChangedProperty("borderBottom",ge,p.type.button,Ve))}Ve.isEmpty()||I.executeCommand(Ve)}),Pt.append(zt);var Rt=i("button",{id:"rbro_".concat(t,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(d,"borderLeft"),title:I.getLabel("orientationLeft")});Rt.addEventListener("click",function(Ye){var ge=!Rt.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("borderLeft",ge,p.type.button,d,I)}),Pt.append(Rt);var Zt=i("button",{id:"rbro_".concat(t,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(d,"borderTop"),title:I.getLabel("orientationTop")});Zt.addEventListener("click",function(Ye){var ge=!Zt.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("borderTop",ge,p.type.button,d,I)}),Pt.append(Zt);var Nt=i("button",{id:"rbro_".concat(t,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(d,"borderRight"),title:I.getLabel("orientationRight")});Nt.addEventListener("click",function(Ye){var ge=!Nt.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("borderRight",ge,p.type.button,d,I)}),Pt.append(Nt);var Ot=i("button",{id:"rbro_".concat(t,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(d,"borderBottom"),title:I.getLabel("orientationBottom")});Ot.addEventListener("click",function(Ye){var ge=!Ot.classList.contains("rbroButtonActive");R.executeCommandsForChangedProperty("borderBottom",ge,p.type.button,d,I)}),Pt.append(Ot),D.append(Pt),v.append(D),Yt.append(v),O(v=i("div",{id:"rbro_".concat(t,"table_border_row"),class:"rbroFormRow"}),I.getLabel("styleBorder")),D=i("div",{class:"rbroFormField"});var Ct=i("div",{id:"rbro_".concat(t,"table_border")}),Jt=i("button",{id:"rbro_".concat(t,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(d,"grid"),title:I.getLabel("docElementBorderGrid")});Jt.addEventListener("click",function(Ye){for(var ge=Kt.border.grid,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"border"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("border",ge,p.type.buttonGroup,d,I)}),Ct.append(Jt);var Mt=i("button",{id:"rbro_".concat(t,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(d,"frame_row"),title:I.getLabel("docElementBorderFrameRow")});Mt.addEventListener("click",function(Ye){for(var ge=Kt.border.frameRow,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"border"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("border",ge,p.type.buttonGroup,d,I)}),Ct.append(Mt);var Ht=i("button",{id:"rbro_".concat(t,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(d,"frame"),title:I.getLabel("docElementBorderFrame")});Ht.addEventListener("click",function(Ye){for(var ge=Kt.border.frame,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"border"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("border",ge,p.type.buttonGroup,d,I)}),Ct.append(Ht);var ft=i("button",{id:"rbro_".concat(t,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(d,"row"),title:I.getLabel("docElementBorderRow")});ft.addEventListener("click",function(Ye){for(var ge=Kt.border.row,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"border"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("border",ge,p.type.buttonGroup,d,I)}),Ct.append(ft);var Tt=i("button",{id:"rbro_".concat(t,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(d,"none"),title:I.getLabel("docElementBorderNone")});Tt.addEventListener("click",function(Ye){for(var ge=Kt.border.none,Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"border"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("border",ge,p.type.buttonGroup,d,I)}),Ct.append(Tt),D.append(Ct),v.append(D),Yt.append(v),O(v=i("div",{id:"rbro_".concat(t,"border_color_row"),class:"rbroFormRow"}),I.getLabel("styleBorderColor"),"rbro_".concat(t,"border_color")),D=i("div",{class:"rbroFormField"});var $t=i("div",{class:"rbroColorPickerContainer"}),Ft=i("input",{id:"rbro_".concat(t,"border_color"),autocomplete:"off"});Ft.addEventListener("change",function(Ye){var ge=Ft.value;F(ge)&&R.executeCommandsForChangedProperty("borderColor",ge,p.type.color,d,I)}),$t.append(Ft),m[d+"borderColor"]=M($t,Ft,!1,I),D.append($t),v.append(D),Yt.append(v),O(v=i("div",{id:"rbro_".concat(t,"border_width_row"),class:"rbroFormRow"}),I.getLabel("styleBorderWidth"),"rbro_".concat(t,"border_width")),D=i("div",{class:"rbroFormField"});var At=i("input",{id:"rbro_".concat(t,"border_width"),type:"number",step:"0.5",autocomplete:"off"});At.addEventListener("input",function(Ye){var ge=At.value;ge!==""&&(ge=z(ge,.5,99)),ge!==At.value&&(At.value=ge);for(var Ve=I.getSelectedObjects(),$e=!1,Fe=Ve.length-1;Fe>=0;Fe--)if(Ve[Fe].getValue("".concat(d,"borderWidth"))!==ge){$e=!0;break}$e&&R.executeCommandsForChangedProperty("borderWidth",ge,p.type.text,d,I)}),D.append(At),v.append(D),Yt.append(v),e.append(Yt),O(v=i("div",{id:"rbro_".concat(t,"padding_row"),class:"rbroFormRow"}),I.getLabel("stylePadding"),"rbro_".concat(t,"padding")),D=i("div",{class:"rbroFormField rbroSmallInput"});var wt=i("div",{class:"rbroColumnCenter"}),ir=i("input",{id:"rbro_".concat(t,"padding_top"),placeholder:I.getLabel("orientationTop"),type:"number",autocomplete:"off"});ir.addEventListener("input",function(Ye){var ge=ir.value;R.executeCommandsForChangedProperty("paddingTop",ge,p.type.text,d,I)}),wt.append(ir),D.append(wt);var rr=i("div",{class:"rbroSplit"}),lr=i("input",{id:"rbro_".concat(t,"padding_left"),placeholder:I.getLabel("orientationLeft"),type:"number",autocomplete:"off"});lr.addEventListener("input",function(Ye){var ge=lr.value;R.executeCommandsForChangedProperty("paddingLeft",ge,p.type.text,d,I)}),rr.append(lr);var fr=i("input",{id:"rbro_".concat(t,"padding_right"),placeholder:I.getLabel("orientationRight"),type:"number",autocomplete:"off"});fr.addEventListener("input",function(Ye){var ge=fr.value;R.executeCommandsForChangedProperty("paddingRight",ge,p.type.text,d,I)}),rr.append(fr),D.append(rr);var mr=i("div",{class:"rbroColumnCenter"}),sr=i("input",{id:"rbro_".concat(t,"padding_bottom"),placeholder:I.getLabel("orientationBottom"),type:"number",autocomplete:"off"});sr.addEventListener("input",function(Ye){var ge=sr.value;R.executeCommandsForChangedProperty("paddingBottom",ge,p.type.text,d,I)}),mr.append(sr),D.append(mr),v.append(D),e.append(v)}},{key:"executeCommandsForChangedProperty",value:function(e,t,d,s,m){for(var I=new _e("Set value",m),v=m.getSelectedObjects(),D=v.length-1;D>=0;D--){var R=v[D];I.addSelection(R.getId()),I.addCommand(new p(R.getId(),"".concat(s).concat(e),t,d,m)),R instanceof we&&R.getValue("".concat(s,"styleId"))!==""?R.getValue("".concat(s,"textColor"))!==t&&I.addCommand(new p(R.getId(),"".concat(s,"styleId"),"",p.type.select,m)):R instanceof ye&&R.addCommandsForChangedProperty(e,t,d,I)}I.isEmpty()||m.executeCommand(I)}},{key:"destroyStyle",value:function(e,t){t[e+"textColor"].destroy(),t[e+"backgroundColor"].destroy(),e+"alternateBackgroundColor"in t&&t[e+"alternateBackgroundColor"].destroy(),t[e+"borderColor"].destroy()}}]),r}(kr),_o=at(1574),pr=at.n(_o);function hr(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return Bn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Bn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function Bn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function wo(_,r,e){return r=g(r),E(_,Rn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function Rn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Rn=function(){return!!_})()}var Eo=function(_){function r(e,t){var d,s;return $(this,r),(s=wo(this,r,["rbro_doc_element",we,e,t])).propertyDescriptors={label:{type:p.type.text,fieldId:"label"},content:{type:p.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:p.type.checkbox,fieldId:"rich_text"},richTextContent:{type:p.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:p.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:p.type.text,fieldId:"data_source"},xReadOnly:{type:p.type.text,fieldId:"x_read_only"},x:{type:p.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:p.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:p.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"docElementType != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:p.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:p.type.text,fieldId:"colspan"},format:{type:p.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:p.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:p.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:p.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:p.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:p.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:p.type.text,fieldId:"source"},image:{type:p.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:p.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:p.type.text,fieldId:"columns"},header:{type:p.type.checkbox,fieldId:"header"},contentRows:{type:p.type.text,fieldId:"content_rows"},footer:{type:p.type.checkbox,fieldId:"footer"},rotateDeg:{type:p.type.text,fieldId:"rotate_deg"},opacity:{type:p.type.text,fieldId:"opacity"},styleId:{type:p.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},color:{type:p.type.color,allowEmpty:!1,fieldId:"color",section:"style"},bold:{type:p.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:p.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:p.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:p.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:p.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:p.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:p.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:p.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:p.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:p.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:p.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:p.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:p.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:p.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:p.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:p.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:p.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:p.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:p.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:p.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:p.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:p.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:p.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:p.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:p.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:p.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:p.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:p.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:p.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:p.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:p.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:p.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:p.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:p.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:p.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:p.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:p.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:p.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:p.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:p.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:p.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:p.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:p.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:p.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:p.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:p.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:p.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:p.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:p.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:p.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:p.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:p.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:p.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:p.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:p.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:p.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:p.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:p.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:p.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:p.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:p.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:p.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:p.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:p.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:p.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_type:{type:p.type.select,fieldId:"spreadsheet_type",section:"spreadsheet"},spreadsheet_pattern:{type:p.type.text,fieldId:"spreadsheet_pattern",section:"spreadsheet",visibleIf:"spreadsheet_type"},spreadsheet_textWrap:{type:p.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},t.getProperty("showPlusFeatures")||(delete s.propertyDescriptors.richText,delete s.propertyDescriptors.richTextContent),n((d=w(s),g(r.prototype)),"initVisibleIfFields",d).call(d),s}return l(r,_),b(r,[{key:"render",value:function(){var e,t,d,s=this,m=i("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});O(e=i("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),t=i("div",{class:"rbroFormField"});var I=i("input",{id:"rbro_doc_element_label",autocomplete:"off"});I.addEventListener("input",function(Ae){for(var te=I.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"label",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(I),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),t=i("div",{class:"rbroFormField"});var v=i("div",{class:"rbroSplit rbroSelector"}),D=i("textarea",{id:"rbro_doc_element_data_source",rows:1});D.addEventListener("input",function(Ae){for(var te=D.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"dataSource",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),pt(D),v.append(D),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,[re.type.array]),null,"rbro_doc_element_data_source","dataSource",bt.type.parameterSet)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var R=i("textarea",{id:"rbro_doc_element_content",rows:1});if(R.addEventListener("input",function(Ae){for(var te=R.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"content",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),R.addEventListener("blur",function(Ae){s.rb.getPopupWindow().hide()}),pt(R),v.append(R),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,null),null,"rbro_doc_element_content","content",bt.type.parameterAppend)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),this.rb.getProperty("showPlusFeatures")){O(e=i("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),t=i("div",{class:"rbroFormField"});var X=i("label",{class:"switch-light switch-material"}),Y=i("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});Y.addEventListener("change",function(Ae){for(var te=Y.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"richText",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),X.append(Y);var ae=i("span");if(ae.append(i("span")),ae.append(i("span")),ae.append(i("a")),X.append(ae),t.append(X),t.append(i("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var Q=i("div",{class:"rbroInfo"});Q.innerHTML=this.rb.getLabel("plusFeatureInfo"),t.append(Q)}e.append(t),m.append(e),e=i("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var ie,me=this.rb.getProperty("colors"),he=i("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),be=i("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),Ce=hr(me);try{for(Ce.s();!(ie=Ce.n()).done;){var Oe=ie.value;he.append(i("option",{value:Oe},Oe)),be.append(i("option",{value:Oe},Oe))}}catch(Ae){Ce.e(Ae)}finally{Ce.f()}he.append(i("option",{value:"clear-color"})),be.append(i("option",{value:"clear-color"}));var Ie,Ee=i("select",{class:"ql-font"}),je=this.rb.getProperty("defaultFont"),Re=hr(this.rb.getFonts());try{for(Re.s();!(Ie=Re.n()).done;){var Ge=Ie.value,ze={value:Ge.value};Ge.value===je&&(ze.selected="selected"),Ee.append(i("option",ze,Ge.name))}}catch(Ae){Re.e(Ae)}finally{Re.f()}var Ze,Ne=i("select",{class:"ql-size"}),ve=hr(this.rb.getProperty("fontSizes"));try{for(ve.s();!(Ze=ve.n()).done;){var oe=Ze.value,Le={value:oe+"px"};oe===12&&(Le.selected="selected"),Ne.append(i("option",Le,oe+"pt"))}}catch(Ae){ve.e(Ae)}finally{ve.f()}var Xe=i("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),Pe=i("span",{class:"ql-formats"});Pe.append(i("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),Pe.append(i("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),Pe.append(i("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),Pe.append(i("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),Xe.append(Pe),(Pe=i("span",{class:"ql-formats"})).append(i("button",{class:"ql-link"})),Xe.append(Pe),(Pe=i("span",{class:"ql-formats"})).append(i("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),Xe.append(Pe),(Pe=i("span",{class:"ql-formats"})).append(he),Pe.append(be),Xe.append(Pe),Xe.append(Ee),Xe.append(Ne),Xe.append(i("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),e.append(Xe);var ot=i("div",{id:"rbro_doc_element_rich_text_content"});e.append(ot),e.append(i("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),m.append(e)}O(e=i("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),t=i("div",{class:"rbroFormField"});var rt=i("input",{id:"rbro_doc_element_eval",type:"checkbox"});rt.addEventListener("change",function(Ae){for(var te=new _e("Set value",s.rb),K=s.rb.getSelectedObjects(),pe=rt.checked,ee=K.length-1;ee>=0;ee--){var ce=K[ee];te.addSelection(ce.getId()),te.addCommand(new p(ce.getId(),"eval",pe,p.type.checkbox,s.rb))}te.isEmpty()||s.rb.executeCommand(te)}),t.append(rt),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),t=i("div",{class:"rbroFormField"});var et=i("select",{id:"rbro_doc_element_format"});et.append(i("option",{value:"CODE39"},"CODE39")),et.append(i("option",{value:"CODE128"},"CODE128")),et.append(i("option",{value:"EAN8"},"EAN-8")),et.append(i("option",{value:"EAN13"},"EAN-13")),et.append(i("option",{value:"UPC"},"UPC")),et.append(i("option",{value:"QRCode"},"QR Code")),et.addEventListener("change",function(Ae){for(var te=et.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"format",te,p.type.select,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(et),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),t=i("div",{class:"rbroFormField"});var ht=i("input",{id:"rbro_doc_element_display_value",type:"checkbox"});ht.addEventListener("change",function(Ae){for(var te=ht.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"displayValue",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(ht),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),t=i("div",{class:"rbroFormField"});var Je=i("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});Je.addEventListener("input",function(Ae){var te=Je.value;te!==""&&(te=z(te,.3,3)),te!==Je.value&&(Je.value=te);for(var K=s.rb.getSelectedObjects(),pe=!1,ee=K.length-1;ee>=0;ee--)if(K[ee].getValue("barWidth")!==te){pe=!0;break}if(pe){for(var ce=new _e("Set value",s.rb),nt=K.length-1;nt>=0;nt--){var it=K[nt];ce.addSelection(it.getId()),ce.addCommand(new p(it.getId(),"barWidth",te,p.type.text,s.rb))}ce.isEmpty()||s.rb.executeCommand(ce)}}),t.append(Je),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),t=i("div",{class:"rbroFormField"});var vt=i("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});vt.addEventListener("change",function(Ae){for(var te=vt.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"guardBar",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(vt),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),t=i("div",{class:"rbroFormField"});var ut=i("input",{id:"rbro_doc_element_rotate",type:"checkbox"});ut.addEventListener("change",function(Ae){for(var te=ut.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"rotate",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(ut),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),t=i("div",{class:"rbroFormField"});var lt=i("select",{id:"rbro_doc_element_error_correction_level"});lt.append(i("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),lt.append(i("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),lt.append(i("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),lt.append(i("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),lt.addEventListener("change",function(Ae){for(var te=lt.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"errorCorrectionLevel",te,p.type.select,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(lt),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var _t=i("textarea",{id:"rbro_doc_element_source",rows:1});_t.addEventListener("input",function(Ae){for(var te=_t.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"source",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),pt(_t),v.append(_t),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,[re.type.image,re.type.string]),null,"rbro_doc_element_source","source",bt.type.parameterSet)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),t=i("div",{class:"rbroFormField"});var xt=i("input",{id:"rbro_doc_element_image",type:"file"});xt.addEventListener("change",function(Ae){var te=s.rb,K=Ae.target.files;K&&K[0]&&L(K[0],function(pe,ee){for(var ce=new _e("Load image",te),nt=te.getSelectedObjects(),it=nt.length-1;it>=0;it--){var Wt=nt[it];ce.addSelection(Wt.getId()),ce.addCommand(new p(Wt.getId(),"image",pe,p.type.file,te)),ce.addCommand(new p(Wt.getId(),"imageFilename",ee,p.type.filename,te))}ce.isEmpty()||te.executeCommand(ce)},s.rb)}),t.append(xt);var Bt=i("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});Bt.append(i("div",{id:"rbro_doc_element_image_filename"}));var Qe=i("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Qe.addEventListener("click",function(Ae){xt.value="";for(var te=new _e("Clear image",s.rb),K=s.rb.getSelectedObjects(),pe=K.length-1;pe>=0;pe--){var ee=K[pe];te.addSelection(ee.getId()),te.addCommand(new p(ee.getId(),"image","",p.type.file,s.rb)),te.addCommand(new p(ee.getId(),"imageFilename","",p.type.filename,s.rb))}te.isEmpty()||s.rb.executeCommand(te)}),Bt.append(Qe),t.append(Bt),t.append(i("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),t=i("div",{class:"rbroFormField"});var Yt=i("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});t.append(Yt),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit"});var Pt=i("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});Pt.addEventListener("input",function(Ae){for(var te=Pt.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"x",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append(Pt);var zt=i("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});zt.addEventListener("input",function(Ae){for(var te=zt.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"y",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append(zt),t.append(v),t.append(i("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit"});var Rt=i("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Rt.addEventListener("input",function(Ae){for(var te=Rt.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"width",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append(Rt);var Zt=i("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});Zt.addEventListener("input",function(Ae){for(var te=Zt.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"height",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append(Zt),t.append(v),t.append(i("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),t=i("div",{class:"rbroFormField"});var Nt=i("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});Nt.addEventListener("change",function(Ae){var te=Nt.value.trim();te!==""&&(te=z(te,1,9)),te!==Nt.value&&(Nt.value=te);for(var K=s.rb.getSelectedObjects(),pe=!1,ee=K.length-1;ee>=0;ee--)if(K[ee].getValue("colspan")!==te){pe=!0;break}if(pe){for(var ce=new _e("Set value",s.rb),nt=K.length-1;nt>=0;nt--){var it=K[nt];ce.addSelection(it.getId()),ce.addCommand(new p(it.getId(),"colspan",te,p.type.text,s.rb))}ce.isEmpty()||s.rb.executeCommand(ce)}}),t.append(Nt),t.append(i("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),t=i("div",{class:"rbroFormField"});var Ot=i("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});Ot.addEventListener("change",function(Ae){var te=z(Ot.value,1,99);te!==Ot.value&&(Ot.value=te);for(var K=j(te),pe=s.rb.getSelectedObjects(),ee=!1,ce=!0,nt=pe.length-1;nt>=0;nt--){var it=pe[nt];it.getValue("columns")!==te&&(ee=!0),it.hasEnoughAvailableSpace(K)||(ce=!1)}if(ce||pe.length!==1||(Ot.value=pe[0].getValue("columns")),ee&&ce){for(var Wt=new _e("Set value",s.rb),Xr=pe.length-1;Xr>=0;Xr--){var Un=pe[Xr];Wt.addSelection(Un.getId()),Un.addCommandsForChangedColumns(K,Wt)}Wt.isEmpty()||s.rb.executeCommand(Wt)}}),t.append(Ot),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),t=i("div",{class:"rbroFormField"});var Ct=i("label",{class:"switch-light switch-material"}),Jt=i("input",{id:"rbro_doc_element_header",type:"checkbox"});Jt.addEventListener("change",function(Ae){for(var te=Jt.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"header",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),Ct.append(Jt);var Mt=i("span");Mt.append(i("span")),Mt.append(i("span")),Mt.append(i("a")),Ct.append(Mt),t.append(Ct),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),t=i("div",{class:"rbroFormField"});var Ht=i("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});Ht.addEventListener("change",function(Ae){var te=z(Ht.value,1,99),K=j(te);te!==Ht.value&&(Ht.value=te);for(var pe=s.rb.getSelectedObjects(),ee=!1,ce=pe.length-1;ce>=0;ce--)if(pe[ce].getValue("contentRows")!==te){ee=!0;break}if(ee){for(var nt=new _e("Set value",s.rb),it=pe.length-1;it>=0;it--){var Wt=pe[it];nt.addSelection(Wt.getId()),Wt.addCommandsForChangedContentRows(K,nt)}nt.isEmpty()||s.rb.executeCommand(nt)}}),t.append(Ht),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),t=i("div",{class:"rbroFormField"});var ft=i("label",{class:"switch-light switch-material"}),Tt=i("input",{id:"rbro_doc_element_footer",type:"checkbox"});Tt.addEventListener("change",function(Ae){for(var te=Tt.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"footer",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),ft.append(Tt);var $t=i("span");$t.append(i("span")),$t.append(i("span")),$t.append(i("a")),ft.append($t),t.append(ft),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_rotate_deg_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotateDeg"),"rbro_doc_element_rotate_deg"),t=i("div",{class:"rbroFormField"});var Ft=i("input",{id:"rbro_doc_element_rotate_deg",type:"number",step:"15",autocomplete:"off"});Ft.addEventListener("input",function(Ae){var te=Ft.value;te!==""&&(te=z(te,0,360)),te!==Ft.value&&(Ft.value=te);for(var K=s.rb.getSelectedObjects(),pe=!1,ee=K.length-1;ee>=0;ee--)if(K[ee].getValue("rotateDeg")!==te){pe=!0;break}if(pe){for(var ce=new _e("Set value",s.rb),nt=K.length-1;nt>=0;nt--){var it=K[nt];ce.addSelection(it.getId()),ce.addCommand(new p(it.getId(),"rotateDeg",te,p.type.text,s.rb))}ce.isEmpty()||s.rb.executeCommand(ce)}}),t.append(Ft),e.append(t),m.append(e),O(e=i("div",{id:"rbro_doc_element_opacity_row",class:"rbroFormRow"}),this.rb.getLabel("docElementOpacity"),"rbro_doc_element_opacity"),t=i("div",{class:"rbroFormField"});var At=i("input",{id:"rbro_doc_element_opacity",type:"number",step:"10",autocomplete:"off"});At.addEventListener("input",function(Ae){var te=At.value;te!==""&&(te=z(te,0,100)),te!==At.value&&(At.value=te);for(var K=s.rb.getSelectedObjects(),pe=!1,ee=K.length-1;ee>=0;ee--)if(K[ee].getValue("opacity")!==te){pe=!0;break}if(pe){for(var ce=new _e("Set value",s.rb),nt=K.length-1;nt>=0;nt--){var it=K[nt];ce.addSelection(it.getId()),ce.addCommand(new p(it.getId(),"opacity",te,p.type.text,s.rb))}ce.isEmpty()||s.rb.executeCommand(ce)}}),t.append(At),e.append(t),m.append(e);var wt=i("div",{id:"rbro_doc_element_style_section_container"}),ir=i("div",{class:"rbroPanelSectionHeader"}),rr=i("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(e=i("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function(Ae){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),rr.classList.toggle("rbroIcon-plus"),rr.classList.toggle("rbroIcon-minus"),rr.classList.contains("rbroIcon-minus")){var te=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=te}}),ir.append(rr),ir.append(i("span",{},this.rb.getLabel("docElementStyle"))),e.append(ir),wt.append(e);var lr=i("div",{id:"rbro_doc_element_style_section"});O(e=i("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),t=i("div",{class:"rbroFormField"}),this.elStyle=i("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function(Ae){for(var te=new _e("Set value",s.rb),K=s.rb.getSelectedObjects(),pe=K.length-1;pe>=0;pe--){var ee=K[pe];te.addSelection(ee.getId()),ee.addCommandsForChangedStyle(s.elStyle.value,"",s.propertyDescriptors,te)}te.isEmpty()||s.rb.executeCommand(te)}),t.append(this.elStyle),e.append(t),lr.append(e);var fr=i("div",{id:"rbro_doc_element_style_settings"});_r.renderStyle(fr,"doc_element_","",!0,this.controls,this.rb),lr.append(fr),wt.append(lr),m.append(wt);var mr=i("div",{id:"rbro_doc_element_print_section_container"}),sr=i("div",{class:"rbroPanelSectionHeader"}),Ye=i("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(e=i("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Ae){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),Ye.classList.toggle("rbroIcon-plus"),Ye.classList.toggle("rbroIcon-minus"),Ye.classList.contains("rbroIcon-minus")){var te=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=te}pt.update(document.getElementById("rbro_doc_element_print_if"))}),sr.append(Ye),sr.append(i("span",{},this.rb.getLabel("docElementPrintSettings"))),e.append(sr),mr.append(e);var ge=i("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});O(e=i("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var Ve=i("textarea",{id:"rbro_doc_element_group_expression",rows:1});Ve.addEventListener("input",function(Ae){for(var te=Ve.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"groupExpression",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),Ve.addEventListener("blur",function(Ae){s.rb.getPopupWindow().hide()}),pt(Ve),v.append(Ve),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,null),null,"rbro_doc_element_group_expression","groupExpression",bt.type.parameterSet)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),t=i("div",{class:"rbroFormField"});var $e=i("input",{id:"rbro_doc_element_page_break",type:"checkbox"});$e.addEventListener("change",function(Ae){for(var te=$e.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"pageBreak",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append($e),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),t=i("div",{class:"rbroFormField"});var Fe=i("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Fe.addEventListener("change",function(Ae){for(var te=Fe.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"repeatGroupHeader",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Fe),t.append(i("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var ct=i("textarea",{id:"rbro_doc_element_print_if",rows:1});ct.addEventListener("input",function(Ae){for(var te=ct.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"printIf",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),pt(ct),v.append(ct),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,null),null,"rbro_doc_element_print_if","printIf",bt.type.parameterAppend)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),t=i("div",{class:"rbroFormField"});var jr=i("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});jr.addEventListener("change",function(Ae){for(var te=jr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"repeatHeader",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(jr),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),t=i("div",{class:"rbroFormField"});var Br=i("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Br.addEventListener("change",function(Ae){for(var te=Br.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"removeEmptyElement",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Br),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),t=i("div",{class:"rbroFormField"});var Rr=i("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});Rr.addEventListener("change",function(Ae){for(var te=Rr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"alwaysPrintOnSamePage",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Rr),t.append(i("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),t=i("div",{class:"rbroFormField"});var Nr=i("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});Nr.addEventListener("change",function(Ae){for(var te=Nr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"shrinkToContentHeight",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Nr),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),t=i("div",{class:"rbroFormField"});var Mr=i("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Mr.addEventListener("change",function(Ae){for(var te=Mr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"alignToPageBottom",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Mr),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var Fr=i("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Fr.addEventListener("input",function(Ae){for(var te=Fr.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"pattern",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append(Fr),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){s.rb.getPopupWindow().show(s.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",bt.type.pattern)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var Vr=i("input",{id:"rbro_doc_element_link",autocomplete:"off"});Vr.addEventListener("input",function(Ae){for(var te=Vr.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"link",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append(Vr),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,null),null,"rbro_doc_element_link","link",bt.type.parameterSet)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),e.append(t),ge.append(e),O(e=i("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),t=i("div",{class:"rbroFormField"});var ur=i("select",{id:"rbro_doc_element_grow_weight"});ur.append(i("option",{value:"0"},"-")),ur.append(i("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),ur.append(i("option",{value:"2"},"2")),ur.append(i("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),ur.addEventListener("change",function(Ae){for(var te=ur.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"growWeight",te,p.type.select,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(ur),t.append(i("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),e.append(t),ge.append(e),mr.append(ge),m.append(mr);var qr=i("div",{id:"rbro_doc_element_cs_style_section_container"}),zr=i("div",{class:"rbroPanelSectionHeader"}),Cr=i("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(e=i("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Ae){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),Cr.classList.toggle("rbroIcon-plus"),Cr.classList.toggle("rbroIcon-minus"),Cr.classList.contains("rbroIcon-minus")){var te=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=te}}),zr.append(Cr),zr.append(i("span",{},this.rb.getLabel("docElementConditionalStyle"))),e.append(zr),qr.append(e);var wr=i("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});O(e=i("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var Sr=i("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Sr.addEventListener("input",function(Ae){for(var te=Sr.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"cs_condition",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),pt(Sr),v.append(Sr),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects(),K=te.length===1?te[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(K,null),null,"rbro_doc_element_cs_condition","cs_condition",bt.type.parameterAppend)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),e.append(t),wr.append(e),O(e=i("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),t=i("div",{class:"rbroFormField"}),this.elCsStyle=i("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function(Ae){for(var te=s.elCsStyle.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),ce.addCommandsForChangedStyle(te,"cs_",s.propertyDescriptors,K)}K.isEmpty()||s.rb.executeCommand(K)}),t.append(this.elCsStyle),e.append(t),wr.append(e),O(e=i("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),t=i("div",{class:"rbroFormField"});var Pr=i("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});Pr.append(i("span",{},this.rb.getLabel("editData"))),Pr.append(i("span",{class:"rbroIcon-edit"})),Pr.addEventListener("click",function(Ae){var te=s.rb.getSelectedObjects();if(te.length===1){var K=te[0],pe=[{name:"condition",label:s.rb.getLabel("docElementConditionalStyleCondition"),type:re.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:s.rb.getLabel("docElementStyle"),type:re.type.string,parameter:null,attributes:{select:"style"}}],ee=[];if(K.getValue("cs_additionalRules"))try{ee=JSON.parse(K.getValue("cs_additionalRules"))}catch(ce){}s.rb.getPopupWindow().show(null,K.getId(),"","cs_additionalRules",bt.type.data,null,null,re.type.array,pe,ee)}else te.length>1&&alert(s.rb.getLabel("docElementEditMultipleSelectionNotSupported"))}),t.append(Pr),t.append(i("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),e.append(t),wr.append(e);var Wn=i("div",{id:"rbro_doc_element_cs_style_settings"});_r.renderStyle(Wn,"doc_element_cs_","cs_",!1,this.controls,this.rb),wr.append(Wn),qr.append(wr),m.append(qr);var Or=i("div",{id:"rbro_doc_element_spreadsheet_section_container"}),Hr=i("div",{class:"rbroPanelSectionHeader"}),Tr=i("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(e=i("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Ae){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Tr.classList.toggle("rbroIcon-plus"),Tr.classList.toggle("rbroIcon-minus"),Tr.classList.contains("rbroIcon-minus")){var te=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=te}}),Hr.append(Tr),Hr.append(i("span",{},this.rb.getLabel("docElementSpreadsheet"))),e.append(Hr),Or.append(e);var nr=i("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});O(e=i("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),t=i("div",{class:"rbroFormField"});var Wr=i("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});Wr.addEventListener("change",function(Ae){for(var te=Wr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"spreadsheet_hide",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Wr),e.append(t),nr.append(e),O(e=i("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),t=i("div",{class:"rbroFormField"});var Er=i("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});Er.addEventListener("input",function(Ae){var te=Er.value;te!==""&&(te=z(te,1,99)),te!==Er.value&&(Er.value=te);for(var K=s.rb.getSelectedObjects(),pe=!1,ee=K.length-1;ee>=0;ee--)if(K[ee].getValue("spreadsheet_column")!==te){pe=!0;break}if(pe){for(var ce=new _e("Set value",s.rb),nt=K.length-1;nt>=0;nt--){var it=K[nt];ce.addSelection(it.getId()),ce.addCommand(new p(it.getId(),"spreadsheet_column",te,p.type.text,s.rb))}ce.isEmpty()||s.rb.executeCommand(ce)}}),t.append(Er),t.append(i("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),e.append(t),nr.append(e),O(e=i("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),t=i("div",{class:"rbroFormField"});var Ur=i("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});Ur.addEventListener("input",function(Ae){for(var te=Ur.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"spreadsheet_colspan",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Ur),t.append(i("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),e.append(t),nr.append(e),O(e=i("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),t=i("div",{class:"rbroFormField"});var Gr=i("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Gr.addEventListener("change",function(Ae){for(var te=Gr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"spreadsheet_addEmptyRow",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Gr),e.append(t),nr.append(e),O(e=i("div",{id:"rbro_doc_element_spreadsheet_type_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetType"),"rbro_doc_element_spreadsheet_type"),t=i("div",{class:"rbroFormField"});var or=i("select",{id:"rbro_doc_element_spreadsheet_type"});or.append(i("option",{value:""},this.rb.getLabel("docElementSpreadsheetTypeNone"))),or.append(i("option",{value:"number"},this.rb.getLabel("docElementSpreadsheetTypeNumber"))),or.append(i("option",{value:"date"},this.rb.getLabel("docElementSpreadsheetTypeDate"))),or.addEventListener("change",function(Ae){for(var te=or.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"spreadsheet_type",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(or),t.append(i("div",{id:"rbro_doc_element_spreadsheet_type_error",class:"rbroErrorMessage"})),e.append(t),nr.append(e),O(e=i("div",{id:"rbro_doc_element_spreadsheet_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetPattern"),"rbro_doc_element_spreadsheet_pattern"),t=i("div",{class:"rbroFormField"}),v=i("div",{class:"rbroSplit rbroSelector"});var $r=i("input",{id:"rbro_doc_element_spreadsheet_pattern",autocomplete:"off"});$r.addEventListener("input",function(Ae){for(var te=$r.value,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"spreadsheet_pattern",te,p.type.text,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),v.append($r),(d=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ae){var te;te=or.value==="date"?s.rb.getProperty("patternDates"):or.value==="number"?s.rb.getProperty("patternNumbers"):s.rb.getPatterns(),s.rb.getPopupWindow().show(te,null,"rbro_doc_element_spreadsheet_pattern","spreadsheet_pattern",bt.type.pattern)}),v.append(d),t.append(v),t.append(i("div",{id:"rbro_doc_element_spreadsheet_pattern_error",class:"rbroErrorMessage"})),e.append(t),nr.append(e),O(e=i("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),t=i("div",{class:"rbroFormField"});var Kr=i("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Kr.addEventListener("change",function(Ae){for(var te=Kr.checked,K=new _e("Set value",s.rb),pe=s.rb.getSelectedObjects(),ee=pe.length-1;ee>=0;ee--){var ce=pe[ee];K.addSelection(ce.getId()),K.addCommand(new p(ce.getId(),"spreadsheet_textWrap",te,p.type.checkbox,s.rb))}K.isEmpty()||s.rb.executeCommand(K)}),t.append(Kr),e.append(t),nr.append(e),Or.append(nr),this.rb.getProperty("enableSpreadsheet")||(Or.style.display="none"),m.append(Or),document.getElementById("rbro_detail_panel").append(m),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){var e="",t=this.rb.getSelectedObjects();if(t.length>0){e=r.getElementStyleType(t[0]);var d,s=hr(this.rb.getSelectedObjects());try{for(s.s();!(d=s.n()).done;){var m=d.value;if(e!==r.getElementStyleType(m)){e="mixed";break}}}catch(I){s.e(I)}finally{s.f()}}U(this.elStyle,e,null,this.rb),U(this.elCsStyle,e,null,this.rb)}},{key:"setupRichText",value:function(){var e=this,t=pr().import("formats/link"),d=t.sanitize;t.sanitize=function(he){var be=he;return/^\w+:/.test(be)||be.startsWith("${")?be:(/^https?:/.test(be)||(be=be.startsWith("/")?"http:"+be:"http://"+be),d.call(this,be))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(he){var be=e.rb.getSelectedObjects(),Ce=be.length===1?be[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(Ce,null),null,"rbro_doc_element_rich_text_content","richTextContent",bt.type.parameterAppend,e.quill)});var s,m=pr().import("formats/font"),I=[],v=hr(this.rb.getFonts());try{for(v.s();!(s=v.n()).done;){var D=s.value;I.push(D.value)}}catch(he){v.e(he)}finally{v.f()}m.whitelist=I,pr().register(m,!0);var R,X=pr().import("attributors/style/size"),Y=[],ae=hr(this.rb.getProperty("fontSizes"));try{for(ae.s();!(R=ae.n()).done;){var Q=R.value;Y.push(Q+"px")}}catch(he){ae.e(he)}finally{ae.f()}X.whitelist=Y,pr().register(X,!0);var ie=new(pr())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});ie.getModule("toolbar").addHandler("color",function(he){he==="clear-color"?ie.format("color",""):ie.format("color",he)}),ie.getModule("toolbar").addHandler("background",function(he){he==="clear-color"?ie.format("background",""):ie.format("background",he)});var me=this.rb;ie.on("text-change",function(he,be,Ce){for(var Oe=ie.getContents(),Ie=ie.root.innerHTML,Ee=new _e("Set value",me),je=me.getSelectedObjects(),Re=je.length-1;Re>=0;Re--){var Ge=je[Re];Ee.addSelection(Ge.getId()),Ee.addCommand(new p(Ge.getId(),"richTextContent",Oe,p.type.richText,me)),Ee.addCommand(new p(Ge.getId(),"richTextHtml",Ie,p.type.text,me))}Ee.isEmpty()||me.executeCommand(Ee)}),this.quill=ie}},{key:"destroy",value:function(){this.controls.color.destroy(),_r.destroyStyle("",this.controls),_r.destroyStyle("cs_",this.controls)}},{key:"updateAutosizeInputs",value:function(e){e!==null&&e!=="dataSource"||pt.update(document.getElementById("rbro_doc_element_data_source")),e!==null&&e!=="content"||pt.update(document.getElementById("rbro_doc_element_content")),e!==null&&e!=="source"||pt.update(document.getElementById("rbro_doc_element_source")),e!==null&&e!=="groupExpression"||pt.update(document.getElementById("rbro_doc_element_group_expression")),e!==null&&e!=="printIf"||pt.update(document.getElementById("rbro_doc_element_print_if")),e!==null&&e!=="cs_condition"||pt.update(document.getElementById("rbro_doc_element_cs_condition"))}},{key:"show",value:function(){n(g(r.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(e,t,d){e instanceof ye?(t===o.operation.add||t===o.operation.remove||t===o.operation.move||t===o.operation.change&&d==="name")&&this.renderStyleSelect():n(g(r.prototype),"notifyEvent",this).call(this,e,t,d)}},{key:"selectionChanged",value:function(){this.renderStyleSelect(),n(g(r.prototype),"selectionChanged",this).call(this)}},{key:"getSections",value:function(){return["style","print","cs_style","spreadsheet"]}}],[{key:"getElementStyleType",value:function(e){return e instanceof xr||e instanceof qt?ye.type.text:e instanceof nn?ye.type.line:e instanceof Dr?ye.type.image:e instanceof Kt?ye.type.table:e instanceof yn?ye.type.tableBand:e instanceof Ar?ye.type.frame:e instanceof sn?ye.type.sectionBand:""}}]),r}(kr);function xo(_,r,e){return r=g(r),E(_,Nn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function Nn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Nn=function(){return!!_})()}var Io=function(_){function r(e,t){var d,s;return $(this,r),(s=xo(this,r,["rbro_document_properties",Xt,e,t])).propertyDescriptors={pageFormat:{type:p.type.text,fieldId:"page_format",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageWidth:{type:p.type.text,fieldId:"page_width",rowId:"rbro_document_properties_page_size_row",errorMsgId:"rbro_document_properties_page_error",visibleIf:"pageFormat == 'user_defined'"},pageHeight:{type:p.type.text,fieldId:"page_height",rowId:"rbro_document_properties_page_size_row",errorMsgId:"rbro_document_properties_page_error",visibleIf:"pageFormat == 'user_defined'"},unit:{type:p.type.select,fieldId:"unit",rowId:"rbro_document_properties_page_size_row",errorMsgId:"rbro_document_properties_page_error",visibleIf:"pageFormat == 'user_defined'"},orientation:{type:p.type.select,fieldId:"orientation"},contentHeight:{type:p.type.text,fieldId:"content_height"},marginLeft:{type:p.type.text,fieldId:"page_margin_left",rowId:"rbro_document_properties_page_margin_row"},marginTop:{type:p.type.text,fieldId:"page_margin_top",rowId:"rbro_document_properties_page_margin_row"},marginRight:{type:p.type.text,fieldId:"page_margin_right",rowId:"rbro_document_properties_page_margin_row"},marginBottom:{type:p.type.text,fieldId:"page_margin_bottom",rowId:"rbro_document_properties_page_margin_row"},header:{type:p.type.checkbox,fieldId:"header"},headerSize:{type:p.type.text,fieldId:"header_size",visibleIf:"header"},headerDisplay:{type:p.type.select,fieldId:"header_display",visibleIf:"header"},footer:{type:p.type.checkbox,fieldId:"footer"},footerSize:{type:p.type.text,fieldId:"footer_size",visibleIf:"footer"},footerDisplay:{type:p.type.select,fieldId:"footer_display",visibleIf:"footer"},watermark:{type:p.type.checkbox,fieldId:"watermark"},patternLocale:{type:p.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:p.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:p.type.text,fieldId:"pattern_number_group_symbol"}},n((d=w(s),g(r.prototype)),"initVisibleIfFields",d).call(d),s}return l(r,_),b(r,[{key:"render",value:function(e){var t=this,d=i("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),s=i("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});O(s,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var m=i("div",{class:"rbroFormField"}),I=i("select",{id:"rbro_document_properties_page_format"});I.append(i("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),I.append(i("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),I.append(i("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),I.append(i("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),I.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"pageFormat",I.value,p.type.select,t.rb);t.rb.executeCommand(je)}}),m.append(I);var v=i("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),D=i("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});D.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"pageWidth",D.value,p.type.select,t.rb);t.rb.executeCommand(je)}}),q(D),v.append(D);var R=i("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});R.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"pageHeight",R.value,p.type.text,t.rb);t.rb.executeCommand(je)}}),q(R),v.append(R);var X=i("select",{id:"rbro_document_properties_unit"});X.append(i("option",{value:"mm"},"mm")),X.append(i("option",{value:"inch"},"inch")),v.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"unit",X.value,p.type.select,t.rb);t.rb.executeCommand(je)}}),v.append(X),m.append(v),m.append(i("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),s.append(m),d.append(s),O(s=i("div",{id:"rbro_document_properties_orientation_row",class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),m=i("div",{class:"rbroFormField"});var Y=i("select",{id:"rbro_document_properties_orientation"});Y.append(i("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),Y.append(i("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),Y.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"orientation",Y.value,p.type.select,t.rb);t.rb.executeCommand(je)}}),m.append(Y),s.append(m),d.append(s),O(s=i("div",{id:"rbro_document_properties_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),m=i("div",{class:"rbroFormField"});var ae=i("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});if(ae.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"contentHeight",ae.value,p.type.text,t.rb);t.rb.executeCommand(je)}}),q(ae),m.append(ae),m.append(i("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),s.append(m),d.append(s),this.renderMarginControls(d),this.renderHeaderFooter(d),this.rb.getProperty("showPlusFeatures")){O(s=i("div",{id:"rbro_document_properties_watermark_row",class:"rbroFormRow"}),this.rb.getLabel("watermarks"),"rbro_document_properties_watermark"),m=i("div",{class:"rbroFormField"});var Q=i("label",{class:"switch-light switch-material"}),ie=i("input",{id:"rbro_document_properties_watermark",type:"checkbox"});ie.addEventListener("change",function(Ie){var Ee=ie.checked,je=t.rb.getSelectedObject();if(je!==null){var Re=new p(je.getId(),"watermark",Ee,p.type.checkbox,t.rb);t.rb.executeCommand(Re)}}),Q.append(ie);var me=i("span");if(me.append(i("span")),me.append(i("span")),me.append(i("a")),Q.append(me),m.append(Q),m.append(i("div",{id:"rbro_document_properties_watermark_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var he=i("div",{class:"rbroInfo"});he.innerHTML=this.rb.getLabel("plusFeatureInfo"),m.append(he)}s.append(m),d.append(s)}O(s=i("div",{id:"rbro_document_properties_pattern_locale_row",class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),m=i("div",{class:"rbroFormField"});var be=i("select",{id:"rbro_document_properties_pattern_locale"});be.append(i("option",{value:"de"},"de")),be.append(i("option",{value:"en"},"en")),be.append(i("option",{value:"es"},"es")),be.append(i("option",{value:"fr"},"fr")),be.append(i("option",{value:"it"},"it")),be.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"patternLocale",be.value,p.type.select,t.rb);t.rb.executeCommand(je)}}),m.append(be),s.append(m),d.append(s),O(s=i("div",{id:"rbro_document_properties_pattern_currency_symbol_row",class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),m=i("div",{class:"rbroFormField"});var Ce=i("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});Ce.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"patternCurrencySymbol",Ce.value,p.type.text,t.rb);t.rb.executeCommand(je)}}),m.append(Ce),s.append(m),d.append(s),O(s=i("div",{id:"rbro_document_properties_pattern_number_group_symbol_row",class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),m=i("div",{class:"rbroFormField"});var Oe=i("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});Oe.addEventListener("change",function(Ie){var Ee=t.rb.getSelectedObject();if(Ee!==null){var je=new p(Ee.getId(),"patternNumberGroupSymbol",Oe.value,p.type.text,t.rb);t.rb.executeCommand(je)}}),m.append(Oe),m.append(i("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),s.append(m),d.append(s),document.getElementById("rbro_detail_panel").append(d)}},{key:"renderMarginControls",value:function(e){var t=this,d=i("div",{id:"rbro_document_properties_page_margin_row",class:"rbroFormRow"});O(d,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var s=i("div",{class:"rbroFormField rbroSmallInput"}),m=i("div",{class:"rbroColumnCenter"}),I=i("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});I.addEventListener("change",function(ae){var Q=t.rb.getSelectedObject();if(Q!==null){var ie=new p(Q.getId(),"marginTop",I.value,p.type.text,t.rb);t.rb.executeCommand(ie)}}),q(I),m.append(I),s.append(m);var v=i("div",{class:"rbroSplit"}),D=i("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});D.addEventListener("change",function(ae){var Q=t.rb.getSelectedObject();if(Q!==null){var ie=new p(Q.getId(),"marginLeft",D.value,p.type.text,t.rb);t.rb.executeCommand(ie)}}),q(D),v.append(D);var R=i("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});R.addEventListener("change",function(ae){var Q=t.rb.getSelectedObject();if(Q!==null){var ie=new p(Q.getId(),"marginRight",R.value,p.type.text,t.rb);t.rb.executeCommand(ie)}}),q(R),v.append(R),s.append(v);var X=i("div",{class:"rbroColumnCenter"}),Y=i("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});Y.addEventListener("change",function(ae){var Q=t.rb.getSelectedObject();if(Q!==null){var ie=new p(Q.getId(),"marginBottom",Y.value,p.type.text,t.rb);t.rb.executeCommand(ie)}}),q(Y),X.append(Y),s.append(X),d.append(s),e.append(d)}},{key:"renderHeaderFooter",value:function(e){var t=this,d=i("div",{class:"rbroFormRowContainer"}),s=i("div",{id:"rbro_document_properties_header_row",class:"rbroFormRow"});O(s,this.rb.getLabel("header"),"rbro_document_properties_header");var m=i("div",{class:"rbroFormField"}),I=i("label",{class:"switch-light switch-material"}),v=i("input",{id:"rbro_document_properties_header",type:"checkbox"});v.addEventListener("change",function(Oe){var Ie=t.rb.getSelectedObject();if(Ie!==null){var Ee=new p(Ie.getId(),"header",v.checked,p.type.checkbox,t.rb);t.rb.executeCommand(Ee)}}),I.append(v);var D=i("span");D.append(i("span")),D.append(i("span")),D.append(i("a")),I.append(D),m.append(I),s.append(m),d.append(s);var R=i("div",{id:"rbro_document_properties_header_settings"});O(s=i("div",{id:"rbro_document_properties_header_size_row",class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),m=i("div",{class:"rbroFormField"});var X=i("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});X.addEventListener("change",function(Oe){var Ie=t.rb.getSelectedObject();if(Ie!==null){var Ee=new p(Ie.getId(),"headerSize",X.value,p.type.text,t.rb);t.rb.executeCommand(Ee)}}),q(X),m.append(X),s.append(m),R.append(s),O(s=i("div",{id:"rbro_document_properties_header_display_row",class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),m=i("div",{class:"rbroFormField"});var Y=i("select",{id:"rbro_document_properties_header_display"});Y.append(i("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Y.append(i("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Y.addEventListener("change",function(Oe){var Ie=t.rb.getSelectedObject();if(Ie!==null){var Ee=new p(Ie.getId(),"headerDisplay",Y.value,p.type.select,t.rb);t.rb.executeCommand(Ee)}}),m.append(Y),s.append(m),R.append(s),d.append(R),e.append(d);var ae=i("div",{class:"rbroFormRowContainer"});O(s=i("div",{id:"rbro_document_properties_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),m=i("div",{class:"rbroFormField"});var Q=i("label",{class:"switch-light switch-material"}),ie=i("input",{id:"rbro_document_properties_footer",type:"checkbox"});ie.addEventListener("change",function(Oe){var Ie=t.rb.getSelectedObject();if(Ie!==null){var Ee=new p(Ie.getId(),"footer",ie.checked,p.type.checkbox,t.rb);t.rb.executeCommand(Ee)}}),Q.append(ie);var me=i("span");me.append(i("span")),me.append(i("span")),me.append(i("a")),Q.append(me),m.append(Q),s.append(m),ae.append(s);var he=i("div",{id:"rbro_document_properties_footer_settings"});O(s=i("div",{id:"rbro_document_properties_footer_size_row",class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),m=i("div",{class:"rbroFormField"});var be=i("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});be.addEventListener("change",function(Oe){var Ie=t.rb.getSelectedObject();if(Ie!==null){var Ee=new p(Ie.getId(),"footerSize",be.value,p.type.text,t.rb);t.rb.executeCommand(Ee)}}),q(be),m.append(be),s.append(m),he.append(s),O(s=i("div",{id:"rbro_document_properties_footer_display_row",class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),m=i("div",{class:"rbroFormField"});var Ce=i("select",{id:"rbro_document_properties_footer_display"});Ce.append(i("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Ce.append(i("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Ce.addEventListener("change",function(Oe){var Ie=t.rb.getSelectedObject();if(Ie!==null){var Ee=new p(Ie.getId(),"footerDisplay",Ce.value,p.type.select,t.rb);t.rb.executeCommand(Ee)}}),m.append(Ce),s.append(m),he.append(s),ae.append(he),e.append(ae)}}]),r}(kr),ko=function(){function _(r,e){$(this,_),this.rootElement=r,this.rb=e}return b(_,[{key:"render",value:function(){var r=i("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});r.append(i("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(r)}},{key:"destroy",value:function(){}},{key:"show",value:function(r){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(r,e){}},{key:"updateErrors",value:function(){}}]),_}();function Mn(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return Fn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Fn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function Fn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}function Co(_,r,e){return r=g(r),E(_,Vn()?Reflect.construct(r,e||[],g(_).constructor):r.apply(_,e))}function Vn(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Vn=function(){return!!_})()}var So=function(_){function r(e,t){var d,s;return $(this,r),(s=Co(this,r,["rbro_parameter",re,e,t])).propertyDescriptors={name:{type:p.type.text,fieldId:"name"},type:{type:p.type.select,fieldId:"type"},arrayItemType:{type:p.type.select,fieldId:"array_item_type"},eval:{type:p.type.checkbox,fieldId:"eval"},nullable:{type:p.type.checkbox,fieldId:"nullable"},pattern:{type:p.type.text,fieldId:"pattern"},expression:{type:p.type.text,fieldId:"expression"},testData:{type:p.type.text,fieldId:"test_data"},testDataBoolean:{type:p.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:p.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:p.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1},testDataRichText:{type:p.type.text,fieldId:"test_data_rich_text"}},s.parameterTypeOptions=[],n((d=w(s),g(r.prototype)),"initVisibleIfFields",d).call(d),s}return l(r,_),b(r,[{key:"render",value:function(e){var t=this,d=i("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),s=i("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});O(s,this.rb.getLabel("parameterName"),"rbro_parameter_name");var m=i("div",{class:"rbroFormField"}),I=i("input",{id:"rbro_parameter_name",autocomplete:"off"});I.addEventListener("input",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=I.value;if(oe!==ve.getName()){var Le=new _e("Rename parameter"),Xe=new p(ve.getId(),"name",oe,p.type.text,t.rb);Le.addCommand(Xe);for(var Pe=[],ot=null,rt=ve.getParent();rt!==null;)ot=rt,Pe.unshift(ot),rt=ot.getParent();ve.addUpdateTestDataCmdForChangedParameterName(oe,Pe,Le);var et=null;if((et=ot!==null?ot.getPanelItem():t.rb.getMainPanel().getParametersItem())!==null&&et.getChildByNameExclude(ve.getName(),ve)===null&&et.getChildByNameExclude(oe,ve)===null){var ht,Je=Mn(t.rb.getDocElements(!0));try{for(Je.s();!(ht=Je.n()).done;)ht.value.addCommandsForChangedParameterName(ve,oe,Le)}catch(lt){Je.e(lt)}finally{Je.f()}var vt,ut=Mn(t.rb.getParameters());try{for(ut.s();!(vt=ut.n()).done;)vt.value.addCommandsForChangedParameterName(ve,oe,Le)}catch(lt){ut.e(lt)}finally{ut.f()}}t.rb.executeCommand(Le)}}}),m.append(I),m.append(i("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),s.append(m),d.append(s),O(s=i("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),m=i("div",{class:"rbroFormField"});var v=i("select",{id:"rbro_parameter_type"});if(v.addEventListener("change",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new _e("Set parameter type"),Le=v.value,Xe=new p(ve.getId(),"type",Le,p.type.select,t.rb);oe.addCommand(Xe),ve.addCommandsForChangedParameterType(Le,oe),t.rb.executeCommand(oe)}}),m.append(v),m.append(i("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var D=i("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});D.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),m.append(D)}s.append(m),d.append(s),O(s=i("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),m=i("div",{class:"rbroFormField"});var R=i("select",{id:"rbro_parameter_array_item_type"});R.append(i("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),R.append(i("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),R.append(i("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),R.append(i("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),this.rb.getProperty("showPlusFeatures")&&R.append(i("option",{value:"rich_text"},this.rb.getLabel("parameterTypeRichText"))),R.addEventListener("change",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"arrayItemType",R.value,p.type.select,t.rb);t.rb.executeCommand(oe)}}),m.append(R),m.append(i("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),s.append(m),d.append(s);var X={};this.rb.getProperty("adminMode")||(X.style="display: none");var Y=i("div",X);O(s=i("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),m=i("div",{class:"rbroFormField"});var ae=i("input",{id:"rbro_parameter_eval",type:"checkbox"});ae.addEventListener("change",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"eval",ae.checked,p.type.checkbox,t.rb);t.rb.executeCommand(oe)}}),m.append(ae),s.append(m),Y.append(s),d.append(Y),O(s=i("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),m=i("div",{class:"rbroFormField"});var Q=i("input",{id:"rbro_parameter_nullable",type:"checkbox"});Q.addEventListener("change",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"nullable",Q.checked,p.type.checkbox,t.rb);t.rb.executeCommand(oe)}}),m.append(Q),s.append(m),d.append(s),O(s=i("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),m=i("div",{class:"rbroFormField"});var ie=i("div",{class:"rbroSplit rbroSelector"}),me=i("input",{id:"rbro_parameter_pattern",autocomplete:"off"});me.addEventListener("input",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"pattern",me.value,p.type.text,t.rb);t.rb.executeCommand(oe)}}),ie.append(me);var he=i("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});he.addEventListener("click",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe,Le=ve.getValue("type");oe=(Le===re.type.simpleArray?ve.getValue("arrayItemType"):Le)===re.type.date?t.rb.getProperty("patternDates"):t.rb.getProperty("patternNumbers"),t.rb.getPopupWindow().show(oe,ve.getId(),"rbro_parameter_pattern","pattern",bt.type.pattern)}}),ie.append(he),m.append(ie),m.append(i("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),s.append(m),d.append(s),O(s=i("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),m=i("div",{class:"rbroFormField"}),ie=i("div",{class:"rbroSplit rbroSelector"});var be=i("textarea",{id:"rbro_parameter_expression",rows:"1"});be.addEventListener("input",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"expression",be.value,p.type.text,t.rb);t.rb.executeCommand(oe)}}),pt(be),ie.append(be),(he=i("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Ne){var ve,oe,Le=t.rb.getSelectedObject();Le!==null&&(Le.getValue("type")===re.type.sum||Le.getValue("type")===re.type.average?(ve=t.rb.getArrayFieldParameterItems([re.type.number]),oe=bt.type.parameterSet):(ve=t.rb.getParameterItems(Le),oe=bt.type.parameterAppend),t.rb.getPopupWindow().show(ve,Le.getId(),"rbro_parameter_expression","expression",oe))}),ie.append(he),m.append(ie),m.append(i("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),s.append(m),d.append(s);var Ce=i("div",{id:"rbro_parameter_test_data_container"});O(s=i("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),m=i("div",{class:"rbroFormField"});var Oe=i("input",{id:"rbro_parameter_test_data",autocomplete:"off"});Oe.addEventListener("input",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"testData",Oe.value,p.type.text,t.rb);t.rb.executeCommand(oe)}}),m.append(Oe);var Ie=i("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});Ie.append(i("span",{},this.rb.getLabel("parameterEditTestData"))),Ie.append(i("span",{class:"rbroIcon-edit"})),Ie.addEventListener("click",function(Ne){var ve=t.rb.getSelectedObject();ve!==null&&(ve.getParameterFields().length>0?t.rb.getPopupWindow().show(null,ve.getId(),"","testData",bt.type.data,null,ve,null,null,null):ve.getValue("type")===re.type.map?alert(t.rb.getLabel("parameterEditTestDataMapNoFields")):alert(t.rb.getLabel("parameterEditTestDataArrayNoFields")))}),m.append(Ie),m.append(i("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),s.append(m),Ce.append(s),O(s=i("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),m=i("div",{class:"rbroFormField"});var Ee=i("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Ee.addEventListener("change",function(Ne){var ve=Ee.checked,oe=t.rb.getSelectedObject();if(oe!==null){var Le=new p(oe.getId(),"testDataBoolean",ve,p.type.checkbox,t.rb);t.rb.executeCommand(Le)}}),m.append(Ee),s.append(m),Ce.append(s),O(s=i("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),m=i("div",{class:"rbroFormField"});var je=i("input",{id:"rbro_parameter_test_data_image",type:"file"});je.addEventListener("change",function(Ne){var ve=t.rb,oe=Ne.target.files;oe&&oe[0]&&L(oe[0],function(Le,Xe){for(var Pe=new _e("Load image",ve),ot=ve.getSelectedObjects(),rt=ot.length-1;rt>=0;rt--){var et=ot[rt];Pe.addSelection(et.getId()),Pe.addCommand(new p(et.getId(),"testDataImage",Le,p.type.file,ve)),Pe.addCommand(new p(et.getId(),"testDataImageFilename",Xe,p.type.filename,ve))}Pe.isEmpty()||ve.executeCommand(Pe)},t.rb)}),m.append(je);var Re=i("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});Re.append(i("div",{id:"rbro_parameter_test_data_image_filename"}));var Ge=i("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Ge.addEventListener("click",function(Ne){je.value="";var ve=new _e("Clear image",t.rb),oe=t.rb.getSelectedObject();oe!==null&&(ve.addSelection(oe.getId()),ve.addCommand(new p(oe.getId(),"testDataImage","",p.type.file,t.rb)),ve.addCommand(new p(oe.getId(),"testDataImageFilename","",p.type.filename,t.rb))),ve.isEmpty()||t.rb.executeCommand(ve)}),Re.append(Ge),m.append(Re),m.append(i("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),m.append(i("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),s.append(m),Ce.append(s),O(s=i("div",{id:"rbro_parameter_test_data_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_rich_text"),m=i("div",{class:"rbroFormField"});var ze=i("textarea",{id:"rbro_parameter_test_data_rich_text",rows:1,autocomplete:"off"});ze.addEventListener("input",function(Ne){var ve=t.rb.getSelectedObject();if(ve!==null){var oe=new p(ve.getId(),"testDataRichText",ze.value,p.type.text,t.rb);t.rb.executeCommand(oe)}}),pt(ze),m.append(ze);var Ze=i("div",{id:"rbro_parameter_test_data_rich_text_plus_info",class:"rbroInfo"});Ze.innerHTML=this.rb.getLabel("parameterTestDataRichTextInfo"),m.append(Ze),s.append(m),Ce.append(s),d.append(Ce),document.getElementById("rbro_detail_panel").append(d)}},{key:"updateVisibileRows",value:function(e,t){var d=e.getValue("type"),s=d===re.type.simpleArray?e.getValue("arrayItemType"):d,m=e.getValue("showOnlyNameType"),I=null;if(e.getPanelItem()!==null&&e.getPanelItem().getParent().getData()instanceof re&&(I=e.getPanelItem().getParent().getData()),t===null){var v=e.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!v,document.getElementById("rbro_parameter_type").disabled=!v,document.getElementById("rbro_parameter_eval").disabled=!v,document.getElementById("rbro_parameter_nullable").disabled=!v,document.getElementById("rbro_parameter_pattern").disabled=!v,document.getElementById("rbro_parameter_expression").disabled=!v,v?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(t!==null&&t!=="type"||(d===re.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",d===re.type.string||d===re.type.number||d===re.type.boolean||d===re.type.date||d===re.type.image||d===re.type.array||d===re.type.simpleArray||d===re.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),t!==null&&t!=="type"&&t!=="arrayItemType"||(s!==re.type.number&&s!==re.type.date&&s!==re.type.sum&&s!==re.type.average||m?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),t!==null&&t!=="type"&&t!=="eval"||(d===re.type.sum||d===re.type.average||m?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(d===re.type.image||d===re.type.richText||d===re.type.array||d===re.type.simpleArray||d===re.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),I!==null||e.getValue("eval")&&(d===re.type.string||d===re.type.number||d===re.type.boolean||d===re.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),d===re.type.array||d===re.type.simpleArray||d===re.type.map||d===re.type.string||d===re.type.number||d===re.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",d===re.type.array||d===re.type.simpleArray||d===re.type.map?document.getElementById("rbro_parameter_edit_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data").style.display="none",d===re.type.string||d===re.type.number||d===re.type.date?document.getElementById("rbro_parameter_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_test_data").style.display="none",d===re.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",d===re.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none",d===re.type.richText?document.getElementById("rbro_parameter_test_data_rich_text_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_rich_text_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(I===null||d!==re.type.map&&d!==re.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!e.getValue("eval")||d!==re.type.string&&d!==re.type.number&&d!==re.type.boolean&&d!==re.type.date)&&d!==re.type.sum&&d!==re.type.average||m?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),t===null){var D=[],R=I!==null&&I.getValue("type")===re.type.array;D.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),D.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),D.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),D.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),D.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),this.rb.getProperty("showPlusFeatures")&&D.push({value:"rich_text",label:this.rb.getLabel("parameterTypeRichText")}),(I===null||this.rb.getProperty("showPlusFeatures"))&&D.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),D.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(I===null||this.rb.getProperty("showPlusFeatures"))&&D.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),R||(D.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),D.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var X=!1;if(D.length!==this.parameterTypeOptions.length)X=!0;else for(var Y=0;Y<D.length;Y++)if(D[Y].value!==this.parameterTypeOptions[Y].value){X=!0;break}if(X){var ae=document.getElementById("rbro_parameter_type");A(ae);for(var Q=0;Q<D.length;Q++){var ie=D[Q];ae.append(i("option",{value:ie.value},ie.label))}this.parameterTypeOptions=D}}}},{key:"updateDisplay",value:function(e){var t=this.rb.getSelectedObject();t!==null&&t instanceof re&&(this.updateVisibileRows(t,e),e!==null&&e!=="type"||(t.getValue("type")===re.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",""))),n(g(r.prototype),"updateDisplay",this).call(this,e)}},{key:"updateAutosizeInputs",value:function(e){e!==null&&e!=="expression"||pt.update(document.getElementById("rbro_parameter_expression")),e!==null&&e!=="type"||pt.update(document.getElementById("rbro_parameter_test_data_rich_text"))}}]),r}(kr);function qn(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return zn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?zn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function zn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var Po=function(){function _(r,e,t,d,s,m,I){$(this,_),this.rootElement=r,this.rb=I,this.headerItem=new Ue("band",null,e,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},I),this.documentItem=new Ue("band",null,t,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},I),this.footerItem=new Ue("band",null,d,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},I),this.parametersItem=new Ue("parameter",null,s,{hasChildren:!0,showAdd:I.getProperty("adminMode"),showDelete:!1,hasDetails:!1},I),this.stylesItem=new Ue("style",null,m,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},I),this.watermarksItem=new Ue("watermark",null,null,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,id:"0_watermarks",name:I.getLabel("watermarks"),static:!0},I),this.documentPropertiesItem=new Ue("documentProperties",null,I.getDocumentProperties(),{showDelete:!1,hasDetails:!0},I),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.watermarksItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,e.setPanelItem(this.headerItem),t.setPanelItem(this.documentItem),d.setPanelItem(this.footerItem),s.setPanelItem(this.parametersItem),m.setPanelItem(this.stylesItem)}return b(_,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getWatermarksItem",value:function(){return this.watermarksItem}},{key:"getContainerByItem",value:function(r){for(;r!==null;){if(r.getData()instanceof C)return r.getData();r=r.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var r=this,e=document.getElementById("rbro_main_panel_list");this.appendChildren(e,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(t){r.dragMainPanelSizer=!0,r.dragMainPanelSizerStartX=t.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(r,e){var t,d=qn(e);try{for(d.s();!(t=d.n()).done;){var s=t.value;r.append(s.getElement());var m=s.getChildren();m.length>0&&this.appendChildren(r,m)}}catch(I){d.e(I)}finally{d.f()}}},{key:"processMouseMove",value:function(r){if(this.dragMainPanelSizer){var e=this.mainPanelWidth+(r.pageX-this.dragMainPanelSizerStartX);return e=this.checkMainPanelWidth(e),this.updateMainPanelWidth(e),!0}return!1}},{key:"mouseUp",value:function(r){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(r.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var r=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(r+=92),r}},{key:"updateMainPanelWidth",value:function(r){document.getElementById("rbro_main_panel").style.width=r+"px",document.getElementById("rbro_main_panel_sizer").style.left=r+"px",document.getElementById("rbro_detail_panel").style.left=r+this.mainPanelSizerWidth+"px";var e=r+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(e+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=r+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(e,"px)")}},{key:"checkMainPanelWidth",value:function(r){return r<150?150:r>500?500:r}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"showWatermarks",value:function(){this.watermarksItem.show()}},{key:"hideWatermarks",value:function(){this.watermarksItem.hide()}},{key:"clearAll",value:function(){var r,e=qn(this.items);try{for(e.s();!(r=e.n()).done;)r.value.clear()}catch(t){e.e(t)}finally{e.f()}}}]),_}(),Oo=function(){function _(r,e){$(this,_),this.rootElement=r,this.rb=e}return b(_,[{key:"render",value:function(){var r,e=this,t=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",d=document.getElementById("rbro_menu_panel"),s=i("div",{class:"rbroToolButtonContainer"});(r=i("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(i("span",{class:"rbroIcon-save"})),r.append(i("span",{class:t},this.rb.getLabel("menuSave"))),r.addEventListener("click",function(oe){e.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(r.style.display="none"),s.append(r),this.rb.getProperty("menuShowDebug")&&((r=i("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(i("span",{class:"rbroIcon-console"})),r.append(i("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),r.addEventListener("click",function(oe){console.log(JSON.stringify(e.rb.getReport()))}),s.append(r),(r=i("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(i("span",{class:"rbroIcon-insert-report"})),r.append(i("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),r.addEventListener("click",function(oe){var Le=prompt("Paste report template here to load report");if(Le)try{var Xe=JSON.parse(Le);T(Xe.docElements)==="object"&&T(Xe.parameters)==="object"&&T(Xe.styles)==="object"&&T(Xe.documentProperties)==="object"?(e.rb.load(Xe),e.rb.setModified(!0)):alert("Invalid report template data")}catch(Pe){alert("Invalid report template data")}}),s.append(r)),(r=i("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(i("span",{class:"rbroIcon-undo"})),r.append(i("span",{class:t},this.rb.getLabel("menuUndo"))),r.addEventListener("click",function(oe){e.rb.undoCommand()}),s.append(r),(r=i("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(i("span",{class:"rbroIcon-redo"})),r.append(i("span",{class:t},this.rb.getLabel("menuRedo"))),r.addEventListener("click",function(oe){e.rb.redoCommand()}),s.append(r),(r=i("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(i("span",{class:"rbroIcon-play"})),r.append(i("span",{class:t},this.rb.getLabel("menuPreview"))),r.addEventListener("click",function(oe){e.rb.preview()}),s.append(r),d.append(s);var m,I=i("div",{class:"rbroElementButtonContainer"}),v=i("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(m=i("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(i("span",{class:"rbroIcon-text"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.text,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.text,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(i("span",{class:"rbroIcon-line"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.line,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.line,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(i("span",{class:"rbroIcon-image"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.image,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.image,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(i("span",{class:"rbroIcon-barcode"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.barCode,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.barCode,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(i("span",{class:"rbroIcon-table"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.table,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.table,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(i("span",{class:"rbroIcon-frame"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.frame,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.frame,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(i("span",{class:"rbroIcon-section"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.section,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.section,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),(m=i("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(i("span",{class:"rbroIcon-page-break"})),m.addEventListener("dragstart",function(oe){oe.dataTransfer.setData("text/plain",""),oe.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",we.type.pageBreak,""),oe.stopPropagation()}),m.addEventListener("touchstart",function(oe){e.rb.startBrowserDrag("docElement",we.type.pageBreak,""),oe.preventDefault()}),m.addEventListener("touchmove",function(oe){e.rb.getDocument().processDragover(oe)}),m.addEventListener("touchend",function(oe){e.rb.getDocument().processDrop(oe)}),v.append(m),I.append(v);var D=i("div",{class:"rbroActionButtons"}),R=i("div",{id:"rbro_menu_align",style:"display: none;"}),X=i("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});X.addEventListener("click",function(oe){e.rb.alignSelections(ye.alignment.left)}),R.append(X);var Y=i("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});Y.addEventListener("click",function(oe){e.rb.alignSelections(ye.alignment.center)}),R.append(Y);var ae=i("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});ae.addEventListener("click",function(oe){e.rb.alignSelections(ye.alignment.right)}),R.append(ae),D.append(R);var Q=i("div",{id:"rbro_menu_valign",style:"display: none;"}),ie=i("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});ie.addEventListener("click",function(oe){e.rb.alignSelections(ye.alignment.top)}),Q.append(ie);var me=i("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});me.addEventListener("click",function(oe){e.rb.alignSelections(ye.alignment.middle)}),Q.append(me);var he=i("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});he.addEventListener("click",function(oe){e.rb.alignSelections(ye.alignment.bottom)}),Q.append(he),D.append(Q);var be=i("div",{id:"rbro_menu_column_actions",style:"display: none;"}),Ce=i("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});Ce.addEventListener("click",function(oe){var Le=e.rb.getSelectedObject();Le instanceof qt&&Le.insertColumn(!0)}),be.append(Ce);var Oe=i("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});Oe.addEventListener("click",function(oe){var Le=e.rb.getSelectedObject();Le instanceof qt&&Le.insertColumn(!1)}),be.append(Oe);var Ie=i("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Ie.addEventListener("click",function(oe){var Le=e.rb.getSelectedObject();Le instanceof qt&&Le.deleteColumn()}),be.append(Ie),D.append(be);var Ee=i("div",{id:"rbro_menu_row_actions",style:"display: none;"}),je=i("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});je.addEventListener("click",function(oe){var Le=e.rb.getSelectedObject();Le instanceof qt&&Le.getParent()!==null&&Le.getParent().insertRow(!0)}),Ee.append(je);var Re=i("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});Re.addEventListener("click",function(oe){var Le=e.rb.getSelectedObject();Le instanceof qt&&Le.getParent()!==null&&Le.getParent().insertRow(!1)}),Ee.append(Re);var Ge=i("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Ge.addEventListener("click",function(oe){var Le=e.rb.getSelectedObject();Le instanceof qt&&Le.getParent()!==null&&Le.getParent().deleteRow()}),Ee.append(Ge),D.append(Ee);var ze=i("div",{id:"rbro_menu_zoom",class:"rbroZoom"});ze.append(i("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var Ze=i("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});Ze.addEventListener("click",function(oe){e.rb.getDocument().zoomIn()}),ze.append(Ze);var Ne=i("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});Ne.addEventListener("click",function(oe){e.rb.getDocument().zoomOut()}),ze.append(Ne),D.append(ze);var ve=i("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});ve.addEventListener("click",function(oe){ve.classList.toggle("rbroButtonActive"),e.rb.getDocument().toggleGrid()}),D.append(ve),I.append(D),d.append(I)}},{key:"updateZoomButtons",value:function(r,e){r?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),e?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),_}();function qe(_,r){var e=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!e){if(Array.isArray(_)||(e=function(v,D){if(v){if(typeof v=="string")return Hn(v,D);var R=Object.prototype.toString.call(v).slice(8,-1);return R==="Object"&&v.constructor&&(R=v.constructor.name),R==="Map"||R==="Set"?Array.from(v):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Hn(v,D):void 0}}(_))||r&&_&&typeof _.length=="number"){e&&(_=e);var t=0,d=function(){};return{s:d,n:function(){return t>=_.length?{done:!0}:{done:!1,value:_[t++]}},e:function(v){throw v},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,m=!0,I=!1;return{s:function(){e=e.call(_)},n:function(){var v=e.next();return m=v.done,v},e:function(v){I=!0,s=v},f:function(){try{m||e.return==null||e.return()}finally{if(I)throw s}}}}function Hn(_,r){(r==null||r>_.length)&&(r=_.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=_[e];return t}var To=function(){function _(r,e){var t=this;if($(this,_),this.element=r,this.nextId=1,this.locale=go[e&&e.localeKey||"en_us"],e&&e.locale&&Object.assign(this.locale,e.locale),this.properties={additionalFonts:[],adminMode:!0,autoSaveOnPreview:!1,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:ye.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:ye.font.courier},{name:"Helvetica",value:ye.font.helvetica},{name:"Times New Roman",value:ye.font.times}],highlightUnusedParameters:!1,imageLimit:null,imageMaxSize:null,imageRequireWebPFormat:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},e)for(var d in e)this.properties.hasOwnProperty(d)&&(this.properties[d]=e[d]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var s,m=!1,I=qe(this.properties.fonts);try{for(I.s();!(s=I.n()).done;){var v=s.value;if(this.properties.defaultFont===v.value){m=!0;break}}}catch(D){I.e(D)}finally{I.f()}if(m||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new xn(r,this.properties.showGrid,this),this.popupWindow=new bt(r,this),this.docElements=[],this.headerBand=new se(se.bandType.header,!1,"","",this),this.contentBand=new se(se.bandType.content,!1,"","",this),this.footerBand=new se(se.bandType.footer,!1,"","",this),this.parameterContainer=new C("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new C("0_styles",this.getLabel("styles"),this),this.watermarkTextContainer=new Sn("0_watermark_texts",this.getLabel("watermarkTexts"),this),this.watermarkImageContainer=new Sn("0_watermark_images",this.getLabel("watermarkImages"),this),this.documentProperties=new Xt(this),this.clipboardElements=[],this.mainPanel=new Po(r,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new Oo(r,this),this.activeDetailPanel="none",this.detailPanels={none:new ko(r,this),docElement:new Eo(r,this),parameter:new So(r,this),style:new _r(r,this),documentProperties:new Io(r,this)},this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(D){if(!t.detailPanels[t.activeDetailPanel].isKeyEventDisabled()){if(D.metaKey||D.ctrlKey)switch(D.which){case 67:if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement)){var R,X,Y,ae=!1,Q={},ie=qe(t.selections);try{for(ie.s();!(Y=ie.n()).done;){var me=Y.value,he=t.getDataObject(me);if((he instanceof we&&!(he instanceof qt)||he instanceof re&&!he.showOnlyNameType||he instanceof ye)&&(ae||(t.clipboardElements=[],ae=!0),!(he.getId()in Q)))if(Q[he.getId()]=!0,R=he.toJS(),t.clipboardElements.push(R),he instanceof we){if(R.baseClass="DocElement",he instanceof Ar){var be=[];he.appendContainerChildren(be);for(var Ce=0,Oe=be;Ce<Oe.length;Ce++){var Ie=Oe[Ce];if(Ie.getId()in Q){for(X=0;X<t.clipboardElements.length;X++)if(Ie.getId()===t.clipboardElements[X].id){t.clipboardElements.splice(X,1);break}}else Q[Ie.getId()]=!0;(R=Ie.toJS()).baseClass="DocElement",t.clipboardElements.push(R)}}}else he instanceof re?R.baseClass="Parameter":he instanceof ye&&(R.baseClass="Style")}}catch(wt){ie.e(wt)}finally{ie.f()}D.preventDefault()}break;case 86:if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement)){var Ee,je,Re=new _e("Paste from clipboard",t),Ge={},ze=[],Ze=qe(t.clipboardElements);try{for(Ze.s();!(je=Ze.n()).done;){var Ne=je.value,ve=Object.assign({},Ne);if(ve.id=t.getUniqueId(),ze.push(ve),ve.baseClass==="DocElement"){if(ve.linkedContainerId){var oe=t.getUniqueId();Ge[ve.linkedContainerId]=oe,ve.linkedContainerId=oe}ve.elementType===we.type.table&&Kt.removeIds(ve)}}}catch(wt){Ze.e(wt)}finally{Ze.f()}for(var Le=0,Xe=ze;Le<Xe.length;Le++){var Pe=Xe[Le];if(Pe.baseClass==="DocElement"){if(Pe.containerId in Ge)Pe.containerId=Ge[Pe.containerId];else{var ot=0,rt=t.getDataObject(Pe.containerId);if(rt!==null){var et=rt.getOffset(),ht=rt.getContentSize(),Je=t.getDocument().getContentScrollPosY();Je>et.y&&Je+Pe.height<et.y+ht.height&&(ot=Je-et.y)}Pe.x=0,Pe.y=ot}Ee=new gt(!0,Pe.elementType,Pe,Pe.id,Pe.containerId,-1,t),Re.addCommand(Ee)}else if(Pe.baseClass==="Parameter"||Pe.baseClass==="Style"){var vt=t.getLabel("nameCopySuffix"),ut=Pe.name+" (".concat(vt,")"),lt=Pe.baseClass==="Parameter"?t.parameterContainer.getPanelItem():t.styleContainer.getPanelItem();if(lt!==null&&lt.getChildByName(ut))for(var _t=2;_t<=99&&(ut=Pe.name+" (".concat(vt," ").concat(_t,")"),lt.getChildByName(ut)!==null);_t++);Pe.name=ut,Pe.baseClass==="Parameter"?(re.removeIds(Pe),Ee=new St(!0,Pe,Pe.id,t.parameterContainer.getId(),-1,t),Re.addCommand(Ee)):Pe.baseClass==="Style"&&(Ee=new Te(!0,Pe,Pe.id,t.styleContainer.getId(),-1,t),Re.addCommand(Ee))}}if(!Re.isEmpty()){t.executeCommand(Re);var xt,Bt=!0,Qe=qe(ze);try{for(Qe.s();!(xt=Qe.n()).done;){var Yt=xt.value;t.selectObject(Yt.id,Bt),Bt=!1}}catch(wt){Qe.e(wt)}finally{Qe.f()}}D.preventDefault()}break;case 89:t.redoCommand(),D.preventDefault();break;case 90:t.undoCommand(),D.preventDefault()}else if(D.which===27)t.popupWindow.hide();else if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement))switch(D.which){case 8:case 46:var Pt,zt=new _e("Delete",t),Rt=qe(t.selections);try{for(Rt.s();!(Pt=Rt.n()).done;){var Zt=Pt.value,Nt=t.getDataObject(Zt);Nt instanceof we&&Nt.addCommandsForDelete(zt)}}catch(wt){Rt.e(wt)}finally{Rt.f()}zt.isEmpty()||t.executeCommand(zt),D.preventDefault();break;case 37:case 38:case 39:case 40:var Ot,Ct=new _e("Move element",t),Jt=D.which===37||D.which===39?"x":"y",Mt=(t.getDocumentProperties().getContentSize().width,qe(t.selections));try{for(Mt.s();!(Ot=Mt.n()).done;){var Ht=Ot.value,ft=t.getDataObject(Ht);if(ft instanceof we&&ft.hasProperty(Jt)){var Tt=null;if(D.which===37)ft.getValue("xVal")>0&&(Tt=ft.getValue("xVal")-1);else if(D.which===38)ft.getValue("yVal")>0&&(Tt=ft.getValue("yVal")-1);else if(D.which===39){var $t=ft.getContainerContentSize();ft.getValue("xVal")+ft.getValue("widthVal")<$t.width&&(Tt=ft.getValue("xVal")+1)}else if(D.which===40){var Ft=ft.getContainerContentSize();ft.getValue("yVal")+ft.getValue("heightVal")<Ft.height&&(Tt=ft.getValue("yVal")+1)}if(Tt!==null){var At=new p(Ht,Jt,Tt,p.type.text,t);Ct.addCommand(At)}}}}catch(wt){Mt.e(wt)}finally{Mt.f()}Ct.isEmpty()||t.executeCommand(Ct),D.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return b(_,[{key:"validateProperties",value:function(r){if(!Array.isArray(r.colors))return console.error('"colors" property must be an array'),!1;var e,t=!1,d=qe(r.colors);try{for(d.s();!(e=d.n()).done;){var s=e.value;if(!s||!F(s))return console.error('"colors" property contains invalid color value'),!1;s==="#000000"&&(t=!0)}}catch(D){d.e(D)}finally{d.f()}if(!t)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(r.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var m,I=qe(r.fontSizes);try{for(I.s();!(m=I.n()).done;){var v=m.value;if(typeof v!="number"||v<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(D){I.e(D)}finally{I.f()}return!0}},{key:"addMainPanelItemSubCategories",value:function(){var r=new Ue("watermarkText",this.mainPanel.getWatermarksItem(),this.watermarkTextContainer,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1,draggable:!1},this);this.watermarkTextContainer.setPanelItem(r),this.mainPanel.getWatermarksItem().appendChild(r),this.watermarkTextContainer.setup();var e=new Ue("watermarkImage",this.mainPanel.getWatermarksItem(),this.watermarkImageContainer,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1,draggable:!1},this);this.watermarkImageContainer.setPanelItem(e),this.mainPanel.getWatermarksItem().appendChild(e),this.watermarkImageContainer.setup()}},{key:"addDefaultParameters",value:function(){for(var r=0,e=[{name:"page_count",type:re.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:re.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];r<e.length;r++){var t=e[r],d=new re(this.getUniqueId(),t,this),s=this.mainPanel.getParametersItem(),m=new Ue("parameter",s,d,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);d.setPanelItem(m),s.appendChild(m),d.setup(),this.addParameter(d)}}},{key:"render",value:function(){var r=this;A(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(i("div",{class:"rbroLogo"})),this.element.append(i("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var e=i("div",{class:"rbroContainer"}),t=i("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var d in t.append(i("ul",{id:"rbro_main_panel_list"})),e.append(t),e.append(i("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),e.append(i("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),e.append(i("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(e),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[d].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(s){r.mainPanel.mouseUp(s),r.document.mouseUp(s),r.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(s){r.document.windowResized()}),this.element.addEventListener("dragstart",function(s){s.preventDefault()}),this.element.addEventListener("mousemove",function(s){r.mainPanel.processMouseMove(s)||r.document.processMouseMove(s)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addMainPanelItemSubCategories(),this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.watermarkTextContainer),this.addDataObject(this.watermarkImageContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(r){return r in this.locale?this.locale[r]:r}},{key:"getProperty",value:function(r){return this.properties[r]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var r=[];if(this.properties.patternNumbers.length>0){r.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var e,t=qe(this.properties.patternNumbers);try{for(t.s();!(e=t.n()).done;){var d=e.value;r.push(d)}}catch(v){t.e(v)}finally{t.f()}}if(this.properties.patternDates.length>0){r.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var s,m=qe(this.properties.patternDates);try{for(m.s();!(s=m.n()).done;){var I=s.value;r.push(I)}}catch(v){m.e(v)}finally{m.f()}}return r}},{key:"getParameterItems",value:function(r,e){var t=[],d=this.getMainPanel().getParametersItem().getChildren(),s=0;if(r instanceof we){var m,I=!0,v=qe(r.getAllDataSources());try{for(v.s();!(m=v.n()).done;){var D=m.value;if(D.parameters.length>0){var R;R=I?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("${name}",D.name),t.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+s,name:R});var X,Y=[],ae=I?null:D.name,Q=qe(D.parameters);try{for(Q.s();!(X=Q.n()).done;){var ie=X.value;ie.type===re.type.map?ie.appendParameterItems(Y,e,ae):ie.appendParameterItems(t,e,ae)}}catch(Ge){Q.e(Ge)}finally{Q.f()}for(var me=0,he=Y;me<he.length;me++){var be=he[me];t.push(be)}}I=!1,s++}}catch(Ge){v.e(Ge)}finally{v.f()}}else if(r instanceof re)for(var Ce=r.getParent();Ce!==null;){if(Ce.type===re.type.array){s=1,Ce.appendFieldParameterItems(t,e,!0,null);break}Ce=Ce.getParent()}var Oe=s>0?"":null;t.push({separator:!0,name:this.getLabel("parameters")});var Ie,Ee=[],je=qe(d);try{for(je.s();!(Ie=je.n()).done;){var Re=Ie.value.getData();Re.getValue("type")===re.type.map?Re.appendParameterItems(Ee,e,Oe):Re.appendParameterItems(t,e,Oe)}}catch(Ge){je.e(Ge)}finally{je.f()}return t.concat(Ee)}},{key:"getArrayFieldParameterItems",value:function(r){var e=[],t=this.getMainPanel().getParametersItem().getChildren();e.push({separator:!0,name:this.getLabel("parameters")});var d,s=qe(t);try{for(s.s();!(d=s.n()).done;){var m=d.value.getData();m.getValue("type")===re.type.array&&m.appendFieldParameterItems(e,r,!1,null)}}catch(I){s.e(I)}finally{s.f()}return e}},{key:"appendContainerDocElements",value:function(r,e,t){var d,s=qe(r.getPanelItem().getChildren());try{for(s.s();!(d=s.n()).done;){var m=d.value;if(m.getData()instanceof we){var I=m.getData();e?(t.push(I),I.addChildren(t)):t.push(I.toJS());var v=[];if(I instanceof Lr)v=I.getLinkedContainers();else{var D=I.getLinkedContainer();D!==null&&v.push(D)}var R,X=qe(v);try{for(X.s();!(R=X.n()).done;){var Y=R.value;this.appendContainerDocElements(Y,e,t)}}catch(ae){X.e(ae)}finally{X.f()}}}}catch(ae){s.e(ae)}finally{s.f()}}},{key:"getDocElements",value:function(r){var e=[];return this.appendContainerDocElements(this.headerBand,r,e),this.appendContainerDocElements(this.contentBand,r,e),this.appendContainerDocElements(this.footerBand,r,e),e}},{key:"setDetailPanel",value:function(r){r!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=r,this.detailPanels[r].show())}},{key:"notifyEvent",value:function(r,e,t){this.detailPanels[this.activeDetailPanel].notifyEvent(r,e,t)}},{key:"addParameter",value:function(r){this.addDataObject(r)}},{key:"addStyle",value:function(r){this.addDataObject(r),this.notifyEvent(r,o.operation.add)}},{key:"getStyles",value:function(){var r,e=[],t=qe(this.getMainPanel().getStylesItem().getChildren());try{for(t.s();!(r=t.n()).done;){var d=r.value;e.push(d.getData())}}catch(s){t.e(s)}finally{t.f()}return e}},{key:"getParameters",value:function(){var r,e=[],t=qe(this.getMainPanel().getParametersItem().getChildren());try{for(t.s();!(r=t.n()).done;){var d=r.value;e.push(d.getData())}}catch(s){t.e(s)}finally{t.f()}return e}},{key:"getWatermarks",value:function(){var r,e=[],t=qe(this.watermarkTextContainer.getPanelItem().getChildren());try{for(t.s();!(r=t.n()).done;){var d=r.value;e.push(d.getData())}}catch(v){t.e(v)}finally{t.f()}var s,m=qe(this.watermarkImageContainer.getPanelItem().getChildren());try{for(m.s();!(s=m.n()).done;){var I=s.value;e.push(I.getData())}}catch(v){m.e(v)}finally{m.f()}return e}},{key:"addDocElement",value:function(r){this.docElements.push(r),this.addDataObject(r)}},{key:"deleteDocElements",value:function(){for(var r=0;r<this.docElements.length;r++)this.deleteDataObject(this.docElements[r]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(r){if(r.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var e=this.commandStack[this.commandStack.length-1];r.allowReplace(e)&&(r.replace(e),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(r),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(r,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var r=this.commandStack[this.lastCommandIndex];r.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(r,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var r=this.commandStack[this.lastCommandIndex];r.do(),this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(r,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var r,e=0,t={x:0,y:0},d=!0,s=!0,m=qe(this.selections);try{for(m.s();!(r=m.n()).done;){var I=r.value,v=this.getDataObject(I);if(v instanceof we&&v.hasProperty("x")){e++;var D=v.getContainer().getOffset();e===1?t=D:(D.x!==t.x&&(d=!1),D.y!==t.y&&(s=!1))}}}catch(Oe){m.e(Oe)}finally{m.f()}var R=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(e>1){d?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",s?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var X,Y=qe(R);try{for(Y.s();!(X=Y.n()).done;)X.value.style.display="none"}catch(Oe){Y.e(Oe)}finally{Y.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var ae=null;if(this.selections.length===1&&(ae=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",ae instanceof qt){var Q,ie=qe(R);try{for(ie.s();!(Q=ie.n()).done;)Q.value.style.display="none"}catch(Oe){ie.e(Oe)}finally{ie.f()}var me=ae.getTable(),he=ae.getParent();me!==null&&j(me.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),me!==null&&he!==null&&he.getValue("bandType")===se.bandType.content?(j(me.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var be,Ce=qe(R);try{for(Ce.s();!(be=Ce.n()).done;)be.value.removeAttribute("style")}catch(Oe){Ce.e(Oe)}finally{Ce.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var r=0;r<this.commandStack.length;r++)r>this.lastCommandIndex?console.log("( "+r+" "+this.commandStack[r].getName()+" )"):console.log(r+" "+this.commandStack[r].getName())}},{key:"addDataObject",value:function(r){this.objectMap[r.getId()]=r}},{key:"deleteDataObject",value:function(r){this.isSelectedObject(r.getId())&&this.deselectObject(r.getId()),r.getId()in this.objectMap&&(r.remove(),delete this.objectMap[r.getId()])}},{key:"getDataObject",value:function(r){return r!==null&&r in this.objectMap?this.objectMap[r]:null}},{key:"getSelectedObjects",value:function(){var r,e=[],t=qe(this.selections);try{for(t.s();!(r=t.n()).done;){var d=r.value,s=this.getDataObject(d);s!==null&&e.push(s)}}catch(m){t.e(m)}finally{t.f()}return e}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(r){return this.selections.indexOf(r)!==-1}},{key:"isDocElementSelected",value:function(){var r,e=qe(this.selections);try{for(e.s();!(r=e.n()).done;){var t=r.value;if(this.getDataObject(t)instanceof we)return!0}}catch(d){e.e(d)}finally{e.f()}return!1}},{key:"isTableElementSelected",value:function(r){var e,t=qe(this.selections);try{for(t.s();!(e=t.n()).done;){var d=e.value,s=this.getDataObject(d);if(s instanceof qt&&s.getValue("tableId")===r)return!0}}catch(m){t.e(m)}finally{t.f()}return!1}},{key:"selectObject",value:function(r,e){var t="none",d=this.getDataObject(r);if(e){if(d!==null&&this.selections.length===1&&this.selections[0]===r)return;this.deselectAll(!0)}d!==null&&(d instanceof we?t="docElement":d instanceof re?t="parameter":d instanceof ye?t="style":d instanceof Xt&&(t="documentProperties"),this.selections.push(r),d.select(),d.getPanelItem()!==null&&(d.getPanelItem().openParentItems(),d.getPanelItem().setActive()),t!==this.activeDetailPanel&&this.setDetailPanel(t),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(d,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(r){this.deselectObjectInternal(r,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(r,e){var t=this.getDataObject(r);if(t!==null&&(t.deselect(),t.getPanelItem()!==null&&t.getPanelItem().setInactive()),e){var d=this.selections.indexOf(r);d!==-1&&this.selections.splice(d,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}t!==null&&this.properties.selectCallback&&this.properties.selectCallback(t,!1)}},{key:"deselectAll",value:function(r){var e,t=qe(this.selections);try{for(t.s();!(e=t.n()).done;){var d=e.value;this.deselectObjectInternal(d,!1)}}catch(s){t.e(s)}finally{t.f()}this.selections=[],r&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(r,e,t,d){var s=null,m=-1;if(t===we.type.watermarkText)return this.watermarkTextContainer;if(t===we.type.watermarkImage)return this.watermarkImageContainer;for(var I=0;I<this.containers.length;I++){var v=this.containers[I];if(v.getLevel()>m&&v.isElementAllowed(t)&&v.isInside(r,e)){var D,R=!1,X=qe(d);try{for(X.s();!(D=X.n()).done;){var Y=D.value;if(v===Y||v.isChildOf(Y)){R=!0;break}}}catch(ae){X.e(ae)}finally{X.f()}R||(s=v,m=v.getLevel())}}return s}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(r){this.containers.push(r),this.addDataObject(r)}},{key:"deleteContainer",value:function(r){for(var e=0;e<this.containers.length;e++)if(this.containers[e].getId()===r.getId()){this.containers.splice(e,1);break}this.deleteDataObject(r)}},{key:"startBrowserDrag",value:function(r,e,t){this.browserDragType=r,this.browserDragId=t,this.getDocument().startBrowserDrag(e)}},{key:"isBrowserDragActive",value:function(r){return this.browserDragType===r}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(r,e,t,d,s){var m;s&&(m=new _e(t===we.dragType.element?"Update position":"Resize",this));var I,v=qe(this.selections);try{for(v.s();!(I=v.n()).done;){var D=I.value,R=this.getDataObject(D);R!==null&&(t!==we.dragType.element||R.isDraggingAllowed())&&R.updateDrag(r,e,t,d,s?m:null)}}catch(X){v.e(X)}finally{v.f()}s&&!m.isEmpty()&&this.executeCommand(m)}},{key:"alignSelections",value:function(r){var e,t,d,s,m,I=Number.MAX_VALUE,v=Number.MIN_VALUE,D=Number.MAX_VALUE,R=Number.MIN_VALUE,X=0,Y=qe(this.selections);try{for(Y.s();!(m=Y.n()).done;){var ae=m.value,Q=this.getDataObject(ae);Q instanceof we&&Q.hasProperty("x")&&(X++,e=Q.getValue("xVal"),t=Q.getValue("yVal"),d=Q.getValue("widthVal"),s=Q.getValue("heightVal"),e<I&&(I=e),e+d>v&&(v=e+d),t<D&&(D=t),t+s>R&&(R=t+s))}}catch(Ne){Y.e(Ne)}finally{Y.f()}var ie=I+(v-I)/2,me=D+(R-D)/2;if(X>1){var he,be=new _e("Align elements",this),Ce=qe(this.selections);try{for(Ce.s();!(he=Ce.n()).done;){var Oe=he.value,Ie=this.getDataObject(Oe);if(Ie instanceof we&&!(Ie instanceof an))switch(r){case ye.alignment.left:var Ee=new p(Ie.getId(),"x",""+I,p.type.text,this);be.addCommand(Ee);break;case ye.alignment.center:var je=new p(Ie.getId(),"x",""+(ie-Ie.getValue("widthVal")/2),p.type.text,this);be.addCommand(je);break;case ye.alignment.right:var Re=new p(Ie.getId(),"x",""+(v-Ie.getValue("widthVal")),p.type.text,this);be.addCommand(Re);break;case ye.alignment.top:var Ge=new p(Ie.getId(),"y",""+D,p.type.text,this);be.addCommand(Ge);break;case ye.alignment.middle:var ze=new p(Ie.getId(),"y",""+(me-Ie.getValue("heightVal")/2),p.type.text,this);be.addCommand(ze);break;case ye.alignment.bottom:var Ze=new p(Ie.getId(),"y",""+(R-Ie.getValue("heightVal")),p.type.text,this);be.addCommand(Ze)}}}catch(Ne){Ce.e(Ne)}finally{Ce.f()}this.executeCommand(be)}}},{key:"toPixel",value:function(r){return r===""||typeof r=="string"&&(r=parseFloat(r.replace(",",".")),isNaN(r))?"0px":r+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(i("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var r=document.getElementById("rbro_loading_div");r&&r.remove()}},{key:"getTestData",value:function(){var r,e={},t=qe(this.getParameters());try{for(t.s();!(r=t.n()).done;){var d=r.value;if(!d.getValue("showOnlyNameType")){var s=d.getValue("type");s===re.type.array||s===re.type.simpleArray||s===re.type.map?e[d.getName()]=d.getTestData(!1):s===re.type.string||s===re.type.number||s===re.type.date?e[d.getName()]=d.getValue("testData"):s===re.type.boolean?e[d.getName()]=d.getValue("testDataBoolean"):s===re.type.image?e[d.getName()]=d.getValue("testDataImage"):s===re.type.richText&&(e[d.getName()]=d.getValue("testDataRichText"))}}}catch(m){t.e(m)}finally{t.f()}return e}},{key:"previewInternal",value:function(r,e){var t=this,d=this.getRequestParameters();this.clearErrors();var s=d.reportServerHeaders;s["Content-Type"]="application/json",d.reportServerBasicAuth&&(s.Authorization="Basic "+btoa(d.reportServerBasicAuth.username+":"+d.reportServerBasicAuth.password)),this.showLoading();var m=new AbortController,I=setTimeout(function(){return m.abort()},d.reportServerTimeout);fetch(d.reportServerUrl,{signal:m.signal,method:"PUT",headers:s,body:JSON.stringify({report:this.getReport(),outputFormat:Xt.outputFormat.pdf,data:r,isTestData:e})}).then(function(v){if(!v.ok)throw Error(v.statusText);return t.properties.autoSaveOnPreview&&t.save(),v}).then(function(v){return v.text()}).then(function(v){if(clearTimeout(I),t.hideLoading(),v.substring(0,4)==="key:"){t.reportKey=v.substring(4);var D=new URL(d.reportServerUrl,document.location);D.searchParams.set("key",t.reportKey),D.searchParams.set("outputFormat","pdf"),t.getDocument().openPdfPreviewTab(D.toString(),s)}else{t.reportKey=null;try{var R=JSON.parse(v);R.errors.length>0&&t.processErrors(R.errors,!1)}catch(X){alert("preview failed")}}}).catch(function(v){clearTimeout(I),t.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var r={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(r),r}},{key:"setModified",value:function(r){this.modified=r,r||(this.savedCommandIndex=this.lastCommandIndex),this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var r={docElements:[],parameters:[],styles:[],watermarks:[],version:5};r.docElements=this.getDocElements(!1);var e,t=qe(this.getParameters());try{for(t.s();!(e=t.n()).done;){var d=e.value;r.parameters.push(d.toJS())}}catch(X){t.e(X)}finally{t.f()}var s,m=qe(this.getStyles());try{for(m.s();!(s=m.n()).done;){var I=s.value;r.styles.push(I.toJS())}}catch(X){m.e(X)}finally{m.f()}var v,D=qe(this.getWatermarks());try{for(D.s();!(v=D.n()).done;){var R=v.value;r.watermarks.push(R.toJS())}}catch(X){D.e(X)}finally{D.f()}return r.documentProperties=this.documentProperties.toJS(),r}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var r=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(r)),this.setModified(!1)}catch(s){}if(this.getProperty("highlightUnusedParameters")){var e,t=qe(this.getParameters());try{for(t.s();!(e=t.n()).done;){var d=e.value;d.editable&&d.setHighlightUnused(!1)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"load",value:function(r){var e,t=qe(this.getParameters());try{for(t.s();!(e=t.n()).done;){var d=e.value;this.deleteDataObject(d)}}catch(Qe){t.e(Qe)}finally{t.f()}var s,m=qe(this.getStyles());try{for(m.s();!(s=m.n()).done;){var I=s.value;this.deleteDataObject(I)}}catch(Qe){m.e(Qe)}finally{m.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),this.getMainPanel().getWatermarksItem().close(),r.version<2){var v,D=qe(r.docElements);try{for(D.s();!(v=D.n()).done;){var R=v.value;R.elementType===we.type.table&&(R.contentDataRows=[R.contentData],R.contentRows="1")}}catch(Qe){D.e(Qe)}finally{D.f()}}if(r.version<3){var X,Y=qe(r.docElements);try{for(Y.s();!(X=Y.n()).done;){var ae=X.value;if(ae.elementType===we.type.table){for(var Q=0,ie=0;ie<ae.headerData.columnData.length;ie++)Q+=ae.headerData.columnData[ie].width;ae.width=Q}}}catch(Qe){Y.e(Qe)}finally{Y.f()}}if(r.version<4){var me,he=qe(r.parameters);try{for(he.s();!(me=he.n()).done;){var be=me.value;if(be.type===re.type.map){var Ce,Oe={},Ie=qe(be.children);try{for(Ie.s();!(Ce=Ie.n()).done;){var Ee=Ce.value;Oe[Ee.name]=Ee.testData,Ee.testData=""}}catch(Qe){Ie.e(Qe)}finally{Ie.f()}be.testData=JSON.stringify(Oe)}else be.type===re.type.boolean&&(be.testDataBoolean=!!be.testData)}}catch(Qe){he.e(Qe)}finally{he.f()}}r.version<5&&(r.watermarks=[]),this.documentProperties.setInitialData(r.documentProperties),this.documentProperties.setup();var je,Re=qe(r.styles);try{for(Re.s();!(je=Re.n()).done;){var Ge=je.value;this.createStyle(Ge)}}catch(Qe){Re.e(Qe)}finally{Re.f()}var ze,Ze=qe(r.parameters);try{for(Ze.s();!(ze=Ze.n()).done;){var Ne=ze.value;this.createParameter(Ne,null)}}catch(Qe){Ze.e(Qe)}finally{Ze.f()}var ve,oe=qe(r.docElements);try{for(oe.s();!(ve=oe.n()).done;){var Le=ve.value;this.createDocElement(Le)}}catch(Qe){oe.e(Qe)}finally{oe.f()}var Xe,Pe=qe(r.watermarks);try{for(Pe.s();!(Xe=Pe.n()).done;){var ot=Xe.value;this.createDocElement(ot)}}catch(Qe){Pe.e(Qe)}finally{Pe.f()}if(this.getProperty("highlightUnusedParameters")){var rt,et=this.getDocElements(!0),ht=qe(this.getParameters());try{for(ht.s();!(rt=ht.n()).done;){var Je=rt.value;if(Je.editable){var vt,ut=new _e("Temp group"),lt=qe(et);try{for(lt.s();!(vt=lt.n()).done;)vt.value.addCommandsForChangedParameterName(Je,Je.getName(),ut)}catch(Qe){lt.e(Qe)}finally{lt.f()}var _t,xt=qe(this.getParameters());try{for(xt.s();!(_t=xt.n()).done;){var Bt=_t.value;Bt.getId()!==Je.getId()&&Bt.addCommandsForChangedParameterName(Je,Je.getName(),ut)}}catch(Qe){xt.e(Qe)}finally{xt.f()}ut.isEmpty()&&Je.setHighlightUnused(!0)}}}catch(Qe){ht.e(Qe)}finally{ht.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var r=null;try{r=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(e){}r!==null&&this.load(r)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(r){this.previewInternal(r,!1)}},{key:"downloadSpreadsheet",value:function(){var r=this.getRequestParameters(),e=new URL(r.reportServerUrl,document.location);e.searchParams.set("key",d.reportKey),e.searchParams.set("outputFormat","xlsx");var t=r.reportServerHeaders,d=this;if(this.reportKey!==null)if(t&&Object.keys(t).length>0){var s=new XMLHttpRequest;for(var m in s.responseType="blob",s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(s.status===200)if(s.response.type==="application/json"){var I=new FileReader;I.addEventListener("loadend",function(){var D=I.result;try{var R=JSON.parse(D);R.errors.length>0&&d.processErrors(R.errors,!1)}catch(X){alert("download failed")}}),I.readAsText(s.response)}else{var v=URL.createObjectURL(s.response);window.open(v,"_blank")}else alert("download failed")},s.open("GET",e.toString(),!0),t)t.hasOwnProperty(m)&&s.setRequestHeader(m,t[m]);s.send()}else window.open(e.toString(),"_blank")}},{key:"processErrors",value:function(r,e){(e===void 0||e)&&this.clearErrors();var t,d=qe(r);try{for(d.s();!(t=d.n()).done;){var s=t.value;if(s.object_id){document.getElementById("rbro_menu_item".concat(s.object_id)).classList.add("rbroError");var m=this.getDataObject(s.object_id);m!==null&&m.addError(s)}}}catch(I){d.e(I)}finally{d.f()}r.length>0&&(this.deselectAll(!1),this.selectObject(r[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var r,e=qe(document.querySelectorAll(".rbroMenuItem"));try{for(e.s();!(r=e.n()).done;)r.value.classList.remove("rbroError")}catch(v){e.e(v)}finally{e.f()}var t,d=qe(document.querySelectorAll(".rbroFormRow"));try{for(d.s();!(t=d.n()).done;)t.value.classList.remove("rbroError")}catch(v){d.e(v)}finally{d.f()}var s,m=qe(document.querySelectorAll(".rbroErrorMessage"));try{for(m.s();!(s=m.n()).done;)s.value.textContent=""}catch(v){m.e(v)}finally{m.f()}for(var I in this.objectMap)this.objectMap[I].clearErrors()}},{key:"destroy",value:function(){for(var r in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[r].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(r){var e=this.getDataObject(r);return e instanceof we?e:null}},{key:"getParameterById",value:function(r){var e=this.getDataObject(r);return e instanceof re?e:null}},{key:"getParameterByName",value:function(r){return this.getParameterByNameInternal(r,null)}},{key:"getParameterByNameInternal",value:function(r,e){var t=null,d=null,s=r.indexOf(".");s!==-1&&(t=r.substring(0,s),d=r.substring(s+1));var m,I=qe(e?e.getChildren():this.getParameters());try{for(I.s();!(m=I.n()).done;){var v=m.value;if(t!==null&&(v.getValue("type")===re.type.map||v.getValue("type")===re.type.array)&&v.getValue("name")===t)return this.getParameterByNameInternal(d,v);if(t===null&&v.getValue("name")===r)return v}}catch(D){I.e(D)}finally{I.f()}return null}},{key:"getStyleById",value:function(r){var e=this.getDataObject(r);return e instanceof ye?e:null}},{key:"createDocElement",value:function(r){var e=gt.createElement(r.id,r,r.elementType,-1,!1,this),t=e.getMaxId();return t>=this.nextId&&(this.nextId=t+1),e}},{key:"createParameter",value:function(r,e){var t=new re(r.id,r,this),d=null;d=!e||e.getValue("type")!==re.type.array&&e.getValue("type")!==re.type.map?this.mainPanel.getParametersItem():e.getPanelItem();var s=this.getProperty("adminMode"),m=new Ue("parameter",d,t,{hasChildren:!0,showAdd:s,showDelete:s,draggable:!0},this);t.setPanelItem(m),d.appendChild(m),t.setup(),t.getValue("type")!==re.type.array&&t.getValue("type")!==re.type.map&&(s&&(document.getElementById("rbro_menu_item_add".concat(t.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(t.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(t.getId())).style.display="none"),this.addParameter(t);var I=t.getMaxId();return I>=this.nextId&&(this.nextId=I+1),t}},{key:"createStyle",value:function(r){var e=new ye(r.id,r,this),t=this.mainPanel.getStylesItem(),d=new Ue("style",t,e,{draggable:!0},this);return e.setPanelItem(d),t.appendChild(d),this.addStyle(e),r.id>=this.nextId&&(this.nextId=r.id+1),e}},{key:"deleteDocElement",value:function(r){for(var e=0;e<this.docElements.length;e++)if(this.docElements[e].getId()===r.getId()){this.docElements.splice(e,1),this.deleteDataObject(r),this.notifyEvent(r,o.operation.remove);break}}},{key:"deleteParameter",value:function(r){this.deleteDataObject(r),r.getPanelItem().getParent().removeChild(r.getPanelItem()),this.notifyEvent(r,o.operation.remove)}},{key:"deleteStyle",value:function(r){this.deleteDataObject(r),r.getPanelItem().getParent().removeChild(r.getPanelItem()),this.notifyEvent(r,o.operation.remove)}}]),_}();dr.V=To})()})()},16496:function(cr){(function(){var dr=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],It=typeof window!="undefined",Dt=It&&window.mozInnerScreenX!=null;function Qt(mt,at,$){if(!It)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var T=$&&$.debug||!1;if(T){var k=document.querySelector("#input-textarea-caret-position-mirror-div");k&&k.parentNode.removeChild(k)}var y=document.createElement("div");y.id="input-textarea-caret-position-mirror-div",document.body.appendChild(y);var b=y.style,w=window.getComputedStyle?getComputedStyle(mt):mt.currentStyle;b.whiteSpace="pre-wrap",mt.nodeName!=="INPUT"&&(b.wordWrap="break-word"),b.position="absolute",T||(b.visibility="hidden"),dr.forEach(function(h){b[h]=w[h]}),Dt?mt.scrollHeight>parseInt(w.height)&&(b.overflowY="scroll"):b.overflow="hidden",y.textContent=mt.value.substring(0,at),mt.nodeName==="INPUT"&&(y.textContent=y.textContent.replace(/\s/g,"\xA0"));var E=document.createElement("span");E.textContent=mt.value.substring(at)||".",y.appendChild(E);var g={top:E.offsetTop+parseInt(w.borderTopWidth),left:E.offsetLeft+parseInt(w.borderLeftWidth)};return T?E.style.backgroundColor="#aaa":document.body.removeChild(y),g}typeof cr.exports!="undefined"?cr.exports=Qt:It&&(window.getCaretCoordinates=Qt)})()}}]);
