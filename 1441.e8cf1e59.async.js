"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1441],{7418:function(le,K,r){var Q=r(52677),n=r.n(Q),Y=r(5574),t=r.n(Y),H=r(74330),d=r(68962),m=r(67294),x=r(94116),T=r(85893),J=function G(l){return l.subcategories&&l.subcategories.length?{title:l.name,key:l.id,children:l.subcategories.map(function(L){return G(L)})}:{title:l.name,key:l.id}},A=function(l){var L=l.value,O=l.onChange,Z=l.multiple,D=Z===void 0?!0:Z,E=(0,m.useState)([]),a=t()(E,2),e=a[0],c=a[1];(0,m.useEffect)(function(){(0,x.CL)().then(function(_){_.success&&c(_.data)})},[]);var g=(0,m.useMemo)(function(){return e.map(function(_){return J(_)})},[e]);return e.length===0?(0,T.jsx)(H.Z,{}):(0,T.jsx)(d.Z,{multiple:D,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:L,onCheck:function(o){if(n()(o)==="object"&&!Array.isArray(o)&&o.checked){var y=o.checked;return O&&Array.isArray(y)&&O(y)}},treeData:g,disabled:e.length===0})};K.Z=A},61441:function(le,K,r){r.r(K),r.d(K,{DictionaryWordsTabNames:function(){return de},default:function(){return he}});var Q=r(15009),n=r.n(Q),Y=r(97857),t=r.n(Y),H=r(99289),d=r.n(H),m=r(5574),x=r.n(m),T=r(7418),J=r(19632),A=r.n(J),G=r(37476),l=r(5966),L=r(90672),O=r(75842),Z=r(71230),D=r(15746),E=r(67294),a=r(80854),e=r(85893),c=function(W){var k=(0,a.useIntl)(),N=W.isOpen,j=W.selectedField,b=W.onOpenChange,ae=W.onFinish,V=O.Z.useForm(),ue=x()(V,1),P=ue[0];return(0,E.useEffect)(function(){if(j){P.setFieldsValue(j);return}P.resetFields()},[j]),(0,e.jsx)(G.Y,{form:P,title:k.formatMessage({id:j!=null&&j.id?"editSetting":"newSetting",defaultMessage:j!=null&&j.id?"editSetting":"newSetting"}),width:"40vw",open:N,onOpenChange:function(w){b(w),P.resetFields()},onFinish:function(w){return P.resetFields(),ae(t()(t()({},w),{},{id:(j==null?void 0:j.id)||null}))},children:(0,e.jsxs)(Z.Z,{children:[(0,e.jsx)(D.Z,{span:24,children:(0,e.jsx)(l.Z,{label:(0,e.jsx)(a.FormattedMessage,{id:"title",defaultMessage:"title"}),rules:[{required:!0}],name:"title"})}),(0,e.jsx)(D.Z,{span:24,children:(0,e.jsx)(l.Z,{label:(0,e.jsx)(a.FormattedMessage,{id:"video_url",defaultMessage:"video_url"}),rules:[{required:!0}],name:"video_url"})}),(0,e.jsx)(D.Z,{span:24,children:(0,e.jsx)(L.Z,{label:(0,e.jsx)(a.FormattedMessage,{id:"description",defaultMessage:"description"}),rules:[{required:!0}],name:"description"})})]})})},g=c,_=r(47389),o=r(82061),y=r(51042),ce=r(7807),q=r(14726),s=r(86738),u=r(83062),f=function(W){var k=W.dataSource,N=W.updateData,j=W.onDelete,b=(0,E.useRef)(),ae=(0,E.useState)(!1),V=x()(ae,2),ue=V[0],P=V[1],C=(0,E.useState)(null),w=x()(C,2),ee=w[0],re=w[1],me=[{title:(0,e.jsx)(a.FormattedMessage,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:!1},{title:(0,e.jsx)(a.FormattedMessage,{id:"description",defaultMessage:"description"}),dataIndex:"description",sorter:!1},{title:(0,e.jsx)(a.FormattedMessage,{id:"video_url",defaultMessage:"Video URL"}),dataIndex:"video_url",sorter:!1},{width:100,hideInSearch:!0,title:(0,e.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function($,ie){return[(0,e.jsx)(q.ZP,{type:"primary",icon:(0,e.jsx)(_.Z,{}),onClick:function(){re(ie),P(!0)}},"edit"),(0,e.jsx)(s.Z,{title:(0,e.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:d()(n()().mark(function U(){return n()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:ee!=null&&ee.id&&j(ee.id);case 1:case"end":return te.stop()}},U)})),okText:(0,e.jsx)(a.FormattedMessage,{id:"yes"}),cancelText:(0,e.jsx)(a.FormattedMessage,{id:"no"}),children:(0,e.jsx)(u.Z,{title:(0,e.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,e.jsx)(q.ZP,{type:"primary",icon:(0,e.jsx)(o.Z,{}),danger:!0,onClick:function(){re(ie)}})})},"delete")]}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ce.Z,{actionRef:b,rowKey:"id",search:!1,toolBarRender:function(){return[(0,e.jsxs)(q.ZP,{type:"primary",onClick:function(){return P(!0)},children:[(0,e.jsx)(y.Z,{})," ",(0,e.jsx)(a.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")]},dataSource:A()(k),columns:me,pagination:!1,revalidateOnFocus:!0}),(0,e.jsx)(g,{isOpen:ue,onOpenChange:function($){$||re(null),P($)},onFinish:function(){var ne=d()(n()().mark(function $(ie){return n()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return N(ie),re(null),P(!1),X.abrupt("return");case 4:case"end":return X.stop()}},$)}));return function($){return ne.apply(this,arguments)}}(),selectedField:ee})]})},h=f,i=r(42782),F=r(66419),oe=r(78715),se=r(952),pe=r(74453),fe=r(2453),_e=r(74330),de=function(I){return I.FORM="form",I.CATEGORIES="categories",I.DESCRIPTIONS="descriptions",I}({}),he=function(){var I,W=(0,a.useIntl)(),k=(0,a.useParams)(),N=k.dictionaryId,j=k.tab,b=k.dictionaryWordId,ae=k.dictionaryWordTab,V=b==="new",ue=(0,E.useState)(),P=x()(ue,2),C=P[0],w=P[1],ee=(0,E.useState)(!1),re=x()(ee,2),me=re[0],ne=re[1],$=se.ZP.useForm(),ie=x()($,1),U=ie[0],X=(0,E.useCallback)(d()(n()().mark(function R(){var p,v;return n()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return ne(!0),M.next=3,(0,i.Wl)(Number(b));case 3:p=M.sent,p.success&&w(t()(t()({},p.data),{},{categories:p==null||(v=p.data)===null||v===void 0||(v=v.categories)===null||v===void 0?void 0:v.map(F.P1)})),ne(!1);case 6:case"end":return M.stop()}},R)})),[b,U]);(0,E.useEffect)(function(){if(b==="new"){w({});return}X()},[b,X]);var te=(0,E.useMemo)(function(){return{onFinish:function(){var R=d()(n()().mark(function v(z){var M,S;return n()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(S=t()(t()(t()({},C),z),{},{dictionary_id:Number(N)}),b!=="new"){B.next=8;break}return B.next=4,(0,i.Eq)(S);case 4:M=B.sent,M.success&&a.history.push("/other/dictionary/".concat(N,"/").concat(j,"/").concat(M.data.id,"/").concat(de.FORM)),B.next=11;break;case 8:return B.next=10,(0,i.yb)(Number(b),S);case 10:M=B.sent;case 11:fe.ZP.success(M.message);case 12:case"end":return B.stop()}},v)}));function p(v){return R.apply(this,arguments)}return p}(),initialValues:C}},[C,b,N,j,ae]),ve=(0,E.useCallback)(function(R){var p,v=(C==null||(p=C.data)===null||p===void 0?void 0:p.descriptions)||[];if(R.id){var z;v=(z=v)===null||z===void 0?void 0:z.map(function(S){return S.id===R.id?R:S})}else{var M;(M=v)===null||M===void 0||M.push(t()(t()({},R),{},{id:Date.now()}))}w(function(S){return t()(t()({},S),{},{data:t()(t()({},(S==null?void 0:S.data)||{}),{},{descriptions:v})})})},[C]),ge=(0,E.useCallback)(function(R){w(function(p){var v;return t()(t()({},p),{},{data:t()(t()({},(p==null?void 0:p.data)||{}),{},{descriptions:p==null||(v=p.data)===null||v===void 0||(v=v.descriptions)===null||v===void 0?void 0:v.filter(function(z){var M=z.id;return M!==R})})})})},[]);return C?(0,e.jsxs)(pe._z,{title:V?(0,e.jsx)(a.FormattedMessage,{id:"new_dictionary_word"}):(0,e.jsx)(a.FormattedMessage,{id:"edit_dictionary_word"}),children:[(0,e.jsxs)(oe.ZP,{tabs:{type:"card",activeKey:ae,onChange:function(p){a.history.push("/other/dictionary/".concat(N,"/").concat(j,"/").concat(b,"/").concat(p))}},children:[(0,e.jsx)(oe.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"attributes"}),children:(0,e.jsx)(se.ZP,t()(t()({form:U},te),{},{children:(0,e.jsxs)(Z.Z,{gutter:[16,16],children:[(0,e.jsx)(D.Z,{xs:{span:24},md:{span:12},children:(0,e.jsx)(l.Z,{name:"word",label:(0,e.jsx)(a.FormattedMessage,{id:"word"}),tooltip:(0,e.jsx)(a.FormattedMessage,{id:"word"}),placeholder:W.formatMessage({id:"Word"}),required:!0})}),(0,e.jsx)(D.Z,{xs:{span:24},md:{span:12},children:(0,e.jsx)(l.Z,{name:"description",label:(0,e.jsx)(a.FormattedMessage,{id:"description"}),tooltip:(0,e.jsx)(a.FormattedMessage,{id:"description"}),placeholder:W.formatMessage({id:"Description"}),required:!0})})]})}))},de.FORM),!V&&(0,e.jsx)(oe.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"categories"}),children:(0,e.jsx)(se.ZP,t()(t()({},te),{},{form:U,children:(0,e.jsx)(Z.Z,{children:(0,e.jsx)(D.Z,{span:12,children:(0,e.jsx)(se.ZP.Item,{label:(0,e.jsx)(a.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,e.jsx)(T.Z,{multiple:!1})})})})}))},"categories"),!V&&(0,e.jsx)(oe.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"descriptions"}),children:(0,e.jsx)(se.ZP,t()(t()({},te),{},{form:U,children:(0,e.jsx)(h,{updateData:ve,dataSource:((I=C.data)===null||I===void 0?void 0:I.descriptions)||[],onDelete:ge})}))},de.DESCRIPTIONS)]}),me&&(0,e.jsx)(_e.Z,{})]}):(0,e.jsx)(_e.Z,{})}},94116:function(le,K,r){r.d(K,{CL:function(){return x},W3:function(){return G},bd:function(){return J},k4:function(){return L},uu:function(){return E},yr:function(){return Z}});var Q=r(15009),n=r.n(Q),Y=r(97857),t=r.n(Y),H=r(99289),d=r.n(H),m=r(80854);function x(e){return T.apply(this,arguments)}function T(){return T=d()(n()().mark(function e(c){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,m.request)("/api/admin/categories/tree",t()({method:"GET",useCache:!1},c||{})));case 1:case"end":return _.stop()}},e)})),T.apply(this,arguments)}function J(e,c){return A.apply(this,arguments)}function A(){return A=d()(n()().mark(function e(c,g){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.request)("/api/admin/categories",t()({method:"GET",useCache:!1,params:c},g||{})));case 1:case"end":return o.stop()}},e)})),A.apply(this,arguments)}function G(e,c){return l.apply(this,arguments)}function l(){return l=d()(n()().mark(function e(c,g){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.request)("/api/admin/categories/".concat(c),t()({method:"GET",useCache:!1},g||{})));case 1:case"end":return o.stop()}},e)})),l.apply(this,arguments)}function L(e,c){return O.apply(this,arguments)}function O(){return O=d()(n()().mark(function e(c,g){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.request)("/api/admin/categories",t()({method:"POST",headers:{"Content-Type":"application/json"},data:c},g||{})));case 1:case"end":return o.stop()}},e)})),O.apply(this,arguments)}function Z(e,c,g){return D.apply(this,arguments)}function D(){return D=d()(n()().mark(function e(c,g,_){return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,m.request)("/api/admin/categories/".concat(c),t()({method:"POST",headers:{"Content-Type":"application/json"},data:g},_||{})));case 1:case"end":return y.stop()}},e)})),D.apply(this,arguments)}function E(e,c,g){return a.apply(this,arguments)}function a(){return a=d()(n()().mark(function e(c,g,_){return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,m.request)("/api/admin/categories/".concat(c),t()({method:"DELETE",headers:{"Content-Type":"application/json"},data:g},_||{})));case 1:case"end":return y.stop()}},e)})),a.apply(this,arguments)}},42782:function(le,K,r){r.d(K,{Eq:function(){return g},FX:function(){return ce},RC:function(){return J},Wl:function(){return e},Xk:function(){return G},ax:function(){return L},c:function(){return Z},uz:function(){return E},yX:function(){return x},yb:function(){return o}});var Q=r(15009),n=r.n(Q),Y=r(97857),t=r.n(Y),H=r(99289),d=r.n(H),m=r(80854);function x(s,u){return T.apply(this,arguments)}function T(){return T=d()(n()().mark(function s(u,f){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/admin/dictionaries",t()({method:"GET",params:u},f||{})));case 1:case"end":return i.stop()}},s)})),T.apply(this,arguments)}function J(s,u){return A.apply(this,arguments)}function A(){return A=d()(n()().mark(function s(u,f){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/admin/dictionaries/".concat(u),t()({method:"GET"},f||{})));case 1:case"end":return i.stop()}},s)})),A.apply(this,arguments)}function G(s){return l.apply(this,arguments)}function l(){return l=d()(n()().mark(function s(u){return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("/api/admin/dictionaries",{method:"POST",data:u}));case 1:case"end":return h.stop()}},s)})),l.apply(this,arguments)}function L(s,u,f){return O.apply(this,arguments)}function O(){return O=d()(n()().mark(function s(u,f,h){return n()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,m.request)("/api/admin/dictionaries/".concat(u),t()({method:"PUT",data:f},h||{})));case 1:case"end":return F.stop()}},s)})),O.apply(this,arguments)}function Z(s,u){return D.apply(this,arguments)}function D(){return D=d()(n()().mark(function s(u,f){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/admin/dictionaries/".concat(u),t()({method:"DELETE"},f||{})));case 1:case"end":return i.stop()}},s)})),D.apply(this,arguments)}function E(s,u){return a.apply(this,arguments)}function a(){return a=d()(n()().mark(function s(u,f){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/admin/dictionary-words",t()({method:"GET",params:u},f||{})));case 1:case"end":return i.stop()}},s)})),a.apply(this,arguments)}function e(s,u){return c.apply(this,arguments)}function c(){return c=d()(n()().mark(function s(u,f){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/admin/dictionary-words/".concat(u),t()({method:"GET"},f||{})));case 1:case"end":return i.stop()}},s)})),c.apply(this,arguments)}function g(s){return _.apply(this,arguments)}function _(){return _=d()(n()().mark(function s(u){return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("/api/admin/dictionary-words",{method:"POST",data:u}));case 1:case"end":return h.stop()}},s)})),_.apply(this,arguments)}function o(s,u,f){return y.apply(this,arguments)}function y(){return y=d()(n()().mark(function s(u,f,h){return n()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,m.request)("/api/admin/dictionary-words/".concat(u),t()({method:"PUT",data:f},h||{})));case 1:case"end":return F.stop()}},s)})),y.apply(this,arguments)}function ce(s,u){return q.apply(this,arguments)}function q(){return q=d()(n()().mark(function s(u,f){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/api/admin/dictionary-words/".concat(u),t()({method:"DELETE"},f||{})));case 1:case"end":return i.stop()}},s)})),q.apply(this,arguments)}}}]);
