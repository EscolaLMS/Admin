(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{MZhU:function(v,g,s){v.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Z1IU:function(v,g,s){"use strict";s.r(g);var Q=s("/zsF"),L=s("PArb"),Y=s("miYZ"),U=s("tsqr"),E=s("k1fw"),j=s("9og8"),P=s("tJVT"),H=s("fOrg"),T=s("+KLJ"),x=s("WmNS"),o=s.n(x),B=s("cJ7L"),K=s("FY4R"),M=s("q1tI"),X=s.n(M),C=s("VMEa"),b=s("Qurx"),R=s("tneF"),t=s("9kvl"),W=s("55Ip"),S=s("CwrG"),y=s("Wznp"),N=s("MZhU"),n=s.n(N),e=s("nKUr"),k=s.n(e),F=function(c){var l=c.content;return Object(e.jsx)(T.a,{style:{marginBottom:24},message:l,type:"error",showIcon:!0})},w=function(){!t.d||setTimeout(function(){var c=t.d.location.query,l=c,f=l.redirect;t.d.push(f||"/")},10)},z=function(){var c=Object(M.useState)(!1),l=Object(P.a)(c,2),f=l[0],D=l[1],J=Object(M.useState)(),p=Object(P.a)(J,2),I=p[0],Z=p[1],A=Object(t.j)("@@initialState"),u=A.initialState,$=A.setInitialState,O=Object(t.i)(),G=function(){var d=Object(j.a)(o.a.mark(function _(){var r,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u==null||(r=u.fetchUserInfo)===null||r===void 0?void 0:r.call(u);case 2:i=a.sent,i&&$(Object(E.a)(Object(E.a)({},u),{},{currentUser:i}));case 4:case"end":return a.stop()}},_)}));return function(){return d.apply(this,arguments)}}(),V=function(){var d=Object(j.a)(o.a.mark(function _(r){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return D(!0),a.prev=1,a.next=4,Object(y.a)(Object(E.a)({},r));case 4:if(i=a.sent,!i.success){a.next=12;break}return localStorage.setItem("TOKEN",i.data.token),U.default.success("success"),a.next=10,G();case 10:return w(),a.abrupt("return");case 12:Z(i),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),console.log(a.t0);case 18:D(!1);case 19:case"end":return a.stop()}},_,null,[[1,15]])}));return function(r){return d.apply(this,arguments)}}();return Object(e.jsxs)("div",{className:n.a.container,children:[Object(e.jsx)("div",{className:n.a.lang,children:t.b&&Object(e.jsx)(t.b,{})}),Object(e.jsxs)("div",{className:n.a.content,children:[Object(e.jsx)("div",{className:n.a.top,children:Object(e.jsx)("div",{className:n.a.header,children:Object(e.jsx)(W.a,{to:"/",children:Object(e.jsx)("img",{alt:"logo",className:n.a.logo,src:"/logo.svg"})})})}),Object(e.jsx)(L.a,{}),Object(e.jsx)("div",{className:n.a.main,children:Object(e.jsxs)(C.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:O.formatMessage({id:"pages.login.submit",defaultMessage:"submit"})},render:function(_,r){return r.pop()},submitButtonProps:{loading:f,size:"large",style:{width:"100%"}}},onFinish:function(){var d=Object(j.a)(o.a.mark(function _(r){return o.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:V(r);case 1:case"end":return m.stop()}},_)}));return function(_){return d.apply(this,arguments)}}(),children:[I&&!I.success&&Object(e.jsx)(F,{content:O.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\uFF08admin/ant.design)"})}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("pre",{children:"email/password: admin@escola-lms.com/secret"}),Object(e.jsx)(b.a,{name:"email",fieldProps:{size:"large",prefix:Object(e.jsx)(B.a,{className:n.a.prefixIcon})},placeholder:O.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"admin or user"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.username.required",defaultMessage:"required!"})}]}),Object(e.jsx)(b.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(K.a,{className:n.a.prefixIcon})},placeholder:O.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.password.required",defaultMessage:"required"})}]})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(R.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(t.a,{id:"pages.login.rememberMe",defaultMessage:"rememberMe"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(t.a,{id:"pages.login.forgotPassword",defaultMessage:"forgotPassword"})})]})]})})]}),Object(e.jsx)(S.a,{})]})};g.default=z}}]);
