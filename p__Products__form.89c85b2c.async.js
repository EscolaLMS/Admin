(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"/y+f":function(w,j,e){"use strict";e.d(j,"c",function(){return u}),e.d(j,"a",function(){return f}),e.d(j,"b",function(){return A});var u;(function(i){i.Unselected="",i.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",i.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",i.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",i.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",i.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",i.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",i.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",i.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco"})(u||(u={}));var d;(function(i){i.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",i.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(d||(d={}));var o;(function(i){i.draft="draft",i.published="published",i.archived="archived"})(o||(o={}));var f;(function(i){i.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",i.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",i.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(f||(f={}));var A;(function(i){i.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(A||(A={}));var _;(function(i){i.cart_fixed="cart_fixed",i.cart_percent="cart_percent",i.product_fixed="product_fixed",i.product_percent="product_percent"})(_||(_={}))},"0eZe":function(w,j,e){"use strict";var u=e("14J3"),d=e("BMrR"),o=e("jCWc"),f=e("kPKH"),A=e("+BJd"),_=e("mr32"),i=e("oBTY"),y=e("5NDa"),S=e("5rEg"),p=e("T2oS"),x=e("W9HT"),g=e("miYZ"),D=e("tsqr"),m=e("qLMh"),c=e("k1fw"),E=e("9og8"),O=e("tJVT"),l=e("q1tI"),b=e("VMEa"),I=e("Qurx"),$=e("5qq5"),R=e("F/zT"),s=e("FJDo"),r=e("nhC9"),a=e("9kvl"),v=e("vzes"),n=e("DVQu"),P=e("Gn8c"),C=e("TWax"),Me=e("90Xc"),ye=e("5Dmo"),le=e("3S7+"),Ce=e("+L6B"),G=e("2/Rp"),ne=e("0WSk"),V=e("Qiat"),M=e("/MfK"),t=e("nKUr"),N=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],U=function(K){var W=K.id,pe=Object(a.j)(),J=Object(l.useRef)(),xe=Object(l.useState)(!1),B=Object(O.a)(xe,2),de=B[0],q=B[1],ae=b.a.useForm(),z=Object(O.a)(ae,1),Ee=z[0],ve=Object(l.useCallback)(function(){var H=Object(E.a)(Object(m.a)().mark(function me(X){var F;return Object(m.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return q(!0),L.next=3,Object(n.d)(Number(W),{user_id:X.user_id});case 3:Ee.resetFields(),(F=J.current)===null||F===void 0||F.reload(),q(!1);case 6:case"end":return L.stop()}},me)}));return function(me){return H.apply(this,arguments)}}(),[W]),T=Object(l.useCallback)(function(){var H=Object(E.a)(Object(m.a)().mark(function me(X){var F;return Object(m.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return q(!0),L.next=3,Object(n.e)(Number(W),{user_id:X});case 3:(F=J.current)===null||F===void 0||F.reload(),q(!1);case 5:case"end":return L.stop()}},me)}));return function(me){return H.apply(this,arguments)}}(),[W]);return Object(t.jsxs)(l.Fragment,{children:[Object(t.jsx)(b.a,{layout:"inline",onFinish:ve,form:Ee,labelWrap:!0,children:Object(t.jsx)(b.a.Group,{children:Object(t.jsx)(b.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(ne.a,{})})})}),Object(t.jsx)(V.a,{defaultSize:"small",loading:de,search:!1,headerTitle:pe.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:J,rowKey:"id",request:Object(E.a)(Object(m.a)().mark(function H(){return Object(m.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return q(!0),X.abrupt("return",Object(n.c)(Number(W)).then(function(F){return q(!1),F.success&&F.data.users?{data:F.data.users,total:F.data.users.length,success:!0}:F.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return X.stop()}},H)})),columns:[].concat(N,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(me,X){return[Object(t.jsx)(le.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(G.a,{type:"primary",icon:Object(t.jsx)(M.a,{}),danger:!0,onClick:function(){return T(X.id)}})},"delete")]}}])})]})},k=U,ee=e("5RzD"),De=e("rnuo"),Ae=e("c+yx"),ce=e("hd5d"),Ge=e("DYRE"),Fe=e("zeV3"),We=e("rWUb"),ze=e("OaEy"),Re=e("2fM7"),Be=function(K){var W=K.value,pe=K.onChange,J=K.multiple,xe=J===void 0?!1:J,B=K.params,de=Object(l.useState)([]),q=Object(O.a)(de,2),ae=q[0],z=q[1],Ee=Object(l.useState)(!1),ve=Object(O.a)(Ee,2),T=ve[0],H=ve[1],me=Object(l.useState)([]),X=Object(O.a)(me,2),F=X[0],Pe=X[1],L=Object(l.useRef)(),Ve=Object(l.useCallback)(function(){H(!0),L.current&&L.current.abort(),L.current=new AbortController,Object(We.e)(B,{signal:L.current.signal}).then(function(Y){Y.success&&z(Y.data),H(!1)}).catch(function(){return H(!1)})},[]);return Object(l.useEffect)(function(){var Y=new AbortController;if(W){var Se=Array.isArray(W)?W:[W],he=Se.map(function(_e){return typeof _e=="object"?Number(_e.id):Number(_e)});Pe(he)}return function(){Y.abort()}},[W]),Object(t.jsx)(Re.a,{onFocus:function(){return Ve()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:F,onChange:pe,mode:xe?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Se,he){if(he&&he.children){var _e;return(he==null||(_e=he.children)===null||_e===void 0?void 0:_e.toString().toLowerCase().indexOf(Se&&Se.toLowerCase()||""))>=0}return!1},notFoundContent:T?Object(t.jsx)(x.a,{size:"small"}):null,children:ae.map(function(Y){return Object(t.jsxs)(Re.a.Option,{value:Y.id,children:[Y.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:Y.channel.split("\\").pop()}),":",Y.event&&Object(t.jsx)(a.a,{id:Y.event.split("\\").pop()})]})]},Y.id)})})},Ke=Be,$e=e("/y+f"),je=function(K){var W=K.productId,pe=Object(l.useState)(!1),J=Object(O.a)(pe,2),xe=J[0],B=J[1],de=Object(l.useState)(),q=Object(O.a)(de,2),ae=q[0],z=q[1],Ee=Object(a.j)(),ve=Object(l.useCallback)(function(){B(!0),typeof ae=="number"&&Object(We.g)(Number(ae),W).then(function(T){T.success?D.b.success(T.message):D.b.error(T.message)}).catch(function(T){return D.b.error(T.toString())}).finally(function(){return B(!1)})},[ae,W]);return Object(t.jsxs)(Fe.b,{children:[Object(t.jsx)(Be,{params:{event:$e.b.ManuallyTriggeredEvent},multiple:!1,value:ae,onChange:function(H){return z(H)}}),Object(t.jsx)(le.a,{title:Ee.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(G.a,{loading:xe,onClick:function(){return ve()},disabled:!ae,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},te=je,oe=e("qSko"),se=function(K){return K.map(function(W){return{class:W.productable_type,id:Number(W.productable_id),name:W.name,quantity:W.quantity}})},Oe=function(K){var W=Array.isArray(K)?K:[K],pe=W.map(function(J){return typeof J=="object"?J:{id:parseInt(J.split(":")[1]),class:J.split(":")[0],name:J.split(":")[2]}});return pe},be=function(K){var W=K.tab,pe=W===void 0?"attributes":W,J=K.onTabChange,xe=K.id,B=K.productable,de=K.onProductSaved,q=K.type,ae=q===void 0?"card":q,z=Object(a.j)(),Ee=Object(l.useState)(xe),ve=Object(O.a)(Ee,2),T=ve[0],H=ve[1],me=Object(l.useState)([]),X=Object(O.a)(me,2),F=X[0],Pe=X[1],L=Object(l.useMemo)(function(){return T==="new"},[T]),Ve=Object(l.useState)(!0),Y=Object(O.a)(Ve,2),Se=Y[0],he=Y[1],_e=Object(l.useState)(null),we=Object(O.a)(_e,2),Je=we[0],Ze=we[1],ke=Object(l.useState)({}),qe=Object(O.a)(ke,2),et=qe[1],tt=Object(l.useCallback)(function(){return et({})},[]),at=b.a.useForm(),rt=Object(O.a)(at,1),Te=rt[0],nt=Object(l.useState)(!1),Qe=Object(O.a)(nt,2),He=Qe[0],Xe=Qe[1];Object(l.useEffect)(function(){B&&B.class_id&&B.class_type&&(Object(n.f)({productable_id:Number(B.class_id),productable_type:B.class_type}).then(function(Q){Q.success&&H(Q.data.id)}).catch(function(){console.log("err"),H("new")}),Pe([{class:B.class_type,id:Number(B.class_id),name:B.name}]),Te.setFieldsValue({productables:[{class:B.class_type,id:B.class_id,name:B.name}]}))},[B]);var st=Object(l.useCallback)(Object(E.a)(Object(m.a)().mark(function Q(){var h,ue,Ie,ge,re,Ue,Z;return Object(m.a)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(!(T&&T!=="new")){Le.next=5;break}return Le.next=3,Object(n.c)(Number(T));case 3:h=Le.sent,h.success&&(re=Object(c.a)(Object(c.a)({},h.data),{},{categories:(ue=h.data.categories)===null||ue===void 0?void 0:ue.map(Ae.a),tags:(Ie=h.data.tags)===null||Ie===void 0?void 0:Ie.map(function(lt){return Object(Ae.f)(lt)}),productables:h.data.productables?se(h.data.productables):[]}),h.data&&h!==null&&h!==void 0&&(ge=h.data)!==null&&ge!==void 0&&ge.productables&&Ze(h==null||(Ue=h.data)===null||Ue===void 0||(Z=Ue.productables[0])===null||Z===void 0?void 0:Z.productable_type),Pe(se(h.data.productables)),Te.setFieldsValue(re),Xe(h.data.type==="bundle"));case 5:he(!1);case 6:case"end":return Le.stop()}},Q)})),[T]);Object(l.useEffect)(function(){T&&st()},[T]);var Ne=Object(l.useMemo)(function(){return{onValuesChange:function(h){h.type&&Xe(h.type==="bundle")},onFinish:function(){var Q=Object(E.a)(Object(m.a)().mark(function ue(Ie){var ge,re;return Object(m.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(ge=Object(c.a)(Object(c.a)({},Ie),{},{productables:F?Oe(F):void 0}),!L){Z.next=8;break}return Z.next=4,Object(n.a)(ge);case 4:re=Z.sent,re.success&&(de&&de(re.data),H(re.data.id),Te.setFieldsValue(re.data)),Z.next=12;break;case 8:return Z.next=10,Object(n.i)(Number(T),ge);case 10:re=Z.sent,re.success&&de&&de(re.data);case 12:D.b.success(re.message);case 13:case"end":return Z.stop()}},ue)}));function h(ue){return Q.apply(this,arguments)}return h}()}},[T,de,F]);return Se?Object(t.jsx)(x.a,{}):Object(t.jsxs)(r.a,{title:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:ae,activeKey:pe,onChange:function(h){return J(h)}},children:[Object(t.jsxs)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:[Object(t.jsxs)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:Te,children:[Object(t.jsxs)(b.a.Group,{children:[Object(t.jsx)(I.a,{width:"md",name:"name",initialValue:L&&B?B.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:z.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(b.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(a.a,{id:"productables_tooltip"}),label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(v.a,{multiple:He,disabled:B!==void 0,onChange:function(h){return Pe(Oe(h))}})})]}),Object(t.jsxs)(b.a.Group,{children:[Object(t.jsx)($.a.Group,{disabled:B!==void 0,initialValue:T&&T!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:z.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:z.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(R.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(b.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:z.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:z.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:L?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(h){return"".concat(h,"%")},parser:function(h){return h?h.replace("%",""):""}}}),Object(t.jsx)(b.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(h){return Object(t.jsx)(S.a,{disabled:!0,readOnly:!0,value:h.getFieldValue("price")?Math.round(parseInt(h.getFieldValue("price"))*(1+parseInt(h.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(b.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(h){return Object(t.jsx)(S.a,{disabled:!0,readOnly:!0,value:h.getFieldValue("price")?Math.round(parseInt(h.getFieldValue("price"))*(parseInt(h.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(s.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:z.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:L?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:z.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(b.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(I.a,{width:"md",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:z.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(s.a,{initialValue:L?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:z.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:L?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:z.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(I.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:z.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(b.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(a.a,{id:"related_products"}),valuePropName:"value",children:Je&&Object(t.jsx)(oe.a,{type:Je,multiple:!0})}),!L&&Object(t.jsx)(b.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(ce.a,{directory:"products/".concat(T,"/wysiwyg")})}),F.length>0&&He&&Object(t.jsx)(V.a,{headerTitle:z.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(i.a)(F),rowKey:"id",columns:[{title:Object(t.jsx)(a.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(h,ue){return Object(t.jsx)(_.a,{children:Object(t.jsx)(a.a,{id:ue.class.split("\\").pop(),defaultMessage:ue.class.split("\\").pop()})})}},{title:Object(t.jsx)(a.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(h,ue){return Object(t.jsx)(S.a,{min:1,type:"number",value:ue.quantity||1,onChange:function(ge){var re=ge.target.value,Ue=F.findIndex(function(Ye){return Ye.id===ue.id}),Z=F;Z[Ue].quantity=Number(re),Pe(Z),tt()}})}}]})]}))," "]},"attributes"),!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:Te,children:Object(t.jsx)(P.a,{folder:"products/".concat(T),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(T,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(h){return h.file.response.data.poster_url},setPath:function(h){return Te.setFieldsValue(h)}})}))},"media"),!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:Te,children:Object(t.jsxs)(d.a,{children:[Object(t.jsx)(f.a,{span:12,children:Object(t.jsx)(b.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(C.a,{})})}),Object(t.jsx)(f.a,{span:12,children:Object(t.jsx)(b.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(De.a,{})})})]})}))},"categories"),!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(d.a,{children:Object(t.jsx)(f.a,{span:24,children:T&&Object(t.jsx)(k,{id:T})})})},"users")," ",!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(d.a,{children:Object(t.jsx)(f.a,{span:12,children:T&&Object(t.jsx)(ee.a,{id:Number(T),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!L&&T&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(d.a,{children:Object(t.jsx)(f.a,{span:12,children:Object(t.jsx)(te,{productId:Number(T)})})})},"template")]})},ie=j.a=be},"25Dr":function(w,j,e){"use strict";e.r(j);var u=e("tMyG"),d=e("Ty5D"),o=e("9kvl"),f=e("Ug4X"),A=e.n(f),_=e("0eZe"),i=e("nKUr"),y=e.n(i),S=function(){var x=Object(d.l)(),g=x.id,D=x.tab,m=D===void 0?"attributes":D,c=Object(o.j)(),E=g==="new";return Object(i.jsx)(u.a,{title:E?Object(i.jsx)(o.a,{id:"product"}):Object(i.jsx)(o.a,{id:"product.edit"}),header:{breadcrumb:{routes:[{path:"other/products",breadcrumbName:c.formatMessage({id:"menu.Other activities.Products"})},{path:String(g),breadcrumbName:c.formatMessage({id:"form"})},{path:"/",breadcrumbName:c.formatMessage({id:g==="new"?"new":"edit"})},{path:String(m),breadcrumbName:c.formatMessage({id:String(m)})}]}},children:g&&Object(i.jsx)(_.a,{id:g,tab:m,onTabChange:function(l){return o.e.push("/other/products/".concat(g,"/").concat(l))},onProductSaved:function(l){return E?o.e.push("/other/products/".concat(l.id)):o.e.push("/other/products/".concat(l.id,"/").concat(m))}})})};j.default=S},"5RzD":function(w,j,e){"use strict";var u=e("miYZ"),d=e("tsqr"),o=e("k1fw"),f=e("P2fV"),A=e("NJEC"),_=e("5Dmo"),i=e("3S7+"),y=e("+L6B"),S=e("2/Rp"),p=e("qLMh"),x=e("9og8"),g=e("tJVT"),D=e("q1tI"),m=e("VMEa"),c=e("9kvl"),E=e("Qiat"),O=e("xvlK"),l=e("/MfK");function b(V,M){return I.apply(this,arguments)}function I(){return I=Object(x.a)(Object(p.a)().mark(function V(M,t){return Object(p.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(c.g)("/api/admin/user-submissions",Object(o.a)({method:"GET",params:Object(o.a)(Object(o.a)({},M),{},{per_page:M&&M.pageSize,page:M&&M.current})},t||{})));case 1:case"end":return U.stop()}},V)})),I.apply(this,arguments)}function $(V,M){return R.apply(this,arguments)}function R(){return R=Object(x.a)(Object(p.a)().mark(function V(M,t){return Object(p.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(c.g)("/api/admin/user-submissions",Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"},data:M},t||{})));case 1:case"end":return U.stop()}},V)})),R.apply(this,arguments)}function s(V,M){return r.apply(this,arguments)}function r(){return r=Object(x.a)(Object(p.a)().mark(function V(M,t){return Object(p.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(c.g)("/api/admin/user-submissions/".concat(M),Object(o.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return U.stop()}},V)})),r.apply(this,arguments)}var a=e("y8nQ"),v=e("Vl3Y"),n=e("rmhi"),P=e("Qurx"),C=e("nKUr"),Me=function(M){var t=Object(c.j)(),N=M.visible,U=M.onVisibleChange,k=M.onFinish,ee=M.id,De=v.a.useForm(),Ae=Object(g.a)(De,1),ce=Ae[0];return Object(C.jsx)(n.a,{form:ce,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:N,onVisibleChange:U,onFinish:k,children:Object(C.jsx)(m.a.Group,{children:Object(C.jsx)(P.a,{width:"md",name:"email",label:Object(C.jsx)(c.a,{id:"email"}),tooltip:Object(C.jsx)(c.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},ye=Me,le=e("MvUh"),Ce=[{title:Object(C.jsx)(c.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(C.jsx)(c.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(C.jsx)(c.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],G=function(M){var t=M.id,N=M.type,U=Object(c.j)(),k=Object(D.useRef)(),ee=Object(D.useState)(!1),De=Object(g.a)(ee,2),Ae=De[0],ce=De[1],Ge=m.a.useForm(),Fe=Object(g.a)(Ge,1),We=Fe[0],ze=Object(D.useState)(!1),Re=Object(g.a)(ze,2),Be=Re[0],Ke=Re[1],$e=Object(D.useCallback)(function(){var je=Object(x.a)(Object(p.a)().mark(function te(oe){var se;return Object(p.a)().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ce(!0),be.next=3,s(Number(oe));case 3:(se=k.current)===null||se===void 0||se.reload(),ce(!1);case 5:case"end":return be.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),[t,N]);return Object(C.jsxs)(D.Fragment,{children:[Object(C.jsx)(E.a,{defaultSize:"small",loading:Ae,search:{},headerTitle:U.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:k,toolBarRender:function(){return[Object(C.jsxs)(S.a,{type:"primary",onClick:function(){return Ke(!0)},children:[Object(C.jsx)(O.a,{})," ",Object(C.jsx)(c.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var je=Object(x.a)(Object(p.a)().mark(function te(oe){var se,Oe,be;return Object(p.a)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return se=oe.email,Oe=oe.pageSize,be=oe.current,ce(!0),fe.abrupt("return",b({email:se,pageSize:Oe,current:be,morphable_type:N,morphable_id:t}).then(function(K){return ce(!1),K.success?{data:K.data,total:K.data.length,success:!0}:K.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return fe.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),columns:[].concat(Ce,[{title:Object(C.jsx)(c.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(te,oe){return[Object(C.jsx)(A.a,{title:Object(C.jsx)(c.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return $e(oe.id)},okText:Object(C.jsx)(c.a,{id:"yes"}),cancelText:Object(C.jsx)(c.a,{id:"no"}),children:Object(C.jsx)(i.a,{title:Object(C.jsx)(c.a,{id:"delete",defaultMessage:"delete"}),children:Object(C.jsx)(S.a,{type:"primary",icon:Object(C.jsx)(l.a,{}),danger:!0})})},"delete")]}}])})," ",Object(C.jsx)(ye,{visible:Be,onVisibleChange:function(te){return te===!1&&Ke(!1)},onFinish:function(){var je=Object(x.a)(Object(p.a)().mark(function te(oe){var se,Oe;return Object(p.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ce(!0),ie.prev=1,ie.next=4,$(Object(o.a)(Object(o.a)({},oe),{},{morphable_id:t,morphable_type:N}));case 4:se=ie.sent,se.success&&(We.resetFields(),(Oe=k.current)===null||Oe===void 0||Oe.reload(),ce(!1),Ke(!1)),ie.next=13;break;case 8:ie.prev=8,ie.t0=ie.catch(1),Ke(!1),d.b.error(Object(C.jsx)(c.a,{id:"error",defaultMessage:"error"})),ce(!1);case 13:case"end":return ie.stop()}},te,null,[[1,8]])}));return function(te){return je.apply(this,arguments)}}()})]})},ne=j.a=G},"5qq5":function(w,j,e){"use strict";var u=e("7Kak"),d=e("9yH6"),o=e("VTBJ"),f=e("Ff2n"),A=e("nKUr"),_=e.n(A),i=e("uX+g"),y=e("q1tI"),S=e.n(y),p=e("WFLz"),x=e("adzw"),g=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],D=S.a.forwardRef(function(O,l){var b=O.fieldProps,I=O.options,$=O.radioType,R=O.layout,s=O.proFieldProps,r=O.valueEnum,a=Object(f.a)(O,g);return Object(A.jsx)(x.a,Object(o.a)(Object(o.a)({mode:"edit",valueType:$==="button"?"radioButton":"radio",ref:l,valueEnum:Object(i.a)(r,void 0)},a),{},{fieldProps:Object(o.a)({options:I,layout:R},b),proFieldProps:s,filedConfig:{customLightMode:!0}}))}),m=S.a.forwardRef(function(O,l){var b=O.fieldProps,I=O.children;return Object(A.jsx)(d.a,Object(o.a)(Object(o.a)({},b),{},{ref:l,children:I}))}),c=Object(p.a)(m,{valuePropName:"checked",ignoreWidth:!0}),E=c;E.Group=D,E.Button=d.a.Button,E.displayName="ProFormComponent",j.a=E},"90Xc":function(w,j,e){},DVQu:function(w,j,e){"use strict";e.d(j,"h",function(){return A}),e.d(j,"a",function(){return i}),e.d(j,"c",function(){return S}),e.d(j,"i",function(){return x}),e.d(j,"b",function(){return D}),e.d(j,"g",function(){return c}),e.d(j,"f",function(){return O}),e.d(j,"d",function(){return b}),e.d(j,"e",function(){return $});var u=e("qLMh"),d=e("k1fw"),o=e("9og8"),f=e("9kvl");function A(s,r){return _.apply(this,arguments)}function _(){return _=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/products",Object(d.a)({method:"GET",params:Object(d.a)(Object(d.a)({},r),{},{free:typeof r.free!="undefined"?r.free==="true"?1:0:void 0,per_page:r.pageSize,page:r.current})},a||{})));case 1:case"end":return n.stop()}},s)})),_.apply(this,arguments)}function i(s,r){return y.apply(this,arguments)}function y(){return y=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/products",Object(d.a)({method:"POST",data:r},a||{})));case 1:case"end":return n.stop()}},s)})),y.apply(this,arguments)}function S(s,r){return p.apply(this,arguments)}function p(){return p=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/products/".concat(r),Object(d.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),p.apply(this,arguments)}function x(s,r,a){return g.apply(this,arguments)}function g(){return g=Object(o.a)(Object(u.a)().mark(function s(r,a,v){return Object(u.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(f.g)("/api/admin/products/".concat(r,"?_method=PUT"),Object(d.a)({method:"POST",data:a},v||{})));case 1:case"end":return P.stop()}},s)})),g.apply(this,arguments)}function D(s,r){return m.apply(this,arguments)}function m(){return m=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/products/".concat(r),Object(d.a)({method:"DELETE"},a||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function c(s){return E.apply(this,arguments)}function E(){return E=Object(o.a)(Object(u.a)().mark(function s(r){return Object(u.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.g)("/api/admin/productables",Object(d.a)({method:"GET"},r||{})));case 1:case"end":return v.stop()}},s)})),E.apply(this,arguments)}function O(s,r){return l.apply(this,arguments)}function l(){return l=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/productables/product",Object(d.a)({method:"GET",params:r},a||{})));case 1:case"end":return n.stop()}},s)})),l.apply(this,arguments)}function b(s,r,a){return I.apply(this,arguments)}function I(){return I=Object(o.a)(Object(u.a)().mark(function s(r,a,v){return Object(u.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(f.g)("/api/admin/products/".concat(r,"/attach"),Object(d.a)({method:"POST",data:a},v||{})));case 1:case"end":return P.stop()}},s)})),I.apply(this,arguments)}function $(s,r,a){return R.apply(this,arguments)}function R(){return R=Object(o.a)(Object(u.a)().mark(function s(r,a,v){return Object(u.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(f.g)("/api/admin/products/".concat(r,"/detach"),Object(d.a)({method:"POST",data:a},v||{})));case 1:case"end":return P.stop()}},s)})),R.apply(this,arguments)}},FJDo:function(w,j,e){"use strict";var u=e("VTBJ"),d=e("Ff2n"),o=e("nKUr"),f=e.n(o),A=e("q1tI"),_=e.n(A),i=e("adzw"),y=["fieldProps","min","proFieldProps","max"],S=function(x,g){var D=x.fieldProps,m=x.min,c=x.proFieldProps,E=x.max,O=Object(d.a)(x,y);return Object(o.jsx)(i.a,Object(u.a)({mode:"edit",valueType:"digit",fieldProps:Object(u.a)({min:m,max:E},D),ref:g,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:c},O))};j.a=_.a.forwardRef(S)},MvUh:function(w,j,e){},TWax:function(w,j,e){"use strict";var u=e("ozfa"),d=e("MJZm"),o=e("T2oS"),f=e("W9HT"),A=e("tJVT"),_=e("q1tI"),i=e.n(_),y=e("JifO"),S=e("nKUr"),p=e.n(S),x=function D(m){return m.subcategories&&m.subcategories.length?{title:m.name,key:m.id,children:m.subcategories.map(function(c){return D(c)})}:{title:m.name,key:m.id}},g=function(m){var c=m.value,E=m.onChange,O=m.multiple,l=O===void 0?!0:O,b=Object(_.useState)([]),I=Object(A.a)(b,2),$=I[0],R=I[1];Object(_.useEffect)(function(){Object(y.c)().then(function(r){return R(r.data)})},[]);var s=Object(_.useMemo)(function(){return $.map(function(r){return x(r)})},[$]);return $.length===0?Object(S.jsx)(f.a,{}):Object(S.jsx)(d.a,{multiple:l,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:c,onCheck:function(a){if(typeof a=="object"&&!Array.isArray(a)&&a.checked){var v=a.checked;return E&&Array.isArray(v)&&E(v)}},treeData:s,disabled:$.length===0})};j.a=g},Ug4X:function(w,j,e){},hd5d:function(w,j,e){"use strict";var u=e("qLMh"),d=e("9og8"),o=e("q1tI"),f=e.n(o),A=e("3Ef1"),_=e.n(A),i=e("BAh9"),y=e("vtG9"),S=e.n(y),p=e("9kvl"),x=e("nKUr"),g=e.n(x),D=function(c){var E=c.value,O=c.onChange,l=c.directory,b=l===void 0?"/wysiwyg":l,I=Object(p.j)();return Object(x.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(x.jsx)(_.a,{uploadImage:function(){var $=Object(d.a)(Object(u.a)().mark(function R(s){var r,a;return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.e)(s,b);case 2:if(r=n.sent,!r.success){n.next=6;break}return a=r.data[0].name.includes("/")?r.data[0].name:"".concat(b).concat(r.data[0].name),n.abrupt("return",Object(i.d)(a,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return n.stop()}},R)}));return function(R){return $.apply(this,arguments)}}(),defaultValue:E||"",onChange:function(R){return O&&O(R())},placeholder:I.formatMessage({id:"wysiwyg_placeholder"})})})};j.a=D},kMBS:function(w,j,e){"use strict";e.d(j,"a",function(){return A});var u=e("qLMh"),d=e("k1fw"),o=e("9og8"),f=e("9kvl");function A(i){return _.apply(this,arguments)}function _(){return _=Object(o.a)(Object(u.a)().mark(function i(y){return Object(u.a)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",Object(f.g)("/api/tags/unique",Object(d.a)({method:"GET",useCache:!1},y||{})));case 1:case"end":return p.stop()}},i)})),_.apply(this,arguments)}},qSko:function(w,j,e){"use strict";var u=e("OaEy"),d=e("2fM7"),o=e("T2oS"),f=e("W9HT"),A=e("tJVT"),_=e("q1tI"),i=e.n(_),y=e("DVQu"),S=e("9kvl"),p=e("nKUr"),x=e.n(p),g=function(m){var c=m.value,E=m.onChange,O=m.multiple,l=O===void 0?!1:O,b=m.type,I=Object(_.useState)([]),$=Object(A.a)(I,2),R=$[0],s=$[1],r=Object(_.useState)(!1),a=Object(A.a)(r,2),v=a[0],n=a[1],P=Object(_.useState)([]),C=Object(A.a)(P,2),Me=C[0],ye=C[1],le=Object(_.useRef)(),Ce=Object(_.useCallback)(function(){n(!0),le.current&&le.current.abort(),le.current=new AbortController,Object(y.h)({productable_type:b},{signal:le.current.signal}).then(function(G){G.success&&s(b?G.data.filter(function(ne){return ne.type==="single"&&ne.productables&&ne.productables[0].id}):G.data),n(!1)}).catch(function(){return n(!1)})},[]);return Object(_.useEffect)(function(){var G=new AbortController;if(c){var ne=Array.isArray(c)?c:[c],V=ne.map(function(M){return typeof M=="object"?Number(M.id):Number(M)});ye(V)}return function(){G.abort()}},[c]),Object(p.jsx)(d.a,{onFocus:function(){return Ce()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:Me,onChange:E,mode:l?"multiple":void 0,showSearch:!0,placeholder:Object(p.jsx)(S.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(ne,V){if(V&&V.children){var M;return(V==null||(M=V.children)===null||M===void 0?void 0:M.toString().toLowerCase().indexOf(ne&&ne.toLowerCase()||""))>=0}return!1},notFoundContent:v?Object(p.jsx)(f.a,{size:"small"}):null,children:R.map(function(G){return Object(p.jsx)(d.a.Option,{value:G.id,children:G.name},G.id)})})};j.a=g},rWUb:function(w,j,e){"use strict";e.d(j,"e",function(){return A}),e.d(j,"d",function(){return i}),e.d(j,"a",function(){return S}),e.d(j,"h",function(){return x}),e.d(j,"b",function(){return D}),e.d(j,"i",function(){return c}),e.d(j,"c",function(){return O}),e.d(j,"f",function(){return b}),e.d(j,"g",function(){return $});var u=e("qLMh"),d=e("k1fw"),o=e("9og8"),f=e("9kvl");function A(s,r){return _.apply(this,arguments)}function _(){return _=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/templates",Object(d.a)({method:"GET",useCache:!1,params:Object(d.a)(Object(d.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},a||{})));case 1:case"end":return n.stop()}},s)})),_.apply(this,arguments)}function i(s,r){return y.apply(this,arguments)}function y(){return y=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/templates/".concat(r),Object(d.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),y.apply(this,arguments)}function S(s,r){return p.apply(this,arguments)}function p(){return p=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/templates",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return n.stop()}},s)})),p.apply(this,arguments)}function x(s,r,a){return g.apply(this,arguments)}function g(){return g=Object(o.a)(Object(u.a)().mark(function s(r,a,v){return Object(u.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(f.g)("/api/admin/templates/".concat(r),Object(d.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:a},v||{})));case 1:case"end":return P.stop()}},s)})),g.apply(this,arguments)}function D(s,r){return m.apply(this,arguments)}function m(){return m=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/templates/".concat(r),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function c(s){return E.apply(this,arguments)}function E(){return E=Object(o.a)(Object(u.a)().mark(function s(r){return Object(u.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.g)("/api/admin/templates/variables",Object(d.a)({method:"GET"},r||{})));case 1:case"end":return v.stop()}},s)})),E.apply(this,arguments)}function O(s,r){return l.apply(this,arguments)}function l(){return l=Object(o.a)(Object(u.a)().mark(function s(r,a){return Object(u.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.g)("/api/admin/templates/".concat(r,"/preview"),Object(d.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),l.apply(this,arguments)}function b(s,r,a){return I.apply(this,arguments)}function I(){return I=Object(o.a)(Object(u.a)().mark(function s(r,a,v){return Object(u.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(f.g)("/api/admin/events/trigger-manually/".concat(r),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:a}},v||{})));case 1:case"end":return P.stop()}},s)})),I.apply(this,arguments)}function $(s,r,a){return R.apply(this,arguments)}function R(){return R=Object(o.a)(Object(u.a)().mark(function s(r,a,v){return Object(u.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(f.g)("/api/admin/products/".concat(a,"/trigger-event-manually/").concat(r),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"}},v||{})));case 1:case"end":return P.stop()}},s)})),R.apply(this,arguments)}},rnuo:function(w,j,e){"use strict";var u=e("tJVT"),d=e("OaEy"),o=e("2fM7"),f=e("q1tI"),A=e.n(f),_=e("kMBS"),i=e("nKUr"),y=e.n(i),S=o.a.Option,p=function(g){var D=g.value,m=g.onChange,c=Object(f.useState)([]),E=Object(u.a)(c,2),O=E[0],l=E[1];return Object(f.useEffect)(function(){Object(_.a)().then(function(b){return l(b.data)})},[]),Object(i.jsx)(o.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:m,value:D,children:O.map(function(b){return Object(i.jsx)(S,{value:b.title,children:b.title},b.title)})})};j.a=p},vtG9:function(w,j,e){},vzes:function(w,j,e){"use strict";var u=e("OaEy"),d=e("2fM7"),o=e("+BJd"),f=e("mr32"),A=e("T2oS"),_=e("W9HT"),i=e("tJVT"),y=e("q1tI"),S=e.n(y),p=e("9kvl"),x=e("DVQu"),g=e("nKUr"),D=e.n(g),m=function(l){return"".concat(l.productable_type,":").concat(l.productable_id,":").concat(l.name)},c=function(l){return"".concat(l.class,":").concat(l.id,":").concat(l.name)},E=function(l){var b=l.value,I=l.onChange,$=l.multiple,R=$===void 0?!1:$,s=l.disabled,r=s===void 0?!1:s,a=Object(y.useState)([]),v=Object(i.a)(a,2),n=v[0],P=v[1],C=Object(y.useState)(!1),Me=Object(i.a)(C,2),ye=Me[0],le=Me[1],Ce=Object(y.useState)([]),G=Object(i.a)(Ce,2),ne=G[0],V=G[1],M=Object(y.useRef)(),t=Object(y.useCallback)(function(){le(!0),M.current&&M.current.abort(),M.current=new AbortController,Object(x.g)({signal:M.current.signal}).then(function(N){N.success&&P(N.data),le(!1)}).catch(function(){return le(!1)})},[]);return Object(y.useEffect)(function(){t()},[]),Object(y.useEffect)(function(){var N=new AbortController;if(b){var U=Array.isArray(b)?b:[b],k=U.map(function(ee){return typeof ee=="object"?c(ee):String(ee)});V(k)}return function(){N.abort()}},[b]),Object(g.jsx)(d.a,{disabled:r,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ne,onChange:I,mode:R?"multiple":void 0,showSearch:!0,placeholder:Object(g.jsx)(p.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(U,k){if(k&&k.children){var ee;return(k==null||(ee=k.children)===null||ee===void 0?void 0:ee.toString().toLowerCase().indexOf(U&&U.toLowerCase()||""))>=0}return!1},notFoundContent:ye?Object(g.jsx)(_.a,{size:"small"}):null,children:n.map(function(N){var U=m(N);return Object(g.jsxs)(d.a.Option,{value:U,children:[Object(g.jsx)(f.a,{children:Object(g.jsx)(p.a,{id:N.productable_type.split("\\").pop(),defaultMessage:N.productable_type.split("\\").pop()})})," ",N.name," ",Object(g.jsxs)("small",{children:["id:",N.productable_id]})," "]},U)})})};j.a=E}}]);
