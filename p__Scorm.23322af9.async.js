(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"5tKr":function(U,m,e){"use strict";e.d(m,"b",function(){return h}),e.d(m,"a",function(){return l});var o=e("qLMh"),c=e("k1fw"),P=e("9og8"),i=e("9kvl");function h(_,r){return u.apply(this,arguments)}function u(){return u=Object(P.a)(Object(o.a)().mark(function _(r,a){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(i.g)("/api/admin/scorm",Object(c.a)({params:Object(c.a)(Object(c.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return s.stop()}},_)})),u.apply(this,arguments)}function E(_,r){return d.apply(this,arguments)}function d(){return d=Object(P.a)(Object(o.a)().mark(function _(r,a){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(i.g)("/api/admin/scorm/scos",Object(c.a)({params:Object(c.a)(Object(c.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return s.stop()}},_)})),d.apply(this,arguments)}function l(_,r){return n.apply(this,arguments)}function n(){return n=Object(P.a)(Object(o.a)().mark(function _(r,a){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(i.g)("/api/admin/scorm/".concat(r),Object(c.a)({method:"DELETE"},a||{})));case 1:case"end":return s.stop()}},_)})),n.apply(this,arguments)}},"DBJ/":function(U,m,e){"use strict";var o=e("k1fw"),c=e("y8nQ"),P=e("Vl3Y"),i=e("etVw"),h=e("9kvl"),u=e("qFDU"),E=e("nKUr"),d=e.n(E);function l(n){var _=n.onChange,r=n.onUpload,a=n.url,j=n.name,s=n.extra,K=n.accept,v=n.data,A=n.wrapInForm,C=A===void 0?!0:A,T=n.title,t=n.formProps,L=Object(h.j)();return v&&v[j]&&delete v[j],Object(E.jsx)(u.a,{condition:C,wrap:function(p){return Object(E.jsx)(P.a,Object(o.a)(Object(o.a)({},t),{},{children:p}))},children:Object(E.jsx)(i.a,{title:T||" ".concat(L.formatMessage({id:"upload_click_here"})),placeholder:L.formatMessage({id:"upload_click_here"}),onChange:function(p){_&&_(p),p.file.status==="done"&&r&&r(p.file.response)},label:Object(E.jsx)(h.a,{id:"upload"}),max:2,fieldProps:{data:v,accept:K,name:j,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(a),extra:s})})}m.a=l},"RY+t":function(U,m,e){"use strict";var o=e("DBJ/"),c=e("q1tI"),P=e.n(c),i=e("nKUr"),h=e.n(i),u=function(d){var l=d.onSuccess,n=d.onError;return Object(i.jsx)(o.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(r){if(r.file.response){var a=r.file.response.response;a.success?l(a.data.model):n(a)}}})};m.a=u},"w76+":function(U,m,e){"use strict";e.r(m);var o=e("P2fV"),c=e("NJEC"),P=e("5Dmo"),i=e("3S7+"),h=e("+L6B"),u=e("2/Rp"),E=e("miYZ"),d=e("tsqr"),l=e("qLMh"),n=e("9og8"),_=e("q1tI"),r=e.n(_),a=e("9kvl"),j=e("55Ip"),s=e("tMyG"),K=e("Qiat"),v=e("Dx9A"),A=e("/MfK"),C=e("5tKr"),T=e("RY+t"),t=e("nKUr"),L=e.n(t),B=function(){var x=Object(n.a)(Object(l.a)().mark(function M(R){return Object(l.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Object(C.a)(R);case 2:return O.abrupt("return",!0);case 3:case"end":return O.stop()}},M)}));return function(R){return x.apply(this,arguments)}}(),p=function(){var M=Object(_.useRef)(),R=Object(a.j)(),W=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(T.a,{onSuccess:function(){M.current&&M.current.reload(),d.b.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(D){return d.b.error(D.message||D.toString())}},"upload")]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(b,D){return[D.scos.map(function(f){return Object(t.jsx)(j.a,{to:"/scorms/preview/".concat(f.uuid),children:Object(t.jsx)(i.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(u.a,{size:"small",icon:Object(t.jsx)(v.a,{}),type:"primary",children:f.title})})},f.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(b,D){return[Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(n.a)(Object(l.a)().mark(function f(){var I;return Object(l.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,B(D.id);case 2:I=g.sent,I&&M.current&&M.current.reload();case 4:case"end":return g.stop()}},f)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(i.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(u.a,{type:"primary",icon:Object(t.jsx)(A.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(s.a,{children:Object(t.jsx)(K.a,{headerTitle:R.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:M,rowKey:"id",search:{},request:function(b){var D=b.pageSize,f=b.current;return Object(C.b)({pageSize:D,current:f}).then(function(I){return I.success?{data:I.data.data,total:I.data.total,success:!0}:[]})},columns:W})})};m.default=p}}]);
