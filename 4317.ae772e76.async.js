(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4317],{46936:function(){"use strict"},4554:function(){"use strict"},57913:function(lr,sr,Et){"use strict";var Pt=Et(73935),Xt=Et(16496),ft=Et.n(Xt),lt=Et(49638),J=Et.n(lt),D=Et(67294);function S(j,V,q){return V in j?Object.defineProperty(j,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):j[V]=q,j}function y(j){for(var V=1;V<arguments.length;V++){var q=arguments[V]!=null?arguments[V]:{},L=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(L=L.concat(Object.getOwnPropertySymbols(q).filter(function(K){return Object.getOwnPropertyDescriptor(q,K).enumerable}))),L.forEach(function(K){S(j,K,q[K])})}return j}function g(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function v(j,V){for(var q=0;q<V.length;q++){var L=V[q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(j,L.key,L)}}function E(j,V,q){return V&&v(j.prototype,V),q&&v(j,q),j}function b(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(q){return typeof q}:b=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},b(j)}function h(j){return typeof Symbol=="function"&&b(Symbol.iterator)==="symbol"?h=function(q){return b(q)}:h=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":b(q)},h(j)}function s(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function a(j,V){return V&&(h(V)==="object"||typeof V=="function")?V:s(j)}function o(j){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},o(j)}function e(j,V){return e=Object.setPrototypeOf||function(L,K){return L.__proto__=K,L},e(j,V)}function u(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),V&&e(j,V)}function c(j){if(Array.isArray(j)){for(var V=0,q=new Array(j.length);V<j.length;V++)q[V]=j[V];return q}}function f(j){if(Symbol.iterator in Object(j)||Object.prototype.toString.call(j)==="[object Arguments]")return Array.from(j)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(j){return c(j)||f(j)||n()}var I={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},O=function j(){var V=this;g(this,j),this.startListen=function(q){q&&q.addEventListener("keydown",V.f)},this.stopListen=function(q){q&&q.removeEventListener("keydown",V.f)},this.add=function(q,L){var K=q;return typeof K!="object"&&(K=[K]),V.listeners[V.index]={keyCode:K,fn:L},V.index++},this.remove=function(q){delete V.listeners[q]},this.removeAll=function(){V.listeners={},V.index=1},this.index=1,this.listeners={},this.f=function(q){if(q){var L=q.keyCode||q.which;Object.values(V.listeners).forEach(function(K){var pe=K.keyCode,le=K.fn;pe.includes(L)&&(q.stopPropagation(),q.preventDefault(),le(q))})}}},T=new O,P=function(j){u(V,j);function V(){var q,L;g(this,V);for(var K=arguments.length,pe=new Array(K),le=0;le<K;le++)pe[le]=arguments[le];return L=a(this,(q=o(V)).call.apply(q,[this].concat(pe))),L.selectItem=function(){var me=L.props,ie=me.item,X=me.onSelectHandler;X(ie)},L}return E(V,[{key:"shouldComponentUpdate",value:function(L){return this.props.item!==L.item||this.props.selected!==L.selected||this.props.style!==L.style||this.props.className!==L.className}},{key:"render",value:function(){var L=this,K=this.props,pe=K.component,le=K.style,me=K.onClickHandler,ie=K.item,X=K.selected,$=K.className,ce=K.innerRef;return D.createElement("li",{className:"rta__item  ".concat(X===!0?"rta__item--selected":""," ").concat($||""),style:le},D.createElement("div",{className:"rta__entity ".concat(X===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:me,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){L.clicked=!0,L.selectItem()},onTouchEnd:function(we){we.preventDefault(),L.clicked&&me(we)},onTouchMove:function(){L.clicked=!1},onTouchCancel:function(){L.clicked=!1},ref:ce},D.createElement(pe,{selected:X,entity:ie})))}}]),V}(D.Component),A=function(j){u(V,j);function V(){var q,L;g(this,V);for(var K=arguments.length,pe=new Array(K),le=0;le<K;le++)pe[le]=arguments[le];return L=a(this,(q=o(V)).call.apply(q,[this].concat(pe))),L.state={selectedItem:null},L.cachedIdOfItems=new Map,L.onPressEnter=function(me){typeof me!="undefined"&&me.preventDefault();var ie=L.props.values;L.modifyText(ie[L.getPositionInList()])},L.getPositionInList=function(){var me=L.props.values,ie=L.state.selectedItem;return ie?me.findIndex(function(X){return L.getId(X)===L.getId(ie)}):0},L.getId=function(me){if(L.cachedIdOfItems.has(me))return L.cachedIdOfItems.get(me);var ie=L.props.getTextToReplace(me),X=function(){if(ie){if(ie.key)return ie.key;if(typeof me=="string"||!me.key)return ie.text}if(!me.key)throw new Error("Item ".concat(JSON.stringify(me),' has to have defined "key" property'));return me.key},$=X();return L.cachedIdOfItems.set(me,$),$},L.listeners=[],L.itemsRef={},L.modifyText=function(me){if(me){var ie=L.props.onSelect;ie(me)}},L.selectItem=function(me){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X=L.props.onItemHighlighted;L.state.selectedItem!==me&&L.setState({selectedItem:me},function(){X(me),ie&&L.props.dropdownScroll(L.itemsRef[L.getId(me)])})},L.scroll=function(me){me.preventDefault();var ie=L.props.values,X=me.keyCode||me.which,$=L.getPositionInList(),ce;switch(X){case I.DOWN:ce=$+1;break;case I.UP:ce=$-1;break;default:ce=$;break}ce=(ce%ie.length+ie.length)%ie.length,L.selectItem(ie[ce],[I.DOWN,I.UP].includes(X))},L.isSelected=function(me){var ie=L.state.selectedItem;return ie?L.getId(ie)===L.getId(me):!1},L}return E(V,[{key:"componentDidMount",value:function(){this.listeners.push(T.add([I.DOWN,I.UP],this.scroll),T.add([I.ENTER,I.TAB],this.onPressEnter));var L=this.props.values;L&&L[0]&&this.selectItem(L[0])}},{key:"componentDidUpdate",value:function(L){var K=this,pe=L.values,le=this.props.values,me=pe.map(function(X){return K.getId(X)}).join(""),ie=le.map(function(X){return K.getId(X)}).join("");me!==ie&&le&&le[0]&&this.selectItem(le[0])}},{key:"componentWillUnmount",value:function(){for(var L;this.listeners.length;)L=this.listeners.pop(),T.remove(L)}},{key:"render",value:function(){var L=this,K=this.props,pe=K.values,le=K.component,me=K.style,ie=K.itemClassName,X=K.className,$=K.itemStyle;return D.createElement("ul",{className:"rta__list ".concat(X||""),style:me},pe.map(function(ce){return D.createElement(P,{key:L.getId(ce),innerRef:function(we){L.itemsRef[L.getId(ce)]=we},selected:L.isSelected(ce),item:ce,className:ie,style:$,onClickHandler:L.onPressEnter,onSelectHandler:L.selectItem,component:le})}))}}]),V}(D.Component);function R(j,V){var q=parseInt(getComputedStyle(V).getPropertyValue("height"),10),L=parseInt(getComputedStyle(j).getPropertyValue("height"),10)-q,K=V.offsetTop,pe=j.scrollTop;K<pe+L&&pe<K||(j.scrollTop=K)}var F="next",U={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},Z=function(V){return console.error("RTA: dataProvider fails: ".concat(V,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},G=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],M=function(V){return w(V).map(function(q){return G.includes(q)?"\\".concat(q):q}).join("")},z=function(j){u(V,j);function V(){return g(this,V),a(this,o(V).apply(this,arguments))}return E(V,[{key:"componentDidMount",value:function(){var L=this.props.boundariesElement;if(typeof L=="string"){var K=document.querySelector(L);if(!K)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=K}else if(L instanceof HTMLElement)this.containerElem=L;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var L,K,pe=this.props.top||0,le=this.props.left||0,me=[],ie=[],X=0,$=0,ce=this.containerElem.getBoundingClientRect(),fe=this.ref.getBoundingClientRect(),we=this.props.textareaRef.getBoundingClientRect(),oe=window.getComputedStyle(this.ref),Oe=parseInt(oe.getPropertyValue("margin-top"),10),Re=parseInt(oe.getPropertyValue("margin-bottom"),10),Be=parseInt(oe.getPropertyValue("margin-left"),10),Ne=parseInt(oe.getPropertyValue("margin-right"),10),Fe=Oe+Re+we.top+pe+fe.height,je=Be+Ne+we.left+le+fe.width;je>ce.right&&we.left+le>fe.width?($=le-fe.width,me.push(U.X.LEFT),ie.push(U.X.RIGHT)):($=le,me.push(U.X.RIGHT),ie.push(U.X.LEFT)),Fe>ce.bottom&&we.top+pe>fe.height?(X=pe-fe.height,me.push(U.Y.TOP),ie.push(U.Y.BOTTOM)):(X=pe,me.push(U.Y.BOTTOM),ie.push(U.Y.TOP)),this.props.renderToBody&&(X+=we.top,$+=we.left),this.ref.style.top="".concat(X,"px"),this.ref.style.left="".concat($,"px"),(L=this.ref.classList).remove.apply(L,ie),(K=this.ref.classList).add.apply(K,me)}},{key:"render",value:function(){var L=this,K=this.props,pe=K.style,le=K.className,me=K.innerRef,ie=K.children,X=K.renderToBody,$=document.body,ce=D.createElement("div",{ref:function(we){L.ref=we,me(we)},className:"rta__autocomplete ".concat(le||""),style:pe},ie);return X&&$!==null?Pt.createPortal(ce,$):ce}}]),V}(D.Component),B=function(j){u(V,j);function V(q){var L;g(this,V),L=a(this,o(V).call(this,q)),L.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},L.escListenerInit=function(){L.escListener||(L.escListener=T.add(I.ESC,L._closeAutocomplete))},L.escListenerDestroy=function(){L.escListener&&(T.remove(L.escListener),L.escListener=null)},L.getSelectionPosition=function(){return L.textareaRef?{selectionStart:L.textareaRef.selectionStart,selectionEnd:L.textareaRef.selectionEnd}:null},L.getSelectedText=function(){if(!L.textareaRef)return null;var ie=L.textareaRef,X=ie.selectionStart,$=ie.selectionEnd;return X===$?null:L.state.value.substr(X,$-X)},L.setCaretPosition=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;L.textareaRef&&(L.textareaRef.focus(),L.textareaRef.setSelectionRange(ie,ie))},L.getCaretPosition=function(){if(!L.textareaRef)return 0;var ie=L.textareaRef.selectionEnd;return ie},L._handleCaretChange=function(ie){var X=function(){var fe=L.getCaretPosition()-1;L.lastTrigger=L.lastTrigger?fe:0};if(ie.type==="keydown"){var $=ie.keyCode||ie.which;switch($){case I.UP:case I.DOWN:L._isAutocompleteOpen()||X();break;case I.LEFT:case I.RIGHT:X();break;default:}return}X()},L._onSelect=function(ie){var X=L.state,$=X.selectionEnd,ce=X.currentTrigger,fe=X.value,we=L.props.onItemSelected;if(ce){var oe=L._getTextToReplace(ce);if(!oe){L._closeAutocomplete();return}var Oe=oe(ie);if(!Oe){L._closeAutocomplete();return}we&&we({currentTrigger:ce,item:ie});var Re=function(it,_e,_t){switch(it){case"start":return _t;case"next":case"end":return _t+_e.length;default:if(!Number.isInteger(it))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return it}},Be=fe.slice(0,$),Ne=M(ce),Fe=Be.length-Be.lastIndexOf(ce),je=Be.search(new RegExp("(?!".concat(Ne,")$")))-Fe,Le=Oe.caretPosition==="next"?"".concat(Oe.text," "):Oe.text,ze=Re(Oe.caretPosition,Le,je),Xe=Be.substring(0,je)+Le,re=fe.replace(Be,Xe);L.setState({value:re,dataLoading:!1},function(){var ot=L.tokenRegExpEnding.exec(Le),it=ot?ot[0].length:1;L.lastTrigger=ze&&ze-it,L.textareaRef.value=re,L.textareaRef.selectionEnd=ze,L._changeHandler();var _e=L.textareaRef.scrollTop;L.setCaretPosition(ze),window.chrome&&(L.textareaRef.scrollTop=_e)})}},L._getTextToReplace=function(ie){var X=L.props.trigger[ie];if(!ie||!X)return null;var $=X.output;return function(ce){if(typeof ce=="object"&&(!$||typeof $!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if($){var fe=$(ce,ie);if(fe===void 0||typeof fe=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(fe),'". Check the implementation for trigger "').concat(ie,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(fe===null)return null;if(typeof fe=="string")return{text:fe,caretPosition:F};if(!fe.text&&typeof fe.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ie,`"
`));if(!fe.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ie,`"
`));return fe}if(typeof ce!="string")throw new Error(`Output item should be string
`);return{text:"".concat(ie).concat(ce).concat(ie),caretPosition:F}}},L._getCurrentTriggerSettings=function(){var ie=L.state.currentTrigger;return ie?L.props.trigger[ie]:null},L._getValuesFromProvider=function(){var ie=L.state,X=ie.currentTrigger,$=ie.actualToken,ce=L._getCurrentTriggerSettings();if(!(!X||!ce)){var fe=ce.dataProvider,we=ce.component;if(typeof fe!="function")throw new Error("Trigger provider has to be a function!");L.setState({dataLoading:!0});var oe=fe($);oe instanceof Promise||(oe=Promise.resolve(oe)),oe.then(function(Oe){if(!Array.isArray(Oe))throw new Error("Trigger provider has to provide an array!");if(typeof we!="function")throw new Error("Component should be defined!");if(X===L.state.currentTrigger){if(!Oe.length){L._closeAutocomplete();return}L.setState({dataLoading:!1,data:Oe,component:we})}}).catch(function(Oe){return Z(Oe.message)})}},L._getSuggestions=function(){var ie=L.state,X=ie.currentTrigger,$=ie.data;return!X||!$||$&&!$.length?null:$},L._createRegExp=function(){var ie=L.props.trigger;L.tokenRegExp=new RegExp("(".concat(Object.keys(ie).sort(function(X,$){return X<$?1:X>$?-1:0}).map(function(X){return M(X)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),L.tokenRegExpEnding=new RegExp("(".concat(Object.keys(ie).sort(function(X,$){return X<$?1:X>$?-1:0}).map(function(X){return M(X)}).join("|"),")$"))},L._closeAutocomplete=function(){var ie=L.state.currentTrigger;L.escListenerDestroy(),L.setState({data:null,dataLoading:!1,currentTrigger:null},function(){ie&&L._onItemHighlightedHandler(null)})},L._cleanUpProps=function(){var ie=y({},L.props),X=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var $ in ie)X.includes($)&&delete ie[$];return ie},L._changeHandler=function(ie){var X=L.props,$=X.trigger,ce=X.onChange,fe=X.minChar,we=X.onCaretPositionChange,oe=X.movePopupAsYouType,Oe=L.state,Re=Oe.top,Be=Oe.left,Ne=ie;Ne||(Ne=new(J())("change",{bubbles:!0}),L.textareaRef.dispatchEvent(Ne));var Fe=Ne.target||L.textareaRef,je=Fe.selectionEnd,Le=Fe.value;if(L.lastValueBubbledEvent=Le,ce&&Ne&&(Ne.persist&&Ne.persist(),ce(new Proxy(Ne,{get:function(Gt,ur,cr){return ur==="target"?Fe:Reflect.get(Gt,ur,cr)}}))),we){var ze=L.getCaretPosition();we(ze)}L.setState({value:Le});var Xe=function(){var Gt=ft()(Fe,je),ur=Gt.top,cr=Gt.left;L.setState({top:ur-L.textareaRef.scrollTop||0,left:cr})},re=function(Gt){L.lastTrigger=je-Gt,L._closeAutocomplete(),Xe()};if(je<=L.lastTrigger){var ot=Le.slice(0,je),it=L.tokenRegExp.exec(ot);re(it?it[0].length:0)}var _e=Le.slice(L.lastTrigger,je),_t=L.tokenRegExp.exec(_e),St=_t&&_t[0],gt=_t&&_t[1]||null,Wt=gt?gt.length-1:0,Zt=L.tokenRegExpEnding.exec(_e);if(Zt?re(Zt[0].length):L._isAutocompleteOpen()||L._closeAutocomplete(),(!St||St.length<=fe+Wt)&&(L.state.currentTrigger&&!$[L.state.currentTrigger].allowWhitespace||!L.state.currentTrigger)){L._closeAutocomplete();return}if(gt&&$[gt].afterWhitespace&&!/\s/.test(Le[je-St.length-1])&&Le[je-St.length-1]!==void 0){L._closeAutocomplete();return}if(L.state.currentTrigger&&$[L.state.currentTrigger].allowWhitespace){if(_t=new RegExp("".concat(M(L.state.currentTrigger),".*$")).exec(Le.slice(0,je)),St=_t&&_t[0],!St){L._closeAutocomplete();return}gt=Object.keys($).find(function(Yt){return Yt.slice(0,Wt+1)===St.slice(0,Wt+1)})||null}var mr=St.slice(1);if(gt){(oe||Re===null&&Be===null||L.state.currentTrigger!==gt)&&Xe(),L.escListenerInit();var yr=L._getTextToReplace(gt);L.setState({selectionEnd:je,currentTrigger:gt,textToReplace:yr,actualToken:mr},function(){try{L._getValuesFromProvider()}catch(Yt){Z(Yt.message)}})}},L._selectHandler=function(ie){var X=L.props,$=X.onCaretPositionChange,ce=X.onSelect;if($){var fe=L.getCaretPosition();$(fe)}ce&&(ie.persist(),ce(ie))},L._shouldStayOpen=function(ie){var X=ie.relatedTarget;return X===null&&(X=document.activeElement),!!(L.dropdownRef&&X instanceof Node&&L.dropdownRef.contains(X))},L._onClick=function(ie){var X=L.props.onClick;X&&(ie.persist(),X(ie)),!L._shouldStayOpen(ie)&&L._closeAutocomplete()},L._onBlur=function(ie){var X=L.props.onBlur;X&&(ie.persist(),X(ie)),!L._shouldStayOpen(ie)&&L._closeAutocomplete()},L._onScrollHandler=function(){L._closeAutocomplete()},L._onItemHighlightedHandler=function(ie){var X=L.props.onItemHighlighted,$=L.state.currentTrigger;if(X)if(typeof X=="function")X({currentTrigger:$,item:ie});else throw new Error("`onItemHighlighted` has to be a function")},L._dropdownScroll=function(ie){var X=L.props.scrollToItem;if(X){if(X===!0){R(L.dropdownRef,ie);return}if(typeof X!="function"||X.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");X(L.dropdownRef,ie)}},L._isAutocompleteOpen=function(){var ie=L.state,X=ie.dataLoading,$=ie.currentTrigger,ce=L._getSuggestions();return!!((X||ce)&&$)},L._textareaRef=function(ie){L.props.innerRef&&L.props.innerRef(ie),L.textareaRef=ie},L.lastTrigger=0,L.escListener=null;var K=L.props,pe=K.loadingComponent,le=K.trigger,me=K.value;if(me&&(L.state.value=me),L._createRegExp(),!pe)throw new Error("RTA: loadingComponent is not defined");if(!le)throw new Error("RTA: trigger is not defined");return L}return E(V,[{key:"componentDidMount",value:function(){T.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(L){var K=L.trigger,pe=L.value,le=this.props,me=le.trigger,ie=le.value;Object.keys(me).join("")!==Object.keys(K).join("")&&this._createRegExp(),pe!==ie&&this.lastValueBubbledEvent!==ie&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),T.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var L=this,K=this.props,pe=K.loadingComponent,le=K.style,me=K.className,ie=K.listStyle,X=K.itemStyle,$=K.boundariesElement,ce=K.movePopupAsYouType,fe=K.listClassName,we=K.itemClassName,oe=K.dropdownClassName,Oe=K.dropdownStyle,Re=K.containerStyle,Be=K.containerClassName,Ne=K.loaderStyle,Fe=K.loaderClassName,je=K.textAreaComponent,Le=K.renderToBody,ze=this.state,Xe=ze.left,re=ze.top,ot=ze.dataLoading,it=ze.component,_e=ze.value,_t=ze.textToReplace,St=this._isAutocompleteOpen(),gt=this._getSuggestions(),Wt={},Zt;return je.component?(Zt=je.component,Wt[je.ref]=this._textareaRef):(Zt=je,Wt.ref=this._textareaRef),D.createElement("div",{className:"rta ".concat(ot===!0?"rta--loading":""," ").concat(Be||""),style:Re},D.createElement(Zt,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(me||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:_e,style:le},Wt)),St&&D.createElement(z,{innerRef:function(yr){L.dropdownRef=yr},top:re,left:Xe,style:Oe,className:oe,movePopupAsYouType:ce,boundariesElement:$,textareaRef:this.textareaRef,renderToBody:Le},gt&&it&&_t&&D.createElement(A,{values:gt,component:it,style:ie,className:fe,itemClassName:we,itemStyle:X,getTextToReplace:_t,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),ot&&D.createElement("div",{className:"rta__loader ".concat(gt!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(Fe||""),style:Ne},D.createElement(pe,{data:gt}))))}}],[{key:"getDerivedStateFromProps",value:function(L){var K=L.value;return K==null?null:{value:K}}}]),V}(D.Component);B.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},sr.Z=B},49638:function(lr,sr,Et){var Pt=Et.g.CustomEvent;function Xt(){try{var ft=new Pt("cat",{detail:{foo:"bar"}});return ft.type==="cat"&&ft.detail.foo==="bar"}catch(lt){}return!1}lr.exports=Xt()?Pt:typeof document!="undefined"&&typeof document.createEvent=="function"?function(lt,J){var D=document.createEvent("CustomEvent");return J?D.initCustomEvent(lt,J.bubbles,J.cancelable,J.detail):D.initCustomEvent(lt,!1,!1,void 0),D}:function(lt,J){var D=document.createEventObject();return D.type=lt,J?(D.bubbles=!!J.bubbles,D.cancelable=!!J.cancelable,D.detail=J.detail):(D.bubbles=!1,D.cancelable=!1,D.detail=void 0),D}},79031:function(lr,sr,Et){var Pt=Et(48764).lW;(()=>{var Xt={1924:(J,D,S)=>{"use strict";var y=S(210),g=S(5559),v=g(y("String.prototype.indexOf"));J.exports=function(E,b){var h=y(E,!!b);return typeof h=="function"&&v(E,".prototype.")>-1?g(h):h}},5559:(J,D,S)=>{"use strict";var y=S(8612),g=S(210),v=g("%Function.prototype.apply%"),E=g("%Function.prototype.call%"),b=g("%Reflect.apply%",!0)||y.call(E,v),h=g("%Object.getOwnPropertyDescriptor%",!0),s=g("%Object.defineProperty%",!0),a=g("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}J.exports=function(e){var u=b(y,E,arguments);if(h&&s){var c=h(u,"length");c.configurable&&s(u,"length",{value:1+a(0,e.length-(arguments.length-1))})}return u};var o=function(){return b(y,v,arguments)};s?s(J.exports,"apply",{value:o}):J.exports.apply=o},251:(J,D,S)=>{var y=S(2215),g=S(2584),v=S(609),E=S(8420),b=S(2847),h=S(8923),s=Date.prototype.getTime;function a(e){return e==null}function o(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}J.exports=function e(u,c,f){var n=f||{};return!!(n.strict?v(u,c):u===c)||(!u||!c||typeof u!="object"&&typeof c!="object"?n.strict?v(u,c):u==c:function(w,I,O){var T,P;if(typeof w!=typeof I||a(w)||a(I)||w.prototype!==I.prototype||g(w)!==g(I))return!1;var A=E(w),R=E(I);if(A!==R)return!1;if(A||R)return w.source===I.source&&b(w)===b(I);if(h(w)&&h(I))return s.call(w)===s.call(I);var F=o(w),U=o(I);if(F!==U)return!1;if(F||U){if(w.length!==I.length)return!1;for(T=0;T<w.length;T++)if(w[T]!==I[T])return!1;return!0}if(typeof w!=typeof I)return!1;try{var Z=y(w),G=y(I)}catch(M){return!1}if(Z.length!==G.length)return!1;for(Z.sort(),G.sort(),T=Z.length-1;T>=0;T--)if(Z[T]!=G[T])return!1;for(T=Z.length-1;T>=0;T--)if(!e(w[P=Z[T]],I[P],O))return!1;return!0}(u,c,n))}},4289:(J,D,S)=>{"use strict";var y=S(2215),g=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",v=Object.prototype.toString,E=Array.prototype.concat,b=Object.defineProperty,h=b&&function(){var o={};try{for(var e in b(o,"x",{enumerable:!1,value:o}),o)return!1;return o.x===o}catch(u){return!1}}(),s=function(o,e,u,c){var f;(!(e in o)||typeof(f=c)=="function"&&v.call(f)==="[object Function]"&&c())&&(h?b(o,e,{configurable:!0,enumerable:!1,value:u,writable:!0}):o[e]=u)},a=function(o,e){var u=arguments.length>2?arguments[2]:{},c=y(e);g&&(c=E.call(c,Object.getOwnPropertySymbols(e)));for(var f=0;f<c.length;f+=1)s(o,c[f],e[c[f]],u[c[f]])};a.supportsDescriptors=!!h,J.exports=a},5987:J=>{"use strict";var D={single_source_shortest_paths:function(S,y,g){var v={},E={};E[y]=0;var b,h,s,a,o,e,u,c=D.PriorityQueue.make();for(c.push(y,0);!c.empty();)for(s in h=(b=c.pop()).value,a=b.cost,o=S[h]||{})o.hasOwnProperty(s)&&(e=a+o[s],u=E[s],(E[s]===void 0||u>e)&&(E[s]=e,c.push(s,e),v[s]=h));if(g!==void 0&&E[g]===void 0){var f=["Could not find a path from ",y," to ",g,"."].join("");throw new Error(f)}return v},extract_shortest_path_from_predecessor_list:function(S,y){for(var g=[],v=y;v;)g.push(v),S[v],v=S[v];return g.reverse(),g},find_path:function(S,y,g){var v=D.single_source_shortest_paths(S,y,g);return D.extract_shortest_path_from_predecessor_list(v,g)},PriorityQueue:{make:function(S){var y,g=D.PriorityQueue,v={};for(y in S=S||{},g)g.hasOwnProperty(y)&&(v[y]=g[y]);return v.queue=[],v.sorter=S.sorter||g.default_sorter,v},default_sorter:function(S,y){return S.cost-y.cost},push:function(S,y){var g={value:S,cost:y};this.queue.push(g),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};J.exports=D},2378:J=>{"use strict";J.exports=function(D){for(var S=[],y=D.length,g=0;g<y;g++){var v=D.charCodeAt(g);if(v>=55296&&v<=56319&&y>g+1){var E=D.charCodeAt(g+1);E>=56320&&E<=57343&&(v=1024*(v-55296)+E-56320+65536,g+=1)}v<128?S.push(v):v<2048?(S.push(v>>6|192),S.push(63&v|128)):v<55296||v>=57344&&v<65536?(S.push(v>>12|224),S.push(v>>6&63|128),S.push(63&v|128)):v>=65536&&v<=1114111?(S.push(v>>18|240),S.push(v>>12&63|128),S.push(v>>6&63|128),S.push(63&v|128)):S.push(239,191,189)}return new Uint8Array(S).buffer}},4470:J=>{"use strict";var D=Object.prototype.hasOwnProperty,S=Object.prototype.toString,y=Object.defineProperty,g=Object.getOwnPropertyDescriptor,v=function(s){return typeof Array.isArray=="function"?Array.isArray(s):S.call(s)==="[object Array]"},E=function(s){if(!s||S.call(s)!=="[object Object]")return!1;var a,o=D.call(s,"constructor"),e=s.constructor&&s.constructor.prototype&&D.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!o&&!e)return!1;for(a in s);return a===void 0||D.call(s,a)},b=function(s,a){y&&a.name==="__proto__"?y(s,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):s[a.name]=a.newValue},h=function(s,a){if(a==="__proto__"){if(!D.call(s,a))return;if(g)return g(s,a).value}return s[a]};J.exports=function s(){var a,o,e,u,c,f,n=arguments[0],w=1,I=arguments.length,O=!1;for(typeof n=="boolean"&&(O=n,n=arguments[1]||{},w=2),(n==null||typeof n!="object"&&typeof n!="function")&&(n={});w<I;++w)if((a=arguments[w])!=null)for(o in a)e=h(n,o),n!==(u=h(a,o))&&(O&&u&&(E(u)||(c=v(u)))?(c?(c=!1,f=e&&v(e)?e:[]):f=e&&E(e)?e:{},b(n,{name:o,newValue:s(O,f,u)})):u!==void 0&&b(n,{name:o,newValue:u}));return n}},7529:J=>{var D=-1;function S(s,a,o){if(s==a)return s?[[0,s]]:[];(o<0||s.length<o)&&(o=null);var e=g(s,a),u=s.substring(0,e);e=v(s=s.substring(e),a=a.substring(e));var c=s.substring(s.length-e),f=function(n,w){var I;if(!n)return[[1,w]];if(!w)return[[D,n]];var O=n.length>w.length?n:w,T=n.length>w.length?w:n,P=O.indexOf(T);if(P!=-1)return I=[[1,O.substring(0,P)],[0,T],[1,O.substring(P+T.length)]],n.length>w.length&&(I[0][0]=I[2][0]=D),I;if(T.length==1)return[[D,n],[1,w]];var A=function(B,j){var V=B.length>j.length?B:j,q=B.length>j.length?j:B;if(V.length<4||2*q.length<V.length)return null;function L(ce,fe,we){for(var oe,Oe,Re,Be,Ne=ce.substring(we,we+Math.floor(ce.length/4)),Fe=-1,je="";(Fe=fe.indexOf(Ne,Fe+1))!=-1;){var Le=g(ce.substring(we),fe.substring(Fe)),ze=v(ce.substring(0,we),fe.substring(0,Fe));je.length<ze+Le&&(je=fe.substring(Fe-ze,Fe)+fe.substring(Fe,Fe+Le),oe=ce.substring(0,we-ze),Oe=ce.substring(we+Le),Re=fe.substring(0,Fe-ze),Be=fe.substring(Fe+Le))}return 2*je.length>=ce.length?[oe,Oe,Re,Be,je]:null}var K,pe,le,me,ie,X=L(V,q,Math.ceil(V.length/4)),$=L(V,q,Math.ceil(V.length/2));return X||$?(K=$?X&&X[4].length>$[4].length?X:$:X,B.length>j.length?(pe=K[0],le=K[1],me=K[2],ie=K[3]):(me=K[0],ie=K[1],pe=K[2],le=K[3]),[pe,le,me,ie,K[4]]):null}(n,w);if(A){var R=A[0],F=A[1],U=A[2],Z=A[3],G=A[4],M=S(R,U),z=S(F,Z);return M.concat([[0,G]],z)}return function(B,j){for(var V=B.length,q=j.length,L=Math.ceil((V+q)/2),K=L,pe=2*L,le=new Array(pe),me=new Array(pe),ie=0;ie<pe;ie++)le[ie]=-1,me[ie]=-1;le[K+1]=0,me[K+1]=0;for(var X=V-q,$=X%2!=0,ce=0,fe=0,we=0,oe=0,Oe=0;Oe<L;Oe++){for(var Re=-Oe+ce;Re<=Oe-fe;Re+=2){for(var Be=K+Re,Ne=(Xe=Re==-Oe||Re!=Oe&&le[Be-1]<le[Be+1]?le[Be+1]:le[Be-1]+1)-Re;Xe<V&&Ne<q&&B.charAt(Xe)==j.charAt(Ne);)Xe++,Ne++;if(le[Be]=Xe,Xe>V)fe+=2;else if(Ne>q)ce+=2;else if($&&(Le=K+X-Re)>=0&&Le<pe&&me[Le]!=-1&&Xe>=(je=V-me[Le]))return y(B,j,Xe,Ne)}for(var Fe=-Oe+we;Fe<=Oe-oe;Fe+=2){for(var je,Le=K+Fe,ze=(je=Fe==-Oe||Fe!=Oe&&me[Le-1]<me[Le+1]?me[Le+1]:me[Le-1]+1)-Fe;je<V&&ze<q&&B.charAt(V-je-1)==j.charAt(q-ze-1);)je++,ze++;if(me[Le]=je,je>V)oe+=2;else if(ze>q)we+=2;else if(!$){var Xe;if((Be=K+X-Fe)>=0&&Be<pe&&le[Be]!=-1&&(Ne=K+(Xe=le[Be])-Be,Xe>=(je=V-je)))return y(B,j,Xe,Ne)}}}return[[D,B],[1,j]]}(n,w)}(s=s.substring(0,s.length-e),a=a.substring(0,a.length-e));return u&&f.unshift([0,u]),c&&f.push([0,c]),E(f),o!=null&&(f=function(n,w){var I=function(F,U){if(U===0)return[0,F];for(var Z=0,G=0;G<F.length;G++){var M=F[G];if(M[0]===D||M[0]===0){var z=Z+M[1].length;if(U===z)return[G+1,F];if(U<z){F=F.slice();var B=U-Z,j=[M[0],M[1].slice(0,B)],V=[M[0],M[1].slice(B)];return F.splice(G,1,j,V),[G+1,F]}Z=z}}throw new Error("cursor_pos is out of bounds!")}(n,w),O=I[1],T=I[0],P=O[T],A=O[T+1];if(P==null||P[0]!==0)return n;if(A!=null&&P[1]+A[1]===A[1]+P[1])return O.splice(T,2,A,P),h(O,T,2);if(A!=null&&A[1].indexOf(P[1])===0){O.splice(T,2,[A[0],P[1]],[0,P[1]]);var R=A[1].slice(P[1].length);return R.length>0&&O.splice(T+2,0,[A[0],R]),h(O,T,3)}return n}(f,o)),function(n){for(var w=!1,I=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},O=2;O<n.length;O+=1)n[O-2][0]===0&&(T=n[O-2][1]).charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319&&n[O-1][0]===D&&I(n[O-1][1])&&n[O][0]===1&&I(n[O][1])&&(w=!0,n[O-1][1]=n[O-2][1].slice(-1)+n[O-1][1],n[O][1]=n[O-2][1].slice(-1)+n[O][1],n[O-2][1]=n[O-2][1].slice(0,-1));var T;if(!w)return n;var P=[];for(O=0;O<n.length;O+=1)n[O][1].length>0&&P.push(n[O]);return P}(f)}function y(s,a,o,e){var u=s.substring(0,o),c=a.substring(0,e),f=s.substring(o),n=a.substring(e),w=S(u,c),I=S(f,n);return w.concat(I)}function g(s,a){if(!s||!a||s.charAt(0)!=a.charAt(0))return 0;for(var o=0,e=Math.min(s.length,a.length),u=e,c=0;o<u;)s.substring(c,u)==a.substring(c,u)?c=o=u:e=u,u=Math.floor((e-o)/2+o);return u}function v(s,a){if(!s||!a||s.charAt(s.length-1)!=a.charAt(a.length-1))return 0;for(var o=0,e=Math.min(s.length,a.length),u=e,c=0;o<u;)s.substring(s.length-u,s.length-c)==a.substring(a.length-u,a.length-c)?c=o=u:e=u,u=Math.floor((e-o)/2+o);return u}function E(s){s.push([0,""]);for(var a,o=0,e=0,u=0,c="",f="";o<s.length;)switch(s[o][0]){case 1:u++,f+=s[o][1],o++;break;case D:e++,c+=s[o][1],o++;break;case 0:e+u>1?(e!==0&&u!==0&&((a=g(f,c))!==0&&(o-e-u>0&&s[o-e-u-1][0]==0?s[o-e-u-1][1]+=f.substring(0,a):(s.splice(0,0,[0,f.substring(0,a)]),o++),f=f.substring(a),c=c.substring(a)),(a=v(f,c))!==0&&(s[o][1]=f.substring(f.length-a)+s[o][1],f=f.substring(0,f.length-a),c=c.substring(0,c.length-a))),e===0?s.splice(o-u,e+u,[1,f]):u===0?s.splice(o-e,e+u,[D,c]):s.splice(o-e-u,e+u,[D,c],[1,f]),o=o-e-u+(e?1:0)+(u?1:0)+1):o!==0&&s[o-1][0]==0?(s[o-1][1]+=s[o][1],s.splice(o,1)):o++,u=0,e=0,c="",f=""}s[s.length-1][1]===""&&s.pop();var n=!1;for(o=1;o<s.length-1;)s[o-1][0]==0&&s[o+1][0]==0&&(s[o][1].substring(s[o][1].length-s[o-1][1].length)==s[o-1][1]?(s[o][1]=s[o-1][1]+s[o][1].substring(0,s[o][1].length-s[o-1][1].length),s[o+1][1]=s[o-1][1]+s[o+1][1],s.splice(o-1,1),n=!0):s[o][1].substring(0,s[o+1][1].length)==s[o+1][1]&&(s[o-1][1]+=s[o+1][1],s[o][1]=s[o][1].substring(s[o+1][1].length)+s[o+1][1],s.splice(o+1,1),n=!0)),o++;n&&E(s)}var b=S;function h(s,a,o){for(var e=a+o-1;e>=0&&e>=a-1;e--)if(e+1<s.length){var u=s[e],c=s[e+1];u[0]===c[1]&&s.splice(e,2,[u[0],u[1]+c[1]])}return s}b.INSERT=1,b.DELETE=D,b.EQUAL=0,J.exports=b},7648:J=>{"use strict";var D="Function.prototype.bind called on incompatible ",S=Array.prototype.slice,y=Object.prototype.toString,g="[object Function]";J.exports=function(v){var E=this;if(typeof E!="function"||y.call(E)!==g)throw new TypeError(D+E);for(var b,h=S.call(arguments,1),s=function(){if(this instanceof b){var c=E.apply(this,h.concat(S.call(arguments)));return Object(c)===c?c:this}return E.apply(v,h.concat(S.call(arguments)))},a=Math.max(0,E.length-h.length),o=[],e=0;e<a;e++)o.push("$"+e);if(b=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(s),E.prototype){var u=function(){};u.prototype=E.prototype,b.prototype=new u,u.prototype=null}return b}},8612:(J,D,S)=>{"use strict";var y=S(7648);J.exports=Function.prototype.bind||y},5972:J=>{"use strict";var D=function(){return typeof function(){}.name=="string"},S=Object.getOwnPropertyDescriptor;if(S)try{S([],"length")}catch(g){S=null}D.functionsHaveConfigurableNames=function(){if(!D()||!S)return!1;var g=S(function(){},"name");return!!g&&!!g.configurable};var y=Function.prototype.bind;D.boundFunctionsHaveNames=function(){return D()&&typeof y=="function"&&function(){}.bind().name!==""},J.exports=D},210:(J,D,S)=>{"use strict";var y,g=SyntaxError,v=Function,E=TypeError,b=function(M){try{return v('"use strict"; return ('+M+").constructor;")()}catch(z){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(M){h=null}var s=function(){throw new E},a=h?function(){try{return s}catch(M){try{return h(arguments,"callee").get}catch(z){return s}}}():s,o=S(1405)(),e=Object.getPrototypeOf||function(M){return M.__proto__},u={},c=typeof Uint8Array=="undefined"?y:e(Uint8Array),f={"%AggregateError%":typeof AggregateError=="undefined"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?y:ArrayBuffer,"%ArrayIteratorPrototype%":o?e([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics=="undefined"?y:Atomics,"%BigInt%":typeof BigInt=="undefined"?y:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?y:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?y:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array=="undefined"?y:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?y:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o?e(e([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map=="undefined"?y:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&o?e(new Map()[Symbol.iterator]()):y,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?y:Promise,"%Proxy%":typeof Proxy=="undefined"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?y:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&o?e(new Set()[Symbol.iterator]()):y,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o?e(""[Symbol.iterator]()):y,"%Symbol%":o?Symbol:y,"%SyntaxError%":g,"%ThrowTypeError%":a,"%TypedArray%":c,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array=="undefined"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?y:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?y:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?y:WeakSet},n=function M(z){var B;if(z==="%AsyncFunction%")B=b("async function () {}");else if(z==="%GeneratorFunction%")B=b("function* () {}");else if(z==="%AsyncGeneratorFunction%")B=b("async function* () {}");else if(z==="%AsyncGenerator%"){var j=M("%AsyncGeneratorFunction%");j&&(B=j.prototype)}else if(z==="%AsyncIteratorPrototype%"){var V=M("%AsyncGenerator%");V&&(B=e(V.prototype))}return f[z]=B,B},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=S(8612),O=S(7642),T=I.call(Function.call,Array.prototype.concat),P=I.call(Function.apply,Array.prototype.splice),A=I.call(Function.call,String.prototype.replace),R=I.call(Function.call,String.prototype.slice),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,Z=function(M){var z=R(M,0,1),B=R(M,-1);if(z==="%"&&B!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&z!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var j=[];return A(M,F,function(V,q,L,K){j[j.length]=L?A(K,U,"$1"):q||V}),j},G=function(M,z){var B,j=M;if(O(w,j)&&(j="%"+(B=w[j])[0]+"%"),O(f,j)){var V=f[j];if(V===u&&(V=n(j)),V===void 0&&!z)throw new E("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:B,name:j,value:V}}throw new g("intrinsic "+M+" does not exist!")};J.exports=function(M,z){if(typeof M!="string"||M.length===0)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new E('"allowMissing" argument must be a boolean');var B=Z(M),j=B.length>0?B[0]:"",V=G("%"+j+"%",z),q=V.name,L=V.value,K=!1,pe=V.alias;pe&&(j=pe[0],P(B,T([0,1],pe)));for(var le=1,me=!0;le<B.length;le+=1){var ie=B[le],X=R(ie,0,1),$=R(ie,-1);if((X==='"'||X==="'"||X==="`"||$==='"'||$==="'"||$==="`")&&X!==$)throw new g("property names with quotes must have matching quotes");if(ie!=="constructor"&&me||(K=!0),O(f,q="%"+(j+="."+ie)+"%"))L=f[q];else if(L!=null){if(!(ie in L)){if(!z)throw new E("base intrinsic for "+M+" exists, but the property is not available.");return}if(h&&le+1>=B.length){var ce=h(L,ie);L=(me=!!ce)&&"get"in ce&&!("originalValue"in ce.get)?ce.get:L[ie]}else me=O(L,ie),L=L[ie];me&&!K&&(f[q]=L)}}return L}},1405:(J,D,S)=>{"use strict";var y=typeof Symbol!="undefined"&&Symbol,g=S(5419);J.exports=function(){return typeof y=="function"&&typeof Symbol=="function"&&typeof y("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&g()}},5419:J=>{"use strict";J.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var D={},S=Symbol("test"),y=Object(S);if(typeof S=="string"||Object.prototype.toString.call(S)!=="[object Symbol]"||Object.prototype.toString.call(y)!=="[object Symbol]")return!1;for(S in D[S]=42,D)return!1;if(typeof Object.keys=="function"&&Object.keys(D).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(D).length!==0)return!1;var g=Object.getOwnPropertySymbols(D);if(g.length!==1||g[0]!==S||!Object.prototype.propertyIsEnumerable.call(D,S))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var v=Object.getOwnPropertyDescriptor(D,S);if(v.value!==42||v.enumerable!==!0)return!1}return!0}},7642:(J,D,S)=>{"use strict";var y=S(8612);J.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},2584:(J,D,S)=>{"use strict";var y=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",g=S(1924)("Object.prototype.toString"),v=function(h){return!(y&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&g(h)==="[object Arguments]"},E=function(h){return!!v(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&g(h)!=="[object Array]"&&g(h.callee)==="[object Function]"},b=function(){return v(arguments)}();v.isLegacyArguments=E,J.exports=b?v:E},8923:J=>{"use strict";var D=Date.prototype.getDay,S=Object.prototype.toString,y=typeof Symbol=="function"&&!!Symbol.toStringTag;J.exports=function(g){return typeof g=="object"&&g!==null&&(y?function(v){try{return D.call(v),!0}catch(E){return!1}}(g):S.call(g)==="[object Date]")}},8420:(J,D,S)=>{"use strict";var y,g,v,E,b=S(1924),h=S(5419)()&&!!Symbol.toStringTag;if(h){y=b("Object.prototype.hasOwnProperty"),g=b("RegExp.prototype.exec"),v={};var s=function(){throw v};E={toString:s,valueOf:s},typeof Symbol.toPrimitive=="symbol"&&(E[Symbol.toPrimitive]=s)}var a=b("Object.prototype.toString"),o=Object.getOwnPropertyDescriptor;J.exports=h?function(e){if(!e||typeof e!="object")return!1;var u=o(e,"lastIndex");if(!u||!y(u,"value"))return!1;try{g(e,E)}catch(c){return c===v}}:function(e){return!(!e||typeof e!="object"&&typeof e!="function")&&a(e)==="[object RegExp]"}},5961:(J,D,S)=>{"use strict";var y=e(S(2289)),g=e(S(2276)),v=e(S(5443)),E=e(S(7044)),b=e(S(9972)),h=e(S(5065)),s=e(S(8532)),a=S(2362),o=e(S(6025));function e(T){return T&&T.__esModule?T:{default:T}}var u=function(){},c=function(T,P,A){var R=new u;if(T===void 0)throw Error("No element to render on was provided.");return R._renderProperties=(0,b.default)(T),R._encodings=[],R._options=o.default,R._errorHandler=new s.default(R),P!==void 0&&((A=A||{}).format||(A.format=I()),R.options(A)[A.format](P,A).render()),R};for(var f in c.getModule=function(T){return y.default[T]},y.default)y.default.hasOwnProperty(f)&&n(y.default,f);function n(T,P){u.prototype[P]=u.prototype[P.toUpperCase()]=u.prototype[P.toLowerCase()]=function(A,R){var F=this;return F._errorHandler.wrapBarcodeCall(function(){R.text=R.text===void 0?void 0:""+R.text;var U=(0,g.default)(F._options,R);U=(0,h.default)(U);var Z=T[P],G=w(A,Z,U);return F._encodings.push(G),F})}}function w(T,P,A){var R=new P(T=""+T,A);if(!R.valid())throw new a.InvalidInputException(R.constructor.name,T);var F=R.encode();F=(0,v.default)(F);for(var U=0;U<F.length;U++)F[U].options=(0,g.default)(A,F[U].options);return F}function I(){return y.default.CODE128?"CODE128":Object.keys(y.default)[0]}function O(T,P,A){P=(0,v.default)(P);for(var R=0;R<P.length;R++)P[R].options=(0,g.default)(A,P[R].options),(0,E.default)(P[R].options);(0,E.default)(A),new T.renderer(T.element,P,A).render(),T.afterRender&&T.afterRender()}u.prototype.options=function(T){return this._options=(0,g.default)(this._options,T),this},u.prototype.blank=function(T){var P=new Array(T+1).join("0");return this._encodings.push({data:P}),this},u.prototype.init=function(){var T;if(this._renderProperties)for(var P in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){T=this._renderProperties[P];var A=(0,g.default)(this._options,T.options);A.format=="auto"&&(A.format=I()),this._errorHandler.wrapBarcodeCall(function(){var R=w(A.value,y.default[A.format.toUpperCase()],A);O(T,R,A)})}},u.prototype.render=function(){if(!this._renderProperties)throw new a.NoElementException;if(Array.isArray(this._renderProperties))for(var T=0;T<this._renderProperties.length;T++)O(this._renderProperties[T],this._encodings,this._options);else O(this._renderProperties,this._encodings,this._options);return this},u.prototype._defaults=o.default,typeof window!="undefined"&&(window.JsBarcode=c),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(T,P){var A=[];return jQuery(this).each(function(){A.push(this)}),c(A,T,P)}),J.exports=c},8012:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function S(y,g){(function(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")})(this,S),this.data=y,this.text=g.text||y,this.options=g}},2089:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),v=(y=S(8012))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function s(a,o){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s);var e=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a.substring(1),o));return e.bytes=a.split("").map(function(u){return u.charCodeAt(0)}),e}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),g(s,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var a=this.bytes,o=a.shift()-105,e=E.SET_BY_CODE[o];if(e===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&a.unshift(E.FNC1);var u=s.next(a,1,e);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:s.getBar(o)+u.result+s.getBar((u.checksum+o)%E.MODULO)+s.getBar(E.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var a=this.options.ean128||!1;return typeof a=="string"&&(a=a.toLowerCase()==="true"),a}}],[{key:"getBar",value:function(a){return E.BARS[a]?E.BARS[a].toString():""}},{key:"correctIndex",value:function(a,o){if(o===E.SET_A){var e=a.shift();return e<32?e+64:e-32}return o===E.SET_B?a.shift()-32:10*(a.shift()-48)+a.shift()-48}},{key:"next",value:function(a,o,e){if(!a.length)return{result:"",checksum:0};var u=void 0,c=void 0;if(a[0]>=200){c=a.shift()-105;var f=E.SWAP[c];f!==void 0?u=s.next(a,o+1,f):(e!==E.SET_A&&e!==E.SET_B||c!==E.SHIFT||(a[0]=e===E.SET_A?a[0]>95?a[0]-96:a[0]:a[0]<32?a[0]+96:a[0]),u=s.next(a,o+1,e))}else c=s.correctIndex(a,e),u=s.next(a,o+1,e);var n=c*o;return{result:s.getBar(c)+u.result,checksum:n+u.checksum}}}]),s}(v.default);D.default=b},8238:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),v=(y=S(2089))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function s(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,E.A_START_CHAR+a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),g(s,[{key:"valid",value:function(){return new RegExp("^"+E.A_CHARS+"+$").test(this.data)}}]),s}(v.default);D.default=b},1180:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),v=(y=S(2089))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function s(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,E.B_START_CHAR+a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),g(s,[{key:"valid",value:function(){return new RegExp("^"+E.B_CHARS+"+$").test(this.data)}}]),s}(v.default);D.default=b},944:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),v=(y=S(2089))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function s(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,E.C_START_CHAR+a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),g(s,[{key:"valid",value:function(){return new RegExp("^"+E.C_CHARS+"+$").test(this.data)}}]),s}(v.default);D.default=b},8845:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=v(S(2089)),g=v(S(7293));function v(h){return h&&h.__esModule?h:{default:h}}function E(h,s){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?h:s}var b=function(h){function s(a,o){if(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,s),/^[\x00-\x7F\xC8-\xD3]+$/.test(a))var e=E(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,(0,g.default)(a),o));else e=E(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a,o));return E(e)}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),s}(y.default);D.default=b},7293:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=S(4602),g=function(s){return s.match(new RegExp("^"+y.A_CHARS+"*"))[0].length},v=function(s){return s.match(new RegExp("^"+y.B_CHARS+"*"))[0].length},E=function(s){return s.match(new RegExp("^"+y.C_CHARS+"*"))[0]};function b(s,a){var o=a?y.A_CHARS:y.B_CHARS,e=s.match(new RegExp("^("+o+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(e)return e[1]+String.fromCharCode(204)+h(s.substring(e[1].length));var u=s.match(new RegExp("^"+o+"+"))[0];return u.length===s.length?s:u+String.fromCharCode(a?205:206)+b(s.substring(u.length),!a)}function h(s){var a=E(s),o=a.length;if(o===s.length)return s;s=s.substring(o);var e=g(s)>=v(s);return a+String.fromCharCode(e?206:205)+b(s,e)}D.default=function(s){var a=void 0;if(E(s).length>=2)a=y.C_START_CHAR+h(s);else{var o=g(s)>v(s);a=(o?y.A_START_CHAR:y.B_START_CHAR)+b(s,o)}return a.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,u){return String.fromCharCode(203)+u})}},4602:(J,D)=>{"use strict";var S;function y(a,o,e){return o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}Object.defineProperty(D,"__esModule",{value:!0});var g=D.SET_A=0,v=D.SET_B=1,E=D.SET_C=2,b=(D.SHIFT=98,D.START_A=103),h=D.START_B=104,s=D.START_C=105;D.MODULO=103,D.STOP=106,D.FNC1=207,D.SET_BY_CODE=(y(S={},b,g),y(S,h,v),y(S,s,E),S),D.SWAP={101:g,100:v,99:E},D.A_START_CHAR=String.fromCharCode(208),D.B_START_CHAR=String.fromCharCode(209),D.C_START_CHAR=String.fromCharCode(210),D.A_CHARS="[\0-_\xC8-\xCF]",D.B_CHARS="[ -\x7F\xC8-\xCF]",D.C_CHARS="(\xCF*[0-9]{2}\xCF*)",D.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},4935:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.CODE128C=D.CODE128B=D.CODE128A=D.CODE128=void 0;var y=b(S(8845)),g=b(S(8238)),v=b(S(1180)),E=b(S(944));function b(h){return h&&h.__esModule?h:{default:h}}D.CODE128=y.default,D.CODE128A=g.default,D.CODE128B=v.default,D.CODE128C=E.default},3361:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.CODE39=void 0;var y,g=function(){function a(o,e){for(var u=0;u<e.length;u++){var c=e[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,e,u){return e&&a(o.prototype,e),u&&a(o,u),o}}(),v=function(a){function o(e,u){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,o),e=e.toUpperCase(),u.mod43&&(e+=function(c){return E[c]}(function(c){for(var f=0,n=0;n<c.length;n++)f+=s(c[n]);return f%43}(e))),function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,u))}return function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u)}(o,a),g(o,[{key:"encode",value:function(){for(var e=h("*"),u=0;u<this.data.length;u++)e+=h(this.data[u])+"0";return{data:e+=h("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),o}(((y=S(8012))&&y.__esModule?y:{default:y}).default),E=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],b=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(a){return function(o){return b[o].toString(2)}(s(a))}function s(a){return E.indexOf(a)}D.CODE39=v},6454:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),g=S(1239),v=E(S(5532));function E(h){return h&&h.__esModule?h:{default:h}}var b=function(h){function s(a,o){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s);var e=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a,o));return e.fontSize=!o.flat&&o.fontSize>10*o.width?10*o.width:o.fontSize,e.guardHeight=o.height+e.fontSize/2+o.textMargin,e}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),y(s,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(a,o){return this.text.substr(a,o)}},{key:"leftEncode",value:function(a,o){return(0,v.default)(a,o)}},{key:"rightText",value:function(a,o){return this.text.substr(a,o)}},{key:"rightEncode",value:function(a,o){return(0,v.default)(a,o)}},{key:"encodeGuarded",value:function(){var a={fontSize:this.fontSize},o={height:this.guardHeight};return[{data:g.SIDE_BIN,options:o},{data:this.leftEncode(),text:this.leftText(),options:a},{data:g.MIDDLE_BIN,options:o},{data:this.rightEncode(),text:this.rightText(),options:a},{data:g.SIDE_BIN,options:o}]}},{key:"encodeFlat",value:function(){return{data:[g.SIDE_BIN,this.leftEncode(),g.MIDDLE_BIN,this.rightEncode(),g.SIDE_BIN].join(""),text:this.text}}}]),s}(E(S(8012)).default);D.default=b},23:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function a(o,e){for(var u=0;u<e.length;u++){var c=e[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,e,u){return e&&a(o.prototype,e),u&&a(o,u),o}}(),v=function a(o,e,u){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,e);if(c===void 0){var f=Object.getPrototypeOf(o);return f===null?void 0:a(f,e,u)}if("value"in c)return c.value;var n=c.get;return n!==void 0?n.call(u):void 0},E=S(1239),b=(y=S(6454))&&y.__esModule?y:{default:y},h=function(a){return(10-a.substr(0,12).split("").map(function(o){return+o}).reduce(function(o,e,u){return u%2?o+3*e:o+e},0)%10)%10},s=function(a){function o(e,u){(function(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")})(this,o),e.search(/^[0-9]{12}$/)!==-1&&(e+=h(e));var c=function(f,n){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?f:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,u));return c.lastChar=u.lastChar,c}return function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u)}(o,a),g(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===h(this.data)}},{key:"leftText",value:function(){return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),u=E.EAN13_STRUCTURE[this.data[0]];return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftEncode",this).call(this,e,u)}},{key:"rightText",value:function(){return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),o}(b.default);D.default=s},6552:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),g=S(1239),v=E(S(5532));function E(h){return h&&h.__esModule?h:{default:h}}var b=function(h){function s(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),y(s,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var a=g.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,v.default)(this.data,a,"01"),text:this.text}}}]),s}(E(S(8012)).default);D.default=b},9668:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),g=S(1239),v=E(S(5532));function E(h){return h&&h.__esModule?h:{default:h}}var b=function(h){function s(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),y(s,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var a,o=g.EAN5_STRUCTURE[a=this.data,a.split("").map(function(e){return+e}).reduce(function(e,u,c){return c%2?e+9*u:e+3*u},0)%10];return{data:"1011"+(0,v.default)(this.data,o,"01"),text:this.text}}}]),s}(E(S(8012)).default);D.default=b},5218:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function s(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&s(a.prototype,o),e&&s(a,e),a}}(),v=function s(a,o,e){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(u===void 0){var c=Object.getPrototypeOf(a);return c===null?void 0:s(c,o,e)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(e):void 0},E=(y=S(6454))&&y.__esModule?y:{default:y},b=function(s){return(10-s.substr(0,7).split("").map(function(a){return+a}).reduce(function(a,o,e){return e%2?a+o:a+3*o},0)%10)%10},h=function(s){function a(o,e){return function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),o.search(/^[0-9]{7}$/)!==-1&&(o+=b(o)),function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,e))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),g(a,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===b(this.data)}},{key:"leftText",value:function(){return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var o=this.data.substr(0,4);return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"leftEncode",this).call(this,o,"LLLL")}},{key:"rightText",value:function(){return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var o=this.data.substr(4,4);return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"rightEncode",this).call(this,o,"RRRR")}}]),a}(E.default);D.default=h},5314:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}();D.checksum=b;var g=v(S(5532));function v(h){return h&&h.__esModule?h:{default:h}}var E=function(h){function s(a,o){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s),a.search(/^[0-9]{11}$/)!==-1&&(a+=b(a));var e=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a,o));return e.displayValue=o.displayValue,o.fontSize>10*o.width?e.fontSize=10*o.width:e.fontSize=o.fontSize,e.guardHeight=o.height+e.fontSize/2+o.textMargin,e}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),y(s,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==b(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var a="";return a+="101",a+=(0,g.default)(this.data.substr(0,6),"LLLLLL"),a+="01010",a+=(0,g.default)(this.data.substr(6,6),"RRRRRR"),{data:a+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var a=[];return this.displayValue&&a.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),a.push({data:"101"+(0,g.default)(this.data[0],"L"),options:{height:this.guardHeight}}),a.push({data:(0,g.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),a.push({data:"01010",options:{height:this.guardHeight}}),a.push({data:(0,g.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),a.push({data:(0,g.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&a.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),a}}]),s}(v(S(8012)).default);function b(h){var s,a=0;for(s=1;s<11;s+=2)a+=parseInt(h[s]);for(s=0;s<11;s+=2)a+=3*parseInt(h[s]);return(10-a%10)%10}D.default=E},930:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),g=b(S(5532)),v=b(S(8012)),E=S(5314);function b(u){return u&&u.__esModule?u:{default:u}}function h(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var s=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],a=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],o=function(u){function c(f,n){(function(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")})(this,c);var w=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,n));if(w.isValid=!1,f.search(/^[0-9]{6}$/)!==-1)w.middleDigits=f,w.upcA=e(f,"0"),w.text=n.text||""+w.upcA[0]+f+w.upcA[w.upcA.length-1],w.isValid=!0;else{if(f.search(/^[01][0-9]{7}$/)===-1||(w.middleDigits=f.substring(1,f.length-1),w.upcA=e(w.middleDigits,f[0]),w.upcA[w.upcA.length-1]!==f[f.length-1]))return h(w);w.isValid=!0}return w.displayValue=n.displayValue,n.fontSize>10*n.width?w.fontSize=10*n.width:w.fontSize=n.fontSize,w.guardHeight=n.height+w.fontSize/2+n.textMargin,w}return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}(c,u),y(c,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var f="";return f+="101",f+=this.encodeMiddleDigits(),{data:f+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var f=[];return this.displayValue&&f.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),f.push({data:"101",options:{height:this.guardHeight}}),f.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),f.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&f.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),f}},{key:"encodeMiddleDigits",value:function(){var f=this.upcA[0],n=this.upcA[this.upcA.length-1],w=a[parseInt(n)][parseInt(f)];return(0,g.default)(this.middleDigits,w)}}]),c}(v.default);function e(u,c){for(var f=parseInt(u[u.length-1]),n=s[f],w="",I=0,O=0;O<n.length;O++){var T=n[O];w+=T==="X"?u[I++]:T}return(w=""+c+w)+(0,E.checksum)(w)}D.default=o},1239:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.SIDE_BIN="101",D.MIDDLE_BIN="01010",D.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},D.EAN2_STRUCTURE=["LL","LG","GL","GG"],D.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],D.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},5532:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=S(1239);D.default=function(g,v,E){var b=g.split("").map(function(s,a){return y.BINARIES[v[a]]}).map(function(s,a){return s?s[g[a]]:""});if(E){var h=g.length-1;b=b.map(function(s,a){return a<h?s+E:s})}return b.join("")}},5321:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.UPCE=D.UPC=D.EAN2=D.EAN5=D.EAN8=D.EAN13=void 0;var y=s(S(23)),g=s(S(5218)),v=s(S(9668)),E=s(S(6552)),b=s(S(5314)),h=s(S(930));function s(a){return a&&a.__esModule?a:{default:a}}D.EAN13=y.default,D.EAN8=g.default,D.EAN5=v.default,D.EAN2=E.default,D.UPC=b.default,D.UPCE=h.default},6447:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.GenericBarcode=void 0;var y,g=function(){function E(b,h){for(var s=0;s<h.length;s++){var a=h[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}return function(b,h,s){return h&&E(b.prototype,h),s&&E(b,s),b}}(),v=function(E){function b(h,s){return function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,o){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?a:o}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,h,s))}return function(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);h.prototype=Object.create(s&&s.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(h,s):h.__proto__=s)}(b,E),g(b,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),b}(((y=S(8012))&&y.__esModule?y:{default:y}).default);D.GenericBarcode=v},3074:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function s(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&s(a.prototype,o),e&&s(a,e),a}}(),v=S(4477);function E(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function b(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}var h=function(s){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),g(a,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var o=this,e=this.data.match(/.{2}/g).map(function(u){return o.encodePair(u)}).join("");return{data:v.START_BIN+e+v.END_BIN,text:this.text}}},{key:"encodePair",value:function(o){var e=v.BINARIES[o[1]];return v.BINARIES[o[0]].split("").map(function(u,c){return(u==="1"?"111":"1")+(e[c]==="1"?"000":"0")}).join("")}}]),a}(((y=S(8012))&&y.__esModule?y:{default:y}).default);D.default=h},6972:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),v=(y=S(3074))&&y.__esModule?y:{default:y},E=function(h){var s=h.substr(0,13).split("").map(function(a){return parseInt(a,10)}).reduce(function(a,o,e){return a+o*(3-e%2*2)},0);return 10*Math.ceil(s/10)-s},b=function(h){function s(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,s),a.search(/^[0-9]{13}$/)!==-1&&(a+=E(a)),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(s,h),g(s,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===E(this.data)}}]),s}(v.default);D.default=b},4477:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.START_BIN="1010",D.END_BIN="11101",D.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5984:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.ITF14=D.ITF=void 0;var y=v(S(3074)),g=v(S(6972));function v(E){return E&&E.__esModule?E:{default:E}}D.ITF=y.default,D.ITF14=g.default},2582:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function b(h,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,s,a){return s&&b(h.prototype,s),a&&b(h,a),h}}(),v=function(b){function h(s,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,s,a))}return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}(h,b),g(h,[{key:"encode",value:function(){for(var s="110",a=0;a<this.data.length;a++){var o=parseInt(this.data[a]).toString(2);o=E(o,4-o.length);for(var e=0;e<o.length;e++)s+=o[e]=="0"?"100":"110"}return{data:s+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h}(((y=S(8012))&&y.__esModule?y:{default:y}).default);function E(b,h){for(var s=0;s<h;s++)b="0"+b;return b}D.default=v},7839:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(s,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,s+(0,v.mod10)(s),a))}return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}(h,b),h}(g.default);D.default=E},8035:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(s,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),s+=(0,v.mod10)(s),s+=(0,v.mod10)(s),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,s,a))}return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}(h,b),h}(g.default);D.default=E},5883:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(s,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,s+(0,v.mod11)(s),a))}return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}(h,b),h}(g.default);D.default=E},6287:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(s,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),s+=(0,v.mod11)(s),s+=(0,v.mod10)(s),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,s,a))}return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}(h,b),h}(g.default);D.default=E},4348:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.mod10=function(S){for(var y=0,g=0;g<S.length;g++){var v=parseInt(S[g]);(g+S.length)%2==0?y+=v:y+=2*v%10+Math.floor(2*v/10)}return(10-y%10)%10},D.mod11=function(S){for(var y=0,g=[2,3,4,5,6,7],v=0;v<S.length;v++){var E=parseInt(S[S.length-1-v]);y+=g[v%g.length]*E}return(11-y%11)%11}},8458:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.MSI1110=D.MSI1010=D.MSI11=D.MSI10=D.MSI=void 0;var y=h(S(2582)),g=h(S(7839)),v=h(S(5883)),E=h(S(8035)),b=h(S(6287));function h(s){return s&&s.__esModule?s:{default:s}}D.MSI=y.default,D.MSI10=g.default,D.MSI11=v.default,D.MSI1010=E.default,D.MSI1110=b.default},123:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.codabar=void 0;var y,g=function(){function E(b,h){for(var s=0;s<h.length;s++){var a=h[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}return function(b,h,s){return h&&E(b.prototype,h),s&&E(b,s),b}}(),v=function(E){function b(h,s){(function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")})(this,b),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var a=function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,h.toUpperCase(),s));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return function(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);h.prototype=Object.create(s&&s.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(h,s):h.__proto__=s)}(b,E),g(b,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],s=this.getEncodings(),a=0;a<this.data.length;a++)h.push(s[this.data.charAt(a)]),a!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),b}(((y=S(8012))&&y.__esModule?y:{default:y}).default);D.codabar=v},2289:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=S(3361),g=S(4935),v=S(5321),E=S(5984),b=S(8458),h=S(3840),s=S(123),a=S(6447);D.default={CODE39:y.CODE39,CODE128:g.CODE128,CODE128A:g.CODE128A,CODE128B:g.CODE128B,CODE128C:g.CODE128C,EAN13:v.EAN13,EAN8:v.EAN8,EAN5:v.EAN5,EAN2:v.EAN2,UPC:v.UPC,UPCE:v.UPCE,ITF14:E.ITF14,ITF:E.ITF,MSI:b.MSI,MSI10:b.MSI10,MSI11:b.MSI11,MSI1010:b.MSI1010,MSI1110:b.MSI1110,pharmacode:h.pharmacode,codabar:s.codabar,GenericBarcode:a.GenericBarcode}},3840:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.pharmacode=void 0;var y,g=function(){function E(b,h){for(var s=0;s<h.length;s++){var a=h[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}return function(b,h,s){return h&&E(b.prototype,h),s&&E(b,s),b}}(),v=function(E){function b(h,s){(function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")})(this,b);var a=function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,h,s));return a.number=parseInt(h,10),a}return function(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);h.prototype=Object.create(s&&s.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(h,s):h.__proto__=s)}(b,E),g(b,[{key:"encode",value:function(){for(var h=this.number,s="";!isNaN(h)&&h!=0;)h%2==0?(s="11100"+s,h=(h-2)/2):(s="100"+s,h=(h-1)/2);return{data:s=s.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),b}(((y=S(8012))&&y.__esModule?y:{default:y}).default);D.pharmacode=v},8532:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var S=function(){function g(v,E){for(var b=0;b<E.length;b++){var h=E[b];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,E,b){return E&&g(v.prototype,E),b&&g(v,b),v}}(),y=function(){function g(v){(function(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")})(this,g),this.api=v}return S(g,[{key:"handleCatch",value:function(v){if(v.name!=="InvalidInputException")throw v;if(this.api._options.valid===this.api._defaults.valid)throw v.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(v){try{var E=v.apply(void 0,arguments);return this.api._options.valid(!0),E}catch(b){return this.handleCatch(b),this.api}}}]),g}();D.default=y},2362:(J,D)=>{"use strict";function S(h,s){if(!(h instanceof s))throw new TypeError("Cannot call a class as a function")}function y(h,s){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?h:s}function g(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);h.prototype=Object.create(s&&s.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(h,s):h.__proto__=s)}Object.defineProperty(D,"__esModule",{value:!0});var v=function(h){function s(a,o){S(this,s);var e=y(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.name="InvalidInputException",e.symbology=a,e.input=o,e.message='"'+e.input+'" is not a valid input for '+e.symbology,e}return g(s,Error),s}(),E=function(h){function s(){S(this,s);var a=y(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return a.name="InvalidElementException",a.message="Not supported type to render on",a}return g(s,Error),s}(),b=function(h){function s(){S(this,s);var a=y(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return a.name="NoElementException",a.message="No element to render on.",a}return g(s,Error),s}();D.InvalidInputException=v,D.InvalidElementException=E,D.NoElementException=b},7044:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(S){return S.marginTop=S.marginTop||S.margin,S.marginBottom=S.marginBottom||S.margin,S.marginRight=S.marginRight||S.margin,S.marginLeft=S.marginLeft||S.margin,S}},3898:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=v(S(5065)),g=v(S(6025));function v(E){return E&&E.__esModule?E:{default:E}}D.default=function(E){var b={};for(var h in g.default)g.default.hasOwnProperty(h)&&(E.hasAttribute("jsbarcode-"+h.toLowerCase())&&(b[h]=E.getAttribute("jsbarcode-"+h.toLowerCase())),E.hasAttribute("data-"+h.toLowerCase())&&(b[h]=E.getAttribute("data-"+h.toLowerCase())));return b.value=E.getAttribute("jsbarcode-value")||E.getAttribute("data-value"),(0,y.default)(b)}},9972:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g=b(S(3898)),v=b(S(2804)),E=S(2362);function b(h){return h&&h.__esModule?h:{default:h}}D.default=function h(s){if(typeof s=="string")return function(c){var f=document.querySelectorAll(c);if(f.length!==0){for(var n=[],w=0;w<f.length;w++)n.push(h(f[w]));return n}}(s);if(Array.isArray(s)){for(var a=[],o=0;o<s.length;o++)a.push(h(s[o]));return a}if(typeof HTMLCanvasElement!="undefined"&&s instanceof HTMLImageElement)return e=s,{element:u=document.createElement("canvas"),options:(0,g.default)(e),renderer:v.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",u.toDataURL())}};if(s&&s.nodeName&&s.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&s instanceof SVGElement)return{element:s,options:(0,g.default)(s),renderer:v.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&s instanceof HTMLCanvasElement)return{element:s,options:(0,g.default)(s),renderer:v.default.CanvasRenderer};if(s&&s.getContext)return{element:s,renderer:v.default.CanvasRenderer};if(s&&(s===void 0?"undefined":y(s))==="object"&&!s.nodeName)return{element:s,renderer:v.default.ObjectRenderer};throw new E.InvalidElementException;var e,u}},5443:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(S){var y=[];return function g(v){if(Array.isArray(v))for(var E=0;E<v.length;E++)g(v[E]);else v.text=v.text||"",v.data=v.data||"",y.push(v)}(S),y}},2276:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var S=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])}return y};D.default=function(y,g){return S({},y,g)}},5065:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function(S){var y=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var g in y)y.hasOwnProperty(g)&&typeof S[g=y[g]]=="string"&&(S[g]=parseInt(S[g],10));return typeof S.displayValue=="string"&&(S.displayValue=S.displayValue!="false"),S}},6025:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8204:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function h(s,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(s,a,o){return a&&h(s.prototype,a),o&&h(s,o),s}}(),v=(y=S(2276))&&y.__esModule?y:{default:y},E=S(7899),b=function(){function h(s,a,o){(function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")})(this,h),this.canvas=s,this.encodings=a,this.options=o}return g(h,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var s=0;s<this.encodings.length;s++){var a=(0,v.default)(this.options,this.encodings[s].options);this.drawCanvasBarcode(a,this.encodings[s]),this.drawCanvasText(a,this.encodings[s]),this.moveCanvasDrawing(this.encodings[s])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var s=this.canvas.getContext("2d");s.save(),(0,E.calculateEncodingAttributes)(this.encodings,this.options,s);var a=(0,E.getTotalWidthOfEncodings)(this.encodings),o=(0,E.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=a+this.options.marginLeft+this.options.marginRight,this.canvas.height=o,s.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(s.fillStyle=this.options.background,s.fillRect(0,0,this.canvas.width,this.canvas.height)),s.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(s,a){var o,e=this.canvas.getContext("2d"),u=a.data;o=s.textPosition=="top"?s.marginTop+s.fontSize+s.textMargin:s.marginTop,e.fillStyle=s.lineColor;for(var c=0;c<u.length;c++){var f=c*s.width+a.barcodePadding;u[c]==="1"?e.fillRect(f,o,s.width,s.height):u[c]&&e.fillRect(f,o,s.width,s.height*u[c])}}},{key:"drawCanvasText",value:function(s,a){var o,e,u=this.canvas.getContext("2d"),c=s.fontOptions+" "+s.fontSize+"px "+s.font;s.displayValue&&(e=s.textPosition=="top"?s.marginTop+s.fontSize-s.textMargin:s.height+s.textMargin+s.marginTop+s.fontSize,u.font=c,s.textAlign=="left"||a.barcodePadding>0?(o=0,u.textAlign="left"):s.textAlign=="right"?(o=a.width-1,u.textAlign="right"):(o=a.width/2,u.textAlign="center"),u.fillText(a.text,o,e))}},{key:"moveCanvasDrawing",value:function(s){this.canvas.getContext("2d").translate(s.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),h}();D.default=b},2804:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y=E(S(8204)),g=E(S(6917)),v=E(S(8652));function E(b){return b&&b.__esModule?b:{default:b}}D.default={CanvasRenderer:y.default,SVGRenderer:g.default,ObjectRenderer:v.default}},8652:(J,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var S=function(){function g(v,E){for(var b=0;b<E.length;b++){var h=E[b];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,E,b){return E&&g(v.prototype,E),b&&g(v,b),v}}(),y=function(){function g(v,E,b){(function(h,s){if(!(h instanceof s))throw new TypeError("Cannot call a class as a function")})(this,g),this.object=v,this.encodings=E,this.options=b}return S(g,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),g}();D.default=y},7899:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.getTotalWidthOfEncodings=D.calculateEncodingAttributes=D.getBarcodePadding=D.getEncodingHeight=D.getMaximumHeightOfEncodings=void 0;var y,g=(y=S(2276))&&y.__esModule?y:{default:y};function v(h,s){return s.height+(s.displayValue&&h.text.length>0?s.fontSize+s.textMargin:0)+s.marginTop+s.marginBottom}function E(h,s,a){if(a.displayValue&&s<h){if(a.textAlign=="center")return Math.floor((h-s)/2);if(a.textAlign=="left")return 0;if(a.textAlign=="right")return Math.floor(h-s)}return 0}function b(h,s,a){var o;if(a)o=a;else{if(typeof document=="undefined")return 0;o=document.createElement("canvas").getContext("2d")}o.font=s.fontOptions+" "+s.fontSize+"px "+s.font;var e=o.measureText(h);return e?e.width:0}D.getMaximumHeightOfEncodings=function(h){for(var s=0,a=0;a<h.length;a++)h[a].height>s&&(s=h[a].height);return s},D.getEncodingHeight=v,D.getBarcodePadding=E,D.calculateEncodingAttributes=function(h,s,a){for(var o=0;o<h.length;o++){var e,u=h[o],c=(0,g.default)(s,u.options);e=c.displayValue?b(u.text,c,a):0;var f=u.data.length*c.width;u.width=Math.ceil(Math.max(e,f)),u.height=v(u,c),u.barcodePadding=E(e,f,c)}},D.getTotalWidthOfEncodings=function(h){for(var s=0,a=0;a<h.length;a++)s+=h[a].width;return s}},6917:(J,D,S)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var y,g=function(){function s(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&s(a.prototype,o),e&&s(a,e),a}}(),v=(y=S(2276))&&y.__esModule?y:{default:y},E=S(7899),b="http://www.w3.org/2000/svg",h=function(){function s(a,o,e){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s),this.svg=a,this.encodings=o,this.options=e,this.document=e.xmlDocument||document}return g(s,[{key:"render",value:function(){var a=this.options.marginLeft;this.prepareSVG();for(var o=0;o<this.encodings.length;o++){var e=this.encodings[o],u=(0,v.default)(this.options,e.options),c=this.createGroup(a,u.marginTop,this.svg);this.setGroupOptions(c,u),this.drawSvgBarcode(c,u,e),this.drawSVGText(c,u,e),a+=e.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,E.calculateEncodingAttributes)(this.encodings,this.options);var a=(0,E.getTotalWidthOfEncodings)(this.encodings),o=(0,E.getMaximumHeightOfEncodings)(this.encodings),e=a+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(e,o),this.options.background&&this.drawRect(0,0,e,o,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(a,o,e){var u,c=e.data;u=o.textPosition=="top"?o.fontSize+o.textMargin:0;for(var f=0,n=0,w=0;w<c.length;w++)n=w*o.width+e.barcodePadding,c[w]==="1"?f++:f>0&&(this.drawRect(n-o.width*f,u,o.width*f,o.height,a),f=0);f>0&&this.drawRect(n-o.width*(f-1),u,o.width*f,o.height,a)}},{key:"drawSVGText",value:function(a,o,e){var u,c,f=this.document.createElementNS(b,"text");o.displayValue&&(f.setAttribute("style","font:"+o.fontOptions+" "+o.fontSize+"px "+o.font),c=o.textPosition=="top"?o.fontSize-o.textMargin:o.height+o.textMargin+o.fontSize,o.textAlign=="left"||e.barcodePadding>0?(u=0,f.setAttribute("text-anchor","start")):o.textAlign=="right"?(u=e.width-1,f.setAttribute("text-anchor","end")):(u=e.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",u),f.setAttribute("y",c),f.appendChild(this.document.createTextNode(e.text)),a.appendChild(f))}},{key:"setSvgAttributes",value:function(a,o){var e=this.svg;e.setAttribute("width",a+"px"),e.setAttribute("height",o+"px"),e.setAttribute("x","0px"),e.setAttribute("y","0px"),e.setAttribute("viewBox","0 0 "+a+" "+o),e.setAttribute("xmlns",b),e.setAttribute("version","1.1"),e.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(a,o,e){var u=this.document.createElementNS(b,"g");return u.setAttribute("transform","translate("+a+", "+o+")"),e.appendChild(u),u}},{key:"setGroupOptions",value:function(a,o){a.setAttribute("style","fill:"+o.lineColor+";")}},{key:"drawRect",value:function(a,o,e,u,c){var f=this.document.createElementNS(b,"rect");return f.setAttribute("x",a),f.setAttribute("y",o),f.setAttribute("width",e),f.setAttribute("height",u),c.appendChild(f),f}}]),s}();D.default=h},4244:J=>{"use strict";var D=function(S){return S!=S};J.exports=function(S,y){return S===0&&y===0?1/S==1/y:S===y||!(!D(S)||!D(y))}},609:(J,D,S)=>{"use strict";var y=S(4289),g=S(5559),v=S(4244),E=S(5624),b=S(2281),h=g(E(),Object);y(h,{getPolyfill:E,implementation:v,shim:b}),J.exports=h},5624:(J,D,S)=>{"use strict";var y=S(4244);J.exports=function(){return typeof Object.is=="function"?Object.is:y}},2281:(J,D,S)=>{"use strict";var y=S(5624),g=S(4289);J.exports=function(){var v=y();return g(Object,{is:v},{is:function(){return Object.is!==v}}),v}},8987:(J,D,S)=>{"use strict";var y;if(!Object.keys){var g=Object.prototype.hasOwnProperty,v=Object.prototype.toString,E=S(1414),b=Object.prototype.propertyIsEnumerable,h=!b.call({toString:null},"toString"),s=b.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(c){var f=c.constructor;return f&&f.prototype===c},e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window=="undefined")return!1;for(var c in window)try{if(!e["$"+c]&&g.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{o(window[c])}catch(f){return!0}}catch(f){return!0}return!1}();y=function(c){var f=c!==null&&typeof c=="object",n=v.call(c)==="[object Function]",w=E(c),I=f&&v.call(c)==="[object String]",O=[];if(!f&&!n&&!w)throw new TypeError("Object.keys called on a non-object");var T=s&&n;if(I&&c.length>0&&!g.call(c,0))for(var P=0;P<c.length;++P)O.push(String(P));if(w&&c.length>0)for(var A=0;A<c.length;++A)O.push(String(A));else for(var R in c)T&&R==="prototype"||!g.call(c,R)||O.push(String(R));if(h)for(var F=function(Z){if(typeof window=="undefined"||!u)return o(Z);try{return o(Z)}catch(G){return!1}}(c),U=0;U<a.length;++U)F&&a[U]==="constructor"||!g.call(c,a[U])||O.push(a[U]);return O}}J.exports=y},2215:(J,D,S)=>{"use strict";var y=Array.prototype.slice,g=S(1414),v=Object.keys,E=v?function(h){return v(h)}:S(8987),b=Object.keys;E.shim=function(){if(Object.keys){var h=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);h||(Object.keys=function(s){return g(s)?b(y.call(s)):b(s)})}else Object.keys=E;return Object.keys||E},J.exports=E},1414:J=>{"use strict";var D=Object.prototype.toString;J.exports=function(S){var y=D.call(S),g=y==="[object Arguments]";return g||(g=y!=="[object Array]"&&S!==null&&typeof S=="object"&&typeof S.length=="number"&&S.length>=0&&D.call(S.callee)==="[object Function]"),g}},2592:(J,D,S)=>{const y=S(7138),g=S(5115),v=S(6907),E=S(3776);function b(h,s,a,o,e){const u=[].slice.call(arguments,1),c=u.length,f=typeof u[c-1]=="function";if(!f&&!y())throw new Error("Callback required as last argument");if(!f){if(c<1)throw new Error("Too few arguments provided");return c===1?(a=s,s=o=void 0):c!==2||s.getContext||(o=a,a=s,s=void 0),new Promise(function(n,w){try{const I=g.create(a,o);n(h(I,s,o))}catch(I){w(I)}})}if(c<2)throw new Error("Too few arguments provided");c===2?(e=a,a=s,s=o=void 0):c===3&&(s.getContext&&e===void 0?(e=o,o=void 0):(e=o,o=a,a=s,s=void 0));try{const n=g.create(a,o);e(null,h(n,s,o))}catch(n){e(n)}}D.create=g.create,D.toCanvas=b.bind(null,v.render),D.toDataURL=b.bind(null,v.renderToDataURL),D.toString=b.bind(null,function(h,s,a){return E.render(h,a)})},7138:J=>{J.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},1845:(J,D,S)=>{const y=S(242).getSymbolSize;D.getRowColCoords=function(g){if(g===1)return[];const v=Math.floor(g/7)+2,E=y(g),b=E===145?26:2*Math.ceil((E-13)/(2*v-2)),h=[E-7];for(let s=1;s<v-1;s++)h[s]=h[s-1]-b;return h.push(6),h.reverse()},D.getPositions=function(g){const v=[],E=D.getRowColCoords(g),b=E.length;for(let h=0;h<b;h++)for(let s=0;s<b;s++)h===0&&s===0||h===0&&s===b-1||h===b-1&&s===0||v.push([E[h],E[s]]);return v}},8260:(J,D,S)=>{const y=S(6910),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function v(E){this.mode=y.ALPHANUMERIC,this.data=E}v.getBitsLength=function(E){return 11*Math.floor(E/2)+E%2*6},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){let b;for(b=0;b+2<=this.data.length;b+=2){let h=45*g.indexOf(this.data[b]);h+=g.indexOf(this.data[b+1]),E.put(h,11)}this.data.length%2&&E.put(g.indexOf(this.data[b]),6)},J.exports=v},7245:J=>{function D(){this.buffer=[],this.length=0}D.prototype={get:function(S){const y=Math.floor(S/8);return(this.buffer[y]>>>7-S%8&1)==1},put:function(S,y){for(let g=0;g<y;g++)this.putBit((S>>>y-g-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(S){const y=Math.floor(this.length/8);this.buffer.length<=y&&this.buffer.push(0),S&&(this.buffer[y]|=128>>>this.length%8),this.length++}},J.exports=D},3280:J=>{function D(S){if(!S||S<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=S,this.data=new Uint8Array(S*S),this.reservedBit=new Uint8Array(S*S)}D.prototype.set=function(S,y,g,v){const E=S*this.size+y;this.data[E]=g,v&&(this.reservedBit[E]=!0)},D.prototype.get=function(S,y){return this.data[S*this.size+y]},D.prototype.xor=function(S,y,g){this.data[S*this.size+y]^=g},D.prototype.isReserved=function(S,y){return this.reservedBit[S*this.size+y]},J.exports=D},3424:(J,D,S)=>{const y=S(2378),g=S(6910);function v(E){this.mode=g.BYTE,this.data=new Uint8Array(y(E))}v.getBitsLength=function(E){return 8*E},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){for(let b=0,h=this.data.length;b<h;b++)E.put(this.data[b],8)},J.exports=v},5393:(J,D,S)=>{const y=S(4908),g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];D.getBlocksCount=function(E,b){switch(b){case y.L:return g[4*(E-1)+0];case y.M:return g[4*(E-1)+1];case y.Q:return g[4*(E-1)+2];case y.H:return g[4*(E-1)+3];default:return}},D.getTotalCodewordsCount=function(E,b){switch(b){case y.L:return v[4*(E-1)+0];case y.M:return v[4*(E-1)+1];case y.Q:return v[4*(E-1)+2];case y.H:return v[4*(E-1)+3];default:return}}},4908:(J,D)=>{D.L={bit:1},D.M={bit:0},D.Q={bit:3},D.H={bit:2},D.isValid=function(S){return S&&S.bit!==void 0&&S.bit>=0&&S.bit<4},D.from=function(S,y){if(D.isValid(S))return S;try{return function(g){if(typeof g!="string")throw new Error("Param is not a string");switch(g.toLowerCase()){case"l":case"low":return D.L;case"m":case"medium":return D.M;case"q":case"quartile":return D.Q;case"h":case"high":return D.H;default:throw new Error("Unknown EC Level: "+g)}}(S)}catch(g){return y}}},6526:(J,D,S)=>{const y=S(242).getSymbolSize;D.getPositions=function(g){const v=y(g);return[[0,0],[v-7,0],[0,v-7]]}},1642:(J,D,S)=>{const y=S(242),g=y.getBCHDigit(1335);D.getEncodedBits=function(v,E){const b=v.bit<<3|E;let h=b<<10;for(;y.getBCHDigit(h)-g>=0;)h^=1335<<y.getBCHDigit(h)-g;return 21522^(b<<10|h)}},9729:(J,D)=>{const S=new Uint8Array(512),y=new Uint8Array(256);(function(){let g=1;for(let v=0;v<255;v++)S[v]=g,y[g]=v,g<<=1,256&g&&(g^=285);for(let v=255;v<512;v++)S[v]=S[v-255]})(),D.log=function(g){if(g<1)throw new Error("log("+g+")");return y[g]},D.exp=function(g){return S[g]},D.mul=function(g,v){return g===0||v===0?0:S[y[g]+y[v]]}},5442:(J,D,S)=>{const y=S(6910),g=S(242);function v(E){this.mode=y.KANJI,this.data=E}v.getBitsLength=function(E){return 13*E},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){let b;for(b=0;b<this.data.length;b++){let h=g.toSJIS(this.data[b]);if(h>=33088&&h<=40956)h-=33088;else{if(!(h>=57408&&h<=60351))throw new Error("Invalid SJIS character: "+this.data[b]+`
Make sure your charset is UTF-8`);h-=49472}h=192*(h>>>8&255)+(255&h),E.put(h,13)}},J.exports=v},7126:(J,D)=>{D.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function S(y,g,v){switch(y){case D.Patterns.PATTERN000:return(g+v)%2==0;case D.Patterns.PATTERN001:return g%2==0;case D.Patterns.PATTERN010:return v%3==0;case D.Patterns.PATTERN011:return(g+v)%3==0;case D.Patterns.PATTERN100:return(Math.floor(g/2)+Math.floor(v/3))%2==0;case D.Patterns.PATTERN101:return g*v%2+g*v%3==0;case D.Patterns.PATTERN110:return(g*v%2+g*v%3)%2==0;case D.Patterns.PATTERN111:return(g*v%3+(g+v)%2)%2==0;default:throw new Error("bad maskPattern:"+y)}}D.isValid=function(y){return y!=null&&y!==""&&!isNaN(y)&&y>=0&&y<=7},D.from=function(y){return D.isValid(y)?parseInt(y,10):void 0},D.getPenaltyN1=function(y){const g=y.size;let v=0,E=0,b=0,h=null,s=null;for(let a=0;a<g;a++){E=b=0,h=s=null;for(let o=0;o<g;o++){let e=y.get(a,o);e===h?E++:(E>=5&&(v+=E-5+3),h=e,E=1),e=y.get(o,a),e===s?b++:(b>=5&&(v+=b-5+3),s=e,b=1)}E>=5&&(v+=E-5+3),b>=5&&(v+=b-5+3)}return v},D.getPenaltyN2=function(y){const g=y.size;let v=0;for(let E=0;E<g-1;E++)for(let b=0;b<g-1;b++){const h=y.get(E,b)+y.get(E,b+1)+y.get(E+1,b)+y.get(E+1,b+1);h!==4&&h!==0||v++}return 3*v},D.getPenaltyN3=function(y){const g=y.size;let v=0,E=0,b=0;for(let h=0;h<g;h++){E=b=0;for(let s=0;s<g;s++)E=E<<1&2047|y.get(h,s),s>=10&&(E===1488||E===93)&&v++,b=b<<1&2047|y.get(s,h),s>=10&&(b===1488||b===93)&&v++}return 40*v},D.getPenaltyN4=function(y){let g=0;const v=y.data.length;for(let E=0;E<v;E++)g+=y.data[E];return 10*Math.abs(Math.ceil(100*g/v/5)-10)},D.applyMask=function(y,g){const v=g.size;for(let E=0;E<v;E++)for(let b=0;b<v;b++)g.isReserved(b,E)||g.xor(b,E,S(y,b,E))},D.getBestMask=function(y,g){const v=Object.keys(D.Patterns).length;let E=0,b=1/0;for(let h=0;h<v;h++){g(h),D.applyMask(h,y);const s=D.getPenaltyN1(y)+D.getPenaltyN2(y)+D.getPenaltyN3(y)+D.getPenaltyN4(y);D.applyMask(h,y),s<b&&(b=s,E=h)}return E}},6910:(J,D,S)=>{const y=S(3114),g=S(7007);D.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},D.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},D.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},D.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},D.MIXED={bit:-1},D.getCharCountIndicator=function(v,E){if(!v.ccBits)throw new Error("Invalid mode: "+v);if(!y.isValid(E))throw new Error("Invalid version: "+E);return E>=1&&E<10?v.ccBits[0]:E<27?v.ccBits[1]:v.ccBits[2]},D.getBestModeForData=function(v){return g.testNumeric(v)?D.NUMERIC:g.testAlphanumeric(v)?D.ALPHANUMERIC:g.testKanji(v)?D.KANJI:D.BYTE},D.toString=function(v){if(v&&v.id)return v.id;throw new Error("Invalid mode")},D.isValid=function(v){return v&&v.bit&&v.ccBits},D.from=function(v,E){if(D.isValid(v))return v;try{return function(b){if(typeof b!="string")throw new Error("Param is not a string");switch(b.toLowerCase()){case"numeric":return D.NUMERIC;case"alphanumeric":return D.ALPHANUMERIC;case"kanji":return D.KANJI;case"byte":return D.BYTE;default:throw new Error("Unknown mode: "+b)}}(v)}catch(b){return E}}},1085:(J,D,S)=>{const y=S(6910);function g(v){this.mode=y.NUMERIC,this.data=v.toString()}g.getBitsLength=function(v){return 10*Math.floor(v/3)+(v%3?v%3*3+1:0)},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(v){let E,b,h;for(E=0;E+3<=this.data.length;E+=3)b=this.data.substr(E,3),h=parseInt(b,10),v.put(h,10);const s=this.data.length-E;s>0&&(b=this.data.substr(E),h=parseInt(b,10),v.put(h,3*s+1))},J.exports=g},6143:(J,D,S)=>{const y=S(9729);D.mul=function(g,v){const E=new Uint8Array(g.length+v.length-1);for(let b=0;b<g.length;b++)for(let h=0;h<v.length;h++)E[b+h]^=y.mul(g[b],v[h]);return E},D.mod=function(g,v){let E=new Uint8Array(g);for(;E.length-v.length>=0;){const b=E[0];for(let s=0;s<v.length;s++)E[s]^=y.mul(v[s],b);let h=0;for(;h<E.length&&E[h]===0;)h++;E=E.slice(h)}return E},D.generateECPolynomial=function(g){let v=new Uint8Array([1]);for(let E=0;E<g;E++)v=D.mul(v,new Uint8Array([1,y.exp(E)]));return v}},5115:(J,D,S)=>{const y=S(242),g=S(4908),v=S(7245),E=S(3280),b=S(1845),h=S(6526),s=S(7126),a=S(5393),o=S(2882),e=S(3103),u=S(1642),c=S(6910),f=S(6130);function n(I,O,T){const P=I.size,A=u.getEncodedBits(O,T);let R,F;for(R=0;R<15;R++)F=(A>>R&1)==1,R<6?I.set(R,8,F,!0):R<8?I.set(R+1,8,F,!0):I.set(P-15+R,8,F,!0),R<8?I.set(8,P-R-1,F,!0):R<9?I.set(8,15-R-1+1,F,!0):I.set(8,15-R-1,F,!0);I.set(P-8,8,1,!0)}function w(I,O,T,P){let A;if(Array.isArray(I))A=f.fromArray(I);else{if(typeof I!="string")throw new Error("Invalid data");{let G=O;if(!G){const M=f.rawSplit(I);G=e.getBestVersionForData(M,T)}A=f.fromString(I,G||40)}}const R=e.getBestVersionForData(A,T);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(O){if(O<R)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+R+`.
`)}else O=R;const F=function(G,M,z){const B=new v;z.forEach(function(q){B.put(q.mode.bit,4),B.put(q.getLength(),c.getCharCountIndicator(q.mode,G)),q.write(B)});const j=8*(y.getSymbolTotalCodewords(G)-a.getTotalCodewordsCount(G,M));for(B.getLengthInBits()+4<=j&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(0);const V=(j-B.getLengthInBits())/8;for(let q=0;q<V;q++)B.put(q%2?17:236,8);return function(q,L,K){const pe=y.getSymbolTotalCodewords(L),le=pe-a.getTotalCodewordsCount(L,K),me=a.getBlocksCount(L,K),ie=me-pe%me,X=Math.floor(pe/me),$=Math.floor(le/me),ce=$+1,fe=X-$,we=new o(fe);let oe=0;const Oe=new Array(me),Re=new Array(me);let Be=0;const Ne=new Uint8Array(q.buffer);for(let Xe=0;Xe<me;Xe++){const re=Xe<ie?$:ce;Oe[Xe]=Ne.slice(oe,oe+re),Re[Xe]=we.encode(Oe[Xe]),oe+=re,Be=Math.max(Be,re)}const Fe=new Uint8Array(pe);let je,Le,ze=0;for(je=0;je<Be;je++)for(Le=0;Le<me;Le++)je<Oe[Le].length&&(Fe[ze++]=Oe[Le][je]);for(je=0;je<fe;je++)for(Le=0;Le<me;Le++)Fe[ze++]=Re[Le][je];return Fe}(B,G,M)}(O,T,A),U=y.getSymbolSize(O),Z=new E(U);return function(G,M){const z=G.size,B=h.getPositions(M);for(let j=0;j<B.length;j++){const V=B[j][0],q=B[j][1];for(let L=-1;L<=7;L++)if(!(V+L<=-1||z<=V+L))for(let K=-1;K<=7;K++)q+K<=-1||z<=q+K||(L>=0&&L<=6&&(K===0||K===6)||K>=0&&K<=6&&(L===0||L===6)||L>=2&&L<=4&&K>=2&&K<=4?G.set(V+L,q+K,!0,!0):G.set(V+L,q+K,!1,!0))}}(Z,O),function(G){const M=G.size;for(let z=8;z<M-8;z++){const B=z%2==0;G.set(z,6,B,!0),G.set(6,z,B,!0)}}(Z),function(G,M){const z=b.getPositions(M);for(let B=0;B<z.length;B++){const j=z[B][0],V=z[B][1];for(let q=-2;q<=2;q++)for(let L=-2;L<=2;L++)q===-2||q===2||L===-2||L===2||q===0&&L===0?G.set(j+q,V+L,!0,!0):G.set(j+q,V+L,!1,!0)}}(Z,O),n(Z,T,0),O>=7&&function(G,M){const z=G.size,B=e.getEncodedBits(M);let j,V,q;for(let L=0;L<18;L++)j=Math.floor(L/3),V=L%3+z-8-3,q=(B>>L&1)==1,G.set(j,V,q,!0),G.set(V,j,q,!0)}(Z,O),function(G,M){const z=G.size;let B=-1,j=z-1,V=7,q=0;for(let L=z-1;L>0;L-=2)for(L===6&&L--;;){for(let K=0;K<2;K++)if(!G.isReserved(j,L-K)){let pe=!1;q<M.length&&(pe=(M[q]>>>V&1)==1),G.set(j,L-K,pe),V--,V===-1&&(q++,V=7)}if(j+=B,j<0||z<=j){j-=B,B=-B;break}}}(Z,F),isNaN(P)&&(P=s.getBestMask(Z,n.bind(null,Z,T))),s.applyMask(P,Z),n(Z,T,P),{modules:Z,version:O,errorCorrectionLevel:T,maskPattern:P,segments:A}}D.create=function(I,O){if(I===void 0||I==="")throw new Error("No input text");let T,P,A=g.M;return O!==void 0&&(A=g.from(O.errorCorrectionLevel,g.M),T=e.from(O.version),P=s.from(O.maskPattern),O.toSJISFunc&&y.setToSJISFunction(O.toSJISFunc)),w(I,T,A,P)}},2882:(J,D,S)=>{const y=S(6143);function g(v){this.genPoly=void 0,this.degree=v,this.degree&&this.initialize(this.degree)}g.prototype.initialize=function(v){this.degree=v,this.genPoly=y.generateECPolynomial(this.degree)},g.prototype.encode=function(v){if(!this.genPoly)throw new Error("Encoder not initialized");const E=new Uint8Array(v.length+this.degree);E.set(v);const b=y.mod(E,this.genPoly),h=this.degree-b.length;if(h>0){const s=new Uint8Array(this.degree);return s.set(b,h),s}return b},J.exports=g},7007:(J,D)=>{let S="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";S=S.replace(/u/g,"\\u");const y="(?:(?![A-Z0-9 $%*+\\-./:]|"+S+`)(?:.|[\r
]))+`;D.KANJI=new RegExp(S,"g"),D.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),D.BYTE=new RegExp(y,"g"),D.NUMERIC=new RegExp("[0-9]+","g"),D.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const g=new RegExp("^"+S+"$"),v=new RegExp("^[0-9]+$"),E=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");D.testKanji=function(b){return g.test(b)},D.testNumeric=function(b){return v.test(b)},D.testAlphanumeric=function(b){return E.test(b)}},6130:(J,D,S)=>{const y=S(6910),g=S(1085),v=S(8260),E=S(3424),b=S(5442),h=S(7007),s=S(242),a=S(5987);function o(n){return unescape(encodeURIComponent(n)).length}function e(n,w,I){const O=[];let T;for(;(T=n.exec(I))!==null;)O.push({data:T[0],index:T.index,mode:w,length:T[0].length});return O}function u(n){const w=e(h.NUMERIC,y.NUMERIC,n),I=e(h.ALPHANUMERIC,y.ALPHANUMERIC,n);let O,T;return s.isKanjiModeEnabled()?(O=e(h.BYTE,y.BYTE,n),T=e(h.KANJI,y.KANJI,n)):(O=e(h.BYTE_KANJI,y.BYTE,n),T=[]),w.concat(I,O,T).sort(function(P,A){return P.index-A.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function c(n,w){switch(w){case y.NUMERIC:return g.getBitsLength(n);case y.ALPHANUMERIC:return v.getBitsLength(n);case y.KANJI:return b.getBitsLength(n);case y.BYTE:return E.getBitsLength(n)}}function f(n,w){let I;const O=y.getBestModeForData(n);if(I=y.from(w,O),I!==y.BYTE&&I.bit<O.bit)throw new Error('"'+n+'" cannot be encoded with mode '+y.toString(I)+`.
 Suggested mode is: `+y.toString(O));switch(I!==y.KANJI||s.isKanjiModeEnabled()||(I=y.BYTE),I){case y.NUMERIC:return new g(n);case y.ALPHANUMERIC:return new v(n);case y.KANJI:return new b(n);case y.BYTE:return new E(n)}}D.fromArray=function(n){return n.reduce(function(w,I){return typeof I=="string"?w.push(f(I,null)):I.data&&w.push(f(I.data,I.mode)),w},[])},D.fromString=function(n,w){const I=function(A){const R=[];for(let F=0;F<A.length;F++){const U=A[F];switch(U.mode){case y.NUMERIC:R.push([U,{data:U.data,mode:y.ALPHANUMERIC,length:U.length},{data:U.data,mode:y.BYTE,length:U.length}]);break;case y.ALPHANUMERIC:R.push([U,{data:U.data,mode:y.BYTE,length:U.length}]);break;case y.KANJI:R.push([U,{data:U.data,mode:y.BYTE,length:o(U.data)}]);break;case y.BYTE:R.push([{data:U.data,mode:y.BYTE,length:o(U.data)}])}}return R}(u(n,s.isKanjiModeEnabled())),O=function(A,R){const F={},U={start:{}};let Z=["start"];for(let G=0;G<A.length;G++){const M=A[G],z=[];for(let B=0;B<M.length;B++){const j=M[B],V=""+G+B;z.push(V),F[V]={node:j,lastCount:0},U[V]={};for(let q=0;q<Z.length;q++){const L=Z[q];F[L]&&F[L].node.mode===j.mode?(U[L][V]=c(F[L].lastCount+j.length,j.mode)-c(F[L].lastCount,j.mode),F[L].lastCount+=j.length):(F[L]&&(F[L].lastCount=j.length),U[L][V]=c(j.length,j.mode)+4+y.getCharCountIndicator(j.mode,R))}}Z=z}for(let G=0;G<Z.length;G++)U[Z[G]].end=0;return{map:U,table:F}}(I,w),T=a.find_path(O.map,"start","end"),P=[];for(let A=1;A<T.length-1;A++)P.push(O.table[T[A]].node);return D.fromArray(P.reduce(function(A,R){const F=A.length-1>=0?A[A.length-1]:null;return F&&F.mode===R.mode?(A[A.length-1].data+=R.data,A):(A.push(R),A)},[]))},D.rawSplit=function(n){return D.fromArray(u(n,s.isKanjiModeEnabled()))}},242:(J,D)=>{let S;const y=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D.getSymbolSize=function(g){if(!g)throw new Error('"version" cannot be null or undefined');if(g<1||g>40)throw new Error('"version" should be in range from 1 to 40');return 4*g+17},D.getSymbolTotalCodewords=function(g){return y[g]},D.getBCHDigit=function(g){let v=0;for(;g!==0;)v++,g>>>=1;return v},D.setToSJISFunction=function(g){if(typeof g!="function")throw new Error('"toSJISFunc" is not a valid function.');S=g},D.isKanjiModeEnabled=function(){return S!==void 0},D.toSJIS=function(g){return S(g)}},3114:(J,D)=>{D.isValid=function(S){return!isNaN(S)&&S>=1&&S<=40}},3103:(J,D,S)=>{const y=S(242),g=S(5393),v=S(4908),E=S(6910),b=S(3114),h=y.getBCHDigit(7973);function s(o,e){return E.getCharCountIndicator(o,e)+4}function a(o,e){let u=0;return o.forEach(function(c){const f=s(c.mode,e);u+=f+c.getBitsLength()}),u}D.from=function(o,e){return b.isValid(o)?parseInt(o,10):e},D.getCapacity=function(o,e,u){if(!b.isValid(o))throw new Error("Invalid QR Code version");u===void 0&&(u=E.BYTE);const c=8*(y.getSymbolTotalCodewords(o)-g.getTotalCodewordsCount(o,e));if(u===E.MIXED)return c;const f=c-s(u,o);switch(u){case E.NUMERIC:return Math.floor(f/10*3);case E.ALPHANUMERIC:return Math.floor(f/11*2);case E.KANJI:return Math.floor(f/13);case E.BYTE:default:return Math.floor(f/8)}},D.getBestVersionForData=function(o,e){let u;const c=v.from(e,v.M);if(Array.isArray(o)){if(o.length>1)return function(f,n){for(let w=1;w<=40;w++)if(a(f,w)<=D.getCapacity(w,n,E.MIXED))return w}(o,c);if(o.length===0)return 1;u=o[0]}else u=o;return function(f,n,w){for(let I=1;I<=40;I++)if(n<=D.getCapacity(I,w,f))return I}(u.mode,u.getLength(),c)},D.getEncodedBits=function(o){if(!b.isValid(o)||o<7)throw new Error("Invalid QR Code version");let e=o<<12;for(;y.getBCHDigit(e)-h>=0;)e^=7973<<y.getBCHDigit(e)-h;return o<<12|e}},6907:(J,D,S)=>{const y=S(9653);D.render=function(g,v,E){let b=E,h=v;b!==void 0||v&&v.getContext||(b=v,v=void 0),v||(h=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),b=y.getOptions(b);const s=y.getImageWidth(g.modules.size,b),a=h.getContext("2d"),o=a.createImageData(s,s);return y.qrToImageData(o.data,g,b),function(e,u,c){e.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=c,u.width=c,u.style.height=c+"px",u.style.width=c+"px"}(a,h,s),a.putImageData(o,0,0),h},D.renderToDataURL=function(g,v,E){let b=E;b!==void 0||v&&v.getContext||(b=v,v=void 0),b||(b={});const h=D.render(g,v,b),s=b.type||"image/png",a=b.rendererOpts||{};return h.toDataURL(s,a.quality)}},3776:(J,D,S)=>{const y=S(9653);function g(E,b){const h=E.a/255,s=b+'="'+E.hex+'"';return h<1?s+" "+b+'-opacity="'+h.toFixed(2).slice(1)+'"':s}function v(E,b,h){let s=E+b;return h!==void 0&&(s+=" "+h),s}D.render=function(E,b,h){const s=y.getOptions(b),a=E.modules.size,o=E.modules.data,e=a+2*s.margin,u=s.color.light.a?"<path "+g(s.color.light,"fill")+' d="M0 0h'+e+"v"+e+'H0z"/>':"",c="<path "+g(s.color.dark,"stroke")+' d="'+function(w,I,O){let T="",P=0,A=!1,R=0;for(let F=0;F<w.length;F++){const U=Math.floor(F%I),Z=Math.floor(F/I);U||A||(A=!0),w[F]?(R++,F>0&&U>0&&w[F-1]||(T+=A?v("M",U+O,.5+Z+O):v("m",P,0),P=0,A=!1),U+1<I&&w[F+1]||(T+=v("h",R),R=0)):P++}return T}(o,a,s.margin)+'"/>',f='viewBox="0 0 '+e+" "+e+'"',n='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+c+`</svg>
`;return typeof h=="function"&&h(null,n),n}},9653:(J,D)=>{function S(y){if(typeof y=="number"&&(y=y.toString()),typeof y!="string")throw new Error("Color should be defined as hex string");let g=y.slice().replace("#","").split("");if(g.length<3||g.length===5||g.length>8)throw new Error("Invalid hex color: "+y);g.length!==3&&g.length!==4||(g=Array.prototype.concat.apply([],g.map(function(E){return[E,E]}))),g.length===6&&g.push("F","F");const v=parseInt(g.join(""),16);return{r:v>>24&255,g:v>>16&255,b:v>>8&255,a:255&v,hex:"#"+g.slice(0,6).join("")}}D.getOptions=function(y){y||(y={}),y.color||(y.color={});const g=y.margin===void 0||y.margin===null||y.margin<0?4:y.margin,v=y.width&&y.width>=21?y.width:void 0,E=y.scale||4;return{width:v,scale:v?4:E,margin:g,color:{dark:S(y.color.dark||"#000000ff"),light:S(y.color.light||"#ffffffff")},type:y.type,rendererOpts:y.rendererOpts||{}}},D.getScale=function(y,g){return g.width&&g.width>=y+2*g.margin?g.width/(y+2*g.margin):g.scale},D.getImageWidth=function(y,g){const v=D.getScale(y,g);return Math.floor((y+2*g.margin)*v)},D.qrToImageData=function(y,g,v){const E=g.modules.size,b=g.modules.data,h=D.getScale(E,v),s=Math.floor((E+2*v.margin)*h),a=v.margin*h,o=[v.color.light,v.color.dark];for(let e=0;e<s;e++)for(let u=0;u<s;u++){let c=4*(e*s+u),f=v.color.light;e>=a&&u>=a&&e<s-a&&u<s-a&&(f=o[b[Math.floor((e-a)/h)*E+Math.floor((u-a)/h)]?1:0]),y[c++]=f.r,y[c++]=f.g,y[c++]=f.b,y[c]=f.a}}},4175:(J,D,S)=>{var y=S(7529),g=S(251),v=S(4470),E=S(4644),b=String.fromCharCode(0),h=function(s){Array.isArray(s)?this.ops=s:s!=null&&Array.isArray(s.ops)?this.ops=s.ops:this.ops=[]};h.prototype.insert=function(s,a){var o={};return s.length===0?this:(o.insert=s,a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(o.attributes=a),this.push(o))},h.prototype.delete=function(s){return s<=0?this:this.push({delete:s})},h.prototype.retain=function(s,a){if(s<=0)return this;var o={retain:s};return a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(o.attributes=a),this.push(o)},h.prototype.push=function(s){var a=this.ops.length,o=this.ops[a-1];if(s=v(!0,{},s),typeof o=="object"){if(typeof s.delete=="number"&&typeof o.delete=="number")return this.ops[a-1]={delete:o.delete+s.delete},this;if(typeof o.delete=="number"&&s.insert!=null&&(a-=1,typeof(o=this.ops[a-1])!="object"))return this.ops.unshift(s),this;if(g(s.attributes,o.attributes)){if(typeof s.insert=="string"&&typeof o.insert=="string")return this.ops[a-1]={insert:o.insert+s.insert},typeof s.attributes=="object"&&(this.ops[a-1].attributes=s.attributes),this;if(typeof s.retain=="number"&&typeof o.retain=="number")return this.ops[a-1]={retain:o.retain+s.retain},typeof s.attributes=="object"&&(this.ops[a-1].attributes=s.attributes),this}}return a===this.ops.length?this.ops.push(s):this.ops.splice(a,0,s),this},h.prototype.chop=function(){var s=this.ops[this.ops.length-1];return s&&s.retain&&!s.attributes&&this.ops.pop(),this},h.prototype.filter=function(s){return this.ops.filter(s)},h.prototype.forEach=function(s){this.ops.forEach(s)},h.prototype.map=function(s){return this.ops.map(s)},h.prototype.partition=function(s){var a=[],o=[];return this.forEach(function(e){(s(e)?a:o).push(e)}),[a,o]},h.prototype.reduce=function(s,a){return this.ops.reduce(s,a)},h.prototype.changeLength=function(){return this.reduce(function(s,a){return a.insert?s+E.length(a):a.delete?s-a.delete:s},0)},h.prototype.length=function(){return this.reduce(function(s,a){return s+E.length(a)},0)},h.prototype.slice=function(s,a){s=s||0,typeof a!="number"&&(a=1/0);for(var o=[],e=E.iterator(this.ops),u=0;u<a&&e.hasNext();){var c;u<s?c=e.next(s-u):(c=e.next(a-u),o.push(c)),u+=E.length(c)}return new h(o)},h.prototype.compose=function(s){var a=E.iterator(this.ops),o=E.iterator(s.ops),e=[],u=o.peek();if(u!=null&&typeof u.retain=="number"&&u.attributes==null){for(var c=u.retain;a.peekType()==="insert"&&a.peekLength()<=c;)c-=a.peekLength(),e.push(a.next());u.retain-c>0&&o.next(u.retain-c)}for(var f=new h(e);a.hasNext()||o.hasNext();)if(o.peekType()==="insert")f.push(o.next());else if(a.peekType()==="delete")f.push(a.next());else{var n=Math.min(a.peekLength(),o.peekLength()),w=a.next(n),I=o.next(n);if(typeof I.retain=="number"){var O={};typeof w.retain=="number"?O.retain=n:O.insert=w.insert;var T=E.attributes.compose(w.attributes,I.attributes,typeof w.retain=="number");if(T&&(O.attributes=T),f.push(O),!o.hasNext()&&g(f.ops[f.ops.length-1],O)){var P=new h(a.rest());return f.concat(P).chop()}}else typeof I.delete=="number"&&typeof w.retain=="number"&&f.push(I)}return f.chop()},h.prototype.concat=function(s){var a=new h(this.ops.slice());return s.ops.length>0&&(a.push(s.ops[0]),a.ops=a.ops.concat(s.ops.slice(1))),a},h.prototype.diff=function(s,a){if(this.ops===s.ops)return new h;var o=[this,s].map(function(n){return n.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:b;throw new Error("diff() called "+(n===s?"on":"with")+" non-document")}).join("")}),e=new h,u=y(o[0],o[1],a),c=E.iterator(this.ops),f=E.iterator(s.ops);return u.forEach(function(n){for(var w=n[1].length;w>0;){var I=0;switch(n[0]){case y.INSERT:I=Math.min(f.peekLength(),w),e.push(f.next(I));break;case y.DELETE:I=Math.min(w,c.peekLength()),c.next(I),e.delete(I);break;case y.EQUAL:I=Math.min(c.peekLength(),f.peekLength(),w);var O=c.next(I),T=f.next(I);g(O.insert,T.insert)?e.retain(I,E.attributes.diff(O.attributes,T.attributes)):e.push(T).delete(I)}w-=I}}),e.chop()},h.prototype.eachLine=function(s,a){a=a||`
`;for(var o=E.iterator(this.ops),e=new h,u=0;o.hasNext();){if(o.peekType()!=="insert")return;var c=o.peek(),f=E.length(c)-o.peekLength(),n=typeof c.insert=="string"?c.insert.indexOf(a,f)-f:-1;if(n<0)e.push(o.next());else if(n>0)e.push(o.next(n));else{if(s(e,o.next(1).attributes||{},u)===!1)return;u+=1,e=new h}}e.length()>0&&s(e,{},u)},h.prototype.transform=function(s,a){if(a=!!a,typeof s=="number")return this.transformPosition(s,a);for(var o=E.iterator(this.ops),e=E.iterator(s.ops),u=new h;o.hasNext()||e.hasNext();)if(o.peekType()!=="insert"||!a&&e.peekType()==="insert")if(e.peekType()==="insert")u.push(e.next());else{var c=Math.min(o.peekLength(),e.peekLength()),f=o.next(c),n=e.next(c);if(f.delete)continue;n.delete?u.push(n):u.retain(c,E.attributes.transform(f.attributes,n.attributes,a))}else u.retain(E.length(o.next()));return u.chop()},h.prototype.transformPosition=function(s,a){a=!!a;for(var o=E.iterator(this.ops),e=0;o.hasNext()&&e<=s;){var u=o.peekLength(),c=o.peekType();o.next(),c!=="delete"?(c==="insert"&&(e<s||!a)&&(s+=u),e+=u):s-=Math.min(u,s-e)}return s},J.exports=h},4644:(J,D,S)=>{var y=S(251),g=S(4470),v={attributes:{compose:function(b,h,s){typeof b!="object"&&(b={}),typeof h!="object"&&(h={});var a=g(!0,{},h);for(var o in s||(a=Object.keys(a).reduce(function(e,u){return a[u]!=null&&(e[u]=a[u]),e},{})),b)b[o]!==void 0&&h[o]===void 0&&(a[o]=b[o]);return Object.keys(a).length>0?a:void 0},diff:function(b,h){typeof b!="object"&&(b={}),typeof h!="object"&&(h={});var s=Object.keys(b).concat(Object.keys(h)).reduce(function(a,o){return y(b[o],h[o])||(a[o]=h[o]===void 0?null:h[o]),a},{});return Object.keys(s).length>0?s:void 0},transform:function(b,h,s){if(typeof b!="object")return h;if(typeof h=="object"){if(!s)return h;var a=Object.keys(h).reduce(function(o,e){return b[e]===void 0&&(o[e]=h[e]),o},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(b){return new E(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function E(b){this.ops=b,this.index=0,this.offset=0}E.prototype.hasNext=function(){return this.peekLength()<1/0},E.prototype.next=function(b){b||(b=1/0);var h=this.ops[this.index];if(h){var s=this.offset,a=v.length(h);if(b>=a-s?(b=a-s,this.index+=1,this.offset=0):this.offset+=b,typeof h.delete=="number")return{delete:b};var o={};return h.attributes&&(o.attributes=h.attributes),typeof h.retain=="number"?o.retain=b:typeof h.insert=="string"?o.insert=h.insert.substr(s,b):o.insert=h.insert,o}return{retain:1/0}},E.prototype.peek=function(){return this.ops[this.index]},E.prototype.peekLength=function(){return this.ops[this.index]?v.length(this.ops[this.index])-this.offset:1/0},E.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},E.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,h=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=b,this.index=h,[s].concat(a)}return[]},J.exports=v},6095:function(J){var D;D=function(){return function(S){var y={};function g(v){if(y[v])return y[v].exports;var E=y[v]={i:v,l:!1,exports:{}};return S[v].call(E.exports,E,E.exports,g),E.l=!0,E.exports}return g.m=S,g.c=y,g.d=function(v,E,b){g.o(v,E)||Object.defineProperty(v,E,{configurable:!1,enumerable:!0,get:b})},g.n=function(v){var E=v&&v.__esModule?function(){return v.default}:function(){return v};return g.d(E,"a",E),E},g.o=function(v,E){return Object.prototype.hasOwnProperty.call(v,E)},g.p="",g(g.s=109)}([function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(17),E=g(18),b=g(19),h=g(45),s=g(46),a=g(47),o=g(48),e=g(49),u=g(12),c=g(32),f=g(33),n=g(31),w=g(1),I={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:v.default,Format:E.default,Leaf:b.default,Embed:o.default,Scroll:h.default,Block:a.default,Inline:s.default,Text:e.default,Attributor:{Attribute:u.default,Class:c.default,Style:f.default,Store:n.default}};y.default=I},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var n in f)f.hasOwnProperty(n)&&(c[n]=f[n])},function(c,f){function n(){this.constructor=c}v(c,f),c.prototype=f===null?Object.create(f):(n.prototype=f.prototype,new n)});Object.defineProperty(y,"__esModule",{value:!0});var b=function(c){function f(n){var w=this;return n="[Parchment] "+n,(w=c.call(this,n)||this).message=n,w.name=w.constructor.name,w}return E(f,c),f}(Error);y.ParchmentError=b;var h,s={},a={},o={},e={};function u(c,f){var n;if(f===void 0&&(f=h.ANY),typeof c=="string")n=e[c]||s[c];else if(c instanceof Text||c.nodeType===Node.TEXT_NODE)n=e.text;else if(typeof c=="number")c&h.LEVEL&h.BLOCK?n=e.block:c&h.LEVEL&h.INLINE&&(n=e.inline);else if(c instanceof HTMLElement){var w=(c.getAttribute("class")||"").split(/\s+/);for(var I in w)if(n=a[w[I]])break;n=n||o[c.tagName]}return n==null?null:f&h.LEVEL&n.scope&&f&h.TYPE&n.scope?n:null}y.DATA_KEY="__blot",function(c){c[c.TYPE=3]="TYPE",c[c.LEVEL=12]="LEVEL",c[c.ATTRIBUTE=13]="ATTRIBUTE",c[c.BLOT=14]="BLOT",c[c.INLINE=7]="INLINE",c[c.BLOCK=11]="BLOCK",c[c.BLOCK_BLOT=10]="BLOCK_BLOT",c[c.INLINE_BLOT=6]="INLINE_BLOT",c[c.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",c[c.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",c[c.ANY=15]="ANY"}(h=y.Scope||(y.Scope={})),y.create=function(c,f){var n=u(c);if(n==null)throw new b("Unable to create "+c+" blot");var w=n,I=c instanceof Node||c.nodeType===Node.TEXT_NODE?c:w.create(f);return new w(I,f)},y.find=function c(f,n){return n===void 0&&(n=!1),f==null?null:f[y.DATA_KEY]!=null?f[y.DATA_KEY].blot:n?c(f.parentNode,n):null},y.query=u,y.register=function c(){for(var f=[],n=0;n<arguments.length;n++)f[n]=arguments[n];if(f.length>1)return f.map(function(O){return c(O)});var w=f[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new b("Invalid definition");if(w.blotName==="abstract")throw new b("Cannot register abstract class");if(e[w.blotName||w.attrName]=w,typeof w.keyName=="string")s[w.keyName]=w;else if(w.className!=null&&(a[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(O){return O.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var I=Array.isArray(w.tagName)?w.tagName:[w.tagName];I.forEach(function(O){o[O]!=null&&w.className!=null||(o[O]=w)})}return w}},function(S,y,g){var v=g(51),E=g(11),b=g(3),h=g(20),s=String.fromCharCode(0),a=function(o){Array.isArray(o)?this.ops=o:o!=null&&Array.isArray(o.ops)?this.ops=o.ops:this.ops=[]};a.prototype.insert=function(o,e){var u={};return o.length===0?this:(u.insert=o,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(u.attributes=e),this.push(u))},a.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},a.prototype.retain=function(o,e){if(o<=0)return this;var u={retain:o};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(u.attributes=e),this.push(u)},a.prototype.push=function(o){var e=this.ops.length,u=this.ops[e-1];if(o=b(!0,{},o),typeof u=="object"){if(typeof o.delete=="number"&&typeof u.delete=="number")return this.ops[e-1]={delete:u.delete+o.delete},this;if(typeof u.delete=="number"&&o.insert!=null&&(e-=1,typeof(u=this.ops[e-1])!="object"))return this.ops.unshift(o),this;if(E(o.attributes,u.attributes)){if(typeof o.insert=="string"&&typeof u.insert=="string")return this.ops[e-1]={insert:u.insert+o.insert},typeof o.attributes=="object"&&(this.ops[e-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof u.retain=="number")return this.ops[e-1]={retain:u.retain+o.retain},typeof o.attributes=="object"&&(this.ops[e-1].attributes=o.attributes),this}}return e===this.ops.length?this.ops.push(o):this.ops.splice(e,0,o),this},a.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},a.prototype.filter=function(o){return this.ops.filter(o)},a.prototype.forEach=function(o){this.ops.forEach(o)},a.prototype.map=function(o){return this.ops.map(o)},a.prototype.partition=function(o){var e=[],u=[];return this.forEach(function(c){(o(c)?e:u).push(c)}),[e,u]},a.prototype.reduce=function(o,e){return this.ops.reduce(o,e)},a.prototype.changeLength=function(){return this.reduce(function(o,e){return e.insert?o+h.length(e):e.delete?o-e.delete:o},0)},a.prototype.length=function(){return this.reduce(function(o,e){return o+h.length(e)},0)},a.prototype.slice=function(o,e){o=o||0,typeof e!="number"&&(e=1/0);for(var u=[],c=h.iterator(this.ops),f=0;f<e&&c.hasNext();){var n;f<o?n=c.next(o-f):(n=c.next(e-f),u.push(n)),f+=h.length(n)}return new a(u)},a.prototype.compose=function(o){var e=h.iterator(this.ops),u=h.iterator(o.ops),c=[],f=u.peek();if(f!=null&&typeof f.retain=="number"&&f.attributes==null){for(var n=f.retain;e.peekType()==="insert"&&e.peekLength()<=n;)n-=e.peekLength(),c.push(e.next());f.retain-n>0&&u.next(f.retain-n)}for(var w=new a(c);e.hasNext()||u.hasNext();)if(u.peekType()==="insert")w.push(u.next());else if(e.peekType()==="delete")w.push(e.next());else{var I=Math.min(e.peekLength(),u.peekLength()),O=e.next(I),T=u.next(I);if(typeof T.retain=="number"){var P={};typeof O.retain=="number"?P.retain=I:P.insert=O.insert;var A=h.attributes.compose(O.attributes,T.attributes,typeof O.retain=="number");if(A&&(P.attributes=A),w.push(P),!u.hasNext()&&E(w.ops[w.ops.length-1],P)){var R=new a(e.rest());return w.concat(R).chop()}}else typeof T.delete=="number"&&typeof O.retain=="number"&&w.push(T)}return w.chop()},a.prototype.concat=function(o){var e=new a(this.ops.slice());return o.ops.length>0&&(e.push(o.ops[0]),e.ops=e.ops.concat(o.ops.slice(1))),e},a.prototype.diff=function(o,e){if(this.ops===o.ops)return new a;var u=[this,o].map(function(I){return I.map(function(O){if(O.insert!=null)return typeof O.insert=="string"?O.insert:s;throw new Error("diff() called "+(I===o?"on":"with")+" non-document")}).join("")}),c=new a,f=v(u[0],u[1],e),n=h.iterator(this.ops),w=h.iterator(o.ops);return f.forEach(function(I){for(var O=I[1].length;O>0;){var T=0;switch(I[0]){case v.INSERT:T=Math.min(w.peekLength(),O),c.push(w.next(T));break;case v.DELETE:T=Math.min(O,n.peekLength()),n.next(T),c.delete(T);break;case v.EQUAL:T=Math.min(n.peekLength(),w.peekLength(),O);var P=n.next(T),A=w.next(T);E(P.insert,A.insert)?c.retain(T,h.attributes.diff(P.attributes,A.attributes)):c.push(A).delete(T)}O-=T}}),c.chop()},a.prototype.eachLine=function(o,e){e=e||`
`;for(var u=h.iterator(this.ops),c=new a,f=0;u.hasNext();){if(u.peekType()!=="insert")return;var n=u.peek(),w=h.length(n)-u.peekLength(),I=typeof n.insert=="string"?n.insert.indexOf(e,w)-w:-1;if(I<0)c.push(u.next());else if(I>0)c.push(u.next(I));else{if(o(c,u.next(1).attributes||{},f)===!1)return;f+=1,c=new a}}c.length()>0&&o(c,{},f)},a.prototype.transform=function(o,e){if(e=!!e,typeof o=="number")return this.transformPosition(o,e);for(var u=h.iterator(this.ops),c=h.iterator(o.ops),f=new a;u.hasNext()||c.hasNext();)if(u.peekType()!=="insert"||!e&&c.peekType()==="insert")if(c.peekType()==="insert")f.push(c.next());else{var n=Math.min(u.peekLength(),c.peekLength()),w=u.next(n),I=c.next(n);if(w.delete)continue;I.delete?f.push(I):f.retain(n,h.attributes.transform(w.attributes,I.attributes,e))}else f.retain(h.length(u.next()));return f.chop()},a.prototype.transformPosition=function(o,e){e=!!e;for(var u=h.iterator(this.ops),c=0;u.hasNext()&&c<=o;){var f=u.peekLength(),n=u.peekType();u.next(),n!=="delete"?(n==="insert"&&(c<o||!e)&&(o+=f),c+=f):o-=Math.min(f,o-c)}return o},S.exports=a},function(S,y){"use strict";var g=Object.prototype.hasOwnProperty,v=Object.prototype.toString,E=Object.defineProperty,b=Object.getOwnPropertyDescriptor,h=function(e){return typeof Array.isArray=="function"?Array.isArray(e):v.call(e)==="[object Array]"},s=function(e){if(!e||v.call(e)!=="[object Object]")return!1;var u,c=g.call(e,"constructor"),f=e.constructor&&e.constructor.prototype&&g.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!c&&!f)return!1;for(u in e);return u===void 0||g.call(e,u)},a=function(e,u){E&&u.name==="__proto__"?E(e,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):e[u.name]=u.newValue},o=function(e,u){if(u==="__proto__"){if(!g.call(e,u))return;if(b)return b(e,u).value}return e[u]};S.exports=function e(){var u,c,f,n,w,I,O=arguments[0],T=1,P=arguments.length,A=!1;for(typeof O=="boolean"&&(A=O,O=arguments[1]||{},T=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});T<P;++T)if((u=arguments[T])!=null)for(c in u)f=o(O,c),O!==(n=o(u,c))&&(A&&n&&(s(n)||(w=h(n)))?(w?(w=!1,I=f&&h(f)?f:[]):I=f&&s(f)?f:{},a(O,{name:c,newValue:e(A,I,n)})):n!==void 0&&a(O,{name:c,newValue:n}));return O}},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BlockEmbed=y.bubbleFormats=void 0;var v=function(){function T(P,A){for(var R=0;R<A.length;R++){var F=A[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,A,R){return A&&T(P.prototype,A),R&&T(P,R),P}}(),E=function T(P,A,R){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,A);if(F===void 0){var U=Object.getPrototypeOf(P);return U===null?void 0:T(U,A,R)}if("value"in F)return F.value;var Z=F.get;return Z!==void 0?Z.call(R):void 0},b=u(g(3)),h=u(g(2)),s=u(g(0)),a=u(g(16)),o=u(g(6)),e=u(g(7));function u(T){return T&&T.__esModule?T:{default:T}}function c(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function f(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?T:P}function n(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var w=function(T){function P(){return c(this,P),f(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return n(P,T),v(P,[{key:"attach",value:function(){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,b.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,R){var F=s.default.query(A,s.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,R)}},{key:"formatAt",value:function(A,R,F,U){this.format(F,U)}},{key:"insertAt",value:function(A,R,F){if(typeof R=="string"&&R.endsWith(`
`)){var U=s.default.create(I.blotName);this.parent.insertBefore(U,A===0?this:this.next),U.insertAt(0,R.slice(0,-1))}else E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,A,R,F)}}]),P}(s.default.Embed);w.scope=s.default.Scope.BLOCK_BLOT;var I=function(T){function P(A){c(this,P);var R=f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A));return R.cache={},R}return n(P,T),v(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(A,R){return R.length()===0?A:A.insert(R.value(),O(R))},new h.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(A,R){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,A,R),this.cache={}}},{key:"formatAt",value:function(A,R,F,U){R<=0||(s.default.query(F,s.default.Scope.BLOCK)?A+R===this.length()&&this.format(F,U):E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,A,Math.min(R,this.length()-A-1),F,U),this.cache={})}},{key:"insertAt",value:function(A,R,F){if(F!=null)return E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,A,R,F);if(R.length!==0){var U=R.split(`
`),Z=U.shift();Z.length>0&&(A<this.length()-1||this.children.tail==null?E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var G=this;U.reduce(function(M,z){return(G=G.split(M,!0)).insertAt(0,z),z.length},A+Z.length)}}},{key:"insertBefore",value:function(A,R){var F=this.children.head;E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,A,R),F instanceof a.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(A,R){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,A,R),this.cache={}}},{key:"optimize",value:function(A){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(R&&(A===0||A>=this.length()-1)){var F=this.clone();return A===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}var U=E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,A,R);return this.cache={},U}}]),P}(s.default.Block);function O(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null?P:(typeof T.formats=="function"&&(P=(0,b.default)(P,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope?P:O(T.parent,P))}I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[o.default,s.default.Embed,e.default],y.bubbleFormats=O,y.BlockEmbed=w,y.default=I},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.overload=y.expandConfig=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},E=function(G,M){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return function(z,B){var j=[],V=!0,q=!1,L=void 0;try{for(var K,pe=z[Symbol.iterator]();!(V=(K=pe.next()).done)&&(j.push(K.value),!B||j.length!==B);V=!0);}catch(le){q=!0,L=le}finally{try{!V&&pe.return&&pe.return()}finally{if(q)throw L}}return j}(G,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function G(M,z){for(var B=0;B<z.length;B++){var j=z[B];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}return function(M,z,B){return z&&G(M.prototype,z),B&&G(M,B),M}}();g(50);var h=I(g(2)),s=I(g(14)),a=I(g(8)),o=I(g(9)),e=I(g(0)),u=g(15),c=I(u),f=I(g(3)),n=I(g(10)),w=I(g(34));function I(G){return G&&G.__esModule?G:{default:G}}function O(G,M,z){return M in G?Object.defineProperty(G,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):G[M]=z,G}function T(G,M){if(!(G instanceof M))throw new TypeError("Cannot call a class as a function")}var P=(0,n.default)("quill"),A=function(){function G(M){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,G),this.options=R(M,B),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",M);this.options.debug&&G.debug(this.options.debug);var j=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new a.default,this.scroll=e.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(a.default.events.EDITOR_CHANGE,function(q){q===a.default.events.TEXT_CHANGE&&z.root.classList.toggle("ql-blank",z.editor.isBlank())}),this.emitter.on(a.default.events.SCROLL_UPDATE,function(q,L){var K=z.selection.lastRange,pe=K&&K.length===0?K.index:void 0;F.call(z,function(){return z.editor.update(null,L,pe)},q)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+j+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return b(G,null,[{key:"debug",value:function(M){M===!0&&(M="log"),n.default.level(M)}},{key:"find",value:function(M){return M.__quill||e.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&P.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,z){var B=this,j=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof M!="string"){var V=M.attrName||M.blotName;typeof V=="string"?this.register("formats/"+V,M,z):Object.keys(M).forEach(function(q){B.register(q,M[q],z)})}else this.imports[M]==null||j||P.warn("Overwriting "+M+" with",z),this.imports[M]=z,(M.startsWith("blots/")||M.startsWith("formats/"))&&z.blotName!=="abstract"?e.default.register(z):M.startsWith("modules")&&typeof z.register=="function"&&z.register()}}]),b(G,[{key:"addContainer",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var B=M;(M=document.createElement("div")).classList.add(B)}return this.container.insertBefore(M,z),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,z,B){var j=this,V=U(M,z,B),q=E(V,4);return M=q[0],z=q[1],B=q[3],F.call(this,function(){return j.editor.deleteText(M,z)},B,M,-1*z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,z){var B=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;return F.call(this,function(){var V=B.getSelection(!0),q=new h.default;if(V==null)return q;if(e.default.query(M,e.default.Scope.BLOCK))q=B.editor.formatLine(V.index,V.length,O({},M,z));else{if(V.length===0)return B.selection.format(M,z),q;q=B.editor.formatText(V.index,V.length,O({},M,z))}return B.setSelection(V,a.default.sources.SILENT),q},j)}},{key:"formatLine",value:function(M,z,B,j,V){var q,L=this,K=U(M,z,B,j,V),pe=E(K,4);return M=pe[0],z=pe[1],q=pe[2],V=pe[3],F.call(this,function(){return L.editor.formatLine(M,z,q)},V,M,0)}},{key:"formatText",value:function(M,z,B,j,V){var q,L=this,K=U(M,z,B,j,V),pe=E(K,4);return M=pe[0],z=pe[1],q=pe[2],V=pe[3],F.call(this,function(){return L.editor.formatText(M,z,q)},V,M,0)}},{key:"getBounds",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;B=typeof M=="number"?this.selection.getBounds(M,z):this.selection.getBounds(M.index,M.length);var j=this.container.getBoundingClientRect();return{bottom:B.bottom-j.top,height:B.height,left:B.left-j.left,right:B.right-j.left,top:B.top-j.top,width:B.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,B=U(M,z),j=E(B,2);return M=j[0],z=j[1],this.editor.getContents(M,z)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,z):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,z)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,B=U(M,z),j=E(B,2);return M=j[0],z=j[1],this.editor.getText(M,z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,z,B){var j=this,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return F.call(this,function(){return j.editor.insertEmbed(M,z,B)},V,M)}},{key:"insertText",value:function(M,z,B,j,V){var q,L=this,K=U(M,0,B,j,V),pe=E(K,4);return M=pe[0],q=pe[2],V=pe[3],F.call(this,function(){return L.editor.insertText(M,z,q)},V,M,z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,z,B){this.clipboard.dangerouslyPasteHTML(M,z,B)}},{key:"removeFormat",value:function(M,z,B){var j=this,V=U(M,z,B),q=E(V,4);return M=q[0],z=q[1],B=q[3],F.call(this,function(){return j.editor.removeFormat(M,z)},B,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return F.call(this,function(){M=new h.default(M);var j=z.getLength(),V=z.editor.deleteText(0,j),q=z.editor.applyDelta(M),L=q.ops[q.ops.length-1];return L!=null&&typeof L.insert=="string"&&L.insert[L.insert.length-1]===`
`&&(z.editor.deleteText(z.getLength()-1,1),q.delete(1)),V.compose(q)},B)}},{key:"setSelection",value:function(M,z,B){if(M==null)this.selection.setRange(null,z||G.sources.API);else{var j=U(M,z,B),V=E(j,4);M=V[0],z=V[1],B=V[3],this.selection.setRange(new u.Range(M,z),B),B!==a.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API,B=new h.default().insert(M);return this.setContents(B,z)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.default.sources.USER,z=this.scroll.update(M);return this.selection.update(M),z}},{key:"updateContents",value:function(M){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return F.call(this,function(){return M=new h.default(M),z.editor.applyDelta(M,B)},B,!0)}}]),G}();function R(G,M){if((M=(0,f.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},M)).theme&&M.theme!==A.DEFAULTS.theme){if(M.theme=A.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?")}else M.theme=w.default;var z=(0,f.default)(!0,{},M.theme.DEFAULTS);[z,M].forEach(function(j){j.modules=j.modules||{},Object.keys(j.modules).forEach(function(V){j.modules[V]===!0&&(j.modules[V]={})})});var B=Object.keys(z.modules).concat(Object.keys(M.modules)).reduce(function(j,V){var q=A.import("modules/"+V);return q==null?P.error("Cannot load "+V+" module. Are you sure you registered it?"):j[V]=q.DEFAULTS||{},j},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,f.default)(!0,{},A.DEFAULTS,{modules:B},z,M),["bounds","container","scrollingContainer"].forEach(function(j){typeof M[j]=="string"&&(M[j]=document.querySelector(M[j]))}),M.modules=Object.keys(M.modules).reduce(function(j,V){return M.modules[V]&&(j[V]=M.modules[V]),j},{}),M}function F(G,M,z,B){if(this.options.strict&&!this.isEnabled()&&M===a.default.sources.USER)return new h.default;var j=z==null?null:this.getSelection(),V=this.editor.delta,q=G();if(j!=null&&(z===!0&&(z=j.index),B==null?j=Z(j,q,M):B!==0&&(j=Z(j,z,B,M)),this.setSelection(j,a.default.sources.SILENT)),q.length()>0){var L,K,pe=[a.default.events.TEXT_CHANGE,q,V,M];(L=this.emitter).emit.apply(L,[a.default.events.EDITOR_CHANGE].concat(pe)),M!==a.default.sources.SILENT&&(K=this.emitter).emit.apply(K,pe)}return q}function U(G,M,z,B,j){var V={};return typeof G.index=="number"&&typeof G.length=="number"?typeof M!="number"?(j=B,B=z,z=M,M=G.length,G=G.index):(M=G.length,G=G.index):typeof M!="number"&&(j=B,B=z,z=M,M=0),(z===void 0?"undefined":v(z))==="object"?(V=z,j=B):typeof z=="string"&&(B!=null?V[z]=B:j=z),[G,M,V,j=j||a.default.sources.API]}function Z(G,M,z,B){if(G==null)return null;var j=void 0,V=void 0;if(M instanceof h.default){var q=[G.index,G.index+G.length].map(function(le){return M.transformPosition(le,B!==a.default.sources.USER)}),L=E(q,2);j=L[0],V=L[1]}else{var K=[G.index,G.index+G.length].map(function(le){return le<M||le===M&&B===a.default.sources.USER?le:z>=0?le+z:Math.max(M,le+z)}),pe=E(K,2);j=pe[0],V=pe[1]}return new u.Range(j,V-j)}A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=a.default.events,A.sources=a.default.sources,A.version="1.3.7",A.imports={delta:h.default,parchment:e.default,"core/module":o.default,"core/theme":w.default},y.expandConfig=R,y.overload=U,y.default=A},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),E=function u(c,f,n){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,f);if(w===void 0){var I=Object.getPrototypeOf(c);return I===null?void 0:u(I,f,n)}if("value"in w)return w.value;var O=w.get;return O!==void 0?O.call(n):void 0},b=s(g(7)),h=s(g(0));function s(u){return u&&u.__esModule?u:{default:u}}function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function o(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var e=function(u){function c(){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}(c,u),v(c,[{key:"formatAt",value:function(f,n,w,I){if(c.compare(this.statics.blotName,w)<0&&h.default.query(w,h.default.Scope.BLOT)){var O=this.isolate(f,n);I&&O.wrap(w,I)}else E(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"formatAt",this).call(this,f,n,w,I)}},{key:"optimize",value:function(f){if(E(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,f),this.parent instanceof c&&c.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(f,n){var w=c.order.indexOf(f),I=c.order.indexOf(n);return w>=0||I>=0?w-I:f===n?0:f<n?-1:1}}]),c}(h.default.Inline);e.allowedChildren=[e,h.default.Embed,b.default],e.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],y.default=e},function(S,y,g){"use strict";var v;function E(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function b(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),a}(((v=g(0))&&v.__esModule?v:{default:v}).default.Text);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),E=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0},b=h(g(54));function h(o){return o&&o.__esModule?o:{default:o}}var s=(0,h(g(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(o){document.addEventListener(o,function(){for(var e=arguments.length,u=Array(e),c=0;c<e;c++)u[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(f){var n;f.__quill&&f.__quill.emitter&&(n=f.__quill.emitter).handleDOM.apply(n,u)})})});var a=function(o){function e(){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u.listeners={},u.on("error",s.error),u}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),v(e,[{key:"emit",value:function(){s.log.apply(s,arguments),E(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),n=1;n<c;n++)f[n-1]=arguments[n];(this.listeners[u.type]||[]).forEach(function(w){var I=w.node,O=w.handler;(u.target===I||I.contains(u.target))&&O.apply(void 0,[u].concat(f))})}},{key:"listenDOM",value:function(u,c,f){this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push({node:c,handler:f})}}]),e}(b.default);a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},y.default=a},function(S,y,g){"use strict";function v(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(y,"__esModule",{value:!0});var E=function b(h){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v(this,b),this.quill=h,this.options=s};E.DEFAULTS={},y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=["error","warn","log","info"],E="warn";function b(s){if(v.indexOf(s)<=v.indexOf(E)){for(var a,o=arguments.length,e=Array(o>1?o-1:0),u=1;u<o;u++)e[u-1]=arguments[u];(a=console)[s].apply(a,e)}}function h(s){return v.reduce(function(a,o){return a[o]=b.bind(console,o,s),a},{})}b.level=h.level=function(s){E=s},y.default=h},function(S,y,g){var v=Array.prototype.slice,E=g(52),b=g(53),h=S.exports=function(o,e,u){return u||(u={}),o===e||(o instanceof Date&&e instanceof Date?o.getTime()===e.getTime():!o||!e||typeof o!="object"&&typeof e!="object"?u.strict?o===e:o==e:function(c,f,n){var w,I;if(s(c)||s(f)||c.prototype!==f.prototype)return!1;if(b(c))return!!b(f)&&(c=v.call(c),f=v.call(f),h(c,f,n));if(a(c)){if(!a(f)||c.length!==f.length)return!1;for(w=0;w<c.length;w++)if(c[w]!==f[w])return!1;return!0}try{var O=E(c),T=E(f)}catch(P){return!1}if(O.length!=T.length)return!1;for(O.sort(),T.sort(),w=O.length-1;w>=0;w--)if(O[w]!=T[w])return!1;for(w=O.length-1;w>=0;w--)if(I=O[w],!h(c[I],f[I],n))return!1;return typeof c==typeof f}(o,e,u))};function s(o){return o==null}function a(o){return!(!o||typeof o!="object"||typeof o.length!="number"||typeof o.copy!="function"||typeof o.slice!="function"||o.length>0&&typeof o[0]!="number")}},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(1),E=function(){function b(h,s,a){a===void 0&&(a={}),this.attrName=h,this.keyName=s;var o=v.Scope.TYPE&v.Scope.ATTRIBUTE;a.scope!=null?this.scope=a.scope&v.Scope.LEVEL|o:this.scope=v.Scope.ATTRIBUTE,a.whitelist!=null&&(this.whitelist=a.whitelist)}return b.keys=function(h){return[].map.call(h.attributes,function(s){return s.name})},b.prototype.add=function(h,s){return!!this.canAdd(h,s)&&(h.setAttribute(this.keyName,s),!0)},b.prototype.canAdd=function(h,s){return v.query(h,v.Scope.BLOT&(this.scope|v.Scope.TYPE))!=null&&(this.whitelist==null||(typeof s=="string"?this.whitelist.indexOf(s.replace(/["']/g,""))>-1:this.whitelist.indexOf(s)>-1))},b.prototype.remove=function(h){h.removeAttribute(this.keyName)},b.prototype.value=function(h){var s=h.getAttribute(this.keyName);return this.canAdd(h,s)&&s?s:""},b}();y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.Code=void 0;var v=function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return function(P,A){var R=[],F=!0,U=!1,Z=void 0;try{for(var G,M=P[Symbol.iterator]();!(F=(G=M.next()).done)&&(R.push(G.value),!A||R.length!==A);F=!0);}catch(z){U=!0,Z=z}finally{try{!F&&M.return&&M.return()}finally{if(U)throw Z}}return R}(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function O(T,P){for(var A=0;A<P.length;A++){var R=P[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,P,A){return P&&O(T.prototype,P),A&&O(T,A),T}}(),b=function O(T,P,A){T===null&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,P);if(R===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:O(F,P,A)}if("value"in R)return R.value;var U=R.get;return U!==void 0?U.call(A):void 0},h=u(g(2)),s=u(g(0)),a=u(g(4)),o=u(g(6)),e=u(g(7));function u(O){return O&&O.__esModule?O:{default:O}}function c(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function f(O,T){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?O:T}function n(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}var w=function(O){function T(){return c(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return n(T,O),T}(o.default);w.blotName="code",w.tagName="CODE";var I=function(O){function T(){return c(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return n(T,O),E(T,[{key:"delta",value:function(){var P=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(R,F){return R.insert(F).insert(`
`,P.formats())},new h.default)}},{key:"format",value:function(P,A){if(P!==this.statics.blotName||!A){var R=this.descendant(e.default,this.length()-1),F=v(R,1)[0];F!=null&&F.deleteAt(F.length()-1,1),b(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,P,A)}}},{key:"formatAt",value:function(P,A,R,F){if(A!==0&&s.default.query(R,s.default.Scope.BLOCK)!=null&&(R!==this.statics.blotName||F!==this.statics.formats(this.domNode))){var U=this.newlineIndex(P);if(!(U<0||U>=P+A)){var Z=this.newlineIndex(P,!0)+1,G=U-Z+1,M=this.isolate(Z,G),z=M.next;M.format(R,F),z instanceof T&&z.formatAt(0,P-Z+A-G,R,F)}}}},{key:"insertAt",value:function(P,A,R){if(R==null){var F=this.descendant(e.default,P),U=v(F,2),Z=U[0],G=U[1];Z.insertAt(G,A)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(A)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var R=this.domNode.textContent.slice(P).indexOf(`
`);return R>-1?P+R:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(s.default.create("text",`
`)),b(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,P);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(P),A.moveChildren(this),A.remove())}},{key:"replace",value:function(P){b(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var R=s.default.find(A);R==null?A.parentNode.removeChild(A):R instanceof s.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(P){var A=b(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,P);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),T}(a.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",y.Code=w,y.default=I},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},E=function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function(U,Z){var G=[],M=!0,z=!1,B=void 0;try{for(var j,V=U[Symbol.iterator]();!(M=(j=V.next()).done)&&(G.push(j.value),!Z||G.length!==Z);M=!0);}catch(q){z=!0,B=q}finally{try{!M&&V.return&&V.return()}finally{if(z)throw B}}return G}(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function R(F,U){for(var Z=0;Z<U.length;Z++){var G=U[Z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,U,Z){return U&&R(F.prototype,U),Z&&R(F,Z),F}}(),h=O(g(2)),s=O(g(20)),a=O(g(0)),o=O(g(13)),e=O(g(24)),u=g(4),c=O(u),f=O(g(16)),n=O(g(21)),w=O(g(11)),I=O(g(3));function O(R){return R&&R.__esModule?R:{default:R}}var T=/^[ -~]*$/,P=function(){function R(F){(function(U,Z){if(!(U instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,R),this.scroll=F,this.delta=this.getDelta()}return b(R,[{key:"applyDelta",value:function(F){var U=this,Z=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),(F=function(M){return M.reduce(function(z,B){if(B.insert===1){var j=(0,n.default)(B.attributes);return delete j.image,z.insert({image:B.attributes.image},j)}if(B.attributes==null||B.attributes.list!==!0&&B.attributes.bullet!==!0||((B=(0,n.default)(B)).attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var V=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert(V,B.attributes)}return z.push(B)},new h.default)}(F)).reduce(function(M,z){var B=z.retain||z.delete||z.insert.length||1,j=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var V=z.insert;V.endsWith(`
`)&&Z&&(Z=!1,V=V.slice(0,-1)),M>=G&&!V.endsWith(`
`)&&(Z=!0),U.scroll.insertAt(M,V);var q=U.scroll.line(M),L=E(q,2),K=L[0],pe=L[1],le=(0,I.default)({},(0,u.bubbleFormats)(K));if(K instanceof c.default){var me=K.descendant(a.default.Leaf,pe),ie=E(me,1)[0];le=(0,I.default)(le,(0,u.bubbleFormats)(ie))}j=s.default.attributes.diff(le,j)||{}}else if(v(z.insert)==="object"){var X=Object.keys(z.insert)[0];if(X==null)return M;U.scroll.insertAt(M,X,z.insert[X])}G+=B}return Object.keys(j).forEach(function($){U.scroll.formatAt(M,B,$,j[$])}),M+B},0),F.reduce(function(M,z){return typeof z.delete=="number"?(U.scroll.deleteAt(M,z.delete),M):M+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,U){return this.scroll.deleteAt(F,U),this.update(new h.default().retain(F).delete(U))}},{key:"formatLine",value:function(F,U){var Z=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(M){if(Z.scroll.whitelist==null||Z.scroll.whitelist[M]){var z=Z.scroll.lines(F,Math.max(U,1)),B=U;z.forEach(function(j){var V=j.length();if(j instanceof o.default){var q=F-j.offset(Z.scroll),L=j.newlineIndex(q+B)-q+1;j.formatAt(q,L,M,G[M])}else j.format(M,G[M]);B-=V})}}),this.scroll.optimize(),this.update(new h.default().retain(F).retain(U,(0,n.default)(G)))}},{key:"formatText",value:function(F,U){var Z=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(M){Z.scroll.formatAt(F,U,M,G[M])}),this.update(new h.default().retain(F).retain(U,(0,n.default)(G)))}},{key:"getContents",value:function(F,U){return this.delta.slice(F,F+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,U){return F.concat(U.delta())},new h.default)}},{key:"getFormat",value:function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=[],G=[];U===0?this.scroll.path(F).forEach(function(z){var B=E(z,1)[0];B instanceof c.default?Z.push(B):B instanceof a.default.Leaf&&G.push(B)}):(Z=this.scroll.lines(F,U),G=this.scroll.descendants(a.default.Leaf,F,U));var M=[Z,G].map(function(z){if(z.length===0)return{};for(var B=(0,u.bubbleFormats)(z.shift());Object.keys(B).length>0;){var j=z.shift();if(j==null)return B;B=A((0,u.bubbleFormats)(j),B)}return B});return I.default.apply(I.default,M)}},{key:"getText",value:function(F,U){return this.getContents(F,U).filter(function(Z){return typeof Z.insert=="string"}).map(function(Z){return Z.insert}).join("")}},{key:"insertEmbed",value:function(F,U,Z){return this.scroll.insertAt(F,U,Z),this.update(new h.default().retain(F).insert(function(G,M,z){return M in G?Object.defineProperty(G,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):G[M]=z,G}({},U,Z)))}},{key:"insertText",value:function(F,U){var Z=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,U),Object.keys(G).forEach(function(M){Z.scroll.formatAt(F,U.length,M,G[M])}),this.update(new h.default().retain(F).insert(U,(0,n.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName===c.default.blotName&&!(F.children.length>1)&&F.children.head instanceof f.default}},{key:"removeFormat",value:function(F,U){var Z=this.getText(F,U),G=this.scroll.line(F+U),M=E(G,2),z=M[0],B=M[1],j=0,V=new h.default;z!=null&&(j=z instanceof o.default?z.newlineIndex(B)-B+1:z.length()-B,V=z.delta().slice(B,B+j-1).insert(`
`));var q=this.getContents(F,U+j).diff(new h.default().insert(Z).concat(V)),L=new h.default().retain(F).concat(q);return this.applyDelta(L)}},{key:"update",value:function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(T)&&a.default.find(U[0].target)){var M=a.default.find(U[0].target),z=(0,u.bubbleFormats)(M),B=M.offset(this.scroll),j=U[0].oldValue.replace(e.default.CONTENTS,""),V=new h.default().insert(j),q=new h.default().insert(M.value()),L=new h.default().retain(B).concat(V.diff(q,Z));F=L.reduce(function(K,pe){return pe.insert?K.insert(pe.insert,z):K.push(pe)},new h.default),this.delta=G.compose(F)}else this.delta=this.getDelta(),F&&(0,w.default)(G.compose(F),this.delta)||(F=G.diff(this.delta,Z));return F}}]),R}();function A(R,F){return Object.keys(F).reduce(function(U,Z){return R[Z]==null||(F[Z]===R[Z]?U[Z]=F[Z]:Array.isArray(F[Z])?F[Z].indexOf(R[Z])<0&&(U[Z]=F[Z].concat([R[Z]])):U[Z]=[F[Z],R[Z]]),U},{})}y.default=P},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.Range=void 0;var v=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(T,P){var A=[],R=!0,F=!1,U=void 0;try{for(var Z,G=T[Symbol.iterator]();!(R=(Z=G.next()).done)&&(A.push(Z.value),!P||A.length!==P);R=!0);}catch(M){F=!0,U=M}finally{try{!R&&G.return&&G.return()}finally{if(F)throw U}}return A}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function I(O,T){for(var P=0;P<T.length;P++){var A=T[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,P){return T&&I(O.prototype,T),P&&I(O,P),O}}(),b=o(g(0)),h=o(g(21)),s=o(g(11)),a=o(g(8));function o(I){return I&&I.__esModule?I:{default:I}}function e(I){if(Array.isArray(I)){for(var O=0,T=Array(I.length);O<I.length;O++)T[O]=I[O];return T}return Array.from(I)}function u(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}var c=(0,o(g(10)).default)("quill:selection"),f=function I(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;u(this,I),this.index=O,this.length=T},n=function(){function I(O,T){var P=this;u(this,I),this.emitter=T,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=b.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,a.default.sources.USER),1)}),this.emitter.on(a.default.events.EDITOR_CHANGE,function(A,R){A===a.default.events.TEXT_CHANGE&&R.length()>0&&P.update(a.default.sources.SILENT)}),this.emitter.on(a.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var A=P.getNativeRange();A!=null&&A.start.node!==P.cursor.textNode&&P.emitter.once(a.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch(R){}})}}),this.emitter.on(a.default.events.SCROLL_OPTIMIZE,function(A,R){if(R.range){var F=R.range,U=F.startNode,Z=F.startOffset,G=F.endNode,M=F.endOffset;P.setNativeRange(U,Z,G,M)}}),this.update(a.default.sources.SILENT)}return E(I,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var T=O.cursor.restore();if(!T)return;setTimeout(function(){O.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(a.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,T){if(this.scroll.whitelist==null||this.scroll.whitelist[O]){this.scroll.update();var P=this.getNativeRange();if(P!=null&&P.native.collapsed&&!b.default.query(O,b.default.Scope.BLOCK)){if(P.start.node!==this.cursor.textNode){var A=b.default.find(P.start.node,!1);if(A==null)return;if(A instanceof b.default.Leaf){var R=A.split(P.start.offset);A.parent.insertBefore(this.cursor,R)}else A.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(O,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();O=Math.min(O,P-1),T=Math.min(O+T,P-1)-O;var A=void 0,R=this.scroll.leaf(O),F=v(R,2),U=F[0],Z=F[1];if(U==null)return null;var G=U.position(Z,!0),M=v(G,2);A=M[0],Z=M[1];var z=document.createRange();if(T>0){z.setStart(A,Z);var B=this.scroll.leaf(O+T),j=v(B,2);if(U=j[0],Z=j[1],U==null)return null;var V=U.position(Z,!0),q=v(V,2);return A=q[0],Z=q[1],z.setEnd(A,Z),z.getBoundingClientRect()}var L="left",K=void 0;return A instanceof Text?(Z<A.data.length?(z.setStart(A,Z),z.setEnd(A,Z+1)):(z.setStart(A,Z-1),z.setEnd(A,Z),L="right"),K=z.getBoundingClientRect()):(K=U.domNode.getBoundingClientRect(),Z>0&&(L="right")),{bottom:K.top+K.height,height:K.height,left:K[L],right:K[L],top:K.top,width:0}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var T=O.getRangeAt(0);if(T==null)return null;var P=this.normalizeNative(T);return c.info("getNativeRange",P),P}},{key:"getRange",value:function(){var O=this.getNativeRange();return O==null?[null,null]:[this.normalizedToRange(O),O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var T=this,P=[[O.start.node,O.start.offset]];O.native.collapsed||P.push([O.end.node,O.end.offset]);var A=P.map(function(U){var Z=v(U,2),G=Z[0],M=Z[1],z=b.default.find(G,!0),B=z.offset(T.scroll);return M===0?B:z instanceof b.default.Container?B+z.length():B+z.index(G,M)}),R=Math.min(Math.max.apply(Math,e(A)),this.scroll.length()-1),F=Math.min.apply(Math,[R].concat(e(A)));return new f(F,R-F)}},{key:"normalizeNative",value:function(O){if(!w(this.root,O.startContainer)||!O.collapsed&&!w(this.root,O.endContainer))return null;var T={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[T.start,T.end].forEach(function(P){for(var A=P.node,R=P.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>R)A=A.childNodes[R],R=0;else{if(A.childNodes.length!==R)break;R=(A=A.lastChild)instanceof Text?A.data.length:A.childNodes.length+1}P.node=A,P.offset=R}),T}},{key:"rangeToNative",value:function(O){var T=this,P=O.collapsed?[O.index]:[O.index,O.index+O.length],A=[],R=this.scroll.length();return P.forEach(function(F,U){F=Math.min(R-1,F);var Z,G=T.scroll.leaf(F),M=v(G,2),z=M[0],B=M[1],j=z.position(B,U!==0),V=v(j,2);Z=V[0],B=V[1],A.push(Z,B)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(O){var T=this.lastRange;if(T!=null){var P=this.getBounds(T.index,T.length);if(P!=null){var A=this.scroll.length()-1,R=this.scroll.line(Math.min(T.index,A)),F=v(R,1)[0],U=F;if(T.length>0){var Z=this.scroll.line(Math.min(T.index+T.length,A));U=v(Z,1)[0]}if(F!=null&&U!=null){var G=O.getBoundingClientRect();P.top<G.top?O.scrollTop-=G.top-P.top:P.bottom>G.bottom&&(O.scrollTop+=P.bottom-G.bottom)}}}}},{key:"setNativeRange",value:function(O,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,R=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(c.info("setNativeRange",O,T,P,A),O==null||this.root.parentNode!=null&&O.parentNode!=null&&P.parentNode!=null){var F=document.getSelection();if(F!=null)if(O!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||R||O!==U.startContainer||T!==U.startOffset||P!==U.endContainer||A!==U.endOffset){O.tagName=="BR"&&(T=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),P.tagName=="BR"&&(A=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var Z=document.createRange();Z.setStart(O,T),Z.setEnd(P,A),F.removeAllRanges(),F.addRange(Z)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;if(typeof T=="string"&&(P=T,T=!1),c.info("setRange",O),O!=null){var A=this.rangeToNative(O);this.setNativeRange.apply(this,e(A).concat([T]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.default.sources.USER,T=this.lastRange,P=this.getRange(),A=v(P,2),R=A[0],F=A[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,s.default)(T,this.lastRange)){var U;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var Z,G=[a.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(T),O];(U=this.emitter).emit.apply(U,[a.default.events.EDITOR_CHANGE].concat(G)),O!==a.default.sources.SILENT&&(Z=this.emitter).emit.apply(Z,G)}}}]),I}();function w(I,O){try{O.parentNode}catch(T){return!1}return O instanceof Text&&(O=O.parentNode),I.contains(O)}y.Range=f,y.default=n},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0};function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function s(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}var a=function(o){function e(){return h(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,[{key:"insertInto",value:function(u,c){u.children.length===0?b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,u,c):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((v=g(0))&&v.__esModule?v:{default:v}).default.Embed);a.blotName="break",a.tagName="BR",y.default=a},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,u){e.__proto__=u}||function(e,u){for(var c in u)u.hasOwnProperty(c)&&(e[c]=u[c])},function(e,u){function c(){this.constructor=e}v(e,u),e.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(44),h=g(30),s=g(1),a=function(e){function u(c){var f=e.call(this,c)||this;return f.build(),f}return E(u,e),u.prototype.appendChild=function(c){this.insertBefore(c)},u.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(c){c.attach()})},u.prototype.build=function(){var c=this;this.children=new b.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var n=o(f);c.insertBefore(n,c.children.head||void 0)}catch(w){if(w instanceof s.ParchmentError)return;throw w}})},u.prototype.deleteAt=function(c,f){if(c===0&&f===this.length())return this.remove();this.children.forEachAt(c,f,function(n,w,I){n.deleteAt(w,I)})},u.prototype.descendant=function(c,f){var n=this.children.find(f),w=n[0],I=n[1];return c.blotName==null&&c(w)||c.blotName!=null&&w instanceof c?[w,I]:w instanceof u?w.descendant(c,I):[null,-1]},u.prototype.descendants=function(c,f,n){f===void 0&&(f=0),n===void 0&&(n=Number.MAX_VALUE);var w=[],I=n;return this.children.forEachAt(f,n,function(O,T,P){(c.blotName==null&&c(O)||c.blotName!=null&&O instanceof c)&&w.push(O),O instanceof u&&(w=w.concat(O.descendants(c,T,I))),I-=P}),w},u.prototype.detach=function(){this.children.forEach(function(c){c.detach()}),e.prototype.detach.call(this)},u.prototype.formatAt=function(c,f,n,w){this.children.forEachAt(c,f,function(I,O,T){I.formatAt(O,T,n,w)})},u.prototype.insertAt=function(c,f,n){var w=this.children.find(c),I=w[0],O=w[1];if(I)I.insertAt(O,f,n);else{var T=n==null?s.create("text",f):s.create(f,n);this.appendChild(T)}},u.prototype.insertBefore=function(c,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(n){return c instanceof n}))throw new s.ParchmentError("Cannot insert "+c.statics.blotName+" into "+this.statics.blotName);c.insertInto(this,f)},u.prototype.length=function(){return this.children.reduce(function(c,f){return c+f.length()},0)},u.prototype.moveChildren=function(c,f){this.children.forEach(function(n){c.insertBefore(n,f)})},u.prototype.optimize=function(c){if(e.prototype.optimize.call(this,c),this.children.length===0)if(this.statics.defaultChild!=null){var f=s.create(this.statics.defaultChild);this.appendChild(f),f.optimize(c)}else this.remove()},u.prototype.path=function(c,f){f===void 0&&(f=!1);var n=this.children.find(c,f),w=n[0],I=n[1],O=[[this,c]];return w instanceof u?O.concat(w.path(I,f)):(w!=null&&O.push([w,I]),O)},u.prototype.removeChild=function(c){this.children.remove(c)},u.prototype.replace=function(c){c instanceof u&&c.moveChildren(this),e.prototype.replace.call(this,c)},u.prototype.split=function(c,f){if(f===void 0&&(f=!1),!f){if(c===0)return this;if(c===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(c,this.length(),function(w,I,O){w=w.split(I,f),n.appendChild(w)}),n},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(c,f){var n=this,w=[],I=[];c.forEach(function(O){O.target===n.domNode&&O.type==="childList"&&(w.push.apply(w,O.addedNodes),I.push.apply(I,O.removedNodes))}),I.forEach(function(O){if(!(O.parentNode!=null&&O.tagName!=="IFRAME"&&document.body.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var T=s.find(O);T!=null&&(T.domNode.parentNode!=null&&T.domNode.parentNode!==n.domNode||T.detach())}}),w.filter(function(O){return O.parentNode==n.domNode}).sort(function(O,T){return O===T?0:O.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(O){var T=null;O.nextSibling!=null&&(T=s.find(O.nextSibling));var P=o(O);P.next==T&&P.next!=null||(P.parent!=null&&P.parent.removeChild(n),n.insertBefore(P,T||void 0))})},u}(h.default);function o(e){var u=s.find(e);if(u==null)try{u=s.create(e)}catch(c){u=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(f){u.domNode.appendChild(f)}),e.parentNode&&e.parentNode.replaceChild(u.domNode,e),u.attach()}return u}y.default=a},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,u){e.__proto__=u}||function(e,u){for(var c in u)u.hasOwnProperty(c)&&(e[c]=u[c])},function(e,u){function c(){this.constructor=e}v(e,u),e.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(12),h=g(31),s=g(17),a=g(1),o=function(e){function u(c){var f=e.call(this,c)||this;return f.attributes=new h.default(f.domNode),f}return E(u,e),u.formats=function(c){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?c.tagName.toLowerCase():void 0)},u.prototype.format=function(c,f){var n=a.query(c);n instanceof b.default?this.attributes.attribute(n,f):f&&(n==null||c===this.statics.blotName&&this.formats()[c]===f||this.replaceWith(c,f))},u.prototype.formats=function(){var c=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(c[this.statics.blotName]=f),c},u.prototype.replaceWith=function(c,f){var n=e.prototype.replaceWith.call(this,c,f);return this.attributes.copy(n),n},u.prototype.update=function(c,f){var n=this;e.prototype.update.call(this,c,f),c.some(function(w){return w.target===n.domNode&&w.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(c,f){var n=e.prototype.wrap.call(this,c,f);return n instanceof u&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},u}(s.default);y.default=o},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(30),h=g(1),s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return E(o,a),o.value=function(e){return!0},o.prototype.index=function(e,u){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},o.prototype.position=function(e,u){var c=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(c+=1),[this.parent.domNode,c]},o.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},o.scope=h.Scope.INLINE_BLOT,o}(b.default);y.default=s},function(S,y,g){var v=g(11),E=g(3),b={attributes:{compose:function(s,a,o){typeof s!="object"&&(s={}),typeof a!="object"&&(a={});var e=E(!0,{},a);for(var u in o||(e=Object.keys(e).reduce(function(c,f){return e[f]!=null&&(c[f]=e[f]),c},{})),s)s[u]!==void 0&&a[u]===void 0&&(e[u]=s[u]);return Object.keys(e).length>0?e:void 0},diff:function(s,a){typeof s!="object"&&(s={}),typeof a!="object"&&(a={});var o=Object.keys(s).concat(Object.keys(a)).reduce(function(e,u){return v(s[u],a[u])||(e[u]=a[u]===void 0?null:a[u]),e},{});return Object.keys(o).length>0?o:void 0},transform:function(s,a,o){if(typeof s!="object")return a;if(typeof a=="object"){if(!o)return a;var e=Object.keys(a).reduce(function(u,c){return s[c]===void 0&&(u[c]=a[c]),u},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(s){return new h(s)},length:function(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}};function h(s){this.ops=s,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(s){s||(s=1/0);var a=this.ops[this.index];if(a){var o=this.offset,e=b.length(a);if(s>=e-o?(s=e-o,this.index+=1,this.offset=0):this.offset+=s,typeof a.delete=="number")return{delete:s};var u={};return a.attributes&&(u.attributes=a.attributes),typeof a.retain=="number"?u.retain=s:typeof a.insert=="string"?u.insert=a.insert.substr(o,s):u.insert=a.insert,u}return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?b.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var s=this.offset,a=this.index,o=this.next(),e=this.ops.slice(this.index);return this.offset=s,this.index=a,[o].concat(e)}return[]},S.exports=b},function(S,y){var g=function(){"use strict";function v(e,u){return u!=null&&e instanceof u}var E,b,h;try{E=Map}catch(e){E=function(){}}try{b=Set}catch(e){b=function(){}}try{h=Promise}catch(e){h=function(){}}function s(e,u,c,f,n){typeof u=="object"&&(c=u.depth,f=u.prototype,n=u.includeNonEnumerable,u=u.circular);var w=[],I=[],O=typeof Pt!="undefined";return u===void 0&&(u=!0),c===void 0&&(c=1/0),function T(P,A){if(P===null)return null;if(A===0)return P;var R,F;if(typeof P!="object")return P;if(v(P,E))R=new E;else if(v(P,b))R=new b;else if(v(P,h))R=new h(function(q,L){P.then(function(K){q(T(K,A-1))},function(K){L(T(K,A-1))})});else if(s.__isArray(P))R=[];else if(s.__isRegExp(P))R=new RegExp(P.source,o(P)),P.lastIndex&&(R.lastIndex=P.lastIndex);else if(s.__isDate(P))R=new Date(P.getTime());else{if(O&&Pt.isBuffer(P))return R=Pt.allocUnsafe?Pt.allocUnsafe(P.length):new Pt(P.length),P.copy(R),R;v(P,Error)?R=Object.create(P):f===void 0?(F=Object.getPrototypeOf(P),R=Object.create(F)):(R=Object.create(f),F=f)}if(u){var U=w.indexOf(P);if(U!=-1)return I[U];w.push(P),I.push(R)}for(var Z in v(P,E)&&P.forEach(function(q,L){var K=T(L,A-1),pe=T(q,A-1);R.set(K,pe)}),v(P,b)&&P.forEach(function(q){var L=T(q,A-1);R.add(L)}),P){var G;F&&(G=Object.getOwnPropertyDescriptor(F,Z)),G&&G.set==null||(R[Z]=T(P[Z],A-1))}if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(P);for(Z=0;Z<M.length;Z++){var z=M[Z];(!(j=Object.getOwnPropertyDescriptor(P,z))||j.enumerable||n)&&(R[z]=T(P[z],A-1),j.enumerable||Object.defineProperty(R,z,{enumerable:!1}))}}if(n){var B=Object.getOwnPropertyNames(P);for(Z=0;Z<B.length;Z++){var j,V=B[Z];(j=Object.getOwnPropertyDescriptor(P,V))&&j.enumerable||(R[V]=T(P[V],A-1),Object.defineProperty(R,V,{enumerable:!1}))}}return R}(e,c)}function a(e){return Object.prototype.toString.call(e)}function o(e){var u="";return e.global&&(u+="g"),e.ignoreCase&&(u+="i"),e.multiline&&(u+="m"),u}return s.clonePrototype=function(e){if(e===null)return null;var u=function(){};return u.prototype=e,new u},s.__objToStr=a,s.__isDate=function(e){return typeof e=="object"&&a(e)==="[object Date]"},s.__isArray=function(e){return typeof e=="object"&&a(e)==="[object Array]"},s.__isRegExp=function(e){return typeof e=="object"&&a(e)==="[object RegExp]"},s.__getRegExpFlags=o,s}();typeof S=="object"&&S.exports&&(S.exports=g)},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(T,P){var A=[],R=!0,F=!1,U=void 0;try{for(var Z,G=T[Symbol.iterator]();!(R=(Z=G.next()).done)&&(A.push(Z.value),!P||A.length!==P);R=!0);}catch(M){F=!0,U=M}finally{try{!R&&G.return&&G.return()}finally{if(F)throw U}}return A}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function I(O,T){for(var P=0;P<T.length;P++){var A=T[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,P){return T&&I(O.prototype,T),P&&I(O,P),O}}(),b=function I(O,T,P){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,T);if(A===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:I(R,T,P)}if("value"in A)return A.value;var F=A.get;return F!==void 0?F.call(P):void 0},h=f(g(0)),s=f(g(8)),a=g(4),o=f(a),e=f(g(16)),u=f(g(13)),c=f(g(25));function f(I){return I&&I.__esModule?I:{default:I}}function n(I){return I instanceof o.default||I instanceof a.BlockEmbed}var w=function(I){function O(T,P){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,O);var A=function(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?R:F}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,T));return A.emitter=P.emitter,Array.isArray(P.whitelist)&&(A.whitelist=P.whitelist.reduce(function(R,F){return R[F]=!0,R},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return function(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}(O,I),E(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,P){var A=this.line(T),R=v(A,2),F=R[0],U=R[1],Z=this.line(T+P),G=v(Z,1)[0];if(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,T,P),G!=null&&F!==G&&U>0){if(F instanceof a.BlockEmbed||G instanceof a.BlockEmbed)return void this.optimize();if(F instanceof u.default){var M=F.newlineIndex(F.length(),!0);if(M>-1&&(F=F.split(M+1))===G)return void this.optimize()}else if(G instanceof u.default){var z=G.newlineIndex(0);z>-1&&G.split(z+1)}var B=G.children.head instanceof e.default?null:G.children.head;F.moveChildren(G,B),F.remove()}this.optimize()}},{key:"enable",value:function(){var T=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,P,A,R){(this.whitelist==null||this.whitelist[A])&&(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,T,P,A,R),this.optimize())}},{key:"insertAt",value:function(T,P,A){if(A==null||this.whitelist==null||this.whitelist[P]){if(T>=this.length())if(A==null||h.default.query(P,h.default.Scope.BLOCK)==null){var R=h.default.create(this.statics.defaultChild);this.appendChild(R),A==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),R.insertAt(0,P,A)}else{var F=h.default.create(P,A);this.appendChild(F)}else b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,T,P,A);this.optimize()}}},{key:"insertBefore",value:function(T,P){if(T.statics.scope===h.default.Scope.INLINE_BLOT){var A=h.default.create(this.statics.defaultChild);A.appendChild(T),T=A}b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,T,P)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(n,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,A=function R(F,U,Z){var G=[],M=Z;return F.children.forEachAt(U,Z,function(z,B,j){n(z)?G.push(z):z instanceof h.default.Container&&(G=G.concat(R(z,B,M))),M-=j}),G};return A(this,T,P)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T,P),T.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,T,P))}},{key:"path",value:function(T){return b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var P=s.default.sources.USER;typeof T=="string"&&(P=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,P,T),b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,P,T)}}}]),O}(h.default.Scroll);w.blotName="scroll",w.className="ql-editor",w.tagName="DIV",w.defaultChild="block",w.allowedChildren=[o.default,a.BlockEmbed,c.default],y.default=w},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.SHORTKEY=y.default=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},E=function(B,j){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function(V,q){var L=[],K=!0,pe=!1,le=void 0;try{for(var me,ie=V[Symbol.iterator]();!(K=(me=ie.next()).done)&&(L.push(me.value),!q||L.length!==q);K=!0);}catch(X){pe=!0,le=X}finally{try{!K&&ie.return&&ie.return()}finally{if(pe)throw le}}return L}(B,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function B(j,V){for(var q=0;q<V.length;q++){var L=V[q];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(j,L.key,L)}}return function(j,V,q){return V&&B(j.prototype,V),q&&B(j,q),j}}(),h=w(g(21)),s=w(g(11)),a=w(g(3)),o=w(g(2)),e=w(g(20)),u=w(g(0)),c=w(g(5)),f=w(g(10)),n=w(g(9));function w(B){return B&&B.__esModule?B:{default:B}}function I(B,j,V){return j in B?Object.defineProperty(B,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):B[j]=V,B}var O=(0,f.default)("quill:keyboard"),T=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(B){function j(V,q){(function(K,pe){if(!(K instanceof pe))throw new TypeError("Cannot call a class as a function")})(this,j);var L=function(K,pe){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||typeof pe!="object"&&typeof pe!="function"?K:pe}(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,V,q));return L.bindings={},Object.keys(L.options.bindings).forEach(function(K){(K!=="list autofill"||V.scroll.whitelist==null||V.scroll.whitelist.list)&&L.options.bindings[K]&&L.addBinding(L.options.bindings[K])}),L.addBinding({key:j.keys.ENTER,shiftKey:null},Z),L.addBinding({key:j.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(L.addBinding({key:j.keys.BACKSPACE},{collapsed:!0},R),L.addBinding({key:j.keys.DELETE},{collapsed:!0},F)):(L.addBinding({key:j.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},R),L.addBinding({key:j.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),L.addBinding({key:j.keys.BACKSPACE},{collapsed:!1},U),L.addBinding({key:j.keys.DELETE},{collapsed:!1},U),L.addBinding({key:j.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},R),L.listen(),L}return function(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);V.prototype=Object.create(q&&q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,q):V.__proto__=q)}(j,B),b(j,null,[{key:"match",value:function(V,q){return q=z(q),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(L){return!!q[L]!==V[L]&&q[L]!==null})&&q.key===(V.which||V.keyCode)}}]),b(j,[{key:"addBinding",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=z(V);if(K==null||K.key==null)return O.warn("Attempted to add invalid keyboard binding",K);typeof q=="function"&&(q={handler:q}),typeof L=="function"&&(L={handler:L}),K=(0,a.default)(K,q,L),this.bindings[K.key]=this.bindings[K.key]||[],this.bindings[K.key].push(K)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(q){if(!q.defaultPrevented){var L=q.which||q.keyCode,K=(V.bindings[L]||[]).filter(function(Le){return j.match(q,Le)});if(K.length!==0){var pe=V.quill.getSelection();if(pe!=null&&V.quill.hasFocus()){var le=V.quill.getLine(pe.index),me=E(le,2),ie=me[0],X=me[1],$=V.quill.getLeaf(pe.index),ce=E($,2),fe=ce[0],we=ce[1],oe=pe.length===0?[fe,we]:V.quill.getLeaf(pe.index+pe.length),Oe=E(oe,2),Re=Oe[0],Be=Oe[1],Ne=fe instanceof u.default.Text?fe.value().slice(0,we):"",Fe=Re instanceof u.default.Text?Re.value().slice(Be):"",je={collapsed:pe.length===0,empty:pe.length===0&&ie.length()<=1,format:V.quill.getFormat(pe),offset:X,prefix:Ne,suffix:Fe};K.some(function(Le){if(Le.collapsed!=null&&Le.collapsed!==je.collapsed||Le.empty!=null&&Le.empty!==je.empty||Le.offset!=null&&Le.offset!==je.offset)return!1;if(Array.isArray(Le.format)){if(Le.format.every(function(ze){return je.format[ze]==null}))return!1}else if(v(Le.format)==="object"&&!Object.keys(Le.format).every(function(ze){return Le.format[ze]===!0?je.format[ze]!=null:Le.format[ze]===!1?je.format[ze]==null:(0,s.default)(Le.format[ze],je.format[ze])}))return!1;return!(Le.prefix!=null&&!Le.prefix.test(je.prefix)||Le.suffix!=null&&!Le.suffix.test(je.suffix)||Le.handler.call(V,pe,je)===!0)})&&q.preventDefault()}}}})}}]),j}(n.default);function A(B,j){var V,q=B===P.keys.LEFT?"prefix":"suffix";return I(V={key:B,shiftKey:j,altKey:null},q,/^$/),I(V,"handler",function(L){var K=L.index;B===P.keys.RIGHT&&(K+=L.length+1);var pe=this.quill.getLeaf(K);return!(E(pe,1)[0]instanceof u.default.Embed&&(B===P.keys.LEFT?j?this.quill.setSelection(L.index-1,L.length+1,c.default.sources.USER):this.quill.setSelection(L.index-1,c.default.sources.USER):j?this.quill.setSelection(L.index,L.length+1,c.default.sources.USER):this.quill.setSelection(L.index+L.length+1,c.default.sources.USER),1))}),V}function R(B,j){if(!(B.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(B.index),q=E(V,1)[0],L={};if(j.offset===0){var K=this.quill.getLine(B.index-1),pe=E(K,1)[0];if(pe!=null&&pe.length()>1){var le=q.formats(),me=this.quill.getFormat(B.index-1,1);L=e.default.attributes.diff(le,me)||{}}}var ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;this.quill.deleteText(B.index-ie,ie,c.default.sources.USER),Object.keys(L).length>0&&this.quill.formatLine(B.index-ie,ie,L,c.default.sources.USER),this.quill.focus()}}function F(B,j){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(!(B.index>=this.quill.getLength()-V)){var q={},L=0,K=this.quill.getLine(B.index),pe=E(K,1)[0];if(j.offset>=pe.length()-1){var le=this.quill.getLine(B.index+1),me=E(le,1)[0];if(me){var ie=pe.formats(),X=this.quill.getFormat(B.index,1);q=e.default.attributes.diff(ie,X)||{},L=me.length()}}this.quill.deleteText(B.index,V,c.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(B.index+L-1,V,q,c.default.sources.USER)}}function U(B){var j=this.quill.getLines(B),V={};if(j.length>1){var q=j[0].formats(),L=j[j.length-1].formats();V=e.default.attributes.diff(L,q)||{}}this.quill.deleteText(B,c.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(B.index,1,V,c.default.sources.USER),this.quill.setSelection(B.index,c.default.sources.SILENT),this.quill.focus()}function Z(B,j){var V=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var q=Object.keys(j.format).reduce(function(L,K){return u.default.query(K,u.default.Scope.BLOCK)&&!Array.isArray(j.format[K])&&(L[K]=j.format[K]),L},{});this.quill.insertText(B.index,`
`,q,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(j.format).forEach(function(L){q[L]==null&&(Array.isArray(j.format[L])||L!=="link"&&V.quill.format(L,j.format[L],c.default.sources.USER))})}function G(B){return{key:P.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(j){var V=u.default.query("code-block"),q=j.index,L=j.length,K=this.quill.scroll.descendant(V,q),pe=E(K,2),le=pe[0],me=pe[1];if(le!=null){var ie=this.quill.getIndex(le),X=le.newlineIndex(me,!0)+1,$=le.newlineIndex(ie+me+L),ce=le.domNode.textContent.slice(X,$).split(`
`);me=0,ce.forEach(function(fe,we){B?(le.insertAt(X+me,V.TAB),me+=V.TAB.length,we===0?q+=V.TAB.length:L+=V.TAB.length):fe.startsWith(V.TAB)&&(le.deleteAt(X+me,V.TAB.length),me-=V.TAB.length,we===0?q-=V.TAB.length:L-=V.TAB.length),me+=fe.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(q,L,c.default.sources.SILENT)}}}}function M(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(j,V){this.quill.format(B,!V.format[B],c.default.sources.USER)}}}function z(B){if(typeof B=="string"||typeof B=="number")return z({key:B});if((B===void 0?"undefined":v(B))==="object"&&(B=(0,h.default)(B,!1)),typeof B.key=="string")if(P.keys[B.key.toUpperCase()]!=null)B.key=P.keys[B.key.toUpperCase()];else{if(B.key.length!==1)return null;B.key=B.key.toUpperCase().charCodeAt(0)}return B.shortKey&&(B[T]=B.shortKey,delete B.shortKey),B}P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:M("bold"),italic:M("italic"),underline:M("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(B,j){if(j.collapsed&&j.offset!==0)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,j){if(j.collapsed&&j.offset!==0)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,j){j.format.indent!=null?this.quill.format("indent","-1",c.default.sources.USER):j.format.list!=null&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":G(!0),"outdent code-block":G(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,c.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(B){this.quill.history.cutoff();var j=new o.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(j,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,c.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,j){this.quill.format("list",!1,c.default.sources.USER),j.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var j=this.quill.getLine(B.index),V=E(j,2),q=V[0],L=V[1],K=(0,a.default)({},q.formats(),{list:"checked"}),pe=new o.default().retain(B.index).insert(`
`,K).retain(q.length()-L-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,j){var V=this.quill.getLine(B.index),q=E(V,2),L=q[0],K=q[1],pe=new o.default().retain(B.index).insert(`
`,j.format).retain(L.length()-K-1).retain(1,{header:null});this.quill.updateContents(pe,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,j){var V=j.prefix.length,q=this.quill.getLine(B.index),L=E(q,2),K=L[0],pe=L[1];if(pe>V)return!0;var le=void 0;switch(j.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(B.index," ",c.default.sources.USER),this.quill.history.cutoff();var me=new o.default().retain(B.index-pe).delete(V+1).retain(K.length()-2-pe).retain(1,{list:le});this.quill.updateContents(me,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-V,c.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var j=this.quill.getLine(B.index),V=E(j,2),q=V[0],L=V[1],K=new o.default().retain(B.index+q.length()-L-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(K,c.default.sources.USER)}},"embed left":A(P.keys.LEFT,!1),"embed left shift":A(P.keys.LEFT,!0),"embed right":A(P.keys.RIGHT,!1),"embed right shift":A(P.keys.RIGHT,!0)}},y.default=P,y.SHORTKEY=T},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0},E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=s(g(0)),h=s(g(7));function s(o){return o&&o.__esModule?o:{default:o}}var a=function(o){function e(u,c){(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e);var f=function(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u));return f.selection=c,f.textNode=document.createTextNode(e.CONTENTS),f.domNode.appendChild(f.textNode),f._length=0,f}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,null,[{key:"value",value:function(){}}]),E(e,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(u,c){if(this._length!==0)return v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,u,c);for(var f=this,n=0;f!=null&&f.statics.scope!==b.default.Scope.BLOCK_BLOT;)n+=f.offset(f.parent),f=f.parent;f!=null&&(this._length=e.CONTENTS.length,f.optimize(),f.formatAt(n,e.CONTENTS.length,u,c),this._length=0)}},{key:"index",value:function(u,c){return u===this.textNode?0:v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,u,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var u=this.textNode,c=this.selection.getNativeRange(),f=void 0,n=void 0,w=void 0;if(c!=null&&c.start.node===u&&c.end.node===u){var I=[u,c.start.offset,c.end.offset];f=I[0],n=I[1],w=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var O=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof h.default?(f=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=e.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),n!=null){var T=function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(R,F){var U=[],Z=!0,G=!1,M=void 0;try{for(var z,B=R[Symbol.iterator]();!(Z=(z=B.next()).done)&&(U.push(z.value),!F||U.length!==F);Z=!0);}catch(j){G=!0,M=j}finally{try{!Z&&B.return&&B.return()}finally{if(G)throw M}}return U}(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([n,w].map(function(P){return Math.max(0,Math.min(f.data.length,P-1))}),2);return n=T[0],w=T[1],{startNode:f,startOffset:n,endNode:f,endOffset:w}}}}},{key:"update",value:function(u,c){var f=this;if(u.some(function(w){return w.type==="characterData"&&w.target===f.textNode})){var n=this.restore();n&&(c.range=n)}}},{key:"value",value:function(){return""}}]),e}(b.default.Embed);a.blotName="cursor",a.className="ql-cursor",a.tagName="span",a.CONTENTS="\uFEFF",y.default=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=h(g(0)),E=g(4),b=h(E);function h(e){return e&&e.__esModule?e:{default:e}}function s(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}function a(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}var o=function(e){function u(){return s(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,e),u}(v.default.Container);o.allowedChildren=[b.default,E.BlockEmbed,o],y.default=o},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.ColorStyle=y.ColorClass=y.ColorAttributor=void 0;var v,E=function(){function c(f,n){for(var w=0;w<n.length;w++){var I=n[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(f,I.key,I)}}return function(f,n,w){return n&&c(f.prototype,n),w&&c(f,w),f}}(),b=function c(f,n,w){f===null&&(f=Function.prototype);var I=Object.getOwnPropertyDescriptor(f,n);if(I===void 0){var O=Object.getPrototypeOf(f);return O===null?void 0:c(O,n,w)}if("value"in I)return I.value;var T=I.get;return T!==void 0?T.call(w):void 0},h=(v=g(0))&&v.__esModule?v:{default:v};function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}var o=function(c){function f(){return s(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}(f,c),E(f,[{key:"value",value:function(n){var w=b(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,n);return w.startsWith("rgb(")?"#"+(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join(""):w}}]),f}(h.default.Attributor.Style),e=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),u=new o("color","color",{scope:h.default.Scope.INLINE});y.ColorAttributor=o,y.ColorClass=e,y.ColorStyle=u},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.sanitize=y.default=void 0;var v,E=function(){function e(u,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}return function(u,c,f){return c&&e(u.prototype,c),f&&e(u,f),u}}(),b=function e(u,c,f){u===null&&(u=Function.prototype);var n=Object.getOwnPropertyDescriptor(u,c);if(n===void 0){var w=Object.getPrototypeOf(u);return w===null?void 0:e(w,c,f)}if("value"in n)return n.value;var I=n.get;return I!==void 0?I.call(f):void 0};function h(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}function s(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}var a=function(e){function u(){return h(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,e),E(u,[{key:"format",value:function(c,f){if(c!==this.statics.blotName||!f)return b(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,c,f);f=this.constructor.sanitize(f),this.domNode.setAttribute("href",f)}}],[{key:"create",value:function(c){var f=b(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,c);return c=this.sanitize(c),f.setAttribute("href",c),f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target","_blank"),f}},{key:"formats",value:function(c){return c.getAttribute("href")}},{key:"sanitize",value:function(c){return o(c,this.PROTOCOL_WHITELIST)?c:this.SANITIZED_URL}}]),u}(((v=g(6))&&v.__esModule?v:{default:v}).default);function o(e,u){var c=document.createElement("a");c.href=e;var f=c.href.slice(0,c.href.indexOf(":"));return u.indexOf(f)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],y.default=a,y.sanitize=o},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},E=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),b=s(g(23)),h=s(g(107));function s(u){return u&&u.__esModule?u:{default:u}}var a=0;function o(u,c){u.setAttribute(c,u.getAttribute(c)!=="true")}var e=function(){function u(c){var f=this;(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this.select=c,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(n){switch(n.keyCode){case b.default.keys.ENTER:f.togglePicker();break;case b.default.keys.ESCAPE:f.escape(),n.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return E(u,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),o(this.label,"aria-expanded"),o(this.options,"aria-hidden")}},{key:"buildItem",value:function(c){var f=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),c.hasAttribute("value")&&n.setAttribute("data-value",c.getAttribute("value")),c.textContent&&n.setAttribute("data-label",c.textContent),n.addEventListener("click",function(){f.selectItem(n,!0)}),n.addEventListener("keydown",function(w){switch(w.keyCode){case b.default.keys.ENTER:f.selectItem(n,!0),w.preventDefault();break;case b.default.keys.ESCAPE:f.escape(),w.preventDefault()}}),n}},{key:"buildLabel",value:function(){var c=document.createElement("span");return c.classList.add("ql-picker-label"),c.innerHTML=h.default,c.tabIndex="0",c.setAttribute("role","button"),c.setAttribute("aria-expanded","false"),this.container.appendChild(c),c}},{key:"buildOptions",value:function(){var c=this,f=document.createElement("span");f.classList.add("ql-picker-options"),f.setAttribute("aria-hidden","true"),f.tabIndex="-1",f.id="ql-picker-options-"+a,a+=1,this.label.setAttribute("aria-controls",f.id),this.options=f,[].slice.call(this.select.options).forEach(function(n){var w=c.buildItem(n);f.appendChild(w),n.selected===!0&&c.selectItem(w)}),this.container.appendChild(f)}},{key:"buildPicker",value:function(){var c=this;[].slice.call(this.select.attributes).forEach(function(f){c.container.setAttribute(f.name,f.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var c=this;this.close(),setTimeout(function(){return c.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.container.querySelector(".ql-selected");if(c!==n&&(n!=null&&n.classList.remove("ql-selected"),c!=null&&(c.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(c.parentNode.children,c),c.hasAttribute("data-value")?this.label.setAttribute("data-value",c.getAttribute("data-value")):this.label.removeAttribute("data-value"),c.hasAttribute("data-label")?this.label.setAttribute("data-label",c.getAttribute("data-label")):this.label.removeAttribute("data-label"),f))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":v(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var c=void 0;if(this.select.selectedIndex>-1){var f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];c=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);var n=c!=null&&c!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),u}();y.default=e},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=O(g(0)),E=O(g(5)),b=g(4),h=O(b),s=O(g(16)),a=O(g(25)),o=O(g(24)),e=O(g(35)),u=O(g(6)),c=O(g(22)),f=O(g(7)),n=O(g(55)),w=O(g(42)),I=O(g(23));function O(T){return T&&T.__esModule?T:{default:T}}E.default.register({"blots/block":h.default,"blots/block/embed":b.BlockEmbed,"blots/break":s.default,"blots/container":a.default,"blots/cursor":o.default,"blots/embed":e.default,"blots/inline":u.default,"blots/scroll":c.default,"blots/text":f.default,"modules/clipboard":n.default,"modules/history":w.default,"modules/keyboard":I.default}),v.default.register(h.default,s.default,o.default,u.default,c.default,f.default),y.default=E.default},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(1),E=function(){function b(h){this.domNode=h,this.domNode[v.DATA_KEY]={blot:this}}return Object.defineProperty(b.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),b.create=function(h){if(this.tagName==null)throw new v.ParchmentError("Blot definition missing tagName");var s;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),s=typeof h=="number"?document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?document.createElement(h):document.createElement(this.tagName[0])):s=document.createElement(this.tagName),this.className&&s.classList.add(this.className),s},b.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},b.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return v.create(h)},b.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[v.DATA_KEY]},b.prototype.deleteAt=function(h,s){this.isolate(h,s).remove()},b.prototype.formatAt=function(h,s,a,o){var e=this.isolate(h,s);if(v.query(a,v.Scope.BLOT)!=null&&o)e.wrap(a,o);else if(v.query(a,v.Scope.ATTRIBUTE)!=null){var u=v.create(this.statics.scope);e.wrap(u),u.format(a,o)}},b.prototype.insertAt=function(h,s,a){var o=a==null?v.create("text",s):v.create(s,a),e=this.split(h);this.parent.insertBefore(o,e)},b.prototype.insertInto=function(h,s){s===void 0&&(s=null),this.parent!=null&&this.parent.children.remove(this);var a=null;h.children.insertBefore(this,s),s!=null&&(a=s.domNode),this.domNode.parentNode==h.domNode&&this.domNode.nextSibling==a||h.domNode.insertBefore(this.domNode,a),this.parent=h,this.attach()},b.prototype.isolate=function(h,s){var a=this.split(h);return a.split(s),a},b.prototype.length=function(){return 1},b.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},b.prototype.optimize=function(h){this.domNode[v.DATA_KEY]!=null&&delete this.domNode[v.DATA_KEY].mutations},b.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},b.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},b.prototype.replaceWith=function(h,s){var a=typeof h=="string"?v.create(h,s):h;return a.replace(this),a},b.prototype.split=function(h,s){return h===0?this:this.next},b.prototype.update=function(h,s){},b.prototype.wrap=function(h,s){var a=typeof h=="string"?v.create(h,s):h;return this.parent!=null&&this.parent.insertBefore(a,this.next),a.appendChild(this),a},b.blotName="abstract",b}();y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(12),E=g(32),b=g(33),h=g(1),s=function(){function a(o){this.attributes={},this.domNode=o,this.build()}return a.prototype.attribute=function(o,e){e?o.add(this.domNode,e)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},a.prototype.build=function(){var o=this;this.attributes={};var e=v.default.keys(this.domNode),u=E.default.keys(this.domNode),c=b.default.keys(this.domNode);e.concat(u).concat(c).forEach(function(f){var n=h.query(f,h.Scope.ATTRIBUTE);n instanceof v.default&&(o.attributes[n.attrName]=n)})},a.prototype.copy=function(o){var e=this;Object.keys(this.attributes).forEach(function(u){var c=e.attributes[u].value(e.domNode);o.format(u,c)})},a.prototype.move=function(o){var e=this;this.copy(o),Object.keys(this.attributes).forEach(function(u){e.attributes[u].remove(e.domNode)}),this.attributes={}},a.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(e,u){return e[u]=o.attributes[u].value(o.domNode),e},{})},a}();y.default=s},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},function(s,a){function o(){this.constructor=s}v(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});function b(s,a){return(s.getAttribute("class")||"").split(/\s+/).filter(function(o){return o.indexOf(a+"-")===0})}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return E(a,s),a.keys=function(o){return(o.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},a.prototype.add=function(o,e){return!!this.canAdd(o,e)&&(this.remove(o),o.classList.add(this.keyName+"-"+e),!0)},a.prototype.remove=function(o){b(o,this.keyName).forEach(function(e){o.classList.remove(e)}),o.classList.length===0&&o.removeAttribute("class")},a.prototype.value=function(o){var e=(b(o,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(o,e)?e:""},a}(g(12).default);y.default=h},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},function(s,a){function o(){this.constructor=s}v(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});function b(s){var a=s.split("-"),o=a.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return a[0]+o}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return E(a,s),a.keys=function(o){return(o.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},a.prototype.add=function(o,e){return!!this.canAdd(o,e)&&(o.style[b(this.keyName)]=e,!0)},a.prototype.remove=function(o){o.style[b(this.keyName)]="",o.getAttribute("style")||o.removeAttribute("style")},a.prototype.value=function(o){var e=o.style[b(this.keyName)];return this.canAdd(o,e)?e:""},a}(g(12).default);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function b(h,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,s,a){return s&&b(h.prototype,s),a&&b(h,a),h}}(),E=function(){function b(h,s){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,b),this.quill=h,this.options=s,this.modules={}}return v(b,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(s){h.modules[s]==null&&h.addModule(s)})}},{key:"addModule",value:function(h){var s=this.quill.constructor.import("modules/"+h);return this.modules[h]=new s(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),b}();E.DEFAULTS={modules:{}},E.themes={default:E},y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function e(u,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}return function(u,c,f){return c&&e(u.prototype,c),f&&e(u,f),u}}(),E=function e(u,c,f){u===null&&(u=Function.prototype);var n=Object.getOwnPropertyDescriptor(u,c);if(n===void 0){var w=Object.getPrototypeOf(u);return w===null?void 0:e(w,c,f)}if("value"in n)return n.value;var I=n.get;return I!==void 0?I.call(f):void 0},b=s(g(0)),h=s(g(7));function s(e){return e&&e.__esModule?e:{default:e}}var a="\uFEFF",o=function(e){function u(c){(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u);var f=function(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,c));return f.contentNode=document.createElement("span"),f.contentNode.setAttribute("contenteditable",!1),[].slice.call(f.domNode.childNodes).forEach(function(n){f.contentNode.appendChild(n)}),f.leftGuard=document.createTextNode(a),f.rightGuard=document.createTextNode(a),f.domNode.appendChild(f.leftGuard),f.domNode.appendChild(f.contentNode),f.domNode.appendChild(f.rightGuard),f}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,e),v(u,[{key:"index",value:function(c,f){return c===this.leftGuard?0:c===this.rightGuard?1:E(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"index",this).call(this,c,f)}},{key:"restore",value:function(c){var f=void 0,n=void 0,w=c.data.split(a).join("");if(c===this.leftGuard)if(this.prev instanceof h.default){var I=this.prev.length();this.prev.insertAt(I,w),f={startNode:this.prev.domNode,startOffset:I+w.length}}else n=document.createTextNode(w),this.parent.insertBefore(b.default.create(n),this),f={startNode:n,startOffset:w.length};else c===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,w),f={startNode:this.next.domNode,startOffset:w.length}):(n=document.createTextNode(w),this.parent.insertBefore(b.default.create(n),this.next),f={startNode:n,startOffset:w.length}));return c.data=a,f}},{key:"update",value:function(c,f){var n=this;c.forEach(function(w){if(w.type==="characterData"&&(w.target===n.leftGuard||w.target===n.rightGuard)){var I=n.restore(w.target);I&&(f.range=I)}})}}]),u}(b.default.Embed);y.default=o},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.AlignStyle=y.AlignClass=y.AlignAttribute=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b={scope:E.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new E.default.Attributor.Attribute("align","align",b),s=new E.default.Attributor.Class("align","ql-align",b),a=new E.default.Attributor.Style("align","text-align",b);y.AlignAttribute=h,y.AlignClass=s,y.AlignStyle=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.BackgroundStyle=y.BackgroundClass=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b=g(26),h=new E.default.Attributor.Class("background","ql-bg",{scope:E.default.Scope.INLINE}),s=new b.ColorAttributor("background","background-color",{scope:E.default.Scope.INLINE});y.BackgroundClass=h,y.BackgroundStyle=s},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.DirectionStyle=y.DirectionClass=y.DirectionAttribute=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b={scope:E.default.Scope.BLOCK,whitelist:["rtl"]},h=new E.default.Attributor.Attribute("direction","dir",b),s=new E.default.Attributor.Class("direction","ql-direction",b),a=new E.default.Attributor.Style("direction","direction",b);y.DirectionAttribute=h,y.DirectionClass=s,y.DirectionStyle=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.FontClass=y.FontStyle=void 0;var v,E=function(){function f(n,w){for(var I=0;I<w.length;I++){var O=w[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(n,O.key,O)}}return function(n,w,I){return w&&f(n.prototype,w),I&&f(n,I),n}}(),b=function f(n,w,I){n===null&&(n=Function.prototype);var O=Object.getOwnPropertyDescriptor(n,w);if(O===void 0){var T=Object.getPrototypeOf(n);return T===null?void 0:f(T,w,I)}if("value"in O)return O.value;var P=O.get;return P!==void 0?P.call(I):void 0},h=(v=g(0))&&v.__esModule?v:{default:v};function s(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")}function a(f,n){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?f:n}var o={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},e=new h.default.Attributor.Class("font","ql-font",o),u=function(f){function n(){return s(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}(n,f),E(n,[{key:"value",value:function(w){return b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),n}(h.default.Attributor.Style),c=new u("font","font-family",o);y.FontStyle=c,y.FontClass=e},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.SizeStyle=y.SizeClass=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b=new E.default.Attributor.Class("size","ql-size",{scope:E.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new E.default.Attributor.Style("size","font-size",{scope:E.default.Scope.INLINE,whitelist:["10px","18px","32px"]});y.SizeClass=b,y.SizeStyle=h},function(S,y,g){"use strict";S.exports={align:{"":g(76),center:g(77),right:g(78),justify:g(79)},background:g(80),blockquote:g(81),bold:g(82),clean:g(83),code:g(58),"code-block":g(58),color:g(84),direction:{"":g(85),rtl:g(86)},float:{center:g(87),full:g(88),left:g(89),right:g(90)},formula:g(91),header:{1:g(92),2:g(93)},italic:g(94),image:g(95),indent:{"+1":g(96),"-1":g(97)},link:g(98),list:{ordered:g(99),bullet:g(100),check:g(101)},script:{sub:g(102),super:g(103)},strike:g(104),underline:g(105),video:g(106)}},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.getLastChangeIndex=y.default=void 0;var v=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),E=h(g(0)),b=h(g(5));function h(o){return o&&o.__esModule?o:{default:o}}var s=function(o){function e(u,c){(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e);var f=function(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u,c));return f.lastRecorded=0,f.ignoreChange=!1,f.clear(),f.quill.on(b.default.events.EDITOR_CHANGE,function(n,w,I,O){n!==b.default.events.TEXT_CHANGE||f.ignoreChange||(f.options.userOnly&&O!==b.default.sources.USER?f.transform(w):f.record(w,I))}),f.quill.keyboard.addBinding({key:"Z",shortKey:!0},f.undo.bind(f)),f.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},f.redo.bind(f)),/Win/i.test(navigator.platform)&&f.quill.keyboard.addBinding({key:"Y",shortKey:!0},f.redo.bind(f)),f}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),v(e,[{key:"change",value:function(u,c){if(this.stack[u].length!==0){var f=this.stack[u].pop();this.stack[c].push(f),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(f[u],b.default.sources.USER),this.ignoreChange=!1;var n=a(f[u]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(u,c){if(u.ops.length!==0){this.stack.redo=[];var f=this.quill.getContents().diff(c),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var w=this.stack.undo.pop();f=f.compose(w.undo),u=w.redo.compose(u)}else this.lastRecorded=n;this.stack.undo.push({redo:u,undo:f}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(u){this.stack.undo.forEach(function(c){c.undo=u.transform(c.undo,!0),c.redo=u.transform(c.redo,!0)}),this.stack.redo.forEach(function(c){c.undo=u.transform(c.undo,!0),c.redo=u.transform(c.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(h(g(9)).default);function a(o){var e=o.reduce(function(c,f){return c+(f.delete||0)},0),u=o.length()-e;return function(c){var f=c.ops[c.ops.length-1];return f!=null&&(f.insert!=null?typeof f.insert=="string"&&f.insert.endsWith(`
`):f.attributes!=null&&Object.keys(f.attributes).some(function(n){return E.default.query(n,E.default.Scope.BLOCK)!=null}))}(o)&&(u-=1),u}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},y.default=s,y.getLastChangeIndex=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BaseTooltip=void 0;var v=function(){function M(z,B){for(var j=0;j<B.length;j++){var V=B[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,V.key,V)}}return function(z,B,j){return B&&M(z.prototype,B),j&&M(z,j),z}}(),E=function M(z,B,j){z===null&&(z=Function.prototype);var V=Object.getOwnPropertyDescriptor(z,B);if(V===void 0){var q=Object.getPrototypeOf(z);return q===null?void 0:M(q,B,j)}if("value"in V)return V.value;var L=V.get;return L!==void 0?L.call(j):void 0},b=n(g(3)),h=n(g(2)),s=n(g(8)),a=n(g(23)),o=n(g(34)),e=n(g(59)),u=n(g(60)),c=n(g(28)),f=n(g(61));function n(M){return M&&M.__esModule?M:{default:M}}function w(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}function I(M,z){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||typeof z!="object"&&typeof z!="function"?M:z}function O(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(M,z):M.__proto__=z)}var T=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],A=[!1,"serif","monospace"],R=["1","2","3",!1],F=["small",!1,"large","huge"],U=function(M){function z(B,j){w(this,z);var V=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,B,j));return B.emitter.listenDOM("click",document.body,function q(L){if(!document.body.contains(B.root))return document.body.removeEventListener("click",q);V.tooltip==null||V.tooltip.root.contains(L.target)||document.activeElement===V.tooltip.textbox||V.quill.hasFocus()||V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(K){K.container.contains(L.target)||K.close()})}),V}return O(z,M),v(z,[{key:"addModule",value:function(B){var j=E(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(B,j){B.forEach(function(V){(V.getAttribute("class")||"").split(/\s+/).forEach(function(q){if(q.startsWith("ql-")&&(q=q.slice(3),j[q]!=null))if(q==="direction")V.innerHTML=j[q][""]+j[q].rtl;else if(typeof j[q]=="string")V.innerHTML=j[q];else{var L=V.value||"";L!=null&&j[q][L]&&(V.innerHTML=j[q][L])}})})}},{key:"buildPickers",value:function(B,j){var V=this;this.pickers=B.map(function(q){if(q.classList.contains("ql-align"))return q.querySelector("option")==null&&G(q,T),new u.default(q,j.align);if(q.classList.contains("ql-background")||q.classList.contains("ql-color")){var L=q.classList.contains("ql-background")?"background":"color";return q.querySelector("option")==null&&G(q,P,L==="background"?"#ffffff":"#000000"),new e.default(q,j[L])}return q.querySelector("option")==null&&(q.classList.contains("ql-font")?G(q,A):q.classList.contains("ql-header")?G(q,R):q.classList.contains("ql-size")&&G(q,F)),new c.default(q)}),this.quill.on(s.default.events.EDITOR_CHANGE,function(){V.pickers.forEach(function(q){q.update()})})}}]),z}(o.default);U.DEFAULTS=(0,b.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&((z=document.createElement("input")).setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var B=new FileReader;B.onload=function(j){var V=M.quill.getSelection(!0);M.quill.updateContents(new h.default().retain(V.index).delete(V.length).insert({image:j.target.result}),s.default.sources.USER),M.quill.setSelection(V.index+1,s.default.sources.SILENT),z.value=""},B.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Z=function(M){function z(B,j){w(this,z);var V=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,B,j));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return O(z,M),v(z,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function(j){a.default.match(j,"enter")?(B.save(),j.preventDefault()):a.default.match(j,"escape")&&(B.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B,j,V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,s.default.sources.USER)),this.quill.root.scrollTop=q;break;case"video":V=(j=(B=V).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(j[1]||"https")+"://www.youtube.com/embed/"+j[2]+"?showinfo=0":(j=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(j[1]||"https")+"://player.vimeo.com/video/"+j[2]+"/":B;case"formula":if(!V)break;var L=this.quill.getSelection(!0);if(L!=null){var K=L.index+L.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),V,s.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",s.default.sources.USER),this.quill.setSelection(K+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),z}(f.default);function G(M,z){var B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];z.forEach(function(j){var V=document.createElement("option");j===B?V.setAttribute("selected","selected"):V.setAttribute("value",j),M.appendChild(V)})}y.BaseTooltip=Z,y.default=U},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function E(){this.head=this.tail=null,this.length=0}return E.prototype.append=function(){for(var b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];this.insertBefore(b[0],null),b.length>1&&this.append.apply(this,b.slice(1))},E.prototype.contains=function(b){for(var h,s=this.iterator();h=s();)if(h===b)return!0;return!1},E.prototype.insertBefore=function(b,h){b&&(b.next=h,h!=null?(b.prev=h.prev,h.prev!=null&&(h.prev.next=b),h.prev=b,h===this.head&&(this.head=b)):this.tail!=null?(this.tail.next=b,b.prev=this.tail,this.tail=b):(b.prev=null,this.head=this.tail=b),this.length+=1)},E.prototype.offset=function(b){for(var h=0,s=this.head;s!=null;){if(s===b)return h;h+=s.length(),s=s.next}return-1},E.prototype.remove=function(b){this.contains(b)&&(b.prev!=null&&(b.prev.next=b.next),b.next!=null&&(b.next.prev=b.prev),b===this.head&&(this.head=b.next),b===this.tail&&(this.tail=b.prev),this.length-=1)},E.prototype.iterator=function(b){return b===void 0&&(b=this.head),function(){var h=b;return b!=null&&(b=b.next),h}},E.prototype.find=function(b,h){h===void 0&&(h=!1);for(var s,a=this.iterator();s=a();){var o=s.length();if(b<o||h&&b===o&&(s.next==null||s.next.length()!==0))return[s,b];b-=o}return[null,0]},E.prototype.forEach=function(b){for(var h,s=this.iterator();h=s();)b(h)},E.prototype.forEachAt=function(b,h,s){if(!(h<=0))for(var a,o=this.find(b),e=o[0],u=b-o[1],c=this.iterator(e);(a=c())&&u<b+h;){var f=a.length();b>u?s(a,b-u,Math.min(h,u+f-b)):s(a,0,Math.min(f,b+h-u)),u+=f}},E.prototype.map=function(b){return this.reduce(function(h,s){return h.push(b(s)),h},[])},E.prototype.reduce=function(b,h){for(var s,a=this.iterator();s=a();)h=b(h,s);return h},E}();y.default=v},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var u in e)e.hasOwnProperty(u)&&(o[u]=e[u])},function(o,e){function u(){this.constructor=o}v(o,e),o.prototype=e===null?Object.create(e):(u.prototype=e.prototype,new u)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(17),h=g(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(o){function e(u){var c=o.call(this,u)||this;return c.scroll=c,c.observer=new MutationObserver(function(f){c.update(f)}),c.observer.observe(c.domNode,s),c.attach(),c}return E(e,o),e.prototype.detach=function(){o.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(u,c){this.update(),u===0&&c===this.length()?this.children.forEach(function(f){f.remove()}):o.prototype.deleteAt.call(this,u,c)},e.prototype.formatAt=function(u,c,f,n){this.update(),o.prototype.formatAt.call(this,u,c,f,n)},e.prototype.insertAt=function(u,c,f){this.update(),o.prototype.insertAt.call(this,u,c,f)},e.prototype.optimize=function(u,c){var f=this;u===void 0&&(u=[]),c===void 0&&(c={}),o.prototype.optimize.call(this,c);for(var n=[].slice.call(this.observer.takeRecords());n.length>0;)u.push(n.pop());for(var w=function(P,A){A===void 0&&(A=!0),P!=null&&P!==f&&P.domNode.parentNode!=null&&(P.domNode[h.DATA_KEY].mutations==null&&(P.domNode[h.DATA_KEY].mutations=[]),A&&w(P.parent))},I=function(P){P.domNode[h.DATA_KEY]!=null&&P.domNode[h.DATA_KEY].mutations!=null&&(P instanceof b.default&&P.children.forEach(I),P.optimize(c))},O=u,T=0;O.length>0;T+=1){if(T>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(O.forEach(function(P){var A=h.find(P.target,!0);A!=null&&(A.domNode===P.target&&(P.type==="childList"?(w(h.find(P.previousSibling,!1)),[].forEach.call(P.addedNodes,function(R){var F=h.find(R,!1);w(F,!1),F instanceof b.default&&F.children.forEach(function(U){w(U,!1)})})):P.type==="attributes"&&w(A.prev)),w(A))}),this.children.forEach(I),n=(O=[].slice.call(this.observer.takeRecords())).slice();n.length>0;)u.push(n.pop())}},e.prototype.update=function(u,c){var f=this;c===void 0&&(c={}),(u=u||this.observer.takeRecords()).map(function(n){var w=h.find(n.target,!0);return w==null?null:w.domNode[h.DATA_KEY].mutations==null?(w.domNode[h.DATA_KEY].mutations=[n],w):(w.domNode[h.DATA_KEY].mutations.push(n),null)}).forEach(function(n){n!=null&&n!==f&&n.domNode[h.DATA_KEY]!=null&&n.update(n.domNode[h.DATA_KEY].mutations||[],c)}),this.domNode[h.DATA_KEY].mutations!=null&&o.prototype.update.call(this,this.domNode[h.DATA_KEY].mutations,c),this.optimize(u,c)},e.blotName="scroll",e.defaultChild="block",e.scope=h.Scope.BLOCK_BLOT,e.tagName="DIV",e}(b.default);y.default=a},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(18),h=g(1),s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return E(o,a),o.formats=function(e){if(e.tagName!==o.tagName)return a.formats.call(this,e)},o.prototype.format=function(e,u){var c=this;e!==this.statics.blotName||u?a.prototype.format.call(this,e,u):(this.children.forEach(function(f){f instanceof b.default||(f=f.wrap(o.blotName,!0)),c.attributes.copy(f)}),this.unwrap())},o.prototype.formatAt=function(e,u,c,f){this.formats()[c]!=null||h.query(c,h.Scope.ATTRIBUTE)?this.isolate(e,u).format(c,f):a.prototype.formatAt.call(this,e,u,c,f)},o.prototype.optimize=function(e){a.prototype.optimize.call(this,e);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var c=this.next;c instanceof o&&c.prev===this&&function(f,n){if(Object.keys(f).length!==Object.keys(n).length)return!1;for(var w in f)if(f[w]!==n[w])return!1;return!0}(u,c.formats())&&(c.moveChildren(this),c.remove())},o.blotName="inline",o.scope=h.Scope.INLINE_BLOT,o.tagName="SPAN",o}(b.default);y.default=s},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(18),h=g(1),s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return E(o,a),o.formats=function(e){var u=h.query(o.blotName).tagName;if(e.tagName!==u)return a.formats.call(this,e)},o.prototype.format=function(e,u){h.query(e,h.Scope.BLOCK)!=null&&(e!==this.statics.blotName||u?a.prototype.format.call(this,e,u):this.replaceWith(o.blotName))},o.prototype.formatAt=function(e,u,c,f){h.query(c,h.Scope.BLOCK)!=null?this.format(c,f):a.prototype.formatAt.call(this,e,u,c,f)},o.prototype.insertAt=function(e,u,c){if(c==null||h.query(u,h.Scope.INLINE)!=null)a.prototype.insertAt.call(this,e,u,c);else{var f=this.split(e),n=h.create(u,c);f.parent.insertBefore(n,f)}},o.prototype.update=function(e,u){navigator.userAgent.match(/Trident/)?this.build():a.prototype.update.call(this,e,u)},o.blotName="block",o.scope=h.Scope.BLOCK_BLOT,o.tagName="P",o}(b.default);y.default=s},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,s){h.__proto__=s}||function(h,s){for(var a in s)s.hasOwnProperty(a)&&(h[a]=s[a])},function(h,s){function a(){this.constructor=h}v(h,s),h.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(y,"__esModule",{value:!0});var b=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return E(s,h),s.formats=function(a){},s.prototype.format=function(a,o){h.prototype.formatAt.call(this,0,this.length(),a,o)},s.prototype.formatAt=function(a,o,e,u){a===0&&o===this.length()?this.format(e,u):h.prototype.formatAt.call(this,a,o,e,u)},s.prototype.formats=function(){return this.statics.formats(this.domNode)},s}(g(19).default);y.default=b},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(19),h=g(1),s=function(a){function o(e){var u=a.call(this,e)||this;return u.text=u.statics.value(u.domNode),u}return E(o,a),o.create=function(e){return document.createTextNode(e)},o.value=function(e){var u=e.data;return u.normalize&&(u=u.normalize()),u},o.prototype.deleteAt=function(e,u){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+u)},o.prototype.index=function(e,u){return this.domNode===e?u:-1},o.prototype.insertAt=function(e,u,c){c==null?(this.text=this.text.slice(0,e)+u+this.text.slice(e),this.domNode.data=this.text):a.prototype.insertAt.call(this,e,u,c)},o.prototype.length=function(){return this.text.length},o.prototype.optimize=function(e){a.prototype.optimize.call(this,e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof o&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},o.prototype.position=function(e,u){return u===void 0&&(u=!1),[this.domNode,e]},o.prototype.split=function(e,u){if(u===void 0&&(u=!1),!u){if(e===0)return this;if(e===this.length())return this.next}var c=h.create(this.domNode.splitText(e));return this.parent.insertBefore(c,this.next),this.text=this.statics.value(this.domNode),c},o.prototype.update=function(e,u){var c=this;e.some(function(f){return f.type==="characterData"&&f.target===c.domNode})&&(this.text=this.statics.value(this.domNode))},o.prototype.value=function(){return this.text},o.blotName="text",o.scope=h.Scope.INLINE_BLOT,o}(b.default);y.default=s},function(S,y,g){"use strict";var v=document.createElement("div");if(v.classList.toggle("test-class",!1),v.classList.contains("test-class")){var E=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(b,h){return arguments.length>1&&!this.contains(b)==!h?h:E.call(this,b)}}String.prototype.startsWith||(String.prototype.startsWith=function(b,h){return h=h||0,this.substr(h,b.length)===b}),String.prototype.endsWith||(String.prototype.endsWith=function(b,h){var s=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>s.length)&&(h=s.length),h-=b.length;var a=s.indexOf(b,h);return a!==-1&&a===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof b!="function")throw new TypeError("predicate must be a function");for(var h,s=Object(this),a=s.length>>>0,o=arguments[1],e=0;e<a;e++)if(h=s[e],b.call(o,h,e,s))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(S,y){var g=-1;function v(e,u,c){if(e==u)return e?[[0,e]]:[];(c<0||e.length<c)&&(c=null);var f=b(e,u),n=e.substring(0,f);f=h(e=e.substring(f),u=u.substring(f));var w=e.substring(e.length-f),I=function(O,T){var P;if(!O)return[[1,T]];if(!T)return[[g,O]];var A=O.length>T.length?O:T,R=O.length>T.length?T:O,F=A.indexOf(R);if(F!=-1)return P=[[1,A.substring(0,F)],[0,R],[1,A.substring(F+R.length)]],O.length>T.length&&(P[0][0]=P[2][0]=g),P;if(R.length==1)return[[g,O],[1,T]];var U=function(q,L){var K=q.length>L.length?q:L,pe=q.length>L.length?L:q;if(K.length<4||2*pe.length<K.length)return null;function le(oe,Oe,Re){for(var Be,Ne,Fe,je,Le=oe.substring(Re,Re+Math.floor(oe.length/4)),ze=-1,Xe="";(ze=Oe.indexOf(Le,ze+1))!=-1;){var re=b(oe.substring(Re),Oe.substring(ze)),ot=h(oe.substring(0,Re),Oe.substring(0,ze));Xe.length<ot+re&&(Xe=Oe.substring(ze-ot,ze)+Oe.substring(ze,ze+re),Be=oe.substring(0,Re-ot),Ne=oe.substring(Re+re),Fe=Oe.substring(0,ze-ot),je=Oe.substring(ze+re))}return 2*Xe.length>=oe.length?[Be,Ne,Fe,je,Xe]:null}var me,ie,X,$,ce,fe=le(K,pe,Math.ceil(K.length/4)),we=le(K,pe,Math.ceil(K.length/2));return fe||we?(me=we?fe&&fe[4].length>we[4].length?fe:we:fe,q.length>L.length?(ie=me[0],X=me[1],$=me[2],ce=me[3]):($=me[0],ce=me[1],ie=me[2],X=me[3]),[ie,X,$,ce,me[4]]):null}(O,T);if(U){var Z=U[0],G=U[1],M=U[2],z=U[3],B=U[4],j=v(Z,M),V=v(G,z);return j.concat([[0,B]],V)}return function(q,L){for(var K=q.length,pe=L.length,le=Math.ceil((K+pe)/2),me=le,ie=2*le,X=new Array(ie),$=new Array(ie),ce=0;ce<ie;ce++)X[ce]=-1,$[ce]=-1;X[me+1]=0,$[me+1]=0;for(var fe=K-pe,we=fe%2!=0,oe=0,Oe=0,Re=0,Be=0,Ne=0;Ne<le;Ne++){for(var Fe=-Ne+oe;Fe<=Ne-Oe;Fe+=2){for(var je=me+Fe,Le=(it=Fe==-Ne||Fe!=Ne&&X[je-1]<X[je+1]?X[je+1]:X[je-1]+1)-Fe;it<K&&Le<pe&&q.charAt(it)==L.charAt(Le);)it++,Le++;if(X[je]=it,it>K)Oe+=2;else if(Le>pe)oe+=2;else if(we&&(re=me+fe-Fe)>=0&&re<ie&&$[re]!=-1&&it>=(Xe=K-$[re]))return E(q,L,it,Le)}for(var ze=-Ne+Re;ze<=Ne-Be;ze+=2){for(var Xe,re=me+ze,ot=(Xe=ze==-Ne||ze!=Ne&&$[re-1]<$[re+1]?$[re+1]:$[re-1]+1)-ze;Xe<K&&ot<pe&&q.charAt(K-Xe-1)==L.charAt(pe-ot-1);)Xe++,ot++;if($[re]=Xe,Xe>K)Be+=2;else if(ot>pe)Re+=2;else if(!we){var it;if((je=me+fe-ze)>=0&&je<ie&&X[je]!=-1&&(Le=me+(it=X[je])-je,it>=(Xe=K-Xe)))return E(q,L,it,Le)}}}return[[g,q],[1,L]]}(O,T)}(e=e.substring(0,e.length-f),u=u.substring(0,u.length-f));return n&&I.unshift([0,n]),w&&I.push([0,w]),s(I),c!=null&&(I=function(O,T){var P=function(G,M){if(M===0)return[0,G];for(var z=0,B=0;B<G.length;B++){var j=G[B];if(j[0]===g||j[0]===0){var V=z+j[1].length;if(M===V)return[B+1,G];if(M<V){G=G.slice();var q=M-z,L=[j[0],j[1].slice(0,q)],K=[j[0],j[1].slice(q)];return G.splice(B,1,L,K),[B+1,G]}z=V}}throw new Error("cursor_pos is out of bounds!")}(O,T),A=P[1],R=P[0],F=A[R],U=A[R+1];if(F==null||F[0]!==0)return O;if(U!=null&&F[1]+U[1]===U[1]+F[1])return A.splice(R,2,U,F),o(A,R,2);if(U!=null&&U[1].indexOf(F[1])===0){A.splice(R,2,[U[0],F[1]],[0,F[1]]);var Z=U[1].slice(F[1].length);return Z.length>0&&A.splice(R+2,0,[U[0],Z]),o(A,R,3)}return O}(I,c)),function(O){for(var T=!1,P=function(U){return U.charCodeAt(0)>=56320&&U.charCodeAt(0)<=57343},A=2;A<O.length;A+=1)O[A-2][0]===0&&(R=O[A-2][1]).charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319&&O[A-1][0]===g&&P(O[A-1][1])&&O[A][0]===1&&P(O[A][1])&&(T=!0,O[A-1][1]=O[A-2][1].slice(-1)+O[A-1][1],O[A][1]=O[A-2][1].slice(-1)+O[A][1],O[A-2][1]=O[A-2][1].slice(0,-1));var R;if(!T)return O;var F=[];for(A=0;A<O.length;A+=1)O[A][1].length>0&&F.push(O[A]);return F}(I)}function E(e,u,c,f){var n=e.substring(0,c),w=u.substring(0,f),I=e.substring(c),O=u.substring(f),T=v(n,w),P=v(I,O);return T.concat(P)}function b(e,u){if(!e||!u||e.charAt(0)!=u.charAt(0))return 0;for(var c=0,f=Math.min(e.length,u.length),n=f,w=0;c<n;)e.substring(w,n)==u.substring(w,n)?w=c=n:f=n,n=Math.floor((f-c)/2+c);return n}function h(e,u){if(!e||!u||e.charAt(e.length-1)!=u.charAt(u.length-1))return 0;for(var c=0,f=Math.min(e.length,u.length),n=f,w=0;c<n;)e.substring(e.length-n,e.length-w)==u.substring(u.length-n,u.length-w)?w=c=n:f=n,n=Math.floor((f-c)/2+c);return n}function s(e){e.push([0,""]);for(var u,c=0,f=0,n=0,w="",I="";c<e.length;)switch(e[c][0]){case 1:n++,I+=e[c][1],c++;break;case g:f++,w+=e[c][1],c++;break;case 0:f+n>1?(f!==0&&n!==0&&((u=b(I,w))!==0&&(c-f-n>0&&e[c-f-n-1][0]==0?e[c-f-n-1][1]+=I.substring(0,u):(e.splice(0,0,[0,I.substring(0,u)]),c++),I=I.substring(u),w=w.substring(u)),(u=h(I,w))!==0&&(e[c][1]=I.substring(I.length-u)+e[c][1],I=I.substring(0,I.length-u),w=w.substring(0,w.length-u))),f===0?e.splice(c-n,f+n,[1,I]):n===0?e.splice(c-f,f+n,[g,w]):e.splice(c-f-n,f+n,[g,w],[1,I]),c=c-f-n+(f?1:0)+(n?1:0)+1):c!==0&&e[c-1][0]==0?(e[c-1][1]+=e[c][1],e.splice(c,1)):c++,n=0,f=0,w="",I=""}e[e.length-1][1]===""&&e.pop();var O=!1;for(c=1;c<e.length-1;)e[c-1][0]==0&&e[c+1][0]==0&&(e[c][1].substring(e[c][1].length-e[c-1][1].length)==e[c-1][1]?(e[c][1]=e[c-1][1]+e[c][1].substring(0,e[c][1].length-e[c-1][1].length),e[c+1][1]=e[c-1][1]+e[c+1][1],e.splice(c-1,1),O=!0):e[c][1].substring(0,e[c+1][1].length)==e[c+1][1]&&(e[c-1][1]+=e[c+1][1],e[c][1]=e[c][1].substring(e[c+1][1].length)+e[c+1][1],e.splice(c+1,1),O=!0)),c++;O&&s(e)}var a=v;function o(e,u,c){for(var f=u+c-1;f>=0&&f>=u-1;f--)if(f+1<e.length){var n=e[f],w=e[f+1];n[0]===w[1]&&e.splice(f,2,[n[0],n[1]+w[1]])}return e}a.INSERT=1,a.DELETE=g,a.EQUAL=0,S.exports=a},function(S,y){function g(v){var E=[];for(var b in v)E.push(b);return E}(S.exports=typeof Object.keys=="function"?Object.keys:g).shim=g},function(S,y){var g=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function v(b){return Object.prototype.toString.call(b)=="[object Arguments]"}function E(b){return b&&typeof b=="object"&&typeof b.length=="number"&&Object.prototype.hasOwnProperty.call(b,"callee")&&!Object.prototype.propertyIsEnumerable.call(b,"callee")||!1}(y=S.exports=g?v:E).supported=v,y.unsupported=E},function(S,y){"use strict";var g=Object.prototype.hasOwnProperty,v="~";function E(){}function b(s,a,o){this.fn=s,this.context=a,this.once=o||!1}function h(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(v=!1)),h.prototype.eventNames=function(){var s,a,o=[];if(this._eventsCount===0)return o;for(a in s=this._events)g.call(s,a)&&o.push(v?a.slice(1):a);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(s)):o},h.prototype.listeners=function(s,a){var o=v?v+s:s,e=this._events[o];if(a)return!!e;if(!e)return[];if(e.fn)return[e.fn];for(var u=0,c=e.length,f=new Array(c);u<c;u++)f[u]=e[u].fn;return f},h.prototype.emit=function(s,a,o,e,u,c){var f=v?v+s:s;if(!this._events[f])return!1;var n,w,I=this._events[f],O=arguments.length;if(I.fn){switch(I.once&&this.removeListener(s,I.fn,void 0,!0),O){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,a),!0;case 3:return I.fn.call(I.context,a,o),!0;case 4:return I.fn.call(I.context,a,o,e),!0;case 5:return I.fn.call(I.context,a,o,e,u),!0;case 6:return I.fn.call(I.context,a,o,e,u,c),!0}for(w=1,n=new Array(O-1);w<O;w++)n[w-1]=arguments[w];I.fn.apply(I.context,n)}else{var T,P=I.length;for(w=0;w<P;w++)switch(I[w].once&&this.removeListener(s,I[w].fn,void 0,!0),O){case 1:I[w].fn.call(I[w].context);break;case 2:I[w].fn.call(I[w].context,a);break;case 3:I[w].fn.call(I[w].context,a,o);break;case 4:I[w].fn.call(I[w].context,a,o,e);break;default:if(!n)for(T=1,n=new Array(O-1);T<O;T++)n[T-1]=arguments[T];I[w].fn.apply(I[w].context,n)}}return!0},h.prototype.on=function(s,a,o){var e=new b(a,o||this),u=v?v+s:s;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],e]:this._events[u].push(e):(this._events[u]=e,this._eventsCount++),this},h.prototype.once=function(s,a,o){var e=new b(a,o||this,!0),u=v?v+s:s;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],e]:this._events[u].push(e):(this._events[u]=e,this._eventsCount++),this},h.prototype.removeListener=function(s,a,o,e){var u=v?v+s:s;if(!this._events[u])return this;if(!a)return--this._eventsCount==0?this._events=new E:delete this._events[u],this;var c=this._events[u];if(c.fn)c.fn!==a||e&&!c.once||o&&c.context!==o||(--this._eventsCount==0?this._events=new E:delete this._events[u]);else{for(var f=0,n=[],w=c.length;f<w;f++)(c[f].fn!==a||e&&!c[f].once||o&&c[f].context!==o)&&n.push(c[f]);n.length?this._events[u]=n.length===1?n[0]:n:--this._eventsCount==0?this._events=new E:delete this._events[u]}return this},h.prototype.removeAllListeners=function(s){var a;return s?(a=v?v+s:s,this._events[a]&&(--this._eventsCount==0?this._events=new E:delete this._events[a])):(this._events=new E,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=v,h.EventEmitter=h,S!==void 0&&(S.exports=h)},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.matchText=y.matchSpacing=y.matchNewline=y.matchBlot=y.matchAttributor=y.default=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},E=function(X,$){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return function(ce,fe){var we=[],oe=!0,Oe=!1,Re=void 0;try{for(var Be,Ne=ce[Symbol.iterator]();!(oe=(Be=Ne.next()).done)&&(we.push(Be.value),!fe||we.length!==fe);oe=!0);}catch(Fe){Oe=!0,Re=Fe}finally{try{!oe&&Ne.return&&Ne.return()}finally{if(Oe)throw Re}}return we}(X,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function X($,ce){for(var fe=0;fe<ce.length;fe++){var we=ce[fe];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty($,we.key,we)}}return function($,ce,fe){return ce&&X($.prototype,ce),fe&&X($,fe),$}}(),h=P(g(3)),s=P(g(2)),a=P(g(0)),o=P(g(5)),e=P(g(10)),u=P(g(9)),c=g(36),f=g(37),n=P(g(13)),w=g(26),I=g(38),O=g(39),T=g(40);function P(X){return X&&X.__esModule?X:{default:X}}function A(X,$,ce){return $ in X?Object.defineProperty(X,$,{value:ce,enumerable:!0,configurable:!0,writable:!0}):X[$]=ce,X}var R=(0,e.default)("quill:clipboard"),F="__ql-matcher",U=[[Node.TEXT_NODE,ie],[Node.TEXT_NODE,le],["br",function(X,$){return j($,`
`)||$.insert(`
`),$}],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,function(X,$){var ce={},fe=X.style||{};return fe.fontStyle&&B(X).fontStyle==="italic"&&(ce.italic=!0),fe.fontWeight&&(B(X).fontWeight.startsWith("bold")||parseInt(B(X).fontWeight)>=700)&&(ce.bold=!0),Object.keys(ce).length>0&&($=z($,ce)),parseFloat(fe.textIndent||0)>0&&($=new s.default().insert("	").concat($)),$}],["li",function(X,$){var ce=a.default.query(X);if(ce==null||ce.blotName!=="list-item"||!j($,`
`))return $;for(var fe=-1,we=X.parentNode;!we.classList.contains("ql-clipboard");)(a.default.query(we)||{}).blotName==="list"&&(fe+=1),we=we.parentNode;return fe<=0?$:$.compose(new s.default().retain($.length()-1).retain(1,{indent:fe}))}],["b",L.bind(L,"bold")],["i",L.bind(L,"italic")],["style",function(){return new s.default}]],Z=[c.AlignAttribute,I.DirectionAttribute].reduce(function(X,$){return X[$.keyName]=$,X},{}),G=[c.AlignStyle,f.BackgroundStyle,w.ColorStyle,I.DirectionStyle,O.FontStyle,T.SizeStyle].reduce(function(X,$){return X[$.keyName]=$,X},{}),M=function(X){function $(ce,fe){(function(oe,Oe){if(!(oe instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,$);var we=function(oe,Oe){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Oe||typeof Oe!="object"&&typeof Oe!="function"?oe:Oe}(this,($.__proto__||Object.getPrototypeOf($)).call(this,ce,fe));return we.quill.root.addEventListener("paste",we.onPaste.bind(we)),we.container=we.quill.addContainer("ql-clipboard"),we.container.setAttribute("contenteditable",!0),we.container.setAttribute("tabindex",-1),we.matchers=[],U.concat(we.options.matchers).forEach(function(oe){var Oe=E(oe,2),Re=Oe[0],Be=Oe[1];(fe.matchVisual||Be!==me)&&we.addMatcher(Re,Be)}),we}return function(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}($,X),b($,[{key:"addMatcher",value:function(ce,fe){this.matchers.push([ce,fe])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var fe=this.quill.getFormat(this.quill.selection.savedRange.index);if(fe[n.default.blotName]){var we=this.container.innerText;return this.container.innerHTML="",new s.default().insert(we,A({},n.default.blotName,fe[n.default.blotName]))}var oe=this.prepareMatching(),Oe=E(oe,2),Re=Oe[0],Be=Oe[1],Ne=q(this.container,Re,Be);return j(Ne,`
`)&&Ne.ops[Ne.ops.length-1].attributes==null&&(Ne=Ne.compose(new s.default().retain(Ne.length()-1).delete(1))),R.log("convert",this.container.innerHTML,Ne),this.container.innerHTML="",Ne}},{key:"dangerouslyPasteHTML",value:function(ce,fe){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),fe),this.quill.setSelection(0,o.default.sources.SILENT);else{var oe=this.convert(fe);this.quill.updateContents(new s.default().retain(ce).concat(oe),we),this.quill.setSelection(ce+oe.length(),o.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var fe=this;if(!ce.defaultPrevented&&this.quill.isEnabled()){var we=this.quill.getSelection(),oe=new s.default().retain(we.index),Oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(o.default.sources.SILENT),setTimeout(function(){oe=oe.concat(fe.convert()).delete(we.length),fe.quill.updateContents(oe,o.default.sources.USER),fe.quill.setSelection(oe.length()-we.length,o.default.sources.SILENT),fe.quill.scrollingContainer.scrollTop=Oe,fe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,fe=[],we=[];return this.matchers.forEach(function(oe){var Oe=E(oe,2),Re=Oe[0],Be=Oe[1];switch(Re){case Node.TEXT_NODE:we.push(Be);break;case Node.ELEMENT_NODE:fe.push(Be);break;default:[].forEach.call(ce.container.querySelectorAll(Re),function(Ne){Ne[F]=Ne[F]||[],Ne[F].push(Be)})}}),[fe,we]}}]),$}(u.default);function z(X,$,ce){return($===void 0?"undefined":v($))==="object"?Object.keys($).reduce(function(fe,we){return z(fe,we,$[we])},X):X.reduce(function(fe,we){return we.attributes&&we.attributes[$]?fe.push(we):fe.insert(we.insert,(0,h.default)({},A({},$,ce),we.attributes))},new s.default)}function B(X){if(X.nodeType!==Node.ELEMENT_NODE)return{};var $="__ql-computed-style";return X[$]||(X[$]=window.getComputedStyle(X))}function j(X,$){for(var ce="",fe=X.ops.length-1;fe>=0&&ce.length<$.length;--fe){var we=X.ops[fe];if(typeof we.insert!="string")break;ce=we.insert+ce}return ce.slice(-1*$.length)===$}function V(X){if(X.childNodes.length===0)return!1;var $=B(X);return["block","list-item"].indexOf($.display)>-1}function q(X,$,ce){return X.nodeType===X.TEXT_NODE?ce.reduce(function(fe,we){return we(X,fe)},new s.default):X.nodeType===X.ELEMENT_NODE?[].reduce.call(X.childNodes||[],function(fe,we){var oe=q(we,$,ce);return we.nodeType===X.ELEMENT_NODE&&(oe=$.reduce(function(Oe,Re){return Re(we,Oe)},oe),oe=(we[F]||[]).reduce(function(Oe,Re){return Re(we,Oe)},oe)),fe.concat(oe)},new s.default):new s.default}function L(X,$,ce){return z(ce,X,!0)}function K(X,$){var ce=a.default.Attributor.Attribute.keys(X),fe=a.default.Attributor.Class.keys(X),we=a.default.Attributor.Style.keys(X),oe={};return ce.concat(fe).concat(we).forEach(function(Oe){var Re=a.default.query(Oe,a.default.Scope.ATTRIBUTE);Re!=null&&(oe[Re.attrName]=Re.value(X),oe[Re.attrName])||((Re=Z[Oe])==null||Re.attrName!==Oe&&Re.keyName!==Oe||(oe[Re.attrName]=Re.value(X)||void 0),(Re=G[Oe])==null||Re.attrName!==Oe&&Re.keyName!==Oe||(Re=G[Oe],oe[Re.attrName]=Re.value(X)||void 0))}),Object.keys(oe).length>0&&($=z($,oe)),$}function pe(X,$){var ce=a.default.query(X);if(ce==null)return $;if(ce.prototype instanceof a.default.Embed){var fe={},we=ce.value(X);we!=null&&(fe[ce.blotName]=we,$=new s.default().insert(fe,ce.formats(X)))}else typeof ce.formats=="function"&&($=z($,ce.blotName,ce.formats(X)));return $}function le(X,$){return j($,`
`)||(V(X)||$.length()>0&&X.nextSibling&&V(X.nextSibling))&&$.insert(`
`),$}function me(X,$){if(V(X)&&X.nextElementSibling!=null&&!j($,`

`)){var ce=X.offsetHeight+parseFloat(B(X).marginTop)+parseFloat(B(X).marginBottom);X.nextElementSibling.offsetTop>X.offsetTop+1.5*ce&&$.insert(`
`)}return $}function ie(X,$){var ce=X.data;if(X.parentNode.tagName==="O:P")return $.insert(ce.trim());if(ce.trim().length===0&&X.parentNode.classList.contains("ql-clipboard"))return $;if(!B(X.parentNode).whiteSpace.startsWith("pre")){var fe=function(we,oe){return(oe=oe.replace(/[^\u00a0]/g,"")).length<1&&we?" ":oe};ce=(ce=ce.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,fe.bind(fe,!0)),(X.previousSibling==null&&V(X.parentNode)||X.previousSibling!=null&&V(X.previousSibling))&&(ce=ce.replace(/^\s+/,fe.bind(fe,!1))),(X.nextSibling==null&&V(X.parentNode)||X.nextSibling!=null&&V(X.nextSibling))&&(ce=ce.replace(/\s+$/,fe.bind(fe,!1)))}return $.insert(ce)}M.DEFAULTS={matchers:[],matchVisual:!0},y.default=M,y.matchAttributor=K,y.matchBlot=pe,y.matchNewline=le,y.matchSpacing=me,y.matchText=ie},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0};function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function s(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}var a=function(o){function e(){return h(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,[{key:"optimize",value:function(u){b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,u),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return b(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((v=g(6))&&v.__esModule?v:{default:v}).default);a.blotName="bold",a.tagName=["STRONG","B"],y.default=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.addControls=y.default=void 0;var v=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(T,P){var A=[],R=!0,F=!1,U=void 0;try{for(var Z,G=T[Symbol.iterator]();!(R=(Z=G.next()).done)&&(A.push(Z.value),!P||A.length!==P);R=!0);}catch(M){F=!0,U=M}finally{try{!R&&G.return&&G.return()}finally{if(F)throw U}}return A}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function I(O,T){for(var P=0;P<T.length;P++){var A=T[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,P){return T&&I(O.prototype,T),P&&I(O,P),O}}(),b=e(g(2)),h=e(g(0)),s=e(g(5)),a=e(g(10)),o=e(g(9));function e(I){return I&&I.__esModule?I:{default:I}}function u(I,O){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?I:O}var c=(0,a.default)("quill:toolbar"),f=function(I){function O(T,P){(function(U,Z){if(!(U instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,O);var A,R=u(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,T,P));if(Array.isArray(R.options.container)){var F=document.createElement("div");w(F,R.options.container),T.container.parentNode.insertBefore(F,T.container),R.container=F}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;return R.container instanceof HTMLElement?(R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(U){R.addHandler(U,R.options.handlers[U])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(U){R.attach(U)}),R.quill.on(s.default.events.EDITOR_CHANGE,function(U,Z){U===s.default.events.SELECTION_CHANGE&&R.update(Z)}),R.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var U=R.quill.selection.getRange(),Z=v(U,1)[0];R.update(Z)}),R):(A=c.error("Container required for toolbar",R.options),u(R,A))}return function(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}(O,I),E(O,[{key:"addHandler",value:function(T,P){this.handlers[T]=P}},{key:"attach",value:function(T){var P=this,A=[].find.call(T.classList,function(F){return F.indexOf("ql-")===0});if(A){if(A=A.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[A]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[A]==null)return void c.warn("ignoring attaching to disabled format",A,T);if(h.default.query(A)==null)return void c.warn("ignoring attaching to nonexistent format",A,T)}var R=T.tagName==="SELECT"?"change":"click";T.addEventListener(R,function(F){var U=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var Z=T.options[T.selectedIndex];U=!Z.hasAttribute("selected")&&(Z.value||!1)}else U=!T.classList.contains("ql-active")&&(T.value||!T.hasAttribute("value")),F.preventDefault();P.quill.focus();var G=P.quill.selection.getRange(),M=v(G,1)[0];if(P.handlers[A]!=null)P.handlers[A].call(P,U);else if(h.default.query(A).prototype instanceof h.default.Embed){if(!(U=prompt("Enter "+A)))return;P.quill.updateContents(new b.default().retain(M.index).delete(M.length).insert(function(z,B,j){return B in z?Object.defineProperty(z,B,{value:j,enumerable:!0,configurable:!0,writable:!0}):z[B]=j,z}({},A,U)),s.default.sources.USER)}else P.quill.format(A,U,s.default.sources.USER);P.update(M)}),this.controls.push([A,T])}}},{key:"update",value:function(T){var P=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(A){var R=v(A,2),F=R[0],U=R[1];if(U.tagName==="SELECT"){var Z=void 0;if(T==null)Z=null;else if(P[F]==null)Z=U.querySelector("option[selected]");else if(!Array.isArray(P[F])){var G=P[F];typeof G=="string"&&(G=G.replace(/\"/g,'\\"')),Z=U.querySelector('option[value="'+G+'"]')}Z==null?(U.value="",U.selectedIndex=-1):Z.selected=!0}else if(T==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var M=P[F]===U.getAttribute("value")||P[F]!=null&&P[F].toString()===U.getAttribute("value")||P[F]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",M)}else U.classList.toggle("ql-active",P[F]!=null)})}}]),O}(o.default);function n(I,O,T){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+O),T!=null&&(P.value=T),I.appendChild(P)}function w(I,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(T){var P=document.createElement("span");P.classList.add("ql-formats"),T.forEach(function(A){if(typeof A=="string")n(P,A);else{var R=Object.keys(A)[0],F=A[R];Array.isArray(F)?function(U,Z,G){var M=document.createElement("select");M.classList.add("ql-"+Z),G.forEach(function(z){var B=document.createElement("option");z!==!1?B.setAttribute("value",z):B.setAttribute("selected","selected"),M.appendChild(B)}),U.appendChild(M)}(P,R,F):n(P,R,F)}}),I.appendChild(P)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var I=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(P){h.default.query(P,h.default.Scope.INLINE)!=null&&I.quill.format(P,!1)})}else this.quill.removeFormat(O,s.default.sources.USER)},direction:function(I){var O=this.quill.getFormat().align;I==="rtl"&&O==null?this.quill.format("align","right",s.default.sources.USER):I||O!=="right"||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",I,s.default.sources.USER)},indent:function(I){var O=this.quill.getSelection(),T=this.quill.getFormat(O),P=parseInt(T.indent||0);if(I==="+1"||I==="-1"){var A=I==="+1"?1:-1;T.direction==="rtl"&&(A*=-1),this.quill.format("indent",P+A,s.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,s.default.sources.USER)},list:function(I){var O=this.quill.getSelection(),T=this.quill.getFormat(O);I==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",I,s.default.sources.USER)}}},y.default=f,y.addControls=w},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function s(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&s(a.prototype,o),e&&s(a,e),a}}(),b=function s(a,o,e){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(u===void 0){var c=Object.getPrototypeOf(a);return c===null?void 0:s(c,o,e)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(e):void 0},h=function(s){function a(o,e){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o));return u.label.innerHTML=e,u.container.classList.add("ql-color-picker"),[].slice.call(u.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),u}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),E(a,[{key:"buildItem",value:function(o){var e=b(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"buildItem",this).call(this,o);return e.style.backgroundColor=o.getAttribute("value")||"",e}},{key:"selectItem",value:function(o,e){b(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,o,e);var u=this.label.querySelector(".ql-color-label"),c=o&&o.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=c:u.style.fill=c)}}]),a}(((v=g(28))&&v.__esModule?v:{default:v}).default);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function s(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&s(a.prototype,o),e&&s(a,e),a}}(),b=function s(a,o,e){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(u===void 0){var c=Object.getPrototypeOf(a);return c===null?void 0:s(c,o,e)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(e):void 0},h=function(s){function a(o,e){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o));return u.container.classList.add("ql-icon-picker"),[].forEach.call(u.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=e[c.getAttribute("data-value")||""]}),u.defaultItem=u.container.querySelector(".ql-selected"),u.selectItem(u.defaultItem),u}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),E(a,[{key:"selectItem",value:function(o,e){b(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,o,e),o=o||this.defaultItem,this.label.innerHTML=o.innerHTML}}]),a}(((v=g(28))&&v.__esModule?v:{default:v}).default);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function b(h,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,s,a){return s&&b(h.prototype,s),a&&b(h,a),h}}(),E=function(){function b(h,s){var a=this;(function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")})(this,b),this.quill=h,this.boundsContainer=s||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return v(b,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var s=h.left+h.width/2-this.root.offsetWidth/2,a=h.bottom+this.quill.root.scrollTop;this.root.style.left=s+"px",this.root.style.top=a+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),e=this.root.getBoundingClientRect(),u=0;if(e.right>o.right&&(u=o.right-e.right,this.root.style.left=s+u+"px"),e.left<o.left&&(u=o.left-e.left,this.root.style.left=s+u+"px"),e.bottom>o.bottom){var c=e.bottom-e.top,f=h.bottom-h.top+c;this.root.style.top=a-f+"px",this.root.classList.add("ql-flip")}return u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),b}();y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function P(A,R,F){A===null&&(A=Function.prototype);var U=Object.getOwnPropertyDescriptor(A,R);if(U===void 0){var Z=Object.getPrototypeOf(A);return Z===null?void 0:P(Z,R,F)}if("value"in U)return U.value;var G=U.get;return G!==void 0?G.call(F):void 0},E=function(){function P(A,R){for(var F=0;F<R.length;F++){var U=R[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,R,F){return R&&P(A.prototype,R),F&&P(A,F),A}}(),b=c(g(3)),h=c(g(8)),s=g(43),a=c(s),o=c(g(27)),e=g(15),u=c(g(41));function c(P){return P&&P.__esModule?P:{default:P}}function f(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function n(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?P:A}function w(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(P){function A(R,F){f(this,A),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=I);var U=n(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R,F));return U.quill.container.classList.add("ql-snow"),U}return w(A,P),E(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),u.default),this.tooltip=new T(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,U){R.handlers.link.call(R,!U.format.link)})}}]),A}(a.default);O.DEFAULTS=(0,b.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var A=this.quill.getSelection();if(A==null||A.length==0)return;var R=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R),this.quill.theme.tooltip.edit("link",R)}else this.quill.format("link",!1)}}}}});var T=function(P){function A(R,F){f(this,A);var U=n(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R,F));return U.preview=U.root.querySelector("a.ql-preview"),U}return w(A,P),E(A,[{key:"listen",value:function(){var R=this;v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(R.linkRange!=null){var U=R.linkRange;R.restoreFocus(),R.quill.formatText(U,"link",!1,h.default.sources.USER),delete R.linkRange}F.preventDefault(),R.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(F,U,Z){if(F!=null){if(F.length===0&&Z===h.default.sources.USER){var G=function(j,V){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return function(q,L){var K=[],pe=!0,le=!1,me=void 0;try{for(var ie,X=q[Symbol.iterator]();!(pe=(ie=X.next()).done)&&(K.push(ie.value),!L||K.length!==L);pe=!0);}catch($){le=!0,me=$}finally{try{!pe&&X.return&&X.return()}finally{if(le)throw me}}return K}(j,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(R.quill.scroll.descendant(o.default,F.index),2),M=G[0],z=G[1];if(M!=null){R.linkRange=new e.Range(F.index-z,M.length());var B=o.default.formats(M.domNode);return R.preview.textContent=B,R.preview.setAttribute("href",B),R.show(),void R.position(R.quill.getBounds(R.linkRange))}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(s.BaseTooltip);T.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),y.default=O},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=le(g(29)),E=g(36),b=g(38),h=g(64),s=le(g(65)),a=le(g(66)),o=g(67),e=le(o),u=g(37),c=g(26),f=g(39),n=g(40),w=le(g(56)),I=le(g(68)),O=le(g(27)),T=le(g(69)),P=le(g(70)),A=le(g(71)),R=le(g(72)),F=le(g(73)),U=g(13),Z=le(U),G=le(g(74)),M=le(g(75)),z=le(g(57)),B=le(g(41)),j=le(g(28)),V=le(g(59)),q=le(g(60)),L=le(g(61)),K=le(g(108)),pe=le(g(62));function le(me){return me&&me.__esModule?me:{default:me}}v.default.register({"attributors/attribute/direction":b.DirectionAttribute,"attributors/class/align":E.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":c.ColorClass,"attributors/class/direction":b.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":n.SizeClass,"attributors/style/align":E.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":c.ColorStyle,"attributors/style/direction":b.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":n.SizeStyle},!0),v.default.register({"formats/align":E.AlignClass,"formats/direction":b.DirectionClass,"formats/indent":h.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":c.ColorStyle,"formats/font":f.FontClass,"formats/size":n.SizeClass,"formats/blockquote":s.default,"formats/code-block":Z.default,"formats/header":a.default,"formats/list":e.default,"formats/bold":w.default,"formats/code":U.Code,"formats/italic":I.default,"formats/link":O.default,"formats/script":T.default,"formats/strike":P.default,"formats/underline":A.default,"formats/image":R.default,"formats/video":F.default,"formats/list/item":o.ListItem,"modules/formula":G.default,"modules/syntax":M.default,"modules/toolbar":z.default,"themes/bubble":K.default,"themes/snow":pe.default,"ui/icons":B.default,"ui/picker":j.default,"ui/icon-picker":q.default,"ui/color-picker":V.default,"ui/tooltip":L.default},!0),y.default=v.default},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.IndentClass=void 0;var v,E=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),b=function u(c,f,n){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,f);if(w===void 0){var I=Object.getPrototypeOf(c);return I===null?void 0:u(I,f,n)}if("value"in w)return w.value;var O=w.get;return O!==void 0?O.call(n):void 0},h=(v=g(0))&&v.__esModule?v:{default:v};function s(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function a(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var o=function(u){function c(){return s(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}(c,u),E(c,[{key:"add",value:function(f,n){if(n==="+1"||n==="-1"){var w=this.value(f)||0;n=n==="+1"?w+1:w-1}return n===0?(this.remove(f),!0):b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"add",this).call(this,f,n)}},{key:"canAdd",value:function(f,n){return b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"canAdd",this).call(this,f,n)||b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"canAdd",this).call(this,f,parseInt(n))}},{key:"value",value:function(f){return parseInt(b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"value",this).call(this,f))||void 0}}]),c}(h.default.Attributor.Class),e=new o("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});y.IndentClass=e},function(S,y,g){"use strict";var v;function E(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function b(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),a}(((v=g(4))&&v.__esModule?v:{default:v}).default);h.blotName="blockquote",h.tagName="blockquote",y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function a(o,e){for(var u=0;u<e.length;u++){var c=e[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,e,u){return e&&a(o.prototype,e),u&&a(o,u),o}}();function b(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function h(a,o){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?a:o}var s=function(a){function o(){return b(this,o),h(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u)}(o,a),E(o,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),o}(((v=g(4))&&v.__esModule?v:{default:v}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],y.default=s},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.ListItem=void 0;var v=function(){function n(w,I){for(var O=0;O<I.length;O++){var T=I[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,I,O){return I&&n(w.prototype,I),O&&n(w,O),w}}(),E=function n(w,I,O){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,I);if(T===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:n(P,I,O)}if("value"in T)return T.value;var A=T.get;return A!==void 0?A.call(O):void 0},b=a(g(0)),h=a(g(4)),s=a(g(25));function a(n){return n&&n.__esModule?n:{default:n}}function o(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")}function e(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}function u(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}var c=function(n){function w(){return o(this,w),e(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return u(w,n),v(w,[{key:"format",value:function(I,O){I!==f.blotName||O?E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,I,O):this.replaceWith(b.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,O){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,O),this):(this.parent.unwrap(),E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,I,O))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:E(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,I)}}]),w}(h.default);c.blotName="list-item",c.tagName="LI";var f=function(n){function w(I){o(this,w);var O=e(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I)),T=function(P){if(P.target.parentNode===I){var A=O.statics.formats(I),R=b.default.find(P.target);A==="checked"?R.format("list","unchecked"):A==="unchecked"&&R.format("list","checked")}};return I.addEventListener("touchstart",T),I.addEventListener("mousedown",T),O}return u(w,n),v(w,null,[{key:"create",value:function(I){var O=I==="ordered"?"OL":"UL",T=E(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,O);return I!=="checked"&&I!=="unchecked"||T.setAttribute("data-checked",I==="checked"),T}},{key:"formats",value:function(I){return I.tagName==="OL"?"ordered":I.tagName==="UL"?I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),v(w,[{key:"format",value:function(I,O){this.children.length>0&&this.children.tail.format(I,O)}},{key:"formats",value:function(){return I={},O=this.statics.blotName,T=this.statics.formats(this.domNode),O in I?Object.defineProperty(I,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):I[O]=T,I;var I,O,T}},{key:"insertBefore",value:function(I,O){if(I instanceof c)E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,I,O);else{var T=O==null?this.length():O.offset(this),P=this.split(T);P.parent.insertBefore(I,P)}}},{key:"optimize",value:function(I){E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,I);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var O=b.default.create(this.statics.defaultChild);I.moveChildren(O),this.appendChild(O)}E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,I)}}]),w}(s.default);f.blotName="list",f.scope=b.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[c],y.ListItem=c,y.default=f},function(S,y,g){"use strict";var v;function E(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function b(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),a}(((v=g(56))&&v.__esModule?v:{default:v}).default);h.blotName="italic",h.tagName=["EM","I"],y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0};function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function s(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}var a=function(o){function e(){return h(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,null,[{key:"create",value:function(u){return u==="super"?document.createElement("sup"):u==="sub"?document.createElement("sub"):b(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,u)}},{key:"formats",value:function(u){return u.tagName==="SUB"?"sub":u.tagName==="SUP"?"super":void 0}}]),e}(((v=g(6))&&v.__esModule?v:{default:v}).default);a.blotName="script",a.tagName=["SUB","SUP"],y.default=a},function(S,y,g){"use strict";var v;function E(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function b(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),a}(((v=g(6))&&v.__esModule?v:{default:v}).default);h.blotName="strike",h.tagName="S",y.default=h},function(S,y,g){"use strict";var v;function E(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function b(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(s){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,s),a}(((v=g(6))&&v.__esModule?v:{default:v}).default);h.blotName="underline",h.tagName="U",y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function c(f,n){for(var w=0;w<n.length;w++){var I=n[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(f,I.key,I)}}return function(f,n,w){return n&&c(f.prototype,n),w&&c(f,w),f}}(),b=function c(f,n,w){f===null&&(f=Function.prototype);var I=Object.getOwnPropertyDescriptor(f,n);if(I===void 0){var O=Object.getPrototypeOf(f);return O===null?void 0:c(O,n,w)}if("value"in I)return I.value;var T=I.get;return T!==void 0?T.call(w):void 0},h=(v=g(0))&&v.__esModule?v:{default:v},s=g(27);function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function o(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}var e=["alt","height","width"],u=function(c){function f(){return a(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}(f,c),E(f,[{key:"format",value:function(n,w){e.indexOf(n)>-1?w?this.domNode.setAttribute(n,w):this.domNode.removeAttribute(n):b(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,n,w)}}],[{key:"create",value:function(n){var w=b(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,n);return typeof n=="string"&&w.setAttribute("src",this.sanitize(n)),w}},{key:"formats",value:function(n){return e.reduce(function(w,I){return n.hasAttribute(I)&&(w[I]=n.getAttribute(I)),w},{})}},{key:"match",value:function(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}},{key:"sanitize",value:function(n){return(0,s.sanitize)(n,["http","https","data"])?n:"//:0"}},{key:"value",value:function(n){return n.getAttribute("src")}}]),f}(h.default.Embed);u.blotName="image",u.tagName="IMG",y.default=u},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function c(f,n){for(var w=0;w<n.length;w++){var I=n[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(f,I.key,I)}}return function(f,n,w){return n&&c(f.prototype,n),w&&c(f,w),f}}(),b=function c(f,n,w){f===null&&(f=Function.prototype);var I=Object.getOwnPropertyDescriptor(f,n);if(I===void 0){var O=Object.getPrototypeOf(f);return O===null?void 0:c(O,n,w)}if("value"in I)return I.value;var T=I.get;return T!==void 0?T.call(w):void 0},h=g(4),s=(v=g(27))&&v.__esModule?v:{default:v};function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function o(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}var e=["height","width"],u=function(c){function f(){return a(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}(f,c),E(f,[{key:"format",value:function(n,w){e.indexOf(n)>-1?w?this.domNode.setAttribute(n,w):this.domNode.removeAttribute(n):b(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,n,w)}}],[{key:"create",value:function(n){var w=b(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,n);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(n)),w}},{key:"formats",value:function(n){return e.reduce(function(w,I){return n.hasAttribute(I)&&(w[I]=n.getAttribute(I)),w},{})}},{key:"sanitize",value:function(n){return s.default.sanitize(n)}},{key:"value",value:function(n){return n.getAttribute("src")}}]),f}(h.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",y.default=u},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.FormulaBlot=void 0;var v=function(){function n(w,I){for(var O=0;O<I.length;O++){var T=I[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,I,O){return I&&n(w.prototype,I),O&&n(w,O),w}}(),E=function n(w,I,O){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,I);if(T===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:n(P,I,O)}if("value"in T)return T.value;var A=T.get;return A!==void 0?A.call(O):void 0},b=a(g(35)),h=a(g(5)),s=a(g(9));function a(n){return n&&n.__esModule?n:{default:n}}function o(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")}function e(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}function u(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}var c=function(n){function w(){return o(this,w),e(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return u(w,n),v(w,null,[{key:"create",value:function(I){var O=E(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",I)),O}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),w}(b.default);c.blotName="formula",c.className="ql-formula",c.tagName="SPAN";var f=function(n){function w(){o(this,w);var I=e(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return u(w,n),v(w,null,[{key:"register",value:function(){h.default.register(c,!0)}}]),w}(s.default);y.FormulaBlot=c,y.default=f},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.CodeToken=y.CodeBlock=void 0;var v=function(){function w(I,O){for(var T=0;T<O.length;T++){var P=O[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}return function(I,O,T){return O&&w(I.prototype,O),T&&w(I,T),I}}(),E=function w(I,O,T){I===null&&(I=Function.prototype);var P=Object.getOwnPropertyDescriptor(I,O);if(P===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:w(A,O,T)}if("value"in P)return P.value;var R=P.get;return R!==void 0?R.call(T):void 0},b=a(g(0)),h=a(g(5)),s=a(g(9));function a(w){return w&&w.__esModule?w:{default:w}}function o(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function e(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?w:I}function u(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}var c=function(w){function I(){return o(this,I),e(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return u(I,w),v(I,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),E(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),I}(a(g(13)).default);c.className="ql-syntax";var f=new b.default.Attributor.Class("token","hljs",{scope:b.default.Scope.INLINE}),n=function(w){function I(O,T){o(this,I);var P=e(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,T));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return P.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){P.highlight(),A=null},P.options.interval)}),P.highlight(),P}return u(I,w),v(I,null,[{key:"register",value:function(){h.default.register(f,!0),h.default.register(c,!0)}}]),v(I,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(P){P.highlight(O.options.highlight)}),this.quill.update(h.default.sources.SILENT),T!=null&&this.quill.setSelection(T,h.default.sources.SILENT)}}}]),I}(s.default);n.DEFAULTS={highlight:window.hljs==null?null:function(w){return window.hljs.highlightAuto(w).value},interval:1e3},y.CodeBlock=c,y.CodeToken=f,y.default=n},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(S,y){S.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(S,y){S.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(S,y){S.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(S,y){S.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BubbleTooltip=void 0;var v=function T(P,A,R){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,A);if(F===void 0){var U=Object.getPrototypeOf(P);return U===null?void 0:T(U,A,R)}if("value"in F)return F.value;var Z=F.get;return Z!==void 0?Z.call(R):void 0},E=function(){function T(P,A){for(var R=0;R<A.length;R++){var F=A[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,A,R){return A&&T(P.prototype,A),R&&T(P,R),P}}(),b=u(g(3)),h=u(g(8)),s=g(43),a=u(s),o=g(15),e=u(g(41));function u(T){return T&&T.__esModule?T:{default:T}}function c(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function f(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?T:P}function n(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(T){function P(A,R){c(this,P),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=w);var F=f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A,R));return F.quill.container.classList.add("ql-bubble"),F}return n(P,T),E(P,[{key:"extendToolbar",value:function(A){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),e.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),e.default)}}]),P}(a.default);I.DEFAULTS=(0,b.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(T){function P(A,R){c(this,P);var F=f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A,R));return F.quill.on(h.default.events.EDITOR_CHANGE,function(U,Z,G,M){if(U===h.default.events.SELECTION_CHANGE)if(Z!=null&&Z.length>0&&M===h.default.sources.USER){F.show(),F.root.style.left="0px",F.root.style.width="",F.root.style.width=F.root.offsetWidth+"px";var z=F.quill.getLines(Z.index,Z.length);if(z.length===1)F.position(F.quill.getBounds(Z));else{var B=z[z.length-1],j=F.quill.getIndex(B),V=Math.min(B.length()-1,Z.index+Z.length-j),q=F.quill.getBounds(new o.Range(j,V));F.position(q)}}else document.activeElement!==F.textbox&&F.quill.hasFocus()&&F.hide()}),F}return n(P,T),E(P,[{key:"listen",value:function(){var A=this;v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var R=A.quill.getSelection();R!=null&&A.position(A.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var R=v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"position",this).call(this,A),F=this.root.querySelector(".ql-tooltip-arrow");if(F.style.marginLeft="",R===0)return R;F.style.marginLeft=-1*R-F.offsetWidth/2+"px"}}]),P}(s.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),y.BubbleTooltip=O,y.default=I},function(S,y,g){S.exports=g(63)}]).default},J.exports=D()},3697:(J,D,S)=>{"use strict";var y=S(5972).functionsHaveConfigurableNames(),g=Object,v=TypeError;J.exports=function(){if(this!=null&&this!==g(this))throw new v("RegExp.prototype.flags getter called on non-object");var E="";return this.hasIndices&&(E+="d"),this.global&&(E+="g"),this.ignoreCase&&(E+="i"),this.multiline&&(E+="m"),this.dotAll&&(E+="s"),this.unicode&&(E+="u"),this.sticky&&(E+="y"),E},y&&Object.defineProperty&&Object.defineProperty(J.exports,"name",{value:"get flags"})},2847:(J,D,S)=>{"use strict";var y=S(4289),g=S(5559),v=S(3697),E=S(1721),b=S(2753),h=g(E());y(h,{getPolyfill:E,implementation:v,shim:b}),J.exports=h},1721:(J,D,S)=>{"use strict";var y=S(3697),g=S(4289).supportsDescriptors,v=Object.getOwnPropertyDescriptor;J.exports=function(){if(g&&/a/gim.flags==="gim"){var E=v(RegExp.prototype,"flags");if(E&&typeof E.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var b="",h={};if(Object.defineProperty(h,"hasIndices",{get:function(){b+="d"}}),Object.defineProperty(h,"sticky",{get:function(){b+="y"}}),b==="dy")return E.get}}return y}},2753:(J,D,S)=>{"use strict";var y=S(4289).supportsDescriptors,g=S(1721),v=Object.getOwnPropertyDescriptor,E=Object.defineProperty,b=TypeError,h=Object.getPrototypeOf,s=/a/;J.exports=function(){if(!y||!h)throw new b("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var a=g(),o=h(s),e=v(o,"flags");return e&&e.get===a||E(o,"flags",{configurable:!0,enumerable:!1,get:a}),a}}},ft={};function lt(J){var D=ft[J];if(D!==void 0)return D.exports;var S=ft[J]={exports:{}};return Xt[J].call(S.exports,S,S.exports,lt),S.exports}lt.n=J=>{var D=J&&J.__esModule?()=>J.default:()=>J;return lt.d(D,{a:D}),D},lt.d=(J,D)=>{for(var S in D)lt.o(D,S)&&!lt.o(J,S)&&Object.defineProperty(J,S,{enumerable:!0,get:D[S]})},lt.o=(J,D)=>Object.prototype.hasOwnProperty.call(J,D),(()=>{"use strict";function J(C,i){if(!(C instanceof i))throw new TypeError("Cannot call a class as a function")}function D(C,i){for(var d=0;d<i.length;d++){var m=i[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(C,m.key,m)}}function S(C,i,d){return i&&D(C.prototype,i),d&&D(C,d),Object.defineProperty(C,"prototype",{writable:!1}),C}function y(C,i){return y=Object.setPrototypeOf||function(d,m){return d.__proto__=m,d},y(C,i)}function g(C,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(i&&i.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),i&&y(C,i)}function v(C){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},v(C)}function E(C,i){if(i&&(v(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C)}function b(C){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},b(C)}var h=function(){function C(){J(this,C)}return S(C,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(i){return!1}},{key:"replace",value:function(i){}}]),C}();function s(C,i){for(;!Object.prototype.hasOwnProperty.call(C,i)&&(C=b(C))!==null;);return C}function a(){return a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(C,i,d){var m=s(C,i);if(m){var _=Object.getOwnPropertyDescriptor(m,i);return _.get?_.get.call(arguments.length<3?C:d):_.value}},a.apply(this,arguments)}h.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var o=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l){var k;if(J(this,_),(k=m.call(this)).objId=t.getId(),k.moveToParentId=r.getId(),k.moveToPosition=p,k.oldParentId=t.getParent().getId(),k.oldPosition=t.getSiblingPosition(),k.oldContainerId=null,k.moveToContainerId=null,t.getData()instanceof _e){var x=t.getData();k.oldContainerId=x.getValue("containerId");var N=l.getMainPanel().getContainerByItem(r);N!==null&&(k.moveToContainerId=N.getId())}return k.rb=l,k}return S(_,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var t=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<t&&t--,this.moveTo(this.moveToParentId,t,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(t,r,p){var l=this.rb.getDataObject(this.objId),k=this.rb.getDataObject(t);l!==null&&k!==null&&(l.getPanelItem().moveToPosition(k.getPanelItem(),r),l.getPanelItem().openParentItems(),this.rb.notifyEvent(l,h.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),_}(h),e=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l,k){var x;J(this,_),(x=m.call(this)).objId=t,x.field=r,x.value=p,x.type=l,x.rb=k;var N=k.getDataObject(t);return x.oldValue=N.getValue(r),x.firstExecution=!0,x.select=!0,x.notifyChange=!0,x}return S(_,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(t){var r=this.rb.getDataObject(this.objId);if(r.setValue(this.field,t),this.field==="name"){var p=document.getElementById("rbro_menu_item_name".concat(this.objId));p.textContent=t,p.setAttribute("title",t),this.rb.notifyEvent(r,h.operation.rename)}!this.notifyChange||this.type===_.type.richText&&this.firstExecution||this.rb.notifyEvent(r,h.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(t){this.notifyChange=t}},{key:"allowReplace",value:function(t){return t instanceof _&&(this.type===_.type.text||this.type===_.type.richText)&&this.objId===t.objId&&this.field===t.field}},{key:"replace",value:function(t){this.oldValue=t.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),_}(h);e.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var u=function(){function C(i,d,m){J(this,C),this.rb=m,this.id=i,this.panelItem=null,this.name=d,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return S(C,[{key:"init",value:function(i){this.owner=i,this.el=i.getElement(),this.elContent=i.getContentElement(),this.panelItem=i.getPanelItem(),this.parent=i.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var i=this.parent;i!==null;)this.level++,i=i.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(i){this.elContent!==null&&this.elContent.append(i)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(i){this.parent=i,this.initLevel()}},{key:"isChildOf",value:function(i){for(var d=this.getParent();d!==null;){if(d===i)return!0;d=d.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(i){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(i){if(i!==null&&i!==this){var d=this.getOffset(),m=i.getOffset();return{x:d.x-m.x,y:d.y-m.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(i,d){var m=this.getOffset(),_=this.getSize();return i-=m.x,d-=m.y,i>=0&&d>=0&&i<_.width&&d<_.height}},{key:"clearErrors",value:function(){}}]),C}();function c(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return f(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?f(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function f(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}function n(C,i,d){var m=document.createElement(C);if(i)for(var _ in i)i.hasOwnProperty(_)&&m.setAttribute(_,i[_]);return d&&(m.textContent=d),m}function w(C){for(;C.firstChild;)C.removeChild(C.firstChild)}function I(C,i,d,m){var _=m||{};d&&(_.for=d),C.append(n("label",_,i+":"))}function O(C){var i=C.getBoundingClientRect();return{top:i.top+window.scrollY,left:i.left+window.scrollX}}function T(C){C.addEventListener("keyup",function(i){var d=i.target.value,m=d.replace(/[^0-9]/g,"");d!==m&&(i.target.value=m)})}function P(C,i,d){var m=parseFloat(C.replace(",","."));return isNaN(m)||m<i?""+i:m>d?""+d:C}function A(C){if(typeof C=="number")return C;if(typeof C=="string"&&C!==""){var i=parseFloat(C.replace(",","."));if(!isNaN(i))return i}return 0}function R(C,i){var d=Math.ceil(C/i)*i;return d-C<=i>>1?d:d-i}function F(C,i){return Math.floor(C/i)*i}function U(C,i){return Math.ceil(C/i)*i}function Z(C,i,d,m){var _,t={shown:!1,paletteId:i.getAttribute("id")+"_select"},r=m.getProperty("colors"),p=n("div",{class:"rbroColorPalette rbroHidden"}),l=c(r);try{for(l.s();!(_=l.n()).done;){var k=_.value;p.append(n("span",{style:"color: ".concat(k),"data-value":k,class:"rbroColorPaletteItem"}))}}catch(N){l.e(N)}finally{l.f()}d&&p.append(n("span",{"data-value":"clear",class:"rbroClearColorPalette"},m.getLabel("clear"))),p.addEventListener("click",function(N){var H=N.target.dataset.value;H&&(H==="clear"?(i.value="",i.dispatchEvent(new Event("change"))):i.value=H,i.dispatchEvent(new Event("change"))),p.classList.add("rbroHidden"),N.stopImmediatePropagation()});var x=n("div",{id:t.paletteId,class:"rbroColorPicker"});return x.addEventListener("click",function(N){p.classList.toggle("rbroHidden"),t.shown=!t.shown}),C.prepend(x),C.append(p),i.addEventListener("focus",function(N){C.classList.add("rbroActive")}),i.addEventListener("blur",function(N){C.classList.remove("rbroActive")}),t.documentClickListener=function(N){var H=N.target.id;t.shown&&H!==t.paletteId&&(p.classList.add("rbroHidden"),t.shown=!1)},document.addEventListener("click",t.documentClickListener),t.destroy=function(){t.documentClickListener&&(document.removeEventListener("click",t.documentClickListener),t.documentClickListener=null)},t}function G(C){return!C||/^#[0-9A-F]{6}$/i.test(C)}function M(C){if(!(window.TouchEvent&&C instanceof TouchEvent))return{x:C.pageX,y:C.pageY};if(C.touches.length>0){var i=C.touches[C.touches.length-1];return{x:i.pageX,y:i.pageY}}return null}function z(C,i,d){var m=new FileReader;m.onload=function(_){var t=new Image;t.onload=function(){var r=document.createElement("canvas"),p=d.getProperty("imageMaxSize");p&&(t.width>p||t.height>p)&&(t.width>t.height?(t.height=t.height*(p/t.width),t.width=p):(t.width=t.width*(p/t.height),t.height=p));var l=r.getContext("2d");l.clearRect(0,0,r.width,r.height),r.width=t.width,r.height=t.height,l.drawImage(t,0,0,t.width,t.height);var k=r.toDataURL("image/webp");k.substring(0,15)!=="data:image/webp"&&(d.getProperty("imageRequireWebPFormat")?(k=null,alert(d.getLabel("docElementLoadImageWebPErrorMsg"))):k.length>_.target.result.length&&(k=_.target.result)),k&&i(k,C.name)},t.src=_.target.result},m.onerror=function(_){alert(d.getLabel("docElementLoadImageErrorMsg"))},m.readAsDataURL(C)}function B(C,i,d){var m=d.getStyles();w(C),C.append(n("option",{value:""},d.getLabel("styleNone")));var _,t=c(m);try{for(t.s();!(_=t.n()).done;){var r=_.value,p=n("option",{value:r.getId()},r.getName());i&&i===String(r.getId())&&(p.selected=!0),C.append(p)}}catch(l){t.e(l)}finally{t.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var j=S(function C(i,d){J(this,C),this.value=i,this.type=d});function V(C,i){for(var d=0,m=[];d<C.length;){var _=C[d];if(/[0-9]/.test(_)){for(var t="";d<C.length&&/[0-9.]/.test(C[d]);)t+=C[d++];var r=parseFloat(t);m.push(new j(r,j.type.number))}else if(/[a-zA-Z]/.test(_)){for(var p="";d<C.length&&/[a-zA-Z0-9]/.test(C[d]);)p+=C[d++];if(p==="true")m.push(new j(!0,j.type.boolean));else if(p==="false")m.push(new j(!1,j.type.boolean));else if(p==="type")i!==null?m.push(new j(i.getElementType(),j.type.string)):m.push(new j("type",j.type.string));else if(i===null)m.push(new j(p,j.type.field));else{var l,k=i.getValue(p);l=k instanceof Number?j.type.number:k instanceof String?j.type.string:k instanceof Boolean?j.type.boolean:j.type.undefined,m.push(new j(k,l))}}else if(_!=="'")if(_!=="("&&_!==")")if(/[!=|&]/.test(_)){if(d++,_==="!"&&(d>=C.length||C[d]!=="=")){m.push(new j(j.operator.negate,j.type.operator));continue}if(!(d<C.length))throw new Error("Invalid token ".concat(_," at end of input"));var x=C[d];if(_==="!"&&x==="=")m.push(new j(j.operator.notEqual,j.type.operator)),d++;else if(_==="="&&x==="=")m.push(new j(j.operator.equal,j.type.operator)),d++;else if(_==="|"&&x==="|")m.push(new j(j.operator.or,j.type.operator)),d++;else{if(_!=="&"||x!=="&")throw new Error("Invalid token ".concat(x," at position ").concat(d));m.push(new j(j.operator.and,j.type.operator)),d++}}else{if(_!==" ")throw new Error("Invalid token ".concat(_," at position ").concat(d));d++}else m.push(new j(_,_==="("?j.type.bracketOpen:j.type.bracketClose)),d++;else{var N="";for(d++;d<C.length&&C[d]!=="'";)N+=C[d++];if(d>=C.length)throw new Error("Unterminated string token in input ".concat(C));m.push(new j(N,j.type.string)),d++}}return m}j.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},j.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var q={"!":4,"!=":3,"==":3,"||":2,"&&":1};function L(C,i){if(C.length===0)return!1;var d=C[C.length-1];return q[d.value]>=q[i.value]}function K(C,i){var d,m=i.pop().value;switch(C.value!==j.operator.negate&&(d=i.pop().value),C.value){case j.operator.and:return new j(d&&m,j.type.boolean);case j.operator.or:return new j(d||m,j.type.boolean);case j.operator.equal:return new j(d===m,j.type.boolean);case j.operator.notEqual:return new j(d!==m,j.type.boolean);case j.operator.negate:return new j(!m,j.type.boolean);default:throw new Error("Invalid operator: ".concat(C))}}function pe(C,i){return function(d){for(var m=[],_=0;_<d.length;_++){var t=d[_];t.type!==j.type.operator?m.push(t):m.push(K(t,m))}var r=m.pop();return r.type===j.type.boolean?r.value:!!r.value}(function(d){for(var m=[],_=[],t=0;t<d.length;t++){var r=d[t];if(r.type===j.type.operator){for(;L(m,r);)_.push(m.pop());m.push(r)}else if(r.type===j.type.bracketOpen)m.push(r);else if(r.type===j.type.bracketClose){for(;m.length>0&&m[m.length-1]!==j.type.bracketOpen;)_.push(m.pop());m.pop()}else _.push(r)}for(var p=m.length-1;p>=0;p--)_.push(m[p]);return _}(V(C,i)))}var le=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l,k){var x;return J(this,_),(x=m.call(this,p,l,k)).panelItem=null,x.bandType=t,x.section=r,r||(t===_.bandType.header?(x.id="0_header",x.name=k.getLabel("bandHeader")):t===_.bandType.content?(x.id="0_content",x.name=k.getLabel("bandContent"),x.allowAllElements=!0):t===_.bandType.footer&&(x.id="0_footer",x.name=k.getLabel("bandFooter"))),x.el=null,x}return S(_,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(t){return t!==_e.type.tableText&&(this.bandType===_.bandType.content||t!==_e.type.pageBreak&&t!==_e.type.table&&t!==_e.type.section)}},{key:"getOffset",value:function(){var t=0;if(this.section)this.owner!==null&&(t=this.owner.getAbsolutePosition().y);else{var r=this.rb.getDocumentProperties();this.bandType===_.bandType.content&&r.getValue("header")?t=A(r.getValue("headerSize")):this.bandType===_.bandType.footer&&(t=this.rb.getDocument().getHeight()-A(r.getValue("footerSize")))}return{x:0,y:t}}},{key:"getSize",value:function(){var t=this.rb.getDocumentProperties(),r=t.getValue("width")-t.getValue("marginLeftVal")-t.getValue("marginRightVal"),p=0;return this.section?this.owner!==null&&(p=this.owner.getValue("heightVal")):this.bandType===_.bandType.header?p=t.getValue("headerSizeVal"):this.bandType===_.bandType.content?p=t.getValue("height")-t.getValue("headerSizeVal")-t.getValue("footerSizeVal")-t.getValue("marginTopVal")-t.getValue("marginBottomVal"):this.bandType===_.bandType.footer&&(p=t.getValue("footerSizeVal")),{width:r,height:p}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(t,r){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&a(b(_.prototype),"isInside",this).call(this,t,r)}}]),_}(u);function me(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}function ie(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return X(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?X(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function X(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}le.bandType={header:"header",content:"content",footer:"footer"};var $=function(){function C(i,d,m){J(this,C),this.rb=m,this.id=i,this.name=m.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=C.alignment.left,this.verticalAlignment=C.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=m.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(d)}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);this.borderWidthVal=A(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){if(this[i]=d,i.indexOf("border")!==-1&&(i==="borderWidth"&&(this.borderWidthVal=A(d)),C.setBorderValue(this,i,"",d,this.rb)),i!=="name"){var m,_=ie(this.rb.getDocElements(!0));try{for(_.s();!(m=_.n()).done;)m.value.updateChangedStyle(this.getId())}catch(t){_.e(t)}finally{_.f()}}}},{key:"addCommandsForChangedProperty",value:function(i,d,m,_){var t,r=""+this.getId(),p=ie(this.rb.getDocElements(!0));try{for(p.s();!(t=p.n()).done;){var l=t.value;if(l.hasProperty("styleId")){if(l.getValue("styleId")===r&&l.getValue(i)!==d){var k=new e(l.getId(),i,d,m,this.rb);k.disableSelect(),_.addCommand(k)}if(l.getValue("cs_styleId")===r&&l.getValue("cs_"+i)!==d){var x=new e(l.getId(),"cs_"+i,d,m,this.rb);x.disableSelect(),_.addCommand(x)}}}}catch(N){p.e(N)}finally{p.f()}}},{key:"addCommandsForDelete",value:function(i){var d,m,_=ie(this.rb.getDocElements(!0));try{for(_.s();!(m=_.n()).done;){var t=m.value;t.getElementType()!==_e.type.text&&t.getElementType()!==_e.type.tableText||!t.getValue("styleId")||A(t.getValue("styleId"))!==this.id||(d=new e(t.getId(),"styleId","",e.type.text,this.rb),i.addCommand(d))}}catch(r){_.e(r)}finally{_.f()}d=new ce(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),i.addCommand(d)}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var i,d={},m=ie(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;d[_]=this.getValue(_)}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(i,d,m,_,t){var r=d;if(m.length>0&&(r=r.substr(m.length)),r==="borderLeft"||r==="borderTop"||r==="borderRight"||r==="borderBottom"){var p=i.getValue("".concat(m,"borderLeft"))&&i.getValue("".concat(m,"borderTop"))&&i.getValue("".concat(m,"borderRight"))&&i.getValue("".concat(m,"borderBottom")),l="".concat(m,"borderAll");p!==i[l]&&(i[l]=p,t.notifyEvent(i,h.operation.change,l))}}}]),C}();$.font={courier:"courier",helvetica:"helvetica",times:"times"},$.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var ce=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l,k,x){var N;return J(this,_),(N=m.call(this)).add=t,N.initialData=r,N.parentId=l,N.position=k,N.rb=x,N.id=p,N}return S(_,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var t=this.rb.getDataObject(this.parentId);if(t!==null){var r=new $(this.id,this.initialData,this.rb),p=new Be("style",t.getPanelItem(),r,{draggable:!0},this.rb);p.openParentItems(),r.setPanelItem(p),t.getPanelItem().insertChild(this.position,p),this.rb.addStyle(r)}}},{key:"deleteStyle",value:function(){var t=this.rb.getDataObject(this.id);t!==null&&(this.initialData=t.toJS(),this.rb.deleteStyle(t))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),_}(h);function fe(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return we(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?we(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function we(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var oe=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return J(this,_),(p=m.call(this)).name=t,p.rb=r,p.commands=[],p.selectObjectIds=[],p.selectionCmdIndex=[],p}return S(_,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var t=this.selectionCmdIndex[this.selectionCmdIndex.length-1],r=0;r<this.commands.length;r++){var p=this.commands[r];p instanceof e&&p.setNotifyChange(r>=t)}for(var l=0;l<this.commands.length;l++)this.commands[l].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var t=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,r=this.commands.length-1;r>=0;r--){var p=this.commands[r];p instanceof e&&p.setNotifyChange(r<t)}for(var l=this.commands.length-1;l>=0;l--)this.commands[l].undo();this.selectObjects()}},{key:"addCommand",value:function(t){t instanceof e&&t.disableSelect(),this.commands.push(t)}},{key:"addSelection",value:function(t){this.selectObjectIds.indexOf(t)===-1&&this.selectObjectIds.push(t),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var t,r=!0,p=fe(this.selectObjectIds);try{for(p.s();!(t=p.n()).done;){var l=t.value;if(!this.rb.isSelectedObject(l)){r=!1;break}}}catch(ee){p.e(ee)}finally{p.f()}if(!r){var k,x=!0,N=fe(this.selectObjectIds);try{for(N.s();!(k=N.n()).done;){var H=k.value;this.rb.selectObject(H,x),x=!1}}catch(ee){N.e(ee)}finally{N.f()}}}},{key:"allowReplace",value:function(t){if(t instanceof _){var r=t.getCommands();if(this.commands.length===r.length){for(var p=0;p<this.commands.length;p++)if(!this.commands[p].allowReplace(r[p]))return!1;return!0}}return!1}},{key:"replace",value:function(t){for(var r=t.getCommands(),p=0;p<this.commands.length;p++)this.commands[p].replace(r[p])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),_}(h);function Oe(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return Re(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Re(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Re(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Be=function(){function C(i,d,m,_,t){var r=this;J(this,C),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,_),this.panelName=i;var p=m!==null?m.getName():"";this.id=m!==null?m.getId():_.id,this.parent=d,this.data=m,this.rb=t,this.children=[],this.dragEnterCount=0,this.element=n("li"),this.properties.visible||this.element.classList.add("rbroHidden");var l=n("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(l.setAttribute("draggable","true"),l.addEventListener("dragstart",function(H){H.dataTransfer.setData("text/plain",""),H.dataTransfer.effectAllowed="move",r.rb.startBrowserDrag("panelItem",null,r.id),H.stopPropagation()})),l.addEventListener("dragover",function(H){r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id&&r.getDropObjectInfo().allowDrop&&(H.preventDefault(),H.stopPropagation())}),l.addEventListener("dragenter",function(H){r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id&&r.getDropObjectInfo().allowDrop&&(l.classList.add("rbroMenuItemDragOver"),r.dragEnterCount++,H.preventDefault())}),l.addEventListener("dragleave",function(H){r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id&&r.getDropObjectInfo().allowDrop&&(r.dragEnterCount--,r.dragEnterCount===0&&l.classList.remove("rbroMenuItemDragOver"))}),l.addEventListener("drop",function(H){if(r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id){var ee=r.getDropObjectInfo();if(ee.allowDrop){r.dragEnterCount--,l.classList.remove("rbroMenuItemDragOver");var ne=new oe("Move panel item",r.rb),te=r.rb.getDataObject(r.rb.getBrowserDragId());if(te instanceof _e&&te.getValue("containerId")!==ee.container.getId()){te.checkBounds(te.getValue("xVal"),te.getValue("yVal"),te.getValue("widthVal"),te.getValue("heightVal"),ee.container.getSize(),ne);var ve=new e(te.getId(),"containerId",ee.container.getId(),e.type.internal,r.rb);ne.addCommand(ve)}var se=new o(te.getPanelItem(),ee.panel,ee.position,r.rb);return ne.addCommand(se),r.rb.executeCommand(ne),H.preventDefault(),!1}}});var k=n("div",{class:"rbroMenuItemText"});if(k.append(n("span",{id:"rbro_menu_item_name".concat(this.id)},p)),this.properties.showAdd){var x=n("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});x.addEventListener("click",function(H){if(i==="parameter"){var ee=new Ne(!0,{},r.rb.getUniqueId(),r.getId(),-1,r.rb);r.rb.executeCommand(ee)}else if(i==="style"){var ne=new ce(!0,{},r.rb.getUniqueId(),r.getId(),-1,r.rb);r.rb.executeCommand(ne)}var te=r.children[r.children.length-1];r.rb.selectObject(te.getId(),!0),H.stopPropagation()}),l.append(x)}if(this.properties.showDelete){var N=n("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});N.addEventListener("click",function(H){var ee=null;i==="parameter"?ee=new Ne(!1,r.getData().toJS(),r.getId(),r.parent.getId(),r.getSiblingPosition(),r.rb):(i==="style"||r.isDocElementPanel()&&r.getData()instanceof _e)&&(ee=new oe("Delete",r),r.getData().addCommandsForDelete(ee)),ee!==null&&r.rb.executeCommand(ee),H.stopPropagation()}),l.append(N)}l.addEventListener("click",function(H){if(!r.properties.hasDetails||document.getElementById("rbro_menu_item".concat(r.id)).classList.contains("rbroMenuItemActive")){var ee=document.getElementById("rbro_menu_item_children".concat(r.id));ee&&(l.classList.toggle("rbroMenuItemOpen"),ee.classList.toggle("rbroHidden"))}if(r.properties.hasDetails)if(r.rb.isSelectedObject(r.id))H.shiftKey&&r.rb.deselectObject(r.id);else{var ne=!0;r.isDocElementPanel()&&(ne=!H.shiftKey),r.rb.selectObject(r.id,ne)}}),this.properties.hasChildren&&(l.classList.add("rbroMenuItemNoChildren"),k.append(n("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(n("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),l.prepend(k),this.element.prepend(l)}return S(C,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(i){this.data=i,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=i!==null?i.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var i=[],d=this.getParent();d!==null;)i.push(d.id),d=d.getParent();return i}},{key:"openParentItems",value:function(){for(var i=this.getParent();i!==null;)i.open(),i=i.getParent()}},{key:"open",value:function(){var i=document.getElementById("rbro_menu_item_children".concat(this.getId()));i&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),i.classList.remove("rbroHidden"))}},{key:"close",value:function(){var i=document.getElementById("rbro_menu_item_children".concat(this.getId()));i&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),i.classList.add("rbroHidden"))}},{key:"appendChild",value:function(i){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(i),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(i.getElement())}},{key:"insertChild",value:function(i,d){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),i!==-1?this.children.splice(i,0,d):this.children.push(d);var m=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));i>=0&&i<m.length?m[i].before(d.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(d.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(i){return this.getChildByNameExclude(i,null)}},{key:"getChildByNameExclude",value:function(i,d){var m,_=Oe(this.children);try{for(_.s();!(m=_.n()).done;){var t=m.value;if(t.getData()!==null&&t.getData()!==d&&t.getData().getName()===i)return t}}catch(r){_.e(r)}finally{_.f()}return null}},{key:"removeChild",value:function(i){this.removeChildInternal(i,!0)}},{key:"removeChildInternal",value:function(i,d){for(var m=0;m<this.children.length;m++)if(i.getId()===this.children[m].getId()){if(this.children.splice(m,1),d&&i.getElement().remove(),this.children.length===0){var _=document.getElementById("rbro_menu_item".concat(this.getId()));_!==null&&_.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var i=this.getParent().getChildren(),d=0;d<i.length;d++)if(i[d]===this)return d}return 0}},{key:"moveTo",value:function(i){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=i,i.appendChild(this)}},{key:"moveToPosition",value:function(i,d){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=i,i.insertChild(d,this)}},{key:"clear",value:function(){this.children.length>0&&(w(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var i={allowDrop:!1,panel:null,position:-1,container:null},d=this.rb.getDataObject(this.rb.getBrowserDragId());if(d!==null){var m=!1;if(d instanceof _e){if(this.data instanceof _e&&this.data.isDroppingAllowed()?(i.container=this.data.getLinkedContainer(),i.container===null&&(i.container=this.data.getContainer(),m=!0)):this.panelName==="band"&&(i.container=this.data),i.container!==null&&i.container.isElementAllowed(d.getElementType())){i.allowDrop=!0;var _,t=Oe(d.getLinkedContainers());try{for(t.s();!(_=t.n()).done;){var r=_.value;if(r===i.container||i.container.isChildOf(r)){i.allowDrop=!1;break}}}catch(l){t.e(l)}finally{t.f()}}}else if(d instanceof re)if(this.data instanceof re){var p=this.data.getParent();p!==null?p.getValue("type")===re.type.array?d.getValue("type")!==re.type.array&&d.getValue("type")!==re.type.map&&d.getValue("type")!==re.type.sum&&d.getValue("type")!==re.type.average&&(i.allowDrop=!0,m=!0):p.getValue("type")===re.type.map&&d.getValue("type")!==re.type.array&&d.getValue("type")!==re.type.map&&(i.allowDrop=!0,m=!0):(i.allowDrop=!0,m=!0)}else this.panelName==="parameter"&&(i.allowDrop=!0);else d instanceof $&&(this.data instanceof $?(i.allowDrop=!0,m=!0):this.panelName==="style"&&(i.allowDrop=!0));i.allowDrop&&(m?(i.panel=this.getParent(),i.position=this.getSiblingPosition()+1):(i.panel=this,i.position=0),(i.panel===null||i.panel===d.getPanelItem().getParent()&&i.position===d.getPanelItem().getSiblingPosition())&&(i.allowDrop=!1))}return i}},{key:"isDocElementPanel",value:function(){return this.panelName===_e.type.text||this.panelName===_e.type.image||this.panelName===_e.type.line||this.panelName===_e.type.table||this.panelName===_e.type.pageBreak||this.panelName===_e.type.barCode||this.panelName===_e.type.frame||this.panelName===_e.type.section}}]),C}(),Ne=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l,k,x){var N;return J(this,_),(N=m.call(this)).add=t,N.initialData=r,N.parentId=l,N.position=k,N.rb=x,N.id=p,N.showDelete=!0,N}return S(_,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(t){this.showDelete=t}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var t=this.rb.getDataObject(this.parentId);if(t!==null){var r=new re(this.id,this.initialData,this.rb);this.rb.addParameter(r);var p=new Be("parameter",t.getPanelItem(),r,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);p.openParentItems(),r.setPanelItem(p),t.getPanelItem().insertChild(this.position,p),r.setup(),this.rb.notifyEvent(r,h.operation.add)}}},{key:"deleteParameter",value:function(){var t=this.rb.getDataObject(this.id);t!==null&&(this.initialData=t.toJS(),this.rb.deleteParameter(t))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),_}(h);function Fe(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return je(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?je(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function je(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Le,ze,Xe,re=function(){function C(i,d,m){J(this,C),this.rb=m,this.id=i,this.name=m.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=C.type.string,this.arrayItemType=C.type.string,this.eval=!m.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.testDataRichText="",this.children=[],this.editable=m.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(d)}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);"showOnlyNameType"in i&&i.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(i){i?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===C.type.array||this.type===C.type.map){var i,d=this.rb.getProperty("adminMode"),m=Fe(this.children);try{for(m.s();!(i=m.n()).done;){var _=i.value,t=new C(_.id||this.rb.getUniqueId(),_,this.rb);this.rb.addParameter(t);var r=new Be("parameter",this.panelItem,t,{hasChildren:!0,showAdd:d,showDelete:d,draggable:!0},this.rb);t.setPanelItem(r),this.panelItem.appendChild(r),t.setup(),this.rb.notifyEvent(t,h.operation.add)}}catch(p){m.e(p)}finally{m.f()}}this.updateMenuItemDisplay()}},{key:"isRangeFunction",value:function(){return this.type===C.type.average||this.type===C.type.sum}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename","testDataRichText"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var i,d=this.id;if(this.type===C.type.array||this.type===C.type.map)for(var m=this.children.slice(),_=0;_<m.length;){var t=m[_];t.id>d&&(d=t.id),t.type!==C.type.array&&t.type!==C.type.map||m.push.apply(m,function(r){if(Array.isArray(r))return me(r)}(i=t.children)||function(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(i)||function(r,p){if(r){if(typeof r=="string")return me(r,p);var l=Object.prototype.toString.call(r).slice(8,-1);return l==="Object"&&r.constructor&&(l=r.constructor.name),l==="Map"||l==="Set"?Array.from(r):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?me(r,p):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),_++}return d}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){this[i]=d,i==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===C.type.array||this.type===C.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof C?this.panelItem.getParent().getData():null}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(i,d,m){this.addCommandForChangedParameterName(i,d,"expression",m);var _,t=Fe(this.getChildren());try{for(t.s();!(_=t.n()).done;)_.value.addCommandsForChangedParameterName(i,d,m)}catch(r){t.e(r)}finally{t.f()}}},{key:"addCommandForChangedParameterName",value:function(i,d,m,_){var t,r,p=i.getParent();if(p!==null&&p.getValue("type")===C.type.map?(t="${"+p.getName()+"."+i.getName()+"}",r="${"+p.getName()+"."+d+"}"):i.getValue("type")===C.type.map?(t="${"+i.getName()+".",r="${"+d+"."):(t="${"+i.getName()+"}",r="${"+d+"}"),this.getValue(m).indexOf(t)!==-1){var l=new e(this.id,m,this.getValue(m).replaceAll(t,r),e.type.text,this.rb);_.addCommand(l)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(i,d,m){var _=d.length>0?d[0]:null;if(_!==null&&(_.type===C.type.array||_.type===C.type.map))try{var t=_.getTestData(!0);this.renameTestDataParameter(t,this.getName(),i,d,0);var r=JSON.stringify(t);if(this.testData!==r){var p=new e(_.getId(),"testData",r,e.type.text,this.rb);m.addCommand(p)}}catch(l){}}},{key:"renameTestDataParameter",value:function(i,d,m,_,t){var r,p=t+1,l=p<_.length,k=l?_[p].getName():d,x=Fe(i);try{for(x.s();!(r=x.n()).done;){var N=r.value;k in N&&(l?this.renameTestDataParameter(N[k],d,m,_,p):(N[m]=N[k],delete N[k]))}}catch(H){x.e(H)}finally{x.f()}}},{key:"addCommandsForChangedParameterType",value:function(i,d){if(this.type===C.type.array||this.type===C.type.simpleArray||this.type===C.type.map||i===C.type.array||i===C.type.simpleArray||i===C.type.map){var m=new e(this.getId(),"testData","",e.type.text,this.rb);d.addCommand(m)}if(this.type!==C.type.array&&i===C.type.array){var _={name:"row_number",type:C.type.number,eval:!1,editable:!1,showOnlyNameType:!0},t=new Ne(!0,_,this.rb.getUniqueId(),this.getId(),0,this.rb);t.setShowDelete(!1),d.addCommand(t)}else if(this.type===C.type.array&&i!==C.type.array){var r,p=Fe(this.getChildren());try{for(p.s();!(r=p.n()).done;){var l=r.value;if(l.getValue("name")==="row_number"&&!l.getValue("editable")){var k=new Ne(!1,l.toJS(),l.getId(),this.getId(),l.getPanelItem().getSiblingPosition(),this.rb);d.addCommand(k);break}}}catch(x){p.e(x)}finally{p.f()}}}},{key:"toJS",value:function(){var i,d={},m=Fe(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;d[_]=this.getValue(_)}}catch(k){m.e(k)}finally{m.f()}if(this.type===C.type.array||this.type===C.type.map){var t,r=[],p=Fe(this.panelItem.getChildren());try{for(p.s();!(t=p.n()).done;){var l=t.value;r.push(l.getData().toJS())}}catch(k){p.e(k)}finally{p.f()}d.children=r}return d}},{key:"getChildren",value:function(){var i=[];if(this.type===C.type.array||this.type===C.type.map){var d,m=Fe(this.panelItem.getChildren());try{for(m.s();!(d=m.n()).done;){var _=d.value;i.push(_.getData())}}catch(t){m.e(t)}finally{m.f()}}return i}},{key:"appendParameterItems",value:function(i,d,m){this.appendParameterItemsWithPrefix(i,d,m,"")}},{key:"appendParameterItemsWithPrefix",value:function(i,d,m,_){if(this.type===C.type.map){var t,r=[],p=[],l=Fe(this.getChildren());try{for(l.s();!(t=l.n()).done;){var k=t.value;k.type===C.type.map?p.push(k):k.isAllowed(d)&&r.push(k)}}catch(ve){l.e(ve)}finally{l.f()}if(r.length>0){i.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:_+this.name});var x,N=Fe(r);try{for(N.s();!(x=N.n()).done;){var H=x.value,ee=_+this.name+"."+H.getName();i.push({name:ee,nameLowerCase:ee.toLowerCase(),id:H.getId(),description:"",dataSourceName:m})}}catch(ve){N.e(ve)}finally{N.f()}}for(var ne=0,te=p;ne<te.length;ne++)te[ne].appendParameterItemsWithPrefix(i,d,m,_+this.name+".")}else this.isAllowed(d)&&i.push({name:_+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:m})}},{key:"isAllowed",value:function(i){return this.type!==C.type.array?!Array.isArray(i)||i.indexOf(this.type)!==-1:Array.isArray(i)&&i.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(i,d,m,_){if(this.type===C.type.array){var t,r=!0,p=Fe(this.panelItem.getChildren());try{for(p.s();!(t=p.n()).done;){var l=t.value.getData();if(!Array.isArray(d)||d.indexOf(l.getValue("type"))!==-1){if(m){r&&i.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var k=l.getName();i.push({name:k,nameLowerCase:k.toLowerCase(),id:l.getId(),description:"",dataSourceName:_})}else{var x=this.name+"."+l.getName();i.push({name:x,nameLowerCase:x.toLowerCase(),id:l.getId(),description:"",dataSourceName:_})}r=!1}}}catch(H){p.e(H)}finally{p.f()}}if(m)for(var N=this.getParent();N!==null;){if(N.type===C.type.array){N.appendFieldParameterItems(i,d,m,N.name);break}N=N.getParent()}}},{key:"getParameterFields",value:function(){var i=[];if(this.type===C.type.array||this.type===C.type.simpleArray||this.type===C.type.map)if(this.type===C.type.simpleArray)i.push({name:"data",type:this.arrayItemType,parameter:this});else{var d,m=Fe(this.getChildren());try{for(m.s();!(d=m.n()).done;){var _=d.value;_.showOnlyNameType||_.eval||_.isRangeFunction()||i.push({name:_.getName(),type:_.getValue("type"),parameter:_})}}catch(t){m.e(t)}finally{m.f()}}return i}},{key:"getTestData",value:function(i){var d=null;try{d=JSON.parse(this.testData)}catch(m){}return this.type!==C.type.array&&this.type!==C.type.simpleArray&&this.type!==C.type.map||!d?null:C.getSanitizedTestData(this,d,i)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(i,d,m){var _;if(i.type===C.type.map)d&&Object.getPrototypeOf(d)===Object.prototype||(d={}),_=C.getSanitizedTestDataMap(i,d,m);else if(i.type===C.type.simpleArray)_=C.getSanitizedTestDataSimpleArray(i,d,m);else if(i.type===C.type.array){Array.isArray(d)||(d=[]),_=[];var t,r=Fe(d);try{for(r.s();!(t=r.n()).done;){var p=t.value;p&&Object.getPrototypeOf(p)===Object.prototype||(p={}),_.push(C.getSanitizedTestDataMap(i,p,m))}}catch(l){r.e(l)}finally{r.f()}}return _}},{key:"getSanitizedTestDataMap",value:function(i,d,m){var _,t={},r=Fe(i.getChildren());try{for(r.s();!(_=r.n()).done;){var p=_.value;if(!p.showOnlyNameType){var l=p.name in d?d[p.name]:null;p.type===C.type.array||p.type===C.type.map?t[p.name]=C.getSanitizedTestData(p,l,m):p.type===C.type.simpleArray?t[p.name]=C.getSanitizedTestDataSimpleArray(p,l,m):t[p.name]=C.getSanitizedTestDataValue(p.type,l,m)}}}catch(k){r.e(k)}finally{r.f()}return t}},{key:"getSanitizedTestDataSimpleArray",value:function(i,d,m){var _=d;Array.isArray(_)||(_=[]);var t,r=[],p=Fe(_);try{for(p.s();!(t=p.n()).done;){var l=t.value;if(Object.getPrototypeOf(l)===Object.prototype){var k=C.getSanitizedTestDataValue(i.arrayItemType,l.data,m);m?r.push({data:k}):r.push(k)}}}catch(x){p.e(x)}finally{p.f()}return r}},{key:"getSanitizedTestDataValue",value:function(i,d,m){var _=null;if(i===C.type.string)typeof d=="string"&&(_=d);else if(i===C.type.number){if(typeof d=="number")_=d;else if(typeof d=="string"){var t=Number(d.replaceAll(",","."));isNaN(t)||(_=t)}}else i===C.type.boolean?_=typeof d=="boolean"?d:!!d:i===C.type.date?typeof d=="string"&&C.dateRegex.test(d)&&(_=d):i===C.type.image?_=d&&Object.getPrototypeOf(d)===Object.prototype&&"data"in d&&"filename"in d?m?d:d.data:m?{data:"",filename:""}:"":i===C.type.richText&&typeof d=="string"&&(_=d);return _}},{key:"removeIds",value:function(i){if(i.children){var d,m=Fe(i.children);try{for(m.s();!(d=m.n()).done;){var _=d.value;"id"in _&&delete _.id}}catch(t){m.e(t)}finally{m.f()}}}}]),C}();function ot(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return it(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?it(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function it(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}Xe=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(ze="dateRegex")in(Le=re)?Object.defineProperty(Le,ze,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Le[ze]=Xe,re.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",richText:"rich_text",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var _e=function(){function C(i,d,m,_,t){J(this,C),this.rb=t,this.id=d,this.name=i,this.panelItem=null,this.x="0",this.y="0",this.width=""+m,this.height=""+_,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=A(this.x),this.yVal=A(this.y),this.widthVal=A(this.width),this.heightVal=A(this.height)}},{key:"setup",value:function(i){var d=this.getContainer();if(d!==null){var m=d.getContentSize();this.xVal+this.widthVal>m.width&&(this.xVal=m.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>m.height&&(this.yVal=m.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var i=this;this.el.addEventListener("dblclick",function(d){i.rb.isSelectedObject(i.id)||(i.rb.selectObject(i.id,!0),d.stopPropagation())}),this.el.addEventListener("mousedown",function(d){d.shiftKey?(i.rb.deselectObject(i.id),d.stopPropagation()):i.rb.isSelectedObject(i.id)?(i.rb.getDocument().startDrag(d.pageX,d.pageY,i.id,i.containerId,i.getElementType(),C.dragType.element),d.stopPropagation()):i.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(d){if(i.rb.isSelectedObject(i.id)){var m=M(d);i.rb.getDocument().startDrag(m.x,m.y,i.id,i.containerId,i.getElementType(),C.dragType.element)}d.preventDefault()}),this.el.addEventListener("touchmove",function(d){i.rb.getDocument().processDrag(d)}),this.el.addEventListener("touchend",function(d){i.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var i=this;this.el.addEventListener("dblclick",function(d){i.handleDoubleClick(d)}),this.el.addEventListener("mousedown",function(d){i.handleClick(d,!1)}),this.el.addEventListener("touchstart",function(d){if(i.rb.isSelectedObject(i.id)){var m=M(d);i.rb.getDocument().startDrag(m.x,m.y,i.id,i.containerId,i.getElementType(),C.dragType.element),d.preventDefault()}else i.handleClick(d,!0)}),this.el.addEventListener("touchmove",function(d){i.rb.isSelectedObject(i.id)&&i.rb.getDocument().processDrag(d)}),this.el.addEventListener("touchend",function(d){i.rb.isSelectedObject(i.id)&&i.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(i){this.handleClick(i,!0)}},{key:"handleClick",value:function(i,d){if(this.rb.isSelectedObject(this.id))i.shiftKey?this.rb.deselectObject(this.id):d||this.rb.getDocument().startDrag(i.pageX,i.pageY,this.id,this.containerId,this.getElementType(),C.dragType.element),i.stopPropagation();else if(d||!this.isContainerSelected()){var m=!0;if(i.shiftKey){var _=[];this.appendContainerChildren(_);for(var t=0,r=_;t<r.length;t++){var p=r[t];if(this.rb.isSelectedObject(p.getId())){m=!1;break}}}m&&this.rb.selectObject(this.id,!i.shiftKey),i.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var i=this.getLinkedContainer();return i?[i]:[]}},{key:"getContainerContentSize",value:function(){var i=this.getContainer();return i!==null?i.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var i=this.getContainer();i!==null&&i.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var i=this.getContainer();return i!==null&&i.isSelected()}},{key:"appendContainerChildren",value:function(i){if(this.linkedContainerId!==null&&this.panelItem!==null){var d,m=ot(this.panelItem.getChildren());try{for(m.s();!(d=m.n()).done;){var _=d.value;_.getData()instanceof C&&(i.push(_.getData()),_.getData().appendContainerChildren(i))}}catch(t){m.e(t)}finally{m.f()}}}},{key:"getAbsolutePosition",value:function(){var i={x:this.xVal,y:this.yVal},d=this.getContainer();if(d!==null){var m=d.getOffset();i.x+=m.x,i.y+=m.y}return i}},{key:"checkBounds",value:function(i,d,m,_,t,r){if(i+m>t.width&&(i=t.width-m),i<0&&(i=0),i+m>t.width&&(m=t.width-i),d+_>t.height&&(d=t.height-_),d<0&&(d=0),d+_>t.height&&(_=t.height-d),i!==this.xVal&&this.hasProperty("x")){var p=new e(this.id,"x",""+i,e.type.text,this.rb);p.disableSelect(),r.addCommand(p)}if(d!==this.yVal&&this.hasProperty("y")){var l=new e(this.id,"y",""+d,e.type.text,this.rb);l.disableSelect(),r.addCommand(l)}if(m!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(m,!0,r),_!==this.getDisplayHeight()&&this.hasProperty("height")){var k=new e(this.id,"height",""+_,e.type.text,this.rb);k.disableSelect(),r.addCommand(k)}var x=this.getLinkedContainer();if(x!==null&&x.getPanelItem()!==null){var N,H={width:m,height:_},ee=ot(x.getPanelItem().getChildren());try{for(ee.s();!(N=ee.n()).done;){var ne=N.value;if(ne.getData()instanceof C){var te=ne.getData();te.checkBounds(te.getValue("xVal"),te.getValue("yVal"),te.getDisplayWidth(),te.getDisplayHeight(),H,r)}}}catch(ve){ee.e(ve)}finally{ee.f()}}}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){if(this[i]=d,i==="x"||i==="y"||i==="width"||i==="height")this[i+"Val"]=A(d),this.updateDisplay();else if(i==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var m=this.getLinkedContainers();if(m.length>0){var _,t=this.getContainer(),r=ot(m);try{for(r.s();!(_=r.n()).done;)_.value.setParent(t)}catch(k){r.e(k)}finally{r.f()}}var p,l=ot(this.rb.getContainers());try{for(l.s();!(p=l.n()).done;)p.value.initLevel()}catch(k){l.e(k)}finally{l.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(i)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(i)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(i,d){return d}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var i=this.getProperties();return i.splice(0,0,"id","containerId"),i}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(i){return this.getProperties().indexOf(i)!==-1}},{key:"getElementType",value:function(){return C.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(i,d,m,_){this.el!==null&&(this.el.style.left=this.rb.toPixel(i),this.el.style.top=this.rb.toPixel(d),this.el.style.width=this.rb.toPixel(m),this.el.style.height=this.rb.toPixel(_))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(i){A(this.styleId)===i&&this.updateStyle()}},{key:"getDragDiff",value:function(i,d,m,_){var t,r,p={x:0,y:0},l=this.xVal,k=this.yVal,x=l+this.getDisplayWidth(),N=k+this.getDisplayHeight(),H=this.getMinWidth(),ee=this.getMaxWidth(),ne=this.getMinHeight();if(m===C.dragType.element)t=l+i,_!==0&&(t=R(t,_)),r=k+d,_!==0&&(r=R(r,_)),p.x=t-l,p.y=r-k;else{var te=this.getContainerContentSize();m!==C.dragType.sizerNW&&m!==C.dragType.sizerN&&m!==C.dragType.sizerNE||(r=k+d,_!==0&&(r=R(r,_)),r>N-ne?r=_!==0?F(N-ne,_):N-ne:r<0&&(r=0),p.y=r-k),m!==C.dragType.sizerNE&&m!==C.dragType.sizerE&&m!==C.dragType.sizerSE||(t=x+i,_!==0&&(t=R(t,_)),t<l+H?t=_!==0?U(l+H,_):l+H:t>ee&&(t=ee),p.x=t-x),m!==C.dragType.sizerSE&&m!==C.dragType.sizerS&&m!==C.dragType.sizerSW||(r=N+d,_!==0&&(r=R(r,_)),r<k+ne?r=_!==0?U(k+ne,_):k+ne:r>te.height&&(r=te.height),p.y=r-N),m!==C.dragType.sizerSW&&m!==C.dragType.sizerW&&m!==C.dragType.sizerNW||(t=l+i,_!==0&&(t=R(t,_)),t>x-H?t=_!==0?F(x-H,_):x-H:t<0&&(t=0),p.x=t-l)}return p}},{key:"updateDrag",value:function(i,d,m,_,t){var r=this.xVal,p=this.yVal,l=r+this.getDisplayWidth(),k=p+this.getDisplayHeight(),x=this.getMaxWidth(),N=this.getContainerContentSize();m===C.dragType.element?(l=(r+=i)+this.getDisplayWidth(),k=(p+=d)+this.getDisplayHeight()):(m!==C.dragType.sizerNW&&m!==C.dragType.sizerN&&m!==C.dragType.sizerNE||(p+=d),m!==C.dragType.sizerNE&&m!==C.dragType.sizerE&&m!==C.dragType.sizerSE||(l+=i),m!==C.dragType.sizerSE&&m!==C.dragType.sizerS&&m!==C.dragType.sizerSW||(k+=d),m!==C.dragType.sizerSW&&m!==C.dragType.sizerW&&m!==C.dragType.sizerNW||(r+=i),r<0&&(r=0),l<r&&(l=r),p<0&&(p=0),k<p&&(k=p),l>x&&(l=x),k>N.height&&(k=N.height));var H=l-r,ee=k-p;if(t!==null){var ne=!1,te=this.getContainer(),ve={width:0,height:0};if(_!==null&&_.getId()!==this.getContainerId()){if(ne=!0,ve=_.getContentSize(),te!==null){var se=_.getOffsetTo(te);r-=se.x,p-=se.y}}else ve=te.getContentSize();if(!ne||_.isElementAllowed(this.getElementType())){var Ie=t.getCommands().length;if(this.checkBounds(r,p,H,ee,ve,t),ne){var Ae=new e(this.id,"containerId",_.getId(),e.type.internal,this.rb);t.addCommand(Ae),Ae=new o(this.getPanelItem(),_.getPanelItem(),_.getPanelItem().getChildren().length,this.rb),t.addCommand(Ae)}t.getCommands().length===Ie&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(r,p,H,ee)}},{key:"select",value:function(){var i=this;if(this.el!==null){var d,m=this.getSizerContainerElement(),_=ot(this.getSizers());try{var t=function(){var r=d.value,p=r,l=n("div",{class:"rbroSizer rbroSizer".concat(r)});l.addEventListener("mousedown",function(k){i.rb.getDocument().startDrag(k.pageX,k.pageY,i.id,i.containerId,i.getElementType(),C.dragType["sizer"+p]),k.stopPropagation()}),l.addEventListener("touchstart",function(k){if(i.rb.isSelectedObject(i.id)){var x=M(k);i.rb.getDocument().startDrag(x.x,x.y,i.id,i.containerId,i.getElementType(),C.dragType["sizer"+p])}k.preventDefault(),k.stopPropagation()}),l.addEventListener("touchmove",function(k){i.rb.getDocument().processDrag(k)}),l.addEventListener("touchend",function(k){i.rb.getDocument().stopDrag()}),m.append(l)};for(_.s();!(d=_.n()).done;)t()}catch(r){_.e(r)}finally{_.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var i,d=ot(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(d.s();!(i=d.n()).done;)i.value.remove()}catch(m){d.e(m)}finally{d.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var i=this.getValue("dataSource").trim();if(i.length>=3&&i.substr(0,2)==="${"&&i.charAt(i.length-1)==="}")return i.substring(2,i.length-1)}return null}},{key:"getAllDataSources",value:function(){var i=[],d=[];this.getAllDataSourceParameterNames(d,null);for(var m=d.length-1;m>=0;m--){var _,t=d[m],r=null,p=ot(i);try{for(p.s();!(_=p.n()).done;){var l,k=ot(_.value.parameters);try{for(k.s();!(l=k.n()).done;){var x=l.value;if(x.getName()===t){r=x;break}}}catch(N){k.e(N)}finally{k.f()}}}catch(N){p.e(N)}finally{p.f()}r===null&&(r=this.rb.getParameterByName(t)),r!==null&&r.getValue("type")===re.type.array&&i.unshift({name:t,parameters:r.getChildren()})}return i}},{key:"getAllDataSourceParameterNames",value:function(i,d){if((this.getElementType()===C.type.table||this.getElementType()===C.type.section)&&d&&d.getValue("bandType")===le.bandType.content){var m=this.getDataSourceParameterName();m!==null&&i.push(m)}var _=this.getPanelItem();if(_!==null){var t=_.getParent();t!==null&&t.getData()instanceof C&&t.getData().getAllDataSourceParameterNames(i,this)}}},{key:"addCommandsForChangedParameterName",value:function(i,d,m){}},{key:"addCommandForChangedParameterName",value:function(i,d,m,_){for(var t=i.getParent(),r=this.getAllDataSources(),p=!1,l="",k=null,x=null;t!==null;){if(t.getValue("type")!==re.type.map){if(t.getValue("type")===re.type.array){p=!0,k=t.getName();break}return}l=t.getName()+"."+l,x=t.getName(),t=t.getParent()}var N="${"+l+i.getName(),H="${"+l+d;i.getValue("type")===re.type.map?(N+=".",H+="."):(N+="}",H+="}");var ee=!1;if(r.length>0){var ne,te=x||i.getName(),ve=ot(r[0].parameters);try{for(ve.s();!(ne=ve.n()).done;)if(ne.value.getName()===te){ee=!0;break}}catch(Ae){ve.e(Ae)}finally{ve.f()}}if(p){for(var se=-1,Ie=0;Ie<r.length;Ie++)if(r[Ie].name===k){se=Ie;break}se===0&&ee&&r[0].name===k?this.addCommandForChangedText(N,H,m,_):se>0&&(N="${"+k+":"+N.substring(2),H="${"+k+":"+H.substring(2),this.addCommandForChangedText(N,H,m,_))}else ee||(r.length>0&&(N="${:"+N.substring(2),H="${:"+H.substring(2)),this.addCommandForChangedText(N,H,m,_))}},{key:"addCommandForChangedText",value:function(i,d,m,_){var t=this.getValue(m),r=e.type.text;if(v(t)==="object"&&(t=JSON.stringify(t),r=e.type.richText),t.indexOf(i)!==-1){var p=t.replaceAll(i,d);r===e.type.richText&&(p=JSON.parse(p));var l=new e(this.id,m,p,r,this.rb);_.addCommand(l)}}},{key:"addCommandsForDelete",value:function(i){var d=[];this.appendContainerChildren(d),d.push(this);for(var m=0,_=d;m<_.length;m++){var t=_[m],r=new bt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),t.getPanelItem().getSiblingPosition(),this.rb);i.addCommand(r)}}},{key:"addCommandsForChangedWidth",value:function(i,d,m){var _=new e(this.id,"width",""+i,e.type.text,this.rb);d&&_.disableSelect(),m.addCommand(_)}},{key:"addChildren",value:function(i){}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var i,d={elementType:this.getElementType()},m=ot(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;["x","y","width","height"].indexOf(_)===-1?d[_]=this.getValue(_):d[_]=this.getValue(_+"Val")}}catch(t){m.e(t)}finally{m.f()}return d}}]),C}();_e.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},_e.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var _t=lt(5961),St=lt.n(_t),gt=lt(2592),Wt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementImage"),t,80,80,p)).elBarCode=null,l.elContent=null,l.content="",l.format="CODE128",l.displayValue=!1,l.barWidth="2",l.guardBar=!1,l.errorCorrectionLevel="M",l.rotate=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(r),l.name=l.rb.getLabel("docElementBarCode"),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t!=="content"&&t!=="format"&&t!=="displayValue"&&t!=="barWidth"&&t!=="guardBar"&&t!=="width"&&t!=="height"&&t!=="errorCorrectionLevel"&&t!=="rotate"||(this.updateBarCode(),this.updateDisplay(),t==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return _e.type.barCode}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(l))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=n("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){a(b(_.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var t=this.content;t===""&&(t="https://www.reportbro.com");var r={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),gt.toCanvas(this.elBarCode,t,r)}else{var p=!1,l=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(l-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(l-=12);var k={format:this.format,height:l,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?k.flat=!this.guardBar:this.format==="UPC"&&(k.flat=!0);var x=A(this.barWidth);if(x&&(k.width=x),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{St()("#"+this.elBarCode.id,this.content,k),p=!0}catch(ne){}if(!p){var N="";this.format==="CODE39"||this.format==="CODE128"?N="12345678":this.format==="EAN13"?N="5901234123457":this.format==="EAN8"?N="96385074":this.format==="EAN5"?N="12345":this.format==="EAN2"?N="12":this.format==="ITF14"?N="12345678901231":this.format==="UPC"?N="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(N="1234"),St()("#"+this.elBarCode.id,N,k)}if(this.rotate){var H=-(this.elBarCode.clientWidth-this.widthVal)/2,ee=-H;this.elBarCode.style.transform="translate(".concat(H,"px, ").concat(ee,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"content",p),this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),_}(_e),Zt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){return J(this,_),m.call(this,t,r,p)}return S(_,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(t){return t!==_e.type.pageBreak&&t!==_e.type.frame&&t!==_e.type.section}},{key:"getOffset",value:function(){var t=0,r=0;if(this.owner!==null&&(t=this.owner.getValue("xVal"),r=this.owner.getValue("yVal")),this.parent!==null){var p=this.parent.getOffset();t+=p.x,r+=p.y}return{x:t,y:r}}},{key:"getSize",value:function(){var t=0,r=0;return this.owner!==null&&(t=this.owner.getValue("widthVal"),r=this.owner.getValue("heightVal")),{width:t,height:r}}},{key:"getContentSize",value:function(){var t=0,r=0;if(this.owner!==null){t=this.owner.getValue("widthVal"),r=this.owner.getValue("heightVal");var p=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(t-=p),this.owner.getValue("borderRight")&&(t-=p),this.owner.getValue("borderTop")&&(r-=p),this.owner.getValue("borderBottom")&&(r-=p)}return{width:t,height:r}}}]),_}(u),mr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementFrame"),t,100,100,p)).frame=null,l.setupComplete=!1,l.elContent=null,l.elContentFrame=null,l.label="",l.backgroundColor="",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.borderColor="#000000",l.borderWidth="1",l.shrinkToContentHeight=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(r),l.borderWidthVal=A(l.borderWidth),l}return S(_,[{key:"setup",value:function(t){this.borderWidthVal=A(this.borderWidth),a(b(_.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new Zt(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),t&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){a(b(_.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(t,r){t.indexOf("border")!==-1&&(this[t]=r,t==="borderWidth"&&(this.borderWidthVal=A(r)),$.setBorderValue(this,t,"",r,this.rb)),a(b(_.prototype),"setValue",this).call(this,t,r),t==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(l)),this.borderLeft&&(p-=this.borderWidthVal),this.borderRight&&(p-=this.borderWidthVal),this.borderTop&&(l-=this.borderWidthVal),this.borderBottom&&(l-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(p),this.elContentFrame.style.height=this.rb.toPixel(l)}},{key:"updateStyle",value:function(){var t;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(t=this.getValue("borderTop")?"solid":"none",t+=this.getValue("borderRight")?" solid":" none",t+=this.getValue("borderBottom")?" solid":" none",t+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):t="none",this.elContent.style.borderStyle=t,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id","containerId","linkedContainerId"),t}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return _e.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=n("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){a(b(_.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"FrameElement"}}]),_}(_e),yr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementImage"),t,80,80,p)).source="",l.image="",l.imageWidth=0,l.imageHeight=0,l.imageRatio=0,l.imageFilename="",l.elImg=null,l.elContent=null,l.horizontalAlignment=$.alignment.left,l.verticalAlignment=$.alignment.top,l.backgroundColor="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(r),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t!=="source"&&t!=="imageFilename"||this.updateName(),t!=="source"&&t!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return _e.type.image}},{key:"updateDisplayInternal",value:function(t,r,p,l){if(this.el!==null){this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(l);var k=0,x=0;if(this.imageRatio!==0&&(k=this.imageWidth<p?this.imageWidth:p,x=this.imageHeight<l?this.imageHeight:l,k!==this.imageWidth||x!==this.imageHeight)){var N=Math.floor(x*this.imageRatio);N<p?k=N:x=Math.floor(k/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(k),this.elImg.style.height=this.rb.toPixel(x)}}},{key:"updateStyle",value:function(){var t=this.getValue("horizontalAlignment"),r=this.getValue("verticalAlignment"),p="rbroDocElementAlign"+t.charAt(0).toUpperCase()+t.slice(1),l="rbroDocElementVAlign"+r.charAt(0).toUpperCase()+r.slice(1);this.elContent.style.textAlign=t,this.elContent.style.verticalAlign=r,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(p),this.elContent.classList.add(l)}},{key:"createElement",value:function(){var t=this;this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=n("img",{src:""}),this.elImg.addEventListener("load",function(r){t.imageWidth=t.elImg.naturalWidth,t.imageHeight=t.elImg.naturalHeight,t.imageHeight!==0?t.imageRatio=t.imageWidth/t.imageHeight:t.imageRatio=0,t.updateDisplay()}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,a(b(_.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var t=document.getElementById("rbro_menu_item_name".concat(this.id));t.textContent=this.name,t.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"source",p),this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"ImageElement"}}]),_}(_e),Yt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementLine"),t,100,1,p)).color="#000000",l.setInitialData(r),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return _e.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"LineElement"}}]),_}(_e),Gt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementPageBreak"),t,-1,1,p)).setInitialData(r),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return _e.type.pageBreak}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(r),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),_}(_e),ur=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l){var k;J(this,_);var x=p===le.bandType.header?l.getLabel("bandHeader"):p===le.bandType.footer?l.getLabel("bandFooter"):l.getLabel("bandContent");return(k=m.call(this,x,t,0,100,l)).setupComplete=!1,k.band=null,k.bandType=p,k.repeatHeader=!1,k.alwaysPrintOnSamePage=!0,k.shrinkToContentHeight=!1,k.parentId=r.parentId,k.heightVal=0,k.visible=p===le.bandType.content,k.setInitialData(r),k}return S(_,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new le(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var t={x:0,y:0},r=this.getParent();return r!==null&&(t=r.getAbsolutePosition()),t.y+=this.yVal,t}},{key:"setValue",value:function(t,r){if(a(b(_.prototype),"setValue",this).call(this,t,r),t==="height"){this[t+"Val"]=A(r);var p=this.getParent();p!==null&&p.updateBands(this)}}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id","containerId","linkedContainerId"),t}},{key:"getProperties",value:function(){return this.bandType===le.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(t,r,p,l){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(r),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(l),this.setupComplete)){var k=this.getParent();k!==null&&k.updateHeight(this,l)}}},{key:"select",value:function(){a(b(_.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){a(b(_.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(n("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(t){this.visible=t,t?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),_}(_e);function cr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Tr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementSection"),t,-1,60,p)).setupComplete=!1,l.elDividerHeader=null,l.elDividerFooter=null,l.elDividerBottom=null,l.dataSource="",l.label="",l.header=!1,l.footer=!1,l.headerData=null,l.contentData=null,l.footerData=null,l.setInitialData(r),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(le.bandType.header,null),this.contentData=this.createBand(le.bandType.content,null),this.footerData=this.createBand(le.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),t&&this.panelItem.open()}},{key:"createBand",value:function(t,r){var p,l,k=t+"Data",x={hasChildren:!0,showDelete:!1};r?p=r:this[k]?l=(p=this[k]).id:p={},p.parentId=this.id,p.containerId=this.containerId,l||(l=this.rb.getUniqueId());var N=0;t===le.bandType.header?p.y=""+N:t===le.bandType.content?(this.header&&this.headerData!==null&&(N+=this.headerData.getValue("heightVal")),p.y=""+N):t===le.bandType.footer&&(this.header&&this.headerData!==null&&(N+=this.headerData.getValue("heightVal")),this.contentData!==null&&(N+=this.contentData.getValue("heightVal")),p.y=""+N),(t===le.bandType.header&&!this.header||t===le.bandType.footer&&!this.footer)&&(x.visible=!1);var H=new ur(l,p,t,this.rb);this.rb.addDataObject(H);var ee=new Be("section_band",this.panelItem,H,x,this.rb);return H.setPanelItem(ee),this.panelItem.appendChild(ee),H.setup(),t===le.bandType.header?H.show(this.header):t===le.bandType.footer&&H.show(this.footer),H}},{key:"registerEventHandlers",value:function(){a(b(_.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var t=this.id;return this.footerData!==null&&(t=this.footerData.getMaxId()),t}},{key:"appendContainerChildren",value:function(t){this.headerData!==null&&this.headerData.appendContainerChildren(t),this.contentData!==null&&this.contentData.appendContainerChildren(t),this.footerData!==null&&this.footerData.appendContainerChildren(t)}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t==="label"||t==="dataSource"?this.updateName():t==="header"?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):t==="footer"?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):t==="containerId"&&(this.headerData.containerId=r,this.contentData.containerId=r,this.footerData.containerId=r),t!=="header"&&t!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.el!==null&&(this.el.style.top=this.rb.toPixel(r),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(l))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return _e.type.section}},{key:"select",value:function(){a(b(_.prototype),"select",this).call(this);for(var t=this.getSizerContainerElement(),r=0,p=["N","S"];r<p.length;r++){var l=p[r];t.append(n("div",{class:"rbroSizer rbroSizer".concat(l," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){a(b(_.prototype),"deselect",this).call(this);var t,r=function(p,l){var k=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!k){if(Array.isArray(p)||(k=function(te,ve){if(te){if(typeof te=="string")return cr(te,ve);var se=Object.prototype.toString.call(te).slice(8,-1);return se==="Object"&&te.constructor&&(se=te.constructor.name),se==="Map"||se==="Set"?Array.from(te):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?cr(te,ve):void 0}}(p))||l&&p&&typeof p.length=="number"){k&&(p=k);var x=0,N=function(){};return{s:N,n:function(){return x>=p.length?{done:!0}:{done:!1,value:p[x++]}},e:function(te){throw te},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,ee=!0,ne=!1;return{s:function(){k=k.call(p)},n:function(){var te=k.next();return ee=te.done,te},e:function(te){ne=!0,H=te},f:function(){try{ee||k.return==null||k.return()}finally{if(ne)throw H}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroHighlightBandDescription")}catch(p){r.e(p)}finally{r.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(n("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=n("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=n("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=n("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){a(b(_.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(t){this.widthVal=t,this.width=""+t,this.headerData!==null&&(this.headerData.widthVal=t,this.headerData.width=""+t),this.contentData!==null&&(this.contentData.widthVal=t,this.contentData.width=""+t),this.footerData!==null&&(this.footerData.widthVal=t,this.footerData.width=""+t)}},{key:"updateHeight",value:function(t,r){var p=0;this.header&&this.headerData!==null?(t===this.headerData?p+=r:p+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(p),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(t===this.contentData?p+=r:p+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(p),this.elDividerFooter.classList.remove("rbroHidden"),t===this.footerData?p+=r:p+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(p),this.height=""+p,this.heightVal=p,this.updateDisplay()}},{key:"updateBands",value:function(t){if(this.setupComplete){var r=0;this.header&&(this.headerData!==t&&this.headerData.setValue("y",""+r),r+=this.headerData.getValue("heightVal")),this.contentData!==t&&this.contentData.setValue("y",""+r),r+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==t&&this.footerData.setValue("y",""+r)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var t,r=[],p=0,l=["headerData","contentData","footerData"];p<l.length;p++){var k=l[p];this[k]!==null&&(t=this[k].getLinkedContainer())!==null&&r.push(t)}return r}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"dataSource",p),this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);return t.headerData=this.headerData.toJS(),t.contentData=this.contentData.toJS(),t.footerData=this.footerData.toJS(),t}},{key:"getClassName",value:function(){return"SectionElement"}}]),_}(_e);function $r(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return Kr(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Kr(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Kr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Xr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementText"),t,100,20,p)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.content="",l.richText=!1,l.richTextContent=null,l.richTextHtml="",l.eval=!1,l.styleId="",l.bold=!1,l.italic=!1,l.underline=!1,l.strikethrough=!1,l.horizontalAlignment=$.alignment.left,l.verticalAlignment=$.alignment.top,l.textColor="#000000",l.backgroundColor="",l.font=p.getProperty("defaultFont"),l.fontSize=12,l.lineSpacing=1,l.borderColor="#000000",l.borderWidth="1",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.paddingLeft="2",l.paddingTop="2",l.paddingRight="2",l.paddingBottom="2",l.cs_condition="",l.cs_styleId="",l.cs_additionalRules="",l.cs_bold=!1,l.cs_italic=!1,l.cs_underline=!1,l.cs_strikethrough=!1,l.cs_horizontalAlignment=$.alignment.left,l.cs_verticalAlignment=$.alignment.top,l.cs_textColor="#000000",l.cs_backgroundColor="",l.cs_font=$.font.helvetica,l.cs_fontSize=12,l.cs_lineSpacing=1,l.cs_borderColor="#000000",l.cs_borderWidth="1",l.cs_borderAll=!1,l.cs_borderLeft=!1,l.cs_borderTop=!1,l.cs_borderRight=!1,l.cs_borderBottom=!1,l.cs_paddingLeft="2",l.cs_paddingTop="2",l.cs_paddingRight="2",l.cs_paddingBottom="2",l.alwaysPrintOnSamePage=!0,l.pattern="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.spreadsheet_textWrap=!1,l.setInitialData(r),l.borderWidthVal=A(l.borderWidth),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(t){a(b(_.prototype),"handleDoubleClick",this).call(this,t);var r=document.getElementById("rbro_doc_element_content");r.focus(),typeof r.selectionStart=="number"&&(r.selectionStart=r.selectionEnd=r.value.length)}},{key:"setValue",value:function(t,r){t.indexOf("border")!==-1&&(this[t]=r,t.substr(0,3)==="cs_"?(t==="cs_borderWidth"&&(this.borderWidthVal=A(r)),$.setBorderValue(this,t,"cs_",r,this.rb)):(t==="borderWidth"&&(this.borderWidthVal=A(r)),$.setBorderValue(this,t,"",r,this.rb))),a(b(_.prototype),"setValue",this).call(this,t,r),t==="content"?this.updateContent(r):t==="width"||t==="height"?this.updateDisplay():t==="richText"?(r?this.setupRichText():this.updateContent(this.content),this.updateStyle()):t==="richTextContent"?this.updateRichTextContent(r):t==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=r)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return _e.type.text}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(l));var k=this.getContentSize(p,l,this.getStyle());this.elContentText.style.width=this.rb.toPixel(k.width),this.elContentText.style.height=this.rb.toPixel(k.height)}},{key:"getStyle",value:function(){var t=this;if(this.styleId!==""){var r=this.rb.getDataObject(this.styleId);r!==null&&(t=r)}return t}},{key:"addCommandsForChangedStyle",value:function(t,r,p,l){if(t!==""){var k=this.rb.getStyleById(t);if(k!==null){var x,N=$r(k.getFields().slice(2));try{for(N.s();!(x=N.n()).done;){var H=x.value,ee=r+H,ne=k.getValue(H);if(ne!==this.getValue(ee)){var te=p[ee],ve=new e(this.getId(),ee,ne,te.type,this.rb);ve.disableSelect(),l.addCommand(ve)}}}catch(se){N.e(se)}finally{N.f()}}}l.addCommand(new e(this.getId(),r+"styleId",t,e.type.select,this.rb))}},{key:"getContentSize",value:function(t,r,p){var l=p.getValue("borderWidthVal");return t-=A(p.getValue("paddingLeft"))+A(p.getValue("paddingRight")),p.getValue("borderLeft")&&(t-=l),p.getValue("borderRight")&&(t-=l),r-=A(p.getValue("paddingTop"))+A(p.getValue("paddingBottom")),p.getValue("borderTop")&&(r-=l),p.getValue("borderBottom")&&(r-=l),{width:t,height:r}}},{key:"updateStyle",value:function(){var t,r={},p=this.getStyle(),l="",k="",x=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),p);r.width=this.rb.toPixel(x.width),r.height=this.rb.toPixel(x.height);var N=p.getValue("horizontalAlignment"),H=p.getValue("verticalAlignment"),ee="rbroDocElementAlign"+N.charAt(0).toUpperCase()+N.slice(1),ne="rbroDocElementVAlign"+H.charAt(0).toUpperCase()+H.slice(1);r["vertical-align"]=H,r["background-color"]=p.getValue("backgroundColor"),this.richText?(r["font-weight"]="unset",r["font-style"]="normal",r["text-decoration"]="none",r["text-align"]="unset",r.color="#000000",r["font-family"]=this.rb.getProperty("defaultFont"),r["font-size"]="12px"):(r["font-weight"]=p.getValue("bold")?"bold":"",r["font-style"]=p.getValue("italic")?"italic":"normal",p.getValue("underline")&&p.getValue("strikethrough")?r["text-decoration"]="underline line-through":p.getValue("underline")?r["text-decoration"]="underline":p.getValue("strikethrough")?r["text-decoration"]="line-through":r["text-decoration"]="none",r["text-align"]=N,r.color=p.getValue("textColor"),r["font-family"]=p.getValue("font"),r["font-size"]=p.getValue("fontSize")+"px"),r["line-height"]=p.getValue("lineSpacing"),p.getValue("borderLeft")||p.getValue("borderTop")||p.getValue("borderRight")||p.getValue("borderBottom")?(t=p.getValue("borderTop")?"solid":"none",t+=p.getValue("borderRight")?" solid":" none",t+=p.getValue("borderBottom")?" solid":" none",t+=p.getValue("borderLeft")?" solid":" none",l=p.getValue("borderWidthVal")+"px",k=p.getValue("borderColor")):t="none",p.getValue("paddingLeft")!==""||p.getValue("paddingTop")!==""||p.getValue("paddingRight")!==""||p.getValue("paddingBottom")!==""?(r.padding=this.rb.toPixel(p.getValue("paddingTop")),r.padding+=" "+this.rb.toPixel(p.getValue("paddingRight")),r.padding+=" "+this.rb.toPixel(p.getValue("paddingBottom")),r.padding+=" "+this.rb.toPixel(p.getValue("paddingLeft"))):r.padding="",this.elContent.style.borderStyle=t,this.elContent.style.borderWidth=l,this.elContent.style.borderColor=k,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(ee),this.elContent.classList.add(ne);var te="";for(var ve in r)te+=ve+": "+r[ve]+";";this.elContentText.style.cssText=te}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=n("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=n("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(t){t.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=t;var r=document.getElementById("rbro_menu_item_name".concat(this.id));r.textContent=this.name,r.setAttribute("title",this.name),this.elContentTextData.textContent=t}},{key:"updateRichTextContent",value:function(t){var r="";if(t&&t.ops){var p,l=$r(t.ops);try{for(l.s();!(p=l.n()).done;){var k=p.value;"insert"in k&&(r+=k.insert)}}catch(N){l.e(N)}finally{l.f()}(r=r.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(r=r.substr(0,80)),r=r.trim()}this.name=r===""?this.rb.getLabel("docElementText"):r;var x=document.getElementById("rbro_menu_item_name".concat(this.id));x.textContent=this.name,x.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"content",p),this.addCommandForChangedParameterName(t,r,"richTextContent",p),this.addCommandForChangedParameterName(t,r,"richTextHtml",p),this.addCommandForChangedParameterName(t,r,"printIf",p),this.addCommandForChangedParameterName(t,r,"cs_condition",p)}},{key:"toJS",value:function(){for(var t=a(b(_.prototype),"toJS",this).call(this),r=0,p=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];r<p.length;r++){var l=p[r];t[l]=A(this.getValue(l))}return t}},{key:"getClassName",value:function(){return"TextElement"}}]),_}(_e),Mt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,t,r,p)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.colspan=r.colspan||"",l.colspanVal=1,l.columnIndex=r.columnIndex,l.parentId=r.parentId,l.tableId=r.tableId,l.displayWidth=l.widthVal,l.lastTouchStartTime=0,l.updateColspanVal(),l}return S(_,[{key:"setInitialData",value:function(t){this.growWeight=0,a(b(_.prototype),"setInitialData",this).call(this,t)}},{key:"registerEventHandlers",value:function(){var t=this;this.el.addEventListener("dblclick",function(r){t.rb.isSelectedObject(t.id)||t.rb.isSelectedObject(t.tableId)&&(t.rb.selectObject(t.id,!r.shiftKey),r.stopPropagation())}),this.el.addEventListener("mousedown",function(r){t.rb.isSelectedObject(t.id)?(r.shiftKey&&t.rb.deselectObject(t.id),r.stopPropagation()):t.rb.isTableElementSelected(t.tableId)&&(t.rb.selectObject(t.id,!r.shiftKey),r.stopPropagation())}),this.el.addEventListener("touchstart",function(r){t.rb.isSelectedObject(t.id)||(new Date().getTime()-t.lastTouchStartTime<1e3?t.rb.isSelectedObject(t.tableId)&&(t.rb.selectObject(t.id,!0),r.stopPropagation()):t.rb.isTableElementSelected(t.tableId)&&(t.rb.selectObject(t.id,!0),r.stopPropagation())),t.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var t=this.getTable();return t!==null?t.getContainerId():null}},{key:"getValue",value:function(t){return t==="xReadOnly"?this.getOffsetX():a(b(_.prototype),"getValue",this).call(this,t)}},{key:"setValue",value:function(t,r){if(a(b(_.prototype),"setValue",this).call(this,t,r),t==="width"){var p=this.getTable();p!==null&&(p.updateColumnWidth(this.columnIndex,r),p.updateColumnDisplay())}else if(t==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(t==="colspan"){this.updateColspanVal();var l=this.rb.getDataObject(this.tableId);l!==null&&l.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(t,r){if(t==="width"){var p=A(r);if(this.colspanVal>1){var l=this.rb.getDataObject(this.parentId);if(l!==null){var k=this.getNextCellIndex(),x=l.getSingleCellWidths();k>x.length&&(k=x.length);for(var N=this.columnIndex+1;N<k;N++)p+=x[N]}}return r===""&&p===0?"":""+p}return r}},{key:"setWidth",value:function(t){this.width=t,this.widthVal=A(t)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(t){this.displayWidth=t}},{key:"getDisplayWidthSplit",value:function(t){if(this.colspanVal===1)return[t];var r=[20],p=20,l=this.rb.getDataObject(this.parentId);if(l!==null){var k=this.getNextCellIndex(),x=l.getSingleCellWidths();k>x.length&&(k=x.length);for(var N=this.columnIndex+1;N<k;N++)r.push(x[N]),p+=x[N];var H=t-p;if(H>0)r[0]+=H;else if(H<0){var ee=1;for(H=-H;ee<r.length;){if(r[ee]-20>H){r[ee]-=H;break}H-=r[ee]-20,r[ee]=20,ee++}}}return r}},{key:"updateColspanVal",value:function(){this.colspanVal=A(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,1,"id"),t}},{key:"getProperties",value:function(){var t=["xReadOnly","width","content","richText","richTextContent","richTextHtml","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_textWrap"],r=this.rb.getDataObject(this.parentId);return r!==null&&r.getValue("bandType")===le.bandType.header&&(t.push("printIf"),t.push("growWeight")),t}},{key:"getElementType",value:function(){return _e.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.updateDisplayInternalNotify(t,r,p,l,!0)}},{key:"updateDisplayInternalNotify",value:function(t,r,p,l,k){this.el!==null&&(this.el.style.width=this.rb.toPixel(p-1));var x=this.getContentSize(p,l,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(x.width),this.elContentText.style.height=this.rb.toPixel(x.height),k){var N=this.rb.getDataObject(this.tableId);if(N!==null){for(var H=this.rb.getDataObject(this.parentId),ee=p,ne=H.getSingleCellWidths(),te=0;te<ne.length;te++)(te<this.columnIndex||te>=this.columnIndex+this.colspanVal)&&(ee+=ne[te]);for(var ve=this.getDisplayWidthSplit(p),se=0;se<ve.length;se++)N.notifyColumnWidthResized(H,this.columnIndex+se,ve[se],ee)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var t=this.rb.getDataObject(this.tableId),r=this.rb.getDataObject(this.parentId);if(t!==null&&r!==null){for(var p=this.rb.getDocumentProperties().getContentSize().width,l=r.getSingleCellWidths(),k=0,x=0;x<l.length;x++)(x<this.columnIndex||x>=this.columnIndex+this.colspanVal)&&(k+=l[x]);return p-k-t.xVal}return 0}},{key:"getOffsetX",value:function(){var t=this.rb.getDataObject(this.parentId);if(t!==null){for(var r=t.getSingleCellWidths(),p=0,l=0;l<this.columnIndex;l++)p+=r[l];return p}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=n("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=n("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=n("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(t,r,p){var l=this.getDisplayWidthSplit(t),k=this.getParent();if(k!==null)for(var x=l.length-1;x>=0;x--){var N=new e(k.getColumn(this.columnIndex+x).getId(),"width",""+l[x],e.type.text,this.rb);(r||x>0)&&N.disableSelect(),p.addCommand(N)}}},{key:"insertColumn",value:function(t){var r=this.getParent(),p=this.getTable();if(r!==null&&p!==null){var l=r.getColumnIndex(this);if(l!==-1){var k=new oe("Insert column"),x=new bt(!1,p.getPanelItem().getPanelName(),p.toJS(),p.getId(),p.getContainerId(),-1,this.rb);k.addCommand(x);var N=A(p.getValue("columns"))+1;p.setValue("columns",N),p.getValue("headerData").createColumns(N,!0,l,t);for(var H=0;H<p.getValue("contentDataRows").length;H++)p.getValue("contentDataRows")[H].createColumns(N,!0,l,t);p.getValue("footerData").createColumns(N,!0,l,t),x=new bt(!0,p.getPanelItem().getPanelName(),p.toJS(),p.getId(),p.getContainerId(),-1,this.rb),k.addCommand(x),this.rb.executeCommand(k),this.rb.selectObject(this.getParent().getValue("columnData")[t?l:l+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var t=this.getParent(),r=this.getTable();if(t!==null&&r!==null){var p=t.getColumnIndex(this);if(p!==-1){var l=new oe("Delete column"),k=new bt(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);l.addCommand(k);var x=A(r.getValue("columns"))-1;r.setValue("columns",x);var N=r.getValue("widthVal");r.setValue("width",N-this.widthVal),r.getValue("headerData").deleteColumn(p);for(var H=0;H<r.getValue("contentDataRows").length;H++)r.getValue("contentDataRows")[H].deleteColumn(p);r.getValue("footerData").deleteColumn(p),k=new bt(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),l.addCommand(k),this.rb.executeCommand(l)}}}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);return t.growWeight=A(t.growWeight),t}},{key:"getClassName",value:function(){return"TableTextElement"}}]),_}(Xr);function Jt(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return Zr(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Zr(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Zr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var gn=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l){var k;J(this,_);var x=p==="header"?l.getLabel("bandHeader"):p==="footer"?l.getLabel("bandFooter"):l.getLabel("bandContent");return(k=m.call(this,x,t,0,20,l)).bandType=p,k.repeatHeader=!1,k.alwaysPrintOnSamePage=!0,k.pageBreak=!1,k.backgroundColor="",k.alternateBackgroundColor="",k.groupExpression="",k.repeatGroupHeader=!1,k.parentId=r.parentId,k.columnData=[],k.heightVal=0,k.setInitialData(r),k}return S(_,[{key:"setInitialData",value:function(t){for(var r in t)t.hasOwnProperty(r)&&this.hasOwnProperty(r)&&(this[r]=t[r]);this.heightVal=A(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var t,r=this.id,p=Jt(this.columnData);try{for(p.s();!(t=p.n()).done;){var l=t.value;l.getId()>r&&(r=l.getId())}}catch(k){p.e(k)}finally{p.f()}return r}},{key:"getContainerId",value:function(){var t=this.getParent();return t!==null?t.getContainerId():null}},{key:"setValue",value:function(t,r){if(this[t]=r,t==="height"){var p=A(r);this[t+"Val"]=p;var l,k=Jt(this.getElement().querySelectorAll("td"));try{for(k.s();!(l=k.n()).done;)l.value.style.height=this.rb.toPixel(p)}catch(ee){k.e(ee)}finally{k.f()}var x,N=Jt(this.columnData);try{for(N.s();!(x=N.n()).done;)x.value.setValue(t,r)}catch(ee){N.e(ee)}finally{N.f()}var H=this.getParent();H!==null&&H.updateHeight()}else t==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id"),t}},{key:"getProperties",value:function(){var t=["height","backgroundColor"];return this.bandType===le.bandType.header?t.push("repeatHeader"):this.bandType===le.bandType.content&&(t.push("alternateBackgroundColor"),t.push("groupExpression"),t.push("printIf"),t.push("alwaysPrintOnSamePage"),t.push("pageBreak"),t.push("repeatGroupHeader")),t}},{key:"updateDisplayInternal",value:function(t,r,p,l){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var t=0;t<this.columnData.length;t++)this.rb.deleteDataObject(this.columnData[t]);a(b(_.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(t,r,p,l){if(this.panelItem!==null){if(r)for(var k=0;k<this.columnData.length;k++)this.columnData[k].remove(),k>=t&&this.rb.deleteDataObject(this.columnData[k]);for(var x=[],N=0;N<t;N++){var H=void 0,ee=void 0,ne=r?20:100,te=N;p!==-1&&(l?N===p?(ne=this.columnData[p].getValue("widthVal"),te=-1):N>=p&&te--:N===p+1?(ne=this.columnData[p].getValue("widthVal"),te=-1):N>p&&te--),te!==-1&&te<this.columnData.length?((H=this.columnData[te]).columnIndex=N,ee=H.id,r||(H.band=this.band,H.parentId=this.id,H.tableId=this.parentId,H.height=this.height)):H={band:this.band,columnIndex:N,parentId:this.id,tableId:this.parentId,width:ne,height:this.height},ee||(ee=this.rb.getUniqueId());var ve=new Mt(ee,H,this.rb);x.push(ve),this.rb.addDataObject(ve);var se=new Be(_e.type.text,this.panelItem,ve,{showDelete:!1},this.rb);ve.setPanelItem(se),this.panelItem.appendChild(se)}this.columnData=x;for(var Ie=0,Ae=x;Ie<Ae.length;Ie++)Ae[Ie].setup(!0);this.updateColumnDisplay();var ke,Ee=Jt(this.getElement().querySelectorAll("td"));try{for(Ee.s();!(ke=Ee.n()).done;)ke.value.style.height=this.rb.toPixel(this.heightVal)}catch(Te){Ee.e(Te)}finally{Ee.f()}}}},{key:"deleteColumn",value:function(t){t<this.columnData.length&&(this.columnData[t].remove(),this.rb.deleteDataObject(this.columnData[t]),this.columnData.splice(t,1))}},{key:"show",value:function(t){t?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(t,r){t<this.columnData.length&&this.columnData[t].setWidth(r)}},{key:"updateColumnDisplay",value:function(){for(var t=0;t<this.columnData.length;){var r=this.columnData[t],p=r.getValue("widthVal"),l=r.getValue("colspanVal");if(r.getElement().style.display="",l>1){var k=t+l<this.columnData.length?t+l:this.columnData.length;for(t++;t<k;)p+=this.columnData[t].getValue("widthVal"),this.columnData[t].getElement().style.display="none",t++}else t++;r.setDisplayWidth(p),r.updateDisplay()}}},{key:"getColumn",value:function(t){return t>=0&&t<this.columnData.length?this.columnData[t]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(t,r){for(var p=0;p<this.columnData.length;){var l=this.columnData[p],k=l.getNextCellIndex();if(k>t){if(k>p+1)for(var x=p;x<k&&x<this.columnData.length;x++)x!==t&&(r+=this.columnData[x].getValue("widthVal"));l.updateDisplayInternalNotify(0,0,r,l.getValue("heightVal"),!1);break}p=k}}},{key:"getColumnIndex",value:function(t){for(var r=0;r<this.columnData.length;r++)if(t===this.columnData[r])return r;return-1}},{key:"getWidth",value:function(){for(var t=0,r=0;r<this.columnData.length;){var p=this.columnData[r];t+=p.getDisplayWidth();var l=p.getValue("colspanVal");l>1?r+=l:r++}return t}},{key:"getSingleCellWidths",value:function(){var t,r=[],p=Jt(this.columnData);try{for(p.s();!(t=p.n()).done;){var l=t.value;r.push(l.getValue("widthVal"))}}catch(k){p.e(k)}finally{p.f()}return r}},{key:"insertRow",value:function(t){var r=this.getParent();if(r!==null){var p=r.getContentRowIndex(this);if(p!==-1){var l=new oe("Insert row"),k=new bt(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);l.addCommand(k);var x=A(r.getValue("contentRows"))+1;r.setValue("contentRows",x);var N,H=r.getValue("contentDataRows")[p],ee={height:H.height,columnData:[]},ne=Jt(H.columnData);try{for(ne.s();!(N=ne.n()).done;){var te=N.value;ee.columnData.push({width:te.width})}}catch(se){ne.e(se)}finally{ne.f()}var ve=r.createBand("content",-1,ee);r.getValue("contentDataRows").splice(t?p:p+1,0,ve),k=new bt(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),l.addCommand(k),this.rb.executeCommand(l),this.rb.selectObject(ve.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var t=this.getParent();if(t!==null){var r=t.getContentRowIndex(this),p=A(t.getValue("contentRows"));if(r!==-1&&p>1){var l=new oe("Delete row"),k=new bt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);l.addCommand(k),t.setValue("contentRows",p-1),t.getValue("contentDataRows").splice(r,1),k=new bt(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),l.addCommand(k),this.rb.executeCommand(l)}}}},{key:"addChildren",value:function(t){var r,p=Jt(this.columnData);try{for(p.s();!(r=p.n()).done;){var l=r.value;t.push(l)}}catch(k){p.e(k)}finally{p.f()}}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);t.columnData=[];var r,p=Jt(this.columnData);try{for(p.s();!(r=p.n()).done;){var l=r.value;t.columnData.push(l.toJS())}}catch(k){p.e(k)}finally{p.f()}return t}},{key:"getClassName",value:function(){return"TableBandElement"}}]),_}(_e);function gr(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return Yr(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Yr(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Yr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Qt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var l;return J(this,_),(l=m.call(this,p.getLabel("docElementTable"),t,200,40,p)).setupComplete=!1,l.dataSource="",l.borderColor="#000000",l.borderWidth="1",l.border=_.border.grid,l.header=!0,l.footer=!1,l.contentRows="1",l.columns="2",l.headerData=null,l.contentDataRows=[],l.footerData=null,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(r),l.borderWidthVal=A(l.borderWidth),l}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var r=A(this.contentRows);r<1&&(r=1);for(var p=[],l=0;l<r;l++)p.push(this.createBand("content",l,null));this.contentDataRows=p,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),t&&this.panelItem.open()}},{key:"createBand",value:function(t,r,p){var l,k,x=t+(t==="content"?"DataRows":"Data"),N={hasChildren:!0,showDelete:!1};p?l=p:this[x]&&(t!=="content"||r!==-1&&r<this[x].length)?k=(l=t==="content"?this[x][r]:this[x]).id:l={},l.parentId=this.id,k||(k=this.rb.getUniqueId()),(t==="header"&&!this.header||t==="footer"&&!this.footer)&&(N.visible=!1);var H=new gn(k,l,t,this.rb);this.rb.addDataObject(H);var ee=new Be("table_band",this.panelItem,H,N,this.rb);H.setPanelItem(ee),this.panelItem.appendChild(ee),H.setup();var ne=A(this.columns);return H.createColumns(ne,!1,-1,!1),ee.open(),t==="header"?H.show(this.header):t==="footer"&&H.show(this.footer),H}},{key:"getMaxId",value:function(){var t,r=this.id;(t=this.headerData.getMaxId())>r&&(r=t);for(var p=0;p<this.contentDataRows.length;p++)(t=this.contentDataRows[p].getMaxId())>r&&(r=t);return(t=this.footerData.getMaxId())>r&&(r=t),r}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t==="dataSource"?this.updateName():t==="header"?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):t==="footer"?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):t.indexOf("border")!==-1&&(t==="borderWidth"&&(this.borderWidthVal=A(r)),this.updateStyle()),t!=="header"&&t!=="footer"&&t!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(t,r,p,l){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r))}},{key:"updateStyle",value:function(){var t,r=this.el.querySelector("table");this.border===_.border.grid||this.border===_.border.frameRow||this.border===_.border.frame?(r.style.borderStyle="solid",r.style.borderWidth=this.borderWidthVal+"px",r.style.borderColor=this.borderColor):r.style.borderStyle="none";var p="",l="",k="";this.border===_.border.grid||this.border===_.border.frameRow||this.border===_.border.row?(p="solid none solid none",l=this.borderWidthVal+"px",k=this.borderColor):p="none";var x=this.headerData.getElement();for(x.style.borderStyle=p,x.style.borderWidth=l,x.style.borderColor=k,t=0;t<this.contentDataRows.length;t++){var N=this.contentDataRows[t].getElement();N.style.borderStyle=p,N.style.borderWidth=l,N.style.borderColor=k}var H=this.footerData.getElement();H.style.borderStyle=p,H.style.borderWidth=l,H.style.borderColor=k,this.border===_.border.grid?(p="none solid none solid",l=this.borderWidthVal+"px",k=this.borderColor):p="none";var ee,ne=gr(this.headerData.getElement().querySelectorAll("td"));try{for(ne.s();!(ee=ne.n()).done;){var te=ee.value;te.style.borderStyle=p,te.style.borderWidth=l,te.style.borderColor=k}}catch(Ve){ne.e(Ve)}finally{ne.f()}for(t=0;t<this.contentDataRows.length;t++){var ve,se=gr(this.contentDataRows[t].getElement().querySelectorAll("td"));try{for(se.s();!(ve=se.n()).done;){var Ie=ve.value;Ie.style.borderStyle=p,Ie.style.borderWidth=l,Ie.style.borderColor=k}}catch(Ve){se.e(Ve)}finally{se.f()}}var Ae,ke=gr(this.footerData.getElement().querySelectorAll("td"));try{for(ke.s();!(Ae=ke.n()).done;){var Ee=Ae.value;Ee.style.borderStyle=p,Ee.style.borderWidth=l,Ee.style.borderColor=k}}catch(Ve){ke.e(Ve)}finally{ke.f()}for(var Te=0,He=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];Te<He.length;Te++){var De=He[Te];this.el.classList.remove(De)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id","containerId","width"),t}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return _e.type.table}},{key:"select",value:function(){a(b(_.prototype),"select",this).call(this);for(var t=this.getSizerContainerElement(),r=0,p=["NE","SE","SW","NW"];r<p.length;r++){var l=p[r];t.append(n("div",{class:"rbroSizer rbroSizer".concat(l," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{class:"rbroDocElement rbroTableElement"});var t=n("table",{id:"rbro_el_table".concat(this.id)});t.append(n("thead",{id:"rbro_el_table_header".concat(this.id)})),t.append(n("tbody",{id:"rbro_el_table_content".concat(this.id)})),t.append(n("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(t),this.appendToContainer(),this.registerEventHandlers(),t.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var t=0;t<this.contentDataRows.length;t++)this.rb.deleteDataObject(this.contentDataRows[t]),this.contentDataRows[t].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,a(b(_.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(t,r){if(this.setupComplete){this.headerData.updateColumnWidth(t,r);for(var p=0;p<this.contentDataRows.length;p++)this.contentDataRows[p].updateColumnWidth(t,r);this.footerData.updateColumnWidth(t,r)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var t=0;this.header&&(t+=this.headerData.getHeight());for(var r=0;r<this.contentDataRows.length;r++)t+=this.contentDataRows[r].getHeight();this.footer&&(t+=this.footerData.getHeight()),this.height=""+t,this.heightVal=t}}},{key:"notifyColumnWidthResized",value:function(t,r,p,l){if(this.setupComplete){t!==this.headerData&&this.headerData.notifyColumnWidthResized(r,p);for(var k=0;k<this.contentDataRows.length;k++)t!==this.contentDataRows[k]&&this.contentDataRows[k].notifyColumnWidthResized(r,p);t!==this.footerData&&this.footerData.notifyColumnWidthResized(r,p),this.width=""+l,this.widthVal=l,document.getElementById("rbro_el_table".concat(this.id)).style.width=l+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(t){for(var r=0;r<this.contentDataRows.length;r++)if(t===this.contentDataRows[r])return r;return-1}},{key:"addChildren",value:function(t){var r;for(t.push(this.headerData),r=0;r<this.contentDataRows.length;r++)t.push(this.contentDataRows[r]);for(t.push(this.footerData),this.headerData.addChildren(t),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].addChildren(t);this.footerData.addChildren(t)}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"dataSource",p)}},{key:"createSpaceForNewColumns",value:function(t,r){for(var p=_.getColumnMinWidth(),l=t*p,k=r-1;k>=0;){var x=this.headerData.getColumn(k),N=x.getValue("widthVal")-p,H=p;if(N>l&&(H=x.getValue("widthVal")-l),this.updateColumnWidth(k,H),(l-=N)<=0)break;k--}}},{key:"hasEnoughAvailableSpace",value:function(t){var r=A(this.columns),p=Math.floor(this.widthVal/_.getColumnMinWidth());return!(t>r&&t>p)}},{key:"addCommandsForChangedColumns",value:function(t,r){if(this.hasEnoughAvailableSpace(t)){var p=A(this.columns),l=new bt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(r.addCommand(l),t>p)this.createSpaceForNewColumns(t-p,p);else if(t<p){for(var k=0,x=0;x<t;x++)k+=this.headerData.getColumn(x).getValue("widthVal");var N=this.headerData.getColumn(t-1);this.widthVal-k>0&&this.updateColumnWidth(t-1,N.getValue("widthVal")+(this.widthVal-k))}this.columns=t,this.headerData.createColumns(t,!0,-1,!1);for(var H=0;H<this.contentDataRows.length;H++)this.contentDataRows[H].createColumns(t,!0,-1,!1);this.footerData.createColumns(t,!0,-1,!1),l=new bt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),r.addCommand(l)}}},{key:"addCommandsForChangedContentRows",value:function(t,r){if(t!==A(this.contentRows)){var p,l=new bt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(r.addCommand(l),t<this.contentDataRows.length){for(p=t;p<this.contentDataRows.length;p++)this.rb.deleteDataObject(this.contentDataRows[p]),this.contentDataRows[p].remove();this.contentDataRows.splice(t,this.contentDataRows.length-t)}else{var k;if(this.contentDataRows.length>0){k={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var x,N=gr(this.contentDataRows[0].columnData);try{for(N.s();!(x=N.n()).done;){var H=x.value;k.columnData.push({width:H.width})}}catch(ee){N.e(ee)}finally{N.f()}}for(p=this.contentDataRows.length;p<t;p++)this.contentDataRows.push(this.createBand("content",p,k))}this.contentRows=""+t,l=new bt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),r.addCommand(l)}}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);t.headerData=this.headerData.toJS();for(var r=[],p=0;p<this.contentDataRows.length;p++)r.push(this.contentDataRows[p].toJS());return t.contentDataRows=r,t.footerData=this.footerData.toJS(),t}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(t){for(var r=0,p=["headerData","footerData"];r<p.length;r++){var l=p[r];_.removeBandIds(t[l])}for(var k=0;k<t.contentDataRows.length;k++)_.removeBandIds(t.contentDataRows[k])}},{key:"removeBandIds",value:function(t){delete t.id;var r,p=gr(t.columnData);try{for(p.s();!(r=p.n()).done;)delete r.value.id}catch(l){p.e(l)}finally{p.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),_}(_e);Qt.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var bt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,l,k,x,N){var H;return J(this,_),(H=m.call(this)).add=t,H.elementType=r,H.initialData=p,H.parentId=k,H.position=x,H.rb=N,H.id=l,H.firstExecution=!0,H}return S(_,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var t=_.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(t,h.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=t.toJS())}}},{key:"deleteElement",value:function(){var t=this.rb.getDataObject(this.id);t!==null&&this.rb.deleteDocElement(t)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(t,r,p,l,k,x){var N,H={draggable:!0};p===_e.type.text?N=new Xr(t,r,x):p===_e.type.line?N=new Yt(t,r,x):p===_e.type.image?N=new yr(t,r,x):p===_e.type.pageBreak?N=new Gt(t,r,x):p===_e.type.table?(N=new Qt(t,r,x),H.hasChildren=!0):p===_e.type.frame?(N=new mr(t,r,x),H.hasChildren=!0):p===_e.type.section?(N=new Tr(t,r,x),H.hasChildren=!0):p===_e.type.barCode&&(N=new Wt(t,r,x)),x.addDocElement(N);var ee=N.getContainer().getPanelItem(),ne=new Be(p,ee,N,H,x);return N.setPanelItem(ne),ee.insertChild(l,ne),N.setup(k),N}}]),_}(h);function Ot(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return Jr(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Jr(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Jr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Qr=function(){function C(i,d,m){J(this,C),this.rootElement=i,this.rb=m,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=d,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=_e.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return S(C,[{key:"render",value:function(){var i=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(p){i.rb.isDocElementSelected()&&!p.shiftKey&&i.rb.deselectAll(!0);var l=O(i.elDocContent);i.startSelectionArea(i.getCoordWithoutZoom(p.pageX-l.left),i.getCoordWithoutZoom(p.pageY-l.top))});var d=n("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(d.addEventListener("mousedown",function(p){p.stopPropagation()}),this.elTabPdfLayout=n("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(p){i.setDocumentTab(C.tab.pdfLayout)}),d.append(this.elTabPdfLayout),this.elTabPdfPreview=n("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(p){i.setDocumentTab(C.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var m=n("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});m.addEventListener("click",function(p){i.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(m)}var _=n("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});_.addEventListener("click",function(p){i.closePdfPreviewTab()}),this.elTabPdfPreview.append(_),d.append(this.elTabPdfPreview),this.elPanel.append(d);var t=this.rb.getDocumentProperties();this.elDoc=n("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=n("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=n("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(n("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=n("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(n("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=n("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(n("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=n("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=n("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=n("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=n("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=n("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=n("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=n("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=n("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var r=t.getPageSize();this.updatePageSize(r.width,r.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(C.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var i=this;this.elDocContent.addEventListener("dragover",function(d){i.processDragover(d)}),this.elDocContent.addEventListener("dragenter",function(d){i.rb.isBrowserDragActive("docElement")&&(i.dragEnterCount++,d.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(d){if(i.rb.isBrowserDragActive("docElement")&&(i.dragEnterCount--,i.dragEnterCount===0)){var m,_=Ot(document.querySelectorAll(".rbroElementContainer"));try{for(_.s();!(m=_.n()).done;)m.value.classList.remove("rbroElementDragOver")}catch(t){_.e(t)}finally{_.f()}i.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(d){return i.processDrop(d),!1})}},{key:"processMouseMove",value:function(i){if(this.dragging)this.processDrag(i);else if(this.selectionAreaStarted){var d=O(this.elDocContent),m=this.getSelectionArea(this.getCoordWithoutZoom(i.pageX-d.left),this.getCoordWithoutZoom(i.pageY-d.top));this.elSelectionArea.style.left=this.rb.toPixel(m.left),this.elSelectionArea.style.top=this.rb.toPixel(m.top),this.elSelectionArea.style.width=this.rb.toPixel(m.width),this.elSelectionArea.style.height=this.rb.toPixel(m.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(i){if(this.rb.isBrowserDragActive("docElement")){var d=M(i),m=null;d!==null&&(m=this.getContainer(d.x,d.y,this.dragElementType,[]),this.dragCurrentX=d.x,this.dragCurrentY=d.y);var _=m!==null?m.getId():null;if(_!==this.dragContainerId){var t,r=Ot(document.querySelectorAll(".rbroElementContainer"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(p){r.e(p)}finally{r.f()}m!==null&&m.dragOver(),this.dragContainerId=_}i.preventDefault(),i.stopPropagation()}}},{key:"processDrop",value:function(i){if(this.rb.isBrowserDragActive("docElement")){i.preventDefault();var d,m=Ot(document.querySelectorAll(".rbroElementContainer"));try{for(m.s();!(d=m.n()).done;)d.value.classList.remove("rbroElementDragOver")}catch(ve){m.e(ve)}finally{m.f()}if(this.dragElementType===_e.type.image&&this.rb.getProperty("imageLimit")!==null){var _,t=0,r=Ot(this.rb.getDocElements(!0));try{for(r.s();!(_=r.n()).done;)_.value.getElementType()===_e.type.image&&t++}catch(ve){r.e(ve)}finally{r.f()}if(t>=this.rb.getProperty("imageLimit"))return void alert(this.rb.getLabel("docElementImageCountExceeded").replace("${count}",this.rb.getProperty("imageLimit")))}var p=M(i);p!==null&&(this.dragCurrentX=p.x,this.dragCurrentY=p.y);for(var l=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);l!==null&&!l.isElementAllowed(this.dragElementType);)l=l.getParent();if(l!==null&&l.isElementAllowed(this.dragElementType)){var k=O(this.elDocContent),x=this.getCoordWithoutZoom(this.dragCurrentX-k.left),N=this.getCoordWithoutZoom(this.dragCurrentY-k.top),H=l.getOffset();if(x-=H.x,N-=H.y,!i.ctrlKey&&this.rb.getDocument().isGridVisible()){var ee=this.rb.getDocument().getGridSize();x=R(x,ee),N=R(N,ee)}var ne={x:""+x,y:""+N,containerId:l.getId()},te=new bt(!0,this.dragElementType,ne,this.rb.getUniqueId(),l.getId(),-1,this.rb);this.rb.executeCommand(te)}}}},{key:"processDrag",value:function(i){var d=M(i);if(this.dragType===_e.dragType.element){var m=this.getContainer(d.x,d.y,this.dragElementType,this.dragLinkedContainers),_=m!==null?m.getId():null;if(_!==this.dragCurrentContainerId){var t,r=Ot(document.querySelectorAll(".rbroElementContainer"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(k){r.e(k)}finally{r.f()}m!==null&&_!==this.dragContainerId&&m.dragOver()}this.dragCurrentContainerId=_}this.dragCurrentX=d.x,this.dragCurrentY=d.y,this.dragSnapToGrid=!i.ctrlKey;var p=this.rb.getDataObject(this.dragObjectId);if(p!==null){var l=p.getDragDiff(this.getCoordWithoutZoom(d.x-this.dragStartX),this.getCoordWithoutZoom(d.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(l.x,l.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(i,d){this.elDoc.style.width=this.rb.toPixel(i),this.elDoc.style.height=this.rb.toPixel(d)}},{key:"updatePageMargins",value:function(){var i=this.rb.getDocumentProperties(),d=A(i.getValue("marginLeft")),m=A(i.getValue("marginTop")),_=A(i.getValue("marginRight")),t=A(i.getValue("marginBottom")),r=this.rb.toPixel(d),p=this.rb.toPixel(m-1),l=this.rb.toPixel(_),k=this.rb.toPixel(t);this.elDividerMarginLeft.style.left=r,this.elDividerMarginTop.style.top=p,d!==0?(this.elDividerMarginLeft.style.left=r,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",m!==0?(this.elDividerMarginTop.style.top=p,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",_!==0?(this.elDividerMarginRight.style.right=l,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",t!==0?(this.elDividerMarginBottom.style.bottom=k,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=r,this.elDocContent.style.top=p,this.elDocContent.style.right=l,this.elDocContent.style.bottom=k}},{key:"updateHeader",value:function(){var i=this.rb.getDocumentProperties();if(i.getValue("header")){var d=this.rb.toPixel(i.getValue("headerSize"));this.elHeader.style.height=d,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(A(i.getValue("marginTop"))+A(i.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=d}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var i=this.rb.getDocumentProperties();if(i.getValue("footer")){var d=this.rb.toPixel(i.getValue("footerSize"));this.elFooter.style.height=d,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(A(i.getValue("marginBottom"))+A(i.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=d}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(i){var d,m=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),_=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),t=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),r=Ot(m);try{for(r.s();!(d=r.n()).done;)d.value.classList.remove("rbroActive")}catch(se){r.e(se)}finally{r.f()}if(i===C.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var p,l=Ot(_);try{for(l.s();!(p=l.n()).done;){var k=p.value;k.classList.remove("rbroDisabled"),k.draggable=!0}}catch(se){l.e(se)}finally{l.f()}var x,N=Ot(t);try{for(N.s();!(x=N.n()).done;)x.value.disabled=!1}catch(se){N.e(se)}finally{N.f()}}else if(this.pdfPreviewExists&&i===C.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var H,ee=Ot(_);try{for(ee.s();!(H=ee.n()).done;){var ne=H.value;ne.classList.add("rbroDisabled"),ne.draggable=!1}}catch(se){ee.e(se)}finally{ee.f()}var te,ve=Ot(t);try{for(ve.s();!(te=ve.n()).done;)te.value.disabled=!0}catch(se){ve.e(se)}finally{ve.f()}}}},{key:"openPdfPreviewTab",value:function(i,d){if(w(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),d&&Object.keys(d).length>0){var m=this,_=new XMLHttpRequest;for(var t in _.responseType="blob",_.onreadystatechange=function(){if(_.readyState===XMLHttpRequest.DONE)if(_.status===200){var p=document.createElement("object");p.type="application/pdf",p.width="100%",p.height="100%",m.pdfPreviewObjectURL=URL.createObjectURL(_.response),p.data=m.pdfPreviewObjectURL,m.elPdfPreview.append(p)}else alert("preview failed")},_.open("GET",i,!0),d)d.hasOwnProperty(t)&&_.setRequestHeader(t,d[t]);_.send()}else{var r=n("object",{data:i,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(r)}this.pdfPreviewExists=!0,this.setDocumentTab(C.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,w(this.elPdfPreview),this.setDocumentTab(C.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var i=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),i++):this.elTabPdfPreview.classList.add("rbroHidden"),i>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(i,d,m,_){var t=O(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(i-t.left),this.getCoordWithoutZoom(d-t.top),m,_)}},{key:"getContentScrollPosY",value:function(){var i=O(this.elDocContent);return O(this.elPanel).top-i.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var i=0;i<this.zoomLevels.length-1;i++)if(this.zoom===this.zoomLevels[i]){this.updateZoomLevel(this.zoomLevels[i+1]);break}}},{key:"zoomOut",value:function(){for(var i=1;i<this.zoomLevels.length;i++)if(this.zoom===this.zoomLevels[i]){this.updateZoomLevel(this.zoomLevels[i-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(i){this.zoom=i;var d=this.rb.getDocumentProperties().getPageSize(),m=d.width*(i/100),_=d.height*(i/100),t=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),r=getComputedStyle(this.elPanel),p=parseInt(r.paddingTop)||0,l=parseInt(r.paddingBottom)||0,k=this.elPanel.clientHeight-p-l,x=0;i!==100?(d.width>t?(this.elDoc.style.transformOrigin="",i<100&&m<t&&(x=Math.round((t-m)/2))):m>t?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(x,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=i+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=m<t?"hidden":"",this.elPanel.style.overflowY=_<k?"hidden":""}},{key:"getCoordWithoutZoom",value:function(i){return Math.round(i*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(i){return i===le.bandType.header?this.elHeader:i===le.bandType.content?this.elContent:i===le.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(i,d,m,_,t,r){this.dragging=!0,this.dragStartX=this.dragCurrentX=i,this.dragStartY=this.dragCurrentY=d,this.dragElementType=t,this.dragType=r,this.dragObjectId=m,this.dragContainerId=_,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var p=this.rb.getDataObject(this.dragObjectId);p&&(this.dragLinkedContainers=p.getLinkedContainers())}},{key:"stopDrag",value:function(){var i=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),d=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),m=this.rb.getDataObject(this.dragObjectId);if(m===null||i===0&&d===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var _=null;this.dragType===_e.dragType.element&&(_=this.rb.getDataObject(this.dragCurrentContainerId));var t=this.rb.getSelectedObjects();if(t.length>1&&_!==null){for(var r=t[0].getContainerId(),p=1;p<t.length;p++)if(t[p].getContainerId()!==r){_=null;break}}var l=m.getDragDiff(i,d,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(l.x,l.y,this.dragType,_,!0)}this.dragging=!1,this.dragType=_e.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var k,x=Ot(document.querySelectorAll(".rbroElementContainer"));try{for(x.s();!(k=x.n()).done;)k.value.classList.remove("rbroElementDragOver")}catch(N){x.e(N)}finally{x.f()}}},{key:"startBrowserDrag",value:function(i){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=i,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(i,d){this.selectionAreaStarted=!0,this.selectionAreaStartX=i,this.selectionAreaStartY=d}},{key:"stopSelectionArea",value:function(i,d,m){var _=this.getSelectionArea(i,d);if(_.width>10&&_.height>10){var t,r=Ot(this.rb.getDocElements(!0));try{for(r.s();!(t=r.n()).done;){var p=t.value;if(p.isAreaSelectionAllowed()){var l=p.getAbsolutePosition();if(_.left<l.x+p.getValue("widthVal")&&_.left+_.width>=l.x&&_.top<l.y+p.getValue("heightVal")&&_.top+_.height>=l.y){var k=!0;if(p.getContainerId()){var x=p.getContainer();x!==null&&x.isSelected()&&(k=!1)}k&&(this.rb.selectObject(p.getId(),m),m=!1)}}}}catch(N){r.e(N)}finally{r.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(i,d){var m={};return i>this.selectionAreaStartX?(m.left=this.selectionAreaStartX,m.width=i-this.selectionAreaStartX):(m.left=i,m.width=this.selectionAreaStartX-i),d>this.selectionAreaStartY?(m.top=this.selectionAreaStartY,m.height=d-this.selectionAreaStartY):(m.top=d,m.height=this.selectionAreaStartY-d),m}},{key:"mouseUp",value:function(i){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var d=O(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(i.pageX-d.left),this.getCoordWithoutZoom(i.pageY-d.top),!i.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),C}();Qr.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var nr,Ir,br=typeof Map=="function"?new Map:(nr=[],Ir=[],{has:function(C){return nr.indexOf(C)>-1},get:function(C){return Ir[nr.indexOf(C)]},set:function(C,i){nr.indexOf(C)===-1&&(nr.push(C),Ir.push(i))},delete:function(C){var i=nr.indexOf(C);i>-1&&(nr.splice(i,1),Ir.splice(i,1))}}),en=function(C){return new Event(C,{bubbles:!0})};try{new Event("test")}catch(C){en=function(i){var d=document.createEvent("Event");return d.initEvent(i,!0,!1),d}}function bn(C){var i=br.get(C);i&&i.destroy()}function vn(C){var i=br.get(C);i&&i.update()}var vr=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((vr=function(C){return C}).destroy=function(C){return C},vr.update=function(C){return C}):((vr=function(C,i){return C&&Array.prototype.forEach.call(C.length?C:[C],function(d){return function(m){if(m&&m.nodeName&&m.nodeName==="TEXTAREA"&&!br.has(m)){var _,t=null,r=null,p=null,l=function(){m.clientWidth!==r&&H()},k=function(ee){window.removeEventListener("resize",l,!1),m.removeEventListener("input",H,!1),m.removeEventListener("keyup",H,!1),m.removeEventListener("autosize:destroy",k,!1),m.removeEventListener("autosize:update",H,!1),Object.keys(ee).forEach(function(ne){m.style[ne]=ee[ne]}),br.delete(m)}.bind(m,{height:m.style.height,resize:m.style.resize,overflowY:m.style.overflowY,overflowX:m.style.overflowX,wordWrap:m.style.wordWrap});m.addEventListener("autosize:destroy",k,!1),"onpropertychange"in m&&"oninput"in m&&m.addEventListener("keyup",H,!1),window.addEventListener("resize",l,!1),m.addEventListener("input",H,!1),m.addEventListener("autosize:update",H,!1),m.style.overflowX="hidden",m.style.wordWrap="break-word",br.set(m,{destroy:k,update:H}),(_=window.getComputedStyle(m,null)).resize==="vertical"?m.style.resize="none":_.resize==="both"&&(m.style.resize="horizontal"),t=_.boxSizing==="content-box"?-(parseFloat(_.paddingTop)+parseFloat(_.paddingBottom)):parseFloat(_.borderTopWidth)+parseFloat(_.borderBottomWidth),isNaN(t)&&(t=0),H()}function x(ee){var ne=m.style.width;m.style.width="0px",m.style.width=ne,m.style.overflowY=ee}function N(){if(m.scrollHeight!==0){var ee=function(te){for(var ve=[];te&&te.parentNode&&te.parentNode instanceof Element;)te.parentNode.scrollTop&&ve.push({node:te.parentNode,scrollTop:te.parentNode.scrollTop}),te=te.parentNode;return ve}(m),ne=document.documentElement&&document.documentElement.scrollTop;m.style.height="",m.style.height=m.scrollHeight+t+"px",r=m.clientWidth,ee.forEach(function(te){te.node.scrollTop=te.scrollTop}),ne&&(document.documentElement.scrollTop=ne)}}function H(){N();var ee=Math.round(parseFloat(m.style.height)),ne=window.getComputedStyle(m,null),te=ne.boxSizing==="content-box"?Math.round(parseFloat(ne.height)):m.offsetHeight;if(te<ee?ne.overflowY==="hidden"&&(x("scroll"),N(),te=ne.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(m,null).height)):m.offsetHeight):ne.overflowY!=="hidden"&&(x("hidden"),N(),te=ne.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(m,null).height)):m.offsetHeight),p!==te){p=te;var ve=en("autosize:resized");try{m.dispatchEvent(ve)}catch(se){}}}}(d)}),C}).destroy=function(C){return C&&Array.prototype.forEach.call(C.length?C:[C],bn),C},vr.update=function(C){return C&&Array.prototype.forEach.call(C.length?C:[C],vn),C});const dt=vr;function Ft(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return tn(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?tn(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function tn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var vt=function(){function C(i,d){J(this,C),this.rootElement=i,this.rb=d,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return S(C,[{key:"render",value:function(){var i=this;this.elWindow=n("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=n("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(m){m.stopPropagation()}),this.elWindow.append(this.elContent);var d=n("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});d.addEventListener("click",function(m){i.hide()}),this.elWindow.append(d),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(i,d,m,_,t,r,p,l,k,x){var N=this,H=window.innerWidth,ee=window.innerHeight,ne=null,te=null;if(this.input=m!==""?document.getElementById(m):null,this.objId=d,this.field=_,this.type=t,this.items=i,w(this.elContent),this.rootParameter=p,this.rootDataType=l,this.rootFields=k,this.nextRowId=1,this.rowMap={},r&&(te=r.getSelection()),t===C.type.data){p?(console.assert(l===null&&k===null&&x===null),l=p.type,k=p.getParameterFields(),x=p.getTestData(!0)):l===re.type.map?this.dataEmptyBeforeEdit=Object.keys(x).length===0:l!==re.type.array&&l!==re.type.simpleArray||!Array.isArray(x)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=x.length===0,this.createDataTable(this.elContent,p,l,k,x);var ve=Math.round(.8*H),se=Math.round(.8*ee),Ie=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((H-ve)/2)+"px",this.elWindow.style.top=Math.round((ee-se)/2)+Ie+"px",this.elWindow.style.width=ve+"px",this.elWindow.style.height=se+"px",document.body.append(n("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{t!==C.type.parameterSet&&t!==C.type.parameterAppend||((ne=n("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",function(We){N.filterParameters(ne.value)}),this.elContent.append(ne));var Ae=n("ul");Ae.addEventListener("mousedown",function(We){We.preventDefault()});var ke,Ee=Ft(i);try{var Te=function(){var We=ke.value,Ze=n("li");if(We.separator){t!==C.type.parameterSet&&t!==C.type.parameterAppend||!We.id||Ze.setAttribute("id","parameter_group_"+We.id);var be="rbroPopupItemSeparator";We.separatorClass&&(be+=" "+We.separatorClass),Ze.setAttribute("class",be)}else t!==C.type.parameterSet&&t!==C.type.parameterAppend||!We.id||Ze.setAttribute("id","parameter_"+We.id),Ze.addEventListener("mousedown",function(qe){if(t===C.type.pattern)N.input.value=We.name,N.input.dispatchEvent(new Event("input")),N.hide();else if(t===C.type.parameterSet||t===C.type.parameterAppend){var Se="${"+(We.dataSourceName!==null?We.dataSourceName+":":"")+We.name+"}";t===C.type.parameterSet?(N.input.value=Se,N.input.dispatchEvent(new Event("input")),dt.update(N.input)):r?te&&r.insertText(te.index,Se):(function(Ce,Ke){if(document.selection)Ce.focus(),document.selection.createRange().text=Ke,Ce.focus();else if(Ce.selectionStart||Ce.selectionStart===0){var tt=Ce.selectionStart,Je=Ce.selectionEnd,ut=Ce.scrollTop;Ce.value=Ce.value.substring(0,tt)+Ke+Ce.value.substring(Je,Ce.value.length),Ce.focus(),Ce.selectionStart=tt+Ke.length,Ce.selectionEnd=tt+Ke.length,Ce.scrollTop=ut}else Ce.value+=Ke,Ce.focus()}(N.input,Se),dt.update(N.input),N.input.dispatchEvent(new Event("input"))),N.hide()}qe.preventDefault()});Ze.append(n("div",{class:"rbroPopupItemHeader"},We.name)),We.description&&We.description!==""&&Ze.append(n("div",{class:"rbroPopupItemDescription"},We.description)),Ae.append(Ze)};for(Ee.s();!(ke=Ee.n()).done;)Te()}catch(We){Ee.e(We)}finally{Ee.f()}this.elContent.append(Ae);var He=O(this.input),De=He.top;De<ee/2||De<300?De+this.input.clientHeight+300<ee&&(De+=this.input.clientHeight):De-=300,this.elWindow.style.left=He.left+"px",this.elWindow.style.top=De+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,ne!==null&&ne.focus();var Ve,Ye=Ft(this.elWindow.querySelectorAll("textarea"));try{for(Ye.s();!(Ve=Ye.n()).done;){var $e=Ve.value;dt.update($e)}}catch(We){Ye.e(We)}finally{Ye.f()}}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===C.type.data){var i,d=!0;if(this.rootParameter?i=this.getTestData(this.elContent,this.rootParameter):(i=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===re.type.map?d=this.isDataEmpty(i,this.rootFields):this.rootDataType!==re.type.array&&this.rootDataType!==re.type.simpleArray||!Array.isArray(i)||(i.length===0?d=!1:i.length===1&&(d=!this.isDataEmpty(i[0],this.rootFields))))),d){var m=this.rb.getDataObject(this.objId),_=JSON.stringify(i);if(m!==null&&m.getValue(this.field)!==_){var t=new e(this.objId,this.field,_,e.type.text,this.rb);this.rb.executeCommand(t)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),w(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(i,d){var m,_=!0,t=Ft(d);try{for(t.s();!(m=t.n()).done;){var r=m.value;if(r.name in i){var p=i[r.name];r.type===re.type.string||r.type===re.type.number||r.type===re.type.date?p!==""&&(_=!1):r.type===re.type.boolean?p&&(_=!1):r.type===re.type.image?v(p)==="object"&&"filename"in p&&p.filename!==""&&(_=!1):r.type===re.type.array||r.type===re.type.simpleArray?p.length>0&&(_=!1):r.type===re.type.map&&Object.keys(p).length>0&&(_=!1)}}}catch(l){t.e(l)}finally{t.f()}return _}},{key:"createDataTable",value:function(i,d,m,_,t){var r,p=this,l=n("div"),k=n("table"),x=n("tr"),N=n("tbody");m===re.type.array||m===re.type.simpleArray?Array.isArray(t)||(t=[]):m===re.type.map&&(t&&Object.getPrototypeOf(t)===Object.prototype||(t={}));var H=n("th");m===re.type.map&&(H.style.display="none"),x.append(H);var ee,ne=Ft(_);try{for(ne.s();!(ee=ne.n()).done;){var te=ee.value,ve=n("th",{},te.label?te.label:te.name);te.type===re.type.image&&ve.append(n("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),x.append(ve)}}catch(Ee){ne.e(Ee)}finally{ne.f()}var se=n("thead");if(se.append(x),k.append(se),m===re.type.map){var Ie=[t];this.addDataRow(N,d,m,_,Ie,0)}else{var Ae=Array.isArray(t)?t:[];if(Ae.length===0)this.addEmptyDataRow(N,d,m,_);else for(r=0;r<Ae.length;r++)this.addDataRow(N,d,m,_,Ae,r)}if(k.append(N),l.append(k),m!==re.type.map){var ke=n("div",{class:"rbroButton rbroFullWidthButton"});ke.append(n("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),ke.addEventListener("click",function(Ee){p.addEmptyDataRow(N,d,m,_)}),l.append(ke)}w(i),i.append(l)}},{key:"addEmptyDataRow",value:function(i,d,m,_){var t,r={},p=Ft(_);try{for(p.s();!(t=p.n()).done;){var l=t.value;l.type===re.type.array||l.type===re.type.simpleArray?r[l.name]=[]:l.type===re.type.map?r[l.name]={}:r[l.name]=""}}catch(x){p.e(x)}finally{p.f()}var k=[r];this.addDataRow(i,d,m,_,k,0)}},{key:"addDataRow",value:function(i,d,m,_,t,r){var p=this,l=t[r],k=n("tr");k.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:l},this.nextRowId++;var x=n("td");if(m!==re.type.map){var N=n("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});N.addEventListener("click",function(se){var Ie=se.target.parentElement.parentElement,Ae=Ie.dataset.rowId;Ie.remove();var ke=p.rowMap[Ae];t.splice(t.indexOf(ke.data),1),delete p.rowMap[Ae]}),x.append(N)}else x.style.display="none";k.append(x);var H,ee=_.length,ne=Ft(_);try{for(ne.s();!(H=ne.n()).done;){var te=H.value,ve=te.type===re.type.array||te.type===re.type.simpleArray?[]:"";l!==null&&te.name in l&&(ve=l[te.name]),this.appendColumn(k,te,ve,l,ee)}}catch(se){ne.e(se)}finally{ne.f()}i.append(k)}},{key:"appendColumn",value:function(i,d,m,_,t){var r=this,p=n("td");if(d.type===re.type.array||d.type===re.type.simpleArray||d.type===re.type.map){var l=n("div",{class:"expandableCell"}),k=n("span",{class:"rbroIcon-plus"});l.append(k);var x=n("span");if(l.append(x),l.addEventListener("click",function(Ie){var Ae=!l.classList.contains("rbroExpandedCell"),ke=i.nextElementSibling;if(ke&&ke.tagName==="TR"){var Ee=ke.querySelector("td table");if(Ee){var Te,He=Ft(i.querySelectorAll(".expandableCell"));try{for(He.s();!(Te=He.n()).done;){var De=Te.value;if(De.classList.contains("rbroExpandedCell")){De.classList.remove("rbroExpandedCell");var Ve=De.children[0],Ye=De.children[1];Ve.classList.remove("rbroIcon-minus"),Ve.classList.add("rbroIcon-plus");var $e=r.rowMap[ke.dataset.rowId];if($e.type==="table"&&($e.parentData[$e.field.name]=r.getTestData(Ee,$e.field.parameter),$e.field.type===re.type.array||$e.field.type===re.type.simpleArray)){var We=$e.field.name in _&&Array.isArray(_[$e.field.name])?_[$e.field.name].length:0;r.setTableRowCount(Ye,We)}break}}}catch(Ce){He.e(Ce)}finally{He.f()}ke.remove()}}if(Ae){var Ze=n("tr");Ze.dataset.rowId=String(r.nextRowId),r.rowMap[String(r.nextRowId)]={type:"table",field:d,parentData:_},r.nextRowId++;var be=n("td",{colspan:String(t+1)}),qe=d.parameter.getParameterFields();if(qe.length>0){var Se=_[d.name];r.createDataTable(be,d.parameter,d.parameter.type,qe,Se),Ze.append(be),i.insertAdjacentElement("afterend",Ze),l.classList.add("rbroExpandedCell"),k.classList.remove("rbroIcon-plus"),k.classList.add("rbroIcon-minus"),x.textContent=""}else d.parameter.getValue("type")===re.type.map?alert(r.rb.getLabel("parameterEditTestDataMapNoFields")):alert(r.rb.getLabel("parameterEditTestDataArrayNoFields"))}}),d.type===re.type.array||d.type===re.type.simpleArray){var N=d.name in _&&Array.isArray(_[d.name])?_[d.name].length:0;this.setTableRowCount(x,N)}p.append(l)}else if(d.type===re.type.image){var H=n("div",{class:"rbroImageFileContainer"}),ee=n("input",{type:"file"});ee.addEventListener("change",function(Ie){var Ae=Ie.target.files;Ae&&Ae[0]&&z(Ae[0],function(ke,Ee){_[d.name]={data:ke,filename:Ee},ne.classList.remove("rbroHidden"),te.textContent=Ee},r.rb)}),H.append(ee);var ne=n("div",{class:"rbroImageFile rbroHidden"}),te=n("div");ne.append(te);var ve=n("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});ve.addEventListener("click",function(Ie){ee.value="",_[d.name]={data:"",filename:""},ne.classList.add("rbroHidden"),te.textContent=""}),ne.append(ve),H.append(ne),m.filename&&(te.textContent=m.filename,ne.classList.remove("rbroHidden")),p.append(H)}else{var se;d.attributes&&d.attributes.multiLine?(console.assert(d.type===re.type.string),se=n("textarea",{rows:1}),m&&(se.value=m),dt(se)):d.attributes&&d.attributes.select?(console.assert(d.type===re.type.string||d.type===re.type.number),se=n("select"),d.attributes.select==="style"&&B(se,m||null,this.rb)):(se=n("input"),d.type===re.type.boolean?(se.setAttribute("type","checkbox"),m&&(se.checked=!0),p.classList.add("rbroDataCheckbox")):(se.setAttribute("type","text"),m&&se.setAttribute("value",m),d.type===re.type.number?function(Ie){var Ae=this;Ie.addEventListener("keyup",function(ke){var Ee=ke.target.value,Te=Ee.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),He=Ae.className,De=He?He.indexOf("decimalPlaces"):-1;if(De!==-1){De+=13;var Ve,Ye=He.indexOf(" ",De);Ve=parseInt(Ye!==-1?He.substring(De,Ye):He.substr(De),10),isNaN(Ve)||((De=Te.indexOf("."))===-1&&(De=Te.indexOf(",")),De!==-1&&Te.length-1-De>Ve&&(Te=Te.substring(0,De+Ve+1)))}Ee!==Te&&(ke.target.value=Te)})}(se):d.type===re.type.date&&se.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),se.addEventListener("focus",function(Ie){se.parentElement.classList.add("rbroHasFocus")}),se.addEventListener("blur",function(Ie){se.parentElement.classList.remove("rbroHasFocus")}),p.append(se)}i.append(p)}},{key:"getTestData",value:function(i,d){return this.getData(i,d.type,d.getParameterFields())}},{key:"getData",value:function(i,d,m){var _=[];if(d===re.type.map)_={};else if(d!==re.type.array&&d!==re.type.simpleArray)return console.assert(!1),null;var t,r=Ft(i.querySelector("tbody").children);try{for(r.s();!(t=r.n()).done;){var p=t.value,l=this.rowMap[p.dataset.rowId];if(l.type==="table"){var k=l.field.parameter;l.parentData[l.field.name]=this.getData(p,k.type,k.getParameterFields())}else{var x,N=l.data,H=p.querySelectorAll("input,textarea,select"),ee=0,ne=Ft(m);try{for(ne.s();!(x=ne.n()).done;){var te=x.value;if(te.type!==re.type.array&&te.type!==re.type.simpleArray&&te.type!==re.type.map){var ve=H[ee];te.type===re.type.boolean?N[te.name]=ve.checked:te.type!==re.type.image&&(N[te.name]=ve.value.trim()),ee++}}}catch(se){ne.e(se)}finally{ne.f()}d===re.type.array||d===re.type.simpleArray?_.push(N):d===re.type.map&&(_=N)}}}catch(se){r.e(se)}finally{r.f()}return _}},{key:"setTableRowCount",value:function(i,d){i.textContent=d===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):d===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(d))}},{key:"filterParameters",value:function(i){var d=null,m=0;if(this.items!==null){i=i.toLowerCase();var _,t=Ft(this.items);try{for(t.s();!(_=t.n()).done;){var r=_.value;r.separator?(d!==null&&(document.getElementById("parameter_group_"+d).style.display=m>0?"block":"none"),d=r.id?r.id:null,m=0):r.nameLowerCase.indexOf(i)!==-1?(document.getElementById("parameter_"+r.id).style.display="block",d!==-1&&m++):document.getElementById("parameter_"+r.id).style.display="none"}}catch(p){t.e(p)}finally{t.f()}d!==null&&(document.getElementById("parameter_group_"+d).style.display=m>0?"block":"none")}}}]),C}();function rn(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return nn(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?nn(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function nn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}vt.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Dt=function(){function C(i){J(this,C),this.rb=i,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=C.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=C.unit.mm,this.orientation=C.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=C.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=C.display.always,this.headerSizeVal=this.header?A(this.headerSize):0,this.footerSizeVal=this.footer?A(this.footerSize):0,this.patternLocale=i.getProperty("patternLocale"),this.patternCurrencySymbol=i.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=i.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);this.headerSizeVal=this.header?A(this.headerSize):0,this.footerSizeVal=this.footer?A(this.footerSize):0,this.marginLeftVal=A(this.marginLeft),this.marginTopVal=A(this.marginTop),this.marginRightVal=A(this.marginRight),this.marginBottomVal=A(this.marginBottom)}},{key:"setup",value:function(){var i=this.getPageSize();this.updatePageSize(i),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){if(this[i]=d,i==="marginLeft"||i==="marginTop"||i==="marginRight"||i==="marginBottom"?(this[i+"Val"]=A(d),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):i==="header"?this.updateHeader():i==="footer"&&this.updateFooter(),i!=="header"&&i!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?A(this.headerSize):0),i!=="footer"&&i!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?A(this.footerSize):0),i==="pageFormat"||i==="pageWidth"||i==="pageHeight"||i==="unit"||i==="orientation"||i==="contentHeight"||i==="marginTop"||i==="marginBottom"){var m=this.getPageSize();this.updatePageSize(m)}}},{key:"updatePageSize",value:function(i){this.width=i.width,this.height=i.height,this.rb.getDocument().updatePageSize(i.width,i.height);var d,m=rn(this.rb.getDocElements(!0));try{for(m.s();!(d=m.n()).done;){var _=d.value;_ instanceof Tr&&_.setWidth(i.width)}}catch(t){m.e(t)}finally{m.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var i,d,m;return this.pageFormat===C.pageFormat.A4?(this.orientation===C.orientation.portrait?(i=210,d=297):(i=297,d=210),m=C.unit.mm):this.pageFormat===C.pageFormat.A5?(this.orientation===C.orientation.portrait?(i=148,d=210):(i=210,d=148),m=C.unit.mm):this.pageFormat===C.pageFormat.letter?(this.orientation===C.orientation.portrait?(i=8.5,d=11):(i=11,d=8.5),m=C.unit.inch):(i=A(this.pageWidth),d=A(this.pageHeight),m=this.unit),m===C.unit.mm?(i=Math.round(72*i/25.4),d=Math.round(72*d/25.4)):(i=Math.round(72*i),d=Math.round(72*d)),this.contentHeight.trim()!==""&&(d=A(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:i,height:d}}},{key:"getContentSize",value:function(){var i,d=this.getPageSize();return i=this.contentHeight.trim()!==""?A(this.contentHeight):d.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:d.width-this.marginLeftVal-this.marginRightVal,height:i}}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var i,d={},m=rn(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;d[_]=this.getValue(_)}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),C}();Dt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Dt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Dt.unit={mm:"mm",inch:"inch"},Dt.orientation={portrait:"portrait",landscape:"landscape"},Dt.display={always:"always",notOnFirstPage:"not_on_first_page"};const _n={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zus\xE4tzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird f\xFCr diese Einstellung nicht unterst\xFCtzt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageCountExceeded:"Es sind nur bis zu ${count} Bilder erlaubt",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementLoadImageWebPErrorMsg:"Bild laden fehlgeschlagen, aktueller Browser ben\xF6tigt",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage f\xFCr Regel {info} ausgew\xE4hlt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgExternalImageNotAllowed:"Server unterst\xFCtzt das Laden von Bildern von externen Resourcen nicht",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck ben\xF6tigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidRichTextFontNotAvailable:"Der Rich Text enth\xE4lt eine Schrift, welche am Server nicht vorhanden ist",errorMsgInvalidRichTextParameter:"Der Rich Text enth\xE4lt ung\xFCltige Tags",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingGlyph:"Text enth\xE4lt Zeichen, die in der ausgew\xE4hlten Schrift nicht verf\xFCgbar sind",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter ${info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Datenfelder f\xFCr diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Datenfelder f\xFCr diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRichTextInfo:'Rich Text kann Html-Tags zur Formatierung enthalten. Siehe <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">erlaubte Tags</a>',parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"${name} Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzuf\xFCgen",select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageCountExceeded:"Reached maximum number of ${count} allowed images",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementLoadImageWebPErrorMsg:"Loading image failed, upgrade browser to latest version",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetTextWrap:"Text wrap",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgExternalImageNotAllowed:"Server does not support loading images from external resources",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidRichTextFontNotAvailable:"The rich text contains a font which is not available on server",errorMsgInvalidRichTextParameter:"The rich text contains invalid tags",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingGlyph:"Text contains characters that are not available in the selected font",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter ${info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No data fields defined for this list",parameterEditTestDataMapNoFields:"No data fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRichTextInfo:'Rich text can contain html tags for formatting. See <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">allowed tags</a>',parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"${name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function dr(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return on(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?on(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function on(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Cr=function(){function C(i,d,m,_){J(this,C),this.idPrefix=i,this.dataBaseClass=d,this.panelId=i+"_panel",this.rootElement=m,this.rb=_,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return S(C,[{key:"render",value:function(i){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(i,d,m){var _="".concat(this.idPrefix,"_").concat(i.fieldId);m?document.getElementById(_).classList.add("rbroDifferentValues"):document.getElementById(_).classList.remove("rbroDifferentValues");var t=document.getElementById(_);if(i.type===e.type.text)m?(t.value="",t.setAttribute("placeholder",this.differentValuesLabel)):(t.value=d,t.setAttribute("placeholder",""));else if(i.type===e.type.richText)this.quill&&(m||!d?this.quill.setContents({},"silent"):this.quill.setContents(d,"silent"));else if(i.type===e.type.select)t.value=d;else if(i.type===e.type.checkbox)t.checked=!m&&d;else if(i.type===e.type.button)m?t.classList.remove("rbroButtonActive"):d?t.classList.add("rbroButtonActive"):t.classList.remove("rbroButtonActive");else if(i.type===e.type.buttonGroup){var r,p=dr(t.querySelectorAll("button"));try{for(p.s();!(r=p.n()).done;)r.value.classList.remove("rbroButtonActive")}catch(k){p.e(k)}finally{p.f()}m||t.querySelector('button[value="'.concat(d,'"]')).classList.add("rbroButtonActive")}else if(i.type===e.type.color){var l=document.getElementById(_+"_select");m?i.allowEmpty?(t.value="",l.style.color="",l.classList.add("rbroTransparentColorSelect")):(t.value="#000000",l.style.color="#000000",l.classList.remove("rbroTransparentColorSelect")):(t.value=d,l.style.color=d,d?l.classList.remove("rbroTransparentColorSelect"):l.classList.add("rbroTransparentColorSelect"))}else i.type===e.type.filename&&(m?(t.textContent=this.differentFilesLabel,document.getElementById(_+"_container").classList.remove("rbroHidden")):(t.textContent=d,d===""?document.getElementById(_+"_container").classList.add("rbroHidden"):document.getElementById(_+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(i){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(i,d,m){i instanceof this.dataBaseClass&&this.rb.isSelectedObject(i.id)&&d===h.operation.change&&this.updateDisplay(m)}},{key:"updateErrors",value:function(){var i,d=document.getElementById(this.panelId),m=d.querySelectorAll(".rbroFormRow"),_=d.querySelectorAll(".rbroErrorMessage"),t=dr(m);try{for(t.s();!(i=t.n()).done;)i.value.classList.remove("rbroError")}catch(se){t.e(se)}finally{t.f()}var r,p=dr(_);try{for(p.s();!(r=p.n()).done;)r.value.textContent=""}catch(se){p.e(se)}finally{p.f()}var l=this.rb.getSelectedObject();if(l!==null){var k,x=dr(l.getErrors());try{for(x.s();!(k=x.n()).done;){var N=k.value,H=this.propertyDescriptors[N.field];if(H){if("section"in H){var ee=H.section;document.getElementById("".concat(this.idPrefix,"_").concat(ee,"_header")).classList.add("rbroError")}var ne=this.rb.getLabel(N.msg_key);N.info&&(ne=ne.replaceAll("${info}",'<span class="rbroErrorMessageInfo">'+N.info.replaceAll("<","&lt;").replaceAll(">","&gt;")+"</span>"));var te=this.getRowId(H);document.getElementById(te).classList.add("rbroError");var ve;ve="errorMsgId"in H?H.errorMsgId:"".concat(this.idPrefix,"_").concat(H.fieldId,"_error"),document.getElementById(ve).innerHTML=ne}}}catch(se){x.e(se)}finally{x.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var i=this.rb.getSelectedObject();if(i!==null){var d,m=dr(i.getErrors());try{for(m.s();!(d=m.n()).done;){var _=d.value,t=this.propertyDescriptors[_.field];if(t&&"section"in t){var r=t.section,p=document.getElementById("".concat(this.idPrefix,"_").concat(r,"_header"));p.classList.contains("rbroPanelSectionHeaderOpen")||p.dispatchEvent(new Event("click"))}}}catch(ve){m.e(ve)}finally{m.f()}var l,k="",x=-1,N=dr(i.getErrors());try{for(N.s();!(l=N.n()).done;){var H=l.value,ee=this.propertyDescriptors[H.field];if(ee){var ne=this.getRowId(ee),te=O(document.getElementById(ne)).top;(k===""||te<x)&&(k=ne,x=te)}}}catch(ve){N.e(ve)}finally{N.f()}k!==""&&document.getElementById(k).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(i){return"rowId"in i?i.rowId:"".concat(this.idPrefix,"_").concat(i.fieldId,"_row")}}]),C}();function an(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return ln(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?ln(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function ln(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var _r=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return J(this,_),(p=m.call(this,"rbro_style",$,t,r)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:e.type.select,fieldId:"line_spacing"},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:e.type.text,fieldId:"border_width"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},p}return S(_,[{key:"render",value:function(){var t=this,r=n("div",{id:"rbro_style_panel",class:"rbroHidden"}),p=n("div",{class:"rbroFormRow"});I(p,this.rb.getLabel("styleName"),"rbro_style_name");var l=n("div",{class:"rbroFormField"}),k=n("input",{id:"rbro_style_name",autocomplete:"off"});k.addEventListener("input",function(x){var N=t.rb.getSelectedObject();N!==null&&(k.value.trim()!==""?t.rb.executeCommand(new e(N.getId(),"name",k.value,e.type.text,t.rb)):k.value=N.getName())}),l.append(k),p.append(l),r.append(p),_.renderStyle(r,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(r)}},{key:"destroy",value:function(){_.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(t){var r=this.rb.getSelectedObject();if(r!==null&&r instanceof $){for(var p in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(p)&&(t===null||p===t)){var l=this.propertyDescriptors[p],k=r.getValue(p);a(b(_.prototype),"setValue",this).call(this,l,k,!1)}}}}],[{key:"renderStyle",value:function(t,r,p,l,k,x){var N,H;I(N=n("div",{id:"rbro_".concat(r,"textstyle_row"),class:"rbroFormRow"}),x.getLabel("styleTextStyle")),H=n("div",{class:"rbroFormField"});var ee=n("div",{id:"rbro_".concat(r,"textstyle")}),ne=n("button",{id:"rbro_".concat(r,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:x.getLabel("styleBold")});ne.addEventListener("click",function(et){for(var de=!ne.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"bold"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"bold"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("bold",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(ne);var te=n("button",{id:"rbro_".concat(r,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:x.getLabel("styleItalic")});te.addEventListener("click",function(et){for(var de=!te.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"italic"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"italic"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("italic",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(te);var ve=n("button",{id:"rbro_".concat(r,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:x.getLabel("styleUnderline")});ve.addEventListener("click",function(et){for(var de=!ve.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"underline"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"underline"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("underline",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(ve);var se=n("button",{id:"rbro_".concat(r,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:x.getLabel("styleStrikethrough")});se.addEventListener("click",function(et){for(var de=!se.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"strikethrough"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"strikethrough"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("strikethrough",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(se),H.append(ee),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"alignment_row"),class:"rbroFormRow"}),x.getLabel("styleAlignment")),H=n("div",{class:"rbroFormField"});var Ie=n("div",{id:"rbro_".concat(r,"halignment")}),Ae=n("button",{id:"rbro_".concat(r,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:x.getLabel("styleHAlignmentLeft")});Ae.addEventListener("click",function(et){for(var de=$.alignment.left,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"horizontalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"horizontalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"horizontalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("horizontalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),Ie.append(Ae);var ke=n("button",{id:"rbro_".concat(r,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:x.getLabel("styleHAlignmentCenter")});ke.addEventListener("click",function(et){for(var de=$.alignment.center,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"horizontalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"horizontalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"horizontalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("horizontalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),Ie.append(ke);var Ee=n("button",{id:"rbro_".concat(r,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:x.getLabel("styleHAlignmentRight")});Ee.addEventListener("click",function(et){for(var de=$.alignment.right,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"horizontalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"horizontalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"horizontalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("horizontalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),Ie.append(Ee);var Te=n("button",{id:"rbro_".concat(r,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:x.getLabel("styleHAlignmentJustify")});Te.addEventListener("click",function(et){for(var de=$.alignment.justify,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"horizontalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"horizontalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"horizontalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("horizontalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),Ie.append(Te),H.append(Ie);var He=n("div",{id:"rbro_".concat(r,"valignment")}),De=n("button",{id:"rbro_".concat(r,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:x.getLabel("styleVAlignmentTop")});De.addEventListener("click",function(et){for(var de=$.alignment.top,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"verticalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"verticalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"verticalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("verticalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),He.append(De);var Ve=n("button",{id:"rbro_".concat(r,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:x.getLabel("styleVAlignmentMiddle")});Ve.addEventListener("click",function(et){for(var de=$.alignment.middle,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"verticalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"verticalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"verticalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("verticalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),He.append(Ve);var Ye=n("button",{id:"rbro_".concat(r,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:x.getLabel("styleVAlignmentBottom")});Ye.addEventListener("click",function(et){for(var de=$.alignment.bottom,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"verticalAlignment"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"verticalAlignment"),de,e.type.buttonGroup,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"verticalAlignment"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("verticalAlignment",de,e.type.buttonGroup,W)}W.isEmpty()||x.executeCommand(W)}}),He.append(Ye),H.append(He),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"text_color_row"),class:"rbroFormRow"}),x.getLabel("styleTextColor"),"rbro_".concat(r,"text_color")),H=n("div",{class:"rbroFormField"});var $e=n("div",{class:"rbroColorPickerContainer"}),We=n("input",{id:"rbro_".concat(r,"text_color"),autocomplete:"off"});We.addEventListener("change",function(et){var de=We.value;if(G(de)){for(var Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"textColor"),de,e.type.color,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"textColor"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("textColor",de,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),$e.append(We),k[p+"textColor"]=Z($e,We,!1,x),H.append($e),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"background_color_row"),class:"rbroFormRow"}),x.getLabel("styleBackgroundColor"),"rbro_".concat(r,"background_color")),H=n("div",{class:"rbroFormField"});var Ze=n("div",{class:"rbroColorPickerContainer"}),be=n("input",{id:"rbro_".concat(r,"background_color"),autocomplete:"off"});if(be.addEventListener("change",function(et){var de=be.value;if(G(de)){for(var Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"backgroundColor"),de,e.type.color,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"backgroundColor"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("backgroundColor",de,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),Ze.append(be),k[p+"backgroundColor"]=Z(Ze,be,!0,x),H.append(Ze),N.append(H),t.append(N),l){I(N=n("div",{id:"rbro_".concat(r,"alternate_background_color_row"),class:"rbroFormRow"}),x.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(r,"alternate_background_color")),H=n("div",{class:"rbroFormField"});var qe=n("div",{class:"rbroColorPickerContainer"}),Se=n("input",{id:"rbro_".concat(r,"alternate_background_color")});Se.addEventListener("change",function(et){var de=Se.value;if(G(de)){for(var Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"alternateBackgroundColor"),de,e.type.color,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"alternateBackgroundColor"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("alternateBackgroundColor",de,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),qe.append(Se),k[p+"alternateBackgroundColor"]=Z(qe,Se,!0,x),H.append(qe),N.append(H),t.append(N)}I(N=n("div",{id:"rbro_".concat(r,"font_row"),class:"rbroFormRow"}),x.getLabel("styleFont"),"rbro_".concat(r,"font")),H=n("div",{class:"rbroFormField"});var Ce,Ke=n("div",{class:"rbroSplit rbroSelectFont"}),tt=n("select",{id:"rbro_".concat(r,"font")}),Je=an(x.getFonts());try{for(Je.s();!(Ce=Je.n()).done;){var ut=Ce.value;tt.append(n("option",{value:ut.value},ut.name))}}catch(et){Je.e(et)}finally{Je.f()}tt.addEventListener("change",function(et){for(var de=tt.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"font"),de,e.type.select,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"font"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("font",de,e.type.select,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ke.append(tt);var at,nt=n("select",{id:"rbro_".concat(r,"font_size")}),st=an(x.getProperty("fontSizes"));try{for(st.s();!(at=st.n()).done;){var rt=at.value;nt.append(n("option",{value:rt},String(rt)))}}catch(et){st.e(et)}finally{st.f()}nt.addEventListener("change",function(et){for(var de=nt.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"fontSize"),de,e.type.select,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"fontSize"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("fontSize",de,e.type.select,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ke.append(nt),Ke.append(n("span",{},x.getLabel("styleFontSizeUnit"))),H.append(Ke),H.append(n("div",{id:"rbro_".concat(r,"font_error"),class:"rbroErrorMessage"})),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"line_spacing_row"),class:"rbroFormRow"}),x.getLabel("styleLineSpacing"),"rbro_".concat(r,"line_spacing")),H=n("div",{class:"rbroFormField"});for(var Qe=n("select",{id:"rbro_".concat(r,"line_spacing")}),wt=0,mt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];wt<mt.length;wt++){var Tt=mt[wt];Qe.append(n("option",{value:Tt},Tt))}Qe.addEventListener("change",function(et){for(var de=Qe.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"lineSpacing"),de,e.type.select,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"lineSpacing"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("lineSpacing",de,e.type.select,Q),Q.isEmpty()||x.executeCommand(Q)}}),H.append(Qe),N.append(H),t.append(N);var Lt=n("div",{id:"rbro_".concat(r,"border_div")});I(N=n("div",{id:"rbro_".concat(r,"border_row"),class:"rbroFormRow"}),x.getLabel("styleBorder")),H=n("div",{class:"rbroFormField"});var kt=n("div",{id:"rbro_".concat(r,"border")}),Vt=n("button",{id:"rbro_".concat(r,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(p,"borderAll"),title:x.getLabel("styleBorderAll")});Vt.addEventListener("click",function(et){for(var de=!Vt.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"borderLeft"),de,e.type.button,x)),Q.addCommand(new e(W.getId(),"".concat(p,"borderTop"),de,e.type.button,x)),Q.addCommand(new e(W.getId(),"".concat(p,"borderRight"),de,e.type.button,x)),Q.addCommand(new e(W.getId(),"".concat(p,"borderBottom"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"borderLeft"))===de&&W.getValue("".concat(p,"borderTop"))===de&&W.getValue("".concat(p,"borderRight"))===de&&W.getValue("".concat(p,"borderBottom"))===de||Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&(W.addCommandsForChangedProperty("borderLeft",de,e.type.button,Q),W.addCommandsForChangedProperty("borderTop",de,e.type.button,Q),W.addCommandsForChangedProperty("borderRight",de,e.type.button,Q),W.addCommandsForChangedProperty("borderBottom",de,e.type.button,Q))}Q.isEmpty()||x.executeCommand(Q)}),kt.append(Vt);var qt=n("button",{id:"rbro_".concat(r,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(p,"borderLeft"),title:x.getLabel("orientationLeft")});qt.addEventListener("click",function(et){for(var de=!qt.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"borderLeft"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"borderLeft"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("borderLeft",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),kt.append(qt);var $t=n("button",{id:"rbro_".concat(r,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(p,"borderTop"),title:x.getLabel("orientationTop")});$t.addEventListener("click",function(et){for(var de=!$t.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"borderTop"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"borderTop"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("borderTop",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),kt.append($t);var zt=n("button",{id:"rbro_".concat(r,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(p,"borderRight"),title:x.getLabel("orientationRight")});zt.addEventListener("click",function(et){for(var de=!zt.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"borderRight"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"borderRight"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("borderRight",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),kt.append(zt);var Ht=n("button",{id:"rbro_".concat(r,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(p,"borderBottom"),title:x.getLabel("orientationBottom")});if(Ht.addEventListener("click",function(et){for(var de=!Ht.classList.contains("rbroButtonActive"),Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"borderBottom"),de,e.type.button,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"borderBottom"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("borderBottom",de,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),kt.append(Ht),H.append(kt),N.append(H),Lt.append(N),l){I(N=n("div",{id:"rbro_".concat(r,"table_border_row"),class:"rbroFormRow"}),x.getLabel("styleBorder")),H=n("div",{class:"rbroFormField"});var It=n("div",{id:"rbro_".concat(r,"table_border")}),jt=n("button",{id:"rbro_".concat(r,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(p,"grid"),title:x.getLabel("docElementBorderGrid")});jt.addEventListener("click",function(et){for(var de=Qt.border.grid,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"border"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"border"),de,e.type.buttonGroup,x))}W.isEmpty()||x.executeCommand(W)}}),It.append(jt);var Ct=n("button",{id:"rbro_".concat(r,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(p,"frame_row"),title:x.getLabel("docElementBorderFrameRow")});Ct.addEventListener("click",function(et){for(var de=Qt.border.frameRow,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"border"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"border"),de,e.type.buttonGroup,x))}W.isEmpty()||x.executeCommand(W)}}),It.append(Ct);var Kt=n("button",{id:"rbro_".concat(r,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(p,"frame"),title:x.getLabel("docElementBorderFrame")});Kt.addEventListener("click",function(et){for(var de=Qt.border.frame,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"border"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"border"),de,e.type.buttonGroup,x))}W.isEmpty()||x.executeCommand(W)}}),It.append(Kt);var pt=n("button",{id:"rbro_".concat(r,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(p,"row"),title:x.getLabel("docElementBorderRow")});pt.addEventListener("click",function(et){for(var de=Qt.border.row,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"border"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"border"),de,e.type.buttonGroup,x))}W.isEmpty()||x.executeCommand(W)}}),It.append(pt);var xt=n("button",{id:"rbro_".concat(r,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(p,"none"),title:x.getLabel("docElementBorderNone")});xt.addEventListener("click",function(et){for(var de=Qt.border.none,Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"border"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"border"),de,e.type.buttonGroup,x))}W.isEmpty()||x.executeCommand(W)}}),It.append(xt),H.append(It),N.append(H),Lt.append(N)}I(N=n("div",{id:"rbro_".concat(r,"border_color_row"),class:"rbroFormRow"}),x.getLabel("styleBorderColor"),"rbro_".concat(r,"border_color")),H=n("div",{class:"rbroFormField"});var Rt=n("div",{class:"rbroColorPickerContainer"}),Ut=n("input",{id:"rbro_".concat(r,"border_color"),autocomplete:"off"});Ut.addEventListener("change",function(et){var de=Ut.value;if(G(de)){for(var Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"borderColor"),de,e.type.color,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"borderColor"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("borderColor",de,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),Rt.append(Ut),k[p+"borderColor"]=Z(Rt,Ut,!1,x),H.append(Rt),N.append(H),Lt.append(N),I(N=n("div",{id:"rbro_".concat(r,"border_width_row"),class:"rbroFormRow"}),x.getLabel("styleBorderWidth"),"rbro_".concat(r,"border_width")),H=n("div",{class:"rbroFormField"});var Bt=n("input",{id:"rbro_".concat(r,"border_width"),type:"number",step:"0.5",autocomplete:"off"});Bt.addEventListener("input",function(et){var de=Bt.value;de!==""&&(de=P(de,.5,99)),de!==Bt.value&&(Bt.value=de);for(var Q=x.getSelectedObjects(),xe=!1,he=Q.length-1;he>=0;he--)if(Q[he].getValue("".concat(p,"borderWidth"))!==de){xe=!0;break}if(xe){for(var W=new oe("Set value",x),Ue=Q.length-1;Ue>=0;Ue--){var Pe=Q[Ue];W.addSelection(Pe.getId()),W.addCommand(new e(Pe.getId(),"".concat(p,"borderWidth"),de,e.type.text,x)),Pe instanceof _e&&Pe.getValue("".concat(p,"styleId"))!==""?Pe.getValue("".concat(p,"borderWidth"))!==de&&W.addCommand(new e(Pe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Pe instanceof $&&Pe.addCommandsForChangedProperty("borderWidth",de,e.type.text,W)}W.isEmpty()||x.executeCommand(W)}}),H.append(Bt),N.append(H),Lt.append(N),t.append(Lt),I(N=n("div",{id:"rbro_".concat(r,"padding_row"),class:"rbroFormRow"}),x.getLabel("stylePadding"),"rbro_".concat(r,"padding")),H=n("div",{class:"rbroFormField rbroSmallInput"});var yt=n("div",{class:"rbroColumnCenter"}),or=n("input",{id:"rbro_".concat(r,"padding_top"),placeholder:x.getLabel("orientationTop"),type:"number",autocomplete:"off"});or.addEventListener("input",function(et){for(var de=or.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"paddingTop"),de,e.type.text,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"paddingTop"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("paddingTop",de,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),yt.append(or),H.append(yt);var ar=n("div",{class:"rbroSplit"}),er=n("input",{id:"rbro_".concat(r,"padding_left"),placeholder:x.getLabel("orientationLeft"),type:"number",autocomplete:"off"});er.addEventListener("input",function(et){for(var de=er.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"paddingLeft"),de,e.type.text,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"paddingLeft"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("paddingLeft",de,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),ar.append(er);var tr=n("input",{id:"rbro_".concat(r,"padding_right"),placeholder:x.getLabel("orientationRight"),type:"number",autocomplete:"off"});tr.addEventListener("input",function(et){for(var de=tr.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"paddingRight"),de,e.type.text,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"paddingRight"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("paddingRight",de,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),ar.append(tr),H.append(ar);var hr=n("div",{class:"rbroColumnCenter"}),rr=n("input",{id:"rbro_".concat(r,"padding_bottom"),placeholder:x.getLabel("orientationBottom"),type:"number",autocomplete:"off"});rr.addEventListener("input",function(et){for(var de=rr.value,Q=new oe("Set value",x),xe=x.getSelectedObjects(),he=xe.length-1;he>=0;he--){var W=xe[he];Q.addSelection(W.getId()),Q.addCommand(new e(W.getId(),"".concat(p,"paddingBottom"),de,e.type.text,x)),W instanceof _e&&W.getValue("".concat(p,"styleId"))!==""?W.getValue("".concat(p,"paddingBottom"))!==de&&Q.addCommand(new e(W.getId(),"".concat(p,"styleId"),"",e.type.select,x)):W instanceof $&&W.addCommandsForChangedProperty("paddingBottom",de,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),hr.append(rr),H.append(hr),N.append(H),t.append(N)}},{key:"destroyStyle",value:function(t,r){r[t+"textColor"].destroy(),r[t+"backgroundColor"].destroy(),t+"alternateBackgroundColor"in r&&r[t+"alternateBackgroundColor"].destroy(),r[t+"borderColor"].destroy()}}]),_}(Cr),wn=lt(6095),pr=lt.n(wn),En=lt(4175),sn=lt.n(En);function At(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return un(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?un(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function un(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var In=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;for(var l in J(this,_),(p=m.call(this,"rbro_doc_element",_e,t,r)).propertyDescriptors={label:{type:e.type.text,fieldId:"label"},content:{type:e.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:e.type.checkbox,fieldId:"rich_text"},richTextContent:{type:e.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:e.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:e.type.text,fieldId:"data_source"},xReadOnly:{type:e.type.text,fieldId:"x_read_only"},x:{type:e.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:e.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:e.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"type != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:e.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:e.type.text,fieldId:"colspan"},format:{type:e.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:e.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:e.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:e.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:e.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:e.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:e.type.text,fieldId:"source"},image:{type:e.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:e.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:e.type.text,fieldId:"columns"},header:{type:e.type.checkbox,fieldId:"header"},contentRows:{type:e.type.text,fieldId:"content_rows"},footer:{type:e.type.checkbox,fieldId:"footer"},color:{type:e.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:e.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:e.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:e.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:e.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:e.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:e.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:e.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:e.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:e.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:e.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:e.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:e.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:e.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:e.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:e.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:e.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:e.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:e.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:e.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:e.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:e.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:e.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:e.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:e.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:e.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:e.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:e.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:e.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:e.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:e.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:e.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:e.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:e.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:e.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:e.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:e.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:e.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:e.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:e.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:e.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:e.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:e.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_textWrap:{type:e.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},r.getProperty("showPlusFeatures")||(delete p.propertyDescriptors.richText,delete p.propertyDescriptors.richTextContent),p.visibleIfFields=[],p.propertyDescriptors)if(p.propertyDescriptors.hasOwnProperty(l)){var k=p.propertyDescriptors[l];if("visibleIf"in k){var x,N=At(V(k.visibleIf,null));try{for(N.s();!(x=N.n()).done;){var H=x.value;H.type==="field"&&("visibleIfFields"in k?k.visibleIfFields.includes(H.value)||k.visibleIfFields.push(H.value):k.visibleIfFields=[H.value],p.visibleIfFields.includes(H.value)||p.visibleIfFields.push(H.value))}}catch(ee){N.e(ee)}finally{N.f()}}}return p}return S(_,[{key:"render",value:function(){var t,r,p,l=this,k=n("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),r=n("div",{class:"rbroFormField"});var x=n("input",{id:"rbro_doc_element_label",autocomplete:"off"});x.addEventListener("input",function(Me){for(var ue=x.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"label",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(x),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),r=n("div",{class:"rbroFormField"});var N=n("div",{class:"rbroSplit rbroSelector"}),H=n("textarea",{id:"rbro_doc_element_data_source",rows:1});H.addEventListener("input",function(Me){for(var ue=H.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"dataSource",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),dt(H),N.append(H),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,[re.type.array]),null,"rbro_doc_element_data_source","dataSource",vt.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var ee=n("textarea",{id:"rbro_doc_element_content",rows:1});if(ee.addEventListener("input",function(Me){for(var ue=ee.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"content",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),ee.addEventListener("blur",function(Me){l.rb.getPopupWindow().hide()}),dt(ee),N.append(ee),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,null),null,"rbro_doc_element_content","content",vt.type.parameterAppend)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),this.rb.getProperty("showPlusFeatures")){I(t=n("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),r=n("div",{class:"rbroFormField"});var ne=n("label",{class:"switch-light switch-material"}),te=n("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});te.addEventListener("change",function(Me){for(var ue=te.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"richText",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),ne.append(te);var ve=n("span");if(ve.append(n("span")),ve.append(n("span")),ve.append(n("a")),ne.append(ve),r.append(ne),r.append(n("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var se=n("div",{class:"rbroInfo"});se.innerHTML=this.rb.getLabel("plusFeatureInfo"),r.append(se)}t.append(r),k.append(t),t=n("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var Ie,Ae=this.rb.getProperty("colors"),ke=n("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),Ee=n("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),Te=At(Ae);try{for(Te.s();!(Ie=Te.n()).done;){var He=Ie.value;ke.append(n("option",{value:He},He)),Ee.append(n("option",{value:He},He))}}catch(Me){Te.e(Me)}finally{Te.f()}ke.append(n("option",{value:"clear-color"})),Ee.append(n("option",{value:"clear-color"}));var De,Ve=n("select",{class:"ql-font"}),Ye=this.rb.getProperty("defaultFont"),$e=At(this.rb.getFonts());try{for($e.s();!(De=$e.n()).done;){var We=De.value,Ze={value:We.value};We.value===Ye&&(Ze.selected="selected"),Ve.append(n("option",Ze,We.name))}}catch(Me){$e.e(Me)}finally{$e.f()}var be,qe=n("select",{class:"ql-size"}),Se=At(this.rb.getProperty("fontSizes"));try{for(Se.s();!(be=Se.n()).done;){var Ce=be.value,Ke={value:Ce+"px"};Ce===12&&(Ke.selected="selected"),qe.append(n("option",Ke,Ce+"pt"))}}catch(Me){Se.e(Me)}finally{Se.f()}var tt=n("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),Je=n("span",{class:"ql-formats"});Je.append(n("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),Je.append(n("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),Je.append(n("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),Je.append(n("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),tt.append(Je),(Je=n("span",{class:"ql-formats"})).append(n("button",{class:"ql-link"})),tt.append(Je),(Je=n("span",{class:"ql-formats"})).append(n("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),tt.append(Je),(Je=n("span",{class:"ql-formats"})).append(ke),Je.append(Ee),tt.append(Je),tt.append(Ve),tt.append(qe),tt.append(n("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),t.append(tt);var ut=n("div",{id:"rbro_doc_element_rich_text_content"});t.append(ut),t.append(n("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),k.append(t)}I(t=n("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),r=n("div",{class:"rbroFormField"});var at=n("input",{id:"rbro_doc_element_eval",type:"checkbox"});at.addEventListener("change",function(Me){for(var ue=new oe("Set value",l.rb),Y=l.rb.getSelectedObjects(),ye=at.checked,ae=Y.length-1;ae>=0;ae--){var ge=Y[ae];ue.addSelection(ge.getId()),ue.addCommand(new e(ge.getId(),"eval",ye,e.type.checkbox,l.rb))}ue.isEmpty()||l.rb.executeCommand(ue)}),r.append(at),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),r=n("div",{class:"rbroFormField"});var nt=n("select",{id:"rbro_doc_element_format"});nt.append(n("option",{value:"CODE39"},"CODE39")),nt.append(n("option",{value:"CODE128"},"CODE128")),nt.append(n("option",{value:"EAN8"},"EAN-8")),nt.append(n("option",{value:"EAN13"},"EAN-13")),nt.append(n("option",{value:"UPC"},"UPC")),nt.append(n("option",{value:"QRCode"},"QR Code")),nt.addEventListener("change",function(Me){for(var ue=nt.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"format",ue,e.type.select,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(nt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),r=n("div",{class:"rbroFormField"});var st=n("input",{id:"rbro_doc_element_display_value",type:"checkbox"});st.addEventListener("change",function(Me){for(var ue=st.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"displayValue",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(st),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),r=n("div",{class:"rbroFormField"});var rt=n("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});rt.addEventListener("input",function(Me){var ue=rt.value;ue!==""&&(ue=P(ue,.3,3)),ue!==rt.value&&(rt.value=ue);for(var Y=l.rb.getSelectedObjects(),ye=!1,ae=Y.length-1;ae>=0;ae--)if(Y[ae].getValue("barWidth")!==ue){ye=!0;break}if(ye){for(var ge=new oe("Set value",l.rb),ct=Y.length-1;ct>=0;ct--){var ht=Y[ct];ge.addSelection(ht.getId()),ge.addCommand(new e(ht.getId(),"barWidth",ue,e.type.text,l.rb))}ge.isEmpty()||l.rb.executeCommand(ge)}}),r.append(rt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),r=n("div",{class:"rbroFormField"});var Qe=n("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});Qe.addEventListener("change",function(Me){for(var ue=Qe.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"guardBar",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Qe),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),r=n("div",{class:"rbroFormField"});var wt=n("input",{id:"rbro_doc_element_rotate",type:"checkbox"});wt.addEventListener("change",function(Me){for(var ue=wt.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"rotate",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(wt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),r=n("div",{class:"rbroFormField"});var mt=n("select",{id:"rbro_doc_element_error_correction_level"});mt.append(n("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),mt.append(n("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),mt.append(n("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),mt.append(n("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),mt.addEventListener("change",function(Me){for(var ue=mt.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"errorCorrectionLevel",ue,e.type.select,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(mt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Tt=n("textarea",{id:"rbro_doc_element_source",rows:1});Tt.addEventListener("input",function(Me){for(var ue=Tt.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"source",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),dt(Tt),N.append(Tt),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,[re.type.image,re.type.string]),null,"rbro_doc_element_source","source",vt.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),r=n("div",{class:"rbroFormField"});var Lt=n("input",{id:"rbro_doc_element_image",type:"file"});Lt.addEventListener("change",function(Me){var ue=l.rb,Y=Me.target.files;Y&&Y[0]&&z(Y[0],function(ye,ae){for(var ge=new oe("Load image",ue),ct=ue.getSelectedObjects(),ht=ct.length-1;ht>=0;ht--){var Nt=ct[ht];ge.addSelection(Nt.getId()),ge.addCommand(new e(Nt.getId(),"image",ye,e.type.file,ue)),ge.addCommand(new e(Nt.getId(),"imageFilename",ae,e.type.filename,ue))}ge.isEmpty()||ue.executeCommand(ge)},l.rb)}),r.append(Lt);var kt=n("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});kt.append(n("div",{id:"rbro_doc_element_image_filename"}));var Vt=n("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Vt.addEventListener("click",function(Me){Lt.value="";for(var ue=new oe("Clear image",l.rb),Y=l.rb.getSelectedObjects(),ye=Y.length-1;ye>=0;ye--){var ae=Y[ye];ue.addSelection(ae.getId()),ue.addCommand(new e(ae.getId(),"image","",e.type.file,l.rb)),ue.addCommand(new e(ae.getId(),"imageFilename","",e.type.filename,l.rb))}ue.isEmpty()||l.rb.executeCommand(ue)}),kt.append(Vt),r.append(kt),r.append(n("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),r=n("div",{class:"rbroFormField"});var qt=n("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});r.append(qt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit"});var $t=n("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});$t.addEventListener("input",function(Me){for(var ue=$t.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"x",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),N.append($t);var zt=n("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});zt.addEventListener("input",function(Me){for(var ue=zt.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"y",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),N.append(zt),r.append(N),r.append(n("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit"});var Ht=n("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Ht.addEventListener("input",function(Me){for(var ue=Ht.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"width",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),N.append(Ht);var It=n("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});It.addEventListener("input",function(Me){for(var ue=It.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"height",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),N.append(It),r.append(N),r.append(n("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),r=n("div",{class:"rbroFormField"});var jt=n("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});jt.addEventListener("change",function(Me){var ue=jt.value.trim();ue!==""&&(ue=P(ue,1,9)),ue!==jt.value&&(jt.value=ue);for(var Y=l.rb.getSelectedObjects(),ye=!1,ae=Y.length-1;ae>=0;ae--)if(Y[ae].getValue("colspan")!==ue){ye=!0;break}if(ye){for(var ge=new oe("Set value",l.rb),ct=Y.length-1;ct>=0;ct--){var ht=Y[ct];ge.addSelection(ht.getId()),ge.addCommand(new e(ht.getId(),"colspan",ue,e.type.text,l.rb))}ge.isEmpty()||l.rb.executeCommand(ge)}}),r.append(jt),r.append(n("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),r=n("div",{class:"rbroFormField"});var Ct=n("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});Ct.addEventListener("change",function(Me){var ue=P(Ct.value,1,99);ue!==Ct.value&&(Ct.value=ue);for(var Y=A(ue),ye=l.rb.getSelectedObjects(),ae=!1,ge=!0,ct=ye.length-1;ct>=0;ct--){var ht=ye[ct];ht.getValue("columns")!==ue&&(ae=!0),ht.hasEnoughAvailableSpace(Y)||(ge=!1)}if(ge||ye.length!==1||(Ct.value=ye[0].getValue("columns")),ae&&ge){for(var Nt=new oe("Set value",l.rb),Gr=ye.length-1;Gr>=0;Gr--){var yn=ye[Gr];Nt.addSelection(yn.getId()),yn.addCommandsForChangedColumns(Y,Nt)}Nt.isEmpty()||l.rb.executeCommand(Nt)}}),r.append(Ct),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),r=n("div",{class:"rbroFormField"});var Kt=n("label",{class:"switch-light switch-material"}),pt=n("input",{id:"rbro_doc_element_header",type:"checkbox"});pt.addEventListener("change",function(Me){for(var ue=pt.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"header",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),Kt.append(pt);var xt=n("span");xt.append(n("span")),xt.append(n("span")),xt.append(n("a")),Kt.append(xt),r.append(Kt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),r=n("div",{class:"rbroFormField"});var Rt=n("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});Rt.addEventListener("change",function(Me){var ue=P(Rt.value,1,99),Y=A(ue);ue!==Rt.value&&(Rt.value=ue);for(var ye=l.rb.getSelectedObjects(),ae=!1,ge=ye.length-1;ge>=0;ge--)if(ye[ge].getValue("contentRows")!==ue){ae=!0;break}if(ae){for(var ct=new oe("Set value",l.rb),ht=ye.length-1;ht>=0;ht--){var Nt=ye[ht];ct.addSelection(Nt.getId()),Nt.addCommandsForChangedContentRows(Y,ct)}ct.isEmpty()||l.rb.executeCommand(ct)}}),r.append(Rt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),r=n("div",{class:"rbroFormField"});var Ut=n("label",{class:"switch-light switch-material"}),Bt=n("input",{id:"rbro_doc_element_footer",type:"checkbox"});Bt.addEventListener("change",function(Me){for(var ue=Bt.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"footer",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),Ut.append(Bt);var yt=n("span");yt.append(n("span")),yt.append(n("span")),yt.append(n("a")),Ut.append(yt),r.append(Ut),t.append(r),k.append(t);var or=n("div",{id:"rbro_doc_element_style_section_container"}),ar=n("div",{class:"rbroPanelSectionHeader"}),er=n("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(t=n("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function(Me){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),er.classList.toggle("rbroIcon-plus"),er.classList.toggle("rbroIcon-minus"),er.classList.contains("rbroIcon-minus")){var ue=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ue}}),ar.append(er),ar.append(n("span",{},this.rb.getLabel("docElementStyle"))),t.append(ar),or.append(t);var tr=n("div",{id:"rbro_doc_element_style_section"});I(t=n("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),r=n("div",{class:"rbroFormField"});var hr=n("div",{class:"rbroColorPickerContainer"}),rr=n("input",{id:"rbro_doc_element_color",autocomplete:"off"});rr.addEventListener("change",function(Me){var ue=rr.value;if(G(ue)){for(var Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"color",ue,e.type.color,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}}),hr.append(rr),this.controls.color=Z(hr,rr,!1,this.rb),r.append(hr),t.append(r),tr.append(t),I(t=n("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),r=n("div",{class:"rbroFormField"}),this.elStyle=n("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function(Me){for(var ue=new oe("Set value",l.rb),Y=l.rb.getSelectedObjects(),ye=Y.length-1;ye>=0;ye--){var ae=Y[ye];ue.addSelection(ae.getId()),ae.addCommandsForChangedStyle(l.elStyle.value,"",l.propertyDescriptors,ue)}ue.isEmpty()||l.rb.executeCommand(ue)}),r.append(this.elStyle),t.append(r),tr.append(t);var et=n("div",{id:"rbro_doc_element_style_settings"});_r.renderStyle(et,"doc_element_","",!0,this.controls,this.rb),tr.append(et),or.append(tr),k.append(or);var de=n("div",{id:"rbro_doc_element_print_section_container"}),Q=n("div",{class:"rbroPanelSectionHeader"}),xe=n("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(t=n("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Me){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),xe.classList.toggle("rbroIcon-plus"),xe.classList.toggle("rbroIcon-minus"),xe.classList.contains("rbroIcon-minus")){var ue=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ue}dt.update(document.getElementById("rbro_doc_element_print_if"))}),Q.append(xe),Q.append(n("span",{},this.rb.getLabel("docElementPrintSettings"))),t.append(Q),de.append(t);var he=n("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var W=n("textarea",{id:"rbro_doc_element_group_expression",rows:1});W.addEventListener("input",function(Me){for(var ue=W.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"groupExpression",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),W.addEventListener("blur",function(Me){l.rb.getPopupWindow().hide()}),dt(W),N.append(W),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,null),null,"rbro_doc_element_group_expression","groupExpression",vt.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),r=n("div",{class:"rbroFormField"});var Ue=n("input",{id:"rbro_doc_element_page_break",type:"checkbox"});Ue.addEventListener("change",function(Me){for(var ue=Ue.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"pageBreak",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Ue),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),r=n("div",{class:"rbroFormField"});var Pe=n("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Pe.addEventListener("change",function(Me){for(var ue=Pe.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"repeatGroupHeader",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Pe),r.append(n("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var xr=n("textarea",{id:"rbro_doc_element_print_if",rows:1});xr.addEventListener("input",function(Me){for(var ue=xr.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"printIf",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),dt(xr),N.append(xr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,null),null,"rbro_doc_element_print_if","printIf",vt.type.parameterAppend)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),r=n("div",{class:"rbroFormField"});var Dr=n("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Dr.addEventListener("change",function(Me){for(var ue=Dr.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"repeatHeader",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Dr),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),r=n("div",{class:"rbroFormField"});var Lr=n("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Lr.addEventListener("change",function(Me){for(var ue=Lr.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"removeEmptyElement",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Lr),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),r=n("div",{class:"rbroFormField"});var jr=n("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});jr.addEventListener("change",function(Me){for(var ue=jr.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"alwaysPrintOnSamePage",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(jr),r.append(n("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),r=n("div",{class:"rbroFormField"});var Rr=n("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});Rr.addEventListener("change",function(Me){for(var ue=Rr.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"shrinkToContentHeight",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Rr),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),r=n("div",{class:"rbroFormField"});var Br=n("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Br.addEventListener("change",function(Me){for(var ue=Br.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"alignToPageBottom",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Br),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Nr=n("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Nr.addEventListener("input",function(Me){for(var ue=Nr.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"pattern",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),N.append(Nr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){l.rb.getPopupWindow().show(l.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",vt.type.pattern)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Mr=n("input",{id:"rbro_doc_element_link",autocomplete:"off"});Mr.addEventListener("input",function(Me){for(var ue=Mr.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"link",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),N.append(Mr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,null),null,"rbro_doc_element_link","link",vt.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),t.append(r),he.append(t),I(t=n("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),r=n("div",{class:"rbroFormField"});var ir=n("select",{id:"rbro_doc_element_grow_weight"});ir.append(n("option",{value:"0"},"-")),ir.append(n("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),ir.append(n("option",{value:"2"},"2")),ir.append(n("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),ir.addEventListener("change",function(Me){for(var ue=ir.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"growWeight",ue,e.type.select,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(ir),r.append(n("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),t.append(r),he.append(t),de.append(he),k.append(de);var Fr=n("div",{id:"rbro_doc_element_cs_style_section_container"}),Vr=n("div",{class:"rbroPanelSectionHeader"}),Sr=n("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(t=n("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Me){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),Sr.classList.toggle("rbroIcon-plus"),Sr.classList.toggle("rbroIcon-minus"),Sr.classList.contains("rbroIcon-minus")){var ue=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ue}}),Vr.append(Sr),Vr.append(n("span",{},this.rb.getLabel("docElementConditionalStyle"))),t.append(Vr),Fr.append(t);var wr=n("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var kr=n("textarea",{id:"rbro_doc_element_cs_condition",rows:1});kr.addEventListener("input",function(Me){for(var ue=kr.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"cs_condition",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),dt(kr),N.append(kr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects(),Y=ue.length===1?ue[0]:null;l.rb.getPopupWindow().show(l.rb.getParameterItems(Y,null),null,"rbro_doc_element_cs_condition","cs_condition",vt.type.parameterAppend)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),t.append(r),wr.append(t),I(t=n("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),r=n("div",{class:"rbroFormField"}),this.elCsStyle=n("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function(Me){for(var ue=l.elCsStyle.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),ge.addCommandsForChangedStyle(ue,"cs_",l.propertyDescriptors,Y)}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(this.elCsStyle),t.append(r),wr.append(t),I(t=n("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),r=n("div",{class:"rbroFormField"});var Pr=n("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});Pr.append(n("span",{},this.rb.getLabel("editData"))),Pr.append(n("span",{class:"rbroIcon-edit"})),Pr.addEventListener("click",function(Me){var ue=l.rb.getSelectedObjects();if(ue.length===1){var Y=ue[0],ye=[{name:"condition",label:l.rb.getLabel("docElementConditionalStyleCondition"),type:re.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:l.rb.getLabel("docElementStyle"),type:re.type.string,parameter:null,attributes:{select:"style"}}],ae=[];if(Y.getValue("cs_additionalRules"))try{ae=JSON.parse(Y.getValue("cs_additionalRules"))}catch(ge){}l.rb.getPopupWindow().show(null,Y.getId(),"","cs_additionalRules",vt.type.data,null,null,re.type.array,ye,ae)}else ue.length>1&&alert(l.rb.getLabel("docElementEditMultipleSelectionNotSupported"))}),r.append(Pr),r.append(n("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),t.append(r),wr.append(t);var mn=n("div",{id:"rbro_doc_element_cs_style_settings"});_r.renderStyle(mn,"doc_element_cs_","cs_",!1,this.controls,this.rb),wr.append(mn),Fr.append(wr),k.append(Fr);var Or=n("div",{id:"rbro_doc_element_spreadsheet_section_container"}),qr=n("div",{class:"rbroPanelSectionHeader"}),Ar=n("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(t=n("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Me){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Ar.classList.toggle("rbroIcon-plus"),Ar.classList.toggle("rbroIcon-minus"),Ar.classList.contains("rbroIcon-minus")){var ue=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ue}}),qr.append(Ar),qr.append(n("span",{},this.rb.getLabel("docElementSpreadsheet"))),t.append(qr),Or.append(t);var fr=n("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),r=n("div",{class:"rbroFormField"});var zr=n("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});zr.addEventListener("change",function(Me){for(var ue=zr.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"spreadsheet_hide",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(zr),t.append(r),fr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),r=n("div",{class:"rbroFormField"});var Er=n("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});Er.addEventListener("input",function(Me){var ue=Er.value;ue!==""&&(ue=P(ue,1,99)),ue!==Er.value&&(Er.value=ue);for(var Y=l.rb.getSelectedObjects(),ye=!1,ae=Y.length-1;ae>=0;ae--)if(Y[ae].getValue("spreadsheet_column")!==ue){ye=!0;break}if(ye){for(var ge=new oe("Set value",l.rb),ct=Y.length-1;ct>=0;ct--){var ht=Y[ct];ge.addSelection(ht.getId()),ge.addCommand(new e(ht.getId(),"spreadsheet_column",ue,e.type.text,l.rb))}ge.isEmpty()||l.rb.executeCommand(ge)}}),r.append(Er),r.append(n("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),t.append(r),fr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),r=n("div",{class:"rbroFormField"});var Hr=n("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});Hr.addEventListener("input",function(Me){for(var ue=Hr.value,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"spreadsheet_colspan",ue,e.type.text,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Hr),r.append(n("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),t.append(r),fr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),r=n("div",{class:"rbroFormField"});var Ur=n("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Ur.addEventListener("change",function(Me){for(var ue=Ur.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"spreadsheet_addEmptyRow",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Ur),t.append(r),fr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),r=n("div",{class:"rbroFormField"});var Wr=n("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Wr.addEventListener("change",function(Me){for(var ue=Wr.checked,Y=new oe("Set value",l.rb),ye=l.rb.getSelectedObjects(),ae=ye.length-1;ae>=0;ae--){var ge=ye[ae];Y.addSelection(ge.getId()),Y.addCommand(new e(ge.getId(),"spreadsheet_textWrap",ue,e.type.checkbox,l.rb))}Y.isEmpty()||l.rb.executeCommand(Y)}),r.append(Wr),t.append(r),fr.append(t),Or.append(fr),this.rb.getProperty("enableSpreadsheet")||(Or.style.display="none"),k.append(Or),document.getElementById("rbro_detail_panel").append(k),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){B(this.elStyle,null,this.rb),B(this.elCsStyle,null,this.rb)}},{key:"setupRichText",value:function(){var t=this,r=pr().import("formats/link"),p=r.sanitize;r.sanitize=function(ke){var Ee=ke;return/^\w+:/.test(Ee)||Ee.startsWith("${")?Ee:(/^https?:/.test(Ee)||(Ee=Ee.startsWith("/")?"http:"+Ee:"http://"+Ee),p.call(this,Ee))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(ke){var Ee=t.rb.getSelectedObjects(),Te=Ee.length===1?Ee[0]:null;t.rb.getPopupWindow().show(t.rb.getParameterItems(Te,null),null,"rbro_doc_element_rich_text_content","richTextContent",vt.type.parameterAppend,t.quill)});var l,k=pr().import("formats/font"),x=[],N=At(this.rb.getFonts());try{for(N.s();!(l=N.n()).done;){var H=l.value;x.push(H.value)}}catch(ke){N.e(ke)}finally{N.f()}k.whitelist=x,pr().register(k,!0);var ee,ne=pr().import("attributors/style/size"),te=[],ve=At(this.rb.getProperty("fontSizes"));try{for(ve.s();!(ee=ve.n()).done;){var se=ee.value;te.push(se+"px")}}catch(ke){ve.e(ke)}finally{ve.f()}ne.whitelist=te,pr().register(ne,!0);var Ie=new(pr())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});Ie.getModule("toolbar").addHandler("color",function(ke){ke==="clear-color"?Ie.format("color",""):Ie.format("color",ke)}),Ie.getModule("toolbar").addHandler("background",function(ke){ke==="clear-color"?Ie.format("background",""):Ie.format("background",ke)});var Ae=this.rb;Ie.on("text-change",function(ke,Ee,Te){for(var He=Ie.getContents(),De=Ie.root.innerHTML,Ve=new oe("Set value",Ae),Ye=Ae.getSelectedObjects(),$e=Ye.length-1;$e>=0;$e--){var We=Ye[$e];Ve.addSelection(We.getId()),Ve.addCommand(new e(We.getId(),"richTextContent",He,e.type.richText,Ae)),Ve.addCommand(new e(We.getId(),"richTextHtml",De,e.type.text,Ae))}Ve.isEmpty()||Ae.executeCommand(Ve)}),this.quill=Ie}},{key:"destroy",value:function(){this.controls.color.destroy(),_r.destroyStyle("",this.controls),_r.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(t){var r,p=this.rb.getSelectedObjects(),l={},k={},x=At(p);try{for(x.s();!(r=x.n()).done;){var N,H=At(r.value.getProperties());try{for(H.s();!(N=H.n()).done;){var ee=N.value;ee in k?k[ee]+=1:k[ee]=1}}catch(rt){H.e(rt)}finally{H.f()}}}catch(rt){x.e(rt)}finally{x.f()}for(var ne in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(ne)){var te=this.propertyDescriptors[ne],ve="";if("visibleIf"in te&&(ve=te.visibleIf),t===null||ne===t||ve&&te.visibleIfFields.includes(t)){var se=!1;if(ne in k)if(k[ne]===p.length){var Ie,Ae=null,ke=!1,Ee=At(p);try{for(Ee.s();!(Ie=Ee.n()).done;){var Te=Ie.value,He=Te.getUpdateValue(ne,Te.getValue(ne));if(Ae===null)Ae=He;else if(te.type===e.type.richText){if(He&&Ae&&new(sn())(He).diff(new(sn())(Ae)).ops.length>0){ke=!0;break}}else if(He!==Ae){ke=!0;break}}}catch(rt){Ee.e(rt)}finally{Ee.f()}if(ke&&te.type===e.type.select&&te.allowEmpty&&(Ae=""),a(b(_.prototype),"setValue",this).call(this,te,Ae,ke),"section"in te){var De=te.section;De in l?l[De]+=1:l[De]=1}se=!0}else delete k[ne];if(se&&ve){var Ve,Ye=At(p);try{for(Ye.s();!(Ve=Ye.n()).done;)if(!pe(ve,Ve.value)){se=!1,delete k[ne];break}}catch(rt){Ye.e(rt)}finally{Ye.f()}}if("singleRowProperty"in te&&!te.singleRowProperty){var $e="rbro_doc_element_".concat(te.fieldId);se?document.getElementById($e).classList.remove("rbroHidden"):document.getElementById($e).classList.add("rbroHidden")}else{var We=this.getRowId(te);se?document.getElementById(We).classList.remove("rbroHidden"):document.getElementById(We).classList.add("rbroHidden")}}}if(t===null||this.visibleIfFields.includes(t)){for(var Ze in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(Ze)){var be=this.propertyDescriptors[Ze];if("rowId"in be&&"rowProperties"in be){var qe,Se=0,Ce=At(be.rowProperties);try{for(Ce.s();!(qe=Ce.n()).done;)qe.value in k&&Se++}catch(rt){Ce.e(rt)}finally{Ce.f()}if("labelId"in be){var Ke=be.defaultLabel;if(Se===1){var tt,Je=At(be.rowProperties);try{for(Je.s();!(tt=Je.n()).done;){var ut=tt.value;if(ut in k){Ke=this.propertyDescriptors[ut].singlePropertyLabel;break}}}catch(rt){Je.e(rt)}finally{Je.f()}}document.getElementById(be.labelId).textContent=this.rb.getLabel(Ke)+":"}Se>0?document.getElementById(be.rowId).classList.remove("rbroHidden"):document.getElementById(be.rowId).classList.add("rbroHidden")}}for(var at=0,nt=["style","print","cs_style","spreadsheet"];at<nt.length;at++){var st=nt[at];st in l?document.getElementById("rbro_doc_element_".concat(st,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(st,"_section_container")).classList.add("rbroHidden")}}_.updateAutosizeInputs(t)}},{key:"show",value:function(){this.renderStyleSelect(),a(b(_.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(t,r,p){t instanceof $?(r===h.operation.add||r===h.operation.remove||r===h.operation.move||r===h.operation.change&&p==="name")&&this.renderStyleSelect():a(b(_.prototype),"notifyEvent",this).call(this,t,r,p)}}],[{key:"updateAutosizeInputs",value:function(t){t!==null&&t!=="dataSource"||dt.update(document.getElementById("rbro_doc_element_data_source")),t!==null&&t!=="content"||dt.update(document.getElementById("rbro_doc_element_content")),t!==null&&t!=="source"||dt.update(document.getElementById("rbro_doc_element_source")),t!==null&&t!=="groupExpression"||dt.update(document.getElementById("rbro_doc_element_group_expression")),t!==null&&t!=="printIf"||dt.update(document.getElementById("rbro_doc_element_print_if")),t!==null&&t!=="cs_condition"||dt.update(document.getElementById("rbro_doc_element_cs_condition"))}}]),_}(Cr),Cn=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return J(this,_),(p=m.call(this,"rbro_document_properties",Dt,t,r)).propertyDescriptors={pageFormat:{type:e.type.text,fieldId:"page_format",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageWidth:{type:e.type.text,fieldId:"page_width",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageHeight:{type:e.type.text,fieldId:"page_height",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},unit:{type:e.type.select,fieldId:"unit",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},orientation:{type:e.type.select,fieldId:"orientation"},contentHeight:{type:e.type.text,fieldId:"content_height"},marginLeft:{type:e.type.text,fieldId:"page_margin_left"},marginTop:{type:e.type.text,fieldId:"page_margin_top"},marginRight:{type:e.type.text,fieldId:"page_margin_right"},marginBottom:{type:e.type.text,fieldId:"page_margin_bottom"},header:{type:e.type.checkbox,fieldId:"header"},headerSize:{type:e.type.text,fieldId:"header_size"},headerDisplay:{type:e.type.select,fieldId:"header_display"},footer:{type:e.type.checkbox,fieldId:"footer"},footerSize:{type:e.type.text,fieldId:"footer_size"},footerDisplay:{type:e.type.select,fieldId:"footer_display"},patternLocale:{type:e.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:e.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:e.type.text,fieldId:"pattern_number_group_symbol"}},p}return S(_,[{key:"render",value:function(t){var r=this,p=n("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),l=n("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});I(l,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var k=n("div",{class:"rbroFormField"}),x=n("select",{id:"rbro_document_properties_page_format"});x.append(n("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),x.append(n("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),x.append(n("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),x.append(n("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),x.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"pageFormat",x.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),k.append(x);var N=n("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),H=n("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});H.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"pageWidth",H.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),T(H),N.append(H);var ee=n("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});ee.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"pageHeight",ee.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),T(ee),N.append(ee);var ne=n("select",{id:"rbro_document_properties_unit"});ne.append(n("option",{value:"mm"},"mm")),ne.append(n("option",{value:"inch"},"inch")),N.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"unit",ne.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),N.append(ne),k.append(N),k.append(n("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),l.append(k),p.append(l),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),k=n("div",{class:"rbroFormField"});var te=n("select",{id:"rbro_document_properties_orientation"});te.append(n("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),te.append(n("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),te.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"orientation",te.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),k.append(te),l.append(k),p.append(l),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),k=n("div",{class:"rbroFormField"});var ve=n("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});ve.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"contentHeight",ve.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),T(ve),k.append(ve),k.append(n("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),l.append(k),p.append(l),this.renderMarginControls(p),this.renderHeaderFooter(p),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),k=n("div",{class:"rbroFormField"});var se=n("select",{id:"rbro_document_properties_pattern_locale"});se.append(n("option",{value:"de"},"de")),se.append(n("option",{value:"en"},"en")),se.append(n("option",{value:"es"},"es")),se.append(n("option",{value:"fr"},"fr")),se.append(n("option",{value:"it"},"it")),se.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"patternLocale",se.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),k.append(se),l.append(k),p.append(l),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),k=n("div",{class:"rbroFormField"});var Ie=n("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});Ie.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"patternCurrencySymbol",Ie.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),k.append(Ie),l.append(k),p.append(l),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),k=n("div",{class:"rbroFormField"});var Ae=n("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});Ae.addEventListener("change",function(ke){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"patternNumberGroupSymbol",Ae.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),k.append(Ae),k.append(n("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),l.append(k),p.append(l),document.getElementById("rbro_detail_panel").append(p)}},{key:"renderMarginControls",value:function(t){var r=this,p=n("div",{class:"rbroFormRow"});I(p,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var l=n("div",{class:"rbroFormField rbroSmallInput"}),k=n("div",{class:"rbroColumnCenter"}),x=n("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});x.addEventListener("change",function(ve){var se=r.rb.getSelectedObject();if(se!==null){var Ie=new e(se.getId(),"marginTop",x.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(x),k.append(x),l.append(k);var N=n("div",{class:"rbroSplit"}),H=n("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});H.addEventListener("change",function(ve){var se=r.rb.getSelectedObject();if(se!==null){var Ie=new e(se.getId(),"marginLeft",H.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(H),N.append(H);var ee=n("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});ee.addEventListener("change",function(ve){var se=r.rb.getSelectedObject();if(se!==null){var Ie=new e(se.getId(),"marginRight",ee.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(ee),N.append(ee),l.append(N);var ne=n("div",{class:"rbroColumnCenter"}),te=n("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});te.addEventListener("change",function(ve){var se=r.rb.getSelectedObject();if(se!==null){var Ie=new e(se.getId(),"marginBottom",te.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(te),ne.append(te),l.append(ne),p.append(l),t.append(p)}},{key:"renderHeaderFooter",value:function(t){var r=this,p=n("div",{class:"rbroFormRowContainer"}),l=n("div",{class:"rbroFormRow"});I(l,this.rb.getLabel("header"),"rbro_document_properties_header");var k=n("div",{class:"rbroFormField"}),x=n("label",{class:"switch-light switch-material"}),N=n("input",{id:"rbro_document_properties_header",type:"checkbox"});N.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"header",N.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ve)}}),x.append(N);var H=n("span");H.append(n("span")),H.append(n("span")),H.append(n("a")),x.append(H),k.append(x),l.append(k),p.append(l);var ee=n("div",{id:"rbro_document_properties_header_settings"});I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),k=n("div",{class:"rbroFormField"});var ne=n("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});ne.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"headerSize",ne.value,e.type.text,r.rb);r.rb.executeCommand(Ve)}}),T(ne),k.append(ne),l.append(k),ee.append(l),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),k=n("div",{class:"rbroFormField"});var te=n("select",{id:"rbro_document_properties_header_display"});te.append(n("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),te.append(n("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),te.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"headerDisplay",te.value,e.type.select,r.rb);r.rb.executeCommand(Ve)}}),k.append(te),l.append(k),ee.append(l),p.append(ee),t.append(p);var ve=n("div",{class:"rbroFormRowContainer"});I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),k=n("div",{class:"rbroFormField"});var se=n("label",{class:"switch-light switch-material"}),Ie=n("input",{id:"rbro_document_properties_footer",type:"checkbox"});Ie.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"footer",Ie.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ve)}}),se.append(Ie);var Ae=n("span");Ae.append(n("span")),Ae.append(n("span")),Ae.append(n("a")),se.append(Ae),k.append(se),l.append(k),ve.append(l);var ke=n("div",{id:"rbro_document_properties_footer_settings"});I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),k=n("div",{class:"rbroFormField"});var Ee=n("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});Ee.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"footerSize",Ee.value,e.type.text,r.rb);r.rb.executeCommand(Ve)}}),T(Ee),k.append(Ee),l.append(k),ke.append(l),I(l=n("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),k=n("div",{class:"rbroFormField"});var Te=n("select",{id:"rbro_document_properties_footer_display"});Te.append(n("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Te.append(n("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Te.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"footerDisplay",Te.value,e.type.select,r.rb);r.rb.executeCommand(Ve)}}),k.append(Te),l.append(k),ke.append(l),ve.append(ke),t.append(ve)}},{key:"updateDisplay",value:function(t){var r=this.rb.getSelectedObject();if(r!==null&&r instanceof Dt){for(var p in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(p)&&(t===null||p===t)){var l=this.propertyDescriptors[p],k=r.getValue(p);a(b(_.prototype),"setValue",this).call(this,l,k,!1)}_.updateVisibileRows(r,t)}}}],[{key:"updateVisibileRows",value:function(t,r){r!==null&&r!=="pageFormat"||(t.getValue("pageFormat")===Dt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="flex":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),r!==null&&r!=="header"||(t.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),r!==null&&r!=="footer"||(t.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),_}(Cr),xn=function(){function C(i,d){J(this,C),this.rootElement=i,this.rb=d}return S(C,[{key:"render",value:function(){var i=n("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});i.append(n("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(i)}},{key:"destroy",value:function(){}},{key:"show",value:function(i){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(i,d){}},{key:"updateErrors",value:function(){}}]),C}();function cn(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return dn(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?dn(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function dn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Sn=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return J(this,_),(p=m.call(this,"rbro_parameter",re,t,r)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},type:{type:e.type.select,fieldId:"type"},arrayItemType:{type:e.type.select,fieldId:"array_item_type"},eval:{type:e.type.checkbox,fieldId:"eval"},nullable:{type:e.type.checkbox,fieldId:"nullable"},pattern:{type:e.type.text,fieldId:"pattern"},expression:{type:e.type.text,fieldId:"expression"},testData:{type:e.type.text,fieldId:"test_data"},testDataBoolean:{type:e.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:e.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:e.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1},testDataRichText:{type:e.type.text,fieldId:"test_data_rich_text"}},p.parameterTypeOptions=[],p}return S(_,[{key:"render",value:function(t){var r=this,p=n("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),l=n("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});I(l,this.rb.getLabel("parameterName"),"rbro_parameter_name");var k=n("div",{class:"rbroFormField"}),x=n("input",{id:"rbro_parameter_name",autocomplete:"off"});x.addEventListener("input",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=x.value;if(Ce!==Se.getName()){var Ke=new oe("Rename parameter"),tt=new e(Se.getId(),"name",Ce,e.type.text,r.rb);Ke.addCommand(tt);for(var Je=[],ut=null,at=Se.getParent();at!==null;)ut=at,Je.unshift(ut),at=ut.getParent();Se.addUpdateTestDataCmdForChangedParameterName(Ce,Je,Ke);var nt=null;if((nt=ut!==null?ut.getPanelItem():r.rb.getMainPanel().getParametersItem())!==null&&nt.getChildByNameExclude(Se.getName(),Se)===null&&nt.getChildByNameExclude(Ce,Se)===null){var st,rt=cn(r.rb.getDocElements(!0));try{for(rt.s();!(st=rt.n()).done;)st.value.addCommandsForChangedParameterName(Se,Ce,Ke)}catch(mt){rt.e(mt)}finally{rt.f()}var Qe,wt=cn(r.rb.getParameters());try{for(wt.s();!(Qe=wt.n()).done;)Qe.value.addCommandsForChangedParameterName(Se,Ce,Ke)}catch(mt){wt.e(mt)}finally{wt.f()}}r.rb.executeCommand(Ke)}}}),k.append(x),k.append(n("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),l.append(k),p.append(l),I(l=n("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),k=n("div",{class:"rbroFormField"});var N=n("select",{id:"rbro_parameter_type"});if(N.addEventListener("change",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new oe("Set parameter type"),Ke=N.value,tt=new e(Se.getId(),"type",Ke,e.type.select,r.rb);Ce.addCommand(tt),Se.addCommandsForChangedParameterType(Ke,Ce),r.rb.executeCommand(Ce)}}),k.append(N),k.append(n("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var H=n("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});H.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),k.append(H)}l.append(k),p.append(l),I(l=n("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),k=n("div",{class:"rbroFormField"});var ee=n("select",{id:"rbro_parameter_array_item_type"});ee.append(n("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),ee.append(n("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),ee.append(n("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),ee.append(n("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),this.rb.getProperty("showPlusFeatures")&&ee.append(n("option",{value:"rich_text"},this.rb.getLabel("parameterTypeRichText"))),ee.addEventListener("change",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"arrayItemType",ee.value,e.type.select,r.rb);r.rb.executeCommand(Ce)}}),k.append(ee),k.append(n("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),l.append(k),p.append(l);var ne={};this.rb.getProperty("adminMode")||(ne.style="display: none");var te=n("div",ne);I(l=n("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),k=n("div",{class:"rbroFormField"});var ve=n("input",{id:"rbro_parameter_eval",type:"checkbox"});ve.addEventListener("change",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"eval",ve.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ce)}}),k.append(ve),l.append(k),te.append(l),p.append(te),I(l=n("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),k=n("div",{class:"rbroFormField"});var se=n("input",{id:"rbro_parameter_nullable",type:"checkbox"});se.addEventListener("change",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"nullable",se.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ce)}}),k.append(se),l.append(k),p.append(l),I(l=n("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),k=n("div",{class:"rbroFormField"});var Ie=n("div",{class:"rbroSplit rbroSelector"}),Ae=n("input",{id:"rbro_parameter_pattern",autocomplete:"off"});Ae.addEventListener("input",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"pattern",Ae.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),Ie.append(Ae);var ke=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});ke.addEventListener("click",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce,Ke=Se.getValue("type");Ce=(Ke===re.type.simpleArray?Se.getValue("arrayItemType"):Ke)===re.type.date?r.rb.getProperty("patternDates"):r.rb.getProperty("patternNumbers"),r.rb.getPopupWindow().show(Ce,Se.getId(),"rbro_parameter_pattern","pattern",vt.type.pattern)}}),Ie.append(ke),k.append(Ie),k.append(n("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),l.append(k),p.append(l),I(l=n("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),k=n("div",{class:"rbroFormField"}),Ie=n("div",{class:"rbroSplit rbroSelector"});var Ee=n("textarea",{id:"rbro_parameter_expression",rows:"1"});Ee.addEventListener("input",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"expression",Ee.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),dt(Ee),Ie.append(Ee),(ke=n("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(qe){var Se,Ce,Ke=r.rb.getSelectedObject();Ke!==null&&(Ke.getValue("type")===re.type.sum||Ke.getValue("type")===re.type.average?(Se=r.rb.getArrayFieldParameterItems([re.type.number]),Ce=vt.type.parameterSet):(Se=r.rb.getParameterItems(Ke),Ce=vt.type.parameterAppend),r.rb.getPopupWindow().show(Se,Ke.getId(),"rbro_parameter_expression","expression",Ce))}),Ie.append(ke),k.append(Ie),k.append(n("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),l.append(k),p.append(l);var Te=n("div",{id:"rbro_parameter_test_data_container"});I(l=n("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),k=n("div",{class:"rbroFormField"});var He=n("input",{id:"rbro_parameter_test_data",autocomplete:"off"});He.addEventListener("change",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"testData",He.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),k.append(He);var De=n("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});De.append(n("span",{},this.rb.getLabel("parameterEditTestData"))),De.append(n("span",{class:"rbroIcon-edit"})),De.addEventListener("click",function(qe){var Se=r.rb.getSelectedObject();Se!==null&&(Se.getParameterFields().length>0?r.rb.getPopupWindow().show(null,Se.getId(),"","testData",vt.type.data,null,Se,null,null,null):Se.getValue("type")===re.type.map?alert(r.rb.getLabel("parameterEditTestDataMapNoFields")):alert(r.rb.getLabel("parameterEditTestDataArrayNoFields")))}),k.append(De),k.append(n("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),l.append(k),Te.append(l),I(l=n("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),k=n("div",{class:"rbroFormField"});var Ve=n("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Ve.addEventListener("change",function(qe){var Se=Ve.checked,Ce=r.rb.getSelectedObject();if(Ce!==null){var Ke=new e(Ce.getId(),"testDataBoolean",Se,e.type.checkbox,r.rb);r.rb.executeCommand(Ke)}}),k.append(Ve),l.append(k),Te.append(l),I(l=n("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),k=n("div",{class:"rbroFormField"});var Ye=n("input",{id:"rbro_parameter_test_data_image",type:"file"});Ye.addEventListener("change",function(qe){var Se=r.rb,Ce=qe.target.files;Ce&&Ce[0]&&z(Ce[0],function(Ke,tt){for(var Je=new oe("Load image",Se),ut=Se.getSelectedObjects(),at=ut.length-1;at>=0;at--){var nt=ut[at];Je.addSelection(nt.getId()),Je.addCommand(new e(nt.getId(),"testDataImage",Ke,e.type.file,Se)),Je.addCommand(new e(nt.getId(),"testDataImageFilename",tt,e.type.filename,Se))}Je.isEmpty()||Se.executeCommand(Je)},r.rb)}),k.append(Ye);var $e=n("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});$e.append(n("div",{id:"rbro_parameter_test_data_image_filename"}));var We=n("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});We.addEventListener("click",function(qe){Ye.value="";var Se=new oe("Clear image",r.rb),Ce=r.rb.getSelectedObject();Ce!==null&&(Se.addSelection(Ce.getId()),Se.addCommand(new e(Ce.getId(),"testDataImage","",e.type.file,r.rb)),Se.addCommand(new e(Ce.getId(),"testDataImageFilename","",e.type.filename,r.rb))),Se.isEmpty()||r.rb.executeCommand(Se)}),$e.append(We),k.append($e),k.append(n("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),k.append(n("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),l.append(k),Te.append(l),I(l=n("div",{id:"rbro_parameter_test_data_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_rich_text"),k=n("div",{class:"rbroFormField"});var Ze=n("textarea",{id:"rbro_parameter_test_data_rich_text",rows:1,autocomplete:"off"});Ze.addEventListener("input",function(qe){var Se=r.rb.getSelectedObject();if(Se!==null){var Ce=new e(Se.getId(),"testDataRichText",Ze.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),dt(Ze),k.append(Ze);var be=n("div",{id:"rbro_parameter_test_data_rich_text_plus_info",class:"rbroInfo"});be.innerHTML=this.rb.getLabel("parameterTestDataRichTextInfo"),k.append(be),l.append(k),Te.append(l),p.append(Te),document.getElementById("rbro_detail_panel").append(p)}},{key:"updateVisibileRows",value:function(t,r){var p=t.getValue("type"),l=p===re.type.simpleArray?t.getValue("arrayItemType"):p,k=t.getValue("showOnlyNameType"),x=null;if(t.getPanelItem()!==null&&t.getPanelItem().getParent().getData()instanceof re&&(x=t.getPanelItem().getParent().getData()),r===null){var N=t.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!N,document.getElementById("rbro_parameter_type").disabled=!N,document.getElementById("rbro_parameter_eval").disabled=!N,document.getElementById("rbro_parameter_nullable").disabled=!N,document.getElementById("rbro_parameter_pattern").disabled=!N,document.getElementById("rbro_parameter_expression").disabled=!N,N?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(r!==null&&r!=="type"||(p===re.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",p===re.type.string||p===re.type.number||p===re.type.boolean||p===re.type.date||p===re.type.image||p===re.type.array||p===re.type.simpleArray||p===re.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),r!==null&&r!=="type"&&r!=="arrayItemType"||(l!==re.type.number&&l!==re.type.date&&l!==re.type.sum&&l!==re.type.average||k?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),r!==null&&r!=="type"&&r!=="eval"||(p===re.type.sum||p===re.type.average||k?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(p===re.type.image||p===re.type.richText||p===re.type.array||p===re.type.simpleArray||p===re.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),x!==null||t.getValue("eval")&&(p===re.type.string||p===re.type.number||p===re.type.boolean||p===re.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),p===re.type.array||p===re.type.simpleArray||p===re.type.map||p===re.type.string||p===re.type.number||p===re.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",p===re.type.array||p===re.type.simpleArray||p===re.type.map?document.getElementById("rbro_parameter_edit_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data").style.display="none",p===re.type.string||p===re.type.number||p===re.type.date?document.getElementById("rbro_parameter_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_test_data").style.display="none",p===re.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",p===re.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none",p===re.type.richText?document.getElementById("rbro_parameter_test_data_rich_text_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_rich_text_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(x===null||p!==re.type.map&&p!==re.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!t.getValue("eval")||p!==re.type.string&&p!==re.type.number&&p!==re.type.boolean&&p!==re.type.date)&&p!==re.type.sum&&p!==re.type.average||k?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),r===null){var H=[],ee=x!==null&&x.getValue("type")===re.type.array;H.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),H.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),H.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),H.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),H.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),this.rb.getProperty("showPlusFeatures")&&H.push({value:"rich_text",label:this.rb.getLabel("parameterTypeRichText")}),(x===null||this.rb.getProperty("showPlusFeatures"))&&H.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),H.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(x===null||this.rb.getProperty("showPlusFeatures"))&&H.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),ee||(H.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),H.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var ne=!1;if(H.length!==this.parameterTypeOptions.length)ne=!0;else for(var te=0;te<H.length;te++)if(H[te].value!==this.parameterTypeOptions[te].value){ne=!0;break}if(ne){var ve=document.getElementById("rbro_parameter_type");w(ve);for(var se=0;se<H.length;se++){var Ie=H[se];ve.append(n("option",{value:Ie.value},Ie.label))}this.parameterTypeOptions=H}}}},{key:"updateDisplay",value:function(t){var r=this.rb.getSelectedObject();if(r!==null&&r instanceof re){for(var p in this.updateVisibileRows(r,t),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(p)&&(t===null||p===t)){var l=this.propertyDescriptors[p],k=r.getValue(p);a(b(_.prototype),"setValue",this).call(this,l,k,!1)}t!==null&&t!=="type"||(r.getValue("type")===re.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),_.updateAutosizeInputs(t)}}}],[{key:"updateAutosizeInputs",value:function(t){t!==null&&t!=="expression"||dt.update(document.getElementById("rbro_parameter_expression")),t!==null&&t!=="type"||dt.update(document.getElementById("rbro_parameter_test_data_rich_text"))}}]),_}(Cr);function pn(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return hn(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?hn(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function hn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var kn=function(){function C(i,d,m,_,t,r,p){J(this,C),this.rootElement=i,this.rb=p,this.headerItem=new Be("band",null,d,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},p),this.documentItem=new Be("band",null,m,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},p),this.footerItem=new Be("band",null,_,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},p),this.parametersItem=new Be("parameter",null,t,{hasChildren:!0,showAdd:p.getProperty("adminMode"),showDelete:!1,hasDetails:!1},p),this.stylesItem=new Be("style",null,r,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},p),this.documentPropertiesItem=new Be("documentProperties",null,p.getDocumentProperties(),{showDelete:!1,hasDetails:!0},p),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,d.setPanelItem(this.headerItem),m.setPanelItem(this.documentItem),_.setPanelItem(this.footerItem),t.setPanelItem(this.parametersItem),r.setPanelItem(this.stylesItem)}return S(C,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(i){for(;i!==null;){if(i.getData()instanceof u)return i.getData();i=i.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var i=this,d=document.getElementById("rbro_main_panel_list");this.appendChildren(d,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(m){i.dragMainPanelSizer=!0,i.dragMainPanelSizerStartX=m.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(i,d){var m,_=pn(d);try{for(_.s();!(m=_.n()).done;){var t=m.value;i.append(t.getElement());var r=t.getChildren();r.length>0&&this.appendChildren(i,r)}}catch(p){_.e(p)}finally{_.f()}}},{key:"processMouseMove",value:function(i){if(this.dragMainPanelSizer){var d=this.mainPanelWidth+(i.pageX-this.dragMainPanelSizerStartX);return d=this.checkMainPanelWidth(d),this.updateMainPanelWidth(d),!0}return!1}},{key:"mouseUp",value:function(i){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(i.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var i=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(i+=92),i}},{key:"updateMainPanelWidth",value:function(i){document.getElementById("rbro_main_panel").style.width=i+"px",document.getElementById("rbro_main_panel_sizer").style.left=i+"px",document.getElementById("rbro_detail_panel").style.left=i+this.mainPanelSizerWidth+"px";var d=i+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(d+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=i+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(d,"px)")}},{key:"checkMainPanelWidth",value:function(i){return i<150?150:i>500?500:i}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var i,d=pn(this.items);try{for(d.s();!(i=d.n()).done;)i.value.clear()}catch(m){d.e(m)}finally{d.f()}}}]),C}(),Pn=function(){function C(i,d){J(this,C),this.rootElement=i,this.rb=d}return S(C,[{key:"render",value:function(){var i,d=this,m=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",_=document.getElementById("rbro_menu_panel"),t=n("div",{class:"rbroToolButtonContainer"});(i=n("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(n("span",{class:"rbroIcon-save"})),i.append(n("span",{class:m},this.rb.getLabel("menuSave"))),i.addEventListener("click",function(be){d.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(i.style.display="none"),t.append(i),this.rb.getProperty("menuShowDebug")&&((i=n("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(n("span",{class:"rbroIcon-console"})),i.append(n("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),i.addEventListener("click",function(be){console.log(JSON.stringify(d.rb.getReport()))}),t.append(i),(i=n("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(n("span",{class:"rbroIcon-insert-report"})),i.append(n("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),i.addEventListener("click",function(be){var qe=prompt("Paste report template here to load report");if(qe)try{var Se=JSON.parse(qe);v(Se.docElements)==="object"&&v(Se.parameters)==="object"&&v(Se.styles)==="object"&&v(Se.documentProperties)==="object"?(d.rb.load(Se),d.rb.setModified(!0)):alert("Invalid report template data")}catch(Ce){alert("Invalid report template data")}}),t.append(i)),(i=n("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(n("span",{class:"rbroIcon-undo"})),i.append(n("span",{class:m},this.rb.getLabel("menuUndo"))),i.addEventListener("click",function(be){d.rb.undoCommand()}),t.append(i),(i=n("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(n("span",{class:"rbroIcon-redo"})),i.append(n("span",{class:m},this.rb.getLabel("menuRedo"))),i.addEventListener("click",function(be){d.rb.redoCommand()}),t.append(i),(i=n("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(n("span",{class:"rbroIcon-play"})),i.append(n("span",{class:m},this.rb.getLabel("menuPreview"))),i.addEventListener("click",function(be){d.rb.preview()}),t.append(i),_.append(t);var r,p=n("div",{class:"rbroElementButtonContainer"}),l=n("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(r=n("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(n("span",{class:"rbroIcon-text"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.text,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.text,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(n("span",{class:"rbroIcon-line"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.line,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.line,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(n("span",{class:"rbroIcon-image"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.image,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.image,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(n("span",{class:"rbroIcon-barcode"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.barCode,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.barCode,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(n("span",{class:"rbroIcon-table"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.table,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.table,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(n("span",{class:"rbroIcon-frame"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.frame,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.frame,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(n("span",{class:"rbroIcon-section"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.section,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.section,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),(r=n("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(n("span",{class:"rbroIcon-page-break"})),r.addEventListener("dragstart",function(be){be.dataTransfer.setData("text/plain",""),be.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",_e.type.pageBreak,""),be.stopPropagation()}),r.addEventListener("touchstart",function(be){d.rb.startBrowserDrag("docElement",_e.type.pageBreak,""),be.preventDefault()}),r.addEventListener("touchmove",function(be){d.rb.getDocument().processDragover(be)}),r.addEventListener("touchend",function(be){d.rb.getDocument().processDrop(be)}),l.append(r),p.append(l);var k=n("div",{class:"rbroActionButtons"}),x=n("div",{id:"rbro_menu_align",style:"display: none;"}),N=n("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});N.addEventListener("click",function(be){d.rb.alignSelections($.alignment.left)}),x.append(N);var H=n("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});H.addEventListener("click",function(be){d.rb.alignSelections($.alignment.center)}),x.append(H);var ee=n("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});ee.addEventListener("click",function(be){d.rb.alignSelections($.alignment.right)}),x.append(ee),k.append(x);var ne=n("div",{id:"rbro_menu_valign",style:"display: none;"}),te=n("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});te.addEventListener("click",function(be){d.rb.alignSelections($.alignment.top)}),ne.append(te);var ve=n("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});ve.addEventListener("click",function(be){d.rb.alignSelections($.alignment.middle)}),ne.append(ve);var se=n("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});se.addEventListener("click",function(be){d.rb.alignSelections($.alignment.bottom)}),ne.append(se),k.append(ne);var Ie=n("div",{id:"rbro_menu_column_actions",style:"display: none;"}),Ae=n("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});Ae.addEventListener("click",function(be){var qe=d.rb.getSelectedObject();qe instanceof Mt&&qe.insertColumn(!0)}),Ie.append(Ae);var ke=n("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});ke.addEventListener("click",function(be){var qe=d.rb.getSelectedObject();qe instanceof Mt&&qe.insertColumn(!1)}),Ie.append(ke);var Ee=n("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Ee.addEventListener("click",function(be){var qe=d.rb.getSelectedObject();qe instanceof Mt&&qe.deleteColumn()}),Ie.append(Ee),k.append(Ie);var Te=n("div",{id:"rbro_menu_row_actions",style:"display: none;"}),He=n("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});He.addEventListener("click",function(be){var qe=d.rb.getSelectedObject();qe instanceof Mt&&qe.getParent()!==null&&qe.getParent().insertRow(!0)}),Te.append(He);var De=n("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});De.addEventListener("click",function(be){var qe=d.rb.getSelectedObject();qe instanceof Mt&&qe.getParent()!==null&&qe.getParent().insertRow(!1)}),Te.append(De);var Ve=n("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Ve.addEventListener("click",function(be){var qe=d.rb.getSelectedObject();qe instanceof Mt&&qe.getParent()!==null&&qe.getParent().deleteRow()}),Te.append(Ve),k.append(Te);var Ye=n("div",{id:"rbro_menu_zoom",class:"rbroZoom"});Ye.append(n("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var $e=n("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});$e.addEventListener("click",function(be){d.rb.getDocument().zoomIn()}),Ye.append($e);var We=n("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});We.addEventListener("click",function(be){d.rb.getDocument().zoomOut()}),Ye.append(We),k.append(Ye);var Ze=n("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});Ze.addEventListener("click",function(be){Ze.classList.toggle("rbroButtonActive"),d.rb.getDocument().toggleGrid()}),k.append(Ze),p.append(k),_.append(p)}},{key:"updateZoomButtons",value:function(i,d){i?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),d?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),C}();function Ge(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(l,k){if(l){if(typeof l=="string")return fn(l,k);var x=Object.prototype.toString.call(l).slice(8,-1);return x==="Object"&&l.constructor&&(x=l.constructor.name),x==="Map"||x==="Set"?Array.from(l):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?fn(l,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(l){throw l},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var l=d.next();return r=l.done,l},e:function(l){p=!0,t=l},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function fn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var On=function(){function C(i,d){var m=this;if(J(this,C),this.element=i,this.nextId=1,this.locale=_n[d&&d.localeKey||"en_us"],d&&d.locale&&Object.assign(this.locale,d.locale),this.properties={additionalFonts:[],adminMode:!0,autoSaveOnPreview:!1,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:$.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:$.font.courier},{name:"Helvetica",value:$.font.helvetica},{name:"Times New Roman",value:$.font.times}],highlightUnusedParameters:!1,imageLimit:null,imageMaxSize:null,imageRequireWebPFormat:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},d)for(var _ in d)this.properties.hasOwnProperty(_)&&(this.properties[_]=d[_]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var t,r=!1,p=Ge(this.properties.fonts);try{for(p.s();!(t=p.n()).done;){var l=t.value;if(this.properties.defaultFont===l.value){r=!0;break}}}catch(k){p.e(k)}finally{p.f()}if(r||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new Qr(i,this.properties.showGrid,this),this.popupWindow=new vt(i,this),this.docElements=[],this.headerBand=new le(le.bandType.header,!1,"","",this),this.contentBand=new le(le.bandType.content,!1,"","",this),this.footerBand=new le(le.bandType.footer,!1,"","",this),this.parameterContainer=new u("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new u("0_styles",this.getLabel("styles"),this),this.documentProperties=new Dt(this),this.clipboardElements=[],this.mainPanel=new kn(i,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new Pn(i,this),this.activeDetailPanel="none",this.detailPanels={none:new xn(i,this),docElement:new In(i,this),parameter:new Sn(i,this),style:new _r(i,this),documentProperties:new Cn(i,this)},this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(k){if(!m.detailPanels[m.activeDetailPanel].isKeyEventDisabled()){if(k.metaKey||k.ctrlKey)switch(k.which){case 67:if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement)){var x,N,H,ee=!1,ne={},te=Ge(m.selections);try{for(te.s();!(H=te.n()).done;){var ve=H.value,se=m.getDataObject(ve);if((se instanceof _e&&!(se instanceof Mt)||se instanceof re&&!se.showOnlyNameType||se instanceof $)&&(ee||(m.clipboardElements=[],ee=!0),!(se.getId()in ne)))if(ne[se.getId()]=!0,x=se.toJS(),m.clipboardElements.push(x),se instanceof _e){if(x.baseClass="DocElement",se instanceof mr){var Ie=[];se.appendContainerChildren(Ie);for(var Ae=0,ke=Ie;Ae<ke.length;Ae++){var Ee=ke[Ae];if(Ee.getId()in ne){for(N=0;N<m.clipboardElements.length;N++)if(Ee.getId()===m.clipboardElements[N].id){m.clipboardElements.splice(N,1);break}}else ne[Ee.getId()]=!0;(x=Ee.toJS()).baseClass="DocElement",m.clipboardElements.push(x)}}}else se instanceof re?x.baseClass="Parameter":se instanceof $&&(x.baseClass="Style")}}catch(yt){te.e(yt)}finally{te.f()}k.preventDefault()}break;case 86:if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement)){var Te,He,De=new oe("Paste from clipboard",m),Ve={},Ye=[],$e=Ge(m.clipboardElements);try{for($e.s();!(He=$e.n()).done;){var We=He.value,Ze=Object.assign({},We);if(Ze.id=m.getUniqueId(),Ye.push(Ze),Ze.baseClass==="DocElement"){if(Ze.linkedContainerId){var be=m.getUniqueId();Ve[Ze.linkedContainerId]=be,Ze.linkedContainerId=be}Ze.elementType===_e.type.table&&Qt.removeIds(Ze)}}}catch(yt){$e.e(yt)}finally{$e.f()}for(var qe=0,Se=Ye;qe<Se.length;qe++){var Ce=Se[qe];if(Ce.baseClass==="DocElement"){if(Ce.containerId in Ve)Ce.containerId=Ve[Ce.containerId];else{var Ke=0,tt=m.getDataObject(Ce.containerId);if(tt!==null){var Je=tt.getOffset(),ut=tt.getContentSize(),at=m.getDocument().getContentScrollPosY();at>Je.y&&at+Ce.height<Je.y+ut.height&&(Ke=at-Je.y)}Ce.x=0,Ce.y=Ke}Te=new bt(!0,Ce.elementType,Ce,Ce.id,Ce.containerId,-1,m),De.addCommand(Te)}else if(Ce.baseClass==="Parameter"||Ce.baseClass==="Style"){var nt=m.getLabel("nameCopySuffix"),st=Ce.name+" (".concat(nt,")"),rt=Ce.baseClass==="Parameter"?m.parameterContainer.getPanelItem():m.styleContainer.getPanelItem();if(rt!==null&&rt.getChildByName(st))for(var Qe=2;Qe<=99&&(st=Ce.name+" (".concat(nt," ").concat(Qe,")"),rt.getChildByName(st)!==null);Qe++);Ce.name=st,Ce.baseClass==="Parameter"?(re.removeIds(Ce),Te=new Ne(!0,Ce,Ce.id,m.parameterContainer.getId(),-1,m),De.addCommand(Te)):Ce.baseClass==="Style"&&(Te=new ce(!0,Ce,Ce.id,m.styleContainer.getId(),-1,m),De.addCommand(Te))}}if(!De.isEmpty()){m.executeCommand(De);var wt,mt=!0,Tt=Ge(Ye);try{for(Tt.s();!(wt=Tt.n()).done;){var Lt=wt.value;m.selectObject(Lt.id,mt),mt=!1}}catch(yt){Tt.e(yt)}finally{Tt.f()}}k.preventDefault()}break;case 89:m.redoCommand(),k.preventDefault();break;case 90:m.undoCommand(),k.preventDefault()}else if(k.which===27)m.popupWindow.hide();else if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement))switch(k.which){case 8:case 46:var kt,Vt=new oe("Delete",m),qt=Ge(m.selections);try{for(qt.s();!(kt=qt.n()).done;){var $t=kt.value,zt=m.getDataObject($t);zt instanceof _e&&zt.addCommandsForDelete(Vt)}}catch(yt){qt.e(yt)}finally{qt.f()}Vt.isEmpty()||m.executeCommand(Vt),k.preventDefault();break;case 37:case 38:case 39:case 40:var Ht,It=new oe("Move element",m),jt=k.which===37||k.which===39?"x":"y",Ct=(m.getDocumentProperties().getContentSize().width,Ge(m.selections));try{for(Ct.s();!(Ht=Ct.n()).done;){var Kt=Ht.value,pt=m.getDataObject(Kt);if(pt instanceof _e&&pt.hasProperty(jt)){var xt=null;if(k.which===37)pt.getValue("xVal")>0&&(xt=pt.getValue("xVal")-1);else if(k.which===38)pt.getValue("yVal")>0&&(xt=pt.getValue("yVal")-1);else if(k.which===39){var Rt=pt.getContainerContentSize();pt.getValue("xVal")+pt.getValue("widthVal")<Rt.width&&(xt=pt.getValue("xVal")+1)}else if(k.which===40){var Ut=pt.getContainerContentSize();pt.getValue("yVal")+pt.getValue("heightVal")<Ut.height&&(xt=pt.getValue("yVal")+1)}if(xt!==null){var Bt=new e(Kt,jt,xt,e.type.text,m);It.addCommand(Bt)}}}}catch(yt){Ct.e(yt)}finally{Ct.f()}It.isEmpty()||m.executeCommand(It),k.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return S(C,[{key:"validateProperties",value:function(i){if(!Array.isArray(i.colors))return console.error('"colors" property must be an array'),!1;var d,m=!1,_=Ge(i.colors);try{for(_.s();!(d=_.n()).done;){var t=d.value;if(!t||!G(t))return console.error('"colors" property contains invalid color value'),!1;t==="#000000"&&(m=!0)}}catch(k){_.e(k)}finally{_.f()}if(!m)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(i.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var r,p=Ge(i.fontSizes);try{for(p.s();!(r=p.n()).done;){var l=r.value;if(typeof l!="number"||l<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var i=0,d=[{name:"page_count",type:re.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:re.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];i<d.length;i++){var m=d[i],_=new re(this.getUniqueId(),m,this),t=this.mainPanel.getParametersItem(),r=new Be("parameter",t,_,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);_.setPanelItem(r),t.appendChild(r),_.setup(),this.addParameter(_)}}},{key:"render",value:function(){var i=this;w(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(n("div",{class:"rbroLogo"})),this.element.append(n("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var d=n("div",{class:"rbroContainer"}),m=n("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var _ in m.append(n("ul",{id:"rbro_main_panel_list"})),d.append(m),d.append(n("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),d.append(n("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),d.append(n("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(d),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[_].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(t){i.mainPanel.mouseUp(t),i.document.mouseUp(t),i.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(t){i.document.windowResized()}),this.element.addEventListener("dragstart",function(t){t.preventDefault()}),this.element.addEventListener("mousemove",function(t){i.mainPanel.processMouseMove(t)||i.document.processMouseMove(t)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(i){return i in this.locale?this.locale[i]:i}},{key:"getProperty",value:function(i){return this.properties[i]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var i=[];if(this.properties.patternNumbers.length>0){i.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var d,m=Ge(this.properties.patternNumbers);try{for(m.s();!(d=m.n()).done;){var _=d.value;i.push(_)}}catch(l){m.e(l)}finally{m.f()}}if(this.properties.patternDates.length>0){i.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var t,r=Ge(this.properties.patternDates);try{for(r.s();!(t=r.n()).done;){var p=t.value;i.push(p)}}catch(l){r.e(l)}finally{r.f()}}return i}},{key:"getParameterItems",value:function(i,d){var m=[],_=this.getMainPanel().getParametersItem().getChildren(),t=0;if(i instanceof _e){var r,p=!0,l=Ge(i.getAllDataSources());try{for(l.s();!(r=l.n()).done;){var k=r.value;if(k.parameters.length>0){var x;x=p?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("${name}",k.name),m.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+t,name:x});var N,H=[],ee=p?null:k.name,ne=Ge(k.parameters);try{for(ne.s();!(N=ne.n()).done;){var te=N.value;te.type===re.type.map?te.appendParameterItems(H,d,ee):te.appendParameterItems(m,d,ee)}}catch(Ve){ne.e(Ve)}finally{ne.f()}for(var ve=0,se=H;ve<se.length;ve++){var Ie=se[ve];m.push(Ie)}}p=!1,t++}}catch(Ve){l.e(Ve)}finally{l.f()}}else if(i instanceof re)for(var Ae=i.getParent();Ae!==null;){if(Ae.type===re.type.array){t=1,Ae.appendFieldParameterItems(m,d,!0,null);break}Ae=Ae.getParent()}var ke=t>0?"":null;m.push({separator:!0,name:this.getLabel("parameters")});var Ee,Te=[],He=Ge(_);try{for(He.s();!(Ee=He.n()).done;){var De=Ee.value.getData();De.getValue("type")===re.type.map?De.appendParameterItems(Te,d,ke):De.appendParameterItems(m,d,ke)}}catch(Ve){He.e(Ve)}finally{He.f()}return m.concat(Te)}},{key:"getArrayFieldParameterItems",value:function(i){var d=[],m=this.getMainPanel().getParametersItem().getChildren();d.push({separator:!0,name:this.getLabel("parameters")});var _,t=Ge(m);try{for(t.s();!(_=t.n()).done;){var r=_.value.getData();r.getValue("type")===re.type.array&&r.appendFieldParameterItems(d,i,!1,null)}}catch(p){t.e(p)}finally{t.f()}return d}},{key:"appendContainerDocElements",value:function(i,d,m){var _,t=Ge(i.getPanelItem().getChildren());try{for(t.s();!(_=t.n()).done;){var r=_.value;if(r.getData()instanceof _e){var p=r.getData();d?(m.push(p),p.addChildren(m)):m.push(p.toJS());var l=[];if(p instanceof Tr)l=p.getLinkedContainers();else{var k=p.getLinkedContainer();k!==null&&l.push(k)}var x,N=Ge(l);try{for(N.s();!(x=N.n()).done;){var H=x.value;this.appendContainerDocElements(H,d,m)}}catch(ee){N.e(ee)}finally{N.f()}}}}catch(ee){t.e(ee)}finally{t.f()}}},{key:"getDocElements",value:function(i){var d=[];return this.appendContainerDocElements(this.headerBand,i,d),this.appendContainerDocElements(this.contentBand,i,d),this.appendContainerDocElements(this.footerBand,i,d),d}},{key:"setDetailPanel",value:function(i){i!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=i,this.detailPanels[i].show())}},{key:"notifyEvent",value:function(i,d,m){this.detailPanels[this.activeDetailPanel].notifyEvent(i,d,m)}},{key:"addParameter",value:function(i){this.addDataObject(i)}},{key:"addStyle",value:function(i){this.addDataObject(i),this.notifyEvent(i,h.operation.add)}},{key:"getStyles",value:function(){var i,d=[],m=Ge(this.getMainPanel().getStylesItem().getChildren());try{for(m.s();!(i=m.n()).done;){var _=i.value;d.push(_.getData())}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"getParameters",value:function(){var i,d=[],m=Ge(this.getMainPanel().getParametersItem().getChildren());try{for(m.s();!(i=m.n()).done;){var _=i.value;d.push(_.getData())}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"addDocElement",value:function(i){this.docElements.push(i),this.addDataObject(i)}},{key:"deleteDocElements",value:function(){for(var i=0;i<this.docElements.length;i++)this.deleteDataObject(this.docElements[i]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(i){if(i.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var d=this.commandStack[this.commandStack.length-1];i.allowReplace(d)&&(i.replace(d),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(i),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(i,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var i=this.commandStack[this.lastCommandIndex];i.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(i,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var i=this.commandStack[this.lastCommandIndex];i.do(),this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(i,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var i,d=0,m={x:0,y:0},_=!0,t=!0,r=Ge(this.selections);try{for(r.s();!(i=r.n()).done;){var p=i.value,l=this.getDataObject(p);if(l instanceof _e&&l.hasProperty("x")){d++;var k=l.getContainer().getOffset();d===1?m=k:(k.x!==m.x&&(_=!1),k.y!==m.y&&(t=!1))}}}catch(ke){r.e(ke)}finally{r.f()}var x=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(d>1){_?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",t?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var N,H=Ge(x);try{for(H.s();!(N=H.n()).done;)N.value.style.display="none"}catch(ke){H.e(ke)}finally{H.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var ee=null;if(this.selections.length===1&&(ee=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",ee instanceof Mt){var ne,te=Ge(x);try{for(te.s();!(ne=te.n()).done;)ne.value.style.display="none"}catch(ke){te.e(ke)}finally{te.f()}var ve=ee.getTable(),se=ee.getParent();ve!==null&&A(ve.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),ve!==null&&se!==null&&se.getValue("bandType")===le.bandType.content?(A(ve.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var Ie,Ae=Ge(x);try{for(Ae.s();!(Ie=Ae.n()).done;)Ie.value.removeAttribute("style")}catch(ke){Ae.e(ke)}finally{Ae.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var i=0;i<this.commandStack.length;i++)i>this.lastCommandIndex?console.log("( "+i+" "+this.commandStack[i].getName()+" )"):console.log(i+" "+this.commandStack[i].getName())}},{key:"addDataObject",value:function(i){this.objectMap[i.getId()]=i}},{key:"deleteDataObject",value:function(i){this.isSelectedObject(i.getId())&&this.deselectObject(i.getId()),i.getId()in this.objectMap&&(i.remove(),delete this.objectMap[i.getId()])}},{key:"getDataObject",value:function(i){return i!==null&&i in this.objectMap?this.objectMap[i]:null}},{key:"getSelectedObjects",value:function(){var i,d=[],m=Ge(this.selections);try{for(m.s();!(i=m.n()).done;){var _=i.value,t=this.getDataObject(_);t!==null&&d.push(t)}}catch(r){m.e(r)}finally{m.f()}return d}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(i){return this.selections.indexOf(i)!==-1}},{key:"isDocElementSelected",value:function(){var i,d=Ge(this.selections);try{for(d.s();!(i=d.n()).done;){var m=i.value;if(this.getDataObject(m)instanceof _e)return!0}}catch(_){d.e(_)}finally{d.f()}return!1}},{key:"isTableElementSelected",value:function(i){var d,m=Ge(this.selections);try{for(m.s();!(d=m.n()).done;){var _=d.value,t=this.getDataObject(_);if(t instanceof Mt&&t.getValue("tableId")===i)return!0}}catch(r){m.e(r)}finally{m.f()}return!1}},{key:"selectObject",value:function(i,d){var m="none",_=this.getDataObject(i);if(d){if(_!==null&&this.selections.length===1&&this.selections[0]===i)return;this.deselectAll(!0)}_!==null&&(_ instanceof _e?m="docElement":_ instanceof re?m="parameter":_ instanceof $?m="style":_ instanceof Dt&&(m="documentProperties"),this.selections.push(i),_.select(),_.getPanelItem()!==null&&(_.getPanelItem().openParentItems(),_.getPanelItem().setActive()),m!==this.activeDetailPanel&&this.setDetailPanel(m),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(_,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(i){this.deselectObjectInternal(i,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(i,d){var m=this.getDataObject(i);if(m!==null&&(m.deselect(),m.getPanelItem()!==null&&m.getPanelItem().setInactive()),d){var _=this.selections.indexOf(i);_!==-1&&this.selections.splice(_,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}m!==null&&this.properties.selectCallback&&this.properties.selectCallback(m,!1)}},{key:"deselectAll",value:function(i){var d,m=Ge(this.selections);try{for(m.s();!(d=m.n()).done;){var _=d.value;this.deselectObjectInternal(_,!1)}}catch(t){m.e(t)}finally{m.f()}this.selections=[],i&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(i,d,m,_){for(var t=null,r=-1,p=0;p<this.containers.length;p++){var l=this.containers[p];if(l.getLevel()>r&&l.isElementAllowed(m)&&l.isInside(i,d)){var k,x=!1,N=Ge(_);try{for(N.s();!(k=N.n()).done;){var H=k.value;if(l===H||l.isChildOf(H)){x=!0;break}}}catch(ee){N.e(ee)}finally{N.f()}x||(t=l,r=l.getLevel())}}return t}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(i){this.containers.push(i),this.addDataObject(i)}},{key:"deleteContainer",value:function(i){for(var d=0;d<this.containers.length;d++)if(this.containers[d].getId()===i.getId()){this.containers.splice(d,1);break}this.deleteDataObject(i)}},{key:"startBrowserDrag",value:function(i,d,m){this.browserDragType=i,this.browserDragId=m,this.getDocument().startBrowserDrag(d)}},{key:"isBrowserDragActive",value:function(i){return this.browserDragType===i}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(i,d,m,_,t){var r;t&&(r=new oe(m===_e.dragType.element?"Update position":"Resize",this));var p,l=Ge(this.selections);try{for(l.s();!(p=l.n()).done;){var k=p.value,x=this.getDataObject(k);x!==null&&(m!==_e.dragType.element||x.isDraggingAllowed())&&x.updateDrag(i,d,m,_,t?r:null)}}catch(N){l.e(N)}finally{l.f()}t&&!r.isEmpty()&&this.executeCommand(r)}},{key:"alignSelections",value:function(i){var d,m,_,t,r,p=Number.MAX_VALUE,l=Number.MIN_VALUE,k=Number.MAX_VALUE,x=Number.MIN_VALUE,N=0,H=Ge(this.selections);try{for(H.s();!(r=H.n()).done;){var ee=r.value,ne=this.getDataObject(ee);ne instanceof _e&&ne.hasProperty("x")&&(N++,d=ne.getValue("xVal"),m=ne.getValue("yVal"),_=ne.getValue("widthVal"),t=ne.getValue("heightVal"),d<p&&(p=d),d+_>l&&(l=d+_),m<k&&(k=m),m+t>x&&(x=m+t))}}catch(We){H.e(We)}finally{H.f()}var te=p+(l-p)/2,ve=k+(x-k)/2;if(N>1){var se,Ie=new oe("Align elements",this),Ae=Ge(this.selections);try{for(Ae.s();!(se=Ae.n()).done;){var ke=se.value,Ee=this.getDataObject(ke);if(Ee instanceof _e&&!(Ee instanceof Gt))switch(i){case $.alignment.left:var Te=new e(Ee.getId(),"x",""+p,e.type.text,this);Ie.addCommand(Te);break;case $.alignment.center:var He=new e(Ee.getId(),"x",""+(te-Ee.getValue("widthVal")/2),e.type.text,this);Ie.addCommand(He);break;case $.alignment.right:var De=new e(Ee.getId(),"x",""+(l-Ee.getValue("widthVal")),e.type.text,this);Ie.addCommand(De);break;case $.alignment.top:var Ve=new e(Ee.getId(),"y",""+k,e.type.text,this);Ie.addCommand(Ve);break;case $.alignment.middle:var Ye=new e(Ee.getId(),"y",""+(ve-Ee.getValue("heightVal")/2),e.type.text,this);Ie.addCommand(Ye);break;case $.alignment.bottom:var $e=new e(Ee.getId(),"y",""+(x-Ee.getValue("heightVal")),e.type.text,this);Ie.addCommand($e)}}}catch(We){Ae.e(We)}finally{Ae.f()}this.executeCommand(Ie)}}},{key:"toPixel",value:function(i){return i===""||typeof i=="string"&&(i=parseFloat(i.replace(",",".")),isNaN(i))?"0px":i+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(n("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var i=document.getElementById("rbro_loading_div");i&&i.remove()}},{key:"getTestData",value:function(){var i,d={},m=Ge(this.getParameters());try{for(m.s();!(i=m.n()).done;){var _=i.value;if(!_.getValue("showOnlyNameType")){var t=_.getValue("type");t===re.type.array||t===re.type.simpleArray||t===re.type.map?d[_.getName()]=_.getTestData(!1):t===re.type.string||t===re.type.number||t===re.type.date?d[_.getName()]=_.getValue("testData"):t===re.type.boolean?d[_.getName()]=_.getValue("testDataBoolean"):t===re.type.image?d[_.getName()]=_.getValue("testDataImage"):t===re.type.richText&&(d[_.getName()]=_.getValue("testDataRichText"))}}}catch(r){m.e(r)}finally{m.f()}return d}},{key:"previewInternal",value:function(i,d){var m=this,_=this.getRequestParameters();this.clearErrors();var t=_.reportServerHeaders;t["Content-Type"]="application/json",_.reportServerBasicAuth&&(t.Authorization="Basic "+btoa(_.reportServerBasicAuth.username+":"+_.reportServerBasicAuth.password)),this.showLoading();var r=new AbortController,p=setTimeout(function(){return r.abort()},_.reportServerTimeout);fetch(_.reportServerUrl,{signal:r.signal,method:"PUT",headers:t,body:JSON.stringify({report:this.getReport(),outputFormat:Dt.outputFormat.pdf,data:i,isTestData:d})}).then(function(l){if(!l.ok)throw Error(l.statusText);return m.properties.autoSaveOnPreview&&m.save(),l}).then(function(l){return l.text()}).then(function(l){if(clearTimeout(p),m.hideLoading(),l.substring(0,4)==="key:")m.reportKey=l.substring(4),m.getDocument().openPdfPreviewTab(_.reportServerUrl+"?key="+m.reportKey+"&outputFormat=pdf",t);else{m.reportKey=null;try{var k=JSON.parse(l);k.errors.length>0&&m.processErrors(k.errors,!1)}catch(x){alert("preview failed")}}}).catch(function(l){clearTimeout(p),m.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var i={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(i),i}},{key:"setModified",value:function(i){this.modified=i,i||(this.savedCommandIndex=this.lastCommandIndex),this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var i={docElements:[],parameters:[],styles:[],version:4};i.docElements=this.getDocElements(!1);var d,m=Ge(this.getParameters());try{for(m.s();!(d=m.n()).done;){var _=d.value;i.parameters.push(_.toJS())}}catch(l){m.e(l)}finally{m.f()}var t,r=Ge(this.getStyles());try{for(r.s();!(t=r.n()).done;){var p=t.value;i.styles.push(p.toJS())}}catch(l){r.e(l)}finally{r.f()}return i.documentProperties=this.documentProperties.toJS(),i}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var i=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(i)),this.setModified(!1)}catch(t){}if(this.getProperty("highlightUnusedParameters")){var d,m=Ge(this.getParameters());try{for(m.s();!(d=m.n()).done;){var _=d.value;_.editable&&_.setHighlightUnused(!1)}}catch(t){m.e(t)}finally{m.f()}}}},{key:"load",value:function(i){var d,m=Ge(this.getParameters());try{for(m.s();!(d=m.n()).done;){var _=d.value;this.deleteDataObject(_)}}catch(Qe){m.e(Qe)}finally{m.f()}var t,r=Ge(this.getStyles());try{for(r.s();!(t=r.n()).done;){var p=t.value;this.deleteDataObject(p)}}catch(Qe){r.e(Qe)}finally{r.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),i.version<2){var l,k=Ge(i.docElements);try{for(k.s();!(l=k.n()).done;){var x=l.value;x.elementType===_e.type.table&&(x.contentDataRows=[x.contentData],x.contentRows="1")}}catch(Qe){k.e(Qe)}finally{k.f()}}if(i.version<3){var N,H=Ge(i.docElements);try{for(H.s();!(N=H.n()).done;){var ee=N.value;if(ee.elementType===_e.type.table){for(var ne=0,te=0;te<ee.headerData.columnData.length;te++)ne+=ee.headerData.columnData[te].width;ee.width=ne}}}catch(Qe){H.e(Qe)}finally{H.f()}}if(i.version<4){var ve,se=Ge(i.parameters);try{for(se.s();!(ve=se.n()).done;){var Ie=ve.value;if(Ie.type===re.type.map){var Ae,ke={},Ee=Ge(Ie.children);try{for(Ee.s();!(Ae=Ee.n()).done;){var Te=Ae.value;ke[Te.name]=Te.testData,Te.testData=""}}catch(Qe){Ee.e(Qe)}finally{Ee.f()}Ie.testData=JSON.stringify(ke)}else Ie.type===re.type.boolean&&(Ie.testDataBoolean=!!Ie.testData)}}catch(Qe){se.e(Qe)}finally{se.f()}}this.documentProperties.setInitialData(i.documentProperties),this.documentProperties.setup();var He,De=Ge(i.styles);try{for(De.s();!(He=De.n()).done;){var Ve=He.value;this.createStyle(Ve)}}catch(Qe){De.e(Qe)}finally{De.f()}var Ye,$e=Ge(i.parameters);try{for($e.s();!(Ye=$e.n()).done;){var We=Ye.value;this.createParameter(We,null)}}catch(Qe){$e.e(Qe)}finally{$e.f()}var Ze,be=Ge(i.docElements);try{for(be.s();!(Ze=be.n()).done;){var qe=Ze.value;this.createDocElement(qe)}}catch(Qe){be.e(Qe)}finally{be.f()}if(this.getProperty("highlightUnusedParameters")){var Se,Ce=this.getDocElements(!0),Ke=Ge(this.getParameters());try{for(Ke.s();!(Se=Ke.n()).done;){var tt=Se.value;if(tt.editable){var Je,ut=new oe("Temp group"),at=Ge(Ce);try{for(at.s();!(Je=at.n()).done;)Je.value.addCommandsForChangedParameterName(tt,tt.getName(),ut)}catch(Qe){at.e(Qe)}finally{at.f()}var nt,st=Ge(this.getParameters());try{for(st.s();!(nt=st.n()).done;){var rt=nt.value;rt.getId()!==tt.getId()&&rt.addCommandsForChangedParameterName(tt,tt.getName(),ut)}}catch(Qe){st.e(Qe)}finally{st.f()}ut.isEmpty()&&tt.setHighlightUnused(!0)}}}catch(Qe){Ke.e(Qe)}finally{Ke.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var i=null;try{i=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(d){}i!==null&&this.load(i)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(i){this.previewInternal(i,!1)}},{key:"downloadSpreadsheet",value:function(){var i=this.getRequestParameters(),d=i.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx",m=i.reportServerHeaders,_=this;if(this.reportKey!==null)if(m&&Object.keys(m).length>0){var t=new XMLHttpRequest;for(var r in t.responseType="blob",t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE)if(t.status===200)if(t.response.type==="application/json"){var p=new FileReader;p.addEventListener("loadend",function(){var k=p.result;try{var x=JSON.parse(k);x.errors.length>0&&_.processErrors(x.errors,!1)}catch(N){alert("download failed")}}),p.readAsText(t.response)}else{var l=URL.createObjectURL(t.response);window.open(l,"_blank")}else alert("download failed")},t.open("GET",d,!0),m)m.hasOwnProperty(r)&&t.setRequestHeader(r,m[r]);t.send()}else window.open(d,"_blank")}},{key:"processErrors",value:function(i,d){(d===void 0||d)&&this.clearErrors();var m,_=Ge(i);try{for(_.s();!(m=_.n()).done;){var t=m.value;if(t.object_id){document.getElementById("rbro_menu_item".concat(t.object_id)).classList.add("rbroError");var r=this.getDataObject(t.object_id);r!==null&&r.addError(t)}}}catch(p){_.e(p)}finally{_.f()}i.length>0&&(this.deselectAll(!1),this.selectObject(i[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var i,d=Ge(document.querySelectorAll(".rbroMenuItem"));try{for(d.s();!(i=d.n()).done;)i.value.classList.remove("rbroError")}catch(l){d.e(l)}finally{d.f()}var m,_=Ge(document.querySelectorAll(".rbroFormRow"));try{for(_.s();!(m=_.n()).done;)m.value.classList.remove("rbroError")}catch(l){_.e(l)}finally{_.f()}var t,r=Ge(document.querySelectorAll(".rbroErrorMessage"));try{for(r.s();!(t=r.n()).done;)t.value.textContent=""}catch(l){r.e(l)}finally{r.f()}for(var p in this.objectMap)this.objectMap[p].clearErrors()}},{key:"destroy",value:function(){for(var i in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[i].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(i){var d=this.getDataObject(i);return d instanceof _e?d:null}},{key:"getParameterById",value:function(i){var d=this.getDataObject(i);return d instanceof re?d:null}},{key:"getParameterByName",value:function(i){return this.getParameterByNameInternal(i,null)}},{key:"getParameterByNameInternal",value:function(i,d){var m=null,_=null,t=i.indexOf(".");t!==-1&&(m=i.substring(0,t),_=i.substring(t+1));var r,p=Ge(d?d.getChildren():this.getParameters());try{for(p.s();!(r=p.n()).done;){var l=r.value;if(m!==null&&(l.getValue("type")===re.type.map||l.getValue("type")===re.type.array)&&l.getValue("name")===m)return this.getParameterByNameInternal(_,l);if(m===null&&l.getValue("name")===i)return l}}catch(k){p.e(k)}finally{p.f()}return null}},{key:"getStyleById",value:function(i){var d=this.getDataObject(i);return d instanceof $?d:null}},{key:"createDocElement",value:function(i){var d=bt.createElement(i.id,i,i.elementType,-1,!1,this),m=d.getMaxId();return m>=this.nextId&&(this.nextId=m+1),d}},{key:"createParameter",value:function(i,d){var m=new re(i.id,i,this),_=null;_=!d||d.getValue("type")!==re.type.array&&d.getValue("type")!==re.type.map?this.mainPanel.getParametersItem():d.getPanelItem();var t=this.getProperty("adminMode"),r=new Be("parameter",_,m,{hasChildren:!0,showAdd:t,showDelete:t,draggable:!0},this);m.setPanelItem(r),_.appendChild(r),m.setup(),m.getValue("type")!==re.type.array&&m.getValue("type")!==re.type.map&&(t&&(document.getElementById("rbro_menu_item_add".concat(m.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(m.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(m.getId())).style.display="none"),this.addParameter(m);var p=m.getMaxId();return p>=this.nextId&&(this.nextId=p+1),m}},{key:"createStyle",value:function(i){var d=new $(i.id,i,this),m=this.mainPanel.getStylesItem(),_=new Be("style",m,d,{draggable:!0},this);return d.setPanelItem(_),m.appendChild(_),this.addStyle(d),i.id>=this.nextId&&(this.nextId=i.id+1),d}},{key:"deleteDocElement",value:function(i){for(var d=0;d<this.docElements.length;d++)if(this.docElements[d].getId()===i.getId()){this.docElements.splice(d,1),this.deleteDataObject(i),this.notifyEvent(i,h.operation.remove);break}}},{key:"deleteParameter",value:function(i){this.deleteDataObject(i),i.getPanelItem().getParent().removeChild(i.getPanelItem()),this.notifyEvent(i,h.operation.remove)}},{key:"deleteStyle",value:function(i){this.deleteDataObject(i),i.getPanelItem().getParent().removeChild(i.getPanelItem()),this.notifyEvent(i,h.operation.remove)}}]),C}();sr.V=On})()})()},16496:function(lr){(function(){var sr=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Et=typeof window!="undefined",Pt=Et&&window.mozInnerScreenX!=null;function Xt(ft,lt,J){if(!Et)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var D=J&&J.debug||!1;if(D){var S=document.querySelector("#input-textarea-caret-position-mirror-div");S&&S.parentNode.removeChild(S)}var y=document.createElement("div");y.id="input-textarea-caret-position-mirror-div",document.body.appendChild(y);var g=y.style,v=window.getComputedStyle?getComputedStyle(ft):ft.currentStyle;g.whiteSpace="pre-wrap",ft.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",D||(g.visibility="hidden"),sr.forEach(function(h){g[h]=v[h]}),Pt?ft.scrollHeight>parseInt(v.height)&&(g.overflowY="scroll"):g.overflow="hidden",y.textContent=ft.value.substring(0,lt),ft.nodeName==="INPUT"&&(y.textContent=y.textContent.replace(/\s/g,"\xA0"));var E=document.createElement("span");E.textContent=ft.value.substring(lt)||".",y.appendChild(E);var b={top:E.offsetTop+parseInt(v.borderTopWidth),left:E.offsetLeft+parseInt(v.borderLeftWidth)};return D?E.style.backgroundColor="#aaa":document.body.removeChild(y),b}typeof lr.exports!="undefined"?lr.exports=Xt:Et&&(window.getCaretCoordinates=Xt)})()}}]);
