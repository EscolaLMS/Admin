(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"Ecy+":function(V,g,t){"use strict";var w=t("fOrg"),y=t("+KLJ"),d=t("k1fw"),W=t("T2oS"),$=t("W9HT"),K=t("+L6B"),Y=t("2/Rp"),D=t("tJVT"),M=t("q1tI"),L=t("I+Rq"),T=t("qLMh"),N=t("9og8"),b=t("9kvl");function n(O,l){return e.apply(this,arguments)}function e(){return e=Object(N.a)(Object(T.a)().mark(function O(l,r){return Object(T.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(b.g)("/api/admin/reports/report",Object(d.a)({params:l,method:"GET",useCache:!1},r||{})));case 1:case"end":return j.stop()}},O)})),e.apply(this,arguments)}var F=t("nhC9"),z=t("Mo4S"),A=t("8j+T"),s=t("nKUr"),G={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(l){var r=l.percent;return r>=.01?"".concat((r*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},J=function(l){var r=l.metric,C=l.header,j=C===void 0?!0:C,B=Object(M.useState)({mode:"init"}),H=Object(D.a)(B,2),c=H[0],x=H[1],u=Object(b.j)();Object(M.useEffect)(function(){x({mode:"loading"}),n({metric:r}).then(function(i){i.success?x({mode:"loaded",value:i.data}):x({mode:"error",error:i.message})}).catch(function(i){return x({mode:"error",error:i.toString()})})},[r]);var I=Object(M.useCallback)(function(){if(c.mode==="loaded"){var i={filename:r.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:u.formatMessage({id:r.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},R=new A.ExportToCsv(i);R.generateCsv(c.value)}},[c]);return Object(s.jsxs)(F.a,{title:j&&Object(s.jsx)(b.a,{id:r.split("\\").pop(),defaultMessage:r.split("\\").pop()}),extra:j&&Object(s.jsxs)(Y.a,{icon:Object(s.jsx)(z.a,{}),size:"small",onClick:function(){return I()},children:[" ",Object(s.jsx)(b.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[c.mode==="loading"&&Object(s.jsx)($.a,{}),c.mode==="loaded"&&Object(s.jsx)("div",{children:Object(s.jsx)(L.a,Object(d.a)(Object(d.a)({},G),{},{data:c.value}))}),c.mode==="error"&&Object(s.jsx)(y.a,{message:c.error,type:"error"})]})},Z=g.a=J},RyC9:function(V,g,t){"use strict";t.r(g);var w=t("+L6B"),y=t("2/Rp"),d=t("q1tI"),W=t("tMyG"),$=t("DYRE"),K=t("zeV3"),Y=t("14J3"),D=t("BMrR"),M=t("tU7J"),L=t("wFql"),T=t("k1fw"),N=t("oBTY"),b=t("tJVT"),n=t("9kvl"),e=t("nKUr"),F=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"current_users"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},z=F,A=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"customers"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},s=A,G=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"hall_of_fame"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},J=G,Z=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"ratings"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},O=Z,l=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"sales"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},r=l,C=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"tutorial"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},j=C,B=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"your_courses"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},H=B,c=t("Ecy+"),x=function(v){var h=v.metric;return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:h.split("\\").pop(),defaultMessage:h.split("\\").pop()})}),Object(e.jsx)("article",{children:Object(e.jsx)(c.a,{metric:h,header:!1})})]})},u=x,I=t("3ouR"),i=t("xGfz"),R=t("ChGz"),se=t("tW4V"),ce=t("oidH"),ie=t("ZETH"),k=Object(R.WidthProvider)(R.Responsive),q=2,_=150,P={"current-users":{component:z,w:1,h:1,maxH:1},customers:{component:s,w:1,h:1,maxH:1},"hall-of-fame":{component:J,w:1,h:1,maxH:1},ratings:{component:O,w:1,h:1,maxH:1},sales:{component:r,w:1,h:1,maxH:1},tutorial:{component:j,w:1,h:1,maxH:1},"your-courses":{component:H,w:1,h:1,maxH:1},"pie-chart-CoursesMoneySpentMetric":{w:1,h:4,maxH:4,component:u,props:{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric",header:!1}},"pie-chart-CoursesPopularityMetric":{w:1,h:4,maxH:4,component:u,props:{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric",header:!1,foo:"bar"}},"pie-chart-CoursesSecondsSpentMetric":{w:1,h:4,maxH:4,component:u,props:{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric",header:!1}},"pie-chart-TutorsPopularityMetric":{w:1,h:4,maxH:4,component:u,props:{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric",header:!1}},add:{w:1,h:1,maxH:1,component:u}},ee=["pie-chart-CoursesMoneySpentMetric","pie-chart-CoursesPopularityMetric","pie-chart-CoursesSecondsSpentMetric","pie-chart-TutorsPopularityMetric"],te=function(){var v=Object(d.useState)(ee),h=Object(b.a)(v,2),m=h[0],S=h[1],U=Object(d.useCallback)(function(a){S(function(p){return p.filter(function(f){return f!==a})})},[]),ne=Object(d.useCallback)(function(a){S(function(p){return[].concat(Object(N.a)(p),[a])})},[]),oe=Object(d.useMemo)(function(){var a=1,p=0,f=m.map(function(Q){var E=P[Q];return a=(a+E.w)%q,{i:Q,x:a,y:p++,w:E.w,h:E.h,maxH:E.maxH}});return{lg:f,md:f,sm:f,xs:f}},[m]),X=Object(d.useMemo)(function(){return Object.keys(P).filter(function(a){return!m.includes(a)&&a!=="add"})},[m]);return Object(e.jsx)("main",{children:Object(e.jsxs)(k,{rowHeight:_,autoSize:!0,cols:{lg:2,md:2,sm:2},className:"layout dashboard-draggable",layouts:oe,children:[m.filter(function(a){return a!=="add"}).map(function(a){return Object(e.jsxs)("div",{children:[P[a].component(Object(T.a)({},P[a].props)),Object(e.jsx)(y.a,{size:"small",type:"default",icon:Object(e.jsx)(I.a,{}),className:"dashboard-draggable__remove_btn",onClick:function(){return U(a)}})]},a)}),X.length>0&&Object(e.jsx)("div",{children:Object(e.jsx)("div",{className:"dashboard-draggable__component",children:Object(e.jsxs)("article",{children:[Object(e.jsx)(D.a,{align:"middle",justify:"center",children:Object(e.jsx)(L.a.Title,{level:3,children:Object(e.jsx)(n.a,{id:"add_new_component"})})}),Object(e.jsx)(D.a,{align:"middle",justify:"center",children:Object(e.jsx)(K.b,{wrap:!0,style:{justifyContent:"center"},children:X.map(function(a){return Object(e.jsxs)(y.a,{icon:Object(e.jsx)(i.a,{}),size:"small",type:"primary",onClick:function(){return ne(a)},children:[" ",Object(e.jsx)(n.a,{id:a})]},a)})})})]})})},"add")]})})},ae=t("I5X1"),re=t("Fghh"),de=g.default=function(){var o,v,h=Object(ae.a)("@@initialState"),m=h.initialState,S=m==null||(o=m.config)===null||o===void 0||(v=o.filter(function(U){return U.key==="frontURL"})[0])===null||v===void 0?void 0:v.data;return Object(e.jsx)(W.a,{extra:S&&Object(e.jsx)(y.a,{type:"primary",href:S,target:"_blank",children:Object(e.jsx)(re.a,{id:"go_to_platform"})}),children:Object(e.jsx)(te,{})})}},ZETH:function(V,g,t){}}]);
