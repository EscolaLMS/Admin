(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"/y+f":function(Oe,p,e){"use strict";e.d(p,"d",function(){return C}),e.d(p,"b",function(){return A}),e.d(p,"c",function(){return h}),e.d(p,"a",function(){return K});var C;(function(n){n.Unselected="",n.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",n.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",n.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",n.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",n.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",n.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",n.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",n.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",n.Project="EscolaLms\\TopicTypeProject\\Models\\Project",n.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(C||(C={}));var B;(function(n){n.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",n.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(B||(B={}));var g;(function(n){n.draft="draft",n.published="published",n.archived="archived"})(g||(g={}));var A;(function(n){n.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",n.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",n.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(A||(A={}));var h;(function(n){n.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(h||(h={}));var O;(function(n){n.cart_fixed="cart_fixed",n.cart_percent="cart_percent",n.product_fixed="product_fixed",n.product_percent="product_percent"})(O||(O={}));var K;(function(n){n.MULTIPLE_CHOICE="multiple_choice",n.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",n.TRUE_FALSE="true_false",n.SHORT_ANSWERS="short_answers",n.MATCHING="matching",n.NUMERICAL_QUESTION="numerical_question",n.ESSAY="essay",n.DESCRIPTION="description"})(K||(K={}))},"3fxf":function(Oe,p,e){"use strict";var C=e("DjyN"),B=e("NUBc"),g=e("Mwp2"),A=e("VXEj"),h=e("+L6B"),O=e("2/Rp"),K=e("5NDa"),n=e("5rEg"),L=e("oBTY"),a=e("k1fw"),s=e("tJVT"),W=e("DYRE"),m=e("zeV3"),E=e("tU7J"),b=e("wFql"),c=e("q1tI"),_=e.n(c),o=e("BAh9"),H=e("/MfK"),y=e("mAF4"),w=e("dF/Y"),D=e("9kvl"),$=e("DBJ/"),ie=e("lLVY"),te=e.n(ie),r=e("nKUr"),ne=e.n(r),k=function(re){var t=re.directory,q=re.onUploaded;return Object(r.jsxs)(m.b,{align:"start",children:[Object(r.jsxs)(b.a.Text,{children:[Object(r.jsx)(D.a,{id:"pages.files.filesBrowser"}),Object(r.jsx)(b.a.Text,{code:!0,children:t})]}),Object(r.jsx)($.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:t},onUpload:function(me){me.success&&q(t,me.data)}})]})},Me=function(re){var t=re.defaultDirectory,q=t===void 0?"/":t,pe=re.onFile,me=re.hideDeleteBtn,oe=me===void 0?!1:me,N=re.forceLoading,R=N===void 0?!1:N,z=Object(D.l)(),ee=Object(c.useState)({loading:!1,name:"",directory:q,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),Q=Object(s.a)(ee,2),x=Q[0],V=Q[1],l=Object(c.useRef)(),S=Object(c.useCallback)(function(j){V(function(i){return Object(a.a)(Object(a.a)({},i),{},{loading:j})})},[]),ae=Object(c.useCallback)(function(j,i){j.success&&V(function(u){return Object(a.a)(Object(a.a)(Object(a.a)({},u),j.data),{},{data:[{url:i.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(L.a)(j.data.data.map(function(P){return Object(a.a)(Object(a.a)({},P),{},{url:P.mime==="directory"?"".concat(i,"/").concat(P.name):P.url})}))).filter(function(P){return i==="/"||i===q?P.name!=="..":!0}),directory:i,loading:!1})})},[S]),ue=Object(c.useCallback)(function(j){var i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=function(){return l.current&&l.current.abort()};return P(),l.current=new AbortController,S(!0),Object(o.a)({directory:j,page:u},{signal:(i=l.current)===null||i===void 0?void 0:i.signal}).then(function(I){I.success&&ae(I,j)}).catch(function(){return S(!1)}),function(){P()}},[S]);Object(c.useEffect)(function(){return ue(q)},[q,ue]);var he=Object(c.useCallback)(function(j){S(!0),Object(o.c)(j).then(function(){ue(x.directory)}).catch(function(){S(!1)})},[ue,S,x.directory]),F=Object(c.useCallback)(function(j,i){var u,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=function(){return l.current&&l.current.abort()};return I(),l.current=new AbortController,S(!0),Object(o.b)({directory:j,name:i,page:P},{signal:(u=l.current)===null||u===void 0?void 0:u.signal}).then(function(M){M.success&&ae(M,j)}).catch(function(){return S(!1)}),function(){I()}},[S]);return Object(r.jsxs)("div",{className:"file-browser",children:[Object(r.jsxs)("div",{className:"file-browser__header",children:[Object(r.jsx)(n.a,{placeholder:z.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(i){return V(function(u){return Object(a.a)(Object(a.a)({},u),{},{name:i.target.value})})},value:x.name}),Object(r.jsxs)("div",{children:[Object(r.jsx)(O.a,{className:"file-browser__button",onClick:function(){return ue(x.directory)},children:Object(r.jsx)(D.a,{id:"reset"})}),Object(r.jsx)(O.a,{className:"file-browser__button",type:"primary",onClick:function(){return F(x.directory,x.name)},children:Object(r.jsx)(D.a,{id:"query"})})]})]}),Object(r.jsx)(A.b,{loading:x.loading||R,size:"small",itemLayout:"horizontal",dataSource:x.data,header:Object(r.jsx)(k,{directory:x.directory,onUploaded:function(i,u){u&&(ue(i),pe&&pe(u,i))}}),footer:Object(r.jsx)(k,{directory:x.directory,onUploaded:function(i,u){ue(i),u&&pe&&pe(u,i)}}),renderItem:function(i){return Object(r.jsx)(A.b.Item,{actions:i.mime!=="directory"&&!oe?[Object(r.jsx)(O.a,{type:"default",danger:!0,icon:Object(r.jsx)(H.a,{}),size:"small",onClick:function(){return he(i.url)}},"dir")]:[],children:Object(r.jsx)(A.b.Item.Meta,{avatar:i.mime==="directory"?Object(r.jsx)(O.a,{type:"primary",icon:Object(r.jsx)(y.a,{}),size:"small",onClick:function(){return ue(i.url)}}):Object(r.jsx)("a",{href:i.url,target:"_blank",rel:"noreferrer",children:Object(r.jsx)(O.a,{type:"default",icon:Object(r.jsx)(w.a,{}),size:"small"})}),description:Object(r.jsx)(_.a.Fragment,{children:Object(r.jsx)(O.a,{type:"text",size:"small",onClick:function(){return i.mime==="directory"?ue(i.url):pe&&pe(i,x.directory)},children:i.name})})})})}}),Object(r.jsx)(B.a,{pageSizeOptions:[],current:x.current_page,total:x.total,pageSize:x.per_page,onChange:function(i){return ue(x.directory,i)}})]})};p.a=Me},"5qq5":function(Oe,p,e){"use strict";var C=e("7Kak"),B=e("9yH6"),g=e("VTBJ"),A=e("Ff2n"),h=e("nKUr"),O=e.n(h),K=e("uX+g"),n=e("q1tI"),L=e.n(n),a=e("WFLz"),s=e("adzw"),W=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=L.a.forwardRef(function(_,o){var H=_.fieldProps,y=_.options,w=_.radioType,D=_.layout,$=_.proFieldProps,ie=_.valueEnum,te=Object(A.a)(_,W);return Object(h.jsx)(s.a,Object(g.a)(Object(g.a)({valueType:w==="button"?"radioButton":"radio",ref:o,valueEnum:Object(K.a)(ie,void 0)},te),{},{fieldProps:Object(g.a)({options:y,layout:D},H),proFieldProps:$,filedConfig:{customLightMode:!0}}))}),E=L.a.forwardRef(function(_,o){var H=_.fieldProps,y=_.children;return Object(h.jsx)(B.a,Object(g.a)(Object(g.a)({},H),{},{ref:o,children:y}))}),b=Object(a.a)(E,{valuePropName:"checked",ignoreWidth:!0}),c=b;c.Group=m,c.Button=B.a.Button,c.displayName="ProFormComponent",p.a=c},BAh9:function(Oe,p,e){"use strict";e.d(p,"a",function(){return h}),e.d(p,"b",function(){return K}),e.d(p,"e",function(){return L}),e.d(p,"d",function(){return s}),e.d(p,"c",function(){return W});var C=e("qLMh"),B=e("k1fw"),g=e("9og8"),A=e("9kvl");function h(E,b){return O.apply(this,arguments)}function O(){return O=Object(g.a)(Object(C.a)().mark(function E(b,c){return Object(C.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(A.i)("/api/admin/file/list",Object(B.a)({method:"GET",params:b},c||{})));case 1:case"end":return o.stop()}},E)})),O.apply(this,arguments)}function K(E,b){return n.apply(this,arguments)}function n(){return n=Object(g.a)(Object(C.a)().mark(function E(b,c){return Object(C.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(A.i)("/api/admin/file/find",Object(B.a)({method:"GET",params:b},c||{})));case 1:case"end":return o.stop()}},E)})),n.apply(this,arguments)}function L(E,b,c){return a.apply(this,arguments)}function a(){return a=Object(g.a)(Object(C.a)().mark(function E(b,c,_){var o;return Object(C.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=new FormData,o.append("file[]",b),o.append("target",c),y.abrupt("return",Object(A.i)("/api/admin/file/upload",Object(B.a)({method:"POST",data:o},_||{})));case 4:case"end":return y.stop()}},E)})),a.apply(this,arguments)}var s=function(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(b,"&w=").concat(c)};function W(E,b){return m.apply(this,arguments)}function m(){return m=Object(g.a)(Object(C.a)().mark(function E(b,c){return Object(C.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(A.i)("/api/admin/file/delete",Object(B.a)({method:"DELETE",data:{url:b}},c||{})));case 1:case"end":return o.stop()}},E)})),m.apply(this,arguments)}},BiO0:function(Oe,p,e){"use strict";var C=e("VTBJ"),B=e("Ff2n"),g=e("nKUr"),A=e.n(g),h=e("q1tI"),O=e.n(h),K=e("adzw"),n=["fieldProps","proFieldProps"],L=function(s,W){var m=s.fieldProps,E=s.proFieldProps,b=Object(B.a)(s,n);return Object(g.jsx)(K.a,Object(C.a)({ref:W,valueType:"textarea",fieldProps:m,proFieldProps:E},b))};p.a=O.a.forwardRef(L)},"DBJ/":function(Oe,p,e){"use strict";var C=e("k1fw"),B=e("y8nQ"),g=e("Vl3Y"),A=e("tJVT"),h=e("etVw"),O=e("q1tI"),K=e.n(O),n=e("9kvl"),L=e("qFDU"),a=e("nKUr"),s=e.n(a);function W(m){var E=m.onChange,b=m.onUpload,c=m.url,_=m.name,o=m.extra,H=m.accept,y=m.data,w=m.wrapInForm,D=w===void 0?!0:w,$=m.title,ie=m.formProps,te=m.maxFiles,r=m.clearListAfterUpload,ne=Object(O.useState)(),k=Object(A.a)(ne,2),Me=k[0],ge=k[1],re=Object(n.l)();return y&&y[_]&&delete y[_],Object(a.jsx)(L.a,{condition:D,wrap:function(q){return Object(a.jsx)(g.a,Object(C.a)(Object(C.a)({},ie),{},{children:q}))},children:Object(a.jsx)(h.a,{title:$||" ".concat(re.formatMessage({id:"upload_click_here"})),placeholder:re.formatMessage({id:"upload_click_here"}),onChange:function(q){ge(q),E&&E(q),q.file.status==="done"&&(b&&b(q.file.response),r&&ge(void 0))},label:Object(a.jsx)(n.a,{id:"upload"}),max:te!=null?te:2,fieldProps:{data:y,accept:H,name:_,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(c),extra:o,fileList:Me==null?void 0:Me.fileList})})}p.a=W},FJDo:function(Oe,p,e){"use strict";var C=e("VTBJ"),B=e("Ff2n"),g=e("nKUr"),A=e.n(g),h=e("q1tI"),O=e.n(h),K=e("adzw"),n=["fieldProps","min","proFieldProps","max"],L=function(s,W){var m=s.fieldProps,E=s.min,b=s.proFieldProps,c=s.max,_=Object(B.a)(s,n);return Object(g.jsx)(K.a,Object(C.a)({valueType:"digit",fieldProps:Object(C.a)({min:E,max:c},m),ref:W,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:b},_))};p.a=O.a.forwardRef(L)},HEzf:function(Oe,p,e){"use strict";var C=e("EFp3"),B=e("O/iA"),g=e("OaEy"),A=e("wx14"),h=e("U8pU"),O=e("ODXe"),K=e("TSYQ"),n=e.n(K),L=e("Zm9Q"),a=e("bT9E"),s=e("q1tI"),W=e.n(s),m=e("H84U"),E=e("2fM7"),b=e("0n0R"),c=E.a.Option;function _(he){return he&&he.type&&(he.type.isSelectOption||he.type.isSelectOptGroup)}var o=function(F,j){var i=F.prefixCls,u=F.className,P=F.popupClassName,I=F.dropdownClassName,M=F.children,Pe=F.dataSource,se=Object(L.a)(M),De;if(se.length===1&&Object(b.c)(se[0])&&!_(se[0])){var ve=Object(O.a)(se,1);De=ve[0]}var Le=De?function(){return De}:void 0,Re;return se.length&&_(se[0])?Re=M:Re=Pe?Pe.map(function(je){if(Object(b.c)(je))return je;switch(Object(h.a)(je)){case"string":return s.createElement(c,{key:je,value:je},je);case"object":{var ce=je.value;return s.createElement(c,{key:ce,value:ce},je.text)}default:return}}):[],s.createElement(m.a,null,function(je){var ce=je.getPrefixCls,Ce=ce("select",i);return s.createElement(E.a,Object(A.a)({ref:j},Object(a.a)(F,["dataSource"]),{prefixCls:Ce,popupClassName:P||I,className:n()("".concat(Ce,"-auto-complete"),u),mode:E.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:Le}),Re)})},H=s.forwardRef(o);H.Option=c;var y=H,w=e("y8nQ"),D=e("Vl3Y"),$=e("+L6B"),ie=e("2/Rp"),te=e("5NDa"),r=e("5rEg"),ne=e("tJVT"),k=e("VMEa"),Me=e("rmhi"),ge=e("Qurx"),re=e("F/zT"),t=e("5qq5"),q=e("BiO0"),pe=e("tneF"),me=e("FJDo"),oe=e("9kvl"),N=e("+up7"),R=e("hd5d"),z=e("3fxf"),ee=e("ovOe"),Q=e.n(ee),x=e("bRQS"),V=e("4i/N"),l=e("nKUr"),S=function(F){var j=F.value,i=F.onChange,u=F.type,P=u===void 0?"file":u,I=Object(s.useState)(!1),M=Object(ne.a)(I,2),Pe=M[0],se=M[1];return Object(l.jsxs)(W.a.Fragment,{children:[Object(l.jsxs)(k.a.Group,{children:[Object(l.jsx)(r.a,{value:j,readOnly:!0}),Object(l.jsxs)(ie.a,{size:"small",type:"primary",onClick:function(){return se(!Pe)},children:["toggle ",P," browser"]})]}),Pe&&Object(l.jsx)(z.a,{onFile:function(ve,Le){return i&&i("".concat(Le,"/").concat(ve.name))}})]})},ae=function(F){var j=Object(oe.l)(),i=F.visible,u=F.onVisibleChange,P=F.onFinish,I=F.id,M=F.initialData,Pe=F.groups,se=D.a.useForm(),De=Object(ne.a)(se,1),ve=De[0],Le=!I||I===-1,Re=Object(s.useState)("text"),je=Object(ne.a)(Re,2),ce=je[0],Ce=je[1],J=Object(s.useCallback)(function(){return!!(ve.getFieldValue("group")==="global"||M)},[ve,M]),v=Object(s.useState)(""),d=Object(ne.a)(v,2),T=d[0],G=d[1];Object(s.useEffect)(function(){if(typeof I=="object"){var f;ve.setFieldsValue(I),Ce((f=I.type)!==null&&f!==void 0?f:"text")}else I&&I!==-1?Object(N.d)(Number(I)).then(function(U){U.success&&(ve.setFieldsValue(U.data),Ce(U.data.type),G(U.data.group))}):(ve.resetFields(),Ce("text"))},[I,ve,M]);var le=Object(s.useCallback)(function(f){f.type&&f.type!==ce&&Ce(f.type)},[ce]);return Object(l.jsxs)(Me.a,{form:ve,title:j.formatMessage({id:I?"editSetting":"newSetting",defaultMessage:I?"editSetting":"newSetting"}),width:"60vw",visible:!!i,onVisibleChange:u,onFinish:P,onValuesChange:le,children:[Object(l.jsxs)(k.a.Group,{children:[M?Object(l.jsx)(ge.a,{label:Object(l.jsx)(oe.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:J()}):Object(l.jsx)(k.a.Item,{label:Object(l.jsx)(oe.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(l.jsx)(y,{style:{width:"300px"},autoFocus:!0,value:T,onChange:function(U){return G(U)},filterOption:function(U,be){var X;return(be==null||(X=be.children)===null||X===void 0?void 0:X.toString().toLowerCase().indexOf(U.toLowerCase()))!==-1},children:Pe.map(function(f){return Object(l.jsx)(y.Option,{value:f,children:f},f)})})}),Object(l.jsx)(ge.a,{label:Object(l.jsx)(oe.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:J()})]}),Object(l.jsxs)(k.a.Group,{children:[Object(l.jsx)(re.a,{name:"enumerable",disabled:J(),label:Object(l.jsx)(oe.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(l.jsx)(re.a,{name:"public",disabled:J(),label:Object(l.jsx)(oe.a,{id:"public",defaultMessage:"public"})})]}),Object(l.jsx)(k.a.Group,{children:Object(l.jsx)(t.a.Group,{disabled:!!(!Le||M),name:"type",label:Object(l.jsx)(oe.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"}]})}),Object(l.jsxs)("div",{children:[ce==="text"&&Object(l.jsx)(ge.a,{width:"lg",name:"value",label:Object(l.jsx)(oe.a,{id:"value"})}),ce==="json"&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(q.a,{width:"lg",name:"value",label:Object(l.jsx)(oe.a,{id:"value"}),tooltip:"".concat(j.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(l.jsx)(k.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(l.jsx)(Q.a,{src:JSON.parse(ve.getFieldValue("value"))})}catch(U){return Object(l.jsx)(Q.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(ce==="file"||ce==="image")&&Object(l.jsx)(k.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(l.jsx)(S,{type:ce})}),ce==="markdown"&&Object(l.jsx)(k.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(l.jsx)(R.a,{directory:"settings/wysiwyg"})}),ce==="boolean"?Object(l.jsx)(re.a,{name:"data",label:Object(l.jsx)(oe.a,{id:"value"}),checkedChildren:Object(l.jsx)(x.a,{}),unCheckedChildren:Object(l.jsx)(V.a,{})}):Object(l.jsx)(k.a.Item,{noStyle:!0,hidden:!0,children:Object(l.jsx)(pe.a,{name:"data",valuePropName:"data"})}),ce==="number"&&Object(l.jsx)(me.a,{name:"data",label:Object(l.jsx)(oe.a,{id:"value"})})]})]})},ue=p.a=ae},"O/iA":function(Oe,p,e){},Qurx:function(Oe,p,e){"use strict";var C=e("VTBJ"),B=e("Ff2n"),g=e("nKUr"),A=e.n(g),h=e("adzw"),O=["fieldProps","proFieldProps"],K=["fieldProps","proFieldProps"],n="text",L=function(m){var E=m.fieldProps,b=m.proFieldProps,c=Object(B.a)(m,O);return Object(g.jsx)(h.a,Object(C.a)({valueType:n,fieldProps:E,filedConfig:{valueType:n},proFieldProps:b},c))},a=function(m){var E=m.fieldProps,b=m.proFieldProps,c=Object(B.a)(m,K);return Object(g.jsx)(h.a,Object(C.a)({valueType:"password",fieldProps:E,proFieldProps:b,filedConfig:{valueType:n}},c))},s=L;s.Password=a,s.displayName="ProFormComponent",p.a=s},YjuE:function(Oe,p,e){"use strict";e.r(p);var C=e("fOrg"),B=e("+KLJ"),g=e("T2oS"),A=e("W9HT"),h=e("tJVT"),O=e("q1tI"),K=e.n(O),n=e("nhC9"),L=e("Ty5D"),a=e("9kvl"),s=e("tMyG"),W=e("+up7"),m=e("P2fV"),E=e("NJEC"),b=e("5Dmo"),c=e("3S7+"),_=e("+L6B"),o=e("2/Rp"),H=e("+BJd"),y=e("mr32"),w=e("jrin"),D=e("qLMh"),$=e("k1fw"),ie=e("miYZ"),te=e("tsqr"),r=e("9og8"),ne=e("xvlK"),k=e("Qiat"),Me=e("HEzf"),ge=e("G3dp"),re=e("/MfK"),t=e("nKUr"),q=function(){var J=Object(r.a)(Object(D.a)().mark(function v(d,T,G){var le;return Object(D.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return le=te.b.loading(d.formatMessage({id:"loading"})),U.prev=1,U.next=4,G&&G!==-1?Object(W.h)(G,Object($.a)({},T)):Object(W.b)(Object($.a)({},T));case 4:return le(),te.b.success(d.formatMessage({id:"success"})),U.abrupt("return",!0);case 9:return U.prev=9,U.t0=U.catch(1),le(),te.b.error(d.formatMessage({id:"error"})),U.abrupt("return",!1);case 14:case"end":return U.stop()}},v,null,[[1,9]])}));return function(d,T,G){return J.apply(this,arguments)}}(),pe=function(){var J=Object(r.a)(Object(D.a)().mark(function v(d,T){var G;return Object(D.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return G=te.b.loading(d.formatMessage({id:"loading"})),f.prev=1,f.next=4,Object(W.c)(T);case 4:return G(),te.b.success(d.formatMessage({id:"success"})),f.abrupt("return",!0);case 9:return f.prev=9,f.t0=f.catch(1),G(),te.b.error(d.formatMessage({id:"error"})),f.abrupt("return",!1);case 14:case"end":return f.stop()}},v,null,[[1,9]])}));return function(d,T){return J.apply(this,arguments)}}(),me=function(){var v=Object(O.useState)(!1),d=Object(h.a)(v,2),T=d[0],G=d[1],le=Object(O.useState)([]),f=Object(h.a)(le,2),U=f[0],be=f[1],X=Object(O.useRef)(),fe=Object(a.l)(),_e=Object(a.m)("@@initialState"),Y=_e.setInitialState;Object(O.useEffect)(function(){Object(W.e)().then(function(Z){Z.success&&be(Z.data.filter(function(de){return de!=="global"}))})},[]);var ye=[{title:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:U.sort().reduce(function(Z,de){return Object($.a)(Object($.a)({},Z),{},Object(w.a)({},de,de))},{})},{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return Object(t.jsx)(y.a,{color:Ee.enumerable?"success":"error",children:Object(t.jsx)(a.a,{id:Ee.enumerable?"true":"false",defaultMessage:Ee.enumerable?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return Object(t.jsx)(y.a,{color:Ee.public?"success":"error",children:Object(t.jsx)(a.a,{id:Ee.public?"true":"false",defaultMessage:Ee.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(de,Ee){return[Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(o.a,{type:"primary",icon:Object(t.jsx)(ge.a,{}),onClick:function(){return G(Ee.id)}})},"edit"),Object(t.jsx)(E.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(r.a)(Object(D.a)().mark(function Te(){var Ue;return Object(D.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,pe(fe,Ee.id);case 2:Ue=Ae.sent,Ue&&(G(!1),X.current&&X.current.reload());case 4:case"end":return Ae.stop()}},Te)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(o.a,{type:"primary",icon:Object(t.jsx)(re.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(K.a.Fragment,{children:[Object(t.jsx)(k.a,{headerTitle:fe.formatMessage({id:"menu.settings"}),actionRef:X,rowKey:"id",search:{},toolBarRender:function(){return[Object(t.jsxs)(o.a,{type:"primary",onClick:function(){G(-1)},children:[Object(t.jsx)(ne.a,{})," ",Object(t.jsx)(a.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(de){var Ee=de.pageSize,Te=de.current,Ue=de.group;return Object(W.f)({pageSize:Ee,current:Te,group:Ue}).then(function(Ie){return Ie.success?{data:Ie.data.filter(function(Ae){return Ae.group!=="global"}),total:Ie.meta.total,success:!0}:[]})},columns:ye}),Object(t.jsx)(Me.a,{groups:U,id:T,visible:Number.isInteger(T),onVisibleChange:function(de){return!de&&G(!1)},onFinish:function(){var Z=Object(r.a)(Object(D.a)().mark(function de(Ee){var Te,Ue,Ie;return Object(D.a)().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return Te=Ee,xe.next=3,q(fe,Te,Number(T));case 3:if(Ue=xe.sent,!Ue){xe.next=12;break}if(G(!1),X.current&&X.current.reload(),Te.group!=="global"){xe.next=12;break}return xe.next=10,Object(W.f)({current:1,pageSize:100,group:"global"});case 10:Ie=xe.sent,Y(function(Be){return Object($.a)(Object($.a)({},Be),{},{config:Ie.success?Ie.data:Be==null?void 0:Be.config})});case 12:case"end":return xe.stop()}},de)}));return function(de){return Z.apply(this,arguments)}}()})]})},oe=me,N=e("y8nQ"),R=e("Vl3Y"),z=e("tU7J"),ee=e("wFql"),Q=e("rmhi"),x=e("VMEa"),V=e("F/zT"),l=e("BiO0"),S=e("ovOe"),ae=e.n(S),ue=e("Fghh"),he=e("Qurx"),F=function(v){var d=v.field,T=v.name;return d!=null&&d.includes("boolean")?Object(t.jsx)(V.a,{name:T,checkedChildren:Object(t.jsx)(ue.a,{id:"true"}),unCheckedChildren:Object(t.jsx)(ue.a,{id:"false"})}):Object(t.jsx)(he.a,{width:"lg",name:T})},j=F,i=ee.a.Text,u;(function(J){J.Array="array",J.String="string"})(u||(u={}));var P=function(v,d){return d===u.Array?v&&Array.isArray(v)?JSON.stringify(v):"[]":v},I=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1?arguments[1]:void 0;if(d===u.Array){var T=JSON.parse(v);return T&&Array.isArray(T)?T:[]}return v},M=function(v){var d=Object(ue.k)(),T=v.visible,G=v.onVisibleChange,le=v.onFinish,f=v.value,U=R.a.useForm(),be=Object(h.a)(U,1),X=be[0],fe=Object(O.useMemo)(function(){return(f.rules||[]).includes(u.Array)?u.Array:u.String},[f.rules]);return Object(O.useEffect)(function(){X.setFieldsValue(Object($.a)(Object($.a)({},f),{},{value:P(f.value,fe)}))},[fe,f,X]),Object(t.jsxs)(Q.a,{form:X,title:f.full_key,width:"60vw",visible:T,onVisibleChange:G,onFinish:Object(r.a)(Object(D.a)().mark(function _e(){var Y;return Object(D.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,Object(W.g)({key:f.full_key,value:I(X.getFieldsValue().value,fe)});case 2:if(Y=Z.sent,!Y.success){Z.next=6;break}return le(Y.success===!0),Z.abrupt("return",Y.success);case 6:return Z.abrupt("return");case 7:case"end":return Z.stop()}},_e)})),children:[Object(t.jsxs)(x.a.Group,{children:[Object(t.jsx)(V.a,{disabled:!0,name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(V.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(x.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(i,{code:!0,children:JSON.stringify(X.getFieldValue("rules"))})}})]}),fe===u.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(l.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(d.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(ae.a,{src:JSON.parse(X.getFieldValue("value"))})}catch(Y){return Object(t.jsx)(ae.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(x.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"value"}),children:function(){return Object(t.jsx)(j,{field:X.getFieldValue("rules"),name:"value"})}})})]})},Pe=M,se=[{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,render:function(v,d){return Object(t.jsx)(y.a,{color:d.readonly?"success":"error",children:Object(t.jsx)(a.a,{id:d.readonly?"true":"false",defaultMessage:d.readonly?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(v,d){return Object(t.jsx)(y.a,{color:d.public?"success":"error",children:Object(t.jsx)(a.a,{id:d.public?"true":"false",defaultMessage:d.public?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(v,d){return typeof d.value=="boolean"?Object(t.jsx)(y.a,{color:d.value?"success":"error",children:Object(t.jsx)(a.a,{id:d.value?"true":"false",defaultMessage:d.value?"true":"false"})}):d.value}}],De=function J(v,d){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!v||typeof v!="object"?!1:(Object.keys(v).forEach(function(G){var le=v[G];G===d?T.push(v):typeof le=="object"&&J(le,d,T)}),T)},ve=function(v){var d=v.packageName,T=v.values,G=v.onValueUpdated,le=Object(a.l)(),f=Object(O.useState)(),U=Object(h.a)(f,2),be=U[0],X=U[1],fe=Object(O.useMemo)(function(){var _e=T[d];return De(_e,"rules")},[T,d]);return Object(t.jsxs)(K.a.Fragment,{children:[Object(t.jsx)(k.a,{headerTitle:le.formatMessage({id:"menu.settings"}),rowKey:"key",search:{},dataSource:fe,columns:[].concat(se,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Y,ye){return[Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(o.a,{type:"primary",icon:Object(t.jsx)(ge.a,{}),onClick:function(){return X(ye)}})},"edit")]}}])}),be&&Object(t.jsx)(Pe,{value:be,visible:be!==void 0,onVisibleChange:function(Y){return Y===!1&&X(void 0)},onFinish:Object(r.a)(Object(D.a)().mark(function _e(){return Object(D.a)().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:G();case 1:case"end":return ye.stop()}},_e)}))})]})},Le=ve,Re=e("t4ZK"),je=e("I5X1"),ce=function(v){return v.replaceAll("escolalms","").split("_").join("")},Ce=p.default=function(){var J=Object(L.l)(),v=Object(a.l)(),d=J.tab,T=d===void 0?"user_settings":d,G=Object(O.useState)(),le=Object(h.a)(G,2),f=le[0],U=le[1],be=Object(O.useCallback)(function(){Object(W.a)().then(function(Y){Y.success&&U(Y.data)})},[]),X=Object(je.a)("@@initialState"),fe=X.initialState,_e=Object(O.useCallback)(function(){var Y;return(fe==null||(Y=fe.config)===null||Y===void 0?void 0:Y.length)!==0},[fe]);return Object(O.useEffect)(function(){be()},[]),f?Object(t.jsxs)(s.a,{title:Object(t.jsx)(a.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:v.formatMessage({id:"menu.Configuration.settings"})},{path:String(T),breadcrumbName:String(T)}]}},children:[!_e()&&Object(t.jsx)(B.a,{message:Object(t.jsx)(a.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(t.jsx)(a.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(t.jsxs)(n.a,{tabs:{type:"card",activeKey:T,onChange:function(ye){return a.f.push("/configuration/settings/".concat(ye))}},children:[Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user.settings"}),children:Object(t.jsx)(oe,{})},"user_settings"),Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"global_settings"}),children:Object(t.jsx)(Re.a,{})},"global_settings"),Object.keys(f).map(function(Y){return Object(t.jsxs)(n.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"package"})," ",ce(Y)]}),children:[Object(t.jsx)(Le,{values:f,packageName:Y,onValueUpdated:function(){return be()}}),Y]},Y)})]})]}):Object(t.jsx)(A.a,{})}},hd5d:function(Oe,p,e){"use strict";var C=e("qLMh"),B=e("9og8"),g=e("q1tI"),A=e.n(g),h=e("3Ef1"),O=e.n(h),K=e("BAh9"),n=e("vtG9"),L=e.n(n),a=e("9kvl"),s=e("nKUr"),W=e.n(s),m=function(b){var c=b.value,_=b.onChange,o=b.directory,H=o===void 0?"/wysiwyg":o,y=Object(a.l)();return Object(s.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(s.jsx)(O.a,{uploadImage:function(){var w=Object(B.a)(Object(C.a)().mark(function D($){var ie,te;return Object(C.a)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,Object(K.e)($,H);case 2:if(ie=ne.sent,!ie.success){ne.next=6;break}return te=ie.data[0].name.includes("/")?ie.data[0].name:"".concat(H).concat(ie.data[0].name),ne.abrupt("return",Object(K.d)(te,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return ne.stop()}},D)}));return function(D){return w.apply(this,arguments)}}(),defaultValue:c||"",onChange:function(D){return _&&_(D())},placeholder:y.formatMessage({id:"wysiwyg_placeholder"})})})};p.a=m},lLVY:function(Oe,p,e){},t4ZK:function(Oe,p,e){"use strict";e.d(p,"b",function(){return q});var C=e("P2fV"),B=e("NJEC"),g=e("5Dmo"),A=e("3S7+"),h=e("+L6B"),O=e("2/Rp"),K=e("tJVT"),n=e("jrin"),L=e("oBTY"),a=e("qLMh"),s=e("k1fw"),W=e("miYZ"),m=e("tsqr"),E=e("9og8"),b=e("xvlK"),c=e("q1tI"),_=e.n(c),o=e("9kvl"),H=e("Qiat"),y=e("/y+f"),w=e("+up7"),D=e("HEzf"),$=e("G3dp"),ie=e("/MfK"),te=e("ujla"),r=e("nKUr"),ne=e.n(r),k=function(){var N=Object(E.a)(Object(a.a)().mark(function R(z,ee,Q){var x,V;return Object(a.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return x=m.b.loading(z.formatMessage({id:"loading"})),S.prev=1,S.next=4,Q&&Q!==-1?Object(w.h)(Q,Object(s.a)({},ee)):Object(w.b)(Object(s.a)({},ee));case 4:return V=S.sent,x(),m.b.success(z.formatMessage({id:"success"})),S.abrupt("return",{success:!0,updatedSettings:V});case 10:return S.prev=10,S.t0=S.catch(1),x(),m.b.error(z.formatMessage({id:"error"})),S.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return S.stop()}},R,null,[[1,10]])}));return function(z,ee,Q){return N.apply(this,arguments)}}(),Me=function(){var N=Object(E.a)(Object(a.a)().mark(function R(z,ee){var Q;return Object(a.a)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return Q=m.b.loading(z.formatMessage({id:"loading"})),V.prev=1,V.next=4,Object(w.c)(ee);case 4:return Q(),m.b.success(z.formatMessage({id:"success"})),V.abrupt("return",!0);case 9:return V.prev=9,V.t0=V.catch(1),Q(),m.b.error(z.formatMessage({id:"error"})),V.abrupt("return",!1);case 14:case"end":return V.stop()}},R,null,[[1,9]])}));return function(z,ee){return N.apply(this,arguments)}}(),ge=function(R){return R.toLowerCase().replace(/(_\w)/g,function(z){return z.toUpperCase().substr(1)})},re=function N(R){return R.reduce(function(z,ee){return[].concat(Object(L.a)(z),Object(L.a)(ee.routes?N(ee.routes):[]),[ee])},[]).filter(function(z){return z.layout!==!1&&z.hideInMenu!==!0})},t=function(R){return"hideInMenu-".concat(ge(R.split("/").join("_")))},q=function(R){return"disableTopicType-".concat(R)},pe=[].concat(Object(L.a)(Object.keys(y.d).map(function(N,R){return{id:-1*(R+200),key:q(N),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(L.a)(re(Object(te.a)()).filter(function(N){return N.path&&N.path!=="/"}).map(function(N,R){return{id:-1*(R+100),path:N.path,key:t(N.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(L.a)(["ECommerce","Certificates"].map(function(N,R){return{id:-1*(R+100),key:"disable-".concat(N),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(N,R,z){return Object(s.a)(Object(s.a)({},N),{},Object(n.a)({},R.key,Object(s.a)(Object(s.a)({},R),{},{id:-1*z})))},{}),me=Object(s.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0}},pe),oe=function(){var R=Object(c.useState)(!1),z=Object(K.a)(R,2),ee=z[0],Q=z[1],x=Object(c.useRef)(),V=Object(o.l)(),l=Object(o.m)("@@initialState"),S=l.setInitialState,ae=l.initialState,ue=[{title:Object(r.jsx)(o.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(r.jsx)(o.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(r.jsx)(o.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(j,i){return i.value}},{hideInSearch:!0,title:Object(r.jsx)(o.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(j,i){return[i.id>0?Object(r.jsx)(A.a,{title:Object(r.jsx)(o.a,{id:"edit",defaultMessage:"edit"}),children:Object(r.jsx)(O.a,{type:"primary",icon:Object(r.jsx)($.a,{}),onClick:function(){return Q(i.id)}})},"edit"):Object(r.jsx)(A.a,{title:Object(r.jsx)(o.a,{id:"create",defaultMessage:"create"}),children:Object(r.jsx)(O.a,{type:"primary",icon:Object(r.jsx)(b.a,{}),onClick:function(){Q(me[i.key]||-1)}})},"create"),Object(r.jsx)(B.a,{title:Object(r.jsx)(o.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(E.a)(Object(a.a)().mark(function u(){var P;return Object(a.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Me(V,i.id);case 2:P=M.sent,P&&(Q(!1),x.current&&x.current.reload());case 4:case"end":return M.stop()}},u)})),okText:Object(r.jsx)(o.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(o.a,{id:"no",defaultMessage:"No"}),children:i.id>0?Object(r.jsx)(A.a,{title:Object(r.jsx)(o.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(O.a,{type:"primary",icon:Object(r.jsx)(ie.a,{}),danger:!0})}):null},"delete")]}}],he=function(j){var i;if(!!j&&(!(ae!=null&&(i=ae.config)!==null&&i!==void 0&&i.length)&&j&&S(Object(s.a)(Object(s.a)({},ae),{},{config:[j]})),!!(ae!=null&&ae.config))){var u=ae==null?void 0:ae.config.map(function(P){return P.key===j.key?Object(s.a)(Object(s.a)({},P),j):P});S(Object(s.a)(Object(s.a)({},ae),{},{config:u}))}};return Object(r.jsxs)(_.a.Fragment,{children:[Object(r.jsx)(H.a,{headerTitle:V.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:x,rowKey:"id",request:function(j){var i=j.pageSize,u=j.current;return Object(w.f)({pageSize:i,current:u,group:"global"}).then(function(P){if(P.success){var I=[].concat(Object(L.a)(Object.keys(me).map(function(M){return P.data.find(function(Pe){return Pe.key===M})||me[M]})),Object(L.a)(P.data.filter(function(M){return!Object.keys(me).includes(M.key)})));return{data:I,total:I.length,success:!0}}return[]})},columns:ue}),Object(r.jsx)(D.a,{groups:[],id:ee,visible:ee,initialData:me,onVisibleChange:function(j){return!j&&Q(!1)},onFinish:function(){var F=Object(E.a)(Object(a.a)().mark(function j(i){var u,P,I,M;return Object(a.a)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return u=i,u.type==="number"&&(u=Object(s.a)(Object(s.a)({},u),{},{value:String(u.data)})),u.type==="boolean"&&(u=Object(s.a)(Object(s.a)({},u),{},{value:u.data})),se.next=5,k(V,u,Number(ee));case 5:P=se.sent,I=P.success,M=P.updatedSettings,I&&(M!=null&&M.success&&he(M.data),Q(!1),x.current&&x.current.reload());case 9:case"end":return se.stop()}},j)}));return function(j){return F.apply(this,arguments)}}()})]})};p.a=oe},tneF:function(Oe,p,e){"use strict";var C=e("sRBo"),B=e("kaz8"),g=e("VTBJ"),A=e("Ff2n"),h=e("nKUr"),O=e.n(h),K=e("uX+g"),n=e("q1tI"),L=e.n(n),a=e("WFLz"),s=e("adzw"),W=["options","fieldProps","proFieldProps","valueEnum"],m=L.a.forwardRef(function(_,o){var H=_.options,y=_.fieldProps,w=_.proFieldProps,D=_.valueEnum,$=Object(A.a)(_,W);return Object(h.jsx)(s.a,Object(g.a)({ref:o,valueType:"checkbox",valueEnum:Object(K.a)(D,void 0),fieldProps:Object(g.a)({options:H},y),lightProps:Object(g.a)({labelFormatter:function(){return Object(h.jsx)(s.a,Object(g.a)({ref:o,valueType:"checkbox",mode:"read",valueEnum:Object(K.a)(D,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(g.a)({options:H},y),proFieldProps:w},$))}},$.lightProps),proFieldProps:w},$))}),E=L.a.forwardRef(function(_,o){var H=_.fieldProps,y=_.children;return Object(h.jsx)(B.a,Object(g.a)(Object(g.a)({ref:o},H),{},{children:y}))}),b=Object(a.a)(E,{valuePropName:"checked"}),c=b;c.Group=m,p.a=c},vtG9:function(Oe,p,e){}}]);
