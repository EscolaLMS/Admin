(window.webpackJsonp=window.webpackJsonp||[]).push([[36,10],{"/y+f":function(be,O,e){"use strict";e.d(O,"c",function(){return u}),e.d(O,"a",function(){return p}),e.d(O,"b",function(){return G});var u;(function(b){b.Unselected="",b.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",b.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",b.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",b.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",b.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",b.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",b.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",b.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco"})(u||(u={}));var m;(function(b){b.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",b.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(m||(m={}));var f;(function(b){b.draft="draft",b.published="published",b.archived="archived"})(f||(f={}));var p;(function(b){b.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",b.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",b.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(p||(p={}));var G;(function(b){b.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(G||(G={}));var T;(function(b){b.cart_fixed="cart_fixed",b.cart_percent="cart_percent",b.product_fixed="product_fixed",b.product_percent="product_percent"})(T||(T={}))},"0eZe":function(be,O,e){"use strict";var u=e("14J3"),m=e("BMrR"),f=e("jCWc"),p=e("kPKH"),G=e("+BJd"),T=e("mr32"),b=e("oBTY"),W=e("5NDa"),C=e("5rEg"),l=e("T2oS"),B=e("W9HT"),P=e("miYZ"),S=e("tsqr"),j=e("qLMh"),c=e("k1fw"),x=e("9og8"),E=e("tJVT"),o=e("q1tI"),d=e("VMEa"),R=e("Qurx"),te=e("5qq5"),Z=e("F/zT"),r=e("FJDo"),s=e("nhC9"),n=e("9kvl"),y=e("vzes"),i=e("DVQu"),I=e("Gn8c"),F=e("TWax"),we=e("90Xc"),Ne=e("5Dmo"),Se=e("3S7+"),Ge=e("+L6B"),ue=e("2/Rp"),Pe=e("0WSk"),ae=e("Qiat"),K=e("/MfK"),t=e("nKUr"),X=[{title:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(n.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],U=function(Q){var k=Q.id,Be=Object(n.j)(),re=Object(o.useRef)(),oe=Object(o.useState)(!1),M=Object(E.a)(oe,2),fe=M[0],D=M[1],ce=d.a.useForm(),H=Object(E.a)(ce,1),ie=H[0],ne=Object(o.useCallback)(function(){var q=Object(x.a)(Object(j.a)().mark(function pe(se){var V;return Object(j.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return D(!0),w.next=3,Object(i.d)(Number(k),{user_id:se.user_id});case 3:ie.resetFields(),(V=re.current)===null||V===void 0||V.reload(),D(!1);case 6:case"end":return w.stop()}},pe)}));return function(pe){return q.apply(this,arguments)}}(),[k]),_=Object(o.useCallback)(function(){var q=Object(x.a)(Object(j.a)().mark(function pe(se){var V;return Object(j.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return D(!0),w.next=3,Object(i.e)(Number(k),{user_id:se});case 3:(V=re.current)===null||V===void 0||V.reload(),D(!1);case 5:case"end":return w.stop()}},pe)}));return function(pe){return q.apply(this,arguments)}}(),[k]);return Object(t.jsxs)(o.Fragment,{children:[Object(t.jsx)(d.a,{layout:"inline",onFinish:ne,form:ie,labelWrap:!0,children:Object(t.jsx)(d.a.Group,{children:Object(t.jsx)(d.a.Item,{name:"user_id",label:Object(t.jsx)(n.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(Pe.a,{})})})}),Object(t.jsx)(ae.a,{defaultSize:"small",loading:fe,search:!1,headerTitle:Be.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:re,rowKey:"id",request:Object(x.a)(Object(j.a)().mark(function q(){return Object(j.a)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return D(!0),se.abrupt("return",Object(i.c)(Number(k)).then(function(V){return D(!1),V.success&&V.data.users?{data:V.data.users,total:V.data.users.length,success:!0}:V.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return se.stop()}},q)})),columns:[].concat(X,[{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(pe,se){return[Object(t.jsx)(Se.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(ue.a,{type:"primary",icon:Object(t.jsx)(K.a,{}),danger:!0,onClick:function(){return _(se.id)}})},"delete")]}}])})]})},xe=U,Te=e("5RzD"),Je=e("rnuo"),We=e("c+yx"),_e=e("hd5d"),rt=e("DYRE"),et=e("zeV3"),Ye=e("rWUb"),nt=e("OaEy"),Ze=e("2fM7"),Xe=function(Q){var k=Q.value,Be=Q.onChange,re=Q.multiple,oe=re===void 0?!1:re,M=Q.params,fe=Object(o.useState)([]),D=Object(E.a)(fe,2),ce=D[0],H=D[1],ie=Object(o.useState)(!1),ne=Object(E.a)(ie,2),_=ne[0],q=ne[1],pe=Object(o.useState)([]),se=Object(E.a)(pe,2),V=se[0],Re=se[1],w=Object(o.useRef)(),ze=Object(o.useCallback)(function(){q(!0),w.current&&w.current.abort(),w.current=new AbortController,Object(Ye.e)(M,{signal:w.current.signal}).then(function(ee){ee.success&&H(ee.data),q(!1)}).catch(function(){return q(!1)})},[]);return Object(o.useEffect)(function(){var ee=new AbortController;if(k){var Oe=Array.isArray(k)?k:[k],Ee=Oe.map(function(de){return typeof de=="object"?Number(de.id):Number(de)});Re(Ee)}return function(){ee.abort()}},[k]),Object(t.jsx)(Ze.a,{onFocus:function(){return ze()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:V,onChange:Be,mode:oe?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(n.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Oe,Ee){if(Ee&&Ee.children){var de;return(Ee==null||(de=Ee.children)===null||de===void 0?void 0:de.toString().toLowerCase().indexOf(Oe&&Oe.toLowerCase()||""))>=0}return!1},notFoundContent:_?Object(t.jsx)(B.a,{size:"small"}):null,children:ce.map(function(ee){return Object(t.jsxs)(Ze.a.Option,{value:ee.id,children:[ee.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(n.a,{id:ee.channel.split("\\").pop()}),":",ee.event&&Object(t.jsx)(n.a,{id:ee.event.split("\\").pop()})]})]},ee.id)})})},He=Xe,tt=e("/y+f"),a=function(Q){var k=Q.productId,Be=Object(o.useState)(!1),re=Object(E.a)(Be,2),oe=re[0],M=re[1],fe=Object(o.useState)(),D=Object(E.a)(fe,2),ce=D[0],H=D[1],ie=Object(n.j)(),ne=Object(o.useCallback)(function(){M(!0),typeof ce=="number"&&Object(Ye.g)(Number(ce),k).then(function(_){_.success?S.b.success(_.message):S.b.error(_.message)}).catch(function(_){return S.b.error(_.toString())}).finally(function(){return M(!1)})},[ce,k]);return Object(t.jsxs)(et.b,{children:[Object(t.jsx)(Xe,{params:{event:tt.b.ManuallyTriggeredEvent},multiple:!1,value:ce,onChange:function(q){return H(q)}}),Object(t.jsx)(Se.a,{title:ie.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(ue.a,{loading:oe,onClick:function(){return ne()},disabled:!ce,children:Object(t.jsx)(n.a,{id:"generate"})})})]})},ye=a,Ae=e("qSko"),Ce=function(Q){return Q.map(function(k){return{class:k.productable_type,id:Number(k.productable_id),name:k.name,quantity:k.quantity}})},Ie=function(Q){var k=Array.isArray(Q)?Q:[Q],Be=k.map(function(re){return typeof re=="object"?re:{id:parseInt(re.split(":")[1]),class:re.split(":")[0],name:re.split(":")[2]}});return Be},Ue=function(Q){var k=Q.tab,Be=k===void 0?"attributes":k,re=Q.onTabChange,oe=Q.id,M=Q.productable,fe=Q.onProductSaved,D=Q.type,ce=D===void 0?"card":D,H=Object(n.j)(),ie=Object(o.useState)(oe),ne=Object(E.a)(ie,2),_=ne[0],q=ne[1],pe=Object(o.useState)([]),se=Object(E.a)(pe,2),V=se[0],Re=se[1],w=Object(o.useMemo)(function(){return _==="new"},[_]),ze=Object(o.useState)(!0),ee=Object(E.a)(ze,2),Oe=ee[0],Ee=ee[1],de=Object(o.useState)(null),Ve=Object(E.a)(de,2),ke=Ve[0],at=Ve[1],Qe=Object(o.useState)({}),Fe=Object(E.a)(Qe,2),je=Fe[1],J=Object(o.useCallback)(function(){return je({})},[]),v=d.a.useForm(),A=Object(E.a)(v,1),g=A[0],Y=Object(o.useState)(!1),z=Object(E.a)(Y,2),le=z[0],$=z[1];Object(o.useEffect)(function(){M&&M.class_id&&M.class_type&&(Object(i.f)({productable_id:Number(M.class_id),productable_type:M.class_type}).then(function(N){N.success&&q(N.data.id)}).catch(function(){console.log("err"),q("new")}),Re([{class:M.class_type,id:Number(M.class_id),name:M.name}]),g.setFieldsValue({productables:[{class:M.class_type,id:M.class_id,name:M.name}]}))},[M]);var L=Object(o.useCallback)(Object(x.a)(Object(j.a)().mark(function N(){var h,he,ge,Ke,me,$e,Me;return Object(j.a)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!(_&&_!=="new")){qe.next=5;break}return qe.next=3,Object(i.c)(Number(_));case 3:h=qe.sent,h.success&&(me=Object(c.a)(Object(c.a)({},h.data),{},{categories:(he=h.data.categories)===null||he===void 0?void 0:he.map(We.a),tags:(ge=h.data.tags)===null||ge===void 0?void 0:ge.map(function(it){return Object(We.g)(it)}),productables:h.data.productables?Ce(h.data.productables):[]}),h.data&&h!==null&&h!==void 0&&(Ke=h.data)!==null&&Ke!==void 0&&Ke.productables&&at(h==null||($e=h.data)===null||$e===void 0||(Me=$e.productables[0])===null||Me===void 0?void 0:Me.productable_type),Re(Ce(h.data.productables)),g.setFieldsValue(me),$(h.data.type==="bundle"));case 5:Ee(!1);case 6:case"end":return qe.stop()}},N)})),[_]);Object(o.useEffect)(function(){_&&L()},[_]);var ve=Object(o.useMemo)(function(){return{onValuesChange:function(h){h.type&&$(h.type==="bundle")},onFinish:function(){var N=Object(x.a)(Object(j.a)().mark(function he(ge){var Ke,me;return Object(j.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(Ke=Object(c.a)(Object(c.a)({},ge),{},{productables:V?Ie(V):void 0}),!w){Me.next=8;break}return Me.next=4,Object(i.a)(Ke);case 4:me=Me.sent,me.success&&(fe&&fe(me.data),q(me.data.id),g.setFieldsValue(me.data)),Me.next=12;break;case 8:return Me.next=10,Object(i.i)(Number(_),Ke);case 10:me=Me.sent,me.success&&fe&&fe(me.data);case 12:S.b.success(me.message);case 13:case"end":return Me.stop()}},he)}));function h(he){return N.apply(this,arguments)}return h}()}},[_,fe,V]);return Oe?Object(t.jsx)(B.a,{}):Object(t.jsxs)(s.a,{title:ce==="line"?Object(t.jsx)(n.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:ce==="line"?Object(t.jsx)(n.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:ce==="line"?Object(t.jsx)(n.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:ce,activeKey:Be,onChange:function(h){return re(h)}},children:[Object(t.jsxs)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"attributes"}),children:[Object(t.jsxs)(d.a,Object(c.a)(Object(c.a)({},ve),{},{form:g,children:[Object(t.jsxs)(d.a.Group,{children:[Object(t.jsx)(R.a,{width:"md",name:"name",initialValue:w&&M?M.name:void 0,label:Object(t.jsx)(n.a,{id:"name"}),tooltip:Object(t.jsx)(n.a,{id:"name_tooltip"}),placeholder:H.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(d.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(n.a,{id:"productables_tooltip"}),label:Object(t.jsx)(n.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(y.a,{multiple:le,disabled:M!==void 0,onChange:function(h){return Re(Ie(h))}})})]}),Object(t.jsxs)(d.a.Group,{children:[Object(t.jsx)(te.a.Group,{disabled:M!==void 0,initialValue:_&&_!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(n.a,{id:"type"}),options:[{label:H.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:H.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(Z.a,{name:"purchasable",label:Object(t.jsx)(n.a,{id:"purchasable"}),tooltip:Object(t.jsx)(n.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(d.a.Group,{title:Object(t.jsx)(n.a,{id:"prices"}),children:[Object(t.jsx)(r.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(n.a,{id:"price"}),tooltip:Object(t.jsx)(n.a,{id:"price_tooltip"}),placeholder:H.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(n.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(n.a,{id:"tax_rate_tooltip"}),placeholder:H.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:w?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(h){return"".concat(h,"%")},parser:function(h){return h?h.replace("%",""):""}}}),Object(t.jsx)(d.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(n.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(n.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(h){return Object(t.jsx)(C.a,{disabled:!0,readOnly:!0,value:h.getFieldValue("price")?Math.round(parseInt(h.getFieldValue("price"))*(1+parseInt(h.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(d.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(n.a,{id:"tax_value"}),tooltip:Object(t.jsx)(n.a,{id:"tax_value_tooltip"}),children:function(h){return Object(t.jsx)(C.a,{disabled:!0,readOnly:!0,value:h.getFieldValue("price")?Math.round(parseInt(h.getFieldValue("price"))*(parseInt(h.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(r.a,{width:"xs",name:"price_old",label:Object(t.jsx)(n.a,{id:"price_old"}),tooltip:Object(t.jsx)(n.a,{id:"price_old_tooltip"}),placeholder:H.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{initialValue:w?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(n.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(n.a,{id:"extra_fees_tooltip"}),placeholder:H.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(d.a.Group,{title:Object(t.jsx)(n.a,{id:"additional_fields"}),children:[Object(t.jsx)(R.a,{width:"md",name:"duration",label:Object(t.jsx)(n.a,{id:"duration"}),tooltip:Object(t.jsx)(n.a,{id:"duration_tooltip"}),placeholder:H.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(r.a,{initialValue:w?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(n.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(n.a,{id:"limit_per_user_tooltip"}),placeholder:H.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{initialValue:w?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(n.a,{id:"limit_total"}),tooltip:Object(t.jsx)(n.a,{id:"limit_total_tooltip"}),placeholder:H.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(R.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(n.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(n.a,{id:"teaser_url_tooltip"}),placeholder:H.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(d.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(n.a,{id:"related_products"}),valuePropName:"value",children:ke&&Object(t.jsx)(Ae.a,{type:ke,multiple:!0})}),!w&&Object(t.jsx)(d.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(n.a,{id:"description"}),tooltip:Object(t.jsx)(n.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(_e.a,{directory:"products/".concat(_,"/wysiwyg")})}),V.length>0&&le&&Object(t.jsx)(ae.a,{headerTitle:H.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(b.a)(V),rowKey:"id",columns:[{title:Object(t.jsx)(n.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(n.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(h,he){return Object(t.jsx)(T.a,{children:Object(t.jsx)(n.a,{id:he.class.split("\\").pop(),defaultMessage:he.class.split("\\").pop()})})}},{title:Object(t.jsx)(n.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(h,he){return Object(t.jsx)(C.a,{min:1,type:"number",value:he.quantity||1,onChange:function(Ke){var me=Ke.target.value,$e=V.findIndex(function(st){return st.id===he.id}),Me=V;Me[$e].quantity=Number(me),Re(Me),J()}})}}]})]}))," "]},"attributes"),!w&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(d.a,Object(c.a)(Object(c.a)({},ve),{},{form:g,children:Object(t.jsx)(I.a,{folder:"products/".concat(_),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(_,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(h){return h.file.response.data.poster_url},setPath:function(h){return g.setFieldsValue(h)}})}))},"media"),!w&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(d.a,Object(c.a)(Object(c.a)({},ve),{},{form:g,children:Object(t.jsxs)(m.a,{children:[Object(t.jsx)(p.a,{span:12,children:Object(t.jsx)(d.a.Item,{label:Object(t.jsx)(n.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(F.a,{})})}),Object(t.jsx)(p.a,{span:12,children:Object(t.jsx)(d.a.Item,{label:Object(t.jsx)(n.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(Je.a,{})})})]})}))},"categories"),!w&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(m.a,{children:Object(t.jsx)(p.a,{span:24,children:_&&Object(t.jsx)(xe,{id:_})})})},"users")," ",!w&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(m.a,{children:Object(t.jsx)(p.a,{span:12,children:_&&Object(t.jsx)(Te.a,{id:Number(_),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!w&&_&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"template"}),children:Object(t.jsx)(m.a,{children:Object(t.jsx)(p.a,{span:12,children:Object(t.jsx)(ye,{productId:Number(_)})})})},"template")]})},De=O.a=Ue},"5RzD":function(be,O,e){"use strict";var u=e("miYZ"),m=e("tsqr"),f=e("k1fw"),p=e("P2fV"),G=e("NJEC"),T=e("5Dmo"),b=e("3S7+"),W=e("+L6B"),C=e("2/Rp"),l=e("qLMh"),B=e("9og8"),P=e("tJVT"),S=e("q1tI"),j=e("VMEa"),c=e("9kvl"),x=e("Qiat"),E=e("xvlK"),o=e("/MfK");function d(ae,K){return R.apply(this,arguments)}function R(){return R=Object(B.a)(Object(l.a)().mark(function ae(K,t){return Object(l.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(c.g)("/api/admin/user-submissions",Object(f.a)({method:"GET",params:Object(f.a)(Object(f.a)({},K),{},{per_page:K&&K.pageSize,page:K&&K.current})},t||{})));case 1:case"end":return U.stop()}},ae)})),R.apply(this,arguments)}function te(ae,K){return Z.apply(this,arguments)}function Z(){return Z=Object(B.a)(Object(l.a)().mark(function ae(K,t){return Object(l.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(c.g)("/api/admin/user-submissions",Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:K},t||{})));case 1:case"end":return U.stop()}},ae)})),Z.apply(this,arguments)}function r(ae,K){return s.apply(this,arguments)}function s(){return s=Object(B.a)(Object(l.a)().mark(function ae(K,t){return Object(l.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",Object(c.g)("/api/admin/user-submissions/".concat(K),Object(f.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return U.stop()}},ae)})),s.apply(this,arguments)}var n=e("y8nQ"),y=e("Vl3Y"),i=e("rmhi"),I=e("Qurx"),F=e("nKUr"),we=function(K){var t=Object(c.j)(),X=K.visible,U=K.onVisibleChange,xe=K.onFinish,Te=K.id,Je=y.a.useForm(),We=Object(P.a)(Je,1),_e=We[0];return Object(F.jsx)(i.a,{form:_e,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:X,onVisibleChange:U,onFinish:xe,children:Object(F.jsx)(j.a.Group,{children:Object(F.jsx)(I.a,{width:"md",name:"email",label:Object(F.jsx)(c.a,{id:"email"}),tooltip:Object(F.jsx)(c.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},Ne=we,Se=e("MvUh"),Ge=[{title:Object(F.jsx)(c.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(F.jsx)(c.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(F.jsx)(c.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],ue=function(K){var t=K.id,X=K.type,U=Object(c.j)(),xe=Object(S.useRef)(),Te=Object(S.useState)(!1),Je=Object(P.a)(Te,2),We=Je[0],_e=Je[1],rt=j.a.useForm(),et=Object(P.a)(rt,1),Ye=et[0],nt=Object(S.useState)(!1),Ze=Object(P.a)(nt,2),Xe=Ze[0],He=Ze[1],tt=Object(S.useCallback)(function(){var a=Object(B.a)(Object(l.a)().mark(function ye(Ae){var Ce;return Object(l.a)().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return _e(!0),Ue.next=3,r(Number(Ae));case 3:(Ce=xe.current)===null||Ce===void 0||Ce.reload(),_e(!1);case 5:case"end":return Ue.stop()}},ye)}));return function(ye){return a.apply(this,arguments)}}(),[t,X]);return Object(F.jsxs)(S.Fragment,{children:[Object(F.jsx)(x.a,{defaultSize:"small",loading:We,search:{},headerTitle:U.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:xe,toolBarRender:function(){return[Object(F.jsxs)(C.a,{type:"primary",onClick:function(){return He(!0)},children:[Object(F.jsx)(E.a,{})," ",Object(F.jsx)(c.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var a=Object(B.a)(Object(l.a)().mark(function ye(Ae){var Ce,Ie,Ue;return Object(l.a)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Ce=Ae.email,Ie=Ae.pageSize,Ue=Ae.current,_e(!0),Le.abrupt("return",d({email:Ce,pageSize:Ie,current:Ue,morphable_type:X,morphable_id:t}).then(function(Q){return _e(!1),Q.success?{data:Q.data,total:Q.data.length,success:!0}:Q.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return Le.stop()}},ye)}));return function(ye){return a.apply(this,arguments)}}(),columns:[].concat(Ge,[{title:Object(F.jsx)(c.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(ye,Ae){return[Object(F.jsx)(G.a,{title:Object(F.jsx)(c.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return tt(Ae.id)},okText:Object(F.jsx)(c.a,{id:"yes"}),cancelText:Object(F.jsx)(c.a,{id:"no"}),children:Object(F.jsx)(b.a,{title:Object(F.jsx)(c.a,{id:"delete",defaultMessage:"delete"}),children:Object(F.jsx)(C.a,{type:"primary",icon:Object(F.jsx)(o.a,{}),danger:!0})})},"delete")]}}])})," ",Object(F.jsx)(Ne,{visible:Xe,onVisibleChange:function(ye){return ye===!1&&He(!1)},onFinish:function(){var a=Object(B.a)(Object(l.a)().mark(function ye(Ae){var Ce,Ie;return Object(l.a)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return _e(!0),De.prev=1,De.next=4,te(Object(f.a)(Object(f.a)({},Ae),{},{morphable_id:t,morphable_type:X}));case 4:Ce=De.sent,Ce.success&&(Ye.resetFields(),(Ie=xe.current)===null||Ie===void 0||Ie.reload(),_e(!1),He(!1)),De.next=13;break;case 8:De.prev=8,De.t0=De.catch(1),He(!1),m.b.error(Object(F.jsx)(c.a,{id:"error",defaultMessage:"error"})),_e(!1);case 13:case"end":return De.stop()}},ye,null,[[1,8]])}));return function(ye){return a.apply(this,arguments)}}()})]})},Pe=O.a=ue},"90Xc":function(be,O,e){},DVQu:function(be,O,e){"use strict";e.d(O,"h",function(){return G}),e.d(O,"a",function(){return b}),e.d(O,"c",function(){return C}),e.d(O,"i",function(){return B}),e.d(O,"b",function(){return S}),e.d(O,"g",function(){return c}),e.d(O,"f",function(){return E}),e.d(O,"d",function(){return d}),e.d(O,"e",function(){return te});var u=e("qLMh"),m=e("k1fw"),f=e("9og8"),p=e("9kvl");function G(r,s){return T.apply(this,arguments)}function T(){return T=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/products",Object(m.a)({method:"GET",params:Object(m.a)(Object(m.a)({},s),{},{free:typeof s.free!="undefined"?s.free==="true"?1:0:void 0,per_page:s.pageSize,page:s.current})},n||{})));case 1:case"end":return i.stop()}},r)})),T.apply(this,arguments)}function b(r,s){return W.apply(this,arguments)}function W(){return W=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/products",Object(m.a)({method:"POST",data:s},n||{})));case 1:case"end":return i.stop()}},r)})),W.apply(this,arguments)}function C(r,s){return l.apply(this,arguments)}function l(){return l=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/products/".concat(s),Object(m.a)({method:"GET"},n||{})));case 1:case"end":return i.stop()}},r)})),l.apply(this,arguments)}function B(r,s,n){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(u.a)().mark(function r(s,n,y){return Object(u.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(p.g)("/api/admin/products/".concat(s,"?_method=PUT"),Object(m.a)({method:"POST",data:n},y||{})));case 1:case"end":return I.stop()}},r)})),P.apply(this,arguments)}function S(r,s){return j.apply(this,arguments)}function j(){return j=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/products/".concat(s),Object(m.a)({method:"DELETE"},n||{})));case 1:case"end":return i.stop()}},r)})),j.apply(this,arguments)}function c(r){return x.apply(this,arguments)}function x(){return x=Object(f.a)(Object(u.a)().mark(function r(s){return Object(u.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",Object(p.g)("/api/admin/productables",Object(m.a)({method:"GET"},s||{})));case 1:case"end":return y.stop()}},r)})),x.apply(this,arguments)}function E(r,s){return o.apply(this,arguments)}function o(){return o=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/productables/product",Object(m.a)({method:"GET",params:s},n||{})));case 1:case"end":return i.stop()}},r)})),o.apply(this,arguments)}function d(r,s,n){return R.apply(this,arguments)}function R(){return R=Object(f.a)(Object(u.a)().mark(function r(s,n,y){return Object(u.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(p.g)("/api/admin/products/".concat(s,"/attach"),Object(m.a)({method:"POST",data:n},y||{})));case 1:case"end":return I.stop()}},r)})),R.apply(this,arguments)}function te(r,s,n){return Z.apply(this,arguments)}function Z(){return Z=Object(f.a)(Object(u.a)().mark(function r(s,n,y){return Object(u.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(p.g)("/api/admin/products/".concat(s,"/detach"),Object(m.a)({method:"POST",data:n},y||{})));case 1:case"end":return I.stop()}},r)})),Z.apply(this,arguments)}},MvUh:function(be,O,e){},TWax:function(be,O,e){"use strict";var u=e("ozfa"),m=e("MJZm"),f=e("T2oS"),p=e("W9HT"),G=e("tJVT"),T=e("q1tI"),b=e.n(T),W=e("JifO"),C=e("nKUr"),l=e.n(C),B=function S(j){return j.subcategories&&j.subcategories.length?{title:j.name,key:j.id,children:j.subcategories.map(function(c){return S(c)})}:{title:j.name,key:j.id}},P=function(j){var c=j.value,x=j.onChange,E=j.multiple,o=E===void 0?!0:E,d=Object(T.useState)([]),R=Object(G.a)(d,2),te=R[0],Z=R[1];Object(T.useEffect)(function(){Object(W.c)().then(function(s){return Z(s.data)})},[]);var r=Object(T.useMemo)(function(){return te.map(function(s){return B(s)})},[te]);return te.length===0?Object(C.jsx)(p.a,{}):Object(C.jsx)(m.a,{multiple:o,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:c,onCheck:function(n){if(typeof n=="object"&&!Array.isArray(n)&&n.checked){var y=n.checked;return x&&Array.isArray(y)&&x(y)}},treeData:r,disabled:te.length===0})};O.a=P},"UI+1":function(be,O,e){"use strict";e.r(O);var u=e("14J3"),m=e("BMrR"),f=e("jCWc"),p=e("kPKH"),G=e("T2oS"),T=e("W9HT"),b=e("miYZ"),W=e("tsqr"),C=e("qLMh"),l=e("k1fw"),B=e("9og8"),P=e("tJVT"),S=e("q1tI"),j=e("VMEa"),c=e("Qurx"),x=e("FJDo"),E=e("yj/a"),o=e("lR9U"),d=e("BiO0"),R=e("nhC9"),te=e("hd5d"),Z=e("tMyG"),r=e("9kvl"),s=e("Ty5D"),n=e("0WSk"),y=e("lJbd"),i=e("Gn8c"),I=e("TWax"),F=e("c+yx"),we=e("zjZ2"),Ne=e("q34N"),Se=e("VlvL"),Ge=e("5RzD"),ue=e("P2fV"),Pe=e("NJEC"),ae=e("5Dmo"),K=e("3S7+"),t=e("+L6B"),X=e("2/Rp"),U=e("oBTY"),xe=e("0Owb"),Te=e("hUqB"),Je=e("wYyv"),We=e("YJCA"),_e=e("eyie"),rt=e("xvlK"),et=e("G3dp"),Ye=e("/MfK"),nt=e("Qiat"),Ze=e("y8nQ"),Xe=e("Vl3Y"),He=e("rmhi"),tt=e("w/uu"),a=e("nKUr"),ye=function(oe){var M=Object(r.j)(),fe=oe.visible,D=oe.fields,ce=oe.onVisibleChange,H=oe.onFinish,ie=oe.id,ne=Xe.a.useForm(),_=Object(P.a)(ne,1),q=_[0];return Object(S.useEffect)(function(){if(D){q.setFieldsValue(D);return}q.resetFields()},[D]),Object(a.jsx)(He.a,{form:q,title:M.formatMessage({id:ie?"editSetting":"newSetting",defaultMessage:ie?"editSetting":"newSetting"}),width:"40vw",visible:fe,onVisibleChange:ce,onFinish:function(se){return H(Object(l.a)(Object(l.a)({},se),{},{id:(D==null?void 0:D.id)||null}))},children:Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(c.a,{label:Object(a.jsx)(r.a,{id:"title",defaultMessage:"title"}),rules:[{required:!0}],width:"lg",name:"title"}),Object(a.jsx)(c.a,{label:Object(a.jsx)(r.a,{id:"subtitle",defaultMessage:"subtitle"}),rules:[{required:!0}],width:"lg",name:"subtitle"}),Object(a.jsx)(tt.a,{name:"hour",label:Object(a.jsx)(r.a,{id:"hour",defaultMessage:"hour"}),rules:[{required:!0}],width:"xs"}),Object(a.jsx)(j.a.Item,{name:"tutors",label:Object(a.jsx)(r.a,{id:"tutors"}),rules:[{required:!0}],convertValue:function(se){return se},valuePropName:"value",children:Object(a.jsx)(n.a,{multiple:!0})}),Object(a.jsx)(d.a,{label:Object(a.jsx)(r.a,{id:"description",defaultMessage:"description"}),rules:[{required:!1}],width:"lg",name:"description"}),Object(a.jsx)(j.a.Item,{name:"asCandidate",hidden:!0})]})})},Ae=ye,Ce=e("VK58"),Ie=Object(We.b)(function(re){return Object(a.jsx)("tr",Object(l.a)({},re))}),Ue=Object(We.a)(function(re){return Object(a.jsx)("tbody",Object(l.a)({},re))}),De=Object(We.c)(function(){return Object(a.jsx)(_e.a,{style:{cursor:"grab",color:"#999"}})}),Le=function(oe){var M=oe.data,fe=oe.onCreate,D=Object(S.useRef)(),ce=Object(r.j)(),H=Object(S.useState)([]),ie=Object(P.a)(H,2),ne=ie[0],_=ie[1],q=Object(S.useState)(null),pe=Object(P.a)(q,2),se=pe[0],V=pe[1],Re=Object(S.useState)(!1),w=Object(P.a)(Re,2),ze=w[0],ee=w[1],Oe=Object(S.useState)([]),Ee=Object(P.a)(Oe,2),de=Ee[0],Ve=Ee[1],ke=[{title:"Sort",dataIndex:"sort",width:"5%",className:"drag-visible",render:function(){return Object(a.jsx)(De,{})}},{width:"20%",title:Object(a.jsx)(r.a,{id:"title",defaultMessage:"Title"}),dataIndex:"title",hideInSearch:!0,renderText:function(v){return v.length>80?"".concat(v.slice(0,77),"..."):v}},{width:"20%",title:Object(a.jsx)(r.a,{id:"subtitle",defaultMessage:"subtitle"}),dataIndex:"subtitle",hideInSearch:!0,renderText:function(v){return v.length>80?"".concat(v.slice(0,77),"..."):v}},{width:"10%",title:Object(a.jsx)(r.a,{id:"hour",defaultMessage:"hour"}),dataIndex:"hour",hideInSearch:!0},{width:"15%",title:Object(a.jsx)(r.a,{id:"tutors",defaultMessage:"tutors"}),dataIndex:"tutors",hideInSearch:!0,renderText:function(v){return v.map(function(A){var g=A.first_name,Y=A.last_name;return"".concat(g," ").concat(Y)}).join(", ")}},{width:"18%",title:Object(a.jsx)(r.a,{id:"description",defaultMessage:"description"}),dataIndex:"description",hideInSearch:!0,renderText:function(v){return v.length>80?"".concat(v.trim().slice(0,77),"..."):v.trim()}}],at=function(v){var A=v.oldIndex,g=v.newIndex;if(A!==g){var Y=Object(Je.a)(ne.slice(),A,g).filter(Boolean);_(Y)}},Qe=function(v){return Object(a.jsx)(Ue,Object(l.a)({useDragHandle:!0,disableAutoscroll:!0,helperClass:"row-dragging",onSortEnd:at},v))},Fe=function(v){var A,g=Object(xe.a)({},v),Y=ne.findIndex(function(le){var $=le.id;return $===g["data-row-key"]}),z=Object(l.a)(Object(l.a)({},g),{},{className:"".concat(g.className," ").concat((A=ne[Y])!==null&&A!==void 0&&A.asCandidate?"agenda-row-candidate":"")});return Object(a.jsx)(Ie,Object(l.a)({index:Y},z))},je=function(){var J=Object(B.a)(Object(C.a)().mark(function v(A){var g,Y,z;return Object(C.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return g=A.map(function(L){return Object(Ce.m)(L)}),$.next=3,Promise.all(g);case 3:return Y=$.sent,$.next=6,Y.map(function(L){return L.success?{id:L.data.id,first_name:L.data.first_name,last_name:L.data.last_name}:null});case 6:return z=$.sent,$.abrupt("return",z);case 8:case"end":return $.stop()}},v)}));return function(A){return J.apply(this,arguments)}}();return Object(S.useEffect)(function(){Ve([]),V(null)},[M]),Object(S.useEffect)(function(){Object(B.a)(Object(C.a)().mark(function J(){var v,A,g,Y,z;return Object(C.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!(!M||!de)){$.next=2;break}return $.abrupt("return");case 2:return v=[].concat(Object(U.a)(M),Object(U.a)(de)).map(function(){var L=Object(B.a)(Object(C.a)().mark(function ve(N){var h;return Object(C.a)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,je(N.tutors);case 2:return h=ge.sent,ge.abrupt("return",Object(l.a)(Object(l.a)({},N),{},{tutors:h}));case 4:case"end":return ge.stop()}},ve)}));return function(ve){return L.apply(this,arguments)}}()),$.next=5,Promise.all(v);case 5:A=$.sent,g=A.reduce(function(L,ve,N,h){var he=h.filter(function(me){var $e=me.id;return $e===ve.id});if(he.length>1){var ge=he.find(function(me){return"asCandidate"in me});if(!ge)return[].concat(Object(U.a)(L),[he[-1]]);var Ke=ge&&L.find(function(me){var $e=me.id;return $e===ge.id});return Ke?L:[].concat(Object(U.a)(L),[ge])}return[].concat(Object(U.a)(L),[he[0]])},[]),Y=ne.length?g.filter(function(L){var ve=L.id;return ne.findIndex(function(N){return N.id===ve})===-1}):[],z=ne.length?ne.map(function(L){var ve=g.findIndex(function(N){var h=N.id;return h===L.id});return g[ve]}):g,_([].concat(Object(U.a)(z),Object(U.a)(Y)));case 10:case"end":return $.stop()}},J)}))()},[M,de]),Object(S.useEffect)(function(){var J=ne.map(function(v){var A=v.id,g=v.title,Y=v.subtitle,z=v.hour,le=v.description,$=v.tutors;return{id:A,title:g,subtitle:Y,hour:z,description:le,tutors:$.map(function(L){return L?L.id:null}).filter(Boolean)}});fe(JSON.stringify(J))},[ne]),Object(a.jsxs)(Z.a,{header:{breadcrumb:{}},className:"agenda-container",children:[Object(a.jsx)(nt.a,{className:"agenda-table",headerTitle:ce.formatMessage({id:"agenda",defaultMessage:"Agenda"}),actionRef:D,rowKey:function(v){return v.id},search:!1,toolBarRender:function(){return[Object(a.jsxs)(X.a,{type:"primary",onClick:function(){return ee(!0)},children:[Object(a.jsx)(rt.a,{})," ",Object(a.jsx)(r.a,{id:"new",defaultMessage:"new"})]},"primary")]},pagination:!1,dataSource:ne,columns:[].concat(ke,[{width:"12%",hideInSearch:!0,title:Object(a.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(v,A){return[Object(a.jsx)(X.a,{type:"primary",icon:Object(a.jsx)(et.a,{}),onClick:function(){if("asCandidate"in A){var Y;V((Y=de.find(function(le){var $=le.id;return $===A.id}))!==null&&Y!==void 0?Y:null)}else{var z;V((z=M.find(function(le){var $=le.id;return $===A.id}))!==null&&z!==void 0?z:null)}ee(!0)}},"edit"),Object(a.jsx)(Pe.a,{title:Object(a.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(B.a)(Object(C.a)().mark(function g(){return Object(C.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!("asCandidate"in A)){z.next=3;break}return Ve(function(le){return le.filter(function($){var L=$.id;return L!==A.id})}),z.abrupt("return");case 3:_(function(le){return le.filter(function($){var L=$.id;return L!==A.id})});case 4:case"end":return z.stop()}},g)})),okText:Object(a.jsx)(r.a,{id:"yes"}),cancelText:Object(a.jsx)(r.a,{id:"no"}),children:Object(a.jsx)(K.a,{title:Object(a.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(X.a,{type:"primary",icon:Object(a.jsx)(Ye.a,{}),danger:!0})})},"delete")]}}]),components:{body:{wrapper:Qe,row:Fe}}}),!!de.length&&Object(a.jsxs)("div",{className:"legend",children:[Object(a.jsx)("div",{className:"legend__dot"}),Object(a.jsx)("p",{className:"legend__label",children:"Changes ready to update"})]}),Object(a.jsx)(Ae,{name:ze,visible:ze,fields:se,onVisibleChange:function(v){v===!1&&(ee(!1),V(null))},onFinish:function(){var J=Object(B.a)(Object(C.a)().mark(function v(A){var g,Y,z,le,$;return Object(C.a)().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(!A.id){ve.next=9;break}return g="asCandidate"in A,Y=g?de:M,z=Y.find(function(N){var h=N.id;return h===A.id}),le=z?JSON.stringify(z)!==JSON.stringify(A):!1,le&&($=g?de.map(function(N){return N.id===A.id?A:N}):[].concat(Object(U.a)(de),[Object(l.a)(Object(l.a)({},A),{},{asCandidate:!0})]),Ve($)),V(null),ee(!1),ve.abrupt("return");case 9:Ve(function(N){return[].concat(Object(U.a)(N),[Object(l.a)(Object(l.a)({},A),{},{asCandidate:!0,id:Date.now()})])}),V(null),ee(!1);case 12:case"end":return ve.stop()}},v)}));return function(v){return J.apply(this,arguments)}}()})]})},Q=Le,k=function(){var oe,M=Object(r.j)(),fe=Object(s.l)(),D=fe.id,ce=fe.tab,H=ce===void 0?"attributes":ce,ie=D==="new",ne=Object(S.useState)(null),_=Object(P.a)(ne,2),q=_[0],pe=_[1],se=Object(S.useState)(!1),V=Object(P.a)(se,2),Re=V[0],w=V[1],ze=Object(S.useState)(),ee=Object(P.a)(ze,2),Oe=ee[0],Ee=ee[1],de=j.a.useForm(),Ve=Object(P.a)(de,1),ke=Ve[0],at=Object(S.useCallback)(Object(B.a)(Object(C.a)().mark(function Fe(){var je,J,v;return Object(C.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(y.c)(Number(D));case 2:je=g.sent,je.success&&Ee(Object(l.a)(Object(l.a)({},je.data),{},{categories:je==null||(J=je.data)===null||J===void 0||(v=J.categories)===null||v===void 0?void 0:v.map(F.c)}));case 4:case"end":return g.stop()}},Fe)})),[D]);Object(S.useEffect)(function(){if(ie){Ee({name:"..."});return}at()},[D]);var Qe=Object(S.useMemo)(function(){return{onFinish:function(){var Fe=Object(B.a)(Object(C.a)().mark(function J(v){var A,g,Y,z,le;return Object(C.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(A=Object(l.a)(Object(l.a)({},v),{},{agenda:q,authors:v.authors&&v.authors.map(F.a),categories:v.categories&&v.categories.map(F.a),image_url:Oe&&Oe.image_url,image_path:Oe&&Oe.image_path&&Object(F.f)(Oe.image_path)}),!ie){L.next=8;break}return L.next=4,Object(y.a)(A);case 4:g=L.sent,g.success&&(w(!1),r.e.push("/other/stationary-events/".concat(g.data.id))),L.next=12;break;case 8:return L.next=10,Object(y.e)(Number(D),A);case 10:g=L.sent,g.success&&(w(!1),Ee(Object(l.a)(Object(l.a)({},g.data),{},{categories:(Y=g)===null||Y===void 0||(z=Y.data)===null||z===void 0||(le=z.categories)===null||le===void 0?void 0:le.map(F.c)})),r.e.push("/other/stationary-events/".concat(g.data.id,"/").concat(H)));case 12:W.b.success(g.message);case 13:case"end":return L.stop()}},J)}));function je(J){return Fe.apply(this,arguments)}return je}(),initialValues:Oe}},[Oe,D,H,q]);return Oe?Object(a.jsx)(Z.a,{title:ie?Object(a.jsx)(r.a,{id:"stationary_event"}):Object(a.jsx)(r.a,{id:"stationary_event.edit"}),header:{breadcrumb:{routes:[{path:"other/stationary-events",breadcrumbName:M.formatMessage({id:"menu.Other activities.StationaryEvents"})},{path:String(D),breadcrumbName:M.formatMessage({id:"form"})},{path:"/",breadcrumbName:M.formatMessage({id:D==="new"?"new":"edit"})},{path:String(H),breadcrumbName:M.formatMessage({id:String(H)})}]}},children:Object(a.jsxs)(R.a,{tabs:{type:"card",activeKey:H,onChange:function(je){return r.e.push("/other/stationary-events/".concat(D,"/").concat(je))}},children:[Object(a.jsxs)(R.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"attributes"}),children:[Object(a.jsx)(Se.a,{show:Re})," ",Object(a.jsxs)(j.a,Object(l.a)(Object(l.a)({},Qe),{},{form:ke,onValuesChange:function(){w(!0)},children:[Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(c.a,{width:"md",name:"name",label:Object(a.jsx)(r.a,{id:"name"}),tooltip:Object(a.jsx)(r.a,{id:"name_tooltip"}),placeholder:M.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(a.jsx)(c.a,{width:"md",name:"place",label:Object(a.jsx)(r.a,{id:"place"}),tooltip:Object(a.jsx)(r.a,{id:"place_tooltip"}),placeholder:M.formatMessage({id:"place",defaultMessage:"place"}),required:!0}),Object(a.jsx)(j.a.Item,{name:"authors",label:Object(a.jsx)(r.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(n.a,{multiple:!0})}),Object(a.jsx)(x.a,{width:"xs",name:"max_participants",label:Object(a.jsx)(r.a,{id:"max_participants"}),tooltip:Object(a.jsx)(r.a,{id:"max_participants_tooltip"}),placeholder:M.formatMessage({id:"max_participants",defaultMessage:"max_participants"}),min:0,max:9999,fieldProps:{step:1}}),Object(a.jsx)(E.a,{name:"status",width:"md",label:Object(a.jsx)(r.a,{id:"status"}),tooltip:Object(a.jsx)(r.a,{id:"status_consultation_tooltip"}),valueEnum:{draft:M.formatMessage({id:"draft",defaultMessage:"draft"}),published:M.formatMessage({id:"published",defaultMessage:"published"}),archived:M.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:M.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:M.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(r.a,{id:"select"})}]})]}),Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(o.a,{width:"sm",name:"started_at",label:Object(a.jsx)(r.a,{id:"started_at"}),tooltip:Object(a.jsx)(r.a,{id:"started_at_tooltip"}),placeholder:M.formatMessage({id:"started_at",defaultMessage:"started_at"})}),Object(a.jsx)(o.a,{width:"sm",name:"finished_at",label:Object(a.jsx)(r.a,{id:"finished_at"}),tooltip:Object(a.jsx)(r.a,{id:"finished_att_tooltip"}),placeholder:M.formatMessage({id:"finished_at",defaultMessage:"finished_at"})})]}),Object(a.jsx)(j.a.Group,{children:Object(a.jsx)(d.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(r.a,{id:"short_description"}),tooltip:Object(a.jsx)(r.a,{id:"short_description"})})}),Object(a.jsx)(j.a.Item,{name:"program",label:Object(a.jsx)(r.a,{id:"program"}),tooltip:Object(a.jsx)(r.a,{id:"program_tooltip"}),valuePropName:"value",children:Object(a.jsx)(te.a,{directory:"stationary_events/".concat(D,"/wysiwyg")})}),Object(a.jsx)(j.a.Item,{name:"description",label:Object(a.jsx)(r.a,{id:"description"}),tooltip:Object(a.jsx)(r.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(te.a,{directory:"stationary_events/".concat(D,"/wysiwyg")})})]}))]},"attributes")," ",!ie&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"agenda"}),children:Object(a.jsx)(j.a,Object(l.a)(Object(l.a)({},Qe),{},{children:Object(a.jsx)(Q,{data:(oe=Oe.agenda)!==null&&oe!==void 0?oe:[],onCreate:function(je){return pe(je)}})}))},"agenda"),!ie&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"product"}),children:D&&Object(a.jsx)(Ne.a,{productable:{class_type:"App\\Models\\StationaryEvent",class_id:D,name:String(Oe.name),quantity:1}})},"product"),!ie&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"media"}),children:Object(a.jsx)(j.a,Object(l.a)(Object(l.a)({},Qe),{},{children:Object(a.jsx)(i.a,{folder:"stationary-events/".concat(D),title:"image",action:"/api/admin/stationary-events/".concat(D,"/?_method=PUT"),src_name:"image_url",form_name:"image",getUploadedSrcField:function(je){return je.file.response.data.image_url},setPath:function(je){return Ee(function(J){return Object(l.a)(Object(l.a)({},J),je)})}})}))},"media"),!ie&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"categories"}),children:Object(a.jsx)(m.a,{children:Object(a.jsx)(p.a,{span:12,children:Object(a.jsx)(j.a,Object(l.a)(Object(l.a)({},Qe),{},{children:Object(a.jsx)(j.a.Item,{label:Object(a.jsx)(r.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(a.jsx)(I.a,{multiple:!1})})}))})})},"categories"),!ie&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"user_submission"}),children:Object(a.jsx)(m.a,{children:Object(a.jsx)(p.a,{span:12,children:D&&Object(a.jsx)(Ge.a,{id:Number(D),type:"App\\Models\\StationaryEvent"})})})},"user_submission")]})}):Object(a.jsx)(T.a,{})},Be=O.default=k},VlvL:function(be,O,e){"use strict";var u=e("9kvl"),m=e("Ty5D"),f=e("nKUr"),p=e.n(f),G=function(b){var W=b.show,C=Object(u.j)();return Object(f.jsx)(m.b,{when:W,message:C.formatMessage({id:"unsaved_changes"})})};O.a=G},hUqB:function(be,O,e){},hd5d:function(be,O,e){"use strict";var u=e("qLMh"),m=e("9og8"),f=e("q1tI"),p=e.n(f),G=e("3Ef1"),T=e.n(G),b=e("BAh9"),W=e("vtG9"),C=e.n(W),l=e("9kvl"),B=e("nKUr"),P=e.n(B),S=function(c){var x=c.value,E=c.onChange,o=c.directory,d=o===void 0?"/wysiwyg":o,R=Object(l.j)();return Object(B.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(B.jsx)(T.a,{uploadImage:function(){var te=Object(m.a)(Object(u.a)().mark(function Z(r){var s,n;return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(b.e)(r,d);case 2:if(s=i.sent,!s.success){i.next=6;break}return n=s.data[0].name.includes("/")?s.data[0].name:"".concat(d).concat(s.data[0].name),i.abrupt("return",Object(b.d)(n,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return i.stop()}},Z)}));return function(Z){return te.apply(this,arguments)}}(),defaultValue:x||"",onChange:function(Z){return E&&E(Z())},placeholder:R.formatMessage({id:"wysiwyg_placeholder"})})})};O.a=S},kMBS:function(be,O,e){"use strict";e.d(O,"a",function(){return G});var u=e("qLMh"),m=e("k1fw"),f=e("9og8"),p=e("9kvl");function G(b){return T.apply(this,arguments)}function T(){return T=Object(f.a)(Object(u.a)().mark(function b(W){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.g)("/api/tags/unique",Object(m.a)({method:"GET",useCache:!1},W||{})));case 1:case"end":return l.stop()}},b)})),T.apply(this,arguments)}},lJbd:function(be,O,e){"use strict";e.d(O,"d",function(){return G}),e.d(O,"a",function(){return b}),e.d(O,"c",function(){return C}),e.d(O,"e",function(){return B}),e.d(O,"b",function(){return S});var u=e("qLMh"),m=e("k1fw"),f=e("9og8"),p=e("9kvl");function G(c,x){return T.apply(this,arguments)}function T(){return T=Object(f.a)(Object(u.a)().mark(function c(x,E){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.g)("/api/admin/stationary-events",Object(m.a)({method:"GET",params:Object(m.a)(Object(m.a)({},x),{},{per_page:x.pageSize,page:x.current})},E||{})));case 1:case"end":return d.stop()}},c)})),T.apply(this,arguments)}function b(c,x){return W.apply(this,arguments)}function W(){return W=Object(f.a)(Object(u.a)().mark(function c(x,E){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.g)("/api/admin/stationary-events",Object(m.a)({method:"POST",headers:{"Content-Type":"application/json"},data:x},E||{})));case 1:case"end":return d.stop()}},c)})),W.apply(this,arguments)}function C(c,x){return l.apply(this,arguments)}function l(){return l=Object(f.a)(Object(u.a)().mark(function c(x,E){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.g)("/api/admin/stationary-events/".concat(x),Object(m.a)({method:"GET"},E||{})));case 1:case"end":return d.stop()}},c)})),l.apply(this,arguments)}function B(c,x,E){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(u.a)().mark(function c(x,E,o){return Object(u.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",Object(p.g)("/api/admin/stationary-events/".concat(x,"?_method=PUT"),Object(m.a)({method:"POST",headers:{"Content-Type":"application/json"},data:E},o||{})));case 1:case"end":return R.stop()}},c)})),P.apply(this,arguments)}function S(c,x){return j.apply(this,arguments)}function j(){return j=Object(f.a)(Object(u.a)().mark(function c(x,E){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.g)("/api/admin/stationary-events/".concat(x),Object(m.a)({method:"DELETE",useCache:!1},E||{})));case 1:case"end":return d.stop()}},c)})),j.apply(this,arguments)}},q34N:function(be,O,e){"use strict";var u=e("tJVT"),m=e("0eZe"),f=e("q1tI"),p=e.n(f),G=e("nKUr"),T=e.n(G),b=function(C){var l=C.productable,B=C.type,P=B===void 0?"card":B,S=Object(f.useState)("attributes"),j=Object(u.a)(S,2),c=j[0],x=j[1];return Object(G.jsx)(m.a,{productable:l,tab:c,onTabChange:function(o){return x(o)},type:P})};O.a=b},qSko:function(be,O,e){"use strict";var u=e("OaEy"),m=e("2fM7"),f=e("T2oS"),p=e("W9HT"),G=e("tJVT"),T=e("q1tI"),b=e.n(T),W=e("DVQu"),C=e("9kvl"),l=e("nKUr"),B=e.n(l),P=function(j){var c=j.value,x=j.onChange,E=j.multiple,o=E===void 0?!1:E,d=j.type,R=Object(T.useState)([]),te=Object(G.a)(R,2),Z=te[0],r=te[1],s=Object(T.useState)(!1),n=Object(G.a)(s,2),y=n[0],i=n[1],I=Object(T.useState)([]),F=Object(G.a)(I,2),we=F[0],Ne=F[1],Se=Object(T.useRef)(),Ge=Object(T.useCallback)(function(){i(!0),Se.current&&Se.current.abort(),Se.current=new AbortController,Object(W.h)({productable_type:d},{signal:Se.current.signal}).then(function(ue){ue.success&&r(d?ue.data.filter(function(Pe){return Pe.type==="single"&&Pe.productables&&Pe.productables[0].id}):ue.data),i(!1)}).catch(function(){return i(!1)})},[]);return Object(T.useEffect)(function(){var ue=new AbortController;if(c){var Pe=Array.isArray(c)?c:[c],ae=Pe.map(function(K){return typeof K=="object"?Number(K.id):Number(K)});Ne(ae)}return function(){ue.abort()}},[c]),Object(l.jsx)(m.a,{onFocus:function(){return Ge()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:we,onChange:x,mode:o?"multiple":void 0,showSearch:!0,placeholder:Object(l.jsx)(C.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(Pe,ae){if(ae&&ae.children){var K;return(ae==null||(K=ae.children)===null||K===void 0?void 0:K.toString().toLowerCase().indexOf(Pe&&Pe.toLowerCase()||""))>=0}return!1},notFoundContent:y?Object(l.jsx)(p.a,{size:"small"}):null,children:Z.map(function(ue){return Object(l.jsx)(m.a.Option,{value:ue.id,children:ue.name},ue.id)})})};O.a=P},rWUb:function(be,O,e){"use strict";e.d(O,"e",function(){return G}),e.d(O,"d",function(){return b}),e.d(O,"a",function(){return C}),e.d(O,"h",function(){return B}),e.d(O,"b",function(){return S}),e.d(O,"i",function(){return c}),e.d(O,"c",function(){return E}),e.d(O,"f",function(){return d}),e.d(O,"g",function(){return te});var u=e("qLMh"),m=e("k1fw"),f=e("9og8"),p=e("9kvl");function G(r,s){return T.apply(this,arguments)}function T(){return T=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/templates",Object(m.a)({method:"GET",useCache:!1,params:Object(m.a)(Object(m.a)({},s),{},{per_page:s&&s.pageSize,page:s&&s.current})},n||{})));case 1:case"end":return i.stop()}},r)})),T.apply(this,arguments)}function b(r,s){return W.apply(this,arguments)}function W(){return W=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/templates/".concat(s),Object(m.a)({method:"GET"},n||{})));case 1:case"end":return i.stop()}},r)})),W.apply(this,arguments)}function C(r,s){return l.apply(this,arguments)}function l(){return l=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/templates",Object(m.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},n||{})));case 1:case"end":return i.stop()}},r)})),l.apply(this,arguments)}function B(r,s,n){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(u.a)().mark(function r(s,n,y){return Object(u.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(p.g)("/api/admin/templates/".concat(s),Object(m.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:n},y||{})));case 1:case"end":return I.stop()}},r)})),P.apply(this,arguments)}function S(r,s){return j.apply(this,arguments)}function j(){return j=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/templates/".concat(s),Object(m.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},n||{})));case 1:case"end":return i.stop()}},r)})),j.apply(this,arguments)}function c(r){return x.apply(this,arguments)}function x(){return x=Object(f.a)(Object(u.a)().mark(function r(s){return Object(u.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",Object(p.g)("/api/admin/templates/variables",Object(m.a)({method:"GET"},s||{})));case 1:case"end":return y.stop()}},r)})),x.apply(this,arguments)}function E(r,s){return o.apply(this,arguments)}function o(){return o=Object(f.a)(Object(u.a)().mark(function r(s,n){return Object(u.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(p.g)("/api/admin/templates/".concat(s,"/preview"),Object(m.a)({method:"GET"},n||{})));case 1:case"end":return i.stop()}},r)})),o.apply(this,arguments)}function d(r,s,n){return R.apply(this,arguments)}function R(){return R=Object(f.a)(Object(u.a)().mark(function r(s,n,y){return Object(u.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(p.g)("/api/admin/events/trigger-manually/".concat(s),Object(m.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:n}},y||{})));case 1:case"end":return I.stop()}},r)})),R.apply(this,arguments)}function te(r,s,n){return Z.apply(this,arguments)}function Z(){return Z=Object(f.a)(Object(u.a)().mark(function r(s,n,y){return Object(u.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(p.g)("/api/admin/products/".concat(n,"/trigger-event-manually/").concat(s),Object(m.a)({method:"POST",headers:{"Content-Type":"application/json"}},y||{})));case 1:case"end":return I.stop()}},r)})),Z.apply(this,arguments)}},rnuo:function(be,O,e){"use strict";var u=e("tJVT"),m=e("OaEy"),f=e("2fM7"),p=e("q1tI"),G=e.n(p),T=e("kMBS"),b=e("nKUr"),W=e.n(b),C=f.a.Option,l=function(P){var S=P.value,j=P.onChange,c=Object(p.useState)([]),x=Object(u.a)(c,2),E=x[0],o=x[1];return Object(p.useEffect)(function(){Object(T.a)().then(function(d){return o(d.data)})},[]),Object(b.jsx)(f.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:j,value:S,children:E.map(function(d){return Object(b.jsx)(C,{value:d.title,children:d.title},d.title)})})};O.a=l},vtG9:function(be,O,e){},vzes:function(be,O,e){"use strict";var u=e("OaEy"),m=e("2fM7"),f=e("+BJd"),p=e("mr32"),G=e("T2oS"),T=e("W9HT"),b=e("tJVT"),W=e("q1tI"),C=e.n(W),l=e("9kvl"),B=e("DVQu"),P=e("nKUr"),S=e.n(P),j=function(o){return"".concat(o.productable_type,":").concat(o.productable_id,":").concat(o.name)},c=function(o){return"".concat(o.class,":").concat(o.id,":").concat(o.name)},x=function(o){var d=o.value,R=o.onChange,te=o.multiple,Z=te===void 0?!1:te,r=o.disabled,s=r===void 0?!1:r,n=Object(W.useState)([]),y=Object(b.a)(n,2),i=y[0],I=y[1],F=Object(W.useState)(!1),we=Object(b.a)(F,2),Ne=we[0],Se=we[1],Ge=Object(W.useState)([]),ue=Object(b.a)(Ge,2),Pe=ue[0],ae=ue[1],K=Object(W.useRef)(),t=Object(W.useCallback)(function(){Se(!0),K.current&&K.current.abort(),K.current=new AbortController,Object(B.g)({signal:K.current.signal}).then(function(X){X.success&&I(X.data),Se(!1)}).catch(function(){return Se(!1)})},[]);return Object(W.useEffect)(function(){t()},[]),Object(W.useEffect)(function(){var X=new AbortController;if(d){var U=Array.isArray(d)?d:[d],xe=U.map(function(Te){return typeof Te=="object"?c(Te):String(Te)});ae(xe)}return function(){X.abort()}},[d]),Object(P.jsx)(m.a,{disabled:s,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:Pe,onChange:R,mode:Z?"multiple":void 0,showSearch:!0,placeholder:Object(P.jsx)(l.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(U,xe){if(xe&&xe.children){var Te;return(xe==null||(Te=xe.children)===null||Te===void 0?void 0:Te.toString().toLowerCase().indexOf(U&&U.toLowerCase()||""))>=0}return!1},notFoundContent:Ne?Object(P.jsx)(T.a,{size:"small"}):null,children:i.map(function(X){var U=j(X);return Object(P.jsxs)(m.a.Option,{value:U,children:[Object(P.jsx)(p.a,{children:Object(P.jsx)(l.a,{id:X.productable_type.split("\\").pop(),defaultMessage:X.productable_type.split("\\").pop()})})," ",X.name," ",Object(P.jsxs)("small",{children:["id:",X.productable_id]})," "]},U)})})};O.a=x},zjZ2:function(be,O,e){}}]);
