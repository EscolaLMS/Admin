(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"2D6k":function(un,_r,Ne){"use strict";var Ke=Math.PI*2;function L(Ht,wt,G,b){var i=Ht*b-wt*G<0?-1:1,c=Ht*G+wt*b;return c>1&&(c=1),c<-1&&(c=-1),i*Math.acos(c)}function le(Ht,wt,G,b,i,c,u,o,r,e){var t=e*(Ht-G)/2+r*(wt-b)/2,a=-r*(Ht-G)/2+e*(wt-b)/2,l=u*u,s=o*o,f=t*t,p=a*a,w=l*s-l*p-s*f;w<0&&(w=0),w/=l*p+s*f,w=Math.sqrt(w)*(i===c?-1:1);var A=w*u/o*a,z=w*-o/u*t,Z=e*A-r*z+(Ht+G)/2,ot=r*A+e*z+(wt+b)/2,Lt=(t-A)/u,At=(a-z)/o,se=(-t-A)/u,Le=(-a-z)/o,Tt=L(1,0,Lt,At),$t=L(Lt,At,se,Le);return c===0&&$t>0&&($t-=Ke),c===1&&$t<0&&($t+=Ke),[Z,ot,Tt,$t]}function W(Ht,wt){var G=4/3*Math.tan(wt/4),b=Math.cos(Ht),i=Math.sin(Ht),c=Math.cos(Ht+wt),u=Math.sin(Ht+wt);return[b,i,b-i*G,i+b*G,c+u*G,u-c*G,c,u]}un.exports=function(wt,G,b,i,c,u,o,r,e){var t=Math.sin(e*Ke/360),a=Math.cos(e*Ke/360),l=a*(wt-b)/2+t*(G-i)/2,s=-t*(wt-b)/2+a*(G-i)/2;if(l===0&&s===0)return[];if(o===0||r===0)return[];o=Math.abs(o),r=Math.abs(r);var f=l*l/(o*o)+s*s/(r*r);f>1&&(o*=Math.sqrt(f),r*=Math.sqrt(f));var p=le(wt,G,b,i,c,u,o,r,t,a),w=[],A=p[2],z=p[3],Z=Math.max(Math.ceil(Math.abs(z)/(Ke/4)),1);z/=Z;for(var ot=0;ot<Z;ot++)w.push(W(A,z)),A+=z;return w.map(function(Lt){for(var At=0;At<Lt.length;At+=2){var se=Lt[At+0],Le=Lt[At+1];se*=o,Le*=r;var Tt=a*se-t*Le,$t=t*se+a*Le;Lt[At+0]=Tt+p[0],Lt[At+1]=$t+p[1]}return Lt})}},"3dVZ":function(un,_r,Ne){},"49sm":function(un,_r){var Ne={}.toString;un.exports=Array.isArray||function(Ke){return Ne.call(Ke)=="[object Array]"}},"4hEd":function(un,_r,Ne){"use strict";function Ke(le,W){return[le[0]*W[0]+le[2]*W[1],le[1]*W[0]+le[3]*W[1],le[0]*W[2]+le[2]*W[3],le[1]*W[2]+le[3]*W[3],le[0]*W[4]+le[2]*W[5]+le[4],le[1]*W[4]+le[3]*W[5]+le[5]]}function L(){if(!(this instanceof L))return new L;this.queue=[],this.cache=null}L.prototype.matrix=function(le){return le[0]===1&&le[1]===0&&le[2]===0&&le[3]===1&&le[4]===0&&le[5]===0?this:(this.cache=null,this.queue.push(le),this)},L.prototype.translate=function(le,W){return(le!==0||W!==0)&&(this.cache=null,this.queue.push([1,0,0,1,le,W])),this},L.prototype.scale=function(le,W){return(le!==1||W!==1)&&(this.cache=null,this.queue.push([le,0,0,W,0,0])),this},L.prototype.rotate=function(le,W,Ht){var wt,G,b;return le!==0&&(this.translate(W,Ht),wt=le*Math.PI/180,G=Math.cos(wt),b=Math.sin(wt),this.queue.push([G,b,-b,G,0,0]),this.cache=null,this.translate(-W,-Ht)),this},L.prototype.skewX=function(le){return le!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(le*Math.PI/180),1,0,0])),this},L.prototype.skewY=function(le){return le!==0&&(this.cache=null,this.queue.push([1,Math.tan(le*Math.PI/180),0,1,0,0])),this},L.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var le=1;le<this.queue.length;le++)this.cache=Ke(this.cache,this.queue[le]);return this.cache},L.prototype.calc=function(le,W,Ht){var wt;return this.queue.length?(this.cache||(this.cache=this.toArray()),wt=this.cache,[le*wt[0]+W*wt[2]+(Ht?0:wt[4]),le*wt[1]+W*wt[3]+(Ht?0:wt[5])]):[le,W]},un.exports=L},B61z:function(un,_r,Ne){"use strict";var Ke=1e-10,L=Math.PI/180;function le(W,Ht,wt){if(!(this instanceof le))return new le(W,Ht,wt);this.rx=W,this.ry=Ht,this.ax=wt}le.prototype.transform=function(W){var Ht=Math.cos(this.ax*L),wt=Math.sin(this.ax*L),G=[this.rx*(W[0]*Ht+W[2]*wt),this.rx*(W[1]*Ht+W[3]*wt),this.ry*(-W[0]*wt+W[2]*Ht),this.ry*(-W[1]*wt+W[3]*Ht)],b=G[0]*G[0]+G[2]*G[2],i=G[1]*G[1]+G[3]*G[3],c=((G[0]-G[3])*(G[0]-G[3])+(G[2]+G[1])*(G[2]+G[1]))*((G[0]+G[3])*(G[0]+G[3])+(G[2]-G[1])*(G[2]-G[1])),u=(b+i)/2;if(c<Ke*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var o=G[0]*G[1]+G[2]*G[3];c=Math.sqrt(c);var r=u+c/2,e=u-c/2;return this.ax=Math.abs(o)<Ke&&Math.abs(r-i)<Ke?90:Math.atan(Math.abs(o)>Math.abs(r-i)?(r-b)/o:o/(r-i))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(r),this.ry=Math.sqrt(e)):(this.ax+=90,this.rx=Math.sqrt(e),this.ry=Math.sqrt(r)),this},le.prototype.isDegenerate=function(){return this.rx<Ke*this.ry||this.ry<Ke*this.rx},un.exports=le},BiO0:function(un,_r,Ne){"use strict";var Ke=Ne("wx14"),L=Ne("Ff2n"),le=Ne("q1tI"),W=Ne.n(le),Ht=Ne("adzw"),wt=["fieldProps","proFieldProps"],G=function(i,c){var u=i.fieldProps,o=i.proFieldProps,r=Object(L.a)(i,wt);return W.a.createElement(Ht.a,Object(Ke.a)({ref:c,mode:"edit",valueType:"textarea",fieldProps:u,proFieldProps:o},r))};_r.a=W.a.forwardRef(G)},C4q1:function(un,_r,Ne){"use strict";/*! https://mths.be/cssesc v3.0.0 by @mathias */var Ke={},L=Ke.hasOwnProperty,le=function(c,u){if(!c)return u;var o={};for(var r in u)o[r]=L.call(c,r)?c[r]:u[r];return o},W=/[ -,\.\/:-@\[-\^`\{-~]/,Ht=/[ -,\.\/:-@\[\]\^`\{-~]/,wt=/['"\\]/,G=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,b=function i(c,u){u=le(u,i.options),u.quotes!="single"&&u.quotes!="double"&&(u.quotes="single");for(var o=u.quotes=="double"?'"':"'",r=u.isIdentifier,e=c.charAt(0),t="",a=0,l=c.length;a<l;){var s=c.charAt(a++),f=s.charCodeAt(),p=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&a<l){var w=c.charCodeAt(a++);(w&64512)==56320?f=((f&1023)<<10)+(w&1023)+65536:a--}p="\\"+f.toString(16).toUpperCase()+" "}else u.escapeEverything?W.test(s)?p="\\"+s:p="\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(s)?p="\\"+f.toString(16).toUpperCase()+" ":s=="\\"||!r&&(s=='"'&&o==s||s=="'"&&o==s)||r&&Ht.test(s)?p="\\"+s:p=s;t+=p}return r&&(/^-[-\d]/.test(t)?t="\\-"+t.slice(1):/\d/.test(e)&&(t="\\3"+e+" "+t.slice(1))),t=t.replace(G,function(A,z,Z){return z&&z.length%2?A:(z||"")+Z}),!r&&u.wrap?o+t+o:t};b.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},b.version="3.0.0",un.exports=b},COF0:function(un,_r,Ne){"use strict";var Ke={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},L=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function le(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&L.indexOf(e)>=0}function W(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function Ht(e){return(e|32)==97}function wt(e){return e>=48&&e<=57}function G(e){return e>=48&&e<=57||e===43||e===45||e===46}function b(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function i(e){for(;e.index<e.max&&le(e.path.charCodeAt(e.index));)e.index++}function c(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function u(e){var t=e.index,a=t,l=e.max,s=!1,f=!1,p=!1,w=!1,A;if(a>=l){e.err="SvgPath: missed param (at pos "+a+")";return}if(A=e.path.charCodeAt(a),(A===43||A===45)&&(a++,A=a<l?e.path.charCodeAt(a):0),!wt(A)&&A!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+a+")";return}if(A!==46){if(s=A===48,a++,A=a<l?e.path.charCodeAt(a):0,s&&a<l&&A&&wt(A)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;a<l&&wt(e.path.charCodeAt(a));)a++,f=!0;A=a<l?e.path.charCodeAt(a):0}if(A===46){for(w=!0,a++;wt(e.path.charCodeAt(a));)a++,p=!0;A=a<l?e.path.charCodeAt(a):0}if(A===101||A===69){if(w&&!f&&!p){e.err="SvgPath: invalid float exponent (at pos "+a+")";return}if(a++,A=a<l?e.path.charCodeAt(a):0,(A===43||A===45)&&a++,a<l&&wt(e.path.charCodeAt(a)))for(;a<l&&wt(e.path.charCodeAt(a));)a++;else{e.err="SvgPath: invalid float exponent (at pos "+a+")";return}}e.index=a,e.param=parseFloat(e.path.slice(t,a))+0}function o(e){var t,a;t=e.path[e.segmentStart],a=t.toLowerCase();var l=e.data;if(a==="m"&&l.length>2&&(e.result.push([t,l[0],l[1]]),l=l.slice(2),a="l",t=t==="m"?"l":"L"),a==="r")e.result.push([t].concat(l));else for(;l.length>=Ke[a]&&(e.result.push([t].concat(l.splice(0,Ke[a]))),!!Ke[a]););}function r(e){var t=e.max,a,l,s,f,p;if(e.segmentStart=e.index,a=e.path.charCodeAt(e.index),l=Ht(a),!W(a)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(f=Ke[e.path[e.index].toLowerCase()],e.index++,i(e),e.data=[],!f){o(e);return}for(s=!1;;){for(p=f;p>0;p--){if(l&&(p===3||p===4)?c(e):u(e),e.err.length)return;e.data.push(e.param),i(e),s=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,i(e),s=!0)}if(!s&&(e.index>=e.max||!G(e.path.charCodeAt(e.index))))break}o(e)}un.exports=function(t){var a=new b(t),l=a.max;for(i(a);a.index<l&&!a.err.length;)r(a);return a.err.length?a.result=[]:a.result.length&&("mM".indexOf(a.result[0][0])<0?(a.err="SvgPath: string should start with `M` or `m`",a.result=[]):a.result[0][0]="M"),{err:a.err,segments:a.result}}},"D6/r":function(un,_r,Ne){},H7XF:function(un,_r,Ne){"use strict";_r.byteLength=b,_r.toByteArray=c,_r.fromByteArray=r;for(var Ke=[],L=[],le=typeof Uint8Array!="undefined"?Uint8Array:Array,W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ht=0,wt=W.length;Ht<wt;++Ht)Ke[Ht]=W[Ht],L[W.charCodeAt(Ht)]=Ht;L["-".charCodeAt(0)]=62,L["_".charCodeAt(0)]=63;function G(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.indexOf("=");a===-1&&(a=t);var l=a===t?0:4-a%4;return[a,l]}function b(e){var t=G(e),a=t[0],l=t[1];return(a+l)*3/4-l}function i(e,t,a){return(t+a)*3/4-a}function c(e){var t,a=G(e),l=a[0],s=a[1],f=new le(i(e,l,s)),p=0,w=s>0?l-4:l,A;for(A=0;A<w;A+=4)t=L[e.charCodeAt(A)]<<18|L[e.charCodeAt(A+1)]<<12|L[e.charCodeAt(A+2)]<<6|L[e.charCodeAt(A+3)],f[p++]=t>>16&255,f[p++]=t>>8&255,f[p++]=t&255;return s===2&&(t=L[e.charCodeAt(A)]<<2|L[e.charCodeAt(A+1)]>>4,f[p++]=t&255),s===1&&(t=L[e.charCodeAt(A)]<<10|L[e.charCodeAt(A+1)]<<4|L[e.charCodeAt(A+2)]>>2,f[p++]=t>>8&255,f[p++]=t&255),f}function u(e){return Ke[e>>18&63]+Ke[e>>12&63]+Ke[e>>6&63]+Ke[e&63]}function o(e,t,a){for(var l,s=[],f=t;f<a;f+=3)l=(e[f]<<16&16711680)+(e[f+1]<<8&65280)+(e[f+2]&255),s.push(u(l));return s.join("")}function r(e){for(var t,a=e.length,l=a%3,s=[],f=16383,p=0,w=a-l;p<w;p+=f)s.push(o(e,p,p+f>w?w:p+f));return l===1?(t=e[a-1],s.push(Ke[t>>2]+Ke[t<<4&63]+"==")):l===2&&(t=(e[a-2]<<8)+e[a-1],s.push(Ke[t>>10]+Ke[t>>4&63]+Ke[t<<2&63]+"=")),s.join("")}},Iab2:function(un,_r,Ne){(function(Ke){var L,le,W;(function(Ht,wt){le=[],L=wt,W=typeof L=="function"?L.apply(_r,le):L,W!==void 0&&(un.exports=W)})(this,function(){"use strict";function Ht(o,r){return typeof r=="undefined"?r={autoBom:!1}:typeof r!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function wt(o,r,e){var t=new XMLHttpRequest;t.open("GET",o),t.responseType="blob",t.onload=function(){u(t.response,r,e)},t.onerror=function(){console.error("could not download file")},t.send()}function G(o){var r=new XMLHttpRequest;r.open("HEAD",o,!1);try{r.send()}catch(e){}return 200<=r.status&&299>=r.status}function b(o){try{o.dispatchEvent(new MouseEvent("click"))}catch(e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(r)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ke=="object"&&Ke.global===Ke?Ke:void 0,c=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(o,r,e){var t=i.URL||i.webkitURL,a=document.createElement("a");r=r||o.name||"download",a.download=r,a.rel="noopener",typeof o=="string"?(a.href=o,a.origin===location.origin?b(a):G(a.href)?wt(o,r,e):b(a,a.target="_blank")):(a.href=t.createObjectURL(o),setTimeout(function(){t.revokeObjectURL(a.href)},4e4),setTimeout(function(){b(a)},0))}:"msSaveOrOpenBlob"in navigator?function(o,r,e){if(r=r||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(Ht(o,e),r);else if(G(o))wt(o,r,e);else{var t=document.createElement("a");t.href=o,t.target="_blank",setTimeout(function(){b(t)})}}:function(o,r,e,t){if(t=t||open("","_blank"),t&&(t.document.title=t.document.body.innerText="downloading..."),typeof o=="string")return wt(o,r,e);var a=o.type==="application/octet-stream",l=/constructor/i.test(i.HTMLElement)||i.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&l||c)&&typeof FileReader!="undefined"){var f=new FileReader;f.onloadend=function(){var A=f.result;A=s?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=A:location=A,t=null},f.readAsDataURL(o)}else{var p=i.URL||i.webkitURL,w=p.createObjectURL(o);t?t.location=w:location.href=w,t=null,setTimeout(function(){p.revokeObjectURL(w)},4e4)}});i.saveAs=u.saveAs=u,un.exports=u})}).call(this,Ne("IyRk"))},JhKR:function(un,_r){var Ne=0,Ke=1,L=2,le=3,W=4,Ht=5,wt=6,G=/[a-z0-9_-]/i,b=/[\s\t]/,i=function(r){for(var e=!0,t=Ne,a="",l=0,s,f,p=[];;){if(f=r[l],t===Ne){if(!f&&e)break;if(!f&&!e)throw new Error("Parse error");if(f==='"'||f==="'")s=f,t=Ke,e=!1;else if(!b.test(f))if(G.test(f))t=le,e=!1,l--;else throw new Error("Parse error")}else if(t===Ke)if(f)f==="\\"?t=L:f===s?(p.push(a),a="",t=W):a+=f;else throw new Error("Parse Error");else if(t===L)if(f===s||f==="\\")a+=f,t=Ke;else throw new Error("Parse error");else if(t===le)if(f)G.test(f)?a+=f:f===","?(p.push(a),a="",t=Ne):b.test(f)?t=Ht:f==="\\"&&(t=wt);else{p.push(a);break}else if(t===wt){if(/[0-9a-f]/i.test(f))throw new Error("Parse error");a+=f,t=le}else if(t===Ht)if(f){if(G.test(f))a+=" "+f,t=le;else if(f===",")p.push(a),a="",t=Ne;else if(!b.test(f))throw new Error("Parse error")}else{p.push(a);break}else if(t===W)if(f){if(f===",")t=Ne;else if(!b.test(f))throw new Error("Parse error")}else break;l++}return p},c=/[^a-z0-9_-]/i,u=function(r,e){var t=e&&e.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Quote must be `'` or `\"`");for(var a=new RegExp(t,"g"),l=[],s=0;s<r.length;++s){var f=r[s];c.test(f)&&(f=f.replace(/\\/g,"\\\\").replace(a,"\\"+t),f=t+f+t),l.push(f)}return l.join(", ")};un.exports={parse:i,stringify:u}},LvDl:function(un,_r,Ne){(function(Ke,L){var le;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var W,Ht="4.17.21",wt=200,G="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",i="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,o="__lodash_placeholder__",r=1,e=2,t=4,a=1,l=2,s=1,f=2,p=4,w=8,A=16,z=32,Z=64,ot=128,Lt=256,At=512,se=30,Le="...",Tt=800,$t=16,Y=1,ue=2,tr=3,Ce=1/0,ct=9007199254740991,Ut=17976931348623157e292,et=0/0,X=4294967295,rt=X-1,M=X>>>1,Q=[["ary",ot],["bind",s],["bindKey",f],["curry",w],["curryRight",A],["flip",At],["partial",z],["partialRight",Z],["rearg",Lt]],ut="[object Arguments]",ht="[object Array]",Wt="[object AsyncFunction]",bt="[object Boolean]",Bt="[object Date]",oe="[object DOMException]",re="[object Error]",ae="[object Function]",qt="[object GeneratorFunction]",I="[object Map]",Pt="[object Number]",Dt="[object Null]",F="[object Object]",x="[object Promise]",O="[object Proxy]",$="[object RegExp]",it="[object Set]",pt="[object String]",jt="[object Symbol]",ke="[object Undefined]",Te="[object WeakMap]",De="[object WeakSet]",gr="[object ArrayBuffer]",er="[object DataView]",Hr="[object Float32Array]",Jr="[object Float64Array]",on="[object Int8Array]",Dn="[object Int16Array]",hn="[object Int32Array]",wn="[object Uint8Array]",Wn="[object Uint8ClampedArray]",Xn="[object Uint16Array]",Si="[object Uint32Array]",Ii=/\b__p \+= '';/g,ni=/\b(__p \+=) '' \+/g,Ea=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ir=/&(?:amp|lt|gt|quot|#39);/g,Ni=/[&<>"']/g,Fa=RegExp(Ir.source),$s=RegExp(Ni.source),$o=/<%-([\s\S]+?)%>/g,Qs=/<%([\s\S]+?)%>/g,Ya=/<%=([\s\S]+?)%>/g,Co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ao=/^\w*$/,us=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hs=/[\\^$.*+?()[\]{}|]/g,Ll=RegExp(hs.source),to=/^\s+/,Ls=/\s/,ks=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,To=/\{\n\/\* \[wrapped with (.+)\] \*/,Qo=/,? & /,Es=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xa=/[()=,{}\[\]\/\s]/,tl=/\\(\\)?/g,el=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,K=/\w*$/,B=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,q=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,Ot=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Me="\\ud800-\\udfff",ne="\\u0300-\\u036f",je="\\ufe20-\\ufe2f",Br="\\u20d0-\\u20ff",Rt=ne+je+Br,tt="\\u2700-\\u27bf",nt="a-z\\xdf-\\xf6\\xf8-\\xff",Et="\\xac\\xb1\\xd7\\xf7",Zt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",me="\\u2000-\\u206f",Ue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rr="A-Z\\xc0-\\xd6\\xd8-\\xde",nr="\\ufe0e\\ufe0f",He=Et+Zt+me+Ue,Sr="['\u2019]",br="["+Me+"]",ln="["+He+"]",$r="["+Rt+"]",Rr="\\d+",Sn="["+tt+"]",Qr="["+nt+"]",yn="[^"+Me+He+Rr+tt+nt+rr+"]",Vn="\\ud83c[\\udffb-\\udfff]",Fn="(?:"+$r+"|"+Vn+")",k="[^"+Me+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="["+rr+"]",C="\\u200d",S="(?:"+Qr+"|"+yn+")",P="(?:"+_+"|"+yn+")",j="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",N="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",J=Fn+"?",_t="["+nr+"]?",vt="(?:"+C+"(?:"+[k,g,v].join("|")+")"+_t+J+")*",kt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",V="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vt=_t+J+vt,It="(?:"+[Sn,g,v].join("|")+")"+Vt,Jt="(?:"+[k+$r+"?",$r,g,v,br].join("|")+")",Mt=RegExp(Sr,"g"),gt=RegExp($r,"g"),xe=RegExp(Vn+"(?="+Vn+")|"+Jt+Vt,"g"),Be=RegExp([_+"?"+Qr+"+"+j+"(?="+[ln,_,"$"].join("|")+")",P+"+"+N+"(?="+[ln,_+S,"$"].join("|")+")",_+"?"+S+"+"+j,_+"+"+N,V,kt,Rr,It].join("|"),"g"),$e=RegExp("["+C+Me+Rt+nr+"]"),fr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mr=-1,fe={};fe[Hr]=fe[Jr]=fe[on]=fe[Dn]=fe[hn]=fe[wn]=fe[Wn]=fe[Xn]=fe[Si]=!0,fe[ut]=fe[ht]=fe[gr]=fe[bt]=fe[er]=fe[Bt]=fe[re]=fe[ae]=fe[I]=fe[Pt]=fe[F]=fe[$]=fe[it]=fe[pt]=fe[Te]=!1;var Xe={};Xe[ut]=Xe[ht]=Xe[gr]=Xe[er]=Xe[bt]=Xe[Bt]=Xe[Hr]=Xe[Jr]=Xe[on]=Xe[Dn]=Xe[hn]=Xe[I]=Xe[Pt]=Xe[F]=Xe[$]=Xe[it]=Xe[pt]=Xe[jt]=Xe[wn]=Xe[Wn]=Xe[Xn]=Xe[Si]=!0,Xe[re]=Xe[ae]=Xe[Te]=!1;var ie={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ce={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Je=parseFloat,Ve=parseInt,pr=typeof Ke=="object"&&Ke&&Ke.Object===Object&&Ke,Re=typeof self=="object"&&self&&self.Object===Object&&self,wr=pr||Re||Function("return this")(),Qe=_r&&!_r.nodeType&&_r,Ar=Qe&&typeof L=="object"&&L&&!L.nodeType&&L,te=Ar&&Ar.exports===Qe,xt=te&&pr.process,Qt=function(){try{var _e=Ar&&Ar.require&&Ar.require("util").types;return _e||xt&&xt.binding&&xt.binding("util")}catch(Ze){}}(),ve=Qt&&Qt.isArrayBuffer,Ae=Qt&&Qt.isDate,Ie=Qt&&Qt.isMap,ar=Qt&&Qt.isRegExp,We=Qt&&Qt.isSet,Ye=Qt&&Qt.isTypedArray;function vr(_e,Ze,ze){switch(ze.length){case 0:return _e.call(Ze);case 1:return _e.call(Ze,ze[0]);case 2:return _e.call(Ze,ze[0],ze[1]);case 3:return _e.call(Ze,ze[0],ze[1],ze[2])}return _e.apply(Ze,ze)}function Ur(_e,Ze,ze,zr){for(var nn=-1,Nn=_e==null?0:_e.length;++nn<Nn;){var ti=_e[nn];Ze(zr,ti,ze(ti),_e)}return zr}function Pr(_e,Ze){for(var ze=-1,zr=_e==null?0:_e.length;++ze<zr&&Ze(_e[ze],ze,_e)!==!1;);return _e}function en(_e,Ze){for(var ze=_e==null?0:_e.length;ze--&&Ze(_e[ze],ze,_e)!==!1;);return _e}function Yr(_e,Ze){for(var ze=-1,zr=_e==null?0:_e.length;++ze<zr;)if(!Ze(_e[ze],ze,_e))return!1;return!0}function Yt(_e,Ze){for(var ze=-1,zr=_e==null?0:_e.length,nn=0,Nn=[];++ze<zr;){var ti=_e[ze];Ze(ti,ze,_e)&&(Nn[nn++]=ti)}return Nn}function sr(_e,Ze){var ze=_e==null?0:_e.length;return!!ze&&Vr(_e,Ze,0)>-1}function Er(_e,Ze,ze){for(var zr=-1,nn=_e==null?0:_e.length;++zr<nn;)if(ze(Ze,_e[zr]))return!0;return!1}function ir(_e,Ze){for(var ze=-1,zr=_e==null?0:_e.length,nn=Array(zr);++ze<zr;)nn[ze]=Ze(_e[ze],ze,_e);return nn}function Fr(_e,Ze){for(var ze=-1,zr=Ze.length,nn=_e.length;++ze<zr;)_e[nn+ze]=Ze[ze];return _e}function Tr(_e,Ze,ze,zr){var nn=-1,Nn=_e==null?0:_e.length;for(zr&&Nn&&(ze=_e[++nn]);++nn<Nn;)ze=Ze(ze,_e[nn],nn,_e);return ze}function jr(_e,Ze,ze,zr){var nn=_e==null?0:_e.length;for(zr&&nn&&(ze=_e[--nn]);nn--;)ze=Ze(ze,_e[nn],nn,_e);return ze}function Wr(_e,Ze){for(var ze=-1,zr=_e==null?0:_e.length;++ze<zr;)if(Ze(_e[ze],ze,_e))return!0;return!1}var Xr=Kn("length");function In(_e){return _e.split("")}function tn(_e){return _e.match(Es)||[]}function Pn(_e,Ze,ze){var zr;return ze(_e,function(nn,Nn,ti){if(Ze(nn,Nn,ti))return zr=Nn,!1}),zr}function Gn(_e,Ze,ze,zr){for(var nn=_e.length,Nn=ze+(zr?1:-1);zr?Nn--:++Nn<nn;)if(Ze(_e[Nn],Nn,_e))return Nn;return-1}function Vr(_e,Ze,ze){return Ze===Ze?Ia(_e,Ze,ze):Gn(_e,Nr,ze)}function dn(_e,Ze,ze,zr){for(var nn=ze-1,Nn=_e.length;++nn<Nn;)if(zr(_e[nn],Ze))return nn;return-1}function Nr(_e){return _e!==_e}function ji(_e,Ze){var ze=_e==null?0:_e.length;return ze?va(_e,Ze)/ze:et}function Kn(_e){return function(Ze){return Ze==null?W:Ze[_e]}}function Ci(_e){return function(Ze){return _e==null?W:_e[Ze]}}function bn(_e,Ze,ze,zr,nn){return nn(_e,function(Nn,ti,On){ze=zr?(zr=!1,Nn):Ze(ze,Nn,ti,On)}),ze}function pi(_e,Ze){var ze=_e.length;for(_e.sort(Ze);ze--;)_e[ze]=_e[ze].value;return _e}function va(_e,Ze){for(var ze,zr=-1,nn=_e.length;++zr<nn;){var Nn=Ze(_e[zr]);Nn!==W&&(ze=ze===W?Nn:ze+Nn)}return ze}function jn(_e,Ze){for(var ze=-1,zr=Array(_e);++ze<_e;)zr[ze]=Ze(ze);return zr}function Va(_e,Ze){return ir(Ze,function(ze){return[ze,_e[ze]]})}function li(_e){return _e&&_e.slice(0,ia(_e)+1).replace(to,"")}function gi(_e){return function(Ze){return _e(Ze)}}function na(_e,Ze){return ir(Ze,function(ze){return _e[ze]})}function Qn(_e,Ze){return _e.has(Ze)}function cn(_e,Ze){for(var ze=-1,zr=_e.length;++ze<zr&&Vr(Ze,_e[ze],0)>-1;);return ze}function Un(_e,Ze){for(var ze=_e.length;ze--&&Vr(Ze,_e[ze],0)>-1;);return ze}function eo(_e,Ze){for(var ze=_e.length,zr=0;ze--;)_e[ze]===Ze&&++zr;return zr}var zi=Ci(ie),Ka=Ci(zt);function Za(_e){return"\\"+he[_e]}function rn(_e,Ze){return _e==null?W:_e[Ze]}function Zi(_e){return $e.test(_e)}function ya(_e){return fr.test(_e)}function cs(_e){for(var Ze,ze=[];!(Ze=_e.next()).done;)ze.push(Ze.value);return ze}function ii(_e){var Ze=-1,ze=Array(_e.size);return _e.forEach(function(zr,nn){ze[++Ze]=[nn,zr]}),ze}function Ai(_e,Ze){return function(ze){return _e(Ze(ze))}}function ai(_e,Ze){for(var ze=-1,zr=_e.length,nn=0,Nn=[];++ze<zr;){var ti=_e[ze];(ti===Ze||ti===o)&&(_e[ze]=o,Nn[nn++]=ze)}return Nn}function Ja(_e){var Ze=-1,ze=Array(_e.size);return _e.forEach(function(zr){ze[++Ze]=zr}),ze}function Fs(_e){var Ze=-1,ze=Array(_e.size);return _e.forEach(function(zr){ze[++Ze]=[zr,zr]}),ze}function Ia(_e,Ze,ze){for(var zr=ze-1,nn=_e.length;++zr<nn;)if(_e[zr]===Ze)return zr;return-1}function $a(_e,Ze,ze){for(var zr=ze+1;zr--;)if(_e[zr]===Ze)return zr;return zr}function Ui(_e){return Zi(_e)?Qa(_e):Xr(_e)}function mi(_e){return Zi(_e)?no(_e):In(_e)}function ia(_e){for(var Ze=_e.length;Ze--&&Ls.test(_e.charAt(Ze)););return Ze}var ro=Ci(ce);function Qa(_e){for(var Ze=xe.lastIndex=0;xe.test(_e);)++Ze;return Ze}function no(_e){return _e.match(xe)||[]}function Po(_e){return _e.match(Be)||[]}var Oo=function _e(Ze){Ze=Ze==null?wr:fs.defaults(wr.Object(),Ze,fs.pick(wr,Ge));var ze=Ze.Array,zr=Ze.Date,nn=Ze.Error,Nn=Ze.Function,ti=Ze.Math,On=Ze.Object,rl=Ze.RegExp,kl=Ze.String,Ji=Ze.TypeError,$i=ze.prototype,io=Nn.prototype,Is=On.prototype,ui=Ze["__core-js_shared__"],Ns=io.toString,Rn=Is.hasOwnProperty,fu=0,nl=function(){var n=/[^.]+$/.exec(ui&&ui.keys&&ui.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Lo=Is.toString,Mi=Ns.call(On),ao=wr._,ds=rl("^"+Ns.call(Rn).replace(hs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=te?Ze.Buffer:W,Na=Ze.Symbol,ko=Ze.Uint8Array,il=so?so.allocUnsafe:W,Eo=Ai(On.getPrototypeOf,On),El=On.create,Fl=Is.propertyIsEnumerable,Ms=$i.splice,Il=Na?Na.isConcatSpreadable:W,aa=Na?Na.iterator:W,ba=Na?Na.toStringTag:W,Fo=function(){try{var n=vn(On,"defineProperty");return n({},"",{}),n}catch(h){}}(),Nl=Ze.clearTimeout!==wr.clearTimeout&&Ze.clearTimeout,Ti=zr&&zr.now!==wr.Date.now&&zr.now,du=Ze.setTimeout!==wr.setTimeout&&Ze.setTimeout,oo=ti.ceil,Io=ti.floor,al=On.getOwnPropertySymbols,fn=so?so.isBuffer:W,Ma=Ze.isFinite,Ml=$i.join,Dl=Ai(On.keys,On),si=ti.max,bi=ti.min,pu=zr.now,gu=Ze.parseInt,Rl=ti.random,sl=$i.reverse,No=vn(Ze,"DataView"),_a=vn(Ze,"Map"),Ds=vn(Ze,"Promise"),wa=vn(Ze,"Set"),ps=vn(Ze,"WeakMap"),lo=vn(On,"create"),Mo=ps&&new ps,Da={},Bl=_o(No),jl=_o(_a),gs=_o(Ds),ms=_o(wa),zl=_o(ps),Do=Na?Na.prototype:W,ts=Do?Do.valueOf:W,Ra=Do?Do.toString:W;function mt(n){if(xi(n)&&!_n(n)&&!(n instanceof xn)){if(n instanceof Qi)return n;if(Rn.call(n,"__wrapped__"))return As(n)}return new Qi(n)}var Rs=function(){function n(){}return function(h){if(!yi(h))return{};if(El)return El(h);n.prototype=h;var y=new n;return n.prototype=W,y}}();function vs(){}function Qi(n,h){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=W}mt.templateSettings={escape:$o,evaluate:Qs,interpolate:Ya,variable:"",imports:{_:mt}},mt.prototype=vs.prototype,mt.prototype.constructor=mt,Qi.prototype=Rs(vs.prototype),Qi.prototype.constructor=Qi;function xn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function ol(){var n=new xn(this.__wrapped__);return n.__actions__=Hi(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Hi(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Hi(this.__views__),n}function Ul(){if(this.__filtered__){var n=new xn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Ro(){var n=this.__wrapped__.value(),h=this.__dir__,y=_n(n),R=h<0,lt=y?n.length:0,Ct=ea(0,lt,this.__views__),Kt=Ct.start,de=Ct.end,Se=de-Kt,cr=R?de:Kt-1,dr=this.__iteratees__,xr=dr.length,Mr=0,Gr=bi(Se,this.__takeCount__);if(!y||!R&&lt==Se&&Gr==Se)return Wu(n,this.__actions__);var an=[];t:for(;Se--&&Mr<Gr;){cr+=h;for(var An=-1,sn=n[cr];++An<xr;){var En=dr[An],Bn=En.iteratee,qa=En.type,ma=Bn(sn);if(qa==ue)sn=ma;else if(!ma){if(qa==Y)continue t;break t}}an[Mr++]=sn}return an}xn.prototype=Rs(vs.prototype),xn.prototype.constructor=xn;function es(n){var h=-1,y=n==null?0:n.length;for(this.clear();++h<y;){var R=n[h];this.set(R[0],R[1])}}function ll(){this.__data__=lo?lo(null):{},this.size=0}function ul(n){var h=this.has(n)&&delete this.__data__[n];return this.size-=h?1:0,h}function mu(n){var h=this.__data__;if(lo){var y=h[n];return y===c?W:y}return Rn.call(h,n)?h[n]:W}function Bo(n){var h=this.__data__;return lo?h[n]!==W:Rn.call(h,n)}function hl(n,h){var y=this.__data__;return this.size+=this.has(n)?0:1,y[n]=lo&&h===W?c:h,this}es.prototype.clear=ll,es.prototype.delete=ul,es.prototype.get=mu,es.prototype.has=Bo,es.prototype.set=hl;function sa(n){var h=-1,y=n==null?0:n.length;for(this.clear();++h<y;){var R=n[h];this.set(R[0],R[1])}}function rs(){this.__data__=[],this.size=0}function cl(n){var h=this.__data__,y=Bs(h,n);if(y<0)return!1;var R=h.length-1;return y==R?h.pop():Ms.call(h,y,1),--this.size,!0}function D(n){var h=this.__data__,y=Bs(h,n);return y<0?W:h[y][1]}function U(n){return Bs(this.__data__,n)>-1}function Ft(n,h){var y=this.__data__,R=Bs(y,n);return R<0?(++this.size,y.push([n,h])):y[R][1]=h,this}sa.prototype.clear=rs,sa.prototype.delete=cl,sa.prototype.get=D,sa.prototype.has=U,sa.prototype.set=Ft;function ee(n){var h=-1,y=n==null?0:n.length;for(this.clear();++h<y;){var R=n[h];this.set(R[0],R[1])}}function Oe(){this.size=0,this.__data__={hash:new es,map:new(_a||sa),string:new es}}function Fe(n){var h=zn(this,n).delete(n);return this.size-=h?1:0,h}function yr(n){return zn(this,n).get(n)}function Cr(n){return zn(this,n).has(n)}function qr(n,h){var y=zn(this,n),R=y.size;return y.set(n,h),this.size+=y.size==R?0:1,this}ee.prototype.clear=Oe,ee.prototype.delete=Fe,ee.prototype.get=yr,ee.prototype.has=Cr,ee.prototype.set=qr;function Zr(n){var h=-1,y=n==null?0:n.length;for(this.__data__=new ee;++h<y;)this.add(n[h])}function gn(n){return this.__data__.set(n,c),this}function Mn(n){return this.__data__.has(n)}Zr.prototype.add=Zr.prototype.push=gn,Zr.prototype.has=Mn;function Tn(n){var h=this.__data__=new sa(n);this.size=h.size}function oi(){this.__data__=new sa,this.size=0}function ri(n){var h=this.__data__,y=h.delete(n);return this.size=h.size,y}function Gi(n){return this.__data__.get(n)}function _i(n){return this.__data__.has(n)}function Ba(n,h){var y=this.__data__;if(y instanceof sa){var R=y.__data__;if(!_a||R.length<wt-1)return R.push([n,h]),this.size=++y.size,this;y=this.__data__=new ee(R)}return y.set(n,h),this.size=y.size,this}Tn.prototype.clear=oi,Tn.prototype.delete=ri,Tn.prototype.get=Gi,Tn.prototype.has=_i,Tn.prototype.set=Ba;function uo(n,h){var y=_n(n),R=!y&&Ol(n),lt=!y&&!R&&Jo(n),Ct=!y&&!R&&!lt&&hu(n),Kt=y||R||lt||Ct,de=Kt?jn(n.length,kl):[],Se=de.length;for(var cr in n)(h||Rn.call(n,cr))&&!(Kt&&(cr=="length"||lt&&(cr=="offset"||cr=="parent")||Ct&&(cr=="buffer"||cr=="byteLength"||cr=="byteOffset")||fi(cr,Se)))&&de.push(cr);return de}function fl(n){var h=n.length;return h?n[Zl(0,h-1)]:W}function ys(n,h){return bo(Hi(n),is(h,0,n.length))}function dl(n){return bo(Hi(n))}function ho(n,h,y){(y!==W&&!Ps(n[h],y)||y===W&&!(h in n))&&Wi(n,h,y)}function ns(n,h,y){var R=n[h];(!(Rn.call(n,h)&&Ps(R,y))||y===W&&!(h in n))&&Wi(n,h,y)}function Bs(n,h){for(var y=n.length;y--;)if(Ps(n[y][0],h))return y;return-1}function pl(n,h,y,R){return ki(n,function(lt,Ct,Kt){h(R,lt,y(lt),Kt)}),R}function co(n,h){return n&&Ua(h,qi(h),n)}function oa(n,h){return n&&Ua(h,La(h),n)}function Wi(n,h,y){h=="__proto__"&&Fo?Fo(n,h,{configurable:!0,enumerable:!0,value:y,writable:!0}):n[h]=y}function js(n,h){for(var y=-1,R=h.length,lt=ze(R),Ct=n==null;++y<R;)lt[y]=Ct?W:jh(n,h[y]);return lt}function is(n,h,y){return n===n&&(y!==W&&(n=n<=y?n:y),h!==W&&(n=n>=h?n:h)),n}function Di(n,h,y,R,lt,Ct){var Kt,de=h&r,Se=h&e,cr=h&t;if(y&&(Kt=lt?y(n,R,lt,Ct):y(n)),Kt!==W)return Kt;if(!yi(n))return n;var dr=_n(n);if(dr){if(Kt=Yn(n),!de)return Hi(n,Kt)}else{var xr=kn(n),Mr=xr==ae||xr==qt;if(Jo(n))return qu(n,de);if(xr==F||xr==ut||Mr&&!lt){if(Kt=Se||Mr?{}:ra(n),!de)return Se?Ku(n,oa(Kt,n)):Sh(n,co(Kt,n))}else{if(!Xe[xr])return lt?n:{};Kt=pa(n,xr,de)}}Ct||(Ct=new Tn);var Gr=Ct.get(n);if(Gr)return Gr;Ct.set(n,Kt),lc(n)?n.forEach(function(sn){Kt.add(Di(sn,h,y,sn,n,Ct))}):sc(n)&&n.forEach(function(sn,En){Kt.set(En,Di(sn,h,y,En,n,Ct))});var an=cr?Se?Dr:lr:Se?La:qi,An=dr?W:an(n);return Pr(An||n,function(sn,En){An&&(En=sn,sn=n[En]),ns(Kt,En,Di(sn,h,y,En,n,Ct))}),Kt}function Yi(n){var h=qi(n);return function(y){return Wl(y,n,h)}}function Wl(n,h,y){var R=y.length;if(n==null)return!R;for(n=On(n);R--;){var lt=y[R],Ct=h[lt],Kt=n[lt];if(Kt===W&&!(lt in n)||!Ct(Kt))return!1}return!0}function jo(n,h,y){if(typeof n!="function")throw new Ji(b);return Vs(function(){n.apply(W,y)},h)}function fo(n,h,y,R){var lt=-1,Ct=sr,Kt=!0,de=n.length,Se=[],cr=h.length;if(!de)return Se;y&&(h=ir(h,gi(y))),R?(Ct=Er,Kt=!1):h.length>=wt&&(Ct=Qn,Kt=!1,h=new Zr(h));t:for(;++lt<de;){var dr=n[lt],xr=y==null?dr:y(dr);if(dr=R||dr!==0?dr:0,Kt&&xr===xr){for(var Mr=cr;Mr--;)if(h[Mr]===xr)continue t;Se.push(dr)}else Ct(h,xr,R)||Se.push(dr)}return Se}var ki=Zu(Pi),po=Zu(zs,!0);function vu(n,h){var y=!0;return ki(n,function(R,lt,Ct){return y=!!h(R,lt,Ct),y}),y}function zo(n,h,y){for(var R=-1,lt=n.length;++R<lt;){var Ct=n[R],Kt=h(Ct);if(Kt!=null&&(de===W?Kt===Kt&&!Ha(Kt):y(Kt,de)))var de=Kt,Se=Ct}return Se}function go(n,h,y,R){var lt=n.length;for(y=Cn(y),y<0&&(y=-y>lt?0:lt+y),R=R===W||R>lt?lt:Cn(R),R<0&&(R+=lt),R=y>R?0:hc(R);y<R;)n[y++]=h;return n}function xa(n,h){var y=[];return ki(n,function(R,lt,Ct){h(R,lt,Ct)&&y.push(R)}),y}function Zn(n,h,y,R,lt){var Ct=-1,Kt=n.length;for(y||(y=Bi),lt||(lt=[]);++Ct<Kt;){var de=n[Ct];h>0&&y(de)?h>1?Zn(de,h-1,y,R,lt):Fr(lt,de):R||(lt[lt.length]=de)}return lt}var bs=Ju(),ja=Ju(!0);function Pi(n,h){return n&&bs(n,h,qi)}function zs(n,h){return n&&ja(n,h,qi)}function ta(n,h){return Yt(h,function(y){return wo(n[y])})}function as(n,h){h=Gs(h,n);for(var y=0,R=h.length;n!=null&&y<R;)n=n[os(h[y++])];return y&&y==R?n:W}function Us(n,h,y){var R=h(n);return _n(n)?R:Fr(R,y(n))}function vi(n){return n==null?n===W?ke:Dt:ba&&ba in On(n)?$n(n):_l(n)}function ss(n,h){return n>h}function Sa(n,h){return n!=null&&Rn.call(n,h)}function Ws(n,h){return n!=null&&h in On(n)}function Uo(n,h,y){return n>=bi(h,y)&&n<si(h,y)}function _s(n,h,y){for(var R=y?Er:sr,lt=n[0].length,Ct=n.length,Kt=Ct,de=ze(Ct),Se=Infinity,cr=[];Kt--;){var dr=n[Kt];Kt&&h&&(dr=ir(dr,gi(h))),Se=bi(dr.length,Se),de[Kt]=!y&&(h||lt>=120&&dr.length>=120)?new Zr(Kt&&dr):W}dr=n[0];var xr=-1,Mr=de[0];t:for(;++xr<lt&&cr.length<Se;){var Gr=dr[xr],an=h?h(Gr):Gr;if(Gr=y||Gr!==0?Gr:0,!(Mr?Qn(Mr,an):R(cr,an,y))){for(Kt=Ct;--Kt;){var An=de[Kt];if(!(An?Qn(An,an):R(n[Kt],an,y)))continue t}Mr&&Mr.push(an),cr.push(Gr)}}return cr}function Hs(n,h,y,R){return Pi(n,function(lt,Ct,Kt){h(R,y(lt),Ct,Kt)}),R}function ws(n,h,y){h=Gs(h,n),n=Pa(n,h);var R=n==null?n:n[os(ga(h))];return R==null?W:vr(R,n,y)}function la(n){return xi(n)&&vi(n)==ut}function xs(n){return xi(n)&&vi(n)==gr}function hi(n){return xi(n)&&vi(n)==Bt}function Hn(n,h,y,R,lt){return n===h?!0:n==null||h==null||!xi(n)&&!xi(h)?n!==n&&h!==h:Ri(n,h,y,R,Hn,lt)}function Ri(n,h,y,R,lt,Ct){var Kt=_n(n),de=_n(h),Se=Kt?ht:kn(n),cr=de?ht:kn(h);Se=Se==ut?F:Se,cr=cr==ut?F:cr;var dr=Se==F,xr=cr==F,Mr=Se==cr;if(Mr&&Jo(n)){if(!Jo(h))return!1;Kt=!0,dr=!1}if(Mr&&!dr)return Ct||(Ct=new Tn),Kt||hu(n)?ge(n,h,y,R,lt,Ct):be(n,h,Se,y,R,lt,Ct);if(!(y&a)){var Gr=dr&&Rn.call(n,"__wrapped__"),an=xr&&Rn.call(h,"__wrapped__");if(Gr||an){var An=Gr?n.value():n,sn=an?h.value():h;return Ct||(Ct=new Tn),lt(An,sn,y,R,Ct)}}return Mr?(Ct||(Ct=new Tn),or(n,h,y,R,lt,Ct)):!1}function ci(n){return xi(n)&&kn(n)==I}function Xi(n,h,y,R){var lt=y.length,Ct=lt,Kt=!R;if(n==null)return!Ct;for(n=On(n);lt--;){var de=y[lt];if(Kt&&de[2]?de[1]!==n[de[0]]:!(de[0]in n))return!1}for(;++lt<Ct;){de=y[lt];var Se=de[0],cr=n[Se],dr=de[1];if(Kt&&de[2]){if(cr===W&&!(Se in n))return!1}else{var xr=new Tn;if(R)var Mr=R(cr,dr,Se,n,h,xr);if(!(Mr===W?Hn(dr,cr,a|l,R,xr):Mr))return!1}}return!0}function Wo(n){if(!yi(n)||yo(n))return!1;var h=wo(n)?ds:q;return h.test(_o(n))}function Ss(n){return xi(n)&&vi(n)==$}function Hl(n){return xi(n)&&kn(n)==it}function ju(n){return xi(n)&&mh(n.length)&&!!fe[vi(n)]}function yu(n){return typeof n=="function"?n:n==null?ka:typeof n=="object"?_n(n)?Yl(n[0],n[1]):_u(n):wc(n)}function ql(n){if(!Ta(n))return Dl(n);var h=[];for(var y in On(n))Rn.call(n,y)&&y!="constructor"&&h.push(y);return h}function zu(n){if(!yi(n))return iu(n);var h=Ta(n),y=[];for(var R in n)R=="constructor"&&(h||!Rn.call(n,R))||y.push(R);return y}function Gl(n,h){return n<h}function bu(n,h){var y=-1,R=Oa(n)?ze(n.length):[];return ki(n,function(lt,Ct,Kt){R[++y]=h(lt,Ct,Kt)}),R}function _u(n){var h=Ln(n);return h.length==1&&h[0][2]?nu(h[0][0],h[0][1]):function(y){return y===n||Xi(y,n,h)}}function Yl(n,h){return Aa(n)&&di(h)?nu(os(n),h):function(y){var R=jh(y,n);return R===W&&R===h?zh(y,n):Hn(h,R,a|l)}}function mo(n,h,y,R,lt){n!==h&&bs(h,function(Ct,Kt){if(lt||(lt=new Tn),yi(Ct))ua(n,h,Kt,y,mo,R,lt);else{var de=R?R(Xs(n,Kt),Ct,Kt+"",n,h,lt):W;de===W&&(de=Ct),ho(n,Kt,de)}},La)}function ua(n,h,y,R,lt,Ct,Kt){var de=Xs(n,y),Se=Xs(h,y),cr=Kt.get(Se);if(cr){ho(n,y,cr);return}var dr=Ct?Ct(de,Se,y+"",n,h,Kt):W,xr=dr===W;if(xr){var Mr=_n(Se),Gr=!Mr&&Jo(Se),an=!Mr&&!Gr&&hu(Se);dr=Se,Mr||Gr||an?_n(de)?dr=de:Oi(de)?dr=Hi(de):Gr?(xr=!1,dr=qu(Se,!0)):an?(xr=!1,dr=Pu(Se,!0)):dr=[]:Bu(Se)||Ol(Se)?(dr=de,Ol(de)?dr=cc(de):(!yi(de)||wo(de))&&(dr=ra(Se))):xr=!1}xr&&(Kt.set(Se,dr),lt(dr,Se,R,Ct,Kt),Kt.delete(Se)),ho(n,y,dr)}function ha(n,h){var y=n.length;if(!!y)return h+=h<0?y:0,fi(h,y)?n[h]:W}function gl(n,h,y){h.length?h=ir(h,function(Ct){return _n(Ct)?function(Kt){return as(Kt,Ct.length===1?Ct[0]:Ct)}:Ct}):h=[ka];var R=-1;h=ir(h,gi(kr()));var lt=bu(n,function(Ct,Kt,de){var Se=ir(h,function(cr){return cr(Ct)});return{criteria:Se,index:++R,value:Ct}});return pi(lt,function(Ct,Kt){return eu(Ct,Kt,y)})}function Xl(n,h){return wu(n,h,function(y,R){return zh(n,R)})}function wu(n,h,y){for(var R=-1,lt=h.length,Ct={};++R<lt;){var Kt=h[R],de=as(n,Kt);y(de,Kt)&&vl(Ct,Gs(Kt,n),de)}return Ct}function Vl(n){return function(h){return as(h,n)}}function Ho(n,h,y,R){var lt=R?dn:Vr,Ct=-1,Kt=h.length,de=n;for(n===h&&(h=Hi(h)),y&&(de=ir(n,gi(y)));++Ct<Kt;)for(var Se=0,cr=h[Ct],dr=y?y(cr):cr;(Se=lt(de,dr,Se,R))>-1;)de!==n&&Ms.call(de,Se,1),Ms.call(n,Se,1);return n}function Kl(n,h){for(var y=n?h.length:0,R=y-1;y--;){var lt=h[y];if(y==R||lt!==Ct){var Ct=lt;fi(lt)?Ms.call(n,lt,1):Ql(n,lt)}}return n}function Zl(n,h){return n+Io(Rl()*(h-n+1))}function xu(n,h,y,R){for(var lt=-1,Ct=si(oo((h-n)/(y||1)),0),Kt=ze(Ct);Ct--;)Kt[R?Ct:++lt]=n,n+=y;return Kt}function ml(n,h){var y="";if(!n||h<1||h>ct)return y;do h%2&&(y+=n),h=Io(h/2),h&&(n+=n);while(h);return y}function mn(n,h){return au(wl(n,h,ka),n+"")}function Su(n){return fl(cu(n))}function bh(n,h){var y=cu(n);return bo(y,is(h,0,y.length))}function vl(n,h,y,R){if(!yi(n))return n;h=Gs(h,n);for(var lt=-1,Ct=h.length,Kt=Ct-1,de=n;de!=null&&++lt<Ct;){var Se=os(h[lt]),cr=y;if(Se==="__proto__"||Se==="constructor"||Se==="prototype")return n;if(lt!=Kt){var dr=de[Se];cr=R?R(dr,Se,de):W,cr===W&&(cr=yi(dr)?dr:fi(h[lt+1])?[]:{})}ns(de,Se,cr),de=de[Se]}return n}var Cu=Mo?function(n,h){return Mo.set(n,h),n}:ka,_h=Fo?function(n,h){return Fo(n,"toString",{configurable:!0,enumerable:!1,value:Wh(h),writable:!0})}:ka;function wh(n){return bo(cu(n))}function Ca(n,h,y){var R=-1,lt=n.length;h<0&&(h=-h>lt?0:lt+h),y=y>lt?lt:y,y<0&&(y+=lt),lt=h>y?0:y-h>>>0,h>>>=0;for(var Ct=ze(lt);++R<lt;)Ct[R]=n[R+h];return Ct}function xh(n,h){var y;return ki(n,function(R,lt,Ct){return y=h(R,lt,Ct),!y}),!!y}function Jl(n,h,y){var R=0,lt=n==null?R:n.length;if(typeof h=="number"&&h===h&&lt<=M){for(;R<lt;){var Ct=R+lt>>>1,Kt=n[Ct];Kt!==null&&!Ha(Kt)&&(y?Kt<=h:Kt<h)?R=Ct+1:lt=Ct}return lt}return yl(n,h,ka,y)}function yl(n,h,y,R){var lt=0,Ct=n==null?0:n.length;if(Ct===0)return 0;h=y(h);for(var Kt=h!==h,de=h===null,Se=Ha(h),cr=h===W;lt<Ct;){var dr=Io((lt+Ct)/2),xr=y(n[dr]),Mr=xr!==W,Gr=xr===null,an=xr===xr,An=Ha(xr);if(Kt)var sn=R||an;else cr?sn=an&&(R||Mr):de?sn=an&&Mr&&(R||!Gr):Se?sn=an&&Mr&&!Gr&&(R||!An):Gr||An?sn=!1:sn=R?xr<=h:xr<h;sn?lt=dr+1:Ct=dr}return bi(Ct,rt)}function $l(n,h){for(var y=-1,R=n.length,lt=0,Ct=[];++y<R;){var Kt=n[y],de=h?h(Kt):Kt;if(!y||!Ps(de,Se)){var Se=de;Ct[lt++]=Kt===0?0:Kt}}return Ct}function qo(n){return typeof n=="number"?n:Ha(n)?et:+n}function ca(n){if(typeof n=="string")return n;if(_n(n))return ir(n,ca)+"";if(Ha(n))return Ra?Ra.call(n):"";var h=n+"";return h=="0"&&1/n==-Ce?"-0":h}function qs(n,h,y){var R=-1,lt=sr,Ct=n.length,Kt=!0,de=[],Se=de;if(y)Kt=!1,lt=Er;else if(Ct>=wt){var cr=h?null:pe(n);if(cr)return Ja(cr);Kt=!1,lt=Qn,Se=new Zr}else Se=h?[]:de;t:for(;++R<Ct;){var dr=n[R],xr=h?h(dr):dr;if(dr=y||dr!==0?dr:0,Kt&&xr===xr){for(var Mr=Se.length;Mr--;)if(Se[Mr]===xr)continue t;h&&Se.push(xr),de.push(dr)}else lt(Se,xr,y)||(Se!==de&&Se.push(xr),de.push(dr))}return de}function Ql(n,h){return h=Gs(h,n),n=Pa(n,h),n==null||delete n[os(ga(h))]}function Uu(n,h,y,R){return vl(n,h,y(as(n,h)),R)}function tu(n,h,y,R){for(var lt=n.length,Ct=R?lt:-1;(R?Ct--:++Ct<lt)&&h(n[Ct],Ct,n););return y?Ca(n,R?0:Ct,R?Ct+1:lt):Ca(n,R?Ct+1:0,R?lt:Ct)}function Wu(n,h){var y=n;return y instanceof xn&&(y=y.value()),Tr(h,function(R,lt){return lt.func.apply(lt.thisArg,Fr([R],lt.args))},y)}function Au(n,h,y){var R=n.length;if(R<2)return R?qs(n[0]):[];for(var lt=-1,Ct=ze(R);++lt<R;)for(var Kt=n[lt],de=-1;++de<R;)de!=lt&&(Ct[lt]=fo(Ct[lt]||Kt,n[de],h,y));return qs(Zn(Ct,1),h,y)}function Cs(n,h,y){for(var R=-1,lt=n.length,Ct=h.length,Kt={};++R<lt;){var de=R<Ct?h[R]:W;y(Kt,n[R],de)}return Kt}function fa(n){return Oi(n)?n:[]}function za(n){return typeof n=="function"?n:ka}function Gs(n,h){return _n(n)?n:Aa(n,h)?[n]:Ko(Jn(n))}var Hu=mn;function Vi(n,h,y){var R=n.length;return y=y===W?R:y,!h&&y>=R?n:Ca(n,h,y)}var da=Nl||function(n){return wr.clearTimeout(n)};function qu(n,h){if(h)return n.slice();var y=n.length,R=il?il(y):new n.constructor(y);return n.copy(R),R}function Tu(n){var h=new n.constructor(n.byteLength);return new ko(h).set(new ko(n)),h}function Gu(n,h){var y=h?Tu(n.buffer):n.buffer;return new n.constructor(y,n.byteOffset,n.byteLength)}function Yu(n){var h=new n.constructor(n.source,K.exec(n));return h.lastIndex=n.lastIndex,h}function Xu(n){return ts?On(ts.call(n)):{}}function Pu(n,h){var y=h?Tu(n.buffer):n.buffer;return new n.constructor(y,n.byteOffset,n.length)}function Vu(n,h){if(n!==h){var y=n!==W,R=n===null,lt=n===n,Ct=Ha(n),Kt=h!==W,de=h===null,Se=h===h,cr=Ha(h);if(!de&&!cr&&!Ct&&n>h||Ct&&Kt&&Se&&!de&&!cr||R&&Kt&&Se||!y&&Se||!lt)return 1;if(!R&&!Ct&&!cr&&n<h||cr&&y&&lt&&!R&&!Ct||de&&y&&lt||!Kt&&lt||!Se)return-1}return 0}function eu(n,h,y){for(var R=-1,lt=n.criteria,Ct=h.criteria,Kt=lt.length,de=y.length;++R<Kt;){var Se=Vu(lt[R],Ct[R]);if(Se){if(R>=de)return Se;var cr=y[R];return Se*(cr=="desc"?-1:1)}}return n.index-h.index}function bl(n,h,y,R){for(var lt=-1,Ct=n.length,Kt=y.length,de=-1,Se=h.length,cr=si(Ct-Kt,0),dr=ze(Se+cr),xr=!R;++de<Se;)dr[de]=h[de];for(;++lt<Kt;)(xr||lt<Ct)&&(dr[y[lt]]=n[lt]);for(;cr--;)dr[de++]=n[lt++];return dr}function Go(n,h,y,R){for(var lt=-1,Ct=n.length,Kt=-1,de=y.length,Se=-1,cr=h.length,dr=si(Ct-de,0),xr=ze(dr+cr),Mr=!R;++lt<dr;)xr[lt]=n[lt];for(var Gr=lt;++Se<cr;)xr[Gr+Se]=h[Se];for(;++Kt<de;)(Mr||lt<Ct)&&(xr[Gr+y[Kt]]=n[lt++]);return xr}function Hi(n,h){var y=-1,R=n.length;for(h||(h=ze(R));++y<R;)h[y]=n[y];return h}function Ua(n,h,y,R){var lt=!y;y||(y={});for(var Ct=-1,Kt=h.length;++Ct<Kt;){var de=h[Ct],Se=R?R(y[de],n[de],de,y,n):W;Se===W&&(Se=n[de]),lt?Wi(y,de,Se):ns(y,de,Se)}return y}function Sh(n,h){return Ua(n,qn(n),h)}function Ku(n,h){return Ua(n,pn(n),h)}function ru(n,h){return function(y,R){var lt=_n(y)?Ur:pl,Ct=h?h():{};return lt(y,n,kr(R,2),Ct)}}function Yo(n){return mn(function(h,y){var R=-1,lt=y.length,Ct=lt>1?y[lt-1]:W,Kt=lt>2?y[2]:W;for(Ct=n.length>3&&typeof Ct=="function"?(lt--,Ct):W,Kt&&ei(y[0],y[1],Kt)&&(Ct=lt<3?W:Ct,lt=1),h=On(h);++R<lt;){var de=y[R];de&&n(h,de,R,Ct)}return h})}function Zu(n,h){return function(y,R){if(y==null)return y;if(!Oa(y))return n(y,R);for(var lt=y.length,Ct=h?lt:-1,Kt=On(y);(h?Ct--:++Ct<lt)&&R(Kt[Ct],Ct,Kt)!==!1;);return y}}function Ju(n){return function(h,y,R){for(var lt=-1,Ct=On(h),Kt=R(h),de=Kt.length;de--;){var Se=Kt[n?de:++lt];if(y(Ct[Se],Se,Ct)===!1)break}return h}}function Ch(n,h,y){var R=h&s,lt=Ys(n);function Ct(){var Kt=this&&this!==wr&&this instanceof Ct?lt:n;return Kt.apply(R?y:this,arguments)}return Ct}function $u(n){return function(h){h=Jn(h);var y=Zi(h)?mi(h):W,R=y?y[0]:h.charAt(0),lt=y?Vi(y,1).join(""):h.slice(1);return R[n]()+lt}}function vo(n){return function(h){return Tr(bc(yc(h).replace(Mt,"")),n,"")}}function Ys(n){return function(){var h=arguments;switch(h.length){case 0:return new n;case 1:return new n(h[0]);case 2:return new n(h[0],h[1]);case 3:return new n(h[0],h[1],h[2]);case 4:return new n(h[0],h[1],h[2],h[3]);case 5:return new n(h[0],h[1],h[2],h[3],h[4]);case 6:return new n(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new n(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var y=Rs(n.prototype),R=n.apply(y,h);return yi(R)?R:y}}function Ah(n,h,y){var R=Ys(n);function lt(){for(var Ct=arguments.length,Kt=ze(Ct),de=Ct,Se=Lr(lt);de--;)Kt[de]=arguments[de];var cr=Ct<3&&Kt[0]!==Se&&Kt[Ct-1]!==Se?[]:ai(Kt,Se);if(Ct-=cr.length,Ct<y)return St(n,h,d,lt.placeholder,W,Kt,cr,W,W,y-Ct);var dr=this&&this!==wr&&this instanceof lt?R:n;return vr(dr,this,Kt)}return lt}function Qu(n){return function(h,y,R){var lt=On(h);if(!Oa(h)){var Ct=kr(y,3);h=qi(h),y=function(de){return Ct(lt[de],de,lt)}}var Kt=n(h,y,R);return Kt>-1?lt[Ct?h[Kt]:Kt]:W}}function Ou(n){return hr(function(h){var y=h.length,R=y,lt=Qi.prototype.thru;for(n&&h.reverse();R--;){var Ct=h[R];if(typeof Ct!="function")throw new Ji(b);if(lt&&!Kt&&Kr(Ct)=="wrapper")var Kt=new Qi([],!0)}for(R=Kt?R:y;++R<y;){Ct=h[R];var de=Kr(Ct),Se=de=="wrapper"?Or(Ct):W;Se&&Wa(Se[0])&&Se[1]==(ot|w|z|Lt)&&!Se[4].length&&Se[9]==1?Kt=Kt[Kr(Se[0])].apply(Kt,Se[3]):Kt=Ct.length==1&&Wa(Ct)?Kt[de]():Kt.thru(Ct)}return function(){var cr=arguments,dr=cr[0];if(Kt&&cr.length==1&&_n(dr))return Kt.plant(dr).value();for(var xr=0,Mr=y?h[xr].apply(this,cr):dr;++xr<y;)Mr=h[xr].call(this,Mr);return Mr}})}function d(n,h,y,R,lt,Ct,Kt,de,Se,cr){var dr=h&ot,xr=h&s,Mr=h&f,Gr=h&(w|A),an=h&At,An=Mr?W:Ys(n);function sn(){for(var En=arguments.length,Bn=ze(En),qa=En;qa--;)Bn[qa]=arguments[qa];if(Gr)var ma=Lr(sn),Ga=eo(Bn,ma);if(R&&(Bn=bl(Bn,R,lt,Gr)),Ct&&(Bn=Go(Bn,Ct,Kt,Gr)),En-=Ga,Gr&&En<cr){var Li=ai(Bn,ma);return St(n,h,d,sn.placeholder,y,Bn,Li,de,Se,cr-En)}var Os=xr?y:this,So=Mr?Os[n]:n;return En=Bn.length,de?Bn=Vo(Bn,de):an&&En>1&&Bn.reverse(),dr&&Se<En&&(Bn.length=Se),this&&this!==wr&&this instanceof sn&&(So=An||Ys(So)),So.apply(Os,Bn)}return sn}function m(n,h){return function(y,R){return Hs(y,n,h(R),{})}}function E(n,h){return function(y,R){var lt;if(y===W&&R===W)return h;if(y!==W&&(lt=y),R!==W){if(lt===W)return R;typeof y=="string"||typeof R=="string"?(y=ca(y),R=ca(R)):(y=qo(y),R=qo(R)),lt=n(y,R)}return lt}}function H(n){return hr(function(h){return h=ir(h,gi(kr())),mn(function(y){var R=this;return n(h,function(lt){return vr(lt,R,y)})})})}function st(n,h){h=h===W?" ":ca(h);var y=h.length;if(y<2)return y?ml(h,n):h;var R=ml(h,oo(n/Ui(h)));return Zi(h)?Vi(mi(R),0,n).join(""):R.slice(0,n)}function ft(n,h,y,R){var lt=h&s,Ct=Ys(n);function Kt(){for(var de=-1,Se=arguments.length,cr=-1,dr=R.length,xr=ze(dr+Se),Mr=this&&this!==wr&&this instanceof Kt?Ct:n;++cr<dr;)xr[cr]=R[cr];for(;Se--;)xr[cr++]=arguments[++de];return vr(Mr,lt?y:this,xr)}return Kt}function dt(n){return function(h,y,R){return R&&typeof R!="number"&&ei(h,y,R)&&(y=R=W),h=xo(h),y===W?(y=h,h=0):y=xo(y),R=R===W?h<y?1:-1:xo(R),xu(h,y,R,n)}}function yt(n){return function(h,y){return typeof h=="string"&&typeof y=="string"||(h=ls(h),y=ls(y)),n(h,y)}}function St(n,h,y,R,lt,Ct,Kt,de,Se,cr){var dr=h&w,xr=dr?Kt:W,Mr=dr?W:Kt,Gr=dr?Ct:W,an=dr?W:Ct;h|=dr?z:Z,h&=~(dr?Z:z),h&p||(h&=~(s|f));var An=[n,h,lt,Gr,xr,an,Mr,de,Se,cr],sn=y.apply(W,An);return Wa(n)&&Lu(sn,An),sn.placeholder=R,xl(sn,n,h)}function Nt(n){var h=ti[n];return function(y,R){if(y=ls(y),R=R==null?0:bi(Cn(R),292),R&&Ma(y)){var lt=(Jn(y)+"e").split("e"),Ct=h(lt[0]+"e"+(+lt[1]+R));return lt=(Jn(Ct)+"e").split("e"),+(lt[0]+"e"+(+lt[1]-R))}return h(y)}}var pe=wa&&1/Ja(new wa([,-0]))[1]==Ce?function(n){return new wa(n)}:Gh;function Ee(n){return function(h){var y=kn(h);return y==I?ii(h):y==it?Fs(h):Va(h,n(h))}}function Pe(n,h,y,R,lt,Ct,Kt,de){var Se=h&f;if(!Se&&typeof n!="function")throw new Ji(b);var cr=R?R.length:0;if(cr||(h&=~(z|Z),R=lt=W),Kt=Kt===W?Kt:si(Cn(Kt),0),de=de===W?de:Cn(de),cr-=lt?lt.length:0,h&Z){var dr=R,xr=lt;R=lt=W}var Mr=Se?W:Or(n),Gr=[n,h,y,R,lt,dr,xr,Ct,Kt,de];if(Mr&&eh(Gr,Mr),n=Gr[0],h=Gr[1],y=Gr[2],R=Gr[3],lt=Gr[4],de=Gr[9]=Gr[9]===W?Se?0:n.length:si(Gr[9]-cr,0),!de&&h&(w|A)&&(h&=~(w|A)),!h||h==s)var an=Ch(n,h,y);else h==w||h==A?an=Ah(n,h,de):(h==z||h==(s|z))&&!lt.length?an=ft(n,h,y,R):an=d.apply(W,Gr);var An=Mr?Cu:Lu;return xl(An(an,Gr),n,h)}function we(n,h,y,R){return n===W||Ps(n,Is[y])&&!Rn.call(R,y)?h:n}function ur(n,h,y,R,lt,Ct){return yi(n)&&yi(h)&&(Ct.set(h,n),mo(n,h,W,ur,Ct),Ct.delete(h)),n}function qe(n){return Bu(n)?W:n}function ge(n,h,y,R,lt,Ct){var Kt=y&a,de=n.length,Se=h.length;if(de!=Se&&!(Kt&&Se>de))return!1;var cr=Ct.get(n),dr=Ct.get(h);if(cr&&dr)return cr==h&&dr==n;var xr=-1,Mr=!0,Gr=y&l?new Zr:W;for(Ct.set(n,h),Ct.set(h,n);++xr<de;){var an=n[xr],An=h[xr];if(R)var sn=Kt?R(An,an,xr,h,n,Ct):R(an,An,xr,n,h,Ct);if(sn!==W){if(sn)continue;Mr=!1;break}if(Gr){if(!Wr(h,function(En,Bn){if(!Qn(Gr,Bn)&&(an===En||lt(an,En,y,R,Ct)))return Gr.push(Bn)})){Mr=!1;break}}else if(!(an===An||lt(an,An,y,R,Ct))){Mr=!1;break}}return Ct.delete(n),Ct.delete(h),Mr}function be(n,h,y,R,lt,Ct,Kt){switch(y){case er:if(n.byteLength!=h.byteLength||n.byteOffset!=h.byteOffset)return!1;n=n.buffer,h=h.buffer;case gr:return!(n.byteLength!=h.byteLength||!Ct(new ko(n),new ko(h)));case bt:case Bt:case Pt:return Ps(+n,+h);case re:return n.name==h.name&&n.message==h.message;case $:case pt:return n==h+"";case I:var de=ii;case it:var Se=R&a;if(de||(de=Ja),n.size!=h.size&&!Se)return!1;var cr=Kt.get(n);if(cr)return cr==h;R|=l,Kt.set(n,h);var dr=ge(de(n),de(h),R,lt,Ct,Kt);return Kt.delete(n),dr;case jt:if(ts)return ts.call(n)==ts.call(h)}return!1}function or(n,h,y,R,lt,Ct){var Kt=y&a,de=lr(n),Se=de.length,cr=lr(h),dr=cr.length;if(Se!=dr&&!Kt)return!1;for(var xr=Se;xr--;){var Mr=de[xr];if(!(Kt?Mr in h:Rn.call(h,Mr)))return!1}var Gr=Ct.get(n),an=Ct.get(h);if(Gr&&an)return Gr==h&&an==n;var An=!0;Ct.set(n,h),Ct.set(h,n);for(var sn=Kt;++xr<Se;){Mr=de[xr];var En=n[Mr],Bn=h[Mr];if(R)var qa=Kt?R(Bn,En,Mr,h,n,Ct):R(En,Bn,Mr,n,h,Ct);if(!(qa===W?En===Bn||lt(En,Bn,y,R,Ct):qa)){An=!1;break}sn||(sn=Mr=="constructor")}if(An&&!sn){var ma=n.constructor,Ga=h.constructor;ma!=Ga&&"constructor"in n&&"constructor"in h&&!(typeof ma=="function"&&ma instanceof ma&&typeof Ga=="function"&&Ga instanceof Ga)&&(An=!1)}return Ct.delete(n),Ct.delete(h),An}function hr(n){return au(wl(n,W,Fu),n+"")}function lr(n){return Us(n,qi,qn)}function Dr(n){return Us(n,La,pn)}var Or=Mo?function(n){return Mo.get(n)}:Gh;function Kr(n){for(var h=n.name+"",y=Da[h],R=Rn.call(Da,h)?y.length:0;R--;){var lt=y[R],Ct=lt.func;if(Ct==null||Ct==n)return lt.name}return h}function Lr(n){var h=Rn.call(mt,"placeholder")?mt:n;return h.placeholder}function kr(){var n=mt.iteratee||Hh;return n=n===Hh?yu:n,arguments.length?n(arguments[0],arguments[1]):n}function zn(n,h){var y=n.__data__;return Fi(h)?y[typeof h=="string"?"string":"hash"]:y.map}function Ln(n){for(var h=qi(n),y=h.length;y--;){var R=h[y],lt=n[R];h[y]=[R,lt,di(lt)]}return h}function vn(n,h){var y=rn(n,h);return Wo(y)?y:W}function $n(n){var h=Rn.call(n,ba),y=n[ba];try{n[ba]=W;var R=!0}catch(Ct){}var lt=Lo.call(n);return R&&(h?n[ba]=y:delete n[ba]),lt}var qn=al?function(n){return n==null?[]:(n=On(n),Yt(al(n),function(h){return Fl.call(n,h)}))}:Yh,pn=al?function(n){for(var h=[];n;)Fr(h,qn(n)),n=Eo(n);return h}:Yh,kn=vi;(No&&kn(new No(new ArrayBuffer(1)))!=er||_a&&kn(new _a)!=I||Ds&&kn(Ds.resolve())!=x||wa&&kn(new wa)!=it||ps&&kn(new ps)!=Te)&&(kn=function(n){var h=vi(n),y=h==F?n.constructor:W,R=y?_o(y):"";if(R)switch(R){case Bl:return er;case jl:return I;case gs:return x;case ms:return it;case zl:return Te}return h});function ea(n,h,y){for(var R=-1,lt=y.length;++R<lt;){var Ct=y[R],Kt=Ct.size;switch(Ct.type){case"drop":n+=Kt;break;case"dropRight":h-=Kt;break;case"take":h=bi(h,n+Kt);break;case"takeRight":n=si(n,h-Kt);break}}return{start:n,end:h}}function wi(n){var h=n.match(To);return h?h[1].split(Qo):[]}function Ki(n,h,y){h=Gs(h,n);for(var R=-1,lt=h.length,Ct=!1;++R<lt;){var Kt=os(h[R]);if(!(Ct=n!=null&&y(n,Kt)))break;n=n[Kt]}return Ct||++R!=lt?Ct:(lt=n==null?0:n.length,!!lt&&mh(lt)&&fi(Kt,lt)&&(_n(n)||Ol(n)))}function Yn(n){var h=n.length,y=new n.constructor(h);return h&&typeof n[0]=="string"&&Rn.call(n,"index")&&(y.index=n.index,y.input=n.input),y}function ra(n){return typeof n.constructor=="function"&&!Ta(n)?Rs(Eo(n)):{}}function pa(n,h,y){var R=n.constructor;switch(h){case gr:return Tu(n);case bt:case Bt:return new R(+n);case er:return Gu(n,y);case Hr:case Jr:case on:case Dn:case hn:case wn:case Wn:case Xn:case Si:return Pu(n,y);case I:return new R;case Pt:case pt:return new R(n);case $:return Yu(n);case it:return new R;case jt:return Xu(n)}}function Ei(n,h){var y=h.length;if(!y)return n;var R=y-1;return h[R]=(y>1?"& ":"")+h[R],h=h.join(y>2?", ":" "),n.replace(ks,`{
/* [wrapped with `+h+`] */
`)}function Bi(n){return _n(n)||Ol(n)||!!(Il&&n&&n[Il])}function fi(n,h){var y=typeof n;return h=h==null?ct:h,!!h&&(y=="number"||y!="symbol"&&Ot.test(n))&&n>-1&&n%1==0&&n<h}function ei(n,h,y){if(!yi(y))return!1;var R=typeof h;return(R=="number"?Oa(y)&&fi(h,y.length):R=="string"&&h in y)?Ps(y[h],n):!1}function Aa(n,h){if(_n(n))return!1;var y=typeof n;return y=="number"||y=="symbol"||y=="boolean"||n==null||Ha(n)?!0:Ao.test(n)||!Co.test(n)||h!=null&&n in On(h)}function Fi(n){var h=typeof n;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?n!=="__proto__":n===null}function Wa(n){var h=Kr(n),y=mt[h];if(typeof y!="function"||!(h in xn.prototype))return!1;if(n===y)return!0;var R=Or(y);return!!R&&n===R[0]}function yo(n){return!!nl&&nl in n}var Xo=ui?wo:Xh;function Ta(n){var h=n&&n.constructor,y=typeof h=="function"&&h.prototype||Is;return n===y}function di(n){return n===n&&!yi(n)}function nu(n,h){return function(y){return y==null?!1:y[n]===h&&(h!==W||n in On(y))}}function th(n){var h=ph(n,function(R){return y.size===u&&y.clear(),R}),y=h.cache;return h}function eh(n,h){var y=n[1],R=h[1],lt=y|R,Ct=lt<(s|f|ot),Kt=R==ot&&y==w||R==ot&&y==Lt&&n[7].length<=h[8]||R==(ot|Lt)&&h[7].length<=h[8]&&y==w;if(!(Ct||Kt))return n;R&s&&(n[2]=h[2],lt|=y&s?0:p);var de=h[3];if(de){var Se=n[3];n[3]=Se?bl(Se,de,h[4]):de,n[4]=Se?ai(n[3],o):h[4]}return de=h[5],de&&(Se=n[5],n[5]=Se?Go(Se,de,h[6]):de,n[6]=Se?ai(n[5],o):h[6]),de=h[7],de&&(n[7]=de),R&ot&&(n[8]=n[8]==null?h[8]:bi(n[8],h[8])),n[9]==null&&(n[9]=h[9]),n[0]=h[0],n[1]=lt,n}function iu(n){var h=[];if(n!=null)for(var y in On(n))h.push(y);return h}function _l(n){return Lo.call(n)}function wl(n,h,y){return h=si(h===W?n.length-1:h,0),function(){for(var R=arguments,lt=-1,Ct=si(R.length-h,0),Kt=ze(Ct);++lt<Ct;)Kt[lt]=R[h+lt];lt=-1;for(var de=ze(h+1);++lt<h;)de[lt]=R[lt];return de[h]=y(Kt),vr(n,this,de)}}function Pa(n,h){return h.length<2?n:as(n,Ca(h,0,-1))}function Vo(n,h){for(var y=n.length,R=bi(h.length,y),lt=Hi(n);R--;){var Ct=h[R];n[R]=fi(Ct,y)?lt[Ct]:W}return n}function Xs(n,h){if(!(h==="constructor"&&typeof n[h]=="function")&&h!="__proto__")return n[h]}var Lu=su(Cu),Vs=du||function(n,h){return wr.setTimeout(n,h)},au=su(_h);function xl(n,h,y){var R=h+"";return au(n,Ei(R,ku(wi(R),y)))}function su(n){var h=0,y=0;return function(){var R=pu(),lt=$t-(R-y);if(y=R,lt>0){if(++h>=Tt)return arguments[0]}else h=0;return n.apply(W,arguments)}}function bo(n,h){var y=-1,R=n.length,lt=R-1;for(h=h===W?R:h;++y<h;){var Ct=Zl(y,lt),Kt=n[Ct];n[Ct]=n[y],n[y]=Kt}return n.length=h,n}var Ko=th(function(n){var h=[];return n.charCodeAt(0)===46&&h.push(""),n.replace(us,function(y,R,lt,Ct){h.push(lt?Ct.replace(tl,"$1"):R||y)}),h});function os(n){if(typeof n=="string"||Ha(n))return n;var h=n+"";return h=="0"&&1/n==-Ce?"-0":h}function _o(n){if(n!=null){try{return Ns.call(n)}catch(h){}try{return n+""}catch(h){}}return""}function ku(n,h){return Pr(Q,function(y){var R="_."+y[0];h&y[1]&&!sr(n,R)&&n.push(R)}),n.sort()}function As(n){if(n instanceof xn)return n.clone();var h=new Qi(n.__wrapped__,n.__chain__);return h.__actions__=Hi(n.__actions__),h.__index__=n.__index__,h.__values__=n.__values__,h}function Th(n,h,y){(y?ei(n,h,y):h===W)?h=1:h=si(Cn(h),0);var R=n==null?0:n.length;if(!R||h<1)return[];for(var lt=0,Ct=0,Kt=ze(oo(R/h));lt<R;)Kt[Ct++]=Ca(n,lt,lt+=h);return Kt}function Ph(n){for(var h=-1,y=n==null?0:n.length,R=0,lt=[];++h<y;){var Ct=n[h];Ct&&(lt[R++]=Ct)}return lt}function Oh(){var n=arguments.length;if(!n)return[];for(var h=ze(n-1),y=arguments[0],R=n;R--;)h[R-1]=arguments[R];return Fr(_n(y)?Hi(y):[y],Zn(h,1))}var rh=mn(function(n,h){return Oi(n)?fo(n,Zn(h,1,Oi,!0)):[]}),ou=mn(function(n,h){var y=ga(h);return Oi(y)&&(y=W),Oi(n)?fo(n,Zn(h,1,Oi,!0),kr(y,2)):[]}),nh=mn(function(n,h){var y=ga(h);return Oi(y)&&(y=W),Oi(n)?fo(n,Zn(h,1,Oi,!0),W,y):[]});function ih(n,h,y){var R=n==null?0:n.length;return R?(h=y||h===W?1:Cn(h),Ca(n,h<0?0:h,R)):[]}function lu(n,h,y){var R=n==null?0:n.length;return R?(h=y||h===W?1:Cn(h),h=R-h,Ca(n,0,h<0?0:h)):[]}function Eu(n,h){return n&&n.length?tu(n,kr(h,3),!0,!0):[]}function Sl(n,h){return n&&n.length?tu(n,kr(h,3),!0):[]}function ah(n,h,y,R){var lt=n==null?0:n.length;return lt?(y&&typeof y!="number"&&ei(n,h,y)&&(y=0,R=lt),go(n,h,y,R)):[]}function sh(n,h,y){var R=n==null?0:n.length;if(!R)return-1;var lt=y==null?0:Cn(y);return lt<0&&(lt=si(R+lt,0)),Gn(n,kr(h,3),lt)}function Cl(n,h,y){var R=n==null?0:n.length;if(!R)return-1;var lt=R-1;return y!==W&&(lt=Cn(y),lt=y<0?si(R+lt,0):bi(lt,R-1)),Gn(n,kr(h,3),lt,!0)}function Fu(n){var h=n==null?0:n.length;return h?Zn(n,1):[]}function Iu(n){var h=n==null?0:n.length;return h?Zn(n,Ce):[]}function Ks(n,h){var y=n==null?0:n.length;return y?(h=h===W?1:Cn(h),Zn(n,h)):[]}function oh(n){for(var h=-1,y=n==null?0:n.length,R={};++h<y;){var lt=n[h];R[lt[0]]=lt[1]}return R}function Nu(n){return n&&n.length?n[0]:W}function Lh(n,h,y){var R=n==null?0:n.length;if(!R)return-1;var lt=y==null?0:Cn(y);return lt<0&&(lt=si(R+lt,0)),Vr(n,h,lt)}function lh(n){var h=n==null?0:n.length;return h?Ca(n,0,-1):[]}var Zo=mn(function(n){var h=ir(n,fa);return h.length&&h[0]===n[0]?_s(h):[]}),kh=mn(function(n){var h=ga(n),y=ir(n,fa);return h===ga(y)?h=W:y.pop(),y.length&&y[0]===n[0]?_s(y,kr(h,2)):[]}),uh=mn(function(n){var h=ga(n),y=ir(n,fa);return h=typeof h=="function"?h:W,h&&y.pop(),y.length&&y[0]===n[0]?_s(y,W,h):[]});function Eh(n,h){return n==null?"":Ml.call(n,h)}function ga(n){var h=n==null?0:n.length;return h?n[h-1]:W}function Fh(n,h,y){var R=n==null?0:n.length;if(!R)return-1;var lt=R;return y!==W&&(lt=Cn(y),lt=lt<0?si(R+lt,0):bi(lt,R-1)),h===h?$a(n,h,lt):Gn(n,Nr,lt,!0)}function Al(n,h){return n&&n.length?ha(n,Cn(h)):W}var Mu=mn(Tl);function Tl(n,h){return n&&n.length&&h&&h.length?Ho(n,h):n}function Ts(n,h,y){return n&&n.length&&h&&h.length?Ho(n,h,kr(y,2)):n}function Zs(n,h,y){return n&&n.length&&h&&h.length?Ho(n,h,W,y):n}var Js=hr(function(n,h){var y=n==null?0:n.length,R=js(n,h);return Kl(n,ir(h,function(lt){return fi(lt,y)?+lt:lt}).sort(Vu)),R});function uu(n,h){var y=[];if(!(n&&n.length))return y;var R=-1,lt=[],Ct=n.length;for(h=kr(h,3);++R<Ct;){var Kt=n[R];h(Kt,R,n)&&(y.push(Kt),lt.push(R))}return Kl(n,lt),y}function Pl(n){return n==null?n:sl.call(n)}function hh(n,h,y){var R=n==null?0:n.length;return R?(y&&typeof y!="number"&&ei(n,h,y)?(h=0,y=R):(h=h==null?0:Cn(h),y=y===W?R:Cn(y)),Ca(n,h,y)):[]}function Ih(n,h){return Jl(n,h)}function Du(n,h,y){return yl(n,h,kr(y,2))}function Ru(n,h){var y=n==null?0:n.length;if(y){var R=Jl(n,h);if(R<y&&Ps(n[R],h))return R}return-1}function Sc(n,h){return Jl(n,h,!0)}function Cc(n,h,y){return yl(n,h,kr(y,2),!0)}function Ac(n,h){var y=n==null?0:n.length;if(y){var R=Jl(n,h,!0)-1;if(Ps(n[R],h))return R}return-1}function Tc(n){return n&&n.length?$l(n):[]}function Pc(n,h){return n&&n.length?$l(n,kr(h,2)):[]}function Oc(n){var h=n==null?0:n.length;return h?Ca(n,1,h):[]}function Lc(n,h,y){return n&&n.length?(h=y||h===W?1:Cn(h),Ca(n,0,h<0?0:h)):[]}function kc(n,h,y){var R=n==null?0:n.length;return R?(h=y||h===W?1:Cn(h),h=R-h,Ca(n,h<0?0:h,R)):[]}function Ec(n,h){return n&&n.length?tu(n,kr(h,3),!1,!0):[]}function Fc(n,h){return n&&n.length?tu(n,kr(h,3)):[]}var Ic=mn(function(n){return qs(Zn(n,1,Oi,!0))}),Nc=mn(function(n){var h=ga(n);return Oi(h)&&(h=W),qs(Zn(n,1,Oi,!0),kr(h,2))}),Mc=mn(function(n){var h=ga(n);return h=typeof h=="function"?h:W,qs(Zn(n,1,Oi,!0),W,h)});function Dc(n){return n&&n.length?qs(n):[]}function Rc(n,h){return n&&n.length?qs(n,kr(h,2)):[]}function Bc(n,h){return h=typeof h=="function"?h:W,n&&n.length?qs(n,W,h):[]}function Nh(n){if(!(n&&n.length))return[];var h=0;return n=Yt(n,function(y){if(Oi(y))return h=si(y.length,h),!0}),jn(h,function(y){return ir(n,Kn(y))})}function Vh(n,h){if(!(n&&n.length))return[];var y=Nh(n);return h==null?y:ir(y,function(R){return vr(h,W,R)})}var jc=mn(function(n,h){return Oi(n)?fo(n,h):[]}),zc=mn(function(n){return Au(Yt(n,Oi))}),Uc=mn(function(n){var h=ga(n);return Oi(h)&&(h=W),Au(Yt(n,Oi),kr(h,2))}),Wc=mn(function(n){var h=ga(n);return h=typeof h=="function"?h:W,Au(Yt(n,Oi),W,h)}),Hc=mn(Nh);function qc(n,h){return Cs(n||[],h||[],ns)}function Gc(n,h){return Cs(n||[],h||[],vl)}var Yc=mn(function(n){var h=n.length,y=h>1?n[h-1]:W;return y=typeof y=="function"?(n.pop(),y):W,Vh(n,y)});function Kh(n){var h=mt(n);return h.__chain__=!0,h}function Xc(n,h){return h(n),n}function ch(n,h){return h(n)}var Vc=hr(function(n){var h=n.length,y=h?n[0]:0,R=this.__wrapped__,lt=function(Ct){return js(Ct,n)};return h>1||this.__actions__.length||!(R instanceof xn)||!fi(y)?this.thru(lt):(R=R.slice(y,+y+(h?1:0)),R.__actions__.push({func:ch,args:[lt],thisArg:W}),new Qi(R,this.__chain__).thru(function(Ct){return h&&!Ct.length&&Ct.push(W),Ct}))});function Kc(){return Kh(this)}function Zc(){return new Qi(this.value(),this.__chain__)}function Jc(){this.__values__===W&&(this.__values__=uc(this.value()));var n=this.__index__>=this.__values__.length,h=n?W:this.__values__[this.__index__++];return{done:n,value:h}}function $c(){return this}function Qc(n){for(var h,y=this;y instanceof vs;){var R=As(y);R.__index__=0,R.__values__=W,h?lt.__wrapped__=R:h=R;var lt=R;y=y.__wrapped__}return lt.__wrapped__=n,h}function tf(){var n=this.__wrapped__;if(n instanceof xn){var h=n;return this.__actions__.length&&(h=new xn(this)),h=h.reverse(),h.__actions__.push({func:ch,args:[Pl],thisArg:W}),new Qi(h,this.__chain__)}return this.thru(Pl)}function ef(){return Wu(this.__wrapped__,this.__actions__)}var rf=ru(function(n,h,y){Rn.call(n,y)?++n[y]:Wi(n,y,1)});function nf(n,h,y){var R=_n(n)?Yr:vu;return y&&ei(n,h,y)&&(h=W),R(n,kr(h,3))}function af(n,h){var y=_n(n)?Yt:xa;return y(n,kr(h,3))}var sf=Qu(sh),of=Qu(Cl);function lf(n,h){return Zn(fh(n,h),1)}function uf(n,h){return Zn(fh(n,h),Ce)}function hf(n,h,y){return y=y===W?1:Cn(y),Zn(fh(n,h),y)}function Zh(n,h){var y=_n(n)?Pr:ki;return y(n,kr(h,3))}function Jh(n,h){var y=_n(n)?en:po;return y(n,kr(h,3))}var cf=ru(function(n,h,y){Rn.call(n,y)?n[y].push(h):Wi(n,y,[h])});function ff(n,h,y,R){n=Oa(n)?n:cu(n),y=y&&!R?Cn(y):0;var lt=n.length;return y<0&&(y=si(lt+y,0)),vh(n)?y<=lt&&n.indexOf(h,y)>-1:!!lt&&Vr(n,h,y)>-1}var df=mn(function(n,h,y){var R=-1,lt=typeof h=="function",Ct=Oa(n)?ze(n.length):[];return ki(n,function(Kt){Ct[++R]=lt?vr(h,Kt,y):ws(Kt,h,y)}),Ct}),pf=ru(function(n,h,y){Wi(n,y,h)});function fh(n,h){var y=_n(n)?ir:bu;return y(n,kr(h,3))}function gf(n,h,y,R){return n==null?[]:(_n(h)||(h=h==null?[]:[h]),y=R?W:y,_n(y)||(y=y==null?[]:[y]),gl(n,h,y))}var mf=ru(function(n,h,y){n[y?0:1].push(h)},function(){return[[],[]]});function vf(n,h,y){var R=_n(n)?Tr:bn,lt=arguments.length<3;return R(n,kr(h,4),y,lt,ki)}function yf(n,h,y){var R=_n(n)?jr:bn,lt=arguments.length<3;return R(n,kr(h,4),y,lt,po)}function bf(n,h){var y=_n(n)?Yt:xa;return y(n,gh(kr(h,3)))}function _f(n){var h=_n(n)?fl:Su;return h(n)}function wf(n,h,y){(y?ei(n,h,y):h===W)?h=1:h=Cn(h);var R=_n(n)?ys:bh;return R(n,h)}function xf(n){var h=_n(n)?dl:wh;return h(n)}function Sf(n){if(n==null)return 0;if(Oa(n))return vh(n)?Ui(n):n.length;var h=kn(n);return h==I||h==it?n.size:ql(n).length}function Cf(n,h,y){var R=_n(n)?Wr:xh;return y&&ei(n,h,y)&&(h=W),R(n,kr(h,3))}var Af=mn(function(n,h){if(n==null)return[];var y=h.length;return y>1&&ei(n,h[0],h[1])?h=[]:y>2&&ei(h[0],h[1],h[2])&&(h=[h[0]]),gl(n,Zn(h,1),[])}),dh=Ti||function(){return wr.Date.now()};function Tf(n,h){if(typeof h!="function")throw new Ji(b);return n=Cn(n),function(){if(--n<1)return h.apply(this,arguments)}}function $h(n,h,y){return h=y?W:h,h=n&&h==null?n.length:h,Pe(n,ot,W,W,W,W,h)}function Qh(n,h){var y;if(typeof h!="function")throw new Ji(b);return n=Cn(n),function(){return--n>0&&(y=h.apply(this,arguments)),n<=1&&(h=W),y}}var Mh=mn(function(n,h,y){var R=s;if(y.length){var lt=ai(y,Lr(Mh));R|=z}return Pe(n,R,h,y,lt)}),tc=mn(function(n,h,y){var R=s|f;if(y.length){var lt=ai(y,Lr(tc));R|=z}return Pe(h,R,n,y,lt)});function ec(n,h,y){h=y?W:h;var R=Pe(n,w,W,W,W,W,W,h);return R.placeholder=ec.placeholder,R}function rc(n,h,y){h=y?W:h;var R=Pe(n,A,W,W,W,W,W,h);return R.placeholder=rc.placeholder,R}function nc(n,h,y){var R,lt,Ct,Kt,de,Se,cr=0,dr=!1,xr=!1,Mr=!0;if(typeof n!="function")throw new Ji(b);h=ls(h)||0,yi(y)&&(dr=!!y.leading,xr="maxWait"in y,Ct=xr?si(ls(y.maxWait)||0,h):Ct,Mr="trailing"in y?!!y.trailing:Mr);function Gr(Li){var Os=R,So=lt;return R=lt=W,cr=Li,Kt=n.apply(So,Os),Kt}function an(Li){return cr=Li,de=Vs(En,h),dr?Gr(Li):Kt}function An(Li){var Os=Li-Se,So=Li-cr,xc=h-Os;return xr?bi(xc,Ct-So):xc}function sn(Li){var Os=Li-Se,So=Li-cr;return Se===W||Os>=h||Os<0||xr&&So>=Ct}function En(){var Li=dh();if(sn(Li))return Bn(Li);de=Vs(En,An(Li))}function Bn(Li){return de=W,Mr&&R?Gr(Li):(R=lt=W,Kt)}function qa(){de!==W&&da(de),cr=0,R=Se=lt=de=W}function ma(){return de===W?Kt:Bn(dh())}function Ga(){var Li=dh(),Os=sn(Li);if(R=arguments,lt=this,Se=Li,Os){if(de===W)return an(Se);if(xr)return da(de),de=Vs(En,h),Gr(Se)}return de===W&&(de=Vs(En,h)),Kt}return Ga.cancel=qa,Ga.flush=ma,Ga}var Pf=mn(function(n,h){return jo(n,1,h)}),Of=mn(function(n,h,y){return jo(n,ls(h)||0,y)});function Lf(n){return Pe(n,At)}function ph(n,h){if(typeof n!="function"||h!=null&&typeof h!="function")throw new Ji(b);var y=function(){var R=arguments,lt=h?h.apply(this,R):R[0],Ct=y.cache;if(Ct.has(lt))return Ct.get(lt);var Kt=n.apply(this,R);return y.cache=Ct.set(lt,Kt)||Ct,Kt};return y.cache=new(ph.Cache||ee),y}ph.Cache=ee;function gh(n){if(typeof n!="function")throw new Ji(b);return function(){var h=arguments;switch(h.length){case 0:return!n.call(this);case 1:return!n.call(this,h[0]);case 2:return!n.call(this,h[0],h[1]);case 3:return!n.call(this,h[0],h[1],h[2])}return!n.apply(this,h)}}function kf(n){return Qh(2,n)}var Ef=Hu(function(n,h){h=h.length==1&&_n(h[0])?ir(h[0],gi(kr())):ir(Zn(h,1),gi(kr()));var y=h.length;return mn(function(R){for(var lt=-1,Ct=bi(R.length,y);++lt<Ct;)R[lt]=h[lt].call(this,R[lt]);return vr(n,this,R)})}),Dh=mn(function(n,h){var y=ai(h,Lr(Dh));return Pe(n,z,W,h,y)}),ic=mn(function(n,h){var y=ai(h,Lr(ic));return Pe(n,Z,W,h,y)}),Ff=hr(function(n,h){return Pe(n,Lt,W,W,W,h)});function If(n,h){if(typeof n!="function")throw new Ji(b);return h=h===W?h:Cn(h),mn(n,h)}function Nf(n,h){if(typeof n!="function")throw new Ji(b);return h=h==null?0:si(Cn(h),0),mn(function(y){var R=y[h],lt=Vi(y,0,h);return R&&Fr(lt,R),vr(n,this,lt)})}function Mf(n,h,y){var R=!0,lt=!0;if(typeof n!="function")throw new Ji(b);return yi(y)&&(R="leading"in y?!!y.leading:R,lt="trailing"in y?!!y.trailing:lt),nc(n,h,{leading:R,maxWait:h,trailing:lt})}function Df(n){return $h(n,1)}function Rf(n,h){return Dh(za(h),n)}function Bf(){if(!arguments.length)return[];var n=arguments[0];return _n(n)?n:[n]}function jf(n){return Di(n,t)}function zf(n,h){return h=typeof h=="function"?h:W,Di(n,t,h)}function Uf(n){return Di(n,r|t)}function Wf(n,h){return h=typeof h=="function"?h:W,Di(n,r|t,h)}function Hf(n,h){return h==null||Wl(n,h,qi(h))}function Ps(n,h){return n===h||n!==n&&h!==h}var qf=yt(ss),Gf=yt(function(n,h){return n>=h}),Ol=la(function(){return arguments}())?la:function(n){return xi(n)&&Rn.call(n,"callee")&&!Fl.call(n,"callee")},_n=ze.isArray,Yf=ve?gi(ve):xs;function Oa(n){return n!=null&&mh(n.length)&&!wo(n)}function Oi(n){return xi(n)&&Oa(n)}function Xf(n){return n===!0||n===!1||xi(n)&&vi(n)==bt}var Jo=fn||Xh,Vf=Ae?gi(Ae):hi;function Kf(n){return xi(n)&&n.nodeType===1&&!Bu(n)}function Zf(n){if(n==null)return!0;if(Oa(n)&&(_n(n)||typeof n=="string"||typeof n.splice=="function"||Jo(n)||hu(n)||Ol(n)))return!n.length;var h=kn(n);if(h==I||h==it)return!n.size;if(Ta(n))return!ql(n).length;for(var y in n)if(Rn.call(n,y))return!1;return!0}function Jf(n,h){return Hn(n,h)}function $f(n,h,y){y=typeof y=="function"?y:W;var R=y?y(n,h):W;return R===W?Hn(n,h,W,y):!!R}function Rh(n){if(!xi(n))return!1;var h=vi(n);return h==re||h==oe||typeof n.message=="string"&&typeof n.name=="string"&&!Bu(n)}function Qf(n){return typeof n=="number"&&Ma(n)}function wo(n){if(!yi(n))return!1;var h=vi(n);return h==ae||h==qt||h==Wt||h==O}function ac(n){return typeof n=="number"&&n==Cn(n)}function mh(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ct}function yi(n){var h=typeof n;return n!=null&&(h=="object"||h=="function")}function xi(n){return n!=null&&typeof n=="object"}var sc=Ie?gi(Ie):ci;function td(n,h){return n===h||Xi(n,h,Ln(h))}function ed(n,h,y){return y=typeof y=="function"?y:W,Xi(n,h,Ln(h),y)}function rd(n){return oc(n)&&n!=+n}function nd(n){if(Xo(n))throw new nn(G);return Wo(n)}function id(n){return n===null}function ad(n){return n==null}function oc(n){return typeof n=="number"||xi(n)&&vi(n)==Pt}function Bu(n){if(!xi(n)||vi(n)!=F)return!1;var h=Eo(n);if(h===null)return!0;var y=Rn.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&Ns.call(y)==Mi}var Bh=ar?gi(ar):Ss;function sd(n){return ac(n)&&n>=-ct&&n<=ct}var lc=We?gi(We):Hl;function vh(n){return typeof n=="string"||!_n(n)&&xi(n)&&vi(n)==pt}function Ha(n){return typeof n=="symbol"||xi(n)&&vi(n)==jt}var hu=Ye?gi(Ye):ju;function od(n){return n===W}function ld(n){return xi(n)&&kn(n)==Te}function ud(n){return xi(n)&&vi(n)==De}var hd=yt(Gl),cd=yt(function(n,h){return n<=h});function uc(n){if(!n)return[];if(Oa(n))return vh(n)?mi(n):Hi(n);if(aa&&n[aa])return cs(n[aa]());var h=kn(n),y=h==I?ii:h==it?Ja:cu;return y(n)}function xo(n){if(!n)return n===0?n:0;if(n=ls(n),n===Ce||n===-Ce){var h=n<0?-1:1;return h*Ut}return n===n?n:0}function Cn(n){var h=xo(n),y=h%1;return h===h?y?h-y:h:0}function hc(n){return n?is(Cn(n),0,X):0}function ls(n){if(typeof n=="number")return n;if(Ha(n))return et;if(yi(n)){var h=typeof n.valueOf=="function"?n.valueOf():n;n=yi(h)?h+"":h}if(typeof n!="string")return n===0?n:+n;n=li(n);var y=T.test(n);return y||at.test(n)?Ve(n.slice(2),y?2:8):B.test(n)?et:+n}function cc(n){return Ua(n,La(n))}function fd(n){return n?is(Cn(n),-ct,ct):n===0?n:0}function Jn(n){return n==null?"":ca(n)}var dd=Yo(function(n,h){if(Ta(h)||Oa(h)){Ua(h,qi(h),n);return}for(var y in h)Rn.call(h,y)&&ns(n,y,h[y])}),fc=Yo(function(n,h){Ua(h,La(h),n)}),yh=Yo(function(n,h,y,R){Ua(h,La(h),n,R)}),pd=Yo(function(n,h,y,R){Ua(h,qi(h),n,R)}),gd=hr(js);function md(n,h){var y=Rs(n);return h==null?y:co(y,h)}var vd=mn(function(n,h){n=On(n);var y=-1,R=h.length,lt=R>2?h[2]:W;for(lt&&ei(h[0],h[1],lt)&&(R=1);++y<R;)for(var Ct=h[y],Kt=La(Ct),de=-1,Se=Kt.length;++de<Se;){var cr=Kt[de],dr=n[cr];(dr===W||Ps(dr,Is[cr])&&!Rn.call(n,cr))&&(n[cr]=Ct[cr])}return n}),yd=mn(function(n){return n.push(W,ur),vr(dc,W,n)});function bd(n,h){return Pn(n,kr(h,3),Pi)}function _d(n,h){return Pn(n,kr(h,3),zs)}function wd(n,h){return n==null?n:bs(n,kr(h,3),La)}function xd(n,h){return n==null?n:ja(n,kr(h,3),La)}function Sd(n,h){return n&&Pi(n,kr(h,3))}function Cd(n,h){return n&&zs(n,kr(h,3))}function Ad(n){return n==null?[]:ta(n,qi(n))}function Td(n){return n==null?[]:ta(n,La(n))}function jh(n,h,y){var R=n==null?W:as(n,h);return R===W?y:R}function Pd(n,h){return n!=null&&Ki(n,h,Sa)}function zh(n,h){return n!=null&&Ki(n,h,Ws)}var Od=m(function(n,h,y){h!=null&&typeof h.toString!="function"&&(h=Lo.call(h)),n[h]=y},Wh(ka)),Ld=m(function(n,h,y){h!=null&&typeof h.toString!="function"&&(h=Lo.call(h)),Rn.call(n,h)?n[h].push(y):n[h]=[y]},kr),kd=mn(ws);function qi(n){return Oa(n)?uo(n):ql(n)}function La(n){return Oa(n)?uo(n,!0):zu(n)}function Ed(n,h){var y={};return h=kr(h,3),Pi(n,function(R,lt,Ct){Wi(y,h(R,lt,Ct),R)}),y}function Fd(n,h){var y={};return h=kr(h,3),Pi(n,function(R,lt,Ct){Wi(y,lt,h(R,lt,Ct))}),y}var Id=Yo(function(n,h,y){mo(n,h,y)}),dc=Yo(function(n,h,y,R){mo(n,h,y,R)}),Nd=hr(function(n,h){var y={};if(n==null)return y;var R=!1;h=ir(h,function(Ct){return Ct=Gs(Ct,n),R||(R=Ct.length>1),Ct}),Ua(n,Dr(n),y),R&&(y=Di(y,r|e|t,qe));for(var lt=h.length;lt--;)Ql(y,h[lt]);return y});function Md(n,h){return pc(n,gh(kr(h)))}var Dd=hr(function(n,h){return n==null?{}:Xl(n,h)});function pc(n,h){if(n==null)return{};var y=ir(Dr(n),function(R){return[R]});return h=kr(h),wu(n,y,function(R,lt){return h(R,lt[0])})}function Rd(n,h,y){h=Gs(h,n);var R=-1,lt=h.length;for(lt||(lt=1,n=W);++R<lt;){var Ct=n==null?W:n[os(h[R])];Ct===W&&(R=lt,Ct=y),n=wo(Ct)?Ct.call(n):Ct}return n}function Bd(n,h,y){return n==null?n:vl(n,h,y)}function jd(n,h,y,R){return R=typeof R=="function"?R:W,n==null?n:vl(n,h,y,R)}var gc=Ee(qi),mc=Ee(La);function zd(n,h,y){var R=_n(n),lt=R||Jo(n)||hu(n);if(h=kr(h,4),y==null){var Ct=n&&n.constructor;lt?y=R?new Ct:[]:yi(n)?y=wo(Ct)?Rs(Eo(n)):{}:y={}}return(lt?Pr:Pi)(n,function(Kt,de,Se){return h(y,Kt,de,Se)}),y}function Ud(n,h){return n==null?!0:Ql(n,h)}function Wd(n,h,y){return n==null?n:Uu(n,h,za(y))}function Hd(n,h,y,R){return R=typeof R=="function"?R:W,n==null?n:Uu(n,h,za(y),R)}function cu(n){return n==null?[]:na(n,qi(n))}function qd(n){return n==null?[]:na(n,La(n))}function Gd(n,h,y){return y===W&&(y=h,h=W),y!==W&&(y=ls(y),y=y===y?y:0),h!==W&&(h=ls(h),h=h===h?h:0),is(ls(n),h,y)}function Yd(n,h,y){return h=xo(h),y===W?(y=h,h=0):y=xo(y),n=ls(n),Uo(n,h,y)}function Xd(n,h,y){if(y&&typeof y!="boolean"&&ei(n,h,y)&&(h=y=W),y===W&&(typeof h=="boolean"?(y=h,h=W):typeof n=="boolean"&&(y=n,n=W)),n===W&&h===W?(n=0,h=1):(n=xo(n),h===W?(h=n,n=0):h=xo(h)),n>h){var R=n;n=h,h=R}if(y||n%1||h%1){var lt=Rl();return bi(n+lt*(h-n+Je("1e-"+((lt+"").length-1))),h)}return Zl(n,h)}var Vd=vo(function(n,h,y){return h=h.toLowerCase(),n+(y?vc(h):h)});function vc(n){return Uh(Jn(n).toLowerCase())}function yc(n){return n=Jn(n),n&&n.replace(Gt,zi).replace(gt,"")}function Kd(n,h,y){n=Jn(n),h=ca(h);var R=n.length;y=y===W?R:is(Cn(y),0,R);var lt=y;return y-=h.length,y>=0&&n.slice(y,lt)==h}function Zd(n){return n=Jn(n),n&&$s.test(n)?n.replace(Ni,Ka):n}function Jd(n){return n=Jn(n),n&&Ll.test(n)?n.replace(hs,"\\$&"):n}var $d=vo(function(n,h,y){return n+(y?"-":"")+h.toLowerCase()}),Qd=vo(function(n,h,y){return n+(y?" ":"")+h.toLowerCase()}),tp=$u("toLowerCase");function ep(n,h,y){n=Jn(n),h=Cn(h);var R=h?Ui(n):0;if(!h||R>=h)return n;var lt=(h-R)/2;return st(Io(lt),y)+n+st(oo(lt),y)}function rp(n,h,y){n=Jn(n),h=Cn(h);var R=h?Ui(n):0;return h&&R<h?n+st(h-R,y):n}function np(n,h,y){n=Jn(n),h=Cn(h);var R=h?Ui(n):0;return h&&R<h?st(h-R,y)+n:n}function ip(n,h,y){return y||h==null?h=0:h&&(h=+h),gu(Jn(n).replace(to,""),h||0)}function ap(n,h,y){return(y?ei(n,h,y):h===W)?h=1:h=Cn(h),ml(Jn(n),h)}function sp(){var n=arguments,h=Jn(n[0]);return n.length<3?h:h.replace(n[1],n[2])}var op=vo(function(n,h,y){return n+(y?"_":"")+h.toLowerCase()});function lp(n,h,y){return y&&typeof y!="number"&&ei(n,h,y)&&(h=y=W),y=y===W?X:y>>>0,y?(n=Jn(n),n&&(typeof h=="string"||h!=null&&!Bh(h))&&(h=ca(h),!h&&Zi(n))?Vi(mi(n),0,y):n.split(h,y)):[]}var up=vo(function(n,h,y){return n+(y?" ":"")+Uh(h)});function hp(n,h,y){return n=Jn(n),y=y==null?0:is(Cn(y),0,n.length),h=ca(h),n.slice(y,y+h.length)==h}function cp(n,h,y){var R=mt.templateSettings;y&&ei(n,h,y)&&(h=W),n=Jn(n),h=yh({},h,R,we);var lt=yh({},h.imports,R.imports,we),Ct=qi(lt),Kt=na(lt,Ct),de,Se,cr=0,dr=h.interpolate||Xt,xr="__p += '",Mr=rl((h.escape||Xt).source+"|"+dr.source+"|"+(dr===Ya?el:Xt).source+"|"+(h.evaluate||Xt).source+"|$","g"),Gr="//# sourceURL="+(Rn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mr+"]")+`
`;n.replace(Mr,function(sn,En,Bn,qa,ma,Ga){return Bn||(Bn=qa),xr+=n.slice(cr,Ga).replace(ye,Za),En&&(de=!0,xr+=`' +
__e(`+En+`) +
'`),ma&&(Se=!0,xr+=`';
`+ma+`;
__p += '`),Bn&&(xr+=`' +
((__t = (`+Bn+`)) == null ? '' : __t) +
'`),cr=Ga+sn.length,sn}),xr+=`';
`;var an=Rn.call(h,"variable")&&h.variable;if(!an)xr=`with (obj) {
`+xr+`
}
`;else if(Xa.test(an))throw new nn(i);xr=(Se?xr.replace(Ii,""):xr).replace(ni,"$1").replace(Ea,"$1;"),xr="function("+(an||"obj")+`) {
`+(an?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(de?", __e = _.escape":"")+(Se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xr+`return __p
}`;var An=_c(function(){return Nn(Ct,Gr+"return "+xr).apply(W,Kt)});if(An.source=xr,Rh(An))throw An;return An}function fp(n){return Jn(n).toLowerCase()}function dp(n){return Jn(n).toUpperCase()}function pp(n,h,y){if(n=Jn(n),n&&(y||h===W))return li(n);if(!n||!(h=ca(h)))return n;var R=mi(n),lt=mi(h),Ct=cn(R,lt),Kt=Un(R,lt)+1;return Vi(R,Ct,Kt).join("")}function gp(n,h,y){if(n=Jn(n),n&&(y||h===W))return n.slice(0,ia(n)+1);if(!n||!(h=ca(h)))return n;var R=mi(n),lt=Un(R,mi(h))+1;return Vi(R,0,lt).join("")}function mp(n,h,y){if(n=Jn(n),n&&(y||h===W))return n.replace(to,"");if(!n||!(h=ca(h)))return n;var R=mi(n),lt=cn(R,mi(h));return Vi(R,lt).join("")}function vp(n,h){var y=se,R=Le;if(yi(h)){var lt="separator"in h?h.separator:lt;y="length"in h?Cn(h.length):y,R="omission"in h?ca(h.omission):R}n=Jn(n);var Ct=n.length;if(Zi(n)){var Kt=mi(n);Ct=Kt.length}if(y>=Ct)return n;var de=y-Ui(R);if(de<1)return R;var Se=Kt?Vi(Kt,0,de).join(""):n.slice(0,de);if(lt===W)return Se+R;if(Kt&&(de+=Se.length-de),Bh(lt)){if(n.slice(de).search(lt)){var cr,dr=Se;for(lt.global||(lt=rl(lt.source,Jn(K.exec(lt))+"g")),lt.lastIndex=0;cr=lt.exec(dr);)var xr=cr.index;Se=Se.slice(0,xr===W?de:xr)}}else if(n.indexOf(ca(lt),de)!=de){var Mr=Se.lastIndexOf(lt);Mr>-1&&(Se=Se.slice(0,Mr))}return Se+R}function yp(n){return n=Jn(n),n&&Fa.test(n)?n.replace(Ir,ro):n}var bp=vo(function(n,h,y){return n+(y?" ":"")+h.toUpperCase()}),Uh=$u("toUpperCase");function bc(n,h,y){return n=Jn(n),h=y?W:h,h===W?ya(n)?Po(n):tn(n):n.match(h)||[]}var _c=mn(function(n,h){try{return vr(n,W,h)}catch(y){return Rh(y)?y:new nn(y)}}),_p=hr(function(n,h){return Pr(h,function(y){y=os(y),Wi(n,y,Mh(n[y],n))}),n});function wp(n){var h=n==null?0:n.length,y=kr();return n=h?ir(n,function(R){if(typeof R[1]!="function")throw new Ji(b);return[y(R[0]),R[1]]}):[],mn(function(R){for(var lt=-1;++lt<h;){var Ct=n[lt];if(vr(Ct[0],this,R))return vr(Ct[1],this,R)}})}function xp(n){return Yi(Di(n,r))}function Wh(n){return function(){return n}}function Sp(n,h){return n==null||n!==n?h:n}var Cp=Ou(),Ap=Ou(!0);function ka(n){return n}function Hh(n){return yu(typeof n=="function"?n:Di(n,r))}function Tp(n){return _u(Di(n,r))}function Pp(n,h){return Yl(n,Di(h,r))}var Op=mn(function(n,h){return function(y){return ws(y,n,h)}}),Lp=mn(function(n,h){return function(y){return ws(n,y,h)}});function qh(n,h,y){var R=qi(h),lt=ta(h,R);y==null&&!(yi(h)&&(lt.length||!R.length))&&(y=h,h=n,n=this,lt=ta(h,qi(h)));var Ct=!(yi(y)&&"chain"in y)||!!y.chain,Kt=wo(n);return Pr(lt,function(de){var Se=h[de];n[de]=Se,Kt&&(n.prototype[de]=function(){var cr=this.__chain__;if(Ct||cr){var dr=n(this.__wrapped__),xr=dr.__actions__=Hi(this.__actions__);return xr.push({func:Se,args:arguments,thisArg:n}),dr.__chain__=cr,dr}return Se.apply(n,Fr([this.value()],arguments))})}),n}function kp(){return wr._===this&&(wr._=ao),this}function Gh(){}function Ep(n){return n=Cn(n),mn(function(h){return ha(h,n)})}var Fp=H(ir),Ip=H(Yr),Np=H(Wr);function wc(n){return Aa(n)?Kn(os(n)):Vl(n)}function Mp(n){return function(h){return n==null?W:as(n,h)}}var Dp=dt(),Rp=dt(!0);function Yh(){return[]}function Xh(){return!1}function Bp(){return{}}function jp(){return""}function zp(){return!0}function Up(n,h){if(n=Cn(n),n<1||n>ct)return[];var y=X,R=bi(n,X);h=kr(h),n-=X;for(var lt=jn(R,h);++y<n;)h(y);return lt}function Wp(n){return _n(n)?ir(n,os):Ha(n)?[n]:Hi(Ko(Jn(n)))}function Hp(n){var h=++fu;return Jn(n)+h}var qp=E(function(n,h){return n+h},0),Gp=Nt("ceil"),Yp=E(function(n,h){return n/h},1),Xp=Nt("floor");function Vp(n){return n&&n.length?zo(n,ka,ss):W}function Kp(n,h){return n&&n.length?zo(n,kr(h,2),ss):W}function Zp(n){return ji(n,ka)}function Jp(n,h){return ji(n,kr(h,2))}function $p(n){return n&&n.length?zo(n,ka,Gl):W}function Qp(n,h){return n&&n.length?zo(n,kr(h,2),Gl):W}var t0=E(function(n,h){return n*h},1),e0=Nt("round"),r0=E(function(n,h){return n-h},0);function n0(n){return n&&n.length?va(n,ka):0}function i0(n,h){return n&&n.length?va(n,kr(h,2)):0}return mt.after=Tf,mt.ary=$h,mt.assign=dd,mt.assignIn=fc,mt.assignInWith=yh,mt.assignWith=pd,mt.at=gd,mt.before=Qh,mt.bind=Mh,mt.bindAll=_p,mt.bindKey=tc,mt.castArray=Bf,mt.chain=Kh,mt.chunk=Th,mt.compact=Ph,mt.concat=Oh,mt.cond=wp,mt.conforms=xp,mt.constant=Wh,mt.countBy=rf,mt.create=md,mt.curry=ec,mt.curryRight=rc,mt.debounce=nc,mt.defaults=vd,mt.defaultsDeep=yd,mt.defer=Pf,mt.delay=Of,mt.difference=rh,mt.differenceBy=ou,mt.differenceWith=nh,mt.drop=ih,mt.dropRight=lu,mt.dropRightWhile=Eu,mt.dropWhile=Sl,mt.fill=ah,mt.filter=af,mt.flatMap=lf,mt.flatMapDeep=uf,mt.flatMapDepth=hf,mt.flatten=Fu,mt.flattenDeep=Iu,mt.flattenDepth=Ks,mt.flip=Lf,mt.flow=Cp,mt.flowRight=Ap,mt.fromPairs=oh,mt.functions=Ad,mt.functionsIn=Td,mt.groupBy=cf,mt.initial=lh,mt.intersection=Zo,mt.intersectionBy=kh,mt.intersectionWith=uh,mt.invert=Od,mt.invertBy=Ld,mt.invokeMap=df,mt.iteratee=Hh,mt.keyBy=pf,mt.keys=qi,mt.keysIn=La,mt.map=fh,mt.mapKeys=Ed,mt.mapValues=Fd,mt.matches=Tp,mt.matchesProperty=Pp,mt.memoize=ph,mt.merge=Id,mt.mergeWith=dc,mt.method=Op,mt.methodOf=Lp,mt.mixin=qh,mt.negate=gh,mt.nthArg=Ep,mt.omit=Nd,mt.omitBy=Md,mt.once=kf,mt.orderBy=gf,mt.over=Fp,mt.overArgs=Ef,mt.overEvery=Ip,mt.overSome=Np,mt.partial=Dh,mt.partialRight=ic,mt.partition=mf,mt.pick=Dd,mt.pickBy=pc,mt.property=wc,mt.propertyOf=Mp,mt.pull=Mu,mt.pullAll=Tl,mt.pullAllBy=Ts,mt.pullAllWith=Zs,mt.pullAt=Js,mt.range=Dp,mt.rangeRight=Rp,mt.rearg=Ff,mt.reject=bf,mt.remove=uu,mt.rest=If,mt.reverse=Pl,mt.sampleSize=wf,mt.set=Bd,mt.setWith=jd,mt.shuffle=xf,mt.slice=hh,mt.sortBy=Af,mt.sortedUniq=Tc,mt.sortedUniqBy=Pc,mt.split=lp,mt.spread=Nf,mt.tail=Oc,mt.take=Lc,mt.takeRight=kc,mt.takeRightWhile=Ec,mt.takeWhile=Fc,mt.tap=Xc,mt.throttle=Mf,mt.thru=ch,mt.toArray=uc,mt.toPairs=gc,mt.toPairsIn=mc,mt.toPath=Wp,mt.toPlainObject=cc,mt.transform=zd,mt.unary=Df,mt.union=Ic,mt.unionBy=Nc,mt.unionWith=Mc,mt.uniq=Dc,mt.uniqBy=Rc,mt.uniqWith=Bc,mt.unset=Ud,mt.unzip=Nh,mt.unzipWith=Vh,mt.update=Wd,mt.updateWith=Hd,mt.values=cu,mt.valuesIn=qd,mt.without=jc,mt.words=bc,mt.wrap=Rf,mt.xor=zc,mt.xorBy=Uc,mt.xorWith=Wc,mt.zip=Hc,mt.zipObject=qc,mt.zipObjectDeep=Gc,mt.zipWith=Yc,mt.entries=gc,mt.entriesIn=mc,mt.extend=fc,mt.extendWith=yh,qh(mt,mt),mt.add=qp,mt.attempt=_c,mt.camelCase=Vd,mt.capitalize=vc,mt.ceil=Gp,mt.clamp=Gd,mt.clone=jf,mt.cloneDeep=Uf,mt.cloneDeepWith=Wf,mt.cloneWith=zf,mt.conformsTo=Hf,mt.deburr=yc,mt.defaultTo=Sp,mt.divide=Yp,mt.endsWith=Kd,mt.eq=Ps,mt.escape=Zd,mt.escapeRegExp=Jd,mt.every=nf,mt.find=sf,mt.findIndex=sh,mt.findKey=bd,mt.findLast=of,mt.findLastIndex=Cl,mt.findLastKey=_d,mt.floor=Xp,mt.forEach=Zh,mt.forEachRight=Jh,mt.forIn=wd,mt.forInRight=xd,mt.forOwn=Sd,mt.forOwnRight=Cd,mt.get=jh,mt.gt=qf,mt.gte=Gf,mt.has=Pd,mt.hasIn=zh,mt.head=Nu,mt.identity=ka,mt.includes=ff,mt.indexOf=Lh,mt.inRange=Yd,mt.invoke=kd,mt.isArguments=Ol,mt.isArray=_n,mt.isArrayBuffer=Yf,mt.isArrayLike=Oa,mt.isArrayLikeObject=Oi,mt.isBoolean=Xf,mt.isBuffer=Jo,mt.isDate=Vf,mt.isElement=Kf,mt.isEmpty=Zf,mt.isEqual=Jf,mt.isEqualWith=$f,mt.isError=Rh,mt.isFinite=Qf,mt.isFunction=wo,mt.isInteger=ac,mt.isLength=mh,mt.isMap=sc,mt.isMatch=td,mt.isMatchWith=ed,mt.isNaN=rd,mt.isNative=nd,mt.isNil=ad,mt.isNull=id,mt.isNumber=oc,mt.isObject=yi,mt.isObjectLike=xi,mt.isPlainObject=Bu,mt.isRegExp=Bh,mt.isSafeInteger=sd,mt.isSet=lc,mt.isString=vh,mt.isSymbol=Ha,mt.isTypedArray=hu,mt.isUndefined=od,mt.isWeakMap=ld,mt.isWeakSet=ud,mt.join=Eh,mt.kebabCase=$d,mt.last=ga,mt.lastIndexOf=Fh,mt.lowerCase=Qd,mt.lowerFirst=tp,mt.lt=hd,mt.lte=cd,mt.max=Vp,mt.maxBy=Kp,mt.mean=Zp,mt.meanBy=Jp,mt.min=$p,mt.minBy=Qp,mt.stubArray=Yh,mt.stubFalse=Xh,mt.stubObject=Bp,mt.stubString=jp,mt.stubTrue=zp,mt.multiply=t0,mt.nth=Al,mt.noConflict=kp,mt.noop=Gh,mt.now=dh,mt.pad=ep,mt.padEnd=rp,mt.padStart=np,mt.parseInt=ip,mt.random=Xd,mt.reduce=vf,mt.reduceRight=yf,mt.repeat=ap,mt.replace=sp,mt.result=Rd,mt.round=e0,mt.runInContext=_e,mt.sample=_f,mt.size=Sf,mt.snakeCase=op,mt.some=Cf,mt.sortedIndex=Ih,mt.sortedIndexBy=Du,mt.sortedIndexOf=Ru,mt.sortedLastIndex=Sc,mt.sortedLastIndexBy=Cc,mt.sortedLastIndexOf=Ac,mt.startCase=up,mt.startsWith=hp,mt.subtract=r0,mt.sum=n0,mt.sumBy=i0,mt.template=cp,mt.times=Up,mt.toFinite=xo,mt.toInteger=Cn,mt.toLength=hc,mt.toLower=fp,mt.toNumber=ls,mt.toSafeInteger=fd,mt.toString=Jn,mt.toUpper=dp,mt.trim=pp,mt.trimEnd=gp,mt.trimStart=mp,mt.truncate=vp,mt.unescape=yp,mt.uniqueId=Hp,mt.upperCase=bp,mt.upperFirst=Uh,mt.each=Zh,mt.eachRight=Jh,mt.first=Nu,qh(mt,function(){var n={};return Pi(mt,function(h,y){Rn.call(mt.prototype,y)||(n[y]=h)}),n}(),{chain:!1}),mt.VERSION=Ht,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){mt[n].placeholder=mt}),Pr(["drop","take"],function(n,h){xn.prototype[n]=function(y){y=y===W?1:si(Cn(y),0);var R=this.__filtered__&&!h?new xn(this):this.clone();return R.__filtered__?R.__takeCount__=bi(y,R.__takeCount__):R.__views__.push({size:bi(y,X),type:n+(R.__dir__<0?"Right":"")}),R},xn.prototype[n+"Right"]=function(y){return this.reverse()[n](y).reverse()}}),Pr(["filter","map","takeWhile"],function(n,h){var y=h+1,R=y==Y||y==tr;xn.prototype[n]=function(lt){var Ct=this.clone();return Ct.__iteratees__.push({iteratee:kr(lt,3),type:y}),Ct.__filtered__=Ct.__filtered__||R,Ct}}),Pr(["head","last"],function(n,h){var y="take"+(h?"Right":"");xn.prototype[n]=function(){return this[y](1).value()[0]}}),Pr(["initial","tail"],function(n,h){var y="drop"+(h?"":"Right");xn.prototype[n]=function(){return this.__filtered__?new xn(this):this[y](1)}}),xn.prototype.compact=function(){return this.filter(ka)},xn.prototype.find=function(n){return this.filter(n).head()},xn.prototype.findLast=function(n){return this.reverse().find(n)},xn.prototype.invokeMap=mn(function(n,h){return typeof n=="function"?new xn(this):this.map(function(y){return ws(y,n,h)})}),xn.prototype.reject=function(n){return this.filter(gh(kr(n)))},xn.prototype.slice=function(n,h){n=Cn(n);var y=this;return y.__filtered__&&(n>0||h<0)?new xn(y):(n<0?y=y.takeRight(-n):n&&(y=y.drop(n)),h!==W&&(h=Cn(h),y=h<0?y.dropRight(-h):y.take(h-n)),y)},xn.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},xn.prototype.toArray=function(){return this.take(X)},Pi(xn.prototype,function(n,h){var y=/^(?:filter|find|map|reject)|While$/.test(h),R=/^(?:head|last)$/.test(h),lt=mt[R?"take"+(h=="last"?"Right":""):h],Ct=R||/^find/.test(h);!lt||(mt.prototype[h]=function(){var Kt=this.__wrapped__,de=R?[1]:arguments,Se=Kt instanceof xn,cr=de[0],dr=Se||_n(Kt),xr=function(En){var Bn=lt.apply(mt,Fr([En],de));return R&&Mr?Bn[0]:Bn};dr&&y&&typeof cr=="function"&&cr.length!=1&&(Se=dr=!1);var Mr=this.__chain__,Gr=!!this.__actions__.length,an=Ct&&!Mr,An=Se&&!Gr;if(!Ct&&dr){Kt=An?Kt:new xn(this);var sn=n.apply(Kt,de);return sn.__actions__.push({func:ch,args:[xr],thisArg:W}),new Qi(sn,Mr)}return an&&An?n.apply(this,de):(sn=this.thru(xr),an?R?sn.value()[0]:sn.value():sn)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(n){var h=$i[n],y=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",R=/^(?:pop|shift)$/.test(n);mt.prototype[n]=function(){var lt=arguments;if(R&&!this.__chain__){var Ct=this.value();return h.apply(_n(Ct)?Ct:[],lt)}return this[y](function(Kt){return h.apply(_n(Kt)?Kt:[],lt)})}}),Pi(xn.prototype,function(n,h){var y=mt[h];if(y){var R=y.name+"";Rn.call(Da,R)||(Da[R]=[]),Da[R].push({name:h,func:y})}}),Da[d(W,f).name]=[{name:"wrapper",func:W}],xn.prototype.clone=ol,xn.prototype.reverse=Ul,xn.prototype.value=Ro,mt.prototype.at=Vc,mt.prototype.chain=Kc,mt.prototype.commit=Zc,mt.prototype.next=Jc,mt.prototype.plant=Qc,mt.prototype.reverse=tf,mt.prototype.toJSON=mt.prototype.valueOf=mt.prototype.value=ef,mt.prototype.first=mt.prototype.head,aa&&(mt.prototype[aa]=$c),mt},fs=Oo();wr._=fs,le=function(){return fs}.call(_r,Ne,_r,L),le!==W&&(L.exports=le)}).call(this)}).call(this,Ne("IyRk"),Ne("hOG+")(un))},PGov:function(un,_r,Ne){"use strict";var Ke=Ne("i8i4"),L=Ne.n(Ke),le=Ne("oOwn"),W=Ne.n(le),Ht=Ne("bBst"),wt=Ne.n(Ht),G=Ne("q1tI"),b=Ne.n(G);function i(et,X,rt){return X in et?Object.defineProperty(et,X,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[X]=rt,et}function c(et){for(var X=1;X<arguments.length;X++){var rt=arguments[X]!=null?arguments[X]:{},M=Object.keys(rt);typeof Object.getOwnPropertySymbols=="function"&&(M=M.concat(Object.getOwnPropertySymbols(rt).filter(function(Q){return Object.getOwnPropertyDescriptor(rt,Q).enumerable}))),M.forEach(function(Q){i(et,Q,rt[Q])})}return et}function u(et,X){if(!(et instanceof X))throw new TypeError("Cannot call a class as a function")}function o(et,X){for(var rt=0;rt<X.length;rt++){var M=X[rt];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(et,M.key,M)}}function r(et,X,rt){return X&&o(et.prototype,X),rt&&o(et,rt),et}function e(et){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(rt){return typeof rt}:e=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},e(et)}function t(et){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?t=function(rt){return e(rt)}:t=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":e(rt)},t(et)}function a(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function l(et,X){return X&&(t(X)==="object"||typeof X=="function")?X:a(et)}function s(et){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},s(et)}function f(et,X){return f=Object.setPrototypeOf||function(M,Q){return M.__proto__=Q,M},f(et,X)}function p(et,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(X&&X.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),X&&f(et,X)}function w(et){if(Array.isArray(et)){for(var X=0,rt=new Array(et.length);X<et.length;X++)rt[X]=et[X];return rt}}function A(et){if(Symbol.iterator in Object(et)||Object.prototype.toString.call(et)==="[object Arguments]")return Array.from(et)}function z(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Z(et){return w(et)||A(et)||z()}var ot={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},Lt=function et(){var X=this;u(this,et),this.startListen=function(rt){!rt||rt.addEventListener("keydown",X.f)},this.stopListen=function(rt){!rt||rt.removeEventListener("keydown",X.f)},this.add=function(rt,M){var Q=rt;return typeof Q!="object"&&(Q=[Q]),X.listeners[X.index]={keyCode:Q,fn:M},X.index++},this.remove=function(rt){delete X.listeners[rt]},this.removeAll=function(){X.listeners={},X.index=1},this.index=1,this.listeners={},this.f=function(rt){if(!!rt){var M=rt.keyCode||rt.which;Object.values(X.listeners).forEach(function(Q){var ut=Q.keyCode,ht=Q.fn;ut.includes(M)&&(rt.stopPropagation(),rt.preventDefault(),ht(rt))})}}},At=new Lt,se=function(et){p(X,et);function X(){var rt,M;u(this,X);for(var Q=arguments.length,ut=new Array(Q),ht=0;ht<Q;ht++)ut[ht]=arguments[ht];return M=l(this,(rt=s(X)).call.apply(rt,[this].concat(ut))),M.selectItem=function(){var Wt=M.props,bt=Wt.item,Bt=Wt.onSelectHandler;Bt(bt)},M}return r(X,[{key:"shouldComponentUpdate",value:function(M){return this.props.item!==M.item||this.props.selected!==M.selected||this.props.style!==M.style||this.props.className!==M.className}},{key:"render",value:function(){var M=this,Q=this.props,ut=Q.component,ht=Q.style,Wt=Q.onClickHandler,bt=Q.item,Bt=Q.selected,oe=Q.className,re=Q.innerRef;return b.a.createElement("li",{className:"rta__item  ".concat(Bt===!0?"rta__item--selected":""," ").concat(oe||""),style:ht},b.a.createElement("div",{className:"rta__entity ".concat(Bt===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:Wt,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){M.clicked=!0,M.selectItem()},onTouchEnd:function(qt){qt.preventDefault(),M.clicked&&Wt(qt)},onTouchMove:function(){M.clicked=!1},onTouchCancel:function(){M.clicked=!1},ref:re},b.a.createElement(ut,{selected:Bt,entity:bt})))}}]),X}(b.a.Component),Le=function(et){p(X,et);function X(){var rt,M;u(this,X);for(var Q=arguments.length,ut=new Array(Q),ht=0;ht<Q;ht++)ut[ht]=arguments[ht];return M=l(this,(rt=s(X)).call.apply(rt,[this].concat(ut))),M.state={selectedItem:null},M.cachedIdOfItems=new Map,M.onPressEnter=function(Wt){typeof Wt!="undefined"&&Wt.preventDefault();var bt=M.props.values;M.modifyText(bt[M.getPositionInList()])},M.getPositionInList=function(){var Wt=M.props.values,bt=M.state.selectedItem;return bt?Wt.findIndex(function(Bt){return M.getId(Bt)===M.getId(bt)}):0},M.getId=function(Wt){if(M.cachedIdOfItems.has(Wt))return M.cachedIdOfItems.get(Wt);var bt=M.props.getTextToReplace(Wt),Bt=function(){if(bt){if(bt.key)return bt.key;if(typeof Wt=="string"||!Wt.key)return bt.text}if(!Wt.key)throw new Error("Item ".concat(JSON.stringify(Wt),' has to have defined "key" property'));return Wt.key},oe=Bt();return M.cachedIdOfItems.set(Wt,oe),oe},M.listeners=[],M.itemsRef={},M.modifyText=function(Wt){if(!!Wt){var bt=M.props.onSelect;bt(Wt)}},M.selectItem=function(Wt){var bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Bt=M.props.onItemHighlighted;M.state.selectedItem!==Wt&&M.setState({selectedItem:Wt},function(){Bt(Wt),bt&&M.props.dropdownScroll(M.itemsRef[M.getId(Wt)])})},M.scroll=function(Wt){Wt.preventDefault();var bt=M.props.values,Bt=Wt.keyCode||Wt.which,oe=M.getPositionInList(),re;switch(Bt){case ot.DOWN:re=oe+1;break;case ot.UP:re=oe-1;break;default:re=oe;break}re=(re%bt.length+bt.length)%bt.length,M.selectItem(bt[re],[ot.DOWN,ot.UP].includes(Bt))},M.isSelected=function(Wt){var bt=M.state.selectedItem;return bt?M.getId(bt)===M.getId(Wt):!1},M}return r(X,[{key:"componentDidMount",value:function(){this.listeners.push(At.add([ot.DOWN,ot.UP],this.scroll),At.add([ot.ENTER,ot.TAB],this.onPressEnter));var M=this.props.values;M&&M[0]&&this.selectItem(M[0])}},{key:"componentDidUpdate",value:function(M){var Q=this,ut=M.values,ht=this.props.values,Wt=ut.map(function(Bt){return Q.getId(Bt)}).join(""),bt=ht.map(function(Bt){return Q.getId(Bt)}).join("");Wt!==bt&&ht&&ht[0]&&this.selectItem(ht[0])}},{key:"componentWillUnmount",value:function(){for(var M;this.listeners.length;)M=this.listeners.pop(),At.remove(M)}},{key:"render",value:function(){var M=this,Q=this.props,ut=Q.values,ht=Q.component,Wt=Q.style,bt=Q.itemClassName,Bt=Q.className,oe=Q.itemStyle;return b.a.createElement("ul",{className:"rta__list ".concat(Bt||""),style:Wt},ut.map(function(re){return b.a.createElement(se,{key:M.getId(re),innerRef:function(qt){M.itemsRef[M.getId(re)]=qt},selected:M.isSelected(re),item:re,className:bt,style:oe,onClickHandler:M.onPressEnter,onSelectHandler:M.selectItem,component:ht})}))}}]),X}(b.a.Component);function Tt(et,X){var rt=parseInt(getComputedStyle(X).getPropertyValue("height"),10),M=parseInt(getComputedStyle(et).getPropertyValue("height"),10)-rt,Q=X.offsetTop,ut=et.scrollTop;Q<ut+M&&ut<Q||(et.scrollTop=Q)}var $t="next",Y={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},ue=function(X){return console.error("RTA: dataProvider fails: ".concat(X,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},tr=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],Ce=function(X){return Z(X).map(function(rt){return tr.includes(rt)?"\\".concat(rt):rt}).join("")},ct=function(et){p(X,et);function X(){return u(this,X),l(this,s(X).apply(this,arguments))}return r(X,[{key:"componentDidMount",value:function(){var M=this.props.boundariesElement;if(typeof M=="string"){var Q=document.querySelector(M);if(!Q)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=Q}else if(M instanceof HTMLElement)this.containerElem=M;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var M,Q,ut=this.props.top||0,ht=this.props.left||0,Wt=[],bt=[],Bt=0,oe=0,re=this.containerElem.getBoundingClientRect(),ae=this.ref.getBoundingClientRect(),qt=this.props.textareaRef.getBoundingClientRect(),I=window.getComputedStyle(this.ref),Pt=parseInt(I.getPropertyValue("margin-top"),10),Dt=parseInt(I.getPropertyValue("margin-bottom"),10),F=parseInt(I.getPropertyValue("margin-left"),10),x=parseInt(I.getPropertyValue("margin-right"),10),O=Pt+Dt+qt.top+ut+ae.height,$=F+x+qt.left+ht+ae.width;$>re.right&&qt.left+ht>ae.width?(oe=ht-ae.width,Wt.push(Y.X.LEFT),bt.push(Y.X.RIGHT)):(oe=ht,Wt.push(Y.X.RIGHT),bt.push(Y.X.LEFT)),O>re.bottom&&qt.top+ut>ae.height?(Bt=ut-ae.height,Wt.push(Y.Y.TOP),bt.push(Y.Y.BOTTOM)):(Bt=ut,Wt.push(Y.Y.BOTTOM),bt.push(Y.Y.TOP)),this.props.renderToBody&&(Bt+=qt.top,oe+=qt.left),this.ref.style.top="".concat(Bt,"px"),this.ref.style.left="".concat(oe,"px"),(M=this.ref.classList).remove.apply(M,bt),(Q=this.ref.classList).add.apply(Q,Wt)}},{key:"render",value:function(){var M=this,Q=this.props,ut=Q.style,ht=Q.className,Wt=Q.innerRef,bt=Q.children,Bt=Q.renderToBody,oe=document.body,re=b.a.createElement("div",{ref:function(qt){M.ref=qt,Wt(qt)},className:"rta__autocomplete ".concat(ht||""),style:ut},bt);return Bt&&oe!==null?L.a.createPortal(re,oe):re}}]),X}(b.a.Component),Ut=function(et){p(X,et);function X(rt){var M;u(this,X),M=l(this,s(X).call(this,rt)),M.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},M.escListenerInit=function(){M.escListener||(M.escListener=At.add(ot.ESC,M._closeAutocomplete))},M.escListenerDestroy=function(){M.escListener&&(At.remove(M.escListener),M.escListener=null)},M.getSelectionPosition=function(){return M.textareaRef?{selectionStart:M.textareaRef.selectionStart,selectionEnd:M.textareaRef.selectionEnd}:null},M.getSelectedText=function(){if(!M.textareaRef)return null;var bt=M.textareaRef,Bt=bt.selectionStart,oe=bt.selectionEnd;return Bt===oe?null:M.state.value.substr(Bt,oe-Bt)},M.setCaretPosition=function(){var bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!M.textareaRef||(M.textareaRef.focus(),M.textareaRef.setSelectionRange(bt,bt))},M.getCaretPosition=function(){if(!M.textareaRef)return 0;var bt=M.textareaRef.selectionEnd;return bt},M._handleCaretChange=function(bt){var Bt=function(){var ae=M.getCaretPosition()-1;M.lastTrigger=M.lastTrigger?ae:0};if(bt.type==="keydown"){var oe=bt.keyCode||bt.which;switch(oe){case ot.UP:case ot.DOWN:M._isAutocompleteOpen()||Bt();break;case ot.LEFT:case ot.RIGHT:Bt();break;default:}return}Bt()},M._onSelect=function(bt){var Bt=M.state,oe=Bt.selectionEnd,re=Bt.currentTrigger,ae=Bt.value,qt=M.props.onItemSelected;if(!!re){var I=M._getTextToReplace(re);if(!I){M._closeAutocomplete();return}var Pt=I(bt);if(!Pt){M._closeAutocomplete();return}qt&&qt({currentTrigger:re,item:bt});var Dt=function(De,gr,er){switch(De){case"start":return er;case"next":case"end":return er+gr.length;default:if(!Number.isInteger(De))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return De}},F=ae.slice(0,oe),x=Ce(re),O=F.length-F.lastIndexOf(re),$=F.search(new RegExp("(?!".concat(x,")$")))-O,it=Pt.caretPosition==="next"?"".concat(Pt.text," "):Pt.text,pt=Dt(Pt.caretPosition,it,$),jt=F.substring(0,$)+it,ke=ae.replace(F,jt);M.setState({value:ke,dataLoading:!1},function(){var Te=M.tokenRegExpEnding.exec(it),De=Te?Te[0].length:1;M.lastTrigger=pt&&pt-De,M.textareaRef.value=ke,M.textareaRef.selectionEnd=pt,M._changeHandler();var gr=M.textareaRef.scrollTop;M.setCaretPosition(pt),window.chrome&&(M.textareaRef.scrollTop=gr)})}},M._getTextToReplace=function(bt){var Bt=M.props.trigger[bt];if(!bt||!Bt)return null;var oe=Bt.output;return function(re){if(typeof re=="object"&&(!oe||typeof oe!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(oe){var ae=oe(re,bt);if(ae===void 0||typeof ae=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(ae),'". Check the implementation for trigger "').concat(bt,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(ae===null)return null;if(typeof ae=="string")return{text:ae,caretPosition:$t};if(!ae.text&&typeof ae.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(bt,`"
`));if(!ae.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(bt,`"
`));return ae}if(typeof re!="string")throw new Error(`Output item should be string
`);return{text:"".concat(bt).concat(re).concat(bt),caretPosition:$t}}},M._getCurrentTriggerSettings=function(){var bt=M.state.currentTrigger;return bt?M.props.trigger[bt]:null},M._getValuesFromProvider=function(){var bt=M.state,Bt=bt.currentTrigger,oe=bt.actualToken,re=M._getCurrentTriggerSettings();if(!(!Bt||!re)){var ae=re.dataProvider,qt=re.component;if(typeof ae!="function")throw new Error("Trigger provider has to be a function!");M.setState({dataLoading:!0});var I=ae(oe);I instanceof Promise||(I=Promise.resolve(I)),I.then(function(Pt){if(!Array.isArray(Pt))throw new Error("Trigger provider has to provide an array!");if(typeof qt!="function")throw new Error("Component should be defined!");if(Bt===M.state.currentTrigger){if(!Pt.length){M._closeAutocomplete();return}M.setState({dataLoading:!1,data:Pt,component:qt})}}).catch(function(Pt){return ue(Pt.message)})}},M._getSuggestions=function(){var bt=M.state,Bt=bt.currentTrigger,oe=bt.data;return!Bt||!oe||oe&&!oe.length?null:oe},M._createRegExp=function(){var bt=M.props.trigger;M.tokenRegExp=new RegExp("(".concat(Object.keys(bt).sort(function(Bt,oe){return Bt<oe?1:Bt>oe?-1:0}).map(function(Bt){return Ce(Bt)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),M.tokenRegExpEnding=new RegExp("(".concat(Object.keys(bt).sort(function(Bt,oe){return Bt<oe?1:Bt>oe?-1:0}).map(function(Bt){return Ce(Bt)}).join("|"),")$"))},M._closeAutocomplete=function(){var bt=M.state.currentTrigger;M.escListenerDestroy(),M.setState({data:null,dataLoading:!1,currentTrigger:null},function(){bt&&M._onItemHighlightedHandler(null)})},M._cleanUpProps=function(){var bt=c({},M.props),Bt=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var oe in bt)Bt.includes(oe)&&delete bt[oe];return bt},M._changeHandler=function(bt){var Bt=M.props,oe=Bt.trigger,re=Bt.onChange,ae=Bt.minChar,qt=Bt.onCaretPositionChange,I=Bt.movePopupAsYouType,Pt=M.state,Dt=Pt.top,F=Pt.left,x=bt;x||(x=new wt.a("change",{bubbles:!0}),M.textareaRef.dispatchEvent(x));var O=x.target||M.textareaRef,$=O.selectionEnd,it=O.value;if(M.lastValueBubbledEvent=it,re&&x&&(x.persist&&x.persist(),re(new Proxy(x,{get:function(Xn,Si,Ii){return Si==="target"?O:Reflect.get(Xn,Si,Ii)}}))),qt){var pt=M.getCaretPosition();qt(pt)}M.setState({value:it});var jt=function(){var Xn=W()(O,$),Si=Xn.top,Ii=Xn.left;M.setState({top:Si-M.textareaRef.scrollTop||0,left:Ii})},ke=function(Xn){M.lastTrigger=$-Xn,M._closeAutocomplete(),jt()};if($<=M.lastTrigger){var Te=it.slice(0,$),De=M.tokenRegExp.exec(Te);ke(De?De[0].length:0)}var gr=it.slice(M.lastTrigger,$),er=M.tokenRegExp.exec(gr),Hr=er&&er[0],Jr=er&&er[1]||null,on=Jr?Jr.length-1:0,Dn=M.tokenRegExpEnding.exec(gr);if(Dn?ke(Dn[0].length):M._isAutocompleteOpen()||M._closeAutocomplete(),(!Hr||Hr.length<=ae+on)&&(M.state.currentTrigger&&!oe[M.state.currentTrigger].allowWhitespace||!M.state.currentTrigger)){M._closeAutocomplete();return}if(Jr&&oe[Jr].afterWhitespace&&!/\s/.test(it[$-Hr.length-1])&&it[$-Hr.length-1]!==void 0){M._closeAutocomplete();return}if(M.state.currentTrigger&&oe[M.state.currentTrigger].allowWhitespace){if(er=new RegExp("".concat(Ce(M.state.currentTrigger),".*$")).exec(it.slice(0,$)),Hr=er&&er[0],!Hr){M._closeAutocomplete();return}Jr=Object.keys(oe).find(function(Wn){return Wn.slice(0,on+1)===Hr.slice(0,on+1)})||null}var hn=Hr.slice(1);if(!!Jr){(I||Dt===null&&F===null||M.state.currentTrigger!==Jr)&&jt(),M.escListenerInit();var wn=M._getTextToReplace(Jr);M.setState({selectionEnd:$,currentTrigger:Jr,textToReplace:wn,actualToken:hn},function(){try{M._getValuesFromProvider()}catch(Wn){ue(Wn.message)}})}},M._selectHandler=function(bt){var Bt=M.props,oe=Bt.onCaretPositionChange,re=Bt.onSelect;if(oe){var ae=M.getCaretPosition();oe(ae)}re&&(bt.persist(),re(bt))},M._shouldStayOpen=function(bt){var Bt=bt.relatedTarget;return Bt===null&&(Bt=document.activeElement),!!(M.dropdownRef&&Bt instanceof Node&&M.dropdownRef.contains(Bt))},M._onClick=function(bt){var Bt=M.props.onClick;Bt&&(bt.persist(),Bt(bt)),!M._shouldStayOpen(bt)&&M._closeAutocomplete()},M._onBlur=function(bt){var Bt=M.props.onBlur;Bt&&(bt.persist(),Bt(bt)),!M._shouldStayOpen(bt)&&M._closeAutocomplete()},M._onScrollHandler=function(){M._closeAutocomplete()},M._onItemHighlightedHandler=function(bt){var Bt=M.props.onItemHighlighted,oe=M.state.currentTrigger;if(Bt)if(typeof Bt=="function")Bt({currentTrigger:oe,item:bt});else throw new Error("`onItemHighlighted` has to be a function")},M._dropdownScroll=function(bt){var Bt=M.props.scrollToItem;if(!!Bt){if(Bt===!0){Tt(M.dropdownRef,bt);return}if(typeof Bt!="function"||Bt.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");Bt(M.dropdownRef,bt)}},M._isAutocompleteOpen=function(){var bt=M.state,Bt=bt.dataLoading,oe=bt.currentTrigger,re=M._getSuggestions();return!!((Bt||re)&&oe)},M._textareaRef=function(bt){M.props.innerRef&&M.props.innerRef(bt),M.textareaRef=bt},M.lastTrigger=0,M.escListener=null;var Q=M.props,ut=Q.loadingComponent,ht=Q.trigger,Wt=Q.value;if(Wt&&(M.state.value=Wt),M._createRegExp(),!ut)throw new Error("RTA: loadingComponent is not defined");if(!ht)throw new Error("RTA: trigger is not defined");return M}return r(X,[{key:"componentDidMount",value:function(){At.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(M){var Q=M.trigger,ut=M.value,ht=this.props,Wt=ht.trigger,bt=ht.value;Object.keys(Wt).join("")!==Object.keys(Q).join("")&&this._createRegExp(),ut!==bt&&this.lastValueBubbledEvent!==bt&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),At.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var M=this,Q=this.props,ut=Q.loadingComponent,ht=Q.style,Wt=Q.className,bt=Q.listStyle,Bt=Q.itemStyle,oe=Q.boundariesElement,re=Q.movePopupAsYouType,ae=Q.listClassName,qt=Q.itemClassName,I=Q.dropdownClassName,Pt=Q.dropdownStyle,Dt=Q.containerStyle,F=Q.containerClassName,x=Q.loaderStyle,O=Q.loaderClassName,$=Q.textAreaComponent,it=Q.renderToBody,pt=this.state,jt=pt.left,ke=pt.top,Te=pt.dataLoading,De=pt.component,gr=pt.value,er=pt.textToReplace,Hr=this._isAutocompleteOpen(),Jr=this._getSuggestions(),on={},Dn;return $.component?(Dn=$.component,on[$.ref]=this._textareaRef):(Dn=$,on.ref=this._textareaRef),b.a.createElement("div",{className:"rta ".concat(Te===!0?"rta--loading":""," ").concat(F||""),style:Dt},b.a.createElement(Dn,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(Wt||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:gr,style:ht},on)),Hr&&b.a.createElement(ct,{innerRef:function(wn){M.dropdownRef=wn},top:ke,left:jt,style:Pt,className:I,movePopupAsYouType:re,boundariesElement:oe,textareaRef:this.textareaRef,renderToBody:it},Jr&&De&&er&&b.a.createElement(Le,{values:Jr,component:De,style:bt,className:ae,itemClassName:qt,itemStyle:Bt,getTextToReplace:er,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Te&&b.a.createElement("div",{className:"rta__loader ".concat(Jr!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(O||""),style:x},b.a.createElement(ut,{data:Jr}))))}}],[{key:"getDerivedStateFromProps",value:function(M){var Q=M.value;return Q==null?null:{value:Q}}}]),X}(b.a.Component);Ut.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},_r.a=Ut},QDO1:function(un,_r,Ne){"use strict";Ne.d(_r,"a",function(){return e}),Ne.d(_r,"b",function(){return r});var Ke=Ne("q1tI"),L=Ne.n(Ke),le=Ne("epSk"),W=Ne.n(le);function Ht(){return Ht=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s])}return t},Ht.apply(this,arguments)}var wt="#000000",G="rgba(255, 255, 255, 0.0)",b={radius:20,left:100,top:100,fill:G,stroke:wt},i={left:100,top:100,fill:G,stroke:wt,width:40,height:40,angle:0},c={points:[50,100,200,200],options:{left:170,top:150,stroke:wt}},u={type:"text",left:100,top:100,fontSize:16,fontFamily:"Arial",fill:wt},o=function(a,l,s,f,p,w){return{canvas:a,addCircle:function(){var z=new le.fabric.Circle(Ht({},b,{fill:l,stroke:s}));a.add(z)},addRectangle:function(){var z=new le.fabric.Rect(Ht({},i,{fill:l,stroke:s}));a.add(z)},addLine:function(){var z=new le.fabric.Line(c.points,Ht({},c.options,{stroke:s}));a.add(z)},addText:function(z){var Z=new le.fabric.Textbox(z,Ht({},u,{fill:s}));Z.set({text:z}),a.add(Z)},updateText:function(z){var Z=a.getActiveObjects();if(Z.length&&Z[0].type===u.type){var ot=Z[0];ot.set({text:z}),a.renderAll()}},deleteAll:function(){a.getObjects().forEach(function(z){return a.remove(z)}),a.discardActiveObject(),a.renderAll()},deleteSelected:function(){a.getActiveObjects().forEach(function(z){return a.remove(z)}),a.discardActiveObject(),a.renderAll()},fillColor:l,strokeColor:s,setFillColor:function(z){f(z),a.getActiveObjects().forEach(function(Z){return Z.set({fill:z})}),a.renderAll()},setStrokeColor:function(z){p(z),a.getActiveObjects().forEach(function(Z){if(Z.type===u.type){Z.set({fill:z});return}Z.set({stroke:z})}),a.renderAll()},zoomIn:function(){var z=a.getZoom();a.setZoom(z/w)},zoomOut:function(){var z=a.getZoom();a.setZoom(z*w)}}},r=function(a){a===void 0&&(a={});var l=a.scaleStep||.5,s=a,f=s.defaultFillColor,p=s.defaultStrokeColor,w=Object(Ke.useState)(null),A=w[0],z=w[1],Z=Object(Ke.useState)(f||G),ot=Z[0],Lt=Z[1],At=Object(Ke.useState)(p||wt),se=At[0],Le=At[1],Tt=Object(Ke.useState)([]),$t=Tt[0],Y=Tt[1];return Object(Ke.useEffect)(function(){var ue=function(Ce){Ce.on("selection:cleared",function(){Y([])}),Ce.on("selection:created",function(ct){Y(ct.selected)}),Ce.on("selection:updated",function(ct){Y(ct.selected)})};A&&ue(A)},[A]),{selectedObjects:$t,onReady:function(tr){console.log("Fabric canvas ready"),z(tr)},editor:A?o(A,ot,se,Lt,Le,l):void 0}},e=function(a){var l=a.className,s=a.onReady,f=Object(Ke.useRef)(null),p=Object(Ke.useRef)(null);return Object(Ke.useEffect)(function(){var w=new le.fabric.Canvas(f.current),A=function(){var ot,Lt;w.setHeight(((ot=p.current)===null||ot===void 0?void 0:ot.clientHeight)||0),w.setWidth(((Lt=p.current)===null||Lt===void 0?void 0:Lt.clientWidth)||0),w.renderAll()},z=function(){A()};return A(),window.addEventListener("resize",z,!1),s&&s(w),function(){w.dispose(),window.removeEventListener("resize",z)}},[]),L.a.createElement("div",{ref:p,className:l},L.a.createElement("canvas",{ref:f}))}},Qurx:function(un,_r,Ne){"use strict";var Ke=Ne("wx14"),L=Ne("Ff2n"),le=Ne("q1tI"),W=Ne.n(le),Ht=Ne("adzw"),wt=["fieldProps","proFieldProps"],G=["fieldProps","proFieldProps"],b="text",i=function(r){var e=r.fieldProps,t=r.proFieldProps,a=Object(L.a)(r,wt);return W.a.createElement(Ht.a,Object(Ke.a)({mode:"edit",valueType:b,fieldProps:e,filedConfig:{valueType:b},proFieldProps:t},a))},c=function(r){var e=r.fieldProps,t=r.proFieldProps,a=Object(L.a)(r,G);return W.a.createElement(Ht.a,Object(Ke.a)({mode:"edit",valueType:"password",fieldProps:e,proFieldProps:t,filedConfig:{valueType:b}},a))},u=i;u.Password=c,u.displayName="ProFormComponent",_r.a=u},ZEwP:function(un,_r,Ne){"use strict";var Ke=Ne("C4q1"),L=Ne.n(Ke),le=Ne("JhKR"),W=Ne.n(le),Ht=Ne("i680"),wt=Ne("hPry"),G=Ne.n(wt),b=function(B){var T,q,at,Ot,Gt=[];for(T=B.split(","),at=0,Ot=T.length;at<Ot;at+=1)q=T[at],q.length>0&&Gt.push(i(q));return Gt},i=function(B){var T=B,q,at={a:0,b:0,c:0},Ot=[],Gt=/(\[[^\]]+\])/g,Xt=/(#[^\#\s\+>~\.\[:\)]+)/g,ye=/(\.[^\s\+>~\.\[:\)]+)/g,Me=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,ne=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,je=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,Br=/([^\s\+>~\.\[:]+)/g;return q=function(tt,nt){var Et,Zt,me,Ue,rr,nr;if(tt.test(T))for(Et=T.match(tt),Zt=0,me=Et.length;Zt<me;Zt+=1)at[nt]+=1,Ue=Et[Zt],rr=T.indexOf(Ue),nr=Ue.length,Ot.push({selector:B.substr(rr,nr),type:nt,index:rr,length:nr}),T=T.replace(Ue,Array(nr+1).join(" "))},function(){var Rt=function(me){var Ue,rr,nr,He;if(me.test(T))for(Ue=T.match(me),rr=0,nr=Ue.length;rr<nr;rr+=1)He=Ue[rr],T=T.replace(He,Array(He.length+1).join("A"))},tt=/\\[0-9A-Fa-f]{6}\s?/g,nt=/\\[0-9A-Fa-f]{1,5}\s/g,Et=/\\./g;Rt(tt),Rt(nt),Rt(Et)}(),function(){var Rt=/{[^]*/gm,tt,nt,Et,Zt;if(Rt.test(T))for(tt=T.match(Rt),nt=0,Et=tt.length;nt<Et;nt+=1)Zt=tt[nt],T=T.replace(Zt,Array(Zt.length+1).join(" "))}(),q(Gt,"b"),q(Xt,"a"),q(ye,"b"),q(Me,"c"),q(ne,"b"),q(je,"b"),T=T.replace(/[\*\s\+>~]/g," "),T=T.replace(/[#\.]/g," "),T=T.replace(/:not/g,"    "),T=T.replace(/:local/g,"      "),T=T.replace(/:global/g,"       "),T=T.replace(/[\(\)]/g," "),q(Br,"c"),Ot.sort(function(Rt,tt){return Rt.index-tt.index}),{selector:B,specificity:"0,"+at.a.toString()+","+at.b.toString()+","+at.c.toString(),specificityArray:[0,at.a,at.b,at.c],parts:Ot}},c=function(B,T){var q,at,Ot;if(typeof B=="string"){if(B.indexOf(",")!==-1)throw"Invalid CSS selector";q=i(B).specificityArray}else if(Array.isArray(B)){if(B.filter(function(Gt){return typeof Gt=="number"}).length!==4)throw"Invalid specificity array";q=B}else throw"Invalid CSS selector or specificity array";if(typeof T=="string"){if(T.indexOf(",")!==-1)throw"Invalid CSS selector";at=i(T).specificityArray}else if(Array.isArray(T)){if(T.filter(function(Gt){return typeof Gt=="number"}).length!==4)throw"Invalid specificity array";at=T}else throw"Invalid CSS selector or specificity array";for(Ot=0;Ot<4;Ot+=1){if(q[Ot]<at[Ot])return-1;if(q[Ot]>at[Ot])return 1}return 0};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u=function(B,T){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,at){q.__proto__=at}||function(q,at){for(var Ot in at)at.hasOwnProperty(Ot)&&(q[Ot]=at[Ot])})(B,T)};function o(K,B){function T(){this.constructor=K}u(K,B),K.prototype=B===null?Object.create(B):(T.prototype=B.prototype,new T)}var r=function(){return(r=Object.assign||function(B){for(var T,q=1,at=arguments.length;q<at;q++)for(var Ot in T=arguments[q])Object.prototype.hasOwnProperty.call(T,Ot)&&(B[Ot]=T[Ot]);return B}).apply(this,arguments)};function e(K,B,T,q){return new(T||(T=Promise))(function(at,Ot){function Gt(Me){try{ye(q.next(Me))}catch(ne){Ot(ne)}}function Xt(Me){try{ye(q.throw(Me))}catch(ne){Ot(ne)}}function ye(Me){var ne;Me.done?at(Me.value):(ne=Me.value,ne instanceof T?ne:new T(function(je){je(ne)})).then(Gt,Xt)}ye((q=q.apply(K,B||[])).next())})}function t(K,B){var T,q,at,Ot,Gt={label:0,sent:function(){if(1&at[0])throw at[1];return at[1]},trys:[],ops:[]};return Ot={next:Xt(0),throw:Xt(1),return:Xt(2)},typeof Symbol=="function"&&(Ot[Symbol.iterator]=function(){return this}),Ot;function Xt(ye){return function(Me){return function(ne){if(T)throw new TypeError("Generator is already executing.");for(;Gt;)try{if(T=1,q&&(at=2&ne[0]?q.return:ne[0]?q.throw||((at=q.return)&&at.call(q),0):q.next)&&!(at=at.call(q,ne[1])).done)return at;switch(q=0,at&&(ne=[2&ne[0],at.value]),ne[0]){case 0:case 1:at=ne;break;case 4:return Gt.label++,{value:ne[1],done:!1};case 5:Gt.label++,q=ne[1],ne=[0];continue;case 7:ne=Gt.ops.pop(),Gt.trys.pop();continue;default:if(at=Gt.trys,!((at=at.length>0&&at[at.length-1])||ne[0]!==6&&ne[0]!==2)){Gt=0;continue}if(ne[0]===3&&(!at||ne[1]>at[0]&&ne[1]<at[3])){Gt.label=ne[1];break}if(ne[0]===6&&Gt.label<at[1]){Gt.label=at[1],at=ne;break}if(at&&Gt.label<at[2]){Gt.label=at[2],Gt.ops.push(ne);break}at[2]&&Gt.ops.pop(),Gt.trys.pop();continue}ne=B.call(K,Gt)}catch(je){ne=[6,je],q=0}finally{T=at=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ye,Me])}}}var a=function(){function K(B){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,B){for(var T in B.charAt(0)=="#"&&(B=B.substr(1,6)),B=(B=B.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)B==T&&(B=this.simpleColors[T]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Me){return[parseInt(Me[1]),parseInt(Me[2]),parseInt(Me[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Me){return[parseInt(Me[1],16),parseInt(Me[2],16),parseInt(Me[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Me){return[parseInt(Me[1]+Me[1],16),parseInt(Me[2]+Me[2],16),parseInt(Me[3]+Me[3],16)]}}];for(var q=0;q<this.colorDefs.length;q++){var at=this.colorDefs[q].re,Ot=this.colorDefs[q].process,Gt=at.exec(B);if(Gt){var Xt=Ot(Gt);this.r=Xt[0],this.g=Xt[1],this.b=Xt[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return K.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},K.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},K.prototype.toHex=function(){var B=this.r.toString(16),T=this.g.toString(16),q=this.b.toString(16);return B.length==1&&(B="0"+B),T.length==1&&(T="0"+T),q.length==1&&(q="0"+q),"#"+B+T+q},K.prototype.getHelpXML=function(){for(var B=[],T=0;T<this.colorDefs.length;T++)for(var q=this.colorDefs[T].example,at=0;at<q.length;at++)B[B.length]=q[at];for(var Ot in this.simpleColors)B[B.length]=Ot;var Gt=document.createElement("ul");for(Gt.setAttribute("id","rgbcolor-examples"),T=0;T<B.length;T++)try{var Xt=document.createElement("li"),ye=new K(B[T]),Me=document.createElement("div");Me.style.cssText="margin: 3px; border: 1px solid black; background:"+ye.toHex()+"; color:"+ye.toHex(),Me.appendChild(document.createTextNode("test"));var ne=document.createTextNode(" "+B[T]+" -> "+ye.toRGB()+" -> "+ye.toHex());Xt.appendChild(Me),Xt.appendChild(ne),Gt.appendChild(Xt)}catch(je){}return Gt},K}(),l=function(){function K(B){this.color=B}return K.prototype.getFillData=function(B,T){return e(this,void 0,void 0,function(){return t(this,function(q){return[2,void 0]})})},K}(),s=function(){function K(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return K.prototype.clone=function(){var B=new K;return B.xmlSpace=this.xmlSpace,B.fill=this.fill,B.fillOpacity=this.fillOpacity,B.fontFamily=this.fontFamily,B.fontSize=this.fontSize,B.fontStyle=this.fontStyle,B.fontWeight=this.fontWeight,B.opacity=this.opacity,B.stroke=this.stroke,B.strokeDasharray=this.strokeDasharray,B.strokeDashoffset=this.strokeDashoffset,B.strokeLinecap=this.strokeLinecap,B.strokeLinejoin=this.strokeLinejoin,B.strokeMiterlimit=this.strokeMiterlimit,B.strokeOpacity=this.strokeOpacity,B.strokeWidth=this.strokeWidth,B.textAnchor=this.textAnchor,B.alignmentBaseline=this.alignmentBaseline,B.visibility=this.visibility,B.color=this.color,B},K.default=function(){var B=new K;return B.xmlSpace="default",B.fill=new l(new a("rgb(0, 0, 0)")),B.fillOpacity=1,B.fontFamily="times",B.fontSize=16,B.fontStyle="normal",B.fontWeight="normal",B.opacity=1,B.stroke=null,B.strokeDasharray=null,B.strokeDashoffset=0,B.strokeLinecap="butt",B.strokeLinejoin="miter",B.strokeMiterlimit=4,B.strokeOpacity=1,B.strokeWidth=1,B.alignmentBaseline="baseline",B.textAnchor="start",B.visibility="visible",B.color=new a("rgb(0, 0, 0)"),B},K}(),f=/url\(["']?#([^"']+)["']?\)/,p={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},w=function(){function K(){this.measureMethods={}}return K.prototype.getTextOffset=function(B,T){var q=T.textAnchor;if(q==="start")return 0;var at=this.measureTextWidth(B,T),Ot=0;switch(q){case"end":Ot=at;break;case"middle":Ot=at/2}return Ot},K.prototype.measureTextWidth=function(B,T){if(B.length===0)return 0;var q=T.fontFamily;return this.getMeasureFunction(q).call(this,B,T.fontFamily,T.fontSize+"px",T.fontStyle,T.fontWeight)},K.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.appendChild(this.textMeasuringTextElement),B.style.setProperty("position","absolute"),B.style.setProperty("visibility","hidden"),document.body.appendChild(B)}return this.textMeasuringTextElement},K.prototype.canvasTextMeasure=function(B,T,q,at,Ot){var Gt=document.createElement("canvas").getContext("2d");return Gt!=null?(Gt.font=[at,Ot,q,T].join(" "),Gt.measureText(B).width):0},K.prototype.svgTextMeasure=function(B,T,q,at,Ot,Gt){Gt===void 0&&(Gt=this.getMeasurementTextNode());var Xt=Gt;return Xt.setAttribute("font-family",T),Xt.setAttribute("font-size",q),Xt.setAttribute("font-style",at),Xt.setAttribute("font-weight",Ot),Xt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Xt.textContent=B,Xt.getBBox().width},K.prototype.getMeasureFunction=function(B){var T=this.measureMethods[B];if(!T){var q=this.canvasTextMeasure(K.testString,B,"16px","normal","normal"),at=this.svgTextMeasure(K.testString,B,"16px","normal","normal");T=Math.abs(q-at)<K.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[B]=T}return T},K.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var B=this.textMeasuringTextElement.parentNode;B&&document.body.removeChild(B),this.textMeasuringTextElement=void 0}},K.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,K.epsilon=.1,K}(),A=function(){function K(B,T){var q,at,Ot,Gt,Xt,ye;this.pdf=B,this.svg2pdfParameters=T.svg2pdfParameters,this.attributeState=T.attributeState?T.attributeState.clone():s.default(),this.viewport=T.viewport,this.refsHandler=(q=T.refsHandler)!==null&&q!==void 0?q:null,this.styleSheets=(at=T.styleSheets)!==null&&at!==void 0?at:null,this.textMeasure=(Ot=T.textMeasure)!==null&&Ot!==void 0?Ot:new w,this.transform=(Gt=T.transform)!==null&&Gt!==void 0?Gt:this.pdf.unitMatrix,this.withinClipPath=(Xt=T.withinClipPath)!==null&&Xt!==void 0&&Xt,this.withinUse=(ye=T.withinUse)!==null&&ye!==void 0&&ye}return K.prototype.clone=function(B){var T,q,at,Ot,Gt,Xt,ye,Me;return B===void 0&&(B={}),new K(this.pdf,{svg2pdfParameters:(T=B.svg2pdfParameters)!==null&&T!==void 0?T:this.svg2pdfParameters,attributeState:B.attributeState?B.attributeState.clone():this.attributeState.clone(),viewport:(q=B.viewport)!==null&&q!==void 0?q:this.viewport,refsHandler:(at=B.refsHandler)!==null&&at!==void 0?at:this.refsHandler,styleSheets:(Ot=B.styleSheets)!==null&&Ot!==void 0?Ot:this.styleSheets,textMeasure:(Gt=B.textMeasure)!==null&&Gt!==void 0?Gt:this.textMeasure,transform:(Xt=B.transform)!==null&&Xt!==void 0?Xt:this.transform,withinClipPath:(ye=B.withinClipPath)!==null&&ye!==void 0?ye:this.withinClipPath,withinUse:(Me=B.withinUse)!==null&&Me!==void 0?Me:this.withinUse})},K}(),z=function(){function K(B){this.renderedElements={},this.idMap=B,this.idPrefix=String(K.instanceCounter++)}return K.prototype.getRendered=function(B,T,q){return e(this,void 0,void 0,function(){var at,Ot;return t(this,function(Gt){switch(Gt.label){case 0:return at=this.generateKey(B,T),this.renderedElements.hasOwnProperty(at)?[2,this.renderedElements[B]]:(Ot=this.get(B),this.renderedElements[at]=Ot,[4,q(Ot)]);case 1:return Gt.sent(),[2,Ot]}})})},K.prototype.get=function(B){return this.idMap[L()(B,{isIdentifier:!0})]},K.prototype.generateKey=function(B,T){return this.idPrefix+"|"+B+"|"+(T||new a("rgb(0,0,0)")).toRGBA()},K.instanceCounter=0,K}();function Z(K,B){return Math.atan2(B[1]-K[1],B[0]-K[0])}function ot(K,B){return[2/3*(B[0]-K[0])+K[0],2/3*(B[1]-K[1])+K[1]]}function Lt(K){var B=Math.sqrt(K[0]*K[0]+K[1]*K[1]);return[K[0]/B,K[1]/B]}function At(K,B){return Lt([B[0]-K[0],B[1]-K[1]])}function se(K,B){return[K[0]+B[0],K[1]+B[1]]}function Le(K,B){var T=K[0],q=K[1];return[B.a*T+B.c*q+B.e,B.b*T+B.d*q+B.f]}var Tt=function(){function K(){this.segments=[]}return K.prototype.moveTo=function(B,T){return this.segments.push(new $t(B,T)),this},K.prototype.lineTo=function(B,T){return this.segments.push(new Y(B,T)),this},K.prototype.curveTo=function(B,T,q,at,Ot,Gt){return this.segments.push(new ue(B,T,q,at,Ot,Gt)),this},K.prototype.close=function(){return this.segments.push(new tr),this},K.prototype.transform=function(B){this.segments.forEach(function(T){if(T instanceof $t||T instanceof Y||T instanceof ue){var q=Le([T.x,T.y],B);T.x=q[0],T.y=q[1]}if(T instanceof ue){var at=Le([T.x1,T.y1],B),Ot=Le([T.x2,T.y2],B);T.x1=at[0],T.y1=at[1],T.x2=Ot[0],T.y2=Ot[1]}})},K.prototype.draw=function(B){var T=B.pdf;this.segments.forEach(function(q){q instanceof $t?T.moveTo(q.x,q.y):q instanceof Y?T.lineTo(q.x,q.y):q instanceof ue?T.curveTo(q.x1,q.y1,q.x2,q.y2,q.x,q.y):T.close()})},K}(),$t=function(B,T){this.x=B,this.y=T},Y=function(B,T){this.x=B,this.y=T},ue=function(B,T,q,at,Ot,Gt){this.x1=B,this.y1=T,this.x2=q,this.y2=at,this.x=Ot,this.y=Gt},tr=function(){};function Ce(K,B){return B.split(",").indexOf((K.nodeName||K.tagName).toLowerCase())>=0}function ct(K,B,T,q){q===void 0&&(q=T);var at=K.style.getPropertyValue(q);if(at)return at;var Ot=B.getPropertyValue(K,q);return Ot||K.hasAttribute(T)&&K.getAttribute(T)||void 0}function Ut(K,B,T){if(ct(K.element,T.styleSheets,"display")==="none")return!1;var q=B,at=ct(K.element,T.styleSheets,"visibility");return at&&(q=at!=="hidden"),q}function et(K,B,T){var q=Ut(K,B,T);return K.element.childNodes.length!==0&&(K.children.forEach(function(at){at.isVisible(q,T)&&(q=!0)}),q)}var X=function(){function K(){this.markers=[]}return K.prototype.addMarker=function(B){this.markers.push(B)},K.prototype.draw=function(B){return e(this,void 0,void 0,function(){var T,q,at,Ot,Gt,Xt,ye;return t(this,function(Me){switch(Me.label){case 0:T=0,Me.label=1;case 1:return T<this.markers.length?(q=this.markers[T],at=void 0,Ot=q.angle,Gt=q.anchor,Xt=Math.cos(Ot),ye=Math.sin(Ot),at=B.pdf.Matrix(Xt,ye,-ye,Xt,Gt[0],Gt[1]),at=B.pdf.matrixMult(B.pdf.Matrix(B.attributeState.strokeWidth,0,0,B.attributeState.strokeWidth,0,0),at),at=B.pdf.matrixMult(at,B.transform),B.pdf.saveGraphicsState(),[4,B.refsHandler.getRendered(q.id,null,function(ne){return ne.apply(B)})]):[3,4];case 2:Me.sent(),B.pdf.doFormObject(q.id,at),B.pdf.restoreGraphicsState(),Me.label=3;case 3:return T++,[3,1];case 4:return[2]}})})},K}(),rt=function(B,T,q){this.id=B,this.anchor=T,this.angle=q};function M(K,B){var T;return(T=K&&K.toString().match(/^([\-0-9.]+)em$/))?parseFloat(T[1])*B:(T=K&&K.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(T[1]):0}function Q(K){return p[K]||"alphabetic"}function ut(K){for(var B,T=[],q=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;B=q.exec(K);)T.push(parseFloat(B[0]));return T}function ht(K,B){if(K==="transparent"){var T=new a("rgb(0,0,0)");return T.a=0,T}if(K.toLowerCase()==="currentcolor")return B||new a("rgb(0,0,0)");var q=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(K);if(q){var at=ut(q[1]),Ot=new a("rgb("+at.slice(0,3).join(",")+")");return Ot.a=at[3],Ot}return new a(K)}var Wt={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},bt,Bt=(bt=Ht.d.version.split("."),parseFloat(bt[0])===2&&parseFloat(bt[1])===3);function oe(K,B){return Bt?B==400?K=="italic"?"italic":"normal":B==700&&K!=="italic"?"bold":K+""+B:B==400||B==="normal"?K==="italic"?"italic":"normal":B!=700&&B!=="bold"||K!=="normal"?(B==700?"bold":B)+""+K:"bold"}function re(K,B){if(ct(B.element,K.styleSheets,"display")==="none")return[0,0,0,0];var T=[0,0,0,0];return B.children.forEach(function(q){var at=q.getBoundingBox(K);T=[Math.min(T[0],at[0]),Math.min(T[1],at[1]),Math.max(T[0]+T[2],at[0]+at[2])-Math.min(T[0],at[0]),Math.max(T[1]+T[3],at[1]+at[3])-Math.min(T[1],at[1])]}),T}function ae(K,B){var T=parseFloat,q=T(K.getAttribute("x1"))||T(ct(K,B.styleSheets,"x"))||T(ct(K,B.styleSheets,"cx"))-T(ct(K,B.styleSheets,"r"))||0,at=T(K.getAttribute("x2"))||q+T(ct(K,B.styleSheets,"width"))||T(ct(K,B.styleSheets,"cx"))+T(ct(K,B.styleSheets,"r"))||0,Ot=T(K.getAttribute("y1"))||T(ct(K,B.styleSheets,"y"))||T(ct(K,B.styleSheets,"cy"))-T(ct(K,B.styleSheets,"r"))||0,Gt=T(K.getAttribute("y2"))||Ot+T(ct(K,B.styleSheets,"height"))||T(ct(K,B.styleSheets,"cy"))+T(ct(K,B.styleSheets,"r"))||0;return[Math.min(q,at),Math.min(Ot,Gt),Math.max(q,at)-Math.min(q,at),Math.max(Ot,Gt)-Math.min(Ot,Gt)]}function qt(K,B,T,q,at,Ot,Gt,Xt){Xt===void 0&&(Xt=!1);var ye,Me,ne=B[0],je=B[1],Br=B[2],Rt=B[3],tt=at/Br,nt=Ot/Rt,Et=K.getAttribute("preserveAspectRatio");if(Et){var Zt=Et.split(" ");Zt[0]==="defer"&&(Zt=Zt.slice(1)),ye=Zt[0],Me=Zt[1]||"meet"}else ye="xMidYMid",Me="meet";if(ye!=="none"&&(Me==="meet"?tt=nt=Math.min(tt,nt):Me==="slice"&&(tt=nt=Math.max(tt,nt))),Xt)return Gt.pdf.Matrix(tt,0,0,nt,0,0);var me=T-ne*tt,Ue=q-je*nt;ye.indexOf("xMid")>=0?me+=(at-Br*tt)/2:ye.indexOf("xMax")>=0&&(me+=at-Br*tt),ye.indexOf("YMid")>=0?Ue+=(Ot-Rt*nt)/2:ye.indexOf("YMax")>=0&&(Ue+=Ot-Rt*nt);var rr=Gt.pdf.Matrix(1,0,0,1,me,Ue),nr=Gt.pdf.Matrix(tt,0,0,nt,0,0);return Gt.pdf.matrixMult(nr,rr)}function I(K,B){if(!K||K==="none")return B.pdf.unitMatrix;for(var T,q,at=/^[\s,]*matrix\(([^)]+)\)\s*/,Ot=/^[\s,]*translate\(([^)]+)\)\s*/,Gt=/^[\s,]*rotate\(([^)]+)\)\s*/,Xt=/^[\s,]*scale\(([^)]+)\)\s*/,ye=/^[\s,]*skewX\(([^)]+)\)\s*/,Me=/^[\s,]*skewY\(([^)]+)\)\s*/,ne=B.pdf.unitMatrix;K.length>0&&K.length!==q;){q=K.length;var je=at.exec(K);if(je&&(T=ut(je[1]),ne=B.pdf.matrixMult(B.pdf.Matrix(T[0],T[1],T[2],T[3],T[4],T[5]),ne),K=K.substr(je[0].length)),je=Gt.exec(K)){T=ut(je[1]);var Br=Math.PI*T[0]/180;if(ne=B.pdf.matrixMult(B.pdf.Matrix(Math.cos(Br),Math.sin(Br),-Math.sin(Br),Math.cos(Br),0,0),ne),T[1]||T[2]){var Rt=B.pdf.Matrix(1,0,0,1,T[1],T[2]),tt=B.pdf.Matrix(1,0,0,1,-T[1],-T[2]);ne=B.pdf.matrixMult(tt,B.pdf.matrixMult(ne,Rt))}K=K.substr(je[0].length)}(je=Ot.exec(K))&&(T=ut(je[1]),ne=B.pdf.matrixMult(B.pdf.Matrix(1,0,0,1,T[0],T[1]||0),ne),K=K.substr(je[0].length)),(je=Xt.exec(K))&&((T=ut(je[1]))[1]||(T[1]=T[0]),ne=B.pdf.matrixMult(B.pdf.Matrix(T[0],0,0,T[1],0,0),ne),K=K.substr(je[0].length)),(je=ye.exec(K))&&(T=parseFloat(je[1]),T*=Math.PI/180,ne=B.pdf.matrixMult(B.pdf.Matrix(1,0,Math.tan(T),1,0,0),ne),K=K.substr(je[0].length)),(je=Me.exec(K))&&(T=parseFloat(je[1]),T*=Math.PI/180,ne=B.pdf.matrixMult(B.pdf.Matrix(1,Math.tan(T),0,1,0,0),ne),K=K.substr(je[0].length))}return ne}var Pt=function(){function K(B,T){this.element=B,this.children=T,this.parent=null}return K.prototype.setParent=function(B){this.parent=B},K.prototype.getParent=function(){return this.parent},K.prototype.getBoundingBox=function(B){return ct(this.element,B.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(B)},K.prototype.computeNodeTransform=function(B){var T=this.computeNodeTransformCore(B),q=ct(this.element,B.styleSheets,"transform");return q?B.pdf.matrixMult(T,I(q,B)):T},K}(),Dt=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.render=function(T){return Promise.resolve()},B.prototype.getBoundingBoxCore=function(T){return[]},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B}(Pt),F=function(K){function B(T,q,at){var Ot=K.call(this,q,at)||this;return Ot.pdfGradientType=T,Ot.contextColor=void 0,Ot}return o(B,K),B.prototype.apply=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt,ye;return t(this,function(Me){return(q=this.element.getAttribute("id"))?(at=this.getStops(T.styleSheets),Ot=0,Gt=!1,at.forEach(function(ne){var je=ne.opacity;je&&je!==1&&(Ot+=je,Gt=!0)}),Gt&&(Xt=new Ht.a({opacity:Ot/at.length})),ye=new Ht.b(this.pdfGradientType,this.getCoordinates(),at,Xt),T.pdf.addShadingPattern(q,ye),[2]):[2]})})},B.prototype.getStops=function(T){var q=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var at=this;at;){var Ot=ct(at.element,T,"color");if(Ot){this.contextColor=ht(Ot,null);break}at=at.getParent()}}var Gt=[];return this.children.forEach(function(Xt){if(Xt.element.tagName.toLowerCase()==="stop"){var ye=ct(Xt.element,T,"color"),Me=ht(ct(Xt.element,T,"stop-color")||"",ye?ht(ye,null):q.contextColor),ne=parseFloat(ct(Xt.element,T,"stop-opacity")||"1");Gt.push({offset:B.parseGradientOffset(Xt.element.getAttribute("offset")||"0"),color:[Me.r,Me.g,Me.b],opacity:ne})}}),this.stops=Gt},B.prototype.getBoundingBoxCore=function(T){return ae(this.element,T)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return et(this,T,q)},B.parseGradientOffset=function(T){var q=parseFloat(T);return!isNaN(q)&&T.indexOf("%")>=0?q/100:q},B}(Dt),x=function(K){function B(T,q){return K.call(this,"axial",T,q)||this}return o(B,K),B.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},B}(F),O=function(K){function B(T,q){return K.call(this,"radial",T,q)||this}return o(B,K),B.prototype.getCoordinates=function(){var T=this.element.getAttribute("cx"),q=this.element.getAttribute("cy"),at=this.element.getAttribute("fx"),Ot=this.element.getAttribute("fy");return[parseFloat(at||T||"0.5"),parseFloat(Ot||q||"0.5"),0,parseFloat(T||"0.5"),parseFloat(q||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},B}(F),$=function(){function K(B,T){this.key=B,this.gradient=T}return K.prototype.getFillData=function(B,T){return e(this,void 0,void 0,function(){var q,at,Ot;return t(this,function(Gt){switch(Gt.label){case 0:return[4,T.refsHandler.getRendered(this.key,null,function(Xt){return Xt.apply(new A(T.pdf,{refsHandler:T.refsHandler,textMeasure:T.textMeasure,styleSheets:T.styleSheets,viewport:T.viewport,svg2pdfParameters:T.svg2pdfParameters}))})];case 1:return Gt.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?q=T.pdf.unitMatrix:(at=B.getBoundingBox(T),q=T.pdf.Matrix(at[2],0,0,at[3],at[0],at[1])),Ot=I(ct(this.gradient.element,T.styleSheets,"gradientTransform","transform"),T),[2,{key:this.key,matrix:T.pdf.matrixMult(Ot,q)}]}})})},K}(),it=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.apply=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt;return t(this,function(ye){switch(ye.label){case 0:if(!(q=this.element.getAttribute("id")))return[2];at=this.getBoundingBox(T),Ot=new Ht.c([at[0],at[1],at[0]+at[2],at[1]+at[3]],at[2],at[3]),T.pdf.beginTilingPattern(Ot),Gt=0,Xt=this.children,ye.label=1;case 1:return Gt<Xt.length?[4,Xt[Gt].render(new A(T.pdf,{attributeState:T.attributeState,refsHandler:T.refsHandler,styleSheets:T.styleSheets,viewport:T.viewport,svg2pdfParameters:T.svg2pdfParameters}))]:[3,4];case 2:ye.sent(),ye.label=3;case 3:return Gt++,[3,1];case 4:return T.pdf.endTilingPattern(q,Ot),[2]}})})},B.prototype.getBoundingBoxCore=function(T){return ae(this.element,T)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return et(this,T,q)},B}(Dt),pt=function(){function K(B,T){this.key=B,this.pattern=T}return K.prototype.getFillData=function(B,T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt,ye,Me,ne,je,Br,Rt,tt;return t(this,function(nt){switch(nt.label){case 0:return[4,T.refsHandler.getRendered(this.key,null,function(Et){return Et.apply(new A(T.pdf,{refsHandler:T.refsHandler,textMeasure:T.textMeasure,styleSheets:T.styleSheets,viewport:T.viewport,svg2pdfParameters:T.svg2pdfParameters}))})];case 1:return nt.sent(),q={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},Ot=T.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(at=B.getBoundingBox(T),Ot=T.pdf.Matrix(1,0,0,1,at[0],at[1]),Xt=this.pattern.getBoundingBox(T),ye=Xt[0]*at[0]||0,Me=Xt[1]*at[1]||0,ne=Xt[2]*at[2]||0,je=Xt[3]*at[3]||0,q.boundingBox=[ye,Me,ye+ne,Me+je],q.xStep=ne,q.yStep=je),Gt=T.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(at||(at=B.getBoundingBox(T)),Gt=T.pdf.Matrix(at[2],0,0,at[3],0,0),Xt=q.boundingBox||this.pattern.getBoundingBox(T),ye=Xt[0]/at[0]||0,Me=Xt[1]/at[1]||0,ne=Xt[2]/at[2]||0,je=Xt[3]/at[3]||0,q.boundingBox=[ye,Me,ye+ne,Me+je],q.xStep=ne,q.yStep=je),Br=T.pdf.unitMatrix,(Rt=ct(this.pattern.element,T.styleSheets,"patternTransform","transform"))&&(Br=I(Rt,T)),tt=Gt,tt=T.pdf.matrixMult(tt,Ot),tt=T.pdf.matrixMult(tt,Br),tt=T.pdf.matrixMult(tt,T.transform),q.matrix=tt,[2,q]}})})},K}();function jt(K,B){var T=f.exec(K);if(T){var q=T[1],at=B.refsHandler.get(q);return at&&(at instanceof x||at instanceof O)?function(Gt,Xt,ye){var Me=Xt.getStops(ye.styleSheets);if(Me.length===0)return null;if(Me.length===1){var ne=Me[0].color,je=new a;return je.ok=!0,je.r=ne[0],je.g=ne[1],je.b=ne[2],je.a=Me[0].opacity,new l(je)}return new $(Gt,Xt)}(q,at,B):at&&at instanceof it?new pt(q,at):new l(new a("rgb(0, 0, 0)"))}var Ot=ht(K,B.attributeState.color);return Ot.ok?new l(Ot):null}function ke(K,B,T){var q=T||B.element,at=ct(q,K.styleSheets,"color");if(at){var Ot=ht(at,K.attributeState.color);Ot.ok?K.attributeState.color=Ot:K.attributeState.color=new a("rgb(0,0,0)")}var Gt=ct(q,K.styleSheets,"visibility");Gt&&(K.attributeState.visibility=Gt);var Xt=ct(q,K.styleSheets,"fill");Xt&&(K.attributeState.fill=jt(Xt,K));var ye=ct(q,K.styleSheets,"fill-opacity");ye&&(K.attributeState.fillOpacity=parseFloat(ye));var Me=ct(q,K.styleSheets,"stroke-opacity");Me&&(K.attributeState.strokeOpacity=parseFloat(Me));var ne=ct(q,K.styleSheets,"opacity");ne&&(K.attributeState.opacity=parseFloat(ne));var je=ct(q,K.styleSheets,"stroke-width");je!==void 0&&je!==""&&(K.attributeState.strokeWidth=Math.abs(parseFloat(je)));var Br=ct(q,K.styleSheets,"stroke");if(Br)if(Br==="none")K.attributeState.stroke=null;else{var Rt=ht(Br,K.attributeState.color);Rt.ok&&(K.attributeState.stroke=new l(Rt))}var tt=ct(q,K.styleSheets,"stroke-linecap");tt&&(K.attributeState.strokeLinecap=tt);var nt=ct(q,K.styleSheets,"stroke-linejoin");nt&&(K.attributeState.strokeLinejoin=nt);var Et=ct(q,K.styleSheets,"stroke-dasharray");if(Et){var Zt=parseInt(ct(q,K.styleSheets,"stroke-dashoffset")||"0");K.attributeState.strokeDasharray=ut(Et),K.attributeState.strokeDashoffset=Zt}var me=ct(q,K.styleSheets,"stroke-miterlimit");me!==void 0&&me!==""&&(K.attributeState.strokeMiterlimit=parseFloat(me));var Ue=q.getAttribute("xml:space");Ue&&(K.attributeState.xmlSpace=Ue);var rr=ct(q,K.styleSheets,"font-weight");rr&&(K.attributeState.fontWeight=rr);var nr=ct(q,K.styleSheets,"font-style");nr&&(K.attributeState.fontStyle=nr);var He=ct(q,K.styleSheets,"font-family");if(He){var Sr=W.a.parse(He);K.attributeState.fontFamily=function(Qr,yn,Vn){var Fn=oe(Qr.fontStyle,Qr.fontWeight),k=Vn.pdf.getFontList(),g="";return yn.some(function(v){var _=k[v];return _&&_.indexOf(Fn)>=0?(g=v,!0):(v=v.toLowerCase(),!!Wt.hasOwnProperty(v)&&(g=v,!0))})||(g="times"),g}(K.attributeState,Sr,K)}var br=ct(q,K.styleSheets,"font-size");if(br){var ln=K.pdf.getFontSize();K.attributeState.fontSize=M(br,ln)}var $r=ct(q,K.styleSheets,"vertical-align")||ct(q,K.styleSheets,"alignment-baseline");if($r){var Rr=$r.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);Rr&&(K.attributeState.alignmentBaseline=Rr[0])}var Sn=ct(q,K.styleSheets,"text-anchor");Sn&&(K.attributeState.textAnchor=Sn)}function Te(K,B,T){var q=1,at=1;q*=K.attributeState.fillOpacity,q*=K.attributeState.opacity,K.attributeState.fill instanceof l&&K.attributeState.fill.color.a!==void 0&&(q*=K.attributeState.fill.color.a),at*=K.attributeState.strokeOpacity,at*=K.attributeState.opacity,K.attributeState.stroke instanceof l&&K.attributeState.stroke.color.a!==void 0&&(at*=K.attributeState.stroke.color.a);var Ot,Gt,Xt=q<1,ye=at<1;if(Ce(T,"use")?(Xt=!0,ye=!0,q*=K.attributeState.fill?1:0,at*=K.attributeState.stroke?1:0):K.withinUse&&(K.attributeState.fill!==B.attributeState.fill?(Xt=!0,q*=K.attributeState.fill?1:0):Xt&&!K.attributeState.fill&&(q=0),K.attributeState.stroke!==B.attributeState.stroke?(ye=!0,at*=K.attributeState.stroke?1:0):ye&&!K.attributeState.stroke&&(at=0)),Xt||ye){var Me={};Xt&&(Me.opacity=q),ye&&(Me["stroke-opacity"]=at),K.pdf.setGState(new Ht.a(Me))}if(K.attributeState.fill&&K.attributeState.fill!==B.attributeState.fill&&K.attributeState.fill instanceof l&&K.attributeState.fill.color.ok&&!Ce(T,"text")&&K.pdf.setFillColor(K.attributeState.fill.color.r,K.attributeState.fill.color.g,K.attributeState.fill.color.b),K.attributeState.strokeWidth!==B.attributeState.strokeWidth&&K.pdf.setLineWidth(K.attributeState.strokeWidth),K.attributeState.stroke!==B.attributeState.stroke&&K.attributeState.stroke instanceof l&&K.pdf.setDrawColor(K.attributeState.stroke.color.r,K.attributeState.stroke.color.g,K.attributeState.stroke.color.b),K.attributeState.strokeLinecap!==B.attributeState.strokeLinecap&&K.pdf.setLineCap(K.attributeState.strokeLinecap),K.attributeState.strokeLinejoin!==B.attributeState.strokeLinejoin&&K.pdf.setLineJoin(K.attributeState.strokeLinejoin),K.attributeState.strokeDasharray===B.attributeState.strokeDasharray&&K.attributeState.strokeDashoffset===B.attributeState.strokeDashoffset||!K.attributeState.strokeDasharray||K.pdf.setLineDashPattern(K.attributeState.strokeDasharray,K.attributeState.strokeDashoffset),K.attributeState.strokeMiterlimit!==B.attributeState.strokeMiterlimit&&K.pdf.setLineMiterLimit(K.attributeState.strokeMiterlimit),K.attributeState.fontFamily!==B.attributeState.fontFamily&&(Ot=Wt.hasOwnProperty(K.attributeState.fontFamily)?Wt[K.attributeState.fontFamily]:K.attributeState.fontFamily),K.attributeState.fill&&K.attributeState.fill!==B.attributeState.fill&&K.attributeState.fill instanceof l&&K.attributeState.fill.color.ok){var ne=K.attributeState.fill.color;K.pdf.setTextColor(ne.r,ne.g,ne.b)}K.attributeState.fontWeight===B.attributeState.fontWeight&&K.attributeState.fontStyle===B.attributeState.fontStyle||(Gt=oe(K.attributeState.fontStyle,K.attributeState.fontWeight)),Ot===void 0&&Gt===void 0||(Ot===void 0&&(Ot=Wt.hasOwnProperty(K.attributeState.fontFamily)?Wt[K.attributeState.fontFamily]:K.attributeState.fontFamily),K.pdf.setFont(Ot,Gt)),K.attributeState.fontSize!==B.attributeState.fontSize&&K.pdf.setFontSize(K.attributeState.fontSize*K.pdf.internal.scaleFactor)}function De(K,B,T){var q=f.exec(K);if(q){var at=q[1];return T.refsHandler.get(at)||void 0}}function gr(K,B,T){return e(this,void 0,void 0,function(){var q,at;return t(this,function(Ot){switch(Ot.label){case 0:return q=T.clone(),B.element.hasAttribute("clipPathUnits")&&B.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(at=K.getBoundingBox(T),q.transform=T.pdf.matrixMult(T.pdf.Matrix(at[2],0,0,at[3],at[0],at[1]),T.transform)),[4,B.apply(q)];case 1:return Ot.sent(),[2]}})})}var er=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.render=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt;return t(this,function(Xt){switch(Xt.label){case 0:return this.isVisible(T.attributeState.visibility!=="hidden",T)?((q=T.clone()).transform=q.pdf.matrixMult(this.computeNodeTransform(q),T.transform),ke(q,this),at=ct(this.element,q.styleSheets,"clip-path"),(Ot=at&&at!=="none")?(Gt=De(at,0,q))?Gt.isVisible(!0,q)?(q.pdf.saveGraphicsState(),[4,gr(this,Gt,q)]):[3,2]:[3,4]:[3,5]):[2];case 1:return Xt.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:Ot=!1,Xt.label=5;case 5:return q.withinClipPath||q.pdf.saveGraphicsState(),Te(q,T,this.element),[4,this.renderCore(q)];case 6:return Xt.sent(),q.withinClipPath||q.pdf.restoreGraphicsState(),Ot&&q.pdf.restoreGraphicsState(),[2]}})})},B}(Pt),Hr=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B}(er),Jr=function(K){function B(T,q,at){var Ot=K.call(this,q,at)||this;return Ot.cachedPath=null,Ot.hasMarkers=T,Ot}return o(B,K),B.prototype.renderCore=function(T){return e(this,void 0,void 0,function(){var q;return t(this,function(at){switch(at.label){case 0:return(q=this.getCachedPath(T))===null||q.segments.length===0?[2]:(T.withinClipPath?q.transform(T.transform):T.pdf.setCurrentTransformationMatrix(T.transform),q.draw(T),[4,this.fillOrStroke(T)]);case 1:return at.sent(),this.hasMarkers?[4,this.drawMarkers(T,q)]:[3,3];case 2:at.sent(),at.label=3;case 3:return[2]}})})},B.prototype.getCachedPath=function(T){return this.cachedPath||(this.cachedPath=this.getPath(T))},B.prototype.drawMarkers=function(T,q){return e(this,void 0,void 0,function(){return t(this,function(at){switch(at.label){case 0:return[4,this.getMarkers(q,T).draw(T.clone({transform:T.pdf.unitMatrix}))];case 1:return at.sent(),[2]}})})},B.prototype.fillOrStroke=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt;return t(this,function(ye){switch(ye.label){case 0:return T.withinClipPath?[2]:(q=T.attributeState.fill,at=T.attributeState.stroke&&T.attributeState.strokeWidth!==0,q?[4,q.getFillData(this,T)]:[3,2]);case 1:return Gt=ye.sent(),[3,3];case 2:Gt=void 0,ye.label=3;case 3:return Ot=Gt,Xt=ct(this.element,T.styleSheets,"fill-rule")==="evenodd",q&&at||T.withinUse?Xt?T.pdf.fillStrokeEvenOdd(Ot):T.pdf.fillStroke(Ot):q?Xt?T.pdf.fillEvenOdd(Ot):T.pdf.fill(Ot):at?T.pdf.stroke():T.pdf.discardPath(),[2]}})})},B.prototype.getBoundingBoxCore=function(T){var q=this.getCachedPath(T);if(!q)return[0,0,0,0];for(var at=Number.POSITIVE_INFINITY,Ot=Number.POSITIVE_INFINITY,Gt=Number.NEGATIVE_INFINITY,Xt=Number.NEGATIVE_INFINITY,ye=0,Me=0,ne=0;ne<q.segments.length;ne++){var je=q.segments[ne];(je instanceof $t||je instanceof Y||je instanceof ue)&&(ye=je.x,Me=je.y),je instanceof ue?(at=Math.min(at,ye,je.x1,je.x2,je.x),Gt=Math.max(Gt,ye,je.x1,je.x2,je.x),Ot=Math.min(Ot,Me,je.y1,je.y2,je.y),Xt=Math.max(Xt,Me,je.y1,je.y2,je.y)):(at=Math.min(at,ye),Gt=Math.max(Gt,ye),Ot=Math.min(Ot,Me),Xt=Math.max(Xt,Me))}return[at,Ot,Gt-at,Xt-Ot]},B.prototype.getMarkers=function(T,q){var at=ct(this.element,q.styleSheets,"marker-start"),Ot=ct(this.element,q.styleSheets,"marker-mid"),Gt=ct(this.element,q.styleSheets,"marker-end"),Xt=new X;if(at||Ot||Gt){Gt&&(Gt=on(Gt)),at&&(at=on(at)),Ot&&(Ot=on(Ot));for(var ye=T.segments,Me=[1,0],ne=void 0,je=!1,Br=[1,0],Rt=!1,tt=function(Zt){var me=ye[Zt],Ue=at&&(Zt===1||!(ye[Zt]instanceof $t)&&ye[Zt-1]instanceof $t);Ue&&ye.forEach(function(ln,$r){if(!Rt&&ln instanceof tr&&$r>Zt){var Rr=ye[$r-1];Rt=(Rr instanceof $t||Rr instanceof Y||Rr instanceof ue)&&Rr}});var rr=Gt&&(Zt===ye.length-1||!(ye[Zt]instanceof $t)&&ye[Zt+1]instanceof $t),nr=Ot&&Zt>0&&!(Zt===1&&ye[Zt-1]instanceof $t),He=ye[Zt-1]||null;if(He instanceof $t||He instanceof Y||He instanceof ue)if(me instanceof ue)Ue&&Xt.addMarker(new rt(at,[He.x,He.y],Z(Rt?[Rt.x,Rt.y]:[He.x,He.y],[me.x1,me.y1]))),rr&&Xt.addMarker(new rt(Gt,[me.x,me.y],Z([me.x2,me.y2],[me.x,me.y]))),nr&&(ne=At([He.x,He.y],[me.x1,me.y1]),ne=He instanceof $t?ne:Lt(se(Me,ne)),Xt.addMarker(new rt(Ot,[He.x,He.y],Math.atan2(ne[1],ne[0])))),Me=At([me.x2,me.y2],[me.x,me.y]);else if(me instanceof $t||me instanceof Y){if(ne=At([He.x,He.y],[me.x,me.y]),Ue){var Sr=Rt?At([Rt.x,Rt.y],[me.x,me.y]):ne;Xt.addMarker(new rt(at,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))}rr&&Xt.addMarker(new rt(Gt,[me.x,me.y],Math.atan2(ne[1],ne[0]))),nr&&(Sr=me instanceof $t?Me:He instanceof $t?ne:Lt(se(Me,ne)),Xt.addMarker(new rt(Ot,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))),Me=ne}else me instanceof tr&&(ne=At([He.x,He.y],[je.x,je.y]),nr&&(Sr=He instanceof $t?ne:Lt(se(Me,ne)),Xt.addMarker(new rt(Ot,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))),rr&&(Sr=Lt(se(ne,Br)),Xt.addMarker(new rt(Gt,[je.x,je.y],Math.atan2(Sr[1],Sr[0])))),Me=ne);else{je=me instanceof $t&&me;var br=ye[Zt+1];(br instanceof $t||br instanceof Y||br instanceof ue)&&(Br=At([je.x,je.y],[br.x,br.y]))}},nt=0;nt<ye.length;nt++)tt(nt)}return Xt},B}(Hr);function on(K){var B=f.exec(K);return B&&B[1]||void 0}var Dn=function(K){function B(T,q){return K.call(this,!0,T,q)||this}return o(B,K),B.prototype.getPath=function(T){if(T.withinClipPath||T.attributeState.stroke===null)return null;var q=parseFloat(this.element.getAttribute("x1")||"0"),at=parseFloat(this.element.getAttribute("y1")||"0"),Ot=parseFloat(this.element.getAttribute("x2")||"0"),Gt=parseFloat(this.element.getAttribute("y2")||"0");return q||Ot||at||Gt?new Tt().moveTo(q,at).lineTo(Ot,Gt):null},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B.prototype.fillOrStroke=function(T){return e(this,void 0,void 0,function(){return t(this,function(q){switch(q.label){case 0:return T.attributeState.fill=null,[4,K.prototype.fillOrStroke.call(this,T)];case 1:return q.sent(),[2]}})})},B}(Jr),hn=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.apply=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt;return t(this,function(ye){switch(ye.label){case 0:return this.isVisible(T.attributeState.visibility!=="hidden",T)?((q=T.clone()).transform=q.pdf.unitMatrix,ke(q,this),at=ct(this.element,q.styleSheets,"clip-path"),at&&at!=="none"&&(Ot=De(at,0,q))?Ot.isVisible(!0,q)?[4,gr(this,Ot,q)]:[3,2]:[3,3]):[2];case 1:return ye.sent(),[3,3];case 2:return[2];case 3:Te(q,T,this.element),Gt=0,Xt=this.children,ye.label=4;case 4:return Gt<Xt.length?[4,Xt[Gt].render(q)]:[3,7];case 5:ye.sent(),ye.label=6;case 6:return Gt++,[3,4];case 7:return[2]}})})},B.prototype.getBoundingBoxCore=function(T){return re(T,this)},B.prototype.isVisible=function(T,q){return et(this,T,q)},B.prototype.computeNodeTransformCore=function(T){var q=parseFloat(ct(this.element,T.styleSheets,"x")||"0"),at=parseFloat(ct(this.element,T.styleSheets,"y")||"0"),Ot=this.element.getAttribute("viewBox");if(Ot){var Gt=ut(Ot),Xt=parseFloat(ct(this.element,T.styleSheets,"width")||ct(this.element.ownerSVGElement,T.styleSheets,"width")||Ot[2]),ye=parseFloat(ct(this.element,T.styleSheets,"height")||ct(this.element.ownerSVGElement,T.styleSheets,"height")||Ot[3]);return qt(this.element,Gt,q,at,Xt,ye,T)}return T.pdf.Matrix(1,0,0,1,q,at)},B}(Dt),wn=function(B,T){this.width=B,this.height=T},Wn=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.renderCore=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt,ye,Me,ne,je,Br,Rt,tt,nt;return t(this,function(Et){switch(Et.label){case 0:return q=parseFloat,(at=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(Ot=at.substring(1),Gt=T.refsHandler.get(Ot),Xt=Ce(Gt.element,"symbol,svg")&&Gt.element.hasAttribute("viewBox"),ye=q(ct(this.element,T.styleSheets,"x")||"0"),Me=q(ct(this.element,T.styleSheets,"y")||"0"),ne=void 0,je=void 0,Xt?(ne=q(ct(this.element,T.styleSheets,"width")||ct(Gt.element,T.styleSheets,"width")||"0"),je=q(ct(this.element,T.styleSheets,"height")||ct(Gt.element,T.styleSheets,"height")||"0"),ye+=q(ct(Gt.element,T.styleSheets,"x")||"0"),Me+=q(ct(Gt.element,T.styleSheets,"y")||"0"),Rt=ut(Gt.element.getAttribute("viewBox")),Br=qt(Gt.element,Rt,ye,Me,ne,je,T)):Br=T.pdf.Matrix(1,0,0,1,ye,Me),tt=new A(T.pdf,{refsHandler:T.refsHandler,styleSheets:T.styleSheets,withinUse:!0,viewport:Xt?new wn(ne,je):T.viewport,svg2pdfParameters:T.svg2pdfParameters}),nt=T.attributeState.color,[4,T.refsHandler.getRendered(Ot,nt,function(Zt){return B.renderReferencedNode(Zt,Ot,nt,tt)})]):[2];case 1:return Et.sent(),T.pdf.saveGraphicsState(),T.pdf.setCurrentTransformationMatrix(T.transform),Xt&&ct(Gt.element,T.styleSheets,"overflow")!=="visible"&&(T.pdf.rect(ye,Me,ne,je),T.pdf.clip().discardPath()),T.pdf.doFormObject(T.refsHandler.generateKey(Ot,nt),Br),T.pdf.restoreGraphicsState(),[2]}})})},B.renderReferencedNode=function(T,q,at,Ot){return e(this,void 0,void 0,function(){var Gt;return t(this,function(Xt){switch(Xt.label){case 0:return Gt=[(Gt=T.getBoundingBox(Ot))[0]-.5*Gt[2],Gt[1]-.5*Gt[3],2*Gt[2],2*Gt[3]],Ot.attributeState.color=at,Ot.pdf.beginFormObject(Gt[0],Gt[1],Gt[2],Gt[3],Ot.pdf.unitMatrix),T instanceof hn?[4,T.apply(Ot)]:[3,2];case 1:return Xt.sent(),[3,4];case 2:return[4,T.render(Ot)];case 3:Xt.sent(),Xt.label=4;case 4:return Ot.pdf.endFormObject(Ot.refsHandler.generateKey(q,at)),[2]}})})},B.prototype.getBoundingBoxCore=function(T){return ae(this.element,T)},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B}(Hr),Xn=function(K){function B(T,q){return K.call(this,!1,T,q)||this}return o(B,K),B.prototype.getPath=function(T){var q=parseFloat(ct(this.element,T.styleSheets,"width")||"0"),at=parseFloat(ct(this.element,T.styleSheets,"height")||"0");if(!isFinite(q)||q<=0||!isFinite(at)||at<=0)return null;var Ot=ct(this.element,T.styleSheets,"rx"),Gt=ct(this.element,T.styleSheets,"ry"),Xt=Math.min(parseFloat(Ot||Gt||"0"),.5*q),ye=Math.min(parseFloat(Gt||Ot||"0"),.5*at),Me=parseFloat(ct(this.element,T.styleSheets,"x")||"0"),ne=parseFloat(ct(this.element,T.styleSheets,"y")||"0"),je=4/3*(Math.SQRT2-1);return Xt===0&&ye===0?new Tt().moveTo(Me,ne).lineTo(Me+q,ne).lineTo(Me+q,ne+at).lineTo(Me,ne+at).close():new Tt().moveTo(Me+=Xt,ne).lineTo(Me+=q-2*Xt,ne).curveTo(Me+Xt*je,ne,Me+Xt,ne+(ye-ye*je),Me+=Xt,ne+=ye).lineTo(Me,ne+=at-2*ye).curveTo(Me,ne+ye*je,Me-Xt*je,ne+ye,Me-=Xt,ne+=ye).lineTo(Me+=2*Xt-q,ne).curveTo(Me-Xt*je,ne,Me-Xt,ne-ye*je,Me-=Xt,ne-=ye).lineTo(Me,ne+=2*ye-at).curveTo(Me,ne-ye*je,Me+Xt*je,ne-ye,Me+=Xt,ne-=ye).close()},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B}(Jr),Si=function(K){function B(T,q){return K.call(this,!1,T,q)||this}return o(B,K),B.prototype.getPath=function(T){var q=this.getRx(T),at=this.getRy(T);if(!isFinite(q)||at<=0||!isFinite(at)||at<=0)return null;var Ot=parseFloat(ct(this.element,T.styleSheets,"cx")||"0"),Gt=parseFloat(ct(this.element,T.styleSheets,"cy")||"0"),Xt=4/3*(Math.SQRT2-1)*q,ye=4/3*(Math.SQRT2-1)*at;return new Tt().moveTo(Ot+q,Gt).curveTo(Ot+q,Gt-ye,Ot+Xt,Gt-at,Ot,Gt-at).curveTo(Ot-Xt,Gt-at,Ot-q,Gt-ye,Ot-q,Gt).curveTo(Ot-q,Gt+ye,Ot-Xt,Gt+at,Ot,Gt+at).curveTo(Ot+Xt,Gt+at,Ot+q,Gt+ye,Ot+q,Gt)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B}(Jr),Ii=function(K){function B(T,q){return K.call(this,T,q)||this}return o(B,K),B.prototype.getRx=function(T){return parseFloat(ct(this.element,T.styleSheets,"rx")||"0")},B.prototype.getRy=function(T){return parseFloat(ct(this.element,T.styleSheets,"ry")||"0")},B}(Si);function ni(K){var B="invisible";return K.fill&&K.stroke?B="fillThenStroke":K.fill?B="fill":K.stroke&&(B="stroke"),B}function Ea(K){return K.replace(/[\n\r]/g,"")}function Ir(K){return K.replace(/[\t]/g," ")}function Ni(K){return K.replace(/ +/g," ")}function Fa(K,B,T){switch(ct(K,T.styleSheets,"text-transform")){case"uppercase":return B.toUpperCase();case"lowercase":return B.toLowerCase();default:return B}}var $s=function(){function K(B,T,q,at){this.textNode=B,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=T,this.originX=q,this.originY=at,this.textMeasures=[]}return K.prototype.setX=function(B){this.originX=B},K.prototype.setY=function(B){this.originY=B},K.prototype.add=function(B,T,q){this.texts.push(T),this.textNodes.push(B),this.contexts.push(q)},K.prototype.rightTrimText=function(){for(var B=this.texts.length-1;B>=0;B--)if(this.contexts[B].attributeState.xmlSpace==="default"&&(this.texts[B]=this.texts[B].replace(/\s+$/,"")),this.texts[B].match(/[^\s]/))return!1;return!0},K.prototype.measureText=function(B){for(var T=0;T<this.texts.length;T++)this.textMeasures.push({width:B.textMeasure.measureTextWidth(this.texts[T],this.contexts[T].attributeState),length:this.texts[T].length})},K.prototype.put=function(B,T){var q,at,Ot,Gt,Xt=[],ye=[],Me=[],ne=this.originX,je=this.originY,Br=ne,Rt=ne;for(q=0;q<this.textNodes.length;q++){at=this.textNodes[q],Ot=this.contexts[q],Gt=this.textMeasures[q]||{width:B.textMeasure.measureTextWidth(this.texts[q],this.contexts[q].attributeState),length:this.texts[q].length};var tt=ne,nt=je;if(at.nodeName!=="#text"&&!Xt.includes(at)){Xt.push(at);var Et=at.getAttribute("dx");Et!==null&&(tt+=M(Et,Ot.attributeState.fontSize));var Zt=at.getAttribute("dy");Zt!==null&&(nt+=M(Zt,Ot.attributeState.fontSize))}ye[q]=tt,Me[q]=nt,ne=tt+Gt.width+Gt.length*T,je=nt,Br=Math.min(Br,tt),Rt=Math.max(Rt,ne)}var me=0;switch(this.textAnchor){case"start":me=0;break;case"middle":me=(Rt-Br)/2;break;case"end":me=Rt-Br}for(q=0;q<this.textNodes.length;q++)if(at=this.textNodes[q],Ot=this.contexts[q],at.nodeName==="#text"||Ot.attributeState.visibility!=="hidden"){B.pdf.saveGraphicsState(),Te(Ot,B,at);var Ue=Ot.attributeState.alignmentBaseline,rr=ni(Ot.attributeState);B.pdf.text(this.texts[q],ye[q]-me,Me[q],{baseline:Q(Ue),angle:B.transform,renderingMode:rr==="fill"?void 0:rr,charSpace:T===0?void 0:T}),B.pdf.restoreGraphicsState()}return[ne,je]},K}(),$o=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.processTSpans=function(T,q,at,Ot,Gt,Xt){for(var ye=at.pdf.getFontSize(),Me=at.attributeState.xmlSpace,ne=!0,je=!1,Br=0;Br<q.childNodes.length;Br++){var Rt=q.childNodes[Br];if(Rt.textContent){var tt=Rt.textContent;if(Rt.nodeName==="#text"){var nt=Ea(tt);nt=Ir(nt),Me==="default"&&(nt=Ni(nt),ne&&nt.match(/^\s/)&&(je=!0),nt.match(/[^\s]/)&&(ne=!1),Xt.prevText.match(/\s$/)&&(nt=nt.replace(/^\s+/,"")));var Et=Fa(q,nt,at);Gt.add(q,Et,at),Xt.prevText=tt,Xt.prevContext=at}else if(!Ce(Rt,"title")){if(Ce(Rt,"tspan")){var Zt=Rt,me=Zt.getAttribute("x");if(me!==null){var Ue=M(me,ye);Gt=new $s(this,ct(Zt,at.styleSheets,"text-anchor")||at.attributeState.textAnchor,Ue,0),Ot.push({type:"y",chunk:Gt})}var rr=Zt.getAttribute("y");if(rr!==null){var nr=M(rr,ye);Gt=new $s(this,ct(Zt,at.styleSheets,"text-anchor")||at.attributeState.textAnchor,0,nr),Ot.push({type:"x",chunk:Gt})}var He=at.clone();ke(He,T,Zt),this.processTSpans(T,Zt,He,Ot,Gt,Xt)}}}}return je},B.prototype.renderCore=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt,ye,Me,ne,je,Br,Rt,tt,nt,Et,Zt,me,Ue,rr,nr,He,Sr,br,ln;return t(this,function($r){if(T.pdf.saveGraphicsState(),q=0,at=0,Ot=1,Gt=T.pdf.getFontSize(),Xt=M(this.element.getAttribute("x"),Gt),ye=M(this.element.getAttribute("y"),Gt),Me=M(this.element.getAttribute("dx"),Gt),ne=M(this.element.getAttribute("dy"),Gt),je=parseFloat(this.element.getAttribute("textLength")||"0"),Br=T.attributeState.visibility,this.element.childElementCount===0)Rt=this.element.textContent||"",tt=function(Rr,Sn){return Rr=Ir(Rr=Ea(Rr)),Sn.xmlSpace==="default"&&(Rr=Ni(Rr=Rr.trim())),Rr}(Rt,T.attributeState),nt=Fa(this.element,tt,T),q=T.textMeasure.getTextOffset(nt,T.attributeState),je>0&&(Et=T.textMeasure.measureTextWidth(nt,T.attributeState),T.attributeState.xmlSpace==="default"&&Rt.match(/^\s/)&&(Ot=0),at=(je-Et)/(nt.length-Ot)||0),Br==="visible"&&(Zt=T.attributeState.alignmentBaseline,me=ni(T.attributeState),T.pdf.text(nt,Xt+Me-q,ye+ne,{baseline:Q(Zt),angle:T.transform,renderingMode:me==="fill"?void 0:me,charSpace:at===0?void 0:at}));else{for(Ue=[],rr=new $s(this,T.attributeState.textAnchor,Xt+Me,ye+ne),Ue.push({type:"",chunk:rr}),nr=this.processTSpans(this,this.element,T,Ue,rr,{prevText:" ",prevContext:T}),Ot=nr?0:1,He=!0,Sr=Ue.length-1;Sr>=0;Sr--)He&&(He=Ue[Sr].chunk.rightTrimText());je>0&&(br=0,ln=0,Ue.forEach(function(Rr){var Sn=Rr.chunk;Sn.measureText(T),Sn.textMeasures.forEach(function(Qr){var yn=Qr.width,Vn=Qr.length;br+=yn,ln+=Vn})}),at=(je-br)/(ln-Ot)),Ue.reduce(function(Rr,Sn){var Qr=Sn.type,yn=Sn.chunk;return Qr==="x"?yn.setX(Rr[0]):Qr==="y"&&yn.setY(Rr[1]),yn.put(T,at)},[0,0])}return T.pdf.restoreGraphicsState(),[2]})})},B.prototype.isVisible=function(T,q){return et(this,T,q)},B.prototype.getBoundingBoxCore=function(T){return ae(this.element,T)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B}(Hr),Qs=function(K){function B(T,q){return K.call(this,!0,T,q)||this}return o(B,K),B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B.prototype.getPath=function(T){var q,at,Ot=new G.a(ct(this.element,T.styleSheets,"d")||"").unshort().unarc().abs(),Gt=new Tt;return Ot.iterate(function(Xt){var ye=Xt[0];switch(ye){case"M":Gt.moveTo(Xt[1],Xt[2]);break;case"L":Gt.lineTo(Xt[1],Xt[2]);break;case"H":Gt.lineTo(Xt[1],at);break;case"V":Gt.lineTo(q,Xt[1]);break;case"C":Gt.curveTo(Xt[1],Xt[2],Xt[3],Xt[4],Xt[5],Xt[6]);break;case"Q":var Me=ot([q,at],[Xt[1],Xt[2]]),ne=ot([Xt[3],Xt[4]],[Xt[1],Xt[2]]);Gt.curveTo(Me[0],Me[1],ne[0],ne[1],Xt[3],Xt[4]);break;case"Z":Gt.close()}switch(ye){case"M":case"L":q=Xt[1],at=Xt[2];break;case"H":q=Xt[1];break;case"V":at=Xt[1];break;case"C":q=Xt[5],at=Xt[6];break;case"Q":q=Xt[3],at=Xt[4]}}),Gt},B}(Jr),Ya=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,Co=function(K){function B(T,q){var at=K.call(this,T,q)||this;return at.imageLoadingPromise=null,at.imageUrl=at.element.getAttribute("xlink:href")||at.element.getAttribute("href"),at.imageUrl&&(at.imageLoadingPromise=B.fetchImageData(at.imageUrl)),at}return o(B,K),B.prototype.renderCore=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt,ye,Me,ne,je,Br,Rt,tt;return t(this,function(nt){switch(nt.label){case 0:return this.imageLoadingPromise?(T.pdf.setCurrentTransformationMatrix(T.transform),q=parseFloat(ct(this.element,T.styleSheets,"width")||"0"),at=parseFloat(ct(this.element,T.styleSheets,"height")||"0"),Ot=parseFloat(ct(this.element,T.styleSheets,"x")||"0"),Gt=parseFloat(ct(this.element,T.styleSheets,"y")||"0"),!isFinite(q)||q<=0||!isFinite(at)||at<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return Xt=nt.sent(),ye=Xt.data,(Me=Xt.format).indexOf("svg")!==0?[3,3]:(ne=new DOMParser,je=ne.parseFromString(ye,"image/svg+xml").firstElementChild,(!(Br=this.element.getAttribute("preserveAspectRatio"))||Br.indexOf("defer")<0||!je.getAttribute("preserveAspectRatio"))&&je.setAttribute("preserveAspectRatio",Br||""),je.setAttribute("x",String(Ot)),je.setAttribute("y",String(Gt)),je.setAttribute("width",String(q)),je.setAttribute("height",String(at)),[4,Xa(je,Rt={}).render(new A(T.pdf,{refsHandler:new z(Rt),styleSheets:T.styleSheets,viewport:new wn(q,at),svg2pdfParameters:T.svg2pdfParameters}))]);case 2:return nt.sent(),[2];case 3:tt="data:image/"+Me+";base64,"+btoa(ye);try{T.pdf.addImage(tt,"",Ot,Gt,q,at)}catch(Et){typeof console=="object"&&console.warn&&console.warn("Could not load image "+this.imageUrl+`.
`+Et)}nt.label=4;case 4:return[2]}})})},B.prototype.getBoundingBoxCore=function(T){return ae(this.element,T)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B.fetchImageData=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt;return t(this,function(ye){switch(ye.label){case 0:if(!(Ot=T.match(Ya)))return[3,1];if(Gt=Ot[2],(Xt=Gt.split("/"))[0]!=="image")throw new Error("Unsupported image URL: "+T);return at=Xt[1],q=Ot[5],q=Ot[4]==="base64"?atob(q):decodeURIComponent(q),[3,3];case 1:return[4,B.fetchImage(T)];case 2:q=ye.sent(),at=T.substring(T.lastIndexOf(".")+1),ye.label=3;case 3:return[2,{data:q,format:at}]}})})},B.fetchImage=function(T){return new Promise(function(q,at){var Ot=new XMLHttpRequest;Ot.open("GET",T,!0),Ot.responseType="arraybuffer",Ot.onload=function(){if(Ot.status!==200)throw new Error("Error "+Ot.status+": Failed to load image '"+T+"'");for(var Gt=new Uint8Array(Ot.response),Xt="",ye=0;ye<Gt.length;ye++)Xt+=String.fromCharCode(Gt[ye]);q(Xt)},Ot.onerror=at,Ot.onabort=at,Ot.send(null)})},B.getMimeType=function(T){switch(T=T.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+T}},B}(Hr),Ao=function(K){function B(T,q,at){var Ot=K.call(this,!0,q,at)||this;return Ot.closed=T,Ot}return o(B,K),B.prototype.getPath=function(T){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var q=B.parsePointsString(this.element.getAttribute("points")),at=new Tt;if(q.length<1)return at;at.moveTo(q[0][0],q[0][1]);for(var Ot=1;Ot<q.length;Ot++)at.lineTo(q[Ot][0],q[Ot][1]);return this.closed&&at.close(),at},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.parsePointsString=function(T){for(var q=ut(T),at=[],Ot=0;Ot<q.length-1;Ot+=2){var Gt=q[Ot],Xt=q[Ot+1];at.push([Gt,Xt])}return at},B}(Jr),us=function(K){function B(T,q){return K.call(this,!0,T,q)||this}return o(B,K),B}(Ao),hs=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.render=function(T){return Promise.resolve()},B.prototype.getBoundingBoxCore=function(T){return[0,0,0,0]},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B.prototype.isVisible=function(T,q){return Ut(this,T,q)},B}(Pt),Ll=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.apply=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt;return t(this,function(ye){switch(ye.label){case 0:q=this.computeNodeTransform(T),at=this.getBoundingBox(T),T.pdf.beginFormObject(at[0],at[1],at[2],at[3],q),function(Me){var ne=Me.attributeState,je=Me.pdf,Br=1,Rt=1;Br*=ne.fillOpacity,Br*=ne.opacity,ne.fill instanceof l&&ne.fill.color.a!==void 0&&(Br*=ne.fill.color.a),Rt*=ne.strokeOpacity,Rt*=ne.opacity,ne.stroke instanceof l&&ne.stroke.color.a!==void 0&&(Rt*=ne.stroke.color.a);var tt,nt={};if(nt.opacity=Br,nt["stroke-opacity"]=Rt,je.setGState(new Ht.a(nt)),ne.fill&&ne.fill instanceof l&&ne.fill.color.ok?je.setFillColor(ne.fill.color.r,ne.fill.color.g,ne.fill.color.b):je.setFillColor(0,0,0),je.setLineWidth(ne.strokeWidth),ne.stroke instanceof l?je.setDrawColor(ne.stroke.color.r,ne.stroke.color.g,ne.stroke.color.b):je.setDrawColor(0,0,0),je.setLineCap(ne.strokeLinecap),je.setLineJoin(ne.strokeLinejoin),ne.strokeDasharray?je.setLineDashPattern(ne.strokeDasharray,ne.strokeDashoffset):je.setLineDashPattern([],0),je.setLineMiterLimit(ne.strokeMiterlimit),tt=Wt.hasOwnProperty(ne.fontFamily)?Wt[ne.fontFamily]:ne.fontFamily,ne.fill&&ne.fill instanceof l&&ne.fill.color.ok){var Et=ne.fill.color;je.setTextColor(Et.r,Et.g,Et.b)}else je.setTextColor(0,0,0);var Zt="";ne.fontWeight==="bold"&&(Zt="bold"),ne.fontStyle==="italic"&&(Zt+="italic"),Zt===""&&(Zt="normal"),tt!==void 0||Zt!==void 0?(tt===void 0&&(tt=Wt.hasOwnProperty(ne.fontFamily)?Wt[ne.fontFamily]:ne.fontFamily),je.setFont(tt,Zt)):je.setFont("helvetica",Zt),je.setFontSize(ne.fontSize*je.internal.scaleFactor)}(Ot=new A(T.pdf,{refsHandler:T.refsHandler,styleSheets:T.styleSheets,viewport:T.viewport,svg2pdfParameters:T.svg2pdfParameters})),Gt=0,Xt=this.children,ye.label=1;case 1:return Gt<Xt.length?[4,Xt[Gt].render(Ot)]:[3,4];case 2:ye.sent(),ye.label=3;case 3:return Gt++,[3,1];case 4:return T.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},B.prototype.getBoundingBoxCore=function(T){var q,at=this.element.getAttribute("viewBox");return at&&(q=ut(at)),[q&&q[0]||0,q&&q[1]||0,q&&q[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),q&&q[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},B.prototype.computeNodeTransformCore=function(T){var q,at=parseFloat(this.element.getAttribute("refX")||"0"),Ot=parseFloat(this.element.getAttribute("refY")||"0"),Gt=this.element.getAttribute("viewBox");if(Gt){var Xt=ut(Gt);q=qt(this.element,Xt,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),T,!0),q=T.pdf.matrixMult(T.pdf.Matrix(1,0,0,1,-at,-Ot),q)}else q=T.pdf.Matrix(1,0,0,1,-at,-Ot);return q},B.prototype.isVisible=function(T,q){return et(this,T,q)},B}(Dt),to=function(K){function B(T,q){return K.call(this,T,q)||this}return o(B,K),B.prototype.getR=function(T){var q;return(q=this.r)!==null&&q!==void 0?q:this.r=parseFloat(ct(this.element,T.styleSheets,"r")||"0")},B.prototype.getRx=function(T){return this.getR(T)},B.prototype.getRy=function(T){return this.getR(T)},B}(Si),Ls=function(K){function B(T,q){return K.call(this,!1,T,q)||this}return o(B,K),B}(Ao),ks=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.renderCore=function(T){return e(this,void 0,void 0,function(){var q,at;return t(this,function(Ot){switch(Ot.label){case 0:q=0,at=this.children,Ot.label=1;case 1:return q<at.length?[4,at[q].render(T)]:[3,4];case 2:Ot.sent(),Ot.label=3;case 3:return q++,[3,1];case 4:return[2]}})})},B.prototype.getBoundingBoxCore=function(T){return re(T,this)},B}(er),To=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.isVisible=function(T,q){return et(this,T,q)},B.prototype.render=function(T){return e(this,void 0,void 0,function(){var q,at,Ot,Gt,Xt;return t(this,function(ye){switch(ye.label){case 0:return this.isVisible(T.attributeState.visibility!=="hidden",T)?(q=this.getX(T),at=this.getY(T),Ot=this.getWidth(T),Gt=this.getHeight(T),T.pdf.saveGraphicsState(),Xt=T.transform,this.element.hasAttribute("transform")&&(Xt=T.pdf.matrixMult(I(this.element.getAttribute("transform"),T),Xt)),T.pdf.setCurrentTransformationMatrix(Xt),T.withinUse||ct(this.element,T.styleSheets,"overflow")==="visible"||T.pdf.rect(q,at,Ot,Gt).clip().discardPath(),[4,K.prototype.render.call(this,T.clone({transform:T.pdf.unitMatrix,viewport:T.withinUse?T.viewport:new wn(Ot,Gt)}))]):[2];case 1:return ye.sent(),T.pdf.restoreGraphicsState(),[2]}})})},B.prototype.computeNodeTransform=function(T){return this.computeNodeTransformCore(T)},B.prototype.computeNodeTransformCore=function(T){if(T.withinUse)return T.pdf.unitMatrix;var q,at=this.getX(T),Ot=this.getY(T),Gt=this.getViewBox();if(Gt){var Xt=this.getWidth(T),ye=this.getHeight(T);q=qt(this.element,Gt,at,Ot,Xt,ye,T)}else q=T.pdf.Matrix(1,0,0,1,at,Ot);return q},B.prototype.getWidth=function(T){if(this.width!==void 0)return this.width;var q,at,Ot=T.svg2pdfParameters;if(this.isOutermostSvg(T))if(Ot.width!=null)q=Ot.width;else if(at=ct(this.element,T.styleSheets,"width"))q=parseFloat(at);else{var Gt=this.getViewBox();if(Gt&&(Ot.height!=null||ct(this.element,T.styleSheets,"height"))){var Xt=Gt[2]/Gt[3];q=this.getHeight(T)*Xt}else q=Math.min(300,T.viewport.width,2*T.viewport.height)}else q=(at=ct(this.element,T.styleSheets,"width"))?parseFloat(at):T.viewport.width;return this.width=q},B.prototype.getHeight=function(T){if(this.height!==void 0)return this.height;var q,at,Ot=T.svg2pdfParameters;if(this.isOutermostSvg(T))if(Ot.height!=null)q=Ot.height;else if(at=ct(this.element,T.styleSheets,"height"))q=parseFloat(at);else{var Gt=this.getViewBox();if(Gt){var Xt=Gt[2]/Gt[3];q=this.getWidth(T)/Xt}else q=Math.min(150,T.viewport.width/2,T.viewport.height)}else q=(at=ct(this.element,T.styleSheets,"height"))?parseFloat(at):T.viewport.height;return this.height=q},B.prototype.getX=function(T){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(T))return this.x=0;var q=ct(this.element,T.styleSheets,"x");return this.x=q?parseFloat(q):0},B.prototype.getY=function(T){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(T))return this.y=0;var q=ct(this.element,T.styleSheets,"y");return this.y=q?parseFloat(q):0},B.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var T=this.element.getAttribute("viewBox");return this.viewBox=T?ut(T):void 0},B.prototype.isOutermostSvg=function(T){return T.svg2pdfParameters.element===this.element},B}(ks),Qo=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.isVisible=function(T,q){return et(this,T,q)},B.prototype.computeNodeTransformCore=function(T){return T.pdf.unitMatrix},B}(ks),Es=function(K){function B(){return K!==null&&K.apply(this,arguments)||this}return o(B,K),B.prototype.apply=function(T){return e(this,void 0,void 0,function(){var q,at,Ot;return t(this,function(Gt){switch(Gt.label){case 0:if(!this.isVisible(!0,T))return[2];q=T.pdf.matrixMult(this.computeNodeTransform(T),T.transform),T.pdf.setCurrentTransformationMatrix(q),at=0,Ot=this.children,Gt.label=1;case 1:return at<Ot.length?[4,Ot[at].render(new A(T.pdf,{refsHandler:T.refsHandler,styleSheets:T.styleSheets,viewport:T.viewport,withinClipPath:!0,svg2pdfParameters:T.svg2pdfParameters}))]:[3,4];case 2:Gt.sent(),Gt.label=3;case 3:return at++,[3,1];case 4:return T.pdf.clip().discardPath(),T.pdf.setCurrentTransformationMatrix(q.inversed()),[2]}})})},B.prototype.getBoundingBoxCore=function(T){return re(T,this)},B.prototype.isVisible=function(T,q){return et(this,T,q)},B}(Dt);function Xa(K,B){var T,q=[];switch(function(Ot,Gt){for(var Xt=[],ye=0;ye<Ot.childNodes.length;ye++){var Me=Ot.childNodes[ye];Me.nodeName.charAt(0)!=="#"&&Xt.push(Me)}for(ye=0;ye<Xt.length;ye++)Gt(ye,Xt[ye])}(K,function(Ot,Gt){return q.push(Xa(Gt,B))}),K.tagName.toLowerCase()){case"a":case"g":T=new Qo(K,q);break;case"circle":T=new to(K,q);break;case"clippath":T=new Es(K,q);break;case"ellipse":T=new Ii(K,q);break;case"lineargradient":T=new x(K,q);break;case"image":T=new Co(K,q);break;case"line":T=new Dn(K,q);break;case"marker":T=new Ll(K,q);break;case"path":T=new Qs(K,q);break;case"pattern":T=new it(K,q);break;case"polygon":T=new us(K,q);break;case"polyline":T=new Ls(K,q);break;case"radialgradient":T=new O(K,q);break;case"rect":T=new Xn(K,q);break;case"svg":T=new To(K,q);break;case"symbol":T=new hn(K,q);break;case"text":T=new $o(K,q);break;case"use":T=new Wn(K,q);break;default:T=new hs(K,q)}if(B!=null&&T.element.hasAttribute("id")){var at=L()(T.element.id,{isIdentifier:!0});B[at]=B[at]||T}return T.children.forEach(function(Ot){return Ot.setParent(T)}),T}var tl=function(){function K(B,T){this.rootSvg=B,this.loadExternalSheets=T,this.styleSheets=[]}return K.prototype.load=function(){return e(this,void 0,void 0,function(){var B;return t(this,function(T){switch(T.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return B=T.sent(),this.parseCssSheets(B),[2]}})})},K.prototype.collectStyleSheetTexts=function(){return e(this,void 0,void 0,function(){var B,T,q,at,Ot;return t(this,function(Gt){switch(Gt.label){case 0:if(B=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(at=0;at<this.rootSvg.ownerDocument.childNodes.length;at++)(T=this.rootSvg.ownerDocument.childNodes[at]).nodeName==="xml-stylesheet"&&typeof T.data=="string"&&B.push(K.loadSheet(T.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(q=this.rootSvg.querySelectorAll("style,link"),at=0;at<q.length;at++)Ce(Ot=q[at],"style")?B.push(Ot.textContent):this.loadExternalSheets&&Ce(Ot,"link")&&Ot.getAttribute("rel")==="stylesheet"&&Ot.hasAttribute("href")&&B.push(K.loadSheet(Ot.getAttribute("href")));return[4,Promise.all(B)];case 1:return[2,Gt.sent().filter(function(Xt){return Xt!==null})]}})})},K.prototype.parseCssSheets=function(B){for(var T=document.implementation.createHTMLDocument(""),q=0,at=B;q<at.length;q++){var Ot=at[q],Gt=T.createElement("style");Gt.textContent=Ot,T.body.appendChild(Gt);var Xt=Gt.sheet;if(Xt instanceof CSSStyleSheet){for(var ye=Xt.cssRules.length-1;ye>=0;ye--){var Me=Xt.cssRules[ye];if(Me instanceof CSSStyleRule){var ne=Me;if(ne.selectorText.indexOf(",")>=0){Xt.deleteRule(ye);for(var je=ne.cssText.substring(ne.selectorText.length),Br=K.splitSelectorAtCommas(ne.selectorText),Rt=0;Rt<Br.length;Rt++)Xt.insertRule(Br[Rt]+je,ye+Rt)}}else Xt.deleteRule(ye)}this.styleSheets.push(Xt)}}},K.splitSelectorAtCommas=function(B){for(var T,q=/,|["']/g,at=/[^\\]["]/g,Ot=/[^\\][']/g,Gt=[],Xt="initial",ye=-1,Me=at,ne=0;ne<B.length;)switch(Xt){case"initial":q.lastIndex=ne,(T=q.exec(B))?(T[0]===","?(Gt.push(B.substring(ye+1,q.lastIndex-1).trim()),ye=q.lastIndex-1):(Xt="withinQuotes",Me=T[0]==='"'?at:Ot),ne=q.lastIndex):(Gt.push(B.substring(ye+1).trim()),ne=B.length);break;case"withinQuotes":Me.lastIndex=ne,(T=Me.exec(B))&&(ne=Me.lastIndex,Xt="initial")}return Gt},K.loadSheet=function(B){return new Promise(function(T,q){var at=new XMLHttpRequest;at.open("GET",B,!0),at.responseType="text",at.onload=function(){at.status!==200&&q(new Error("Error "+at.status+": Failed to load '"+B+"'")),T(at.responseText)},at.onerror=q,at.onabort=q,at.send(null)}).catch(function(){return null})},K.prototype.getPropertyValue=function(B,T){for(var q=[],at=0,Ot=this.styleSheets;at<Ot.length;at++)for(var Gt=Ot[at],Xt=0;Xt<Gt.cssRules.length;Xt++){var ye=Gt.cssRules[Xt];ye.style.getPropertyValue(T)&&B.matches(ye.selectorText)&&q.push(ye)}if(q.length!==0)return q.reduce(function(Me,ne){return Br=ne,((Rt=(je=Me).style.getPropertyPriority(T))!==Br.style.getPropertyPriority(T)?Rt==="important"?1:-1:c(je.selectorText,Br.selectorText))===1?Me:ne;var je,Br,Rt}).style.getPropertyValue(T)||void 0},K}();function el(K,B,T){var q,at,Ot;return T===void 0&&(T={}),e(this,void 0,void 0,function(){var Gt,Xt,ye,Me,ne,je,Br,Rt,tt,nt;return t(this,function(Et){switch(Et.label){case 0:return Gt=(q=T.x)!==null&&q!==void 0?q:0,Xt=(at=T.y)!==null&&at!==void 0?at:0,ye=(Ot=T.loadExternalStyleSheets)!==null&&Ot!==void 0&&Ot,ne=new z(Me={}),[4,(je=new tl(K,ye)).load()];case 1:return Et.sent(),Br=new wn(B.internal.pageSize.getWidth(),B.internal.pageSize.getHeight()),Rt=r(r({},T),{element:K}),tt=new A(B,{refsHandler:ne,styleSheets:je,viewport:Br,svg2pdfParameters:Rt}),B.advancedAPI(),B.saveGraphicsState(),B.setCurrentTransformationMatrix(B.Matrix(1,0,0,1,Gt,Xt)),B.setLineWidth(tt.attributeState.strokeWidth),nt=tt.attributeState.fill.color,B.setFillColor(nt.r,nt.g,nt.b),B.setFont(tt.attributeState.fontFamily),B.setFontSize(tt.attributeState.fontSize*B.internal.scaleFactor),[4,Xa(K,Me).render(tt)];case 2:return Et.sent(),B.restoreGraphicsState(),B.compatAPI(),tt.textMeasure.cleanupTextMeasuring(),[2,B]}})})}Ht.e.API.svg=function(K,B){return B===void 0&&(B={}),el(K,this,B)}},bBst:function(un,_r,Ne){(function(Ke){var L=Ke.CustomEvent;function le(){try{var W=new L("cat",{detail:{foo:"bar"}});return W.type==="cat"&&W.detail.foo==="bar"}catch(Ht){}return!1}un.exports=le()?L:typeof document!="undefined"&&typeof document.createEvent=="function"?function(Ht,wt){var G=document.createEvent("CustomEvent");return wt?G.initCustomEvent(Ht,wt.bubbles,wt.cancelable,wt.detail):G.initCustomEvent(Ht,!1,!1,void 0),G}:function(Ht,wt){var G=document.createEventObject();return G.type=Ht,wt?(G.bubbles=Boolean(wt.bubbles),G.cancelable=Boolean(wt.cancelable),G.detail=wt.detail):(G.bubbles=!1,G.cancelable=!1,G.detail=void 0),G}}).call(this,Ne("IyRk"))},cbZj:function(un,_r,Ne){"use strict";var Ke=Ne("COF0"),L=Ne("vHD6"),le=Ne("4hEd"),W=Ne("2D6k"),Ht=Ne("B61z");function wt(G){if(!(this instanceof wt))return new wt(G);var b=Ke(G);this.segments=b.segments,this.err=b.err,this.__stack=[]}wt.from=function(G){if(typeof G=="string")return new wt(G);if(G instanceof wt){var b=new wt("");return b.err=G.err,b.segments=G.segments.map(function(i){return i.slice()}),b.__stack=G.__stack.map(function(i){return le().matrix(i.toArray())}),b}throw new Error("SvgPath.from: invalid param type "+G)},wt.prototype.__matrix=function(G){var b=this,i;!G.queue.length||this.iterate(function(c,u,o,r){var e,t,a,l;switch(c[0]){case"v":e=G.calc(0,c[1],!0),t=e[0]===0?["v",e[1]]:["l",e[0],e[1]];break;case"V":e=G.calc(o,c[1],!1),t=e[0]===G.calc(o,r,!1)[0]?["V",e[1]]:["L",e[0],e[1]];break;case"h":e=G.calc(c[1],0,!0),t=e[1]===0?["h",e[0]]:["l",e[0],e[1]];break;case"H":e=G.calc(c[1],r,!1),t=e[1]===G.calc(o,r,!1)[1]?["H",e[0]]:["L",e[0],e[1]];break;case"a":case"A":var s=G.toArray(),f=Ht(c[1],c[2],c[3]).transform(s);if(s[0]*s[3]-s[1]*s[2]<0&&(c[5]=c[5]?"0":"1"),e=G.calc(c[6],c[7],c[0]==="a"),c[0]==="A"&&c[6]===o&&c[7]===r||c[0]==="a"&&c[6]===0&&c[7]===0){t=[c[0]==="a"?"l":"L",e[0],e[1]];break}f.isDegenerate()?t=[c[0]==="a"?"l":"L",e[0],e[1]]:t=[c[0],f.rx,f.ry,f.ax,c[4],c[5],e[0],e[1]];break;case"m":l=u>0,e=G.calc(c[1],c[2],l),t=["m",e[0],e[1]];break;default:for(a=c[0],t=[a],l=a.toLowerCase()===a,i=1;i<c.length;i+=2)e=G.calc(c[i],c[i+1],l),t.push(e[0],e[1])}b.segments[u]=t},!0)},wt.prototype.__evaluateStack=function(){var G,b;if(!!this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(G=le(),b=this.__stack.length;--b>=0;)G.matrix(this.__stack[b].toArray());this.__matrix(G),this.__stack=[]}},wt.prototype.toString=function(){var G="",b="",i=!1;this.__evaluateStack();for(var c=0,u=this.segments.length;c<u;c++){var o=this.segments[c],r=o[0];r!==b||r==="m"||r==="M"?(r==="m"&&b==="z"&&(G+=" "),G+=r,i=!1):i=!0;for(var e=1;e<o.length;e++){var t=o[e];e===1?i&&t>=0&&(G+=" "):t>=0&&(G+=" "),G+=t}b=r}return G},wt.prototype.translate=function(G,b){return this.__stack.push(le().translate(G,b||0)),this},wt.prototype.scale=function(G,b){return this.__stack.push(le().scale(G,!b&&b!==0?G:b)),this},wt.prototype.rotate=function(G,b,i){return this.__stack.push(le().rotate(G,b||0,i||0)),this},wt.prototype.skewX=function(G){return this.__stack.push(le().skewX(G)),this},wt.prototype.skewY=function(G){return this.__stack.push(le().skewY(G)),this},wt.prototype.matrix=function(G){return this.__stack.push(le().matrix(G)),this},wt.prototype.transform=function(G){return G.trim()?(this.__stack.push(L(G)),this):this},wt.prototype.round=function(G){var b=0,i=0,c=0,u=0,o;return G=G||0,this.__evaluateStack(),this.segments.forEach(function(r){var e=r[0].toLowerCase()===r[0];switch(r[0]){case"H":case"h":e&&(r[1]+=c),c=r[1]-r[1].toFixed(G),r[1]=+r[1].toFixed(G);return;case"V":case"v":e&&(r[1]+=u),u=r[1]-r[1].toFixed(G),r[1]=+r[1].toFixed(G);return;case"Z":case"z":c=b,u=i;return;case"M":case"m":e&&(r[1]+=c,r[2]+=u),c=r[1]-r[1].toFixed(G),u=r[2]-r[2].toFixed(G),b=c,i=u,r[1]=+r[1].toFixed(G),r[2]=+r[2].toFixed(G);return;case"A":case"a":e&&(r[6]+=c,r[7]+=u),c=r[6]-r[6].toFixed(G),u=r[7]-r[7].toFixed(G),r[1]=+r[1].toFixed(G),r[2]=+r[2].toFixed(G),r[3]=+r[3].toFixed(G+2),r[6]=+r[6].toFixed(G),r[7]=+r[7].toFixed(G);return;default:o=r.length,e&&(r[o-2]+=c,r[o-1]+=u),c=r[o-2]-r[o-2].toFixed(G),u=r[o-1]-r[o-1].toFixed(G),r.forEach(function(t,a){!a||(r[a]=+r[a].toFixed(G))});return}}),this},wt.prototype.iterate=function(G,b){var i=this.segments,c={},u=!1,o=0,r=0,e=0,t=0,a,l,s;if(b||this.__evaluateStack(),i.forEach(function(f,p){var w=G(f,p,o,r);Array.isArray(w)&&(c[p]=w,u=!0);var A=f[0]===f[0].toLowerCase();switch(f[0]){case"m":case"M":o=f[1]+(A?o:0),r=f[2]+(A?r:0),e=o,t=r;return;case"h":case"H":o=f[1]+(A?o:0);return;case"v":case"V":r=f[1]+(A?r:0);return;case"z":case"Z":o=e,r=t;return;default:o=f[f.length-2]+(A?o:0),r=f[f.length-1]+(A?r:0)}}),!u)return this;for(s=[],a=0;a<i.length;a++)if(typeof c[a]!="undefined")for(l=0;l<c[a].length;l++)s.push(c[a][l]);else s.push(i[a]);return this.segments=s,this},wt.prototype.abs=function(){return this.iterate(function(G,b,i,c){var u=G[0],o=u.toUpperCase(),r;if(u!==o)switch(G[0]=o,u){case"v":G[1]+=c;return;case"a":G[6]+=i,G[7]+=c;return;default:for(r=1;r<G.length;r++)G[r]+=r%2?i:c}},!0),this},wt.prototype.rel=function(){return this.iterate(function(G,b,i,c){var u=G[0],o=u.toLowerCase(),r;if(u!==o&&!(b===0&&u==="M"))switch(G[0]=o,u){case"V":G[1]-=c;return;case"A":G[6]-=i,G[7]-=c;return;default:for(r=1;r<G.length;r++)G[r]-=r%2?i:c}},!0),this},wt.prototype.unarc=function(){return this.iterate(function(G,b,i,c){var u,o,r,e=[],t=G[0];return t!=="A"&&t!=="a"?null:(t==="a"?(o=i+G[6],r=c+G[7]):(o=G[6],r=G[7]),u=W(i,c,o,r,G[4],G[5],G[1],G[2],G[3]),u.length===0?[[G[0]==="a"?"l":"L",G[6],G[7]]]:(u.forEach(function(a){e.push(["C",a[2],a[3],a[4],a[5],a[6],a[7]])}),e))}),this},wt.prototype.unshort=function(){var G=this.segments,b,i,c,u,o;return this.iterate(function(r,e,t,a){var l=r[0],s=l.toUpperCase(),f;!e||(s==="T"?(f=l==="t",c=G[e-1],c[0]==="Q"?(b=c[1]-t,i=c[2]-a):c[0]==="q"?(b=c[1]-c[3],i=c[2]-c[4]):(b=0,i=0),u=-b,o=-i,f||(u+=t,o+=a),G[e]=[f?"q":"Q",u,o,r[1],r[2]]):s==="S"&&(f=l==="s",c=G[e-1],c[0]==="C"?(b=c[3]-t,i=c[4]-a):c[0]==="c"?(b=c[3]-c[5],i=c[4]-c[6]):(b=0,i=0),u=-b,o=-i,f||(u+=t,o+=a),G[e]=[f?"c":"C",u,o,r[1],r[2],r[3],r[4]]))}),this},un.exports=wt},crp1:function(un,_r,Ne){"use strict";Ne.d(_r,"b",function(){return Ls}),Ne.d(_r,"a",function(){return Es});var Ke={},L=function(tt,nt,Et,Zt,me){var Ue=Ke[nt]||(Ke[nt]=URL.createObjectURL(new Blob([tt],{type:"text/javascript"}))),rr=new Worker(Ue);return rr.onerror=function(nr){return me(nr.error,null)},rr.onmessage=function(nr){return me(null,nr.data)},rr.postMessage(Et,Zt),rr},le=Uint8Array,W=Uint16Array,Ht=Uint32Array,wt=new le([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),G=new le([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b=new le([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=function(tt,nt){for(var Et=new W(31),Zt=0;Zt<31;++Zt)Et[Zt]=nt+=1<<tt[Zt-1];for(var me=new Ht(Et[30]),Zt=1;Zt<30;++Zt)for(var Ue=Et[Zt];Ue<Et[Zt+1];++Ue)me[Ue]=Ue-Et[Zt]<<5|Zt;return[Et,me]},c=i(wt,2),u=c[0],o=c[1];u[28]=258,o[258]=28;for(var r=i(G,0),e=r[0],t=r[1],a=new W(32768),l=0;l<32768;++l){var s=(l&43690)>>>1|(l&21845)<<1;s=(s&52428)>>>2|(s&13107)<<2,s=(s&61680)>>>4|(s&3855)<<4,a[l]=((s&65280)>>>8|(s&255)<<8)>>>1}for(var f=function(tt,nt,Et){for(var Zt=tt.length,me=0,Ue=new W(nt);me<Zt;++me)++Ue[tt[me]-1];var rr=new W(nt);for(me=0;me<nt;++me)rr[me]=rr[me-1]+Ue[me-1]<<1;var nr;if(Et){nr=new W(1<<nt);var He=15-nt;for(me=0;me<Zt;++me)if(tt[me])for(var Sr=me<<4|tt[me],br=nt-tt[me],ln=rr[tt[me]-1]++<<br,$r=ln|(1<<br)-1;ln<=$r;++ln)nr[a[ln]>>>He]=Sr}else for(nr=new W(Zt),me=0;me<Zt;++me)nr[me]=a[rr[tt[me]-1]++]>>>15-tt[me];return nr},p=new le(288),l=0;l<144;++l)p[l]=8;for(var l=144;l<256;++l)p[l]=9;for(var l=256;l<280;++l)p[l]=7;for(var l=280;l<288;++l)p[l]=8;for(var w=new le(32),l=0;l<32;++l)w[l]=5;var A=f(p,9,0),z=f(p,9,1),Z=f(w,5,0),ot=f(w,5,1),Lt=function(tt){for(var nt=tt[0],Et=1;Et<tt.length;++Et)tt[Et]>nt&&(nt=tt[Et]);return nt},At=function(tt,nt,Et){var Zt=nt/8>>0;return(tt[Zt]|tt[Zt+1]<<8)>>>(nt&7)&Et},se=function(tt,nt){var Et=nt/8>>0;return(tt[Et]|tt[Et+1]<<8|tt[Et+2]<<16)>>>(nt&7)},Le=function(tt){return(tt/8>>0)+(tt&7&&1)},Tt=function(tt,nt,Et){(nt==null||nt<0)&&(nt=0),(Et==null||Et>tt.length)&&(Et=tt.length);var Zt=new(tt instanceof W?W:tt instanceof Ht?Ht:le)(Et-nt);return Zt.set(tt.subarray(nt,Et)),Zt},$t=function(tt,nt,Et){var Zt=tt.length,me=!nt||Et,Ue=!Et||Et.i;Et||(Et={}),nt||(nt=new le(Zt*3));var rr=function(mr){var fe=nt.length;if(mr>fe){var Xe=new le(Math.max(fe*2,mr));Xe.set(nt),nt=Xe}},nr=Et.f||0,He=Et.p||0,Sr=Et.b||0,br=Et.l,ln=Et.d,$r=Et.m,Rr=Et.n,Sn=Zt*8;do{if(!br){Et.f=nr=At(tt,He,1);var Qr=At(tt,He+1,3);if(He+=3,Qr)if(Qr==1)br=z,ln=ot,$r=9,Rr=5;else if(Qr==2){var k=At(tt,He,31)+257,g=At(tt,He+10,15)+4,v=k+At(tt,He+5,31)+1;He+=14;for(var _=new le(v),C=new le(19),S=0;S<g;++S)C[b[S]]=At(tt,He+S*3,7);He+=g*3;var P=Lt(C),j=(1<<P)-1;if(!Ue&&He+v*(P+7)>Sn)break;for(var N=f(C,P,1),S=0;S<v;){var J=N[At(tt,He,j)];He+=J&15;var yn=J>>>4;if(yn<16)_[S++]=yn;else{var _t=0,vt=0;for(yn==16?(vt=3+At(tt,He,3),He+=2,_t=_[S-1]):yn==17?(vt=3+At(tt,He,7),He+=3):yn==18&&(vt=11+At(tt,He,127),He+=7);vt--;)_[S++]=_t}}var kt=_.subarray(0,k),V=_.subarray(k);$r=Lt(kt),Rr=Lt(V),br=f(kt,$r,1),ln=f(V,Rr,1)}else throw"invalid block type";else{var yn=Le(He)+4,Vn=tt[yn-4]|tt[yn-3]<<8,Fn=yn+Vn;if(Fn>Zt){if(Ue)throw"unexpected EOF";break}me&&rr(Sr+Vn),nt.set(tt.subarray(yn,Fn),Sr),Et.b=Sr+=Vn,Et.p=He=Fn*8;continue}if(He>Sn)throw"unexpected EOF"}me&&rr(Sr+131072);for(var Vt=(1<<$r)-1,It=(1<<Rr)-1,Jt=$r+Rr+18;Ue||He+Jt<Sn;){var _t=br[se(tt,He)&Vt],Mt=_t>>>4;if(He+=_t&15,He>Sn)throw"unexpected EOF";if(!_t)throw"invalid length/literal";if(Mt<256)nt[Sr++]=Mt;else if(Mt==256){br=null;break}else{var gt=Mt-254;if(Mt>264){var S=Mt-257,xe=wt[S];gt=At(tt,He,(1<<xe)-1)+u[S],He+=xe}var Be=ln[se(tt,He)&It],$e=Be>>>4;if(!Be)throw"invalid distance";He+=Be&15;var V=e[$e];if($e>3){var xe=G[$e];V+=se(tt,He)&(1<<xe)-1,He+=xe}if(He>Sn)throw"unexpected EOF";me&&rr(Sr+131072);for(var fr=Sr+gt;Sr<fr;Sr+=4)nt[Sr]=nt[Sr-V],nt[Sr+1]=nt[Sr+1-V],nt[Sr+2]=nt[Sr+2-V],nt[Sr+3]=nt[Sr+3-V];Sr=fr}}Et.l=br,Et.p=He,Et.b=Sr,br&&(nr=1,Et.m=$r,Et.d=ln,Et.n=Rr)}while(!nr);return Sr==nt.length?nt:Tt(nt,0,Sr)},Y=function(tt,nt,Et){Et<<=nt&7;var Zt=nt/8>>0;tt[Zt]|=Et,tt[Zt+1]|=Et>>>8},ue=function(tt,nt,Et){Et<<=nt&7;var Zt=nt/8>>0;tt[Zt]|=Et,tt[Zt+1]|=Et>>>8,tt[Zt+2]|=Et>>>16},tr=function(tt,nt){for(var Et=[],Zt=0;Zt<tt.length;++Zt)tt[Zt]&&Et.push({s:Zt,f:tt[Zt]});var me=Et.length,Ue=Et.slice();if(!me)return[new le(0),0];if(me==1){var rr=new le(Et[0].s+1);return rr[Et[0].s]=1,[rr,1]}Et.sort(function(v,_){return v.f-_.f}),Et.push({s:-1,f:25001});var nr=Et[0],He=Et[1],Sr=0,br=1,ln=2;for(Et[0]={s:-1,f:nr.f+He.f,l:nr,r:He};br!=me-1;)nr=Et[Et[Sr].f<Et[ln].f?Sr++:ln++],He=Et[Sr!=br&&Et[Sr].f<Et[ln].f?Sr++:ln++],Et[br++]={s:-1,f:nr.f+He.f,l:nr,r:He};for(var $r=Ue[0].s,Zt=1;Zt<me;++Zt)Ue[Zt].s>$r&&($r=Ue[Zt].s);var Rr=new W($r+1),Sn=Ce(Et[br-1],Rr,0);if(Sn>nt){var Zt=0,Qr=0,yn=Sn-nt,Vn=1<<yn;for(Ue.sort(function(_,C){return Rr[C.s]-Rr[_.s]||_.f-C.f});Zt<me;++Zt){var Fn=Ue[Zt].s;if(Rr[Fn]>nt)Qr+=Vn-(1<<Sn-Rr[Fn]),Rr[Fn]=nt;else break}for(Qr>>>=yn;Qr>0;){var k=Ue[Zt].s;Rr[k]<nt?Qr-=1<<nt-Rr[k]++-1:++Zt}for(;Zt>=0&&Qr;--Zt){var g=Ue[Zt].s;Rr[g]==nt&&(--Rr[g],++Qr)}Sn=nt}return[new le(Rr),Sn]},Ce=function Rt(tt,nt,Et){return tt.s==-1?Math.max(Rt(tt.l,nt,Et+1),Rt(tt.r,nt,Et+1)):nt[tt.s]=Et},ct=function(tt){for(var nt=tt.length;nt&&!tt[--nt];);for(var Et=new W(++nt),Zt=0,me=tt[0],Ue=1,rr=function(Sr){Et[Zt++]=Sr},nr=1;nr<=nt;++nr)if(tt[nr]==me&&nr!=nt)++Ue;else{if(!me&&Ue>2){for(;Ue>138;Ue-=138)rr(32754);Ue>2&&(rr(Ue>10?Ue-11<<5|28690:Ue-3<<5|12305),Ue=0)}else if(Ue>3){for(rr(me),--Ue;Ue>6;Ue-=6)rr(8304);Ue>2&&(rr(Ue-3<<5|8208),Ue=0)}for(;Ue--;)rr(me);Ue=1,me=tt[nr]}return[Et.subarray(0,Zt),nt]},Ut=function(tt,nt){for(var Et=0,Zt=0;Zt<nt.length;++Zt)Et+=tt[Zt]*nt[Zt];return Et},et=function(tt,nt,Et){var Zt=Et.length,me=Le(nt+2);tt[me]=Zt&255,tt[me+1]=Zt>>>8,tt[me+2]=tt[me]^255,tt[me+3]=tt[me+1]^255;for(var Ue=0;Ue<Zt;++Ue)tt[me+Ue+4]=Et[Ue];return(me+4+Zt)*8},X=function(tt,nt,Et,Zt,me,Ue,rr,nr,He,Sr,br){Y(nt,br++,Et),++me[256];for(var ln=tr(me,15),$r=ln[0],Rr=ln[1],Sn=tr(Ue,15),Qr=Sn[0],yn=Sn[1],Vn=ct($r),Fn=Vn[0],k=Vn[1],g=ct(Qr),v=g[0],_=g[1],C=new W(19),S=0;S<Fn.length;++S)C[Fn[S]&31]++;for(var S=0;S<v.length;++S)C[v[S]&31]++;for(var P=tr(C,7),j=P[0],N=P[1],J=19;J>4&&!j[b[J-1]];--J);var _t=Sr+5<<3,vt=Ut(me,p)+Ut(Ue,w)+rr,kt=Ut(me,$r)+Ut(Ue,Qr)+rr+14+3*J+Ut(C,j)+(2*C[16]+3*C[17]+7*C[18]);if(_t<=vt&&_t<=kt)return et(nt,br,tt.subarray(He,He+Sr));var V,Vt,It,Jt;if(Y(nt,br,1+(kt<vt)),br+=2,kt<vt){V=f($r,Rr,0),Vt=$r,It=f(Qr,yn,0),Jt=Qr;var Mt=f(j,N,0);Y(nt,br,k-257),Y(nt,br+5,_-1),Y(nt,br+10,J-4),br+=14;for(var S=0;S<J;++S)Y(nt,br+3*S,j[b[S]]);br+=3*J;for(var gt=[Fn,v],xe=0;xe<2;++xe)for(var Be=gt[xe],S=0;S<Be.length;++S){var $e=Be[S]&31;Y(nt,br,Mt[$e]),br+=j[$e],$e>15&&(Y(nt,br,Be[S]>>>5&127),br+=Be[S]>>>12)}}else V=A,Vt=p,It=Z,Jt=w;for(var S=0;S<nr;++S)if(Zt[S]>255){var $e=Zt[S]>>>18&31;ue(nt,br,V[$e+257]),br+=Vt[$e+257],$e>7&&(Y(nt,br,Zt[S]>>>23&31),br+=wt[$e]);var fr=Zt[S]&31;ue(nt,br,It[fr]),br+=Jt[fr],fr>3&&(ue(nt,br,Zt[S]>>>5&8191),br+=G[fr])}else ue(nt,br,V[Zt[S]]),br+=Vt[Zt[S]];return ue(nt,br,V[256]),br+Vt[256]},rt=new Ht([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M=new le(0),Q=function(tt,nt,Et,Zt,me,Ue){var rr=tt.length,nr=new le(Zt+rr+5*(1+Math.floor(rr/7e3))+me),He=nr.subarray(Zt,nr.length-me),Sr=0;if(!nt||rr<8)for(var br=0;br<=rr;br+=65535){var ln=br+65535;ln<rr?Sr=et(He,Sr,tt.subarray(br,ln)):(He[br]=Ue,Sr=et(He,Sr,tt.subarray(br,rr)))}else{for(var $r=rt[nt-1],Rr=$r>>>13,Sn=$r&8191,Qr=(1<<Et)-1,yn=new W(32768),Vn=new W(Qr+1),Fn=Math.ceil(Et/3),k=2*Fn,g=function(Ve){return(tt[Ve]^tt[Ve+1]<<Fn^tt[Ve+2]<<k)&Qr},v=new Ht(25e3),_=new W(288),C=new W(32),S=0,P=0,br=0,j=0,N=0,J=0;br<rr;++br){var _t=g(br),vt=br&32767,kt=Vn[_t];if(yn[vt]=kt,Vn[_t]=vt,N<=br){var V=rr-br;if((S>7e3||j>24576)&&V>423){Sr=X(tt,He,0,v,_,C,P,j,J,br-J,Sr),j=S=P=0,J=br;for(var Vt=0;Vt<286;++Vt)_[Vt]=0;for(var Vt=0;Vt<30;++Vt)C[Vt]=0}var It=2,Jt=0,Mt=Sn,gt=vt-kt&32767;if(V>2&&_t==g(br-gt))for(var xe=Math.min(Rr,V)-1,Be=Math.min(32767,br),$e=Math.min(258,V);gt<=Be&&--Mt&&vt!=kt;){if(tt[br+It]==tt[br+It-gt]){for(var fr=0;fr<$e&&tt[br+fr]==tt[br+fr-gt];++fr);if(fr>It){if(It=fr,Jt=gt,fr>xe)break;for(var Ge=Math.min(gt,fr-2),mr=0,Vt=0;Vt<Ge;++Vt){var fe=br-gt+Vt+32768&32767,Xe=yn[fe],ie=fe-Xe+32768&32767;ie>mr&&(mr=ie,kt=fe)}}}vt=kt,kt=yn[vt],gt+=vt-kt+32768&32767}if(Jt){v[j++]=268435456|o[It]<<18|t[Jt];var zt=o[It]&31,ce=t[Jt]&31;P+=wt[zt]+G[ce],++_[257+zt],++C[ce],N=br+It,++S}else v[j++]=tt[br],++_[tt[br]]}}Sr=X(tt,He,Ue,v,_,C,P,j,J,br-J,Sr),Ue||(Sr=et(He,Sr,M))}return Tt(nr,0,Zt+Le(Sr)+me)},ut=function(){for(var Rt=new Ht(256),tt=0;tt<256;++tt){for(var nt=tt,Et=9;--Et;)nt=(nt&1&&3988292384)^nt>>>1;Rt[tt]=nt}return Rt}(),ht=function(){var tt=4294967295;return{p:function(Et){for(var Zt=tt,me=0;me<Et.length;++me)Zt=ut[Zt&255^Et[me]]^Zt>>>8;tt=Zt},d:function(){return tt^4294967295}}},Wt=function(){var tt=1,nt=0;return{p:function(Zt){for(var me=tt,Ue=nt,rr=Zt.length,nr=0;nr!=rr;){for(var He=Math.min(nr+5552,rr);nr<He;++nr)me+=Zt[nr],Ue+=me;me%=65521,Ue%=65521}tt=me,nt=Ue},d:function(){return(tt>>>8<<16|(nt&255)<<8|nt>>>8)+((tt&255)<<23)*2}}},bt=function(tt,nt,Et,Zt,me){return Q(tt,nt.level==null?6:nt.level,nt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(tt.length)))*1.5):12+nt.mem,Et,Zt,!me)},Bt=function(tt,nt){var Et={};for(var Zt in tt)Et[Zt]=tt[Zt];for(var Zt in nt)Et[Zt]=nt[Zt];return Et},oe=function(tt,nt,Et){for(var Zt=tt(),me=tt.toString(),Ue=me.slice(me.indexOf("[")+1,me.lastIndexOf("]")).replace(/ /g,"").split(","),rr=0;rr<Zt.length;++rr){var nr=Zt[rr],He=Ue[rr];if(typeof nr=="function"){nt+=";"+He+"=";var Sr=nr.toString();if(nr.prototype)if(Sr.indexOf("[native code]")!=-1){var br=Sr.indexOf(" ",8)+1;nt+=Sr.slice(br,Sr.indexOf("(",br))}else{nt+=Sr;for(var ln in nr.prototype)nt+=";"+He+".prototype."+ln+"="+nr.prototype[ln].toString()}else nt+=Sr}else Et[He]=nr}return[nt,Et]},re=[],ae=function(tt){var nt=[];for(var Et in tt)(tt[Et]instanceof le||tt[Et]instanceof W||tt[Et]instanceof Ht)&&nt.push((tt[Et]=new tt[Et].constructor(tt[Et])).buffer);return nt},qt=function(tt,nt,Et,Zt){var me;if(!re[Et]){for(var Ue="",rr={},nr=tt.length-1,He=0;He<nr;++He)me=oe(tt[He],Ue,rr),Ue=me[0],rr=me[1];re[Et]=oe(tt[nr],Ue,rr)}var Sr=Bt({},re[Et][1]);return L(re[Et][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+nt.toString()+"}",Et,Sr,ae(Sr),Zt)},I=function(){return[le,W,Ht,wt,G,b,u,e,z,ot,a,f,Lt,At,se,Le,Tt,$t,Ni,$,it]},Pt=function(){return[le,W,Ht,wt,G,b,o,t,A,p,Z,w,a,rt,M,f,Y,ue,tr,Ce,ct,Ut,et,X,Le,Tt,Q,bt,Ii,$]},Dt=function(){return[er,on,gr,ht,ut]},F=function(){return[Hr,Jr]},x=function(){return[Dn,gr,Wt]},O=function(){return[hn]},$=function(tt){return postMessage(tt,[tt.buffer])},it=function(tt){return tt&&tt.size&&new le(tt.size)},pt=function(tt,nt,Et,Zt,me,Ue){var rr=qt(Et,Zt,me,function(nr,He){rr.terminate(),Ue(nr,He)});return nt.consume||(tt=new le(tt)),rr.postMessage([tt,nt],[tt.buffer]),function(){rr.terminate()}},jt=function(tt){return tt.ondata=function(nt,Et){return postMessage([nt,Et],[nt.buffer])},function(nt){return tt.push(nt.data[0],nt.data[1])}},ke=function(tt,nt,Et,Zt,me){var Ue,rr=qt(tt,Zt,me,function(nr,He){nr?(rr.terminate(),nt.ondata.call(nt,nr)):(He[1]&&rr.terminate(),nt.ondata.call(nt,nr,He[0],He[1]))});rr.postMessage(Et),nt.push=function(nr,He){if(Ue)throw"stream finished";if(!nt.ondata)throw"no stream handler";rr.postMessage([nr,Ue=He],[nr.buffer])},nt.terminate=function(){rr.terminate()}},Te=function(tt,nt){return tt[nt]|tt[nt+1]<<8},De=function(tt,nt){return(tt[nt]|tt[nt+1]<<8|tt[nt+2]<<16)+(tt[nt+3]<<23)*2},gr=function(tt,nt,Et){for(;Et;++nt)tt[nt]=Et,Et>>>=8},er=function(tt,nt){var Et=nt.filename;if(tt[0]=31,tt[1]=139,tt[2]=8,tt[8]=nt.level<2?4:nt.level==9?2:0,tt[9]=3,nt.mtime!=0&&gr(tt,4,Math.floor(new Date(nt.mtime||Date.now())/1e3)),Et){tt[3]=8;for(var Zt=0;Zt<=Et.length;++Zt)tt[Zt+10]=Et.charCodeAt(Zt)}},Hr=function(tt){if(tt[0]!=31||tt[1]!=139||tt[2]!=8)throw"invalid gzip data";var nt=tt[3],Et=10;nt&4&&(Et+=tt[10]|(tt[11]<<8)+2);for(var Zt=(nt>>3&1)+(nt>>4&1);Zt>0;Zt-=!tt[Et++]);return Et+(nt&2)},Jr=function(tt){var nt=tt.length;return(tt[nt-4]|tt[nt-3]<<8|tt[nt-2]<<16)+2*(tt[nt-1]<<23)},on=function(tt){return 10+(tt.filename&&tt.filename.length+1||0)},Dn=function(tt,nt){var Et=nt.level,Zt=Et==0?0:Et<6?1:Et==9?3:2;tt[0]=120,tt[1]=Zt<<6|(Zt?32-2*Zt:1)},hn=function(tt){if((tt[0]&15)!=8||tt[0]>>>4>7||(tt[0]<<8|tt[1])%31)throw"invalid zlib data";if(tt[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function wn(Rt,tt){return!tt&&typeof Rt=="function"&&(tt=Rt,Rt={}),this.ondata=tt,Rt}var Wn=function(){function Rt(tt,nt){!nt&&typeof tt=="function"&&(nt=tt,tt={}),this.ondata=nt,this.o=tt||{}}return Rt.prototype.p=function(tt,nt){this.ondata(bt(tt,this.o,0,0,!nt),nt)},Rt.prototype.push=function(tt,nt){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=nt,this.p(tt,nt||!1)},Rt}(),Xn=function(){function Rt(tt,nt){ke([Pt,function(){return[jt,Wn]}],this,wn.call(this,tt,nt),function(Et){var Zt=new Wn(Et.data);onmessage=jt(Zt)},6)}return Rt}();function Si(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return pt(Rt,tt,[Pt],function(Et){return $(Ii(Et.data[0],Et.data[1]))},0,nt)}function Ii(Rt,tt){return tt===void 0&&(tt={}),bt(Rt,tt,0,0)}var ni=function(){function Rt(tt){this.s={},this.p=new le(0),this.ondata=tt}return Rt.prototype.e=function(tt){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var nt=this.p.length,Et=new le(nt+tt.length);Et.set(this.p),Et.set(tt,nt),this.p=Et},Rt.prototype.c=function(tt){this.d=this.s.i=tt||!1;var nt=this.s.b,Et=$t(this.p,this.o,this.s);this.ondata(Tt(Et,nt,this.s.b),this.d),this.o=Tt(Et,this.s.b-32768),this.s.b=this.o.length,this.p=Tt(this.p,this.s.p/8>>0),this.s.p&=7},Rt.prototype.push=function(tt,nt){this.e(tt),this.c(nt)},Rt}(),Ea=function(){function Rt(tt){this.ondata=tt,ke([I,function(){return[jt,ni]}],this,0,function(){var nt=new ni;onmessage=jt(nt)},7)}return Rt}();function Ir(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return pt(Rt,tt,[I],function(Et){return $(Ni(Et.data[0],it(Et.data[1])))},1,nt)}function Ni(Rt,tt){return $t(Rt,tt)}var Fa=function(){function Rt(tt,nt){this.c=ht(),this.l=0,this.v=1,Wn.call(this,tt,nt)}return Rt.prototype.push=function(tt,nt){Wn.prototype.push.call(this,tt,nt)},Rt.prototype.p=function(tt,nt){this.c.p(tt),this.l+=tt.length;var Et=bt(tt,this.o,this.v&&on(this.o),nt&&8,!nt);this.v&&(er(Et,this.o),this.v=0),nt&&(gr(Et,Et.length-8,this.c.d()),gr(Et,Et.length-4,this.l)),this.ondata(Et,nt)},Rt}(),$s=function(){function Rt(tt,nt){ke([Pt,Dt,function(){return[jt,Wn,Fa]}],this,wn.call(this,tt,nt),function(Et){var Zt=new Fa(Et.data);onmessage=jt(Zt)},8)}return Rt}();function $o(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return pt(Rt,tt,[Pt,Dt,function(){return[Qs]}],function(Et){return $(Qs(Et.data[0],Et.data[1]))},2,nt)}function Qs(Rt,tt){tt===void 0&&(tt={});var nt=ht(),Et=Rt.length;nt.p(Rt);var Zt=bt(Rt,tt,on(tt),8),me=Zt.length;return er(Zt,tt),gr(Zt,me-8,nt.d()),gr(Zt,me-4,Et),Zt}var Ya=function(){function Rt(tt){this.v=1,ni.call(this,tt)}return Rt.prototype.push=function(tt,nt){if(ni.prototype.e.call(this,tt),this.v){var Et=Hr(this.p);if(Et>=this.p.length&&!nt)return;this.p=this.p.subarray(Et),this.v=0}if(nt){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}ni.prototype.c.call(this,nt)},Rt}(),Co=function(){function Rt(tt){this.ondata=tt,ke([I,F,function(){return[jt,ni,Ya]}],this,0,function(){var nt=new Ya;onmessage=jt(nt)},9)}return Rt}();function Ao(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return pt(Rt,tt,[I,F,function(){return[us]}],function(Et){return $(us(Et.data[0]))},3,nt)}function us(Rt,tt){return $t(Rt.subarray(Hr(Rt),-8),tt||new le(Jr(Rt)))}var hs=function(){function Rt(tt,nt){this.c=Wt(),this.v=1,Wn.call(this,tt,nt)}return Rt.prototype.push=function(tt,nt){Wn.prototype.push.call(this,tt,nt)},Rt.prototype.p=function(tt,nt){this.c.p(tt);var Et=bt(tt,this.o,this.v&&2,nt&&4,!nt);this.v&&(Dn(Et,this.o),this.v=0),nt&&gr(Et,Et.length-4,this.c.d()),this.ondata(Et,nt)},Rt}(),Ll=function(){function Rt(tt,nt){ke([Pt,x,function(){return[jt,Wn,hs]}],this,wn.call(this,tt,nt),function(Et){var Zt=new hs(Et.data);onmessage=jt(Zt)},10)}return Rt}();function to(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return pt(Rt,tt,[Pt,x,function(){return[Ls]}],function(Et){return $(Ls(Et.data[0],Et.data[1]))},4,nt)}function Ls(Rt,tt){tt===void 0&&(tt={});var nt=Wt();nt.p(Rt);var Et=bt(Rt,tt,2,4);return Dn(Et,tt),gr(Et,Et.length-4,nt.d()),Et}var ks=function(){function Rt(tt){this.v=1,ni.call(this,tt)}return Rt.prototype.push=function(tt,nt){if(ni.prototype.e.call(this,tt),this.v){if(this.p.length<2&&!nt)return;this.p=this.p.subarray(2),this.v=0}if(nt){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}ni.prototype.c.call(this,nt)},Rt}(),To=function(){function Rt(tt){this.ondata=tt,ke([I,O,function(){return[jt,ni,ks]}],this,0,function(){var nt=new ks;onmessage=jt(nt)},11)}return Rt}();function Qo(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return pt(Rt,tt,[I,O,function(){return[Es]}],function(Et){return $(Es(Et.data[0],it(Et.data[1])))},5,nt)}function Es(Rt,tt){return $t((hn(Rt),Rt.subarray(2,-4)),tt)}var Xa=function(){function Rt(tt){this.G=Ya,this.I=ni,this.Z=ks,this.ondata=tt}return Rt.prototype.push=function(tt,nt){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(tt,nt);else{if(this.p&&this.p.length){var Et=new le(this.p.length+tt.length);Et.set(this.p),Et.set(tt,this.p.length)}else this.p=tt;if(this.p.length>2){var Zt=this,me=function(){Zt.ondata.apply(Zt,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(me):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(me):new this.Z(me),this.s.push(this.p,nt),this.p=null}}},Rt}(),tl=function(){function Rt(tt){this.G=Co,this.I=Ea,this.Z=To,this.ondata=tt}return Rt.prototype.push=function(tt,nt){Xa.prototype.push.call(this,tt,nt)},Rt}();function el(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";return Rt[0]==31&&Rt[1]==139&&Rt[2]==8?Ao(Rt,tt,nt):(Rt[0]&15)!=8||Rt[0]>>4>7||(Rt[0]<<8|Rt[1])%31?Ir(Rt,tt,nt):Qo(Rt,tt,nt)}function K(Rt,tt){return Rt[0]==31&&Rt[1]==139&&Rt[2]==8?us(Rt,tt):(Rt[0]&15)!=8||Rt[0]>>4>7||(Rt[0]<<8|Rt[1])%31?Ni(Rt,tt):Es(Rt,tt)}var B=function Rt(tt,nt,Et,Zt){for(var me in tt){var Ue=tt[me],rr=nt+me;Ue instanceof le?Et[rr]=[Ue,Zt]:Array.isArray(Ue)?Et[rr]=[Ue[0],Bt(Zt,Ue[1])]:Rt(Ue,rr+"/",Et,Zt)}};function T(Rt,tt){var nt=Rt.length;if(!tt&&typeof TextEncoder!="undefined")return new TextEncoder().encode(Rt);for(var Et=new le(Rt.length+(Rt.length>>>1)),Zt=0,me=function(Sr){Et[Zt++]=Sr},Ue=0;Ue<nt;++Ue){if(Zt+5>Et.length){var rr=new le(Zt+8+(nt-Ue<<1));rr.set(Et),Et=rr}var nr=Rt.charCodeAt(Ue);nr<128||tt?me(nr):nr<2048?(me(192|nr>>>6),me(128|nr&63)):nr>55295&&nr<57344?(nr=65536+(nr&1023<<10)|Rt.charCodeAt(++Ue)&1023,me(240|nr>>>18),me(128|nr>>>12&63),me(128|nr>>>6&63),me(128|nr&63)):(me(224|nr>>>12),me(128|nr>>>6&63),me(128|nr&63))}return Tt(Et,0,Zt)}function q(Rt,tt){var nt="";if(!tt&&typeof TextDecoder!="undefined")return new TextDecoder().decode(Rt);for(var Et=0;Et<Rt.length;){var Zt=Rt[Et++];Zt<128||tt?nt+=String.fromCharCode(Zt):Zt<224?nt+=String.fromCharCode((Zt&31)<<6|Rt[Et++]&63):Zt<240?nt+=String.fromCharCode((Zt&15)<<12|(Rt[Et++]&63)<<6|Rt[Et++]&63):(Zt=((Zt&15)<<18|(Rt[Et++]&63)<<12|(Rt[Et++]&63)<<6|Rt[Et++]&63)-65536,nt+=String.fromCharCode(55296|Zt>>10,56320|Zt&1023))}return nt}var at=function(tt,nt){return nt+30+Te(tt,nt+26)+Te(tt,nt+28)},Ot=function(tt,nt,Et){var Zt=Te(tt,nt+28),me=q(tt.subarray(nt+46,nt+46+Zt),!(Te(tt,nt+8)&2048)),Ue=nt+46+Zt,rr=Et?Gt(tt,Ue):[De(tt,nt+20),De(tt,nt+24),De(tt,nt+42)],nr=rr[0],He=rr[1],Sr=rr[2];return[Te(tt,nt+10),nr,He,me,Ue+Te(tt,nt+30)+Te(tt,nt+32),Sr]},Gt=function(tt,nt){for(;Te(tt,nt)!=1;nt+=4+Te(tt,nt+2));return[De(tt,nt+12),De(tt,nt+4),De(tt,nt+20)]},Xt=function(tt,nt,Et,Zt,me,Ue,rr,nr,He,Sr){var br=Ue.length,ln=Zt.length;gr(tt,nt,He!=null?33639248:67324752),nt+=4,He!=null&&(tt[nt]=20,nt+=2),tt[nt]=20,nt+=2,tt[nt++]=Sr==8&&(nr.level==1?6:nr.level<6?4:nr.level==9?2:0),tt[nt++]=rr&&8,tt[nt]=Sr,nt+=2;var $r=new Date(nr.mtime||Date.now()),Rr=$r.getFullYear()-1980;if(Rr<0||Rr>119)throw"date not in range 1980-2099";gr(tt,nt,(Rr<<24)*2|$r.getMonth()+1<<21|$r.getDate()<<16|$r.getHours()<<11|$r.getMinutes()<<5|$r.getSeconds()>>>1),nt+=4,gr(tt,nt,Et),gr(tt,nt+4,ln),gr(tt,nt+8,me),gr(tt,nt+12,br),nt+=16,He!=null&&(gr(tt,nt+=10,He),nt+=4),tt.set(Ue,nt),nt+=br,He==null&&tt.set(Zt,nt)},ye=function(tt,nt,Et,Zt,me){gr(tt,nt,101010256),gr(tt,nt+8,Et),gr(tt,nt+10,Et),gr(tt,nt+12,Zt),gr(tt,nt+16,me)};function Me(Rt,tt,nt){if(nt||(nt=tt,tt={}),typeof nt!="function")throw"no callback";var Et={};B(Rt,"",Et,tt);var Zt=Object.keys(Et),me=Zt.length,Ue=0,rr=0,nr=me,He=new Array(me),Sr=[],br=function(){for(var Qr=0;Qr<Sr.length;++Qr)Sr[Qr]()},ln=function(){var Qr=new le(rr+22),yn=Ue,Vn=rr-Ue;rr=0;for(var Fn=0;Fn<nr;++Fn){var k=He[Fn];try{Xt(Qr,rr,k.c,k.d,k.m,k.n,k.u,k.p,null,k.t),Xt(Qr,Ue,k.c,k.d,k.m,k.n,k.u,k.p,rr,k.t),Ue+=46+k.n.length,rr+=30+k.n.length+k.d.length}catch(g){return nt(g,null)}}ye(Qr,Ue,He.length,Vn,yn),nt(null,Qr)};me||ln();for(var $r=function(Qr){var yn=Zt[Qr],Vn=Et[yn],Fn=Vn[0],k=Vn[1],g=ht(),v=Fn.length;g.p(Fn);var _=T(yn),C=_.length,S=k.level==0?0:8,P=function(N,J){if(N)br(),nt(N,null);else{var _t=J.length;He[Qr]={t:S,d:J,m:v,c:g.d(),u:yn.length!=_t,n:_,p:k},Ue+=30+C+_t,rr+=76+2*C+_t,--me||ln()}};if(_.length>65535&&P("filename too long",null),!S)P(null,Fn);else if(v<16e4)try{P(null,Ii(Fn,k))}catch(j){P(j,null)}else Sr.push(Si(Fn,k,P))},Rr=0;Rr<nr;++Rr)$r(Rr);return br}function ne(Rt,tt){tt===void 0&&(tt={});var nt={},Et=[];B(Rt,"",nt,tt);var Zt=0,me=0;for(var Ue in nt){var rr=nt[Ue],nr=rr[0],He=rr[1],Sr=He.level==0?0:8,br=T(Ue),ln=br.length;if(br.length>65535)throw"filename too long";var $r=Sr?Ii(nr,He):nr,Rr=$r.length,Sn=ht();Sn.p(nr),Et.push({t:Sr,d:$r,m:nr.length,c:Sn.d(),u:Ue.length!=ln,n:br,o:Zt,p:He}),Zt+=30+ln+Rr,me+=76+2*ln+Rr}for(var Qr=new le(me+22),yn=Zt,Vn=me-Zt,Fn=0;Fn<Et.length;++Fn){var k=Et[Fn];Xt(Qr,k.o,k.c,k.d,k.m,k.n,k.u,k.p,null,k.t),Xt(Qr,Zt,k.c,k.d,k.m,k.n,k.u,k.p,k.o,k.t),Zt+=46+k.n.length}return ye(Qr,Zt,Et.length,Vn,yn),Qr}function je(Rt,tt){if(typeof tt!="function")throw"no callback";for(var nt=[],Et=function(){for(var $r=0;$r<nt.length;++$r)nt[$r]()},Zt={},me=Rt.length-22;De(Rt,me)!=101010256;--me)if(!me||Rt.length-me>65558){tt("invalid zip file",null);return}var Ue=Te(Rt,me+8);Ue||tt(null,{});var rr=Ue,nr=De(Rt,me+16),He=nr==4294967295;if(He){if(me=De(Rt,me-12),De(Rt,me)!=101075792)throw"invalid zip file";rr=Ue=De(Rt,me+32),nr=De(Rt,me+48)}for(var Sr=function($r){var Rr=Ot(Rt,nr,He),Sn=Rr[0],Qr=Rr[1],yn=Rr[2],Vn=Rr[3],Fn=Rr[4],k=Rr[5],g=at(Rt,k);nr=Fn;var v=function(S,P){S?(Et(),tt(S,null)):(Zt[Vn]=P,--Ue||tt(null,Zt))};if(!Sn)v(null,Tt(Rt,g,g+Qr));else if(Sn==8){var _=Rt.subarray(g,g+Qr);if(Qr<32e4)try{v(null,Ni(_,new le(yn)))}catch(C){v(C,null)}else nt.push(Ir(_,{size:yn},v))}else v("unknown compression type "+Sn,null)},br=0;br<rr;++br)Sr(br);return Et}function Br(Rt){for(var tt={},nt=Rt.length-22;De(Rt,nt)!=101010256;--nt)if(!nt||Rt.length-nt>65558)throw"invalid zip file";var Et=Te(Rt,nt+8);if(!Et)return{};var Zt=De(Rt,nt+16),me=Zt==4294967295;if(me){if(nt=De(Rt,nt-12),De(Rt,nt)!=101075792)throw"invalid zip file";Et=De(Rt,nt+32),Zt=De(Rt,nt+48)}for(var Ue=0;Ue<Et;++Ue){var rr=Ot(Rt,Zt,me),nr=rr[0],He=rr[1],Sr=rr[2],br=rr[3],ln=rr[4],$r=rr[5],Rr=at(Rt,$r);if(Zt=ln,!nr)tt[br]=Tt(Rt,Rr,Rr+He);else if(nr==8)tt[br]=Ni(Rt.subarray(Rr,Rr+He),new le(Sr));else throw"unknown compression type "+nr}return tt}},epSk:function(un,_r,Ne){(function(Ke){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var L=L||{version:"4.6.0"};if(_r.fabric=L,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?L.document=document:L.document=document.implementation.createHTMLDocument(""),L.window=window;else{var le=Ne(2),W=new le.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;L.document=W.document,L.jsdomImplForWrapper=Ne(3).implForWrapper,L.nodeCanvas=Ne(4).Canvas,L.window=W,DOMParser=L.window.DOMParser}L.isTouchSupported="ontouchstart"in L.window||"ontouchstart"in L.document||L.window&&L.window.navigator&&L.window.navigator.maxTouchPoints>0,L.isLikelyNode=typeof Ke!="undefined"&&typeof window=="undefined",L.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],L.DPI=96,L.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",L.commaWsp="(?:\\s+,?\\s*|,\\s*)",L.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,L.reNonWord=/[ \n\.,;!\?\-]/,L.fontPaths={},L.iMatrix=[1,0,0,1,0,0],L.svgNS="http://www.w3.org/2000/svg",L.perfLimitSizeTotal=2097152,L.maxCacheSideLimit=4096,L.minCacheSideLimit=256,L.charWidthsCache={},L.textureSize=2048,L.disableStyleCopyPaste=!1,L.enableGLFiltering=!0,L.devicePixelRatio=L.window.devicePixelRatio||L.window.webkitDevicePixelRatio||L.window.mozDevicePixelRatio||1,L.browserShadowBlurConstant=1,L.arcToSegmentsCache={},L.boundsOfCurveCache={},L.cachesBoundsOfCurve=!0,L.forceGLPutImageData=!1,L.initFilterBackend=function(){if(L.enableGLFiltering&&L.isWebglSupported&&L.isWebglSupported(L.textureSize))return console.log("max texture size: "+L.maxTextureSize),new L.WebglFilterBackend({tileSize:L.textureSize});if(L.Canvas2dFilterBackend)return new L.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=L),function(){function b(e,t){if(!!this.__eventListeners[e]){var a=this.__eventListeners[e];t?a[a.indexOf(t)]=!1:L.util.array.fill(a,!1)}}function i(e,t){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var a in e)this.on(a,e[a]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this}function c(e,t){var a=function(){t.apply(this,arguments),this.off(e,a)}.bind(this);this.on(e,a)}function u(e,t){if(arguments.length===1)for(var a in e)c.call(this,a,e[a]);else c.call(this,e,t);return this}function o(e,t){if(!this.__eventListeners)return this;if(arguments.length===0)for(e in this.__eventListeners)b.call(this,e);else if(arguments.length===1&&typeof arguments[0]=="object")for(var a in e)b.call(this,a,e[a]);else b.call(this,e,t);return this}function r(e,t){if(!this.__eventListeners)return this;var a=this.__eventListeners[e];if(!a)return this;for(var l=0,s=a.length;l<s;l++)a[l]&&a[l].call(this,t||{});return this.__eventListeners[e]=a.filter(function(f){return f!==!1}),this}L.Observable={fire:r,on:i,once:u,off:o}}(),L.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var i=0,c=arguments.length;i<c;i++)this._onObjectAdded(arguments[i]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(i,c,u){var o=this._objects;return u?o[c]=i:o.splice(c,0,i),this._onObjectAdded&&this._onObjectAdded(i),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var i=this._objects,c,u=!1,o=0,r=arguments.length;o<r;o++)c=i.indexOf(arguments[o]),c!==-1&&(u=!0,i.splice(c,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[o]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(i,c){for(var u=this.getObjects(),o=0,r=u.length;o<r;o++)i.call(c,u[o],o,u);return this},getObjects:function(i){return typeof i=="undefined"?this._objects.concat():this._objects.filter(function(c){return c.type===i})},item:function(i){return this._objects[i]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(i,c){return this._objects.indexOf(i)>-1?!0:c?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(i,!0)}):!1},complexity:function(){return this._objects.reduce(function(i,c){return i+=c.complexity?c.complexity():0,i},0)}},L.CommonMethods={_setOptions:function(i){for(var c in i)this.set(c,i[c])},_initGradient:function(i,c){i&&i.colorStops&&!(i instanceof L.Gradient)&&this.set(c,new L.Gradient(i))},_initPattern:function(i,c,u){i&&i.source&&!(i instanceof L.Pattern)?this.set(c,new L.Pattern(i,u)):u&&u()},_setObject:function(i){for(var c in i)this._set(c,i[c])},set:function(i,c){return typeof i=="object"?this._setObject(i):this._set(i,c),this},_set:function(i,c){this[i]=c},toggle:function(i){var c=this.get(i);return typeof c=="boolean"&&this.set(i,!c),this},get:function(i){return this[i]}},function(b){var i=Math.sqrt,c=Math.atan2,u=Math.pow,o=Math.PI/180,r=Math.PI/2;L.util={cos:function(t){if(t===0)return 1;t<0&&(t=-t);var a=t/r;switch(a){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(t===0)return 0;var a=t/r,l=1;switch(t<0&&(l=-1),a){case 1:return l;case 2:return 0;case 3:return-l}return Math.sin(t)},removeFromArray:function(t,a){var l=t.indexOf(a);return l!==-1&&t.splice(l,1),t},getRandomInt:function(t,a){return Math.floor(Math.random()*(a-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,a,l){var s=new L.Point(t.x-a.x,t.y-a.y),f=L.util.rotateVector(s,l);return new L.Point(f.x,f.y).addEquals(a)},rotateVector:function(t,a){var l=L.util.sin(a),s=L.util.cos(a),f=t.x*s-t.y*l,p=t.x*l+t.y*s;return{x:f,y:p}},transformPoint:function(t,a,l){return l?new L.Point(a[0]*t.x+a[2]*t.y,a[1]*t.x+a[3]*t.y):new L.Point(a[0]*t.x+a[2]*t.y+a[4],a[1]*t.x+a[3]*t.y+a[5])},makeBoundingBoxFromPoints:function(t,a){if(a)for(var l=0;l<t.length;l++)t[l]=L.util.transformPoint(t[l],a);var s=[t[0].x,t[1].x,t[2].x,t[3].x],f=L.util.array.min(s),p=L.util.array.max(s),w=p-f,A=[t[0].y,t[1].y,t[2].y,t[3].y],z=L.util.array.min(A),Z=L.util.array.max(A),ot=Z-z;return{left:f,top:z,width:w,height:ot}},invertTransform:function(t){var a=1/(t[0]*t[3]-t[1]*t[2]),l=[a*t[3],-a*t[1],-a*t[2],a*t[0]],s=L.util.transformPoint({x:t[4],y:t[5]},l,!0);return l[4]=-s.x,l[5]=-s.y,l},toFixed:function(t,a){return parseFloat(Number(t).toFixed(a))},parseUnit:function(t,a){var l=/\D{0,2}$/.exec(t),s=parseFloat(t);switch(a||(a=L.Text.DEFAULT_SVG_FONT_SIZE),l[0]){case"mm":return s*L.DPI/25.4;case"cm":return s*L.DPI/2.54;case"in":return s*L.DPI;case"pt":return s*L.DPI/72;case"pc":return s*L.DPI/72*12;case"em":return s*a;default:return s}},falseFunction:function(){return!1},getKlass:function(t,a){return t=L.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),L.util.resolveNamespace(a)[t]},getSvgAttributes:function(t){var a=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":a=a.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":a=a.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":a=a.concat(["offset","stop-color","stop-opacity"]);break}return a},resolveNamespace:function(t){if(!t)return L;var a=t.split("."),l=a.length,s,f=b||L.window;for(s=0;s<l;++s)f=f[a[s]];return f},loadImage:function(t,a,l,s){if(!t){a&&a.call(l,t);return}var f=L.util.createImage(),p=function(){a&&a.call(l,f,!1),f=f.onload=f.onerror=null};f.onload=p,f.onerror=function(){L.log("Error loading "+f.src),a&&a.call(l,null,!0),f=f.onload=f.onerror=null},t.indexOf("data")!==0&&s!==void 0&&s!==null&&(f.crossOrigin=s),t.substring(0,14)==="data:image/svg"&&(f.onload=null,L.util.loadImageInDom(f,p)),f.src=t},loadImageInDom:function(t,a){var l=L.document.createElement("div");l.style.width=l.style.height="1px",l.style.left=l.style.top="-100%",l.style.position="absolute",l.appendChild(t),L.document.querySelector("body").appendChild(l),t.onload=function(){a(),l.parentNode.removeChild(l),l=null}},enlivenObjects:function(t,a,l,s){t=t||[];var f=[],p=0,w=t.length;function A(){++p===w&&a&&a(f.filter(function(z){return z}))}if(!w){a&&a(f);return}t.forEach(function(z,Z){if(!z||!z.type){A();return}var ot=L.util.getKlass(z.type,l);ot.fromObject(z,function(Lt,At){At||(f[Z]=Lt),s&&s(z,Lt,At),A()})})},enlivenPatterns:function(t,a){t=t||[];function l(){++f===p&&a&&a(s)}var s=[],f=0,p=t.length;if(!p){a&&a(s);return}t.forEach(function(w,A){w&&w.source?new L.Pattern(w,function(z){s[A]=z,l()}):(s[A]=w,l())})},groupSVGElements:function(t,a,l){var s;return t&&t.length===1?t[0]:(a&&(a.width&&a.height?a.centerPoint={x:a.width/2,y:a.height/2}:(delete a.width,delete a.height)),s=new L.Group(t,a),typeof l!="undefined"&&(s.sourcePath=l),s)},populateWithProperties:function(t,a,l){if(l&&Object.prototype.toString.call(l)==="[object Array]")for(var s=0,f=l.length;s<f;s++)l[s]in t&&(a[l[s]]=t[l[s]])},drawDashedLine:function(t,a,l,s,f,p){var w=s-a,A=f-l,z=i(w*w+A*A),Z=c(A,w),ot=p.length,Lt=0,At=!0;for(t.save(),t.translate(a,l),t.moveTo(0,0),t.rotate(Z),a=0;z>a;)a+=p[Lt++%ot],a>z&&(a=z),t[At?"lineTo":"moveTo"](a,0),At=!At;t.restore()},createCanvasElement:function(){return L.document.createElement("canvas")},copyCanvasElement:function(t){var a=L.util.createCanvasElement();return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0),a},toDataURL:function(t,a,l){return t.toDataURL("image/"+a,l)},createImage:function(){return L.document.createElement("img")},multiplyTransformMatrices:function(t,a,l){return[t[0]*a[0]+t[2]*a[1],t[1]*a[0]+t[3]*a[1],t[0]*a[2]+t[2]*a[3],t[1]*a[2]+t[3]*a[3],l?0:t[0]*a[4]+t[2]*a[5]+t[4],l?0:t[1]*a[4]+t[3]*a[5]+t[5]]},qrDecompose:function(t){var a=c(t[1],t[0]),l=u(t[0],2)+u(t[1],2),s=i(l),f=(t[0]*t[3]-t[2]*t[1])/s,p=c(t[0]*t[2]+t[1]*t[3],l);return{angle:a/o,scaleX:s,scaleY:f,skewX:p/o,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return L.iMatrix.concat();var a=L.util.degreesToRadians(t.angle),l=L.util.cos(a),s=L.util.sin(a);return[l,s,-s,l,0,0]},calcDimensionsMatrix:function(t){var a=typeof t.scaleX=="undefined"?1:t.scaleX,l=typeof t.scaleY=="undefined"?1:t.scaleY,s=[t.flipX?-a:a,0,0,t.flipY?-l:l,0,0],f=L.util.multiplyTransformMatrices,p=L.util.degreesToRadians;return t.skewX&&(s=f(s,[1,0,Math.tan(p(t.skewX)),1],!0)),t.skewY&&(s=f(s,[1,Math.tan(p(t.skewY)),0,1],!0)),s},composeMatrix:function(t){var a=[1,0,0,1,t.translateX||0,t.translateY||0],l=L.util.multiplyTransformMatrices;return t.angle&&(a=l(a,L.util.calcRotateMatrix(t))),(t.scaleX!==1||t.scaleY!==1||t.skewX||t.skewY||t.flipX||t.flipY)&&(a=l(a,L.util.calcDimensionsMatrix(t))),a},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,a,l,s){s>0&&(a>s?a-=s:a=0,l>s?l-=s:l=0);var f=!0,p,w,A=t.getImageData(a,l,s*2||1,s*2||1),z=A.data.length;for(p=3;p<z&&(w=A.data[p],f=w<=0,f!==!1);p+=4);return A=null,f},parsePreserveAspectRatioAttribute:function(t){var a="meet",l="Mid",s="Mid",f=t.split(" "),p;return f&&f.length&&(a=f.pop(),a!=="meet"&&a!=="slice"?(p=a,a="meet"):f.length&&(p=f.pop())),l=p!=="none"?p.slice(1,4):"none",s=p!=="none"?p.slice(5,8):"none",{meetOrSlice:a,alignX:l,alignY:s}},clearFabricFontCache:function(t){t=(t||"").toLowerCase(),t?L.charWidthsCache[t]&&delete L.charWidthsCache[t]:L.charWidthsCache={}},limitDimsByArea:function(t,a){var l=Math.sqrt(a*t),s=Math.floor(a/l);return{x:Math.floor(l),y:s}},capValue:function(t,a,l){return Math.max(t,Math.min(a,l))},findScaleToFit:function(t,a){return Math.min(a.width/t.width,a.height/t.height)},findScaleToCover:function(t,a){return Math.max(a.width/t.width,a.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map(function(a){return L.util.toFixed(a,L.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(t,a){var l=L.util.invertTransform(a),s=L.util.multiplyTransformMatrices(l,t.calcOwnMatrix());L.util.applyTransformToObject(t,s)},addTransformToObject:function(t,a){L.util.applyTransformToObject(t,L.util.multiplyTransformMatrices(a,t.calcOwnMatrix()))},applyTransformToObject:function(t,a){var l=L.util.qrDecompose(a),s=new L.Point(l.translateX,l.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",l.scaleX),t.set("scaleY",l.scaleY),t.skewX=l.skewX,t.skewY=l.skewY,t.angle=l.angle,t.setPositionByOrigin(s,"center","center")},sizeAfterTransform:function(t,a,l){var s=t/2,f=a/2,p=[{x:-s,y:-f},{x:s,y:-f},{x:-s,y:f},{x:s,y:f}],w=L.util.calcDimensionsMatrix(l),A=L.util.makeBoundingBoxFromPoints(p,w);return{x:A.width,y:A.height}}}}(_r),function(){var b=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function u(et,X,rt,M,Q,ut,ht,Wt,bt,Bt,oe){var re=L.util.cos(et),ae=L.util.sin(et),qt=L.util.cos(X),I=L.util.sin(X),Pt=rt*Q*qt-M*ut*I+ht,Dt=M*Q*qt+rt*ut*I+Wt,F=Bt+bt*(-rt*Q*ae-M*ut*re),x=oe+bt*(-M*Q*ae+rt*ut*re),O=Pt+bt*(rt*Q*I+M*ut*qt),$=Dt+bt*(M*Q*I-rt*ut*qt);return["C",F,x,O,$,Pt,Dt]}function o(et,X,rt,M,Q,ut,ht){var Wt=Math.PI,bt=ht*Wt/180,Bt=L.util.sin(bt),oe=L.util.cos(bt),re=0,ae=0;rt=Math.abs(rt),M=Math.abs(M);var qt=-oe*et*.5-Bt*X*.5,I=-oe*X*.5+Bt*et*.5,Pt=rt*rt,Dt=M*M,F=I*I,x=qt*qt,O=Pt*Dt-Pt*F-Dt*x,$=0;if(O<0){var it=Math.sqrt(1-O/(Pt*Dt));rt*=it,M*=it}else $=(Q===ut?-1:1)*Math.sqrt(O/(Pt*F+Dt*x));var pt=$*rt*I/M,jt=-$*M*qt/rt,ke=oe*pt-Bt*jt+et*.5,Te=Bt*pt+oe*jt+X*.5,De=r(1,0,(qt-pt)/rt,(I-jt)/M),gr=r((qt-pt)/rt,(I-jt)/M,(-qt-pt)/rt,(-I-jt)/M);ut===0&&gr>0?gr-=2*Wt:ut===1&&gr<0&&(gr+=2*Wt);for(var er=Math.ceil(Math.abs(gr/Wt*2)),Hr=[],Jr=gr/er,on=8/3*Math.sin(Jr/4)*Math.sin(Jr/4)/Math.sin(Jr/2),Dn=De+Jr,hn=0;hn<er;hn++)Hr[hn]=u(De,Dn,oe,Bt,rt,M,ke,Te,on,re,ae),re=Hr[hn][5],ae=Hr[hn][6],De=Dn,Dn+=Jr;return Hr}function r(et,X,rt,M){var Q=Math.atan2(X,et),ut=Math.atan2(M,rt);return ut>=Q?ut-Q:2*Math.PI-(Q-ut)}function e(et,X,rt,M,Q,ut,ht,Wt){var bt;if(L.cachesBoundsOfCurve&&(bt=b.call(arguments),L.boundsOfCurveCache[bt]))return L.boundsOfCurveCache[bt];var Bt=Math.sqrt,oe=Math.min,re=Math.max,ae=Math.abs,qt=[],I=[[],[]],Pt,Dt,F,x,O,$,it,pt;Dt=6*et-12*rt+6*Q,Pt=-3*et+9*rt-9*Q+3*ht,F=3*rt-3*et;for(var jt=0;jt<2;++jt){if(jt>0&&(Dt=6*X-12*M+6*ut,Pt=-3*X+9*M-9*ut+3*Wt,F=3*M-3*X),ae(Pt)<1e-12){if(ae(Dt)<1e-12)continue;x=-F/Dt,0<x&&x<1&&qt.push(x);continue}it=Dt*Dt-4*F*Pt,!(it<0)&&(pt=Bt(it),O=(-Dt+pt)/(2*Pt),0<O&&O<1&&qt.push(O),$=(-Dt-pt)/(2*Pt),0<$&&$<1&&qt.push($))}for(var ke,Te,De=qt.length,gr=De,er;De--;)x=qt[De],er=1-x,ke=er*er*er*et+3*er*er*x*rt+3*er*x*x*Q+x*x*x*ht,I[0][De]=ke,Te=er*er*er*X+3*er*er*x*M+3*er*x*x*ut+x*x*x*Wt,I[1][De]=Te;I[0][gr]=et,I[1][gr]=X,I[0][gr+1]=ht,I[1][gr+1]=Wt;var Hr=[{x:oe.apply(null,I[0]),y:oe.apply(null,I[1])},{x:re.apply(null,I[0]),y:re.apply(null,I[1])}];return L.cachesBoundsOfCurve&&(L.boundsOfCurveCache[bt]=Hr),Hr}function t(et,X,rt){for(var M=rt[1],Q=rt[2],ut=rt[3],ht=rt[4],Wt=rt[5],bt=rt[6],Bt=rt[7],oe=o(bt-et,Bt-X,M,Q,ht,Wt,ut),re=0,ae=oe.length;re<ae;re++)oe[re][1]+=et,oe[re][2]+=X,oe[re][3]+=et,oe[re][4]+=X,oe[re][5]+=et,oe[re][6]+=X;return oe}function a(et){var X=0,rt=0,M=et.length,Q=0,ut=0,ht,Wt,bt,Bt=[],oe,re,ae;for(Wt=0;Wt<M;++Wt){switch(bt=!1,ht=et[Wt].slice(0),ht[0]){case"l":ht[0]="L",ht[1]+=X,ht[2]+=rt;case"L":X=ht[1],rt=ht[2];break;case"h":ht[1]+=X;case"H":ht[0]="L",ht[2]=rt,X=ht[1];break;case"v":ht[1]+=rt;case"V":ht[0]="L",rt=ht[1],ht[1]=X,ht[2]=rt;break;case"m":ht[0]="M",ht[1]+=X,ht[2]+=rt;case"M":X=ht[1],rt=ht[2],Q=ht[1],ut=ht[2];break;case"c":ht[0]="C",ht[1]+=X,ht[2]+=rt,ht[3]+=X,ht[4]+=rt,ht[5]+=X,ht[6]+=rt;case"C":re=ht[3],ae=ht[4],X=ht[5],rt=ht[6];break;case"s":ht[0]="S",ht[1]+=X,ht[2]+=rt,ht[3]+=X,ht[4]+=rt;case"S":oe==="C"?(re=2*X-re,ae=2*rt-ae):(re=X,ae=rt),X=ht[3],rt=ht[4],ht[0]="C",ht[5]=ht[3],ht[6]=ht[4],ht[3]=ht[1],ht[4]=ht[2],ht[1]=re,ht[2]=ae,re=ht[3],ae=ht[4];break;case"q":ht[0]="Q",ht[1]+=X,ht[2]+=rt,ht[3]+=X,ht[4]+=rt;case"Q":re=ht[1],ae=ht[2],X=ht[3],rt=ht[4];break;case"t":ht[0]="T",ht[1]+=X,ht[2]+=rt;case"T":oe==="Q"?(re=2*X-re,ae=2*rt-ae):(re=X,ae=rt),ht[0]="Q",X=ht[1],rt=ht[2],ht[1]=re,ht[2]=ae,ht[3]=X,ht[4]=rt;break;case"a":ht[0]="A",ht[6]+=X,ht[7]+=rt;case"A":bt=!0,Bt=Bt.concat(t(X,rt,ht)),X=ht[6],rt=ht[7];break;case"z":case"Z":X=Q,rt=ut;break;default:}bt||Bt.push(ht),oe=ht[0]}return Bt}function l(et,X,rt,M){return Math.sqrt((rt-et)*(rt-et)+(M-X)*(M-X))}function s(et){return et*et*et}function f(et){return 3*et*et*(1-et)}function p(et){return 3*et*(1-et)*(1-et)}function w(et){return(1-et)*(1-et)*(1-et)}function A(et,X,rt,M,Q,ut,ht,Wt){return function(bt){var Bt=s(bt),oe=f(bt),re=p(bt),ae=w(bt);return{x:ht*Bt+Q*oe+rt*re+et*ae,y:Wt*Bt+ut*oe+M*re+X*ae}}}function z(et,X,rt,M,Q,ut,ht,Wt){return function(bt){var Bt=1-bt,oe=3*Bt*Bt*(rt-et)+6*Bt*bt*(Q-rt)+3*bt*bt*(ht-Q),re=3*Bt*Bt*(M-X)+6*Bt*bt*(ut-M)+3*bt*bt*(Wt-ut);return Math.atan2(re,oe)}}function Z(et){return et*et}function ot(et){return 2*et*(1-et)}function Lt(et){return(1-et)*(1-et)}function At(et,X,rt,M,Q,ut){return function(ht){var Wt=Z(ht),bt=ot(ht),Bt=Lt(ht);return{x:Q*Wt+rt*bt+et*Bt,y:ut*Wt+M*bt+X*Bt}}}function se(et,X,rt,M,Q,ut){return function(ht){var Wt=1-ht,bt=2*Wt*(rt-et)+2*ht*(Q-rt),Bt=2*Wt*(M-X)+2*ht*(ut-M);return Math.atan2(Bt,bt)}}function Le(et,X,rt){var M={x:X,y:rt},Q,ut=0,ht;for(ht=1;ht<=100;ht+=1)Q=et(ht/100),ut+=l(M.x,M.y,Q.x,Q.y),M=Q;return ut}function Tt(et,X){for(var rt=0,M=0,Q=et.iterator,ut={x:et.x,y:et.y},ht,Wt,bt=.01,Bt=et.angleFinder,oe;M<X&&rt<=1&&bt>1e-4;)ht=Q(rt),oe=rt,Wt=l(ut.x,ut.y,ht.x,ht.y),Wt+M>X?(bt/=2,rt-=bt):(ut=ht,rt+=bt,M+=Wt);return ht.angle=Bt(oe),ht}function $t(et){for(var X=0,rt=et.length,M,Q=0,ut=0,ht=0,Wt=0,bt=[],Bt,oe,re,ae=0;ae<rt;ae++){switch(M=et[ae],oe={x:Q,y:ut,command:M[0]},M[0]){case"M":oe.length=0,ht=Q=M[1],Wt=ut=M[2];break;case"L":oe.length=l(Q,ut,M[1],M[2]),Q=M[1],ut=M[2];break;case"C":Bt=A(Q,ut,M[1],M[2],M[3],M[4],M[5],M[6]),re=z(Q,ut,M[1],M[2],M[3],M[4],M[5],M[6]),oe.iterator=Bt,oe.angleFinder=re,oe.length=Le(Bt,Q,ut),Q=M[5],ut=M[6];break;case"Q":Bt=At(Q,ut,M[1],M[2],M[3],M[4]),re=se(Q,ut,M[1],M[2],M[3],M[4]),oe.iterator=Bt,oe.angleFinder=re,oe.length=Le(Bt,Q,ut),Q=M[3],ut=M[4];break;case"Z":case"z":oe.destX=ht,oe.destY=Wt,oe.length=l(Q,ut,ht,Wt),Q=ht,ut=Wt;break}X+=oe.length,bt.push(oe)}return bt.push({length:X,x:Q,y:ut}),bt}function Y(et,X,rt){rt||(rt=$t(et));for(var M=0;X-rt[M].length>0&&M<rt.length-2;)X-=rt[M].length,M++;var Q=rt[M],ut=X/Q.length,ht=Q.command,Wt=et[M],bt;switch(ht){case"M":return{x:Q.x,y:Q.y,angle:0};case"Z":case"z":return bt=new L.Point(Q.x,Q.y).lerp(new L.Point(Q.destX,Q.destY),ut),bt.angle=Math.atan2(Q.destY-Q.y,Q.destX-Q.x),bt;case"L":return bt=new L.Point(Q.x,Q.y).lerp(new L.Point(Wt[1],Wt[2]),ut),bt.angle=Math.atan2(Wt[2]-Q.y,Wt[1]-Q.x),bt;case"C":return Tt(Q,X);case"Q":return Tt(Q,X)}}function ue(et){var X=[],rt=[],M,Q,ut=L.rePathCommand,ht="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Wt="("+ht+")"+L.commaWsp,bt="([01])"+L.commaWsp+"?",Bt=Wt+"?"+Wt+"?"+Wt+bt+bt+Wt+"?("+ht+")",oe=new RegExp(Bt,"g"),re,ae,qt;if(!et||!et.match)return X;qt=et.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var I=0,Pt,Dt=qt.length;I<Dt;I++){M=qt[I],ae=M.slice(1).trim(),rt.length=0;var F=M.charAt(0);if(Pt=[F],F.toLowerCase()==="a")for(var x;x=oe.exec(ae);)for(var O=1;O<x.length;O++)rt.push(x[O]);else for(;re=ut.exec(ae);)rt.push(re[0]);for(var O=0,$=rt.length;O<$;O++)Q=parseFloat(rt[O]),isNaN(Q)||Pt.push(Q);var it=i[F.toLowerCase()],pt=c[F]||F;if(Pt.length-1>it)for(var jt=1,ke=Pt.length;jt<ke;jt+=it)X.push([F].concat(Pt.slice(jt,jt+it))),F=pt;else X.push(Pt)}return X}function tr(et,X){var rt=[],M,Q=new L.Point(et[0].x,et[0].y),ut=new L.Point(et[1].x,et[1].y),ht=et.length,Wt=1,bt=0,Bt=ht>2;for(X=X||0,Bt&&(Wt=et[2].x<ut.x?-1:et[2].x===ut.x?0:1,bt=et[2].y<ut.y?-1:et[2].y===ut.y?0:1),rt.push(["M",Q.x-Wt*X,Q.y-bt*X]),M=1;M<ht;M++){if(!Q.eq(ut)){var oe=Q.midPointFrom(ut);rt.push(["Q",Q.x,Q.y,oe.x,oe.y])}Q=et[M],M+1<et.length&&(ut=et[M+1])}return Bt&&(Wt=Q.x>et[M-2].x?1:Q.x===et[M-2].x?0:-1,bt=Q.y>et[M-2].y?1:Q.y===et[M-2].y?0:-1),rt.push(["L",Q.x+Wt*X,Q.y+bt*X]),rt}function Ce(et,X,rt){return rt&&(X=L.util.multiplyTransformMatrices(X,[1,0,0,1,-rt.x,-rt.y])),et.map(function(M){for(var Q=M.slice(0),ut={},ht=1;ht<M.length-1;ht+=2)ut.x=M[ht],ut.y=M[ht+1],ut=L.util.transformPoint(ut,X),Q[ht]=ut.x,Q[ht+1]=ut.y;return Q})}function ct(et,X,rt,M,Q,ut,ht,Wt,bt){for(var Bt=0,oe=0,re,ae=[],qt=o(Wt-et,bt-X,rt,M,ut,ht,Q),I=0,Pt=qt.length;I<Pt;I++)re=e(Bt,oe,qt[I][1],qt[I][2],qt[I][3],qt[I][4],qt[I][5],qt[I][6]),ae.push({x:re[0].x+et,y:re[0].y+X}),ae.push({x:re[1].x+et,y:re[1].y+X}),Bt=qt[I][5],oe=qt[I][6];return ae}function Ut(et,X,rt,M){M=M.slice(0).unshift("X");var Q=t(X,rt,M);Q.forEach(function(ut){et.bezierCurveTo.apply(et,ut.slice(1))})}L.util.joinPath=function(et){return et.map(function(X){return X.join(" ")}).join(" ")},L.util.parsePath=ue,L.util.makePathSimpler=a,L.util.getSmoothPathFromPoints=tr,L.util.getPathSegmentsInfo=$t,L.util.getBoundsOfCurve=e,L.util.getPointOnPath=Y,L.util.transformPath=Ce,L.util.fromArcToBeizers=t,L.util.getBoundsOfArc=ct,L.util.drawArc=Ut}(),function(){var b=Array.prototype.slice;function i(e,t){for(var a=b.call(arguments,2),l=[],s=0,f=e.length;s<f;s++)l[s]=a.length?e[s][t].apply(e[s],a):e[s][t].call(e[s]);return l}function c(e,t){return r(e,t,function(a,l){return a>=l})}function u(e,t){return r(e,t,function(a,l){return a<l})}function o(e,t){for(var a=e.length;a--;)e[a]=t;return e}function r(e,t,a){if(!(!e||e.length===0)){var l=e.length-1,s=t?e[l][t]:e[l];if(t)for(;l--;)a(e[l][t],s)&&(s=e[l][t]);else for(;l--;)a(e[l],s)&&(s=e[l]);return s}}L.util.array={fill:o,invoke:i,min:u,max:c}}(),function(){function b(c,u,o){if(o)if(!L.isLikelyNode&&u instanceof Element)c=u;else if(u instanceof Array){c=[];for(var r=0,e=u.length;r<e;r++)c[r]=b({},u[r],o)}else if(u&&typeof u=="object")for(var t in u)t==="canvas"||t==="group"?c[t]=null:u.hasOwnProperty(t)&&(c[t]=b({},u[t],o));else c=u;else for(var t in u)c[t]=u[t];return c}function i(c,u){return b({},c,u)}L.util.object={extend:b,clone:i},L.util.object.extend(L.util,L.Observable)}(),function(){function b(r){return r.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function i(r,e){return r.charAt(0).toUpperCase()+(e?r.slice(1):r.slice(1).toLowerCase())}function c(r){return r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(r){var e=0,t,a=[];for(e=0,t;e<r.length;e++)(t=o(r,e))!==!1&&a.push(t);return a}function o(r,e){var t=r.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return r.charAt(e);if(55296<=t&&t<=56319){if(r.length<=e+1)throw"High surrogate without following low surrogate";var a=r.charCodeAt(e+1);if(56320>a||a>57343)throw"High surrogate without following low surrogate";return r.charAt(e)+r.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";var l=r.charCodeAt(e-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}L.util.string={camelize:b,capitalize:i,escapeXml:c,graphemeSplit:u}}(),function(){var b=Array.prototype.slice,i=function(){},c=function(){for(var t in{toString:1})if(t==="toString")return!1;return!0}(),u=function(a,l,s){for(var f in l)f in a.prototype&&typeof a.prototype[f]=="function"&&(l[f]+"").indexOf("callSuper")>-1?a.prototype[f]=function(p){return function(){var w=this.constructor.superclass;this.constructor.superclass=s;var A=l[p].apply(this,arguments);if(this.constructor.superclass=w,p!=="initialize")return A}}(f):a.prototype[f]=l[f],c&&(l.toString!==Object.prototype.toString&&(a.prototype.toString=l.toString),l.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=l.valueOf))};function o(){}function r(t){for(var a=null,l=this;l.constructor.superclass;){var s=l.constructor.superclass.prototype[t];if(l[t]!==s){a=s;break}l=l.constructor.superclass.prototype}return a?arguments.length>1?a.apply(this,b.call(arguments,1)):a.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}function e(){var t=null,a=b.call(arguments,0);typeof a[0]=="function"&&(t=a.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=t,l.subclasses=[],t&&(o.prototype=t.prototype,l.prototype=new o,t.subclasses.push(l));for(var s=0,f=a.length;s<f;s++)u(l,a[s],t);return l.prototype.initialize||(l.prototype.initialize=i),l.prototype.constructor=l,l.prototype.callSuper=r,l}L.util.createClass=e}(),function(){var b=!!L.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];L.util.addListener=function(u,o,r,e){u&&u.addEventListener(o,r,b?!1:e)},L.util.removeListener=function(u,o,r,e){u&&u.removeEventListener(o,r,b?!1:e)};function c(u){var o=u.changedTouches;return o&&o[0]?o[0]:u}L.util.getPointer=function(u){var o=u.target,r=L.util.getScrollLeftTop(o),e=c(u);return{x:e.clientX+r.left,y:e.clientY+r.top}},L.util.isTouchEvent=function(u){return i.indexOf(u.type)>-1||u.pointerType==="touch"}}(),function(){function b(e,t){var a=e.style;if(!a)return e;if(typeof t=="string")return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?r(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var l in t)if(l==="opacity")r(e,t[l]);else{var s=l==="float"||l==="cssFloat"?typeof a.styleFloat=="undefined"?"cssFloat":"styleFloat":l;a[s]=t[l]}return e}var i=L.document.createElement("div"),c=typeof i.style.opacity=="string",u=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,r=function(t){return t};c?r=function(t,a){return t.style.opacity=a,t}:u&&(r=function(t,a){var l=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(l.zoom=1),o.test(l.filter)?(a=a>=.9999?"":"alpha(opacity="+a*100+")",l.filter=l.filter.replace(o,a)):l.filter+=" alpha(opacity="+a*100+")",t}),L.util.setStyle=b}(),function(){var b=Array.prototype.slice;function i(w){return typeof w=="string"?L.document.getElementById(w):w}var c,u=function(A){return b.call(A,0)};try{c=u(L.document.childNodes)instanceof Array}catch(w){}c||(u=function(A){for(var z=new Array(A.length),Z=A.length;Z--;)z[Z]=A[Z];return z});function o(w,A){var z=L.document.createElement(w);for(var Z in A)Z==="class"?z.className=A[Z]:Z==="for"?z.htmlFor=A[Z]:z.setAttribute(Z,A[Z]);return z}function r(w,A){w&&(" "+w.className+" ").indexOf(" "+A+" ")===-1&&(w.className+=(w.className?" ":"")+A)}function e(w,A,z){return typeof A=="string"&&(A=o(A,z)),w.parentNode&&w.parentNode.replaceChild(A,w),A.appendChild(w),A}function t(w){for(var A=0,z=0,Z=L.document.documentElement,ot=L.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===L.document?(A=ot.scrollLeft||Z.scrollLeft||0,z=ot.scrollTop||Z.scrollTop||0):(A+=w.scrollLeft||0,z+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:A,top:z}}function a(w){var A,z=w&&w.ownerDocument,Z={left:0,top:0},ot={left:0,top:0},Lt,At={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!z)return ot;for(var se in At)ot[At[se]]+=parseInt(l(w,se),10)||0;return A=z.documentElement,typeof w.getBoundingClientRect!="undefined"&&(Z=w.getBoundingClientRect()),Lt=t(w),{left:Z.left+Lt.left-(A.clientLeft||0)+ot.left,top:Z.top+Lt.top-(A.clientTop||0)+ot.top}}var l;L.document.defaultView&&L.document.defaultView.getComputedStyle?l=function(A,z){var Z=L.document.defaultView.getComputedStyle(A,null);return Z?Z[z]:void 0}:l=function(A,z){var Z=A.style[z];return!Z&&A.currentStyle&&(Z=A.currentStyle[z]),Z},function(){var w=L.document.documentElement.style,A="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function z(ot){return typeof ot.onselectstart!="undefined"&&(ot.onselectstart=L.util.falseFunction),A?ot.style[A]="none":typeof ot.unselectable=="string"&&(ot.unselectable="on"),ot}function Z(ot){return typeof ot.onselectstart!="undefined"&&(ot.onselectstart=null),A?ot.style[A]="":typeof ot.unselectable=="string"&&(ot.unselectable=""),ot}L.util.makeElementUnselectable=z,L.util.makeElementSelectable=Z}();function s(w){var A=L.jsdomImplForWrapper(w);return A._canvas||A._image}function f(w){if(!!L.isLikelyNode){var A=L.jsdomImplForWrapper(w);A&&(A._image=null,A._canvas=null,A._currentSrc=null,A._attributes=null,A._classList=null)}}function p(w,A){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=A}L.util.setImageSmoothing=p,L.util.getById=i,L.util.toArray=u,L.util.addClass=r,L.util.makeElement=o,L.util.wrapElement=e,L.util.getScrollLeftTop=t,L.util.getElementOffset=a,L.util.getNodeCanvas=s,L.util.cleanUpJsdomNode=f}(),function(){function b(u,o){return u+(/\?/.test(u)?"&":"?")+o}function i(){}function c(u,o){o||(o={});var r=o.method?o.method.toUpperCase():"GET",e=o.onComplete||function(){},t=new L.window.XMLHttpRequest,a=o.body||o.parameters;return t.onreadystatechange=function(){t.readyState===4&&(e(t),t.onreadystatechange=i)},r==="GET"&&(a=null,typeof o.parameters=="string"&&(u=b(u,o.parameters))),t.open(r,u,!0),(r==="POST"||r==="PUT")&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t}L.util.request=c}(),L.log=console.log,L.warn=console.warn,function(){function b(){return!1}function i(t,a,l,s){return-l*Math.cos(t/s*(Math.PI/2))+l+a}function c(t){var a=!1;return r(function(l){t||(t={});var s=l||+new Date,f=t.duration||500,p=s+f,w,A=t.onChange||b,z=t.abort||b,Z=t.onComplete||b,ot=t.easing||i,Lt="startValue"in t?t.startValue:0,At="endValue"in t?t.endValue:100,se=t.byValue||At-Lt;t.onStart&&t.onStart(),function Le(Tt){w=Tt||+new Date;var $t=w>p?f:w-s,Y=$t/f,ue=ot($t,Lt,se,f),tr=Math.abs((ue-Lt)/se);if(!a){if(z(ue,tr,Y)){Z(At,1,1);return}if(w>p){A(At,1,1),Z(At,1,1);return}else A(ue,tr,Y),r(Le)}}(s)}),function(){a=!0}}var u=L.window.requestAnimationFrame||L.window.webkitRequestAnimationFrame||L.window.mozRequestAnimationFrame||L.window.oRequestAnimationFrame||L.window.msRequestAnimationFrame||function(t){return L.window.setTimeout(t,1e3/60)},o=L.window.cancelAnimationFrame||L.window.clearTimeout;function r(){return u.apply(L.window,arguments)}function e(){return o.apply(L.window,arguments)}L.util.animate=c,L.util.requestAnimFrame=r,L.util.cancelAnimFrame=e}(),function(){function b(c,u,o){var r="rgba("+parseInt(c[0]+o*(u[0]-c[0]),10)+","+parseInt(c[1]+o*(u[1]-c[1]),10)+","+parseInt(c[2]+o*(u[2]-c[2]),10);return r+=","+(c&&u?parseFloat(c[3]+o*(u[3]-c[3])):1),r+=")",r}function i(c,u,o,r){var e=new L.Color(c).getSource(),t=new L.Color(u).getSource(),a=r.onComplete,l=r.onChange;return r=r||{},L.util.animate(L.util.object.extend(r,{duration:o||500,startValue:e,endValue:t,byValue:t,easing:function(f,p,w,A){var z=r.colorEasing?r.colorEasing(f,A):1-Math.cos(f/A*(Math.PI/2));return b(p,w,z)},onComplete:function(f,p,w){if(a)return a(b(t,t,0),p,w)},onChange:function(f,p,w){if(l){if(Array.isArray(f))return l(b(f,f,0),p,w);l(f,p,w)}}}))}L.util.animateColor=i}(),function(){function b(ct,Ut,et,X){return ct<Math.abs(Ut)?(ct=Ut,X=et/4):Ut===0&&ct===0?X=et/(2*Math.PI)*Math.asin(1):X=et/(2*Math.PI)*Math.asin(Ut/ct),{a:ct,c:Ut,p:et,s:X}}function i(ct,Ut,et){return ct.a*Math.pow(2,10*(Ut-=1))*Math.sin((Ut*et-ct.s)*(2*Math.PI)/ct.p)}function c(ct,Ut,et,X){return et*((ct=ct/X-1)*ct*ct+1)+Ut}function u(ct,Ut,et,X){return ct/=X/2,ct<1?et/2*ct*ct*ct+Ut:et/2*((ct-=2)*ct*ct+2)+Ut}function o(ct,Ut,et,X){return et*(ct/=X)*ct*ct*ct+Ut}function r(ct,Ut,et,X){return-et*((ct=ct/X-1)*ct*ct*ct-1)+Ut}function e(ct,Ut,et,X){return ct/=X/2,ct<1?et/2*ct*ct*ct*ct+Ut:-et/2*((ct-=2)*ct*ct*ct-2)+Ut}function t(ct,Ut,et,X){return et*(ct/=X)*ct*ct*ct*ct+Ut}function a(ct,Ut,et,X){return et*((ct=ct/X-1)*ct*ct*ct*ct+1)+Ut}function l(ct,Ut,et,X){return ct/=X/2,ct<1?et/2*ct*ct*ct*ct*ct+Ut:et/2*((ct-=2)*ct*ct*ct*ct+2)+Ut}function s(ct,Ut,et,X){return-et*Math.cos(ct/X*(Math.PI/2))+et+Ut}function f(ct,Ut,et,X){return et*Math.sin(ct/X*(Math.PI/2))+Ut}function p(ct,Ut,et,X){return-et/2*(Math.cos(Math.PI*ct/X)-1)+Ut}function w(ct,Ut,et,X){return ct===0?Ut:et*Math.pow(2,10*(ct/X-1))+Ut}function A(ct,Ut,et,X){return ct===X?Ut+et:et*(-Math.pow(2,-10*ct/X)+1)+Ut}function z(ct,Ut,et,X){return ct===0?Ut:ct===X?Ut+et:(ct/=X/2,ct<1?et/2*Math.pow(2,10*(ct-1))+Ut:et/2*(-Math.pow(2,-10*--ct)+2)+Ut)}function Z(ct,Ut,et,X){return-et*(Math.sqrt(1-(ct/=X)*ct)-1)+Ut}function ot(ct,Ut,et,X){return et*Math.sqrt(1-(ct=ct/X-1)*ct)+Ut}function Lt(ct,Ut,et,X){return ct/=X/2,ct<1?-et/2*(Math.sqrt(1-ct*ct)-1)+Ut:et/2*(Math.sqrt(1-(ct-=2)*ct)+1)+Ut}function At(ct,Ut,et,X){var rt=1.70158,M=0,Q=et;if(ct===0)return Ut;if(ct/=X,ct===1)return Ut+et;M||(M=X*.3);var ut=b(Q,et,M,rt);return-i(ut,ct,X)+Ut}function se(ct,Ut,et,X){var rt=1.70158,M=0,Q=et;if(ct===0)return Ut;if(ct/=X,ct===1)return Ut+et;M||(M=X*.3);var ut=b(Q,et,M,rt);return ut.a*Math.pow(2,-10*ct)*Math.sin((ct*X-ut.s)*(2*Math.PI)/ut.p)+ut.c+Ut}function Le(ct,Ut,et,X){var rt=1.70158,M=0,Q=et;if(ct===0)return Ut;if(ct/=X/2,ct===2)return Ut+et;M||(M=X*(.3*1.5));var ut=b(Q,et,M,rt);return ct<1?-.5*i(ut,ct,X)+Ut:ut.a*Math.pow(2,-10*(ct-=1))*Math.sin((ct*X-ut.s)*(2*Math.PI)/ut.p)*.5+ut.c+Ut}function Tt(ct,Ut,et,X,rt){return rt===void 0&&(rt=1.70158),et*(ct/=X)*ct*((rt+1)*ct-rt)+Ut}function $t(ct,Ut,et,X,rt){return rt===void 0&&(rt=1.70158),et*((ct=ct/X-1)*ct*((rt+1)*ct+rt)+1)+Ut}function Y(ct,Ut,et,X,rt){return rt===void 0&&(rt=1.70158),ct/=X/2,ct<1?et/2*(ct*ct*(((rt*=1.525)+1)*ct-rt))+Ut:et/2*((ct-=2)*ct*(((rt*=1.525)+1)*ct+rt)+2)+Ut}function ue(ct,Ut,et,X){return et-tr(X-ct,0,et,X)+Ut}function tr(ct,Ut,et,X){return(ct/=X)<1/2.75?et*(7.5625*ct*ct)+Ut:ct<2/2.75?et*(7.5625*(ct-=1.5/2.75)*ct+.75)+Ut:ct<2.5/2.75?et*(7.5625*(ct-=2.25/2.75)*ct+.9375)+Ut:et*(7.5625*(ct-=2.625/2.75)*ct+.984375)+Ut}function Ce(ct,Ut,et,X){return ct<X/2?ue(ct*2,0,et,X)*.5+Ut:tr(ct*2-X,0,et,X)*.5+et*.5+Ut}L.util.ease={easeInQuad:function(Ut,et,X,rt){return X*(Ut/=rt)*Ut+et},easeOutQuad:function(Ut,et,X,rt){return-X*(Ut/=rt)*(Ut-2)+et},easeInOutQuad:function(Ut,et,X,rt){return Ut/=rt/2,Ut<1?X/2*Ut*Ut+et:-X/2*(--Ut*(Ut-2)-1)+et},easeInCubic:function(Ut,et,X,rt){return X*(Ut/=rt)*Ut*Ut+et},easeOutCubic:c,easeInOutCubic:u,easeInQuart:o,easeOutQuart:r,easeInOutQuart:e,easeInQuint:t,easeOutQuint:a,easeInOutQuint:l,easeInSine:s,easeOutSine:f,easeInOutSine:p,easeInExpo:w,easeOutExpo:A,easeInOutExpo:z,easeInCirc:Z,easeOutCirc:ot,easeInOutCirc:Lt,easeInElastic:At,easeOutElastic:se,easeInOutElastic:Le,easeInBack:Tt,easeOutBack:$t,easeInOutBack:Y,easeInBounce:ue,easeOutBounce:tr,easeInOutBounce:Ce}}(),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.util.object.clone,o=i.util.toFixed,r=i.util.parseUnit,e=i.util.multiplyTransformMatrices,t=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],a=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],s=["symbol","g","a","svg","clipPath","defs"],f={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},p={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",A="clip-path";i.svgValidTagNamesRegEx=ot(t),i.svgViewBoxElementsRegEx=ot(a),i.svgInvalidAncestorsRegEx=ot(l),i.svgValidParentsRegEx=ot(s),i.cssRules={},i.gradientDefs={},i.clipPaths={};function z(M){return M in f?f[M]:M}function Z(M,Q,ut,ht){var Wt=Object.prototype.toString.call(Q)==="[object Array]",bt;if((M==="fill"||M==="stroke")&&Q==="none")Q="";else{if(M==="strokeUniform")return Q==="non-scaling-stroke";if(M==="strokeDashArray")Q==="none"?Q=null:Q=Q.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")ut&&ut.transformMatrix?Q=e(ut.transformMatrix,i.parseTransformAttribute(Q)):Q=i.parseTransformAttribute(Q);else if(M==="visible")Q=Q!=="none"&&Q!=="hidden",ut&&ut.visible===!1&&(Q=!1);else if(M==="opacity")Q=parseFloat(Q),ut&&typeof ut.opacity!="undefined"&&(Q*=ut.opacity);else if(M==="textAnchor")Q=Q==="start"?"left":Q==="end"?"right":"center";else if(M==="charSpacing")bt=r(Q,ht)/ht*1e3;else if(M==="paintFirst"){var Bt=Q.indexOf("fill"),oe=Q.indexOf("stroke"),Q="fill";(Bt>-1&&oe>-1&&oe<Bt||Bt===-1&&oe>-1)&&(Q="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return Q;if(M==="imageSmoothing")return Q==="optimizeQuality";bt=Wt?Q.map(r):r(Q,ht)}}return!Wt&&isNaN(bt)?Q:bt}function ot(M){return new RegExp("^("+M.join("|")+")\\b","i")}function Lt(M){for(var Q in p)if(!(typeof M[p[Q]]=="undefined"||M[Q]==="")){if(typeof M[Q]=="undefined"){if(!i.Object.prototype[Q])continue;M[Q]=i.Object.prototype[Q]}if(M[Q].indexOf("url(")!==0){var ut=new i.Color(M[Q]);M[Q]=ut.setAlpha(o(ut.getAlpha()*M[p[Q]],2)).toRgba()}}return M}function At(M,Q){var ut,ht=[],Wt,bt,Bt;for(bt=0,Bt=Q.length;bt<Bt;bt++)ut=Q[bt],Wt=M.getElementsByTagName(ut),ht=ht.concat(Array.prototype.slice.call(Wt));return ht}i.parseTransformAttribute=function(){function M(it,pt){var jt=i.util.cos(pt[0]),ke=i.util.sin(pt[0]),Te=0,De=0;pt.length===3&&(Te=pt[1],De=pt[2]),it[0]=jt,it[1]=ke,it[2]=-ke,it[3]=jt,it[4]=Te-(jt*Te-ke*De),it[5]=De-(ke*Te+jt*De)}function Q(it,pt){var jt=pt[0],ke=pt.length===2?pt[1]:pt[0];it[0]=jt,it[3]=ke}function ut(it,pt,jt){it[jt]=Math.tan(i.util.degreesToRadians(pt[0]))}function ht(it,pt){it[4]=pt[0],pt.length===2&&(it[5]=pt[1])}var Wt=i.iMatrix,bt=i.reNum,Bt=i.commaWsp,oe="(?:(skewX)\\s*\\(\\s*("+bt+")\\s*\\))",re="(?:(skewY)\\s*\\(\\s*("+bt+")\\s*\\))",ae="(?:(rotate)\\s*\\(\\s*("+bt+")(?:"+Bt+"("+bt+")"+Bt+"("+bt+"))?\\s*\\))",qt="(?:(scale)\\s*\\(\\s*("+bt+")(?:"+Bt+"("+bt+"))?\\s*\\))",I="(?:(translate)\\s*\\(\\s*("+bt+")(?:"+Bt+"("+bt+"))?\\s*\\))",Pt="(?:(matrix)\\s*\\(\\s*("+bt+")"+Bt+"("+bt+")"+Bt+"("+bt+")"+Bt+"("+bt+")"+Bt+"("+bt+")"+Bt+"("+bt+")\\s*\\))",Dt="(?:"+Pt+"|"+I+"|"+qt+"|"+ae+"|"+oe+"|"+re+")",F="(?:"+Dt+"(?:"+Bt+"*"+Dt+")*)",x="^\\s*(?:"+F+"?)\\s*$",O=new RegExp(x),$=new RegExp(Dt,"g");return function(it){var pt=Wt.concat(),jt=[];if(!it||it&&!O.test(it))return pt;it.replace($,function(Te){var De=new RegExp(Dt).exec(Te).filter(function(Hr){return!!Hr}),gr=De[1],er=De.slice(2).map(parseFloat);switch(gr){case"translate":ht(pt,er);break;case"rotate":er[0]=i.util.degreesToRadians(er[0]),M(pt,er);break;case"scale":Q(pt,er);break;case"skewX":ut(pt,er,2);break;case"skewY":ut(pt,er,1);break;case"matrix":pt=er;break}jt.push(pt.concat()),pt=Wt.concat()});for(var ke=jt[0];jt.length>1;)jt.shift(),ke=i.util.multiplyTransformMatrices(ke,jt[0]);return ke}}();function se(M,Q){var ut,ht;M.replace(/;\s*$/,"").split(";").forEach(function(Wt){var bt=Wt.split(":");ut=bt[0].trim().toLowerCase(),ht=bt[1].trim(),Q[ut]=ht})}function Le(M,Q){var ut,ht;for(var Wt in M)typeof M[Wt]!="undefined"&&(ut=Wt.toLowerCase(),ht=M[Wt],Q[ut]=ht)}function Tt(M,Q){var ut={};for(var ht in i.cssRules[Q])if($t(M,ht.split(" ")))for(var Wt in i.cssRules[Q][ht])ut[Wt]=i.cssRules[Q][ht][Wt];return ut}function $t(M,Q){var ut,ht=!0;return ut=ue(M,Q.pop()),ut&&Q.length&&(ht=Y(M,Q)),ut&&ht&&Q.length===0}function Y(M,Q){for(var ut,ht=!0;M.parentNode&&M.parentNode.nodeType===1&&Q.length;)ht&&(ut=Q.pop()),M=M.parentNode,ht=ue(M,ut);return Q.length===0}function ue(M,Q){var ut=M.nodeName,ht=M.getAttribute("class"),Wt=M.getAttribute("id"),bt,Bt;if(bt=new RegExp("^"+ut,"i"),Q=Q.replace(bt,""),Wt&&Q.length&&(bt=new RegExp("#"+Wt+"(?![a-zA-Z\\-]+)","i"),Q=Q.replace(bt,"")),ht&&Q.length)for(ht=ht.split(" "),Bt=ht.length;Bt--;)bt=new RegExp("\\."+ht[Bt]+"(?![a-zA-Z\\-]+)","i"),Q=Q.replace(bt,"");return Q.length===0}function tr(M,Q){var ut;if(M.getElementById&&(ut=M.getElementById(Q)),ut)return ut;var ht,Wt,bt,Bt=M.getElementsByTagName("*");for(Wt=0,bt=Bt.length;Wt<bt;Wt++)if(ht=Bt[Wt],Q===ht.getAttribute("id"))return ht}function Ce(M){for(var Q=At(M,["use","svg:use"]),ut=0;Q.length&&ut<Q.length;){var ht=Q[ut],Wt=ht.getAttribute("xlink:href")||ht.getAttribute("href");if(Wt===null)return;var bt=Wt.substr(1),Bt=ht.getAttribute("x")||0,oe=ht.getAttribute("y")||0,re=tr(M,bt).cloneNode(!0),ae=(re.getAttribute("transform")||"")+" translate("+Bt+", "+oe+")",qt,I=Q.length,Pt,Dt,F,x,O=i.svgNS;if(Ut(re),/^svg$/i.test(re.nodeName)){var $=re.ownerDocument.createElementNS(O,"g");for(Dt=0,F=re.attributes,x=F.length;Dt<x;Dt++)Pt=F.item(Dt),$.setAttributeNS(O,Pt.nodeName,Pt.nodeValue);for(;re.firstChild;)$.appendChild(re.firstChild);re=$}for(Dt=0,F=ht.attributes,x=F.length;Dt<x;Dt++)Pt=F.item(Dt),!(Pt.nodeName==="x"||Pt.nodeName==="y"||Pt.nodeName==="xlink:href"||Pt.nodeName==="href")&&(Pt.nodeName==="transform"?ae=Pt.nodeValue+" "+ae:re.setAttribute(Pt.nodeName,Pt.nodeValue));re.setAttribute("transform",ae),re.setAttribute("instantiated_by_use","1"),re.removeAttribute("id"),qt=ht.parentNode,qt.replaceChild(re,ht),Q.length===I&&ut++}}var ct=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function Ut(M){if(!i.svgViewBoxElementsRegEx.test(M.nodeName))return{};var Q=M.getAttribute("viewBox"),ut=1,ht=1,Wt=0,bt=0,Bt,oe,re,ae,qt=M.getAttribute("width"),I=M.getAttribute("height"),Pt=M.getAttribute("x")||0,Dt=M.getAttribute("y")||0,F=M.getAttribute("preserveAspectRatio")||"",x=!Q||!(Q=Q.match(ct)),O=!qt||!I||qt==="100%"||I==="100%",$=x&&O,it={},pt="",jt=0,ke=0;if(it.width=0,it.height=0,it.toBeParsed=$,x&&(Pt||Dt)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(pt=" translate("+r(Pt)+" "+r(Dt)+") ",re=(M.getAttribute("transform")||"")+pt,M.setAttribute("transform",re),M.removeAttribute("x"),M.removeAttribute("y")),$)return it;if(x)return it.width=r(qt),it.height=r(I),it;if(Wt=-parseFloat(Q[1]),bt=-parseFloat(Q[2]),Bt=parseFloat(Q[3]),oe=parseFloat(Q[4]),it.minX=Wt,it.minY=bt,it.viewBoxWidth=Bt,it.viewBoxHeight=oe,O?(it.width=Bt,it.height=oe):(it.width=r(qt),it.height=r(I),ut=it.width/Bt,ht=it.height/oe),F=i.util.parsePreserveAspectRatioAttribute(F),F.alignX!=="none"&&(F.meetOrSlice==="meet"&&(ht=ut=ut>ht?ht:ut),F.meetOrSlice==="slice"&&(ht=ut=ut>ht?ut:ht),jt=it.width-Bt*ut,ke=it.height-oe*ut,F.alignX==="Mid"&&(jt/=2),F.alignY==="Mid"&&(ke/=2),F.alignX==="Min"&&(jt=0),F.alignY==="Min"&&(ke=0)),ut===1&&ht===1&&Wt===0&&bt===0&&Pt===0&&Dt===0)return it;if((Pt||Dt)&&M.parentNode.nodeName!=="#document"&&(pt=" translate("+r(Pt)+" "+r(Dt)+") "),re=pt+" matrix("+ut+" 0 0 "+ht+" "+(Wt*ut+jt)+" "+(bt*ht+ke)+") ",M.nodeName==="svg"){for(ae=M.ownerDocument.createElementNS(i.svgNS,"g");M.firstChild;)ae.appendChild(M.firstChild);M.appendChild(ae)}else ae=M,ae.removeAttribute("x"),ae.removeAttribute("y"),re=ae.getAttribute("transform")+re;return ae.setAttribute("transform",re),it}function et(M,Q){for(;M&&(M=M.parentNode);)if(M.nodeName&&Q.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(M,Q,ut,ht){if(!!M){Ce(M);var Wt=i.Object.__uid++,bt,Bt,oe=Ut(M),re=i.util.toArray(M.getElementsByTagName("*"));if(oe.crossOrigin=ht&&ht.crossOrigin,oe.svgUid=Wt,re.length===0&&i.isLikelyNode){re=M.selectNodes('//*[name(.)!="svg"]');var ae=[];for(bt=0,Bt=re.length;bt<Bt;bt++)ae[bt]=re[bt];re=ae}var qt=re.filter(function(Pt){return Ut(Pt),i.svgValidTagNamesRegEx.test(Pt.nodeName.replace("svg:",""))&&!et(Pt,i.svgInvalidAncestorsRegEx)});if(!qt||qt&&!qt.length){Q&&Q([],{});return}var I={};re.filter(function(Pt){return Pt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Pt){var Dt=Pt.getAttribute("id");I[Dt]=i.util.toArray(Pt.getElementsByTagName("*")).filter(function(F){return i.svgValidTagNamesRegEx.test(F.nodeName.replace("svg:",""))})}),i.gradientDefs[Wt]=i.getGradientDefs(M),i.cssRules[Wt]=i.getCSSRules(M),i.clipPaths[Wt]=I,i.parseElements(qt,function(Pt,Dt){Q&&(Q(Pt,oe,Dt,re),delete i.gradientDefs[Wt],delete i.cssRules[Wt],delete i.clipPaths[Wt])},u(oe),ut,ht)}};function X(M,Q){var ut=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],ht="xlink:href",Wt=Q.getAttribute(ht).substr(1),bt=tr(M,Wt);if(bt&&bt.getAttribute(ht)&&X(M,bt),ut.forEach(function(oe){bt&&!Q.hasAttribute(oe)&&bt.hasAttribute(oe)&&Q.setAttribute(oe,bt.getAttribute(oe))}),!Q.children.length)for(var Bt=bt.cloneNode(!0);Bt.firstChild;)Q.appendChild(Bt.firstChild);Q.removeAttribute(ht)}var rt=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");c(i,{parseFontDeclaration:function(Q,ut){var ht=Q.match(rt);if(!!ht){var Wt=ht[1],bt=ht[3],Bt=ht[4],oe=ht[5],re=ht[6];Wt&&(ut.fontStyle=Wt),bt&&(ut.fontWeight=isNaN(parseFloat(bt))?bt:parseFloat(bt)),Bt&&(ut.fontSize=r(Bt)),re&&(ut.fontFamily=re),oe&&(ut.lineHeight=oe==="normal"?1:oe)}},getGradientDefs:function(Q){var ut=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],ht=At(Q,ut),Wt,bt=0,Bt={};for(bt=ht.length;bt--;)Wt=ht[bt],Wt.getAttribute("xlink:href")&&X(Q,Wt),Bt[Wt.getAttribute("id")]=Wt;return Bt},parseAttributes:function(Q,ut,ht){if(!!Q){var Wt,bt={},Bt,oe;typeof ht=="undefined"&&(ht=Q.getAttribute("svgUid")),Q.parentNode&&i.svgValidParentsRegEx.test(Q.parentNode.nodeName)&&(bt=i.parseAttributes(Q.parentNode,ut,ht));var re=ut.reduce(function(x,O){return Wt=Q.getAttribute(O),Wt&&(x[O]=Wt),x},{}),ae=c(Tt(Q,ht),i.parseStyleAttribute(Q));re=c(re,ae),ae[A]&&Q.setAttribute(A,ae[A]),Bt=oe=bt.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,re[w]&&(re[w]=Bt=r(re[w],oe));var qt,I,Pt={};for(var Dt in re)qt=z(Dt),I=Z(qt,re[Dt],bt,Bt),Pt[qt]=I;Pt&&Pt.font&&i.parseFontDeclaration(Pt.font,Pt);var F=c(bt,Pt);return i.svgValidParentsRegEx.test(Q.nodeName)?F:Lt(F)}},parseElements:function(Q,ut,ht,Wt,bt){new i.ElementsParser(Q,ut,ht,Wt,bt).parse()},parseStyleAttribute:function(Q){var ut={},ht=Q.getAttribute("style");return ht&&(typeof ht=="string"?se(ht,ut):Le(ht,ut)),ut},parsePointsAttribute:function(Q){if(!Q)return null;Q=Q.replace(/,/g," ").trim(),Q=Q.split(/\s+/);var ut=[],ht,Wt;for(ht=0,Wt=Q.length;ht<Wt;ht+=2)ut.push({x:parseFloat(Q[ht]),y:parseFloat(Q[ht+1])});return ut},getCSSRules:function(Q){var ut=Q.getElementsByTagName("style"),ht,Wt,bt={},Bt;for(ht=0,Wt=ut.length;ht<Wt;ht++){var oe=ut[ht].textContent;oe=oe.replace(/\/\*[\s\S]*?\*\//g,""),oe.trim()!==""&&(Bt=oe.match(/[^{]*\{[\s\S]*?\}/g),Bt=Bt.map(function(re){return re.trim()}),Bt.forEach(function(re){var ae=re.match(/([\s\S]*?)\s*\{([^}]*)\}/),qt={},I=ae[2].trim(),Pt=I.replace(/;$/,"").split(/\s*;\s*/);for(ht=0,Wt=Pt.length;ht<Wt;ht++){var Dt=Pt[ht].split(/\s*:\s*/),F=Dt[0],x=Dt[1];qt[F]=x}re=ae[1],re.split(",").forEach(function(O){O=O.replace(/^svg/i,"").trim(),O!==""&&(bt[O]?i.util.object.extend(bt[O],qt):bt[O]=i.util.object.clone(qt))})}))}return bt},loadSVGFromURL:function(Q,ut,ht,Wt){Q=Q.replace(/^\n\s*/,"").trim(),new i.util.request(Q,{method:"get",onComplete:bt});function bt(Bt){var oe=Bt.responseXML;if(!oe||!oe.documentElement)return ut&&ut(null),!1;i.parseSVGDocument(oe.documentElement,function(re,ae,qt,I){ut&&ut(re,ae,qt,I)},ht,Wt)}},loadSVGFromString:function(Q,ut,ht,Wt){var bt=new i.window.DOMParser,Bt=bt.parseFromString(Q.trim(),"text/xml");i.parseSVGDocument(Bt.documentElement,function(oe,re,ae,qt){ut(oe,re,ae,qt)},ht,Wt)}})}(_r),L.ElementsParser=function(b,i,c,u,o,r){this.elements=b,this.callback=i,this.options=c,this.reviver=u,this.svgUid=c&&c.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r},function(b){b.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},b.createObjects=function(){var i=this;this.elements.forEach(function(c,u){c.setAttribute("svgUid",i.svgUid),i.createObject(c,u)})},b.findTag=function(i){return L[L.util.string.capitalize(i.tagName.replace("svg:",""))]},b.createObject=function(i,c){var u=this.findTag(i);if(u&&u.fromElement)try{u.fromElement(i,this.createCallback(c,i),this.options)}catch(o){L.log(o)}else this.checkIfDone()},b.createCallback=function(i,c){var u=this;return function(o){var r;u.resolveGradient(o,c,"fill"),u.resolveGradient(o,c,"stroke"),o instanceof L.Image&&o._originalElement&&(r=o.parsePreserveAspectRatioAttribute(c)),o._removeTransformMatrix(r),u.resolveClipPath(o,c),u.reviver&&u.reviver(c,o),u.instances[i]=o,u.checkIfDone()}},b.extractPropertyDefinition=function(i,c,u){var o=i[c],r=this.regexUrl;if(!!r.test(o)){r.lastIndex=0;var e=r.exec(o)[1];return r.lastIndex=0,L[u][this.svgUid][e]}},b.resolveGradient=function(i,c,u){var o=this.extractPropertyDefinition(i,u,"gradientDefs");if(o){var r=c.getAttribute(u+"-opacity"),e=L.Gradient.fromElement(o,i,r,this.options);i.set(u,e)}},b.createClipPathCallback=function(i,c){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,c.push(u)}},b.resolveClipPath=function(i,c){var u=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,r,e,t,a,l;if(u){t=[],e=L.util.invertTransform(i.calcTransformMatrix());for(var s=u[0].parentNode,f=c;f.parentNode&&f.getAttribute("clip-path")!==i.clipPath;)f=f.parentNode;f.parentNode.appendChild(s);for(var p=0;p<u.length;p++)o=u[p],r=this.findTag(o),r.fromElement(o,this.createClipPathCallback(i,t),this.options);t.length===1?u=t[0]:u=new L.Group(t),a=L.util.multiplyTransformMatrices(e,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,f);var l=L.util.qrDecompose(a);u.flipX=!1,u.flipY=!1,u.set("scaleX",l.scaleX),u.set("scaleY",l.scaleY),u.angle=l.angle,u.skewX=l.skewX,u.skewY=0,u.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),i.clipPath=u}else delete i.clipPath},b.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(L.ElementsParser.prototype),function(b){"use strict";var i=b.fabric||(b.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=c;function c(u,o){this.x=u,this.y=o}c.prototype={type:"point",constructor:c,add:function(o){return new c(this.x+o.x,this.y+o.y)},addEquals:function(o){return this.x+=o.x,this.y+=o.y,this},scalarAdd:function(o){return new c(this.x+o,this.y+o)},scalarAddEquals:function(o){return this.x+=o,this.y+=o,this},subtract:function(o){return new c(this.x-o.x,this.y-o.y)},subtractEquals:function(o){return this.x-=o.x,this.y-=o.y,this},scalarSubtract:function(o){return new c(this.x-o,this.y-o)},scalarSubtractEquals:function(o){return this.x-=o,this.y-=o,this},multiply:function(o){return new c(this.x*o,this.y*o)},multiplyEquals:function(o){return this.x*=o,this.y*=o,this},divide:function(o){return new c(this.x/o,this.y/o)},divideEquals:function(o){return this.x/=o,this.y/=o,this},eq:function(o){return this.x===o.x&&this.y===o.y},lt:function(o){return this.x<o.x&&this.y<o.y},lte:function(o){return this.x<=o.x&&this.y<=o.y},gt:function(o){return this.x>o.x&&this.y>o.y},gte:function(o){return this.x>=o.x&&this.y>=o.y},lerp:function(o,r){return typeof r=="undefined"&&(r=.5),r=Math.max(Math.min(1,r),0),new c(this.x+(o.x-this.x)*r,this.y+(o.y-this.y)*r)},distanceFrom:function(o){var r=this.x-o.x,e=this.y-o.y;return Math.sqrt(r*r+e*e)},midPointFrom:function(o){return this.lerp(o)},min:function(o){return new c(Math.min(this.x,o.x),Math.min(this.y,o.y))},max:function(o){return new c(Math.max(this.x,o.x),Math.max(this.y,o.y))},toString:function(){return this.x+","+this.y},setXY:function(o,r){return this.x=o,this.y=r,this},setX:function(o){return this.x=o,this},setY:function(o){return this.y=o,this},setFromPoint:function(o){return this.x=o.x,this.y=o.y,this},swap:function(o){var r=this.x,e=this.y;this.x=o.x,this.y=o.y,o.x=r,o.y=e},clone:function(){return new c(this.x,this.y)}}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function c(u){this.status=u,this.points=[]}i.Intersection=c,i.Intersection.prototype={constructor:c,appendPoint:function(o){return this.points.push(o),this},appendPoints:function(o){return this.points=this.points.concat(o),this}},i.Intersection.intersectLineLine=function(u,o,r,e){var t,a=(e.x-r.x)*(u.y-r.y)-(e.y-r.y)*(u.x-r.x),l=(o.x-u.x)*(u.y-r.y)-(o.y-u.y)*(u.x-r.x),s=(e.y-r.y)*(o.x-u.x)-(e.x-r.x)*(o.y-u.y);if(s!==0){var f=a/s,p=l/s;0<=f&&f<=1&&0<=p&&p<=1?(t=new c("Intersection"),t.appendPoint(new i.Point(u.x+f*(o.x-u.x),u.y+f*(o.y-u.y)))):t=new c}else a===0||l===0?t=new c("Coincident"):t=new c("Parallel");return t},i.Intersection.intersectLinePolygon=function(u,o,r){var e=new c,t=r.length,a,l,s,f;for(f=0;f<t;f++)a=r[f],l=r[(f+1)%t],s=c.intersectLineLine(u,o,a,l),e.appendPoints(s.points);return e.points.length>0&&(e.status="Intersection"),e},i.Intersection.intersectPolygonPolygon=function(u,o){var r=new c,e=u.length,t;for(t=0;t<e;t++){var a=u[t],l=u[(t+1)%e],s=c.intersectLinePolygon(a,l,o);r.appendPoints(s.points)}return r.points.length>0&&(r.status="Intersection"),r},i.Intersection.intersectPolygonRectangle=function(u,o,r){var e=o.min(r),t=o.max(r),a=new i.Point(t.x,e.y),l=new i.Point(e.x,t.y),s=c.intersectLinePolygon(e,a,u),f=c.intersectLinePolygon(a,t,u),p=c.intersectLinePolygon(t,l,u),w=c.intersectLinePolygon(l,e,u),A=new c;return A.appendPoints(s.points),A.appendPoints(f.points),A.appendPoints(p.points),A.appendPoints(w.points),A.points.length>0&&(A.status="Intersection"),A}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function c(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=c,i.Color.prototype={_tryParsingColor:function(r){var e;r in c.colorNameMap&&(r=c.colorNameMap[r]),r==="transparent"&&(e=[255,255,255,0]),e||(e=c.sourceFromHex(r)),e||(e=c.sourceFromRgb(r)),e||(e=c.sourceFromHsl(r)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(r,e,t){r/=255,e/=255,t/=255;var a,l,s,f=i.util.array.max([r,e,t]),p=i.util.array.min([r,e,t]);if(s=(f+p)/2,f===p)a=l=0;else{var w=f-p;switch(l=s>.5?w/(2-f-p):w/(f+p),f){case r:a=(e-t)/w+(e<t?6:0);break;case e:a=(t-r)/w+2;break;case t:a=(r-e)/w+4;break}a/=6}return[Math.round(a*360),Math.round(l*100),Math.round(s*100)]},getSource:function(){return this._source},setSource:function(r){this._source=r},toRgb:function(){var r=this.getSource();return"rgb("+r[0]+","+r[1]+","+r[2]+")"},toRgba:function(){var r=this.getSource();return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},toHsl:function(){var r=this.getSource(),e=this._rgbToHsl(r[0],r[1],r[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var r=this.getSource(),e=this._rgbToHsl(r[0],r[1],r[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+r[3]+")"},toHex:function(){var r=this.getSource(),e,t,a;return e=r[0].toString(16),e=e.length===1?"0"+e:e,t=r[1].toString(16),t=t.length===1?"0"+t:t,a=r[2].toString(16),a=a.length===1?"0"+a:a,e.toUpperCase()+t.toUpperCase()+a.toUpperCase()},toHexa:function(){var r=this.getSource(),e;return e=Math.round(r[3]*255),e=e.toString(16),e=e.length===1?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(r){var e=this.getSource();return e[3]=r,this.setSource(e),this},toGrayscale:function(){var r=this.getSource(),e=parseInt((r[0]*.3+r[1]*.59+r[2]*.11).toFixed(0),10),t=r[3];return this.setSource([e,e,e,t]),this},toBlackWhite:function(r){var e=this.getSource(),t=(e[0]*.3+e[1]*.59+e[2]*.11).toFixed(0),a=e[3];return r=r||127,t=Number(t)<Number(r)?0:255,this.setSource([t,t,t,a]),this},overlayWith:function(r){r instanceof c||(r=new c(r));var e=[],t=this.getAlpha(),a=.5,l=this.getSource(),s=r.getSource(),f;for(f=0;f<3;f++)e.push(Math.round(l[f]*(1-a)+s[f]*a));return e[3]=t,this.setSource(e),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function u(o,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?o+(r-o)*6*e:e<1/2?r:e<2/3?o+(r-o)*(2/3-e)*6:o}i.Color.fromRgb=function(o){return c.fromSource(c.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var r=o.match(c.reRGBa);if(r){var e=parseInt(r[1],10)/(/%$/.test(r[1])?100:1)*(/%$/.test(r[1])?255:1),t=parseInt(r[2],10)/(/%$/.test(r[2])?100:1)*(/%$/.test(r[2])?255:1),a=parseInt(r[3],10)/(/%$/.test(r[3])?100:1)*(/%$/.test(r[3])?255:1);return[parseInt(e,10),parseInt(t,10),parseInt(a,10),r[4]?parseFloat(r[4]):1]}},i.Color.fromRgba=c.fromRgb,i.Color.fromHsl=function(o){return c.fromSource(c.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var r=o.match(c.reHSLa);if(!!r){var e=(parseFloat(r[1])%360+360)%360/360,t=parseFloat(r[2])/(/%$/.test(r[2])?100:1),a=parseFloat(r[3])/(/%$/.test(r[3])?100:1),l,s,f;if(t===0)l=s=f=a;else{var p=a<=.5?a*(t+1):a+t-a*t,w=a*2-p;l=u(w,p,e+1/3),s=u(w,p,e),f=u(w,p,e-1/3)}return[Math.round(l*255),Math.round(s*255),Math.round(f*255),r[4]?parseFloat(r[4]):1]}},i.Color.fromHsla=c.fromHsl,i.Color.fromHex=function(o){return c.fromSource(c.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(c.reHex)){var r=o.slice(o.indexOf("#")+1),e=r.length===3||r.length===4,t=r.length===8||r.length===4,a=e?r.charAt(0)+r.charAt(0):r.substring(0,2),l=e?r.charAt(1)+r.charAt(1):r.substring(2,4),s=e?r.charAt(2)+r.charAt(2):r.substring(4,6),f=t?e?r.charAt(3)+r.charAt(3):r.substring(6,8):"FF";return[parseInt(a,16),parseInt(l,16),parseInt(s,16),parseFloat((parseInt(f,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var r=new c;return r.setSource(o),r}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],o={},r="left",e="top",t="right",a="bottom",l="center",s={top:a,bottom:e,left:t,right:r,center:l},f=i.util.radiansToDegrees,p=Math.sign||function(ae){return(ae>0)-(ae<0)||+ae};function w(ae,qt){var I=ae.angle+f(Math.atan2(qt.y,qt.x))+360;return Math.round(I%360/45)}function A(ae,qt){var I=qt.transform.target,Pt=I.canvas,Dt=i.util.object.clone(qt);Dt.target=I,Pt&&Pt.fire("object:"+ae,Dt),I.fire(ae,qt)}function z(ae,qt){var I=qt.canvas,Pt=I.uniScaleKey,Dt=ae[Pt];return I.uniformScaling&&!Dt||!I.uniformScaling&&Dt}function Z(ae){return ae.originX===l&&ae.originY===l}function ot(ae,qt,I){var Pt=ae.lockScalingX,Dt=ae.lockScalingY;return!!(Pt&&Dt||!qt&&(Pt||Dt)&&I||Pt&&qt==="x"||Dt&&qt==="y")}function Lt(ae,qt,I){var Pt="not-allowed",Dt=z(ae,I),F="";if(qt.x!==0&&qt.y===0?F="x":qt.x===0&&qt.y!==0&&(F="y"),ot(I,F,Dt))return Pt;var x=w(I,qt);return c[x]+"-resize"}function At(ae,qt,I){var Pt="not-allowed";if(qt.x!==0&&I.lockSkewingY||qt.y!==0&&I.lockSkewingX)return Pt;var Dt=w(I,qt)%4;return u[Dt]+"-resize"}function se(ae,qt,I){return ae[I.canvas.altActionKey]?o.skewCursorStyleHandler(ae,qt,I):o.scaleCursorStyleHandler(ae,qt,I)}function Le(ae,qt,I){var Pt=ae[I.canvas.altActionKey];if(qt.x===0)return Pt?"skewX":"scaleY";if(qt.y===0)return Pt?"skewY":"scaleX"}function Tt(ae,qt,I){return I.lockRotation?"not-allowed":qt.cursorStyle}function $t(ae,qt,I,Pt){return{e:ae,transform:qt,pointer:{x:I,y:Pt}}}function Y(ae){return function(qt,I,Pt,Dt){var F=I.target,x=F.getCenterPoint(),O=F.translateToOriginPoint(x,I.originX,I.originY),$=ae(qt,I,Pt,Dt);return F.setPositionByOrigin(O,I.originX,I.originY),$}}function ue(ae,qt){return function(I,Pt,Dt,F){var x=qt(I,Pt,Dt,F);return x&&A(ae,$t(I,Pt,Dt,F)),x}}function tr(ae,qt,I,Pt,Dt){var F=ae.target,x=F.controls[ae.corner],O=F.canvas.getZoom(),$=F.padding/O,it=F.toLocalPoint(new i.Point(Pt,Dt),qt,I);return it.x>=$&&(it.x-=$),it.x<=-$&&(it.x+=$),it.y>=$&&(it.y-=$),it.y<=$&&(it.y+=$),it.x-=x.offsetX,it.y-=x.offsetY,it}function Ce(ae){return ae.flipX!==ae.flipY}function ct(ae,qt,I,Pt,Dt){if(ae[qt]!==0){var F=ae._getTransformedDimensions()[Pt],x=Dt/F*ae[I];ae.set(I,x)}}function Ut(ae,qt,I,Pt){var Dt=qt.target,F=Dt._getTransformedDimensions(0,Dt.skewY),x=tr(qt,qt.originX,qt.originY,I,Pt),O=Math.abs(x.x*2)-F.x,$=Dt.skewX,it;O<2?it=0:(it=f(Math.atan2(O/Dt.scaleX,F.y/Dt.scaleY)),qt.originX===r&&qt.originY===a&&(it=-it),qt.originX===t&&qt.originY===e&&(it=-it),Ce(Dt)&&(it=-it));var pt=$!==it;if(pt){var jt=Dt._getTransformedDimensions().y;Dt.set("skewX",it),ct(Dt,"skewY","scaleY","y",jt)}return pt}function et(ae,qt,I,Pt){var Dt=qt.target,F=Dt._getTransformedDimensions(Dt.skewX,0),x=tr(qt,qt.originX,qt.originY,I,Pt),O=Math.abs(x.y*2)-F.y,$=Dt.skewY,it;O<2?it=0:(it=f(Math.atan2(O/Dt.scaleY,F.x/Dt.scaleX)),qt.originX===r&&qt.originY===a&&(it=-it),qt.originX===t&&qt.originY===e&&(it=-it),Ce(Dt)&&(it=-it));var pt=$!==it;if(pt){var jt=Dt._getTransformedDimensions().x;Dt.set("skewY",it),ct(Dt,"skewX","scaleX","x",jt)}return pt}function X(ae,qt,I,Pt){var Dt=qt.target,F=Dt.skewX,x,O=qt.originY;if(Dt.lockSkewingX)return!1;if(F===0){var $=tr(qt,l,l,I,Pt);$.x>0?x=r:x=t}else F>0&&(x=O===e?r:t),F<0&&(x=O===e?t:r),Ce(Dt)&&(x=x===r?t:r);qt.originX=x;var it=ue("skewing",Y(Ut));return it(ae,qt,I,Pt)}function rt(ae,qt,I,Pt){var Dt=qt.target,F=Dt.skewY,x,O=qt.originX;if(Dt.lockSkewingY)return!1;if(F===0){var $=tr(qt,l,l,I,Pt);$.y>0?x=e:x=a}else F>0&&(x=O===r?e:a),F<0&&(x=O===r?a:e),Ce(Dt)&&(x=x===e?a:e);qt.originY=x;var it=ue("skewing",Y(et));return it(ae,qt,I,Pt)}function M(ae,qt,I,Pt){var Dt=qt,F=Dt.target,x=F.translateToOriginPoint(F.getCenterPoint(),Dt.originX,Dt.originY);if(F.lockRotation)return!1;var O=Math.atan2(Dt.ey-x.y,Dt.ex-x.x),$=Math.atan2(Pt-x.y,I-x.x),it=f($-O+Dt.theta),pt=!0;if(F.snapAngle>0){var jt=F.snapAngle,ke=F.snapThreshold||jt,Te=Math.ceil(it/jt)*jt,De=Math.floor(it/jt)*jt;Math.abs(it-De)<ke?it=De:Math.abs(it-Te)<ke&&(it=Te)}return it<0&&(it=360+it),it%=360,pt=F.angle!==it,F.angle=it,pt}function Q(ae,qt,I,Pt,Dt){Dt=Dt||{};var F=qt.target,x=F.lockScalingX,O=F.lockScalingY,$=Dt.by,it,pt,jt,ke,Te=z(ae,F),De=ot(F,$,Te),gr,er,Hr=qt.gestureScale;if(De)return!1;if(Hr)pt=qt.scaleX*Hr,jt=qt.scaleY*Hr;else{if(it=tr(qt,qt.originX,qt.originY,I,Pt),gr=$!=="y"?p(it.x):1,er=$!=="x"?p(it.y):1,qt.signX||(qt.signX=gr),qt.signY||(qt.signY=er),F.lockScalingFlip&&(qt.signX!==gr||qt.signY!==er))return!1;if(ke=F._getTransformedDimensions(),Te&&!$){var Jr=Math.abs(it.x)+Math.abs(it.y),on=qt.original,Dn=Math.abs(ke.x*on.scaleX/F.scaleX)+Math.abs(ke.y*on.scaleY/F.scaleY),hn=Jr/Dn;pt=on.scaleX*hn,jt=on.scaleY*hn}else pt=Math.abs(it.x*F.scaleX/ke.x),jt=Math.abs(it.y*F.scaleY/ke.y);Z(qt)&&(pt*=2,jt*=2),qt.signX!==gr&&$!=="y"&&(qt.originX=s[qt.originX],pt*=-1,qt.signX=gr),qt.signY!==er&&$!=="x"&&(qt.originY=s[qt.originY],jt*=-1,qt.signY=er)}var wn=F.scaleX,Wn=F.scaleY;return $?($==="x"&&F.set("scaleX",pt),$==="y"&&F.set("scaleY",jt)):(!x&&F.set("scaleX",pt),!O&&F.set("scaleY",jt)),wn!==F.scaleX||Wn!==F.scaleY}function ut(ae,qt,I,Pt){return Q(ae,qt,I,Pt)}function ht(ae,qt,I,Pt){return Q(ae,qt,I,Pt,{by:"x"})}function Wt(ae,qt,I,Pt){return Q(ae,qt,I,Pt,{by:"y"})}function bt(ae,qt,I,Pt){return ae[qt.target.canvas.altActionKey]?o.skewHandlerX(ae,qt,I,Pt):o.scalingY(ae,qt,I,Pt)}function Bt(ae,qt,I,Pt){return ae[qt.target.canvas.altActionKey]?o.skewHandlerY(ae,qt,I,Pt):o.scalingX(ae,qt,I,Pt)}function oe(ae,qt,I,Pt){var Dt=qt.target,F=tr(qt,qt.originX,qt.originY,I,Pt),x=Dt.strokeWidth/(Dt.strokeUniform?Dt.scaleX:1),O=Z(qt)?2:1,$=Dt.width,it=Math.abs(F.x*O/Dt.scaleX)-x;return Dt.set("width",Math.max(it,0)),$!==it}function re(ae,qt,I,Pt){var Dt=qt.target,F=I-qt.offsetX,x=Pt-qt.offsetY,O=!Dt.get("lockMovementX")&&Dt.left!==F,$=!Dt.get("lockMovementY")&&Dt.top!==x;return O&&Dt.set("left",F),$&&Dt.set("top",x),(O||$)&&A("moving",$t(ae,qt,I,Pt)),O||$}o.scaleCursorStyleHandler=Lt,o.skewCursorStyleHandler=At,o.scaleSkewCursorStyleHandler=se,o.rotationWithSnapping=ue("rotating",Y(M)),o.scalingEqually=ue("scaling",Y(ut)),o.scalingX=ue("scaling",Y(ht)),o.scalingY=ue("scaling",Y(Wt)),o.scalingYOrSkewingX=bt,o.scalingXOrSkewingY=Bt,o.changeWidth=ue("resizing",Y(oe)),o.skewHandlerX=X,o.skewHandlerY=rt,o.dragHandler=re,o.scaleOrSkewActionName=Le,o.rotationStyleHandler=Tt,o.fireEvent=A,o.wrapWithFixedAnchor=Y,o.wrapWithFireEvent=ue,o.getLocalPoint=tr,i.controlsUtils=o}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.degreesToRadians,u=i.controlsUtils;function o(e,t,a,l,s){l=l||{};var f=this.sizeX||l.cornerSize||s.cornerSize,p=this.sizeY||l.cornerSize||s.cornerSize,w=typeof l.transparentCorners!="undefined"?l.transparentCorners:s.transparentCorners,A=w?"stroke":"fill",z=!w&&(l.cornerStrokeColor||s.cornerStrokeColor),Z=t,ot=a,Lt;e.save(),e.fillStyle=l.cornerColor||s.cornerColor,e.strokeStyle=l.cornerStrokeColor||s.cornerStrokeColor,f>p?(Lt=f,e.scale(1,p/f),ot=a*f/p):p>f?(Lt=p,e.scale(f/p,1),Z=t*p/f):Lt=f,e.lineWidth=1,e.beginPath(),e.arc(Z,ot,Lt/2,0,2*Math.PI,!1),e[A](),z&&e.stroke(),e.restore()}function r(e,t,a,l,s){l=l||{};var f=this.sizeX||l.cornerSize||s.cornerSize,p=this.sizeY||l.cornerSize||s.cornerSize,w=typeof l.transparentCorners!="undefined"?l.transparentCorners:s.transparentCorners,A=w?"stroke":"fill",z=!w&&(l.cornerStrokeColor||s.cornerStrokeColor),Z=f/2,ot=p/2;e.save(),e.fillStyle=l.cornerColor||s.cornerColor,e.strokeStyle=l.cornerStrokeColor||s.cornerStrokeColor,e.lineWidth=1,e.translate(t,a),e.rotate(c(s.angle)),e[A+"Rect"](-Z,-ot,f,p),z&&e.strokeRect(-Z,-ot,f,p),e.restore()}u.renderCircleControl=o,u.renderSquareControl=r}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={});function c(u){for(var o in u)this[o]=u[o]}i.Control=c,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(o,r){return r.cursorStyle},getActionName:function(o,r){return r.actionName},getVisibility:function(o,r){var e=o._controlsVisibility;return e&&typeof e[r]!="undefined"?e[r]:this.visible},setVisibility:function(o){this.visible=o},positionHandler:function(o,r){var e=i.util.transformPoint({x:this.x*o.x+this.offsetX,y:this.y*o.y+this.offsetY},r);return e},calcCornerCoords:function(o,r,e,t,a){var l,s,f,p,w=a?this.touchSizeX:this.sizeX,A=a?this.touchSizeY:this.sizeY;if(w&&A&&w!==A){var z=Math.atan2(A,w),Z=Math.sqrt(w*w+A*A)/2,ot=z-i.util.degreesToRadians(o),Lt=Math.PI/2-z-i.util.degreesToRadians(o);l=Z*i.util.cos(ot),s=Z*i.util.sin(ot),f=Z*i.util.cos(Lt),p=Z*i.util.sin(Lt)}else{var At=w&&A?w:r;Z=At*.7071067812;var ot=i.util.degreesToRadians(45-o);l=f=Z*i.util.cos(ot),s=p=Z*i.util.sin(ot)}return{tl:{x:e-p,y:t-f},tr:{x:e+l,y:t-s},bl:{x:e-l,y:t+s},br:{x:e+p,y:t+f}}},render:function(o,r,e,t,a){switch(t=t||{},t.cornerStyle||a.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,o,r,e,t,a);break;default:i.controlsUtils.renderSquareControl.call(this,o,r,e,t,a)}}}}(_r),function(){function b(r,e){var t=r.getAttribute("style"),a=r.getAttribute("offset")||0,l,s,f,p;if(a=parseFloat(a)/(/%$/.test(a)?100:1),a=a<0?0:a>1?1:a,t){var w=t.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),p=w.length;p--;){var A=w[p].split(/\s*:\s*/),z=A[0].trim(),Z=A[1].trim();z==="stop-color"?l=Z:z==="stop-opacity"&&(f=Z)}}return l||(l=r.getAttribute("stop-color")||"rgb(0,0,0)"),f||(f=r.getAttribute("stop-opacity")),l=new L.Color(l),s=l.getAlpha(),f=isNaN(parseFloat(f))?1:parseFloat(f),f*=s*e,{offset:a,color:l.toRgb(),opacity:f}}function i(r){return{x1:r.getAttribute("x1")||0,y1:r.getAttribute("y1")||0,x2:r.getAttribute("x2")||"100%",y2:r.getAttribute("y2")||0}}function c(r){return{x1:r.getAttribute("fx")||r.getAttribute("cx")||"50%",y1:r.getAttribute("fy")||r.getAttribute("cy")||"50%",r1:0,x2:r.getAttribute("cx")||"50%",y2:r.getAttribute("cy")||"50%",r2:r.getAttribute("r")||"50%"}}var u=L.util.object.clone;L.Gradient=L.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,a=this;Object.keys(e).forEach(function(l){a[l]=e[l]}),this.id?this.id+="_"+L.Object.__uid++:this.id=L.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},this.type==="radial"&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var a=new L.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:a.toRgb(),opacity:a.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return L.util.populateWithProperties(this,t,e),t},toSVG:function(e,t){var a=u(this.coords,!0),l,s,t=t||{},f,p,w=u(this.colorStops,!0),A=a.r1>a.r2,z=this.gradientTransform?this.gradientTransform.concat():L.iMatrix.concat(),Z=-this.offsetX,ot=-this.offsetY,Lt=!!t.additionalTransform,At=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(Y,ue){return Y.offset-ue.offset}),At==="objectBoundingBox"?(Z/=e.width,ot/=e.height):(Z+=e.width/2,ot+=e.height/2),e.type==="path"&&this.gradientUnits!=="percentage"&&(Z-=e.pathOffset.x,ot-=e.pathOffset.y),z[4]-=Z,z[5]-=ot,p='id="SVGID_'+this.id+'" gradientUnits="'+At+'"',p+=' gradientTransform="'+(Lt?t.additionalTransform+" ":"")+L.util.matrixToSVG(z)+'" ',this.type==="linear"?f=["<linearGradient ",p,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`">
`]:this.type==="radial"&&(f=["<radialGradient ",p,' cx="',A?a.x1:a.x2,'" cy="',A?a.y1:a.y2,'" r="',A?a.r1:a.r2,'" fx="',A?a.x2:a.x1,'" fy="',A?a.y2:a.y1,`">
`]),this.type==="radial"){if(A)for(w=w.concat(),w.reverse(),l=0,s=w.length;l<s;l++)w[l].offset=1-w[l].offset;var se=Math.min(a.r1,a.r2);if(se>0){var Le=Math.max(a.r1,a.r2),Tt=se/Le;for(l=0,s=w.length;l<s;l++)w[l].offset+=Tt*(1-w[l].offset)}}for(l=0,s=w.length;l<s;l++){var $t=w[l];f.push("<stop ",'offset="',$t.offset*100+"%",'" style="stop-color:',$t.color,typeof $t.opacity!="undefined"?";stop-opacity: "+$t.opacity:";",`"/>
`)}return f.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),f.join("")},toLive:function(e){var t,a=L.util.object.clone(this.coords),l,s;if(!!this.type){for(this.type==="linear"?t=e.createLinearGradient(a.x1,a.y1,a.x2,a.y2):this.type==="radial"&&(t=e.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2)),l=0,s=this.colorStops.length;l<s;l++){var f=this.colorStops[l].color,p=this.colorStops[l].opacity,w=this.colorStops[l].offset;typeof p!="undefined"&&(f=new L.Color(f).setAlpha(p).toRgba()),t.addColorStop(w,f)}return t}}}),L.util.object.extend(L.Gradient,{fromElement:function(e,t,a,l){var s=parseFloat(a)/(/%$/.test(a)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var f=e.getElementsByTagName("stop"),p,w=e.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",A=e.getAttribute("gradientTransform")||"",z=[],Z,ot,Lt=0,At=0,se;for(e.nodeName==="linearGradient"||e.nodeName==="LINEARGRADIENT"?(p="linear",Z=i(e)):(p="radial",Z=c(e)),ot=f.length;ot--;)z.push(b(f[ot],s));se=L.parseTransformAttribute(A),o(t,Z,l,w),w==="pixels"&&(Lt=-t.left,At=-t.top);var Le=new L.Gradient({id:e.getAttribute("id"),type:p,coords:Z,colorStops:z,gradientUnits:w,gradientTransform:se,offsetX:Lt,offsetY:At});return Le}});function o(r,e,t,a){var l,s;Object.keys(e).forEach(function(f){l=e[f],l==="Infinity"?s=1:l==="-Infinity"?s=0:(s=parseFloat(e[f],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(s*=.01,a==="pixels"&&((f==="x1"||f==="x2"||f==="r2")&&(s*=t.viewBoxWidth||t.width),(f==="y1"||f==="y2")&&(s*=t.viewBoxHeight||t.height)))),e[f]=s})}}(),function(){"use strict";var b=L.util.toFixed;L.Pattern=L.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(c,u){if(c||(c={}),this.id=L.Object.__uid++,this.setOptions(c),!c.source||c.source&&typeof c.source!="string"){u&&u(this);return}else{var o=this;this.source=L.util.createImage(),L.util.loadImage(c.source,function(r,e){o.source=r,u&&u(o,e)},null,this.crossOrigin)}},toObject:function(c){var u=L.Object.NUM_FRACTION_DIGITS,o,r;return typeof this.source.src=="string"?o=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(o=this.source.toDataURL()),r={type:"pattern",source:o,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:b(this.offsetX,u),offsetY:b(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},L.util.populateWithProperties(this,r,c),r},toSVG:function(c){var u=typeof this.source=="function"?this.source():this.source,o=u.width/c.width,r=u.height/c.height,e=this.offsetX/c.width,t=this.offsetY/c.height,a="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(r=1,t&&(r+=Math.abs(t))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(o=1,e&&(o+=Math.abs(e))),u.src?a=u.src:u.toDataURL&&(a=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+e+'" y="'+t+'" width="'+o+'" height="'+r+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+a+`"></image>
</pattern>
`},setOptions:function(c){for(var u in c)this[u]=c[u]},toLive:function(c){var u=this.source;return!u||typeof u.src!="undefined"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":c.createPattern(u,this.repeat)}})}(),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(o){typeof o=="string"&&(o=this._parseShadow(o));for(var r in o)this[r]=o[r];this.id=i.Object.__uid++},_parseShadow:function(o){var r=o.trim(),e=i.Shadow.reOffsetsAndBlur.exec(r)||[],t=r.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:t.trim(),offsetX:parseFloat(e[1],10)||0,offsetY:parseFloat(e[2],10)||0,blur:parseFloat(e[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(o){var r=40,e=40,t=i.Object.NUM_FRACTION_DIGITS,a=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-o.angle)),l=20,s=new i.Color(this.color);return o.width&&o.height&&(r=c((Math.abs(a.x)+this.blur)/o.width,t)*100+l,e=c((Math.abs(a.y)+this.blur)/o.height,t)*100+l),o.flipX&&(a.x*=-1),o.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+e+'%" height="'+(100+2*e)+'%" x="-'+r+'%" width="'+(100+2*r)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,t)+`"></feGaussianBlur>
	<feOffset dx="`+c(a.x,t)+'" dy="'+c(a.y,t)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+s.toRgb()+'" flood-opacity="'+s.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var o={},r=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(e){this[e]!==r[e]&&(o[e]=this[e])},this),o}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(_r),function(){"use strict";if(L.StaticCanvas){L.warn("fabric.StaticCanvas is already defined.");return}var b=L.util.object.extend,i=L.util.getElementOffset,c=L.util.removeFromArray,u=L.util.toFixed,o=L.util.transformPoint,r=L.util.invertTransform,e=L.util.getNodeCanvas,t=L.util.createCanvasElement,a=new Error("Could not initialize `canvas` element");L.StaticCanvas=L.util.createClass(L.CommonMethods,{initialize:function(s,f){f||(f={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,f)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:L.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(s,f){var p=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(s),this._initOptions(f),this.interactive||this._initRetinaScaling(),f.overlayImage&&this.setOverlayImage(f.overlayImage,p),f.backgroundImage&&this.setBackgroundImage(f.backgroundImage,p),f.backgroundColor&&this.setBackgroundColor(f.backgroundColor,p),f.overlayColor&&this.setOverlayColor(f.overlayColor,p),this.calcOffset()},_isRetinaScaling:function(){return L.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?L.devicePixelRatio:1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var s=L.devicePixelRatio;this.__initRetinaScaling(s,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(s,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(s,f,p){f.setAttribute("width",this.width*s),f.setAttribute("height",this.height*s),p.scale(s,s)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(s,f,p){return this.__setBgOverlayImage("overlayImage",s,f,p)},setBackgroundImage:function(s,f,p){return this.__setBgOverlayImage("backgroundImage",s,f,p)},setOverlayColor:function(s,f){return this.__setBgOverlayColor("overlayColor",s,f)},setBackgroundColor:function(s,f){return this.__setBgOverlayColor("backgroundColor",s,f)},__setBgOverlayImage:function(s,f,p,w){return typeof f=="string"?L.util.loadImage(f,function(A,z){if(A){var Z=new L.Image(A,w);this[s]=Z,Z.canvas=this}p&&p(A,z)},this,w&&w.crossOrigin):(w&&f.setOptions(w),this[s]=f,f&&(f.canvas=this),p&&p(f,!1)),this},__setBgOverlayColor:function(s,f,p){return this[s]=f,this._initGradient(f,s),this._initPattern(f,s,p),this},_createCanvasElement:function(){var s=t();if(!s||(s.style||(s.style={}),typeof s.getContext=="undefined"))throw a;return s},_initOptions:function(s){var f=this.lowerCanvasEl;this._setOptions(s),this.width=this.width||parseInt(f.width,10)||0,this.height=this.height||parseInt(f.height,10)||0,!!this.lowerCanvasEl.style&&(f.width=this.width,f.height=this.height,f.style.width=this.width+"px",f.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(s){s&&s.getContext?this.lowerCanvasEl=s:this.lowerCanvasEl=L.util.getById(s)||this._createCanvasElement(),L.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(s,f){return this.setDimensions({width:s},f)},setHeight:function(s,f){return this.setDimensions({height:s},f)},setDimensions:function(s,f){var p;f=f||{};for(var w in s)p=s[w],f.cssOnly||(this._setBackstoreDimension(w,s[w]),p+="px",this.hasLostContext=!0),f.backstoreOnly||this._setCssDimension(w,p);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),f.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(s,f){return this.lowerCanvasEl[s]=f,this.upperCanvasEl&&(this.upperCanvasEl[s]=f),this.cacheCanvasEl&&(this.cacheCanvasEl[s]=f),this[s]=f,this},_setCssDimension:function(s,f){return this.lowerCanvasEl.style[s]=f,this.upperCanvasEl&&(this.upperCanvasEl.style[s]=f),this.wrapperEl&&(this.wrapperEl.style[s]=f),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(s){var f=this._activeObject,p=this.backgroundImage,w=this.overlayImage,A,z,Z;for(this.viewportTransform=s,z=0,Z=this._objects.length;z<Z;z++)A=this._objects[z],A.group||A.setCoords(!0);return f&&f.setCoords(),p&&p.setCoords(!0),w&&w.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(s,f){var p=s,w=this.viewportTransform.slice(0);s=o(s,r(this.viewportTransform)),w[0]=f,w[3]=f;var A=o(s,w);return w[4]+=p.x-A.x,w[5]+=p.y-A.y,this.setViewportTransform(w)},setZoom:function(s){return this.zoomToPoint(new L.Point(0,0),s),this},absolutePan:function(s){var f=this.viewportTransform.slice(0);return f[4]=-s.x,f[5]=-s.y,this.setViewportTransform(f)},relativePan:function(s){return this.absolutePan(new L.Point(-s.x-this.viewportTransform[4],-s.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(s){this.stateful&&s.setupState(),s._set("canvas",this),s.setCoords(),this.fire("object:added",{target:s}),s.fire("added")},_onObjectRemoved:function(s){this.fire("object:removed",{target:s}),s.fire("removed"),delete s.canvas},clearContext:function(s){return s.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var s=this.contextContainer;return this.renderCanvas(s,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=L.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var s={},f=this.width,p=this.height,w=r(this.viewportTransform);return s.tl=o({x:0,y:0},w),s.br=o({x:f,y:p},w),s.tr=new L.Point(s.br.x,s.tl.y),s.bl=new L.Point(s.tl.x,s.br.y),this.vptCoords=s,s},cancelRequestedRender:function(){this.isRendering&&(L.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(s,f){var p=this.viewportTransform,w=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(s),L.util.setImageSmoothing(s,this.imageSmoothingEnabled),this.fire("before:render",{ctx:s}),this._renderBackground(s),s.save(),s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._renderObjects(s,f),s.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(s),w&&(w.canvas=this,w.shouldCache(),w._transformDone=!0,w.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(s)),this._renderOverlay(s),this.controlsAboveOverlay&&this.interactive&&this.drawControls(s),this.fire("after:render",{ctx:s})},drawClipPathOnCanvas:function(s){var f=this.viewportTransform,p=this.clipPath;s.save(),s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),s.globalCompositeOperation="destination-in",p.transform(s),s.scale(1/p.zoomX,1/p.zoomY),s.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),s.restore()},_renderObjects:function(s,f){var p,w;for(p=0,w=f.length;p<w;++p)f[p]&&f[p].render(s)},_renderBackgroundOrOverlay:function(s,f){var p=this[f+"Color"],w=this[f+"Image"],A=this.viewportTransform,z=this[f+"Vpt"];if(!(!p&&!w)){if(p){s.save(),s.beginPath(),s.moveTo(0,0),s.lineTo(this.width,0),s.lineTo(this.width,this.height),s.lineTo(0,this.height),s.closePath(),s.fillStyle=p.toLive?p.toLive(s,this):p,z&&s.transform(A[0],A[1],A[2],A[3],A[4],A[5]),s.transform(1,0,0,1,p.offsetX||0,p.offsetY||0);var Z=p.gradientTransform||p.patternTransform;Z&&s.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),s.fill(),s.restore()}w&&(s.save(),z&&s.transform(A[0],A[1],A[2],A[3],A[4],A[5]),w.render(s),s.restore())}},_renderBackground:function(s){this._renderBackgroundOrOverlay(s,"background")},_renderOverlay:function(s){this._renderBackgroundOrOverlay(s,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(s){return this._centerObject(s,new L.Point(this.getCenter().left,s.getCenterPoint().y))},centerObjectV:function(s){return this._centerObject(s,new L.Point(s.getCenterPoint().x,this.getCenter().top))},centerObject:function(s){var f=this.getCenter();return this._centerObject(s,new L.Point(f.left,f.top))},viewportCenterObject:function(s){var f=this.getVpCenter();return this._centerObject(s,f)},viewportCenterObjectH:function(s){var f=this.getVpCenter();return this._centerObject(s,new L.Point(f.x,s.getCenterPoint().y)),this},viewportCenterObjectV:function(s){var f=this.getVpCenter();return this._centerObject(s,new L.Point(s.getCenterPoint().x,f.y))},getVpCenter:function(){var s=this.getCenter(),f=r(this.viewportTransform);return o({x:s.left,y:s.top},f)},_centerObject:function(s,f){return s.setPositionByOrigin(f,"center","center"),s.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(s){return this.toDatalessObject(s)},toObject:function(s){return this._toObjectMethod("toObject",s)},toDatalessObject:function(s){return this._toObjectMethod("toDatalessObject",s)},_toObjectMethod:function(s,f){var p=this.clipPath,w={version:L.version,objects:this._toObjects(s,f)};return p&&!p.excludeFromExport&&(w.clipPath=this._toObject(this.clipPath,s,f)),b(w,this.__serializeBgOverlay(s,f)),L.util.populateWithProperties(this,w,f),w},_toObjects:function(s,f){return this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){return this._toObject(p,s,f)},this)},_toObject:function(s,f,p){var w;this.includeDefaultValues||(w=s.includeDefaultValues,s.includeDefaultValues=!1);var A=s[f](p);return this.includeDefaultValues||(s.includeDefaultValues=w),A},__serializeBgOverlay:function(s,f){var p={},w=this.backgroundImage,A=this.overlayImage,z=this.backgroundColor,Z=this.overlayColor;return z&&z.toObject?z.excludeFromExport||(p.background=z.toObject(f)):z&&(p.background=z),Z&&Z.toObject?Z.excludeFromExport||(p.overlay=Z.toObject(f)):Z&&(p.overlay=Z),w&&!w.excludeFromExport&&(p.backgroundImage=this._toObject(w,s,f)),A&&!A.excludeFromExport&&(p.overlayImage=this._toObject(A,s,f)),p},svgViewportTransformation:!0,toSVG:function(s,f){s||(s={}),s.reviver=f;var p=[];return this._setSVGPreamble(p,s),this._setSVGHeader(p,s),this.clipPath&&p.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(p,"background"),this._setSVGBgOverlayImage(p,"backgroundImage",f),this._setSVGObjects(p,f),this.clipPath&&p.push(`</g>
`),this._setSVGBgOverlayColor(p,"overlay"),this._setSVGBgOverlayImage(p,"overlayImage",f),p.push("</svg>"),p.join("")},_setSVGPreamble:function(s,f){f.suppressPreamble||s.push('<?xml version="1.0" encoding="',f.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(s,f){var p=f.width||this.width,w=f.height||this.height,A,z='viewBox="0 0 '+this.width+" "+this.height+'" ',Z=L.Object.NUM_FRACTION_DIGITS;f.viewBox?z='viewBox="'+f.viewBox.x+" "+f.viewBox.y+" "+f.viewBox.width+" "+f.viewBox.height+'" ':this.svgViewportTransformation&&(A=this.viewportTransform,z='viewBox="'+u(-A[4]/A[0],Z)+" "+u(-A[5]/A[3],Z)+" "+u(this.width/A[0],Z)+" "+u(this.height/A[3],Z)+'" '),s.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',p,'" ','height="',w,'" ',z,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",L.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(f),`</defs>
`)},createSVGClipPathMarkup:function(s){var f=this.clipPath;return f?(f.clipPathId="CLIPPATH_"+L.Object.__uid++,'<clipPath id="'+f.clipPathId+`" >
`+this.clipPath.toClipPathSVG(s.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var s=this,f=["background","overlay"].map(function(p){var w=s[p+"Color"];if(w&&w.toLive){var A=s[p+"Vpt"],z=s.viewportTransform,Z={width:s.width/(A?z[0]:1),height:s.height/(A?z[3]:1)};return w.toSVG(Z,{additionalTransform:A?L.util.matrixToSVG(z):""})}});return f.join("")},createSVGFontFacesMarkup:function(){var s="",f={},p,w,A,z,Z,ot,Lt,At,se,Le=L.fontPaths,Tt=[];for(this._objects.forEach(function Y(ue){Tt.push(ue),ue._objects&&ue._objects.forEach(Y)}),At=0,se=Tt.length;At<se;At++)if(p=Tt[At],w=p.fontFamily,!(p.type.indexOf("text")===-1||f[w]||!Le[w])&&(f[w]=!0,!!p.styles)){A=p.styles;for(Z in A){z=A[Z];for(Lt in z)ot=z[Lt],w=ot.fontFamily,!f[w]&&Le[w]&&(f[w]=!0)}}for(var $t in f)s+=[`		@font-face {
`,"			font-family: '",$t,`';
`,"			src: url('",Le[$t],`');
`,`		}
`].join("");return s&&(s=['	<style type="text/css">',`<![CDATA[
`,s,"]]>",`</style>
`].join("")),s},_setSVGObjects:function(s,f){var p,w,A,z=this._objects;for(w=0,A=z.length;w<A;w++)p=z[w],!p.excludeFromExport&&this._setSVGObject(s,p,f)},_setSVGObject:function(s,f,p){s.push(f.toSVG(p))},_setSVGBgOverlayImage:function(s,f,p){this[f]&&!this[f].excludeFromExport&&this[f].toSVG&&s.push(this[f].toSVG(p))},_setSVGBgOverlayColor:function(s,f){var p=this[f+"Color"],w=this.viewportTransform,A=this.width,z=this.height;if(!!p)if(p.toLive){var Z=p.repeat,ot=L.util.invertTransform(w),Lt=this[f+"Vpt"],At=Lt?L.util.matrixToSVG(ot):"";s.push('<rect transform="'+At+" translate(",A/2,",",z/2,')"',' x="',p.offsetX-A/2,'" y="',p.offsetY-z/2,'" ','width="',Z==="repeat-y"||Z==="no-repeat"?p.source.width:A,'" height="',Z==="repeat-x"||Z==="no-repeat"?p.source.height:z,'" fill="url(#SVGID_'+p.id+')"',`></rect>
`)}else s.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',p,'"',`></rect>
`)},sendToBack:function(s){if(!s)return this;var f=this._activeObject,p,w,A;if(s===f&&s.type==="activeSelection")for(A=f._objects,p=A.length;p--;)w=A[p],c(this._objects,w),this._objects.unshift(w);else c(this._objects,s),this._objects.unshift(s);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(s){if(!s)return this;var f=this._activeObject,p,w,A;if(s===f&&s.type==="activeSelection")for(A=f._objects,p=0;p<A.length;p++)w=A[p],c(this._objects,w),this._objects.push(w);else c(this._objects,s),this._objects.push(s);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(s,f){if(!s)return this;var p=this._activeObject,w,A,z,Z,ot,Lt=0;if(s===p&&s.type==="activeSelection")for(ot=p._objects,w=0;w<ot.length;w++)A=ot[w],z=this._objects.indexOf(A),z>0+Lt&&(Z=z-1,c(this._objects,A),this._objects.splice(Z,0,A)),Lt++;else z=this._objects.indexOf(s),z!==0&&(Z=this._findNewLowerIndex(s,z,f),c(this._objects,s),this._objects.splice(Z,0,s));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(s,f,p){var w,A;if(p)for(w=f,A=f-1;A>=0;--A){var z=s.intersectsWithObject(this._objects[A])||s.isContainedWithinObject(this._objects[A])||this._objects[A].isContainedWithinObject(s);if(z){w=A;break}}else w=f-1;return w},bringForward:function(s,f){if(!s)return this;var p=this._activeObject,w,A,z,Z,ot,Lt=0;if(s===p&&s.type==="activeSelection")for(ot=p._objects,w=ot.length;w--;)A=ot[w],z=this._objects.indexOf(A),z<this._objects.length-1-Lt&&(Z=z+1,c(this._objects,A),this._objects.splice(Z,0,A)),Lt++;else z=this._objects.indexOf(s),z!==this._objects.length-1&&(Z=this._findNewUpperIndex(s,z,f),c(this._objects,s),this._objects.splice(Z,0,s));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(s,f,p){var w,A,z;if(p)for(w=f,A=f+1,z=this._objects.length;A<z;++A){var Z=s.intersectsWithObject(this._objects[A])||s.isContainedWithinObject(this._objects[A])||this._objects[A].isContainedWithinObject(s);if(Z){w=A;break}}else w=f+1;return w},moveTo:function(s,f){return c(this._objects,s),this._objects.splice(f,0,s),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(L.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),L.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),b(L.StaticCanvas.prototype,L.Observable),b(L.StaticCanvas.prototype,L.Collection),b(L.StaticCanvas.prototype,L.DataURLExporter),b(L.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(s){var f=t();if(!f||!f.getContext)return null;var p=f.getContext("2d");if(!p)return null;switch(s){case"setLineDash":return typeof p.setLineDash!="undefined";default:return null}}}),L.StaticCanvas.prototype.toJSON=L.StaticCanvas.prototype.toObject,L.isLikelyNode&&(L.StaticCanvas.prototype.createPNGStream=function(){var l=e(this.lowerCanvasEl);return l&&l.createPNGStream()},L.StaticCanvas.prototype.createJPEGStream=function(l){var s=e(this.lowerCanvasEl);return s&&s.createJPEGStream(l)})}(),L.BaseBrush=L.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var i=this.canvas.contextTop;i.strokeStyle=this.color,i.lineWidth=this.width,i.lineCap=this.strokeLineCap,i.miterLimit=this.strokeMiterLimit,i.lineJoin=this.strokeLineJoin,i.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(i){var c=this.canvas.viewportTransform;i.save(),i.transform(c[0],c[1],c[2],c[3],c[4],c[5])},_setShadow:function(){if(!!this.shadow){var i=this.canvas,c=this.shadow,u=i.contextTop,o=i.getZoom();i&&i._isRetinaScaling()&&(o*=L.devicePixelRatio),u.shadowColor=c.color,u.shadowBlur=c.blur*o,u.shadowOffsetX=c.offsetX*o,u.shadowOffsetY=c.offsetY*o}},needsFullRender:function(){var i=new L.Color(this.color);return i.getAlpha()<1||!!this.shadow},_resetShadow:function(){var i=this.canvas.contextTop;i.shadowColor="",i.shadowBlur=i.shadowOffsetX=i.shadowOffsetY=0},_isOutSideCanvas:function(i){return i.x<0||i.x>this.canvas.getWidth()||i.y<0||i.y>this.canvas.getHeight()}}),function(){L.PencilBrush=L.util.createClass(L.BaseBrush,{decimate:.4,initialize:function(i){this.canvas=i,this._points=[]},_drawSegment:function(i,c,u){var o=c.midPointFrom(u);return i.quadraticCurveTo(c.x,c.y,o.x,o.y),o},onMouseDown:function(i,c){!this.canvas._isMainEvent(c.e)||(this._prepareForDrawing(i),this._captureDrawingPath(i),this._render())},onMouseMove:function(i,c){if(!!this.canvas._isMainEvent(c.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(i))&&this._captureDrawingPath(i)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,o=u.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,u[o-2],u[o-1],!0),r.stroke(),r.restore()}},onMouseUp:function(i){return this.canvas._isMainEvent(i.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(i){var c=new L.Point(i.x,i.y);this._reset(),this._addPoint(c),this.canvas.contextTop.moveTo(c.x,c.y)},_addPoint:function(i){return this._points.length>1&&i.eq(this._points[this._points.length-1])?!1:(this._points.push(i),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(i){var c=new L.Point(i.x,i.y);return this._addPoint(c)},_render:function(){var i=this.canvas.contextTop,c,u,o=this._points[0],r=this._points[1];if(this._saveAndTransform(i),i.beginPath(),this._points.length===2&&o.x===r.x&&o.y===r.y){var e=this.width/1e3;o=new L.Point(o.x,o.y),r=new L.Point(r.x,r.y),o.x-=e,r.x+=e}for(i.moveTo(o.x,o.y),c=1,u=this._points.length;c<u;c++)this._drawSegment(i,o,r),o=this._points[c],r=this._points[c+1];i.lineTo(o.x,o.y),i.stroke(),i.restore()},convertPointsToSVGPath:function(i){var c=this.width/1e3;return L.util.getSmoothPathFromPoints(i,c)},_isEmptySVGPath:function(i){var c=L.util.joinPath(i);return c==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(i){var c=new L.Path(i,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,c.shadow=new L.Shadow(this.shadow)),c},decimatePoints:function(i,c){if(i.length<=2)return i;var u=this.canvas.getZoom(),o=Math.pow(c/u,2),r,e=i.length-1,t=i[0],a=[t],l;for(r=1;r<e-1;r++)l=Math.pow(t.x-i[r].x,2)+Math.pow(t.y-i[r].y,2),l>=o&&(t=i[r],a.push(t));return a.push(i[e]),a},_finalizeAndAddPath:function(){var i=this.canvas.contextTop;i.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var c=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(c)){this.canvas.requestRenderAll();return}var u=this.createPath(c);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),L.CircleBrush=L.util.createClass(L.BaseBrush,{width:10,initialize:function(i){this.canvas=i,this.points=[]},drawDot:function(i){var c=this.addPoint(i),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,c),u.restore()},dot:function(i,c){i.fillStyle=c.fill,i.beginPath(),i.arc(c.x,c.y,c.radius,0,Math.PI*2,!1),i.closePath(),i.fill()},onMouseDown:function(i){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(i)},_render:function(){var i=this.canvas.contextTop,c,u,o=this.points;for(this._saveAndTransform(i),c=0,u=o.length;c<u;c++)this.dot(i,o[c]);i.restore()},onMouseMove:function(i){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(i)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(i),this._render()):this.drawDot(i))},onMouseUp:function(){var i=this.canvas.renderOnAddRemove,c,u;this.canvas.renderOnAddRemove=!1;var o=[];for(c=0,u=this.points.length;c<u;c++){var r=this.points[c],e=new L.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(e.shadow=new L.Shadow(this.shadow)),o.push(e)}var t=new L.Group(o);t.canvas=this.canvas,this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.fire("path:created",{path:t}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},addPoint:function(i){var c=new L.Point(i.x,i.y),u=L.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,o=new L.Color(this.color).setAlpha(L.util.getRandomInt(0,100)/100).toRgba();return c.radius=u,c.fill=o,this.points.push(c),c}}),L.SprayBrush=L.util.createClass(L.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(i){this.canvas=i,this.sprayChunks=[]},onMouseDown:function(i){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(i),this.render(this.sprayChunkPoints)},onMouseMove:function(i){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(i)||(this.addSprayChunk(i),this.render(this.sprayChunkPoints))},onMouseUp:function(){var i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var c=[],u=0,o=this.sprayChunks.length;u<o;u++)for(var r=this.sprayChunks[u],e=0,t=r.length;e<t;e++){var a=new L.Rect({width:r[e].width,height:r[e].width,left:r[e].x+1,top:r[e].y+1,originX:"center",originY:"center",fill:this.color});c.push(a)}this.optimizeOverlapping&&(c=this._getOptimizedRects(c));var l=new L.Group(c);this.shadow&&l.set("shadow",new L.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},_getOptimizedRects:function(i){var c={},u,o,r;for(o=0,r=i.length;o<r;o++)u=i[o].left+""+i[o].top,c[u]||(c[u]=i[o]);var e=[];for(u in c)e.push(c[u]);return e},render:function(i){var c=this.canvas.contextTop,u,o;for(c.fillStyle=this.color,this._saveAndTransform(c),u=0,o=i.length;u<o;u++){var r=i[u];typeof r.opacity!="undefined"&&(c.globalAlpha=r.opacity),c.fillRect(r.x,r.y,r.width,r.width)}c.restore()},_render:function(){var i=this.canvas.contextTop,c,u;for(i.fillStyle=this.color,this._saveAndTransform(i),c=0,u=this.sprayChunks.length;c<u;c++)this.render(this.sprayChunks[c]);i.restore()},addSprayChunk:function(i){this.sprayChunkPoints=[];var c,u,o,r=this.width/2,e;for(e=0;e<this.density;e++){c=L.util.getRandomInt(i.x-r,i.x+r),u=L.util.getRandomInt(i.y-r,i.y+r),this.dotWidthVariance?o=L.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):o=this.dotWidth;var t=new L.Point(c,u);t.width=o,this.randomOpacity&&(t.opacity=L.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(t)}this.sprayChunks.push(this.sprayChunkPoints)}}),L.PatternBrush=L.util.createClass(L.PencilBrush,{getPatternSrc:function(){var i=20,c=5,u=L.util.createCanvasElement(),o=u.getContext("2d");return u.width=u.height=i+c,o.fillStyle=this.color,o.beginPath(),o.arc(i/2,i/2,i/2,0,Math.PI*2,!1),o.closePath(),o.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(i){var c=this.callSuper("createPath",i),u=c._getLeftTopCoords().scalarAdd(c.strokeWidth/2);return c.stroke=new L.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),c}}),function(){var b=L.util.getPointer,i=L.util.degreesToRadians,c=L.util.isTouchEvent;L.Canvas=L.util.createClass(L.StaticCanvas,{initialize:function(r,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(r,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=L.PencilBrush&&new L.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var r=this.getActiveObjects(),e,t,a;if(r.length>0&&!this.preserveObjectStacking){t=[],a=[];for(var l=0,s=this._objects.length;l<s;l++)e=this._objects[l],r.indexOf(e)===-1?t.push(e):a.push(e);r.length>1&&(this._activeObject._objects=a),t.push.apply(t,a)}else t=this._objects;return t},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var r=this.contextContainer;return this.renderCanvas(r,this._chooseObjectsToRender()),this},renderTopLayer:function(r){r.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(r),this.contextTopDirty=!0),r.restore()},renderTop:function(){var r=this.contextTop;return this.clearContext(r),this.renderTopLayer(r),this.fire("after:render"),this},_normalizePointer:function(r,e){var t=r.calcTransformMatrix(),a=L.util.invertTransform(t),l=this.restorePointerVpt(e);return L.util.transformPoint(l,a)},isTargetTransparent:function(r,e,t){if(r.shouldCache()&&r._cacheCanvas&&r!==this._activeObject){var a=this._normalizePointer(r,{x:e,y:t}),l=Math.max(r.cacheTranslationX+a.x*r.zoomX,0),s=Math.max(r.cacheTranslationY+a.y*r.zoomY,0),A=L.util.isTransparent(r._cacheContext,Math.round(l),Math.round(s),this.targetFindTolerance);return A}var f=this.contextCache,p=r.selectionBackgroundColor,w=this.viewportTransform;r.selectionBackgroundColor="",this.clearContext(f),f.save(),f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),r.render(f),f.restore(),r.selectionBackgroundColor=p;var A=L.util.isTransparent(f,e,t,this.targetFindTolerance);return A},_isSelectionKeyPressed:function(r){var e=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?e=!!this.selectionKey.find(function(t){return r[t]===!0}):e=r[this.selectionKey],e},_shouldClearSelection:function(r,e){var t=this.getActiveObjects(),a=this._activeObject;return!e||e&&a&&t.length>1&&t.indexOf(e)===-1&&a!==e&&!this._isSelectionKeyPressed(r)||e&&!e.evented||e&&!e.selectable&&a&&a!==e},_shouldCenterTransform:function(r,e,t){if(!!r){var a;return e==="scale"||e==="scaleX"||e==="scaleY"||e==="resizing"?a=this.centeredScaling||r.centeredScaling:e==="rotate"&&(a=this.centeredRotation||r.centeredRotation),a?!t:t}},_getOriginFromCorner:function(r,e){var t={x:r.originX,y:r.originY};return e==="ml"||e==="tl"||e==="bl"?t.x="right":(e==="mr"||e==="tr"||e==="br")&&(t.x="left"),e==="tl"||e==="mt"||e==="tr"?t.y="bottom":(e==="bl"||e==="mb"||e==="br")&&(t.y="top"),t},_getActionFromCorner:function(r,e,t,a){if(!e||!r)return"drag";var l=a.controls[e];return l.getActionName(t,l,a)},_setupCurrentTransform:function(r,e,t){if(!!e){var a=this.getPointer(r),l=e.__corner,s=e.controls[l],f=t&&l?s.getActionHandler(r,e,s):L.controlsUtils.dragHandler,p=this._getActionFromCorner(t,l,r,e),w=this._getOriginFromCorner(e,l),A=r[this.centeredKey],z={target:e,action:p,actionHandler:f,corner:l,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:a.x-e.left,offsetY:a.y-e.top,originX:w.x,originY:w.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:i(e.angle),width:e.width*e.scaleX,shiftKey:r.shiftKey,altKey:A,original:L.util.saveObjectTransform(e)};this._shouldCenterTransform(e,p,A)&&(z.originX="center",z.originY="center"),z.original.originX=w.x,z.original.originY=w.y,this._currentTransform=z,this._beforeTransform(r)}},setCursor:function(r){this.upperCanvasEl.style.cursor=r},_drawSelection:function(r){var e=this._groupSelector,t=new L.Point(e.ex,e.ey),a=L.util.transformPoint(t,this.viewportTransform),l=new L.Point(e.ex+e.left,e.ey+e.top),s=L.util.transformPoint(l,this.viewportTransform),f=Math.min(a.x,s.x),p=Math.min(a.y,s.y),w=Math.max(a.x,s.x),A=Math.max(a.y,s.y),z=this.selectionLineWidth/2;this.selectionColor&&(r.fillStyle=this.selectionColor,r.fillRect(f,p,w-f,A-p)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(r.lineWidth=this.selectionLineWidth,r.strokeStyle=this.selectionBorderColor,f+=z,p+=z,w-=z,A-=z,L.Object.prototype._setLineDash.call(this,r,this.selectionDashArray),r.strokeRect(f,p,w-f,A-p))},findTarget:function(r,e){if(!this.skipTargetFind){var t=!0,a=this.getPointer(r,t),l=this._activeObject,s=this.getActiveObjects(),f,p,w=c(r),A=s.length>1&&!e||s.length===1;if(this.targets=[],A&&l._findTargetCorner(a,w)||s.length>1&&!e&&l===this._searchPossibleTargets([l],a))return l;if(s.length===1&&l===this._searchPossibleTargets([l],a))if(this.preserveObjectStacking)f=l,p=this.targets,this.targets=[];else return l;var z=this._searchPossibleTargets(this._objects,a);return r[this.altSelectionKey]&&z&&f&&z!==f&&(z=f,this.targets=p),z}},_checkTarget:function(r,e,t){if(e&&e.visible&&e.evented&&e.containsPoint(r))if((this.perPixelTargetFind||e.perPixelTargetFind)&&!e.isEditing){var a=this.isTargetTransparent(e,t.x,t.y);if(!a)return!0}else return!0},_searchPossibleTargets:function(r,e){for(var t,a=r.length,l;a--;){var s=r[a],f=s.group?this._normalizePointer(s.group,e):e;if(this._checkTarget(f,s,e)){t=r[a],t.subTargetCheck&&t instanceof L.Group&&(l=this._searchPossibleTargets(t._objects,e),l&&this.targets.push(l));break}}return t},restorePointerVpt:function(r){return L.util.transformPoint(r,L.util.invertTransform(this.viewportTransform))},getPointer:function(r,e){if(this._absolutePointer&&!e)return this._absolutePointer;if(this._pointer&&e)return this._pointer;var t=b(r),a=this.upperCanvasEl,l=a.getBoundingClientRect(),s=l.width||0,f=l.height||0,p;(!s||!f)&&("top"in l&&"bottom"in l&&(f=Math.abs(l.top-l.bottom)),"right"in l&&"left"in l&&(s=Math.abs(l.right-l.left))),this.calcOffset(),t.x=t.x-this._offset.left,t.y=t.y-this._offset.top,e||(t=this.restorePointerVpt(t));var w=this.getRetinaScaling();return w!==1&&(t.x/=w,t.y/=w),s===0||f===0?p={width:1,height:1}:p={width:a.width/s,height:a.height/f},{x:t.x*p.width,y:t.y*p.height}},_createUpperCanvas:function(){var r=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,t=this.upperCanvasEl;t?t.className="":(t=this._createCanvasElement(),this.upperCanvasEl=t),L.util.addClass(t,"upper-canvas "+r),this.wrapperEl.appendChild(t),this._copyCanvasStyle(e,t),this._applyCanvasStyle(t),this.contextTop=t.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=L.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),L.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),L.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(r){var e=this.width||r.width,t=this.height||r.height;L.util.setStyle(r,{position:"absolute",width:e+"px",height:t+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),r.width=e,r.height=t,L.util.makeElementUnselectable(r)},_copyCanvasStyle:function(r,e){e.style.cssText=r.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var r=this._activeObject;return r?r.type==="activeSelection"&&r._objects?r._objects.slice(0):[r]:[]},_onObjectRemoved:function(r){r===this._activeObject&&(this.fire("before:selection:cleared",{target:r}),this._discardActiveObject(),this.fire("selection:cleared",{target:r}),r.fire("deselected")),r===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",r)},_fireSelectionEvents:function(r,e){var t=!1,a=this.getActiveObjects(),l=[],s=[];r.forEach(function(f){a.indexOf(f)===-1&&(t=!0,f.fire("deselected",{e,target:f}),s.push(f))}),a.forEach(function(f){r.indexOf(f)===-1&&(t=!0,f.fire("selected",{e,target:f}),l.push(f))}),r.length>0&&a.length>0?t&&this.fire("selection:updated",{e,selected:l,deselected:s,updated:l[0]||s[0],target:this._activeObject}):a.length>0?this.fire("selection:created",{e,selected:l,target:this._activeObject}):r.length>0&&this.fire("selection:cleared",{e,deselected:s})},setActiveObject:function(r,e){var t=this.getActiveObjects();return this._setActiveObject(r,e),this._fireSelectionEvents(t,e),this},_setActiveObject:function(r,e){return this._activeObject===r||!this._discardActiveObject(e,r)||r.onSelect({e})?!1:(this._activeObject=r,!0)},_discardActiveObject:function(r,e){var t=this._activeObject;if(t){if(t.onDeselect({e:r,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(r){var e=this.getActiveObjects(),t=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:t,e:r}),this._discardActiveObject(r),this._fireSelectionEvents(e,r),this},dispose:function(){var r=this.wrapperEl;return this.removeListeners(),r.removeChild(this.upperCanvasEl),r.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){L.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),r.parentNode&&r.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,L.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(r){var e=this._activeObject;e&&e._renderControls(r)},_toObject:function(r,e,t){var a=this._realizeGroupTransformOnObject(r),l=this.callSuper("_toObject",r,e,t);return this._unwindGroupTransformOnObject(r,a),l},_realizeGroupTransformOnObject:function(r){if(r.group&&r.group.type==="activeSelection"&&this._activeObject===r.group){var e=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],t={};return e.forEach(function(a){t[a]=r[a]}),L.util.addTransformToObject(r,this._activeObject.calcOwnMatrix()),t}else return null},_unwindGroupTransformOnObject:function(r,e){e&&r.set(e)},_setSVGObject:function(r,e,t){var a=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",r,e,t),this._unwindGroupTransformOnObject(e,a)},setViewportTransform:function(r){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),L.StaticCanvas.prototype.setViewportTransform.call(this,r)}});for(var u in L.StaticCanvas)u!=="prototype"&&(L.Canvas[u]=L.StaticCanvas[u])}(),function(){var b=L.util.addListener,i=L.util.removeListener,c=3,u=2,o=1,r={passive:!1};function e(t,a){return t.button&&t.button===a-1}L.util.object.extend(L.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(b,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(a,l){var s=this.upperCanvasEl,f=this._getEventPrefix();a(L.window,"resize",this._onResize),a(s,f+"down",this._onMouseDown),a(s,f+"move",this._onMouseMove,r),a(s,f+"out",this._onMouseOut),a(s,f+"enter",this._onMouseEnter),a(s,"wheel",this._onMouseWheel),a(s,"contextmenu",this._onContextMenu),a(s,"dblclick",this._onDoubleClick),a(s,"dragover",this._onDragOver),a(s,"dragenter",this._onDragEnter),a(s,"dragleave",this._onDragLeave),a(s,"drop",this._onDrop),this.enablePointerEvents||a(s,"touchstart",this._onTouchStart,r),typeof eventjs!="undefined"&&l in eventjs&&(eventjs[l](s,"gesture",this._onGesture),eventjs[l](s,"drag",this._onDrag),eventjs[l](s,"orientation",this._onOrientationChange),eventjs[l](s,"shake",this._onShake),eventjs[l](s,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var a=this._getEventPrefix();i(L.document,a+"up",this._onMouseUp),i(L.document,"touchend",this._onTouchEnd,r),i(L.document,a+"move",this._onMouseMove,r),i(L.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(a,l){this.__onTransformGesture&&this.__onTransformGesture(a,l)},_onDrag:function(a,l){this.__onDrag&&this.__onDrag(a,l)},_onMouseWheel:function(a){this.__onMouseWheel(a)},_onMouseOut:function(a){var l=this._hoveredTarget;this.fire("mouse:out",{target:l,e:a}),this._hoveredTarget=null,l&&l.fire("mouseout",{e:a});var s=this;this._hoveredTargets.forEach(function(f){s.fire("mouse:out",{target:l,e:a}),f&&l.fire("mouseout",{e:a})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(f){f.isEditing&&f.hiddenTextarea.focus()})},_onMouseEnter:function(a){!this._currentTransform&&!this.findTarget(a)&&(this.fire("mouse:over",{target:null,e:a}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(a,l){this.__onOrientationChange&&this.__onOrientationChange(a,l)},_onShake:function(a,l){this.__onShake&&this.__onShake(a,l)},_onLongPress:function(a,l){this.__onLongPress&&this.__onLongPress(a,l)},_onDragOver:function(a){a.preventDefault();var l=this._simpleEventHandler("dragover",a);this._fireEnterLeaveEvents(l,a)},_onContextMenu:function(a){return this.stopContextMenu&&(a.stopPropagation(),a.preventDefault()),!1},_onDoubleClick:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"dblclick"),this._resetTransformEventData(a)},getPointerId:function(a){var l=a.changedTouches;return l?l[0]&&l[0].identifier:this.enablePointerEvents?a.pointerId:-1},_isMainEvent:function(a){return a.isPrimary===!0?!0:a.isPrimary===!1?!1:a.type==="touchend"&&a.touches.length===0?!0:a.changedTouches?a.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(a){a.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(a)),this.__onMouseDown(a),this._resetTransformEventData();var l=this.upperCanvasEl,s=this._getEventPrefix();b(L.document,"touchend",this._onTouchEnd,r),b(L.document,"touchmove",this._onMouseMove,r),i(l,s+"down",this._onMouseDown)},_onMouseDown:function(a){this.__onMouseDown(a),this._resetTransformEventData();var l=this.upperCanvasEl,s=this._getEventPrefix();i(l,s+"move",this._onMouseMove,r),b(L.document,s+"up",this._onMouseUp),b(L.document,s+"move",this._onMouseMove,r)},_onTouchEnd:function(a){if(!(a.touches.length>0)){this.__onMouseUp(a),this._resetTransformEventData(),this.mainTouchId=null;var l=this._getEventPrefix();i(L.document,"touchend",this._onTouchEnd,r),i(L.document,"touchmove",this._onMouseMove,r);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){b(s.upperCanvasEl,l+"down",s._onMouseDown),s._willAddMouseDown=0},400)}},_onMouseUp:function(a){this.__onMouseUp(a),this._resetTransformEventData();var l=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(a)&&(i(L.document,s+"up",this._onMouseUp),i(L.document,s+"move",this._onMouseMove,r),b(l,s+"move",this._onMouseMove,r))},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault(),this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},_shouldRender:function(a){var l=this._activeObject;return!!l!=!!a||l&&a&&l!==a?!0:(l&&l.isEditing,!1)},__onMouseUp:function(a){var l,s=this._currentTransform,f=this._groupSelector,p=!1,w=!f||f.left===0&&f.top===0;if(this._cacheTransformEventData(a),l=this._target,this._handleEvent(a,"up:before"),e(a,c)){this.fireRightClick&&this._handleEvent(a,"up",c,w);return}if(e(a,u)){this.fireMiddleClick&&this._handleEvent(a,"up",u,w),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(a);return}if(!!this._isMainEvent(a)){if(s&&(this._finalizeCurrentTransform(a),p=s.actionPerformed),!w){var A=l===this._activeObject;this._maybeGroupObjects(a),p||(p=this._shouldRender(l)||!A&&l===this._activeObject)}if(l){if(l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,a),p=!0;else{var z=l._findTargetCorner(this.getPointer(a,!0),L.util.isTouchEvent(a)),Z=l.controls[z],ot=Z&&Z.getMouseUpHandler(a,l,Z);if(ot){var Lt=this.getPointer(a);ot(a,s,Lt.x,Lt.y)}}l.isMoving=!1}this._setCursorFromEvent(a,l),this._handleEvent(a,"up",o,w),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=0),p?this.requestRenderAll():w||this.renderTop()}},_simpleEventHandler:function(a,l){var s=this.findTarget(l),f=this.targets,p={e:l,target:s,subTargets:f};if(this.fire(a,p),s&&s.fire(a,p),!f)return s;for(var w=0;w<f.length;w++)f[w].fire(a,p);return s},_handleEvent:function(a,l,s,f){var p=this._target,w=this.targets||[],A={e:a,target:p,subTargets:w,button:s||o,isClick:f||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};l==="up"&&(A.currentTarget=this.findTarget(a),A.currentSubTargets=this.targets),this.fire("mouse:"+l,A),p&&p.fire("mouse"+l,A);for(var z=0;z<w.length;z++)w[z].fire("mouse"+l,A)},_finalizeCurrentTransform:function(a){var l=this._currentTransform,s=l.target,f,p={e:a,target:s,transform:l,action:l.action};s._scaling&&(s._scaling=!1),s.setCoords(),(l.actionPerformed||this.stateful&&s.hasStateChanged())&&(l.actionPerformed&&(f=this._addEventOptions(p,l),this._fire(f,p)),this._fire("modified",p))},_addEventOptions:function(a,l){var s,f;switch(l.action){case"scaleX":s="scaled",f="x";break;case"scaleY":s="scaled",f="y";break;case"skewX":s="skewed",f="x";break;case"skewY":s="skewed",f="y";break;case"scale":s="scaled",f="equally";break;case"rotate":s="rotated";break;case"drag":s="moved";break}return a.by=f,s},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(a).requestRenderAll();var l=this.getPointer(a);this.freeDrawingBrush.onMouseDown(l,{e:a,pointer:l}),this._handleEvent(a,"down")},_onMouseMoveInDrawingMode:function(a){if(this._isCurrentlyDrawing){var l=this.getPointer(a);this.freeDrawingBrush.onMouseMove(l,{e:a,pointer:l})}this.setCursor(this.freeDrawingCursor),this._handleEvent(a,"move")},_onMouseUpInDrawingMode:function(a){var l=this.getPointer(a);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:a,pointer:l}),this._handleEvent(a,"up")},__onMouseDown:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"down:before");var l=this._target;if(e(a,c)){this.fireRightClick&&this._handleEvent(a,"down",c);return}if(e(a,u)){this.fireMiddleClick&&this._handleEvent(a,"down",u);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(a);return}if(!!this._isMainEvent(a)&&!this._currentTransform){var s=this._pointer;this._previousPointer=s;var f=this._shouldRender(l),p=this._shouldGroup(a,l);if(this._shouldClearSelection(a,l)?this.discardActiveObject(a):p&&(this._handleGrouping(a,l),l=this._activeObject),this.selection&&(!l||!l.selectable&&!l.isEditing&&l!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),l){var w=l===this._activeObject;l.selectable&&l.activeOn==="down"&&this.setActiveObject(l,a);var A=l._findTargetCorner(this.getPointer(a,!0),L.util.isTouchEvent(a));if(l.__corner=A,l===this._activeObject&&(A||!p)){this._setupCurrentTransform(a,l,w);var z=l.controls[A],s=this.getPointer(a),Z=z&&z.getMouseDownHandler(a,l,z);Z&&Z(a,this._currentTransform,s.x,s.y)}}this._handleEvent(a,"down"),(f||p)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(a){this._resetTransformEventData(),this._pointer=this.getPointer(a,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(a)||null},_beforeTransform:function(a){var l=this._currentTransform;this.stateful&&l.target.saveState(),this.fire("before:transform",{e:a,transform:l})},__onMouseMove:function(a){this._handleEvent(a,"move:before"),this._cacheTransformEventData(a);var l,s;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(a);return}if(!!this._isMainEvent(a)){var f=this._groupSelector;f?(s=this._absolutePointer,f.left=s.x-f.ex,f.top=s.y-f.ey,this.renderTop()):this._currentTransform?this._transformObject(a):(l=this.findTarget(a)||null,this._setCursorFromEvent(a,l),this._fireOverOutEvents(l,a)),this._handleEvent(a,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(a,l){var s=this._hoveredTarget,f=this._hoveredTargets,p=this.targets,w=Math.max(f.length,p.length);this.fireSyntheticInOutEvents(a,l,{oldTarget:s,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var A=0;A<w;A++)this.fireSyntheticInOutEvents(p[A],l,{oldTarget:f[A],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(a,l){var s=this._draggedoverTarget,f=this._hoveredTargets,p=this.targets,w=Math.max(f.length,p.length);this.fireSyntheticInOutEvents(a,l,{oldTarget:s,evtOut:"dragleave",evtIn:"dragenter"});for(var A=0;A<w;A++)this.fireSyntheticInOutEvents(p[A],l,{oldTarget:f[A],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=a},fireSyntheticInOutEvents:function(a,l,s){var f,p,w=s.oldTarget,A,z,Z=w!==a,ot=s.canvasEvtIn,Lt=s.canvasEvtOut;Z&&(f={e:l,target:a,previousTarget:w},p={e:l,target:w,nextTarget:a}),z=a&&Z,A=w&&Z,A&&(Lt&&this.fire(Lt,p),w.fire(s.evtOut,p)),z&&(ot&&this.fire(ot,f),a.fire(s.evtIn,f))},__onMouseWheel:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"wheel"),this._resetTransformEventData()},_transformObject:function(a){var l=this.getPointer(a),s=this._currentTransform;s.reset=!1,s.shiftKey=a.shiftKey,s.altKey=a[this.centeredKey],this._performTransformAction(a,s,l),s.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(a,l,s){var f=s.x,p=s.y,w=l.action,A=!1,z=l.actionHandler;z&&(A=z(a,l,f,p)),w==="drag"&&A&&(l.target.isMoving=!0,this.setCursor(l.target.moveCursor||this.moveCursor)),l.actionPerformed=l.actionPerformed||A},_fire:L.controlsUtils.fireEvent,_setCursorFromEvent:function(a,l){if(!l)return this.setCursor(this.defaultCursor),!1;var s=l.hoverCursor||this.hoverCursor,f=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,p=(!f||!f.contains(l))&&l._findTargetCorner(this.getPointer(a,!0));p?this.setCursor(this.getCornerCursor(p,l,a)):(l.subTargetCheck&&this.targets.concat().reverse().map(function(w){s=w.hoverCursor||s}),this.setCursor(s))},getCornerCursor:function(a,l,s){var f=l.controls[a];return f.cursorStyleHandler(s,f,l)}})}(),function(){var b=Math.min,i=Math.max;L.util.object.extend(L.Canvas.prototype,{_shouldGroup:function(u,o){var r=this._activeObject;return r&&this._isSelectionKeyPressed(u)&&o&&o.selectable&&this.selection&&(r!==o||r.type==="activeSelection")&&!o.onSelect({e:u})},_handleGrouping:function(u,o){var r=this._activeObject;r.__corner||o===r&&(o=this.findTarget(u,!0),!o||!o.selectable)||(r&&r.type==="activeSelection"?this._updateActiveSelection(o,u):this._createActiveSelection(o,u))},_updateActiveSelection:function(u,o){var r=this._activeObject,e=r._objects.slice(0);r.contains(u)?(r.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),r.size()===1&&this._setActiveObject(r.item(0),o)):(r.addWithUpdate(u),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(e,o)},_createActiveSelection:function(u,o){var r=this.getActiveObjects(),e=this._createGroup(u);this._hoveredTarget=e,this._setActiveObject(e,o),this._fireSelectionEvents(r,o)},_createGroup:function(u){var o=this._objects,r=o.indexOf(this._activeObject)<o.indexOf(u),e=r?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new L.ActiveSelection(e,{canvas:this})},_groupSelectedObjects:function(u){var o=this._collectObjects(u),r;o.length===1?this.setActiveObject(o[0],u):o.length>1&&(r=new L.ActiveSelection(o.reverse(),{canvas:this}),this.setActiveObject(r,u))},_collectObjects:function(u){for(var o=[],r,e=this._groupSelector.ex,t=this._groupSelector.ey,a=e+this._groupSelector.left,l=t+this._groupSelector.top,s=new L.Point(b(e,a),b(t,l)),f=new L.Point(i(e,a),i(t,l)),p=!this.selectionFullyContained,w=e===a&&t===l,A=this._objects.length;A--&&(r=this._objects[A],!(!(!r||!r.selectable||!r.visible)&&(p&&r.intersectsWithRect(s,f,!0)||r.isContainedWithinRect(s,f,!0)||p&&r.containsPoint(s,null,!0)||p&&r.containsPoint(f,null,!0))&&(o.push(r),w))););return o.length>1&&(o=o.filter(function(z){return!z.onSelect({e:u})})),o},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){L.util.object.extend(L.StaticCanvas.prototype,{toDataURL:function(i){i||(i={});var c=i.format||"png",u=i.quality||1,o=(i.multiplier||1)*(i.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(o,i);return L.util.toDataURL(r,c,u)},toCanvasElement:function(i,c){i=i||1,c=c||{};var u=(c.width||this.width)*i,o=(c.height||this.height)*i,r=this.getZoom(),e=this.width,t=this.height,a=r*i,l=this.viewportTransform,s=(l[4]-(c.left||0))*i,f=(l[5]-(c.top||0))*i,p=this.interactive,w=[a,0,0,a,s,f],A=this.enableRetinaScaling,z=L.util.createCanvasElement(),Z=this.contextTop;return z.width=u,z.height=o,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=w,this.width=u,this.height=o,this.calcViewportBoundaries(),this.renderCanvas(z.getContext("2d"),this._objects),this.viewportTransform=l,this.width=e,this.height=t,this.calcViewportBoundaries(),this.interactive=p,this.enableRetinaScaling=A,this.contextTop=Z,z}})}(),L.util.object.extend(L.StaticCanvas.prototype,{loadFromJSON:function(i,c,u){if(!!i){var o=typeof i=="string"?JSON.parse(i):L.util.object.clone(i),r=this,e=o.clipPath,t=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete o.clipPath,this._enlivenObjects(o.objects,function(a){r.clear(),r._setBgOverlay(o,function(){e?r._enlivenObjects([e],function(l){r.clipPath=l[0],r.__setupCanvas.call(r,o,a,t,c)}):r.__setupCanvas.call(r,o,a,t,c)})},u),this}},__setupCanvas:function(i,c,u,o){var r=this;c.forEach(function(e,t){r.insertAt(e,t)}),this.renderOnAddRemove=u,delete i.objects,delete i.backgroundImage,delete i.overlayImage,delete i.background,delete i.overlay,this._setOptions(i),this.renderAll(),o&&o()},_setBgOverlay:function(i,c){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!i.backgroundImage&&!i.overlayImage&&!i.background&&!i.overlay){c&&c();return}var o=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&c&&c()};this.__setBgOverlay("backgroundImage",i.backgroundImage,u,o),this.__setBgOverlay("overlayImage",i.overlayImage,u,o),this.__setBgOverlay("backgroundColor",i.background,u,o),this.__setBgOverlay("overlayColor",i.overlay,u,o)},__setBgOverlay:function(i,c,u,o){var r=this;if(!c){u[i]=!0,o&&o();return}i==="backgroundImage"||i==="overlayImage"?L.util.enlivenObjects([c],function(e){r[i]=e[0],u[i]=!0,o&&o()}):this["set"+L.util.string.capitalize(i,!0)](c,function(){u[i]=!0,o&&o()})},_enlivenObjects:function(i,c,u){if(!i||i.length===0){c&&c([]);return}L.util.enlivenObjects(i,function(o){c&&c(o)},null,u)},_toDataURL:function(i,c){this.clone(function(u){c(u.toDataURL(i))})},_toDataURLWithMultiplier:function(i,c,u){this.clone(function(o){u(o.toDataURLWithMultiplier(i,c))})},clone:function(i,c){var u=JSON.stringify(this.toJSON(c));this.cloneWithoutData(function(o){o.loadFromJSON(u,function(){i&&i(o)})})},cloneWithoutData:function(i){var c=L.util.createCanvasElement();c.width=this.width,c.height=this.height;var u=new L.Canvas(c);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),i&&i(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):i&&i(u)}}),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.util.object.clone,o=i.util.toFixed,r=i.util.string.capitalize,e=i.util.degreesToRadians,t=!i.isLikelyNode,a=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:t,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(s){s&&this.setOptions(s)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(s){var f=i.perfLimitSizeTotal,p=s.width,w=s.height,A=i.maxCacheSideLimit,z=i.minCacheSideLimit;if(p<=A&&w<=A&&p*w<=f)return p<z&&(s.width=z),w<z&&(s.height=z),s;var Z=p/w,ot=i.util.limitDimsByArea(Z,f),Lt=i.util.capValue,At=Lt(z,ot.x,A),se=Lt(z,ot.y,A);return p>At&&(s.zoomX/=p/At,s.width=At,s.capped=!0),w>se&&(s.zoomY/=w/se,s.height=se,s.capped=!0),s},_getCacheCanvasDimensions:function(){var s=this.getTotalObjectScaling(),f=this._getTransformedDimensions(0,0),p=f.x*s.scaleX/this.scaleX,w=f.y*s.scaleY/this.scaleY;return{width:p+a,height:w+a,zoomX:s.scaleX,zoomY:s.scaleY,x:p,y:w}},_updateCacheCanvas:function(){var s=this.canvas;if(this.noScaleCache&&s&&s._currentTransform){var f=s._currentTransform.target,p=s._currentTransform.action;if(this===f&&p.slice&&p.slice(0,5)==="scale")return!1}var w=this._cacheCanvas,A=this._limitCacheSize(this._getCacheCanvasDimensions()),z=i.minCacheSideLimit,Z=A.width,ot=A.height,Lt,At,se=A.zoomX,Le=A.zoomY,Tt=Z!==this.cacheWidth||ot!==this.cacheHeight,$t=this.zoomX!==se||this.zoomY!==Le,Y=Tt||$t,ue=0,tr=0,Ce=!1;if(Tt){var ct=this._cacheCanvas.width,Ut=this._cacheCanvas.height,et=Z>ct||ot>Ut,X=(Z<ct*.9||ot<Ut*.9)&&ct>z&&Ut>z;Ce=et||X,et&&!A.capped&&(Z>z||ot>z)&&(ue=Z*.1,tr=ot*.1)}return this instanceof i.Text&&this.path&&(Y=!0,Ce=!0,ue+=this.getHeightOfLine(0)*this.zoomX,tr+=this.getHeightOfLine(0)*this.zoomY),Y?(Ce?(w.width=Math.ceil(Z+ue),w.height=Math.ceil(ot+tr)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,w.width,w.height)),Lt=A.x/2,At=A.y/2,this.cacheTranslationX=Math.round(w.width/2-Lt)+Lt,this.cacheTranslationY=Math.round(w.height/2-At)+At,this.cacheWidth=Z,this.cacheHeight=ot,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(se,Le),this.zoomX=se,this.zoomY=Le,!0):!1},setOptions:function(s){this._setOptions(s),this._initGradient(s.fill,"fill"),this._initGradient(s.stroke,"stroke"),this._initPattern(s.fill,"fill"),this._initPattern(s.stroke,"stroke")},transform:function(s){var f=this.group&&!this.group._transformDone||this.group&&this.canvas&&s===this.canvas.contextTop,p=this.calcTransformMatrix(!f);s.transform(p[0],p[1],p[2],p[3],p[4],p[5])},toObject:function(s){var f=i.Object.NUM_FRACTION_DIGITS,p={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,f),top:o(this.top,f),width:o(this.width,f),height:o(this.height,f),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,f),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,f),scaleX:o(this.scaleX,f),scaleY:o(this.scaleY,f),angle:o(this.angle,f),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,f),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,f),skewY:o(this.skewY,f)};return this.clipPath&&!this.clipPath.excludeFromExport&&(p.clipPath=this.clipPath.toObject(s),p.clipPath.inverted=this.clipPath.inverted,p.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,p,s),this.includeDefaultValues||(p=this._removeDefaultValues(p)),p},toDatalessObject:function(s){return this.toObject(s)},_removeDefaultValues:function(s){var f=i.util.getKlass(s.type).prototype,p=f.stateProperties;return p.forEach(function(w){if(!(w==="left"||w==="top")){s[w]===f[w]&&delete s[w];var A=Object.prototype.toString.call(s[w])==="[object Array]"&&Object.prototype.toString.call(f[w])==="[object Array]";A&&s[w].length===0&&f[w].length===0&&delete s[w]}}),s},toString:function(){return"#<fabric."+r(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var s=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(s.scaleX),scaleY:Math.abs(s.scaleY)}},getTotalObjectScaling:function(){var s=this.getObjectScaling(),f=s.scaleX,p=s.scaleY;if(this.canvas){var w=this.canvas.getZoom(),A=this.canvas.getRetinaScaling();f*=w*A,p*=w*A}return{scaleX:f,scaleY:p}},getObjectOpacity:function(){var s=this.opacity;return this.group&&(s*=this.group.getObjectOpacity()),s},_set:function(s,f){var p=s==="scaleX"||s==="scaleY",w=this[s]!==f,A=!1;return p&&(f=this._constrainScale(f)),s==="scaleX"&&f<0?(this.flipX=!this.flipX,f*=-1):s==="scaleY"&&f<0?(this.flipY=!this.flipY,f*=-1):s==="shadow"&&f&&!(f instanceof i.Shadow)?f=new i.Shadow(f):s==="dirty"&&this.group&&this.group.set("dirty",f),this[s]=f,w&&(A=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(s)>-1?(this.dirty=!0,A&&this.group.set("dirty",!0)):A&&this.stateProperties.indexOf(s)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(s){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(s.save(),this._setupCompositeOperation(s),this.drawSelectionBackground(s),this.transform(s),this._setOpacity(s),this._setShadow(s,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(s)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(s),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),s.restore())},renderCache:function(s){s=s||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,s.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(s){var f=this.clipPath;if(s.save(),f.inverted?s.globalCompositeOperation="destination-out":s.globalCompositeOperation="destination-in",f.absolutePositioned){var p=i.util.invertTransform(this.calcTransformMatrix());s.transform(p[0],p[1],p[2],p[3],p[4],p[5])}f.transform(s),s.scale(1/f.zoomX,1/f.zoomY),s.drawImage(f._cacheCanvas,-f.cacheTranslationX,-f.cacheTranslationY),s.restore()},drawObject:function(s,f){var p=this.fill,w=this.stroke;f?(this.fill="black",this.stroke="",this._setClippingProperties(s)):this._renderBackground(s),this._render(s),this._drawClipPath(s),this.fill=p,this.stroke=w},_drawClipPath:function(s){var f=this.clipPath;!f||(f.canvas=this.canvas,f.shouldCache(),f._transformDone=!0,f.renderCache({forClipping:!0}),this.drawClipPathOnCache(s))},drawCacheOnCanvas:function(s){s.scale(1/this.zoomX,1/this.zoomY),s.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(s){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!s&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!s){var f=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-p/2,f,p)}return!0}return!1},_renderBackground:function(s){if(!!this.backgroundColor){var f=this._getNonTransformedDimensions();s.fillStyle=this.backgroundColor,s.fillRect(-f.x/2,-f.y/2,f.x,f.y),this._removeShadow(s)}},_setOpacity:function(s){this.group&&!this.group._transformDone?s.globalAlpha=this.getObjectOpacity():s.globalAlpha*=this.opacity},_setStrokeStyles:function(s,f){var p=f.stroke;p&&(s.lineWidth=f.strokeWidth,s.lineCap=f.strokeLineCap,s.lineDashOffset=f.strokeDashOffset,s.lineJoin=f.strokeLineJoin,s.miterLimit=f.strokeMiterLimit,p.toLive?p.gradientUnits==="percentage"||p.gradientTransform||p.patternTransform?this._applyPatternForTransformedGradient(s,p):(s.strokeStyle=p.toLive(s,this),this._applyPatternGradientTransform(s,p)):s.strokeStyle=f.stroke)},_setFillStyles:function(s,f){var p=f.fill;p&&(p.toLive?(s.fillStyle=p.toLive(s,this),this._applyPatternGradientTransform(s,f.fill)):s.fillStyle=p)},_setClippingProperties:function(s){s.globalAlpha=1,s.strokeStyle="transparent",s.fillStyle="#000000"},_setLineDash:function(s,f){!f||f.length===0||(1&f.length&&f.push.apply(f,f),s.setLineDash(f))},_renderControls:function(s,f){var p=this.getViewportTransform(),w=this.calcTransformMatrix(),A,z,Z;f=f||{},z=typeof f.hasBorders!="undefined"?f.hasBorders:this.hasBorders,Z=typeof f.hasControls!="undefined"?f.hasControls:this.hasControls,w=i.util.multiplyTransformMatrices(p,w),A=i.util.qrDecompose(w),s.save(),s.translate(A.translateX,A.translateY),s.lineWidth=1*this.borderScaleFactor,this.group||(s.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),s.rotate(e(A.angle)),f.forActiveSelection||this.group?z&&this.drawBordersInGroup(s,A,f):z&&this.drawBorders(s,f),Z&&this.drawControls(s,f),s.restore()},_setShadow:function(s){if(!!this.shadow){var f=this.shadow,p=this.canvas,w,A=p&&p.viewportTransform[0]||1,z=p&&p.viewportTransform[3]||1;f.nonScaling?w={scaleX:1,scaleY:1}:w=this.getObjectScaling(),p&&p._isRetinaScaling()&&(A*=i.devicePixelRatio,z*=i.devicePixelRatio),s.shadowColor=f.color,s.shadowBlur=f.blur*i.browserShadowBlurConstant*(A+z)*(w.scaleX+w.scaleY)/4,s.shadowOffsetX=f.offsetX*A*w.scaleX,s.shadowOffsetY=f.offsetY*z*w.scaleY}},_removeShadow:function(s){!this.shadow||(s.shadowColor="",s.shadowBlur=s.shadowOffsetX=s.shadowOffsetY=0)},_applyPatternGradientTransform:function(s,f){if(!f||!f.toLive)return{offsetX:0,offsetY:0};var p=f.gradientTransform||f.patternTransform,w=-this.width/2+f.offsetX||0,A=-this.height/2+f.offsetY||0;return f.gradientUnits==="percentage"?s.transform(this.width,0,0,this.height,w,A):s.transform(1,0,0,1,w,A),p&&s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),{offsetX:w,offsetY:A}},_renderPaintInOrder:function(s){this.paintFirst==="stroke"?(this._renderStroke(s),this._renderFill(s)):(this._renderFill(s),this._renderStroke(s))},_render:function(){},_renderFill:function(s){!this.fill||(s.save(),this._setFillStyles(s,this),this.fillRule==="evenodd"?s.fill("evenodd"):s.fill(),s.restore())},_renderStroke:function(s){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this.strokeUniform&&this.group){var f=this.getObjectScaling();s.scale(1/f.scaleX,1/f.scaleY)}else this.strokeUniform&&s.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(s,this.strokeDashArray),this._setStrokeStyles(s,this),s.stroke(),s.restore()}},_applyPatternForTransformedGradient:function(s,f){var p=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.util.createCanvasElement(),A,z=this.canvas.getRetinaScaling(),Z=p.x/this.scaleX/z,ot=p.y/this.scaleY/z;w.width=Z,w.height=ot,A=w.getContext("2d"),A.beginPath(),A.moveTo(0,0),A.lineTo(Z,0),A.lineTo(Z,ot),A.lineTo(0,ot),A.closePath(),A.translate(Z/2,ot/2),A.scale(p.zoomX/this.scaleX/z,p.zoomY/this.scaleY/z),this._applyPatternGradientTransform(A,f),A.fillStyle=f.toLive(s),A.fill(),s.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),s.scale(z*this.scaleX/p.zoomX,z*this.scaleY/p.zoomY),s.strokeStyle=A.createPattern(w,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var s=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",s.scaleX),this.set("scaleY",s.scaleY),this.angle=s.angle,this.skewX=s.skewX,this.skewY=0}},_removeTransformMatrix:function(s){var f=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),f=i.util.transformPoint(f,this.transformMatrix)),this.transformMatrix=null,s&&(this.scaleX*=s.scaleX,this.scaleY*=s.scaleY,this.cropX=s.cropX,this.cropY=s.cropY,f.x+=s.offsetLeft,f.y+=s.offsetTop,this.width=s.width,this.height=s.height),this.setPositionByOrigin(f,"center","center")},clone:function(s,f){var p=this.toObject(f);this.constructor.fromObject?this.constructor.fromObject(p,s):i.Object._fromObject("Object",p,s)},cloneAsImage:function(s,f){var p=this.toCanvasElement(f);return s&&s(new i.Image(p)),this},toCanvasElement:function(s){s||(s={});var f=i.util,p=f.saveObjectTransform(this),w=this.group,A=this.shadow,z=Math.abs,Z=(s.multiplier||1)*(s.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,s.withoutTransform&&f.resetObjectTransform(this),s.withoutShadow&&(this.shadow=null);var ot=i.util.createCanvasElement(),Lt=this.getBoundingRect(!0,!0),At=this.shadow,se,Le={x:0,y:0},Tt,$t,Y;At&&(Tt=At.blur,At.nonScaling?se={scaleX:1,scaleY:1}:se=this.getObjectScaling(),Le.x=2*Math.round(z(At.offsetX)+Tt)*z(se.scaleX),Le.y=2*Math.round(z(At.offsetY)+Tt)*z(se.scaleY)),$t=Lt.width+Le.x,Y=Lt.height+Le.y,ot.width=Math.ceil($t),ot.height=Math.ceil(Y);var ue=new i.StaticCanvas(ot,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});s.format==="jpeg"&&(ue.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(ue.width/2,ue.height/2),"center","center");var tr=this.canvas;ue.add(this);var Ce=ue.toCanvasElement(Z||1,s);return this.shadow=A,this.set("canvas",tr),w&&(this.group=w),this.set(p).setCoords(),ue._objects=[],ue.dispose(),ue=null,Ce},toDataURL:function(s){return s||(s={}),i.util.toDataURL(this.toCanvasElement(s),s.format||"png",s.quality||1)},isType:function(s){return this.type===s},complexity:function(){return 1},toJSON:function(s){return this.toObject(s)},rotate:function(s){var f=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return f&&this._setOriginToCenter(),this.set("angle",s),f&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(s,f){f=f||this.canvas.getPointer(s);var p=new i.Point(f.x,f.y),w=this._getLeftTopCoords();return this.angle&&(p=i.util.rotatePoint(p,w,e(-this.angle))),{x:p.x-w.x,y:p.y-w.y}},_setupCompositeOperation:function(s){this.globalCompositeOperation&&(s.globalCompositeOperation=this.globalCompositeOperation)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),c(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object._fromObject=function(l,s,f,p){var w=i[l];s=u(s,!0),i.util.enlivenPatterns([s.fill,s.stroke],function(A){typeof A[0]!="undefined"&&(s.fill=A[0]),typeof A[1]!="undefined"&&(s.stroke=A[1]),i.util.enlivenObjects([s.clipPath],function(z){s.clipPath=z[0];var Z=p?new w(s[p],s):new w(s);f&&f(Z)})})},i.Object.__uid=0)}(_r),function(){var b=L.util.degreesToRadians,i={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};L.util.object.extend(L.Object.prototype,{translateToGivenOrigin:function(o,r,e,t,a){var l=o.x,s=o.y,f,p,w;return typeof r=="string"?r=i[r]:r-=.5,typeof t=="string"?t=i[t]:t-=.5,f=t-r,typeof e=="string"?e=c[e]:e-=.5,typeof a=="string"?a=c[a]:a-=.5,p=a-e,(f||p)&&(w=this._getTransformedDimensions(),l=o.x+f*w.x,s=o.y+p*w.y),new L.Point(l,s)},translateToCenterPoint:function(o,r,e){var t=this.translateToGivenOrigin(o,r,e,"center","center");return this.angle?L.util.rotatePoint(t,o,b(this.angle)):t},translateToOriginPoint:function(o,r,e){var t=this.translateToGivenOrigin(o,"center","center",r,e);return this.angle?L.util.rotatePoint(t,o,b(this.angle)):t},getCenterPoint:function(){var o=new L.Point(this.left,this.top);return this.translateToCenterPoint(o,this.originX,this.originY)},getPointByOrigin:function(o,r){var e=this.getCenterPoint();return this.translateToOriginPoint(e,o,r)},toLocalPoint:function(o,r,e){var t=this.getCenterPoint(),a,l;return typeof r!="undefined"&&typeof e!="undefined"?a=this.translateToGivenOrigin(t,"center","center",r,e):a=new L.Point(this.left,this.top),l=new L.Point(o.x,o.y),this.angle&&(l=L.util.rotatePoint(l,t,-b(this.angle))),l.subtractEquals(a)},setPositionByOrigin:function(o,r,e){var t=this.translateToCenterPoint(o,r,e),a=this.translateToOriginPoint(t,this.originX,this.originY);this.set("left",a.x),this.set("top",a.y)},adjustPosition:function(o){var r=b(this.angle),e=this.getScaledWidth(),t=L.util.cos(r)*e,a=L.util.sin(r)*e,l,s;typeof this.originX=="string"?l=i[this.originX]:l=this.originX-.5,typeof o=="string"?s=i[o]:s=o-.5,this.left+=t*(s-l),this.top+=a*(s-l),this.setCoords(),this.originX=o},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var o=this.getCenterPoint();this.originX="center",this.originY="center",this.left=o.x,this.top=o.y},_resetOrigin:function(){var o=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=o.x,this.top=o.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function b(r){return[new L.Point(r.tl.x,r.tl.y),new L.Point(r.tr.x,r.tr.y),new L.Point(r.br.x,r.br.y),new L.Point(r.bl.x,r.bl.y)]}var i=L.util,c=i.degreesToRadians,u=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(L.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return b(this._getCoords(e,t))},intersectsWithRect:function(e,t,a,l){var s=this.getCoords(a,l),f=L.Intersection.intersectPolygonRectangle(s,e,t);return f.status==="Intersection"},intersectsWithObject:function(e,t,a){var l=L.Intersection.intersectPolygonPolygon(this.getCoords(t,a),e.getCoords(t,a));return l.status==="Intersection"||e.isContainedWithinObject(this,t,a)||this.isContainedWithinObject(e,t,a)},isContainedWithinObject:function(e,t,a){for(var l=this.getCoords(t,a),s=t?e.aCoords:e.lineCoords,f=0,p=e._getImageLines(s);f<4;f++)if(!e.containsPoint(l[f],p))return!1;return!0},isContainedWithinRect:function(e,t,a,l){var s=this.getBoundingRect(a,l);return s.left>=e.x&&s.left+s.width<=t.x&&s.top>=e.y&&s.top+s.height<=t.y},containsPoint:function(e,t,a,l){var s=this._getCoords(a,l),t=t||this._getImageLines(s),f=this._findCrossPoints(e,t);return f!==0&&f%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br,l=this.getCoords(!0,e);return l.some(function(s){return s.x<=a.x&&s.x>=t.x&&s.y<=a.y&&s.y>=t.y})||this.intersectsWithRect(t,a,!0,e)?!0:this._containsCenterOfCanvas(t,a,e)},_containsCenterOfCanvas:function(e,t,a){var l={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(l,null,!0,a)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;if(this.intersectsWithRect(t,a,!0,e))return!0;var l=this.getCoords(!0,e).every(function(s){return(s.x>=a.x||s.x<=t.x)&&(s.y>=a.y||s.y<=t.y)});return l&&this._containsCenterOfCanvas(t,a,e)},_getImageLines:function(e){var t={topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}};return t},_findCrossPoints:function(e,t){var a,l,s,f,p,w=0,A;for(var z in t)if(A=t[z],!(A.o.y<e.y&&A.d.y<e.y)&&!(A.o.y>=e.y&&A.d.y>=e.y)&&(A.o.x===A.d.x&&A.o.x>=e.x?p=A.o.x:(a=0,l=(A.d.y-A.o.y)/(A.d.x-A.o.x),s=e.y-a*e.x,f=A.o.y-l*A.o.x,p=-(s-f)/(a-l)),p>=e.x&&(w+=1),w===2))break;return w},getBoundingRect:function(e,t){var a=this.getCoords(e,t);return i.makeBoundingBoxFromPoints(a)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var a=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/a)},scaleToHeight:function(e,t){var a=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/a)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var e=this.getViewportTransform(),t=this.padding,a=c(this.angle),l=i.cos(a),s=i.sin(a),f=l*t,p=s*t,w=f+p,A=f-p,z=this.calcACoords(),Z={tl:o(z.tl,e),tr:o(z.tr,e),bl:o(z.bl,e),br:o(z.br,e)};return t&&(Z.tl.x-=A,Z.tl.y-=w,Z.tr.x+=w,Z.tr.y-=A,Z.bl.x-=w,Z.bl.y+=A,Z.br.x+=A,Z.br.y+=w),Z},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),a=this.getViewportTransform(),l=u(a,t),s=u(l,e),s=u(s,[1/a[0],0,0,1/a[3],0,0]),f=this._calculateCurrentDimensions(),p={};return this.forEachControl(function(w,A,z){p[A]=w.positionHandler(f,s,z)}),p},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),a=u(t,e),l=this._getTransformedDimensions(),s=l.x/2,f=l.y/2;return{tl:o({x:-s,y:-f},a),tr:o({x:s,y:-f},a),bl:o({x:-s,y:f},a),br:o({x:s,y:f},a)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",a="";return!e&&this.group&&(a=this.group.transformMatrixKey(e)+t),a+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var a=this.transformMatrixKey(e),l=this.matrixCache||(this.matrixCache={});return l.key===a?l.value:(this.group&&(t=u(this.group.calcTransformMatrix(!1),t)),l.key=a,l.value=t,t)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===e)return t.value;var a=this._calcTranslateMatrix(),l={angle:this.angle,translateX:a[4],translateY:a[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return t.key=e,t.value=i.composeMatrix(l),t.value},_calcDimensionsTransformMatrix:function(e,t,a){return i.calcDimensionsMatrix({skewX:e,skewY:t,scaleX:this.scaleX*(a&&this.flipX?-1:1),scaleY:this.scaleY*(a&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth,t=this.width+e,a=this.height+e;return{x:t,y:a}},_getTransformedDimensions:function(e,t){typeof e=="undefined"&&(e=this.skewX),typeof t=="undefined"&&(t=this.skewY);var a,l,s,f=e===0&&t===0;if(this.strokeUniform?(l=this.width,s=this.height):(a=this._getNonTransformedDimensions(),l=a.x,s=a.y),f)return this._finalizeDimensions(l*this.scaleX,s*this.scaleY);var p=i.sizeAfterTransform(l,s,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:t});return this._finalizeDimensions(p.x,p.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions(),a=o(t,e,!0);return a.scalarAdd(2*this.padding)}})}(),L.util.object.extend(L.Object.prototype,{sendToBack:function(){return this.group?L.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?L.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(i){return this.group?L.StaticCanvas.prototype.sendBackwards.call(this.group,this,i):this.canvas&&this.canvas.sendBackwards(this,i),this},bringForward:function(i){return this.group?L.StaticCanvas.prototype.bringForward.call(this.group,this,i):this.canvas&&this.canvas.bringForward(this,i),this},moveTo:function(i){return this.group&&this.group.type!=="activeSelection"?L.StaticCanvas.prototype.moveTo.call(this.group,this,i):this.canvas&&this.canvas.moveTo(this,i),this}}),function(){function b(c,u){if(u){if(u.toLive)return c+": url(#SVGID_"+u.id+"); ";var o=new L.Color(u),r=c+": "+o.toRgb()+"; ",e=o.getAlpha();return e!==1&&(r+=c+"-opacity: "+e.toString()+"; "),r}else return c+": none; "}var i=L.util.toFixed;L.util.object.extend(L.Object.prototype,{getSvgStyles:function(u){var o=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",e=this.strokeDashArray?this.strokeDashArray.join(" "):"none",t=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",f=typeof this.opacity!="undefined"?this.opacity:"1",p=this.visible?"":" visibility: hidden;",w=u?"":this.getSvgFilter(),A=b("fill",this.fill),z=b("stroke",this.stroke);return[z,"stroke-width: ",r,"; ","stroke-dasharray: ",e,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",t,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",s,"; ",A,"fill-rule: ",o,"; ","opacity: ",f,";",w,p].join("")},getSvgSpanStyles:function(u,o){var r="; ",e=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+r:"",t=u.strokeWidth?"stroke-width: "+u.strokeWidth+r:"",e=e,a=u.fontSize?"font-size: "+u.fontSize+"px"+r:"",l=u.fontStyle?"font-style: "+u.fontStyle+r:"",s=u.fontWeight?"font-weight: "+u.fontWeight+r:"",f=u.fill?b("fill",u.fill):"",p=u.stroke?b("stroke",u.stroke):"",w=this.getSvgTextDecoration(u),A=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return w&&(w="text-decoration: "+w+r),[p,t,e,a,l,s,w,f,A,o?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(o){return u[o.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,o){var r=u?this.calcTransformMatrix():this.calcOwnMatrix(),e='transform="'+L.util.matrixToSVG(r);return e+(o||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var o=L.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,o),'" y="',i(-this.height/2,o),'" width="',i(this.width,o),'" height="',i(this.height,o),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,o){o=o||{};var r=o.reviver,e=o.additionalTransform||"",t=[this.getSvgTransform(!0,e),this.getSvgCommons()].join(""),a=u.indexOf("COMMON_PARTS");return u[a]=t,r?r(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,o){o=o||{};var r=o.noStyle,e=o.reviver,t=r?"":'style="'+this.getSvgStyles()+'" ',a=o.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,s=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=l&&l.absolutePositioned,p=this.stroke,w=this.fill,A=this.shadow,z,Z=[],ot,Lt=u.indexOf("COMMON_PARTS"),At=o.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+L.Object.__uid++,ot='<clipPath id="'+l.clipPathId+`" >
`+l.toClipPathSVG(e)+`</clipPath>
`),f&&Z.push("<g ",a,this.getSvgCommons(),` >
`),Z.push("<g ",this.getSvgTransform(!1),f?"":a+this.getSvgCommons(),` >
`),z=[t,s,r?"":this.addPaintOrder()," ",At?'transform="'+At+'" ':""].join(""),u[Lt]=z,w&&w.toLive&&Z.push(w.toSVG(this)),p&&p.toLive&&Z.push(p.toSVG(this)),A&&Z.push(A.toSVG(this)),l&&Z.push(ot),Z.push(u.join("")),Z.push(`</g>
`),f&&Z.push(`</g>
`),e?e(Z.join("")):Z.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var b=L.util.object.extend,i="stateProperties";function c(o,r,e){var t={},a=!0;e.forEach(function(l){t[l]=o[l]}),b(o[r],t,a)}function u(o,r,e){if(o===r)return!0;if(Array.isArray(o)){if(!Array.isArray(r)||o.length!==r.length)return!1;for(var t=0,a=o.length;t<a;t++)if(!u(o[t],r[t]))return!1;return!0}else if(o&&typeof o=="object"){var l=Object.keys(o),s;if(!r||typeof r!="object"||!e&&l.length!==Object.keys(r).length)return!1;for(var t=0,a=l.length;t<a;t++)if(s=l[t],!(s==="canvas"||s==="group")&&!u(o[s],r[s]))return!1;return!0}}L.util.object.extend(L.Object.prototype,{hasStateChanged:function(r){r=r||i;var e="_"+r;return Object.keys(this[e]).length<this[r].length?!0:!u(this[e],this,!0)},saveState:function(r){var e=r&&r.propertySet||i,t="_"+e;return this[t]?(c(this,t,this[e]),r&&r.stateProperties&&c(this,t,r.stateProperties),this):this.setupState(r)},setupState:function(r){r=r||{};var e=r.propertySet||i;return r.propertySet=e,this["_"+e]={},this.saveState(r),this}})}(),function(){var b=L.util.degreesToRadians;L.util.object.extend(L.Object.prototype,{_findTargetCorner:function(c,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var o=c.x,r=c.y,e,t,a=Object.keys(this.oCoords),l=a.length-1,s;for(this.__corner=0;l>=0;l--)if(s=a[l],!!this.isControlVisible(s)&&(t=this._getImageLines(u?this.oCoords[s].touchCorner:this.oCoords[s].corner),e=this._findCrossPoints({x:o,y:r},t),e!==0&&e%2==1))return this.__corner=s,s;return!1},forEachControl:function(c){for(var u in this.controls)c(this.controls[u],u,this)},_setCornerCoords:function(){var c=this.oCoords;for(var u in c){var o=this.controls[u];c[u].corner=o.calcCornerCoords(this.angle,this.cornerSize,c[u].x,c[u].y,!1),c[u].touchCorner=o.calcCornerCoords(this.angle,this.touchCornerSize,c[u].x,c[u].y,!0)}},drawSelectionBackground:function(c){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;c.save();var u=this.getCenterPoint(),o=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return c.translate(u.x,u.y),c.scale(1/r[0],1/r[3]),c.rotate(b(this.angle)),c.fillStyle=this.selectionBackgroundColor,c.fillRect(-o.x/2,-o.y/2,o.x,o.y),c.restore(),this},drawBorders:function(c,u){u=u||{};var o=this._calculateCurrentDimensions(),r=this.borderScaleFactor,e=o.x+r,t=o.y+r,a=typeof u.hasControls!="undefined"?u.hasControls:this.hasControls,l=!1;return c.save(),c.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(c,u.borderDashArray||this.borderDashArray),c.strokeRect(-e/2,-t/2,e,t),a&&(c.beginPath(),this.forEachControl(function(s,f,p){s.withConnection&&s.getVisibility(p,f)&&(l=!0,c.moveTo(s.x*e,s.y*t),c.lineTo(s.x*e+s.offsetX,s.y*t+s.offsetY))}),l&&c.stroke()),c.restore(),this},drawBordersInGroup:function(c,u,o){o=o||{};var r=L.util.sizeAfterTransform(this.width,this.height,u),e=this.strokeWidth,t=this.strokeUniform,a=this.borderScaleFactor,l=r.x+e*(t?this.canvas.getZoom():u.scaleX)+a,s=r.y+e*(t?this.canvas.getZoom():u.scaleY)+a;return c.save(),this._setLineDash(c,o.borderDashArray||this.borderDashArray),c.strokeStyle=o.borderColor||this.borderColor,c.strokeRect(-l/2,-s/2,l,s),c.restore(),this},drawControls:function(c,u){u=u||{},c.save();var o=this.canvas.getRetinaScaling(),r,e;return c.setTransform(o,0,0,o,0,0),c.strokeStyle=c.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(c.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(c,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl(function(t,a,l){e=l.oCoords[a],t.getVisibility(l,a)&&(r&&(e=L.util.transformPoint(e,r)),t.render(c,e.x,e.y,u,l))}),c.restore(),this},isControlVisible:function(c){return this.controls[c]&&this.controls[c].getVisibility(this,c)},setControlVisible:function(c,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[c]=u,this},setControlsVisibility:function(c){c||(c={});for(var u in c)this.setControlVisible(u,c[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),L.util.object.extend(L.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(i,c){c=c||{};var u=function(){},o=c.onComplete||u,r=c.onChange||u,e=this;return L.util.animate({startValue:i.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(a){i.set("left",a),e.requestRenderAll(),r()},onComplete:function(){i.setCoords(),o()}}),this},fxCenterObjectV:function(i,c){c=c||{};var u=function(){},o=c.onComplete||u,r=c.onChange||u,e=this;return L.util.animate({startValue:i.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(a){i.set("top",a),e.requestRenderAll(),r()},onComplete:function(){i.setCoords(),o()}}),this},fxRemove:function(i,c){c=c||{};var u=function(){},o=c.onComplete||u,r=c.onChange||u,e=this;return L.util.animate({startValue:i.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){i.set("opacity",a),e.requestRenderAll(),r()},onComplete:function(){e.remove(i),o()}}),this}}),L.util.object.extend(L.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var i=[],c,u;for(c in arguments[0])i.push(c);for(var o=0,r=i.length;o<r;o++)c=i[o],u=o!==r-1,this._animate(c,arguments[0][c],arguments[1],u)}else this._animate.apply(this,arguments);return this},_animate:function(i,c,u,o){var r=this,e;c=c.toString(),u?u=L.util.object.clone(u):u={},~i.indexOf(".")&&(e=i.split("."));var t=r.colorProperties.indexOf(i)>-1||e&&r.colorProperties.indexOf(e[1])>-1,a=e?this.get(e[0])[e[1]]:this.get(i);"from"in u||(u.from=a),t||(~c.indexOf("=")?c=a+parseFloat(c.replace("=","")):c=parseFloat(c));var l={startValue:u.from,endValue:c,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(s,f,p){return u.abort.call(r,s,f,p)},onChange:function(f,p,w){e?r[e[0]][e[1]]=f:r.set(i,f),!o&&u.onChange&&u.onChange(f,p,w)},onComplete:function(f,p,w){o||(r.setCoords(),u.onComplete&&u.onComplete(f,p,w))}};return t?L.util.animateColor(l.startValue,l.endValue,l.duration,l):L.util.animate(l)}}),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,a){t||(t=[0,0,0,0]),this.callSuper("initialize",a),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(a)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,a){return this.callSuper("_set",t,a),typeof o[t]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:r({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:r({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var a=this.calcLinePoints();t.moveTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineWidth=this.strokeWidth;var l=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=l},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return c(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,a=this.y1<=this.y2?-1:1,l=t*this.width*.5,s=a*this.height*.5,f=t*this.width*-.5,p=a*this.height*-.5;return{x1:l,x2:f,y1:s,y2:p}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(e,t,a){a=a||{};var l=i.parseAttributes(e,i.Line.ATTRIBUTE_NAMES),s=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];t(new i.Line(s,c(l,a)))},i.Line.fromObject=function(e,t){function a(s){delete s.points,t&&t(s)}var l=u(e,!0);l.points=[e.x1,e.y1,e.x2,e.y2],i.Object._fromObject("Line",l,a,"points")};function r(e,t){var a=e.origin,l=e.axis1,s=e.axis2,f=e.dimension,p=t.nearest,w=t.center,A=t.farthest;return function(){switch(this.get(a)){case p:return Math.min(this.get(l),this.get(s));case w:return Math.min(this.get(l),this.get(s))+.5*this.get(f);case A:return Math.max(this.get(l),this.get(s))}}}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=Math.PI;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:c*2,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(r,e){return this.callSuper("_set",r,e),r==="radius"&&this.setRadius(e),this},toObject:function(r){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(r))},_toSVG:function(){var r,e=0,t=0,a=(this.endAngle-this.startAngle)%(2*c);if(a===0)r=["<circle ","COMMON_PARTS",'cx="'+e+'" cy="'+t+'" ','r="',this.radius,`" />
`];else{var l=i.util.cos(this.startAngle)*this.radius,s=i.util.sin(this.startAngle)*this.radius,f=i.util.cos(this.endAngle)*this.radius,p=i.util.sin(this.endAngle)*this.radius,w=a>c?"1":"0";r=['<path d="M '+l+" "+s," A "+this.radius+" "+this.radius," 0 ",+w+" 1"," "+f+" "+p,'" ',"COMMON_PARTS",` />
`]}return r},_render:function(r){r.beginPath(),r.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(r)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(r){return this.radius=r,this.set("width",r*2).set("height",r*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,r){var e=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!u(e))throw new Error("value of `r` attribute is required and can not be negative");e.left=(e.left||0)-e.radius,e.top=(e.top||0)-e.radius,r(new i.Circle(e))};function u(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,r){i.Object._fromObject("Circle",o,r)}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(u){var o=this.width/2,r=this.height/2;u.beginPath(),u.moveTo(-o,r),u.lineTo(0,-r),u.lineTo(o,r),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,o=this.height/2,r=[-u+" "+o,"0 "+-o,u+" "+o].join(",");return["<polygon ","COMMON_PARTS",'points="',r,'" />']}}),i.Triangle.fromObject=function(c,u){return i.Object._fromObject("Triangle",c,u)}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(o){this.callSuper("initialize",o),this.set("rx",o&&o.rx||0),this.set("ry",o&&o.ry||0)},_set:function(o,r){switch(this.callSuper("_set",o,r),o){case"rx":this.rx=r,this.set("width",r*2);break;case"ry":this.ry=r,this.set("height",r*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(o){return this.callSuper("toObject",["rx","ry"].concat(o))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(o){o.beginPath(),o.save(),o.transform(1,0,0,this.ry/this.rx,0,0),o.arc(0,0,this.rx,0,c,!1),o.restore(),this._renderPaintInOrder(o)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(u,o){var r=i.parseAttributes(u,i.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,o(new i.Ellipse(r))},i.Ellipse.fromObject=function(u,o){i.Object._fromObject("Ellipse",u,o)}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(o){this.callSuper("initialize",o),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(o){var r=this.rx?Math.min(this.rx,this.width/2):0,e=this.ry?Math.min(this.ry,this.height/2):0,t=this.width,a=this.height,l=-this.width/2,s=-this.height/2,f=r!==0||e!==0,p=1-.5522847498;o.beginPath(),o.moveTo(l+r,s),o.lineTo(l+t-r,s),f&&o.bezierCurveTo(l+t-p*r,s,l+t,s+p*e,l+t,s+e),o.lineTo(l+t,s+a-e),f&&o.bezierCurveTo(l+t,s+a-p*e,l+t-p*r,s+a,l+t-r,s+a),o.lineTo(l+r,s+a),f&&o.bezierCurveTo(l+p*r,s+a,l,s+a-p*e,l,s+a-e),o.lineTo(l,s+e),f&&o.bezierCurveTo(l,s+p*e,l+p*r,s,l+r,s),o.closePath(),this._renderPaintInOrder(o)},toObject:function(o){return this.callSuper("toObject",["rx","ry"].concat(o))},_toSVG:function(){var o=-this.width/2,r=-this.height/2;return["<rect ","COMMON_PARTS",'x="',o,'" y="',r,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(u,o,r){if(!u)return o(null);r=r||{};var e=i.parseAttributes(u,i.Rect.ATTRIBUTE_NAMES);e.left=e.left||0,e.top=e.top||0,e.height=e.height||0,e.width=e.width||0;var t=new i.Rect(c(r?i.util.object.clone(r):{},e));t.visible=t.visible&&t.width>0&&t.height>0,o(t)},i.Rect.fromObject=function(u,o){return i.Object._fromObject("Rect",u,o)}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.util.array.min,o=i.util.array.max,r=i.util.toFixed;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(t,a){a=a||{},this.points=t||[],this.callSuper("initialize",a),this._setPositionDimensions(a)},_setPositionDimensions:function(t){var a=this._calcDimensions(t),l;this.width=a.width,this.height=a.height,t.fromSVG||(l=this.translateToGivenOrigin({x:a.left-this.strokeWidth/2,y:a.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof t.left=="undefined"&&(this.left=t.fromSVG?a.left:l.x),typeof t.top=="undefined"&&(this.top=t.fromSVG?a.top:l.y),this.pathOffset={x:a.left+this.width/2,y:a.top+this.height/2}},_calcDimensions:function(){var t=this.points,a=u(t,"x")||0,l=u(t,"y")||0,s=o(t,"x")||0,f=o(t,"y")||0,p=s-a,w=f-l;return{left:a,top:l,width:p,height:w}},toObject:function(t){return c(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],a=this.pathOffset.x,l=this.pathOffset.y,s=i.Object.NUM_FRACTION_DIGITS,f=0,p=this.points.length;f<p;f++)t.push(r(this.points[f].x-a,s),",",r(this.points[f].y-l,s)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),`" />
`]},commonRender:function(t){var a,l=this.points.length,s=this.pathOffset.x,f=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-s,this.points[0].y-f);for(var p=0;p<l;p++)a=this.points[p],t.lineTo(a.x-s,a.y-f);return!0},_render:function(t){!this.commonRender(t)||this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(e){return function(t,a,l){if(!t)return a(null);l||(l={});var s=i.parsePointsAttribute(t.getAttribute("points")),f=i.parseAttributes(t,i[e].ATTRIBUTE_NAMES);f.fromSVG=!0,a(new i[e](s,c(f,l)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(e,t){return i.Object._fromObject("Polyline",e,t,"points")}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={});if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_render:function(u){!this.commonRender(u)||(u.closePath(),this._renderPaintInOrder(u))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(c,u){i.Object._fromObject("Polygon",c,u,"points")}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.array.min,u=i.util.array.max,o=i.util.object.extend,r=Object.prototype.toString,e=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(a,l){l=l||{},this.callSuper("initialize",l),a||(a=[]);var s=r.call(a)==="[object Array]";this.path=i.util.makePathSimpler(s?a:i.util.parsePath(a)),!!this.path&&i.Polyline.prototype._setPositionDimensions.call(this,l)},_renderPathCommands:function(a){var l,s=0,f=0,p=0,w=0,A=0,z=0,Z=-this.pathOffset.x,ot=-this.pathOffset.y;a.beginPath();for(var Lt=0,At=this.path.length;Lt<At;++Lt)switch(l=this.path[Lt],l[0]){case"L":p=l[1],w=l[2],a.lineTo(p+Z,w+ot);break;case"M":p=l[1],w=l[2],s=p,f=w,a.moveTo(p+Z,w+ot);break;case"C":p=l[5],w=l[6],A=l[3],z=l[4],a.bezierCurveTo(l[1]+Z,l[2]+ot,A+Z,z+ot,p+Z,w+ot);break;case"Q":a.quadraticCurveTo(l[1]+Z,l[2]+ot,l[3]+Z,l[4]+ot),p=l[3],w=l[4],A=l[1],z=l[2];break;case"z":case"Z":p=s,w=f,a.closePath();break}},_render:function(a){this._renderPathCommands(a),this._renderPaintInOrder(a)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(a){return o(this.callSuper("toObject",a),{path:this.path.map(function(l){return l.slice()})})},toDatalessObject:function(a){var l=this.toObject(["sourcePath"].concat(a));return l.sourcePath&&delete l.path,l},_toSVG:function(){var a=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',a,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var a=i.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,a)+", "+e(-this.pathOffset.y,a)+")"},toClipPathSVG:function(a){var l=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:l})},toSVG:function(a){var l=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:l})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var a=[],l=[],s,f=0,p=0,w=0,A=0,z,Z=0,ot=this.path.length;Z<ot;++Z){switch(s=this.path[Z],s[0]){case"L":w=s[1],A=s[2],z=[];break;case"M":w=s[1],A=s[2],f=w,p=A,z=[];break;case"C":z=i.util.getBoundsOfCurve(w,A,s[1],s[2],s[3],s[4],s[5],s[6]),w=s[5],A=s[6];break;case"Q":z=i.util.getBoundsOfCurve(w,A,s[1],s[2],s[1],s[2],s[3],s[4]),w=s[3],A=s[4];break;case"z":case"Z":w=f,A=p;break}z.forEach(function(Y){a.push(Y.x),l.push(Y.y)}),a.push(w),l.push(A)}var Lt=c(a)||0,At=c(l)||0,se=u(a)||0,Le=u(l)||0,Tt=se-Lt,$t=Le-At;return{left:Lt,top:At,width:Tt,height:$t}}}),i.Path.fromObject=function(t,a){if(typeof t.sourcePath=="string"){var l=t.sourcePath;i.loadSVGFromURL(l,function(s){var f=s[0];f.setOptions(t),a&&a(f)})}else i.Object._fromObject("Path",t,a,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(t,a,l){var s=i.parseAttributes(t,i.Path.ATTRIBUTE_NAMES);s.fromSVG=!0,a(new i.Path(s.d,o(s,l)))}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.array.min,u=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(r,e,t){e=e||{},this._objects=[],t&&this.callSuper("initialize",e),this._objects=r||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;if(t)this._updateObjectsACoords();else{var l=e&&e.centerPoint;e.originX!==void 0&&(this.originX=e.originX),e.originY!==void 0&&(this.originY=e.originY),l||this._calcBounds(),this._updateObjectsCoords(l),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var r=!0,e=this._objects.length;e--;)this._objects[e].setCoords(r)},_updateObjectsCoords:function(r){for(var r=r||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],r)},_updateObjectCoords:function(r,e){var t=r.left,a=r.top,l=!0;r.set({left:t-e.x,top:a-e.y}),r.group=this,r.setCoords(l)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(r){var e=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),r&&(e&&i.util.removeTransformFromObject(r,this.group.calcTransformMatrix()),this._objects.push(r),r.group=this,r._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,e?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(r){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(r),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(r){this.dirty=!0,r.group=this,r._set("canvas",this.canvas)},_onObjectRemoved:function(r){this.dirty=!0,delete r.group},_set:function(r,e){var t=this._objects.length;if(this.useSetOnGroup)for(;t--;)this._objects[t].setOnGroup(r,e);if(r==="canvas")for(;t--;)this._objects[t]._set(r,e);i.Object.prototype._set.call(this,r,e)},toObject:function(r){var e=this.includeDefaultValues,t=this._objects.filter(function(l){return!l.excludeFromExport}).map(function(l){var s=l.includeDefaultValues;l.includeDefaultValues=e;var f=l.toObject(r);return l.includeDefaultValues=s,f}),a=i.Object.prototype.toObject.call(this,r);return a.objects=t,a},toDatalessObject:function(r){var e,t=this.sourcePath;if(t)e=t;else{var a=this.includeDefaultValues;e=this._objects.map(function(s){var f=s.includeDefaultValues;s.includeDefaultValues=a;var p=s.toDatalessObject(r);return s.includeDefaultValues=f,p})}var l=i.Object.prototype.toDatalessObject.call(this,r);return l.objects=e,l},render:function(r){this._transformDone=!0,this.callSuper("render",r),this._transformDone=!1},shouldCache:function(){var r=i.Object.prototype.shouldCache.call(this);if(r){for(var e=0,t=this._objects.length;e<t;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return r},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var r=0,e=this._objects.length;r<e;r++)if(this._objects[r].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(r){for(var e=0,t=this._objects.length;e<t;e++)this._objects[e].render(r);this._drawClipPath(r)},isCacheDirty:function(r){if(this.callSuper("isCacheDirty",r))return!0;if(!this.statefullCache)return!1;for(var e=0,t=this._objects.length;e<t;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var a=this.cacheWidth/this.zoomX,l=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-a/2,-l/2,a,l)}return!0}return!1},_restoreObjectsState:function(){var r=this.calcOwnMatrix();return this._objects.forEach(function(e){i.util.addTransformToObject(e,r),delete e.group,e.setCoords()}),this},realizeTransform:function(r,e){return i.util.addTransformToObject(r,e),r},destroy:function(){return this._objects.forEach(function(r){r.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(!!this.canvas){var r=this._objects,e=this.canvas;this._objects=[];var t=this.toObject();delete t.objects;var a=new i.ActiveSelection([]);return a.set(t),a.type="activeSelection",e.remove(this),r.forEach(function(l){l.group=a,l.dirty=!0,e.add(l)}),a.canvas=e,a._objects=r,e._activeObject=a,a.setCoords(),a}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var r=!0;return this.forEachObject(function(e){e.setCoords(r)}),this},_calcBounds:function(r){for(var e=[],t=[],a,l,s,f=["tr","br","bl","tl"],p=0,w=this._objects.length,A,z=f.length;p<w;++p){for(a=this._objects[p],s=a.calcACoords(),A=0;A<z;A++)l=f[A],e.push(s[l].x),t.push(s[l].y);a.aCoords=s}this._getBounds(e,t,r)},_getBounds:function(r,e,t){var a=new i.Point(c(r),c(e)),l=new i.Point(u(r),u(e)),s=a.y||0,f=a.x||0,p=l.x-a.x||0,w=l.y-a.y||0;this.width=p,this.height=w,t||this.setPositionByOrigin({x:f,y:s},"left","top")},_toSVG:function(r){for(var e=["<g ","COMMON_PARTS",` >
`],t=0,a=this._objects.length;t<a;t++)e.push("		",this._objects[t].toSVG(r));return e.push(`</g>
`),e},getSvgStyles:function(){var r=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[r,this.getSvgFilter(),e].join("")},toClipPathSVG:function(r){for(var e=[],t=0,a=this._objects.length;t<a;t++)e.push("	",this._objects[t].toClipPathSVG(r));return this._createBaseClipPathSVGMarkup(e,{reviver:r})}}),i.Group.fromObject=function(o,r){var e=o.objects,t=i.util.object.clone(o,!0);if(delete t.objects,typeof e=="string"){i.loadSVGFromURL(e,function(a){var l=i.util.groupSVGElements(a,o,e);l.set(t),r&&r(l)});return}i.util.enlivenObjects(e,function(a){i.util.enlivenObjects([o.clipPath],function(l){var s=i.util.object.clone(o,!0);s.clipPath=l[0],delete s.objects,r&&r(new i.Group(a,s,!0))})})})}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(u,o){o=o||{},this._objects=u||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;o.originX&&(this.originX=o.originX),o.originY&&(this.originY=o.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,o),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var o=i.Object.prototype.toObject.call(this),r=new i.Group([]);if(delete o.type,r.set(o),u.forEach(function(t){t.canvas.remove(t),t.group=r}),r._objects=u,!this.canvas)return r;var e=this.canvas;return e.add(r),e._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,o,r){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",u,o),r=r||{},typeof r.hasControls=="undefined"&&(r.hasControls=!1),r.forActiveSelection=!0;for(var e=0,t=this._objects.length;e<t;e++)this._objects[e]._renderControls(u,r);u.restore()}}),i.ActiveSelection.fromObject=function(c,u){i.util.enlivenObjects(c.objects,function(o){delete c.objects,u&&u(new i.ActiveSelection(o,c,!0))})})}(_r),function(b){"use strict";var i=L.util.object.extend;if(b.fabric||(b.fabric={}),b.fabric.Image){L.warn("fabric.Image is already defined.");return}L.Image=L.util.createClass(L.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:L.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:L.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,o){o||(o={}),this.filters=[],this.cacheKey="texture"+L.Object.__uid++,this.callSuper("initialize",o),this._initElement(u,o)},getElement:function(){return this._element||{}},setElement:function(u,o){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(o),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var o=L.filterBackend;o&&o.evictCachesForKey&&o.evictCachesForKey(u)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(u){L.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var o=this.width/2,r=this.height/2;u.beginPath(),u.moveTo(-o,-r),u.lineTo(o,-r),u.lineTo(o,r),u.lineTo(-o,r),u.lineTo(-o,-r),u.closePath()}},toObject:function(u){var o=[];this.filters.forEach(function(e){e&&o.push(e.toObject())});var r=i(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:o});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],o=[],r,e=this._element,t=-this.width/2,a=-this.height/2,l="",s="";if(!e)return[];if(this.hasCrop()){var f=L.Object.__uid++;u.push('<clipPath id="imageCrop_'+f+`">
`,'	<rect x="'+t+'" y="'+a+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+f+')" '}if(this.imageSmoothing||(s='" image-rendering="optimizeSpeed'),o.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',t-this.cropX,'" y="',a-this.cropY,'" width="',e.width||e.naturalWidth,'" height="',e.height||e.height,s,'"',l,`></image>
`),this.stroke||this.strokeDashArray){var p=this.fill;this.fill=null,r=["	<rect ",'x="',t,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=p}return this.paintFirst!=="fill"?u=u.concat(r,o):u=u.concat(o,r),u},getSrc:function(u){var o=u?this._element:this._originalElement;return o?o.toDataURL?o.toDataURL():this.srcFromAttribute?o.getAttribute("src"):o.src:this.src||""},setSrc:function(u,o,r){return L.util.loadImage(u,function(e,t){this.setElement(e,r),this._setWidthHeight(),o&&o(this,t)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,o=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),e=r.scaleX,t=r.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||e>o&&t>o){this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=e,this._lastScaleY=t;return}L.filterBackend||(L.filterBackend=L.initFilterBackend());var l=L.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,f=a.width,p=a.height;l.width=f,l.height=p,this._element=l,this._lastScaleX=u.scaleX=e,this._lastScaleY=u.scaleY=t,L.filterBackend.applyFilters([u],a,f,p,this._element,s),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(a){return a&&!a.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var o=this._originalElement,r=o.naturalWidth||o.width,e=o.naturalHeight||o.height;if(this._element===this._originalElement){var t=L.util.createCanvasElement();t.width=r,t.height=e,this._element=t,this._filteredEl=t}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,e),this._lastScaleX=1,this._lastScaleY=1;return L.filterBackend||(L.filterBackend=L.initFilterBackend()),L.filterBackend.applyFilters(u,this._originalElement,r,e,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){L.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){L.util.setImageSmoothing(u,this.imageSmoothing),L.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var o=this._element;if(!!o){var r=this._filterScalingX,e=this._filterScalingY,t=this.width,a=this.height,l=Math.min,s=Math.max,f=s(this.cropX,0),p=s(this.cropY,0),w=o.naturalWidth||o.width,A=o.naturalHeight||o.height,z=f*r,Z=p*e,ot=l(t*r,w-z),Lt=l(a*e,A-Z),At=-t/2,se=-a/2,Le=l(t,w/r-f),Tt=l(a,A/e-p);o&&u.drawImage(o,z,Z,ot,Lt,At,se,Le,Tt)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,o){this.setElement(L.util.getById(u),o),L.util.addClass(this.getElement(),L.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,o){u&&u.length?L.util.enlivenObjects(u,function(r){o&&o(r)},"fabric.Image.filters"):o&&o()},_setWidthHeight:function(u){u||(u={});var o=this.getElement();this.width=u.width||o.naturalWidth||o.width||0,this.height=u.height||o.naturalHeight||o.height||0},parsePreserveAspectRatioAttribute:function(){var u=L.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),o=this._element.width,r=this._element.height,e=1,t=1,a=0,l=0,s=0,f=0,p,w=this.width,A=this.height,z={width:w,height:A};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(e=t=L.util.findScaleToFit(this._element,z),p=(w-o*e)/2,u.alignX==="Min"&&(a=-p),u.alignX==="Max"&&(a=p),p=(A-r*t)/2,u.alignY==="Min"&&(l=-p),u.alignY==="Max"&&(l=p)),u.meetOrSlice==="slice"&&(e=t=L.util.findScaleToCover(this._element,z),p=o-w/e,u.alignX==="Mid"&&(s=p/2),u.alignX==="Max"&&(s=p),p=r-A/t,u.alignY==="Mid"&&(f=p/2),u.alignY==="Max"&&(f=p),o=w/e,r=A/t)):(e=w/o,t=A/r),{width:o,height:r,scaleX:e,scaleY:t,offsetLeft:a,offsetTop:l,cropX:s,cropY:f}}}),L.Image.CSS_CANVAS="canvas-img",L.Image.prototype.getSvgSrc=L.Image.prototype.getSrc,L.Image.fromObject=function(c,u){var o=L.util.object.clone(c);L.util.loadImage(o.src,function(r,e){if(e){u&&u(null,!0);return}L.Image.prototype._initFilters.call(o,o.filters,function(t){o.filters=t||[],L.Image.prototype._initFilters.call(o,[o.resizeFilter],function(a){o.resizeFilter=a[0],L.util.enlivenObjects([o.clipPath],function(l){o.clipPath=l[0];var s=new L.Image(r,o);u(s,!1)})})})},null,o.crossOrigin)},L.Image.fromURL=function(c,u,o){L.util.loadImage(c,function(r,e){u&&u(new L.Image(r,o),e)},null,o&&o.crossOrigin)},L.Image.ATTRIBUTE_NAMES=L.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),L.Image.fromElement=function(c,u,o){var r=L.parseAttributes(c,L.Image.ATTRIBUTE_NAMES);L.Image.fromURL(r["xlink:href"],u,i(o?L.util.object.clone(o):{},r))}}(_r),L.util.object.extend(L.Object.prototype,{_getAngleValueForStraighten:function(){var i=this.angle%360;return i>0?Math.round((i-1)/90)*90:Math.round(i/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(i){i=i||{};var c=function(){},u=i.onComplete||c,o=i.onChange||c,r=this;return L.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),o()},onComplete:function(){r.setCoords(),u()}}),this}}),L.util.object.extend(L.StaticCanvas.prototype,{straightenObject:function(i){return i.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(i){return i.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function b(c,u){var o="precision "+u+` float;
void main(){}`,r=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(r,o),c.compileShader(r),!!c.getShaderParameter(r,c.COMPILE_STATUS)}L.isWebglSupported=function(c){if(L.isLikelyNode)return!1;c=c||L.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),o=u.getContext("webgl")||u.getContext("experimental-webgl"),r=!1;if(o){L.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),r=L.maxTextureSize>=c;for(var e=["highp","mediump","lowp"],t=0;t<3;t++)if(b(o,e[t])){L.webGlPrecision=e[t];break}}return this.isSupported=r,r},L.WebglFilterBackend=i;function i(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(u,o){this.dispose(),this.createWebGLCanvas(u,o),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,o)},chooseFastestCopyGLTo2DMethod:function(u,o){var r=typeof window.performance!="undefined",e;try{new ImageData(1,1),e=!0}catch(z){e=!1}var t=typeof ArrayBuffer!="undefined",a=typeof Uint8ClampedArray!="undefined";if(!!(r&&e&&t&&a)){var l=L.util.createCanvasElement(),s=new ArrayBuffer(u*o*4);if(L.forceGLPutImageData){this.imageBuffer=s,this.copyGLTo2D=G;return}var f={imageBuffer:s,destinationWidth:u,destinationHeight:o,targetCanvas:l},p,w,A;l.width=u,l.height=o,p=window.performance.now(),wt.call(f,this.gl,f),w=window.performance.now()-p,p=window.performance.now(),G.call(f,this.gl,f),A=window.performance.now()-p,w>A?(this.imageBuffer=s,this.copyGLTo2D=G):this.copyGLTo2D=wt}},createWebGLCanvas:function(u,o){var r=L.util.createCanvasElement();r.width=u,r.height=o;var e={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},t=r.getContext("webgl",e);t||(t=r.getContext("experimental-webgl",e)),!!t&&(t.clearColor(0,0,0,0),this.canvas=r,this.gl=t)},applyFilters:function(u,o,r,e,t,a){var l=this.gl,s;a&&(s=this.getCachedTexture(a,o));var f={originalWidth:o.width||o.originalWidth,originalHeight:o.height||o.originalHeight,sourceWidth:r,sourceHeight:e,destinationWidth:r,destinationHeight:e,context:l,sourceTexture:this.createTexture(l,r,e,!s&&o),targetTexture:this.createTexture(l,r,e),originalTexture:s||this.createTexture(l,r,e,!s&&o),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:t},p=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,p),u.forEach(function(w){w&&w.applyTo(f)}),Ht(f),this.copyGLTo2D(l,f),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(f.sourceTexture),l.deleteTexture(f.targetTexture),l.deleteFramebuffer(p),t.getContext("2d").setTransform(1,0,0,1,0,0),f},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,o,r,e){var t=u.createTexture();return u.bindTexture(u.TEXTURE_2D,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),e?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,e):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,o,r,0,u.RGBA,u.UNSIGNED_BYTE,null),t},getCachedTexture:function(u,o){if(this.textureCache[u])return this.textureCache[u];var r=this.createTexture(this.gl,o.width,o.height,o);return this.textureCache[u]=r,r},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:wt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,o={renderer:"",vendor:""};if(!u)return o;var r=u.getExtension("WEBGL_debug_renderer_info");if(r){var e=u.getParameter(r.UNMASKED_RENDERER_WEBGL),t=u.getParameter(r.UNMASKED_VENDOR_WEBGL);e&&(o.renderer=e.toLowerCase()),t&&(o.vendor=t.toLowerCase())}return this.gpuInfo=o,o}}}();function Ht(b){var i=b.targetCanvas,c=i.width,u=i.height,o=b.destinationWidth,r=b.destinationHeight;(c!==o||u!==r)&&(i.width=o,i.height=r)}function wt(b,i){var c=b.canvas,u=i.targetCanvas,o=u.getContext("2d");o.translate(0,u.height),o.scale(1,-1);var r=c.height-u.height;o.drawImage(c,0,r,u.width,u.height,0,0,u.width,u.height)}function G(b,i){var c=i.targetCanvas,u=c.getContext("2d"),o=i.destinationWidth,r=i.destinationHeight,e=o*r*4,t=new Uint8Array(this.imageBuffer,0,e),a=new Uint8ClampedArray(this.imageBuffer,0,e);b.readPixels(0,0,o,r,b.RGBA,b.UNSIGNED_BYTE,t);var l=new ImageData(a,o,r);u.putImageData(l,0,0)}(function(){"use strict";var b=function(){};L.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:b,dispose:b,clearWebGLCaches:b,resources:{},applyFilters:function(u,o,r,e,t){var a=t.getContext("2d");a.drawImage(o,0,0,r,e);var l=a.getImageData(0,0,r,e),s=a.getImageData(0,0,r,e),f={sourceWidth:r,sourceHeight:e,imageData:l,originalEl:o,originalImageData:s,canvasEl:t,ctx:a,filterBackend:this};return u.forEach(function(p){p.applyTo(f)}),(f.imageData.width!==r||f.imageData.height!==e)&&(t.width=f.imageData.width,t.height=f.imageData.height),a.putImageData(f.imageData,0,0),f}}})(),L.Image=L.Image||{},L.Image.filters=L.Image.filters||{},L.Image.filters.BaseFilter=L.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(i){i&&this.setOptions(i)},setOptions:function(i){for(var c in i)this[c]=i[c]},createProgram:function(i,c,u){c=c||this.fragmentSource,u=u||this.vertexSource,L.webGlPrecision!=="highp"&&(c=c.replace(/precision highp float/g,"precision "+L.webGlPrecision+" float"));var o=i.createShader(i.VERTEX_SHADER);if(i.shaderSource(o,u),i.compileShader(o),!i.getShaderParameter(o,i.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+i.getShaderInfoLog(o));var r=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(r,c),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+i.getShaderInfoLog(r));var e=i.createProgram();if(i.attachShader(e,o),i.attachShader(e,r),i.linkProgram(e),!i.getProgramParameter(e,i.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+i.getProgramInfoLog(e));var t=this.getAttributeLocations(i,e),a=this.getUniformLocations(i,e)||{};return a.uStepW=i.getUniformLocation(e,"uStepW"),a.uStepH=i.getUniformLocation(e,"uStepH"),{program:e,attributeLocations:t,uniformLocations:a}},getAttributeLocations:function(i,c){return{aPosition:i.getAttribLocation(c,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(i,c,u){var o=c.aPosition,r=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,r),i.enableVertexAttribArray(o),i.vertexAttribPointer(o,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,u,i.STATIC_DRAW)},_setupFrameBuffer:function(i){var c=i.context,u,o;i.passes>1?(u=i.destinationWidth,o=i.destinationHeight,(i.sourceWidth!==u||i.sourceHeight!==o)&&(c.deleteTexture(i.targetTexture),i.targetTexture=i.filterBackend.createTexture(c,u,o)),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,i.targetTexture,0)):(c.bindFramebuffer(c.FRAMEBUFFER,null),c.finish())},_swapTextures:function(i){i.passes--,i.pass++;var c=i.targetTexture;i.targetTexture=i.sourceTexture,i.sourceTexture=c},isNeutralState:function(){var i=this.mainParameter,c=L.Image.filters[this.type].prototype;if(i)if(Array.isArray(c[i])){for(var u=c[i].length;u--;)if(this[i][u]!==c[i][u])return!1;return!0}else return c[i]===this[i];else return!1},applyTo:function(i){i.webgl?(this._setupFrameBuffer(i),this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},retrieveShader:function(i){return i.programCache.hasOwnProperty(this.type)||(i.programCache[this.type]=this.createProgram(i.context)),i.programCache[this.type]},applyToWebGL:function(i){var c=i.context,u=this.retrieveShader(i);i.pass===0&&i.originalTexture?c.bindTexture(c.TEXTURE_2D,i.originalTexture):c.bindTexture(c.TEXTURE_2D,i.sourceTexture),c.useProgram(u.program),this.sendAttributeData(c,u.attributeLocations,i.aPosition),c.uniform1f(u.uniformLocations.uStepW,1/i.sourceWidth),c.uniform1f(u.uniformLocations.uStepH,1/i.sourceHeight),this.sendUniformData(c,u.uniformLocations),c.viewport(0,0,i.destinationWidth,i.destinationHeight),c.drawArrays(c.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(i,c,u){i.activeTexture(u),i.bindTexture(i.TEXTURE_2D,c),i.activeTexture(i.TEXTURE0)},unbindAdditionalTexture:function(i,c){i.activeTexture(c),i.bindTexture(i.TEXTURE_2D,null),i.activeTexture(i.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(i){this[this.mainParameter]=i},sendUniformData:function(){},createHelpLayer:function(i){if(!i.helpLayer){var c=document.createElement("canvas");c.width=i.sourceWidth,c.height=i.sourceHeight,i.helpLayer=c}},toObject:function(){var i={type:this.type},c=this.mainParameter;return c&&(i[c]=this[c]),i},toJSON:function(){return this.toObject()}}),L.Image.filters.BaseFilter.fromObject=function(b,i){var c=new L.Image.filters[b.type](b);return i&&i(c),c},function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.ColorMatrix=u(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(r){this.callSuper("initialize",r),this.matrix=this.matrix.slice(0)},applyTo2d:function(r){var e=r.imageData,t=e.data,a=t.length,l=this.matrix,s,f,p,w,A,z=this.colorsOnly;for(A=0;A<a;A+=4)s=t[A],f=t[A+1],p=t[A+2],z?(t[A]=s*l[0]+f*l[1]+p*l[2]+l[4]*255,t[A+1]=s*l[5]+f*l[6]+p*l[7]+l[9]*255,t[A+2]=s*l[10]+f*l[11]+p*l[12]+l[14]*255):(w=t[A+3],t[A]=s*l[0]+f*l[1]+p*l[2]+w*l[3]+l[4]*255,t[A+1]=s*l[5]+f*l[6]+p*l[7]+w*l[8]+l[9]*255,t[A+2]=s*l[10]+f*l[11]+p*l[12]+w*l[13]+l[14]*255,t[A+3]=s*l[15]+f*l[16]+p*l[17]+w*l[18]+l[19]*255)},getUniformLocations:function(r,e){return{uColorMatrix:r.getUniformLocation(e,"uColorMatrix"),uConstants:r.getUniformLocation(e,"uConstants")}},sendUniformData:function(r,e){var t=this.matrix,a=[t[0],t[1],t[2],t[3],t[5],t[6],t[7],t[8],t[10],t[11],t[12],t[13],t[15],t[16],t[17],t[18]],l=[t[4],t[9],t[14],t[19]];r.uniformMatrix4fv(e.uColorMatrix,!1,a),r.uniform4fv(e.uConstants,l)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Brightness=u(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(r){if(this.brightness!==0){var e=r.imageData,t=e.data,a,l=t.length,s=Math.round(this.brightness*255);for(a=0;a<l;a+=4)t[a]=t[a]+s,t[a+1]=t[a+1]+s,t[a+2]=t[a+2]+s}},getUniformLocations:function(r,e){return{uBrightness:r.getUniformLocation(e,"uBrightness")}},sendUniformData:function(r,e){r.uniform1f(e.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.Image.filters,o=i.util.createClass;u.Convolute=o(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),a=this.type+"_"+t+"_"+(this.opaque?1:0),l=this.fragmentSource[a];return e.programCache.hasOwnProperty(a)||(e.programCache[a]=this.createProgram(e.context,l)),e.programCache[a]},applyTo2d:function(e){var t=e.imageData,a=t.data,l=this.matrix,s=Math.round(Math.sqrt(l.length)),f=Math.floor(s/2),p=t.width,w=t.height,A=e.ctx.createImageData(p,w),z=A.data,Z=this.opaque?1:0,ot,Lt,At,se,Le,Tt,$t,Y,ue,tr,Ce,ct,Ut;for(Ce=0;Ce<w;Ce++)for(tr=0;tr<p;tr++){for(Le=(Ce*p+tr)*4,ot=0,Lt=0,At=0,se=0,Ut=0;Ut<s;Ut++)for(ct=0;ct<s;ct++)$t=Ce+Ut-f,Tt=tr+ct-f,!($t<0||$t>=w||Tt<0||Tt>=p)&&(Y=($t*p+Tt)*4,ue=l[Ut*s+ct],ot+=a[Y]*ue,Lt+=a[Y+1]*ue,At+=a[Y+2]*ue,Z||(se+=a[Y+3]*ue));z[Le]=ot,z[Le+1]=Lt,z[Le+2]=At,Z?z[Le+3]=a[Le+3]:z[Le+3]=se}e.imageData=A},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Grayscale=u(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(r){var e=r.imageData,t=e.data,a,l=t.length,s,f=this.mode;for(a=0;a<l;a+=4)f==="average"?s=(t[a]+t[a+1]+t[a+2])/3:f==="lightness"?s=(Math.min(t[a],t[a+1],t[a+2])+Math.max(t[a],t[a+1],t[a+2]))/2:f==="luminosity"&&(s=.21*t[a]+.72*t[a+1]+.07*t[a+2]),t[a]=s,t[a+1]=s,t[a+2]=s},retrieveShader:function(r){var e=this.type+"_"+this.mode;if(!r.programCache.hasOwnProperty(e)){var t=this.fragmentSource[this.mode];r.programCache[e]=this.createProgram(r.context,t)}return r.programCache[e]},getUniformLocations:function(r,e){return{uMode:r.getUniformLocation(e,"uMode")}},sendUniformData:function(r,e){var t=1;r.uniform1i(e.uMode,t)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Invert=u(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(r){var e=r.imageData,t=e.data,a,l=t.length;for(a=0;a<l;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(r,e){return{uInvert:r.getUniformLocation(e,"uInvert")}},sendUniformData:function(r,e){r.uniform1i(e.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.Image.filters,o=i.util.createClass;u.Noise=o(u.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(e){if(this.noise!==0){var t=e.imageData,a=t.data,l,s=a.length,f=this.noise,p;for(l=0,s=a.length;l<s;l+=4)p=(.5-Math.random())*f,a[l]+=p,a[l+1]+=p,a[l+2]+=p}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Pixelate=u(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(r){var e=r.imageData,t=e.data,a=e.height,l=e.width,s,f,p,w,A,z,Z,ot,Lt,At,se;for(f=0;f<a;f+=this.blocksize)for(p=0;p<l;p+=this.blocksize)for(s=f*4*l+p*4,w=t[s],A=t[s+1],z=t[s+2],Z=t[s+3],At=Math.min(f+this.blocksize,a),se=Math.min(p+this.blocksize,l),ot=f;ot<At;ot++)for(Lt=p;Lt<se;Lt++)s=ot*4*l+Lt*4,t[s]=w,t[s+1]=A,t[s+2]=z,t[s+3]=Z},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(r,e){return{uBlocksize:r.getUniformLocation(e,"uBlocksize"),uStepW:r.getUniformLocation(e,"uStepW"),uStepH:r.getUniformLocation(e,"uStepH")}},sendUniformData:function(r,e){r.uniform1f(e.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.extend,u=i.Image.filters,o=i.util.createClass;u.RemoveColor=o(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(e){var t=e.imageData,a=t.data,l,s=this.distance*255,f,p,w,A=new i.Color(this.color).getSource(),z=[A[0]-s,A[1]-s,A[2]-s],Z=[A[0]+s,A[1]+s,A[2]+s];for(l=0;l<a.length;l+=4)f=a[l],p=a[l+1],w=a[l+2],f>z[0]&&p>z[1]&&w>z[2]&&f<Z[0]&&p<Z[1]&&w<Z[2]&&(a[l+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,t){var a=new i.Color(this.color).getSource(),l=parseFloat(this.distance),s=[0+a[0]/255-l,0+a[1]/255-l,0+a[2]/255-l,1],f=[a[0]/255+l,a[1]/255+l,a[2]/255+l,1];e.uniform4fv(t.uLow,s),e.uniform4fv(t.uHigh,f)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var r in o)c[r]=u(c.ColorMatrix,{type:r,matrix:o[r],mainParameter:!1,colorsOnly:!0}),i.Image.filters[r].fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric,c=i.Image.filters,u=i.util.createClass;c.BlendColor=u(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(r){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[r]+`}
}`},retrieveShader:function(r){var e=this.type+"_"+this.mode,t;return r.programCache.hasOwnProperty(e)||(t=this.buildSource(this.mode),r.programCache[e]=this.createProgram(r.context,t)),r.programCache[e]},applyTo2d:function(r){var e=r.imageData,t=e.data,a=t.length,l,s,f,p,w,A,z,Z=1-this.alpha;z=new i.Color(this.color).getSource(),l=z[0]*this.alpha,s=z[1]*this.alpha,f=z[2]*this.alpha;for(var ot=0;ot<a;ot+=4)switch(p=t[ot],w=t[ot+1],A=t[ot+2],this.mode){case"multiply":t[ot]=p*l/255,t[ot+1]=w*s/255,t[ot+2]=A*f/255;break;case"screen":t[ot]=255-(255-p)*(255-l)/255,t[ot+1]=255-(255-w)*(255-s)/255,t[ot+2]=255-(255-A)*(255-f)/255;break;case"add":t[ot]=p+l,t[ot+1]=w+s,t[ot+2]=A+f;break;case"diff":case"difference":t[ot]=Math.abs(p-l),t[ot+1]=Math.abs(w-s),t[ot+2]=Math.abs(A-f);break;case"subtract":t[ot]=p-l,t[ot+1]=w-s,t[ot+2]=A-f;break;case"darken":t[ot]=Math.min(p,l),t[ot+1]=Math.min(w,s),t[ot+2]=Math.min(A,f);break;case"lighten":t[ot]=Math.max(p,l),t[ot+1]=Math.max(w,s),t[ot+2]=Math.max(A,f);break;case"overlay":t[ot]=l<128?2*p*l/255:255-2*(255-p)*(255-l)/255,t[ot+1]=s<128?2*w*s/255:255-2*(255-w)*(255-s)/255,t[ot+2]=f<128?2*A*f/255:255-2*(255-A)*(255-f)/255;break;case"exclusion":t[ot]=l+p-2*l*p/255,t[ot+1]=s+w-2*s*w/255,t[ot+2]=f+A-2*f*A/255;break;case"tint":t[ot]=l+p*Z,t[ot+1]=s+w*Z,t[ot+2]=f+A*Z}},getUniformLocations:function(r,e){return{uColor:r.getUniformLocation(e,"uColor")}},sendUniformData:function(r,e){var t=new i.Color(this.color).getSource();t[0]=this.alpha*t[0]/255,t[1]=this.alpha*t[1]/255,t[2]=this.alpha*t[2]/255,t[3]=this.alpha,r.uniform4fv(e.uColor,t)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric,c=i.Image.filters,u=i.util.createClass;c.BlendImage=u(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(r){var e=this.type+"_"+this.mode,t=this.fragmentSource[this.mode];return r.programCache.hasOwnProperty(e)||(r.programCache[e]=this.createProgram(r.context,t)),r.programCache[e]},applyToWebGL:function(r){var e=r.context,t=this.createTexture(r.filterBackend,this.image);this.bindAdditionalTexture(e,t,e.TEXTURE1),this.callSuper("applyToWebGL",r),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(r,e){return r.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var r=this.image,e=r._element.width,t=r._element.height;return[1/r.scaleX,0,0,0,1/r.scaleY,0,-r.left/e,-r.top/t,1]},applyTo2d:function(r){var e=r.imageData,t=r.filterBackend.resources,a=e.data,l=a.length,s=e.width,f=e.height,p,w,A,z,Z,ot,Lt,At,se,Le,Tt=this.image,$t;t.blendImage||(t.blendImage=i.util.createCanvasElement()),se=t.blendImage,Le=se.getContext("2d"),se.width!==s||se.height!==f?(se.width=s,se.height=f):Le.clearRect(0,0,s,f),Le.setTransform(Tt.scaleX,0,0,Tt.scaleY,Tt.left,Tt.top),Le.drawImage(Tt._element,0,0,s,f),$t=Le.getImageData(0,0,s,f).data;for(var Y=0;Y<l;Y+=4)switch(Z=a[Y],ot=a[Y+1],Lt=a[Y+2],At=a[Y+3],p=$t[Y],w=$t[Y+1],A=$t[Y+2],z=$t[Y+3],this.mode){case"multiply":a[Y]=Z*p/255,a[Y+1]=ot*w/255,a[Y+2]=Lt*A/255,a[Y+3]=At*z/255;break;case"mask":a[Y+3]=z;break}},getUniformLocations:function(r,e){return{uTransformMatrix:r.getUniformLocation(e,"uTransformMatrix"),uImage:r.getUniformLocation(e,"uImage")}},sendUniformData:function(r,e){var t=this.calculateMatrix();r.uniform1i(e.uImage,1),r.uniformMatrix3fv(e.uTransformMatrix,!1,t)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,r){i.Image.fromObject(o.image,function(e){var t=i.util.object.clone(o);t.image=e,r(new i.Image.filters.BlendImage(t))})}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=Math.pow,u=Math.floor,o=Math.sqrt,r=Math.abs,e=Math.round,t=Math.sin,a=Math.ceil,l=i.Image.filters,s=i.util.createClass;l.Resize=s(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(p,w){return{uDelta:p.getUniformLocation(w,"uDelta"),uTaps:p.getUniformLocation(w,"uTaps")}},sendUniformData:function(p,w){p.uniform2fv(w.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),p.uniform1fv(w.uTaps,this.taps)},retrieveShader:function(p){var w=this.getFilterWindow(),A=this.type+"_"+w;if(!p.programCache.hasOwnProperty(A)){var z=this.generateShader(w);p.programCache[A]=this.createProgram(p.context,z)}return p.programCache[A]},getFilterWindow:function(){var p=this.tempScale;return Math.ceil(this.lanczosLobes/p)},getTaps:function(){for(var p=this.lanczosCreate(this.lanczosLobes),w=this.tempScale,A=this.getFilterWindow(),z=new Array(A),Z=1;Z<=A;Z++)z[Z-1]=p(Z*w);return z},generateShader:function(p){for(var w=new Array(p),A=this.fragmentSourceTOP,p,z=1;z<=p;z++)w[z-1]=z+".0 * uDelta";return A+="uniform float uTaps["+p+`];
`,A+=`void main() {
`,A+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,A+=`  float sum = 1.0;
`,w.forEach(function(Z,ot){A+="  color += texture2D(uTexture, vTexCoord + "+Z+") * uTaps["+ot+`];
`,A+="  color += texture2D(uTexture, vTexCoord - "+Z+") * uTaps["+ot+`];
`,A+="  sum += 2.0 * uTaps["+ot+`];
`}),A+=`  gl_FragColor = color / sum;
`,A+="}",A},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(p){p.webgl?(p.passes++,this.width=p.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=p.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),p.destinationWidth=this.dW,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceWidth=p.destinationWidth,this.height=p.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),p.destinationHeight=this.dH,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceHeight=p.destinationHeight):this.applyTo2d(p)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(p){return function(w){if(w>=p||w<=-p)return 0;if(w<11920929e-14&&w>-11920929e-14)return 1;w*=Math.PI;var A=w/p;return t(w)/w*t(A)/A}},applyTo2d:function(p){var w=p.imageData,A=this.scaleX,z=this.scaleY;this.rcpScaleX=1/A,this.rcpScaleY=1/z;var Z=w.width,ot=w.height,Lt=e(Z*A),At=e(ot*z),se;this.resizeType==="sliceHack"?se=this.sliceByTwo(p,Z,ot,Lt,At):this.resizeType==="hermite"?se=this.hermiteFastResize(p,Z,ot,Lt,At):this.resizeType==="bilinear"?se=this.bilinearFiltering(p,Z,ot,Lt,At):this.resizeType==="lanczos"&&(se=this.lanczosResize(p,Z,ot,Lt,At)),p.imageData=se},sliceByTwo:function(p,w,A,z,Z){var ot=p.imageData,Lt=.5,At=!1,se=!1,Le=w*Lt,Tt=A*Lt,$t=i.filterBackend.resources,Y,ue,tr=0,Ce=0,ct=w,Ut=0;for($t.sliceByTwo||($t.sliceByTwo=document.createElement("canvas")),Y=$t.sliceByTwo,(Y.width<w*1.5||Y.height<A)&&(Y.width=w*1.5,Y.height=A),ue=Y.getContext("2d"),ue.clearRect(0,0,w*1.5,A),ue.putImageData(ot,0,0),z=u(z),Z=u(Z);!At||!se;)w=Le,A=Tt,z<u(Le*Lt)?Le=u(Le*Lt):(Le=z,At=!0),Z<u(Tt*Lt)?Tt=u(Tt*Lt):(Tt=Z,se=!0),ue.drawImage(Y,tr,Ce,w,A,ct,Ut,Le,Tt),tr=ct,Ce=Ut,Ut+=Tt;return ue.getImageData(tr,Ce,z,Z)},lanczosResize:function(p,w,A,z,Z){function ot(X){var rt,M,Q,ut,ht,Wt,bt,Bt,oe,re,ae;for(Ut.x=(X+.5)*Tt,et.x=u(Ut.x),rt=0;rt<Z;rt++){for(Ut.y=(rt+.5)*$t,et.y=u(Ut.y),ht=0,Wt=0,bt=0,Bt=0,oe=0,M=et.x-tr;M<=et.x+tr;M++)if(!(M<0||M>=w)){re=u(1e3*r(M-Ut.x)),ct[re]||(ct[re]={});for(var qt=et.y-Ce;qt<=et.y+Ce;qt++)qt<0||qt>=A||(ae=u(1e3*r(qt-Ut.y)),ct[re][ae]||(ct[re][ae]=Le(o(c(re*Y,2)+c(ae*ue,2))/1e3)),Q=ct[re][ae],Q>0&&(ut=(qt*w+M)*4,ht+=Q,Wt+=Q*Lt[ut],bt+=Q*Lt[ut+1],Bt+=Q*Lt[ut+2],oe+=Q*Lt[ut+3]))}ut=(rt*z+X)*4,se[ut]=Wt/ht,se[ut+1]=bt/ht,se[ut+2]=Bt/ht,se[ut+3]=oe/ht}return++X<z?ot(X):At}var Lt=p.imageData.data,At=p.ctx.createImageData(z,Z),se=At.data,Le=this.lanczosCreate(this.lanczosLobes),Tt=this.rcpScaleX,$t=this.rcpScaleY,Y=2/this.rcpScaleX,ue=2/this.rcpScaleY,tr=a(Tt*this.lanczosLobes/2),Ce=a($t*this.lanczosLobes/2),ct={},Ut={},et={};return ot(0)},bilinearFiltering:function(p,w,A,z,Z){var ot,Lt,At,se,Le,Tt,$t,Y,ue,tr,Ce,ct,Ut=0,et,X=this.rcpScaleX,rt=this.rcpScaleY,M=4*(w-1),Q=p.imageData,ut=Q.data,ht=p.ctx.createImageData(z,Z),Wt=ht.data;for($t=0;$t<Z;$t++)for(Y=0;Y<z;Y++)for(Le=u(X*Y),Tt=u(rt*$t),ue=X*Y-Le,tr=rt*$t-Tt,et=4*(Tt*w+Le),Ce=0;Ce<4;Ce++)ot=ut[et+Ce],Lt=ut[et+4+Ce],At=ut[et+M+Ce],se=ut[et+M+4+Ce],ct=ot*(1-ue)*(1-tr)+Lt*ue*(1-tr)+At*tr*(1-ue)+se*ue*tr,Wt[Ut++]=ct;return ht},hermiteFastResize:function(p,w,A,z,Z){for(var ot=this.rcpScaleX,Lt=this.rcpScaleY,At=a(ot/2),se=a(Lt/2),Le=p.imageData,Tt=Le.data,$t=p.ctx.createImageData(z,Z),Y=$t.data,ue=0;ue<Z;ue++)for(var tr=0;tr<z;tr++){for(var Ce=(tr+ue*z)*4,ct=0,Ut=0,et=0,X=0,rt=0,M=0,Q=0,ut=(ue+.5)*Lt,ht=u(ue*Lt);ht<(ue+1)*Lt;ht++)for(var Wt=r(ut-(ht+.5))/se,bt=(tr+.5)*ot,Bt=Wt*Wt,oe=u(tr*ot);oe<(tr+1)*ot;oe++){var re=r(bt-(oe+.5))/At,ae=o(Bt+re*re);ae>1&&ae<-1||(ct=2*ae*ae*ae-3*ae*ae+1,ct>0&&(re=4*(oe+ht*w),Q+=ct*Tt[re+3],et+=ct,Tt[re+3]<255&&(ct=ct*Tt[re+3]/250),X+=ct*Tt[re],rt+=ct*Tt[re+1],M+=ct*Tt[re+2],Ut+=ct))}Y[Ce]=X/Ut,Y[Ce+1]=rt/Ut,Y[Ce+2]=M/Ut,Y[Ce+3]=Q/et}return $t},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Contrast=u(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(r){if(this.contrast!==0){var e=r.imageData,t,a,l=e.data,a=l.length,s=Math.floor(this.contrast*255),f=259*(s+255)/(255*(259-s));for(t=0;t<a;t+=4)l[t]=f*(l[t]-128)+128,l[t+1]=f*(l[t+1]-128)+128,l[t+2]=f*(l[t+2]-128)+128}},getUniformLocations:function(r,e){return{uContrast:r.getUniformLocation(e,"uContrast")}},sendUniformData:function(r,e){r.uniform1f(e.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Saturation=u(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(r){if(this.saturation!==0){var e=r.imageData,t=e.data,a=t.length,l=-this.saturation,s,f;for(s=0;s<a;s+=4)f=Math.max(t[s],t[s+1],t[s+2]),t[s]+=f!==t[s]?(f-t[s])*l:0,t[s+1]+=f!==t[s+1]?(f-t[s+1])*l:0,t[s+2]+=f!==t[s+2]?(f-t[s+2])*l:0}},getUniformLocations:function(r,e){return{uSaturation:r.getUniformLocation(e,"uSaturation")}},sendUniformData:function(r,e){r.uniform1f(e.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Vibrance=u(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(r){if(this.vibrance!==0){var e=r.imageData,t=e.data,a=t.length,l=-this.vibrance,s,f,p,w;for(s=0;s<a;s+=4)f=Math.max(t[s],t[s+1],t[s+2]),p=(t[s]+t[s+1]+t[s+2])/3,w=Math.abs(f-p)*2/255*l,t[s]+=f!==t[s]?(f-t[s])*w:0,t[s+1]+=f!==t[s+1]?(f-t[s+1])*w:0,t[s+2]+=f!==t[s+2]?(f-t[s+2])*w:0}},getUniformLocations:function(r,e){return{uVibrance:r.getUniformLocation(e,"uVibrance")}},sendUniformData:function(r,e){r.uniform1f(e.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Blur=u(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(r){r.webgl?(this.aspectRatio=r.sourceWidth/r.sourceHeight,r.passes++,this._setupFrameBuffer(r),this.horizontal=!0,this.applyToWebGL(r),this._swapTextures(r),this._setupFrameBuffer(r),this.horizontal=!1,this.applyToWebGL(r),this._swapTextures(r)):this.applyTo2d(r)},applyTo2d:function(r){r.imageData=this.simpleBlur(r)},simpleBlur:function(r){var e=r.filterBackend.resources,t,a,l=r.imageData.width,s=r.imageData.height;e.blurLayer1||(e.blurLayer1=i.util.createCanvasElement(),e.blurLayer2=i.util.createCanvasElement()),t=e.blurLayer1,a=e.blurLayer2,(t.width!==l||t.height!==s)&&(a.width=t.width=l,a.height=t.height=s);var f=t.getContext("2d"),p=a.getContext("2d"),w=15,A,z,Z,ot,Lt=this.blur*.06*.5;for(f.putImageData(r.imageData,0,0),p.clearRect(0,0,l,s),ot=-w;ot<=w;ot++)A=(Math.random()-.5)/4,z=ot/w,Z=Lt*z*l+A,p.globalAlpha=1-Math.abs(z),p.drawImage(t,Z,A),f.drawImage(a,0,0),p.globalAlpha=1,p.clearRect(0,0,a.width,a.height);for(ot=-w;ot<=w;ot++)A=(Math.random()-.5)/4,z=ot/w,Z=Lt*z*s+A,p.globalAlpha=1-Math.abs(z),p.drawImage(t,A,Z),f.drawImage(a,0,0),p.globalAlpha=1,p.clearRect(0,0,a.width,a.height);r.ctx.drawImage(t,0,0);var At=r.ctx.getImageData(0,0,t.width,t.height);return f.globalAlpha=1,f.clearRect(0,0,t.width,t.height),At},getUniformLocations:function(r,e){return{delta:r.getUniformLocation(e,"uDelta")}},sendUniformData:function(r,e){var t=this.chooseRightDelta();r.uniform2fv(e.delta,t)},chooseRightDelta:function(){var r=1,e=[0,0],t;return this.horizontal?this.aspectRatio>1&&(r=1/this.aspectRatio):this.aspectRatio<1&&(r=this.aspectRatio),t=r*this.blur*.12,this.horizontal?e[0]=t:e[1]=t,e}}),c.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Gamma=u(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(r){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,r)},applyTo2d:function(r){var e=r.imageData,t=e.data,a=this.gamma,l=t.length,s=1/a[0],f=1/a[1],p=1/a[2],w;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),w=0,l=256;w<l;w++)this.rVals[w]=Math.pow(w/255,s)*255,this.gVals[w]=Math.pow(w/255,f)*255,this.bVals[w]=Math.pow(w/255,p)*255;for(w=0,l=t.length;w<l;w+=4)t[w]=this.rVals[t[w]],t[w+1]=this.gVals[t[w+1]],t[w+2]=this.bVals[t[w+2]]},getUniformLocations:function(r,e){return{uGamma:r.getUniformLocation(e,"uGamma")}},sendUniformData:function(r,e){r.uniform3fv(e.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.Composed=u(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(r){this.callSuper("initialize",r),this.subFilters=this.subFilters.slice(0)},applyTo:function(r){r.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(r)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(r){return r.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(r){return!r.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,r){var e=o.subFilters||[],t=e.map(function(l){return new i.Image.filters[l.type](l)}),a=new i.Image.filters.Composed({subFilters:t});return r&&r(a),a}}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.Image.filters,u=i.util.createClass;c.HueRotation=u(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var r=this.rotation*Math.PI,e=i.util.cos(r),t=i.util.sin(r),a=1/3,l=Math.sqrt(a)*t,s=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+s/3,this.matrix[1]=a*s-l,this.matrix[2]=a*s+l,this.matrix[5]=a*s+l,this.matrix[6]=e+a*s,this.matrix[7]=a*s-l,this.matrix[10]=a*s-l,this.matrix[11]=a*s+l,this.matrix[12]=e+a*s},isNeutralState:function(r){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,r)},applyTo:function(r){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,r)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var i=b.fabric||(b.fabric={}),c=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(u),cacheProperties:i.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(r,e){this.styles=e?e.styles||{}:{},this.text=r,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var r=this.path;r&&(r.segmentsInfo=i.util.getPathSegmentsInfo(r.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var r=this._splitTextIntoLines(this.text);return this.textLines=r.lines,this._textLines=r.graphemeLines,this._unwrappedTextLines=r._unwrappedLines,this._text=r.graphemeText,r},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var r,e,t,a,l,s,f,p=0,w=this._textLines.length;p<w;p++)if(!(this.textAlign!=="justify"&&(p===w-1||this.isEndOfWrapping(p)))&&(a=0,l=this._textLines[p],e=this.getLineWidth(p),e<this.width&&(f=this.textLines[p].match(this._reSpacesAndTabs)))){t=f.length,r=(this.width-e)/t;for(var A=0,z=l.length;A<=z;A++)s=this.__charBounds[p][A],this._reSpaceAndTab.test(l[A])?(s.width+=r,s.kernedWidth+=r,s.left+=a,a+=r):s.left+=a}},isEndOfWrapping:function(r){return r===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var r=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return r.width+=e*r.zoomX,r.height+=e*r.zoomY,r},_render:function(r){var e=this.path;e&&!e.isNotVisible()&&e._render(r),this._setTextStyles(r),this._renderTextLinesBackground(r),this._renderTextDecoration(r,"underline"),this._renderText(r),this._renderTextDecoration(r,"overline"),this._renderTextDecoration(r,"linethrough")},_renderText:function(r){this.paintFirst==="stroke"?(this._renderTextStroke(r),this._renderTextFill(r)):(this._renderTextFill(r),this._renderTextStroke(r))},_setTextStyles:function(r,e,t){r.textBaseline="alphabetic",r.font=this._getFontDeclaration(e,t)},calcTextWidth:function(){for(var r=this.getLineWidth(0),e=1,t=this._textLines.length;e<t;e++){var a=this.getLineWidth(e);a>r&&(r=a)}return r},_renderTextLine:function(r,e,t,a,l,s){this._renderChars(r,e,t,a,l,s)},_renderTextLinesBackground:function(r){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var e,t,a=r.fillStyle,l,s,f=this._getLeftOffset(),p=this._getTopOffset(),w=0,A=0,z,Z,ot=this.path,Lt,At=0,se=this._textLines.length;At<se;At++){if(e=this.getHeightOfLine(At),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",At)){p+=e;continue}l=this._textLines[At],t=this._getLineLeftOffset(At),A=0,w=0,s=this.getValueOfPropertyAt(At,0,"textBackgroundColor");for(var Le=0,Tt=l.length;Le<Tt;Le++)z=this.__charBounds[At][Le],Z=this.getValueOfPropertyAt(At,Le,"textBackgroundColor"),ot?(r.save(),r.translate(z.renderLeft,z.renderTop),r.rotate(z.angle),r.fillStyle=Z,Z&&r.fillRect(-z.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),z.width,e/this.lineHeight),r.restore()):Z!==s?(Lt=f+t+w,this.direction==="rtl"&&(Lt=this.width-Lt-A),r.fillStyle=s,s&&r.fillRect(Lt,p,A,e/this.lineHeight),w=z.left,A=z.width,s=Z):A+=z.kernedWidth;Z&&!ot&&(Lt=f+t+w,this.direction==="rtl"&&(Lt=this.width-Lt-A),r.fillStyle=Z,r.fillRect(Lt,p,A,e/this.lineHeight)),p+=e}r.fillStyle=a,this._removeShadow(r)}},getFontCache:function(r){var e=r.fontFamily.toLowerCase();i.charWidthsCache[e]||(i.charWidthsCache[e]={});var t=i.charWidthsCache[e],a=r.fontStyle.toLowerCase()+"_"+(r.fontWeight+"").toLowerCase();return t[a]||(t[a]={}),t[a]},_measureChar:function(r,e,t,a){var l=this.getFontCache(e),s=this._getFontDeclaration(e),f=this._getFontDeclaration(a),p=t+r,w=s===f,A,z,Z,ot=e.fontSize/this.CACHE_FONT_SIZE,Lt;if(t&&l[t]!==void 0&&(Z=l[t]),l[r]!==void 0&&(Lt=A=l[r]),w&&l[p]!==void 0&&(z=l[p],Lt=z-Z),A===void 0||Z===void 0||z===void 0){var At=this.getMeasuringContext();this._setTextStyles(At,e,!0)}return A===void 0&&(Lt=A=At.measureText(r).width,l[r]=A),Z===void 0&&w&&t&&(Z=At.measureText(t).width,l[t]=Z),w&&z===void 0&&(z=At.measureText(p).width,l[p]=z,Lt=z-Z),{width:A*ot,kernedWidth:Lt*ot}},getHeightOfChar:function(r,e){return this.getValueOfPropertyAt(r,e,"fontSize")},measureLine:function(r){var e=this._measureLine(r);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(r){var e=0,t,a,l=this._textLines[r],s,f,p=0,w=new Array(l.length),A=0,z,Z,ot=this.path,Lt=this.pathSide==="right";for(this.__charBounds[r]=w,t=0;t<l.length;t++)a=l[t],f=this._getGraphemeBox(a,r,t,s),w[t]=f,e+=f.kernedWidth,s=a;if(w[t]={left:f?f.left+f.width:0,width:0,kernedWidth:0,height:this.fontSize},ot){switch(Z=ot.segmentsInfo[ot.segmentsInfo.length-1].length,z=i.util.getPointOnPath(ot.path,0,ot.segmentsInfo),z.x+=ot.pathOffset.x,z.y+=ot.pathOffset.y,this.textAlign){case"left":A=Lt?Z-e:0;break;case"center":A=(Z-e)/2;break;case"right":A=Lt?0:Z-e;break}for(A+=this.pathStartOffset*(Lt?-1:1),t=Lt?l.length-1:0;Lt?t>=0:t<l.length;Lt?t--:t++)f=w[t],A>Z?A%=Z:A<0&&(A+=Z),this._setGraphemeOnPath(A,f,z),A+=f.kernedWidth}return{width:e,numOfSpaces:p}},_setGraphemeOnPath:function(r,e,t){var a=r+e.kernedWidth/2,l=this.path,s=i.util.getPointOnPath(l.path,a,l.segmentsInfo);e.renderLeft=s.x-t.x,e.renderTop=s.y-t.y,e.angle=s.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(r,e,t,a,l){var s=this.getCompleteStyleDeclaration(e,t),f=a?this.getCompleteStyleDeclaration(e,t-1):{},p=this._measureChar(r,s,a,f),w=p.kernedWidth,A=p.width,z;this.charSpacing!==0&&(z=this._getWidthOfCharSpacing(),A+=z,w+=z);var Z={width:A,left:0,height:s.fontSize,kernedWidth:w,deltaY:s.deltaY};if(t>0&&!l){var ot=this.__charBounds[e][t-1];Z.left=ot.left+ot.width+p.kernedWidth-p.width}return Z},getHeightOfLine:function(r){if(this.__lineHeights[r])return this.__lineHeights[r];for(var e=this._textLines[r],t=this.getHeightOfChar(r,0),a=1,l=e.length;a<l;a++)t=Math.max(this.getHeightOfChar(r,a),t);return this.__lineHeights[r]=t*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var r,e=0,t=0,a=this._textLines.length;t<a;t++)r=this.getHeightOfLine(t),e+=t===a-1?r/this.lineHeight:r;return e},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(r,e){r.save();for(var t=0,a=this._getLeftOffset(),l=this._getTopOffset(),s=0,f=this._textLines.length;s<f;s++){var p=this.getHeightOfLine(s),w=p/this.lineHeight,A=this._getLineLeftOffset(s);this._renderTextLine(e,r,this._textLines[s],a+A,l+t+w,s),t+=p}r.restore()},_renderTextFill:function(r){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(r,"fillText")},_renderTextStroke:function(r){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(r),r.save(),this._setLineDash(r,this.strokeDashArray),r.beginPath(),this._renderTextCommon(r,"strokeText"),r.closePath(),r.restore())},_renderChars:function(r,e,t,a,l,s){var f=this.getHeightOfLine(s),p=this.textAlign.indexOf("justify")!==-1,w,A,z="",Z,ot=0,Lt,At=this.path,se=!p&&this.charSpacing===0&&this.isEmptyStyles(s)&&!At,Le=this.direction==="ltr",Tt=this.direction==="ltr"?1:-1,$t;if(e.save(),l-=f*this._fontSizeFraction/this.lineHeight,se){e.canvas.setAttribute("dir",Le?"ltr":"rtl"),e.direction=Le?"ltr":"rtl",e.textAlign=Le?"left":"right",this._renderChar(r,e,s,0,t.join(""),a,l,f),e.restore();return}for(var Y=0,ue=t.length-1;Y<=ue;Y++)Lt=Y===ue||this.charSpacing||At,z+=t[Y],Z=this.__charBounds[s][Y],ot===0?(a+=Tt*(Z.kernedWidth-Z.width),ot+=Z.width):ot+=Z.kernedWidth,p&&!Lt&&this._reSpaceAndTab.test(t[Y])&&(Lt=!0),Lt||(w=w||this.getCompleteStyleDeclaration(s,Y),A=this.getCompleteStyleDeclaration(s,Y+1),Lt=this._hasStyleChanged(w,A)),Lt&&(At?(e.save(),e.translate(Z.renderLeft,Z.renderTop),e.rotate(Z.angle),this._renderChar(r,e,s,Y,z,-ot/2,0,f),e.restore()):($t=a,e.canvas.setAttribute("dir",Le?"ltr":"rtl"),e.direction=Le?"ltr":"rtl",e.textAlign=Le?"left":"right",this._renderChar(r,e,s,Y,z,$t,l,f)),z="",w=A,a+=Tt*ot,ot=0);e.restore()},_applyPatternGradientTransformText:function(r){var e=i.util.createCanvasElement(),t,a=this.width+this.strokeWidth,l=this.height+this.strokeWidth;return e.width=a,e.height=l,t=e.getContext("2d"),t.beginPath(),t.moveTo(0,0),t.lineTo(a,0),t.lineTo(a,l),t.lineTo(0,l),t.closePath(),t.translate(a/2,l/2),t.fillStyle=r.toLive(t),this._applyPatternGradientTransform(t,r),t.fill(),t.createPattern(e,"no-repeat")},handleFiller:function(r,e,t){var a,l;return t.toLive?t.gradientUnits==="percentage"||t.gradientTransform||t.patternTransform?(a=-this.width/2,l=-this.height/2,r.translate(a,l),r[e]=this._applyPatternGradientTransformText(t),{offsetX:a,offsetY:l}):(r[e]=t.toLive(r,this),this._applyPatternGradientTransform(r,t)):(r[e]=t,{offsetX:0,offsetY:0})},_setStrokeStyles:function(r,e){return r.lineWidth=e.strokeWidth,r.lineCap=this.strokeLineCap,r.lineDashOffset=this.strokeDashOffset,r.lineJoin=this.strokeLineJoin,r.miterLimit=this.strokeMiterLimit,this.handleFiller(r,"strokeStyle",e.stroke)},_setFillStyles:function(r,e){return this.handleFiller(r,"fillStyle",e.fill)},_renderChar:function(r,e,t,a,l,s,f){var p=this._getStyleDeclaration(t,a),w=this.getCompleteStyleDeclaration(t,a),A=r==="fillText"&&w.fill,z=r==="strokeText"&&w.stroke&&w.strokeWidth,Z,ot;!z&&!A||(e.save(),A&&(Z=this._setFillStyles(e,w)),z&&(ot=this._setStrokeStyles(e,w)),e.font=this._getFontDeclaration(w),p&&p.textBackgroundColor&&this._removeShadow(e),p&&p.deltaY&&(f+=p.deltaY),A&&e.fillText(l,s-Z.offsetX,f-Z.offsetY),z&&e.strokeText(l,s-ot.offsetX,f-ot.offsetY),e.restore())},setSuperscript:function(r,e){return this._setScript(r,e,this.superscript)},setSubscript:function(r,e){return this._setScript(r,e,this.subscript)},_setScript:function(r,e,t){var a=this.get2DCursorLocation(r,!0),l=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"fontSize"),s=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"deltaY"),f={fontSize:l*t.size,deltaY:s+l*t.baseline};return this.setSelectionStyles(f,r,e),this},_hasStyleChanged:function(r,e){return r.fill!==e.fill||r.stroke!==e.stroke||r.strokeWidth!==e.strokeWidth||r.fontSize!==e.fontSize||r.fontFamily!==e.fontFamily||r.fontWeight!==e.fontWeight||r.fontStyle!==e.fontStyle||r.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(r,e){return this._hasStyleChanged(r,e)||r.overline!==e.overline||r.underline!==e.underline||r.linethrough!==e.linethrough},_getLineLeftOffset:function(r){var e=this.getLineWidth(r),t=this.width-e,a=this.textAlign,l=this.direction,s,f=0,s=this.isEndOfWrapping(r);return a==="justify"||a==="justify-center"&&!s||a==="justify-right"&&!s||a==="justify-left"&&!s?0:(a==="center"&&(f=t/2),a==="right"&&(f=t),a==="justify-center"&&(f=t/2),a==="justify-right"&&(f=t),l==="rtl"&&(f-=t),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var r=this._forceClearCache;return r||(r=this.hasStateChanged("_dimensionAffectingProps")),r&&(this.dirty=!0,this._forceClearCache=!1),r},getLineWidth:function(r){if(this.__lineWidths[r])return this.__lineWidths[r];var e,t=this._textLines[r],a;return t===""?e=0:(a=this.measureLine(r),e=a.width),this.__lineWidths[r]=e,e},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(r,e,t){var a=this._getStyleDeclaration(r,e);return a&&typeof a[t]!="undefined"?a[t]:this[t]},_renderTextDecoration:function(r,e){if(!(!this[e]&&!this.styleHas(e))){for(var t,a,l,s,f,p,w,A,z=this._getLeftOffset(),Z=this._getTopOffset(),ot,Lt,At,se,Le,Tt,$t,Y,ue=this.path,tr=this._getWidthOfCharSpacing(),Ce=this.offsets[e],ct=0,Ut=this._textLines.length;ct<Ut;ct++){if(t=this.getHeightOfLine(ct),!this[e]&&!this.styleHas(e,ct)){Z+=t;continue}w=this._textLines[ct],Tt=t/this.lineHeight,s=this._getLineLeftOffset(ct),Lt=0,At=0,A=this.getValueOfPropertyAt(ct,0,e),Y=this.getValueOfPropertyAt(ct,0,"fill"),ot=Z+Tt*(1-this._fontSizeFraction),a=this.getHeightOfChar(ct,0),f=this.getValueOfPropertyAt(ct,0,"deltaY");for(var et=0,X=w.length;et<X;et++)if(se=this.__charBounds[ct][et],Le=this.getValueOfPropertyAt(ct,et,e),$t=this.getValueOfPropertyAt(ct,et,"fill"),l=this.getHeightOfChar(ct,et),p=this.getValueOfPropertyAt(ct,et,"deltaY"),ue&&Le&&$t)r.save(),r.fillStyle=Y,r.translate(se.renderLeft,se.renderTop),r.rotate(se.angle),r.fillRect(-se.kernedWidth/2,Ce*l+p,se.kernedWidth,this.fontSize/15),r.restore();else if((Le!==A||$t!==Y||l!==a||p!==f)&&At>0){var rt=z+s+Lt;this.direction==="rtl"&&(rt=this.width-rt-At),A&&Y&&(r.fillStyle=Y,r.fillRect(rt,ot+Ce*a+f,At,this.fontSize/15)),Lt=se.left,At=se.width,A=Le,Y=$t,a=l,f=p}else At+=se.kernedWidth;var rt=z+s+Lt;this.direction==="rtl"&&(rt=this.width-rt-At),r.fillStyle=$t,Le&&$t&&r.fillRect(rt,ot+Ce*a+f,At-tr,this.fontSize/15),Z+=t}this._removeShadow(r)}},_getFontDeclaration:function(r,e){var t=r||this,a=this.fontFamily,l=i.Text.genericFonts.indexOf(a.toLowerCase())>-1,s=a===void 0||a.indexOf("'")>-1||a.indexOf(",")>-1||a.indexOf('"')>-1||l?t.fontFamily:'"'+t.fontFamily+'"';return[i.isLikelyNode?t.fontWeight:t.fontStyle,i.isLikelyNode?t.fontStyle:t.fontWeight,e?this.CACHE_FONT_SIZE+"px":t.fontSize+"px",s].join(" ")},render:function(r){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",r))},_splitTextIntoLines:function(r){for(var e=r.split(this._reNewline),t=new Array(e.length),a=[`
`],l=[],s=0;s<e.length;s++)t[s]=i.util.string.graphemeSplit(e[s]),l=l.concat(t[s],a);return l.pop(),{_unwrappedLines:t,lines:e,graphemeText:l,graphemeLines:t}},toObject:function(r){var e=u.concat(r),t=this.callSuper("toObject",e);return t.styles=c(this.styles,!0),t.path&&(t.path=this.path.toObject()),t},set:function(r,e){this.callSuper("set",r,e);var t=!1,a=!1;if(typeof r=="object")for(var l in r)l==="path"&&this.setPathInfo(),t=t||this._dimensionAffectingProps.indexOf(l)!==-1,a=a||l==="path";else t=this._dimensionAffectingProps.indexOf(r)!==-1,a=r==="path";return a&&this.setPathInfo(),t&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,r,e){if(!o)return r(null);var t=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),a=t.textAnchor||"left";if(e=i.util.object.extend(e?c(e):{},t),e.top=e.top||0,e.left=e.left||0,t.textDecoration){var l=t.textDecoration;l.indexOf("underline")!==-1&&(e.underline=!0),l.indexOf("overline")!==-1&&(e.overline=!0),l.indexOf("line-through")!==-1&&(e.linethrough=!0),delete e.textDecoration}"dx"in t&&(e.left+=t.dx),"dy"in t&&(e.top+=t.dy),"fontSize"in e||(e.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var s="";"textContent"in o?s=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(s=o.firstChild.data),s=s.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var f=e.strokeWidth;e.strokeWidth=0;var p=new i.Text(s,e),w=p.getScaledHeight()/p.height,A=(p.height+p.strokeWidth)*p.lineHeight-p.height,z=A*w,Z=p.getScaledHeight()+z,ot=0;a==="center"&&(ot=p.getScaledWidth()/2),a==="right"&&(ot=p.getScaledWidth()),p.set({left:p.left-ot,top:p.top-(Z-p.fontSize*(.07+p._fontSizeFraction))/p.lineHeight,strokeWidth:typeof f!="undefined"?f:1}),r(p)},i.Text.fromObject=function(o,r){var e=c(o),t=o.path;return delete e.path,i.Object._fromObject("Text",e,function(a){t?i.Object._fromObject("Path",t,function(l){a.set("path",l),r(a)},"path"):r(a)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(_r),function(){L.util.object.extend(L.Text.prototype,{isEmptyStyles:function(i){if(!this.styles||typeof i!="undefined"&&!this.styles[i])return!0;var c=typeof i=="undefined"?this.styles:{line:this.styles[i]};for(var u in c)for(var o in c[u])for(var r in c[u][o])return!1;return!0},styleHas:function(i,c){if(!this.styles||!i||i===""||typeof c!="undefined"&&!this.styles[c])return!1;var u=typeof c=="undefined"?this.styles:{0:this.styles[c]};for(var o in u)for(var r in u[o])if(typeof u[o][r][i]!="undefined")return!0;return!1},cleanStyle:function(i){if(!this.styles||!i||i==="")return!1;var c=this.styles,u=0,o,r,e=!0,t=0,a;for(var l in c){o=0;for(var s in c[l]){var a=c[l][s],f=a.hasOwnProperty(i);u++,f?(r?a[i]!==r&&(e=!1):r=a[i],a[i]===this[i]&&delete a[i]):e=!1,Object.keys(a).length!==0?o++:delete c[l][s]}o===0&&delete c[l]}for(var p=0;p<this._textLines.length;p++)t+=this._textLines[p].length;e&&u===t&&(this[i]=r,this.removeStyle(i))},removeStyle:function(i){if(!(!this.styles||!i||i==="")){var c=this.styles,u,o,r;for(o in c){u=c[o];for(r in u)delete u[r][i],Object.keys(u[r]).length===0&&delete u[r];Object.keys(u).length===0&&delete c[o]}}},_extendStyles:function(i,c){var u=this.get2DCursorLocation(i);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),L.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),c)},get2DCursorLocation:function(i,c){typeof i=="undefined"&&(i=this.selectionStart);for(var u=c?this._unwrappedTextLines:this._textLines,o=u.length,r=0;r<o;r++){if(i<=u[r].length)return{lineIndex:r,charIndex:i};i-=u[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:u[r-1].length<i?u[r-1].length:i}},getSelectionStyles:function(i,c,u){typeof i=="undefined"&&(i=this.selectionStart||0),typeof c=="undefined"&&(c=this.selectionEnd||i);for(var o=[],r=i;r<c;r++)o.push(this.getStyleAtPosition(r,u));return o},getStyleAtPosition:function(i,c){var u=this.get2DCursorLocation(i),o=c?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return o||{}},setSelectionStyles:function(i,c,u){typeof c=="undefined"&&(c=this.selectionStart||0),typeof u=="undefined"&&(u=this.selectionEnd||c);for(var o=c;o<u;o++)this._extendStyles(o,i);return this._forceClearCache=!0,this},_getStyleDeclaration:function(i,c){var u=this.styles&&this.styles[i];return u?u[c]:null},getCompleteStyleDeclaration:function(i,c){for(var u=this._getStyleDeclaration(i,c)||{},o={},r,e=0;e<this._styleProperties.length;e++)r=this._styleProperties[e],o[r]=typeof u[r]=="undefined"?this[r]:u[r];return o},_setStyleDeclaration:function(i,c,u){this.styles[i][c]=u},_deleteStyleDeclaration:function(i,c){delete this.styles[i][c]},_getLineStyle:function(i){return!!this.styles[i]},_setLineStyle:function(i){this.styles[i]={}},_deleteLineStyle:function(i){delete this.styles[i]}})}(),function(){function b(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}L.IText=L.util.createClass(L.Text,L.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(c,u){this.callSuper("initialize",c,u),this.initBehavior()},setSelectionStart:function(c){c=Math.max(c,0),this._updateAndFire("selectionStart",c)},setSelectionEnd:function(c){c=Math.min(c,this.text.length),this._updateAndFire("selectionEnd",c)},_updateAndFire:function(c,u){this[c]!==u&&(this._fireSelectionChanged(),this[c]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(c){this.clearContextTop(),this.callSuper("render",c),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(c){this.callSuper("_render",c)},clearContextTop:function(c){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,o=this.canvas.viewportTransform;u.save(),u.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this.transform(u),this._clearTextArea(u),c||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(c,u):this.renderSelection(c,u),u.restore()}},_clearTextArea:function(c){var u=this.width+4,o=this.height+4;c.clearRect(-u/2,-o/2,u,o)},_getCursorBoundaries:function(c){typeof c=="undefined"&&(c=this.selectionStart);var u=this._getLeftOffset(),o=this._getTopOffset(),r=this._getCursorBoundariesOffsets(c);return{left:u,top:o,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(c){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,o,r,e=0,t=0,a,l=this.get2DCursorLocation(c);r=l.charIndex,o=l.lineIndex;for(var s=0;s<o;s++)e+=this.getHeightOfLine(s);u=this._getLineLeftOffset(o);var f=this.__charBounds[o][r];return f&&(t=f.left),this.charSpacing!==0&&r===this._textLines[o].length&&(t-=this._getWidthOfCharSpacing()),a={top:e,left:u+(t>0?t:0)},this.direction==="rtl"&&(a.left*=-1),this.cursorOffsetCache=a,this.cursorOffsetCache},renderCursor:function(c,u){var o=this.get2DCursorLocation(),r=o.lineIndex,e=o.charIndex>0?o.charIndex-1:0,t=this.getValueOfPropertyAt(r,e,"fontSize"),a=this.scaleX*this.canvas.getZoom(),l=this.cursorWidth/a,s=c.topOffset,f=this.getValueOfPropertyAt(r,e,"deltaY");s+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-t*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(c,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,e,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(c.left+c.leftOffset-l/2,s+c.top+f,l,t)},renderSelection:function(c,u){for(var o=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,e=this.textAlign.indexOf("justify")!==-1,t=this.get2DCursorLocation(o),a=this.get2DCursorLocation(r),l=t.lineIndex,s=a.lineIndex,f=t.charIndex<0?0:t.charIndex,p=a.charIndex<0?0:a.charIndex,w=l;w<=s;w++){var A=this._getLineLeftOffset(w)||0,z=this.getHeightOfLine(w),Z=0,ot=0,Lt=0;if(w===l&&(ot=this.__charBounds[l][f].left),w>=l&&w<s)Lt=e&&!this.isEndOfWrapping(w)?this.width:this.getLineWidth(w)||5;else if(w===s)if(p===0)Lt=this.__charBounds[s][p].left;else{var At=this._getWidthOfCharSpacing();Lt=this.__charBounds[s][p-1].left+this.__charBounds[s][p-1].width-At}Z=z,(this.lineHeight<1||w===s&&this.lineHeight>1)&&(z/=this.lineHeight);var se=c.left+A+ot,Le=Lt-ot,Tt=z,$t=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",Tt=1,$t=z):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(se=this.width-se-Le),u.fillRect(se,c.top+c.topOffset+$t,Le,Tt),c.topOffset+=Z}},getCurrentCharFontSize:function(){var c=this._getCurrentCharIndex();return this.getValueOfPropertyAt(c.l,c.c,"fontSize")},getCurrentCharColor:function(){var c=this._getCurrentCharIndex();return this.getValueOfPropertyAt(c.l,c.c,"fill")},_getCurrentCharIndex:function(){var c=this.get2DCursorLocation(this.selectionStart,!0),u=c.charIndex>0?c.charIndex-1:0;return{l:c.lineIndex,c:u}}}),L.IText.fromObject=function(i,c){if(b(i),i.styles)for(var u in i.styles)for(var o in i.styles[u])b(i.styles[u][o]);L.Object._fromObject("IText",i,c,"text")}}(),function(){var b=L.util.object.clone;L.util.object.extend(L.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var c=this;this.on("added",function(){var u=c.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,c._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(c))})},initRemovedHandler:function(){var c=this;this.on("removed",function(){var u=c.canvas;u&&(u._iTextInstances=u._iTextInstances||[],L.util.removeFromArray(u._iTextInstances,c),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,c._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(c){c._mouseUpITextHandler=function(){c._iTextInstances&&c._iTextInstances.forEach(function(u){u.__isMousedown=!1})},c.on("mouse:up",c._mouseUpITextHandler)},_removeCanvasHandlers:function(c){c.off("mouse:up",c._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(c,u,o,r){var e;return e={isAborted:!1,abort:function(){this.isAborted=!0}},c.animate("_currentCursorOpacity",u,{duration:o,onComplete:function(){e.isAborted||c[r]()},onChange:function(){c.canvas&&c.selectionStart===c.selectionEnd&&c.renderCursorOrSelection()},abort:function(){return e.isAborted}}),e},_onTickComplete:function(){var c=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){c._currentTickCompleteState=c._animateCursor(c,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(c){var u=this,o=c?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},o)},abortCursorAnimation:function(){var c=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,c&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(c){var u=0,o=c-1;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)u++,o--;for(;/\S/.test(this._text[o])&&o>-1;)u++,o--;return c-u},findWordBoundaryRight:function(c){var u=0,o=c;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)u++,o++;for(;/\S/.test(this._text[o])&&o<this._text.length;)u++,o++;return c+u},findLineBoundaryLeft:function(c){for(var u=0,o=c-1;!/\n/.test(this._text[o])&&o>-1;)u++,o--;return c-u},findLineBoundaryRight:function(c){for(var u=0,o=c;!/\n/.test(this._text[o])&&o<this._text.length;)u++,o++;return c+u},searchWordBoundary:function(c,u){for(var o=this._text,r=this._reSpace.test(o[c])?c-1:c,e=o[r],t=L.reNonWord;!t.test(e)&&r>0&&r<o.length;)r+=u,e=o[r];return t.test(e)&&(r+=u===1?0:1),r},selectWord:function(c){c=c||this.selectionStart;var u=this.searchWordBoundary(c,-1),o=this.searchWordBoundary(c,1);this.selectionStart=u,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(c){c=c||this.selectionStart;var u=this.findLineBoundaryLeft(c),o=this.findLineBoundaryRight(c);return this.selectionStart=u,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(c){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(c),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(c){c._iTextInstances&&c._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(c){if(!(!this.__isMousedown||!this.isEditing)){var u=this.getSelectionStartFromPointer(c.e),o=this.selectionStart,r=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||o===r)&&(o===u||r===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==o||this.selectionEnd!==r)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(c,u,o){var r=o.slice(0,c),e=L.util.string.graphemeSplit(r).length;if(c===u)return{selectionStart:e,selectionEnd:e};var t=o.slice(c,u),a=L.util.string.graphemeSplit(t).length;return{selectionStart:e,selectionEnd:e+a}},fromGraphemeToStringSelection:function(c,u,o){var r=o.slice(0,c),e=r.join("").length;if(c===u)return{selectionStart:e,selectionEnd:e};var t=o.slice(c,u),a=t.join("").length;return{selectionStart:e,selectionEnd:e+a}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var c=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=c.selectionStart,this.hiddenTextarea.selectionEnd=c.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var c=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=c.selectionEnd,this.inCompositionMode||(this.selectionStart=c.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var c=this._calcTextareaPosition();this.hiddenTextarea.style.left=c.left,this.hiddenTextarea.style.top=c.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var c=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(c),o=this.get2DCursorLocation(c),r=o.lineIndex,e=o.charIndex,t=this.getValueOfPropertyAt(r,e,"fontSize")*this.lineHeight,a=u.leftOffset,l=this.calcTransformMatrix(),s={x:u.left+a,y:u.top+u.topOffset+t},f=this.canvas.getRetinaScaling(),p=this.canvas.upperCanvasEl,w=p.width/f,A=p.height/f,z=w-t,Z=A-t,ot=p.clientWidth/w,Lt=p.clientHeight/A;return s=L.util.transformPoint(s,l),s=L.util.transformPoint(s,this.canvas.viewportTransform),s.x*=ot,s.y*=Lt,s.x<0&&(s.x=0),s.x>z&&(s.x=z),s.y<0&&(s.y=0),s.y>Z&&(s.y=Z),s.x+=this.canvas._offset.left,s.y+=this.canvas._offset.top,{left:s.x+"px",top:s.y+"px",fontSize:t+"px",charHeight:t}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var c=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),c&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),c&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var c in this.styles)this._textLines[c]||delete this.styles[c]},removeStyleFromTo:function(c,u){var o=this.get2DCursorLocation(c,!0),r=this.get2DCursorLocation(u,!0),e=o.lineIndex,t=o.charIndex,a=r.lineIndex,l=r.charIndex,s,f;if(e!==a){if(this.styles[e])for(s=t;s<this._unwrappedTextLines[e].length;s++)delete this.styles[e][s];if(this.styles[a])for(s=l;s<this._unwrappedTextLines[a].length;s++)f=this.styles[a][s],f&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+s-l]=f);for(s=e+1;s<=a;s++)delete this.styles[s];this.shiftLineStyles(a,e-a)}else if(this.styles[e]){f=this.styles[e];var p=l-t,w,A;for(s=t;s<l;s++)delete f[s];for(A in this.styles[e])w=parseInt(A,10),w>=l&&(f[w-p]=f[A],delete f[A])}},shiftLineStyles:function(c,u){var o=b(this.styles);for(var r in this.styles){var e=parseInt(r,10);e>c&&(this.styles[e+u]=o[e],o[e-u]||delete this.styles[e])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(c,u,o,r){var e,t={},a=!1,l=this._unwrappedTextLines[c].length===u;o||(o=1),this.shiftLineStyles(c,o),this.styles[c]&&(e=this.styles[c][u===0?u:u-1]);for(var s in this.styles[c]){var f=parseInt(s,10);f>=u&&(a=!0,t[f-u]=this.styles[c][s],l&&u===0||delete this.styles[c][s])}var p=!1;for(a&&!l&&(this.styles[c+o]=t,p=!0),p&&o--;o>0;)r&&r[o-1]?this.styles[c+o]={0:b(r[o-1])}:e?this.styles[c+o]={0:b(e)}:delete this.styles[c+o],o--;this._forceClearCache=!0},insertCharStyleObject:function(c,u,o,r){this.styles||(this.styles={});var e=this.styles[c],t=e?b(e):{};o||(o=1);for(var a in t){var l=parseInt(a,10);l>=u&&(e[l+o]=t[l],t[l-o]||delete e[l])}if(this._forceClearCache=!0,r){for(;o--;)!Object.keys(r[o]).length||(this.styles[c]||(this.styles[c]={}),this.styles[c][u+o]=b(r[o]));return}if(!!e)for(var s=e[u?u-1:1];s&&o--;)this.styles[c][u+o]=b(s)},insertNewStyleBlock:function(c,u,o){for(var r=this.get2DCursorLocation(u,!0),e=[0],t=0,a=0;a<c.length;a++)c[a]===`
`?(t++,e[t]=0):e[t]++;e[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,e[0],o),o=o&&o.slice(e[0]+1)),t&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+e[0],t);for(var a=1;a<t;a++)e[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,e[a],o):o&&(this.styles[r.lineIndex+a][0]=o[0]),o=o&&o.slice(e[a]+1);e[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,e[a],o)},setSelectionStartEndWithShift:function(c,u,o){o<=c?(u===c?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=c),this.selectionStart=o):o>c&&o<u?this._selectionDirection==="right"?this.selectionEnd=o:this.selectionStart=o:(u===c?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=o)},setSelectionInBoundaries:function(){var c=this.text.length;this.selectionStart>c?this.selectionStart=c:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>c?this.selectionEnd=c:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),L.util.object.extend(L.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(i){if(!!this.canvas){this.__newClickTime=+new Date;var c=i.pointer;this.isTripleClick(c)&&(this.fire("tripleclick",i),this._stopEvent(i.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=c,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(i){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===i.x&&this.__lastPointer.y===i.y},_stopEvent:function(i){i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(i){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(i.e))},tripleClickHandler:function(i){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(i.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(i){!this.canvas||!this.editable||i.e.button&&i.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(i.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(i){!this.canvas||!this.editable||i.e.button&&i.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(i){if(this.__isMousedown=!1,!(!this.editable||this.group||i.transform&&i.transform.actionPerformed||i.e.button&&i.e.button!==1)){if(this.canvas){var c=this.canvas._activeObject;if(c&&c!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(i.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(i){var c=this.getSelectionStartFromPointer(i),u=this.selectionStart,o=this.selectionEnd;i.shiftKey?this.setSelectionStartEndWithShift(u,o,c):(this.selectionStart=c,this.selectionEnd=c),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(i){for(var c=this.getLocalPointer(i),u=0,o=0,r=0,e=0,t=0,a,l,s=0,f=this._textLines.length;s<f&&r<=c.y;s++)r+=this.getHeightOfLine(s)*this.scaleY,t=s,s>0&&(e+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));a=this._getLineLeftOffset(t),o=a*this.scaleX,l=this._textLines[t],this.direction==="rtl"&&(c.x=this.width*this.scaleX-c.x+o);for(var p=0,w=l.length;p<w&&(u=o,o+=this.__charBounds[t][p].kernedWidth*this.scaleX,o<=c.x);p++)e++;return this._getNewSelectionStartFromOffset(c,u,o,e,w)},_getNewSelectionStartFromOffset:function(i,c,u,o,r){var e=i.x-c,t=u-i.x,a=t>e||t<0?0:1,l=o+a;return this.flipX&&(l=r-l),l>this._text.length&&(l=this._text.length),l}}),L.util.object.extend(L.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=L.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var i=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+i.top+"; left: "+i.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+i.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):L.document.body.appendChild(this.hiddenTextarea),L.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),L.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),L.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),L.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),L.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),L.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),L.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),L.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),L.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(L.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(i){if(!!this.isEditing){var c=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(i.keyCode in c)this[c[i.keyCode]](i);else if(i.keyCode in this.ctrlKeysMapDown&&(i.ctrlKey||i.metaKey))this[this.ctrlKeysMapDown[i.keyCode]](i);else return;i.stopImmediatePropagation(),i.preventDefault(),i.keyCode>=33&&i.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(i){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(i.keyCode in this.ctrlKeysMapUp&&(i.ctrlKey||i.metaKey))this[this.ctrlKeysMapUp[i.keyCode]](i);else return;i.stopImmediatePropagation(),i.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(i){var c=this.fromPaste;if(this.fromPaste=!1,i&&i.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,r=u.length,e,t,a=r-o,l=this.selectionStart,s=this.selectionEnd,f=l!==s,p,w,A;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var z=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),Z=l>z.selectionStart;f?(e=this._text.slice(l,s),a+=s-l):r<o&&(Z?e=this._text.slice(s+a,s):e=this._text.slice(l,l-a)),t=u.slice(z.selectionEnd-a,z.selectionEnd),e&&e.length&&(t.length&&(p=this.getSelectionStyles(l,l+1,!1),p=t.map(function(){return p[0]})),f?(w=l,A=s):Z?(w=s-e.length,A=s):(w=s,A=s+e.length),this.removeStyleFromTo(w,A)),t.length&&(c&&t.join("")===L.copiedText&&!L.disableStyleCopyPaste&&(p=L.copiedTextStyle),this.insertNewStyleBlock(t,l,p)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(i){this.compositionStart=i.target.selectionStart,this.compositionEnd=i.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(L.copiedText=this.getSelectedText(),L.disableStyleCopyPaste?L.copiedTextStyle=null:L.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(i){return i&&i.clipboardData||L.window.clipboardData},_getWidthBeforeCursor:function(i,c){var u=this._getLineLeftOffset(i),o;return c>0&&(o=this.__charBounds[i][c-1],u+=o.left+o.width),u},getDownCursorOffset:function(i,c){var u=this._getSelectionForOffset(i,c),o=this.get2DCursorLocation(u),r=o.lineIndex;if(r===this._textLines.length-1||i.metaKey||i.keyCode===34)return this._text.length-u;var e=o.charIndex,t=this._getWidthBeforeCursor(r,e),a=this._getIndexOnLine(r+1,t),l=this._textLines[r].slice(e);return l.length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(i,c){return i.shiftKey&&this.selectionStart!==this.selectionEnd&&c?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(i,c){var u=this._getSelectionForOffset(i,c),o=this.get2DCursorLocation(u),r=o.lineIndex;if(r===0||i.metaKey||i.keyCode===33)return-u;var e=o.charIndex,t=this._getWidthBeforeCursor(r,e),a=this._getIndexOnLine(r-1,t),l=this._textLines[r].slice(0,e),s=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-l.length+(1-s)},_getIndexOnLine:function(i,c){for(var u=this._textLines[i],o=this._getLineLeftOffset(i),r=o,e=0,t,a,l=0,s=u.length;l<s;l++)if(t=this.__charBounds[i][l].width,r+=t,r>c){a=!0;var f=r-t,p=r,w=Math.abs(f-c),A=Math.abs(p-c);e=A<w?l:l-1;break}return a||(e=u.length-1),e},moveCursorDown:function(i){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",i)},moveCursorUp:function(i){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",i)},_moveCursorUpOrDown:function(i,c){var u="get"+i+"CursorOffset",o=this[u](c,this._selectionDirection==="right");c.shiftKey?this.moveCursorWithShift(o):this.moveCursorWithoutShift(o),o!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(i){var c=this._selectionDirection==="left"?this.selectionStart+i:this.selectionEnd+i;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,c),i!==0},moveCursorWithoutShift:function(i){return i<0?(this.selectionStart+=i,this.selectionEnd=this.selectionStart):(this.selectionEnd+=i,this.selectionStart=this.selectionEnd),i!==0},moveCursorLeft:function(i){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",i)},_move:function(i,c,u){var o;if(i.altKey)o=this["findWordBoundary"+u](this[c]);else if(i.metaKey||i.keyCode===35||i.keyCode===36)o=this["findLineBoundary"+u](this[c]);else return this[c]+=u==="Left"?-1:1,!0;if(typeof o!==void 0&&this[c]!==o)return this[c]=o,!0},_moveLeft:function(i,c){return this._move(i,c,"Left")},_moveRight:function(i,c){return this._move(i,c,"Right")},moveCursorLeftWithoutShift:function(i){var c=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(c=this._moveLeft(i,"selectionStart")),this.selectionEnd=this.selectionStart,c},moveCursorLeftWithShift:function(i){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(i,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(i,"selectionStart")},moveCursorRight:function(i){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",i)},_moveCursorLeftOrRight:function(i,c){var u="moveCursor"+i+"With";this._currentCursorOpacity=1,c.shiftKey?u+="Shift":u+="outShift",this[u](c)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(i){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(i,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(i,"selectionEnd")},moveCursorRightWithoutShift:function(i){var c=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(c=this._moveRight(i,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,c},removeChars:function(i,c){typeof c=="undefined"&&(c=i+1),this.removeStyleFromTo(i,c),this._text.splice(i,c-i),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(i,c,u,o){typeof o=="undefined"&&(o=u),o>u&&this.removeStyleFromTo(u,o);var r=L.util.string.graphemeSplit(i);this.insertNewStyleBlock(r,u,c),this._text=[].concat(this._text.slice(0,u),r,this._text.slice(o)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var b=L.util.toFixed,i=/  +/g;L.util.object.extend(L.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),o=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(o)},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var o=!0,r=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",r?'text-decoration="'+r+'" ':"",'style="',this.getSvgStyles(o),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,o){var r=[],e=[],t=u,a;this._setSVGBg(e);for(var l=0,s=this._textLines.length;l<s;l++)a=this._getLineLeftOffset(l),(this.textBackgroundColor||this.styleHas("textBackgroundColor",l))&&this._setSVGTextLineBg(e,l,o+a,t),this._setSVGTextLineText(r,l,o+a,t),t+=this.getHeightOfLine(l);return{textSpans:r,textBgRects:e}},_createTextCharSpan:function(u,o,r,e){var t=u!==u.trim()||u.match(i),a=this.getSvgSpanStyles(o,t),l=a?'style="'+a+'"':"",s=o.deltaY,f="",p=L.Object.NUM_FRACTION_DIGITS;return s&&(f=' dy="'+b(s,p)+'" '),['<tspan x="',b(r,p),'" y="',b(e,p),'" ',f,l,">",L.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,o,r,e){var t=this.getHeightOfLine(o),a=this.textAlign.indexOf("justify")!==-1,l,s,f="",p,w,A=0,z=this._textLines[o],Z;e+=t*(1-this._fontSizeFraction)/this.lineHeight;for(var ot=0,Lt=z.length-1;ot<=Lt;ot++)Z=ot===Lt||this.charSpacing,f+=z[ot],p=this.__charBounds[o][ot],A===0?(r+=p.kernedWidth-p.width,A+=p.width):A+=p.kernedWidth,a&&!Z&&this._reSpaceAndTab.test(z[ot])&&(Z=!0),Z||(l=l||this.getCompleteStyleDeclaration(o,ot),s=this.getCompleteStyleDeclaration(o,ot+1),Z=this._hasStyleChangedForSvg(l,s)),Z&&(w=this._getStyleDeclaration(o,ot)||{},u.push(this._createTextCharSpan(f,w,r,e)),f="",l=s,r+=A,A=0)},_pushTextBgRect:function(u,o,r,e,t,a){var l=L.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(o),' x="',b(r,l),'" y="',b(e,l),'" width="',b(t,l),'" height="',b(a,l),`"></rect>
`)},_setSVGTextLineBg:function(u,o,r,e){for(var t=this._textLines[o],a=this.getHeightOfLine(o)/this.lineHeight,l=0,s=0,f,p,w=this.getValueOfPropertyAt(o,0,"textBackgroundColor"),A=0,z=t.length;A<z;A++)f=this.__charBounds[o][A],p=this.getValueOfPropertyAt(o,A,"textBackgroundColor"),p!==w?(w&&this._pushTextBgRect(u,w,r+s,e,l,a),s=f.left,l=f.width,w=p):l+=f.kernedWidth;p&&this._pushTextBgRect(u,p,r+s,e,l,a)},_getFillAttributes:function(u){var o=u&&typeof u=="string"?new L.Color(u):"";return!o||!o.getSource()||o.getAlpha()===1?'fill="'+u+'"':'opacity="'+o.getAlpha()+'" fill="'+o.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var o=0,r=0,e=0;e<u;e++)o+=this.getHeightOfLine(e);return r=this.getHeightOfLine(e),{lineTop:o,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var o=L.Object.prototype.getSvgStyles.call(this,u);return o+" white-space: pre;"}})}(),function(b){"use strict";var i=b.fabric||(b.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var o=0,r=0,e=0,t={},a=0;a<u.graphemeLines.length;a++)u.graphemeText[e]===`
`&&a>0?(r=0,e++,o++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[e])&&a>0&&(r++,e++),t[a]={line:o,offset:r},e+=u.graphemeLines[a].length,r+=u.graphemeLines[a].length;return t},styleHas:function(u,o){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[o];r&&(o=r.line)}return i.Text.prototype.styleHas.call(this,u,o)},isEmptyStyles:function(u){if(!this.styles)return!0;var o=0,r=u+1,e,t,a=!1,l=this._styleMap[u],s=this._styleMap[u+1];l&&(u=l.line,o=l.offset),s&&(r=s.line,a=r===u,e=s.offset),t=typeof u=="undefined"?this.styles:{line:this.styles[u]};for(var f in t)for(var p in t[f])if(p>=o&&(!a||p<e))for(var w in t[f][p])return!1;return!0},_getStyleDeclaration:function(u,o){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[u];if(!r)return null;u=r.line,o=r.offset+o}return this.callSuper("_getStyleDeclaration",u,o)},_setStyleDeclaration:function(u,o,r){var e=this._styleMap[u];u=e.line,o=e.offset+o,this.styles[u][o]=r},_deleteStyleDeclaration:function(u,o){var r=this._styleMap[u];u=r.line,o=r.offset+o,delete this.styles[u][o]},_getLineStyle:function(u){var o=this._styleMap[u];return!!this.styles[o.line]},_setLineStyle:function(u){var o=this._styleMap[u];this.styles[o.line]={}},_wrapText:function(u,o){var r=[],e;for(this.isWrapping=!0,e=0;e<u.length;e++)r=r.concat(this._wrapLine(u[e],e,o));return this.isWrapping=!1,r},_measureWord:function(u,o,r){var e=0,t,a=!0;r=r||0;for(var l=0,s=u.length;l<s;l++){var f=this._getGraphemeBox(u[l],o,l+r,t,a);e+=f.kernedWidth,t=u[l]}return e},_wrapLine:function(u,o,r,e){var t=0,a=this.splitByGrapheme,l=[],s=[],f=a?i.util.string.graphemeSplit(u):u.split(this._wordJoiners),p="",w=0,A=a?"":" ",z=0,Z=0,ot=0,Lt=!0,At=this._getWidthOfCharSpacing(),e=e||0;f.length===0&&f.push([]),r-=e;for(var se=0;se<f.length;se++)p=a?f[se]:i.util.string.graphemeSplit(f[se]),z=this._measureWord(p,o,w),w+=p.length,t+=Z+z-At,t>r&&!Lt?(l.push(s),s=[],t=z,Lt=!0):t+=At,!Lt&&!a&&s.push(A),s=s.concat(p),Z=a?0:this._measureWord([A],o,w),w++,Lt=!1,z>ot&&(ot=z);return se&&l.push(s),ot+e>this.dynamicMinWidth&&(this.dynamicMinWidth=ot-At+e),l},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u){return this.splitByGrapheme?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var o=i.Text.prototype._splitTextIntoLines.call(this,u),r=this._wrapText(o.lines,this.width),e=new Array(r.length),t=0;t<r.length;t++)e[t]=r[t].join("");return o.lines=e,o.graphemeLines=r,o},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var o in this._styleMap)this._textLines[o]&&(u[this._styleMap[o].line]=1);for(var o in this.styles)u[o]||delete this.styles[o]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),i.Textbox.fromObject=function(c,u){return i.Object._fromObject("Textbox",c,u,"text")}}(_r),function(){var b=L.controlsUtils,i=b.scaleSkewCursorStyleHandler,c=b.scaleCursorStyleHandler,u=b.scalingEqually,o=b.scalingYOrSkewingX,r=b.scalingXOrSkewingY,e=b.scaleOrSkewActionName,t=L.Object.prototype.controls;if(t.ml=new L.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:r,getActionName:e}),t.mr=new L.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:r,getActionName:e}),t.mb=new L.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:e}),t.mt=new L.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:e}),t.tl=new L.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:u}),t.tr=new L.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:u}),t.bl=new L.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:u}),t.br=new L.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:u}),t.mtr=new L.Control({x:0,y:-.5,actionHandler:b.rotationWithSnapping,cursorStyleHandler:b.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),L.Textbox){var a=L.Textbox.prototype.controls={};a.mtr=t.mtr,a.tr=t.tr,a.br=t.br,a.tl=t.tl,a.bl=t.bl,a.mt=t.mt,a.mb=t.mb,a.mr=new L.Control({x:.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),a.ml=new L.Control({x:-.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()}).call(this,Ne("tjlA").Buffer)},fu2T:function(un,_r,Ne){"use strict";var Ke=Ne("EFp3"),L=Ne.n(Ke),le=Ne("3dVZ"),W=Ne.n(le)},gK9i:function(un,_r,Ne){"use strict";var Ke=Ne("wx14"),L=Ne("rePB"),le=Ne("q1tI"),W=Ne("KQm4"),Ht=Ne("1OyB"),wt=Ne("vuIU"),G=Ne("Ji7U"),b=Ne("LK+K"),i=Ne("U8pU"),c=Ne("TSYQ"),u=Ne.n(c),o=Ne("Gytx"),r=Ne.n(o),e=Ne("Zm9Q"),t=Ne("8XRh"),a=Ne("ODXe"),l=le.forwardRef(function(Ut,et){var X,rt=Ut.prefixCls,M=Ut.forceRender,Q=Ut.className,ut=Ut.style,ht=Ut.children,Wt=Ut.isActive,bt=Ut.role,Bt=le.useState(Wt||M),oe=Object(a.a)(Bt,2),re=oe[0],ae=oe[1];return le.useEffect(function(){(M||Wt)&&ae(!0)},[M,Wt]),re?le.createElement("div",{ref:et,className:u()("".concat(rt,"-content"),(X={},Object(L.a)(X,"".concat(rt,"-content-active"),Wt),Object(L.a)(X,"".concat(rt,"-content-inactive"),!Wt),X),Q),style:ut,role:bt},le.createElement("div",{className:"".concat(rt,"-content-box")},ht)):null});l.displayName="PanelContent";var s=l,f=function(Ut){Object(G.a)(X,Ut);var et=Object(b.a)(X);function X(){var rt;Object(Ht.a)(this,X);for(var M=arguments.length,Q=new Array(M),ut=0;ut<M;ut++)Q[ut]=arguments[ut];return rt=et.call.apply(et,[this].concat(Q)),rt.handleItemClick=function(){var ht=rt.props,Wt=ht.onItemClick,bt=ht.panelKey;typeof Wt=="function"&&Wt(bt)},rt.handleKeyPress=function(ht){(ht.key==="Enter"||ht.keyCode===13||ht.which===13)&&rt.handleItemClick()},rt}return Object(wt.a)(X,[{key:"shouldComponentUpdate",value:function(M){return!r()(this.props,M)}},{key:"render",value:function(){var M,Q,ut=this,ht=this.props,Wt=ht.className,bt=ht.id,Bt=ht.style,oe=ht.prefixCls,re=ht.header,ae=ht.headerClass,qt=ht.children,I=ht.isActive,Pt=ht.showArrow,Dt=ht.destroyInactivePanel,F=ht.accordion,x=ht.forceRender,O=ht.openMotion,$=ht.expandIcon,it=ht.extra,pt=ht.collapsible,jt=pt==="disabled",ke=u()("".concat(oe,"-header"),(M={},Object(L.a)(M,ae,ae),Object(L.a)(M,"".concat(oe,"-header-collapsible-only"),pt==="header"),M)),Te=u()((Q={},Object(L.a)(Q,"".concat(oe,"-item"),!0),Object(L.a)(Q,"".concat(oe,"-item-active"),I),Object(L.a)(Q,"".concat(oe,"-item-disabled"),jt),Q),Wt),De=le.createElement("i",{className:"arrow"});Pt&&typeof $=="function"&&(De=$(this.props));var gr=it!=null&&typeof it!="boolean";return le.createElement("div",{className:Te,style:Bt,id:bt},le.createElement("div",{className:ke,onClick:function(){return pt!=="header"&&ut.handleItemClick()},role:F?"tab":"button",tabIndex:jt?-1:0,"aria-expanded":I,onKeyPress:this.handleKeyPress},Pt&&De,pt==="header"?le.createElement("span",{onClick:this.handleItemClick,className:"".concat(oe,"-header-text")},re):re,gr&&le.createElement("div",{className:"".concat(oe,"-extra")},it)),le.createElement(t.default,Object(Ke.a)({visible:I,leavedClassName:"".concat(oe,"-content-hidden")},O,{forceRender:x,removeOnLeave:Dt}),function(er,Hr){var Jr=er.className,on=er.style;return le.createElement(s,{ref:Hr,prefixCls:oe,className:Jr,style:on,isActive:I,forceRender:x,role:F?"tabpanel":null},qt)}))}}]),X}(le.Component);f.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var p=f;function w(Ut){var et=Ut;if(!Array.isArray(et)){var X=Object(i.a)(et);et=X==="number"||X==="string"?[et]:[]}return et.map(function(rt){return String(rt)})}var A=function(Ut){Object(G.a)(X,Ut);var et=Object(b.a)(X);function X(rt){var M;Object(Ht.a)(this,X),M=et.call(this,rt),M.onClickItem=function(Wt){var bt=M.state.activeKey;if(M.props.accordion)bt=bt[0]===Wt?[]:[Wt];else{bt=Object(W.a)(bt);var Bt=bt.indexOf(Wt),oe=Bt>-1;oe?bt.splice(Bt,1):bt.push(Wt)}M.setActiveKey(bt)},M.getNewChild=function(Wt,bt){if(!Wt)return null;var Bt=M.state.activeKey,oe=M.props,re=oe.prefixCls,ae=oe.openMotion,qt=oe.accordion,I=oe.destroyInactivePanel,Pt=oe.expandIcon,Dt=oe.collapsible,F=Wt.key||String(bt),x=Wt.props,O=x.header,$=x.headerClass,it=x.destroyInactivePanel,pt=x.collapsible,jt=!1;qt?jt=Bt[0]===F:jt=Bt.indexOf(F)>-1;var ke=pt!=null?pt:Dt,Te={key:F,panelKey:F,header:O,headerClass:$,isActive:jt,prefixCls:re,destroyInactivePanel:it!=null?it:I,openMotion:ae,accordion:qt,children:Wt.props.children,onItemClick:ke==="disabled"?null:M.onClickItem,expandIcon:Pt,collapsible:ke};return typeof Wt.type=="string"?Wt:le.cloneElement(Wt,Te)},M.getItems=function(){var Wt=M.props.children;return Object(e.a)(Wt).map(M.getNewChild)},M.setActiveKey=function(Wt){"activeKey"in M.props||M.setState({activeKey:Wt}),M.props.onChange(M.props.accordion?Wt[0]:Wt)};var Q=rt.activeKey,ut=rt.defaultActiveKey,ht=ut;return"activeKey"in rt&&(ht=Q),M.state={activeKey:w(ht)},M}return Object(wt.a)(X,[{key:"shouldComponentUpdate",value:function(M,Q){return!r()(this.props,M)||!r()(this.state,Q)}},{key:"render",value:function(){var M,Q=this.props,ut=Q.prefixCls,ht=Q.className,Wt=Q.style,bt=Q.accordion,Bt=u()((M={},Object(L.a)(M,ut,!0),Object(L.a)(M,ht,!!ht),M));return le.createElement("div",{className:Bt,style:Wt,role:bt?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(M){var Q={};return"activeKey"in M&&(Q.activeKey=w(M.activeKey)),Q}}]),X}(le.Component);A.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},A.Panel=p;var z=A,Z=z,ot=z.Panel,Lt=Ne("UESt"),At=Ne("bT9E"),se=Ne("H84U"),Le=Ne("uaoM"),Tt=function(et){Object(Le.a)(!("disabled"in et),"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');var X=le.useContext(se.b),rt=X.getPrefixCls,M=et.prefixCls,Q=et.className,ut=Q===void 0?"":Q,ht=et.showArrow,Wt=ht===void 0?!0:ht,bt=rt("collapse",M),Bt=u()(Object(L.a)({},"".concat(bt,"-no-arrow"),!Wt),ut);return le.createElement(Z.Panel,Object(Ke.a)({},et,{prefixCls:bt,className:Bt}))},$t=Tt,Y=Ne("EXcs"),ue=Ne("0n0R"),tr=function(et){var X,rt=le.useContext(se.b),M=rt.getPrefixCls,Q=rt.direction,ut=et.prefixCls,ht=et.className,Wt=ht===void 0?"":ht,bt=et.bordered,Bt=bt===void 0?!0:bt,oe=et.ghost,re=M("collapse",ut),ae=function(){var O=et.expandIconPosition;return O!==void 0?O:Q==="rtl"?"right":"left"},qt=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=et.expandIcon,it=$?$(O):le.createElement(Lt.a,{rotate:O.isActive?90:void 0});return le.createElement("div",null,Object(ue.a)(it,function(){return{className:u()(it.props.className,"".concat(re,"-arrow"))}}))},I=ae(),Pt=u()((X={},Object(L.a)(X,"".concat(re,"-borderless"),!Bt),Object(L.a)(X,"".concat(re,"-icon-position-").concat(I),!0),Object(L.a)(X,"".concat(re,"-rtl"),Q==="rtl"),Object(L.a)(X,"".concat(re,"-ghost"),!!oe),X),Wt),Dt=Object(Ke.a)(Object(Ke.a)({},Y.a),{motionAppear:!1,leavedClassName:"".concat(re,"-content-hidden")}),F=function(){var O=et.children;return Object(e.a)(O).map(function($,it){var pt;if((pt=$.props)===null||pt===void 0?void 0:pt.disabled){var jt=$.key||String(it),ke=$.props,Te=ke.disabled,De=ke.collapsible,gr=Object(Ke.a)(Object(Ke.a)({},Object(At.a)($.props,["disabled"])),{key:jt,collapsible:De!=null?De:Te?"disabled":void 0});return Object(ue.a)($,gr)}return $})};return le.createElement(Z,Object(Ke.a)({openMotion:Dt},et,{expandIcon:qt,prefixCls:re,className:Pt}),F())};tr.Panel=$t;var Ce=tr,ct=_r.a=Ce},hPry:function(un,_r,Ne){"use strict";un.exports=Ne("cbZj")},i680:function(un,_r,Ne){"use strict";(function(Ke){Ne.d(_r,"a",function(){return tr}),Ne.d(_r,"b",function(){return ct}),Ne.d(_r,"c",function(){return Ut}),Ne.d(_r,"e",function(){return et});var L=Ne("cDf5"),le=Ne.n(L),W=Ne("crp1");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var Ht=function(){return typeof window!="undefined"?window:typeof Ke!="undefined"?Ke:typeof self!="undefined"?self:this}();function wt(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var G={log:wt,warn:function(g){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):wt.call(null,arguments))},error:function(g){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):wt(g))}};function b(k,g,v){var _=new XMLHttpRequest;_.open("GET",k),_.responseType="blob",_.onload=function(){r(_.response,g,v)},_.onerror=function(){G.error("could not download file")},_.send()}function i(k){var g=new XMLHttpRequest;g.open("HEAD",k,!1);try{g.send()}catch(v){}return g.status>=200&&g.status<=299}function c(k){try{k.dispatchEvent(new MouseEvent("click"))}catch(v){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(g)}}var u,o,r=Ht.saveAs||((typeof window=="undefined"?"undefined":le()(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(k,g,v){var _=Ht.URL||Ht.webkitURL,C=document.createElement("a");g=g||k.name||"download",C.download=g,C.rel="noopener",typeof k=="string"?(C.href=k,C.origin!==location.origin?i(C.href)?b(k,g,v):c(C,C.target="_blank"):c(C)):(C.href=_.createObjectURL(k),setTimeout(function(){_.revokeObjectURL(C.href)},4e4),setTimeout(function(){c(C)},0))}:"msSaveOrOpenBlob"in navigator?function(k,g,v){if(g=g||k.name||"download",typeof k=="string")if(i(k))b(k,g,v);else{var _=document.createElement("a");_.href=k,_.target="_blank",setTimeout(function(){c(_)})}else navigator.msSaveOrOpenBlob(function(C,S){return S===void 0?S={autoBom:!1}:le()(S)!=="object"&&(G.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(C.type)?new Blob([String.fromCharCode(65279),C],{type:C.type}):C}(k,v),g)}:function(k,g,v,_){if((_=_||open("","_blank"))&&(_.document.title=_.document.body.innerText="downloading..."),typeof k=="string")return b(k,g,v);var C=k.type==="application/octet-stream",S=/constructor/i.test(Ht.HTMLElement)||Ht.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||C&&S)&&(typeof FileReader=="undefined"?"undefined":le()(FileReader))==="object"){var j=new FileReader;j.onloadend=function(){var _t=j.result;_t=P?_t:_t.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=_t:location=_t,_=null},j.readAsDataURL(k)}else{var N=Ht.URL||Ht.webkitURL,J=N.createObjectURL(k);_?_.location=J:location.href=J,_=null,setTimeout(function(){N.revokeObjectURL(J)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function e(k){var g;k=k||"",this.ok=!1,k.charAt(0)=="#"&&(k=k.substr(1,6)),k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[k=(k=k.replace(/ /g,"")).toLowerCase()]||k;for(var v=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(N){return[parseInt(N[1]),parseInt(N[2]),parseInt(N[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(N){return[parseInt(N[1],16),parseInt(N[2],16),parseInt(N[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(N){return[parseInt(N[1]+N[1],16),parseInt(N[2]+N[2],16),parseInt(N[3]+N[3],16)]}}],_=0;_<v.length;_++){var C=v[_].re,S=v[_].process,P=C.exec(k);P&&(g=S(P),this.r=g[0],this.g=g[1],this.b=g[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var j=this.r.toString(16),N=this.g.toString(16),J=this.b.toString(16);return j.length==1&&(j="0"+j),N.length==1&&(N="0"+N),J.length==1&&(J="0"+J),"#"+j+N+J}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t(k,g){var v=k[0],_=k[1],C=k[2],S=k[3];v=l(v,_,C,S,g[0],7,-680876936),S=l(S,v,_,C,g[1],12,-389564586),C=l(C,S,v,_,g[2],17,606105819),_=l(_,C,S,v,g[3],22,-1044525330),v=l(v,_,C,S,g[4],7,-176418897),S=l(S,v,_,C,g[5],12,1200080426),C=l(C,S,v,_,g[6],17,-1473231341),_=l(_,C,S,v,g[7],22,-45705983),v=l(v,_,C,S,g[8],7,1770035416),S=l(S,v,_,C,g[9],12,-1958414417),C=l(C,S,v,_,g[10],17,-42063),_=l(_,C,S,v,g[11],22,-1990404162),v=l(v,_,C,S,g[12],7,1804603682),S=l(S,v,_,C,g[13],12,-40341101),C=l(C,S,v,_,g[14],17,-1502002290),v=s(v,_=l(_,C,S,v,g[15],22,1236535329),C,S,g[1],5,-165796510),S=s(S,v,_,C,g[6],9,-1069501632),C=s(C,S,v,_,g[11],14,643717713),_=s(_,C,S,v,g[0],20,-373897302),v=s(v,_,C,S,g[5],5,-701558691),S=s(S,v,_,C,g[10],9,38016083),C=s(C,S,v,_,g[15],14,-660478335),_=s(_,C,S,v,g[4],20,-405537848),v=s(v,_,C,S,g[9],5,568446438),S=s(S,v,_,C,g[14],9,-1019803690),C=s(C,S,v,_,g[3],14,-187363961),_=s(_,C,S,v,g[8],20,1163531501),v=s(v,_,C,S,g[13],5,-1444681467),S=s(S,v,_,C,g[2],9,-51403784),C=s(C,S,v,_,g[7],14,1735328473),v=f(v,_=s(_,C,S,v,g[12],20,-1926607734),C,S,g[5],4,-378558),S=f(S,v,_,C,g[8],11,-2022574463),C=f(C,S,v,_,g[11],16,1839030562),_=f(_,C,S,v,g[14],23,-35309556),v=f(v,_,C,S,g[1],4,-1530992060),S=f(S,v,_,C,g[4],11,1272893353),C=f(C,S,v,_,g[7],16,-155497632),_=f(_,C,S,v,g[10],23,-1094730640),v=f(v,_,C,S,g[13],4,681279174),S=f(S,v,_,C,g[0],11,-358537222),C=f(C,S,v,_,g[3],16,-722521979),_=f(_,C,S,v,g[6],23,76029189),v=f(v,_,C,S,g[9],4,-640364487),S=f(S,v,_,C,g[12],11,-421815835),C=f(C,S,v,_,g[15],16,530742520),v=p(v,_=f(_,C,S,v,g[2],23,-995338651),C,S,g[0],6,-198630844),S=p(S,v,_,C,g[7],10,1126891415),C=p(C,S,v,_,g[14],15,-1416354905),_=p(_,C,S,v,g[5],21,-57434055),v=p(v,_,C,S,g[12],6,1700485571),S=p(S,v,_,C,g[3],10,-1894986606),C=p(C,S,v,_,g[10],15,-1051523),_=p(_,C,S,v,g[1],21,-2054922799),v=p(v,_,C,S,g[8],6,1873313359),S=p(S,v,_,C,g[15],10,-30611744),C=p(C,S,v,_,g[6],15,-1560198380),_=p(_,C,S,v,g[13],21,1309151649),v=p(v,_,C,S,g[4],6,-145523070),S=p(S,v,_,C,g[11],10,-1120210379),C=p(C,S,v,_,g[2],15,718787259),_=p(_,C,S,v,g[9],21,-343485551),k[0]=se(v,k[0]),k[1]=se(_,k[1]),k[2]=se(C,k[2]),k[3]=se(S,k[3])}function a(k,g,v,_,C,S){return g=se(se(g,k),se(_,S)),se(g<<C|g>>>32-C,v)}function l(k,g,v,_,C,S,P){return a(g&v|~g&_,k,g,C,S,P)}function s(k,g,v,_,C,S,P){return a(g&_|v&~_,k,g,C,S,P)}function f(k,g,v,_,C,S,P){return a(g^v^_,k,g,C,S,P)}function p(k,g,v,_,C,S,P){return a(v^(g|~_),k,g,C,S,P)}function w(k){var g,v=k.length,_=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=k.length;g+=64)t(_,A(k.substring(g-64,g)));k=k.substring(g-64);var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<k.length;g++)C[g>>2]|=k.charCodeAt(g)<<(g%4<<3);if(C[g>>2]|=128<<(g%4<<3),g>55)for(t(_,C),g=0;g<16;g++)C[g]=0;return C[14]=8*v,t(_,C),_}function A(k){var g,v=[];for(g=0;g<64;g+=4)v[g>>2]=k.charCodeAt(g)+(k.charCodeAt(g+1)<<8)+(k.charCodeAt(g+2)<<16)+(k.charCodeAt(g+3)<<24);return v}u=Ht.atob.bind(Ht),o=Ht.btoa.bind(Ht);var z="0123456789abcdef".split("");function Z(k){for(var g="",v=0;v<4;v++)g+=z[k>>8*v+4&15]+z[k>>8*v&15];return g}function ot(k){return String.fromCharCode((255&k)>>0,(65280&k)>>8,(16711680&k)>>16,(4278190080&k)>>24)}function Lt(k){return w(k).map(ot).join("")}var At=function(k){for(var g=0;g<k.length;g++)k[g]=Z(k[g]);return k.join("")}(w("hello"))!="5d41402abc4b2a76b9719d911017c592";function se(k,g){if(At){var v=(65535&k)+(65535&g);return(k>>16)+(g>>16)+(v>>16)<<16|65535&v}return k+g&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Le(k,g){var v,_,C,S;if(k!==v){for(var P=(C=k,S=1+(256/k.length>>0),new Array(S+1).join(C)),j=[],N=0;N<256;N++)j[N]=N;var J=0;for(N=0;N<256;N++){var _t=j[N];J=(J+_t+P.charCodeAt(N))%256,j[N]=j[J],j[J]=_t}v=k,_=j}else j=_;var vt=g.length,kt=0,V=0,Vt="";for(N=0;N<vt;N++)V=(V+(_t=j[kt=(kt+1)%256]))%256,j[kt]=j[V],j[V]=_t,P=j[(j[kt]+j[V])%256],Vt+=String.fromCharCode(g.charCodeAt(N)^P);return Vt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Tt={print:4,modify:8,copy:16,"annot-forms":32};function $t(k,g,v,_){this.v=1,this.r=2;var C=192;k.forEach(function(j){if(Tt.perm!==void 0)throw new Error("Invalid permission: "+j);C+=Tt[j]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var S=(g+this.padding).substr(0,32),P=(v+this.padding).substr(0,32);this.O=this.processOwnerPassword(S,P),this.P=-(1+(255^C)),this.encryptionKey=Lt(S+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_)).substr(0,5),this.U=Le(this.encryptionKey,this.padding)}function Y(k){if(/[^\u0000-\u00ff]/.test(k))throw new Error("Invalid PDF Name Object: "+k+", Only accept ASCII characters.");for(var g="",v=k.length,_=0;_<v;_++){var C=k.charCodeAt(_);C<33||C===35||C===37||C===40||C===41||C===47||C===60||C===62||C===91||C===93||C===123||C===125||C>126?g+="#"+("0"+C.toString(16)).slice(-2):g+=k[_]}return g}function ue(k){if(le()(k)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var g={};this.subscribe=function(v,_,C){if(C=C||!1,typeof v!="string"||typeof _!="function"||typeof C!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");g.hasOwnProperty(v)||(g[v]={});var S=Math.random().toString(35);return g[v][S]=[_,!!C],S},this.unsubscribe=function(v){for(var _ in g)if(g[_][v])return delete g[_][v],Object.keys(g[_]).length===0&&delete g[_],!0;return!1},this.publish=function(v){if(g.hasOwnProperty(v)){var _=Array.prototype.slice.call(arguments,1),C=[];for(var S in g[v]){var P=g[v][S];try{P[0].apply(k,_)}catch(j){Ht.console&&G.error("jsPDF PubSub Error",j.message,j)}P[1]&&C.push(S)}C.length&&C.forEach(this.unsubscribe)}},this.getTopics=function(){return g}}function tr(k){if(!(this instanceof tr))return new tr(k);var g="opacity,stroke-opacity".split(",");for(var v in k)k.hasOwnProperty(v)&&g.indexOf(v)>=0&&(this[v]=k[v]);this.id="",this.objectNumber=-1}function Ce(k,g){this.gState=k,this.matrix=g,this.id="",this.objectNumber=-1}function ct(k,g,v,_,C){if(!(this instanceof ct))return new ct(k,g,v,_,C);this.type=k==="axial"?2:3,this.coords=g,this.colors=v,Ce.call(this,_,C)}function Ut(k,g,v,_,C){if(!(this instanceof Ut))return new Ut(k,g,v,_,C);this.boundingBox=k,this.xStep=g,this.yStep=v,this.stream="",this.cloneIndex=0,Ce.call(this,_,C)}function et(k){var g,v=typeof arguments[0]=="string"?arguments[0]:"p",_=arguments[1],C=arguments[2],S=arguments[3],P=[],j=1,N=16,J="S",_t=null;le()(k=k||{})==="object"&&(v=k.orientation,_=k.unit||_,C=k.format||C,S=k.compress||k.compressPdf||S,(_t=k.encryption||null)!==null&&(_t.userPassword=_t.userPassword||"",_t.ownerPassword=_t.ownerPassword||"",_t.userPermissions=_t.userPermissions||[]),j=typeof k.userUnit=="number"?Math.abs(k.userUnit):1,k.precision!==void 0&&(g=k.precision),k.floatPrecision!==void 0&&(N=k.floatPrecision),J=k.defaultPathOperation||"S"),P=k.filters||(S===!0?["FlateEncode"]:P),_=_||"mm",v=(""+(v||"P")).toLowerCase();var vt=k.putOnlyUsedFonts||!1,kt={},V={internal:{},__private__:{}};V.__private__.PubSub=ue;var Vt="1.3",It=V.__private__.getPdfVersion=function(){return Vt};V.__private__.setPdfVersion=function(D){Vt=D};var Jt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};V.__private__.getPageFormats=function(){return Jt};var Mt=V.__private__.getPageFormat=function(D){return Jt[D]};C=C||"a4";var gt={COMPAT:"compat",ADVANCED:"advanced"},xe=gt.COMPAT;function Be(){this.saveGraphicsState(),Yt(new rn(Nr,0,0,-Nr,0,rs()*Nr).toString()+" cm"),this.setFontSize(this.getFontSize()/Nr),J="n",xe=gt.ADVANCED}function $e(){this.restoreGraphicsState(),J="S",xe=gt.COMPAT}var fr=V.__private__.combineFontStyleAndFontWeight=function(D,U){if(D=="bold"&&U=="normal"||D=="bold"&&U==400||D=="normal"&&U=="italic"||D=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(D=U==400||U==="normal"?D==="italic"?"italic":"normal":U!=700&&U!=="bold"||D!=="normal"?(U==700?"bold":U)+""+D:"bold"),D};V.advancedAPI=function(D){var U=xe===gt.COMPAT;return U&&Be.call(this),typeof D!="function"||(D(this),U&&$e.call(this)),this},V.compatAPI=function(D){var U=xe===gt.ADVANCED;return U&&$e.call(this),typeof D!="function"||(D(this),U&&Be.call(this)),this},V.isAdvancedAPI=function(){return xe===gt.ADVANCED};var Ge,mr=function(U){if(xe!==gt.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},fe=V.roundToPrecision=V.__private__.roundToPrecision=function(D,U){var Ft=g||U;if(isNaN(D)||isNaN(Ft))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ft).replace(/0+$/,"")};Ge=V.hpf=V.__private__.hpf=typeof N=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(D,N)}:N==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(D,16)};var Xe=V.f2=V.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return fe(D,2)},ie=V.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return fe(D,3)},zt=V.scale=V.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return xe===gt.COMPAT?D*Nr:xe===gt.ADVANCED?D:void 0},ce=function(U){return xe===gt.COMPAT?rs()-U:xe===gt.ADVANCED?U:void 0},he=function(U){return zt(ce(U))};V.__private__.setPrecision=V.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(g=parseInt(D,10))};var Je,Ve="00000000000000000000000000000000",pr=V.__private__.getFileId=function(){return Ve},Re=V.__private__.setFileId=function(D){return Ve=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():Ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),_t!==null&&(Ti=new $t(_t.userPermissions,_t.userPassword,_t.ownerPassword,Ve)),Ve};V.setFileId=function(D){return Re(D),this},V.getFileId=function(){return pr()};var wr=V.__private__.convertDateToPDFDate=function(D){var U=D.getTimezoneOffset(),Ft=U<0?"+":"-",ee=Math.floor(Math.abs(U/60)),Oe=Math.abs(U%60),Fe=[Ft,Qt(ee),"'",Qt(Oe),"'"].join("");return["D:",D.getFullYear(),Qt(D.getMonth()+1),Qt(D.getDate()),Qt(D.getHours()),Qt(D.getMinutes()),Qt(D.getSeconds()),Fe].join("")},Qe=V.__private__.convertPDFDateToDate=function(D){var U=parseInt(D.substr(2,4),10),Ft=parseInt(D.substr(6,2),10)-1,ee=parseInt(D.substr(8,2),10),Oe=parseInt(D.substr(10,2),10),Fe=parseInt(D.substr(12,2),10),yr=parseInt(D.substr(14,2),10);return new Date(U,Ft,ee,Oe,Fe,yr,0)},Ar=V.__private__.setCreationDate=function(D){var U;if(D===void 0&&(D=new Date),D instanceof Date)U=wr(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=D}return Je=U},te=V.__private__.getCreationDate=function(D){var U=Je;return D==="jsDate"&&(U=Qe(Je)),U};V.setCreationDate=function(D){return Ar(D),this},V.getCreationDate=function(D){return te(D)};var xt,Qt=V.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ve=V.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Ae=0,Ie=[],ar=[],We=0,Ye=[],vr=[],Ur=!1,Pr=ar,en=function(){Ae=0,We=0,ar=[],Ie=[],Ye=[],Fs=Ai(),Ia=Ai()};V.__private__.setCustomOutputDestination=function(D){Ur=!0,Pr=D};var Yr=function(U){Ur||(Pr=U)};V.__private__.resetCustomOutputDestination=function(){Ur=!1,Pr=ar};var Yt=V.__private__.out=function(D){return D=D.toString(),We+=D.length+1,Pr.push(D),Pr},sr=V.__private__.write=function(D){return Yt(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},Er=V.__private__.getArrayBuffer=function(D){for(var U=D.length,Ft=new ArrayBuffer(U),ee=new Uint8Array(Ft);U--;)ee[U]=D.charCodeAt(U);return Ft},ir=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];V.__private__.getStandardFonts=function(){return ir};var Fr=k.fontSize||16;V.__private__.setFontSize=V.setFontSize=function(D){return Fr=xe===gt.ADVANCED?D/Nr:D,this};var Tr,jr=V.__private__.getFontSize=V.getFontSize=function(){return xe===gt.COMPAT?Fr:Fr*Nr},Wr=k.R2L||!1;V.__private__.setR2L=V.setR2L=function(D){return Wr=D,this},V.__private__.getR2L=V.getR2L=function(){return Wr};var Xr,In=V.__private__.setZoomMode=function(D){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Tr=D;else if(isNaN(D)){if(U.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Tr=D}else Tr=parseInt(D,10)};V.__private__.getZoomMode=function(){return Tr};var tn,Pn=V.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Xr=D};V.__private__.getPageMode=function(){return Xr};var Gn=V.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');tn=D};V.__private__.getLayoutMode=function(){return tn},V.__private__.setDisplayMode=V.setDisplayMode=function(D,U,Ft){return In(D),Gn(U),Pn(Ft),this};var Vr={title:"",subject:"",author:"",keywords:"",creator:""};V.__private__.getDocumentProperty=function(D){if(Object.keys(Vr).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vr[D]},V.__private__.getDocumentProperties=function(){return Vr},V.__private__.setDocumentProperties=V.setProperties=V.setDocumentProperties=function(D){for(var U in Vr)Vr.hasOwnProperty(U)&&D[U]&&(Vr[U]=D[U]);return this},V.__private__.setDocumentProperty=function(D,U){if(Object.keys(Vr).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vr[D]=U};var dn,Nr,ji,Kn,Ci,bn={},pi={},va=[],jn={},Va={},li={},gi={},na=null,Qn=0,cn=[],Un=new ue(V),eo=k.hotfixes||[],zi={},Ka={},Za=[],rn=function D(U,Ft,ee,Oe,Fe,yr){if(!(this instanceof D))return new D(U,Ft,ee,Oe,Fe,yr);isNaN(U)&&(U=1),isNaN(Ft)&&(Ft=0),isNaN(ee)&&(ee=0),isNaN(Oe)&&(Oe=1),isNaN(Fe)&&(Fe=0),isNaN(yr)&&(yr=0),this._matrix=[U,Ft,ee,Oe,Fe,yr]};Object.defineProperty(rn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(rn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(rn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(rn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(rn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(rn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(rn.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(rn.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(rn.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(rn.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(rn.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(rn.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(rn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rn.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ge).join(D)},rn.prototype.multiply=function(D){var U=D.sx*this.sx+D.shy*this.shx,Ft=D.sx*this.shy+D.shy*this.sy,ee=D.shx*this.sx+D.sy*this.shx,Oe=D.shx*this.shy+D.sy*this.sy,Fe=D.tx*this.sx+D.ty*this.shx+this.tx,yr=D.tx*this.shy+D.ty*this.sy+this.ty;return new rn(U,Ft,ee,Oe,Fe,yr)},rn.prototype.decompose=function(){var D=this.sx,U=this.shy,Ft=this.shx,ee=this.sy,Oe=this.tx,Fe=this.ty,yr=Math.sqrt(D*D+U*U),Cr=(D/=yr)*Ft+(U/=yr)*ee;Ft-=D*Cr,ee-=U*Cr;var qr=Math.sqrt(Ft*Ft+ee*ee);return Cr/=qr,D*(ee/=qr)<U*(Ft/=qr)&&(D=-D,U=-U,Cr=-Cr,yr=-yr),{scale:new rn(yr,0,0,qr,0,0),translate:new rn(1,0,0,1,Oe,Fe),rotate:new rn(D,U,-U,D,0,0),skew:new rn(1,0,Cr,1,0,0)}},rn.prototype.toString=function(D){return this.join(" ")},rn.prototype.inversed=function(){var D=this.sx,U=this.shy,Ft=this.shx,ee=this.sy,Oe=this.tx,Fe=this.ty,yr=1/(D*ee-U*Ft),Cr=ee*yr,qr=-U*yr,Zr=-Ft*yr,gn=D*yr;return new rn(Cr,qr,Zr,gn,-Cr*Oe-Zr*Fe,-qr*Oe-gn*Fe)},rn.prototype.applyToPoint=function(D){var U=D.x*this.sx+D.y*this.shx+this.tx,Ft=D.x*this.shy+D.y*this.sy+this.ty;return new Ro(U,Ft)},rn.prototype.applyToRectangle=function(D){var U=this.applyToPoint(D),Ft=this.applyToPoint(new Ro(D.x+D.w,D.y+D.h));return new es(U.x,U.y,Ft.x-U.x,Ft.y-U.y)},rn.prototype.clone=function(){var D=this.sx,U=this.shy,Ft=this.shx,ee=this.sy,Oe=this.tx,Fe=this.ty;return new rn(D,U,Ft,ee,Oe,Fe)},V.Matrix=rn;var Zi=V.matrixMult=function(D,U){return U.multiply(D)},ya=new rn(1,0,0,1,0,0);V.unitMatrix=V.identityMatrix=ya;var cs=function(U,Ft){if(!Va[U]){var ee=(Ft instanceof ct?"Sh":"P")+(Object.keys(jn).length+1).toString(10);Ft.id=ee,Va[U]=ee,jn[ee]=Ft,Un.publish("addPattern",Ft)}};V.ShadingPattern=ct,V.TilingPattern=Ut,V.addShadingPattern=function(D,U){return mr("addShadingPattern()"),cs(D,U),this},V.beginTilingPattern=function(D){mr("beginTilingPattern()"),ul(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},V.endTilingPattern=function(D,U){mr("endTilingPattern()"),U.stream=vr[xt].join(`
`),cs(D,U),Un.publish("endTilingPattern",U),Za.pop().restore()};var ii=V.__private__.newObject=function(){var D=Ai();return ai(D,!0),D},Ai=V.__private__.newObjectDeferred=function(){return Ae++,Ie[Ae]=function(){return We},Ae},ai=function(U,Ft){return Ft=typeof Ft=="boolean"&&Ft,Ie[U]=We,Ft&&Yt(U+" 0 obj"),U},Ja=V.__private__.newAdditionalObject=function(){var D={objId:Ai(),content:""};return Ye.push(D),D},Fs=Ai(),Ia=Ai(),$a=V.__private__.decodeColorString=function(D){var U=D.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var Ft=parseFloat(U[0]);U=[Ft,Ft,Ft,"r"]}for(var ee="#",Oe=0;Oe<3;Oe++)ee+=("0"+Math.floor(255*parseFloat(U[Oe])).toString(16)).slice(-2);return ee},Ui=V.__private__.encodeColorString=function(D){var U;typeof D=="string"&&(D={ch1:D});var Ft=D.ch1,ee=D.ch2,Oe=D.ch3,Fe=D.ch4,yr=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ft=="string"&&Ft.charAt(0)!=="#"){var Cr=new e(Ft);if(Cr.ok)Ft=Cr.toHex();else if(!/^\d*\.?\d*$/.test(Ft))throw new Error('Invalid color "'+Ft+'" passed to jsPDF.encodeColorString.')}if(typeof Ft=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ft)&&(Ft="#"+Ft[1]+Ft[1]+Ft[2]+Ft[2]+Ft[3]+Ft[3]),typeof Ft=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ft)){var qr=parseInt(Ft.substr(1),16);Ft=qr>>16&255,ee=qr>>8&255,Oe=255&qr}if(ee===void 0||Fe===void 0&&Ft===ee&&ee===Oe)if(typeof Ft=="string")U=Ft+" "+yr[0];else switch(D.precision){case 2:U=Xe(Ft/255)+" "+yr[0];break;case 3:default:U=ie(Ft/255)+" "+yr[0]}else if(Fe===void 0||le()(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return U=["1.","1.","1.",yr[1]].join(" ");if(typeof Ft=="string")U=[Ft,ee,Oe,yr[1]].join(" ");else switch(D.precision){case 2:U=[Xe(Ft/255),Xe(ee/255),Xe(Oe/255),yr[1]].join(" ");break;default:case 3:U=[ie(Ft/255),ie(ee/255),ie(Oe/255),yr[1]].join(" ")}}else if(typeof Ft=="string")U=[Ft,ee,Oe,Fe,yr[2]].join(" ");else switch(D.precision){case 2:U=[Xe(Ft),Xe(ee),Xe(Oe),Xe(Fe),yr[2]].join(" ");break;case 3:default:U=[ie(Ft),ie(ee),ie(Oe),ie(Fe),yr[2]].join(" ")}return U},mi=V.__private__.getFilters=function(){return P},ia=V.__private__.putStream=function(D){var U=(D=D||{}).data||"",Ft=D.filters||mi(),ee=D.alreadyAppliedFilters||[],Oe=D.addLength1||!1,Fe=U.length,yr=D.objectId,Cr=function(_i){return _i};if(_t!==null&&yr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");_t!==null&&(Cr=Ti.encryptor(yr,0));var qr={};Ft===!0&&(Ft=["FlateEncode"]);var Zr=D.additionalKeyValues||[],gn=(qr=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(U,Ft):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(qr.data.length!==0&&(Zr.push({key:"Length",value:qr.data.length}),Oe===!0&&Zr.push({key:"Length1",value:Fe})),gn.length!=0)if(gn.split("/").length-1==1)Zr.push({key:"Filter",value:gn});else{Zr.push({key:"Filter",value:"["+gn+"]"});for(var Mn=0;Mn<Zr.length;Mn+=1)if(Zr[Mn].key==="DecodeParms"){for(var Tn=[],oi=0;oi<qr.reverseChain.split("/").length-1;oi+=1)Tn.push("null");Tn.push(Zr[Mn].value),Zr[Mn].value="["+Tn.join(" ")+"]"}}Yt("<<");for(var ri=0;ri<Zr.length;ri++)Yt("/"+Zr[ri].key+" "+Zr[ri].value);Yt(">>"),qr.data.length!==0&&(Yt("stream"),Yt(Cr(qr.data)),Yt("endstream"))},ro=V.__private__.putPage=function(D){var U=D.number,Ft=D.data,ee=D.objId,Oe=D.contentsObjId;ai(ee,!0),Yt("<</Type /Page"),Yt("/Parent "+D.rootDictionaryObjId+" 0 R"),Yt("/Resources "+D.resourceDictionaryObjId+" 0 R"),Yt("/MediaBox ["+parseFloat(Ge(D.mediaBox.bottomLeftX))+" "+parseFloat(Ge(D.mediaBox.bottomLeftY))+" "+Ge(D.mediaBox.topRightX)+" "+Ge(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&Yt("/CropBox ["+Ge(D.cropBox.bottomLeftX)+" "+Ge(D.cropBox.bottomLeftY)+" "+Ge(D.cropBox.topRightX)+" "+Ge(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&Yt("/BleedBox ["+Ge(D.bleedBox.bottomLeftX)+" "+Ge(D.bleedBox.bottomLeftY)+" "+Ge(D.bleedBox.topRightX)+" "+Ge(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&Yt("/TrimBox ["+Ge(D.trimBox.bottomLeftX)+" "+Ge(D.trimBox.bottomLeftY)+" "+Ge(D.trimBox.topRightX)+" "+Ge(D.trimBox.topRightY)+"]"),D.artBox!==null&&Yt("/ArtBox ["+Ge(D.artBox.bottomLeftX)+" "+Ge(D.artBox.bottomLeftY)+" "+Ge(D.artBox.topRightX)+" "+Ge(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&Yt("/UserUnit "+D.userUnit),Un.publish("putPage",{objId:ee,pageContext:cn[U],pageNumber:U,page:Ft}),Yt("/Contents "+Oe+" 0 R"),Yt(">>"),Yt("endobj");var Fe=Ft.join(`
`);return xe===gt.ADVANCED&&(Fe+=`
Q`),ai(Oe,!0),ia({data:Fe,filters:mi(),objectId:Oe}),Yt("endobj"),ee},Qa=V.__private__.putPages=function(){var D,U,Ft=[];for(D=1;D<=Qn;D++)cn[D].objId=Ai(),cn[D].contentsObjId=Ai();for(D=1;D<=Qn;D++)Ft.push(ro({number:D,data:vr[D],objId:cn[D].objId,contentsObjId:cn[D].contentsObjId,mediaBox:cn[D].mediaBox,cropBox:cn[D].cropBox,bleedBox:cn[D].bleedBox,trimBox:cn[D].trimBox,artBox:cn[D].artBox,userUnit:cn[D].userUnit,rootDictionaryObjId:Fs,resourceDictionaryObjId:Ia}));ai(Fs,!0),Yt("<</Type /Pages");var ee="/Kids [";for(U=0;U<Qn;U++)ee+=Ft[U]+" 0 R ";Yt(ee+"]"),Yt("/Count "+Qn),Yt(">>"),Yt("endobj"),Un.publish("postPutPages")},no=function(U){Un.publish("putFont",{font:U,out:Yt,newObject:ii,putStream:ia}),U.isAlreadyPutted!==!0&&(U.objectNumber=ii(),Yt("<<"),Yt("/Type /Font"),Yt("/BaseFont /"+Y(U.postScriptName)),Yt("/Subtype /Type1"),typeof U.encoding=="string"&&Yt("/Encoding /"+U.encoding),Yt("/FirstChar 32"),Yt("/LastChar 255"),Yt(">>"),Yt("endobj"))},Po=function(){for(var U in bn)bn.hasOwnProperty(U)&&(vt===!1||vt===!0&&kt.hasOwnProperty(U))&&no(bn[U])},Oo=function(U){U.objectNumber=ii();var Ft=[];Ft.push({key:"Type",value:"/XObject"}),Ft.push({key:"Subtype",value:"/Form"}),Ft.push({key:"BBox",value:"["+[Ge(U.x),Ge(U.y),Ge(U.x+U.width),Ge(U.y+U.height)].join(" ")+"]"}),Ft.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var ee=U.pages[1].join(`
`);ia({data:ee,additionalKeyValues:Ft,objectId:U.objectNumber}),Yt("endobj")},fs=function(){for(var U in zi)zi.hasOwnProperty(U)&&Oo(zi[U])},_e=function(U,Ft){var ee,Oe=[],Fe=1/(Ft-1);for(ee=0;ee<1;ee+=Fe)Oe.push(ee);if(Oe.push(1),U[0].offset!=0){var yr={offset:0,color:U[0].color};U.unshift(yr)}if(U[U.length-1].offset!=1){var Cr={offset:1,color:U[U.length-1].color};U.push(Cr)}for(var qr="",Zr=0,gn=0;gn<Oe.length;gn++){for(ee=Oe[gn];ee>U[Zr+1].offset;)Zr++;var Mn=U[Zr].offset,Tn=(ee-Mn)/(U[Zr+1].offset-Mn),oi=U[Zr].color,ri=U[Zr+1].color;qr+=ve(Math.round((1-Tn)*oi[0]+Tn*ri[0]).toString(16))+ve(Math.round((1-Tn)*oi[1]+Tn*ri[1]).toString(16))+ve(Math.round((1-Tn)*oi[2]+Tn*ri[2]).toString(16))}return qr.trim()},Ze=function(U,Ft){Ft||(Ft=21);var ee=ii(),Oe=_e(U.colors,Ft),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+Ft+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ia({data:Oe,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),Yt("endobj"),U.objectNumber=ii(),Yt("<< /ShadingType "+U.type),Yt("/ColorSpace /DeviceRGB");var yr="/Coords ["+Ge(parseFloat(U.coords[0]))+" "+Ge(parseFloat(U.coords[1]))+" ";U.type===2?yr+=Ge(parseFloat(U.coords[2]))+" "+Ge(parseFloat(U.coords[3])):yr+=Ge(parseFloat(U.coords[2]))+" "+Ge(parseFloat(U.coords[3]))+" "+Ge(parseFloat(U.coords[4]))+" "+Ge(parseFloat(U.coords[5])),Yt(yr+="]"),U.matrix&&Yt("/Matrix ["+U.matrix.toString()+"]"),Yt("/Function "+ee+" 0 R"),Yt("/Extend [true true]"),Yt(">>"),Yt("endobj")},ze=function(U,Ft){var ee=Ai(),Oe=ii();Ft.push({resourcesOid:ee,objectOid:Oe}),U.objectNumber=Oe;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+U.boundingBox.map(Ge).join(" ")+"]"}),Fe.push({key:"XStep",value:Ge(U.xStep)}),Fe.push({key:"YStep",value:Ge(U.yStep)}),Fe.push({key:"Resources",value:ee+" 0 R"}),U.matrix&&Fe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),ia({data:U.stream,additionalKeyValues:Fe,objectId:U.objectNumber}),Yt("endobj")},zr=function(U){var Ft;for(Ft in jn)jn.hasOwnProperty(Ft)&&(jn[Ft]instanceof ct?Ze(jn[Ft]):jn[Ft]instanceof Ut&&ze(jn[Ft],U))},nn=function(U){for(var Ft in U.objectNumber=ii(),Yt("<<"),U)switch(Ft){case"opacity":Yt("/ca "+Xe(U[Ft]));break;case"stroke-opacity":Yt("/CA "+Xe(U[Ft]))}Yt(">>"),Yt("endobj")},Nn=function(){var U;for(U in li)li.hasOwnProperty(U)&&nn(li[U])},ti=function(){for(var U in Yt("/XObject <<"),zi)zi.hasOwnProperty(U)&&zi[U].objectNumber>=0&&Yt("/"+U+" "+zi[U].objectNumber+" 0 R");Un.publish("putXobjectDict"),Yt(">>")},On=function(){Ti.oid=ii(),Yt("<<"),Yt("/Filter /Standard"),Yt("/V "+Ti.v),Yt("/R "+Ti.r),Yt("/U <"+Ti.toHexString(Ti.U)+">"),Yt("/O <"+Ti.toHexString(Ti.O)+">"),Yt("/P "+Ti.P),Yt(">>"),Yt("endobj")},rl=function(){for(var U in Yt("/Font <<"),bn)bn.hasOwnProperty(U)&&(vt===!1||vt===!0&&kt.hasOwnProperty(U))&&Yt("/"+U+" "+bn[U].objectNumber+" 0 R");Yt(">>")},kl=function(){if(Object.keys(jn).length>0){for(var U in Yt("/Shading <<"),jn)jn.hasOwnProperty(U)&&jn[U]instanceof ct&&jn[U].objectNumber>=0&&Yt("/"+U+" "+jn[U].objectNumber+" 0 R");Un.publish("putShadingPatternDict"),Yt(">>")}},Ji=function(U){if(Object.keys(jn).length>0){for(var Ft in Yt("/Pattern <<"),jn)jn.hasOwnProperty(Ft)&&jn[Ft]instanceof V.TilingPattern&&jn[Ft].objectNumber>=0&&jn[Ft].objectNumber<U&&Yt("/"+Ft+" "+jn[Ft].objectNumber+" 0 R");Un.publish("putTilingPatternDict"),Yt(">>")}},$i=function(){if(Object.keys(li).length>0){var U;for(U in Yt("/ExtGState <<"),li)li.hasOwnProperty(U)&&li[U].objectNumber>=0&&Yt("/"+U+" "+li[U].objectNumber+" 0 R");Un.publish("putGStateDict"),Yt(">>")}},io=function(U){ai(U.resourcesOid,!0),Yt("<<"),Yt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rl(),kl(),Ji(U.objectOid),$i(),ti(),Yt(">>"),Yt("endobj")},Is=function(){var U=[];Po(),Nn(),fs(),zr(U),Un.publish("putResources"),U.forEach(io),io({resourcesOid:Ia,objectOid:Number.MAX_SAFE_INTEGER}),Un.publish("postPutResources")},ui=function(){Un.publish("putAdditionalObjects");for(var U=0;U<Ye.length;U++){var Ft=Ye[U];ai(Ft.objId,!0),Yt(Ft.content),Yt("endobj")}Un.publish("postPutAdditionalObjects")},Ns=function(U){pi[U.fontName]=pi[U.fontName]||{},pi[U.fontName][U.fontStyle]=U.id},Rn=function(U,Ft,ee,Oe,Fe){var yr={id:"F"+(Object.keys(bn).length+1).toString(10),postScriptName:U,fontName:Ft,fontStyle:ee,encoding:Oe,isStandardFont:Fe||!1,metadata:{}};return Un.publish("addFont",{font:yr,instance:this}),bn[yr.id]=yr,Ns(yr),yr.id},fu=function(U){for(var Ft=0,ee=ir.length;Ft<ee;Ft++){var Oe=Rn.call(this,U[Ft][0],U[Ft][1],U[Ft][2],ir[Ft][3],!0);vt===!1&&(kt[Oe]=!0);var Fe=U[Ft][0].split("-");Ns({id:Oe,fontName:Fe[0],fontStyle:Fe[1]||""})}Un.publish("addFonts",{fonts:bn,dictionary:pi})},nl=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(Oe){var Ft=Oe.stack||"";~Ft.indexOf(" at ")&&(Ft=Ft.split(" at ")[1]);var ee="Error in function "+Ft.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!Ht.console)throw new Error(ee);Ht.console.error(ee,Oe),Ht.alert&&alert(ee)}},U.foo.bar=U,U.foo},Lo=function(U,Ft){var ee,Oe,Fe,yr,Cr,qr,Zr,gn,Mn;if(Fe=(Ft=Ft||{}).sourceEncoding||"Unicode",Cr=Ft.outputEncoding,(Ft.autoencode||Cr)&&bn[dn].metadata&&bn[dn].metadata[Fe]&&bn[dn].metadata[Fe].encoding&&(yr=bn[dn].metadata[Fe].encoding,!Cr&&bn[dn].encoding&&(Cr=bn[dn].encoding),!Cr&&yr.codePages&&(Cr=yr.codePages[0]),typeof Cr=="string"&&(Cr=yr[Cr]),Cr)){for(Zr=!1,qr=[],ee=0,Oe=U.length;ee<Oe;ee++)(gn=Cr[U.charCodeAt(ee)])?qr.push(String.fromCharCode(gn)):qr.push(U[ee]),qr[ee].charCodeAt(0)>>8&&(Zr=!0);U=qr.join("")}for(ee=U.length;Zr===void 0&&ee!==0;)U.charCodeAt(ee-1)>>8&&(Zr=!0),ee--;if(!Zr)return U;for(qr=Ft.noBOM?[]:[254,255],ee=0,Oe=U.length;ee<Oe;ee++){if((Mn=(gn=U.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qr.push(Mn),qr.push(gn-(Mn<<8))}return String.fromCharCode.apply(void 0,qr)},Mi=V.__private__.pdfEscape=V.pdfEscape=function(D,U){return Lo(D,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ao=V.__private__.beginPage=function(D){vr[++Qn]=[],cn[Qn]={objId:0,contentsObjId:0,userUnit:Number(j),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Na(Qn),Yr(vr[xt])},ds=function(U,Ft){var ee,Oe,Fe;switch(v=Ft||v,typeof U=="string"&&(ee=Mt(U.toLowerCase()),Array.isArray(ee)&&(Oe=ee[0],Fe=ee[1])),Array.isArray(U)&&(Oe=U[0]*Nr,Fe=U[1]*Nr),isNaN(Oe)&&(Oe=C[0],Fe=C[1]),(Oe>14400||Fe>14400)&&(G.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Fe=Math.min(14400,Fe)),C=[Oe,Fe],v.substr(0,1)){case"l":Fe>Oe&&(C=[Fe,Oe]);break;case"p":Oe>Fe&&(C=[Fe,Oe])}ao(C),Mo(ps),Yt(ts),xn!==0&&Yt(xn+" J"),ol!==0&&Yt(ol+" j"),Un.publish("addPage",{pageNumber:Qn})},so=function(U){U>0&&U<=Qn&&(vr.splice(U,1),cn.splice(U,1),Qn--,xt>Qn&&(xt=Qn),this.setPage(xt))},Na=function(U){U>0&&U<=Qn&&(xt=U)},ko=V.__private__.getNumberOfPages=V.getNumberOfPages=function(){return vr.length-1},il=function(U,Ft,ee){var Oe,Fe=void 0;return ee=ee||{},U=U!==void 0?U:bn[dn].fontName,Ft=Ft!==void 0?Ft:bn[dn].fontStyle,Oe=U.toLowerCase(),pi[Oe]!==void 0&&pi[Oe][Ft]!==void 0?Fe=pi[Oe][Ft]:pi[U]!==void 0&&pi[U][Ft]!==void 0?Fe=pi[U][Ft]:ee.disableWarning===!1&&G.warn("Unable to look up font label for font '"+U+"', '"+Ft+"'. Refer to getFontList() for available fonts."),Fe||ee.noFallback||(Fe=pi.times[Ft])==null&&(Fe=pi.times.normal),Fe},Eo=V.__private__.putInfo=function(){var D=ii(),U=function(Oe){return Oe};for(var Ft in _t!==null&&(U=Ti.encryptor(D,0)),Yt("<<"),Yt("/Producer ("+Mi(U("jsPDF "+et.version))+")"),Vr)Vr.hasOwnProperty(Ft)&&Vr[Ft]&&Yt("/"+Ft.substr(0,1).toUpperCase()+Ft.substr(1)+" ("+Mi(U(Vr[Ft]))+")");Yt("/CreationDate ("+Mi(U(Je))+")"),Yt(">>"),Yt("endobj")},El=V.__private__.putCatalog=function(D){var U=(D=D||{}).rootDictionaryObjId||Fs;switch(ii(),Yt("<<"),Yt("/Type /Catalog"),Yt("/Pages "+U+" 0 R"),Tr||(Tr="fullwidth"),Tr){case"fullwidth":Yt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Yt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Yt("/OpenAction [3 0 R /Fit]");break;case"original":Yt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ft=""+Tr;Ft.substr(Ft.length-1)==="%"&&(Tr=parseInt(Tr)/100),typeof Tr=="number"&&Yt("/OpenAction [3 0 R /XYZ null null "+Xe(Tr)+"]")}switch(tn||(tn="continuous"),tn){case"continuous":Yt("/PageLayout /OneColumn");break;case"single":Yt("/PageLayout /SinglePage");break;case"two":case"twoleft":Yt("/PageLayout /TwoColumnLeft");break;case"tworight":Yt("/PageLayout /TwoColumnRight")}Xr&&Yt("/PageMode /"+Xr),Un.publish("putCatalog"),Yt(">>"),Yt("endobj")},Fl=V.__private__.putTrailer=function(){Yt("trailer"),Yt("<<"),Yt("/Size "+(Ae+1)),Yt("/Root "+Ae+" 0 R"),Yt("/Info "+(Ae-1)+" 0 R"),_t!==null&&Yt("/Encrypt "+Ti.oid+" 0 R"),Yt("/ID [ <"+Ve+"> <"+Ve+"> ]"),Yt(">>")},Ms=V.__private__.putHeader=function(){Yt("%PDF-"+Vt),Yt("%\xBA\xDF\xAC\xE0")},Il=V.__private__.putXRef=function(){var D="0000000000";Yt("xref"),Yt("0 "+(Ae+1)),Yt("0000000000 65535 f ");for(var U=1;U<=Ae;U++)typeof Ie[U]=="function"?Yt((D+Ie[U]()).slice(-10)+" 00000 n "):Ie[U]!==void 0?Yt((D+Ie[U]).slice(-10)+" 00000 n "):Yt("0000000000 00000 n ")},aa=V.__private__.buildDocument=function(){en(),Yr(ar),Un.publish("buildDocument"),Ms(),Qa(),ui(),Is(),_t!==null&&On(),Eo(),El();var D=We;return Il(),Fl(),Yt("startxref"),Yt(""+D),Yt("%%EOF"),Yr(vr[xt]),ar.join(`
`)},ba=V.__private__.getBlob=function(D){return new Blob([Er(D)],{type:"application/pdf"})},Fo=V.output=V.__private__.output=nl(function(D,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",D){case void 0:return aa();case"save":V.save(U.filename);break;case"arraybuffer":return Er(aa());case"blob":return ba(aa());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(ba(aa()))||void 0;G.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ft="",ee=aa();try{Ft=o(ee)}catch(oi){Ft=o(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+U.filename+";base64,"+Ft;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Oe=U.pdfObjectUrl,Fe="");var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+Fe+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");</script></body></html>",Cr=Ht.open();return Cr!==null&&Cr.document.write(yr),Cr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Zr=Ht.open();if(Zr!==null){Zr.document.write(qr);var gn=this;Zr.document.documentElement.querySelector("#pdfViewer").onload=function(){Zr.document.title=U.filename,Zr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gn.output("bloburl"))}}return Zr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Tn=Ht.open();if(Tn!==null&&(Tn.document.write(Mn),Tn.document.title=U.filename),Tn||typeof safari=="undefined")return Tn;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",U);default:return null}}),Nl=function(U){return Array.isArray(eo)===!0&&eo.indexOf(U)>-1};switch(_){case"pt":Nr=1;break;case"mm":Nr=72/25.4;break;case"cm":Nr=72/2.54;break;case"in":Nr=72;break;case"px":Nr=Nl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nr=12;break;case"ex":Nr=6;break;default:if(typeof _!="number")throw new Error("Invalid unit: "+_);Nr=_}var Ti=null;Ar(),Re();var du=function(U){return _t!==null?Ti.encryptor(U,0):function(Ft){return Ft}},oo=V.__private__.getPageInfo=V.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:cn[D].objId,pageNumber:D,pageContext:cn[D]}},Io=V.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in cn)if(cn[U].objId===D)break;return oo(U)},al=V.__private__.getCurrentPageInfo=V.getCurrentPageInfo=function(){return{objId:cn[xt].objId,pageNumber:xt,pageContext:cn[xt]}};V.addPage=function(){return ds.apply(this,arguments),this},V.setPage=function(){return Na.apply(this,arguments),Yr.call(this,vr[xt]),this},V.insertPage=function(D){return this.addPage(),this.movePage(xt,D),this},V.movePage=function(D,U){var Ft,ee;if(D>U){Ft=vr[D],ee=cn[D];for(var Oe=D;Oe>U;Oe--)vr[Oe]=vr[Oe-1],cn[Oe]=cn[Oe-1];vr[U]=Ft,cn[U]=ee,this.setPage(U)}else if(D<U){Ft=vr[D],ee=cn[D];for(var Fe=D;Fe<U;Fe++)vr[Fe]=vr[Fe+1],cn[Fe]=cn[Fe+1];vr[U]=Ft,cn[U]=ee,this.setPage(U)}return this},V.deletePage=function(){return so.apply(this,arguments),this},V.__private__.text=V.text=function(D,U,Ft,ee,Oe){var Fe,yr,Cr,qr,Zr,gn,Mn,Tn,oi,ri=(ee=ee||{}).scope||this;if(typeof D=="number"&&typeof U=="number"&&(typeof Ft=="string"||Array.isArray(Ft))){var Gi=Ft;Ft=U,U=D,D=Gi}if(arguments[3]instanceof rn?(mr("The transform parameter of text() with a Matrix value"),oi=Oe):(Cr=arguments[4],qr=arguments[5],le()(Mn=arguments[3])==="object"&&Mn!==null||(typeof Cr=="string"&&(qr=Cr,Cr=null),typeof Mn=="string"&&(qr=Mn,Mn=null),typeof Mn=="number"&&(Cr=Mn,Mn=null),ee={flags:Mn,angle:Cr,align:qr})),isNaN(U)||isNaN(Ft)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ri;var _i="",Ba=!1,uo=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:wa,fl=ri.internal.scaleFactor;function ys(hi){return hi=hi.split("	").join(Array(ee.TabLen||9).join(" ")),Mi(hi,Mn)}function dl(hi){for(var Hn,Ri=hi.concat(),ci=[],Xi=Ri.length;Xi--;)typeof(Hn=Ri.shift())=="string"?ci.push(Hn):Array.isArray(hi)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?ci.push(Hn[0]):ci.push([Hn[0],Hn[1],Hn[2]]);return ci}function ho(hi,Hn){var Ri;if(typeof hi=="string")Ri=Hn(hi)[0];else if(Array.isArray(hi)){for(var ci,Xi,Wo=hi.concat(),Ss=[],Hl=Wo.length;Hl--;)typeof(ci=Wo.shift())=="string"?Ss.push(Hn(ci)[0]):Array.isArray(ci)&&typeof ci[0]=="string"&&(Xi=Hn(ci[0],ci[1],ci[2]),Ss.push([Xi[0],Xi[1],Xi[2]]));Ri=Ss}return Ri}var ns=!1,Bs=!0;if(typeof D=="string")ns=!0;else if(Array.isArray(D)){var pl=D.concat();yr=[];for(var co,oa=pl.length;oa--;)(typeof(co=pl.shift())!="string"||Array.isArray(co)&&typeof co[0]!="string")&&(Bs=!1);ns=Bs}if(ns===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Wi=Fr/ri.internal.scaleFactor,js=Wi*(uo-1);switch(ee.baseline){case"bottom":Ft-=js;break;case"top":Ft+=Wi-js;break;case"hanging":Ft+=Wi-2*js;break;case"middle":Ft+=Wi/2-js}if((gn=ee.maxWidth||0)>0&&(typeof D=="string"?D=ri.splitTextToSize(D,gn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(hi,Hn){return hi.concat(ri.splitTextToSize(Hn,gn))},[]))),Fe={text:D,x:U,y:Ft,options:ee,mutex:{pdfEscape:Mi,activeFontKey:dn,fonts:bn,activeFontSize:Fr}},Un.publish("preProcessText",Fe),D=Fe.text,Cr=(ee=Fe.options).angle,!(oi instanceof rn)&&Cr&&typeof Cr=="number"){Cr*=Math.PI/180,ee.rotationDirection===0&&(Cr=-Cr),xe===gt.ADVANCED&&(Cr=-Cr);var is=Math.cos(Cr),Di=Math.sin(Cr);oi=new rn(is,Di,-Di,is,0,0)}else Cr&&Cr instanceof rn&&(oi=Cr);xe!==gt.ADVANCED||oi||(oi=ya),(Zr=ee.charSpace||vs)!==void 0&&(_i+=Ge(zt(Zr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tn=ee.horizontalScale)!==void 0&&(_i+=Ge(100*Tn)+` Tz
`),ee.lang;var Yi=-1,Wl=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,jo=ri.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Yi=0;break;case 1:case!0:case"stroke":Yi=1;break;case 2:case"fillThenStroke":Yi=2;break;case 3:case"invisible":Yi=3;break;case 4:case"fillAndAddForClipping":Yi=4;break;case 5:case"strokeAndAddPathForClipping":Yi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yi=6;break;case 7:case"addToPathForClipping":Yi=7}var fo=jo.usedRenderingMode!==void 0?jo.usedRenderingMode:-1;Yi!==-1?_i+=Yi+` Tr
`:fo!==-1&&(_i+=`0 Tr
`),Yi!==-1&&(jo.usedRenderingMode=Yi),qr=ee.align||"left";var ki,po=Fr*uo,vu=ri.internal.pageSize.getWidth(),zo=bn[dn];Zr=ee.charSpace||vs,gn=ee.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var go=[];if(Object.prototype.toString.call(D)==="[object Array]"){var xa;yr=dl(D),qr!=="left"&&(ki=yr.map(function(hi){return ri.getStringUnitWidth(hi,{font:zo,charSpace:Zr,fontSize:Fr,doKerning:!1})*Fr/fl}));var Zn,bs=0;if(qr==="right"){U-=ki[0],D=[],oa=yr.length;for(var ja=0;ja<oa;ja++)ja===0?(Zn=gs(U),xa=ms(Ft)):(Zn=zt(bs-ki[ja]),xa=-po),D.push([yr[ja],Zn,xa]),bs=ki[ja]}else if(qr==="center"){U-=ki[0]/2,D=[],oa=yr.length;for(var Pi=0;Pi<oa;Pi++)Pi===0?(Zn=gs(U),xa=ms(Ft)):(Zn=zt((bs-ki[Pi])/2),xa=-po),D.push([yr[Pi],Zn,xa]),bs=ki[Pi]}else if(qr==="left"){D=[],oa=yr.length;for(var zs=0;zs<oa;zs++)D.push(yr[zs])}else{if(qr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');D=[],oa=yr.length,gn=gn!==0?gn:vu;for(var ta=0;ta<oa;ta++)xa=ta===0?ms(Ft):-po,Zn=ta===0?gs(U):0,ta<oa-1?go.push(Ge(zt((gn-ki[ta])/(yr[ta].split(" ").length-1)))):go.push(0),D.push([yr[ta],Zn,xa])}}var as=typeof ee.R2L=="boolean"?ee.R2L:Wr;as===!0&&(D=ho(D,function(hi,Hn,Ri){return[hi.split("").reverse().join(""),Hn,Ri]})),Fe={text:D,x:U,y:Ft,options:ee,mutex:{pdfEscape:Mi,activeFontKey:dn,fonts:bn,activeFontSize:Fr}},Un.publish("postProcessText",Fe),D=Fe.text,Ba=Fe.mutex.isHex||!1;var Us=bn[dn].encoding;Us!=="WinAnsiEncoding"&&Us!=="StandardEncoding"||(D=ho(D,function(hi,Hn,Ri){return[ys(hi),Hn,Ri]})),yr=dl(D),D=[];for(var vi,ss,Sa,Ws=0,Uo=1,_s=Array.isArray(yr[0])?Uo:Ws,Hs="",ws=function(Hn,Ri,ci){var Xi="";return ci instanceof rn?(ci=typeof ee.angle=="number"?Zi(ci,new rn(1,0,0,1,Hn,Ri)):Zi(new rn(1,0,0,1,Hn,Ri),ci),xe===gt.ADVANCED&&(ci=Zi(new rn(1,0,0,-1,0,0),ci)),Xi=ci.join(" ")+` Tm
`):Xi=Ge(Hn)+" "+Ge(Ri)+` Td
`,Xi},la=0;la<yr.length;la++){switch(Hs="",_s){case Uo:Sa=(Ba?"<":"(")+yr[la][0]+(Ba?">":")"),vi=parseFloat(yr[la][1]),ss=parseFloat(yr[la][2]);break;case Ws:Sa=(Ba?"<":"(")+yr[la]+(Ba?">":")"),vi=gs(U),ss=ms(Ft)}go!==void 0&&go[la]!==void 0&&(Hs=go[la]+` Tw
`),la===0?D.push(Hs+ws(vi,ss,oi)+Sa):_s===Ws?D.push(Hs+Sa):_s===Uo&&D.push(Hs+ws(vi,ss,oi)+Sa)}D=_s===Ws?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var xs=`BT
/`;return xs+=dn+" "+Fr+` Tf
`,xs+=Ge(Fr*uo)+` TL
`,xs+=mt+`
`,xs+=_i,xs+=D,Yt(xs+="ET"),kt[dn]=!0,ri};var fn=V.__private__.clip=V.clip=function(D){return Yt(D==="evenodd"?"W*":"W"),this};V.clipEvenOdd=function(){return fn("evenodd")},V.__private__.discardPath=V.discardPath=function(){return Yt("n"),this};var Ma=V.__private__.isValidStyle=function(D){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(U=!0),U};V.__private__.setDefaultPathOperation=V.setDefaultPathOperation=function(D){return Ma(D)&&(J=D),this};var Ml=V.__private__.getStyle=V.getStyle=function(D){var U=J;switch(D){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=D}return U},Dl=V.close=function(){return Yt("h"),this};V.stroke=function(){return Yt("S"),this},V.fill=function(D){return si("f",D),this},V.fillEvenOdd=function(D){return si("f*",D),this},V.fillStroke=function(D){return si("B",D),this},V.fillStrokeEvenOdd=function(D){return si("B*",D),this};var si=function(U,Ft){le()(Ft)==="object"?gu(Ft,U):Yt(U)},bi=function(U){U===null||xe===gt.ADVANCED&&U===void 0||(U=Ml(U),Yt(U))};function pu(D,U,Ft,ee,Oe){var Fe=new Ut(U||this.boundingBox,Ft||this.xStep,ee||this.yStep,this.gState,Oe||this.matrix);Fe.stream=this.stream;var yr=D+"$$"+this.cloneIndex+++"$$";return cs(yr,Fe),Fe}var gu=function(U,Ft){var ee=Va[U.key],Oe=jn[ee];if(Oe instanceof ct)Yt("q"),Yt(Rl(Ft)),Oe.gState&&V.setGState(Oe.gState),Yt(U.matrix.toString()+" cm"),Yt("/"+ee+" sh"),Yt("Q");else if(Oe instanceof Ut){var Fe=new rn(1,0,0,-1,0,rs());U.matrix&&(Fe=Fe.multiply(U.matrix||ya),ee=pu.call(Oe,U.key,U.boundingBox,U.xStep,U.yStep,Fe).id),Yt("q"),Yt("/Pattern cs"),Yt("/"+ee+" scn"),Oe.gState&&V.setGState(Oe.gState),Yt(Ft),Yt("Q")}},Rl=function(U){switch(U){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},sl=V.moveTo=function(D,U){return Yt(Ge(zt(D))+" "+Ge(he(U))+" m"),this},No=V.lineTo=function(D,U){return Yt(Ge(zt(D))+" "+Ge(he(U))+" l"),this},_a=V.curveTo=function(D,U,Ft,ee,Oe,Fe){return Yt([Ge(zt(D)),Ge(he(U)),Ge(zt(Ft)),Ge(he(ee)),Ge(zt(Oe)),Ge(he(Fe)),"c"].join(" ")),this};V.__private__.line=V.line=function(D,U,Ft,ee,Oe){if(isNaN(D)||isNaN(U)||isNaN(Ft)||isNaN(ee)||!Ma(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return xe===gt.COMPAT?this.lines([[Ft-D,ee-U]],D,U,[1,1],Oe||"S"):this.lines([[Ft-D,ee-U]],D,U,[1,1]).stroke()},V.__private__.lines=V.lines=function(D,U,Ft,ee,Oe,Fe){var yr,Cr,qr,Zr,gn,Mn,Tn,oi,ri,Gi,_i,Ba;if(typeof D=="number"&&(Ba=Ft,Ft=U,U=D,D=Ba),ee=ee||[1,1],Fe=Fe||!1,isNaN(U)||isNaN(Ft)||!Array.isArray(D)||!Array.isArray(ee)||!Ma(Oe)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sl(U,Ft),yr=ee[0],Cr=ee[1],Zr=D.length,Gi=U,_i=Ft,qr=0;qr<Zr;qr++)(gn=D[qr]).length===2?(Gi=gn[0]*yr+Gi,_i=gn[1]*Cr+_i,No(Gi,_i)):(Mn=gn[0]*yr+Gi,Tn=gn[1]*Cr+_i,oi=gn[2]*yr+Gi,ri=gn[3]*Cr+_i,Gi=gn[4]*yr+Gi,_i=gn[5]*Cr+_i,_a(Mn,Tn,oi,ri,Gi,_i));return Fe&&Dl(),bi(Oe),this},V.path=function(D){for(var U=0;U<D.length;U++){var Ft=D[U],ee=Ft.c;switch(Ft.op){case"m":sl(ee[0],ee[1]);break;case"l":No(ee[0],ee[1]);break;case"c":_a.apply(this,ee);break;case"h":Dl()}}return this},V.__private__.rect=V.rect=function(D,U,Ft,ee,Oe){if(isNaN(D)||isNaN(U)||isNaN(Ft)||isNaN(ee)||!Ma(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return xe===gt.COMPAT&&(ee=-ee),Yt([Ge(zt(D)),Ge(he(U)),Ge(zt(Ft)),Ge(zt(ee)),"re"].join(" ")),bi(Oe),this},V.__private__.triangle=V.triangle=function(D,U,Ft,ee,Oe,Fe,yr){if(isNaN(D)||isNaN(U)||isNaN(Ft)||isNaN(ee)||isNaN(Oe)||isNaN(Fe)||!Ma(yr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ft-D,ee-U],[Oe-Ft,Fe-ee],[D-Oe,U-Fe]],D,U,[1,1],yr,!0),this},V.__private__.roundedRect=V.roundedRect=function(D,U,Ft,ee,Oe,Fe,yr){if(isNaN(D)||isNaN(U)||isNaN(Ft)||isNaN(ee)||isNaN(Oe)||isNaN(Fe)||!Ma(yr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Cr=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Ft),Fe=Math.min(Fe,.5*ee),this.lines([[Ft-2*Oe,0],[Oe*Cr,0,Oe,Fe-Fe*Cr,Oe,Fe],[0,ee-2*Fe],[0,Fe*Cr,-Oe*Cr,Fe,-Oe,Fe],[2*Oe-Ft,0],[-Oe*Cr,0,-Oe,-Fe*Cr,-Oe,-Fe],[0,2*Fe-ee],[0,-Fe*Cr,Oe*Cr,-Fe,Oe,-Fe]],D+Oe,U,[1,1],yr,!0),this},V.__private__.ellipse=V.ellipse=function(D,U,Ft,ee,Oe){if(isNaN(D)||isNaN(U)||isNaN(Ft)||isNaN(ee)||!Ma(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*Ft,yr=4/3*(Math.SQRT2-1)*ee;return sl(D+Ft,U),_a(D+Ft,U-yr,D+Fe,U-ee,D,U-ee),_a(D-Fe,U-ee,D-Ft,U-yr,D-Ft,U),_a(D-Ft,U+yr,D-Fe,U+ee,D,U+ee),_a(D+Fe,U+ee,D+Ft,U+yr,D+Ft,U),bi(Oe),this},V.__private__.circle=V.circle=function(D,U,Ft,ee){if(isNaN(D)||isNaN(U)||isNaN(Ft)||!Ma(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,U,Ft,Ft,ee)},V.setFont=function(D,U,Ft){return Ft&&(U=fr(U,Ft)),dn=il(D,U,{disableWarning:!1}),this};var Ds=V.__private__.getFont=V.getFont=function(){return bn[il.apply(V,arguments)]};V.__private__.getFontList=V.getFontList=function(){var D,U,Ft={};for(D in pi)if(pi.hasOwnProperty(D))for(U in Ft[D]=[],pi[D])pi[D].hasOwnProperty(U)&&Ft[D].push(U);return Ft},V.addFont=function(D,U,Ft,ee,Oe){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(Ft=fr(Ft,ee)),Oe=Oe||"Identity-H",Rn.call(this,D,U,Ft,Oe)};var wa,ps=k.lineWidth||.200025,lo=V.__private__.getLineWidth=V.getLineWidth=function(){return ps},Mo=V.__private__.setLineWidth=V.setLineWidth=function(D){return ps=D,Yt(Ge(zt(D))+" w"),this};V.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(D,U){if(D=D||[],U=U||0,isNaN(U)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ft){return Ge(zt(Ft))}).join(" "),U=Ge(zt(U)),Yt("["+D+"] "+U+" d"),this};var Da=V.__private__.getLineHeight=V.getLineHeight=function(){return Fr*wa};V.__private__.getLineHeight=V.getLineHeight=function(){return Fr*wa};var Bl=V.__private__.setLineHeightFactor=V.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(wa=D),this},jl=V.__private__.getLineHeightFactor=V.getLineHeightFactor=function(){return wa};Bl(k.lineHeight);var gs=V.__private__.getHorizontalCoordinate=function(D){return zt(D)},ms=V.__private__.getVerticalCoordinate=function(D){return xe===gt.ADVANCED?D:cn[xt].mediaBox.topRightY-cn[xt].mediaBox.bottomLeftY-zt(D)},zl=V.__private__.getHorizontalCoordinateString=V.getHorizontalCoordinateString=function(D){return Ge(gs(D))},Do=V.__private__.getVerticalCoordinateString=V.getVerticalCoordinateString=function(D){return Ge(ms(D))},ts=k.strokeColor||"0 G";V.__private__.getStrokeColor=V.getDrawColor=function(){return $a(ts)},V.__private__.setStrokeColor=V.setDrawColor=function(D,U,Ft,ee){return ts=Ui({ch1:D,ch2:U,ch3:Ft,ch4:ee,pdfColorType:"draw",precision:2}),Yt(ts),this};var Ra=k.fillColor||"0 g";V.__private__.getFillColor=V.getFillColor=function(){return $a(Ra)},V.__private__.setFillColor=V.setFillColor=function(D,U,Ft,ee){return Ra=Ui({ch1:D,ch2:U,ch3:Ft,ch4:ee,pdfColorType:"fill",precision:2}),Yt(Ra),this};var mt=k.textColor||"0 g",Rs=V.__private__.getTextColor=V.getTextColor=function(){return $a(mt)};V.__private__.setTextColor=V.setTextColor=function(D,U,Ft,ee){return mt=Ui({ch1:D,ch2:U,ch3:Ft,ch4:ee,pdfColorType:"text",precision:3}),this};var vs=k.charSpace,Qi=V.__private__.getCharSpace=V.getCharSpace=function(){return parseFloat(vs||0)};V.__private__.setCharSpace=V.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vs=D,this};var xn=0;V.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},V.__private__.setLineCap=V.setLineCap=function(D){var U=V.CapJoinStyles[D];if(U===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xn=U,Yt(U+" J"),this};var ol=0;V.__private__.setLineJoin=V.setLineJoin=function(D){var U=V.CapJoinStyles[D];if(U===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ol=U,Yt(U+" j"),this},V.__private__.setLineMiterLimit=V.__private__.setMiterLimit=V.setLineMiterLimit=V.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Yt(Ge(zt(D))+" M"),this},V.GState=tr,V.setGState=function(D){(D=typeof D=="string"?li[gi[D]]:Ul(null,D)).equals(na)||(Yt("/"+D.id+" gs"),na=D)};var Ul=function(U,Ft){if(!U||!gi[U]){var ee=!1;for(var Oe in li)if(li.hasOwnProperty(Oe)&&li[Oe].equals(Ft)){ee=!0;break}if(ee)Ft=li[Oe];else{var Fe="GS"+(Object.keys(li).length+1).toString(10);li[Fe]=Ft,Ft.id=Fe}return U&&(gi[U]=Ft.id),Un.publish("addGState",Ft),Ft}};V.addGState=function(D,U){return Ul(D,U),this},V.saveGraphicsState=function(){return Yt("q"),va.push({key:dn,size:Fr,color:mt}),this},V.restoreGraphicsState=function(){Yt("Q");var D=va.pop();return dn=D.key,Fr=D.size,mt=D.color,na=null,this},V.setCurrentTransformationMatrix=function(D){return Yt(D.toString()+" cm"),this},V.comment=function(D){return Yt("#"+D),this};var Ro=function(U,Ft){var ee=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Cr){isNaN(Cr)||(ee=parseFloat(Cr))}});var Oe=Ft||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(Cr){isNaN(Cr)||(Oe=parseFloat(Cr))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Cr){Fe=Cr.toString()}}),this},es=function(U,Ft,ee,Oe){Ro.call(this,U,Ft),this.type="rect";var Fe=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(qr){isNaN(qr)||(Fe=parseFloat(qr))}});var yr=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yr},set:function(qr){isNaN(qr)||(yr=parseFloat(qr))}}),this},ll=function(){this.page=Qn,this.currentPage=xt,this.pages=vr.slice(0),this.pagesContext=cn.slice(0),this.x=ji,this.y=Kn,this.matrix=Ci,this.width=hl(xt),this.height=rs(xt),this.outputDestination=Pr,this.id="",this.objectNumber=-1};ll.prototype.restore=function(){Qn=this.page,xt=this.currentPage,cn=this.pagesContext,vr=this.pages,ji=this.x,Kn=this.y,Ci=this.matrix,sa(xt,this.width),cl(xt,this.height),Pr=this.outputDestination};var ul=function(U,Ft,ee,Oe,Fe){Za.push(new ll),Qn=xt=0,vr=[],ji=U,Kn=Ft,Ci=Fe,ao([ee,Oe])},mu=function(U){if(Ka[U])Za.pop().restore();else{var Ft=new ll,ee="Xo"+(Object.keys(zi).length+1).toString(10);Ft.id=ee,Ka[U]=ee,zi[ee]=Ft,Un.publish("addFormObject",Ft),Za.pop().restore()}};for(var Bo in V.beginFormObject=function(D,U,Ft,ee,Oe){return ul(D,U,Ft,ee,Oe),this},V.endFormObject=function(D){return mu(D),this},V.doFormObject=function(D,U){var Ft=zi[Ka[D]];return Yt("q"),Yt(U.toString()+" cm"),Yt("/"+Ft.id+" Do"),Yt("Q"),this},V.getFormObject=function(D){var U=zi[Ka[D]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},V.save=function(D,U){return D=D||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(r(ba(aa()),D),typeof r.unload=="function"&&Ht.setTimeout&&setTimeout(r.unload,911),this):new Promise(function(Ft,ee){try{var Oe=r(ba(aa()),D);typeof r.unload=="function"&&Ht.setTimeout&&setTimeout(r.unload,911),Ft(Oe)}catch(Fe){ee(Fe.message)}})},et.API)et.API.hasOwnProperty(Bo)&&(Bo==="events"&&et.API.events.length?function(D,U){var Ft,ee,Oe;for(Oe=U.length-1;Oe!==-1;Oe--)Ft=U[Oe][0],ee=U[Oe][1],D.subscribe.apply(D,[Ft].concat(typeof ee=="function"?[ee]:ee))}(Un,et.API.events):V[Bo]=et.API[Bo]);var hl=V.getPageWidth=function(D){return(cn[D=D||xt].mediaBox.topRightX-cn[D].mediaBox.bottomLeftX)/Nr},sa=V.setPageWidth=function(D,U){cn[D].mediaBox.topRightX=U*Nr+cn[D].mediaBox.bottomLeftX},rs=V.getPageHeight=function(D){return(cn[D=D||xt].mediaBox.topRightY-cn[D].mediaBox.bottomLeftY)/Nr},cl=V.setPageHeight=function(D,U){cn[D].mediaBox.topRightY=U*Nr+cn[D].mediaBox.bottomLeftY};return V.internal={pdfEscape:Mi,getStyle:Ml,getFont:Ds,getFontSize:jr,getCharSpace:Qi,getTextColor:Rs,getLineHeight:Da,getLineHeightFactor:jl,getLineWidth:lo,write:sr,getHorizontalCoordinate:gs,getVerticalCoordinate:ms,getCoordinateString:zl,getVerticalCoordinateString:Do,collections:{},newObject:ii,newAdditionalObject:Ja,newObjectDeferred:Ai,newObjectDeferredBegin:ai,getFilters:mi,putStream:ia,events:Un,scaleFactor:Nr,pageSize:{getWidth:function(){return hl(xt)},setWidth:function(U){sa(xt,U)},getHeight:function(){return rs(xt)},setHeight:function(U){cl(xt,U)}},encryptionOptions:_t,encryption:Ti,getEncryptor:du,output:Fo,getNumberOfPages:ko,pages:vr,out:Yt,f2:Xe,f3:ie,getPageInfo:oo,getPageInfoByObjId:Io,getCurrentPageInfo:al,getPDFVersion:It,Point:Ro,Rectangle:es,Matrix:rn,hasHotfix:Nl},Object.defineProperty(V.internal.pageSize,"width",{get:function(){return hl(xt)},set:function(U){sa(xt,U)},enumerable:!0,configurable:!0}),Object.defineProperty(V.internal.pageSize,"height",{get:function(){return rs(xt)},set:function(U){cl(xt,U)},enumerable:!0,configurable:!0}),fu.call(V,ir),dn="F1",ds(C,v),Un.publish("initialized"),V}$t.prototype.lsbFirstWord=function(k){return String.fromCharCode(k>>0&255,k>>8&255,k>>16&255,k>>24&255)},$t.prototype.toHexString=function(k){return k.split("").map(function(g){return("0"+(255&g.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$t.prototype.hexToBytes=function(k){for(var g=[],v=0;v<k.length;v+=2)g.push(String.fromCharCode(parseInt(k.substr(v,2),16)));return g.join("")},$t.prototype.processOwnerPassword=function(k,g){return Le(Lt(g).substr(0,5),k)},$t.prototype.encryptor=function(k,g){var v=Lt(this.encryptionKey+String.fromCharCode(255&k,k>>8&255,k>>16&255,255&g,g>>8&255)).substr(0,10);return function(_){return Le(v,_)}},tr.prototype.equals=function(k){var g,v="id,objectNumber,equals";if(!k||le()(k)!==le()(this))return!1;var _=0;for(g in this)if(!(v.indexOf(g)>=0)){if(this.hasOwnProperty(g)&&!k.hasOwnProperty(g)||this[g]!==k[g])return!1;_++}for(g in k)k.hasOwnProperty(g)&&v.indexOf(g)<0&&_--;return _===0},et.API={events:[]},et.version="2.5.1";var X=et.API,rt=1,M=function(g){return g.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Q=function(g){return g.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ut=function(g){return g.toFixed(2)},ht=function(g){return g.toFixed(5)};X.__acroform__={};var Wt=function(g,v){g.prototype=Object.create(v.prototype),g.prototype.constructor=g},bt=function(g){return g*rt},Bt=function(g){var v=new gr,_=Ir.internal.getHeight(g)||0,C=Ir.internal.getWidth(g)||0;return v.BBox=[0,0,Number(ut(C)),Number(ut(_))],v},oe=X.__acroform__.setBit=function(k,g){if(k=k||0,g=g||0,isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return k|=1<<g},re=X.__acroform__.clearBit=function(k,g){if(k=k||0,g=g||0,isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return k&=~(1<<g)},ae=X.__acroform__.getBit=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(k&1<<g)==0?0:1},qt=X.__acroform__.getBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ae(k,g-1)},I=X.__acroform__.setBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oe(k,g-1)},Pt=X.__acroform__.clearBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return re(k,g-1)},Dt=X.__acroform__.calculateCoordinates=function(k,g){var v=g.internal.getHorizontalCoordinate,_=g.internal.getVerticalCoordinate,C=k[0],S=k[1],P=k[2],j=k[3],N={};return N.lowerLeft_X=v(C)||0,N.lowerLeft_Y=_(S+j)||0,N.upperRight_X=v(C+P)||0,N.upperRight_Y=_(S)||0,[Number(ut(N.lowerLeft_X)),Number(ut(N.lowerLeft_Y)),Number(ut(N.upperRight_X)),Number(ut(N.upperRight_Y))]},F=function(g){if(g.appearanceStreamContent)return g.appearanceStreamContent;if(g.V||g.DV){var v=[],_=g._V||g.DV,C=x(g,_),S=g.scope.internal.getFont(g.fontName,g.fontStyle).id;v.push("/Tx BMC"),v.push("q"),v.push("BT"),v.push(g.scope.__private__.encodeColorString(g.color)),v.push("/"+S+" "+ut(C.fontSize)+" Tf"),v.push("1 0 0 1 0 0 Tm"),v.push(C.text),v.push("ET"),v.push("Q"),v.push("EMC");var P=Bt(g);return P.scope=g.scope,P.stream=v.join(`
`),P}},x=function(g,v){var _=g.fontSize===0?g.maxFontSize:g.fontSize,C={text:"",fontSize:""},S=(v=(v=v.substr(0,1)=="("?v.substr(1):v).substr(v.length-1)==")"?v.substr(0,v.length-1):v).split(" ");S=g.multiline?S.map(function(zt){return zt.split(`
`)}):S.map(function(zt){return[zt]});var P=_,j=Ir.internal.getHeight(g)||0;j=j<0?-j:j;var N=Ir.internal.getWidth(g)||0;N=N<0?-N:N;var J=function(ce,he,Je){if(ce+1<S.length){var Ve=he+" "+S[ce+1][0];return O(Ve,g,Je).width<=N-4}return!1};P++;t:for(;P>0;){v="",P--;var _t,vt,kt=O("3",g,P).height,V=g.multiline?j-P:(j-kt)/2,Vt=V+=2,It=0,Jt=0,Mt=0;if(P<=0){v=`(...) Tj
`,v+="% Width of Text: "+O(v,g,P=12).width+", FieldWidth:"+N+`
`;break}for(var gt="",xe=0,Be=0;Be<S.length;Be++)if(S.hasOwnProperty(Be)){var $e=!1;if(S[Be].length!==1&&Mt!==S[Be].length-1){if((kt+2)*(xe+2)+2>j)continue t;gt+=S[Be][Mt],$e=!0,Jt=Be,Be--}else{gt=(gt+=S[Be][Mt]+" ").substr(gt.length-1)==" "?gt.substr(0,gt.length-1):gt;var fr=parseInt(Be),Ge=J(fr,gt,P),mr=Be>=S.length-1;if(Ge&&!mr){gt+=" ",Mt=0;continue}if(Ge||mr){if(mr)Jt=fr;else if(g.multiline&&(kt+2)*(xe+2)+2>j)continue t}else{if(!g.multiline||(kt+2)*(xe+2)+2>j)continue t;Jt=fr}}for(var fe="",Xe=It;Xe<=Jt;Xe++){var ie=S[Xe];if(g.multiline){if(Xe===Jt){fe+=ie[Mt]+" ",Mt=(Mt+1)%ie.length;continue}if(Xe===It){fe+=ie[ie.length-1]+" ";continue}}fe+=ie[0]+" "}switch(fe=fe.substr(fe.length-1)==" "?fe.substr(0,fe.length-1):fe,vt=O(fe,g,P).width,g.textAlign){case"right":_t=N-vt-2;break;case"center":_t=(N-vt)/2;break;case"left":default:_t=2}v+=ut(_t)+" "+ut(Vt)+` Td
`,v+="("+M(fe)+`) Tj
`,v+=-ut(_t)+` 0 Td
`,Vt=-(P+2),vt=0,It=$e?Jt:Jt+1,xe++,gt=""}break}return C.text=v,C.fontSize=P,C},O=function(g,v,_){var C=v.scope.internal.getFont(v.fontName,v.fontStyle),S=v.scope.getStringUnitWidth(g,{font:C,fontSize:parseFloat(_),charSpace:0})*parseFloat(_);return{height:v.scope.getStringUnitWidth("3",{font:C,fontSize:parseFloat(_),charSpace:0})*parseFloat(_)*1.5,width:S}},$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},it=function(g,v){var _={type:"reference",object:g};v.internal.getPageInfo(g.page).pageContext.annotations.find(function(C){return C.type===_.type&&C.object===_.object})===void 0&&v.internal.getPageInfo(g.page).pageContext.annotations.push(_)},pt=function(g,v){for(var _ in g)if(g.hasOwnProperty(_)){var C=_,S=g[_];v.internal.newObjectDeferredBegin(S.objId,!0),le()(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete g[C]}},jt=function(g,v){if(v.scope=g,g.internal!==void 0&&(g.internal.acroformPlugin===void 0||g.internal.acroformPlugin.isInitialized===!1)){if(Hr.FieldNum=0,g.internal.acroformPlugin=JSON.parse(JSON.stringify($)),g.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rt=g.internal.scaleFactor,g.internal.acroformPlugin.acroFormDictionaryRoot=new er,g.internal.acroformPlugin.acroFormDictionaryRoot.scope=g,g.internal.acroformPlugin.acroFormDictionaryRoot._eventID=g.internal.events.subscribe("postPutResources",function(){(function(_){_.internal.events.unsubscribe(_.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete _.internal.acroformPlugin.acroFormDictionaryRoot._eventID,_.internal.acroformPlugin.printedOut=!0})(g)}),g.internal.events.subscribe("buildDocument",function(){(function(_){_.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var C=_.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var S in C)if(C.hasOwnProperty(S)){var P=C[S];P.objId=void 0,P.hasAnnotation&&it(P,_)}})(g)}),g.internal.events.subscribe("putCatalog",function(){(function(_){if(_.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");_.internal.write("/AcroForm "+_.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(g)}),g.internal.events.subscribe("postPutPages",function(_){(function(C,S){var P=!C;for(var j in C||(S.internal.newObjectDeferredBegin(S.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),S.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),C=C||S.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(C.hasOwnProperty(j)){var N=C[j],J=[],_t=N.Rect;if(N.Rect&&(N.Rect=Dt(N.Rect,S)),S.internal.newObjectDeferredBegin(N.objId,!0),N.DA=Ir.createDefaultAppearanceStream(N),le()(N)==="object"&&typeof N.getKeyValueListForStream=="function"&&(J=N.getKeyValueListForStream()),N.Rect=_t,N.hasAppearanceStream&&!N.appearanceStreamContent){var vt=F(N);J.push({key:"AP",value:"<</N "+vt+">>"}),S.internal.acroformPlugin.xForms.push(vt)}if(N.appearanceStreamContent){var kt="";for(var V in N.appearanceStreamContent)if(N.appearanceStreamContent.hasOwnProperty(V)){var Vt=N.appearanceStreamContent[V];if(kt+="/"+V+" ",kt+="<<",Object.keys(Vt).length>=1||Array.isArray(Vt)){for(var j in Vt)if(Vt.hasOwnProperty(j)){var It=Vt[j];typeof It=="function"&&(It=It.call(S,N)),kt+="/"+j+" "+It+" ",S.internal.acroformPlugin.xForms.indexOf(It)>=0||S.internal.acroformPlugin.xForms.push(It)}}else typeof(It=Vt)=="function"&&(It=It.call(S,N)),kt+="/"+j+" "+It,S.internal.acroformPlugin.xForms.indexOf(It)>=0||S.internal.acroformPlugin.xForms.push(It);kt+=">>"}J.push({key:"AP",value:`<<
`+kt+">>"})}S.internal.putStream({additionalKeyValues:J,objectId:N.objId}),S.internal.out("endobj")}P&&pt(S.internal.acroformPlugin.xForms,S)})(_,g)}),g.internal.acroformPlugin.isInitialized=!0}},ke=X.__acroform__.arrayToPdfArray=function(k,g,v){var _=function(j){return j};if(Array.isArray(k)){for(var C="[",S=0;S<k.length;S++)switch(S!==0&&(C+=" "),le()(k[S])){case"boolean":case"number":case"object":C+=k[S].toString();break;case"string":k[S].substr(0,1)!=="/"?(g!==void 0&&v&&(_=v.internal.getEncryptor(g)),C+="("+M(_(k[S].toString()))+")"):C+=k[S].toString()}return C+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Te=function(g,v,_){var C=function(P){return P};return v!==void 0&&_&&(C=_.internal.getEncryptor(v)),(g=g||"").toString(),g="("+M(C(g))+")"},De=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(v){this._objId=v}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};De.prototype.toString=function(){return this.objId+" 0 R"},De.prototype.putStream=function(){var k=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:k,objectId:this.objId}),this.scope.internal.out("endobj")},De.prototype.getKeyValueListForStream=function(){var k=[],g=Object.getOwnPropertyNames(this).filter(function(S){return S!="content"&&S!="appearanceStreamContent"&&S!="scope"&&S!="objId"&&S.substring(0,1)!="_"});for(var v in g)if(Object.getOwnPropertyDescriptor(this,g[v]).configurable===!1){var _=g[v],C=this[_];C&&(Array.isArray(C)?k.push({key:_,value:ke(C,this.objId,this.scope)}):C instanceof De?(C.scope=this.scope,k.push({key:_,value:C.objId+" 0 R"})):typeof C!="function"&&k.push({key:_,value:C}))}return k};var gr=function(){De.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var g,v=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return v},set:function(C){v=C}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(C){g=C.trim()},get:function(){return g||null}})};Wt(gr,De);var er=function(){De.call(this);var g,v=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return v.length>0?v:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return v}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(g){var C=function(P){return P};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+M(C(g))+")"}},set:function(C){g=C}})};Wt(er,De);var Hr=function k(){De.call(this);var g=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return g},set:function(gt){if(isNaN(gt))throw new Error('Invalid value "'+gt+'" for attribute F supplied.');g=gt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(g,3))},set:function(gt){Boolean(gt)===!0?this.F=I(g,3):this.F=Pt(g,3)}});var v=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return v},set:function(gt){if(isNaN(gt))throw new Error('Invalid value "'+gt+'" for attribute Ff supplied.');v=gt}});var _=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_.length!==0)return _},set:function(gt){_=gt!==void 0?gt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[0])?0:_[0]},set:function(gt){_[0]=gt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[1])?0:_[1]},set:function(gt){_[1]=gt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[2])?0:_[2]},set:function(gt){_[2]=gt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[3])?0:_[3]},set:function(gt){_[3]=gt}});var C="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return C},set:function(gt){switch(gt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":C=gt;break;default:throw new Error('Invalid value "'+gt+'" for attribute FT supplied.')}}});var S=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!S||S.length<1){if(this instanceof Si)return;S="FieldObject"+k.FieldNum++}var gt=function(Be){return Be};return this.scope&&(gt=this.scope.internal.getEncryptor(this.objId)),"("+M(gt(S))+")"},set:function(gt){S=gt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return S},set:function(gt){S=gt}});var P="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return P},set:function(gt){P=gt}});var j="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return j},set:function(gt){j=gt}});var N=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return N},set:function(gt){N=gt}});var J=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return J===void 0?50/rt:J},set:function(gt){J=gt}});var _t="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _t},set:function(gt){_t=gt}});var vt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!vt||this instanceof Si||this instanceof ni))return Te(vt,this.objId,this.scope)},set:function(gt){gt=gt.toString(),vt=gt}});var kt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(kt)return this instanceof wn?kt:Te(kt,this.objId,this.scope)},set:function(gt){gt=gt.toString(),kt=this instanceof wn?gt:gt.substr(0,1)==="("?Q(gt.substr(1,gt.length-2)):Q(gt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?Q(kt.substr(1,kt.length-1)):kt},set:function(gt){gt=gt.toString(),kt=this instanceof wn?"/"+gt:gt}});var V=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(V)return V},set:function(gt){this.V=gt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(V)return this instanceof wn?V:Te(V,this.objId,this.scope)},set:function(gt){gt=gt.toString(),V=this instanceof wn?gt:gt.substr(0,1)==="("?Q(gt.substr(1,gt.length-2)):Q(gt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?Q(V.substr(1,V.length-1)):V},set:function(gt){gt=gt.toString(),V=this instanceof wn?"/"+gt:gt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Vt,It=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return It},set:function(gt){gt=Boolean(gt),It=gt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Vt)return Vt},set:function(gt){Vt=gt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,1))},set:function(gt){Boolean(gt)===!0?this.Ff=I(this.Ff,1):this.Ff=Pt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,2))},set:function(gt){Boolean(gt)===!0?this.Ff=I(this.Ff,2):this.Ff=Pt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,3))},set:function(gt){Boolean(gt)===!0?this.Ff=I(this.Ff,3):this.Ff=Pt(this.Ff,3)}});var Jt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Jt!==null)return Jt},set:function(gt){if([0,1,2].indexOf(gt)===-1)throw new Error('Invalid value "'+gt+'" for attribute Q supplied.');Jt=gt}}),Object.defineProperty(this,"textAlign",{get:function(){var gt;switch(Jt){case 0:default:gt="left";break;case 1:gt="center";break;case 2:gt="right"}return gt},configurable:!0,enumerable:!0,set:function(gt){switch(gt){case"right":case 2:Jt=2;break;case"center":case 1:Jt=1;break;case"left":case 0:default:Jt=0}}})};Wt(Hr,De);var Jr=function(){Hr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var g=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return g},set:function(C){g=C}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var v=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ke(v,this.objId,this.scope)},set:function(C){var S,P;P=[],typeof(S=C)=="string"&&(P=function(j,N,J){J||(J=1);for(var _t,vt=[];_t=N.exec(j);)vt.push(_t[J]);return vt}(S,/\((.*?)\)/g)),v=P}}),this.getOptions=function(){return v},this.setOptions=function(_){v=_,this.sort&&v.sort()},this.addOption=function(_){_=(_=_||"").toString(),v.push(_),this.sort&&v.sort()},this.removeOption=function(_,C){for(C=C||!1,_=(_=_||"").toString();v.indexOf(_)!==-1&&(v.splice(v.indexOf(_),1),C!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,18))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,18):this.Ff=Pt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,19))},set:function(C){this.combo===!0&&(Boolean(C)===!0?this.Ff=I(this.Ff,19):this.Ff=Pt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,20))},set:function(C){Boolean(C)===!0?(this.Ff=I(this.Ff,20),v.sort()):this.Ff=Pt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,22))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,22):this.Ff=Pt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,23))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,23):this.Ff=Pt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,27))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,27):this.Ff=Pt(this.Ff,27)}}),this.hasAppearanceStream=!1};Wt(Jr,Hr);var on=function(){Jr.call(this),this.fontName="helvetica",this.combo=!1};Wt(on,Jr);var Dn=function(){on.call(this),this.combo=!0};Wt(Dn,on);var hn=function(){Dn.call(this),this.edit=!0};Wt(hn,Dn);var wn=function(){Hr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,15))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,15):this.Ff=Pt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,16))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,16):this.Ff=Pt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,17))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,17):this.Ff=Pt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,26))},set:function(C){Boolean(C)===!0?this.Ff=I(this.Ff,26):this.Ff=Pt(this.Ff,26)}});var g,v={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var C=function(N){return N};if(this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),Object.keys(v).length!==0){var S,P=[];for(S in P.push("<<"),v)P.push("/"+S+" ("+M(C(v[S]))+")");return P.push(">>"),P.join(`
`)}},set:function(C){le()(C)==="object"&&(v=C)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return v.CA||""},set:function(C){typeof C=="string"&&(v.CA=C)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return g},set:function(C){g=C}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return g.substr(1,g.length-1)},set:function(C){g="/"+C}})};Wt(wn,Hr);var Wn=function(){wn.call(this),this.pushButton=!0};Wt(Wn,wn);var Xn=function(){wn.call(this),this.radio=!0,this.pushButton=!1;var g=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return g},set:function(_){g=_!==void 0?_:[]}})};Wt(Xn,wn);var Si=function(){var g,v;Hr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return g},set:function(P){g=P}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return v},set:function(P){v=P}});var _,C={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(_t){return _t};this.scope&&(P=this.scope.internal.getEncryptor(this.objId));var j,N=[];for(j in N.push("<<"),C)N.push("/"+j+" ("+M(P(C[j]))+")");return N.push(">>"),N.join(`
`)},set:function(P){le()(P)==="object"&&(C=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return C.CA||""},set:function(P){typeof P=="string"&&(C.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return _},set:function(P){_=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return _.substr(1,_.length-1)},set:function(P){_="/"+P}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wt(Si,Hr),Xn.prototype.setAppearance=function(k){if(!("createAppearanceStream"in k)||!("getCA"in k))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var g in this.Kids)if(this.Kids.hasOwnProperty(g)){var v=this.Kids[g];v.appearanceStreamContent=k.createAppearanceStream(v.optionName),v.caption=k.getCA()}},Xn.prototype.createOption=function(k){var g=new Si;return g.Parent=this,g.optionName=k,this.Kids.push(g),Ni.call(this.scope,g),g};var Ii=function(){wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ir.CheckBox.createAppearanceStream()};Wt(Ii,wn);var ni=function(){Hr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,13))},set:function(_){Boolean(_)===!0?this.Ff=I(this.Ff,13):this.Ff=Pt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,21))},set:function(_){Boolean(_)===!0?this.Ff=I(this.Ff,21):this.Ff=Pt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,23))},set:function(_){Boolean(_)===!0?this.Ff=I(this.Ff,23):this.Ff=Pt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,24))},set:function(_){Boolean(_)===!0?this.Ff=I(this.Ff,24):this.Ff=Pt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,25))},set:function(_){Boolean(_)===!0?this.Ff=I(this.Ff,25):this.Ff=Pt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,26))},set:function(_){Boolean(_)===!0?this.Ff=I(this.Ff,26):this.Ff=Pt(this.Ff,26)}});var g=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return g},set:function(_){g=_}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){Number.isInteger(_)&&(g=_)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wt(ni,Hr);var Ea=function(){ni.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(qt(this.Ff,14))},set:function(v){Boolean(v)===!0?this.Ff=I(this.Ff,14):this.Ff=Pt(this.Ff,14)}}),this.password=!0};Wt(Ea,ni);var Ir={CheckBox:{createAppearanceStream:function(){return{N:{On:Ir.CheckBox.YesNormal},D:{On:Ir.CheckBox.YesPushDown,Off:Ir.CheckBox.OffPushDown}}},YesPushDown:function(g){var v=Bt(g);v.scope=g.scope;var _=[],C=g.scope.internal.getFont(g.fontName,g.fontStyle).id,S=g.scope.__private__.encodeColorString(g.color),P=x(g,g.caption);return _.push("0.749023 g"),_.push("0 0 "+ut(Ir.internal.getWidth(g))+" "+ut(Ir.internal.getHeight(g))+" re"),_.push("f"),_.push("BMC"),_.push("q"),_.push("0 0 1 rg"),_.push("/"+C+" "+ut(P.fontSize)+" Tf "+S),_.push("BT"),_.push(P.text),_.push("ET"),_.push("Q"),_.push("EMC"),v.stream=_.join(`
`),v},YesNormal:function(g){var v=Bt(g);v.scope=g.scope;var _=g.scope.internal.getFont(g.fontName,g.fontStyle).id,C=g.scope.__private__.encodeColorString(g.color),S=[],P=Ir.internal.getHeight(g),j=Ir.internal.getWidth(g),N=x(g,g.caption);return S.push("1 g"),S.push("0 0 "+ut(j)+" "+ut(P)+" re"),S.push("f"),S.push("q"),S.push("0 0 1 rg"),S.push("0 0 "+ut(j-1)+" "+ut(P-1)+" re"),S.push("W"),S.push("n"),S.push("0 g"),S.push("BT"),S.push("/"+_+" "+ut(N.fontSize)+" Tf "+C),S.push(N.text),S.push("ET"),S.push("Q"),v.stream=S.join(`
`),v},OffPushDown:function(g){var v=Bt(g);v.scope=g.scope;var _=[];return _.push("0.749023 g"),_.push("0 0 "+ut(Ir.internal.getWidth(g))+" "+ut(Ir.internal.getHeight(g))+" re"),_.push("f"),v.stream=_.join(`
`),v}},RadioButton:{Circle:{createAppearanceStream:function(g){var v={D:{Off:Ir.RadioButton.Circle.OffPushDown},N:{}};return v.N[g]=Ir.RadioButton.Circle.YesNormal,v.D[g]=Ir.RadioButton.Circle.YesPushDown,v},getCA:function(){return"l"},YesNormal:function(g){var v=Bt(g);v.scope=g.scope;var _=[],C=Ir.internal.getWidth(g)<=Ir.internal.getHeight(g)?Ir.internal.getWidth(g)/4:Ir.internal.getHeight(g)/4;C=Number((.9*C).toFixed(5));var S=Ir.internal.Bezier_C,P=Number((C*S).toFixed(5));return _.push("q"),_.push("1 0 0 1 "+ht(Ir.internal.getWidth(g)/2)+" "+ht(Ir.internal.getHeight(g)/2)+" cm"),_.push(C+" 0 m"),_.push(C+" "+P+" "+P+" "+C+" 0 "+C+" c"),_.push("-"+P+" "+C+" -"+C+" "+P+" -"+C+" 0 c"),_.push("-"+C+" -"+P+" -"+P+" -"+C+" 0 -"+C+" c"),_.push(P+" -"+C+" "+C+" -"+P+" "+C+" 0 c"),_.push("f"),_.push("Q"),v.stream=_.join(`
`),v},YesPushDown:function(g){var v=Bt(g);v.scope=g.scope;var _=[],C=Ir.internal.getWidth(g)<=Ir.internal.getHeight(g)?Ir.internal.getWidth(g)/4:Ir.internal.getHeight(g)/4;C=Number((.9*C).toFixed(5));var S=Number((2*C).toFixed(5)),P=Number((S*Ir.internal.Bezier_C).toFixed(5)),j=Number((C*Ir.internal.Bezier_C).toFixed(5));return _.push("0.749023 g"),_.push("q"),_.push("1 0 0 1 "+ht(Ir.internal.getWidth(g)/2)+" "+ht(Ir.internal.getHeight(g)/2)+" cm"),_.push(S+" 0 m"),_.push(S+" "+P+" "+P+" "+S+" 0 "+S+" c"),_.push("-"+P+" "+S+" -"+S+" "+P+" -"+S+" 0 c"),_.push("-"+S+" -"+P+" -"+P+" -"+S+" 0 -"+S+" c"),_.push(P+" -"+S+" "+S+" -"+P+" "+S+" 0 c"),_.push("f"),_.push("Q"),_.push("0 g"),_.push("q"),_.push("1 0 0 1 "+ht(Ir.internal.getWidth(g)/2)+" "+ht(Ir.internal.getHeight(g)/2)+" cm"),_.push(C+" 0 m"),_.push(C+" "+j+" "+j+" "+C+" 0 "+C+" c"),_.push("-"+j+" "+C+" -"+C+" "+j+" -"+C+" 0 c"),_.push("-"+C+" -"+j+" -"+j+" -"+C+" 0 -"+C+" c"),_.push(j+" -"+C+" "+C+" -"+j+" "+C+" 0 c"),_.push("f"),_.push("Q"),v.stream=_.join(`
`),v},OffPushDown:function(g){var v=Bt(g);v.scope=g.scope;var _=[],C=Ir.internal.getWidth(g)<=Ir.internal.getHeight(g)?Ir.internal.getWidth(g)/4:Ir.internal.getHeight(g)/4;C=Number((.9*C).toFixed(5));var S=Number((2*C).toFixed(5)),P=Number((S*Ir.internal.Bezier_C).toFixed(5));return _.push("0.749023 g"),_.push("q"),_.push("1 0 0 1 "+ht(Ir.internal.getWidth(g)/2)+" "+ht(Ir.internal.getHeight(g)/2)+" cm"),_.push(S+" 0 m"),_.push(S+" "+P+" "+P+" "+S+" 0 "+S+" c"),_.push("-"+P+" "+S+" -"+S+" "+P+" -"+S+" 0 c"),_.push("-"+S+" -"+P+" -"+P+" -"+S+" 0 -"+S+" c"),_.push(P+" -"+S+" "+S+" -"+P+" "+S+" 0 c"),_.push("f"),_.push("Q"),v.stream=_.join(`
`),v}},Cross:{createAppearanceStream:function(g){var v={D:{Off:Ir.RadioButton.Cross.OffPushDown},N:{}};return v.N[g]=Ir.RadioButton.Cross.YesNormal,v.D[g]=Ir.RadioButton.Cross.YesPushDown,v},getCA:function(){return"8"},YesNormal:function(g){var v=Bt(g);v.scope=g.scope;var _=[],C=Ir.internal.calculateCross(g);return _.push("q"),_.push("1 1 "+ut(Ir.internal.getWidth(g)-2)+" "+ut(Ir.internal.getHeight(g)-2)+" re"),_.push("W"),_.push("n"),_.push(ut(C.x1.x)+" "+ut(C.x1.y)+" m"),_.push(ut(C.x2.x)+" "+ut(C.x2.y)+" l"),_.push(ut(C.x4.x)+" "+ut(C.x4.y)+" m"),_.push(ut(C.x3.x)+" "+ut(C.x3.y)+" l"),_.push("s"),_.push("Q"),v.stream=_.join(`
`),v},YesPushDown:function(g){var v=Bt(g);v.scope=g.scope;var _=Ir.internal.calculateCross(g),C=[];return C.push("0.749023 g"),C.push("0 0 "+ut(Ir.internal.getWidth(g))+" "+ut(Ir.internal.getHeight(g))+" re"),C.push("f"),C.push("q"),C.push("1 1 "+ut(Ir.internal.getWidth(g)-2)+" "+ut(Ir.internal.getHeight(g)-2)+" re"),C.push("W"),C.push("n"),C.push(ut(_.x1.x)+" "+ut(_.x1.y)+" m"),C.push(ut(_.x2.x)+" "+ut(_.x2.y)+" l"),C.push(ut(_.x4.x)+" "+ut(_.x4.y)+" m"),C.push(ut(_.x3.x)+" "+ut(_.x3.y)+" l"),C.push("s"),C.push("Q"),v.stream=C.join(`
`),v},OffPushDown:function(g){var v=Bt(g);v.scope=g.scope;var _=[];return _.push("0.749023 g"),_.push("0 0 "+ut(Ir.internal.getWidth(g))+" "+ut(Ir.internal.getHeight(g))+" re"),_.push("f"),v.stream=_.join(`
`),v}}},createDefaultAppearanceStream:function(g){var v=g.scope.internal.getFont(g.fontName,g.fontStyle).id,_=g.scope.__private__.encodeColorString(g.color);return"/"+v+" "+g.fontSize+" Tf "+_}};Ir.internal={Bezier_C:.551915024494,calculateCross:function(g){var v=Ir.internal.getWidth(g),_=Ir.internal.getHeight(g),C=Math.min(v,_);return{x1:{x:(v-C)/2,y:(_-C)/2+C},x2:{x:(v-C)/2+C,y:(_-C)/2},x3:{x:(v-C)/2,y:(_-C)/2},x4:{x:(v-C)/2+C,y:(_-C)/2+C}}}},Ir.internal.getWidth=function(k){var g=0;return le()(k)==="object"&&(g=bt(k.Rect[2])),g},Ir.internal.getHeight=function(k){var g=0;return le()(k)==="object"&&(g=bt(k.Rect[3])),g};var Ni=X.addField=function(k){if(jt(this,k),!(k instanceof Hr))throw new Error("Invalid argument passed to jsPDF.addField.");var g;return(g=k).scope.internal.acroformPlugin.printedOut&&(g.scope.internal.acroformPlugin.printedOut=!1,g.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),g.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(g),k.page=k.scope.internal.getCurrentPageInfo().pageNumber,this};X.AcroFormChoiceField=Jr,X.AcroFormListBox=on,X.AcroFormComboBox=Dn,X.AcroFormEditBox=hn,X.AcroFormButton=wn,X.AcroFormPushButton=Wn,X.AcroFormRadioButton=Xn,X.AcroFormCheckBox=Ii,X.AcroFormTextField=ni,X.AcroFormPasswordField=Ea,X.AcroFormAppearance=Ir,X.AcroForm={ChoiceField:Jr,ListBox:on,ComboBox:Dn,EditBox:hn,Button:wn,PushButton:Wn,RadioButton:Xn,CheckBox:Ii,TextField:ni,PasswordField:Ea,Appearance:Ir},et.AcroForm={ChoiceField:Jr,ListBox:on,ComboBox:Dn,EditBox:hn,Button:wn,PushButton:Wn,RadioButton:Xn,CheckBox:Ii,TextField:ni,PasswordField:Ea,Appearance:Ir};var Fa=et.AcroForm;function $s(k){return k.reduce(function(g,v,_){return g[v]=_,g},{})}(function(k){k.__addimage__={};var g="UNKNOWN",v={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_=k.__addimage__.getImageFileTypeByImageData=function(ie,zt){var ce,he,Je,Ve,pr,Re=g;if((zt=zt||g)==="RGBA"||ie.data!==void 0&&ie.data instanceof Uint8ClampedArray&&"height"in ie&&"width"in ie)return"RGBA";if(fr(ie))for(pr in v)for(Je=v[pr],ce=0;ce<Je.length;ce+=1){for(Ve=!0,he=0;he<Je[ce].length;he+=1)if(Je[ce][he]!==void 0&&Je[ce][he]!==ie[he]){Ve=!1;break}if(Ve===!0){Re=pr;break}}else for(pr in v)for(Je=v[pr],ce=0;ce<Je.length;ce+=1){for(Ve=!0,he=0;he<Je[ce].length;he+=1)if(Je[ce][he]!==void 0&&Je[ce][he]!==ie.charCodeAt(he)){Ve=!1;break}if(Ve===!0){Re=pr;break}}return Re===g&&zt!==g&&(Re=zt),Re},C=function ie(zt){for(var ce=this.internal.write,he=this.internal.putStream,Je=(0,this.internal.getFilters)();Je.indexOf("FlateEncode")!==-1;)Je.splice(Je.indexOf("FlateEncode"),1);zt.objectId=this.internal.newObject();var Ve=[];if(Ve.push({key:"Type",value:"/XObject"}),Ve.push({key:"Subtype",value:"/Image"}),Ve.push({key:"Width",value:zt.width}),Ve.push({key:"Height",value:zt.height}),zt.colorSpace===Jt.INDEXED?Ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(zt.palette.length/3-1)+" "+("sMask"in zt&&zt.sMask!==void 0?zt.objectId+2:zt.objectId+1)+" 0 R]"}):(Ve.push({key:"ColorSpace",value:"/"+zt.colorSpace}),zt.colorSpace===Jt.DEVICE_CMYK&&Ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ve.push({key:"BitsPerComponent",value:zt.bitsPerComponent}),"decodeParameters"in zt&&zt.decodeParameters!==void 0&&Ve.push({key:"DecodeParms",value:"<<"+zt.decodeParameters+">>"}),"transparency"in zt&&Array.isArray(zt.transparency)){for(var pr="",Re=0,wr=zt.transparency.length;Re<wr;Re++)pr+=zt.transparency[Re]+" "+zt.transparency[Re]+" ";Ve.push({key:"Mask",value:"["+pr+"]"})}zt.sMask!==void 0&&Ve.push({key:"SMask",value:zt.objectId+1+" 0 R"});var Qe=zt.filter!==void 0?["/"+zt.filter]:void 0;if(he({data:zt.data,additionalKeyValues:Ve,alreadyAppliedFilters:Qe,objectId:zt.objectId}),ce("endobj"),"sMask"in zt&&zt.sMask!==void 0){var Ar="/Predictor "+zt.predictor+" /Colors 1 /BitsPerComponent "+zt.bitsPerComponent+" /Columns "+zt.width,te={width:zt.width,height:zt.height,colorSpace:"DeviceGray",bitsPerComponent:zt.bitsPerComponent,decodeParameters:Ar,data:zt.sMask};"filter"in zt&&(te.filter=zt.filter),ie.call(this,te)}if(zt.colorSpace===Jt.INDEXED){var xt=this.internal.newObject();he({data:mr(new Uint8Array(zt.palette)),objectId:xt}),ce("endobj")}},S=function(){var zt=this.internal.collections.addImage_images;for(var ce in zt)C.call(this,zt[ce])},P=function(){var zt,ce=this.internal.collections.addImage_images,he=this.internal.write;for(var Je in ce)he("/I"+(zt=ce[Je]).index,zt.objectId,"0","R")},j=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",S),this.internal.events.subscribe("putXobjectDict",P))},N=function(){var zt=this.internal.collections.addImage_images;return j.call(this),zt},J=function(){return Object.keys(this.internal.collections.addImage_images).length},_t=function(zt){return typeof k["process"+zt.toUpperCase()]=="function"},vt=function(zt){return le()(zt)==="object"&&zt.nodeType===1},kt=function(zt,ce){if(zt.nodeName==="IMG"&&zt.hasAttribute("src")){var he=""+zt.getAttribute("src");if(he.indexOf("data:image/")===0)return u(unescape(he).split("base64,").pop());var Je=k.loadFile(he,!0);if(Je!==void 0)return Je}if(zt.nodeName==="CANVAS"){if(zt.width===0||zt.height===0)throw new Error("Given canvas must have data. Canvas width: "+zt.width+", height: "+zt.height);var Ve;switch(ce){case"PNG":Ve="image/png";break;case"WEBP":Ve="image/webp";break;case"JPEG":case"JPG":default:Ve="image/jpeg"}return u(zt.toDataURL(Ve,1).split("base64,").pop())}},V=function(zt){var ce=this.internal.collections.addImage_images;if(ce){for(var he in ce)if(zt===ce[he].alias)return ce[he]}},Vt=function(zt,ce,he){return zt||ce||(zt=-96,ce=-96),zt<0&&(zt=-1*he.width*72/zt/this.internal.scaleFactor),ce<0&&(ce=-1*he.height*72/ce/this.internal.scaleFactor),zt===0&&(zt=ce*he.width/he.height),ce===0&&(ce=zt*he.height/he.width),[zt,ce]},It=function(zt,ce,he,Je,Ve,pr){var Re=Vt.call(this,he,Je,Ve),wr=this.internal.getCoordinateString,Qe=this.internal.getVerticalCoordinateString,Ar=N.call(this);if(he=Re[0],Je=Re[1],Ar[Ve.index]=Ve,pr){pr*=Math.PI/180;var te=Math.cos(pr),xt=Math.sin(pr),Qt=function(Ie){return Ie.toFixed(4)},ve=[Qt(te),Qt(xt),Qt(-1*xt),Qt(te),0,0,"cm"]}this.internal.write("q"),pr?(this.internal.write([1,"0","0",1,wr(zt),Qe(ce+Je),"cm"].join(" ")),this.internal.write(ve.join(" ")),this.internal.write([wr(he),"0","0",wr(Je),"0","0","cm"].join(" "))):this.internal.write([wr(he),"0","0",wr(Je),wr(zt),Qe(ce+Je),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ve.index+" Do"),this.internal.write("Q")},Jt=k.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};k.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Mt=k.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},gt=k.__addimage__.sHashCode=function(ie){var zt,ce,he=0;if(typeof ie=="string")for(ce=ie.length,zt=0;zt<ce;zt++)he=(he<<5)-he+ie.charCodeAt(zt),he|=0;else if(fr(ie))for(ce=ie.byteLength/2,zt=0;zt<ce;zt++)he=(he<<5)-he+ie[zt],he|=0;return he},xe=k.__addimage__.validateStringAsBase64=function(ie){(ie=ie||"").toString().trim();var zt=!0;return ie.length===0&&(zt=!1),ie.length%4!=0&&(zt=!1),/^[A-Za-z0-9+/]+$/.test(ie.substr(0,ie.length-2))===!1&&(zt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ie.substr(-2))===!1&&(zt=!1),zt},Be=k.__addimage__.extractImageFromDataUrl=function(ie){var zt=(ie=ie||"").split("base64,"),ce=null;if(zt.length===2){var he=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(zt[0]);Array.isArray(he)&&(ce={mimeType:he[1],charset:he[2],data:zt[1]})}return ce},$e=k.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};k.__addimage__.isArrayBuffer=function(ie){return $e()&&ie instanceof ArrayBuffer};var fr=k.__addimage__.isArrayBufferView=function(ie){return $e()&&typeof Uint32Array!="undefined"&&(ie instanceof Int8Array||ie instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&ie instanceof Uint8ClampedArray||ie instanceof Int16Array||ie instanceof Uint16Array||ie instanceof Int32Array||ie instanceof Uint32Array||ie instanceof Float32Array||ie instanceof Float64Array)},Ge=k.__addimage__.binaryStringToUint8Array=function(ie){for(var zt=ie.length,ce=new Uint8Array(zt),he=0;he<zt;he++)ce[he]=ie.charCodeAt(he);return ce},mr=k.__addimage__.arrayBufferToBinaryString=function(ie){for(var zt="",ce=fr(ie)?ie:new Uint8Array(ie),he=0;he<ce.length;he+=8192)zt+=String.fromCharCode.apply(null,ce.subarray(he,he+8192));return zt};k.addImage=function(){var ie,zt,ce,he,Je,Ve,pr,Re,wr;if(typeof arguments[1]=="number"?(zt=g,ce=arguments[1],he=arguments[2],Je=arguments[3],Ve=arguments[4],pr=arguments[5],Re=arguments[6],wr=arguments[7]):(zt=arguments[1],ce=arguments[2],he=arguments[3],Je=arguments[4],Ve=arguments[5],pr=arguments[6],Re=arguments[7],wr=arguments[8]),le()(ie=arguments[0])==="object"&&!vt(ie)&&"imageData"in ie){var Qe=ie;ie=Qe.imageData,zt=Qe.format||zt||g,ce=Qe.x||ce||0,he=Qe.y||he||0,Je=Qe.w||Qe.width||Je,Ve=Qe.h||Qe.height||Ve,pr=Qe.alias||pr,Re=Qe.compression||Re,wr=Qe.rotation||Qe.angle||wr}var Ar=this.internal.getFilters();if(Re===void 0&&Ar.indexOf("FlateEncode")!==-1&&(Re="SLOW"),isNaN(ce)||isNaN(he))throw new Error("Invalid coordinates passed to jsPDF.addImage");j.call(this);var te=fe.call(this,ie,zt,pr,Re);return It.call(this,ce,he,Je,Ve,te,wr),this};var fe=function(zt,ce,he,Je){var Ve,pr,Re;if(typeof zt=="string"&&_(zt)===g){zt=unescape(zt);var wr=Xe(zt,!1);(wr!==""||(wr=k.loadFile(zt,!0))!==void 0)&&(zt=wr)}if(vt(zt)&&(zt=kt(zt,ce)),ce=_(zt,ce),!_t(ce))throw new Error("addImage does not support files of type '"+ce+"', please ensure that a plugin for '"+ce+"' support is added.");if(((Re=he)==null||Re.length===0)&&(he=function(Qe){return typeof Qe=="string"||fr(Qe)?gt(Qe):fr(Qe.data)?gt(Qe.data):null}(zt)),(Ve=V.call(this,he))||($e()&&(zt instanceof Uint8Array||ce==="RGBA"||(pr=zt,zt=Ge(zt))),Ve=this["process"+ce.toUpperCase()](zt,J.call(this),he,function(Qe){return Qe&&typeof Qe=="string"&&(Qe=Qe.toUpperCase()),Qe in k.image_compression?Qe:Mt.NONE}(Je),pr)),!Ve)throw new Error("An unknown error occurred whilst processing the image.");return Ve},Xe=k.__addimage__.convertBase64ToBinaryString=function(ie,zt){var ce;zt=typeof zt!="boolean"||zt;var he,Je="";if(typeof ie=="string"){he=(ce=Be(ie))!==null?ce.data:ie;try{Je=u(he)}catch(Ve){if(zt)throw xe(he)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Je};k.getImageProperties=function(ie){var zt,ce,he="";if(vt(ie)&&(ie=kt(ie)),typeof ie=="string"&&_(ie)===g&&((he=Xe(ie,!1))===""&&(he=k.loadFile(ie)||""),ie=he),ce=_(ie),!_t(ce))throw new Error("addImage does not support files of type '"+ce+"', please ensure that a plugin for '"+ce+"' support is added.");if(!$e()||ie instanceof Uint8Array||(ie=Ge(ie)),!(zt=this["process"+ce.toUpperCase()](ie)))throw new Error("An unknown error occurred whilst processing the image");return zt.fileType=ce,zt}})(et.API),function(k){var g=function(_){if(_!==void 0&&_!="")return!0};et.API.events.push(["addPage",function(v){this.internal.getPageInfo(v.pageNumber).pageContext.annotations=[]}]),k.events.push(["putPage",function(v){for(var _,C,S,P=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString,N=this.internal.getPageInfoByObjId(v.objId),J=v.pageContext.annotations,_t=!1,vt=0;vt<J.length&&!_t;vt++)switch((_=J[vt]).type){case"link":(g(_.options.url)||g(_.options.pageNumber))&&(_t=!0);break;case"reference":case"text":case"freetext":_t=!0}if(_t!=0){this.internal.write("/Annots [");for(var kt=0;kt<J.length;kt++){_=J[kt];var V=this.internal.pdfEscape,Vt=this.internal.getEncryptor(v.objId);switch(_.type){case"reference":this.internal.write(" "+_.object.objId+" 0 R ");break;case"text":var It=this.internal.newAdditionalObject(),Jt=this.internal.newAdditionalObject(),Mt=this.internal.getEncryptor(It.objId),gt=_.title||"Note";S="<</Type /Annot /Subtype /Text "+(C="/Rect ["+P(_.bounds.x)+" "+j(_.bounds.y+_.bounds.h)+" "+P(_.bounds.x+_.bounds.w)+" "+j(_.bounds.y)+"] ")+"/Contents ("+V(Mt(_.contents))+")",S+=" /Popup "+Jt.objId+" 0 R",S+=" /P "+N.objId+" 0 R",S+=" /T ("+V(Mt(gt))+") >>",It.content=S;var xe=It.objId+" 0 R";S="<</Type /Annot /Subtype /Popup "+(C="/Rect ["+P(_.bounds.x+30)+" "+j(_.bounds.y+_.bounds.h)+" "+P(_.bounds.x+_.bounds.w+30)+" "+j(_.bounds.y)+"] ")+" /Parent "+xe,_.open&&(S+=" /Open true"),S+=" >>",Jt.content=S,this.internal.write(It.objId,"0 R",Jt.objId,"0 R");break;case"freetext":C="/Rect ["+P(_.bounds.x)+" "+j(_.bounds.y)+" "+P(_.bounds.x+_.bounds.w)+" "+j(_.bounds.y+_.bounds.h)+"] ";var Be=_.color||"#000000";S="<</Type /Annot /Subtype /FreeText "+C+"/Contents ("+V(Vt(_.contents))+")",S+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Be+")",S+=" /Border [0 0 0]",S+=" >>",this.internal.write(S);break;case"link":if(_.options.name){var $e=this.annotations._nameMap[_.options.name];_.options.pageNumber=$e.page,_.options.top=$e.y}else _.options.top||(_.options.top=0);if(C="/Rect ["+_.finalBounds.x+" "+_.finalBounds.y+" "+_.finalBounds.w+" "+_.finalBounds.h+"] ",S="",_.options.url)S="<</Type /Annot /Subtype /Link "+C+"/Border [0 0 0] /A <</S /URI /URI ("+V(Vt(_.options.url))+") >>";else if(_.options.pageNumber)switch(S="<</Type /Annot /Subtype /Link "+C+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_.options.pageNumber).objId+" 0 R",_.options.magFactor=_.options.magFactor||"XYZ",_.options.magFactor){case"Fit":S+=" /Fit]";break;case"FitH":S+=" /FitH "+_.options.top+"]";break;case"FitV":_.options.left=_.options.left||0,S+=" /FitV "+_.options.left+"]";break;case"XYZ":default:var fr=j(_.options.top);_.options.left=_.options.left||0,_.options.zoom===void 0&&(_.options.zoom=0),S+=" /XYZ "+_.options.left+" "+fr+" "+_.options.zoom+"]"}S!=""&&(S+=" >>",this.internal.write(S))}}this.internal.write("]")}}]),k.createAnnotation=function(v){var _=this.internal.getCurrentPageInfo();switch(v.type){case"link":this.link(v.bounds.x,v.bounds.y,v.bounds.w,v.bounds.h,v);break;case"text":case"freetext":_.pageContext.annotations.push(v)}},k.link=function(v,_,C,S,P){var j=this.internal.getCurrentPageInfo(),N=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString;j.pageContext.annotations.push({finalBounds:{x:N(v),y:J(_),w:N(v+C),h:J(_+S)},options:P,type:"link"})},k.textWithLink=function(v,_,C,S){var P,j,N=this.getTextWidth(v),J=this.internal.getLineHeight()/this.internal.scaleFactor;if(S.maxWidth!==void 0){j=S.maxWidth;var _t=this.splitTextToSize(v,j).length;P=Math.ceil(J*_t)}else j=N,P=J;return this.text(v,_,C,S),C+=.2*J,S.align==="center"&&(_-=N/2),S.align==="right"&&(_-=N),this.link(_,C-J,j,P,S),N},k.getTextWidth=function(v){var _=this.internal.getFontSize();return this.getStringUnitWidth(v)*_/this.internal.scaleFactor}}(et.API),function(k){var g={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},v={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},C=[1570,1571,1573,1575];k.__arabicParser__={};var S=k.__arabicParser__.isInArabicSubstitutionA=function(It){return g[It.charCodeAt(0)]!==void 0},P=k.__arabicParser__.isArabicLetter=function(It){return typeof It=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(It)},j=k.__arabicParser__.isArabicEndLetter=function(It){return P(It)&&S(It)&&g[It.charCodeAt(0)].length<=2},N=k.__arabicParser__.isArabicAlfLetter=function(It){return P(It)&&C.indexOf(It.charCodeAt(0))>=0};k.__arabicParser__.arabicLetterHasIsolatedForm=function(It){return P(It)&&S(It)&&g[It.charCodeAt(0)].length>=1};var J=k.__arabicParser__.arabicLetterHasFinalForm=function(It){return P(It)&&S(It)&&g[It.charCodeAt(0)].length>=2};k.__arabicParser__.arabicLetterHasInitialForm=function(It){return P(It)&&S(It)&&g[It.charCodeAt(0)].length>=3};var _t=k.__arabicParser__.arabicLetterHasMedialForm=function(It){return P(It)&&S(It)&&g[It.charCodeAt(0)].length==4},vt=k.__arabicParser__.resolveLigatures=function(It){var Jt=0,Mt=v,gt="",xe=0;for(Jt=0;Jt<It.length;Jt+=1)Mt[It.charCodeAt(Jt)]!==void 0?(xe++,typeof(Mt=Mt[It.charCodeAt(Jt)])=="number"&&(gt+=String.fromCharCode(Mt),Mt=v,xe=0),Jt===It.length-1&&(Mt=v,gt+=It.charAt(Jt-(xe-1)),Jt-=xe-1,xe=0)):(Mt=v,gt+=It.charAt(Jt-xe),Jt-=xe,xe=0);return gt};k.__arabicParser__.isArabicDiacritic=function(It){return It!==void 0&&_[It.charCodeAt(0)]!==void 0};var kt=k.__arabicParser__.getCorrectForm=function(It,Jt,Mt){return P(It)?S(It)===!1?-1:!J(It)||!P(Jt)&&!P(Mt)||!P(Mt)&&j(Jt)||j(It)&&!P(Jt)||j(It)&&N(Jt)||j(It)&&j(Jt)?0:_t(It)&&P(Jt)&&!j(Jt)&&P(Mt)&&J(Mt)?3:j(It)||!P(Mt)?1:2:-1},V=function(Jt){var Mt=0,gt=0,xe=0,Be="",$e="",fr="",Ge=(Jt=Jt||"").split("\\s+"),mr=[];for(Mt=0;Mt<Ge.length;Mt+=1){for(mr.push(""),gt=0;gt<Ge[Mt].length;gt+=1)Be=Ge[Mt][gt],$e=Ge[Mt][gt-1],fr=Ge[Mt][gt+1],P(Be)?(xe=kt(Be,$e,fr),mr[Mt]+=xe!==-1?String.fromCharCode(g[Be.charCodeAt(0)][xe]):Be):mr[Mt]+=Be;mr[Mt]=vt(mr[Mt])}return mr.join(" ")},Vt=k.__arabicParser__.processArabic=k.processArabic=function(){var It,Jt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Mt=[];if(Array.isArray(Jt)){var gt=0;for(Mt=[],gt=0;gt<Jt.length;gt+=1)Array.isArray(Jt[gt])?Mt.push([V(Jt[gt][0]),Jt[gt][1],Jt[gt][2]]):Mt.push([V(Jt[gt])]);It=Mt}else It=V(Jt);return typeof arguments[0]=="string"?It:(arguments[0].text=It,arguments[0])};k.events.push(["preProcessText",Vt])}(et.API),et.API.autoPrint=function(k){var g;switch((k=k||{}).variant=k.variant||"non-conform",k.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+g+" 0 R")})}return this},function(k){var g=function(){var _=void 0;Object.defineProperty(this,"pdf",{get:function(){return _},set:function(J){_=J}});var C=150;Object.defineProperty(this,"width",{get:function(){return C},set:function(J){C=isNaN(J)||Number.isInteger(J)===!1||J<0?150:J,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=C+1)}});var S=300;Object.defineProperty(this,"height",{get:function(){return S},set:function(J){S=isNaN(J)||Number.isInteger(J)===!1||J<0?300:J,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=S+1)}});var P=[];Object.defineProperty(this,"childNodes",{get:function(){return P},set:function(J){P=J}});var j={};Object.defineProperty(this,"style",{get:function(){return j},set:function(J){j=J}}),Object.defineProperty(this,"parentNode",{})};g.prototype.getContext=function(v,_){var C;if((v=v||"2d")!=="2d")return null;for(C in _)this.pdf.context2d.hasOwnProperty(C)&&(this.pdf.context2d[C]=_[C]);return this.pdf.context2d._canvas=this,this.pdf.context2d},g.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},k.events.push(["initialized",function(){this.canvas=new g,this.canvas.pdf=this}])}(et.API),function(k){var g={left:0,top:0,bottom:0,right:0},v=!1,_=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},g),this.internal.__cell__.margins.width=this.getPageWidth(),C.call(this))},C=function(){this.internal.__cell__.lastCell=new S,this.internal.__cell__.pages=1},S=function(){var J=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Mt){J=Mt}});var _t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _t},set:function(Mt){_t=Mt}});var vt=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return vt},set:function(Mt){vt=Mt}});var kt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return kt},set:function(Mt){kt=Mt}});var V=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return V},set:function(Mt){V=Mt}});var Vt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Vt},set:function(Mt){Vt=Mt}});var It=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return It},set:function(Mt){It=Mt}}),this};S.prototype.clone=function(){return new S(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},S.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},k.setHeaderFunction=function(N){return _.call(this),this.internal.__cell__.headerFunction=typeof N=="function"?N:void 0,this},k.getTextDimensions=function(N,J){_.call(this);var _t=(J=J||{}).fontSize||this.getFontSize(),vt=J.font||this.getFont(),kt=J.scaleFactor||this.internal.scaleFactor,V=0,Vt=0,It=0,Jt=this;if(!Array.isArray(N)&&typeof N!="string"){if(typeof N!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");N=String(N)}var Mt=J.maxWidth;Mt>0?typeof N=="string"?N=this.splitTextToSize(N,Mt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(xe,Be){return xe.concat(Jt.splitTextToSize(Be,Mt))},[])):N=Array.isArray(N)?N:[N];for(var gt=0;gt<N.length;gt++)V<(It=this.getStringUnitWidth(N[gt],{font:vt})*_t)&&(V=It);return V!==0&&(Vt=N.length),{w:V/=kt,h:Math.max((Vt*_t*this.getLineHeightFactor()-_t*(this.getLineHeightFactor()-1))/kt,0)}},k.cellAddPage=function(){_.call(this),this.addPage();var N=this.internal.__cell__.margins||g;return this.internal.__cell__.lastCell=new S(N.left,N.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var P=k.cell=function(){var N;N=arguments[0]instanceof S?arguments[0]:new S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_.call(this);var J=this.internal.__cell__.lastCell,_t=this.internal.__cell__.padding,vt=this.internal.__cell__.margins||g,kt=this.internal.__cell__.tableHeaderRow,V=this.internal.__cell__.printHeaders;return J.lineNumber!==void 0&&(J.lineNumber===N.lineNumber?(N.x=(J.x||0)+(J.width||0),N.y=J.y||0):J.y+J.height+N.height+vt.bottom>this.getPageHeight()?(this.cellAddPage(),N.y=vt.top,V&&kt&&(this.printHeaderRow(N.lineNumber,!0),N.y+=kt[0].height)):N.y=J.y+J.height||N.y),N.text[0]!==void 0&&(this.rect(N.x,N.y,N.width,N.height,v===!0?"FD":void 0),N.align==="right"?this.text(N.text,N.x+N.width-_t,N.y+_t,{align:"right",baseline:"top"}):N.align==="center"?this.text(N.text,N.x+N.width/2,N.y+_t,{align:"center",baseline:"top",maxWidth:N.width-_t-_t}):this.text(N.text,N.x+_t,N.y+_t,{align:"left",baseline:"top",maxWidth:N.width-_t-_t})),this.internal.__cell__.lastCell=N,this};k.table=function(N,J,_t,vt,kt){if(_.call(this),!_t)throw new Error("No data for PDF table.");var V,Vt,It,Jt,Mt=[],gt=[],xe=[],Be={},$e={},fr=[],Ge=[],mr=(kt=kt||{}).autoSize||!1,fe=kt.printHeaders!==!1,Xe=kt.css&&kt.css["font-size"]!==void 0?16*kt.css["font-size"]:kt.fontSize||12,ie=kt.margins||Object.assign({width:this.getPageWidth()},g),zt=typeof kt.padding=="number"?kt.padding:3,ce=kt.headerBackgroundColor||"#c8c8c8",he=kt.headerTextColor||"#000";if(C.call(this),this.internal.__cell__.printHeaders=fe,this.internal.__cell__.margins=ie,this.internal.__cell__.table_font_size=Xe,this.internal.__cell__.padding=zt,this.internal.__cell__.headerBackgroundColor=ce,this.internal.__cell__.headerTextColor=he,this.setFontSize(Xe),vt==null)gt=Mt=Object.keys(_t[0]),xe=Mt.map(function(){return"left"});else if(Array.isArray(vt)&&le()(vt[0])==="object")for(Mt=vt.map(function(Qe){return Qe.name}),gt=vt.map(function(Qe){return Qe.prompt||Qe.name||""}),xe=vt.map(function(Qe){return Qe.align||"left"}),V=0;V<vt.length;V+=1)$e[vt[V].name]=vt[V].width*(19.049976/25.4);else Array.isArray(vt)&&typeof vt[0]=="string"&&(gt=Mt=vt,xe=Mt.map(function(){return"left"}));if(mr||Array.isArray(vt)&&typeof vt[0]=="string")for(V=0;V<Mt.length;V+=1){for(Be[Jt=Mt[V]]=_t.map(function(Qe){return Qe[Jt]}),this.setFont(void 0,"bold"),fr.push(this.getTextDimensions(gt[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Vt=Be[Jt],this.setFont(void 0,"normal"),It=0;It<Vt.length;It+=1)fr.push(this.getTextDimensions(Vt[It],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$e[Jt]=Math.max.apply(null,fr)+zt+zt,fr=[]}if(fe){var Je={};for(V=0;V<Mt.length;V+=1)Je[Mt[V]]={},Je[Mt[V]].text=gt[V],Je[Mt[V]].align=xe[V];var Ve=j.call(this,Je,$e);Ge=Mt.map(function(Qe){return new S(N,J,$e[Qe],Ve,Je[Qe].text,void 0,Je[Qe].align)}),this.setTableHeaderRow(Ge),this.printHeaderRow(1,!1)}var pr=vt.reduce(function(Qe,Ar){return Qe[Ar.name]=Ar.align,Qe},{});for(V=0;V<_t.length;V+=1){"rowStart"in kt&&kt.rowStart instanceof Function&&kt.rowStart({row:V,data:_t[V]},this);var Re=j.call(this,_t[V],$e);for(It=0;It<Mt.length;It+=1){var wr=_t[V][Mt[It]];"cellStart"in kt&&kt.cellStart instanceof Function&&kt.cellStart({row:V,col:It,data:wr},this),P.call(this,new S(N,J,$e[Mt[It]],Re,wr,V+2,pr[Mt[It]]))}}return this.internal.__cell__.table_x=N,this.internal.__cell__.table_y=J,this};var j=function(J,_t){var vt=this.internal.__cell__.padding,kt=this.internal.__cell__.table_font_size,V=this.internal.scaleFactor;return Object.keys(J).map(function(Vt){var It=J[Vt];return this.splitTextToSize(It.hasOwnProperty("text")?It.text:It,_t[Vt]-vt-vt)},this).map(function(Vt){return this.getLineHeightFactor()*Vt.length*kt/V+vt+vt},this).reduce(function(Vt,It){return Math.max(Vt,It)},0)};k.setTableHeaderRow=function(N){_.call(this),this.internal.__cell__.tableHeaderRow=N},k.printHeaderRow=function(N,J){if(_.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _t;if(v=!0,typeof this.internal.__cell__.headerFunction=="function"){var vt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new S(vt[0],vt[1],vt[2],vt[3],void 0,-1)}this.setFont(void 0,"bold");for(var kt=[],V=0;V<this.internal.__cell__.tableHeaderRow.length;V+=1){_t=this.internal.__cell__.tableHeaderRow[V].clone(),J&&(_t.y=this.internal.__cell__.margins.top||0,kt.push(_t)),_t.lineNumber=N;var Vt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),P.call(this,_t),this.setTextColor(Vt)}kt.length>0&&this.setTableHeaderRow(kt),this.setFont(void 0,"normal"),v=!1}}(et.API);var $o={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Qs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ya=$s(Qs),Co=[100,200,300,400,500,600,700,800,900],Ao=$s(Co);function us(k){var g=k.family.replace(/"|'/g,"").toLowerCase(),v=function(S){return $o[S=S||"normal"]?S:"normal"}(k.style),_=function(S){if(!S)return 400;if(typeof S=="number")return S>=100&&S<=900&&S%100==0?S:400;if(/^\d00$/.test(S))return parseInt(S);switch(S){case"bold":return 700;case"normal":default:return 400}}(k.weight),C=function(S){return typeof Ya[S=S||"normal"]=="number"?S:"normal"}(k.stretch);return{family:g,style:v,weight:_,stretch:C,src:k.src||[],ref:k.ref||{name:g,style:[C,v,_].join(" ")}}}function hs(k,g,v,_){var C;for(C=v;C>=0&&C<g.length;C+=_)if(k[g[C]])return k[g[C]];for(C=v;C>=0&&C<g.length;C-=_)if(k[g[C]])return k[g[C]]}var Ll={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},to={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ls(k){return[k.stretch,k.style,k.weight,k.family].join(" ")}function ks(k,g,v){for(var _=(v=v||{}).defaultFontFamily||"times",C=Object.assign({},Ll,v.genericFontFamilies||{}),S=null,P=null,j=0;j<g.length;++j)if(C[(S=us(g[j])).family]&&(S.family=C[S.family]),k.hasOwnProperty(S.family)){P=k[S.family];break}if(!(P=P||k[_]))throw new Error("Could not find a font-family for the rule '"+Ls(S)+"' and default family '"+_+"'.");if(P=function(N,J){if(J[N])return J[N];var _t=Ya[N],vt=_t<=Ya.normal?-1:1,kt=hs(J,Qs,_t,vt);if(!kt)throw new Error("Could not find a matching font-stretch value for "+N);return kt}(S.stretch,P),P=function(N,J){if(J[N])return J[N];for(var _t=$o[N],vt=0;vt<_t.length;++vt)if(J[_t[vt]])return J[_t[vt]];throw new Error("Could not find a matching font-style for "+N)}(S.style,P),!(P=function(N,J){if(J[N])return J[N];if(N===400&&J[500])return J[500];if(N===500&&J[400])return J[400];var _t=Ao[N],vt=hs(J,Co,_t,N<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+N);return vt}(S.weight,P)))throw new Error("Failed to resolve a font for the rule '"+Ls(S)+"'.");return P}function To(k){return k.trimLeft()}function Qo(k,g){for(var v=0;v<k.length;){if(k.charAt(v)===g)return[k.substring(0,v),k.substring(v+1)];v+=1}return null}function Es(k){var g=k.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return g===null?null:[g[0],k.substring(g[0].length)]}var Xa,tl,el,K=["times"];(function(k){var g,v,_,C,S,P,j,N,J,_t=function(xt){return xt=xt||{},this.isStrokeTransparent=xt.isStrokeTransparent||!1,this.strokeOpacity=xt.strokeOpacity||1,this.strokeStyle=xt.strokeStyle||"#000000",this.fillStyle=xt.fillStyle||"#000000",this.isFillTransparent=xt.isFillTransparent||!1,this.fillOpacity=xt.fillOpacity||1,this.font=xt.font||"10px sans-serif",this.textBaseline=xt.textBaseline||"alphabetic",this.textAlign=xt.textAlign||"left",this.lineWidth=xt.lineWidth||1,this.lineJoin=xt.lineJoin||"miter",this.lineCap=xt.lineCap||"butt",this.path=xt.path||[],this.transform=xt.transform!==void 0?xt.transform.clone():new N,this.globalCompositeOperation=xt.globalCompositeOperation||"normal",this.globalAlpha=xt.globalAlpha||1,this.clip_path=xt.clip_path||[],this.currentPoint=xt.currentPoint||new P,this.miterLimit=xt.miterLimit||10,this.lastPoint=xt.lastPoint||new P,this.lineDashOffset=xt.lineDashOffset||0,this.lineDash=xt.lineDash||[],this.margin=xt.margin||[0,0,0,0],this.prevPageLastElemOffset=xt.prevPageLastElemOffset||0,this.ignoreClearRect=typeof xt.ignoreClearRect!="boolean"||xt.ignoreClearRect,this};k.events.push(["initialized",function(){this.context2d=new vt(this),g=this.internal.f2,v=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString,C=this.internal.getHorizontalCoordinate,S=this.internal.getVerticalCoordinate,P=this.internal.Point,j=this.internal.Rectangle,N=this.internal.Matrix,J=new _t}]);var vt=function(xt){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Qt=xt;Object.defineProperty(this,"pdf",{get:function(){return Qt}});var ve=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ve},set:function(sr){ve=Boolean(sr)}});var Ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ae},set:function(sr){Ae=Boolean(sr)}});var Ie=0;Object.defineProperty(this,"posX",{get:function(){return Ie},set:function(sr){isNaN(sr)||(Ie=sr)}});var ar=0;Object.defineProperty(this,"posY",{get:function(){return ar},set:function(sr){isNaN(sr)||(ar=sr)}}),Object.defineProperty(this,"margin",{get:function(){return J.margin},set:function(sr){var Er;typeof sr=="number"?Er=[sr,sr,sr,sr]:((Er=new Array(4))[0]=sr[0],Er[1]=sr.length>=2?sr[1]:Er[0],Er[2]=sr.length>=3?sr[2]:Er[0],Er[3]=sr.length>=4?sr[3]:Er[1]),J.margin=Er}});var We=!1;Object.defineProperty(this,"autoPaging",{get:function(){return We},set:function(sr){We=sr}});var Ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ye},set:function(sr){Ye=sr}});var vr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return vr},set:function(sr){vr=sr}}),Object.defineProperty(this,"ctx",{get:function(){return J},set:function(sr){sr instanceof _t&&(J=sr)}}),Object.defineProperty(this,"path",{get:function(){return J.path},set:function(sr){J.path=sr}});var Ur=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ur},set:function(sr){Ur=sr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(sr){var Er;Er=kt(sr),this.ctx.fillStyle=Er.style,this.ctx.isFillTransparent=Er.a===0,this.ctx.fillOpacity=Er.a,this.pdf.setFillColor(Er.r,Er.g,Er.b,{a:Er.a}),this.pdf.setTextColor(Er.r,Er.g,Er.b,{a:Er.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(sr){var Er=kt(sr);this.ctx.strokeStyle=Er.style,this.ctx.isStrokeTransparent=Er.a===0,this.ctx.strokeOpacity=Er.a,Er.a===0?this.pdf.setDrawColor(255,255,255):(Er.a,this.pdf.setDrawColor(Er.r,Er.g,Er.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(sr){["butt","round","square"].indexOf(sr)!==-1&&(this.ctx.lineCap=sr,this.pdf.setLineCap(sr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(sr){isNaN(sr)||(this.ctx.lineWidth=sr,this.pdf.setLineWidth(sr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(sr){["bevel","round","miter"].indexOf(sr)!==-1&&(this.ctx.lineJoin=sr,this.pdf.setLineJoin(sr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(sr){isNaN(sr)||(this.ctx.miterLimit=sr,this.pdf.setMiterLimit(sr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(sr){this.ctx.textBaseline=sr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(sr){["right","end","center","left","start"].indexOf(sr)!==-1&&(this.ctx.textAlign=sr)}});var Pr=null;function en(Yt,sr){if(Pr===null){var Er=function(ir){var Fr=[];return Object.keys(ir).forEach(function(Tr){ir[Tr].forEach(function(jr){var Wr=null;switch(jr){case"bold":Wr={family:Tr,weight:"bold"};break;case"italic":Wr={family:Tr,style:"italic"};break;case"bolditalic":Wr={family:Tr,weight:"bold",style:"italic"};break;case"":case"normal":Wr={family:Tr}}Wr!==null&&(Wr.ref={name:Tr,style:jr},Fr.push(Wr))})}),Fr}(Yt.getFontList());Pr=function(ir){for(var Fr={},Tr=0;Tr<ir.length;++Tr){var jr=us(ir[Tr]),Wr=jr.family,Xr=jr.stretch,In=jr.style,tn=jr.weight;Fr[Wr]=Fr[Wr]||{},Fr[Wr][Xr]=Fr[Wr][Xr]||{},Fr[Wr][Xr][In]=Fr[Wr][Xr][In]||{},Fr[Wr][Xr][In][tn]=jr}return Fr}(Er.concat(sr))}return Pr}var Yr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yr},set:function(sr){Pr=null,Yr=sr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(sr){var Er;if(this.ctx.font=sr,(Er=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(sr))!==null){var ir=Er[1],Fr=(Er[2],Er[3]),Tr=Er[4],jr=(Er[5],Er[6]),Wr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Tr)[2];Tr=Math.floor(Wr==="px"?parseFloat(Tr)*this.pdf.internal.scaleFactor:Wr==="em"?parseFloat(Tr)*this.pdf.getFontSize():parseFloat(Tr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Tr);var Xr=function(Nr){var ji,Kn,Ci=[],bn=Nr.trim();if(bn==="")return K;if(bn in to)return[to[bn]];for(;bn!=="";){switch(Kn=null,ji=(bn=To(bn)).charAt(0)){case'"':case"'":Kn=Qo(bn.substring(1),ji);break;default:Kn=Es(bn)}if(Kn===null||(Ci.push(Kn[0]),(bn=To(Kn[1]))!==""&&bn.charAt(0)!==","))return K;bn=bn.replace(/^,/,"")}return Ci}(jr);if(this.fontFaces){var In=ks(en(this.pdf,this.fontFaces),Xr.map(function(Nr){return{family:Nr,stretch:"normal",weight:Fr,style:ir}}));this.pdf.setFont(In.ref.name,In.ref.style)}else{var tn="";(Fr==="bold"||parseInt(Fr,10)>=700||ir==="bold")&&(tn="bold"),ir==="italic"&&(tn+="italic"),tn.length===0&&(tn="normal");for(var Pn="",Gn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vr=0;Vr<Xr.length;Vr++){if(this.pdf.internal.getFont(Xr[Vr],tn,{noFallback:!0,disableWarning:!0})!==void 0){Pn=Xr[Vr];break}if(tn==="bolditalic"&&this.pdf.internal.getFont(Xr[Vr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pn=Xr[Vr],tn="bold";else if(this.pdf.internal.getFont(Xr[Vr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pn=Xr[Vr],tn="normal";break}}if(Pn===""){for(var dn=0;dn<Xr.length;dn++)if(Gn[Xr[dn]]){Pn=Gn[Xr[dn]];break}}Pn=Pn===""?"Times":Pn,this.pdf.setFont(Pn,tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(sr){this.ctx.globalCompositeOperation=sr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(sr){this.ctx.globalAlpha=sr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(sr){this.ctx.lineDashOffset=sr,Ar.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(sr){this.ctx.lineDash=sr,Ar.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(sr){this.ctx.ignoreClearRect=Boolean(sr)}})};vt.prototype.setLineDash=function(te){this.lineDash=te},vt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},vt.prototype.fill=function(){Be.call(this,"fill",!1)},vt.prototype.stroke=function(){Be.call(this,"stroke",!1)},vt.prototype.beginPath=function(){this.path=[{type:"begin"}]},vt.prototype.moveTo=function(te,xt){if(isNaN(te)||isNaN(xt))throw G.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Qt=this.ctx.transform.applyToPoint(new P(te,xt));this.path.push({type:"mt",x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new P(te,xt)},vt.prototype.closePath=function(){var te=new P(0,0),xt=0;for(xt=this.path.length-1;xt!==-1;xt--)if(this.path[xt].type==="begin"&&le()(this.path[xt+1])==="object"&&typeof this.path[xt+1].x=="number"){te=new P(this.path[xt+1].x,this.path[xt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new P(te.x,te.y)},vt.prototype.lineTo=function(te,xt){if(isNaN(te)||isNaN(xt))throw G.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Qt=this.ctx.transform.applyToPoint(new P(te,xt));this.path.push({type:"lt",x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new P(Qt.x,Qt.y)},vt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Be.call(this,null,!0)},vt.prototype.quadraticCurveTo=function(te,xt,Qt,ve){if(isNaN(Qt)||isNaN(ve)||isNaN(te)||isNaN(xt))throw G.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new P(Qt,ve)),Ie=this.ctx.transform.applyToPoint(new P(te,xt));this.path.push({type:"qct",x1:Ie.x,y1:Ie.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new P(Ae.x,Ae.y)},vt.prototype.bezierCurveTo=function(te,xt,Qt,ve,Ae,Ie){if(isNaN(Ae)||isNaN(Ie)||isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve))throw G.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ar=this.ctx.transform.applyToPoint(new P(Ae,Ie)),We=this.ctx.transform.applyToPoint(new P(te,xt)),Ye=this.ctx.transform.applyToPoint(new P(Qt,ve));this.path.push({type:"bct",x1:We.x,y1:We.y,x2:Ye.x,y2:Ye.y,x:ar.x,y:ar.y}),this.ctx.lastPoint=new P(ar.x,ar.y)},vt.prototype.arc=function(te,xt,Qt,ve,Ae,Ie){if(isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve)||isNaN(Ae))throw G.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ie=Boolean(Ie),!this.ctx.transform.isIdentity){var ar=this.ctx.transform.applyToPoint(new P(te,xt));te=ar.x,xt=ar.y;var We=this.ctx.transform.applyToPoint(new P(0,Qt)),Ye=this.ctx.transform.applyToPoint(new P(0,0));Qt=Math.sqrt(Math.pow(We.x-Ye.x,2)+Math.pow(We.y-Ye.y,2))}Math.abs(Ae-ve)>=2*Math.PI&&(ve=0,Ae=2*Math.PI),this.path.push({type:"arc",x:te,y:xt,radius:Qt,startAngle:ve,endAngle:Ae,counterclockwise:Ie})},vt.prototype.arcTo=function(te,xt,Qt,ve,Ae){throw new Error("arcTo not implemented.")},vt.prototype.rect=function(te,xt,Qt,ve){if(isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve))throw G.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(te,xt),this.lineTo(te+Qt,xt),this.lineTo(te+Qt,xt+ve),this.lineTo(te,xt+ve),this.lineTo(te,xt),this.lineTo(te+Qt,xt),this.lineTo(te,xt)},vt.prototype.fillRect=function(te,xt,Qt,ve){if(isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve))throw G.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!V.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(te,xt,Qt,ve),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},vt.prototype.strokeRect=function(te,xt,Qt,ve){if(isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve))throw G.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Vt.call(this)||(this.beginPath(),this.rect(te,xt,Qt,ve),this.stroke())},vt.prototype.clearRect=function(te,xt,Qt,ve){if(isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve))throw G.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(te,xt,Qt,ve))},vt.prototype.save=function(te){te=typeof te!="boolean"||te;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Qt=0;Qt<this.pdf.internal.getNumberOfPages();Qt++)this.pdf.setPage(Qt+1),this.pdf.internal.out("q");if(this.pdf.setPage(xt),te){this.ctx.fontSize=this.pdf.internal.getFontSize();var ve=new _t(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ve}},vt.prototype.restore=function(te){te=typeof te!="boolean"||te;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Qt=0;Qt<this.pdf.internal.getNumberOfPages();Qt++)this.pdf.setPage(Qt+1),this.pdf.internal.out("Q");this.pdf.setPage(xt),te&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},vt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var kt=function(xt){var Qt,ve,Ae,Ie;if(xt.isCanvasGradient===!0&&(xt=xt.getColor()),!xt)return{r:0,g:0,b:0,a:0,style:xt};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(xt))Qt=0,ve=0,Ae=0,Ie=0;else{var ar=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(xt);if(ar!==null)Qt=parseInt(ar[1]),ve=parseInt(ar[2]),Ae=parseInt(ar[3]),Ie=1;else if((ar=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(xt))!==null)Qt=parseInt(ar[1]),ve=parseInt(ar[2]),Ae=parseInt(ar[3]),Ie=parseFloat(ar[4]);else{if(Ie=1,typeof xt=="string"&&xt.charAt(0)!=="#"){var We=new e(xt);xt=We.ok?We.toHex():"#000000"}xt.length===4?(Qt=xt.substring(1,2),Qt+=Qt,ve=xt.substring(2,3),ve+=ve,Ae=xt.substring(3,4),Ae+=Ae):(Qt=xt.substring(1,3),ve=xt.substring(3,5),Ae=xt.substring(5,7)),Qt=parseInt(Qt,16),ve=parseInt(ve,16),Ae=parseInt(Ae,16)}}return{r:Qt,g:ve,b:Ae,a:Ie,style:xt}},V=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Vt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};vt.prototype.fillText=function(te,xt,Qt,ve){if(isNaN(xt)||isNaN(Qt)||typeof te!="string")throw G.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ve=isNaN(ve)?void 0:ve,!V.call(this)){var Ae=Re(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;zt.call(this,{text:te,x:xt,y:Qt,scale:Ie,angle:Ae,align:this.textAlign,maxWidth:ve})}},vt.prototype.strokeText=function(te,xt,Qt,ve){if(isNaN(xt)||isNaN(Qt)||typeof te!="string")throw G.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Vt.call(this)){ve=isNaN(ve)?void 0:ve;var Ae=Re(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;zt.call(this,{text:te,x:xt,y:Qt,scale:Ie,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:ve})}},vt.prototype.measureText=function(te){if(typeof te!="string")throw G.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var xt=this.pdf,Qt=this.pdf.internal.scaleFactor,ve=xt.internal.getFontSize(),Ae=xt.getStringUnitWidth(te)*ve/xt.internal.scaleFactor,Ie=function(We){var Ye=(We=We||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ye}}),this};return new Ie({width:Ae*=Math.round(96*Qt/72*1e4)/1e4})},vt.prototype.scale=function(te,xt){if(isNaN(te)||isNaN(xt))throw G.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Qt=new N(te,0,0,xt,0,0);this.ctx.transform=this.ctx.transform.multiply(Qt)},vt.prototype.rotate=function(te){if(isNaN(te))throw G.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var xt=new N(Math.cos(te),Math.sin(te),-Math.sin(te),Math.cos(te),0,0);this.ctx.transform=this.ctx.transform.multiply(xt)},vt.prototype.translate=function(te,xt){if(isNaN(te)||isNaN(xt))throw G.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Qt=new N(1,0,0,1,te,xt);this.ctx.transform=this.ctx.transform.multiply(Qt)},vt.prototype.transform=function(te,xt,Qt,ve,Ae,Ie){if(isNaN(te)||isNaN(xt)||isNaN(Qt)||isNaN(ve)||isNaN(Ae)||isNaN(Ie))throw G.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ar=new N(te,xt,Qt,ve,Ae,Ie);this.ctx.transform=this.ctx.transform.multiply(ar)},vt.prototype.setTransform=function(te,xt,Qt,ve,Ae,Ie){te=isNaN(te)?1:te,xt=isNaN(xt)?0:xt,Qt=isNaN(Qt)?0:Qt,ve=isNaN(ve)?1:ve,Ae=isNaN(Ae)?0:Ae,Ie=isNaN(Ie)?0:Ie,this.ctx.transform=new N(te,xt,Qt,ve,Ae,Ie)};var It=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};vt.prototype.drawImage=function(te,xt,Qt,ve,Ae,Ie,ar,We,Ye){var vr=this.pdf.getImageProperties(te),Ur=1,Pr=1,en=1,Yr=1;ve!==void 0&&We!==void 0&&(en=We/ve,Yr=Ye/Ae,Ur=vr.width/ve*We/ve,Pr=vr.height/Ae*Ye/Ae),Ie===void 0&&(Ie=xt,ar=Qt,xt=0,Qt=0),ve!==void 0&&We===void 0&&(We=ve,Ye=Ae),ve===void 0&&We===void 0&&(We=vr.width,Ye=vr.height);for(var Yt,sr=this.ctx.transform.decompose(),Er=Re(sr.rotate.shx),ir=new N,Fr=(ir=(ir=(ir=ir.multiply(sr.translate)).multiply(sr.skew)).multiply(sr.scale)).applyToRectangle(new j(Ie-xt*en,ar-Qt*Yr,ve*Ur,Ae*Pr)),Tr=Jt.call(this,Fr),jr=[],Wr=0;Wr<Tr.length;Wr+=1)jr.indexOf(Tr[Wr])===-1&&jr.push(Tr[Wr]);if(xe(jr),this.autoPaging)for(var Xr=jr[0],In=jr[jr.length-1],tn=Xr;tn<In+1;tn++){this.pdf.setPage(tn);var Pn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gn=tn===1?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nr=tn===1?0:Vr+(tn-2)*dn;if(this.ctx.clip_path.length!==0){var ji=this.path;Yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(Yt,this.posX+this.margin[3],-Nr+Gn+this.ctx.prevPageLastElemOffset),$e.call(this,"fill",!0),this.path=ji}var Kn=JSON.parse(JSON.stringify(Fr));Kn=gt([Kn],this.posX+this.margin[3],-Nr+Gn+this.ctx.prevPageLastElemOffset)[0];var Ci=(tn>Xr||tn<In)&&It.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pn,dn,null).clip().discardPath()),this.pdf.addImage(te,"JPEG",Kn.x,Kn.y,Kn.w,Kn.h,null,null,Er),Ci&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(te,"JPEG",Fr.x,Fr.y,Fr.w,Fr.h,null,null,Er)};var Jt=function(xt,Qt,ve){var Ae=[];Qt=Qt||this.pdf.internal.pageSize.width,ve=ve||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ie=this.posY+this.ctx.prevPageLastElemOffset;switch(xt.type){default:case"mt":case"lt":Ae.push(Math.floor((xt.y+Ie)/ve)+1);break;case"arc":Ae.push(Math.floor((xt.y+Ie-xt.radius)/ve)+1),Ae.push(Math.floor((xt.y+Ie+xt.radius)/ve)+1);break;case"qct":var ar=wr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,xt.x1,xt.y1,xt.x,xt.y);Ae.push(Math.floor((ar.y+Ie)/ve)+1),Ae.push(Math.floor((ar.y+ar.h+Ie)/ve)+1);break;case"bct":var We=Qe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,xt.x1,xt.y1,xt.x2,xt.y2,xt.x,xt.y);Ae.push(Math.floor((We.y+Ie)/ve)+1),Ae.push(Math.floor((We.y+We.h+Ie)/ve)+1);break;case"rect":Ae.push(Math.floor((xt.y+Ie)/ve)+1),Ae.push(Math.floor((xt.y+xt.h+Ie)/ve)+1)}for(var Ye=0;Ye<Ae.length;Ye+=1)for(;this.pdf.internal.getNumberOfPages()<Ae[Ye];)Mt.call(this);return Ae},Mt=function(){var xt=this.fillStyle,Qt=this.strokeStyle,ve=this.font,Ae=this.lineCap,Ie=this.lineWidth,ar=this.lineJoin;this.pdf.addPage(),this.fillStyle=xt,this.strokeStyle=Qt,this.font=ve,this.lineCap=Ae,this.lineWidth=Ie,this.lineJoin=ar},gt=function(xt,Qt,ve){for(var Ae=0;Ae<xt.length;Ae++)switch(xt[Ae].type){case"bct":xt[Ae].x2+=Qt,xt[Ae].y2+=ve;case"qct":xt[Ae].x1+=Qt,xt[Ae].y1+=ve;case"mt":case"lt":case"arc":default:xt[Ae].x+=Qt,xt[Ae].y+=ve}return xt},xe=function(xt){return xt.sort(function(Qt,ve){return Qt-ve})},Be=function(xt,Qt){for(var ve,Ae,Ie=this.fillStyle,ar=this.strokeStyle,We=this.lineCap,Ye=this.lineWidth,vr=Math.abs(Ye*this.ctx.transform.scaleX),Ur=this.lineJoin,Pr=JSON.parse(JSON.stringify(this.path)),en=JSON.parse(JSON.stringify(this.path)),Yr=[],Yt=0;Yt<en.length;Yt++)if(en[Yt].x!==void 0)for(var sr=Jt.call(this,en[Yt]),Er=0;Er<sr.length;Er+=1)Yr.indexOf(sr[Er])===-1&&Yr.push(sr[Er]);for(var ir=0;ir<Yr.length;ir++)for(;this.pdf.internal.getNumberOfPages()<Yr[ir];)Mt.call(this);if(xe(Yr),this.autoPaging)for(var Fr=Yr[0],Tr=Yr[Yr.length-1],jr=Fr;jr<Tr+1;jr++){this.pdf.setPage(jr),this.fillStyle=Ie,this.strokeStyle=ar,this.lineCap=We,this.lineWidth=vr,this.lineJoin=Ur;var Wr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xr=jr===1?this.posY+this.margin[0]:this.margin[0],In=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pn=jr===1?0:In+(jr-2)*tn;if(this.ctx.clip_path.length!==0){var Gn=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(ve,this.posX+this.margin[3],-Pn+Xr+this.ctx.prevPageLastElemOffset),$e.call(this,xt,!0),this.path=Gn}if(Ae=JSON.parse(JSON.stringify(Pr)),this.path=gt(Ae,this.posX+this.margin[3],-Pn+Xr+this.ctx.prevPageLastElemOffset),Qt===!1||jr===0){var Vr=(jr>Fr||jr<Tr)&&It.call(this);Vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wr,tn,null).clip().discardPath()),$e.call(this,xt,Qt),Vr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ye}else this.lineWidth=vr,$e.call(this,xt,Qt),this.lineWidth=Ye;this.path=Pr},$e=function(xt,Qt){if((xt!=="stroke"||Qt||!Vt.call(this))&&(xt==="stroke"||Qt||!V.call(this))){for(var ve,Ae,Ie=[],ar=this.path,We=0;We<ar.length;We++){var Ye=ar[We];switch(Ye.type){case"begin":Ie.push({begin:!0});break;case"close":Ie.push({close:!0});break;case"mt":Ie.push({start:Ye,deltas:[],abs:[]});break;case"lt":var vr=Ie.length;if(ar[We-1]&&!isNaN(ar[We-1].x)&&(ve=[Ye.x-ar[We-1].x,Ye.y-ar[We-1].y],vr>0)){for(;vr>=0;vr--)if(Ie[vr-1].close!==!0&&Ie[vr-1].begin!==!0){Ie[vr-1].deltas.push(ve),Ie[vr-1].abs.push(Ye);break}}break;case"bct":ve=[Ye.x1-ar[We-1].x,Ye.y1-ar[We-1].y,Ye.x2-ar[We-1].x,Ye.y2-ar[We-1].y,Ye.x-ar[We-1].x,Ye.y-ar[We-1].y],Ie[Ie.length-1].deltas.push(ve);break;case"qct":var Ur=ar[We-1].x+2/3*(Ye.x1-ar[We-1].x),Pr=ar[We-1].y+2/3*(Ye.y1-ar[We-1].y),en=Ye.x+2/3*(Ye.x1-Ye.x),Yr=Ye.y+2/3*(Ye.y1-Ye.y),Yt=Ye.x,sr=Ye.y;ve=[Ur-ar[We-1].x,Pr-ar[We-1].y,en-ar[We-1].x,Yr-ar[We-1].y,Yt-ar[We-1].x,sr-ar[We-1].y],Ie[Ie.length-1].deltas.push(ve);break;case"arc":Ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ie[Ie.length-1].abs)&&Ie[Ie.length-1].abs.push(Ye)}}Ae=Qt?null:xt==="stroke"?"stroke":"fill";for(var Er=!1,ir=0;ir<Ie.length;ir++)if(Ie[ir].arc)for(var Fr=Ie[ir].abs,Tr=0;Tr<Fr.length;Tr++){var jr=Fr[Tr];jr.type==="arc"?mr.call(this,jr.x,jr.y,jr.radius,jr.startAngle,jr.endAngle,jr.counterclockwise,void 0,Qt,!Er):ce.call(this,jr.x,jr.y),Er=!0}else if(Ie[ir].close===!0)this.pdf.internal.out("h"),Er=!1;else if(Ie[ir].begin!==!0){var Wr=Ie[ir].start.x,Xr=Ie[ir].start.y;he.call(this,Ie[ir].deltas,Wr,Xr),Er=!0}Ae&&fe.call(this,Ae),Qt&&Xe.call(this)}},fr=function(xt){var Qt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ve=Qt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return xt-ve;case"top":return xt+Qt-ve;case"hanging":return xt+Qt-2*ve;case"middle":return xt+Qt/2-ve;case"ideographic":return xt;case"alphabetic":default:return xt}},Ge=function(xt){return xt+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};vt.prototype.createLinearGradient=function(){var te=function(){};return te.colorStops=[],te.addColorStop=function(xt,Qt){this.colorStops.push([xt,Qt])},te.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},te.isCanvasGradient=!0,te},vt.prototype.createPattern=function(){return this.createLinearGradient()},vt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var mr=function(xt,Qt,ve,Ae,Ie,ar,We,Ye,vr){for(var Ur=Ve.call(this,ve,Ae,Ie,ar),Pr=0;Pr<Ur.length;Pr++){var en=Ur[Pr];Pr===0&&(vr?ie.call(this,en.x1+xt,en.y1+Qt):ce.call(this,en.x1+xt,en.y1+Qt)),Je.call(this,xt,Qt,en.x2,en.y2,en.x3,en.y3,en.x4,en.y4)}Ye?Xe.call(this):fe.call(this,We)},fe=function(xt){switch(xt){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Xe=function(){this.pdf.clip(),this.pdf.discardPath()},ie=function(xt,Qt){this.pdf.internal.out(v(xt)+" "+_(Qt)+" m")},zt=function(xt){var Qt;switch(xt.align){case"right":case"end":Qt="right";break;case"center":Qt="center";break;case"left":case"start":default:Qt="left"}var ve=this.pdf.getTextDimensions(xt.text),Ae=fr.call(this,xt.y),Ie=Ge.call(this,Ae)-ve.h,ar=this.ctx.transform.applyToPoint(new P(xt.x,Ae)),We=this.ctx.transform.decompose(),Ye=new N;Ye=(Ye=(Ye=Ye.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var vr,Ur,Pr,en=this.ctx.transform.applyToRectangle(new j(xt.x,Ae,ve.w,ve.h)),Yr=Ye.applyToRectangle(new j(xt.x,Ie,ve.w,ve.h)),Yt=Jt.call(this,Yr),sr=[],Er=0;Er<Yt.length;Er+=1)sr.indexOf(Yt[Er])===-1&&sr.push(Yt[Er]);if(xe(sr),this.autoPaging)for(var ir=sr[0],Fr=sr[sr.length-1],Tr=ir;Tr<Fr+1;Tr++){this.pdf.setPage(Tr);var jr=Tr===1?this.posY+this.margin[0]:this.margin[0],Wr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xr=this.pdf.internal.pageSize.height-this.margin[2],In=Xr-this.margin[0],tn=this.pdf.internal.pageSize.width-this.margin[1],Pn=tn-this.margin[3],Gn=Tr===1?0:Wr+(Tr-2)*In;if(this.ctx.clip_path.length!==0){var Vr=this.path;vr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(vr,this.posX+this.margin[3],-1*Gn+jr),$e.call(this,"fill",!0),this.path=Vr}var dn=gt([JSON.parse(JSON.stringify(Yr))],this.posX+this.margin[3],-Gn+jr+this.ctx.prevPageLastElemOffset)[0];xt.scale>=.01&&(Ur=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ur*xt.scale),Pr=this.lineWidth,this.lineWidth=Pr*xt.scale);var Nr=this.autoPaging!=="text";if(Nr||dn.y+dn.h<=Xr){if(Nr||dn.y>=jr&&dn.x<=tn){var ji=Nr?xt.text:this.pdf.splitTextToSize(xt.text,xt.maxWidth||tn-dn.x)[0],Kn=gt([JSON.parse(JSON.stringify(en))],this.posX+this.margin[3],-Gn+jr+this.ctx.prevPageLastElemOffset)[0],Ci=Nr&&(Tr>ir||Tr<Fr)&&It.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pn,In,null).clip().discardPath()),this.pdf.text(ji,Kn.x,Kn.y,{angle:xt.angle,align:Qt,renderingMode:xt.renderingMode}),Ci&&this.pdf.restoreGraphicsState()}}else dn.y<Xr&&(this.ctx.prevPageLastElemOffset+=Xr-dn.y);xt.scale>=.01&&(this.pdf.setFontSize(Ur),this.lineWidth=Pr)}else xt.scale>=.01&&(Ur=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ur*xt.scale),Pr=this.lineWidth,this.lineWidth=Pr*xt.scale),this.pdf.text(xt.text,ar.x+this.posX,ar.y+this.posY,{angle:xt.angle,align:Qt,renderingMode:xt.renderingMode,maxWidth:xt.maxWidth}),xt.scale>=.01&&(this.pdf.setFontSize(Ur),this.lineWidth=Pr)},ce=function(xt,Qt,ve,Ae){ve=ve||0,Ae=Ae||0,this.pdf.internal.out(v(xt+ve)+" "+_(Qt+Ae)+" l")},he=function(xt,Qt,ve){return this.pdf.lines(xt,Qt,ve,null,null)},Je=function(xt,Qt,ve,Ae,Ie,ar,We,Ye){this.pdf.internal.out([g(C(ve+xt)),g(S(Ae+Qt)),g(C(Ie+xt)),g(S(ar+Qt)),g(C(We+xt)),g(S(Ye+Qt)),"c"].join(" "))},Ve=function(xt,Qt,ve,Ae){for(var Ie=2*Math.PI,ar=Math.PI/2;Qt>ve;)Qt-=Ie;var We=Math.abs(ve-Qt);We<Ie&&Ae&&(We=Ie-We);for(var Ye=[],vr=Ae?-1:1,Ur=Qt;We>1e-5;){var Pr=Ur+vr*Math.min(We,ar);Ye.push(pr.call(this,xt,Ur,Pr)),We-=Math.abs(Pr-Ur),Ur=Pr}return Ye},pr=function(xt,Qt,ve){var Ae=(ve-Qt)/2,Ie=xt*Math.cos(Ae),ar=xt*Math.sin(Ae),We=Ie,Ye=-ar,vr=We*We+Ye*Ye,Ur=vr+We*Ie+Ye*ar,Pr=4/3*(Math.sqrt(2*vr*Ur)-Ur)/(We*ar-Ye*Ie),en=We-Pr*Ye,Yr=Ye+Pr*We,Yt=en,sr=-Yr,Er=Ae+Qt,ir=Math.cos(Er),Fr=Math.sin(Er);return{x1:xt*Math.cos(Qt),y1:xt*Math.sin(Qt),x2:en*ir-Yr*Fr,y2:en*Fr+Yr*ir,x3:Yt*ir-sr*Fr,y3:Yt*Fr+sr*ir,x4:xt*Math.cos(ve),y4:xt*Math.sin(ve)}},Re=function(xt){return 180*xt/Math.PI},wr=function(xt,Qt,ve,Ae,Ie,ar){var We=xt+.5*(ve-xt),Ye=Qt+.5*(Ae-Qt),vr=Ie+.5*(ve-Ie),Ur=ar+.5*(Ae-ar),Pr=Math.min(xt,Ie,We,vr),en=Math.max(xt,Ie,We,vr),Yr=Math.min(Qt,ar,Ye,Ur),Yt=Math.max(Qt,ar,Ye,Ur);return new j(Pr,Yr,en-Pr,Yt-Yr)},Qe=function(xt,Qt,ve,Ae,Ie,ar,We,Ye){var vr,Ur,Pr,en,Yr,Yt,sr,Er,ir,Fr,Tr,jr,Wr,Xr,In=ve-xt,tn=Ae-Qt,Pn=Ie-ve,Gn=ar-Ae,Vr=We-Ie,dn=Ye-ar;for(Ur=0;Ur<41;Ur++)ir=(sr=(Pr=xt+(vr=Ur/40)*In)+vr*((Yr=ve+vr*Pn)-Pr))+vr*(Yr+vr*(Ie+vr*Vr-Yr)-sr),Fr=(Er=(en=Qt+vr*tn)+vr*((Yt=Ae+vr*Gn)-en))+vr*(Yt+vr*(ar+vr*dn-Yt)-Er),Ur==0?(Tr=ir,jr=Fr,Wr=ir,Xr=Fr):(Tr=Math.min(Tr,ir),jr=Math.min(jr,Fr),Wr=Math.max(Wr,ir),Xr=Math.max(Xr,Fr));return new j(Math.round(Tr),Math.round(jr),Math.round(Wr-Tr),Math.round(Xr-jr))},Ar=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var xt,Qt,ve=(xt=this.ctx.lineDash,Qt=this.ctx.lineDashOffset,JSON.stringify({lineDash:xt,lineDashOffset:Qt}));this.prevLineDash!==ve&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ve)}}})(et.API),function(k){var g=function(P){var j,N,J,_t,vt,kt,V,Vt,It,Jt;for(/[^\x00-\xFF]/.test(P),N=[],J=0,_t=(P+=j="\0\0\0\0".slice(P.length%4||4)).length;_t>J;J+=4)(vt=(P.charCodeAt(J)<<24)+(P.charCodeAt(J+1)<<16)+(P.charCodeAt(J+2)<<8)+P.charCodeAt(J+3))!==0?(kt=(vt=((vt=((vt=((vt=(vt-(Jt=vt%85))/85)-(It=vt%85))/85)-(Vt=vt%85))/85)-(V=vt%85))/85)%85,N.push(kt+33,V+33,Vt+33,It+33,Jt+33)):N.push(122);return function(Mt,gt){for(var xe=gt;xe>0;xe--)Mt.pop()}(N,j.length),String.fromCharCode.apply(String,N)+"~>"},v=function(P){var j,N,J,_t,vt,kt=String,V="length",Vt=255,It="charCodeAt",Jt="slice",Mt="replace";for(P[Jt](-2),P=P[Jt](0,-2)[Mt](/\s/g,"")[Mt]("z","!!!!!"),J=[],_t=0,vt=(P+=j="uuuuu"[Jt](P[V]%5||5))[V];vt>_t;_t+=5)N=52200625*(P[It](_t)-33)+614125*(P[It](_t+1)-33)+7225*(P[It](_t+2)-33)+85*(P[It](_t+3)-33)+(P[It](_t+4)-33),J.push(Vt&N>>24,Vt&N>>16,Vt&N>>8,Vt&N);return function(gt,xe){for(var Be=xe;Be>0;Be--)gt.pop()}(J,j[V]),kt.fromCharCode.apply(kt,J)},_=function(P){var j=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((P=P.replace(/\s/g,"")).indexOf(">")!==-1&&(P=P.substr(0,P.indexOf(">"))),P.length%2&&(P+="0"),j.test(P)===!1)return"";for(var N="",J=0;J<P.length;J+=2)N+=String.fromCharCode("0x"+(P[J]+P[J+1]));return N},C=function(P){for(var j=new Uint8Array(P.length),N=P.length;N--;)j[N]=P.charCodeAt(N);return P=(j=Object(W.b)(j)).reduce(function(J,_t){return J+String.fromCharCode(_t)},"")};k.processDataByFilters=function(S,P){var j=0,N=S||"",J=[];for(typeof(P=P||[])=="string"&&(P=[P]),j=0;j<P.length;j+=1)switch(P[j]){case"ASCII85Decode":case"/ASCII85Decode":N=v(N),J.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":N=g(N),J.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":N=_(N),J.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":N=N.split("").map(function(_t){return("0"+_t.charCodeAt().toString(16)).slice(-2)}).join("")+">",J.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":N=C(N),J.push("/FlateDecode");break;default:throw new Error('The filter: "'+P[j]+'" is not implemented')}return{data:N,reverseChain:J.reverse().join(" ")}}}(et.API),function(k){k.loadFile=function(g,v,_){return function(C,S,P){S=S!==!1,P=typeof P=="function"?P:function(){};var j=void 0;try{j=function(N,J,_t){var vt=new XMLHttpRequest,kt=0,V=function(It){var Jt=It.length,Mt=[],gt=String.fromCharCode;for(kt=0;kt<Jt;kt+=1)Mt.push(gt(255&It.charCodeAt(kt)));return Mt.join("")};if(vt.open("GET",N,!J),vt.overrideMimeType("text/plain; charset=x-user-defined"),J===!1&&(vt.onload=function(){vt.status===200?_t(V(this.responseText)):_t(void 0)}),vt.send(null),J&&vt.status===200)return V(vt.responseText)}(C,S,P)}catch(N){}return j}(g,v,_)},k.loadImageFile=k.loadFile}(et.API),function(k){function g(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):Ne.e(66).then(Ne.t.bind(null,"wOnQ",7))).catch(function(P){return Promise.reject(new Error("Could not load html2canvas: "+P))}).then(function(P){return P.default?P.default:P})}function v(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):Ne.e(65).then(Ne.t.bind(null,"wMS7",7))).catch(function(P){return Promise.reject(new Error("Could not load dompurify: "+P))}).then(function(P){return P.default?P.default:P})}var _=function(j){var N=le()(j);return N==="undefined"?"undefined":N==="string"||j instanceof String?"string":N==="number"||j instanceof Number?"number":N==="function"||j instanceof Function?"function":j&&j.constructor===Array?"array":j&&j.nodeType===1?"element":N==="object"?"object":"unknown"},C=function(j,N){var J=document.createElement(j);for(var _t in N.className&&(J.className=N.className),N.innerHTML&&N.dompurify&&(J.innerHTML=N.dompurify.sanitize(N.innerHTML)),N.style)J.style[_t]=N.style[_t];return J},S=function P(j){var N=Object.assign(P.convert(Promise.resolve()),JSON.parse(JSON.stringify(P.template))),J=P.convert(Promise.resolve(),N);return J=(J=J.setProgress(1,P,1,[P])).set(j)};(S.prototype=Object.create(Promise.prototype)).constructor=S,S.convert=function(P,j){return P.__proto__=j||S.prototype,P},S.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},S.prototype.from=function(P,j){return this.then(function(){switch(j=j||function(N){switch(_(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(P)){case"string":return this.then(v).then(function(N){return this.set({src:C("div",{innerHTML:P,dompurify:N})})});case"element":return this.set({src:P});case"canvas":return this.set({canvas:P});case"img":return this.set({img:P});default:return this.error("Unknown source type.")}})},S.prototype.to=function(P){switch(P){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},S.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var P={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},j=function N(J,_t){for(var vt=J.nodeType===3?document.createTextNode(J.nodeValue):J.cloneNode(!1),kt=J.firstChild;kt;kt=kt.nextSibling)_t!==!0&&kt.nodeType===1&&kt.nodeName==="SCRIPT"||vt.appendChild(N(kt,_t));return J.nodeType===1&&(J.nodeName==="CANVAS"?(vt.width=J.width,vt.height=J.height,vt.getContext("2d").drawImage(J,0,0)):J.nodeName!=="TEXTAREA"&&J.nodeName!=="SELECT"||(vt.value=J.value),vt.addEventListener("load",function(){vt.scrollTop=J.scrollTop,vt.scrollLeft=J.scrollLeft},!0)),vt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);j.tagName==="BODY"&&(P.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=C("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=C("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(j),this.prop.container.firstChild.appendChild(C("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},S.prototype.toCanvas=function(){var P=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(P).then(g).then(function(j){var N=Object.assign({},this.opt.html2canvas);return delete N.onrendered,j(this.prop.container,N)}).then(function(j){(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},S.prototype.toContext2d=function(){var P=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(P).then(g).then(function(j){var N=this.opt.jsPDF,J=this.opt.fontFaces,_t=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,vt=Object.assign({async:!0,allowTaint:!0,scale:_t,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete vt.onrendered,N.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,N.context2d.posX=this.opt.x,N.context2d.posY=this.opt.y,N.context2d.margin=this.opt.margin,N.context2d.fontFaces=J,J)for(var kt=0;kt<J.length;++kt){var V=J[kt],Vt=V.src.find(function(It){return It.format==="truetype"});Vt&&N.addFont(Vt.url,V.ref.name,V.ref.style)}return vt.windowHeight=vt.windowHeight||0,vt.windowHeight=vt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):vt.windowHeight,N.context2d.save(!0),j(this.prop.container,vt)}).then(function(j){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},S.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},S.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},S.prototype.output=function(P,j,N){return(N=N||"pdf").toLowerCase()==="img"||N.toLowerCase()==="image"?this.outputImg(P,j):this.outputPdf(P,j)},S.prototype.outputPdf=function(P,j){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(P,j)})},S.prototype.outputImg=function(P){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(P){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+P+'" is not supported.'}})},S.prototype.save=function(P){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(P?{filename:P}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},S.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},S.prototype.set=function(P){if(_(P)!=="object")return this;var j=Object.keys(P||{}).map(function(N){if(N in S.template.prop)return function(){this.prop[N]=P[N]};switch(N){case"margin":return this.setMargin.bind(this,P.margin);case"jsPDF":return function(){return this.opt.jsPDF=P.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,P.pageSize);default:return function(){this.opt[N]=P[N]}}},this);return this.then(function(){return this.thenList(j)})},S.prototype.get=function(P,j){return this.then(function(){var N=P in S.template.prop?this.prop[P]:this.opt[P];return j?j(N):N})},S.prototype.setMargin=function(P){return this.then(function(){switch(_(P)){case"number":P=[P,P,P,P];case"array":if(P.length===2&&(P=[P[0],P[1],P[0],P[1]]),P.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=P}).then(this.setPageSize)},S.prototype.setPageSize=function(P){function j(N,J){return Math.floor(N*J/72*96)}return this.then(function(){(P=P||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(P.inner={width:P.width-this.opt.margin[1]-this.opt.margin[3],height:P.height-this.opt.margin[0]-this.opt.margin[2]},P.inner.px={width:j(P.inner.width,P.k),height:j(P.inner.height,P.k)},P.inner.ratio=P.inner.height/P.inner.width),this.prop.pageSize=P})},S.prototype.setProgress=function(P,j,N,J){return P!=null&&(this.progress.val=P),j!=null&&(this.progress.state=j),N!=null&&(this.progress.n=N),J!=null&&(this.progress.stack=J),this.progress.ratio=this.progress.val/this.progress.state,this},S.prototype.updateProgress=function(P,j,N,J){return this.setProgress(P?this.progress.val+P:null,j||null,N?this.progress.n+N:null,J?this.progress.stack.concat(J):null)},S.prototype.then=function(P,j){var N=this;return this.thenCore(P,j,function(J,_t){return N.updateProgress(null,null,1,[J]),Promise.prototype.then.call(this,function(vt){return N.updateProgress(null,J),vt}).then(J,_t).then(function(vt){return N.updateProgress(1),vt})})},S.prototype.thenCore=function(P,j,N){N=N||Promise.prototype.then,P&&(P=P.bind(this)),j&&(j=j.bind(this));var J=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:S.convert(Object.assign({},this),Promise.prototype),_t=N.call(J,P,j);return S.convert(_t,this.__proto__)},S.prototype.thenExternal=function(P,j){return Promise.prototype.then.call(this,P,j)},S.prototype.thenList=function(P){var j=this;return P.forEach(function(N){j=j.thenCore(N)}),j},S.prototype.catch=function(P){P&&(P=P.bind(this));var j=Promise.prototype.catch.call(this,P);return S.convert(j,this)},S.prototype.catchExternal=function(P){return Promise.prototype.catch.call(this,P)},S.prototype.error=function(P){return this.then(function(){throw new Error(P)})},S.prototype.using=S.prototype.set,S.prototype.saveAs=S.prototype.save,S.prototype.export=S.prototype.output,S.prototype.run=S.prototype.then,et.getPageSize=function(P,j,N){if(le()(P)==="object"){var J=P;P=J.orientation,j=J.unit||j,N=J.format||N}j=j||"mm",N=N||"a4",P=(""+(P||"P")).toLowerCase();var _t,vt=(""+N).toLowerCase(),kt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(j){case"pt":_t=1;break;case"mm":_t=72/25.4;break;case"cm":_t=72/2.54;break;case"in":_t=72;break;case"px":_t=.75;break;case"pc":case"em":_t=12;break;case"ex":_t=6;break;default:throw"Invalid unit: "+j}var V,Vt=0,It=0;if(kt.hasOwnProperty(vt))Vt=kt[vt][1]/_t,It=kt[vt][0]/_t;else try{Vt=N[1],It=N[0]}catch(Jt){throw new Error("Invalid format: "+N)}if(P==="p"||P==="portrait")P="p",It>Vt&&(V=It,It=Vt,Vt=V);else{if(P!=="l"&&P!=="landscape")throw"Invalid orientation: "+P;P="l",Vt>It&&(V=It,It=Vt,Vt=V)}return{width:It,height:Vt,unit:j,k:_t,orientation:P}},k.html=function(P,j){(j=j||{}).callback=j.callback||function(){},j.html2canvas=j.html2canvas||{},j.html2canvas.canvas=j.html2canvas.canvas||this.canvas,j.jsPDF=j.jsPDF||this,j.fontFaces=j.fontFaces?j.fontFaces.map(us):null;var N=new S(j);return j.worker?N:N.from(P).doCallback()}}(et.API),et.API.addJS=function(k){return el=k,this.internal.events.subscribe("postPutResources",function(){Xa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xa+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+el+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xa!==void 0&&tl!==void 0&&this.internal.out("/Names <</JavaScript "+Xa+" 0 R>>")}),this},function(k){var g;k.events.push(["postPutResources",function(){var v=this,_=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var C=v.outline.render().split(/\r\n/),S=0;S<C.length;S++){var P=C[S],j=_.exec(P);if(j!=null){var N=j[1];v.internal.newObjectDeferredBegin(N,!1)}v.internal.write(P)}if(this.outline.createNamedDestinations){var J=this.internal.pages.length,_t=[];for(S=0;S<J;S++){var vt=v.internal.newObject();_t.push(vt);var kt=v.internal.getPageInfo(S+1);v.internal.write("<< /D["+kt.objId+" 0 R /XYZ null null null]>> endobj")}var V=v.internal.newObject();for(v.internal.write("<< /Names [ "),S=0;S<_t.length;S++)v.internal.write("(page_"+(S+1)+")"+_t[S]+" 0 R");v.internal.write(" ] >>","endobj"),g=v.internal.newObject(),v.internal.write("<< /Dests "+V+" 0 R"),v.internal.write(">>","endobj")}}]),k.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+g+" 0 R"))}]),k.events.push(["initialized",function(){var v=this;v.outline={createNamedDestinations:!1,root:{children:[]}},v.outline.add=function(_,C,S){var P={title:C,options:S,children:[]};return _==null&&(_=this.root),_.children.push(P),P},v.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=v,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},v.outline.genIds_r=function(_){_.id=v.internal.newObjectDeferred();for(var C=0;C<_.children.length;C++)this.genIds_r(_.children[C])},v.outline.renderRoot=function(_){this.objStart(_),this.line("/Type /Outlines"),_.children.length>0&&(this.line("/First "+this.makeRef(_.children[0])),this.line("/Last "+this.makeRef(_.children[_.children.length-1]))),this.line("/Count "+this.count_r({count:0},_)),this.objEnd()},v.outline.renderItems=function(_){for(var C=this.ctx.pdf.internal.getVerticalCoordinateString,S=0;S<_.children.length;S++){var P=_.children[S];this.objStart(P),this.line("/Title "+this.makeString(P.title)),this.line("/Parent "+this.makeRef(_)),S>0&&this.line("/Prev "+this.makeRef(_.children[S-1])),S<_.children.length-1&&this.line("/Next "+this.makeRef(_.children[S+1])),P.children.length>0&&(this.line("/First "+this.makeRef(P.children[0])),this.line("/Last "+this.makeRef(P.children[P.children.length-1])));var j=this.count=this.count_r({count:0},P);if(j>0&&this.line("/Count "+j),P.options&&P.options.pageNumber){var N=v.internal.getPageInfo(P.options.pageNumber);this.line("/Dest ["+N.objId+" 0 R /XYZ 0 "+C(0)+" 0]")}this.objEnd()}for(var J=0;J<_.children.length;J++)this.renderItems(_.children[J])},v.outline.line=function(_){this.ctx.val+=_+`\r
`},v.outline.makeRef=function(_){return _.id+" 0 R"},v.outline.makeString=function(_){return"("+v.internal.pdfEscape(_)+")"},v.outline.objStart=function(_){this.ctx.val+=`\r
`+_.id+` 0 obj\r
<<\r
`},v.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},v.outline.count_r=function(_,C){for(var S=0;S<C.children.length;S++)_.count++,this.count_r(_,C.children[S]);return _.count}}])}(et.API),function(k){var g=[192,193,194,195,196,197,198,199];k.processJPEG=function(v,_,C,S,P,j){var N,J=this.decode.DCT_DECODE,_t=null;if(typeof v=="string"||this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v)){switch(v=P||v,v=this.__addimage__.isArrayBuffer(v)?new Uint8Array(v):v,(N=function(vt){for(var kt,V=256*vt.charCodeAt(4)+vt.charCodeAt(5),Vt=vt.length,It={width:0,height:0,numcomponents:1},Jt=4;Jt<Vt;Jt+=2){if(Jt+=V,g.indexOf(vt.charCodeAt(Jt+1))!==-1){kt=256*vt.charCodeAt(Jt+5)+vt.charCodeAt(Jt+6),It={width:256*vt.charCodeAt(Jt+7)+vt.charCodeAt(Jt+8),height:kt,numcomponents:vt.charCodeAt(Jt+9)};break}V=256*vt.charCodeAt(Jt+2)+vt.charCodeAt(Jt+3)}return It}(v=this.__addimage__.isArrayBufferView(v)?this.__addimage__.arrayBufferToBinaryString(v):v)).numcomponents){case 1:j=this.color_spaces.DEVICE_GRAY;break;case 4:j=this.color_spaces.DEVICE_CMYK;break;case 3:j=this.color_spaces.DEVICE_RGB}_t={data:v,width:N.width,height:N.height,colorSpace:j,bitsPerComponent:8,filter:J,index:_,alias:C}}return _t}}(et.API);var B,T,q,at,Ot,Gt=function(){var k,g,v;function _(S){var P,j,N,J,_t,vt,kt,V,Vt,It,Jt,Mt,gt,xe;for(this.data=S,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},vt=null;;){switch(P=this.readUInt32(),Vt=function(){var Be,$e;for($e=[],Be=0;Be<4;++Be)$e.push(String.fromCharCode(this.data[this.pos++]));return $e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(P);break;case"fcTL":vt&&this.animation.frames.push(vt),this.pos+=4,vt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_t=this.readUInt16(),J=this.readUInt16()||100,vt.delay=1e3*_t/J,vt.disposeOp=this.data[this.pos++],vt.blendOp=this.data[this.pos++],vt.data=[];break;case"IDAT":case"fdAT":for(Vt==="fdAT"&&(this.pos+=4,P-=4),S=(vt!=null?vt.data:void 0)||this.imgData,Mt=0;0<=P?Mt<P:Mt>P;0<=P?++Mt:--Mt)S.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(N=this.palette.length/3,this.transparency.indexed=this.read(P),this.transparency.indexed.length>N)throw new Error("More transparent colors than palette size");if((It=N-this.transparency.indexed.length)>0)for(gt=0;0<=It?gt<It:gt>It;0<=It?++gt:--gt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(P)[0];break;case 2:this.transparency.rgb=this.read(P)}break;case"tEXt":kt=(Jt=this.read(P)).indexOf(0),V=String.fromCharCode.apply(String,Jt.slice(0,kt)),this.text[V]=String.fromCharCode.apply(String,Jt.slice(kt+1));break;case"IEND":return vt&&this.animation.frames.push(vt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(xe=this.colorType)===4||xe===6,j=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*j,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=P}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_.prototype.read=function(S){var P,j;for(j=[],P=0;0<=S?P<S:P>S;0<=S?++P:--P)j.push(this.data[this.pos++]);return j},_.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_.prototype.decodePixels=function(S){var P=this.pixelBitlength/8,j=new Uint8Array(this.width*this.height*P),N=0,J=this;if(S==null&&(S=this.imgData),S.length===0)return new Uint8Array(0);function _t(vt,kt,V,Vt){var It,Jt,Mt,gt,xe,Be,$e,fr,Ge,mr,fe,Xe,ie,zt,ce,he,Je,Ve,pr,Re,wr,Qe=Math.ceil((J.width-vt)/V),Ar=Math.ceil((J.height-kt)/Vt),te=J.width==Qe&&J.height==Ar;for(zt=P*Qe,Xe=te?j:new Uint8Array(zt*Ar),Be=S.length,ie=0,Jt=0;ie<Ar&&N<Be;){switch(S[N++]){case 0:for(gt=Je=0;Je<zt;gt=Je+=1)Xe[Jt++]=S[N++];break;case 1:for(gt=Ve=0;Ve<zt;gt=Ve+=1)It=S[N++],xe=gt<P?0:Xe[Jt-P],Xe[Jt++]=(It+xe)%256;break;case 2:for(gt=pr=0;pr<zt;gt=pr+=1)It=S[N++],Mt=(gt-gt%P)/P,ce=ie&&Xe[(ie-1)*zt+Mt*P+gt%P],Xe[Jt++]=(ce+It)%256;break;case 3:for(gt=Re=0;Re<zt;gt=Re+=1)It=S[N++],Mt=(gt-gt%P)/P,xe=gt<P?0:Xe[Jt-P],ce=ie&&Xe[(ie-1)*zt+Mt*P+gt%P],Xe[Jt++]=(It+Math.floor((xe+ce)/2))%256;break;case 4:for(gt=wr=0;wr<zt;gt=wr+=1)It=S[N++],Mt=(gt-gt%P)/P,xe=gt<P?0:Xe[Jt-P],ie===0?ce=he=0:(ce=Xe[(ie-1)*zt+Mt*P+gt%P],he=Mt&&Xe[(ie-1)*zt+(Mt-1)*P+gt%P]),$e=xe+ce-he,fr=Math.abs($e-xe),mr=Math.abs($e-ce),fe=Math.abs($e-he),Ge=fr<=mr&&fr<=fe?xe:mr<=fe?ce:he,Xe[Jt++]=(It+Ge)%256;break;default:throw new Error("Invalid filter algorithm: "+S[N-1])}if(!te){var xt=((kt+ie*Vt)*J.width+vt)*P,Qt=ie*zt;for(gt=0;gt<Qe;gt+=1){for(var ve=0;ve<P;ve+=1)j[xt++]=Xe[Qt++];xt+=(V-1)*P}}ie++}}return S=Object(W.a)(S),J.interlaceMethod==1?(_t(0,0,8,8),_t(4,0,8,8),_t(0,4,4,8),_t(2,0,4,4),_t(0,2,2,4),_t(1,0,2,2),_t(0,1,1,2)):_t(0,0,1,1),j},_.prototype.decodePalette=function(){var S,P,j,N,J,_t,vt,kt,V;for(j=this.palette,_t=this.transparency.indexed||[],J=new Uint8Array((_t.length||0)+j.length),N=0,S=0,P=vt=0,kt=j.length;vt<kt;P=vt+=3)J[N++]=j[P],J[N++]=j[P+1],J[N++]=j[P+2],J[N++]=(V=_t[S++])!=null?V:255;return J},_.prototype.copyToImageData=function(S,P){var j,N,J,_t,vt,kt,V,Vt,It,Jt,Mt;if(N=this.colors,It=null,j=this.hasAlphaChannel,this.palette.length&&(It=(Mt=this._decodedPalette)!=null?Mt:this._decodedPalette=this.decodePalette(),N=4,j=!0),Vt=(J=S.data||S).length,vt=It||P,_t=kt=0,N===1)for(;_t<Vt;)V=It?4*P[_t/4]:kt,Jt=vt[V++],J[_t++]=Jt,J[_t++]=Jt,J[_t++]=Jt,J[_t++]=j?vt[V++]:255,kt=V;else for(;_t<Vt;)V=It?4*P[_t/4]:kt,J[_t++]=vt[V++],J[_t++]=vt[V++],J[_t++]=vt[V++],J[_t++]=j?vt[V++]:255,kt=V},_.prototype.decode=function(){var S;return S=new Uint8Array(this.width*this.height*4),this.copyToImageData(S,this.decodePixels()),S};var C=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{g=Ht.document.createElement("canvas"),v=g.getContext("2d")}catch(P){return!1}return!0}return!1};return C(),k=function(P){var j;if(C()===!0)return v.width=P.width,v.height=P.height,v.clearRect(0,0,P.width,P.height),v.putImageData(P,0,0),(j=new Image).src=g.toDataURL(),j;throw new Error("This method requires a Browser with Canvas-capability.")},_.prototype.decodeFrames=function(S){var P,j,N,J,_t,vt,kt,V;if(this.animation){for(V=[],j=_t=0,vt=(kt=this.animation.frames).length;_t<vt;j=++_t)P=kt[j],N=S.createImageData(P.width,P.height),J=this.decodePixels(new Uint8Array(P.data)),this.copyToImageData(N,J),P.imageData=N,V.push(P.image=k(N));return V}},_.prototype.renderFrame=function(S,P){var j,N,J;return j=(N=this.animation.frames)[P],J=N[P-1],P===0&&S.clearRect(0,0,this.width,this.height),(J!=null?J.disposeOp:void 0)===1?S.clearRect(J.xOffset,J.yOffset,J.width,J.height):(J!=null?J.disposeOp:void 0)===2&&S.putImageData(J.imageData,J.xOffset,J.yOffset),j.blendOp===0&&S.clearRect(j.xOffset,j.yOffset,j.width,j.height),S.drawImage(j.image,j.xOffset,j.yOffset)},_.prototype.animate=function(S){var P,j,N,J,_t,vt,kt=this;return j=0,vt=this.animation,J=vt.numFrames,N=vt.frames,_t=vt.numPlays,(P=function(){var Vt,It;if(Vt=j++%J,It=N[Vt],kt.renderFrame(S,Vt),J>1&&j/J<_t)return kt.animation._timeout=setTimeout(P,It.delay)})()},_.prototype.stopAnimation=function(){var S;return clearTimeout((S=this.animation)!=null?S._timeout:void 0)},_.prototype.render=function(S){var P,j;return S._png&&S._png.stopAnimation(),S._png=this,S.width=this.width,S.height=this.height,P=S.getContext("2d"),this.animation?(this.decodeFrames(P),this.animate(P)):(j=P.createImageData(this.width,this.height),this.copyToImageData(j,this.decodePixels()),P.putImageData(j,0,0))},_}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Xt(k){var g=0;if(k[g++]!==71||k[g++]!==73||k[g++]!==70||k[g++]!==56||(k[g++]+1&253)!=56||k[g++]!==97)throw new Error("Invalid GIF 87a/89a header.");var v=k[g++]|k[g++]<<8,_=k[g++]|k[g++]<<8,C=k[g++],S=C>>7,P=1<<(7&C)+1;k[g++],k[g++];var j=null,N=null;S&&(j=g,N=P,g+=3*P);var J=!0,_t=[],vt=0,kt=null,V=0,Vt=null;for(this.width=v,this.height=_;J&&g<k.length;)switch(k[g++]){case 33:switch(k[g++]){case 255:if(k[g]!==11||k[g+1]==78&&k[g+2]==69&&k[g+3]==84&&k[g+4]==83&&k[g+5]==67&&k[g+6]==65&&k[g+7]==80&&k[g+8]==69&&k[g+9]==50&&k[g+10]==46&&k[g+11]==48&&k[g+12]==3&&k[g+13]==1&&k[g+16]==0)g+=14,Vt=k[g++]|k[g++]<<8,g++;else for(g+=12;;){if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}break;case 249:if(k[g++]!==4||k[g+4]!==0)throw new Error("Invalid graphics extension block.");var It=k[g++];vt=k[g++]|k[g++]<<8,kt=k[g++],(1&It)==0&&(kt=null),V=It>>2&7,g++;break;case 254:for(;;){if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}break;default:throw new Error("Unknown graphic control label: 0x"+k[g-1].toString(16))}break;case 44:var Jt=k[g++]|k[g++]<<8,Mt=k[g++]|k[g++]<<8,gt=k[g++]|k[g++]<<8,xe=k[g++]|k[g++]<<8,Be=k[g++],$e=Be>>6&1,fr=1<<(7&Be)+1,Ge=j,mr=N,fe=!1;Be>>7&&(fe=!0,Ge=g,mr=fr,g+=3*fr);var Xe=g;for(g++;;){var ie;if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}_t.push({x:Jt,y:Mt,width:gt,height:xe,has_local_palette:fe,palette_offset:Ge,palette_size:mr,data_offset:Xe,data_length:g-Xe,transparent_index:kt,interlaced:!!$e,delay:vt,disposal:V});break;case 59:J=!1;break;default:throw new Error("Unknown gif block: 0x"+k[g-1].toString(16))}this.numFrames=function(){return _t.length},this.loopCount=function(){return Vt},this.frameInfo=function(zt){if(zt<0||zt>=_t.length)throw new Error("Frame index out of range.");return _t[zt]},this.decodeAndBlitFrameBGRA=function(zt,ce){var he=this.frameInfo(zt),Je=he.width*he.height,Ve=new Uint8Array(Je);ye(k,he.data_offset,Ve,Je);var pr=he.palette_offset,Re=he.transparent_index;Re===null&&(Re=256);var wr=he.width,Qe=v-wr,Ar=wr,te=4*(he.y*v+he.x),xt=4*((he.y+he.height)*v+he.x),Qt=te,ve=4*Qe;he.interlaced===!0&&(ve+=4*v*7);for(var Ae=8,Ie=0,ar=Ve.length;Ie<ar;++Ie){var We=Ve[Ie];if(Ar===0&&(Ar=wr,(Qt+=ve)>=xt&&(ve=4*Qe+4*v*(Ae-1),Qt=te+(wr+Qe)*(Ae<<1),Ae>>=1)),We===Re)Qt+=4;else{var Ye=k[pr+3*We],vr=k[pr+3*We+1],Ur=k[pr+3*We+2];ce[Qt++]=Ur,ce[Qt++]=vr,ce[Qt++]=Ye,ce[Qt++]=255}--Ar}},this.decodeAndBlitFrameRGBA=function(zt,ce){var he=this.frameInfo(zt),Je=he.width*he.height,Ve=new Uint8Array(Je);ye(k,he.data_offset,Ve,Je);var pr=he.palette_offset,Re=he.transparent_index;Re===null&&(Re=256);var wr=he.width,Qe=v-wr,Ar=wr,te=4*(he.y*v+he.x),xt=4*((he.y+he.height)*v+he.x),Qt=te,ve=4*Qe;he.interlaced===!0&&(ve+=4*v*7);for(var Ae=8,Ie=0,ar=Ve.length;Ie<ar;++Ie){var We=Ve[Ie];if(Ar===0&&(Ar=wr,(Qt+=ve)>=xt&&(ve=4*Qe+4*v*(Ae-1),Qt=te+(wr+Qe)*(Ae<<1),Ae>>=1)),We===Re)Qt+=4;else{var Ye=k[pr+3*We],vr=k[pr+3*We+1],Ur=k[pr+3*We+2];ce[Qt++]=Ye,ce[Qt++]=vr,ce[Qt++]=Ur,ce[Qt++]=255}--Ar}}}function ye(k,g,v,_){for(var C=k[g++],S=1<<C,P=S+1,j=P+1,N=C+1,J=(1<<N)-1,_t=0,vt=0,kt=0,V=k[g++],Vt=new Int32Array(4096),It=null;;){for(;_t<16&&V!==0;)vt|=k[g++]<<_t,_t+=8,V===1?V=k[g++]:--V;if(_t<N)break;var Jt=vt&J;if(vt>>=N,_t-=N,Jt!==S){if(Jt===P)break;for(var Mt=Jt<j?Jt:It,gt=0,xe=Mt;xe>S;)xe=Vt[xe]>>8,++gt;var Be=xe;if(kt+gt+(Mt!==Jt?1:0)>_)return void G.log("Warning, gif stream longer than expected.");v[kt++]=Be;var $e=kt+=gt;for(Mt!==Jt&&(v[kt++]=Be),xe=Mt;gt--;)xe=Vt[xe],v[--$e]=255&xe,xe>>=8;It!==null&&j<4096&&(Vt[j++]=It<<8|Be,j>=J+1&&N<12&&(++N,J=J<<1|1)),It=Jt}else j=P+1,J=(1<<(N=C+1))-1,It=null}return kt!==_&&G.log("Warning, gif stream shorter than expected."),v}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Me(k){var g,v,_,C,S,P=Math.floor,j=new Array(64),N=new Array(64),J=new Array(64),_t=new Array(64),vt=new Array(65535),kt=new Array(65535),V=new Array(64),Vt=new Array(64),It=[],Jt=0,Mt=7,gt=new Array(64),xe=new Array(64),Be=new Array(64),$e=new Array(256),fr=new Array(2048),Ge=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],mr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],Xe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ie=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],zt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ce=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Je=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ve(te,xt){for(var Qt=0,ve=0,Ae=new Array,Ie=1;Ie<=16;Ie++){for(var ar=1;ar<=te[Ie];ar++)Ae[xt[ve]]=[],Ae[xt[ve]][0]=Qt,Ae[xt[ve]][1]=Ie,ve++,Qt++;Qt*=2}return Ae}function pr(te){for(var xt=te[0],Qt=te[1]-1;Qt>=0;)xt&1<<Qt&&(Jt|=1<<Mt),Qt--,--Mt<0&&(Jt==255?(Re(255),Re(0)):Re(Jt),Mt=7,Jt=0)}function Re(te){It.push(te)}function wr(te){Re(te>>8&255),Re(255&te)}function Qe(te,xt,Qt,ve,Ae){for(var Ie,ar=Ae[0],We=Ae[240],Ye=function(ir,Fr){var Tr,jr,Wr,Xr,In,tn,Pn,Gn,Vr,dn,Nr=0;for(Vr=0;Vr<8;++Vr){Tr=ir[Nr],jr=ir[Nr+1],Wr=ir[Nr+2],Xr=ir[Nr+3],In=ir[Nr+4],tn=ir[Nr+5],Pn=ir[Nr+6];var ji=Tr+(Gn=ir[Nr+7]),Kn=Tr-Gn,Ci=jr+Pn,bn=jr-Pn,pi=Wr+tn,va=Wr-tn,jn=Xr+In,Va=Xr-In,li=ji+jn,gi=ji-jn,na=Ci+pi,Qn=Ci-pi;ir[Nr]=li+na,ir[Nr+4]=li-na;var cn=.707106781*(Qn+gi);ir[Nr+2]=gi+cn,ir[Nr+6]=gi-cn;var Un=.382683433*((li=Va+va)-(Qn=bn+Kn)),eo=.5411961*li+Un,zi=1.306562965*Qn+Un,Ka=.707106781*(na=va+bn),Za=Kn+Ka,rn=Kn-Ka;ir[Nr+5]=rn+eo,ir[Nr+3]=rn-eo,ir[Nr+1]=Za+zi,ir[Nr+7]=Za-zi,Nr+=8}for(Nr=0,Vr=0;Vr<8;++Vr){Tr=ir[Nr],jr=ir[Nr+8],Wr=ir[Nr+16],Xr=ir[Nr+24],In=ir[Nr+32],tn=ir[Nr+40],Pn=ir[Nr+48];var Zi=Tr+(Gn=ir[Nr+56]),ya=Tr-Gn,cs=jr+Pn,ii=jr-Pn,Ai=Wr+tn,ai=Wr-tn,Ja=Xr+In,Fs=Xr-In,Ia=Zi+Ja,$a=Zi-Ja,Ui=cs+Ai,mi=cs-Ai;ir[Nr]=Ia+Ui,ir[Nr+32]=Ia-Ui;var ia=.707106781*(mi+$a);ir[Nr+16]=$a+ia,ir[Nr+48]=$a-ia;var ro=.382683433*((Ia=Fs+ai)-(mi=ii+ya)),Qa=.5411961*Ia+ro,no=1.306562965*mi+ro,Po=.707106781*(Ui=ai+ii),Oo=ya+Po,fs=ya-Po;ir[Nr+40]=fs+Qa,ir[Nr+24]=fs-Qa,ir[Nr+8]=Oo+no,ir[Nr+56]=Oo-no,Nr++}for(Vr=0;Vr<64;++Vr)dn=ir[Vr]*Fr[Vr],V[Vr]=dn>0?dn+.5|0:dn-.5|0;return V}(te,xt),vr=0;vr<64;++vr)Vt[Ge[vr]]=Ye[vr];var Ur=Vt[0]-Qt;Qt=Vt[0],Ur==0?pr(ve[0]):(pr(ve[kt[Ie=32767+Ur]]),pr(vt[Ie]));for(var Pr=63;Pr>0&&Vt[Pr]==0;)Pr--;if(Pr==0)return pr(ar),Qt;for(var en,Yr=1;Yr<=Pr;){for(var Yt=Yr;Vt[Yr]==0&&Yr<=Pr;)++Yr;var sr=Yr-Yt;if(sr>=16){en=sr>>4;for(var Er=1;Er<=en;++Er)pr(We);sr&=15}Ie=32767+Vt[Yr],pr(Ae[(sr<<4)+kt[Ie]]),pr(vt[Ie]),Yr++}return Pr!=63&&pr(ar),Qt}function Ar(te){te=Math.min(Math.max(te,1),100),S!=te&&(function(xt){for(var Qt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ve=0;ve<64;ve++){var Ae=P((Qt[ve]*xt+50)/100);Ae=Math.min(Math.max(Ae,1),255),j[Ge[ve]]=Ae}for(var Ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ar=0;ar<64;ar++){var We=P((Ie[ar]*xt+50)/100);We=Math.min(Math.max(We,1),255),N[Ge[ar]]=We}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],vr=0,Ur=0;Ur<8;Ur++)for(var Pr=0;Pr<8;Pr++)J[vr]=1/(j[Ge[vr]]*Ye[Ur]*Ye[Pr]*8),_t[vr]=1/(N[Ge[vr]]*Ye[Ur]*Ye[Pr]*8),vr++}(te<50?Math.floor(5e3/te):Math.floor(200-2*te)),S=te)}this.encode=function(te,xt){xt&&Ar(xt),It=new Array,Jt=0,Mt=7,wr(65496),wr(65504),wr(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),wr(1),wr(1),Re(0),Re(0),function(){wr(65499),wr(132),Re(0);for(var jr=0;jr<64;jr++)Re(j[jr]);Re(1);for(var Wr=0;Wr<64;Wr++)Re(N[Wr])}(),function(jr,Wr){wr(65472),wr(17),Re(8),wr(Wr),wr(jr),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1)}(te.width,te.height),function(){wr(65476),wr(418),Re(0);for(var jr=0;jr<16;jr++)Re(mr[jr+1]);for(var Wr=0;Wr<=11;Wr++)Re(fe[Wr]);Re(16);for(var Xr=0;Xr<16;Xr++)Re(Xe[Xr+1]);for(var In=0;In<=161;In++)Re(ie[In]);Re(1);for(var tn=0;tn<16;tn++)Re(zt[tn+1]);for(var Pn=0;Pn<=11;Pn++)Re(ce[Pn]);Re(17);for(var Gn=0;Gn<16;Gn++)Re(he[Gn+1]);for(var Vr=0;Vr<=161;Vr++)Re(Je[Vr])}(),wr(65498),wr(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var Qt=0,ve=0,Ae=0;Jt=0,Mt=7,this.encode.displayName="_encode_";for(var Ie,ar,We,Ye,vr,Ur,Pr,en,Yr,Yt=te.data,sr=te.width,Er=te.height,ir=4*sr,Fr=0;Fr<Er;){for(Ie=0;Ie<ir;){for(vr=ir*Fr+Ie,Pr=-1,en=0,Yr=0;Yr<64;Yr++)Ur=vr+(en=Yr>>3)*ir+(Pr=4*(7&Yr)),Fr+en>=Er&&(Ur-=ir*(Fr+1+en-Er)),Ie+Pr>=ir&&(Ur-=Ie+Pr-ir+4),ar=Yt[Ur++],We=Yt[Ur++],Ye=Yt[Ur++],gt[Yr]=(fr[ar]+fr[We+256>>0]+fr[Ye+512>>0]>>16)-128,xe[Yr]=(fr[ar+768>>0]+fr[We+1024>>0]+fr[Ye+1280>>0]>>16)-128,Be[Yr]=(fr[ar+1280>>0]+fr[We+1536>>0]+fr[Ye+1792>>0]>>16)-128;Qt=Qe(gt,J,Qt,g,_),ve=Qe(xe,_t,ve,v,C),Ae=Qe(Be,_t,Ae,v,C),Ie+=32}Fr+=8}if(Mt>=0){var Tr=[];Tr[1]=Mt+1,Tr[0]=(1<<Mt+1)-1,pr(Tr)}return wr(65497),new Uint8Array(It)},k=k||50,function(){for(var te=String.fromCharCode,xt=0;xt<256;xt++)$e[xt]=te(xt)}(),g=Ve(mr,fe),v=Ve(zt,ce),_=Ve(Xe,ie),C=Ve(he,Je),function(){for(var te=1,xt=2,Qt=1;Qt<=15;Qt++){for(var ve=te;ve<xt;ve++)kt[32767+ve]=Qt,vt[32767+ve]=[],vt[32767+ve][1]=Qt,vt[32767+ve][0]=ve;for(var Ae=-(xt-1);Ae<=-te;Ae++)kt[32767+Ae]=Qt,vt[32767+Ae]=[],vt[32767+Ae][1]=Qt,vt[32767+Ae][0]=xt-1+Ae;te<<=1,xt<<=1}}(),function(){for(var te=0;te<256;te++)fr[te]=19595*te,fr[te+256>>0]=38470*te,fr[te+512>>0]=7471*te+32768,fr[te+768>>0]=-11059*te,fr[te+1024>>0]=-21709*te,fr[te+1280>>0]=32768*te+8421375,fr[te+1536>>0]=-27439*te,fr[te+1792>>0]=-5329*te}(),Ar(k)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ne(k,g){if(this.pos=0,this.buffer=k,this.datav=new DataView(k.buffer),this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function je(k){function g(mr){if(!mr)throw Error("assert :P")}function v(mr,fe,Xe){for(var ie=0;4>ie;ie++)if(mr[fe+ie]!=Xe.charCodeAt(ie))return!0;return!1}function _(mr,fe,Xe,ie,zt){for(var ce=0;ce<zt;ce++)mr[fe+ce]=Xe[ie+ce]}function C(mr,fe,Xe,ie){for(var zt=0;zt<ie;zt++)mr[fe+zt]=Xe}function S(mr){return new Int32Array(mr)}function P(mr,fe){for(var Xe=[],ie=0;ie<mr;ie++)Xe.push(new fe);return Xe}function j(mr,fe){var Xe=[];return function ie(zt,ce,he){for(var Je=he[ce],Ve=0;Ve<Je&&(zt.push(he.length>ce+1?[]:new fe),!(he.length<ce+1));Ve++)ie(zt[Ve],ce+1,he)}(Xe,0,mr),Xe}var N=function(){var fe=this;function Xe(d,m){for(var E=1<<m-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function ie(d,m,E,H,st){g(!(H%E));do d[m+(H-=E)]=st;while(0<H)}function zt(d,m,E,H,st){if(g(2328>=st),512>=st)var ft=S(512);else if((ft=S(st))==null)return 0;return function(dt,yt,St,Nt,pe,Ee){var Pe,we,ur=yt,qe=1<<St,ge=S(16),be=S(16);for(g(pe!=0),g(Nt!=null),g(dt!=null),g(0<St),we=0;we<pe;++we){if(15<Nt[we])return 0;++ge[Nt[we]]}if(ge[0]==pe)return 0;for(be[1]=0,Pe=1;15>Pe;++Pe){if(ge[Pe]>1<<Pe)return 0;be[Pe+1]=be[Pe]+ge[Pe]}for(we=0;we<pe;++we)Pe=Nt[we],0<Nt[we]&&(Ee[be[Pe]++]=we);if(be[15]==1)return(Nt=new ce).g=0,Nt.value=Ee[0],ie(dt,ur,1,qe,Nt),qe;var or,hr=-1,lr=qe-1,Dr=0,Or=1,Kr=1,Lr=1<<St;for(we=0,Pe=1,pe=2;Pe<=St;++Pe,pe<<=1){if(Or+=Kr<<=1,0>(Kr-=ge[Pe]))return 0;for(;0<ge[Pe];--ge[Pe])(Nt=new ce).g=Pe,Nt.value=Ee[we++],ie(dt,ur+Dr,pe,Lr,Nt),Dr=Xe(Dr,Pe)}for(Pe=St+1,pe=2;15>=Pe;++Pe,pe<<=1){if(Or+=Kr<<=1,0>(Kr-=ge[Pe]))return 0;for(;0<ge[Pe];--ge[Pe]){if(Nt=new ce,(Dr&lr)!=hr){for(ur+=Lr,or=1<<(hr=Pe)-St;15>hr&&!(0>=(or-=ge[hr]));)++hr,or<<=1;qe+=Lr=1<<(or=hr-St),dt[yt+(hr=Dr&lr)].g=or+St,dt[yt+hr].value=ur-yt-hr}Nt.g=Pe-St,Nt.value=Ee[we++],ie(dt,ur+(Dr>>St),pe,Lr,Nt),Dr=Xe(Dr,Pe)}}return Or!=2*be[15]-1?0:qe}(d,m,E,H,st,ft)}function ce(){this.value=this.g=0}function he(){this.value=this.g=0}function Je(){this.G=P(5,ce),this.H=S(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=P(Wi,he)}function Ve(d,m,E,H){g(d!=null),g(m!=null),g(2147483648>H),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=E,d.Jd=m,d.Yc=E+H,d.Zc=4<=H?E+H-4+1:E,ar(d)}function pr(d,m){for(var E=0;0<m--;)E|=Ye(d,128)<<m;return E}function Re(d,m){var E=pr(d,m);return We(d)?-E:E}function wr(d,m,E,H){var st,ft=0;for(g(d!=null),g(m!=null),g(4294967288>H),d.Sb=H,d.Ra=0,d.u=0,d.h=0,4<H&&(H=4),st=0;st<H;++st)ft+=m[E+st]<<8*st;d.Ra=ft,d.bb=H,d.oa=m,d.pa=E}function Qe(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Di-8>>>0,++d.bb,d.u-=8;ve(d)&&(d.h=1,d.u=0)}function Ar(d,m){if(g(0<=m),!d.h&&m<=is){var E=Qt(d)&js[m];return d.u+=m,Qe(d),E}return d.h=1,d.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function xt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Qt(d){return d.Ra>>>(d.u&Di-1)>>>0}function ve(d){return g(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Di}function Ae(d,m){d.u=m,d.h=ve(d)}function Ie(d){d.u>=Yi&&(g(d.u>=Yi),Qe(d))}function ar(d){g(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(g(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function We(d){return pr(d,1)}function Ye(d,m){var E=d.Ca;0>d.b&&ar(d);var H=d.b,st=E*m>>>8,ft=(d.I>>>H>st)+0;for(ft?(E-=st,d.I-=st+1<<H>>>0):E=st+1,H=E,st=0;256<=H;)st+=8,H>>=8;return H=7^st+Wl[H],d.b-=H,d.Ca=(E<<H)-1,ft}function vr(d,m,E){d[m+0]=E>>24&255,d[m+1]=E>>16&255,d[m+2]=E>>8&255,d[m+3]=E>>0&255}function Ur(d,m){return d[m+0]<<0|d[m+1]<<8}function Pr(d,m){return Ur(d,m)|d[m+2]<<16}function en(d,m){return Ur(d,m)|Ur(d,m+2)<<16}function Yr(d,m){var E=1<<m;return g(d!=null),g(0<m),d.X=S(E),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function Yt(d,m){g(d!=null),g(m!=null),g(d.Xa==m.Xa),_(m.X,0,d.X,0,1<<m.Xa)}function sr(){this.X=[],this.Xa=this.Mb=0}function Er(d,m,E,H){g(E!=null),g(H!=null);var st=E[0],ft=H[0];return st==0&&(st=(d*ft+m/2)/m),ft==0&&(ft=(m*st+d/2)/d),0>=st||0>=ft?0:(E[0]=st,H[0]=ft,1)}function ir(d,m){return d+(1<<m)-1>>>m}function Fr(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function Tr(d,m){fe[m]=function(E,H,st,ft,dt,yt,St){var Nt;for(Nt=0;Nt<dt;++Nt){var pe=fe[d](yt[St+Nt-1],st,ft+Nt);yt[St+Nt]=Fr(E[H+Nt],pe)}}}function jr(){this.ud=this.hd=this.jd=0}function Wr(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function Xr(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function In(d,m){return Xr(d+(d-m+.5>>1))}function tn(d,m,E){return Math.abs(m-E)-Math.abs(d-E)}function Pn(d,m,E,H,st,ft,dt){for(H=ft[dt-1],E=0;E<st;++E)ft[dt+E]=H=Fr(d[m+E],H)}function Gn(d,m,E,H,st){var ft;for(ft=0;ft<E;++ft){var dt=d[m+ft],yt=dt>>8&255,St=16711935&(St=(St=16711935&dt)+((yt<<16)+yt));H[st+ft]=(4278255360&dt)+St>>>0}}function Vr(d,m){m.jd=d>>0&255,m.hd=d>>8&255,m.ud=d>>16&255}function dn(d,m,E,H,st,ft){var dt;for(dt=0;dt<H;++dt){var yt=m[E+dt],St=yt>>>8,Nt=yt,pe=255&(pe=(pe=yt>>>16)+((d.jd<<24>>24)*(St<<24>>24)>>>5));Nt=255&(Nt=(Nt=Nt+((d.hd<<24>>24)*(St<<24>>24)>>>5))+((d.ud<<24>>24)*(pe<<24>>24)>>>5)),st[ft+dt]=(4278255360&yt)+(pe<<16)+Nt}}function Nr(d,m,E,H,st){fe[m]=function(ft,dt,yt,St,Nt,pe,Ee,Pe,we){for(St=Ee;St<Pe;++St)for(Ee=0;Ee<we;++Ee)Nt[pe++]=st(yt[H(ft[dt++])])},fe[d]=function(ft,dt,yt,St,Nt,pe,Ee){var Pe=8>>ft.b,we=ft.Ea,ur=ft.K[0],qe=ft.w;if(8>Pe)for(ft=(1<<ft.b)-1,qe=(1<<Pe)-1;dt<yt;++dt){var ge,be=0;for(ge=0;ge<we;++ge)ge&ft||(be=H(St[Nt++])),pe[Ee++]=st(ur[be&qe]),be>>=Pe}else fe["VP8LMapColor"+E](St,Nt,ur,qe,pe,Ee,dt,yt,we)}}function ji(d,m,E,H,st){for(E=m+E;m<E;){var ft=d[m++];H[st++]=ft>>16&255,H[st++]=ft>>8&255,H[st++]=ft>>0&255}}function Kn(d,m,E,H,st){for(E=m+E;m<E;){var ft=d[m++];H[st++]=ft>>16&255,H[st++]=ft>>8&255,H[st++]=ft>>0&255,H[st++]=ft>>24&255}}function Ci(d,m,E,H,st){for(E=m+E;m<E;){var ft=(dt=d[m++])>>16&240|dt>>12&15,dt=dt>>0&240|dt>>28&15;H[st++]=ft,H[st++]=dt}}function bn(d,m,E,H,st){for(E=m+E;m<E;){var ft=(dt=d[m++])>>16&248|dt>>13&7,dt=dt>>5&224|dt>>3&31;H[st++]=ft,H[st++]=dt}}function pi(d,m,E,H,st){for(E=m+E;m<E;){var ft=d[m++];H[st++]=ft>>0&255,H[st++]=ft>>8&255,H[st++]=ft>>16&255}}function va(d,m,E,H,st,ft){if(ft==0)for(E=m+E;m<E;)vr(H,((ft=d[m++])[0]>>24|ft[1]>>8&65280|ft[2]<<8&16711680|ft[3]<<24)>>>0),st+=32;else _(H,st,d,m,E)}function jn(d,m){fe[m][0]=fe[d+"0"],fe[m][1]=fe[d+"1"],fe[m][2]=fe[d+"2"],fe[m][3]=fe[d+"3"],fe[m][4]=fe[d+"4"],fe[m][5]=fe[d+"5"],fe[m][6]=fe[d+"6"],fe[m][7]=fe[d+"7"],fe[m][8]=fe[d+"8"],fe[m][9]=fe[d+"9"],fe[m][10]=fe[d+"10"],fe[m][11]=fe[d+"11"],fe[m][12]=fe[d+"12"],fe[m][13]=fe[d+"13"],fe[m][14]=fe[d+"0"],fe[m][15]=fe[d+"0"]}function Va(d){return d==xu||d==ml||d==mn||d==Su}function li(){this.eb=[],this.size=this.A=this.fb=0}function gi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function na(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new li,this.f.kb=new gi,this.sd=null}function Qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Un(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function eo(d,m){var E=d.T,H=m.ba.f.RGBA,st=H.eb,ft=H.fb+d.ka*H.A,dt=da[m.ba.S],yt=d.y,St=d.O,Nt=d.f,pe=d.N,Ee=d.ea,Pe=d.W,we=m.cc,ur=m.dc,qe=m.Mc,ge=m.Nc,be=d.ka,or=d.ka+d.T,hr=d.U,lr=hr+1>>1;for(be==0?dt(yt,St,null,null,Nt,pe,Ee,Pe,Nt,pe,Ee,Pe,st,ft,null,null,hr):(dt(m.ec,m.fc,yt,St,we,ur,qe,ge,Nt,pe,Ee,Pe,st,ft-H.A,st,ft,hr),++E);be+2<or;be+=2)we=Nt,ur=pe,qe=Ee,ge=Pe,pe+=d.Rc,Pe+=d.Rc,ft+=2*H.A,dt(yt,(St+=2*d.fa)-d.fa,yt,St,we,ur,qe,ge,Nt,pe,Ee,Pe,st,ft-H.A,st,ft,hr);return St+=d.fa,d.j+or<d.o?(_(m.ec,m.fc,yt,St,hr),_(m.cc,m.dc,Nt,pe,lr),_(m.Mc,m.Nc,Ee,Pe,lr),E--):1&or||dt(yt,St,null,null,Nt,pe,Ee,Pe,Nt,pe,Ee,Pe,st,ft+H.A,null,null,hr),E}function zi(d,m,E){var H=d.F,st=[d.J];if(H!=null){var ft=d.U,dt=m.ba.S,yt=dt==Ho||dt==mn;m=m.ba.f.RGBA;var St=[0],Nt=d.ka;St[0]=d.T,d.Kb&&(Nt==0?--St[0]:(--Nt,st[0]-=d.width),d.j+d.ka+d.T==d.o&&(St[0]=d.o-d.j-Nt));var pe=m.eb;Nt=m.fb+Nt*m.A,d=ju(H,st[0],d.width,ft,St,pe,Nt+(yt?0:3),m.A),g(E==St),d&&Va(dt)&&Ss(pe,Nt,yt,ft,St,m.A)}return 0}function Ka(d){var m=d.ma,E=m.ba.S,H=11>E,st=E==Xl||E==Vl||E==Ho||E==Kl||E==12||Va(E);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!pl(m.Oa,d,st?11:12))return 0;if(st&&Va(E)&&qr(),d.da)alert("todo:use_scaling");else{if(H){if(m.Ib=Un,d.Kb){if(E=d.U+1>>1,m.memory=S(d.U+2*E),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+E,m.Ib=eo,qr()}}else alert("todo:EmitYUV");st&&(m.Jb=zi,H&&yr())}if(H&&!Ku){for(d=0;256>d;++d)ru[d]=89858*(d-128)+bl>>eu,Ju[d]=-22014*(d-128)+bl,Zu[d]=-45773*(d-128),Yo[d]=113618*(d-128)+bl>>eu;for(d=Go;d<Hi;++d)m=76283*(d-16)+bl>>eu,Ch[d-Go]=$i(m,255),$u[d-Go]=$i(m+8>>4,15);Ku=1}return 1}function Za(d){var m=d.ma,E=d.U,H=d.T;return g(!(1&d.ka)),0>=E||0>=H?0:(E=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,E),m.Dc+=E,1)}function rn(d){d.ma.memory=null}function Zi(d,m,E,H){return Ar(d,8)!=47?0:(m[0]=Ar(d,14)+1,E[0]=Ar(d,14)+1,H[0]=Ar(d,1),Ar(d,3)!=0?0:!d.h)}function ya(d,m){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+Ar(m,E)+1}function cs(d,m){return 120<m?m-120:1<=(E=((E=Ca[m-1])>>4)*d+(8-(15&E)))?E:1;var E}function ii(d,m,E){var H=Qt(E),st=d[m+=255&H].g-8;return 0<st&&(Ae(E,E.u+8),H=Qt(E),m+=d[m].value,m+=H&(1<<st)-1),Ae(E,E.u+d[m].g),d[m].value}function Ai(d,m,E){return E.g+=d.g,E.value+=d.value<<m>>>0,g(8>=E.g),d.g}function ai(d,m,E){var H=d.xc;return g((m=H==0?0:d.vc[d.md*(E>>H)+(m>>H)])<d.Wb),d.Ya[m]}function Ja(d,m,E,H){var st=d.ab,ft=d.c*m,dt=d.C;m=dt+m;var yt=E,St=H;for(H=d.Ta,E=d.Ua;0<st--;){var Nt=d.gc[st],pe=dt,Ee=m,Pe=yt,we=St,ur=(St=H,yt=E,Nt.Ea);switch(g(pe<Ee),g(Ee<=Nt.nc),Nt.hc){case 2:ki(Pe,we,(Ee-pe)*ur,St,yt);break;case 0:var qe=pe,ge=Ee,be=St,or=yt,hr=(Lr=Nt).Ea;qe==0&&(jo(Pe,we,null,null,1,be,or),Pn(Pe,we+1,0,0,hr-1,be,or+1),we+=hr,or+=hr,++qe);for(var lr=1<<Lr.b,Dr=lr-1,Or=ir(hr,Lr.b),Kr=Lr.K,Lr=Lr.w+(qe>>Lr.b)*Or;qe<ge;){var kr=Kr,zn=Lr,Ln=1;for(fo(Pe,we,be,or-hr,1,be,or);Ln<hr;){var vn=(Ln&~Dr)+lr;vn>hr&&(vn=hr),(0,xa[kr[zn++]>>8&15])(Pe,we+ +Ln,be,or+Ln-hr,vn-Ln,be,or+Ln),Ln=vn}we+=hr,or+=hr,++qe&Dr||(Lr+=Or)}Ee!=Nt.nc&&_(St,yt-ur,St,yt+(Ee-pe-1)*ur,ur);break;case 1:for(ur=Pe,ge=we,hr=(Pe=Nt.Ea)-(or=Pe&~(be=(we=1<<Nt.b)-1)),qe=ir(Pe,Nt.b),lr=Nt.K,Nt=Nt.w+(pe>>Nt.b)*qe;pe<Ee;){for(Dr=lr,Or=Nt,Kr=new jr,Lr=ge+or,kr=ge+Pe;ge<Lr;)Vr(Dr[Or++],Kr),Zn(Kr,ur,ge,we,St,yt),ge+=we,yt+=we;ge<kr&&(Vr(Dr[Or++],Kr),Zn(Kr,ur,ge,hr,St,yt),ge+=hr,yt+=hr),++pe&be||(Nt+=qe)}break;case 3:if(Pe==St&&we==yt&&0<Nt.b){for(ge=St,Pe=ur=yt+(Ee-pe)*ur-(or=(Ee-pe)*ir(Nt.Ea,Nt.b)),we=St,be=yt,qe=[],or=(hr=or)-1;0<=or;--or)qe[or]=we[be+or];for(or=hr-1;0<=or;--or)ge[Pe+or]=qe[or];po(Nt,pe,Ee,St,ur,St,yt)}else po(Nt,pe,Ee,Pe,we,St,yt)}yt=H,St=E}St!=E&&_(H,E,yt,St,ft)}function Fs(d,m){var E=d.V,H=d.Ba+d.c*d.C,st=m-d.C;if(g(m<=d.l.o),g(16>=st),0<st){var ft=d.l,dt=d.Ta,yt=d.Ua,St=ft.width;if(Ja(d,st,E,H),st=yt=[yt],g((E=d.C)<(H=m)),g(ft.v<ft.va),H>ft.o&&(H=ft.o),E<ft.j){var Nt=ft.j-E;E=ft.j,st[0]+=Nt*St}if(E>=H?E=0:(st[0]+=4*ft.v,ft.ka=E-ft.j,ft.U=ft.va-ft.v,ft.T=H-E,E=1),E){if(yt=yt[0],11>(E=d.ca).S){var pe=E.f.RGBA,Ee=(H=E.S,st=ft.U,ft=ft.T,Nt=pe.eb,pe.A),Pe=ft;for(pe=pe.fb+d.Ma*pe.A;0<Pe--;){var we=dt,ur=yt,qe=st,ge=Nt,be=pe;switch(H){case gl:bs(we,ur,qe,ge,be);break;case Xl:ja(we,ur,qe,ge,be);break;case xu:ja(we,ur,qe,ge,be),Ss(ge,be,0,qe,1,0);break;case wu:ta(we,ur,qe,ge,be);break;case Vl:va(we,ur,qe,ge,be,1);break;case ml:va(we,ur,qe,ge,be,1),Ss(ge,be,0,qe,1,0);break;case Ho:va(we,ur,qe,ge,be,0);break;case mn:va(we,ur,qe,ge,be,0),Ss(ge,be,1,qe,1,0);break;case Kl:Pi(we,ur,qe,ge,be);break;case Su:Pi(we,ur,qe,ge,be),Hl(ge,be,qe,1,0);break;case Zl:zs(we,ur,qe,ge,be);break;default:g(0)}yt+=St,pe+=Ee}d.Ma+=ft}else alert("todo:EmitRescaledRowsYUVA");g(d.Ma<=E.height)}}d.C=m,g(d.C<=d.i)}function Ia(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var E=d.Ya[m].G,H=d.Ya[m].H;if(0<E[1][H[1]+0].g||0<E[2][H[2]+0].g||0<E[3][H[3]+0].g)return 0}return 1}function $a(d,m,E,H,st,ft){if(d.Z!=0){var dt=d.qd,yt=d.rd;for(g(Vi[d.Z]!=null);m<E;++m)Vi[d.Z](dt,yt,H,st,H,st,ft),dt=H,yt=st,st+=ft;d.qd=dt,d.rd=yt}}function Ui(d,m){var E=d.l.ma,H=E.Z==0||E.Z==1?d.l.j:d.C;if(H=d.C<H?H:d.C,g(m<=d.l.o),m>H){var st=d.l.width,ft=E.ca,dt=E.tb+st*H,yt=d.V,St=d.Ba+d.c*H,Nt=d.gc;g(d.ab==1),g(Nt[0].hc==3),zo(Nt[0],H,m,yt,St,ft,dt),$a(E,H,m,ft,dt,st)}d.C=d.Ma=m}function mi(d,m,E,H,st,ft,dt){var yt=d.$/H,St=d.$%H,Nt=d.m,pe=d.s,Ee=E+d.$,Pe=Ee;st=E+H*st;var we=E+H*ft,ur=280+pe.ua,qe=d.Pb?yt:16777216,ge=0<pe.ua?pe.Wa:null,be=pe.wc,or=Ee<we?ai(pe,St,yt):null;g(d.C<ft),g(we<=st);var hr=!1;t:for(;;){for(;hr||Ee<we;){var lr=0;if(yt>=qe){var Dr=Ee-E;g((qe=d).Pb),qe.wd=qe.m,qe.xd=Dr,0<qe.s.ua&&Yt(qe.s.Wa,qe.s.vb),qe=yt+Jl}if(St&be||(or=ai(pe,St,yt)),g(or!=null),or.Qb&&(m[Ee]=or.qb,hr=!0),!hr)if(Ie(Nt),or.jc){lr=Nt,Dr=m;var Or=Ee,Kr=or.pd[Qt(lr)&Wi-1];g(or.jc),256>Kr.g?(Ae(lr,lr.u+Kr.g),Dr[Or]=Kr.value,lr=0):(Ae(lr,lr.u+Kr.g-256),g(256<=Kr.value),lr=Kr.value),lr==0&&(hr=!0)}else lr=ii(or.G[0],or.H[0],Nt);if(Nt.h)break;if(hr||256>lr){if(!hr)if(or.nd)m[Ee]=(or.qb|lr<<8)>>>0;else{if(Ie(Nt),hr=ii(or.G[1],or.H[1],Nt),Ie(Nt),Dr=ii(or.G[2],or.H[2],Nt),Or=ii(or.G[3],or.H[3],Nt),Nt.h)break;m[Ee]=(Or<<24|hr<<16|lr<<8|Dr)>>>0}if(hr=!1,++Ee,++St>=H&&(St=0,++yt,dt!=null&&yt<=ft&&!(yt%16)&&dt(d,yt),ge!=null))for(;Pe<Ee;)lr=m[Pe++],ge.X[(506832829*lr&4294967295)>>>ge.Mb]=lr}else if(280>lr){if(lr=ya(lr-256,Nt),Dr=ii(or.G[4],or.H[4],Nt),Ie(Nt),Dr=cs(H,Dr=ya(Dr,Nt)),Nt.h)break;if(Ee-E<Dr||st-Ee<lr)break t;for(Or=0;Or<lr;++Or)m[Ee+Or]=m[Ee+Or-Dr];for(Ee+=lr,St+=lr;St>=H;)St-=H,++yt,dt!=null&&yt<=ft&&!(yt%16)&&dt(d,yt);if(g(Ee<=st),St&be&&(or=ai(pe,St,yt)),ge!=null)for(;Pe<Ee;)lr=m[Pe++],ge.X[(506832829*lr&4294967295)>>>ge.Mb]=lr}else{if(!(lr<ur))break t;for(hr=lr-280,g(ge!=null);Pe<Ee;)lr=m[Pe++],ge.X[(506832829*lr&4294967295)>>>ge.Mb]=lr;lr=Ee,g(!(hr>>>(Dr=ge).Xa)),m[lr]=Dr.X[hr],hr=!0}hr||g(Nt.h==ve(Nt))}if(d.Pb&&Nt.h&&Ee<st)g(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Yt(d.s.vb,d.s.Wa);else{if(Nt.h)break t;dt!=null&&dt(d,yt>ft?ft:yt),d.a=0,d.$=Ee-E}return 1}return d.a=3,0}function ia(d){g(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,g(d!=null)}function ro(){var d=new hl;return d==null?null:(d.a=0,d.xb=Hu,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),ki=Gn,Zn=dn,bs=ji,ja=Kn,Pi=Ci,zs=bn,ta=pi,fe.VP8LMapColor32b=vu,fe.VP8LMapColor8b=go,d)}function Qa(d,m,E,H,st){var ft=1,dt=[d],yt=[m],St=H.m,Nt=H.s,pe=null,Ee=0;t:for(;;){if(E)for(;ft&&Ar(St,1);){var Pe=dt,we=yt,ur=H,qe=1,ge=ur.m,be=ur.gc[ur.ab],or=Ar(ge,2);if(ur.Oc&1<<or)ft=0;else{switch(ur.Oc|=1<<or,be.hc=or,be.Ea=Pe[0],be.nc=we[0],be.K=[null],++ur.ab,g(4>=ur.ab),or){case 0:case 1:be.b=Ar(ge,3)+2,qe=Qa(ir(be.Ea,be.b),ir(be.nc,be.b),0,ur,be.K),be.K=be.K[0];break;case 3:var hr,lr=Ar(ge,8)+1,Dr=16<lr?0:4<lr?1:2<lr?2:3;if(Pe[0]=ir(be.Ea,Dr),be.b=Dr,hr=qe=Qa(lr,1,0,ur,be.K)){var Or,Kr=lr,Lr=be,kr=1<<(8>>Lr.b),zn=S(kr);if(zn==null)hr=0;else{var Ln=Lr.K[0],vn=Lr.w;for(zn[0]=Lr.K[0][0],Or=1;Or<1*Kr;++Or)zn[Or]=Fr(Ln[vn+Or],zn[Or-1]);for(;Or<4*kr;++Or)zn[Or]=0;Lr.K[0]=null,Lr.K[0]=zn,hr=1}}qe=hr;break;case 2:break;default:g(0)}ft=qe}}if(dt=dt[0],yt=yt[0],ft&&Ar(St,1)&&!(ft=1<=(Ee=Ar(St,4))&&11>=Ee)){H.a=3;break t}var $n;if($n=ft)e:{var qn,pn,kn,ea=H,wi=dt,Ki=yt,Yn=Ee,ra=E,pa=ea.m,Ei=ea.s,Bi=[null],fi=1,ei=0,Aa=xh[Yn];r:for(;;){if(ra&&Ar(pa,1)){var Fi=Ar(pa,3)+2,Wa=ir(wi,Fi),yo=ir(Ki,Fi),Xo=Wa*yo;if(!Qa(Wa,yo,0,ea,Bi))break r;for(Bi=Bi[0],Ei.xc=Fi,qn=0;qn<Xo;++qn){var Ta=Bi[qn]>>8&65535;Bi[qn]=Ta,Ta>=fi&&(fi=Ta+1)}}if(pa.h)break r;for(pn=0;5>pn;++pn){var di=Cu[pn];!pn&&0<Yn&&(di+=1<<Yn),ei<di&&(ei=di)}var nu=P(fi*Aa,ce),th=fi,eh=P(th,Je);if(eh==null)var iu=null;else g(65536>=th),iu=eh;var _l=S(ei);if(iu==null||_l==null||nu==null){ea.a=1;break r}var wl=nu;for(qn=kn=0;qn<fi;++qn){var Pa=iu[qn],Vo=Pa.G,Xs=Pa.H,Lu=0,Vs=1,au=0;for(pn=0;5>pn;++pn){di=Cu[pn],Vo[pn]=wl,Xs[pn]=kn,!pn&&0<Yn&&(di+=1<<Yn);i:{var xl,su=di,bo=ea,Ko=_l,os=wl,_o=kn,ku=0,As=bo.m,Th=Ar(As,1);if(C(Ko,0,0,su),Th){var Ph=Ar(As,1)+1,Oh=Ar(As,1),rh=Ar(As,Oh==0?1:8);Ko[rh]=1,Ph==2&&(Ko[rh=Ar(As,8)]=1);var ou=1}else{var nh=S(19),ih=Ar(As,4)+4;if(19<ih){bo.a=3;var lu=0;break i}for(xl=0;xl<ih;++xl)nh[wh[xl]]=Ar(As,3);var Eu=void 0,Sl=void 0,ah=bo,sh=nh,Cl=su,Fu=Ko,Iu=0,Ks=ah.m,oh=8,Nu=P(128,ce);n:for(;zt(Nu,0,7,sh,19);){if(Ar(Ks,1)){var Lh=2+2*Ar(Ks,3);if((Eu=2+Ar(Ks,Lh))>Cl)break n}else Eu=Cl;for(Sl=0;Sl<Cl&&Eu--;){Ie(Ks);var lh=Nu[0+(127&Qt(Ks))];Ae(Ks,Ks.u+lh.g);var Zo=lh.value;if(16>Zo)Fu[Sl++]=Zo,Zo!=0&&(oh=Zo);else{var kh=Zo==16,uh=Zo-16,Eh=vl[uh],ga=Ar(Ks,bh[uh])+Eh;if(Sl+ga>Cl)break n;for(var Fh=kh?oh:0;0<ga--;)Fu[Sl++]=Fh}}Iu=1;break n}Iu||(ah.a=3),ou=Iu}(ou=ou&&!As.h)&&(ku=zt(os,_o,8,Ko,su)),ou&&ku!=0?lu=ku:(bo.a=3,lu=0)}if(lu==0)break r;if(Vs&&_h[pn]==1&&(Vs=wl[kn].g==0),Lu+=wl[kn].g,kn+=lu,3>=pn){var Al,Mu=_l[0];for(Al=1;Al<di;++Al)_l[Al]>Mu&&(Mu=_l[Al]);au+=Mu}}if(Pa.nd=Vs,Pa.Qb=0,Vs&&(Pa.qb=(Vo[3][Xs[3]+0].value<<24|Vo[1][Xs[1]+0].value<<16|Vo[2][Xs[2]+0].value)>>>0,Lu==0&&256>Vo[0][Xs[0]+0].value&&(Pa.Qb=1,Pa.qb+=Vo[0][Xs[0]+0].value<<8)),Pa.jc=!Pa.Qb&&6>au,Pa.jc){var Tl,Ts=Pa;for(Tl=0;Tl<Wi;++Tl){var Zs=Tl,Js=Ts.pd[Zs],uu=Ts.G[0][Ts.H[0]+Zs];256<=uu.value?(Js.g=uu.g+256,Js.value=uu.value):(Js.g=0,Js.value=0,Zs>>=Ai(uu,8,Js),Zs>>=Ai(Ts.G[1][Ts.H[1]+Zs],16,Js),Zs>>=Ai(Ts.G[2][Ts.H[2]+Zs],0,Js),Ai(Ts.G[3][Ts.H[3]+Zs],24,Js))}}}Ei.vc=Bi,Ei.Wb=fi,Ei.Ya=iu,Ei.yc=nu,$n=1;break e}$n=0}if(!(ft=$n)){H.a=3;break t}if(0<Ee){if(Nt.ua=1<<Ee,!Yr(Nt.Wa,Ee)){H.a=1,ft=0;break t}}else Nt.ua=0;var Pl=H,hh=dt,Ih=yt,Du=Pl.s,Ru=Du.xc;if(Pl.c=hh,Pl.i=Ih,Du.md=ir(hh,Ru),Du.wc=Ru==0?-1:(1<<Ru)-1,E){H.xb=Gs;break t}if((pe=S(dt*yt))==null){H.a=1,ft=0;break t}ft=(ft=mi(H,pe,0,dt,yt,yt,null))&&!St.h;break t}return ft?(st!=null?st[0]=pe:(g(pe==null),g(E)),H.$=0,E||ia(Nt)):ia(Nt),ft}function no(d,m){var E=d.c*d.i,H=E+m+16*m;return g(d.c<=m),d.V=S(H),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+m,1)}function Po(d,m){var E=d.C,H=m-E,st=d.V,ft=d.Ba+d.c*E;for(g(m<=d.l.o);0<H;){var dt=16<H?16:H,yt=d.l.ma,St=d.l.width,Nt=St*dt,pe=yt.ca,Ee=yt.tb+St*E,Pe=d.Ta,we=d.Ua;Ja(d,dt,st,ft),yu(Pe,we,pe,Ee,Nt),$a(yt,E,E+dt,pe,Ee,St),H-=dt,st+=dt*d.c,E+=dt}g(E==m),d.C=d.Ma=m}function Oo(){this.ub=this.yd=this.td=this.Rb=0}function fs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _e(){this.Fb=this.Bb=this.Cb=0,this.Zb=S(4),this.Lb=S(4)}function Ze(){this.Yb=function(){var d=[];return function m(E,H,st){for(var ft=st[H],dt=0;dt<ft&&(E.push(st.length>H+1?[]:0),!(st.length<H+1));dt++)m(E[dt],H+1,st)}(d,0,[3,11]),d}()}function ze(){this.jb=S(3),this.Wc=j([4,8],Ze),this.Xc=j([4,17],Ze)}function zr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new S(4),this.od=new S(4)}function nn(){this.ld=this.La=this.dd=this.tc=0}function Nn(){this.Na=this.la=0}function ti(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function On(){this.ad=S(384),this.Za=0,this.Ob=S(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rl(){this.uc=this.M=this.Nb=0,this.wa=Array(new nn),this.Y=0,this.ya=Array(new On),this.aa=0,this.l=new io}function kl(){this.y=S(16),this.f=S(8),this.ea=S(8)}function Ji(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new Oo,this.Kc=new fs,this.ed=new zr,this.Qa=new _e,this.Ic=this.$c=this.Aa=0,this.D=new rl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=P(8,te),this.ia=0,this.pb=P(4,ti),this.Pa=new ze,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kl),this.Hd=0,this.rb=Array(new Nn),this.sb=0,this.wa=Array(new nn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new On),this.L=this.aa=0,this.gd=j([4,2],nn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(d,m){return 0>d?0:d>m?m:d}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Is(){var d=new Ji;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,qo||(qo=fu)),d}function ui(d,m,E){return d.a==0&&(d.a=m,d.sc=E,d.cb=0),0}function Ns(d,m,E){return 3<=E&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function Rn(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return ui(d,2,"null VP8Io passed to VP8GetHeaders()");var E=m.data,H=m.w,st=m.ha;if(4>st)return ui(d,7,"Truncated header.");var ft=E[H+0]|E[H+1]<<8|E[H+2]<<16,dt=d.Od;if(dt.Rb=!(1&ft),dt.td=ft>>1&7,dt.yd=ft>>4&1,dt.ub=ft>>5,3<dt.td)return ui(d,3,"Incorrect keyframe parameters.");if(!dt.yd)return ui(d,4,"Frame not displayable.");H+=3,st-=3;var yt=d.Kc;if(dt.Rb){if(7>st)return ui(d,7,"cannot parse picture header");if(!Ns(E,H,st))return ui(d,3,"Bad code word");yt.c=16383&(E[H+4]<<8|E[H+3]),yt.Td=E[H+4]>>6,yt.i=16383&(E[H+6]<<8|E[H+5]),yt.Ud=E[H+6]>>6,H+=7,st-=7,d.za=yt.c+15>>4,d.Ub=yt.i+15>>4,m.width=yt.c,m.height=yt.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,C((ft=d.Pa).jb,0,255,ft.jb.length),g((ft=d.Qa)!=null),ft.Cb=0,ft.Bb=0,ft.Fb=1,C(ft.Zb,0,0,ft.Zb.length),C(ft.Lb,0,0,ft.Lb)}if(dt.ub>st)return ui(d,7,"bad partition length");Ve(ft=d.m,E,H,dt.ub),H+=dt.ub,st-=dt.ub,dt.Rb&&(yt.Ld=We(ft),yt.Kd=We(ft)),yt=d.Qa;var St,Nt=d.Pa;if(g(ft!=null),g(yt!=null),yt.Cb=We(ft),yt.Cb){if(yt.Bb=We(ft),We(ft)){for(yt.Fb=We(ft),St=0;4>St;++St)yt.Zb[St]=We(ft)?Re(ft,7):0;for(St=0;4>St;++St)yt.Lb[St]=We(ft)?Re(ft,6):0}if(yt.Bb)for(St=0;3>St;++St)Nt.jb[St]=We(ft)?pr(ft,8):255}else yt.Bb=0;if(ft.Ka)return ui(d,3,"cannot parse segment header");if((yt=d.ed).zd=We(ft),yt.Tb=pr(ft,6),yt.wb=pr(ft,3),yt.Pc=We(ft),yt.Pc&&We(ft)){for(Nt=0;4>Nt;++Nt)We(ft)&&(yt.vd[Nt]=Re(ft,6));for(Nt=0;4>Nt;++Nt)We(ft)&&(yt.od[Nt]=Re(ft,6))}if(d.L=yt.Tb==0?0:yt.zd?1:2,ft.Ka)return ui(d,3,"cannot parse filter header");var pe=st;if(st=St=H,H=St+pe,yt=pe,d.Xb=(1<<pr(d.m,2))-1,pe<3*(Nt=d.Xb))E=7;else{for(St+=3*Nt,yt-=3*Nt,pe=0;pe<Nt;++pe){var Ee=E[st+0]|E[st+1]<<8|E[st+2]<<16;Ee>yt&&(Ee=yt),Ve(d.Jc[+pe],E,St,Ee),St+=Ee,yt-=Ee,st+=3}Ve(d.Jc[+Nt],E,St,yt),E=St<H?0:5}if(E!=0)return ui(d,E,"cannot parse partitions");for(E=pr(St=d.m,7),st=We(St)?Re(St,4):0,H=We(St)?Re(St,4):0,yt=We(St)?Re(St,4):0,Nt=We(St)?Re(St,4):0,St=We(St)?Re(St,4):0,pe=d.Qa,Ee=0;4>Ee;++Ee){if(pe.Cb){var Pe=pe.Zb[Ee];pe.Fb||(Pe+=E)}else{if(0<Ee){d.pb[Ee]=d.pb[0];continue}Pe=E}var we=d.pb[Ee];we.Sc[0]=yl[$i(Pe+st,127)],we.Sc[1]=$l[$i(Pe+0,127)],we.Eb[0]=2*yl[$i(Pe+H,127)],we.Eb[1]=101581*$l[$i(Pe+yt,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=yl[$i(Pe+Nt,117)],we.Qc[1]=$l[$i(Pe+St,127)],we.lc=Pe+St}if(!dt.Rb)return ui(d,4,"Not a key frame.");for(We(ft),dt=d.Pa,E=0;4>E;++E){for(st=0;8>st;++st)for(H=0;3>H;++H)for(yt=0;11>yt;++yt)Nt=Ye(ft,Wu[E][st][H][yt])?pr(ft,8):Uu[E][st][H][yt],dt.Wc[E][st].Yb[H][yt]=Nt;for(st=0;17>st;++st)dt.Xc[E][st]=dt.Wc[E][Au[st]]}return d.kc=We(ft),d.kc&&(d.Bd=pr(ft,8)),d.cb=1}function fu(d,m,E,H,st,ft,dt){var yt=m[st].Yb[E];for(E=0;16>st;++st){if(!Ye(d,yt[E+0]))return st;for(;!Ye(d,yt[E+1]);)if(yt=m[++st].Yb[0],E=0,st==16)return 16;var St=m[st+1].Yb;if(Ye(d,yt[E+2])){var Nt=d,pe=0;if(Ye(Nt,(Pe=yt)[(Ee=E)+3]))if(Ye(Nt,Pe[Ee+6])){for(yt=0,Ee=2*(pe=Ye(Nt,Pe[Ee+8]))+(Pe=Ye(Nt,Pe[Ee+9+pe])),pe=0,Pe=ca[Ee];Pe[yt];++yt)pe+=pe+Ye(Nt,Pe[yt]);pe+=3+(8<<Ee)}else Ye(Nt,Pe[Ee+7])?(pe=7+2*Ye(Nt,165),pe+=Ye(Nt,145)):pe=5+Ye(Nt,159);else pe=Ye(Nt,Pe[Ee+4])?3+Ye(Nt,Pe[Ee+5]):2;yt=St[2]}else pe=1,yt=St[1];St=dt+qs[st],0>(Nt=d).b&&ar(Nt);var Ee,Pe=Nt.b,we=(Ee=Nt.Ca>>1)-(Nt.I>>Pe)>>31;--Nt.b,Nt.Ca+=we,Nt.Ca|=1,Nt.I-=(Ee+1&we)<<Pe,ft[St]=((pe^we)-we)*H[(0<st)+0]}return 16}function nl(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,C(d.zc,0,0,d.zc.length),d.ja=0}function Lo(d,m){if(d==null)return 0;if(m==null)return ui(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Rn(d,m))return 0;if(g(d.cb),m.ac==null||m.ac(m)){m.ob&&(d.L=0);var E=Ys[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=m.v-E>>4,d.zb=m.j-E>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=m.o+15+E>>4,d.Hb=m.va+15+E>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var H=d.ed;for(E=0;4>E;++E){var st;if(d.Qa.Cb){var ft=d.Qa.Lb[E];d.Qa.Fb||(ft+=H.Tb)}else ft=H.Tb;for(st=0;1>=st;++st){var dt=d.gd[E][st],yt=ft;if(H.Pc&&(yt+=H.vd[0],st&&(yt+=H.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var St=yt;0<H.wb&&(St=4<H.wb?St>>2:St>>1)>9-H.wb&&(St=9-H.wb),1>St&&(St=1),dt.dd=St,dt.tc=2*yt+St,dt.ld=40<=yt?2:15<=yt?1:0}else dt.tc=0;dt.La=st}}}E=0}else ui(d,6,"Frame setup failed"),E=d.a;if(E=E==0){if(E){d.$c=0,0<d.Aa||(d.Ic=Qu);t:{E=d.Ic,H=4*(St=d.za);var Nt=32*St,pe=St+1,Ee=0<d.L?St*(0<d.Aa?2:1):0,Pe=(d.Aa==2?2:1)*St;if((dt=H+832+(st=3*(16*E+Ys[d.L])/2*Nt)+(ft=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=dt)E=0;else{if(dt>d.Vb){if(d.Vb=0,d.Ec=S(dt),d.Fc=0,d.Ec==null){E=ui(d,1,"no memory during frame initialization.");break t}d.Vb=dt}dt=d.Ec,yt=d.Fc,d.Ac=dt,d.Bc=yt,yt+=H,d.Gd=P(Nt,kl),d.Hd=0,d.rb=P(pe+1,Nn),d.sb=1,d.wa=Ee?P(Ee,nn):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=St),g(!0),d.oc=dt,d.pc=yt,yt+=832,d.ya=P(Pe,On),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=St),d.R=16*St,d.B=8*St,St=(Nt=Ys[d.L])*d.R,Nt=Nt/2*d.B,d.sa=dt,d.ta=yt+St,d.qa=d.sa,d.ra=d.ta+16*E*d.R+Nt,d.Ha=d.qa,d.Ia=d.ra+8*E*d.B+Nt,d.$c=0,yt+=st,d.mb=ft?dt:null,d.nb=ft?yt:null,g(yt+ft<=d.Fc+d.Vb),nl(d),C(d.Ac,d.Bc,0,H),E=1}}if(E){if(m.ka=0,m.y=d.sa,m.O=d.ta,m.f=d.qa,m.N=d.ra,m.ea=d.Ha,m.Vd=d.Ia,m.fa=d.R,m.Rc=d.B,m.F=null,m.J=0,!_u){for(E=-255;255>=E;++E)ql[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)zu[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Gl[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)bu[255+E]=0>E?0:255<E?255:E;_u=1}as=Fl,Us=ko,ss=il,Sa=Eo,Ws=El,vi=Na,Uo=Rs,_s=vs,Hs=ol,ws=Ul,la=Qi,xs=xn,hi=Ro,Hn=es,Ri=ms,ci=zl,Xi=Do,Wo=ts,fa[0]=Dl,fa[1]=Il,fa[2]=Ma,fa[3]=Ml,fa[4]=si,fa[5]=pu,fa[6]=bi,fa[7]=gu,fa[8]=sl,fa[9]=Rl,Cs[0]=du,Cs[1]=ba,Cs[2]=Fo,Cs[3]=Nl,Cs[4]=oo,Cs[5]=Io,Cs[6]=al,za[0]=wa,za[1]=aa,za[2]=No,za[3]=_a,za[4]=lo,za[5]=ps,za[6]=Mo,E=1}else E=0}E&&(E=function(we,ur){for(we.M=0;we.M<we.Va;++we.M){var qe,ge=we.Jc[we.M&we.Xb],be=we.m,or=we;for(qe=0;qe<or.za;++qe){var hr=be,lr=or,Dr=lr.Ac,Or=lr.Bc+4*qe,Kr=lr.zc,Lr=lr.ya[lr.aa+qe];if(lr.Qa.Bb?Lr.$b=Ye(hr,lr.Pa.jb[0])?2+Ye(hr,lr.Pa.jb[2]):Ye(hr,lr.Pa.jb[1]):Lr.$b=0,lr.kc&&(Lr.Ad=Ye(hr,lr.Bd)),Lr.Za=!Ye(hr,145)+0,Lr.Za){var kr=Lr.Ob,zn=0;for(lr=0;4>lr;++lr){var Ln,vn=Kr[0+lr];for(Ln=0;4>Ln;++Ln){vn=tu[Dr[Or+Ln]][vn];for(var $n=Ql[Ye(hr,vn[0])];0<$n;)$n=Ql[2*$n+Ye(hr,vn[$n])];vn=-$n,Dr[Or+Ln]=vn}_(kr,zn,Dr,Or,4),zn+=4,Kr[0+lr]=vn}}else vn=Ye(hr,156)?Ye(hr,128)?1:3:Ye(hr,163)?2:0,Lr.Ob[0]=vn,C(Dr,Or,vn,4),C(Kr,0,vn,4);Lr.Dd=Ye(hr,142)?Ye(hr,114)?Ye(hr,183)?1:3:2:0}if(or.m.Ka)return ui(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(or=ge,hr=(be=we).rb[be.sb-1],Dr=be.rb[be.sb+be.ja],qe=be.ya[be.aa+be.ja],Or=be.kc?qe.Ad:0)hr.la=Dr.la=0,qe.Za||(hr.Na=Dr.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var qn,pn;if(hr=Dr,Dr=or,Or=be.Pa.Xc,Kr=be.ya[be.aa+be.ja],Lr=be.pb[Kr.$b],lr=Kr.ad,kr=0,zn=be.rb[be.sb-1],vn=Ln=0,C(lr,kr,0,384),Kr.Za)var kn=0,ea=Or[3];else{$n=S(16);var wi=hr.Na+zn.Na;if(wi=qo(Dr,Or[1],wi,Lr.Eb,0,$n,0),hr.Na=zn.Na=(0<wi)+0,1<wi)as($n,0,lr,kr);else{var Ki=$n[0]+3>>3;for($n=0;256>$n;$n+=16)lr[kr+$n]=Ki}kn=1,ea=Or[0]}var Yn=15&hr.la,ra=15&zn.la;for($n=0;4>$n;++$n){var pa=1&ra;for(Ki=pn=0;4>Ki;++Ki)Yn=Yn>>1|(pa=(wi=qo(Dr,ea,wi=pa+(1&Yn),Lr.Sc,kn,lr,kr))>kn)<<7,pn=pn<<2|(3<wi?3:1<wi?2:lr[kr+0]!=0),kr+=16;Yn>>=4,ra=ra>>1|pa<<7,Ln=(Ln<<8|pn)>>>0}for(ea=Yn,kn=ra>>4,qn=0;4>qn;qn+=2){for(pn=0,Yn=hr.la>>4+qn,ra=zn.la>>4+qn,$n=0;2>$n;++$n){for(pa=1&ra,Ki=0;2>Ki;++Ki)wi=pa+(1&Yn),Yn=Yn>>1|(pa=0<(wi=qo(Dr,Or[2],wi,Lr.Qc,0,lr,kr)))<<3,pn=pn<<2|(3<wi?3:1<wi?2:lr[kr+0]!=0),kr+=16;Yn>>=2,ra=ra>>1|pa<<5}vn|=pn<<4*qn,ea|=Yn<<4<<qn,kn|=(240&ra)<<qn}hr.la=ea,zn.la=kn,Kr.Hc=Ln,Kr.Gc=vn,Kr.ia=43690&vn?0:Lr.ia,Or=!(Ln|vn)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[qe.$b][qe.Za],be.wa[be.Y+be.ja].La|=!Or),or.Ka)return ui(we,7,"Premature end-of-file encountered.")}if(nl(we),be=ur,or=1,qe=(ge=we).D,hr=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)t:{if(qe.M=ge.M,qe.uc=hr,ns(ge,qe),or=1,qe=(pn=ge.D).Nb,hr=(vn=Ys[ge.L])*ge.R,Dr=vn/2*ge.B,$n=16*qe*ge.R,Ki=8*qe*ge.B,Or=ge.sa,Kr=ge.ta-hr+$n,Lr=ge.qa,lr=ge.ra-Dr+Ki,kr=ge.Ha,zn=ge.Ia-Dr+Ki,ra=(Yn=pn.M)==0,Ln=Yn>=ge.Va-1,ge.Aa==2&&ns(ge,pn),pn.uc)for(pa=(wi=ge).D.M,g(wi.D.uc),pn=wi.yb;pn<wi.Hb;++pn){kn=pn,ea=pa;var Ei=(Bi=(di=wi).D).Nb;qn=di.R;var Bi=Bi.wa[Bi.Y+kn],fi=di.sa,ei=di.ta+16*Ei*qn+16*kn,Aa=Bi.dd,Fi=Bi.tc;if(Fi!=0)if(g(3<=Fi),di.L==1)0<kn&&ci(fi,ei,qn,Fi+4),Bi.La&&Wo(fi,ei,qn,Fi),0<ea&&Ri(fi,ei,qn,Fi+4),Bi.La&&Xi(fi,ei,qn,Fi);else{var Wa=di.B,yo=di.qa,Xo=di.ra+8*Ei*Wa+8*kn,Ta=di.Ha,di=di.Ia+8*Ei*Wa+8*kn;Ei=Bi.ld,0<kn&&(_s(fi,ei,qn,Fi+4,Aa,Ei),ws(yo,Xo,Ta,di,Wa,Fi+4,Aa,Ei)),Bi.La&&(xs(fi,ei,qn,Fi,Aa,Ei),Hn(yo,Xo,Ta,di,Wa,Fi,Aa,Ei)),0<ea&&(Uo(fi,ei,qn,Fi+4,Aa,Ei),Hs(yo,Xo,Ta,di,Wa,Fi+4,Aa,Ei)),Bi.La&&(la(fi,ei,qn,Fi,Aa,Ei),hi(yo,Xo,Ta,di,Wa,Fi,Aa,Ei))}}if(ge.ia&&alert("todo:DitherRow"),be.put!=null){if(pn=16*Yn,Yn=16*(Yn+1),ra?(be.y=ge.sa,be.O=ge.ta+$n,be.f=ge.qa,be.N=ge.ra+Ki,be.ea=ge.Ha,be.W=ge.Ia+Ki):(pn-=vn,be.y=Or,be.O=Kr,be.f=Lr,be.N=lr,be.ea=kr,be.W=zn),Ln||(Yn-=vn),Yn>be.o&&(Yn=be.o),be.F=null,be.J=null,ge.Fa!=null&&0<ge.Fa.length&&pn<Yn&&(be.J=U(ge,be,pn,Yn-pn),be.F=ge.mb,be.F==null&&be.F.length==0)){or=ui(ge,3,"Could not decode alpha data.");break t}pn<be.j&&(vn=be.j-pn,pn=be.j,g(!(1&vn)),be.O+=ge.R*vn,be.N+=ge.B*(vn>>1),be.W+=ge.B*(vn>>1),be.F!=null&&(be.J+=be.width*vn)),pn<Yn&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=pn-be.j,be.U=be.va-be.v,be.T=Yn-pn,or=be.put(be))}qe+1!=ge.Ic||Ln||(_(ge.sa,ge.ta-hr,Or,Kr+16*ge.R,hr),_(ge.qa,ge.ra-Dr,Lr,lr+8*ge.B,Dr),_(ge.Ha,ge.Ia-Dr,kr,zn+8*ge.B,Dr))}if(!or)return ui(we,6,"Output aborted.")}return 1}(d,m)),m.bc!=null&&m.bc(m),E&=1}return E?(d.cb=0,E):0}function Mi(d,m,E,H,st){st=d[m+E+32*H]+(st>>3),d[m+E+32*H]=-256&st?0>st?0:255:st}function ao(d,m,E,H,st,ft){Mi(d,m,0,E,H+st),Mi(d,m,1,E,H+ft),Mi(d,m,2,E,H-ft),Mi(d,m,3,E,H-st)}function ds(d){return(20091*d>>16)+d}function so(d,m,E,H){var st,ft=0,dt=S(16);for(st=0;4>st;++st){var yt=d[m+0]+d[m+8],St=d[m+0]-d[m+8],Nt=(35468*d[m+4]>>16)-ds(d[m+12]),pe=ds(d[m+4])+(35468*d[m+12]>>16);dt[ft+0]=yt+pe,dt[ft+1]=St+Nt,dt[ft+2]=St-Nt,dt[ft+3]=yt-pe,ft+=4,m++}for(st=ft=0;4>st;++st)yt=(d=dt[ft+0]+4)+dt[ft+8],St=d-dt[ft+8],Nt=(35468*dt[ft+4]>>16)-ds(dt[ft+12]),Mi(E,H,0,0,yt+(pe=ds(dt[ft+4])+(35468*dt[ft+12]>>16))),Mi(E,H,1,0,St+Nt),Mi(E,H,2,0,St-Nt),Mi(E,H,3,0,yt-pe),ft++,H+=32}function Na(d,m,E,H){var st=d[m+0]+4,ft=35468*d[m+4]>>16,dt=ds(d[m+4]),yt=35468*d[m+1]>>16;ao(E,H,0,st+dt,d=ds(d[m+1]),yt),ao(E,H,1,st+ft,d,yt),ao(E,H,2,st-ft,d,yt),ao(E,H,3,st-dt,d,yt)}function ko(d,m,E,H,st){so(d,m,E,H),st&&so(d,m+16,E,H+4)}function il(d,m,E,H){Us(d,m+0,E,H,1),Us(d,m+32,E,H+128,1)}function Eo(d,m,E,H){var st;for(d=d[m+0]+4,st=0;4>st;++st)for(m=0;4>m;++m)Mi(E,H,m,st,d)}function El(d,m,E,H){d[m+0]&&Sa(d,m+0,E,H),d[m+16]&&Sa(d,m+16,E,H+4),d[m+32]&&Sa(d,m+32,E,H+128),d[m+48]&&Sa(d,m+48,E,H+128+4)}function Fl(d,m,E,H){var st,ft=S(16);for(st=0;4>st;++st){var dt=d[m+0+st]+d[m+12+st],yt=d[m+4+st]+d[m+8+st],St=d[m+4+st]-d[m+8+st],Nt=d[m+0+st]-d[m+12+st];ft[0+st]=dt+yt,ft[8+st]=dt-yt,ft[4+st]=Nt+St,ft[12+st]=Nt-St}for(st=0;4>st;++st)dt=(d=ft[0+4*st]+3)+ft[3+4*st],yt=ft[1+4*st]+ft[2+4*st],St=ft[1+4*st]-ft[2+4*st],Nt=d-ft[3+4*st],E[H+0]=dt+yt>>3,E[H+16]=Nt+St>>3,E[H+32]=dt-yt>>3,E[H+48]=Nt-St>>3,H+=64}function Ms(d,m,E){var H,st=m-32,ft=ua,dt=255-d[st-1];for(H=0;H<E;++H){var yt,St=ft,Nt=dt+d[m-1];for(yt=0;yt<E;++yt)d[m+yt]=St[Nt+d[st+yt]];m+=32}}function Il(d,m){Ms(d,m,4)}function aa(d,m){Ms(d,m,8)}function ba(d,m){Ms(d,m,16)}function Fo(d,m){var E;for(E=0;16>E;++E)_(d,m+32*E,d,m-32,16)}function Nl(d,m){var E;for(E=16;0<E;--E)C(d,m,d[m-1],16),m+=32}function Ti(d,m,E){var H;for(H=0;16>H;++H)C(m,E+32*H,d,16)}function du(d,m){var E,H=16;for(E=0;16>E;++E)H+=d[m-1+32*E]+d[m+E-32];Ti(H>>5,d,m)}function oo(d,m){var E,H=8;for(E=0;16>E;++E)H+=d[m-1+32*E];Ti(H>>4,d,m)}function Io(d,m){var E,H=8;for(E=0;16>E;++E)H+=d[m+E-32];Ti(H>>4,d,m)}function al(d,m){Ti(128,d,m)}function fn(d,m,E){return d+2*m+E+2>>2}function Ma(d,m){var E,H=m-32;for(H=new Uint8Array([fn(d[H-1],d[H+0],d[H+1]),fn(d[H+0],d[H+1],d[H+2]),fn(d[H+1],d[H+2],d[H+3]),fn(d[H+2],d[H+3],d[H+4])]),E=0;4>E;++E)_(d,m+32*E,H,0,H.length)}function Ml(d,m){var E=d[m-1],H=d[m-1+32],st=d[m-1+64],ft=d[m-1+96];vr(d,m+0,16843009*fn(d[m-1-32],E,H)),vr(d,m+32,16843009*fn(E,H,st)),vr(d,m+64,16843009*fn(H,st,ft)),vr(d,m+96,16843009*fn(st,ft,ft))}function Dl(d,m){var E,H=4;for(E=0;4>E;++E)H+=d[m+E-32]+d[m-1+32*E];for(H>>=3,E=0;4>E;++E)C(d,m+32*E,H,4)}function si(d,m){var E=d[m-1+0],H=d[m-1+32],st=d[m-1+64],ft=d[m-1-32],dt=d[m+0-32],yt=d[m+1-32],St=d[m+2-32],Nt=d[m+3-32];d[m+0+96]=fn(H,st,d[m-1+96]),d[m+1+96]=d[m+0+64]=fn(E,H,st),d[m+2+96]=d[m+1+64]=d[m+0+32]=fn(ft,E,H),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=fn(dt,ft,E),d[m+3+64]=d[m+2+32]=d[m+1+0]=fn(yt,dt,ft),d[m+3+32]=d[m+2+0]=fn(St,yt,dt),d[m+3+0]=fn(Nt,St,yt)}function bi(d,m){var E=d[m+1-32],H=d[m+2-32],st=d[m+3-32],ft=d[m+4-32],dt=d[m+5-32],yt=d[m+6-32],St=d[m+7-32];d[m+0+0]=fn(d[m+0-32],E,H),d[m+1+0]=d[m+0+32]=fn(E,H,st),d[m+2+0]=d[m+1+32]=d[m+0+64]=fn(H,st,ft),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=fn(st,ft,dt),d[m+3+32]=d[m+2+64]=d[m+1+96]=fn(ft,dt,yt),d[m+3+64]=d[m+2+96]=fn(dt,yt,St),d[m+3+96]=fn(yt,St,St)}function pu(d,m){var E=d[m-1+0],H=d[m-1+32],st=d[m-1+64],ft=d[m-1-32],dt=d[m+0-32],yt=d[m+1-32],St=d[m+2-32],Nt=d[m+3-32];d[m+0+0]=d[m+1+64]=ft+dt+1>>1,d[m+1+0]=d[m+2+64]=dt+yt+1>>1,d[m+2+0]=d[m+3+64]=yt+St+1>>1,d[m+3+0]=St+Nt+1>>1,d[m+0+96]=fn(st,H,E),d[m+0+64]=fn(H,E,ft),d[m+0+32]=d[m+1+96]=fn(E,ft,dt),d[m+1+32]=d[m+2+96]=fn(ft,dt,yt),d[m+2+32]=d[m+3+96]=fn(dt,yt,St),d[m+3+32]=fn(yt,St,Nt)}function gu(d,m){var E=d[m+0-32],H=d[m+1-32],st=d[m+2-32],ft=d[m+3-32],dt=d[m+4-32],yt=d[m+5-32],St=d[m+6-32],Nt=d[m+7-32];d[m+0+0]=E+H+1>>1,d[m+1+0]=d[m+0+64]=H+st+1>>1,d[m+2+0]=d[m+1+64]=st+ft+1>>1,d[m+3+0]=d[m+2+64]=ft+dt+1>>1,d[m+0+32]=fn(E,H,st),d[m+1+32]=d[m+0+96]=fn(H,st,ft),d[m+2+32]=d[m+1+96]=fn(st,ft,dt),d[m+3+32]=d[m+2+96]=fn(ft,dt,yt),d[m+3+64]=fn(dt,yt,St),d[m+3+96]=fn(yt,St,Nt)}function Rl(d,m){var E=d[m-1+0],H=d[m-1+32],st=d[m-1+64],ft=d[m-1+96];d[m+0+0]=E+H+1>>1,d[m+2+0]=d[m+0+32]=H+st+1>>1,d[m+2+32]=d[m+0+64]=st+ft+1>>1,d[m+1+0]=fn(E,H,st),d[m+3+0]=d[m+1+32]=fn(H,st,ft),d[m+3+32]=d[m+1+64]=fn(st,ft,ft),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=ft}function sl(d,m){var E=d[m-1+0],H=d[m-1+32],st=d[m-1+64],ft=d[m-1+96],dt=d[m-1-32],yt=d[m+0-32],St=d[m+1-32],Nt=d[m+2-32];d[m+0+0]=d[m+2+32]=E+dt+1>>1,d[m+0+32]=d[m+2+64]=H+E+1>>1,d[m+0+64]=d[m+2+96]=st+H+1>>1,d[m+0+96]=ft+st+1>>1,d[m+3+0]=fn(yt,St,Nt),d[m+2+0]=fn(dt,yt,St),d[m+1+0]=d[m+3+32]=fn(E,dt,yt),d[m+1+32]=d[m+3+64]=fn(H,E,dt),d[m+1+64]=d[m+3+96]=fn(st,H,E),d[m+1+96]=fn(ft,st,H)}function No(d,m){var E;for(E=0;8>E;++E)_(d,m+32*E,d,m-32,8)}function _a(d,m){var E;for(E=0;8>E;++E)C(d,m,d[m-1],8),m+=32}function Ds(d,m,E){var H;for(H=0;8>H;++H)C(m,E+32*H,d,8)}function wa(d,m){var E,H=8;for(E=0;8>E;++E)H+=d[m+E-32]+d[m-1+32*E];Ds(H>>4,d,m)}function ps(d,m){var E,H=4;for(E=0;8>E;++E)H+=d[m+E-32];Ds(H>>3,d,m)}function lo(d,m){var E,H=4;for(E=0;8>E;++E)H+=d[m-1+32*E];Ds(H>>3,d,m)}function Mo(d,m){Ds(128,d,m)}function Da(d,m,E){var H=d[m-E],st=d[m+0],ft=3*(st-H)+Yl[1020+d[m-2*E]-d[m+E]],dt=mo[112+(ft+4>>3)];d[m-E]=ua[255+H+mo[112+(ft+3>>3)]],d[m+0]=ua[255+st-dt]}function Bl(d,m,E,H){var st=d[m+0],ft=d[m+E];return ha[255+d[m-2*E]-d[m-E]]>H||ha[255+ft-st]>H}function jl(d,m,E,H){return 4*ha[255+d[m-E]-d[m+0]]+ha[255+d[m-2*E]-d[m+E]]<=H}function gs(d,m,E,H,st){var ft=d[m-3*E],dt=d[m-2*E],yt=d[m-E],St=d[m+0],Nt=d[m+E],pe=d[m+2*E],Ee=d[m+3*E];return 4*ha[255+yt-St]+ha[255+dt-Nt]>H?0:ha[255+d[m-4*E]-ft]<=st&&ha[255+ft-dt]<=st&&ha[255+dt-yt]<=st&&ha[255+Ee-pe]<=st&&ha[255+pe-Nt]<=st&&ha[255+Nt-St]<=st}function ms(d,m,E,H){var st=2*H+1;for(H=0;16>H;++H)jl(d,m+H,E,st)&&Da(d,m+H,E)}function zl(d,m,E,H){var st=2*H+1;for(H=0;16>H;++H)jl(d,m+H*E,1,st)&&Da(d,m+H*E,1)}function Do(d,m,E,H){var st;for(st=3;0<st;--st)ms(d,m+=4*E,E,H)}function ts(d,m,E,H){var st;for(st=3;0<st;--st)zl(d,m+=4,E,H)}function Ra(d,m,E,H,st,ft,dt,yt){for(ft=2*ft+1;0<st--;){if(gs(d,m,E,ft,dt))if(Bl(d,m,E,yt))Da(d,m,E);else{var St=d,Nt=m,pe=E,Ee=St[Nt-2*pe],Pe=St[Nt-pe],we=St[Nt+0],ur=St[Nt+pe],qe=St[Nt+2*pe],ge=27*(or=Yl[1020+3*(we-Pe)+Yl[1020+Ee-ur]])+63>>7,be=18*or+63>>7,or=9*or+63>>7;St[Nt-3*pe]=ua[255+St[Nt-3*pe]+or],St[Nt-2*pe]=ua[255+Ee+be],St[Nt-pe]=ua[255+Pe+ge],St[Nt+0]=ua[255+we-ge],St[Nt+pe]=ua[255+ur-be],St[Nt+2*pe]=ua[255+qe-or]}m+=H}}function mt(d,m,E,H,st,ft,dt,yt){for(ft=2*ft+1;0<st--;){if(gs(d,m,E,ft,dt))if(Bl(d,m,E,yt))Da(d,m,E);else{var St=d,Nt=m,pe=E,Ee=St[Nt-pe],Pe=St[Nt+0],we=St[Nt+pe],ur=mo[112+((qe=3*(Pe-Ee))+4>>3)],qe=mo[112+(qe+3>>3)],ge=ur+1>>1;St[Nt-2*pe]=ua[255+St[Nt-2*pe]+ge],St[Nt-pe]=ua[255+Ee+qe],St[Nt+0]=ua[255+Pe-ur],St[Nt+pe]=ua[255+we-ge]}m+=H}}function Rs(d,m,E,H,st,ft){Ra(d,m,E,1,16,H,st,ft)}function vs(d,m,E,H,st,ft){Ra(d,m,1,E,16,H,st,ft)}function Qi(d,m,E,H,st,ft){var dt;for(dt=3;0<dt;--dt)mt(d,m+=4*E,E,1,16,H,st,ft)}function xn(d,m,E,H,st,ft){var dt;for(dt=3;0<dt;--dt)mt(d,m+=4,1,E,16,H,st,ft)}function ol(d,m,E,H,st,ft,dt,yt){Ra(d,m,st,1,8,ft,dt,yt),Ra(E,H,st,1,8,ft,dt,yt)}function Ul(d,m,E,H,st,ft,dt,yt){Ra(d,m,1,st,8,ft,dt,yt),Ra(E,H,1,st,8,ft,dt,yt)}function Ro(d,m,E,H,st,ft,dt,yt){mt(d,m+4*st,st,1,8,ft,dt,yt),mt(E,H+4*st,st,1,8,ft,dt,yt)}function es(d,m,E,H,st,ft,dt,yt){mt(d,m+4,1,st,8,ft,dt,yt),mt(E,H+4,1,st,8,ft,dt,yt)}function ll(){this.ba=new na,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ul(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bo(){this.ua=0,this.Wa=new sr,this.vb=new sr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Je,this.yc=new ce}function hl(){this.xb=this.a=0,this.l=new io,this.ca=new na,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new xt,this.Pb=0,this.wd=new xt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bo,this.ab=0,this.gc=P(4,mu),this.Oc=0}function sa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rs(d,m,E,H,st,ft,dt){for(d=d==null?0:d[m+0],m=0;m<dt;++m)st[ft+m]=d+E[H+m]&255,d=st[ft+m]}function cl(d,m,E,H,st,ft,dt){var yt;if(d==null)rs(null,null,E,H,st,ft,dt);else for(yt=0;yt<dt;++yt)st[ft+yt]=d[m+yt]+E[H+yt]&255}function D(d,m,E,H,st,ft,dt){if(d==null)rs(null,null,E,H,st,ft,dt);else{var yt,St=d[m+0],Nt=St,pe=St;for(yt=0;yt<dt;++yt)Nt=pe+(St=d[m+yt])-Nt,pe=E[H+yt]+(-256&Nt?0>Nt?0:255:Nt)&255,Nt=St,st[ft+yt]=pe}}function U(d,m,E,H){var st=m.width,ft=m.o;if(g(d!=null&&m!=null),0>E||0>=H||E+H>ft)return null;if(!d.Cc){if(d.ga==null){var dt;if(d.ga=new sa,(dt=d.ga==null)||(dt=m.width*m.o,g(d.Gb.length==0),d.Gb=S(dt),d.Uc=0,d.Gb==null?dt=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,dt=1),dt=!dt),!dt){dt=d.ga;var yt=d.Fa,St=d.P,Nt=d.qc,pe=d.mb,Ee=d.nb,Pe=St+1,we=Nt-1,ur=dt.l;if(g(yt!=null&&pe!=null&&m!=null),Vi[0]=null,Vi[1]=rs,Vi[2]=cl,Vi[3]=D,dt.ca=pe,dt.tb=Ee,dt.c=m.width,dt.i=m.height,g(0<dt.c&&0<dt.i),1>=Nt)m=0;else if(dt.$a=yt[St+0]>>0&3,dt.Z=yt[St+0]>>2&3,dt.Lc=yt[St+0]>>4&3,St=yt[St+0]>>6&3,0>dt.$a||1<dt.$a||4<=dt.Z||1<dt.Lc||St)m=0;else if(ur.put=Za,ur.ac=Ka,ur.bc=rn,ur.ma=dt,ur.width=m.width,ur.height=m.height,ur.Da=m.Da,ur.v=m.v,ur.va=m.va,ur.j=m.j,ur.o=m.o,dt.$a)t:{g(dt.$a==1),m=ro();e:for(;;){if(m==null){m=0;break t}if(g(dt!=null),dt.mc=m,m.c=dt.c,m.i=dt.i,m.l=dt.l,m.l.ma=dt,m.l.width=dt.c,m.l.height=dt.i,m.a=0,wr(m.m,yt,Pe,we),!Qa(dt.c,dt.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Ia(m.s)?(dt.ic=1,yt=m.c*m.i,m.Ta=null,m.Ua=0,m.V=S(yt),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(dt.ic=0,m=no(m,dt.c)),!m))break e;m=1;break t}dt.mc=null,m=0}else m=we>=dt.c*dt.i;dt=!m}if(dt)return null;d.ga.Lc!=1?d.Ga=0:H=ft-E}g(d.ga!=null),g(E+H<=ft);t:{if(m=(yt=d.ga).c,ft=yt.l.o,yt.$a==0){if(Pe=d.rc,we=d.Vc,ur=d.Fa,St=d.P+1+E*m,Nt=d.mb,pe=d.nb+E*m,g(St<=d.P+d.qc),yt.Z!=0)for(g(Vi[yt.Z]!=null),dt=0;dt<H;++dt)Vi[yt.Z](Pe,we,ur,St,Nt,pe,m),Pe=Nt,we=pe,pe+=m,St+=m;else for(dt=0;dt<H;++dt)_(Nt,pe,ur,St,m),Pe=Nt,we=pe,pe+=m,St+=m;d.rc=Pe,d.Vc=we}else{if(g(yt.mc!=null),m=E+H,g((dt=yt.mc)!=null),g(m<=dt.i),dt.C>=m)m=1;else if(yt.ic||yr(),yt.ic){yt=dt.V,Pe=dt.Ba,we=dt.c;var qe=dt.i,ge=(ur=1,St=dt.$/we,Nt=dt.$%we,pe=dt.m,Ee=dt.s,dt.$),be=we*qe,or=we*m,hr=Ee.wc,lr=ge<or?ai(Ee,Nt,St):null;g(ge<=be),g(m<=qe),g(Ia(Ee));e:for(;;){for(;!pe.h&&ge<or;){if(Nt&hr||(lr=ai(Ee,Nt,St)),g(lr!=null),Ie(pe),256>(qe=ii(lr.G[0],lr.H[0],pe)))yt[Pe+ge]=qe,++ge,++Nt>=we&&(Nt=0,++St<=m&&!(St%16)&&Ui(dt,St));else{if(!(280>qe)){ur=0;break e}qe=ya(qe-256,pe);var Dr,Or=ii(lr.G[4],lr.H[4],pe);if(Ie(pe),!(ge>=(Or=cs(we,Or=ya(Or,pe)))&&be-ge>=qe)){ur=0;break e}for(Dr=0;Dr<qe;++Dr)yt[Pe+ge+Dr]=yt[Pe+ge+Dr-Or];for(ge+=qe,Nt+=qe;Nt>=we;)Nt-=we,++St<=m&&!(St%16)&&Ui(dt,St);ge<or&&Nt&hr&&(lr=ai(Ee,Nt,St))}g(pe.h==ve(pe))}Ui(dt,St>m?m:St);break e}!ur||pe.h&&ge<be?(ur=0,dt.a=pe.h?5:3):dt.$=ge,m=ur}else m=mi(dt,dt.V,dt.Ba,dt.c,dt.i,m,Po);if(!m){H=0;break t}}E+H>=ft&&(d.Cc=1),H=1}if(!H)return null;if(d.Cc&&((H=d.ga)!=null&&(H.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*st}function Ft(d,m,E,H,st,ft){for(;0<st--;){var dt,yt=d,St=m+(E?1:0),Nt=d,pe=m+(E?0:3);for(dt=0;dt<H;++dt){var Ee=Nt[pe+4*dt];Ee!=255&&(Ee*=32897,yt[St+4*dt+0]=yt[St+4*dt+0]*Ee>>23,yt[St+4*dt+1]=yt[St+4*dt+1]*Ee>>23,yt[St+4*dt+2]=yt[St+4*dt+2]*Ee>>23)}m+=ft}}function ee(d,m,E,H,st){for(;0<H--;){var ft;for(ft=0;ft<E;++ft){var dt=d[m+2*ft+0],yt=15&(Nt=d[m+2*ft+1]),St=4369*yt,Nt=(240&Nt|Nt>>4)*St>>16;d[m+2*ft+0]=(240&dt|dt>>4)*St>>16&240|(15&dt|dt<<4)*St>>16>>4&15,d[m+2*ft+1]=240&Nt|yt}m+=st}}function Oe(d,m,E,H,st,ft,dt,yt){var St,Nt,pe=255;for(Nt=0;Nt<st;++Nt){for(St=0;St<H;++St){var Ee=d[m+St];ft[dt+4*St]=Ee,pe&=Ee}m+=E,dt+=yt}return pe!=255}function Fe(d,m,E,H,st){var ft;for(ft=0;ft<st;++ft)E[H+ft]=d[m+ft]>>8}function yr(){Ss=Ft,Hl=ee,ju=Oe,yu=Fe}function Cr(d,m,E){fe[d]=function(H,st,ft,dt,yt,St,Nt,pe,Ee,Pe,we,ur,qe,ge,be,or,hr){var lr,Dr=hr-1>>1,Or=yt[St+0]|Nt[pe+0]<<16,Kr=Ee[Pe+0]|we[ur+0]<<16;g(H!=null);var Lr=3*Or+Kr+131074>>2;for(m(H[st+0],255&Lr,Lr>>16,qe,ge),ft!=null&&(Lr=3*Kr+Or+131074>>2,m(ft[dt+0],255&Lr,Lr>>16,be,or)),lr=1;lr<=Dr;++lr){var kr=yt[St+lr]|Nt[pe+lr]<<16,zn=Ee[Pe+lr]|we[ur+lr]<<16,Ln=Or+kr+Kr+zn+524296,vn=Ln+2*(kr+Kr)>>3;Lr=vn+Or>>1,Or=(Ln=Ln+2*(Or+zn)>>3)+kr>>1,m(H[st+2*lr-1],255&Lr,Lr>>16,qe,ge+(2*lr-1)*E),m(H[st+2*lr-0],255&Or,Or>>16,qe,ge+(2*lr-0)*E),ft!=null&&(Lr=Ln+Kr>>1,Or=vn+zn>>1,m(ft[dt+2*lr-1],255&Lr,Lr>>16,be,or+(2*lr-1)*E),m(ft[dt+2*lr+0],255&Or,Or>>16,be,or+(2*lr+0)*E)),Or=kr,Kr=zn}1&hr||(Lr=3*Or+Kr+131074>>2,m(H[st+hr-1],255&Lr,Lr>>16,qe,ge+(hr-1)*E),ft!=null&&(Lr=3*Kr+Or+131074>>2,m(ft[dt+hr-1],255&Lr,Lr>>16,be,or+(hr-1)*E)))}}function qr(){da[gl]=qu,da[Xl]=Gu,da[wu]=Tu,da[Vl]=Yu,da[Ho]=Xu,da[Kl]=Pu,da[Zl]=Vu,da[xu]=Gu,da[ml]=Yu,da[mn]=Xu,da[Su]=Pu}function Zr(d){return d&~Sh?0>d?0:255:d>>Ua}function gn(d,m){return Zr((19077*d>>8)+(26149*m>>8)-14234)}function Mn(d,m,E){return Zr((19077*d>>8)-(6419*m>>8)-(13320*E>>8)+8708)}function Tn(d,m){return Zr((19077*d>>8)+(33050*m>>8)-17685)}function oi(d,m,E,H,st){H[st+0]=gn(d,E),H[st+1]=Mn(d,m,E),H[st+2]=Tn(d,m)}function ri(d,m,E,H,st){H[st+0]=Tn(d,m),H[st+1]=Mn(d,m,E),H[st+2]=gn(d,E)}function Gi(d,m,E,H,st){var ft=Mn(d,m,E);m=ft<<3&224|Tn(d,m)>>3,H[st+0]=248&gn(d,E)|ft>>5,H[st+1]=m}function _i(d,m,E,H,st){var ft=240&Tn(d,m)|15;H[st+0]=240&gn(d,E)|Mn(d,m,E)>>4,H[st+1]=ft}function Ba(d,m,E,H,st){H[st+0]=255,oi(d,m,E,H,st+1)}function uo(d,m,E,H,st){ri(d,m,E,H,st),H[st+3]=255}function fl(d,m,E,H,st){oi(d,m,E,H,st),H[st+3]=255}function $i(d,m){return 0>d?0:d>m?m:d}function ys(d,m,E){fe[d]=function(H,st,ft,dt,yt,St,Nt,pe,Ee){for(var Pe=pe+(-2&Ee)*E;pe!=Pe;)m(H[st+0],ft[dt+0],yt[St+0],Nt,pe),m(H[st+1],ft[dt+0],yt[St+0],Nt,pe+E),st+=2,++dt,++St,pe+=2*E;1&Ee&&m(H[st+0],ft[dt+0],yt[St+0],Nt,pe)}}function dl(d,m,E){return E==0?d==0?m==0?6:5:m==0?4:0:E}function ho(d,m,E,H,st){switch(d>>>30){case 3:Us(m,E,H,st,0);break;case 2:vi(m,E,H,st);break;case 1:Sa(m,E,H,st)}}function ns(d,m){var E,H,st=m.M,ft=m.Nb,dt=d.oc,yt=d.pc+40,St=d.oc,Nt=d.pc+584,pe=d.oc,Ee=d.pc+600;for(E=0;16>E;++E)dt[yt+32*E-1]=129;for(E=0;8>E;++E)St[Nt+32*E-1]=129,pe[Ee+32*E-1]=129;for(0<st?dt[yt-1-32]=St[Nt-1-32]=pe[Ee-1-32]=129:(C(dt,yt-32-1,127,21),C(St,Nt-32-1,127,9),C(pe,Ee-32-1,127,9)),H=0;H<d.za;++H){var Pe=m.ya[m.aa+H];if(0<H){for(E=-1;16>E;++E)_(dt,yt+32*E-4,dt,yt+32*E+12,4);for(E=-1;8>E;++E)_(St,Nt+32*E-4,St,Nt+32*E+4,4),_(pe,Ee+32*E-4,pe,Ee+32*E+4,4)}var we=d.Gd,ur=d.Hd+H,qe=Pe.ad,ge=Pe.Hc;if(0<st&&(_(dt,yt-32,we[ur].y,0,16),_(St,Nt-32,we[ur].f,0,8),_(pe,Ee-32,we[ur].ea,0,8)),Pe.Za){var be=dt,or=yt-32+16;for(0<st&&(H>=d.za-1?C(be,or,we[ur].y[15],4):_(be,or,we[ur+1].y,0,4)),E=0;4>E;E++)be[or+128+E]=be[or+256+E]=be[or+384+E]=be[or+0+E];for(E=0;16>E;++E,ge<<=2)be=dt,or=yt+vo[E],fa[Pe.Ob[E]](be,or),ho(ge,qe,16*+E,be,or)}else if(be=dl(H,st,Pe.Ob[0]),Cs[be](dt,yt),ge!=0)for(E=0;16>E;++E,ge<<=2)ho(ge,qe,16*+E,dt,yt+vo[E]);for(E=Pe.Gc,be=dl(H,st,Pe.Dd),za[be](St,Nt),za[be](pe,Ee),ge=qe,be=St,or=Nt,255&(Pe=E>>0)&&(170&Pe?ss(ge,256,be,or):Ws(ge,256,be,or)),Pe=pe,ge=Ee,255&(E>>=8)&&(170&E?ss(qe,320,Pe,ge):Ws(qe,320,Pe,ge)),st<d.Ub-1&&(_(we[ur].y,0,dt,yt+480,16),_(we[ur].f,0,St,Nt+224,8),_(we[ur].ea,0,pe,Ee+224,8)),E=8*ft*d.B,we=d.sa,ur=d.ta+16*H+16*ft*d.R,qe=d.qa,Pe=d.ra+8*H+E,ge=d.Ha,be=d.Ia+8*H+E,E=0;16>E;++E)_(we,ur+E*d.R,dt,yt+32*E,16);for(E=0;8>E;++E)_(qe,Pe+E*d.B,St,Nt+32*E,8),_(ge,be+E*d.B,pe,Ee+32*E,8)}}function Bs(d,m,E,H,st,ft,dt,yt,St){var Nt=[0],pe=[0],Ee=0,Pe=St!=null?St.kd:0,we=St!=null?St:new ul;if(d==null||12>E)return 7;we.data=d,we.w=m,we.ha=E,m=[m],E=[E],we.gb=[we.gb];t:{var ur=m,qe=E,ge=we.gb;if(g(d!=null),g(qe!=null),g(ge!=null),ge[0]=0,12<=qe[0]&&!v(d,ur[0],"RIFF")){if(v(d,ur[0]+8,"WEBP")){ge=3;break t}var be=en(d,ur[0]+4);if(12>be||4294967286<be){ge=3;break t}if(Pe&&be>qe[0]-8){ge=7;break t}ge[0]=be,ur[0]+=12,qe[0]-=12}ge=0}if(ge!=0)return ge;for(be=0<we.gb[0],E=E[0];;){t:{var or=d;qe=m,ge=E;var hr=Nt,lr=pe,Dr=ur=[0];if((Lr=Ee=[Ee])[0]=0,8>ge[0])ge=7;else{if(!v(or,qe[0],"VP8X")){if(en(or,qe[0]+4)!=10){ge=3;break t}if(18>ge[0]){ge=7;break t}var Or=en(or,qe[0]+8),Kr=1+Pr(or,qe[0]+12);if(2147483648<=Kr*(or=1+Pr(or,qe[0]+15))){ge=3;break t}Dr!=null&&(Dr[0]=Or),hr!=null&&(hr[0]=Kr),lr!=null&&(lr[0]=or),qe[0]+=18,ge[0]-=18,Lr[0]=1}ge=0}}if(Ee=Ee[0],ur=ur[0],ge!=0)return ge;if(qe=!!(2&ur),!be&&Ee)return 3;if(ft!=null&&(ft[0]=!!(16&ur)),dt!=null&&(dt[0]=qe),yt!=null&&(yt[0]=0),dt=Nt[0],ur=pe[0],Ee&&qe&&St==null){ge=0;break}if(4>E){ge=7;break}if(be&&Ee||!be&&!Ee&&!v(d,m[0],"ALPH")){E=[E],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];t:{Or=d,ge=m,be=E;var Lr=we.gb;hr=we.na,lr=we.P,Dr=we.Sa,Kr=22,g(Or!=null),g(be!=null),or=ge[0];var kr=be[0];for(g(hr!=null),g(Dr!=null),hr[0]=null,lr[0]=null,Dr[0]=0;;){if(ge[0]=or,be[0]=kr,8>kr){ge=7;break t}var zn=en(Or,or+4);if(4294967286<zn){ge=3;break t}var Ln=8+zn+1&-2;if(Kr+=Ln,0<Lr&&Kr>Lr){ge=3;break t}if(!v(Or,or,"VP8 ")||!v(Or,or,"VP8L")){ge=0;break t}if(kr[0]<Ln){ge=7;break t}v(Or,or,"ALPH")||(hr[0]=Or,lr[0]=or+8,Dr[0]=zn),or+=Ln,kr-=Ln}}if(E=E[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ge!=0)break}E=[E],we.Ja=[we.Ja],we.xa=[we.xa];t:if(Lr=d,ge=m,be=E,hr=we.gb[0],lr=we.Ja,Dr=we.xa,Or=ge[0],or=!v(Lr,Or,"VP8 "),Kr=!v(Lr,Or,"VP8L"),g(Lr!=null),g(be!=null),g(lr!=null),g(Dr!=null),8>be[0])ge=7;else{if(or||Kr){if(Lr=en(Lr,Or+4),12<=hr&&Lr>hr-12){ge=3;break t}if(Pe&&Lr>be[0]-8){ge=7;break t}lr[0]=Lr,ge[0]+=8,be[0]-=8,Dr[0]=Kr}else Dr[0]=5<=be[0]&&Lr[Or+0]==47&&!(Lr[Or+4]>>5),lr[0]=be[0];ge=0}if(E=E[0],we.Ja=we.Ja[0],we.xa=we.xa[0],m=m[0],ge!=0)break;if(4294967286<we.Ja)return 3;if(yt==null||qe||(yt[0]=we.xa?2:1),dt=[dt],ur=[ur],we.xa){if(5>E){ge=7;break}yt=dt,Pe=ur,qe=ft,d==null||5>E?d=0:5<=E&&d[m+0]==47&&!(d[m+4]>>5)?(be=[0],Lr=[0],hr=[0],wr(lr=new xt,d,m,E),Zi(lr,be,Lr,hr)?(yt!=null&&(yt[0]=be[0]),Pe!=null&&(Pe[0]=Lr[0]),qe!=null&&(qe[0]=hr[0]),d=1):d=0):d=0}else{if(10>E){ge=7;break}yt=ur,d==null||10>E||!Ns(d,m+3,E-3)?d=0:(Pe=d[m+0]|d[m+1]<<8|d[m+2]<<16,qe=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=we.Ja||!qe||!d?d=0:(dt&&(dt[0]=qe),yt&&(yt[0]=d),d=1))}if(!d||(dt=dt[0],ur=ur[0],Ee&&(Nt[0]!=dt||pe[0]!=ur)))return 3;St!=null&&(St[0]=we,St.offset=m-St.w,g(4294967286>m-St.w),g(St.offset==St.ha-E));break}return ge==0||ge==7&&Ee&&St==null?(ft!=null&&(ft[0]|=we.na!=null&&0<we.na.length),H!=null&&(H[0]=dt),st!=null&&(st[0]=ur),0):ge}function pl(d,m,E){var H=m.width,st=m.height,ft=0,dt=0,yt=H,St=st;if(m.Da=d!=null&&0<d.Da,m.Da&&(yt=d.cd,St=d.bd,ft=d.v,dt=d.j,11>E||(ft&=-2,dt&=-2),0>ft||0>dt||0>=yt||0>=St||ft+yt>H||dt+St>st))return 0;if(m.v=ft,m.j=dt,m.va=ft+yt,m.o=dt+St,m.U=yt,m.T=St,m.da=d!=null&&0<d.da,m.da){if(!Er(yt,St,E=[d.ib],ft=[d.hb]))return 0;m.ib=E[0],m.hb=ft[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*H/4&&m.hb<3*st/4,m.Kb=0),1}function co(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function oa(d,m,E,H){if(H==null||0>=d||0>=m)return 2;if(E!=null){if(E.Da){var st=E.cd,ft=E.bd,dt=-2&E.v,yt=-2&E.j;if(0>dt||0>yt||0>=st||0>=ft||dt+st>d||yt+ft>m)return 2;d=st,m=ft}if(E.da){if(!Er(d,m,st=[E.ib],ft=[E.hb]))return 2;d=st[0],m=ft[0]}}H.width=d,H.height=m;t:{var St=H.width,Nt=H.height;if(d=H.S,0>=St||0>=Nt||!(d>=gl&&13>d))d=2;else{if(0>=H.Rd&&H.sd==null){dt=ft=st=m=0;var pe=(yt=St*Ou[d])*Nt;if(11>d||(ft=(Nt+1)/2*(m=(St+1)/2),d==12&&(dt=(st=St)*Nt)),(Nt=S(pe+2*ft+dt))==null){d=1;break t}H.sd=Nt,11>d?((St=H.f.RGBA).eb=Nt,St.fb=0,St.A=yt,St.size=pe):((St=H.f.kb).y=Nt,St.O=0,St.fa=yt,St.Fd=pe,St.f=Nt,St.N=0+pe,St.Ab=m,St.Cd=ft,St.ea=Nt,St.W=0+pe+ft,St.Db=m,St.Ed=ft,d==12&&(St.F=Nt,St.J=0+pe+2*ft),St.Tc=dt,St.lb=st)}if(m=1,st=H.S,ft=H.width,dt=H.height,st>=gl&&13>st)if(11>st)d=H.f.RGBA,m&=(yt=Math.abs(d.A))*(dt-1)+ft<=d.size,m&=yt>=ft*Ou[st],m&=d.eb!=null;else{d=H.f.kb,yt=(ft+1)/2,pe=(dt+1)/2,St=Math.abs(d.fa),Nt=Math.abs(d.Ab);var Ee=Math.abs(d.Db),Pe=Math.abs(d.lb),we=Pe*(dt-1)+ft;m&=St*(dt-1)+ft<=d.Fd,m&=Nt*(pe-1)+yt<=d.Cd,m=(m&=Ee*(pe-1)+yt<=d.Ed)&St>=ft&Nt>=yt&Ee>=yt,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,st==12&&(m&=Pe>=ft,m&=we<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||E!=null&&E.fd&&(d=co(H)),d}var Wi=64,js=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],is=24,Di=32,Yi=8,Wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Tr("Predictor0","PredictorAdd0"),fe.Predictor0=function(){return 4278190080},fe.Predictor1=function(d){return d},fe.Predictor2=function(d,m,E){return m[E+0]},fe.Predictor3=function(d,m,E){return m[E+1]},fe.Predictor4=function(d,m,E){return m[E-1]},fe.Predictor5=function(d,m,E){return Wr(Wr(d,m[E+1]),m[E+0])},fe.Predictor6=function(d,m,E){return Wr(d,m[E-1])},fe.Predictor7=function(d,m,E){return Wr(d,m[E+0])},fe.Predictor8=function(d,m,E){return Wr(m[E-1],m[E+0])},fe.Predictor9=function(d,m,E){return Wr(m[E+0],m[E+1])},fe.Predictor10=function(d,m,E){return Wr(Wr(d,m[E-1]),Wr(m[E+0],m[E+1]))},fe.Predictor11=function(d,m,E){var H=m[E+0];return 0>=tn(H>>24&255,d>>24&255,(m=m[E-1])>>24&255)+tn(H>>16&255,d>>16&255,m>>16&255)+tn(H>>8&255,d>>8&255,m>>8&255)+tn(255&H,255&d,255&m)?H:d},fe.Predictor12=function(d,m,E){var H=m[E+0];return(Xr((d>>24&255)+(H>>24&255)-((m=m[E-1])>>24&255))<<24|Xr((d>>16&255)+(H>>16&255)-(m>>16&255))<<16|Xr((d>>8&255)+(H>>8&255)-(m>>8&255))<<8|Xr((255&d)+(255&H)-(255&m)))>>>0},fe.Predictor13=function(d,m,E){var H=m[E-1];return(In((d=Wr(d,m[E+0]))>>24&255,H>>24&255)<<24|In(d>>16&255,H>>16&255)<<16|In(d>>8&255,H>>8&255)<<8|In(d>>0&255,H>>0&255))>>>0};var jo=fe.PredictorAdd0;fe.PredictorAdd1=Pn,Tr("Predictor2","PredictorAdd2"),Tr("Predictor3","PredictorAdd3"),Tr("Predictor4","PredictorAdd4"),Tr("Predictor5","PredictorAdd5"),Tr("Predictor6","PredictorAdd6"),Tr("Predictor7","PredictorAdd7"),Tr("Predictor8","PredictorAdd8"),Tr("Predictor9","PredictorAdd9"),Tr("Predictor10","PredictorAdd10"),Tr("Predictor11","PredictorAdd11"),Tr("Predictor12","PredictorAdd12"),Tr("Predictor13","PredictorAdd13");var fo=fe.PredictorAdd2;Nr("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Nr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var ki,po=fe.ColorIndexInverseTransform,vu=fe.MapARGB,zo=fe.VP8LColorIndexInverseTransformAlpha,go=fe.MapAlpha,xa=fe.VP8LPredictorsAdd=[];xa.length=16,(fe.VP8LPredictors=[]).length=16,(fe.VP8LPredictorsAdd_C=[]).length=16,(fe.VP8LPredictors_C=[]).length=16;var Zn,bs,ja,Pi,zs,ta,as,Us,vi,ss,Sa,Ws,Uo,_s,Hs,ws,la,xs,hi,Hn,Ri,ci,Xi,Wo,Ss,Hl,ju,yu,ql=S(511),zu=S(2041),Gl=S(225),bu=S(767),_u=0,Yl=zu,mo=Gl,ua=bu,ha=ql,gl=0,Xl=1,wu=2,Vl=3,Ho=4,Kl=5,Zl=6,xu=7,ml=8,mn=9,Su=10,bh=[2,3,7],vl=[3,3,11],Cu=[280,256,256,256,40],_h=[0,1,1,1,0],wh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ca=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jl=8,yl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$l=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qo=null,ca=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ql=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Uu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Au=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cs=[],fa=[],za=[],Gs=1,Hu=2,Vi=[],da=[];Cr("UpsampleRgbLinePair",oi,3),Cr("UpsampleBgrLinePair",ri,3),Cr("UpsampleRgbaLinePair",fl,4),Cr("UpsampleBgraLinePair",uo,4),Cr("UpsampleArgbLinePair",Ba,4),Cr("UpsampleRgba4444LinePair",_i,2),Cr("UpsampleRgb565LinePair",Gi,2);var qu=fe.UpsampleRgbLinePair,Tu=fe.UpsampleBgrLinePair,Gu=fe.UpsampleRgbaLinePair,Yu=fe.UpsampleBgraLinePair,Xu=fe.UpsampleArgbLinePair,Pu=fe.UpsampleRgba4444LinePair,Vu=fe.UpsampleRgb565LinePair,eu=16,bl=1<<eu-1,Go=-227,Hi=482,Ua=6,Sh=(256<<Ua)-1,Ku=0,ru=S(256),Yo=S(256),Zu=S(256),Ju=S(256),Ch=S(Hi-Go),$u=S(Hi-Go);ys("YuvToRgbRow",oi,3),ys("YuvToBgrRow",ri,3),ys("YuvToRgbaRow",fl,4),ys("YuvToBgraRow",uo,4),ys("YuvToArgbRow",Ba,4),ys("YuvToRgba4444Row",_i,2),ys("YuvToRgb565Row",Gi,2);var vo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ys=[0,2,8],Ah=[8,7,6,4,4,2,2,2,1,1,1,1],Qu=1;this.WebPDecodeRGBA=function(d,m,E,H,st){var ft=Xl,dt=new ll,yt=new na;dt.ba=yt,yt.S=ft,yt.width=[yt.width],yt.height=[yt.height];var St=yt.width,Nt=yt.height,pe=new Qn;if(pe==null||d==null)var Ee=2;else g(pe!=null),Ee=Bs(d,m,E,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ee!=0?St=0:(St!=null&&(St[0]=pe.width[0]),Nt!=null&&(Nt[0]=pe.height[0]),St=1),St){yt.width=yt.width[0],yt.height=yt.height[0],H!=null&&(H[0]=yt.width),st!=null&&(st[0]=yt.height);t:{if(H=new io,(st=new ul).data=d,st.w=m,st.ha=E,st.kd=1,m=[0],g(st!=null),((d=Bs(st.data,st.w,st.ha,null,null,null,m,null,st))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(g(dt!=null),H.data=st.data,H.w=st.w+st.offset,H.ha=st.ha-st.offset,H.put=Za,H.ac=Ka,H.bc=rn,H.ma=dt,st.xa){if((d=ro())==null){dt=1;break t}if(function(Pe,we){var ur=[0],qe=[0],ge=[0];e:for(;;){if(Pe==null)return 0;if(we==null)return Pe.a=2,0;if(Pe.l=we,Pe.a=0,wr(Pe.m,we.data,we.w,we.ha),!Zi(Pe.m,ur,qe,ge)){Pe.a=3;break e}if(Pe.xb=Hu,we.width=ur[0],we.height=qe[0],!Qa(ur[0],qe[0],1,Pe,null))break e;return 1}return g(Pe.a!=0),0}(d,H)){if(H=(m=oa(H.width,H.height,dt.Oa,dt.ba))==0){e:{H=d;r:for(;;){if(H==null){H=0;break e}if(g(H.s.yc!=null),g(H.s.Ya!=null),g(0<H.s.Wb),g((E=H.l)!=null),g((st=E.ma)!=null),H.xb!=0){if(H.ca=st.ba,H.tb=st.tb,g(H.ca!=null),!pl(st.Oa,E,Vl)){H.a=2;break r}if(!no(H,E.width)||E.da)break r;if((E.da||Va(H.ca.S))&&yr(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&yr()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Yr(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!mi(H,H.V,H.Ba,H.c,H.i,E.o,Fs))break r;st.Dc=H.Ma,H=1;break e}g(H.a!=0),H=0}H=!H}H&&(m=d.a)}else m=d.a}else{if((d=new Is)==null){dt=1;break t}if(d.Fa=st.na,d.P=st.P,d.qc=st.Sa,Rn(d,H)){if((m=oa(H.width,H.height,dt.Oa,dt.ba))==0){if(d.Aa=0,E=dt.Oa,g((st=d)!=null),E!=null){if(0<(St=0>(St=E.Md)?0:100<St?255:255*St/100)){for(Nt=pe=0;4>Nt;++Nt)12>(Ee=st.pb[Nt]).lc&&(Ee.ia=St*Ah[0>Ee.lc?0:Ee.lc]>>3),pe|=Ee.ia;pe&&(alert("todo:VP8InitRandom"),st.ia=1)}st.Ga=E.Id,100<st.Ga?st.Ga=100:0>st.Ga&&(st.Ga=0)}Lo(d,H)||(m=d.a)}}else m=d.a}m==0&&dt.Oa!=null&&dt.Oa.fd&&(m=co(dt.ba))}dt=m}ft=dt!=0?null:11>ft?yt.f.RGBA.eb:yt.f.kb.y}else ft=null;return ft};var Ou=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function J(mr,fe){for(var Xe="",ie=0;ie<4;ie++)Xe+=String.fromCharCode(mr[fe++]);return Xe}function _t(mr,fe){return(mr[fe+0]<<0|mr[fe+1]<<8|mr[fe+2]<<16)>>>0}function vt(mr,fe){return(mr[fe+0]<<0|mr[fe+1]<<8|mr[fe+2]<<16|mr[fe+3]<<24)>>>0}new N;var kt=[0],V=[0],Vt=[],It=new N,Jt=k,Mt=function(mr,fe){var Xe={},ie=0,zt=!1,ce=0,he=0;if(Xe.frames=[],!function(xt,Qt,ve,Ae){for(var Ie=0;Ie<Ae;Ie++)if(xt[Qt+Ie]!=ve.charCodeAt(Ie))return!0;return!1}(mr,fe,"RIFF",4)){var Je,Ve;for(vt(mr,fe+=4),fe+=8;fe<mr.length;){var pr=J(mr,fe),Re=vt(mr,fe+=4);fe+=4;var wr=Re+(1&Re);switch(pr){case"VP8 ":case"VP8L":Xe.frames[ie]===void 0&&(Xe.frames[ie]={}),(te=Xe.frames[ie]).src_off=zt?he:fe-8,te.src_size=ce+Re+8,ie++,zt&&(zt=!1,ce=0,he=0);break;case"VP8X":(te=Xe.header={}).feature_flags=mr[fe];var Qe=fe+4;te.canvas_width=1+_t(mr,Qe),Qe+=3,te.canvas_height=1+_t(mr,Qe),Qe+=3;break;case"ALPH":zt=!0,ce=wr+8,he=fe-8;break;case"ANIM":(te=Xe.header).bgcolor=vt(mr,fe),Qe=fe+4,te.loop_count=(Je=mr)[(Ve=Qe)+0]<<0|Je[Ve+1]<<8,Qe+=2;break;case"ANMF":var Ar,te;(te=Xe.frames[ie]={}).offset_x=2*_t(mr,fe),fe+=3,te.offset_y=2*_t(mr,fe),fe+=3,te.width=1+_t(mr,fe),fe+=3,te.height=1+_t(mr,fe),fe+=3,te.duration=_t(mr,fe),fe+=3,Ar=mr[fe++],te.dispose=1&Ar,te.blend=Ar>>1&1}pr!="ANMF"&&(fe+=wr)}return Xe}}(Jt,0);Mt.response=Jt,Mt.rgbaoutput=!0,Mt.dataurl=!1;var gt=Mt.header?Mt.header:null,xe=Mt.frames?Mt.frames:null;if(gt){gt.loop_counter=gt.loop_count,kt=[gt.canvas_height],V=[gt.canvas_width];for(var Be=0;Be<xe.length&&xe[Be].blend!=0;Be++);}var $e=xe[0],fr=It.WebPDecodeRGBA(Jt,$e.src_off,$e.src_size,V,kt);$e.rgba=fr,$e.imgwidth=V[0],$e.imgheight=kt[0];for(var Ge=0;Ge<V[0]*kt[0]*4;Ge++)Vt[Ge]=fr[Ge];return this.width=V,this.height=kt,this.data=Vt,this}(function(k){var g=function(){return typeof W.b=="function"},v=function(V,Vt,It,Jt){var Mt=4,gt=P;switch(Jt){case k.image_compression.FAST:Mt=1,gt=S;break;case k.image_compression.MEDIUM:Mt=6,gt=j;break;case k.image_compression.SLOW:Mt=9,gt=N}V=_(V,Vt,It,gt);var xe=Object(W.b)(V,{level:Mt});return k.__addimage__.arrayBufferToBinaryString(xe)},_=function(V,Vt,It,Jt){for(var Mt,gt,xe,Be=V.length/Vt,$e=new Uint8Array(V.length+Be),fr=_t(),Ge=0;Ge<Be;Ge+=1){if(xe=Ge*Vt,Mt=V.subarray(xe,xe+Vt),Jt)$e.set(Jt(Mt,It,gt),xe+Ge);else{for(var mr,fe=fr.length,Xe=[];mr<fe;mr+=1)Xe[mr]=fr[mr](Mt,It,gt);var ie=vt(Xe.concat());$e.set(Xe[ie],xe+Ge)}gt=Mt}return $e},C=function(V){var Vt=Array.apply([],V);return Vt.unshift(0),Vt},S=function(V,Vt){var It,Jt=[],Mt=V.length;Jt[0]=1;for(var gt=0;gt<Mt;gt+=1)It=V[gt-Vt]||0,Jt[gt+1]=V[gt]-It+256&255;return Jt},P=function(V,Vt,It){var Jt,Mt=[],gt=V.length;Mt[0]=2;for(var xe=0;xe<gt;xe+=1)Jt=It&&It[xe]||0,Mt[xe+1]=V[xe]-Jt+256&255;return Mt},j=function(V,Vt,It){var Jt,Mt,gt=[],xe=V.length;gt[0]=3;for(var Be=0;Be<xe;Be+=1)Jt=V[Be-Vt]||0,Mt=It&&It[Be]||0,gt[Be+1]=V[Be]+256-(Jt+Mt>>>1)&255;return gt},N=function(V,Vt,It){var Jt,Mt,gt,xe,Be=[],$e=V.length;Be[0]=4;for(var fr=0;fr<$e;fr+=1)Jt=V[fr-Vt]||0,Mt=It&&It[fr]||0,gt=It&&It[fr-Vt]||0,xe=J(Jt,Mt,gt),Be[fr+1]=V[fr]-xe+256&255;return Be},J=function(V,Vt,It){if(V===Vt&&Vt===It)return V;var Jt=Math.abs(Vt-It),Mt=Math.abs(V-It),gt=Math.abs(V+Vt-It-It);return Jt<=Mt&&Jt<=gt?V:Mt<=gt?Vt:It},_t=function(){return[C,S,P,j,N]},vt=function(V){var Vt=V.map(function(It){return It.reduce(function(Jt,Mt){return Jt+Math.abs(Mt)},0)});return Vt.indexOf(Math.min.apply(null,Vt))};k.processPNG=function(kt,V,Vt,It){var Jt,Mt,gt,xe,Be,$e,fr,Ge,mr,fe,Xe,ie,zt,ce,he,Je=this.decode.FLATE_DECODE,Ve="";if(this.__addimage__.isArrayBuffer(kt)&&(kt=new Uint8Array(kt)),this.__addimage__.isArrayBufferView(kt)){if(kt=(gt=new Gt(kt)).imgData,Mt=gt.bits,Jt=gt.colorSpace,Be=gt.colors,[4,6].indexOf(gt.colorType)!==-1){if(gt.bits===8){mr=(Ge=gt.pixelBitlength==32?new Uint32Array(gt.decodePixels().buffer):gt.pixelBitlength==16?new Uint16Array(gt.decodePixels().buffer):new Uint8Array(gt.decodePixels().buffer)).length,Xe=new Uint8Array(mr*gt.colors),fe=new Uint8Array(mr);var pr,Re=gt.pixelBitlength-gt.bits;for(ce=0,he=0;ce<mr;ce++){for(zt=Ge[ce],pr=0;pr<Re;)Xe[he++]=zt>>>pr&255,pr+=gt.bits;fe[ce]=zt>>>pr&255}}if(gt.bits===16){mr=(Ge=new Uint32Array(gt.decodePixels().buffer)).length,Xe=new Uint8Array(mr*(32/gt.pixelBitlength)*gt.colors),fe=new Uint8Array(mr*(32/gt.pixelBitlength)),ie=gt.colors>1,ce=0,he=0;for(var wr=0;ce<mr;)zt=Ge[ce++],Xe[he++]=zt>>>0&255,ie&&(Xe[he++]=zt>>>16&255,zt=Ge[ce++],Xe[he++]=zt>>>0&255),fe[wr++]=zt>>>16&255;Mt=8}It!==k.image_compression.NONE&&g()?(kt=v(Xe,gt.width*gt.colors,gt.colors,It),fr=v(fe,gt.width,1,It)):(kt=Xe,fr=fe,Je=void 0)}if(gt.colorType===3&&(Jt=this.color_spaces.INDEXED,$e=gt.palette,gt.transparency.indexed)){var Qe=gt.transparency.indexed,Ar=0;for(ce=0,mr=Qe.length;ce<mr;++ce)Ar+=Qe[ce];if((Ar/=255)===mr-1&&Qe.indexOf(0)!==-1)xe=[Qe.indexOf(0)];else if(Ar!==mr){for(Ge=gt.decodePixels(),fe=new Uint8Array(Ge.length),ce=0,mr=Ge.length;ce<mr;ce++)fe[ce]=Qe[Ge[ce]];fr=v(fe,gt.width,1)}}var te=function(xt){var Qt;switch(xt){case k.image_compression.FAST:Qt=11;break;case k.image_compression.MEDIUM:Qt=13;break;case k.image_compression.SLOW:Qt=14;break;default:Qt=12}return Qt}(It);return Je===this.decode.FLATE_DECODE&&(Ve="/Predictor "+te+" "),Ve+="/Colors "+Be+" /BitsPerComponent "+Mt+" /Columns "+gt.width,(this.__addimage__.isArrayBuffer(kt)||this.__addimage__.isArrayBufferView(kt))&&(kt=this.__addimage__.arrayBufferToBinaryString(kt)),(fr&&this.__addimage__.isArrayBuffer(fr)||this.__addimage__.isArrayBufferView(fr))&&(fr=this.__addimage__.arrayBufferToBinaryString(fr)),{alias:Vt,data:kt,index:V,filter:Je,decodeParameters:Ve,transparency:xe,palette:$e,sMask:fr,predictor:te,width:gt.width,height:gt.height,bitsPerComponent:Mt,colorSpace:Jt}}}})(et.API),function(k){k.processGIF89A=function(g,v,_,C){var S=new Xt(g),P=S.width,j=S.height,N=[];S.decodeAndBlitFrameRGBA(0,N);var J={data:N,width:P,height:j},_t=new Me(100).encode(J,100);return k.processJPEG.call(this,_t,v,_,C)},k.processGIF87A=k.processGIF89A}(et.API),ne.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var k=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(k);for(var g=0;g<k;g++){var v=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0);this.palette[g]={red:C,green:_,blue:v,quad:S}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ne.prototype.parseBGR=function(){this.pos=this.offset;try{var k="bit"+this.bitPP,g=this.width*this.height*4;this.data=new Uint8Array(g),this[k]()}catch(v){G.log("bit decode error:"+v)}},ne.prototype.bit1=function(){var k,g=Math.ceil(this.width/8),v=g%4;for(k=this.height-1;k>=0;k--){for(var _=this.bottom_up?k:this.height-1-k,C=0;C<g;C++)for(var S=this.datav.getUint8(this.pos++,!0),P=_*this.width*4+8*C*4,j=0;j<8&&8*C+j<this.width;j++){var N=this.palette[S>>7-j&1];this.data[P+4*j]=N.blue,this.data[P+4*j+1]=N.green,this.data[P+4*j+2]=N.red,this.data[P+4*j+3]=255}v!==0&&(this.pos+=4-v)}},ne.prototype.bit4=function(){for(var k=Math.ceil(this.width/2),g=k%4,v=this.height-1;v>=0;v--){for(var _=this.bottom_up?v:this.height-1-v,C=0;C<k;C++){var S=this.datav.getUint8(this.pos++,!0),P=_*this.width*4+2*C*4,j=S>>4,N=15&S,J=this.palette[j];if(this.data[P]=J.blue,this.data[P+1]=J.green,this.data[P+2]=J.red,this.data[P+3]=255,2*C+1>=this.width)break;J=this.palette[N],this.data[P+4]=J.blue,this.data[P+4+1]=J.green,this.data[P+4+2]=J.red,this.data[P+4+3]=255}g!==0&&(this.pos+=4-g)}},ne.prototype.bit8=function(){for(var k=this.width%4,g=this.height-1;g>=0;g--){for(var v=this.bottom_up?g:this.height-1-g,_=0;_<this.width;_++){var C=this.datav.getUint8(this.pos++,!0),S=v*this.width*4+4*_;if(C<this.palette.length){var P=this.palette[C];this.data[S]=P.red,this.data[S+1]=P.green,this.data[S+2]=P.blue,this.data[S+3]=255}else this.data[S]=255,this.data[S+1]=255,this.data[S+2]=255,this.data[S+3]=255}k!==0&&(this.pos+=4-k)}},ne.prototype.bit15=function(){for(var k=this.width%3,g=parseInt("11111",2),v=this.height-1;v>=0;v--){for(var _=this.bottom_up?v:this.height-1-v,C=0;C<this.width;C++){var S=this.datav.getUint16(this.pos,!0);this.pos+=2;var P=(S&g)/g*255|0,j=(S>>5&g)/g*255|0,N=(S>>10&g)/g*255|0,J=S>>15?255:0,_t=_*this.width*4+4*C;this.data[_t]=N,this.data[_t+1]=j,this.data[_t+2]=P,this.data[_t+3]=J}this.pos+=k}},ne.prototype.bit16=function(){for(var k=this.width%3,g=parseInt("11111",2),v=parseInt("111111",2),_=this.height-1;_>=0;_--){for(var C=this.bottom_up?_:this.height-1-_,S=0;S<this.width;S++){var P=this.datav.getUint16(this.pos,!0);this.pos+=2;var j=(P&g)/g*255|0,N=(P>>5&v)/v*255|0,J=(P>>11)/g*255|0,_t=C*this.width*4+4*S;this.data[_t]=J,this.data[_t+1]=N,this.data[_t+2]=j,this.data[_t+3]=255}this.pos+=k}},ne.prototype.bit24=function(){for(var k=this.height-1;k>=0;k--){for(var g=this.bottom_up?k:this.height-1-k,v=0;v<this.width;v++){var _=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),P=g*this.width*4+4*v;this.data[P]=S,this.data[P+1]=C,this.data[P+2]=_,this.data[P+3]=255}this.pos+=this.width%4}},ne.prototype.bit32=function(){for(var k=this.height-1;k>=0;k--)for(var g=this.bottom_up?k:this.height-1-k,v=0;v<this.width;v++){var _=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),j=g*this.width*4+4*v;this.data[j]=S,this.data[j+1]=C,this.data[j+2]=_,this.data[j+3]=P}},ne.prototype.getData=function(){return this.data},function(k){k.processBMP=function(g,v,_,C){var S=new ne(g,!1),P=S.width,j=S.height,N={data:S.getData(),width:P,height:j},J=new Me(100).encode(N,100);return k.processJPEG.call(this,J,v,_,C)}}(et.API),je.prototype.getData=function(){return this.data},function(k){k.processWEBP=function(g,v,_,C){var S=new je(g,!1),P=S.width,j=S.height,N={data:S.getData(),width:P,height:j},J=new Me(100).encode(N,100);return k.processJPEG.call(this,J,v,_,C)}}(et.API),et.API.processRGBA=function(k,g,v){for(var _=k.data,C=_.length,S=new Uint8Array(C/4*3),P=new Uint8Array(C/4),j=0,N=0,J=0;J<C;J+=4){var _t=_[J],vt=_[J+1],kt=_[J+2],V=_[J+3];S[j++]=_t,S[j++]=vt,S[j++]=kt,P[N++]=V}var Vt=this.__addimage__.arrayBufferToBinaryString(S);return{alpha:this.__addimage__.arrayBufferToBinaryString(P),data:Vt,index:g,alias:v,colorSpace:"DeviceRGB",bitsPerComponent:8,width:k.width,height:k.height}},et.API.setLanguage=function(k){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[k]!==void 0&&(this.internal.languageSettings.languageCode=k,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},B=et.API,T=B.getCharWidthsArray=function(k,g){var v,_,C=(g=g||{}).font||this.internal.getFont(),S=g.fontSize||this.internal.getFontSize(),P=g.charSpace||this.internal.getCharSpace(),j=g.widths?g.widths:C.metadata.Unicode.widths,N=j.fof?j.fof:1,J=g.kerning?g.kerning:C.metadata.Unicode.kerning,_t=J.fof?J.fof:1,vt=g.doKerning!==!1,kt=0,V=k.length,Vt=0,It=j[0]||N,Jt=[];for(v=0;v<V;v++)_=k.charCodeAt(v),typeof C.metadata.widthOfString=="function"?Jt.push((C.metadata.widthOfGlyph(C.metadata.characterToGlyph(_))+P*(1e3/S)||0)/1e3):(kt=vt&&le()(J[_])==="object"&&!isNaN(parseInt(J[_][Vt],10))?J[_][Vt]/_t:0,Jt.push((j[_]||It)/N+kt)),Vt=_;return Jt},q=B.getStringUnitWidth=function(k,g){var v=(g=g||{}).fontSize||this.internal.getFontSize(),_=g.font||this.internal.getFont(),C=g.charSpace||this.internal.getCharSpace();return B.processArabic&&(k=B.processArabic(k)),typeof _.metadata.widthOfString=="function"?_.metadata.widthOfString(k,v,C)/v:T.apply(this,arguments).reduce(function(S,P){return S+P},0)},at=function(g,v,_,C){for(var S=[],P=0,j=g.length,N=0;P!==j&&N+v[P]<_;)N+=v[P],P++;S.push(g.slice(0,P));var J=P;for(N=0;P!==j;)N+v[P]>C&&(S.push(g.slice(J,P)),N=0,J=P),N+=v[P],P++;return J!==P&&S.push(g.slice(J,P)),S},Ot=function(g,v,_){_||(_={});var C,S,P,j,N,J,_t,vt=[],kt=[vt],V=_.textIndent||0,Vt=0,It=0,Jt=g.split(" "),Mt=T.apply(this,[" ",_])[0];if(J=_.lineIndent===-1?Jt[0].length+2:_.lineIndent||0){var gt=Array(J).join(" "),xe=[];Jt.map(function($e){($e=$e.split(/\s*\n/)).length>1?xe=xe.concat($e.map(function(fr,Ge){return(Ge&&fr.length?`
`:"")+fr})):xe.push($e[0])}),Jt=xe,J=q.apply(this,[gt,_])}for(P=0,j=Jt.length;P<j;P++){var Be=0;if(C=Jt[P],J&&C[0]==`
`&&(C=C.substr(1),Be=1),V+Vt+(It=(S=T.apply(this,[C,_])).reduce(function($e,fr){return $e+fr},0))>v||Be){if(It>v){for(N=at.apply(this,[C,S,v-(V+Vt),v]),vt.push(N.shift()),vt=[N.pop()];N.length;)kt.push([N.shift()]);It=S.slice(C.length-(vt[0]?vt[0].length:0)).reduce(function($e,fr){return $e+fr},0)}else vt=[C];kt.push(vt),V=It+J,Vt=Mt}else vt.push(C),V+=Vt+It,Vt=Mt}return _t=J?function($e,fr){return(fr?gt:"")+$e.join(" ")}:function($e){return $e.join(" ")},kt.map(_t)},B.splitTextToSize=function(k,g,v){var _,C=(v=v||{}).fontSize||this.internal.getFontSize(),S=function(_t){if(_t.widths&&_t.kerning)return{widths:_t.widths,kerning:_t.kerning};var vt=this.internal.getFont(_t.fontName,_t.fontStyle);return vt.metadata.Unicode?{widths:vt.metadata.Unicode.widths||{0:1},kerning:vt.metadata.Unicode.kerning||{}}:{font:vt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,v);_=Array.isArray(k)?k:String(k).split(/\r?\n/);var P=1*this.internal.scaleFactor*g/C;S.textIndent=v.textIndent?1*v.textIndent*this.internal.scaleFactor/C:0,S.lineIndent=v.lineIndent;var j,N,J=[];for(j=0,N=_.length;j<N;j++)J=J.concat(Ot.apply(this,[_[j],P,S]));return J},function(k){k.__fontmetrics__=k.__fontmetrics__||{};for(var g="klmnopqrstuvwxyz",v={},_={},C=0;C<g.length;C++)v[g[C]]="0123456789abcdef"[C],_["0123456789abcdef"[C]]=g[C];var S=function(kt){return"0x"+parseInt(kt,10).toString(16)},P=k.__fontmetrics__.compress=function(vt){var kt,V,Vt,It,Jt=["{"];for(var Mt in vt){if(kt=vt[Mt],isNaN(parseInt(Mt,10))?V="'"+Mt+"'":(Mt=parseInt(Mt,10),V=(V=S(Mt).slice(2)).slice(0,-1)+_[V.slice(-1)]),typeof kt=="number")kt<0?(Vt=S(kt).slice(3),It="-"):(Vt=S(kt).slice(2),It=""),Vt=It+Vt.slice(0,-1)+_[Vt.slice(-1)];else{if(le()(kt)!=="object")throw new Error("Don't know what to do with value type "+le()(kt)+".");Vt=P(kt)}Jt.push(V+Vt)}return Jt.push("}"),Jt.join("")},j=k.__fontmetrics__.uncompress=function(vt){if(typeof vt!="string")throw new Error("Invalid argument passed to uncompress.");for(var kt,V,Vt,It,Jt={},Mt=1,gt=Jt,xe=[],Be="",$e="",fr=vt.length-1,Ge=1;Ge<fr;Ge+=1)(It=vt[Ge])=="'"?kt?(Vt=kt.join(""),kt=void 0):kt=[]:kt?kt.push(It):It=="{"?(xe.push([gt,Vt]),gt={},Vt=void 0):It=="}"?((V=xe.pop())[0][V[1]]=gt,Vt=void 0,gt=V[0]):It=="-"?Mt=-1:Vt===void 0?v.hasOwnProperty(It)?(Be+=v[It],Vt=parseInt(Be,16)*Mt,Mt=1,Be=""):Be+=It:v.hasOwnProperty(It)?($e+=v[It],gt[Vt]=parseInt($e,16)*Mt,Mt=1,Vt=void 0,$e=""):$e+=It;return Jt},N={codePages:["WinAnsiEncoding"],WinAnsiEncoding:j("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},J={Unicode:{Courier:N,"Courier-Bold":N,"Courier-BoldOblique":N,"Courier-Oblique":N,Helvetica:N,"Helvetica-Bold":N,"Helvetica-BoldOblique":N,"Helvetica-Oblique":N,"Times-Roman":N,"Times-Bold":N,"Times-BoldItalic":N,"Times-Italic":N}},_t={Unicode:{"Courier-Oblique":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":j("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":j("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":j("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:j("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:j("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":j("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:j("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":j("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":j("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":j("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};k.events.push(["addFont",function(vt){var kt=vt.font,V=_t.Unicode[kt.postScriptName];V&&(kt.metadata.Unicode={},kt.metadata.Unicode.widths=V.widths,kt.metadata.Unicode.kerning=V.kerning);var Vt=J.Unicode[kt.postScriptName];Vt&&(kt.metadata.Unicode.encoding=Vt,kt.encoding=Vt.codePages[0])}])}(et.API),function(k){var g=function(_){for(var C=_.length,S=new Uint8Array(C),P=0;P<C;P++)S[P]=_.charCodeAt(P);return S};k.API.events.push(["addFont",function(v){var _=void 0,C=v.font,S=v.instance;if(!C.isStandardFont){if(S===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+C.postScriptName+"').");if(typeof(_=S.existsFileInVFS(C.postScriptName)===!1?S.loadFile(C.postScriptName):S.getFileFromVFS(C.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+C.postScriptName+"').");(function(P,j){j=/^\x00\x01\x00\x00/.test(j)?g(j):g(u(j)),P.metadata=k.API.TTFFont.open(j),P.metadata.Unicode=P.metadata.Unicode||{encoding:{},kerning:{},widths:[]},P.metadata.glyIdsUsed=[0]})(C,_)}}])}(et),function(k){function g(){return(Ht.canvg?Promise.resolve(Ht.canvg):Ne.e(64).then(Ne.bind(null,"DXPr"))).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v})}et.API.addSvgAsImage=function(v,_,C,S,P,j,N,J){if(isNaN(_)||isNaN(C))throw G.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(S)||isNaN(P))throw G.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var _t=document.createElement("canvas");_t.width=S,_t.height=P;var vt=_t.getContext("2d");vt.fillStyle="#fff",vt.fillRect(0,0,_t.width,_t.height);var kt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},V=this;return g().then(function(Vt){return Vt.fromString(vt,v,kt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Vt){return Vt.render(kt)}).then(function(){V.addImage(_t.toDataURL("image/jpeg",1),_,C,S,P,N,J)})}}(),et.API.putTotalPages=function(k){var g,v=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(g=new RegExp(k,"g"),v=this.internal.getNumberOfPages()):(g=new RegExp(this.pdfEscape16(k,this.internal.getFont()),"g"),v=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _=1;_<=this.internal.getNumberOfPages();_++)for(var C=0;C<this.internal.pages[_].length;C++)this.internal.pages[_][C]=this.internal.pages[_][C].replace(g,v);return this},et.API.viewerPreferences=function(k,g){var v;k=k||{},g=g||!1;var _,C,S,P={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},j=Object.keys(P),N=[],J=0,_t=0,vt=0;function kt(Vt,It){var Jt,Mt=!1;for(Jt=0;Jt<Vt.length;Jt+=1)Vt[Jt]===It&&(Mt=!0);return Mt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(P)),this.internal.viewerpreferences.isSubscribed=!1),v=this.internal.viewerpreferences.configuration,k==="reset"||g===!0){var V=j.length;for(vt=0;vt<V;vt+=1)v[j[vt]].value=v[j[vt]].defaultValue,v[j[vt]].explicitSet=!1}if(le()(k)==="object"){for(C in k)if(S=k[C],kt(j,C)&&S!==void 0){if(v[C].type==="boolean"&&typeof S=="boolean")v[C].value=S;else if(v[C].type==="name"&&kt(v[C].valueSet,S))v[C].value=S;else if(v[C].type==="integer"&&Number.isInteger(S))v[C].value=S;else if(v[C].type==="array"){for(J=0;J<S.length;J+=1)if(_=!0,S[J].length===1&&typeof S[J][0]=="number")N.push(String(S[J]-1));else if(S[J].length>1){for(_t=0;_t<S[J].length;_t+=1)typeof S[J][_t]!="number"&&(_=!1);_===!0&&N.push([S[J][0]-1,S[J][1]-1].join(" "))}v[C].value="["+N.join(" ")+"]"}else v[C].value=v[C].defaultValue;v[C].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Vt,It=[];for(Vt in v)v[Vt].explicitSet===!0&&(v[Vt].type==="name"?It.push("/"+Vt+" /"+v[Vt].value):It.push("/"+Vt+" "+v[Vt].value));It.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+It.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=v,this},function(k){var g=function(){var C='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',S=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),P=unescape(encodeURIComponent(C)),j=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),N=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),J=unescape(encodeURIComponent("</x:xmpmeta>")),_t=P.length+j.length+N.length+S.length+J.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+_t+" >>"),this.internal.write("stream"),this.internal.write(S+P+j+N+J),this.internal.write("endstream"),this.internal.write("endobj")},v=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};k.addMetadata=function(_,C){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_,namespaceuri:C||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",v),this.internal.events.subscribe("postPutResources",g)),this}}(et.API),function(k){var g=k.API,v=g.pdfEscape16=function(S,P){for(var j,N=P.metadata.Unicode.widths,J=["","0","00","000","0000"],_t=[""],vt=0,kt=S.length;vt<kt;++vt){if(j=P.metadata.characterToGlyph(S.charCodeAt(vt)),P.metadata.glyIdsUsed.push(j),P.metadata.toUnicode[j]=S.charCodeAt(vt),N.indexOf(j)==-1&&(N.push(j),N.push([parseInt(P.metadata.widthOfGlyph(j),10)])),j=="0")return _t.join("");j=j.toString(16),_t.push(J[4-j.length],j)}return _t.join("")},_=function(P){var j,N,J,_t,vt,kt,V;for(vt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,J=[],kt=0,V=(N=Object.keys(P).sort(function(Vt,It){return Vt-It})).length;kt<V;kt++)j=N[kt],J.length>=100&&(vt+=`
`+J.length+` beginbfchar
`+J.join(`
`)+`
endbfchar`,J=[]),P[j]!==void 0&&P[j]!==null&&typeof P[j].toString=="function"&&(_t=("0000"+P[j].toString(16)).slice(-4),j=("0000"+(+j).toString(16)).slice(-4),J.push("<"+j+"><"+_t+">"));return J.length&&(vt+=`
`+J.length+` beginbfchar
`+J.join(`
`)+`
endbfchar
`),vt+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};g.events.push(["putFont",function(S){(function(P){var j=P.font,N=P.out,J=P.newObject,_t=P.putStream;if(j.metadata instanceof k.API.TTFFont&&j.encoding==="Identity-H"){for(var vt=j.metadata.Unicode.widths,kt=j.metadata.subset.encode(j.metadata.glyIdsUsed,1),V="",Vt=0;Vt<kt.length;Vt++)V+=String.fromCharCode(kt[Vt]);var It=J();_t({data:V,addLength1:!0,objectId:It}),N("endobj");var Jt=J();_t({data:_(j.metadata.toUnicode),addLength1:!0,objectId:Jt}),N("endobj");var Mt=J();N("<<"),N("/Type /FontDescriptor"),N("/FontName /"+Y(j.fontName)),N("/FontFile2 "+It+" 0 R"),N("/FontBBox "+k.API.PDFObject.convert(j.metadata.bbox)),N("/Flags "+j.metadata.flags),N("/StemV "+j.metadata.stemV),N("/ItalicAngle "+j.metadata.italicAngle),N("/Ascent "+j.metadata.ascender),N("/Descent "+j.metadata.decender),N("/CapHeight "+j.metadata.capHeight),N(">>"),N("endobj");var gt=J();N("<<"),N("/Type /Font"),N("/BaseFont /"+Y(j.fontName)),N("/FontDescriptor "+Mt+" 0 R"),N("/W "+k.API.PDFObject.convert(vt)),N("/CIDToGIDMap /Identity"),N("/DW 1000"),N("/Subtype /CIDFontType2"),N("/CIDSystemInfo"),N("<<"),N("/Supplement 0"),N("/Registry (Adobe)"),N("/Ordering ("+j.encoding+")"),N(">>"),N(">>"),N("endobj"),j.objectNumber=J(),N("<<"),N("/Type /Font"),N("/Subtype /Type0"),N("/ToUnicode "+Jt+" 0 R"),N("/BaseFont /"+Y(j.fontName)),N("/Encoding /"+j.encoding),N("/DescendantFonts ["+gt+" 0 R]"),N(">>"),N("endobj"),j.isAlreadyPutted=!0}})(S)}]),g.events.push(["putFont",function(S){(function(P){var j=P.font,N=P.out,J=P.newObject,_t=P.putStream;if(j.metadata instanceof k.API.TTFFont&&j.encoding==="WinAnsiEncoding"){for(var vt=j.metadata.rawData,kt="",V=0;V<vt.length;V++)kt+=String.fromCharCode(vt[V]);var Vt=J();_t({data:kt,addLength1:!0,objectId:Vt}),N("endobj");var It=J();_t({data:_(j.metadata.toUnicode),addLength1:!0,objectId:It}),N("endobj");var Jt=J();N("<<"),N("/Descent "+j.metadata.decender),N("/CapHeight "+j.metadata.capHeight),N("/StemV "+j.metadata.stemV),N("/Type /FontDescriptor"),N("/FontFile2 "+Vt+" 0 R"),N("/Flags 96"),N("/FontBBox "+k.API.PDFObject.convert(j.metadata.bbox)),N("/FontName /"+Y(j.fontName)),N("/ItalicAngle "+j.metadata.italicAngle),N("/Ascent "+j.metadata.ascender),N(">>"),N("endobj"),j.objectNumber=J();for(var Mt=0;Mt<j.metadata.hmtx.widths.length;Mt++)j.metadata.hmtx.widths[Mt]=parseInt(j.metadata.hmtx.widths[Mt]*(1e3/j.metadata.head.unitsPerEm));N("<</Subtype/TrueType/Type/Font/ToUnicode "+It+" 0 R/BaseFont/"+Y(j.fontName)+"/FontDescriptor "+Jt+" 0 R/Encoding/"+j.encoding+" /FirstChar 29 /LastChar 255 /Widths "+k.API.PDFObject.convert(j.metadata.hmtx.widths)+">>"),N("endobj"),j.isAlreadyPutted=!0}})(S)}]);var C=function(P){var j,N=P.text||"",J=P.x,_t=P.y,vt=P.options||{},kt=P.mutex||{},V=kt.pdfEscape,Vt=kt.activeFontKey,It=kt.fonts,Jt=Vt,Mt="",gt=0,xe="",Be=It[Jt].encoding;if(It[Jt].encoding!=="Identity-H")return{text:N,x:J,y:_t,options:vt,mutex:kt};for(xe=N,Jt=Vt,Array.isArray(N)&&(xe=N[0]),gt=0;gt<xe.length;gt+=1)It[Jt].metadata.hasOwnProperty("cmap")&&(j=It[Jt].metadata.cmap.unicode.codeMap[xe[gt].charCodeAt(0)]),j||xe[gt].charCodeAt(0)<256&&It[Jt].metadata.hasOwnProperty("Unicode")?Mt+=xe[gt]:Mt+="";var $e="";return parseInt(Jt.slice(1))<14||Be==="WinAnsiEncoding"?$e=V(Mt,Jt).split("").map(function(fr){return fr.charCodeAt(0).toString(16)}).join(""):Be==="Identity-H"&&($e=v(Mt,It[Jt])),kt.isHex=!0,{text:$e,x:J,y:_t,options:vt,mutex:kt}};g.events.push(["postProcessText",function(S){var P=S.text||"",j=[],N={text:P,x:S.x,y:S.y,options:S.options,mutex:S.mutex};if(Array.isArray(P)){var J=0;for(J=0;J<P.length;J+=1)Array.isArray(P[J])&&P[J].length===3?j.push([C(Object.assign({},N,{text:P[J][0]})).text,P[J][1],P[J][2]]):j.push(C(Object.assign({},N,{text:P[J]})).text);S.text=j}else S.text=C(Object.assign({},N,{text:P})).text}])}(et),function(k){var g=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};k.existsFileInVFS=function(v){return g.call(this),this.internal.vFS[v]!==void 0},k.addFileToVFS=function(v,_){return g.call(this),this.internal.vFS[v]=_,this},k.getFileFromVFS=function(v){return g.call(this),this.internal.vFS[v]!==void 0?this.internal.vFS[v]:null}}(et.API),function(k){k.__bidiEngine__=k.prototype.__bidiEngine__=function(_){var C,S,P,j,N,J,_t,vt=g,kt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],V=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Vt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},It={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Jt=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Mt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),gt=!1,xe=0;this.__bidiEngine__={};var Be=function(zt){var ce=zt.charCodeAt(),he=ce>>8,Je=It[he];return Je!==void 0?vt[256*Je+(255&ce)]:he===252||he===253?"AL":Mt.test(he)?"L":he===8?"R":"N"},$e=function(zt){for(var ce,he=0;he<zt.length;he++){if((ce=Be(zt.charAt(he)))==="L")return!1;if(ce==="R")return!0}return!1},fr=function(zt,ce,he,Je){var Ve,pr,Re,wr,Qe=ce[Je];switch(Qe){case"L":case"R":gt=!1;break;case"N":case"AN":break;case"EN":gt&&(Qe="AN");break;case"AL":gt=!0,Qe="R";break;case"WS":Qe="N";break;case"CS":Je<1||Je+1>=ce.length||(Ve=he[Je-1])!=="EN"&&Ve!=="AN"||(pr=ce[Je+1])!=="EN"&&pr!=="AN"?Qe="N":gt&&(pr="AN"),Qe=pr===Ve?pr:"N";break;case"ES":Qe=(Ve=Je>0?he[Je-1]:"B")==="EN"&&Je+1<ce.length&&ce[Je+1]==="EN"?"EN":"N";break;case"ET":if(Je>0&&he[Je-1]==="EN"){Qe="EN";break}if(gt){Qe="N";break}for(Re=Je+1,wr=ce.length;Re<wr&&ce[Re]==="ET";)Re++;Qe=Re<wr&&ce[Re]==="EN"?"EN":"N";break;case"NSM":if(P&&!j){for(wr=ce.length,Re=Je+1;Re<wr&&ce[Re]==="NSM";)Re++;if(Re<wr){var Ar=zt[Je],te=Ar>=1425&&Ar<=2303||Ar===64286;if(Ve=ce[Re],te&&(Ve==="R"||Ve==="AL")){Qe="R";break}}}Qe=Je<1||(Ve=ce[Je-1])==="B"?"N":he[Je-1];break;case"B":gt=!1,C=!0,Qe=xe;break;case"S":S=!0,Qe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":gt=!1;break;case"BN":Qe="N"}return Qe},Ge=function(zt,ce,he){var Je=zt.split("");return he&&mr(Je,he,{hiLevel:xe}),Je.reverse(),ce&&ce.reverse(),Je.join("")},mr=function(zt,ce,he){var Je,Ve,pr,Re,wr,Qe=-1,Ar=zt.length,te=0,xt=[],Qt=xe?V:kt,ve=[];for(gt=!1,C=!1,S=!1,Ve=0;Ve<Ar;Ve++)ve[Ve]=Be(zt[Ve]);for(pr=0;pr<Ar;pr++){if(wr=te,xt[pr]=fr(zt,ve,xt,pr),Je=240&(te=Qt[wr][Vt[xt[pr]]]),te&=15,ce[pr]=Re=Qt[te][5],Je>0)if(Je===16){for(Ve=Qe;Ve<pr;Ve++)ce[Ve]=1;Qe=-1}else Qe=-1;if(Qt[te][6])Qe===-1&&(Qe=pr);else if(Qe>-1){for(Ve=Qe;Ve<pr;Ve++)ce[Ve]=Re;Qe=-1}ve[pr]==="B"&&(ce[pr]=0),he.hiLevel|=Re}S&&function(Ae,Ie,ar){for(var We=0;We<ar;We++)if(Ae[We]==="S"){Ie[We]=xe;for(var Ye=We-1;Ye>=0&&Ae[Ye]==="WS";Ye--)Ie[Ye]=xe}}(ve,ce,Ar)},fe=function(zt,ce,he,Je,Ve){if(!(Ve.hiLevel<zt)){if(zt===1&&xe===1&&!C)return ce.reverse(),void(he&&he.reverse());for(var pr,Re,wr,Qe,Ar=ce.length,te=0;te<Ar;){if(Je[te]>=zt){for(wr=te+1;wr<Ar&&Je[wr]>=zt;)wr++;for(Qe=te,Re=wr-1;Qe<Re;Qe++,Re--)pr=ce[Qe],ce[Qe]=ce[Re],ce[Re]=pr,he&&(pr=he[Qe],he[Qe]=he[Re],he[Re]=pr);te=wr}te++}}},Xe=function(zt,ce,he){var Je=zt.split(""),Ve={hiLevel:xe};return he||(he=[]),mr(Je,he,Ve),function(pr,Re,wr){if(wr.hiLevel!==0&&_t)for(var Qe,Ar=0;Ar<pr.length;Ar++)Re[Ar]===1&&(Qe=Jt.indexOf(pr[Ar]))>=0&&(pr[Ar]=Jt[Qe+1])}(Je,he,Ve),fe(2,Je,ce,he,Ve),fe(1,Je,ce,he,Ve),Je.join("")};return this.__bidiEngine__.doBidiReorder=function(ie,zt,ce){if(function(Je,Ve){if(Ve)for(var pr=0;pr<Je.length;pr++)Ve[pr]=pr;j===void 0&&(j=$e(Je)),J===void 0&&(J=$e(Je))}(ie,zt),P||!N||J)if(P&&N&&j^J)xe=j?1:0,ie=Ge(ie,zt,ce);else if(!P&&N&&J)xe=j?1:0,ie=Xe(ie,zt,ce),ie=Ge(ie,zt);else if(!P||j||N||J){if(P&&!N&&j^J)ie=Ge(ie,zt),j?(xe=0,ie=Xe(ie,zt,ce)):(xe=1,ie=Xe(ie,zt,ce),ie=Ge(ie,zt));else if(P&&j&&!N&&J)xe=1,ie=Xe(ie,zt,ce),ie=Ge(ie,zt);else if(!P&&!N&&j^J){var he=_t;j?(xe=1,ie=Xe(ie,zt,ce),xe=0,_t=!1,ie=Xe(ie,zt,ce),_t=he):(xe=0,ie=Xe(ie,zt,ce),ie=Ge(ie,zt),xe=1,_t=!1,ie=Xe(ie,zt,ce),_t=he,ie=Ge(ie,zt))}}else xe=0,ie=Xe(ie,zt,ce);else xe=j?1:0,ie=Xe(ie,zt,ce);return ie},this.__bidiEngine__.setOptions=function(ie){ie&&(P=ie.isInputVisual,N=ie.isOutputVisual,j=ie.isInputRtl,J=ie.isOutputRtl,_t=ie.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_),this.__bidiEngine__};var g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],v=new k.__bidiEngine__({isInputVisual:!0});k.API.events.push(["postProcessText",function(_){var C=_.text,S=(_.x,_.y,_.options||{}),P=(_.mutex,S.lang,[]);if(S.isInputVisual=typeof S.isInputVisual!="boolean"||S.isInputVisual,v.setOptions(S),Object.prototype.toString.call(C)==="[object Array]"){var j=0;for(P=[],j=0;j<C.length;j+=1)Object.prototype.toString.call(C[j])==="[object Array]"?P.push([v.doBidiReorder(C[j][0]),C[j][1],C[j][2]]):P.push([v.doBidiReorder(C[j])]);_.text=P}else _.text=v.doBidiReorder(C);v.setOptions({isInputVisual:!0})}])}(et),et.API.TTFFont=function(){function k(g){var v;if(this.rawData=g,v=this.contents=new Rt(g),this.contents.pos=4,v.readString(4)==="ttcf")throw new Error("TTCF not supported.");v.pos=0,this.parse(),this.subset=new Fn(this),this.registerTTF()}return k.open=function(g){return new k(g)},k.prototype.parse=function(){return this.directory=new tt(this.contents),this.head=new Zt(this),this.name=new br(this),this.cmap=new Ue(this),this.toUnicode={},this.hhea=new rr(this),this.maxp=new ln(this),this.hmtx=new $r(this),this.post=new He(this),this.os2=new nr(this),this.loca=new Vn(this),this.glyf=new Sn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},k.prototype.registerTTF=function(){var g,v,_,C,S;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var P,j,N,J;for(J=[],P=0,j=(N=this.bbox).length;P<j;P++)g=N[P],J.push(Math.round(g*this.scaleFactor));return J}.call(this),this.stemV=0,this.post.exists?(_=255&(C=this.post.italic_angle),(32768&(v=C>>16))!=0&&(v=-(1+(65535^v))),this.italicAngle=+(v+"."+_)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(S=this.familyClass)===1||S===2||S===3||S===4||S===5||S===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},k.prototype.characterToGlyph=function(g){var v;return((v=this.cmap.unicode)!=null?v.codeMap[g]:void 0)||0},k.prototype.widthOfGlyph=function(g){var v;return v=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(g).advance*v},k.prototype.widthOfString=function(g,v,_){var C,S,P,j;for(P=0,S=0,j=(g=""+g).length;0<=j?S<j:S>j;S=0<=j?++S:--S)C=g.charCodeAt(S),P+=this.widthOfGlyph(this.characterToGlyph(C))+_*(1e3/v)||0;return P*(v/1e3)},k.prototype.lineHeight=function(g,v){var _;return v==null&&(v=!1),_=v?this.lineGap:0,(this.ascender+_-this.decender)/1e3*g},k}();var Br,Rt=function(){function k(g){this.data=g!=null?g:[],this.pos=0,this.length=this.data.length}return k.prototype.readByte=function(){return this.data[this.pos++]},k.prototype.writeByte=function(g){return this.data[this.pos++]=g},k.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},k.prototype.writeUInt32=function(g){return this.writeByte(g>>>24&255),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(255&g)},k.prototype.readInt32=function(){var g;return(g=this.readUInt32())>=2147483648?g-4294967296:g},k.prototype.writeInt32=function(g){return g<0&&(g+=4294967296),this.writeUInt32(g)},k.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},k.prototype.writeUInt16=function(g){return this.writeByte(g>>8&255),this.writeByte(255&g)},k.prototype.readInt16=function(){var g;return(g=this.readUInt16())>=32768?g-65536:g},k.prototype.writeInt16=function(g){return g<0&&(g+=65536),this.writeUInt16(g)},k.prototype.readString=function(g){var v,_;for(_=[],v=0;0<=g?v<g:v>g;v=0<=g?++v:--v)_[v]=String.fromCharCode(this.readByte());return _.join("")},k.prototype.writeString=function(g){var v,_,C;for(C=[],v=0,_=g.length;0<=_?v<_:v>_;v=0<=_?++v:--v)C.push(this.writeByte(g.charCodeAt(v)));return C},k.prototype.readShort=function(){return this.readInt16()},k.prototype.writeShort=function(g){return this.writeInt16(g)},k.prototype.readLongLong=function(){var g,v,_,C,S,P,j,N;return g=this.readByte(),v=this.readByte(),_=this.readByte(),C=this.readByte(),S=this.readByte(),P=this.readByte(),j=this.readByte(),N=this.readByte(),128&g?-1*(72057594037927940*(255^g)+281474976710656*(255^v)+1099511627776*(255^_)+4294967296*(255^C)+16777216*(255^S)+65536*(255^P)+256*(255^j)+(255^N)+1):72057594037927940*g+281474976710656*v+1099511627776*_+4294967296*C+16777216*S+65536*P+256*j+N},k.prototype.writeLongLong=function(g){var v,_;return v=Math.floor(g/4294967296),_=4294967295&g,this.writeByte(v>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v),this.writeByte(_>>24&255),this.writeByte(_>>16&255),this.writeByte(_>>8&255),this.writeByte(255&_)},k.prototype.readInt=function(){return this.readInt32()},k.prototype.writeInt=function(g){return this.writeInt32(g)},k.prototype.read=function(g){var v,_;for(v=[],_=0;0<=g?_<g:_>g;_=0<=g?++_:--_)v.push(this.readByte());return v},k.prototype.write=function(g){var v,_,C,S;for(S=[],_=0,C=g.length;_<C;_++)v=g[_],S.push(this.writeByte(v));return S},k}(),tt=function(){var k;function g(v){var _,C,S;for(this.scalarType=v.readInt(),this.tableCount=v.readShort(),this.searchRange=v.readShort(),this.entrySelector=v.readShort(),this.rangeShift=v.readShort(),this.tables={},C=0,S=this.tableCount;0<=S?C<S:C>S;C=0<=S?++C:--C)_={tag:v.readString(4),checksum:v.readInt(),offset:v.readInt(),length:v.readInt()},this.tables[_.tag]=_}return g.prototype.encode=function(v){var _,C,S,P,j,N,J,_t,vt,kt,V,Vt,It;for(It in V=Object.keys(v).length,N=Math.log(2),vt=16*Math.floor(Math.log(V)/N),P=Math.floor(vt/N),_t=16*V-vt,(C=new Rt).writeInt(this.scalarType),C.writeShort(V),C.writeShort(vt),C.writeShort(P),C.writeShort(_t),S=16*V,J=C.pos+S,j=null,Vt=[],v)for(kt=v[It],C.writeString(It),C.writeInt(k(kt)),C.writeInt(J),C.writeInt(kt.length),Vt=Vt.concat(kt),It==="head"&&(j=J),J+=kt.length;J%4;)Vt.push(0),J++;return C.write(Vt),_=2981146554-k(C.data),C.pos=j+8,C.writeUInt32(_),C.data},k=function(_){var C,S,P,j;for(_=Rr.call(_);_.length%4;)_.push(0);for(P=new Rt(_),S=0,C=0,j=_.length;C<j;C=C+=4)S+=P.readUInt32();return 4294967295&S},g}(),nt={}.hasOwnProperty,Et=function(g,v){for(var _ in v)nt.call(v,_)&&(g[_]=v[_]);function C(){this.constructor=g}return C.prototype=v.prototype,g.prototype=new C,g.__super__=v.prototype,g};Br=function(){function k(g){var v;this.file=g,v=this.file.directory.tables[this.tag],this.exists=!!v,v&&(this.offset=v.offset,this.length=v.length,this.parse(this.file.contents))}return k.prototype.parse=function(){},k.prototype.encode=function(){},k.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},k}();var Zt=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="head",g.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},g.prototype.encode=function(v){var _;return(_=new Rt).writeInt(this.version),_.writeInt(this.revision),_.writeInt(this.checkSumAdjustment),_.writeInt(this.magicNumber),_.writeShort(this.flags),_.writeShort(this.unitsPerEm),_.writeLongLong(this.created),_.writeLongLong(this.modified),_.writeShort(this.xMin),_.writeShort(this.yMin),_.writeShort(this.xMax),_.writeShort(this.yMax),_.writeShort(this.macStyle),_.writeShort(this.lowestRecPPEM),_.writeShort(this.fontDirectionHint),_.writeShort(v),_.writeShort(this.glyphDataFormat),_.data},g}(),me=function(){function k(g,v){var _,C,S,P,j,N,J,_t,vt,kt,V,Vt,It,Jt,Mt,gt,xe;switch(this.platformID=g.readUInt16(),this.encodingID=g.readShort(),this.offset=v+g.readInt(),vt=g.pos,g.pos=this.offset,this.format=g.readUInt16(),this.length=g.readUInt16(),this.language=g.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(N=0;N<256;++N)this.codeMap[N]=g.readByte();break;case 4:for(V=g.readUInt16(),kt=V/2,g.pos+=6,S=function(){var Be,$e;for($e=[],N=Be=0;0<=kt?Be<kt:Be>kt;N=0<=kt?++Be:--Be)$e.push(g.readUInt16());return $e}(),g.pos+=2,It=function(){var Be,$e;for($e=[],N=Be=0;0<=kt?Be<kt:Be>kt;N=0<=kt?++Be:--Be)$e.push(g.readUInt16());return $e}(),J=function(){var Be,$e;for($e=[],N=Be=0;0<=kt?Be<kt:Be>kt;N=0<=kt?++Be:--Be)$e.push(g.readUInt16());return $e}(),_t=function(){var Be,$e;for($e=[],N=Be=0;0<=kt?Be<kt:Be>kt;N=0<=kt?++Be:--Be)$e.push(g.readUInt16());return $e}(),C=(this.length-g.pos+this.offset)/2,j=function(){var Be,$e;for($e=[],N=Be=0;0<=C?Be<C:Be>C;N=0<=C?++Be:--Be)$e.push(g.readUInt16());return $e}(),N=Mt=0,xe=S.length;Mt<xe;N=++Mt)for(Jt=S[N],_=gt=Vt=It[N];Vt<=Jt?gt<=Jt:gt>=Jt;_=Vt<=Jt?++gt:--gt)_t[N]===0?P=_+J[N]:(P=j[_t[N]/2+(_-Vt)-(kt-N)]||0)!==0&&(P+=J[N]),this.codeMap[_]=65535&P}g.pos=vt}return k.encode=function(g,v){var _,C,S,P,j,N,J,_t,vt,kt,V,Vt,It,Jt,Mt,gt,xe,Be,$e,fr,Ge,mr,fe,Xe,ie,zt,ce,he,Je,Ve,pr,Re,wr,Qe,Ar,te,xt,Qt,ve,Ae,Ie,ar,We,Ye,vr,Ur;switch(he=new Rt,P=Object.keys(g).sort(function(Pr,en){return Pr-en}),v){case"macroman":for(It=0,Jt=function(){var Pr=[];for(Vt=0;Vt<256;++Vt)Pr.push(0);return Pr}(),gt={0:0},S={},Je=0,wr=P.length;Je<wr;Je++)gt[We=g[C=P[Je]]]==null&&(gt[We]=++It),S[C]={old:g[C],new:gt[g[C]]},Jt[C]=gt[g[C]];return he.writeUInt16(1),he.writeUInt16(0),he.writeUInt32(12),he.writeUInt16(0),he.writeUInt16(262),he.writeUInt16(0),he.write(Jt),{charMap:S,subtable:he.data,maxGlyphID:It+1};case"unicode":for(zt=[],vt=[],xe=0,gt={},_={},Mt=J=null,Ve=0,Qe=P.length;Ve<Qe;Ve++)gt[$e=g[C=P[Ve]]]==null&&(gt[$e]=++xe),_[C]={old:$e,new:gt[$e]},j=gt[$e]-C,Mt!=null&&j===J||(Mt&&vt.push(Mt),zt.push(C),J=j),Mt=C;for(Mt&&vt.push(Mt),vt.push(65535),zt.push(65535),Xe=2*(fe=zt.length),mr=2*Math.pow(Math.log(fe)/Math.LN2,2),kt=Math.log(mr/2)/Math.LN2,Ge=2*fe-mr,N=[],fr=[],V=[],Vt=pr=0,Ar=zt.length;pr<Ar;Vt=++pr){if(ie=zt[Vt],_t=vt[Vt],ie===65535){N.push(0),fr.push(0);break}if(ie-(ce=_[ie].new)>=32768)for(N.push(0),fr.push(2*(V.length+fe-Vt)),C=Re=ie;ie<=_t?Re<=_t:Re>=_t;C=ie<=_t?++Re:--Re)V.push(_[C].new);else N.push(ce-ie),fr.push(0)}for(he.writeUInt16(3),he.writeUInt16(1),he.writeUInt32(12),he.writeUInt16(4),he.writeUInt16(16+8*fe+2*V.length),he.writeUInt16(0),he.writeUInt16(Xe),he.writeUInt16(mr),he.writeUInt16(kt),he.writeUInt16(Ge),Ie=0,te=vt.length;Ie<te;Ie++)C=vt[Ie],he.writeUInt16(C);for(he.writeUInt16(0),ar=0,xt=zt.length;ar<xt;ar++)C=zt[ar],he.writeUInt16(C);for(Ye=0,Qt=N.length;Ye<Qt;Ye++)j=N[Ye],he.writeUInt16(j);for(vr=0,ve=fr.length;vr<ve;vr++)Be=fr[vr],he.writeUInt16(Be);for(Ur=0,Ae=V.length;Ur<Ae;Ur++)It=V[Ur],he.writeUInt16(It);return{charMap:_,subtable:he.data,maxGlyphID:xe+1}}},k}(),Ue=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="cmap",g.prototype.parse=function(v){var _,C,S;for(v.pos=this.offset,this.version=v.readUInt16(),S=v.readUInt16(),this.tables=[],this.unicode=null,C=0;0<=S?C<S:C>S;C=0<=S?++C:--C)_=new me(v,this.offset),this.tables.push(_),_.isUnicode&&this.unicode==null&&(this.unicode=_);return!0},g.encode=function(v,_){var C,S;return _==null&&(_="macroman"),C=me.encode(v,_),(S=new Rt).writeUInt16(0),S.writeUInt16(1),C.table=S.data.concat(C.subtable),C},g}(),rr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="hhea",g.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},g}(),nr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="OS/2",g.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=function(){var _,C;for(C=[],_=0;_<10;++_)C.push(v.readByte());return C}(),this.charRange=function(){var _,C;for(C=[],_=0;_<4;++_)C.push(v.readInt());return C}(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=function(){var _,C;for(C=[],_=0;_<2;_=++_)C.push(v.readInt());return C}(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},g}(),He=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="post",g.prototype.parse=function(v){var _,C,S;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:break;case 131072:var P;for(C=v.readUInt16(),this.glyphNameIndex=[],P=0;0<=C?P<C:P>C;P=0<=C?++P:--P)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],S=[];v.pos<this.offset+this.length;)_=v.readByte(),S.push(this.names.push(v.readString(_)));return S;case 151552:return C=v.readUInt16(),this.offsets=v.read(C);case 196608:break;case 262144:return this.map=function(){var j,N,J;for(J=[],P=j=0,N=this.file.maxp.numGlyphs;0<=N?j<N:j>N;P=0<=N?++j:--j)J.push(v.readUInt32());return J}.call(this)}},g}(),Sr=function(g,v){this.raw=g,this.length=g.length,this.platformID=v.platformID,this.encodingID=v.encodingID,this.languageID=v.languageID},br=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="name",g.prototype.parse=function(v){var _,C,S,P,j,N,J,_t,vt,kt,V;for(v.pos=this.offset,v.readShort(),_=v.readShort(),N=v.readShort(),C=[],P=0;0<=_?P<_:P>_;P=0<=_?++P:--P)C.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+N+v.readShort()});for(J={},P=vt=0,kt=C.length;vt<kt;P=++vt)S=C[P],v.pos=S.offset,_t=v.readString(S.length),j=new Sr(_t,S),J[V=S.nameID]==null&&(J[V]=[]),J[S.nameID].push(j);this.strings=J,this.copyright=J[0],this.fontFamily=J[1],this.fontSubfamily=J[2],this.uniqueSubfamily=J[3],this.fontName=J[4],this.version=J[5];try{this.postscriptName=J[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Vt){this.postscriptName=J[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=J[7],this.manufacturer=J[8],this.designer=J[9],this.description=J[10],this.vendorUrl=J[11],this.designerUrl=J[12],this.license=J[13],this.licenseUrl=J[14],this.preferredFamily=J[15],this.preferredSubfamily=J[17],this.compatibleFull=J[18],this.sampleText=J[19]},g}(),ln=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="maxp",g.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},g}(),$r=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="hmtx",g.prototype.parse=function(v){var _,C,S,P,j,N,J;for(v.pos=this.offset,this.metrics=[],_=0,N=this.file.hhea.numberOfMetrics;0<=N?_<N:_>N;_=0<=N?++_:--_)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(S=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _t,vt;for(vt=[],_=_t=0;0<=S?_t<S:_t>S;_=0<=S?++_t:--_t)vt.push(v.readInt16());return vt}(),this.widths=function(){var _t,vt,kt,V;for(V=[],_t=0,vt=(kt=this.metrics).length;_t<vt;_t++)P=kt[_t],V.push(P.advance);return V}.call(this),C=this.widths[this.widths.length-1],J=[],_=j=0;0<=S?j<S:j>S;_=0<=S?++j:--j)J.push(this.widths.push(C));return J},g.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},g}(),Rr=[].slice,Sn=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="glyf",g.prototype.parse=function(){return this.cache={}},g.prototype.glyphFor=function(v){var _,C,S,P,j,N,J,_t,vt,kt;return v in this.cache?this.cache[v]:(P=this.file.loca,_=this.file.contents,C=P.indexOf(v),(S=P.lengthOf(v))===0?this.cache[v]=null:(_.pos=this.offset+C,j=(N=new Rt(_.read(S))).readShort(),_t=N.readShort(),kt=N.readShort(),J=N.readShort(),vt=N.readShort(),this.cache[v]=j===-1?new yn(N,_t,kt,J,vt):new Qr(N,j,_t,kt,J,vt),this.cache[v]))},g.prototype.encode=function(v,_,C){var S,P,j,N,J;for(j=[],P=[],N=0,J=_.length;N<J;N++)S=v[_[N]],P.push(j.length),S&&(j=j.concat(S.encode(C)));return P.push(j.length),{table:j,offsets:P}},g}(),Qr=function(){function k(g,v,_,C,S,P){this.raw=g,this.numberOfContours=v,this.xMin=_,this.yMin=C,this.xMax=S,this.yMax=P,this.compound=!1}return k.prototype.encode=function(){return this.raw.data},k}(),yn=function(){function k(g,v,_,C,S){var P,j;for(this.raw=g,this.xMin=v,this.yMin=_,this.xMax=C,this.yMax=S,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],P=this.raw;j=P.readShort(),this.glyphOffsets.push(P.pos),this.glyphIDs.push(P.readUInt16()),32&j;)P.pos+=1&j?4:2,128&j?P.pos+=8:64&j?P.pos+=4:8&j&&(P.pos+=2)}return k.prototype.encode=function(){var g,v,_;for(v=new Rt(Rr.call(this.raw.data)),g=0,_=this.glyphIDs.length;g<_;++g)v.pos=this.glyphOffsets[g];return v.data},k}(),Vn=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,Br),g.prototype.tag="loca",g.prototype.parse=function(v){var _,C;return v.pos=this.offset,_=this.file.head.indexToLocFormat,this.offsets=_===0?function(){var S,P;for(P=[],C=0,S=this.length;C<S;C+=2)P.push(2*v.readUInt16());return P}.call(this):function(){var S,P;for(P=[],C=0,S=this.length;C<S;C+=4)P.push(v.readUInt32());return P}.call(this)},g.prototype.indexOf=function(v){return this.offsets[v]},g.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},g.prototype.encode=function(v,_){for(var C=new Uint32Array(this.offsets.length),S=0,P=0,j=0;j<C.length;++j)if(C[j]=S,P<_.length&&_[P]==j){++P,C[j]=S;var N=this.offsets[j],J=this.offsets[j+1]-N;J>0&&(S+=J)}for(var _t=new Array(4*C.length),vt=0;vt<C.length;++vt)_t[4*vt+3]=255&C[vt],_t[4*vt+2]=(65280&C[vt])>>8,_t[4*vt+1]=(16711680&C[vt])>>16,_t[4*vt]=(4278190080&C[vt])>>24;return _t},g}(),Fn=function(){function k(g){this.font=g,this.subset={},this.unicodes={},this.next=33}return k.prototype.generateCmap=function(){var g,v,_,C,S;for(v in C=this.font.cmap.tables[0].codeMap,g={},S=this.subset)_=S[v],g[v]=C[_];return g},k.prototype.glyphsFor=function(g){var v,_,C,S,P,j,N;for(C={},P=0,j=g.length;P<j;P++)C[S=g[P]]=this.font.glyf.glyphFor(S);for(S in v=[],C)((_=C[S])!=null?_.compound:void 0)&&v.push.apply(v,_.glyphIDs);if(v.length>0)for(S in N=this.glyphsFor(v))_=N[S],C[S]=_;return C},k.prototype.encode=function(g,v){var _,C,S,P,j,N,J,_t,vt,kt,V,Vt,It,Jt,Mt;for(C in _=Ue.encode(this.generateCmap(),"unicode"),P=this.glyphsFor(g),V={0:0},Mt=_.charMap)V[(N=Mt[C]).old]=N.new;for(Vt in kt=_.maxGlyphID,P)Vt in V||(V[Vt]=kt++);return _t=function(gt){var xe,Be;for(xe in Be={},gt)Be[gt[xe]]=xe;return Be}(V),vt=Object.keys(_t).sort(function(gt,xe){return gt-xe}),It=function(){var gt,xe,Be;for(Be=[],gt=0,xe=vt.length;gt<xe;gt++)j=vt[gt],Be.push(_t[j]);return Be}(),S=this.font.glyf.encode(P,It,V),J=this.font.loca.encode(S.offsets,It),Jt={cmap:this.font.cmap.raw(),glyf:S.table,loca:J,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(v)},this.font.os2.exists&&(Jt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Jt)},k}();et.API.PDFObject=function(){var k;function g(){}return k=function(_,C){return(Array(C+1).join("0")+_).slice(-C)},g.convert=function(v){var _,C,S,P;if(Array.isArray(v))return"["+function(){var j,N,J;for(J=[],j=0,N=v.length;j<N;j++)_=v[j],J.push(g.convert(_));return J}().join(" ")+"]";if(typeof v=="string")return"/"+v;if(v!=null?v.isString:void 0)return"("+v+")";if(v instanceof Date)return"(D:"+k(v.getUTCFullYear(),4)+k(v.getUTCMonth(),2)+k(v.getUTCDate(),2)+k(v.getUTCHours(),2)+k(v.getUTCMinutes(),2)+k(v.getUTCSeconds(),2)+"Z)";if({}.toString.call(v)==="[object Object]"){for(C in S=["<<"],v)P=v[C],S.push("/"+C+" "+g.convert(P));return S.push(">>"),S.join(`
`)}return""+v},g}(),_r.d=et}).call(this,Ne("IyRk"))},"kVK+":function(un,_r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_r.read=function(Ne,Ke,L,le,W){var Ht,wt,G=W*8-le-1,b=(1<<G)-1,i=b>>1,c=-7,u=L?W-1:0,o=L?-1:1,r=Ne[Ke+u];for(u+=o,Ht=r&(1<<-c)-1,r>>=-c,c+=G;c>0;Ht=Ht*256+Ne[Ke+u],u+=o,c-=8);for(wt=Ht&(1<<-c)-1,Ht>>=-c,c+=le;c>0;wt=wt*256+Ne[Ke+u],u+=o,c-=8);if(Ht===0)Ht=1-i;else{if(Ht===b)return wt?NaN:(r?-1:1)*Infinity;wt=wt+Math.pow(2,le),Ht=Ht-i}return(r?-1:1)*wt*Math.pow(2,Ht-le)},_r.write=function(Ne,Ke,L,le,W,Ht){var wt,G,b,i=Ht*8-W-1,c=(1<<i)-1,u=c>>1,o=W===23?Math.pow(2,-24)-Math.pow(2,-77):0,r=le?0:Ht-1,e=le?1:-1,t=Ke<0||Ke===0&&1/Ke<0?1:0;for(Ke=Math.abs(Ke),isNaN(Ke)||Ke===Infinity?(G=isNaN(Ke)?1:0,wt=c):(wt=Math.floor(Math.log(Ke)/Math.LN2),Ke*(b=Math.pow(2,-wt))<1&&(wt--,b*=2),wt+u>=1?Ke+=o/b:Ke+=o*Math.pow(2,1-u),Ke*b>=2&&(wt++,b/=2),wt+u>=c?(G=0,wt=c):wt+u>=1?(G=(Ke*b-1)*Math.pow(2,W),wt=wt+u):(G=Ke*Math.pow(2,u-1)*Math.pow(2,W),wt=0));W>=8;Ne[L+r]=G&255,r+=e,G/=256,W-=8);for(wt=wt<<W|G,i+=W;i>0;Ne[L+r]=wt&255,r+=e,wt/=256,i-=8);Ne[L+r-e]|=t*128}},oOwn:function(un,_r,Ne){(function(){var Ke=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],L=typeof window!="undefined",le=L&&window.mozInnerScreenX!=null;function W(Ht,wt,G){if(!L)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var b=G&&G.debug||!1;if(b){var i=document.querySelector("#input-textarea-caret-position-mirror-div");i&&i.parentNode.removeChild(i)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var u=c.style,o=window.getComputedStyle?getComputedStyle(Ht):Ht.currentStyle;u.whiteSpace="pre-wrap",Ht.nodeName!=="INPUT"&&(u.wordWrap="break-word"),u.position="absolute",b||(u.visibility="hidden"),Ke.forEach(function(t){u[t]=o[t]}),le?Ht.scrollHeight>parseInt(o.height)&&(u.overflowY="scroll"):u.overflow="hidden",c.textContent=Ht.value.substring(0,wt),Ht.nodeName==="INPUT"&&(c.textContent=c.textContent.replace(/\s/g,"\xA0"));var r=document.createElement("span");r.textContent=Ht.value.substring(wt)||".",c.appendChild(r);var e={top:r.offsetTop+parseInt(o.borderTopWidth),left:r.offsetLeft+parseInt(o.borderLeftWidth)};return b?r.style.backgroundColor="#aaa":document.body.removeChild(c),e}typeof un.exports!="undefined"?un.exports=W:L&&(window.getCaretCoordinates=W)})()},tjlA:function(un,_r,Ne){"use strict";(function(Ke){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var L=Ne("H7XF"),le=Ne("kVK+"),W=Ne("49sm");_r.Buffer=b,_r.SlowBuffer=s,_r.INSPECT_MAX_BYTES=50,b.TYPED_ARRAY_SUPPORT=Ke.TYPED_ARRAY_SUPPORT!==void 0?Ke.TYPED_ARRAY_SUPPORT:Ht(),_r.kMaxLength=wt();function Ht(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42&&typeof F.subarray=="function"&&F.subarray(1,1).byteLength===0}catch(x){return!1}}function wt(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function G(F,x){if(wt()<x)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(F=new Uint8Array(x),F.__proto__=b.prototype):(F===null&&(F=new b(x)),F.length=x),F}function b(F,x,O){if(!b.TYPED_ARRAY_SUPPORT&&!(this instanceof b))return new b(F,x,O);if(typeof F=="number"){if(typeof x=="string")throw new Error("If encoding is specified then the first argument must be a string");return o(this,F)}return i(this,F,x,O)}b.poolSize=8192,b._augment=function(F){return F.__proto__=b.prototype,F};function i(F,x,O,$){if(typeof x=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&x instanceof ArrayBuffer?t(F,x,O,$):typeof x=="string"?r(F,x,O):a(F,x)}b.from=function(F,x,O){return i(null,F,x,O)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0}));function c(F){if(typeof F!="number")throw new TypeError('"size" argument must be a number');if(F<0)throw new RangeError('"size" argument must not be negative')}function u(F,x,O,$){return c(x),x<=0?G(F,x):O!==void 0?typeof $=="string"?G(F,x).fill(O,$):G(F,x).fill(O):G(F,x)}b.alloc=function(F,x,O){return u(null,F,x,O)};function o(F,x){if(c(x),F=G(F,x<0?0:l(x)|0),!b.TYPED_ARRAY_SUPPORT)for(var O=0;O<x;++O)F[O]=0;return F}b.allocUnsafe=function(F){return o(null,F)},b.allocUnsafeSlow=function(F){return o(null,F)};function r(F,x,O){if((typeof O!="string"||O==="")&&(O="utf8"),!b.isEncoding(O))throw new TypeError('"encoding" must be a valid string encoding');var $=f(x,O)|0;F=G(F,$);var it=F.write(x,O);return it!==$&&(F=F.slice(0,it)),F}function e(F,x){var O=x.length<0?0:l(x.length)|0;F=G(F,O);for(var $=0;$<O;$+=1)F[$]=x[$]&255;return F}function t(F,x,O,$){if(x.byteLength,O<0||x.byteLength<O)throw new RangeError("'offset' is out of bounds");if(x.byteLength<O+($||0))throw new RangeError("'length' is out of bounds");return O===void 0&&$===void 0?x=new Uint8Array(x):$===void 0?x=new Uint8Array(x,O):x=new Uint8Array(x,O,$),b.TYPED_ARRAY_SUPPORT?(F=x,F.__proto__=b.prototype):F=e(F,x),F}function a(F,x){if(b.isBuffer(x)){var O=l(x.length)|0;return F=G(F,O),F.length===0||x.copy(F,0,0,O),F}if(x){if(typeof ArrayBuffer!="undefined"&&x.buffer instanceof ArrayBuffer||"length"in x)return typeof x.length!="number"||Dt(x.length)?G(F,0):e(F,x);if(x.type==="Buffer"&&W(x.data))return e(F,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(F){if(F>=wt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wt().toString(16)+" bytes");return F|0}function s(F){return+F!=F&&(F=0),b.alloc(+F)}b.isBuffer=function(x){return!!(x!=null&&x._isBuffer)},b.compare=function(x,O){if(!b.isBuffer(x)||!b.isBuffer(O))throw new TypeError("Arguments must be Buffers");if(x===O)return 0;for(var $=x.length,it=O.length,pt=0,jt=Math.min($,it);pt<jt;++pt)if(x[pt]!==O[pt]){$=x[pt],it=O[pt];break}return $<it?-1:it<$?1:0},b.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(x,O){if(!W(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return b.alloc(0);var $;if(O===void 0)for(O=0,$=0;$<x.length;++$)O+=x[$].length;var it=b.allocUnsafe(O),pt=0;for($=0;$<x.length;++$){var jt=x[$];if(!b.isBuffer(jt))throw new TypeError('"list" argument must be an Array of Buffers');jt.copy(it,pt),pt+=jt.length}return it};function f(F,x){if(b.isBuffer(F))return F.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(F)||F instanceof ArrayBuffer))return F.byteLength;typeof F!="string"&&(F=""+F);var O=F.length;if(O===0)return 0;for(var $=!1;;)switch(x){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":case void 0:return re(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return I(F).length;default:if($)return re(F).length;x=(""+x).toLowerCase(),$=!0}}b.byteLength=f;function p(F,x,O){var $=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,x>>>=0,O<=x))return"";for(F||(F="utf8");;)switch(F){case"hex":return ct(this,x,O);case"utf8":case"utf-8":return $t(this,x,O);case"ascii":return tr(this,x,O);case"latin1":case"binary":return Ce(this,x,O);case"base64":return Tt(this,x,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ut(this,x,O);default:if($)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),$=!0}}b.prototype._isBuffer=!0;function w(F,x,O){var $=F[x];F[x]=F[O],F[O]=$}b.prototype.swap16=function(){var x=this.length;if(x%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<x;O+=2)w(this,O,O+1);return this},b.prototype.swap32=function(){var x=this.length;if(x%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<x;O+=4)w(this,O,O+3),w(this,O+1,O+2);return this},b.prototype.swap64=function(){var x=this.length;if(x%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<x;O+=8)w(this,O,O+7),w(this,O+1,O+6),w(this,O+2,O+5),w(this,O+3,O+4);return this},b.prototype.toString=function(){var x=this.length|0;return x===0?"":arguments.length===0?$t(this,0,x):p.apply(this,arguments)},b.prototype.equals=function(x){if(!b.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:b.compare(this,x)===0},b.prototype.inspect=function(){var x="",O=_r.INSPECT_MAX_BYTES;return this.length>0&&(x=this.toString("hex",0,O).match(/.{2}/g).join(" "),this.length>O&&(x+=" ... ")),"<Buffer "+x+">"},b.prototype.compare=function(x,O,$,it,pt){if(!b.isBuffer(x))throw new TypeError("Argument must be a Buffer");if(O===void 0&&(O=0),$===void 0&&($=x?x.length:0),it===void 0&&(it=0),pt===void 0&&(pt=this.length),O<0||$>x.length||it<0||pt>this.length)throw new RangeError("out of range index");if(it>=pt&&O>=$)return 0;if(it>=pt)return-1;if(O>=$)return 1;if(O>>>=0,$>>>=0,it>>>=0,pt>>>=0,this===x)return 0;for(var jt=pt-it,ke=$-O,Te=Math.min(jt,ke),De=this.slice(it,pt),gr=x.slice(O,$),er=0;er<Te;++er)if(De[er]!==gr[er]){jt=De[er],ke=gr[er];break}return jt<ke?-1:ke<jt?1:0};function A(F,x,O,$,it){if(F.length===0)return-1;if(typeof O=="string"?($=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,isNaN(O)&&(O=it?0:F.length-1),O<0&&(O=F.length+O),O>=F.length){if(it)return-1;O=F.length-1}else if(O<0)if(it)O=0;else return-1;if(typeof x=="string"&&(x=b.from(x,$)),b.isBuffer(x))return x.length===0?-1:z(F,x,O,$,it);if(typeof x=="number")return x=x&255,b.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?it?Uint8Array.prototype.indexOf.call(F,x,O):Uint8Array.prototype.lastIndexOf.call(F,x,O):z(F,[x],O,$,it);throw new TypeError("val must be string, number or Buffer")}function z(F,x,O,$,it){var pt=1,jt=F.length,ke=x.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(F.length<2||x.length<2)return-1;pt=2,jt/=2,ke/=2,O/=2}function Te(Jr,on){return pt===1?Jr[on]:Jr.readUInt16BE(on*pt)}var De;if(it){var gr=-1;for(De=O;De<jt;De++)if(Te(F,De)===Te(x,gr===-1?0:De-gr)){if(gr===-1&&(gr=De),De-gr+1===ke)return gr*pt}else gr!==-1&&(De-=De-gr),gr=-1}else for(O+ke>jt&&(O=jt-ke),De=O;De>=0;De--){for(var er=!0,Hr=0;Hr<ke;Hr++)if(Te(F,De+Hr)!==Te(x,Hr)){er=!1;break}if(er)return De}return-1}b.prototype.includes=function(x,O,$){return this.indexOf(x,O,$)!==-1},b.prototype.indexOf=function(x,O,$){return A(this,x,O,$,!0)},b.prototype.lastIndexOf=function(x,O,$){return A(this,x,O,$,!1)};function Z(F,x,O,$){O=Number(O)||0;var it=F.length-O;$?($=Number($),$>it&&($=it)):$=it;var pt=x.length;if(pt%2!=0)throw new TypeError("Invalid hex string");$>pt/2&&($=pt/2);for(var jt=0;jt<$;++jt){var ke=parseInt(x.substr(jt*2,2),16);if(isNaN(ke))return jt;F[O+jt]=ke}return jt}function ot(F,x,O,$){return Pt(re(x,F.length-O),F,O,$)}function Lt(F,x,O,$){return Pt(ae(x),F,O,$)}function At(F,x,O,$){return Lt(F,x,O,$)}function se(F,x,O,$){return Pt(I(x),F,O,$)}function Le(F,x,O,$){return Pt(qt(x,F.length-O),F,O,$)}b.prototype.write=function(x,O,$,it){if(O===void 0)it="utf8",$=this.length,O=0;else if($===void 0&&typeof O=="string")it=O,$=this.length,O=0;else if(isFinite(O))O=O|0,isFinite($)?($=$|0,it===void 0&&(it="utf8")):(it=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var pt=this.length-O;if(($===void 0||$>pt)&&($=pt),x.length>0&&($<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var jt=!1;;)switch(it){case"hex":return Z(this,x,O,$);case"utf8":case"utf-8":return ot(this,x,O,$);case"ascii":return Lt(this,x,O,$);case"latin1":case"binary":return At(this,x,O,$);case"base64":return se(this,x,O,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,x,O,$);default:if(jt)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),jt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tt(F,x,O){return x===0&&O===F.length?L.fromByteArray(F):L.fromByteArray(F.slice(x,O))}function $t(F,x,O){O=Math.min(F.length,O);for(var $=[],it=x;it<O;){var pt=F[it],jt=null,ke=pt>239?4:pt>223?3:pt>191?2:1;if(it+ke<=O){var Te,De,gr,er;switch(ke){case 1:pt<128&&(jt=pt);break;case 2:Te=F[it+1],(Te&192)==128&&(er=(pt&31)<<6|Te&63,er>127&&(jt=er));break;case 3:Te=F[it+1],De=F[it+2],(Te&192)==128&&(De&192)==128&&(er=(pt&15)<<12|(Te&63)<<6|De&63,er>2047&&(er<55296||er>57343)&&(jt=er));break;case 4:Te=F[it+1],De=F[it+2],gr=F[it+3],(Te&192)==128&&(De&192)==128&&(gr&192)==128&&(er=(pt&15)<<18|(Te&63)<<12|(De&63)<<6|gr&63,er>65535&&er<1114112&&(jt=er))}}jt===null?(jt=65533,ke=1):jt>65535&&(jt-=65536,$.push(jt>>>10&1023|55296),jt=56320|jt&1023),$.push(jt),it+=ke}return ue($)}var Y=4096;function ue(F){var x=F.length;if(x<=Y)return String.fromCharCode.apply(String,F);for(var O="",$=0;$<x;)O+=String.fromCharCode.apply(String,F.slice($,$+=Y));return O}function tr(F,x,O){var $="";O=Math.min(F.length,O);for(var it=x;it<O;++it)$+=String.fromCharCode(F[it]&127);return $}function Ce(F,x,O){var $="";O=Math.min(F.length,O);for(var it=x;it<O;++it)$+=String.fromCharCode(F[it]);return $}function ct(F,x,O){var $=F.length;(!x||x<0)&&(x=0),(!O||O<0||O>$)&&(O=$);for(var it="",pt=x;pt<O;++pt)it+=oe(F[pt]);return it}function Ut(F,x,O){for(var $=F.slice(x,O),it="",pt=0;pt<$.length;pt+=2)it+=String.fromCharCode($[pt]+$[pt+1]*256);return it}b.prototype.slice=function(x,O){var $=this.length;x=~~x,O=O===void 0?$:~~O,x<0?(x+=$,x<0&&(x=0)):x>$&&(x=$),O<0?(O+=$,O<0&&(O=0)):O>$&&(O=$),O<x&&(O=x);var it;if(b.TYPED_ARRAY_SUPPORT)it=this.subarray(x,O),it.__proto__=b.prototype;else{var pt=O-x;it=new b(pt,void 0);for(var jt=0;jt<pt;++jt)it[jt]=this[jt+x]}return it};function et(F,x,O){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+x>O)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUIntLE=function(x,O,$){x=x|0,O=O|0,$||et(x,O,this.length);for(var it=this[x],pt=1,jt=0;++jt<O&&(pt*=256);)it+=this[x+jt]*pt;return it},b.prototype.readUIntBE=function(x,O,$){x=x|0,O=O|0,$||et(x,O,this.length);for(var it=this[x+--O],pt=1;O>0&&(pt*=256);)it+=this[x+--O]*pt;return it},b.prototype.readUInt8=function(x,O){return O||et(x,1,this.length),this[x]},b.prototype.readUInt16LE=function(x,O){return O||et(x,2,this.length),this[x]|this[x+1]<<8},b.prototype.readUInt16BE=function(x,O){return O||et(x,2,this.length),this[x]<<8|this[x+1]},b.prototype.readUInt32LE=function(x,O){return O||et(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},b.prototype.readUInt32BE=function(x,O){return O||et(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},b.prototype.readIntLE=function(x,O,$){x=x|0,O=O|0,$||et(x,O,this.length);for(var it=this[x],pt=1,jt=0;++jt<O&&(pt*=256);)it+=this[x+jt]*pt;return pt*=128,it>=pt&&(it-=Math.pow(2,8*O)),it},b.prototype.readIntBE=function(x,O,$){x=x|0,O=O|0,$||et(x,O,this.length);for(var it=O,pt=1,jt=this[x+--it];it>0&&(pt*=256);)jt+=this[x+--it]*pt;return pt*=128,jt>=pt&&(jt-=Math.pow(2,8*O)),jt},b.prototype.readInt8=function(x,O){return O||et(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},b.prototype.readInt16LE=function(x,O){O||et(x,2,this.length);var $=this[x]|this[x+1]<<8;return $&32768?$|4294901760:$},b.prototype.readInt16BE=function(x,O){O||et(x,2,this.length);var $=this[x+1]|this[x]<<8;return $&32768?$|4294901760:$},b.prototype.readInt32LE=function(x,O){return O||et(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},b.prototype.readInt32BE=function(x,O){return O||et(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},b.prototype.readFloatLE=function(x,O){return O||et(x,4,this.length),le.read(this,x,!0,23,4)},b.prototype.readFloatBE=function(x,O){return O||et(x,4,this.length),le.read(this,x,!1,23,4)},b.prototype.readDoubleLE=function(x,O){return O||et(x,8,this.length),le.read(this,x,!0,52,8)},b.prototype.readDoubleBE=function(x,O){return O||et(x,8,this.length),le.read(this,x,!1,52,8)};function X(F,x,O,$,it,pt){if(!b.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>it||x<pt)throw new RangeError('"value" argument is out of bounds');if(O+$>F.length)throw new RangeError("Index out of range")}b.prototype.writeUIntLE=function(x,O,$,it){if(x=+x,O=O|0,$=$|0,!it){var pt=Math.pow(2,8*$)-1;X(this,x,O,$,pt,0)}var jt=1,ke=0;for(this[O]=x&255;++ke<$&&(jt*=256);)this[O+ke]=x/jt&255;return O+$},b.prototype.writeUIntBE=function(x,O,$,it){if(x=+x,O=O|0,$=$|0,!it){var pt=Math.pow(2,8*$)-1;X(this,x,O,$,pt,0)}var jt=$-1,ke=1;for(this[O+jt]=x&255;--jt>=0&&(ke*=256);)this[O+jt]=x/ke&255;return O+$},b.prototype.writeUInt8=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,1,255,0),b.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),this[O]=x&255,O+1};function rt(F,x,O,$){x<0&&(x=65535+x+1);for(var it=0,pt=Math.min(F.length-O,2);it<pt;++it)F[O+it]=(x&255<<8*($?it:1-it))>>>($?it:1-it)*8}b.prototype.writeUInt16LE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[O]=x&255,this[O+1]=x>>>8):rt(this,x,O,!0),O+2},b.prototype.writeUInt16BE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[O]=x>>>8,this[O+1]=x&255):rt(this,x,O,!1),O+2};function M(F,x,O,$){x<0&&(x=4294967295+x+1);for(var it=0,pt=Math.min(F.length-O,4);it<pt;++it)F[O+it]=x>>>($?it:3-it)*8&255}b.prototype.writeUInt32LE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[O+3]=x>>>24,this[O+2]=x>>>16,this[O+1]=x>>>8,this[O]=x&255):M(this,x,O,!0),O+4},b.prototype.writeUInt32BE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[O]=x>>>24,this[O+1]=x>>>16,this[O+2]=x>>>8,this[O+3]=x&255):M(this,x,O,!1),O+4},b.prototype.writeIntLE=function(x,O,$,it){if(x=+x,O=O|0,!it){var pt=Math.pow(2,8*$-1);X(this,x,O,$,pt-1,-pt)}var jt=0,ke=1,Te=0;for(this[O]=x&255;++jt<$&&(ke*=256);)x<0&&Te===0&&this[O+jt-1]!==0&&(Te=1),this[O+jt]=(x/ke>>0)-Te&255;return O+$},b.prototype.writeIntBE=function(x,O,$,it){if(x=+x,O=O|0,!it){var pt=Math.pow(2,8*$-1);X(this,x,O,$,pt-1,-pt)}var jt=$-1,ke=1,Te=0;for(this[O+jt]=x&255;--jt>=0&&(ke*=256);)x<0&&Te===0&&this[O+jt+1]!==0&&(Te=1),this[O+jt]=(x/ke>>0)-Te&255;return O+$},b.prototype.writeInt8=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,1,127,-128),b.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),x<0&&(x=255+x+1),this[O]=x&255,O+1},b.prototype.writeInt16LE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[O]=x&255,this[O+1]=x>>>8):rt(this,x,O,!0),O+2},b.prototype.writeInt16BE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[O]=x>>>8,this[O+1]=x&255):rt(this,x,O,!1),O+2},b.prototype.writeInt32LE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[O]=x&255,this[O+1]=x>>>8,this[O+2]=x>>>16,this[O+3]=x>>>24):M(this,x,O,!0),O+4},b.prototype.writeInt32BE=function(x,O,$){return x=+x,O=O|0,$||X(this,x,O,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),b.TYPED_ARRAY_SUPPORT?(this[O]=x>>>24,this[O+1]=x>>>16,this[O+2]=x>>>8,this[O+3]=x&255):M(this,x,O,!1),O+4};function Q(F,x,O,$,it,pt){if(O+$>F.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function ut(F,x,O,$,it){return it||Q(F,x,O,4,34028234663852886e22,-34028234663852886e22),le.write(F,x,O,$,23,4),O+4}b.prototype.writeFloatLE=function(x,O,$){return ut(this,x,O,!0,$)},b.prototype.writeFloatBE=function(x,O,$){return ut(this,x,O,!1,$)};function ht(F,x,O,$,it){return it||Q(F,x,O,8,17976931348623157e292,-17976931348623157e292),le.write(F,x,O,$,52,8),O+8}b.prototype.writeDoubleLE=function(x,O,$){return ht(this,x,O,!0,$)},b.prototype.writeDoubleBE=function(x,O,$){return ht(this,x,O,!1,$)},b.prototype.copy=function(x,O,$,it){if($||($=0),!it&&it!==0&&(it=this.length),O>=x.length&&(O=x.length),O||(O=0),it>0&&it<$&&(it=$),it===$||x.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),x.length-O<it-$&&(it=x.length-O+$);var pt=it-$,jt;if(this===x&&$<O&&O<it)for(jt=pt-1;jt>=0;--jt)x[jt+O]=this[jt+$];else if(pt<1e3||!b.TYPED_ARRAY_SUPPORT)for(jt=0;jt<pt;++jt)x[jt+O]=this[jt+$];else Uint8Array.prototype.set.call(x,this.subarray($,$+pt),O);return pt},b.prototype.fill=function(x,O,$,it){if(typeof x=="string"){if(typeof O=="string"?(it=O,O=0,$=this.length):typeof $=="string"&&(it=$,$=this.length),x.length===1){var pt=x.charCodeAt(0);pt<256&&(x=pt)}if(it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!b.isEncoding(it))throw new TypeError("Unknown encoding: "+it)}else typeof x=="number"&&(x=x&255);if(O<0||this.length<O||this.length<$)throw new RangeError("Out of range index");if($<=O)return this;O=O>>>0,$=$===void 0?this.length:$>>>0,x||(x=0);var jt;if(typeof x=="number")for(jt=O;jt<$;++jt)this[jt]=x;else{var ke=b.isBuffer(x)?x:re(new b(x,it).toString()),Te=ke.length;for(jt=0;jt<$-O;++jt)this[jt+O]=ke[jt%Te]}return this};var Wt=/[^+\/0-9A-Za-z-_]/g;function bt(F){if(F=Bt(F).replace(Wt,""),F.length<2)return"";for(;F.length%4!=0;)F=F+"=";return F}function Bt(F){return F.trim?F.trim():F.replace(/^\s+|\s+$/g,"")}function oe(F){return F<16?"0"+F.toString(16):F.toString(16)}function re(F,x){x=x||Infinity;for(var O,$=F.length,it=null,pt=[],jt=0;jt<$;++jt){if(O=F.charCodeAt(jt),O>55295&&O<57344){if(!it){if(O>56319){(x-=3)>-1&&pt.push(239,191,189);continue}else if(jt+1===$){(x-=3)>-1&&pt.push(239,191,189);continue}it=O;continue}if(O<56320){(x-=3)>-1&&pt.push(239,191,189),it=O;continue}O=(it-55296<<10|O-56320)+65536}else it&&(x-=3)>-1&&pt.push(239,191,189);if(it=null,O<128){if((x-=1)<0)break;pt.push(O)}else if(O<2048){if((x-=2)<0)break;pt.push(O>>6|192,O&63|128)}else if(O<65536){if((x-=3)<0)break;pt.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((x-=4)<0)break;pt.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return pt}function ae(F){for(var x=[],O=0;O<F.length;++O)x.push(F.charCodeAt(O)&255);return x}function qt(F,x){for(var O,$,it,pt=[],jt=0;jt<F.length&&!((x-=2)<0);++jt)O=F.charCodeAt(jt),$=O>>8,it=O%256,pt.push(it),pt.push($);return pt}function I(F){return L.toByteArray(bt(F))}function Pt(F,x,O,$){for(var it=0;it<$&&!(it+O>=x.length||it>=F.length);++it)x[it+O]=F[it];return it}function Dt(F){return F!==F}}).call(this,Ne("IyRk"))},tneF:function(un,_r,Ne){"use strict";var Ke=Ne("sRBo"),L=Ne("kaz8"),le=Ne("wx14"),W=Ne("VTBJ"),Ht=Ne("Ff2n"),wt=Ne("q1tI"),G=Ne.n(wt),b=Ne("adzw"),i=Ne("uX+g"),c=Ne("WFLz"),u=["options","fieldProps","proFieldProps","valueEnum"],o=G.a.forwardRef(function(a,l){var s=a.options,f=a.fieldProps,p=a.proFieldProps,w=a.valueEnum,A=Object(Ht.a)(a,u);return G.a.createElement(b.a,Object(le.a)({ref:l,valueType:"checkbox",mode:"edit",valueEnum:Object(i.a)(w,void 0),fieldProps:Object(W.a)({options:s},f),proFieldProps:p},A))}),r=G.a.forwardRef(function(a,l){var s=a.fieldProps,f=a.children;return G.a.createElement(L.a,Object(le.a)({ref:l},s),f)}),e=Object(c.a)(r,{valuePropName:"checked"}),t=e;t.Group=o,_r.a=t},vHD6:function(un,_r,Ne){"use strict";var Ke=Ne("4hEd"),L={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},le=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,W=/[\s,]+/;un.exports=function(wt){var G=new Ke,b,i;return wt.split(le).forEach(function(c){if(!!c.length){if(typeof L[c]!="undefined"){b=c;return}switch(i=c.split(W).map(function(u){return+u||0}),b){case"matrix":i.length===6&&G.matrix(i);return;case"scale":i.length===1?G.scale(i[0],i[0]):i.length===2&&G.scale(i[0],i[1]);return;case"rotate":i.length===1?G.rotate(i[0],0,0):i.length===3&&G.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?G.translate(i[0],0):i.length===2&&G.translate(i[0],i[1]);return;case"skewX":i.length===1&&G.skewX(i[0]);return;case"skewY":i.length===1&&G.skewY(i[0]);return}}}),G}},xOOu:function(un,_r,Ne){(function(Ke,L){var le,le;/*!

JSZip v3.9.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(W){un.exports=W()})(function(){return function W(Ht,wt,G){function b(u,o){if(!wt[u]){if(!Ht[u]){var r=typeof le=="function"&&le;if(!o&&r)return le(u,!0);if(i)return i(u,!0);var e=new Error("Cannot find module '"+u+"'");throw e.code="MODULE_NOT_FOUND",e}var t=wt[u]={exports:{}};Ht[u][0].call(t.exports,function(a){var l=Ht[u][1][a];return b(l||a)},t,t.exports,W,Ht,wt,G)}return wt[u].exports}for(var i=typeof le=="function"&&le,c=0;c<G.length;c++)b(G[c]);return b}({1:[function(W,Ht,wt){"use strict";var G=W("./utils"),b=W("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";wt.encode=function(c){for(var u,o,r,e,t,a,l,s=[],f=0,p=c.length,w=p,A=G.getTypeOf(c)!=="string";f<c.length;)w=p-f,r=A?(u=c[f++],o=f<p?c[f++]:0,f<p?c[f++]:0):(u=c.charCodeAt(f++),o=f<p?c.charCodeAt(f++):0,f<p?c.charCodeAt(f++):0),e=u>>2,t=(3&u)<<4|o>>4,a=1<w?(15&o)<<2|r>>6:64,l=2<w?63&r:64,s.push(i.charAt(e)+i.charAt(t)+i.charAt(a)+i.charAt(l));return s.join("")},wt.decode=function(c){var u,o,r,e,t,a,l=0,s=0,f="data:";if(c.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var p,w=3*(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(c.charAt(c.length-1)===i.charAt(64)&&w--,c.charAt(c.length-2)===i.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=b.uint8array?new Uint8Array(0|w):new Array(0|w);l<c.length;)u=i.indexOf(c.charAt(l++))<<2|(e=i.indexOf(c.charAt(l++)))>>4,o=(15&e)<<4|(t=i.indexOf(c.charAt(l++)))>>2,r=(3&t)<<6|(a=i.indexOf(c.charAt(l++))),p[s++]=u,t!==64&&(p[s++]=o),a!==64&&(p[s++]=r);return p}},{"./support":30,"./utils":32}],2:[function(W,Ht,wt){"use strict";var G=W("./external"),b=W("./stream/DataWorker"),i=W("./stream/Crc32Probe"),c=W("./stream/DataLengthProbe");function u(o,r,e,t,a){this.compressedSize=o,this.uncompressedSize=r,this.crc32=e,this.compression=t,this.compressedContent=a}u.prototype={getContentWorker:function(){var r=new b(G.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),e=this;return r.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),r},getCompressedWorker:function(){return new b(G.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(o,r,e){return o.pipe(new i).pipe(new c("uncompressedSize")).pipe(r.compressWorker(e)).pipe(new c("compressedSize")).withStreamInfo("compression",r)},Ht.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(W,Ht,wt){"use strict";var G=W("./stream/GenericWorker");wt.STORE={magic:"\0\0",compressWorker:function(i){return new G("STORE compression")},uncompressWorker:function(){return new G("STORE decompression")}},wt.DEFLATE=W("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(W,Ht,wt){"use strict";var G=W("./utils"),b=function(){for(var i,c=[],u=0;u<256;u++){i=u;for(var o=0;o<8;o++)i=1&i?3988292384^i>>>1:i>>>1;c[u]=i}return c}();Ht.exports=function(i,c){return i!==void 0&&i.length?G.getTypeOf(i)!=="string"?function(u,o,r,e){var t=b,a=e+r;u^=-1;for(var l=e;l<a;l++)u=u>>>8^t[255&(u^o[l])];return-1^u}(0|c,i,i.length,0):function(u,o,r,e){var t=b,a=e+r;u^=-1;for(var l=e;l<a;l++)u=u>>>8^t[255&(u^o.charCodeAt(l))];return-1^u}(0|c,i,i.length,0):0}},{"./utils":32}],5:[function(W,Ht,wt){"use strict";wt.base64=!1,wt.binary=!1,wt.dir=!1,wt.createFolders=!0,wt.date=null,wt.compression=null,wt.compressionOptions=null,wt.comment=null,wt.unixPermissions=null,wt.dosPermissions=null},{}],6:[function(W,Ht,wt){"use strict";var G=null;G=typeof Promise!="undefined"?Promise:W("lie"),Ht.exports={Promise:G}},{lie:37}],7:[function(W,Ht,wt){"use strict";var G=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",b=W("pako"),i=W("./utils"),c=W("./stream/GenericWorker"),u=G?"uint8array":"array";function o(r,e){c.call(this,"FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=e,this.meta={}}wt.magic="\b\0",i.inherits(o,c),o.prototype.processChunk=function(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(u,r.data),!1)},o.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var r=this;this._pako.onData=function(e){r.push({data:e,meta:r.meta})}},wt.compressWorker=function(r){return new o("Deflate",r)},wt.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(W,Ht,wt){"use strict";function G(t,a){var l,s="";for(l=0;l<a;l++)s+=String.fromCharCode(255&t),t>>>=8;return s}function b(t,a,l,s,f,p){var w,A,z=t.file,Z=t.compression,ot=p!==u.utf8encode,Lt=i.transformTo("string",p(z.name)),At=i.transformTo("string",u.utf8encode(z.name)),se=z.comment,Le=i.transformTo("string",p(se)),Tt=i.transformTo("string",u.utf8encode(se)),$t=At.length!==z.name.length,Y=Tt.length!==se.length,ue="",tr="",Ce="",ct=z.dir,Ut=z.date,et={crc32:0,compressedSize:0,uncompressedSize:0};a&&!l||(et.crc32=t.crc32,et.compressedSize=t.compressedSize,et.uncompressedSize=t.uncompressedSize);var X=0;a&&(X|=8),ot||!$t&&!Y||(X|=2048);var rt=0,M=0;ct&&(rt|=16),f==="UNIX"?(M=798,rt|=function(ut,ht){var Wt=ut;return ut||(Wt=ht?16893:33204),(65535&Wt)<<16}(z.unixPermissions,ct)):(M=20,rt|=function(ut){return 63&(ut||0)}(z.dosPermissions)),w=Ut.getUTCHours(),w<<=6,w|=Ut.getUTCMinutes(),w<<=5,w|=Ut.getUTCSeconds()/2,A=Ut.getUTCFullYear()-1980,A<<=4,A|=Ut.getUTCMonth()+1,A<<=5,A|=Ut.getUTCDate(),$t&&(tr=G(1,1)+G(o(Lt),4)+At,ue+="up"+G(tr.length,2)+tr),Y&&(Ce=G(1,1)+G(o(Le),4)+Tt,ue+="uc"+G(Ce.length,2)+Ce);var Q="";return Q+=`
\0`,Q+=G(X,2),Q+=Z.magic,Q+=G(w,2),Q+=G(A,2),Q+=G(et.crc32,4),Q+=G(et.compressedSize,4),Q+=G(et.uncompressedSize,4),Q+=G(Lt.length,2),Q+=G(ue.length,2),{fileRecord:r.LOCAL_FILE_HEADER+Q+Lt+ue,dirRecord:r.CENTRAL_FILE_HEADER+G(M,2)+Q+G(Le.length,2)+"\0\0\0\0"+G(rt,4)+G(s,4)+Lt+ue+Le}}var i=W("../utils"),c=W("../stream/GenericWorker"),u=W("../utf8"),o=W("../crc32"),r=W("../signature");function e(t,a,l,s){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=a,this.zipPlatform=l,this.encodeFileName=s,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(e,c),e.prototype.push=function(t){var a=t.meta.percent||0,l=this.entriesCount,s=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,c.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:l?(a+100*(l-s-1))/l:100}}))},e.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var a=this.streamFiles&&!t.file.dir;if(a){var l=b(t,a,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},e.prototype.closedSource=function(t){this.accumulate=!1;var a=this.streamFiles&&!t.file.dir,l=b(t,a,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),a)this.push({data:function(s){return r.DATA_DESCRIPTOR+G(s.crc32,4)+G(s.compressedSize,4)+G(s.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},e.prototype.flush=function(){for(var t=this.bytesWritten,a=0;a<this.dirRecords.length;a++)this.push({data:this.dirRecords[a],meta:{percent:100}});var l=this.bytesWritten-t,s=function(f,p,w,A,z){var Z=i.transformTo("string",z(A));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+G(f,2)+G(f,2)+G(p,4)+G(w,4)+G(Z.length,2)+Z}(this.dirRecords.length,l,t,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},e.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},e.prototype.registerPrevious=function(t){this._sources.push(t);var a=this;return t.on("data",function(l){a.processChunk(l)}),t.on("end",function(){a.closedSource(a.previous.streamInfo),a._sources.length?a.prepareNextSource():a.end()}),t.on("error",function(l){a.error(l)}),this},e.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},e.prototype.error=function(t){var a=this._sources;if(!c.prototype.error.call(this,t))return!1;for(var l=0;l<a.length;l++)try{a[l].error(t)}catch(s){}return!0},e.prototype.lock=function(){c.prototype.lock.call(this);for(var t=this._sources,a=0;a<t.length;a++)t[a].lock()},Ht.exports=e},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(W,Ht,wt){"use strict";var G=W("../compressions"),b=W("./ZipFileWorker");wt.generateWorker=function(i,c,u){var o=new b(c.streamFiles,u,c.platform,c.encodeFileName),r=0;try{i.forEach(function(e,t){r++;var a=function(p,w){var A=p||w,z=G[A];if(!z)throw new Error(A+" is not a valid compression method !");return z}(t.options.compression,c.compression),l=t.options.compressionOptions||c.compressionOptions||{},s=t.dir,f=t.date;t._compressWorker(a,l).withStreamInfo("file",{name:e,dir:s,date:f,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=r}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(W,Ht,wt){"use strict";function G(){if(!(this instanceof G))return new G;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new G;for(var i in this)typeof this[i]!="function"&&(b[i]=this[i]);return b}}(G.prototype=W("./object")).loadAsync=W("./load"),G.support=W("./support"),G.defaults=W("./defaults"),G.version="3.9.0",G.loadAsync=function(b,i){return new G().loadAsync(b,i)},G.external=W("./external"),Ht.exports=G},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(W,Ht,wt){"use strict";var G=W("./utils"),b=W("./external"),i=W("./utf8"),c=W("./zipEntries"),u=W("./stream/Crc32Probe"),o=W("./nodejsUtils");function r(e){return new b.Promise(function(t,a){var l=e.decompressed.getContentWorker().pipe(new u);l.on("error",function(s){a(s)}).on("end",function(){l.streamInfo.crc32!==e.decompressed.crc32?a(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}Ht.exports=function(e,t){var a=this;return t=G.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),o.isNode&&o.isStream(e)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):G.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(l){var s=new c(t);return s.load(l),s}).then(function(l){var s=[b.Promise.resolve(l)],f=l.files;if(t.checkCRC32)for(var p=0;p<f.length;p++)s.push(r(f[p]));return b.Promise.all(s)}).then(function(l){for(var s=l.shift(),f=s.files,p=0;p<f.length;p++){var w=f[p],A=w.fileNameStr,z=G.resolve(w.fileNameStr);a.file(z,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:t.createFolders}),w.dir||(a.file(z).unsafeOriginalName=A)}return s.zipComment.length&&(a.comment=s.zipComment),a})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(W,Ht,wt){"use strict";var G=W("../utils"),b=W("../stream/GenericWorker");function i(c,u){b.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}G.inherits(i,b),i.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(o){u.push({data:o,meta:{percent:0}})}).on("error",function(o){u.isPaused?this.generatedError=o:u.error(o)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},i.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Ht.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(W,Ht,wt){"use strict";var G=W("readable-stream").Readable;function b(i,c,u){G.call(this,c),this._helper=i;var o=this;i.on("data",function(r,e){o.push(r)||o._helper.pause(),u&&u(e)}).on("error",function(r){o.emit("error",r)}).on("end",function(){o.push(null)})}W("../utils").inherits(b,G),b.prototype._read=function(){this._helper.resume()},Ht.exports=b},{"../utils":32,"readable-stream":16}],14:[function(W,Ht,wt){"use strict";Ht.exports={isNode:typeof Ke!="undefined",newBufferFrom:function(b,i){if(Ke.from&&Ke.from!==Uint8Array.from)return Ke.from(b,i);if(typeof b=="number")throw new Error('The "data" argument must not be a number');return new Ke(b,i)},allocBuffer:function(b){if(Ke.alloc)return Ke.alloc(b);var i=new Ke(b);return i.fill(0),i},isBuffer:function(b){return Ke.isBuffer(b)},isStream:function(b){return b&&typeof b.on=="function"&&typeof b.pause=="function"&&typeof b.resume=="function"}}},{}],15:[function(W,Ht,wt){"use strict";function G(z,Z,ot){var Lt,At=i.getTypeOf(Z),se=i.extend(ot||{},o);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(z=f(z)),se.createFolders&&(Lt=s(z))&&p.call(this,Lt,!0);var Le=At==="string"&&se.binary===!1&&se.base64===!1;ot&&ot.binary!==void 0||(se.binary=!Le),(Z instanceof r&&Z.uncompressedSize===0||se.dir||!Z||Z.length===0)&&(se.base64=!1,se.binary=!0,Z="",se.compression="STORE",At="string");var Tt=null;Tt=Z instanceof r||Z instanceof c?Z:a.isNode&&a.isStream(Z)?new l(z,Z):i.prepareContent(z,Z,se.binary,se.optimizedBinaryString,se.base64);var $t=new e(z,Tt,se);this.files[z]=$t}var b=W("./utf8"),i=W("./utils"),c=W("./stream/GenericWorker"),u=W("./stream/StreamHelper"),o=W("./defaults"),r=W("./compressedObject"),e=W("./zipObject"),t=W("./generate"),a=W("./nodejsUtils"),l=W("./nodejs/NodejsStreamInputAdapter"),s=function(Z){Z.slice(-1)==="/"&&(Z=Z.substring(0,Z.length-1));var ot=Z.lastIndexOf("/");return 0<ot?Z.substring(0,ot):""},f=function(Z){return Z.slice(-1)!=="/"&&(Z+="/"),Z},p=function(Z,ot){return ot=ot!==void 0?ot:o.createFolders,Z=f(Z),this.files[Z]||G.call(this,Z,null,{dir:!0,createFolders:ot}),this.files[Z]};function w(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Z){var ot,Lt,At;for(ot in this.files)At=this.files[ot],(Lt=ot.slice(this.root.length,ot.length))&&ot.slice(0,this.root.length)===this.root&&Z(Lt,At)},filter:function(Z){var ot=[];return this.forEach(function(Lt,At){Z(Lt,At)&&ot.push(At)}),ot},file:function(Z,ot,Lt){if(arguments.length!==1)return Z=this.root+Z,G.call(this,Z,ot,Lt),this;if(w(Z)){var At=Z;return this.filter(function(Le,Tt){return!Tt.dir&&At.test(Le)})}var se=this.files[this.root+Z];return se&&!se.dir?se:null},folder:function(Z){if(!Z)return this;if(w(Z))return this.filter(function(se,Le){return Le.dir&&Z.test(se)});var ot=this.root+Z,Lt=p.call(this,ot),At=this.clone();return At.root=Lt.name,At},remove:function(Z){Z=this.root+Z;var ot=this.files[Z];if(ot||(Z.slice(-1)!=="/"&&(Z+="/"),ot=this.files[Z]),ot&&!ot.dir)delete this.files[Z];else for(var Lt=this.filter(function(se,Le){return Le.name.slice(0,Z.length)===Z}),At=0;At<Lt.length;At++)delete this.files[Lt[At].name];return this},generate:function(Z){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Z){var ot,Lt={};try{if((Lt=i.extend(Z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=Lt.type.toLowerCase(),Lt.compression=Lt.compression.toUpperCase(),Lt.type==="binarystring"&&(Lt.type="string"),!Lt.type)throw new Error("No output type specified.");i.checkSupport(Lt.type),Lt.platform!=="darwin"&&Lt.platform!=="freebsd"&&Lt.platform!=="linux"&&Lt.platform!=="sunos"||(Lt.platform="UNIX"),Lt.platform==="win32"&&(Lt.platform="DOS");var At=Lt.comment||this.comment||"";ot=t.generateWorker(this,Lt,At)}catch(se){(ot=new c("error")).error(se)}return new u(ot,Lt.type||"string",Lt.mimeType)},generateAsync:function(Z,ot){return this.generateInternalStream(Z).accumulate(ot)},generateNodeStream:function(Z,ot){return(Z=Z||{}).type||(Z.type="nodebuffer"),this.generateInternalStream(Z).toNodejsStream(ot)}};Ht.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(W,Ht,wt){Ht.exports=W("stream")},{stream:void 0}],17:[function(W,Ht,wt){"use strict";var G=W("./DataReader");function b(i){G.call(this,i);for(var c=0;c<this.data.length;c++)i[c]=255&i[c]}W("../utils").inherits(b,G),b.prototype.byteAt=function(i){return this.data[this.zero+i]},b.prototype.lastIndexOfSignature=function(i){for(var c=i.charCodeAt(0),u=i.charCodeAt(1),o=i.charCodeAt(2),r=i.charCodeAt(3),e=this.length-4;0<=e;--e)if(this.data[e]===c&&this.data[e+1]===u&&this.data[e+2]===o&&this.data[e+3]===r)return e-this.zero;return-1},b.prototype.readAndCheckSignature=function(i){var c=i.charCodeAt(0),u=i.charCodeAt(1),o=i.charCodeAt(2),r=i.charCodeAt(3),e=this.readData(4);return c===e[0]&&u===e[1]&&o===e[2]&&r===e[3]},b.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},Ht.exports=b},{"../utils":32,"./DataReader":18}],18:[function(W,Ht,wt){"use strict";var G=W("../utils");function b(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(c){},readInt:function(c){var u,o=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)o=(o<<8)+this.byteAt(u);return this.index+=c,o},readString:function(c){return G.transformTo("string",this.readData(c))},readData:function(c){},lastIndexOfSignature:function(c){},readAndCheckSignature:function(c){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},Ht.exports=b},{"../utils":32}],19:[function(W,Ht,wt){"use strict";var G=W("./Uint8ArrayReader");function b(i){G.call(this,i)}W("../utils").inherits(b,G),b.prototype.readData=function(i){this.checkOffset(i);var c=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},Ht.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(W,Ht,wt){"use strict";var G=W("./DataReader");function b(i){G.call(this,i)}W("../utils").inherits(b,G),b.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},b.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},b.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},b.prototype.readData=function(i){this.checkOffset(i);var c=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},Ht.exports=b},{"../utils":32,"./DataReader":18}],21:[function(W,Ht,wt){"use strict";var G=W("./ArrayReader");function b(i){G.call(this,i)}W("../utils").inherits(b,G),b.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},Ht.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(W,Ht,wt){"use strict";var G=W("../utils"),b=W("../support"),i=W("./ArrayReader"),c=W("./StringReader"),u=W("./NodeBufferReader"),o=W("./Uint8ArrayReader");Ht.exports=function(r){var e=G.getTypeOf(r);return G.checkSupport(e),e!=="string"||b.uint8array?e==="nodebuffer"?new u(r):b.uint8array?new o(G.transformTo("uint8array",r)):new i(G.transformTo("array",r)):new c(r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(W,Ht,wt){"use strict";wt.LOCAL_FILE_HEADER="PK",wt.CENTRAL_FILE_HEADER="PK",wt.CENTRAL_DIRECTORY_END="PK",wt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",wt.ZIP64_CENTRAL_DIRECTORY_END="PK",wt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(W,Ht,wt){"use strict";var G=W("./GenericWorker"),b=W("../utils");function i(c){G.call(this,"ConvertWorker to "+c),this.destType=c}b.inherits(i,G),i.prototype.processChunk=function(c){this.push({data:b.transformTo(this.destType,c.data),meta:c.meta})},Ht.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(W,Ht,wt){"use strict";var G=W("./GenericWorker"),b=W("../crc32");function i(){G.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}W("../utils").inherits(i,G),i.prototype.processChunk=function(c){this.streamInfo.crc32=b(c.data,this.streamInfo.crc32||0),this.push(c)},Ht.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(W,Ht,wt){"use strict";var G=W("../utils"),b=W("./GenericWorker");function i(c){b.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}G.inherits(i,b),i.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}b.prototype.processChunk.call(this,c)},Ht.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(W,Ht,wt){"use strict";var G=W("../utils"),b=W("./GenericWorker");function i(c){b.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(o){u.dataIsReady=!0,u.data=o,u.max=o&&o.length||0,u.type=G.getTypeOf(o),u.isPaused||u._tickAndRepeat()},function(o){u.error(o)})}G.inherits(i,b),i.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,G.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(G.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},Ht.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(W,Ht,wt){"use strict";function G(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}G.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,c){return this._listeners[i].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,c){if(this._listeners[i])for(var u=0;u<this._listeners[i].length;u++)this._listeners[i][u].call(this,c)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var c=this;return i.on("data",function(u){c.processChunk(u)}),i.on("end",function(){c.end()}),i.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,c){return this.extraStreamInfo[i]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},Ht.exports=G},{}],29:[function(W,Ht,wt){"use strict";var G=W("../utils"),b=W("./ConvertWorker"),i=W("./GenericWorker"),c=W("../base64"),u=W("../support"),o=W("../external"),r=null;if(u.nodestream)try{r=W("../nodejs/NodejsStreamOutputAdapter")}catch(a){}function e(a,l){return new o.Promise(function(s,f){var p=[],w=a._internalType,A=a._outputType,z=a._mimeType;a.on("data",function(Z,ot){p.push(Z),l&&l(ot)}).on("error",function(Z){p=[],f(Z)}).on("end",function(){try{var Z=function(ot,Lt,At){switch(ot){case"blob":return G.newBlob(G.transformTo("arraybuffer",Lt),At);case"base64":return c.encode(Lt);default:return G.transformTo(ot,Lt)}}(A,function(ot,Lt){var At,se=0,Le=null,Tt=0;for(At=0;At<Lt.length;At++)Tt+=Lt[At].length;switch(ot){case"string":return Lt.join("");case"array":return Array.prototype.concat.apply([],Lt);case"uint8array":for(Le=new Uint8Array(Tt),At=0;At<Lt.length;At++)Le.set(Lt[At],se),se+=Lt[At].length;return Le;case"nodebuffer":return Ke.concat(Lt);default:throw new Error("concat : unsupported type '"+ot+"'")}}(w,p),z);s(Z)}catch(ot){f(ot)}p=[]}).resume()})}function t(a,l,s){var f=l;switch(l){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=l,this._mimeType=s,G.checkSupport(f),this._worker=a.pipe(new b(f)),a.lock()}catch(p){this._worker=new i("error"),this._worker.error(p)}}t.prototype={accumulate:function(l){return e(this,l)},on:function(l,s){var f=this;return l==="data"?this._worker.on(l,function(p){s.call(f,p.data,p.meta)}):this._worker.on(l,function(){G.delay(s,arguments,f)}),this},resume:function(){return G.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(l){if(G.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:this._outputType!=="nodebuffer"},l)}},Ht.exports=t},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(W,Ht,wt){"use strict";if(wt.base64=!0,wt.array=!0,wt.string=!0,wt.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",wt.nodebuffer=typeof Ke!="undefined",wt.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")wt.blob=!1;else{var G=new ArrayBuffer(0);try{wt.blob=new Blob([G],{type:"application/zip"}).size===0}catch(i){try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(G),wt.blob=b.getBlob("application/zip").size===0}catch(c){wt.blob=!1}}}try{wt.nodestream=!!W("readable-stream").Readable}catch(i){wt.nodestream=!1}},{"readable-stream":16}],31:[function(W,Ht,wt){"use strict";for(var G=W("./utils"),b=W("./support"),i=W("./nodejsUtils"),c=W("./stream/GenericWorker"),u=new Array(256),o=0;o<256;o++)u[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;u[254]=u[254]=1;function r(){c.call(this,"utf-8 decode"),this.leftOver=null}function e(){c.call(this,"utf-8 encode")}wt.utf8encode=function(t){return b.nodebuffer?i.newBufferFrom(t,"utf-8"):function(a){var l,s,f,p,w,A=a.length,z=0;for(p=0;p<A;p++)(64512&(s=a.charCodeAt(p)))==55296&&p+1<A&&(64512&(f=a.charCodeAt(p+1)))==56320&&(s=65536+(s-55296<<10)+(f-56320),p++),z+=s<128?1:s<2048?2:s<65536?3:4;for(l=b.uint8array?new Uint8Array(z):new Array(z),p=w=0;w<z;p++)(64512&(s=a.charCodeAt(p)))==55296&&p+1<A&&(64512&(f=a.charCodeAt(p+1)))==56320&&(s=65536+(s-55296<<10)+(f-56320),p++),s<128?l[w++]=s:(s<2048?l[w++]=192|s>>>6:(s<65536?l[w++]=224|s>>>12:(l[w++]=240|s>>>18,l[w++]=128|s>>>12&63),l[w++]=128|s>>>6&63),l[w++]=128|63&s);return l}(t)},wt.utf8decode=function(t){return b.nodebuffer?G.transformTo("nodebuffer",t).toString("utf-8"):function(a){var l,s,f,p,w=a.length,A=new Array(2*w);for(l=s=0;l<w;)if((f=a[l++])<128)A[s++]=f;else if(4<(p=u[f]))A[s++]=65533,l+=p-1;else{for(f&=p===2?31:p===3?15:7;1<p&&l<w;)f=f<<6|63&a[l++],p--;1<p?A[s++]=65533:f<65536?A[s++]=f:(f-=65536,A[s++]=55296|f>>10&1023,A[s++]=56320|1023&f)}return A.length!==s&&(A.subarray?A=A.subarray(0,s):A.length=s),G.applyFromCharCode(A)}(t=G.transformTo(b.uint8array?"uint8array":"array",t))},G.inherits(r,c),r.prototype.processChunk=function(t){var a=G.transformTo(b.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var l=a;(a=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),a.set(l,this.leftOver.length)}else a=this.leftOver.concat(a);this.leftOver=null}var s=function(p,w){var A;for((w=w||p.length)>p.length&&(w=p.length),A=w-1;0<=A&&(192&p[A])==128;)A--;return A<0||A===0?w:A+u[p[A]]>w?A:w}(a),f=a;s!==a.length&&(b.uint8array?(f=a.subarray(0,s),this.leftOver=a.subarray(s,a.length)):(f=a.slice(0,s),this.leftOver=a.slice(s,a.length))),this.push({data:wt.utf8decode(f),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:wt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},wt.Utf8DecodeWorker=r,G.inherits(e,c),e.prototype.processChunk=function(t){this.push({data:wt.utf8encode(t.data),meta:t.meta})},wt.Utf8EncodeWorker=e},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(W,Ht,wt){"use strict";var G=W("./support"),b=W("./base64"),i=W("./nodejsUtils"),c=W("set-immediate-shim"),u=W("./external");function o(s){return s}function r(s,f){for(var p=0;p<s.length;++p)f[p]=255&s.charCodeAt(p);return f}wt.newBlob=function(s,f){wt.checkSupport("blob");try{return new Blob([s],{type:f})}catch(w){try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(s),p.getBlob(f)}catch(A){throw new Error("Bug : can't construct the Blob.")}}};var e={stringifyByChunk:function(f,p,w){var A=[],z=0,Z=f.length;if(Z<=w)return String.fromCharCode.apply(null,f);for(;z<Z;)p==="array"||p==="nodebuffer"?A.push(String.fromCharCode.apply(null,f.slice(z,Math.min(z+w,Z)))):A.push(String.fromCharCode.apply(null,f.subarray(z,Math.min(z+w,Z)))),z+=w;return A.join("")},stringifyByChar:function(f){for(var p="",w=0;w<f.length;w++)p+=String.fromCharCode(f[w]);return p},applyCanBeUsed:{uint8array:function(){try{return G.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(s){return!1}}(),nodebuffer:function(){try{return G.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch(s){return!1}}()}};function t(s){var f=65536,p=wt.getTypeOf(s),w=!0;if(p==="uint8array"?w=e.applyCanBeUsed.uint8array:p==="nodebuffer"&&(w=e.applyCanBeUsed.nodebuffer),w)for(;1<f;)try{return e.stringifyByChunk(s,p,f)}catch(A){f=Math.floor(f/2)}return e.stringifyByChar(s)}function a(s,f){for(var p=0;p<s.length;p++)f[p]=s[p];return f}wt.applyFromCharCode=t;var l={};l.string={string:o,array:function(f){return r(f,new Array(f.length))},arraybuffer:function(f){return l.string.uint8array(f).buffer},uint8array:function(f){return r(f,new Uint8Array(f.length))},nodebuffer:function(f){return r(f,i.allocBuffer(f.length))}},l.array={string:t,array:o,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return i.newBufferFrom(f)}},l.arraybuffer={string:function(f){return t(new Uint8Array(f))},array:function(f){return a(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:o,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return i.newBufferFrom(new Uint8Array(f))}},l.uint8array={string:t,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:o,nodebuffer:function(f){return i.newBufferFrom(f)}},l.nodebuffer={string:t,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return l.nodebuffer.uint8array(f).buffer},uint8array:function(f){return a(f,new Uint8Array(f.length))},nodebuffer:o},wt.transformTo=function(s,f){if(f=f||"",!s)return f;wt.checkSupport(s);var p=wt.getTypeOf(f);return l[p][s](f)},wt.resolve=function(s){for(var f=s.split("/"),p=[],w=0;w<f.length;w++){var A=f[w];A==="."||A===""&&w!==0&&w!==f.length-1||(A===".."?p.pop():p.push(A))}return p.join("/")},wt.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":G.nodebuffer&&i.isBuffer(s)?"nodebuffer":G.uint8array&&s instanceof Uint8Array?"uint8array":G.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},wt.checkSupport=function(s){if(!G[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},wt.MAX_VALUE_16BITS=65535,wt.MAX_VALUE_32BITS=-1,wt.pretty=function(s){var f,p,w="";for(p=0;p<(s||"").length;p++)w+="\\x"+((f=s.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return w},wt.delay=function(s,f,p){c(function(){s.apply(p||null,f||[])})},wt.inherits=function(s,f){function p(){}p.prototype=f.prototype,s.prototype=new p},wt.extend=function(){var s,f,p={};for(s=0;s<arguments.length;s++)for(f in arguments[s])arguments[s].hasOwnProperty(f)&&p[f]===void 0&&(p[f]=arguments[s][f]);return p},wt.prepareContent=function(s,f,p,w,A){return u.Promise.resolve(f).then(function(z){return G.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(Z,ot){var Lt=new FileReader;Lt.onload=function(At){Z(At.target.result)},Lt.onerror=function(At){ot(At.target.error)},Lt.readAsArrayBuffer(z)}):z}).then(function(z){var Z=wt.getTypeOf(z);return Z?(Z==="arraybuffer"?z=wt.transformTo("uint8array",z):Z==="string"&&(A?z=b.decode(z):p&&w!==!0&&(z=function(ot){return r(ot,G.uint8array?new Uint8Array(ot.length):new Array(ot.length))}(z))),z):u.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(W,Ht,wt){"use strict";var G=W("./reader/readerFor"),b=W("./utils"),i=W("./signature"),c=W("./zipEntry"),u=(W("./utf8"),W("./support"));function o(r){this.files=[],this.loadOptions=r}o.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(t)+", expected "+b.pretty(e)+")")}},isSignature:function(e,t){var a=this.reader.index;this.reader.setIndex(e);var l=this.reader.readString(4)===t;return this.reader.setIndex(a),l},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=u.uint8array?"uint8array":"array",a=b.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,a,l=this.zip64EndOfCentralSize-44;0<l;)e=this.reader.readInt(2),t=this.reader.readInt(4),a=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var l=t-a;if(0<l)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=l);else if(l<0)throw new Error("Corrupted zip: missing "+Math.abs(l)+" bytes.")},prepareReader:function(e){this.reader=G(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Ht.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(W,Ht,wt){"use strict";var G=W("./reader/readerFor"),b=W("./utils"),i=W("./compressedObject"),c=W("./crc32"),u=W("./utf8"),o=W("./compressions"),r=W("./support");function e(t,a){this.options=t,this.loadOptions=a}e.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(a){var l,s;if(a.skip(22),this.fileNameLength=a.readInt(2),s=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((l=function(f){for(var p in o)if(o.hasOwnProperty(p)&&o[p].magic===f)return o[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,l,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var l=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(l),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a==0&&(this.dosPermissions=63&this.externalFileAttributes),a==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var l=G(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(a){var l,s,f,p=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<p;)l=a.readInt(2),s=a.readInt(2),f=a.readData(s),this.extraFields[l]={id:l,length:s,value:f};a.setIndex(p)},handleUTF8:function(){var a=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var l=this.findExtraFieldUnicodePath();if(l!==null)this.fileNameStr=l;else{var s=b.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var p=b.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var l=G(a.value);return l.readInt(1)!==1||c(this.fileName)!==l.readInt(4)?null:u.utf8decode(l.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var l=G(a.value);return l.readInt(1)!==1||c(this.fileComment)!==l.readInt(4)?null:u.utf8decode(l.readData(a.length-5))}return null}},Ht.exports=e},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(W,Ht,wt){"use strict";function G(a,l,s){this.name=a,this.dir=s.dir,this.date=s.date,this.comment=s.comment,this.unixPermissions=s.unixPermissions,this.dosPermissions=s.dosPermissions,this._data=l,this._dataBinary=s.binary,this.options={compression:s.compression,compressionOptions:s.compressionOptions}}var b=W("./stream/StreamHelper"),i=W("./stream/DataWorker"),c=W("./utf8"),u=W("./compressedObject"),o=W("./stream/GenericWorker");G.prototype={internalStream:function(l){var s=null,f="string";try{if(!l)throw new Error("No output type specified.");var p=(f=l.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),s=this._decompressWorker();var w=!this._dataBinary;w&&!p&&(s=s.pipe(new c.Utf8EncodeWorker)),!w&&p&&(s=s.pipe(new c.Utf8DecodeWorker))}catch(A){(s=new o("error")).error(A)}return new b(s,f,"")},async:function(l,s){return this.internalStream(l).accumulate(s)},nodeStream:function(l,s){return this.internalStream(l||"nodebuffer").toNodejsStream(s)},_compressWorker:function(l,s){if(this._data instanceof u&&this._data.compression.magic===l.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(f,l,s)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof o?this._data:new i(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],e=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},t=0;t<r.length;t++)G.prototype[r[t]]=e;Ht.exports=G},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(W,Ht,wt){(function(G){"use strict";var b,i,c=G.MutationObserver||G.WebKitMutationObserver;if(c){var u=0,o=new c(a),r=G.document.createTextNode("");o.observe(r,{characterData:!0}),b=function(){r.data=u=++u%2}}else if(G.setImmediate||G.MessageChannel===void 0)b="document"in G&&"onreadystatechange"in G.document.createElement("script")?function(){var l=G.document.createElement("script");l.onreadystatechange=function(){a(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},G.document.documentElement.appendChild(l)}:function(){setTimeout(a,0)};else{var e=new G.MessageChannel;e.port1.onmessage=a,b=function(){e.port2.postMessage(0)}}var t=[];function a(){var l,s;i=!0;for(var f=t.length;f;){for(s=t,t=[],l=-1;++l<f;)s[l]();f=t.length}i=!1}Ht.exports=function(l){t.push(l)!==1||i||b()}}).call(this,typeof L!="undefined"?L:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(W,Ht,wt){"use strict";var G=W("immediate");function b(){}var i={},c=["REJECTED"],u=["FULFILLED"],o=["PENDING"];function r(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,f!==b&&l(this,f)}function e(f,p,w){this.promise=f,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function t(f,p,w){G(function(){var A;try{A=p(w)}catch(z){return i.reject(f,z)}A===f?i.reject(f,new TypeError("Cannot resolve promise with itself")):i.resolve(f,A)})}function a(f){var p=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof p=="function")return function(){p.apply(f,arguments)}}function l(f,p){var w=!1;function A(ot){w||(w=!0,i.reject(f,ot))}function z(ot){w||(w=!0,i.resolve(f,ot))}var Z=s(function(){p(z,A)});Z.status==="error"&&A(Z.value)}function s(f,p){var w={};try{w.value=f(p),w.status="success"}catch(A){w.status="error",w.value=A}return w}(Ht.exports=r).prototype.finally=function(f){if(typeof f!="function")return this;var p=this.constructor;return this.then(function(w){return p.resolve(f()).then(function(){return w})},function(w){return p.resolve(f()).then(function(){throw w})})},r.prototype.catch=function(f){return this.then(null,f)},r.prototype.then=function(f,p){if(typeof f!="function"&&this.state===u||typeof p!="function"&&this.state===c)return this;var w=new this.constructor(b);return this.state!==o?t(w,this.state===u?f:p,this.outcome):this.queue.push(new e(w,f,p)),w},e.prototype.callFulfilled=function(f){i.resolve(this.promise,f)},e.prototype.otherCallFulfilled=function(f){t(this.promise,this.onFulfilled,f)},e.prototype.callRejected=function(f){i.reject(this.promise,f)},e.prototype.otherCallRejected=function(f){t(this.promise,this.onRejected,f)},i.resolve=function(f,p){var w=s(a,p);if(w.status==="error")return i.reject(f,w.value);var A=w.value;if(A)l(f,A);else{f.state=u,f.outcome=p;for(var z=-1,Z=f.queue.length;++z<Z;)f.queue[z].callFulfilled(p)}return f},i.reject=function(f,p){f.state=c,f.outcome=p;for(var w=-1,A=f.queue.length;++w<A;)f.queue[w].callRejected(p);return f},r.resolve=function(f){return f instanceof this?f:i.resolve(new this(b),f)},r.reject=function(f){var p=new this(b);return i.reject(p,f)},r.all=function(f){var p=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,A=!1;if(!w)return this.resolve([]);for(var z=new Array(w),Z=0,ot=-1,Lt=new this(b);++ot<w;)At(f[ot],ot);return Lt;function At(se,Le){p.resolve(se).then(function(Tt){z[Le]=Tt,++Z!==w||A||(A=!0,i.resolve(Lt,z))},function(Tt){A||(A=!0,i.reject(Lt,Tt))})}},r.race=function(f){var p=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,A=!1;if(!w)return this.resolve([]);for(var z=-1,Z=new this(b);++z<w;)ot=f[z],p.resolve(ot).then(function(Lt){A||(A=!0,i.resolve(Z,Lt))},function(Lt){A||(A=!0,i.reject(Z,Lt))});var ot;return Z}},{immediate:36}],38:[function(W,Ht,wt){"use strict";var G={};(0,W("./lib/utils/common").assign)(G,W("./lib/deflate"),W("./lib/inflate"),W("./lib/zlib/constants")),Ht.exports=G},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(W,Ht,wt){"use strict";var G=W("./zlib/deflate"),b=W("./utils/common"),i=W("./utils/strings"),c=W("./zlib/messages"),u=W("./zlib/zstream"),o=Object.prototype.toString,r=0,e=-1,t=0,a=8;function l(f){if(!(this instanceof l))return new l(f);this.options=b.assign({level:e,method:a,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},f||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=G.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(w!==r)throw new Error(c[w]);if(p.header&&G.deflateSetHeader(this.strm,p.header),p.dictionary){var A;if(A=typeof p.dictionary=="string"?i.string2buf(p.dictionary):o.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(w=G.deflateSetDictionary(this.strm,A))!==r)throw new Error(c[w]);this._dict_set=!0}}function s(f,p){var w=new l(p);if(w.push(f,!0),w.err)throw w.msg||c[w.err];return w.result}l.prototype.push=function(f,p){var w,A,z=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;A=p===~~p?p:p===!0?4:0,typeof f=="string"?z.input=i.string2buf(f):o.call(f)==="[object ArrayBuffer]"?z.input=new Uint8Array(f):z.input=f,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new b.Buf8(Z),z.next_out=0,z.avail_out=Z),(w=G.deflate(z,A))!==1&&w!==r)return this.onEnd(w),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(b.shrinkBuf(z.output,z.next_out))):this.onData(b.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&w!==1);return A===4?(w=G.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===r):A!==2||(this.onEnd(r),!(z.avail_out=0))},l.prototype.onData=function(f){this.chunks.push(f)},l.prototype.onEnd=function(f){f===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},wt.Deflate=l,wt.deflate=s,wt.deflateRaw=function(f,p){return(p=p||{}).raw=!0,s(f,p)},wt.gzip=function(f,p){return(p=p||{}).gzip=!0,s(f,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(W,Ht,wt){"use strict";var G=W("./zlib/inflate"),b=W("./utils/common"),i=W("./utils/strings"),c=W("./zlib/constants"),u=W("./zlib/messages"),o=W("./zlib/zstream"),r=W("./zlib/gzheader"),e=Object.prototype.toString;function t(l){if(!(this instanceof t))return new t(l);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},l||{});var s=this.options;s.raw&&0<=s.windowBits&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),!(0<=s.windowBits&&s.windowBits<16)||l&&l.windowBits||(s.windowBits+=32),15<s.windowBits&&s.windowBits<48&&(15&s.windowBits)==0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var f=G.inflateInit2(this.strm,s.windowBits);if(f!==c.Z_OK)throw new Error(u[f]);this.header=new r,G.inflateGetHeader(this.strm,this.header)}function a(l,s){var f=new t(s);if(f.push(l,!0),f.err)throw f.msg||u[f.err];return f.result}t.prototype.push=function(l,s){var f,p,w,A,z,Z,ot=this.strm,Lt=this.options.chunkSize,At=this.options.dictionary,se=!1;if(this.ended)return!1;p=s===~~s?s:s===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof l=="string"?ot.input=i.binstring2buf(l):e.call(l)==="[object ArrayBuffer]"?ot.input=new Uint8Array(l):ot.input=l,ot.next_in=0,ot.avail_in=ot.input.length;do{if(ot.avail_out===0&&(ot.output=new b.Buf8(Lt),ot.next_out=0,ot.avail_out=Lt),(f=G.inflate(ot,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&At&&(Z=typeof At=="string"?i.string2buf(At):e.call(At)==="[object ArrayBuffer]"?new Uint8Array(At):At,f=G.inflateSetDictionary(this.strm,Z)),f===c.Z_BUF_ERROR&&se===!0&&(f=c.Z_OK,se=!1),f!==c.Z_STREAM_END&&f!==c.Z_OK)return this.onEnd(f),!(this.ended=!0);ot.next_out&&(ot.avail_out!==0&&f!==c.Z_STREAM_END&&(ot.avail_in!==0||p!==c.Z_FINISH&&p!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=i.utf8border(ot.output,ot.next_out),A=ot.next_out-w,z=i.buf2string(ot.output,w),ot.next_out=A,ot.avail_out=Lt-A,A&&b.arraySet(ot.output,ot.output,w,A,0),this.onData(z)):this.onData(b.shrinkBuf(ot.output,ot.next_out)))),ot.avail_in===0&&ot.avail_out===0&&(se=!0)}while((0<ot.avail_in||ot.avail_out===0)&&f!==c.Z_STREAM_END);return f===c.Z_STREAM_END&&(p=c.Z_FINISH),p===c.Z_FINISH?(f=G.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===c.Z_OK):p!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(ot.avail_out=0))},t.prototype.onData=function(l){this.chunks.push(l)},t.prototype.onEnd=function(l){l===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},wt.Inflate=t,wt.inflate=a,wt.inflateRaw=function(l,s){return(s=s||{}).raw=!0,a(l,s)},wt.ungzip=a},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(W,Ht,wt){"use strict";var G=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";wt.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var o=u.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var r in o)o.hasOwnProperty(r)&&(c[r]=o[r])}}return c},wt.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var b={arraySet:function(u,o,r,e,t){if(o.subarray&&u.subarray)u.set(o.subarray(r,r+e),t);else for(var a=0;a<e;a++)u[t+a]=o[r+a]},flattenChunks:function(u){var o,r,e,t,a,l;for(o=e=0,r=u.length;o<r;o++)e+=u[o].length;for(l=new Uint8Array(e),o=t=0,r=u.length;o<r;o++)a=u[o],l.set(a,t),t+=a.length;return l}},i={arraySet:function(u,o,r,e,t){for(var a=0;a<e;a++)u[t+a]=o[r+a]},flattenChunks:function(u){return[].concat.apply([],u)}};wt.setTyped=function(c){c?(wt.Buf8=Uint8Array,wt.Buf16=Uint16Array,wt.Buf32=Int32Array,wt.assign(wt,b)):(wt.Buf8=Array,wt.Buf16=Array,wt.Buf32=Array,wt.assign(wt,i))},wt.setTyped(G)},{}],42:[function(W,Ht,wt){"use strict";var G=W("./common"),b=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(r){b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){i=!1}for(var c=new G.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function o(r,e){if(e<65537&&(r.subarray&&i||!r.subarray&&b))return String.fromCharCode.apply(null,G.shrinkBuf(r,e));for(var t="",a=0;a<e;a++)t+=String.fromCharCode(r[a]);return t}c[254]=c[254]=1,wt.string2buf=function(r){var e,t,a,l,s,f=r.length,p=0;for(l=0;l<f;l++)(64512&(t=r.charCodeAt(l)))==55296&&l+1<f&&(64512&(a=r.charCodeAt(l+1)))==56320&&(t=65536+(t-55296<<10)+(a-56320),l++),p+=t<128?1:t<2048?2:t<65536?3:4;for(e=new G.Buf8(p),l=s=0;s<p;l++)(64512&(t=r.charCodeAt(l)))==55296&&l+1<f&&(64512&(a=r.charCodeAt(l+1)))==56320&&(t=65536+(t-55296<<10)+(a-56320),l++),t<128?e[s++]=t:(t<2048?e[s++]=192|t>>>6:(t<65536?e[s++]=224|t>>>12:(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63),e[s++]=128|t>>>6&63),e[s++]=128|63&t);return e},wt.buf2binstring=function(r){return o(r,r.length)},wt.binstring2buf=function(r){for(var e=new G.Buf8(r.length),t=0,a=e.length;t<a;t++)e[t]=r.charCodeAt(t);return e},wt.buf2string=function(r,e){var t,a,l,s,f=e||r.length,p=new Array(2*f);for(t=a=0;t<f;)if((l=r[t++])<128)p[a++]=l;else if(4<(s=c[l]))p[a++]=65533,t+=s-1;else{for(l&=s===2?31:s===3?15:7;1<s&&t<f;)l=l<<6|63&r[t++],s--;1<s?p[a++]=65533:l<65536?p[a++]=l:(l-=65536,p[a++]=55296|l>>10&1023,p[a++]=56320|1023&l)}return o(p,a)},wt.utf8border=function(r,e){var t;for((e=e||r.length)>r.length&&(e=r.length),t=e-1;0<=t&&(192&r[t])==128;)t--;return t<0||t===0?e:t+c[r[t]]>e?t:e}},{"./common":41}],43:[function(W,Ht,wt){"use strict";Ht.exports=function(G,b,i,c){for(var u=65535&G|0,o=G>>>16&65535|0,r=0;i!==0;){for(i-=r=2e3<i?2e3:i;o=o+(u=u+b[c++]|0)|0,--r;);u%=65521,o%=65521}return u|o<<16|0}},{}],44:[function(W,Ht,wt){"use strict";Ht.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(W,Ht,wt){"use strict";var G=function(){for(var b,i=[],c=0;c<256;c++){b=c;for(var u=0;u<8;u++)b=1&b?3988292384^b>>>1:b>>>1;i[c]=b}return i}();Ht.exports=function(b,i,c,u){var o=G,r=u+c;b^=-1;for(var e=u;e<r;e++)b=b>>>8^o[255&(b^i[e])];return-1^b}},{}],46:[function(W,Ht,wt){"use strict";var G,b=W("../utils/common"),i=W("./trees"),c=W("./adler32"),u=W("./crc32"),o=W("./messages"),r=0,e=4,t=0,a=-2,l=-1,s=4,f=2,p=8,w=9,A=286,z=30,Z=19,ot=2*A+1,Lt=15,At=3,se=258,Le=se+At+1,Tt=42,$t=113,Y=1,ue=2,tr=3,Ce=4;function ct(I,Pt){return I.msg=o[Pt],Pt}function Ut(I){return(I<<1)-(4<I?9:0)}function et(I){for(var Pt=I.length;0<=--Pt;)I[Pt]=0}function X(I){var Pt=I.state,Dt=Pt.pending;Dt>I.avail_out&&(Dt=I.avail_out),Dt!==0&&(b.arraySet(I.output,Pt.pending_buf,Pt.pending_out,Dt,I.next_out),I.next_out+=Dt,Pt.pending_out+=Dt,I.total_out+=Dt,I.avail_out-=Dt,Pt.pending-=Dt,Pt.pending===0&&(Pt.pending_out=0))}function rt(I,Pt){i._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,Pt),I.block_start=I.strstart,X(I.strm)}function M(I,Pt){I.pending_buf[I.pending++]=Pt}function Q(I,Pt){I.pending_buf[I.pending++]=Pt>>>8&255,I.pending_buf[I.pending++]=255&Pt}function ut(I,Pt){var Dt,F,x=I.max_chain_length,O=I.strstart,$=I.prev_length,it=I.nice_match,pt=I.strstart>I.w_size-Le?I.strstart-(I.w_size-Le):0,jt=I.window,ke=I.w_mask,Te=I.prev,De=I.strstart+se,gr=jt[O+$-1],er=jt[O+$];I.prev_length>=I.good_match&&(x>>=2),it>I.lookahead&&(it=I.lookahead);do if(jt[(Dt=Pt)+$]===er&&jt[Dt+$-1]===gr&&jt[Dt]===jt[O]&&jt[++Dt]===jt[O+1]){O+=2,Dt++;do;while(jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&jt[++O]===jt[++Dt]&&O<De);if(F=se-(De-O),O=De-se,$<F){if(I.match_start=Pt,it<=($=F))break;gr=jt[O+$-1],er=jt[O+$]}}while((Pt=Te[Pt&ke])>pt&&--x!=0);return $<=I.lookahead?$:I.lookahead}function ht(I){var Pt,Dt,F,x,O,$,it,pt,jt,ke,Te=I.w_size;do{if(x=I.window_size-I.lookahead-I.strstart,I.strstart>=Te+(Te-Le)){for(b.arraySet(I.window,I.window,Te,Te,0),I.match_start-=Te,I.strstart-=Te,I.block_start-=Te,Pt=Dt=I.hash_size;F=I.head[--Pt],I.head[Pt]=Te<=F?F-Te:0,--Dt;);for(Pt=Dt=Te;F=I.prev[--Pt],I.prev[Pt]=Te<=F?F-Te:0,--Dt;);x+=Te}if(I.strm.avail_in===0)break;if($=I.strm,it=I.window,pt=I.strstart+I.lookahead,jt=x,ke=void 0,ke=$.avail_in,jt<ke&&(ke=jt),Dt=ke===0?0:($.avail_in-=ke,b.arraySet(it,$.input,$.next_in,ke,pt),$.state.wrap===1?$.adler=c($.adler,it,ke,pt):$.state.wrap===2&&($.adler=u($.adler,it,ke,pt)),$.next_in+=ke,$.total_in+=ke,ke),I.lookahead+=Dt,I.lookahead+I.insert>=At)for(O=I.strstart-I.insert,I.ins_h=I.window[O],I.ins_h=(I.ins_h<<I.hash_shift^I.window[O+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[O+At-1])&I.hash_mask,I.prev[O&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=O,O++,I.insert--,!(I.lookahead+I.insert<At)););}while(I.lookahead<Le&&I.strm.avail_in!==0)}function Wt(I,Pt){for(var Dt,F;;){if(I.lookahead<Le){if(ht(I),I.lookahead<Le&&Pt===r)return Y;if(I.lookahead===0)break}if(Dt=0,I.lookahead>=At&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+At-1])&I.hash_mask,Dt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),Dt!==0&&I.strstart-Dt<=I.w_size-Le&&(I.match_length=ut(I,Dt)),I.match_length>=At)if(F=i._tr_tally(I,I.strstart-I.match_start,I.match_length-At),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=At){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+At-1])&I.hash_mask,Dt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else F=i._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(F&&(rt(I,!1),I.strm.avail_out===0))return Y}return I.insert=I.strstart<At-1?I.strstart:At-1,Pt===e?(rt(I,!0),I.strm.avail_out===0?tr:Ce):I.last_lit&&(rt(I,!1),I.strm.avail_out===0)?Y:ue}function bt(I,Pt){for(var Dt,F,x;;){if(I.lookahead<Le){if(ht(I),I.lookahead<Le&&Pt===r)return Y;if(I.lookahead===0)break}if(Dt=0,I.lookahead>=At&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+At-1])&I.hash_mask,Dt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=At-1,Dt!==0&&I.prev_length<I.max_lazy_match&&I.strstart-Dt<=I.w_size-Le&&(I.match_length=ut(I,Dt),I.match_length<=5&&(I.strategy===1||I.match_length===At&&4096<I.strstart-I.match_start)&&(I.match_length=At-1)),I.prev_length>=At&&I.match_length<=I.prev_length){for(x=I.strstart+I.lookahead-At,F=i._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-At),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=x&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+At-1])&I.hash_mask,Dt=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=At-1,I.strstart++,F&&(rt(I,!1),I.strm.avail_out===0))return Y}else if(I.match_available){if((F=i._tr_tally(I,0,I.window[I.strstart-1]))&&rt(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return Y}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(F=i._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<At-1?I.strstart:At-1,Pt===e?(rt(I,!0),I.strm.avail_out===0?tr:Ce):I.last_lit&&(rt(I,!1),I.strm.avail_out===0)?Y:ue}function Bt(I,Pt,Dt,F,x){this.good_length=I,this.max_lazy=Pt,this.nice_length=Dt,this.max_chain=F,this.func=x}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*ot),this.dyn_dtree=new b.Buf16(2*(2*z+1)),this.bl_tree=new b.Buf16(2*(2*Z+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(Lt+1),this.heap=new b.Buf16(2*A+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*A+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function re(I){var Pt;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=f,(Pt=I.state).pending=0,Pt.pending_out=0,Pt.wrap<0&&(Pt.wrap=-Pt.wrap),Pt.status=Pt.wrap?Tt:$t,I.adler=Pt.wrap===2?0:1,Pt.last_flush=r,i._tr_init(Pt),t):ct(I,a)}function ae(I){var Pt=re(I);return Pt===t&&function(Dt){Dt.window_size=2*Dt.w_size,et(Dt.head),Dt.max_lazy_match=G[Dt.level].max_lazy,Dt.good_match=G[Dt.level].good_length,Dt.nice_match=G[Dt.level].nice_length,Dt.max_chain_length=G[Dt.level].max_chain,Dt.strstart=0,Dt.block_start=0,Dt.lookahead=0,Dt.insert=0,Dt.match_length=Dt.prev_length=At-1,Dt.match_available=0,Dt.ins_h=0}(I.state),Pt}function qt(I,Pt,Dt,F,x,O){if(!I)return a;var $=1;if(Pt===l&&(Pt=6),F<0?($=0,F=-F):15<F&&($=2,F-=16),x<1||w<x||Dt!==p||F<8||15<F||Pt<0||9<Pt||O<0||s<O)return ct(I,a);F===8&&(F=9);var it=new oe;return(I.state=it).strm=I,it.wrap=$,it.gzhead=null,it.w_bits=F,it.w_size=1<<it.w_bits,it.w_mask=it.w_size-1,it.hash_bits=x+7,it.hash_size=1<<it.hash_bits,it.hash_mask=it.hash_size-1,it.hash_shift=~~((it.hash_bits+At-1)/At),it.window=new b.Buf8(2*it.w_size),it.head=new b.Buf16(it.hash_size),it.prev=new b.Buf16(it.w_size),it.lit_bufsize=1<<x+6,it.pending_buf_size=4*it.lit_bufsize,it.pending_buf=new b.Buf8(it.pending_buf_size),it.d_buf=1*it.lit_bufsize,it.l_buf=3*it.lit_bufsize,it.level=Pt,it.strategy=O,it.method=Dt,ae(I)}G=[new Bt(0,0,0,0,function(I,Pt){var Dt=65535;for(Dt>I.pending_buf_size-5&&(Dt=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ht(I),I.lookahead===0&&Pt===r)return Y;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var F=I.block_start+Dt;if((I.strstart===0||I.strstart>=F)&&(I.lookahead=I.strstart-F,I.strstart=F,rt(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-Le&&(rt(I,!1),I.strm.avail_out===0))return Y}return I.insert=0,Pt===e?(rt(I,!0),I.strm.avail_out===0?tr:Ce):(I.strstart>I.block_start&&(rt(I,!1),I.strm.avail_out),Y)}),new Bt(4,4,8,4,Wt),new Bt(4,5,16,8,Wt),new Bt(4,6,32,32,Wt),new Bt(4,4,16,16,bt),new Bt(8,16,32,32,bt),new Bt(8,16,128,128,bt),new Bt(8,32,128,256,bt),new Bt(32,128,258,1024,bt),new Bt(32,258,258,4096,bt)],wt.deflateInit=function(I,Pt){return qt(I,Pt,p,15,8,0)},wt.deflateInit2=qt,wt.deflateReset=ae,wt.deflateResetKeep=re,wt.deflateSetHeader=function(I,Pt){return I&&I.state?I.state.wrap!==2?a:(I.state.gzhead=Pt,t):a},wt.deflate=function(I,Pt){var Dt,F,x,O;if(!I||!I.state||5<Pt||Pt<0)return I?ct(I,a):a;if(F=I.state,!I.output||!I.input&&I.avail_in!==0||F.status===666&&Pt!==e)return ct(I,I.avail_out===0?-5:a);if(F.strm=I,Dt=F.last_flush,F.last_flush=Pt,F.status===Tt)if(F.wrap===2)I.adler=0,M(F,31),M(F,139),M(F,8),F.gzhead?(M(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),M(F,255&F.gzhead.time),M(F,F.gzhead.time>>8&255),M(F,F.gzhead.time>>16&255),M(F,F.gzhead.time>>24&255),M(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),M(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(M(F,255&F.gzhead.extra.length),M(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(I.adler=u(I.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(M(F,0),M(F,0),M(F,0),M(F,0),M(F,0),M(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),M(F,3),F.status=$t);else{var $=p+(F.w_bits-8<<4)<<8;$|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&($|=32),$+=31-$%31,F.status=$t,Q(F,$),F.strstart!==0&&(Q(F,I.adler>>>16),Q(F,65535&I.adler)),I.adler=1}if(F.status===69)if(F.gzhead.extra){for(x=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>x&&(I.adler=u(I.adler,F.pending_buf,F.pending-x,x)),X(I),x=F.pending,F.pending!==F.pending_buf_size));)M(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>x&&(I.adler=u(I.adler,F.pending_buf,F.pending-x,x)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){x=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>x&&(I.adler=u(I.adler,F.pending_buf,F.pending-x,x)),X(I),x=F.pending,F.pending===F.pending_buf_size)){O=1;break}O=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,M(F,O)}while(O!==0);F.gzhead.hcrc&&F.pending>x&&(I.adler=u(I.adler,F.pending_buf,F.pending-x,x)),O===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){x=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>x&&(I.adler=u(I.adler,F.pending_buf,F.pending-x,x)),X(I),x=F.pending,F.pending===F.pending_buf_size)){O=1;break}O=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,M(F,O)}while(O!==0);F.gzhead.hcrc&&F.pending>x&&(I.adler=u(I.adler,F.pending_buf,F.pending-x,x)),O===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&X(I),F.pending+2<=F.pending_buf_size&&(M(F,255&I.adler),M(F,I.adler>>8&255),I.adler=0,F.status=$t)):F.status=$t),F.pending!==0){if(X(I),I.avail_out===0)return F.last_flush=-1,t}else if(I.avail_in===0&&Ut(Pt)<=Ut(Dt)&&Pt!==e)return ct(I,-5);if(F.status===666&&I.avail_in!==0)return ct(I,-5);if(I.avail_in!==0||F.lookahead!==0||Pt!==r&&F.status!==666){var it=F.strategy===2?function(pt,jt){for(var ke;;){if(pt.lookahead===0&&(ht(pt),pt.lookahead===0)){if(jt===r)return Y;break}if(pt.match_length=0,ke=i._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++,ke&&(rt(pt,!1),pt.strm.avail_out===0))return Y}return pt.insert=0,jt===e?(rt(pt,!0),pt.strm.avail_out===0?tr:Ce):pt.last_lit&&(rt(pt,!1),pt.strm.avail_out===0)?Y:ue}(F,Pt):F.strategy===3?function(pt,jt){for(var ke,Te,De,gr,er=pt.window;;){if(pt.lookahead<=se){if(ht(pt),pt.lookahead<=se&&jt===r)return Y;if(pt.lookahead===0)break}if(pt.match_length=0,pt.lookahead>=At&&0<pt.strstart&&(Te=er[De=pt.strstart-1])===er[++De]&&Te===er[++De]&&Te===er[++De]){gr=pt.strstart+se;do;while(Te===er[++De]&&Te===er[++De]&&Te===er[++De]&&Te===er[++De]&&Te===er[++De]&&Te===er[++De]&&Te===er[++De]&&Te===er[++De]&&De<gr);pt.match_length=se-(gr-De),pt.match_length>pt.lookahead&&(pt.match_length=pt.lookahead)}if(pt.match_length>=At?(ke=i._tr_tally(pt,1,pt.match_length-At),pt.lookahead-=pt.match_length,pt.strstart+=pt.match_length,pt.match_length=0):(ke=i._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++),ke&&(rt(pt,!1),pt.strm.avail_out===0))return Y}return pt.insert=0,jt===e?(rt(pt,!0),pt.strm.avail_out===0?tr:Ce):pt.last_lit&&(rt(pt,!1),pt.strm.avail_out===0)?Y:ue}(F,Pt):G[F.level].func(F,Pt);if(it!==tr&&it!==Ce||(F.status=666),it===Y||it===tr)return I.avail_out===0&&(F.last_flush=-1),t;if(it===ue&&(Pt===1?i._tr_align(F):Pt!==5&&(i._tr_stored_block(F,0,0,!1),Pt===3&&(et(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),X(I),I.avail_out===0))return F.last_flush=-1,t}return Pt!==e?t:F.wrap<=0?1:(F.wrap===2?(M(F,255&I.adler),M(F,I.adler>>8&255),M(F,I.adler>>16&255),M(F,I.adler>>24&255),M(F,255&I.total_in),M(F,I.total_in>>8&255),M(F,I.total_in>>16&255),M(F,I.total_in>>24&255)):(Q(F,I.adler>>>16),Q(F,65535&I.adler)),X(I),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?t:1)},wt.deflateEnd=function(I){var Pt;return I&&I.state?(Pt=I.state.status)!==Tt&&Pt!==69&&Pt!==73&&Pt!==91&&Pt!==103&&Pt!==$t&&Pt!==666?ct(I,a):(I.state=null,Pt===$t?ct(I,-3):t):a},wt.deflateSetDictionary=function(I,Pt){var Dt,F,x,O,$,it,pt,jt,ke=Pt.length;if(!I||!I.state||(O=(Dt=I.state).wrap)===2||O===1&&Dt.status!==Tt||Dt.lookahead)return a;for(O===1&&(I.adler=c(I.adler,Pt,ke,0)),Dt.wrap=0,ke>=Dt.w_size&&(O===0&&(et(Dt.head),Dt.strstart=0,Dt.block_start=0,Dt.insert=0),jt=new b.Buf8(Dt.w_size),b.arraySet(jt,Pt,ke-Dt.w_size,Dt.w_size,0),Pt=jt,ke=Dt.w_size),$=I.avail_in,it=I.next_in,pt=I.input,I.avail_in=ke,I.next_in=0,I.input=Pt,ht(Dt);Dt.lookahead>=At;){for(F=Dt.strstart,x=Dt.lookahead-(At-1);Dt.ins_h=(Dt.ins_h<<Dt.hash_shift^Dt.window[F+At-1])&Dt.hash_mask,Dt.prev[F&Dt.w_mask]=Dt.head[Dt.ins_h],Dt.head[Dt.ins_h]=F,F++,--x;);Dt.strstart=F,Dt.lookahead=At-1,ht(Dt)}return Dt.strstart+=Dt.lookahead,Dt.block_start=Dt.strstart,Dt.insert=Dt.lookahead,Dt.lookahead=0,Dt.match_length=Dt.prev_length=At-1,Dt.match_available=0,I.next_in=it,I.input=pt,I.avail_in=$,Dt.wrap=O,t},wt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(W,Ht,wt){"use strict";Ht.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(W,Ht,wt){"use strict";Ht.exports=function(G,b){var i,c,u,o,r,e,t,a,l,s,f,p,w,A,z,Z,ot,Lt,At,se,Le,Tt,$t,Y,ue;i=G.state,c=G.next_in,Y=G.input,u=c+(G.avail_in-5),o=G.next_out,ue=G.output,r=o-(b-G.avail_out),e=o+(G.avail_out-257),t=i.dmax,a=i.wsize,l=i.whave,s=i.wnext,f=i.window,p=i.hold,w=i.bits,A=i.lencode,z=i.distcode,Z=(1<<i.lenbits)-1,ot=(1<<i.distbits)-1;t:do{w<15&&(p+=Y[c++]<<w,w+=8,p+=Y[c++]<<w,w+=8),Lt=A[p&Z];e:for(;;){if(p>>>=At=Lt>>>24,w-=At,(At=Lt>>>16&255)==0)ue[o++]=65535&Lt;else{if(!(16&At)){if((64&At)==0){Lt=A[(65535&Lt)+(p&(1<<At)-1)];continue e}if(32&At){i.mode=12;break t}G.msg="invalid literal/length code",i.mode=30;break t}se=65535&Lt,(At&=15)&&(w<At&&(p+=Y[c++]<<w,w+=8),se+=p&(1<<At)-1,p>>>=At,w-=At),w<15&&(p+=Y[c++]<<w,w+=8,p+=Y[c++]<<w,w+=8),Lt=z[p&ot];r:for(;;){if(p>>>=At=Lt>>>24,w-=At,!(16&(At=Lt>>>16&255))){if((64&At)==0){Lt=z[(65535&Lt)+(p&(1<<At)-1)];continue r}G.msg="invalid distance code",i.mode=30;break t}if(Le=65535&Lt,w<(At&=15)&&(p+=Y[c++]<<w,(w+=8)<At&&(p+=Y[c++]<<w,w+=8)),t<(Le+=p&(1<<At)-1)){G.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=At,w-=At,(At=o-r)<Le){if(l<(At=Le-At)&&i.sane){G.msg="invalid distance too far back",i.mode=30;break t}if($t=f,(Tt=0)===s){if(Tt+=a-At,At<se){for(se-=At;ue[o++]=f[Tt++],--At;);Tt=o-Le,$t=ue}}else if(s<At){if(Tt+=a+s-At,(At-=s)<se){for(se-=At;ue[o++]=f[Tt++],--At;);if(Tt=0,s<se){for(se-=At=s;ue[o++]=f[Tt++],--At;);Tt=o-Le,$t=ue}}}else if(Tt+=s-At,At<se){for(se-=At;ue[o++]=f[Tt++],--At;);Tt=o-Le,$t=ue}for(;2<se;)ue[o++]=$t[Tt++],ue[o++]=$t[Tt++],ue[o++]=$t[Tt++],se-=3;se&&(ue[o++]=$t[Tt++],1<se&&(ue[o++]=$t[Tt++]))}else{for(Tt=o-Le;ue[o++]=ue[Tt++],ue[o++]=ue[Tt++],ue[o++]=ue[Tt++],2<(se-=3););se&&(ue[o++]=ue[Tt++],1<se&&(ue[o++]=ue[Tt++]))}break}}break}}while(c<u&&o<e);c-=se=w>>3,p&=(1<<(w-=se<<3))-1,G.next_in=c,G.next_out=o,G.avail_in=c<u?u-c+5:5-(c-u),G.avail_out=o<e?e-o+257:257-(o-e),i.hold=p,i.bits=w}},{}],49:[function(W,Ht,wt){"use strict";var G=W("../utils/common"),b=W("./adler32"),i=W("./crc32"),c=W("./inffast"),u=W("./inftrees"),o=1,r=2,e=0,t=-2,a=1,l=852,s=592;function f(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new G.Buf16(320),this.work=new G.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(Tt){var $t;return Tt&&Tt.state?($t=Tt.state,Tt.total_in=Tt.total_out=$t.total=0,Tt.msg="",$t.wrap&&(Tt.adler=1&$t.wrap),$t.mode=a,$t.last=0,$t.havedict=0,$t.dmax=32768,$t.head=null,$t.hold=0,$t.bits=0,$t.lencode=$t.lendyn=new G.Buf32(l),$t.distcode=$t.distdyn=new G.Buf32(s),$t.sane=1,$t.back=-1,e):t}function A(Tt){var $t;return Tt&&Tt.state?(($t=Tt.state).wsize=0,$t.whave=0,$t.wnext=0,w(Tt)):t}function z(Tt,$t){var Y,ue;return Tt&&Tt.state?(ue=Tt.state,$t<0?(Y=0,$t=-$t):(Y=1+($t>>4),$t<48&&($t&=15)),$t&&($t<8||15<$t)?t:(ue.window!==null&&ue.wbits!==$t&&(ue.window=null),ue.wrap=Y,ue.wbits=$t,A(Tt))):t}function Z(Tt,$t){var Y,ue;return Tt?(ue=new p,(Tt.state=ue).window=null,(Y=z(Tt,$t))!==e&&(Tt.state=null),Y):t}var ot,Lt,At=!0;function se(Tt){if(At){var $t;for(ot=new G.Buf32(512),Lt=new G.Buf32(32),$t=0;$t<144;)Tt.lens[$t++]=8;for(;$t<256;)Tt.lens[$t++]=9;for(;$t<280;)Tt.lens[$t++]=7;for(;$t<288;)Tt.lens[$t++]=8;for(u(o,Tt.lens,0,288,ot,0,Tt.work,{bits:9}),$t=0;$t<32;)Tt.lens[$t++]=5;u(r,Tt.lens,0,32,Lt,0,Tt.work,{bits:5}),At=!1}Tt.lencode=ot,Tt.lenbits=9,Tt.distcode=Lt,Tt.distbits=5}function Le(Tt,$t,Y,ue){var tr,Ce=Tt.state;return Ce.window===null&&(Ce.wsize=1<<Ce.wbits,Ce.wnext=0,Ce.whave=0,Ce.window=new G.Buf8(Ce.wsize)),ue>=Ce.wsize?(G.arraySet(Ce.window,$t,Y-Ce.wsize,Ce.wsize,0),Ce.wnext=0,Ce.whave=Ce.wsize):(ue<(tr=Ce.wsize-Ce.wnext)&&(tr=ue),G.arraySet(Ce.window,$t,Y-ue,tr,Ce.wnext),(ue-=tr)?(G.arraySet(Ce.window,$t,Y-ue,ue,0),Ce.wnext=ue,Ce.whave=Ce.wsize):(Ce.wnext+=tr,Ce.wnext===Ce.wsize&&(Ce.wnext=0),Ce.whave<Ce.wsize&&(Ce.whave+=tr))),0}wt.inflateReset=A,wt.inflateReset2=z,wt.inflateResetKeep=w,wt.inflateInit=function(Tt){return Z(Tt,15)},wt.inflateInit2=Z,wt.inflate=function(Tt,$t){var Y,ue,tr,Ce,ct,Ut,et,X,rt,M,Q,ut,ht,Wt,bt,Bt,oe,re,ae,qt,I,Pt,Dt,F,x=0,O=new G.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return t;(Y=Tt.state).mode===12&&(Y.mode=13),ct=Tt.next_out,tr=Tt.output,et=Tt.avail_out,Ce=Tt.next_in,ue=Tt.input,Ut=Tt.avail_in,X=Y.hold,rt=Y.bits,M=Ut,Q=et,Pt=e;t:for(;;)switch(Y.mode){case a:if(Y.wrap===0){Y.mode=13;break}for(;rt<16;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(2&Y.wrap&&X===35615){O[Y.check=0]=255&X,O[1]=X>>>8&255,Y.check=i(Y.check,O,2,0),rt=X=0,Y.mode=2;break}if(Y.flags=0,Y.head&&(Y.head.done=!1),!(1&Y.wrap)||(((255&X)<<8)+(X>>8))%31){Tt.msg="incorrect header check",Y.mode=30;break}if((15&X)!=8){Tt.msg="unknown compression method",Y.mode=30;break}if(rt-=4,I=8+(15&(X>>>=4)),Y.wbits===0)Y.wbits=I;else if(I>Y.wbits){Tt.msg="invalid window size",Y.mode=30;break}Y.dmax=1<<I,Tt.adler=Y.check=1,Y.mode=512&X?10:12,rt=X=0;break;case 2:for(;rt<16;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(Y.flags=X,(255&Y.flags)!=8){Tt.msg="unknown compression method",Y.mode=30;break}if(57344&Y.flags){Tt.msg="unknown header flags set",Y.mode=30;break}Y.head&&(Y.head.text=X>>8&1),512&Y.flags&&(O[0]=255&X,O[1]=X>>>8&255,Y.check=i(Y.check,O,2,0)),rt=X=0,Y.mode=3;case 3:for(;rt<32;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Y.head&&(Y.head.time=X),512&Y.flags&&(O[0]=255&X,O[1]=X>>>8&255,O[2]=X>>>16&255,O[3]=X>>>24&255,Y.check=i(Y.check,O,4,0)),rt=X=0,Y.mode=4;case 4:for(;rt<16;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Y.head&&(Y.head.xflags=255&X,Y.head.os=X>>8),512&Y.flags&&(O[0]=255&X,O[1]=X>>>8&255,Y.check=i(Y.check,O,2,0)),rt=X=0,Y.mode=5;case 5:if(1024&Y.flags){for(;rt<16;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Y.length=X,Y.head&&(Y.head.extra_len=X),512&Y.flags&&(O[0]=255&X,O[1]=X>>>8&255,Y.check=i(Y.check,O,2,0)),rt=X=0}else Y.head&&(Y.head.extra=null);Y.mode=6;case 6:if(1024&Y.flags&&(Ut<(ut=Y.length)&&(ut=Ut),ut&&(Y.head&&(I=Y.head.extra_len-Y.length,Y.head.extra||(Y.head.extra=new Array(Y.head.extra_len)),G.arraySet(Y.head.extra,ue,Ce,ut,I)),512&Y.flags&&(Y.check=i(Y.check,ue,ut,Ce)),Ut-=ut,Ce+=ut,Y.length-=ut),Y.length))break t;Y.length=0,Y.mode=7;case 7:if(2048&Y.flags){if(Ut===0)break t;for(ut=0;I=ue[Ce+ut++],Y.head&&I&&Y.length<65536&&(Y.head.name+=String.fromCharCode(I)),I&&ut<Ut;);if(512&Y.flags&&(Y.check=i(Y.check,ue,ut,Ce)),Ut-=ut,Ce+=ut,I)break t}else Y.head&&(Y.head.name=null);Y.length=0,Y.mode=8;case 8:if(4096&Y.flags){if(Ut===0)break t;for(ut=0;I=ue[Ce+ut++],Y.head&&I&&Y.length<65536&&(Y.head.comment+=String.fromCharCode(I)),I&&ut<Ut;);if(512&Y.flags&&(Y.check=i(Y.check,ue,ut,Ce)),Ut-=ut,Ce+=ut,I)break t}else Y.head&&(Y.head.comment=null);Y.mode=9;case 9:if(512&Y.flags){for(;rt<16;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(X!==(65535&Y.check)){Tt.msg="header crc mismatch",Y.mode=30;break}rt=X=0}Y.head&&(Y.head.hcrc=Y.flags>>9&1,Y.head.done=!0),Tt.adler=Y.check=0,Y.mode=12;break;case 10:for(;rt<32;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Tt.adler=Y.check=f(X),rt=X=0,Y.mode=11;case 11:if(Y.havedict===0)return Tt.next_out=ct,Tt.avail_out=et,Tt.next_in=Ce,Tt.avail_in=Ut,Y.hold=X,Y.bits=rt,2;Tt.adler=Y.check=1,Y.mode=12;case 12:if($t===5||$t===6)break t;case 13:if(Y.last){X>>>=7&rt,rt-=7&rt,Y.mode=27;break}for(;rt<3;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}switch(Y.last=1&X,rt-=1,3&(X>>>=1)){case 0:Y.mode=14;break;case 1:if(se(Y),Y.mode=20,$t!==6)break;X>>>=2,rt-=2;break t;case 2:Y.mode=17;break;case 3:Tt.msg="invalid block type",Y.mode=30}X>>>=2,rt-=2;break;case 14:for(X>>>=7&rt,rt-=7&rt;rt<32;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if((65535&X)!=(X>>>16^65535)){Tt.msg="invalid stored block lengths",Y.mode=30;break}if(Y.length=65535&X,rt=X=0,Y.mode=15,$t===6)break t;case 15:Y.mode=16;case 16:if(ut=Y.length){if(Ut<ut&&(ut=Ut),et<ut&&(ut=et),ut===0)break t;G.arraySet(tr,ue,Ce,ut,ct),Ut-=ut,Ce+=ut,et-=ut,ct+=ut,Y.length-=ut;break}Y.mode=12;break;case 17:for(;rt<14;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(Y.nlen=257+(31&X),X>>>=5,rt-=5,Y.ndist=1+(31&X),X>>>=5,rt-=5,Y.ncode=4+(15&X),X>>>=4,rt-=4,286<Y.nlen||30<Y.ndist){Tt.msg="too many length or distance symbols",Y.mode=30;break}Y.have=0,Y.mode=18;case 18:for(;Y.have<Y.ncode;){for(;rt<3;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Y.lens[$[Y.have++]]=7&X,X>>>=3,rt-=3}for(;Y.have<19;)Y.lens[$[Y.have++]]=0;if(Y.lencode=Y.lendyn,Y.lenbits=7,Dt={bits:Y.lenbits},Pt=u(0,Y.lens,0,19,Y.lencode,0,Y.work,Dt),Y.lenbits=Dt.bits,Pt){Tt.msg="invalid code lengths set",Y.mode=30;break}Y.have=0,Y.mode=19;case 19:for(;Y.have<Y.nlen+Y.ndist;){for(;Bt=(x=Y.lencode[X&(1<<Y.lenbits)-1])>>>16&255,oe=65535&x,!((bt=x>>>24)<=rt);){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(oe<16)X>>>=bt,rt-=bt,Y.lens[Y.have++]=oe;else{if(oe===16){for(F=bt+2;rt<F;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(X>>>=bt,rt-=bt,Y.have===0){Tt.msg="invalid bit length repeat",Y.mode=30;break}I=Y.lens[Y.have-1],ut=3+(3&X),X>>>=2,rt-=2}else if(oe===17){for(F=bt+3;rt<F;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}rt-=bt,I=0,ut=3+(7&(X>>>=bt)),X>>>=3,rt-=3}else{for(F=bt+7;rt<F;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}rt-=bt,I=0,ut=11+(127&(X>>>=bt)),X>>>=7,rt-=7}if(Y.have+ut>Y.nlen+Y.ndist){Tt.msg="invalid bit length repeat",Y.mode=30;break}for(;ut--;)Y.lens[Y.have++]=I}}if(Y.mode===30)break;if(Y.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",Y.mode=30;break}if(Y.lenbits=9,Dt={bits:Y.lenbits},Pt=u(o,Y.lens,0,Y.nlen,Y.lencode,0,Y.work,Dt),Y.lenbits=Dt.bits,Pt){Tt.msg="invalid literal/lengths set",Y.mode=30;break}if(Y.distbits=6,Y.distcode=Y.distdyn,Dt={bits:Y.distbits},Pt=u(r,Y.lens,Y.nlen,Y.ndist,Y.distcode,0,Y.work,Dt),Y.distbits=Dt.bits,Pt){Tt.msg="invalid distances set",Y.mode=30;break}if(Y.mode=20,$t===6)break t;case 20:Y.mode=21;case 21:if(6<=Ut&&258<=et){Tt.next_out=ct,Tt.avail_out=et,Tt.next_in=Ce,Tt.avail_in=Ut,Y.hold=X,Y.bits=rt,c(Tt,Q),ct=Tt.next_out,tr=Tt.output,et=Tt.avail_out,Ce=Tt.next_in,ue=Tt.input,Ut=Tt.avail_in,X=Y.hold,rt=Y.bits,Y.mode===12&&(Y.back=-1);break}for(Y.back=0;Bt=(x=Y.lencode[X&(1<<Y.lenbits)-1])>>>16&255,oe=65535&x,!((bt=x>>>24)<=rt);){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(Bt&&(240&Bt)==0){for(re=bt,ae=Bt,qt=oe;Bt=(x=Y.lencode[qt+((X&(1<<re+ae)-1)>>re)])>>>16&255,oe=65535&x,!(re+(bt=x>>>24)<=rt);){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}X>>>=re,rt-=re,Y.back+=re}if(X>>>=bt,rt-=bt,Y.back+=bt,Y.length=oe,Bt===0){Y.mode=26;break}if(32&Bt){Y.back=-1,Y.mode=12;break}if(64&Bt){Tt.msg="invalid literal/length code",Y.mode=30;break}Y.extra=15&Bt,Y.mode=22;case 22:if(Y.extra){for(F=Y.extra;rt<F;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Y.length+=X&(1<<Y.extra)-1,X>>>=Y.extra,rt-=Y.extra,Y.back+=Y.extra}Y.was=Y.length,Y.mode=23;case 23:for(;Bt=(x=Y.distcode[X&(1<<Y.distbits)-1])>>>16&255,oe=65535&x,!((bt=x>>>24)<=rt);){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if((240&Bt)==0){for(re=bt,ae=Bt,qt=oe;Bt=(x=Y.distcode[qt+((X&(1<<re+ae)-1)>>re)])>>>16&255,oe=65535&x,!(re+(bt=x>>>24)<=rt);){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}X>>>=re,rt-=re,Y.back+=re}if(X>>>=bt,rt-=bt,Y.back+=bt,64&Bt){Tt.msg="invalid distance code",Y.mode=30;break}Y.offset=oe,Y.extra=15&Bt,Y.mode=24;case 24:if(Y.extra){for(F=Y.extra;rt<F;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}Y.offset+=X&(1<<Y.extra)-1,X>>>=Y.extra,rt-=Y.extra,Y.back+=Y.extra}if(Y.offset>Y.dmax){Tt.msg="invalid distance too far back",Y.mode=30;break}Y.mode=25;case 25:if(et===0)break t;if(ut=Q-et,Y.offset>ut){if((ut=Y.offset-ut)>Y.whave&&Y.sane){Tt.msg="invalid distance too far back",Y.mode=30;break}ht=ut>Y.wnext?(ut-=Y.wnext,Y.wsize-ut):Y.wnext-ut,ut>Y.length&&(ut=Y.length),Wt=Y.window}else Wt=tr,ht=ct-Y.offset,ut=Y.length;for(et<ut&&(ut=et),et-=ut,Y.length-=ut;tr[ct++]=Wt[ht++],--ut;);Y.length===0&&(Y.mode=21);break;case 26:if(et===0)break t;tr[ct++]=Y.length,et--,Y.mode=21;break;case 27:if(Y.wrap){for(;rt<32;){if(Ut===0)break t;Ut--,X|=ue[Ce++]<<rt,rt+=8}if(Q-=et,Tt.total_out+=Q,Y.total+=Q,Q&&(Tt.adler=Y.check=Y.flags?i(Y.check,tr,Q,ct-Q):b(Y.check,tr,Q,ct-Q)),Q=et,(Y.flags?X:f(X))!==Y.check){Tt.msg="incorrect data check",Y.mode=30;break}rt=X=0}Y.mode=28;case 28:if(Y.wrap&&Y.flags){for(;rt<32;){if(Ut===0)break t;Ut--,X+=ue[Ce++]<<rt,rt+=8}if(X!==(4294967295&Y.total)){Tt.msg="incorrect length check",Y.mode=30;break}rt=X=0}Y.mode=29;case 29:Pt=1;break t;case 30:Pt=-3;break t;case 31:return-4;case 32:default:return t}return Tt.next_out=ct,Tt.avail_out=et,Tt.next_in=Ce,Tt.avail_in=Ut,Y.hold=X,Y.bits=rt,(Y.wsize||Q!==Tt.avail_out&&Y.mode<30&&(Y.mode<27||$t!==4))&&Le(Tt,Tt.output,Tt.next_out,Q-Tt.avail_out)?(Y.mode=31,-4):(M-=Tt.avail_in,Q-=Tt.avail_out,Tt.total_in+=M,Tt.total_out+=Q,Y.total+=Q,Y.wrap&&Q&&(Tt.adler=Y.check=Y.flags?i(Y.check,tr,Q,Tt.next_out-Q):b(Y.check,tr,Q,Tt.next_out-Q)),Tt.data_type=Y.bits+(Y.last?64:0)+(Y.mode===12?128:0)+(Y.mode===20||Y.mode===15?256:0),(M==0&&Q===0||$t===4)&&Pt===e&&(Pt=-5),Pt)},wt.inflateEnd=function(Tt){if(!Tt||!Tt.state)return t;var $t=Tt.state;return $t.window&&($t.window=null),Tt.state=null,e},wt.inflateGetHeader=function(Tt,$t){var Y;return Tt&&Tt.state?(2&(Y=Tt.state).wrap)==0?t:((Y.head=$t).done=!1,e):t},wt.inflateSetDictionary=function(Tt,$t){var Y,ue=$t.length;return Tt&&Tt.state?(Y=Tt.state).wrap!==0&&Y.mode!==11?t:Y.mode===11&&b(1,$t,ue,0)!==Y.check?-3:Le(Tt,$t,ue,ue)?(Y.mode=31,-4):(Y.havedict=1,e):t},wt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(W,Ht,wt){"use strict";var G=W("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ht.exports=function(o,r,e,t,a,l,s,f){var p,w,A,z,Z,ot,Lt,At,se,Le=f.bits,Tt=0,$t=0,Y=0,ue=0,tr=0,Ce=0,ct=0,Ut=0,et=0,X=0,rt=null,M=0,Q=new G.Buf16(16),ut=new G.Buf16(16),ht=null,Wt=0;for(Tt=0;Tt<=15;Tt++)Q[Tt]=0;for($t=0;$t<t;$t++)Q[r[e+$t]]++;for(tr=Le,ue=15;1<=ue&&Q[ue]===0;ue--);if(ue<tr&&(tr=ue),ue===0)return a[l++]=20971520,a[l++]=20971520,f.bits=1,0;for(Y=1;Y<ue&&Q[Y]===0;Y++);for(tr<Y&&(tr=Y),Tt=Ut=1;Tt<=15;Tt++)if(Ut<<=1,(Ut-=Q[Tt])<0)return-1;if(0<Ut&&(o===0||ue!==1))return-1;for(ut[1]=0,Tt=1;Tt<15;Tt++)ut[Tt+1]=ut[Tt]+Q[Tt];for($t=0;$t<t;$t++)r[e+$t]!==0&&(s[ut[r[e+$t]]++]=$t);if(ot=o===0?(rt=ht=s,19):o===1?(rt=b,M-=257,ht=i,Wt-=257,256):(rt=c,ht=u,-1),Tt=Y,Z=l,ct=$t=X=0,A=-1,z=(et=1<<(Ce=tr))-1,o===1&&852<et||o===2&&592<et)return 1;for(;;){for(Lt=Tt-ct,se=s[$t]<ot?(At=0,s[$t]):s[$t]>ot?(At=ht[Wt+s[$t]],rt[M+s[$t]]):(At=96,0),p=1<<Tt-ct,Y=w=1<<Ce;a[Z+(X>>ct)+(w-=p)]=Lt<<24|At<<16|se|0,w!==0;);for(p=1<<Tt-1;X&p;)p>>=1;if(p!==0?(X&=p-1,X+=p):X=0,$t++,--Q[Tt]==0){if(Tt===ue)break;Tt=r[e+s[$t]]}if(tr<Tt&&(X&z)!==A){for(ct===0&&(ct=tr),Z+=Y,Ut=1<<(Ce=Tt-ct);Ce+ct<ue&&!((Ut-=Q[Ce+ct])<=0);)Ce++,Ut<<=1;if(et+=1<<Ce,o===1&&852<et||o===2&&592<et)return 1;a[A=X&z]=tr<<24|Ce<<16|Z-l|0}}return X!==0&&(a[Z+X]=Tt-ct<<24|64<<16|0),f.bits=tr,0}},{"../utils/common":41}],51:[function(W,Ht,wt){"use strict";Ht.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(W,Ht,wt){"use strict";var G=W("../utils/common"),b=0,i=1;function c(x){for(var O=x.length;0<=--O;)x[O]=0}var u=0,o=29,r=256,e=r+1+o,t=30,a=19,l=2*e+1,s=15,f=16,p=7,w=256,A=16,z=17,Z=18,ot=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Lt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],At=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Le=new Array(2*(e+2));c(Le);var Tt=new Array(2*t);c(Tt);var $t=new Array(512);c($t);var Y=new Array(256);c(Y);var ue=new Array(o);c(ue);var tr,Ce,ct,Ut=new Array(t);function et(x,O,$,it,pt){this.static_tree=x,this.extra_bits=O,this.extra_base=$,this.elems=it,this.max_length=pt,this.has_stree=x&&x.length}function X(x,O){this.dyn_tree=x,this.max_code=0,this.stat_desc=O}function rt(x){return x<256?$t[x]:$t[256+(x>>>7)]}function M(x,O){x.pending_buf[x.pending++]=255&O,x.pending_buf[x.pending++]=O>>>8&255}function Q(x,O,$){x.bi_valid>f-$?(x.bi_buf|=O<<x.bi_valid&65535,M(x,x.bi_buf),x.bi_buf=O>>f-x.bi_valid,x.bi_valid+=$-f):(x.bi_buf|=O<<x.bi_valid&65535,x.bi_valid+=$)}function ut(x,O,$){Q(x,$[2*O],$[2*O+1])}function ht(x,O){for(var $=0;$|=1&x,x>>>=1,$<<=1,0<--O;);return $>>>1}function Wt(x,O,$){var it,pt,jt=new Array(s+1),ke=0;for(it=1;it<=s;it++)jt[it]=ke=ke+$[it-1]<<1;for(pt=0;pt<=O;pt++){var Te=x[2*pt+1];Te!==0&&(x[2*pt]=ht(jt[Te]++,Te))}}function bt(x){var O;for(O=0;O<e;O++)x.dyn_ltree[2*O]=0;for(O=0;O<t;O++)x.dyn_dtree[2*O]=0;for(O=0;O<a;O++)x.bl_tree[2*O]=0;x.dyn_ltree[2*w]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function Bt(x){8<x.bi_valid?M(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function oe(x,O,$,it){var pt=2*O,jt=2*$;return x[pt]<x[jt]||x[pt]===x[jt]&&it[O]<=it[$]}function re(x,O,$){for(var it=x.heap[$],pt=$<<1;pt<=x.heap_len&&(pt<x.heap_len&&oe(O,x.heap[pt+1],x.heap[pt],x.depth)&&pt++,!oe(O,it,x.heap[pt],x.depth));)x.heap[$]=x.heap[pt],$=pt,pt<<=1;x.heap[$]=it}function ae(x,O,$){var it,pt,jt,ke,Te=0;if(x.last_lit!==0)for(;it=x.pending_buf[x.d_buf+2*Te]<<8|x.pending_buf[x.d_buf+2*Te+1],pt=x.pending_buf[x.l_buf+Te],Te++,it===0?ut(x,pt,O):(ut(x,(jt=Y[pt])+r+1,O),(ke=ot[jt])!==0&&Q(x,pt-=ue[jt],ke),ut(x,jt=rt(--it),$),(ke=Lt[jt])!==0&&Q(x,it-=Ut[jt],ke)),Te<x.last_lit;);ut(x,w,O)}function qt(x,O){var $,it,pt,jt=O.dyn_tree,ke=O.stat_desc.static_tree,Te=O.stat_desc.has_stree,De=O.stat_desc.elems,gr=-1;for(x.heap_len=0,x.heap_max=l,$=0;$<De;$++)jt[2*$]!==0?(x.heap[++x.heap_len]=gr=$,x.depth[$]=0):jt[2*$+1]=0;for(;x.heap_len<2;)jt[2*(pt=x.heap[++x.heap_len]=gr<2?++gr:0)]=1,x.depth[pt]=0,x.opt_len--,Te&&(x.static_len-=ke[2*pt+1]);for(O.max_code=gr,$=x.heap_len>>1;1<=$;$--)re(x,jt,$);for(pt=De;$=x.heap[1],x.heap[1]=x.heap[x.heap_len--],re(x,jt,1),it=x.heap[1],x.heap[--x.heap_max]=$,x.heap[--x.heap_max]=it,jt[2*pt]=jt[2*$]+jt[2*it],x.depth[pt]=(x.depth[$]>=x.depth[it]?x.depth[$]:x.depth[it])+1,jt[2*$+1]=jt[2*it+1]=pt,x.heap[1]=pt++,re(x,jt,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(er,Hr){var Jr,on,Dn,hn,wn,Wn,Xn=Hr.dyn_tree,Si=Hr.max_code,Ii=Hr.stat_desc.static_tree,ni=Hr.stat_desc.has_stree,Ea=Hr.stat_desc.extra_bits,Ir=Hr.stat_desc.extra_base,Ni=Hr.stat_desc.max_length,Fa=0;for(hn=0;hn<=s;hn++)er.bl_count[hn]=0;for(Xn[2*er.heap[er.heap_max]+1]=0,Jr=er.heap_max+1;Jr<l;Jr++)Ni<(hn=Xn[2*Xn[2*(on=er.heap[Jr])+1]+1]+1)&&(hn=Ni,Fa++),Xn[2*on+1]=hn,Si<on||(er.bl_count[hn]++,wn=0,Ir<=on&&(wn=Ea[on-Ir]),Wn=Xn[2*on],er.opt_len+=Wn*(hn+wn),ni&&(er.static_len+=Wn*(Ii[2*on+1]+wn)));if(Fa!==0){do{for(hn=Ni-1;er.bl_count[hn]===0;)hn--;er.bl_count[hn]--,er.bl_count[hn+1]+=2,er.bl_count[Ni]--,Fa-=2}while(0<Fa);for(hn=Ni;hn!==0;hn--)for(on=er.bl_count[hn];on!==0;)Si<(Dn=er.heap[--Jr])||(Xn[2*Dn+1]!==hn&&(er.opt_len+=(hn-Xn[2*Dn+1])*Xn[2*Dn],Xn[2*Dn+1]=hn),on--)}}(x,O),Wt(jt,gr,x.bl_count)}function I(x,O,$){var it,pt,jt=-1,ke=O[1],Te=0,De=7,gr=4;for(ke===0&&(De=138,gr=3),O[2*($+1)+1]=65535,it=0;it<=$;it++)pt=ke,ke=O[2*(it+1)+1],++Te<De&&pt===ke||(Te<gr?x.bl_tree[2*pt]+=Te:pt!==0?(pt!==jt&&x.bl_tree[2*pt]++,x.bl_tree[2*A]++):Te<=10?x.bl_tree[2*z]++:x.bl_tree[2*Z]++,jt=pt,gr=(Te=0)===ke?(De=138,3):pt===ke?(De=6,3):(De=7,4))}function Pt(x,O,$){var it,pt,jt=-1,ke=O[1],Te=0,De=7,gr=4;for(ke===0&&(De=138,gr=3),it=0;it<=$;it++)if(pt=ke,ke=O[2*(it+1)+1],!(++Te<De&&pt===ke)){if(Te<gr)for(;ut(x,pt,x.bl_tree),--Te!=0;);else pt!==0?(pt!==jt&&(ut(x,pt,x.bl_tree),Te--),ut(x,A,x.bl_tree),Q(x,Te-3,2)):Te<=10?(ut(x,z,x.bl_tree),Q(x,Te-3,3)):(ut(x,Z,x.bl_tree),Q(x,Te-11,7));jt=pt,gr=(Te=0)===ke?(De=138,3):pt===ke?(De=6,3):(De=7,4)}}c(Ut);var Dt=!1;function F(x,O,$,it){Q(x,(u<<1)+(it?1:0),3),function(pt,jt,ke,Te){Bt(pt),Te&&(M(pt,ke),M(pt,~ke)),G.arraySet(pt.pending_buf,pt.window,jt,ke,pt.pending),pt.pending+=ke}(x,O,$,!0)}wt._tr_init=function(x){Dt||(function(){var O,$,it,pt,jt,ke=new Array(s+1);for(pt=it=0;pt<o-1;pt++)for(ue[pt]=it,O=0;O<1<<ot[pt];O++)Y[it++]=pt;for(Y[it-1]=pt,pt=jt=0;pt<16;pt++)for(Ut[pt]=jt,O=0;O<1<<Lt[pt];O++)$t[jt++]=pt;for(jt>>=7;pt<t;pt++)for(Ut[pt]=jt<<7,O=0;O<1<<Lt[pt]-7;O++)$t[256+jt++]=pt;for($=0;$<=s;$++)ke[$]=0;for(O=0;O<=143;)Le[2*O+1]=8,O++,ke[8]++;for(;O<=255;)Le[2*O+1]=9,O++,ke[9]++;for(;O<=279;)Le[2*O+1]=7,O++,ke[7]++;for(;O<=287;)Le[2*O+1]=8,O++,ke[8]++;for(Wt(Le,e+1,ke),O=0;O<t;O++)Tt[2*O+1]=5,Tt[2*O]=ht(O,5);tr=new et(Le,ot,r+1,e,s),Ce=new et(Tt,Lt,0,t,s),ct=new et(new Array(0),At,0,a,p)}(),Dt=!0),x.l_desc=new X(x.dyn_ltree,tr),x.d_desc=new X(x.dyn_dtree,Ce),x.bl_desc=new X(x.bl_tree,ct),x.bi_buf=0,x.bi_valid=0,bt(x)},wt._tr_stored_block=F,wt._tr_flush_block=function(x,O,$,it){var pt,jt,ke=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(Te){var De,gr=4093624447;for(De=0;De<=31;De++,gr>>>=1)if(1&gr&&Te.dyn_ltree[2*De]!==0)return b;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return i;for(De=32;De<r;De++)if(Te.dyn_ltree[2*De]!==0)return i;return b}(x)),qt(x,x.l_desc),qt(x,x.d_desc),ke=function(Te){var De;for(I(Te,Te.dyn_ltree,Te.l_desc.max_code),I(Te,Te.dyn_dtree,Te.d_desc.max_code),qt(Te,Te.bl_desc),De=a-1;3<=De&&Te.bl_tree[2*se[De]+1]===0;De--);return Te.opt_len+=3*(De+1)+5+5+4,De}(x),pt=x.opt_len+3+7>>>3,(jt=x.static_len+3+7>>>3)<=pt&&(pt=jt)):pt=jt=$+5,$+4<=pt&&O!==-1?F(x,O,$,it):x.strategy===4||jt===pt?(Q(x,2+(it?1:0),3),ae(x,Le,Tt)):(Q(x,4+(it?1:0),3),function(Te,De,gr,er){var Hr;for(Q(Te,De-257,5),Q(Te,gr-1,5),Q(Te,er-4,4),Hr=0;Hr<er;Hr++)Q(Te,Te.bl_tree[2*se[Hr]+1],3);Pt(Te,Te.dyn_ltree,De-1),Pt(Te,Te.dyn_dtree,gr-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,ke+1),ae(x,x.dyn_ltree,x.dyn_dtree)),bt(x),it&&Bt(x)},wt._tr_tally=function(x,O,$){return x.pending_buf[x.d_buf+2*x.last_lit]=O>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&O,x.pending_buf[x.l_buf+x.last_lit]=255&$,x.last_lit++,O===0?x.dyn_ltree[2*$]++:(x.matches++,O--,x.dyn_ltree[2*(Y[$]+r+1)]++,x.dyn_dtree[2*rt(O)]++),x.last_lit===x.lit_bufsize-1},wt._tr_align=function(x){Q(x,2,3),ut(x,w,Le),function(O){O.bi_valid===16?(M(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(W,Ht,wt){"use strict";Ht.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(W,Ht,wt){"use strict";Ht.exports=typeof setImmediate=="function"?setImmediate:function(){var G=[].slice.apply(arguments);G.splice(1,0,0),setTimeout.apply(null,G)}},{}]},{},[10])(10)})}).call(this,Ne("tjlA").Buffer,Ne("IyRk"))},"yj/a":function(un,_r,Ne){"use strict";var Ke=Ne("wx14"),L=Ne("VTBJ"),le=Ne("Ff2n"),W=Ne("q1tI"),Ht=Ne.n(W),wt=Ne("adzw"),G=Ne("uX+g"),b=Ne("lS/g"),i=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],u=Ht.a.forwardRef(function(a,l){var s=a.fieldProps,f=a.children,p=a.params,w=a.proFieldProps,A=a.mode,z=a.valueEnum,Z=a.request,ot=a.showSearch,Lt=a.options,At=Object(le.a)(a,i),se=Object(W.useContext)(b.a);return Ht.a.createElement(wt.a,Object(Ke.a)({mode:"edit",valueEnum:Object(G.a)(z),request:Z,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(L.a)({options:Lt,mode:A,showSearch:ot,getPopupContainer:se.getPopupContainer},s),ref:l,proFieldProps:w},At),f)}),o=Ht.a.forwardRef(function(a,l){var s=a.fieldProps,f=a.children,p=a.params,w=a.proFieldProps,A=a.mode,z=a.valueEnum,Z=a.request,ot=a.options,Lt=Object(le.a)(a,c),At=Object(L.a)({options:ot,mode:A||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},s),se=Object(W.useContext)(b.a);return Ht.a.createElement(wt.a,Object(Ke.a)({mode:"edit",valueEnum:Object(G.a)(z),request:Z,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(L.a)({getPopupContainer:se.getPopupContainer},At),ref:l,proFieldProps:w},Lt),f)}),r=u,e=o,t=r;t.SearchSelect=e,t.displayName="ProFormComponent",_r.a=t}}]);
