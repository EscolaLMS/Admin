(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"2ult":function(V,E,e){"use strict";var _=e("OaEy"),i=e("2fM7"),f=e("T2oS"),v=e("W9HT"),W=e("oBTY"),A=e("tJVT"),P=e("q1tI"),U=e.n(P),K=e("ri8c"),p=e("9kvl"),M=e("nKUr"),R=e.n(M),O=function(c){var m=c.value,I=c.onChange,x=c.onSelect,y=c.onDeselect,F=c.onClear,n=c.loading,a=c.disabled,s=c.multiple,D=s===void 0?!1:s,t=Object(P.useState)([]),d=Object(A.a)(t,2),G=d[0],Q=d[1],Y=Object(P.useState)(!1),r=Object(A.a)(Y,2),k=r[0],N=r[1],w=Object(P.useRef)(),j=Object(P.useRef)(),S=Object(P.useCallback)(function(o){Q(function(C){return[].concat(Object(W.a)(C),Object(W.a)(o)).filter(function(T,b,z){return z.findIndex(function(X){return X.id===T.id})===b})})},[]);Object(P.useEffect)(function(){w.current=G},[G]);var $=Object(P.useCallback)(function(o){N(!0),j.current&&j.current.abort(),j.current=new AbortController,Object(K.g)({search:o},{signal:j.current.signal}).then(function(C){C.success&&S(C.data),N(!1)}).catch(function(){return N(!1)})},[S]),H=Object(P.useCallback)(function(o){$(o)},[$]);return Object(P.useEffect)(function(){var o=new AbortController;if(m){var C=Array.isArray(m)?m:[m];C.filter(function(T){var b;return!((b=w.current)!==null&&b!==void 0&&b.find(function(z){return z.id===T}))}).forEach(function(T){Object(K.f)(Number(T),{signal:o.signal}).then(function(b){b&&b.success&&S([b.data])})})}return function(){o.abort()}},[m,S]),Object(M.jsx)(i.a,{onSelect:x,onDeselect:y,onClear:F,loading:n,disabled:a,onFocus:function(){return $()},allowClear:!0,style:{width:"100%"},value:m,onChange:I,mode:D?"multiple":void 0,showSearch:!0,onSearch:H,placeholder:Object(M.jsx)(p.a,{id:"select_user_group",defaultMessage:"Select user group"}),optionFilterProp:"children",filterOption:function(C,T){if(T&&T.children){var b;return(T==null||(b=T.children)===null||b===void 0?void 0:b.toString().toLowerCase().indexOf(C.toLowerCase()))>=0}return!0},notFoundContent:k?Object(M.jsx)(v.a,{size:"small"}):null,children:G.map(function(o){return Object(M.jsx)(i.a.Option,{value:o.id,children:o.name_with_breadcrumbs},o.id)})})};E.a=O},"F/zT":function(V,E,e){"use strict";var _=e("VTBJ"),i=e("Ff2n"),f=e("nKUr"),v=e.n(f),W=e("q1tI"),A=e.n(W),P=e("adzw"),U=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],K=A.a.forwardRef(function(p,M){var R=p.fieldProps,O=p.unCheckedChildren,l=p.checkedChildren,c=p.proFieldProps,m=Object(i.a)(p,U);return Object(f.jsx)(P.a,Object(_.a)({valueType:"switch",fieldProps:Object(_.a)({unCheckedChildren:O,checkedChildren:l},R),ref:M,valuePropName:"checked",proFieldProps:c,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},m))});E.a=K},Qurx:function(V,E,e){"use strict";var _=e("VTBJ"),i=e("Ff2n"),f=e("nKUr"),v=e.n(f),W=e("adzw"),A=["fieldProps","proFieldProps"],P=["fieldProps","proFieldProps"],U="text",K=function(O){var l=O.fieldProps,c=O.proFieldProps,m=Object(i.a)(O,A);return Object(f.jsx)(W.a,Object(_.a)({valueType:U,fieldProps:l,filedConfig:{valueType:U},proFieldProps:c},m))},p=function(O){var l=O.fieldProps,c=O.proFieldProps,m=Object(i.a)(O,P);return Object(f.jsx)(W.a,Object(_.a)({valueType:"password",fieldProps:l,proFieldProps:c,filedConfig:{valueType:U}},m))},M=K;M.Password=p,M.displayName="ProFormComponent",E.a=M},UNho:function(V,E,e){"use strict";e.r(E);var _=e("Mwp2"),i=e("VXEj"),f=e("+L6B"),v=e("2/Rp"),W=e("/zsF"),A=e("PArb"),P=e("tU7J"),U=e("wFql"),K=e("T2oS"),p=e("W9HT"),M=e("miYZ"),R=e("tsqr"),O=e("qLMh"),l=e("k1fw"),c=e("9og8"),m=e("tJVT"),I=e("q1tI"),x=e.n(I),y=e("VMEa"),F=e("Qurx"),n=e("F/zT"),a=e("nhC9"),s=e("ri8c"),D=e("tMyG"),t=e("9kvl"),d=e("Ty5D"),G=e("/MfK"),Q=e("0WSk"),Y=e("2ult"),r=e("nKUr"),k=e.n(r);E.default=function(){var N=Object(t.l)(),w=Object(d.l)(),j=w.group,S=j==="new",$=Object(I.useState)(),H=Object(m.a)($,2),o=H[0],C=H[1],T=Object(I.useCallback)(Object(c.a)(Object(O.a)().mark(function g(){var u;return Object(O.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(s.f)(Number(j));case 2:u=L.sent,u.success&&C(Object(l.a)({},u.data));case 4:case"end":return L.stop()}},g)})),[j]),b=Object(I.useCallback)(function(g){C(function(u){var h;return Object(l.a)(Object(l.a)({},u),{},{users:u?u==null||(h=u.users)===null||h===void 0?void 0:h.filter(function(L){return L.id!==g}):[]})}),Object(s.d)(Number(j),g).then(function(u){u.success&&C(function(h){return Object(l.a)(Object(l.a)({},h),{},{users:u.data})})})},[j]),z=Object(I.useCallback)(function(g){var u;!g||o!=null&&(u=o.users)!==null&&u!==void 0&&u.find(function(h){return h.id===g})||Object(s.a)(Number(j),g).then(function(h){h.success&&C(function(L){return Object(l.a)(Object(l.a)({},L),{},{users:h.data})})})},[o,j]);Object(I.useEffect)(function(){if(j==="new"){C({});return}T()},[j,T]);var X=Object(I.useMemo)(function(){return{onFinish:function(){var g=Object(c.a)(Object(O.a)().mark(function h(L){var J,Z;return Object(O.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(Z=Object(l.a)({},L),j!=="new"){B.next=8;break}return B.next=4,Object(s.b)(Z);case 4:J=B.sent,J.success&&t.f.push("/users/groups/".concat(J.data.id)),B.next=11;break;case 8:return B.next=10,Object(s.e)(Number(j),Z);case 10:J=B.sent;case 11:R.b.success(J.message);case 12:case"end":return B.stop()}},h)}));function u(h){return g.apply(this,arguments)}return u}(),initialValues:o}},[o,j]);return o?Object(r.jsx)(D.a,{title:S?Object(r.jsx)(t.a,{id:"new_user_group"}):Object(r.jsx)(t.a,{id:"edit_user_group"}),children:Object(r.jsx)(a.a,{children:Object(r.jsxs)(y.a,Object(l.a)(Object(l.a)({},X),{},{children:[Object(r.jsxs)(y.a.Group,{children:[Object(r.jsx)(F.a,{width:"md",name:"name",label:Object(r.jsx)(t.a,{id:"name"}),tooltip:Object(r.jsx)(t.a,{id:"name"}),placeholder:N.formatMessage({id:"name"}),required:!0}),Object(r.jsx)(y.a.Item,{style:{minWidth:"300px"},name:"parent_id",label:Object(r.jsx)(t.a,{id:"parent_id_group",defaultMessage:"parent_id_group"}),valuePropName:"value",children:Object(r.jsx)(Y.a,{})}),Object(r.jsx)(n.a,{name:"registerable",label:Object(r.jsx)(t.a,{id:"registerable"})})]}),j!=="new"&&Object(r.jsxs)(x.a.Fragment,{children:[Object(r.jsxs)(y.a.Group,{children:[Object(r.jsx)(U.a,{children:Object(r.jsx)(t.a,{id:"add_person_to_group",defaultMessage:"Add User to group"})}),Object(r.jsx)(Q.a,{onChange:function(u){return z(Number(u))}})]}),Object(r.jsx)(A.a,{}),Object(r.jsx)(i.b,{size:"small",itemLayout:"horizontal",dataSource:o.users,renderItem:function(u){return Object(r.jsxs)(i.b.Item,{actions:[Object(r.jsxs)(v.a,{onClick:function(){return b(u.id)},type:"primary",icon:Object(r.jsx)(G.a,{}),size:"small",danger:!0,children:[" ",Object(r.jsx)(t.a,{id:"delete"})]},"delete")],children:[u.first_name," ",u.last_name," ",Object(r.jsx)("small",{children:u.email})]})}})]}),Object(r.jsx)(A.a,{})]}))})}):Object(r.jsx)(p.a,{})}},ri8c:function(V,E,e){"use strict";e.d(E,"g",function(){return W}),e.d(E,"f",function(){return P}),e.d(E,"e",function(){return K}),e.d(E,"b",function(){return M}),e.d(E,"c",function(){return O}),e.d(E,"a",function(){return c}),e.d(E,"d",function(){return I}),e.d(E,"h",function(){return y});var _=e("qLMh"),i=e("k1fw"),f=e("9og8"),v=e("9kvl");function W(n,a){return A.apply(this,arguments)}function A(){return A=Object(f.a)(Object(_.a)().mark(function n(a,s){return Object(_.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.i)("/api/admin/user-groups",Object(i.a)({params:a,method:"GET",useCache:!1},s||{})));case 1:case"end":return t.stop()}},n)})),A.apply(this,arguments)}function P(n,a){return U.apply(this,arguments)}function U(){return U=Object(f.a)(Object(_.a)().mark(function n(a,s){return Object(_.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.i)("/api/admin/user-groups/".concat(a),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return t.stop()}},n)})),U.apply(this,arguments)}function K(n,a,s){return p.apply(this,arguments)}function p(){return p=Object(f.a)(Object(_.a)().mark(function n(a,s,D){return Object(_.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(v.i)("/api/admin/user-groups/".concat(a),Object(i.a)({data:s,method:"PUT"},D||{})));case 1:case"end":return d.stop()}},n)})),p.apply(this,arguments)}function M(n,a){return R.apply(this,arguments)}function R(){return R=Object(f.a)(Object(_.a)().mark(function n(a,s){return Object(_.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.i)("/api/admin/user-groups",Object(i.a)({data:a,method:"POST"},s||{})));case 1:case"end":return t.stop()}},n)})),R.apply(this,arguments)}function O(n,a){return l.apply(this,arguments)}function l(){return l=Object(f.a)(Object(_.a)().mark(function n(a,s){return Object(_.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.i)("/api/admin/user-groups/".concat(a),Object(i.a)({method:"DELETE"},s||{})));case 1:case"end":return t.stop()}},n)})),l.apply(this,arguments)}function c(n,a,s){return m.apply(this,arguments)}function m(){return m=Object(f.a)(Object(_.a)().mark(function n(a,s,D){return Object(_.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(v.i)("/api/admin/user-groups/".concat(a,"/members"),Object(i.a)({data:{user_id:s},method:"POST"},D||{})));case 1:case"end":return d.stop()}},n)})),m.apply(this,arguments)}function I(n,a,s){return x.apply(this,arguments)}function x(){return x=Object(f.a)(Object(_.a)().mark(function n(a,s,D){return Object(_.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(v.i)("/api/admin/user-groups/".concat(a,"/members/").concat(s),Object(i.a)({method:"DELETE"},D||{})));case 1:case"end":return d.stop()}},n)})),x.apply(this,arguments)}function y(n,a){return F.apply(this,arguments)}function F(){return F=Object(f.a)(Object(_.a)().mark(function n(a,s){return Object(_.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(v.i)("/api/admin/user-groups/tree",Object(i.a)({params:a,method:"GET"},s||{})));case 1:case"end":return t.stop()}},n)})),F.apply(this,arguments)}}}]);
