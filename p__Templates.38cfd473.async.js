(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"9A0E":function(K,j,t){"use strict";t.r(j);var f=t("q1tI"),C=t("Ty5D"),e=t("9kvl"),p=t("tMyG"),y=t("nhC9"),L=t("P2fV"),d=t("NJEC"),ne=t("miYZ"),R=t("tsqr"),re=t("9og8"),U=t("5Dmo"),z=t("3S7+"),ce=t("+L6B"),D=t("2/Rp"),Y=t("WmNS"),W=t.n(Y),Z=t("xvlK"),w=t("G3dp"),E=t("/MfK"),l=t("55Ip"),s=t("sWYD"),m=t("Qiat"),h=t("rWUb"),n=t("mGZj"),a=t("nKUr"),he=function(Q){var A=Q.templateType,P=Object(f.useRef)(),k=Object(e.i)(),le=[{title:Object(a.jsx)(e.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(a.jsx)(e.a,{id:"created_at",defaultMessage:"created_at"}),dataIndex:"created_at",hideInSearch:!0,render:function(T,v){return v.created_at&&Object(s.a)(new Date(v.created_at),n.a)}},{title:Object(a.jsx)(e.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(a.jsx)(e.a,{id:"event",defaultMessage:"event"}),dataIndex:"event",hideInSearch:!0},{title:Object(a.jsx)(e.a,{id:"templates.is_default"}),dataIndex:"default",hideInSearch:!0,render:function(T,v){return v.default&&Object(a.jsx)(e.a,{id:"yes"})}}];return Object(a.jsx)(m.a,{headerTitle:k.formatMessage({id:"templates",defaultMessage:"templates"}),actionRef:P,rowKey:"id",search:!1,toolBarRender:function(){return[Object(a.jsx)(l.a,{to:"/templates/".concat(A,"/new"),children:Object(a.jsxs)(D.a,{type:"primary",children:[Object(a.jsx)(Z.a,{})," ",Object(a.jsx)(e.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(T){var v=T.pageSize,G=T.current;return Object(h.e)({pageSize:v,current:G}).then(function(x){return x.success?{data:x.data,total:x.meta.total,success:!0}:[]})},columns:[].concat(le,[{hideInSearch:!0,title:Object(a.jsx)(e.a,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(T,v){return[Object(a.jsx)(l.a,{to:"/templates/".concat(A,"/").concat(v.id),children:Object(a.jsx)(z.a,{title:Object(a.jsx)(e.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(D.a,{type:"primary",icon:Object(a.jsx)(w.a,{})})})},"edit"),Object(a.jsx)(d.a,{title:Object(a.jsx)(e.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(re.a)(W.a.mark(function G(){var x,$;return W.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Object(h.b)(v.id);case 2:return x=O.sent,O.next=5,x;case 5:$=O.sent,$.success&&(R.default.success($.message),P.current&&P.current.reload());case 7:case"end":return O.stop()}},G)})),okText:Object(a.jsx)(e.a,{id:"yes"}),cancelText:Object(a.jsx)(e.a,{id:"no"}),children:Object(a.jsx)(z.a,{title:Object(a.jsx)(e.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(D.a,{type:"primary",icon:Object(a.jsx)(E.a,{}),danger:!0})})},"delete")]}}])})},Oe=he,De=function(Q){var A=Q.templateType,P=Object(f.useRef)(),k=Object(e.i)(),le=[{title:Object(a.jsx)(e.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(a.jsx)(e.a,{id:"created_at",defaultMessage:"created_at"}),dataIndex:"created_at",hideInSearch:!0,render:function(T,v){return v.created_at&&Object(s.a)(new Date(v.created_at),n.a)}},{title:Object(a.jsx)(e.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(a.jsx)(e.a,{id:"event",defaultMessage:"event"}),dataIndex:"event",hideInSearch:!0},{title:Object(a.jsx)(e.a,{id:"templates.is_default"}),dataIndex:"default",hideInSearch:!0,render:function(T,v){return v.default&&Object(a.jsx)(e.a,{id:"yes"})}}];return Object(a.jsx)(m.a,{headerTitle:k.formatMessage({id:"templates",defaultMessage:"templates"}),actionRef:P,rowKey:"id",search:!1,toolBarRender:function(){return[Object(a.jsx)(l.a,{to:"/templates/".concat(A,"/new"),children:Object(a.jsxs)(D.a,{type:"primary",children:[Object(a.jsx)(Z.a,{})," ",Object(a.jsx)(e.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(T){var v=T.pageSize,G=T.current;return Object(h.e)({pageSize:v,current:G}).then(function(x){return x.success?{data:x.data,total:x.meta.total,success:!0}:[]})},columns:[].concat(le,[{hideInSearch:!0,title:Object(a.jsx)(e.a,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(T,v){return[Object(a.jsx)(l.a,{to:"/templates/".concat(A,"/").concat(v.id),children:Object(a.jsx)(z.a,{title:Object(a.jsx)(e.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(D.a,{type:"primary",icon:Object(a.jsx)(w.a,{})})})},"edit"),Object(a.jsx)(d.a,{title:Object(a.jsx)(e.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(re.a)(W.a.mark(function G(){var x,$;return W.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Object(h.b)(v.id);case 2:return x=O.sent,O.next=5,x;case 5:$=O.sent,$.success&&(R.default.success($.message),P.current&&P.current.reload());case 7:case"end":return O.stop()}},G)})),okText:Object(a.jsx)(e.a,{id:"yes"}),cancelText:Object(a.jsx)(e.a,{id:"no"}),children:Object(a.jsx)(z.a,{title:Object(a.jsx)(e.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(D.a,{type:"primary",icon:Object(a.jsx)(E.a,{}),danger:!0})})},"delete")]}}])})},ge=De,ye=function(){var Q=Object(C.g)(),A=Q.template;return console.log("tab",A),Object(a.jsx)(p.a,{children:Object(a.jsxs)(y.a,{tabs:{type:"card",activeKey:A,onChange:function(k){return e.d.push("/templates/".concat(k))}},children:[Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(e.a,{id:"email"}),children:Object(a.jsx)(Oe,{templateType:"email"})},"email"),Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(e.a,{id:"PDF"}),children:Object(a.jsx)(ge,{templateType:"pdf"})},"pdf"),Object(a.jsx)(y.a.TabPane,{disabled:!0,tab:Object(a.jsx)("span",{children:Object(a.jsx)(e.a,{id:"Push"})}),children:"Push"},"Push"),Object(a.jsx)(y.a.TabPane,{disabled:!0,tab:Object(a.jsx)("span",{children:Object(a.jsx)(e.a,{id:"SMS"})}),children:"SMS"},"SMS")]})})},Qe=j.default=ye},S76h:function(K,j,t){},TLLU:function(K,j,t){"use strict";var f=t("5OYt");j.a={useBreakpoint:f.a}},VzZb:function(K,j,t){},"aK+R":function(K,j,t){},df8c:function(K,j,t){},nhC9:function(K,j,t){"use strict";var f=t("wx14"),C=t("q1tI"),e=t.n(C),p=t("Znn+"),y=t("ZTPi"),L=t("VTBJ"),d=t("rePB"),ne=t("U8pU"),R=t("ODXe"),re=t("GNNt"),U=t("wEI+"),z=t("Ff2n"),ce=t("1GLa"),D=t("TLLU"),Y=t("UESt"),W=t("6cGi"),Z=t("YSkC"),w=t("TSYQ"),E=t.n(w),l=t("BGR+"),s=t("14J3"),m=t("BMrR"),h=t("jCWc"),n=t("kPKH"),a=t("aK+R"),he=function(o){var i=o.style,u=o.prefix;return e.a.createElement("div",{className:"".concat(u,"-loading-content"),style:i},e.a.createElement(m.a,{gutter:8},e.a.createElement(n.a,{span:22},e.a.createElement("div",{className:"".concat(u,"-loading-block")}))),e.a.createElement(m.a,{gutter:8},e.a.createElement(n.a,{span:8},e.a.createElement("div",{className:"".concat(u,"-loading-block")})),e.a.createElement(n.a,{span:15},e.a.createElement("div",{className:"".concat(u,"-loading-block")}))),e.a.createElement(m.a,{gutter:8},e.a.createElement(n.a,{span:6},e.a.createElement("div",{className:"".concat(u,"-loading-block")})),e.a.createElement(n.a,{span:18},e.a.createElement("div",{className:"".concat(u,"-loading-block")}))),e.a.createElement(m.a,{gutter:8},e.a.createElement(n.a,{span:13},e.a.createElement("div",{className:"".concat(u,"-loading-block")})),e.a.createElement(n.a,{span:9},e.a.createElement("div",{className:"".concat(u,"-loading-block")}))),e.a.createElement(m.a,{gutter:8},e.a.createElement(n.a,{span:4},e.a.createElement("div",{className:"".concat(u,"-loading-block")})),e.a.createElement(n.a,{span:3},e.a.createElement("div",{className:"".concat(u,"-loading-block")})),e.a.createElement(n.a,{span:16},e.a.createElement("div",{className:"".concat(u,"-loading-block")}))))},Oe=he,De=t("S76h"),ge=function(o){var i=o.actions,u=o.prefixCls;return Array.isArray(i)&&(i==null?void 0:i.length)?e.a.createElement("ul",{className:"".concat(u,"-actions")},i.map(function(I,H){return e.a.createElement("li",{style:{width:"".concat(100/i.length,"%")},key:"action-".concat(H)},e.a.createElement("span",null,I))})):i?e.a.createElement("ul",{className:"".concat(u,"-actions")},i):null},ye=ge,Qe=t("df8c"),ve=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],Q=D.a.useBreakpoint,A=e.a.forwardRef(function(r,o){var i,u,I,H=r.className,q=r.style,_=r.bodyStyle,J=_===void 0?{}:_,ee=r.headStyle,xe=ee===void 0?{}:ee,je=r.title,Ce=r.subTitle,se=r.extra,Ee=r.tip,fe=r.wrap,Fe=fe===void 0?!1:fe,He=r.layout,ie=r.loading,Ae=r.gutter,Xe=Ae===void 0?0:Ae,we=r.tooltip,de=r.split,Be=r.headerBordered,ke=Be===void 0?!1:Be,Le=r.bordered,qe=Le===void 0?!1:Le,Re=r.children,ze=r.size,_e=r.actions,Ge=r.ghost,et=Ge===void 0?!1:Ge,$e=r.hoverable,tt=$e===void 0?!1:$e,at=r.direction,Ke=r.collapsed,Ue=r.collapsible,nt=Ue===void 0?!1:Ue,We=r.defaultCollapsed,rt=We===void 0?!1:We,ct=r.onCollapse,lt=r.checked,Te=r.onChecked,Pe=r.tabs,Se=r.type,oe=Object(z.a)(r,ve),st=Object(C.useContext)(U.default.ConfigContext),it=st.getPrefixCls,Ze=Q(),dt=Object(W.a)(rt,{value:Ke,onChange:ct}),Je=Object(R.a)(dt,2),Ie=Je[0],ot=Je[1],be=["xxl","xl","lg","md","sm","xs"],ut=function(g){var b=[0,0],N=Array.isArray(g)?g:[g,0];return N.forEach(function(B,X){if(Object(ne.a)(B)==="object")for(var V=0;V<be.length;V+=1){var me=be[V];if(Ze[me]&&B[me]!==void 0){b[X]=B[me];break}}else b[X]=B||0}),b},ue=function(g,b){return g?b:{}},mt=function(g){var b=g;if(Object(ne.a)(g)==="object")for(var N=0;N<be.length;N+=1){var B=be[N];if(Ze[B]&&g[B]!==void 0){b=g[B];break}}var X=ue(typeof b=="string"&&/\d%|\dpx/i.test(b),{width:b,flexShrink:0});return{span:b,colSpanStyle:X}},c=it("pro-card"),vt=ut(Xe),Ve=Object(R.a)(vt,2),te=Ve[0],ae=Ve[1],Me=!1,Ne=e.a.Children.toArray(Re),jt=Ne.map(function(M,g){var b;if(M==null||(b=M.type)===null||b===void 0?void 0:b.isProCard){var N;Me=!0;var B=M.props.colSpan,X=mt(B),V=X.span,me=X.colSpanStyle,ht=E()(["".concat(c,"-col")],(N={},Object(d.a)(N,"".concat(c,"-split-vertical"),de==="vertical"&&g!==Ne.length-1),Object(d.a)(N,"".concat(c,"-split-horizontal"),de==="horizontal"&&g!==Ne.length-1),Object(d.a)(N,"".concat(c,"-col-").concat(V),typeof V=="number"&&V>=0&&V<=24),N));return e.a.createElement("div",{style:Object(L.a)(Object(L.a)(Object(L.a)({},me),ue(te>0,{paddingRight:te/2,paddingLeft:te/2})),ue(ae>0,{paddingTop:ae/2,paddingBottom:ae/2})),key:"pro-card-col-".concat(g),className:ht},e.a.cloneElement(M))}return M}),ft=E()("".concat(c),H,(i={},Object(d.a)(i,"".concat(c,"-border"),qe),Object(d.a)(i,"".concat(c,"-contain-card"),Me),Object(d.a)(i,"".concat(c,"-loading"),ie),Object(d.a)(i,"".concat(c,"-split"),de==="vertical"||de==="horizontal"),Object(d.a)(i,"".concat(c,"-ghost"),et),Object(d.a)(i,"".concat(c,"-hoverable"),tt),Object(d.a)(i,"".concat(c,"-size-").concat(ze),ze),Object(d.a)(i,"".concat(c,"-type-").concat(Se),Se),Object(d.a)(i,"".concat(c,"-collapse"),Ie),Object(d.a)(i,"".concat(c,"-checked"),lt),i)),bt=E()("".concat(c,"-body"),(u={},Object(d.a)(u,"".concat(c,"-body-center"),He==="center"),Object(d.a)(u,"".concat(c,"-body-direction-column"),de==="horizontal"||at==="column"),Object(d.a)(u,"".concat(c,"-body-wrap"),Fe&&Me),u)),pt=Object(L.a)(Object(L.a)(Object(L.a)({},ue(te>0,{marginRight:-te/2,marginLeft:-te/2})),ue(ae>0,{marginTop:-ae/2,marginBottom:-ae/2})),J),Ye=e.a.isValidElement(ie)?ie:e.a.createElement(Oe,{prefix:c,style:J.padding===0||J.padding==="0px"?{padding:24}:void 0}),pe=nt&&Ke===void 0&&e.a.createElement(Y.a,{rotate:Ie?void 0:90,className:"".concat(c,"-collapsible-icon")});return e.a.createElement("div",Object(f.a)({className:ft,style:q,ref:o,onClick:function(g){var b;Te==null||Te(g),oe==null||(b=oe.onClick)===null||b===void 0||b.call(oe,g)}},Object(l.a)(oe,["prefixCls","colSpan"])),(je||se||pe)&&e.a.createElement("div",{className:E()("".concat(c,"-header"),(I={},Object(d.a)(I,"".concat(c,"-header-border"),ke||Se==="inner"),Object(d.a)(I,"".concat(c,"-header-collapsible"),pe),I)),style:xe,onClick:function(){pe&&ot(!Ie)}},e.a.createElement("div",{className:"".concat(c,"-title")},pe,e.a.createElement(Z.a,{label:je,tooltip:we||Ee,subTitle:Ce})),se&&e.a.createElement("div",{className:"".concat(c,"-extra")},se)),Pe?e.a.createElement("div",{className:"".concat(c,"-tabs")},e.a.createElement(y.a,Object(f.a)({onChange:Pe.onChange},Pe),ie?Ye:Re)):e.a.createElement("div",{className:bt,style:pt},ie?Ye:jt),e.a.createElement(ye,{actions:_e,prefixCls:c}))}),P=A,k=t("VzZb"),le=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],S=function(o){var i=o.key,u=o.tab,I=o.tabKey,H=o.disabled,q=o.destroyInactiveTabPane,_=o.children,J=o.className,ee=o.style,xe=o.cardProps,je=Object(z.a)(o,le),Ce=Object(C.useContext)(U.default.ConfigContext),se=Ce.getPrefixCls,Ee=se("pro-card-tabpane"),fe=E()(Ee,J);return e.a.createElement(y.a.TabPane,Object(f.a)({key:i,tabKey:I,tab:u,className:fe,style:ee,disabled:H,destroyInactiveTabPane:q},je),e.a.createElement(P,xe,_))},T=S,v=t("u1OI"),G=function(o){var i=Object(C.useContext)(U.default.ConfigContext),u=i.getPrefixCls,I=u("pro-card-divider"),H=o.className,q=o.style,_=q===void 0?{}:q,J=o.type,ee=E()(I,H,Object(d.a)({},"".concat(I,"-").concat(J),J));return e.a.createElement("div",{className:ee,style:_})},x=G,$=function(o){return e.a.createElement(P,Object(f.a)({bodyStyle:{padding:0}},o))},F=P;F.isProCard=!0,F.Divider=x,F.TabPane=T,F.Group=$;var O=F,Ot=j.a=O},rWUb:function(K,j,t){"use strict";t.d(j,"e",function(){return L}),t.d(j,"d",function(){return ne}),t.d(j,"a",function(){return re}),t.d(j,"f",function(){return z}),t.d(j,"b",function(){return D}),t.d(j,"g",function(){return W}),t.d(j,"c",function(){return w});var f=t("k1fw"),C=t("9og8"),e=t("WmNS"),p=t.n(e),y=t("9kvl");function L(l,s){return d.apply(this,arguments)}function d(){return d=Object(C.a)(p.a.mark(function l(s,m){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(y.f)("/api/admin/templates",Object(f.a)({method:"GET",useCache:!1,params:Object(f.a)(Object(f.a)({},s),{},{per_page:s.pageSize&&s.pageSize,page:s.current&&s.current})},m||{})));case 1:case"end":return n.stop()}},l)})),d.apply(this,arguments)}function ne(l,s){return R.apply(this,arguments)}function R(){return R=Object(C.a)(p.a.mark(function l(s,m){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(y.f)("/api/admin/templates/".concat(s),Object(f.a)({method:"GET"},m||{})));case 1:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function re(l,s){return U.apply(this,arguments)}function U(){return U=Object(C.a)(p.a.mark(function l(s,m){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(y.f)("/api/admin/templates",Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},m||{})));case 1:case"end":return n.stop()}},l)})),U.apply(this,arguments)}function z(l,s,m){return ce.apply(this,arguments)}function ce(){return ce=Object(C.a)(p.a.mark(function l(s,m,h){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(y.f)("/api/admin/templates/".concat(s),Object(f.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:m},h||{})));case 1:case"end":return a.stop()}},l)})),ce.apply(this,arguments)}function D(l,s){return Y.apply(this,arguments)}function Y(){return Y=Object(C.a)(p.a.mark(function l(s,m){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(y.f)("/api/admin/templates/".concat(s),Object(f.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},m||{})));case 1:case"end":return n.stop()}},l)})),Y.apply(this,arguments)}function W(l){return Z.apply(this,arguments)}function Z(){return Z=Object(C.a)(p.a.mark(function l(s){return p.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",Object(y.f)("/api/admin/templates/variables",Object(f.a)({method:"GET"},s||{})));case 1:case"end":return h.stop()}},l)})),Z.apply(this,arguments)}function w(l,s){return E.apply(this,arguments)}function E(){return E=Object(C.a)(p.a.mark(function l(s,m){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(y.f)("/api/admin/templates/".concat(s,"/preview"),Object(f.a)({method:"GET"},m||{})));case 1:case"end":return n.stop()}},l)})),E.apply(this,arguments)}},u1OI:function(K,j,t){}}]);
