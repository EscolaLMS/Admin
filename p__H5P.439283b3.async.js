(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"39sE":function(S,m,e){"use strict";var d=e("k1fw"),M=e("+L6B"),f=e("2/Rp"),u=e("qLMh"),v=e("miYZ"),p=e("tsqr"),g=e("9og8"),h=e("tJVT"),L=e("PpiC"),O=e("q1tI"),T=e.n(O),P=e("9kvl"),j=e("nKUr"),D=e.n(j),y=["url","filename","children"],a=function(r){var l=r.url,_=r.filename,s=r.children,A=Object(L.a)(r,y),H=Object(O.useState)(!1),W=Object(h.a)(H,2),G=W[0],R=W[1],$=Object(O.useCallback)(Object(g.a)(Object(u.a)().mark(function t(){var J,I,w,x;return Object(u.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return R(!0),c.prev=1,c.next=4,fetch("".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(l),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}});case 4:return J=c.sent,I=document.createElement("a"),c.next=8,J.blob();case 8:w=c.sent,x=window.URL.createObjectURL(w),I.download=_,I.href=x,I.click(),R(!1),p.b.success(Object(j.jsx)(P.a,{id:"file_downloaded",defaultMessage:"File downloaded"})),c.next=21;break;case 17:c.prev=17,c.t0=c.catch(1),R(!1),p.b.error(Object(j.jsx)(P.a,{id:"file_downloaded_error",defaultMessage:"Can't download file"}));case 21:case"end":return c.stop()}},t,null,[[1,17]])})),[l,_]);return Object(j.jsx)(f.a,Object(d.a)(Object(d.a)({loading:G},A),{},{onClick:$,children:s}))};m.a=a},"5YLw":function(S,m,e){"use strict";var d=e("DBJ/"),M=e("q1tI"),f=e.n(M),u=e("nKUr"),v=e.n(u),p=function(h){var L=h.onSuccess,O=h.onError,T=h.hideLabel;return Object(u.jsx)(d.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",hideLabel:T,onChange:function(j){j.file.status==="done"&&j.file.response&&L(j.file.response),j.file.status==="error"&&O()}})};m.a=p},Unir:function(S,m,e){"use strict";e.r(m);var d=e("k1fw"),M=e("P2fV"),f=e("NJEC"),u=e("5Dmo"),v=e("3S7+"),p=e("+L6B"),g=e("2/Rp"),h=e("qLMh"),L=e("miYZ"),O=e("tsqr"),T=e("9og8"),P=e("tJVT"),j=e("xvlK"),D=e("q1tI"),y=e.n(D),a=e("9kvl"),o=e("55Ip"),r=e("tMyG"),l=e("Qiat"),_=e("nzng"),s=e("G3dp"),A=e("/MfK"),H=e("2PG1"),W=e("4KAj"),G=e("5YLw"),R=e("39sE"),$=e("c+yx"),t=e("nKUr"),J=e.n(t),I=function(){var x=Object(D.useState)(!1),z=Object(P.a)(x,2),c=z[0],U=z[1],B=Object(D.useRef)(),N=Object(a.l)(),V=Object(D.useCallback)(function(){var E=Object(T.a)(Object(h.a)().mark(function i(n){var C,K;return Object(h.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return U(!0),C=O.b.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),b.prev=2,b.next=5,Object(_.e)(n);case 5:return C(),O.b.success(Object(t.jsx)(a.a,{id:"success",defaultMessage:"success"})),U(!1),(K=B.current)===null||K===void 0||K.reload(),b.abrupt("return",!0);case 12:return b.prev=12,b.t0=b.catch(2),C(),O.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),U(!1),b.abrupt("return",!1);case 18:case"end":return b.stop()}},i,null,[[2,12]])}));return function(i){return E.apply(this,arguments)}}(),[B]),Q=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0,search:!1},{title:Object(t.jsx)(a.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(G.a,{hideLabel:!0,onSuccess:function(){B.current&&B.current.reload(),O.b.success(Object(t.jsx)(a.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return O.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"}))}},"upload")]}},{title:Object(t.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(i,n){return i.title.length-n.title.length},render:function(i,n){return n.title}},{title:Object(t.jsx)(a.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(i,n){return i.library.title.length-n.library.title.length},search:!1,render:function(i,n){return n.library.title}},{title:Object(t.jsx)(a.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(i,n){return i.library.id-n.library.id},render:function(i,n){return n.library.id}},{title:Object(t.jsx)(a.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(i,n){return i.count_h5p-n.count_h5p},search:!1,render:function(i,n){return n.count_h5p}},{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(i,n){return[Object(t.jsx)(o.a,{to:"/courses/h5ps/".concat(n.id),children:Object(t.jsx)(v.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(g.a,{type:"primary",icon:Object(t.jsx)(s.a,{})})})},"edit"),Object(t.jsx)(f.a,{disabled:n.count_h5p!==0,title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return n.id&&V(n.id)},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(v.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(g.a,{disabled:n.count_h5p!==0,type:"primary",icon:Object(t.jsx)(A.a,{}),danger:!0})})},"delete"),Object(t.jsx)(o.a,{to:"/courses/h5ps/preview/".concat(n.id),children:Object(t.jsx)(v.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(g.a,{icon:Object(t.jsx)(H.a,{})})})},"preview"),Object(t.jsx)(v.a,{title:Object(t.jsx)(a.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(R.a,{url:"/api/admin/hh5p/content/".concat(n.id,"/export"),filename:"".concat(n.title.split(" ").join("-").toLocaleLowerCase(),".h5p"),icon:Object(t.jsx)(W.a,{})})},"export")]}}];return Object(t.jsx)(r.a,{children:Object(t.jsx)(l.a,{loading:c,headerTitle:N.formatMessage({id:"menu.Courses.H5Ps",defaultMessage:"H5Ps List"}),actionRef:B,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(t.jsx)(o.a,{to:"/courses/h5ps/new",children:Object(t.jsxs)(g.a,{type:"primary",children:[Object(t.jsx)(j.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(i,n){var C=i.pageSize,K=i.current,F=i.title,b=i.library_id;return U(!0),Object(_.d)(Object(d.a)({title:F,library_id:b,per_page:C,page:K},Object($.b)(n))).then(function(Y){return U(!1),Y.success?{data:Y.data,total:Y.meta.total,success:!0}:[]})},columns:Q})})};m.default=I},nzng:function(S,m,e){"use strict";e.d(m,"d",function(){return v}),e.d(m,"c",function(){return L}),e.d(m,"b",function(){return O}),e.d(m,"f",function(){return T}),e.d(m,"e",function(){return j}),e.d(m,"a",function(){return y});var d=e("qLMh"),M=e("k1fw"),f=e("9og8"),u=e("9kvl");function v(o,r){return p.apply(this,arguments)}function p(){return p=Object(f.a)(Object(d.a)().mark(function o(r,l){return Object(d.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(u.i)("/api/admin/hh5p/content",Object(M.a)({method:"GET",params:r},l||{})));case 1:case"end":return s.stop()}},o)})),p.apply(this,arguments)}function g(o,r){return h.apply(this,arguments)}function h(){return h=Object(f.a)(Object(d.a)().mark(function o(r,l){return Object(d.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(u.i)("/api/admin/hh5p/content/".concat(r),Object(M.a)({method:"GET"},l||{})));case 1:case"end":return s.stop()}},o)})),h.apply(this,arguments)}var L=function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",_=arguments.length>2?arguments[2]:void 0,s=r?"/api/admin/hh5p/editor/".concat(r):"/api/admin/hh5p/editor";return s=l?"".concat(s,"?lang=").concat(l):s,Object(u.i)(s,Object(M.a)({method:"GET"},_||{}))},O=function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",_=arguments.length>2?arguments[2]:void 0,s="/api/admin/hh5p/content/".concat(r);return s=l?"".concat(s,"?lang=").concat(l):s,Object(u.i)(s,Object(M.a)({method:"GET"},_||{}))};function T(o,r,l){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(d.a)().mark(function o(r,l,_){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(u.i)(l?"/api/admin/hh5p/content/".concat(l):"/api/admin/hh5p/content",Object(M.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},_||{})));case 1:case"end":return A.stop()}},o)})),P.apply(this,arguments)}function j(o){return D.apply(this,arguments)}function D(){return D=Object(f.a)(Object(d.a)().mark(function o(r){return Object(d.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(u.i)("/api/admin/hh5p/content/".concat(r),{method:"DELETE"}));case 1:case"end":return _.stop()}},o)})),D.apply(this,arguments)}function y(o){return a.apply(this,arguments)}function a(){return a=Object(f.a)(Object(d.a)().mark(function o(r){return Object(d.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(u.i)("/api/admin/hh5p/content?per_page=0",Object(M.a)({method:"GET"},r||{})));case 1:case"end":return _.stop()}},o)})),a.apply(this,arguments)}}}]);
