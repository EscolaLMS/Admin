(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"4f6N":function(y,l,e){"use strict";var d=e("2qtc"),_=e("kLXV"),f=e("9kvl"),i=e("nKUr"),j=e.n(i),A=function(v){var O=v.visible,p=v.setManage;return Object(i.jsx)(_.a,{width:"600px",title:Object(i.jsx)(f.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:O,onOk:function(){return p({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return p({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(i.jsx)("p",{children:Object(i.jsx)(f.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};l.a=A},EmS3:function(y,l,e){"use strict";e.d(l,"e",function(){return A}),e.d(l,"a",function(){return v}),e.d(l,"c",function(){return p}),e.d(l,"d",function(){return b}),e.d(l,"b",function(){return K});var d=e("k1fw"),_=e("9og8"),f=e("WmNS"),i=e.n(f),j=e("9kvl");function A(c,r){return P.apply(this,arguments)}function P(){return P=Object(_.a)(i.a.mark(function c(r,o){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/webinars",Object(d.a)({method:"GET",useCache:!1,params:Object(d.a)(Object(d.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},o||{})));case 1:case"end":return t.stop()}},c)})),P.apply(this,arguments)}function v(c,r){return O.apply(this,arguments)}function O(){return O=Object(_.a)(i.a.mark(function c(r,o){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/webinars",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},o||{})));case 1:case"end":return t.stop()}},c)})),O.apply(this,arguments)}function p(c,r){return C.apply(this,arguments)}function C(){return C=Object(_.a)(i.a.mark(function c(r,o){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/webinars/".concat(r),Object(d.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return t.stop()}},c)})),C.apply(this,arguments)}function b(c,r,o){return s.apply(this,arguments)}function s(){return s=Object(_.a)(i.a.mark(function c(r,o,S){return i.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Object(j.f)("/api/admin/webinars/".concat(r,"?method=PUT"),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o},S||{})));case 1:case"end":return L.stop()}},c)})),s.apply(this,arguments)}function K(c,r){return W.apply(this,arguments)}function W(){return W=Object(_.a)(i.a.mark(function c(r,o){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/webinars/".concat(r),Object(d.a)({method:"DELETE",useCache:!1},o||{})));case 1:case"end":return t.stop()}},c)})),W.apply(this,arguments)}},VlvL:function(y,l,e){"use strict";var d=e("9kvl"),_=e("Ty5D"),f=e("nKUr"),i=e.n(f),j=function(P){var v=P.show,O=Object(d.i)();return Object(f.jsx)(_.a,{when:v,message:O.formatMessage({id:"unsaved_changes"})})};l.a=j},eFHa:function(y,l,e){"use strict";e.d(l,"a",function(){return j});var d=e("tJVT"),_=e("q1tI"),f=e.n(_),i=e("HZtn");function j(){var A=Object(_.useState)({showModal:!1,disableEdit:!1,clicked:!1}),P=Object(d.a)(A,2),v=P[0],O=P[1],p=function(b){(b==null?void 0:b.status)==="published"&&b!==null&&b!==void 0&&b.active_from&&Object(i.a)(new Date(b==null?void 0:b.active_from))&&!v.clicked?O({showModal:!1,disableEdit:!0,clicked:!1}):O({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:v,setManageCourseEdit:O,validateCourseEdit:p}}},q34N:function(y,l,e){"use strict";var d=e("tJVT"),_=e("0eZe"),f=e("q1tI"),i=e.n(f),j=e("nKUr"),A=e.n(j),P=function(O){var p=O.productable,C=O.type,b=C===void 0?"card":C,s=Object(f.useState)("attributes"),K=Object(d.a)(s,2),W=K[0],c=K[1];return Object(j.jsx)(_.a,{productable:p,tab:W,onTabChange:function(o){return c(o)},type:b})};l.a=P},tixb:function(y,l,e){"use strict";e.r(l);var d=e("14J3"),_=e("BMrR"),f=e("jCWc"),i=e("kPKH"),j=e("fOrg"),A=e("+KLJ"),P=e("+L6B"),v=e("2/Rp"),O=e("T2oS"),p=e("W9HT"),C=e("miYZ"),b=e("tsqr"),s=e("k1fw"),K=e("9og8"),W=e("tJVT"),c=e("WmNS"),r=e.n(c),o=e("q1tI"),S=e.n(o),t=e("VMEa"),L=e("Qurx"),ne=e("yj/a"),z=e("CnWR"),se=e("BiO0"),B=e("nhC9"),Q=e("hd5d"),re=e("tMyG"),n=e("9kvl"),ie=e("Ty5D"),N=e("EmS3"),_e=e("0WSk"),X=e("Gn8c"),V=e("c+yx"),de=e("rnuo"),oe=e("VlvL"),Y=e("viv7"),le=e("eFHa"),ce=e("4f6N"),ue=e("q34N"),me=e("5RzD"),a=e("nKUr"),he=e.n(a),Oe=function(){var x=Object(n.i)(),k=Object(ie.h)(),u=k.webinar,q=k.tab,h=q===void 0?"attributes":q,U=u==="new",be=Object(o.useState)(!1),ee=Object(W.a)(be,2),Ee=ee[0],G=ee[1],je=Object(o.useState)(),ae=Object(W.a)(je,2),E=ae[0],w=ae[1],$=Object(le.a)(),M=$.manageCourseEdit,J=$.setManageCourseEdit,te=$.validateCourseEdit,Me=t.a.useForm(),fe=Object(W.a)(Me,1),Pe=fe[0],ve=Object(o.useCallback)(Object(K.a)(r.a.mark(function T(){var m;return r.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Object(N.c)(Number(u));case 2:m=D.sent,m.success&&(h==="attributes"&&te(m.data),w(Object(s.a)({},m.data)));case 4:case"end":return D.stop()}},T)})),[u]);Object(o.useEffect)(function(){if(U){w({name:"new"});return}ve()},[u]);var F=Object(o.useMemo)(function(){return{onFinish:function(){var T=Object(K.a)(r.a.mark(function R(D){var H,I;return r.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!M.disableEdit){g.next=3;break}return J({showModal:!0,disableEdit:!0,clicked:!1}),g.abrupt("return");case 3:if(H=Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},D),h==="attributes"&&{active_from:new Date(String(D.active_from))}),h==="attributes"&&{active_to:new Date(String(D.active_to))}),h==="media"&&{image_url:E&&E.image_url}),h==="media"&&{image_path:E&&E.image_url&&Object(V.f)(E.image_url)}),h==="branding"&&{logotype_url:E&&E.logotype_url}),h==="branding"&&{logotype_path:E&&E.logotype_path&&Object(V.f)(E.logotype_path)}),{},{trainers:D.trainers&&D.trainers.map(function(Z){return typeof Z=="object"?Z.id:Z})}),!U){g.next=11;break}return g.next=7,Object(N.a)(H);case 7:I=g.sent,I.success&&(G(!1),n.d.push("/webinars/".concat(I.data.id))),g.next=15;break;case 11:return g.next=13,Object(N.d)(Number(u),H);case 13:I=g.sent,I.success&&(G(!1),te(I.data),n.d.push("/webinars/".concat(I.data.id,"/").concat(h)));case 15:b.default.success(I.message);case 16:case"end":return g.stop()}},R)}));function m(R){return T.apply(this,arguments)}return m}(),initialValues:E}},[E,u,h,M]);return E?Object(a.jsx)(re.a,{title:U?Object(a.jsx)(n.a,{id:"menu.webinars"}):Object(a.jsx)(n.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:x.formatMessage({id:"menu.Webinars"})},{path:String(u),breadcrumbName:x.formatMessage({id:"form"})},{path:"/",breadcrumbName:x.formatMessage({id:String(E.name)})},{path:String(h),breadcrumbName:x.formatMessage({id:String(Object(V.a)(h))})}]}},children:Object(a.jsxs)(B.a,{tabs:{type:"card",activeKey:h,onChange:function(m){return n.d.push("/webinars/".concat(u,"/").concat(m))}},children:[Object(a.jsxs)(B.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"attributes"}),children:[M.disableEdit&&Object(a.jsx)(A.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(n.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(v.a,{onClick:function(){return J({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(n.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(oe.a,{show:Ee}),Object(a.jsx)(ce.a,{visible:M.showModal,setManage:J}),Object(a.jsxs)(t.a,Object(s.a)(Object(s.a)({},F),{},{form:Pe,onValuesChange:function(){G(!0)},children:[Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(L.a,{width:"md",name:"name",label:Object(a.jsx)(n.a,{id:"name"}),tooltip:Object(a.jsx)(n.a,{id:"name"}),placeholder:x.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:M.disableEdit}),Object(a.jsx)(L.a,{width:"sm",name:"duration",label:Object(a.jsx)(n.a,{id:"duration"}),tooltip:Object(a.jsx)(n.a,{id:"duration"}),placeholder:x.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:M.disableEdit}),Object(a.jsx)(ne.a,{name:"status",width:"xs",label:Object(a.jsx)(n.a,{id:"status"}),valueEnum:Y.a,initialValue:Y.a.draft,placeholder:x.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(n.a,{id:"select"})}],disabled:M.disableEdit})]}),Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(z.a,{width:"sm",name:"active_from",label:Object(a.jsx)(n.a,{id:"active_from"}),tooltip:Object(a.jsx)(n.a,{id:"active_from"}),placeholder:x.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:M.disableEdit}),Object(a.jsx)(z.a,{width:"sm",name:"active_to",label:Object(a.jsx)(n.a,{id:"active_to"}),tooltip:Object(a.jsx)(n.a,{id:"active_to"}),placeholder:x.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:M.disableEdit}),Object(a.jsx)(t.a.Item,{name:"trainers",label:Object(a.jsx)(n.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(_e.a,{multiple:!0,role:"tutor"})})]}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(se.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(n.a,{id:"short_description"}),tooltip:Object(a.jsx)(n.a,{id:"short_description"})})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(t.a.Item,{name:"agenda",label:Object(a.jsx)(n.a,{id:"program"}),tooltip:Object(a.jsx)(n.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(Q.a,{directory:"webinars/".concat(u,"/wysiwyg")})})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(t.a.Item,{name:"description",label:Object(a.jsx)(n.a,{id:"description"}),tooltip:Object(a.jsx)(n.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(Q.a,{directory:"webinars/".concat(u,"/wysiwyg")})})})]}))]},"attributes")," ",!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"product"}),disabled:M.disableEdit,children:u&&Object(a.jsx)(ue.a,{productable:{class_type:"App\\Models\\Webinar",class_id:u,name:String(E.name)}})},"product"),!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"media"}),disabled:M.disableEdit,children:Object(a.jsx)(t.a,Object(s.a)(Object(s.a)({},F),{},{children:Object(a.jsx)(X.a,{folder:"webinar/".concat(u),title:"image",action:"/api/admin/webinars/".concat(u),src_name:"image_url",form_name:"image",getUploadedSrcField:function(m){return m.file.response.data.image_url},setPath:function(m){return w(function(R){return Object(s.a)(Object(s.a)({},R),m)})}})}))},"media"),!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"tags"}),disabled:M.disableEdit,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(i.a,{span:12,children:Object(a.jsx)(t.a,Object(s.a)(Object(s.a)({},F),{},{children:Object(a.jsx)(t.a.Item,{label:Object(a.jsx)(n.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(de.a,{})})}))})})},"tags")," ",!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"branding"}),disabled:M.disableEdit,children:Object(a.jsx)(t.a,Object(s.a)(Object(s.a)({},F),{},{children:Object(a.jsx)(X.a,{folder:"webinar/".concat(u),title:"logotype",action:"/api/admin/webinars/".concat(u),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(m){return m.file.response.data.logotype_url},setPath:function(m){return w(function(R){return Object(s.a)(Object(s.a)({},R),m)})}})}))},"branding")," ",!U&&Object(a.jsx)(B.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"user_submission"}),disabled:M.disableEdit,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(i.a,{span:12,children:u&&Object(a.jsx)(me.a,{id:Number(u),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(a.jsx)(p.a,{})};l.default=Oe},viv7:function(y,l,e){"use strict";e.d(l,"a",function(){return d});var d;(function(_){_.draft="draft",_.published="published",_.archived="archived"})(d||(d={}))}}]);
