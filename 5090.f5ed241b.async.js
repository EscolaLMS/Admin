"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5090],{86273:function(ye,Q,e){var te=e(5574),s=e.n(te),re=e(64631),p=e(67294),V=e(80854),I=e(94116),C=e(85893),f=function z(F,P){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return F.subcategories&&F.subcategories.length?{title:F.name,value:F.id,disabled:typeof P=="number"&&w!==P,children:F.subcategories.map(function(A){return z(A,P,w+1)})}:{title:F.name,value:F.id,disabled:typeof P=="number"&&w!==P}},v=function(F){var P=F.value,w=F.onChange,A=F.multiple,le=A===void 0?!1:A,h=F.enabledDepth,ae=(0,p.useState)([]),J=s()(ae,2),N=J[0],se=J[1];(0,p.useEffect)(function(){(0,I.CL)().then(function(Z){Z.success&&se(Z.data)})},[]);var oe=(0,p.useMemo)(function(){return N.map(function(Z){return f(Z,h)})},[N]);return(0,C.jsx)(re.Z,{loading:N.length===0,multiple:le,showSearch:!0,value:P,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:(0,C.jsx)(V.FormattedMessage,{id:"select",defaultMessage:"Please select"}),allowClear:!0,treeDefaultExpandAll:!0,onChange:w,treeData:oe,disabled:N.length===0})};Q.Z=v},80004:function(ye,Q,e){e.d(Q,{ZP:function(){return _e}});var te=e(15009),s=e.n(te),re=e(99289),p=e.n(re),V=e(5574),I=e.n(V),C=e(67294),f=e(51042),v=e(47389),z=e(82061),F=e(16894),P=e(2453),w=e(14726),A=e(83062),le=e(86738),h=e(80854),ae=e(36309),J=e(97857),N=e.n(J),se=e(37476),oe=e(5966),Z=e(86615),he=e(952),de=e(31199),E=e(75842),L=e(95486),i=e(85893),D=function(G){return G.BOOLEAN="boolean",G.NUMBER="number",G.VARCHAR="varchar",G.TEXT="text",G.JSON="json",G}(D||{}),ve=function(X){var ne=X.visible,ce=X.onVisibleChange,k=X.onResponse,ge=X.class_type,me=X.name,R=me===void 0?"new":me,ue=X.fields,fe=ue===void 0?[]:ue,t=(0,h.useIntl)(),Me=E.Z.useForm(),q=I()(Me,1),ie=q[0],pe=(0,C.useCallback)(function(){var B=p()(s()().mark(function W(ee){return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,ae.kB)(N()(N()({},ee),{},{class_type:ge,rules:JSON.stringify(ee.rules),extra:JSON.stringify(ee.extra)})).then(function(j){j.success&&k(j.data)});case 2:return y.abrupt("return",!1);case 3:case"end":return y.stop()}},W)}));return function(W){return B.apply(this,arguments)}}(),[ie]);return(0,C.useEffect)(function(){if(R!=="new"){var B=fe.find(function(W){return W.name===R});B&&ie.setFieldsValue(B)}else ie.resetFields()},[R,ie,fe]),(0,i.jsxs)(se.Y,{form:ie,title:t.formatMessage({id:R==="new"?"newModelField":"editModelField",defaultMessage:R==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:ne,onVisibleChange:ce,onFinish:pe,children:[(0,i.jsx)(oe.Z,{required:!0,label:(0,i.jsx)(h.FormattedMessage,{id:"name",defaultMessage:"name"}),tooltip:(0,i.jsx)(h.FormattedMessage,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),(0,i.jsx)(Z.Z.Group,{rules:[{required:!0}],name:"type",label:(0,i.jsx)(h.FormattedMessage,{id:"type",defaultMessage:"type"}),tooltip:(0,i.jsx)(h.FormattedMessage,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(D).map(function(B){return{label:t.formatMessage({id:"model.".concat(D[B])}),value:D[B]}})}),(0,i.jsx)(oe.Z,{width:"md",name:"default",label:(0,i.jsx)(h.FormattedMessage,{id:"default",defaultMessage:"default"}),tooltip:(0,i.jsx)(h.FormattedMessage,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:t.formatMessage({id:"default"})}),(0,i.jsx)(he.ZP.Item,{name:"rules",label:(0,i.jsxs)("span",{children:[(0,i.jsx)(h.FormattedMessage,{id:"rules",defaultMessage:"rules"})," ",(0,i.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:(0,i.jsx)(h.FormattedMessage,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:(0,i.jsx)(h.FormattedMessage,{id:"available-validation-rules-tooltip"}),valuePropName:"value",children:(0,i.jsx)(L.Z,{})}),(0,i.jsx)(de.Z,{width:"md",name:"visibility",label:(0,i.jsx)(h.FormattedMessage,{id:"visibility"}),tooltip:(0,i.jsx)(h.FormattedMessage,{id:"visibility_tooltip"}),placeholder:t.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var B=p()(s()().mark(function ee(K,y){return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(y)))-y)){x.next=2;break}return x.abrupt("return",Promise.reject(new Error(t.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return x.abrupt("return",Promise.resolve());case 3:case"end":return x.stop()}},ee)}));function W(ee,K){return B.apply(this,arguments)}return W}()}]}),(0,i.jsx)(he.ZP.Item,{name:"extra",label:(0,i.jsx)(h.FormattedMessage,{id:"extra"}),tooltip:(0,i.jsx)(h.FormattedMessage,{id:"extra_tooltip"}),valuePropName:"value",children:(0,i.jsx)(L.Z,{})})]})},je=ve,Y=[{title:(0,i.jsx)(h.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0,sorter:!0},{title:(0,i.jsx)(h.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:(0,i.jsx)(h.FormattedMessage,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],d=function(X){var ne=X.class_type,ce=(0,C.useRef)(),k=(0,C.useState)(!1),ge=I()(k,2),me=ge[0],R=ge[1],ue=(0,h.useIntl)(),fe=(0,C.useState)(!1),t=I()(fe,2),Me=t[0],q=t[1],ie=(0,C.useState)([]),pe=I()(ie,2),B=pe[0],W=pe[1],ee=(0,C.useCallback)(function(){var K=p()(s()().mark(function y(j){var x,m,M,c;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return x=j.class_type_to_remove,m=j.name,R(!0),M=P.ZP.loading((0,i.jsx)(h.FormattedMessage,{id:"loading",defaultMessage:"loading"})),r.prev=3,r.next=6,(0,ae.AK)({class_type:x,name:m}).then(function(u){R(!1),u.success&&P.ZP.success(u.message)});case 6:return M(),R(!1),(c=ce.current)===null||c===void 0||c.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),M(),P.ZP.error((0,i.jsx)(h.FormattedMessage,{id:"error",defaultMessage:"error"})),R(!1),r.abrupt("return",!1);case 18:case"end":return r.stop()}},y,null,[[3,12]])}));return function(y){return K.apply(this,arguments)}}(),[ce]);return(0,i.jsxs)(C.Fragment,{children:[(0,i.jsx)(je,{fields:B,onResponse:function(){var y;q(!1),(y=ce.current)===null||y===void 0||y.reload()},class_type:ne,name:Me,visible:typeof Me=="string",onVisibleChange:function(y){return y===!1&&q(!1)}}),(0,i.jsx)(F.ZP,{search:!1,headerTitle:ue.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[(0,i.jsxs)(w.ZP,{type:"primary",onClick:function(){return q("new")},children:[(0,i.jsx)(f.Z,{})," ",(0,i.jsx)(h.FormattedMessage,{id:"new",defaultMessage:"new"})]},"new")]},loading:me,actionRef:ce,rowKey:"id",request:function(y,j){var x=y.pageSize,m=y.current,M=j&&Object.entries(j)[0];return R(!0),(0,ae.XU)({page:m,per_page:x,class_type:ne,order_by:M&&M[0],order:M?M[1]==="ascend"?"ASC":"DESC":void 0}).then(function(c){return R(!1),c.success?(W(c.data),{data:c.data,total:c.data.length,success:!0}):[]})},columns:[].concat(Y,[{title:(0,i.jsx)(h.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(y,j){return[(0,i.jsx)(A.Z,{title:(0,i.jsx)(h.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,i.jsx)(w.ZP,{type:"primary",icon:(0,i.jsx)(v.Z,{}),onClick:function(){return q(j.name)}})},"edit"),(0,i.jsx)(le.Z,{title:(0,i.jsx)(h.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return j.name&&ee({class_type_to_remove:ne,name:j.name})},okText:(0,i.jsx)(h.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,i.jsx)(h.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,i.jsx)(A.Z,{title:(0,i.jsx)(h.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,i.jsx)(w.ZP,{type:"primary",icon:(0,i.jsx)(z.Z,{}),danger:!0})})},"delete")]}}])})]})},_e=d},50838:function(ye,Q,e){var te=e(52677),s=e.n(te),re=e(5574),p=e.n(re),V=e(64532),I=e(83863),C=e(67294),f=e(80854),v=e(85893),z=I.default.Option,F=function(w){var A=w.value,le=w.onChange,h=w.multiple,ae=(0,C.useState)([]),J=p()(ae,2),N=J[0],se=J[1],oe=(0,C.useState)([]),Z=p()(oe,2),he=Z[0],de=Z[1];return(0,C.useEffect)(function(){(0,V.a)().then(function(E){return se(E.data)})},[]),(0,C.useEffect)(function(){if(A){var E=Array.isArray(A)?A:[A],L=E.map(function(i){return s()(i)==="object"?i.title:i});de(L)}},[A]),(0,v.jsx)(I.default,{loading:N.length===0,showSearch:!0,allowClear:!0,placeholder:(0,v.jsx)(f.FormattedMessage,{id:"select_tags",defaultMessage:"Select tags"}),optionFilterProp:"children",mode:h?"multiple":void 0,onChange:function(L){L||de([]),le&&le(L)},value:he,children:N.map(function(E){return(0,v.jsx)(z,{value:E.title,children:E.title},E.title)})})};Q.Z=F},54464:function(ye,Q,e){e.d(Q,{T:function(){return re}});var te=e(67294),s=e(80854),re=function(){var V,I=(0,s.useModel)("@@initialState"),C=I.initialState,f=(C==null||(V=C.currentUser)===null||V===void 0?void 0:V.permissions)||[],v=(0,te.useCallback)(function(z){return Array.isArray(f)?!!(f!=null&&f.find(function(F){return F.includes(z)})):!1},[f]);return{checkPermission:v}}},35090:function(ye,Q,e){e.r(Q),e.d(Q,{TableColumns:function(){return B},default:function(){return y}});var te=e(15009),s=e.n(te),re=e(99289),p=e.n(re),V=e(19632),I=e.n(V),C=e(5574),f=e.n(C),v=e(52677),z=e.n(v),F=e(97857),P=e.n(F),w=e(13769),A=e.n(w),le=e(4795),h=e(1832),ae=e(76971),J=e(47389),N=e(82061),se=e(58638),oe=e(85175),Z=e(26271),he=e(74453),de=e(16894),E=e(66309),L=e(14726),i=e(25093),D=e(2453),ve=e(83062),je=e(86738),Y=e(67294),d=e(80854),_e=e(86273),G=e(80004),X=e(29477),ne=e(50838),ce=e(44167),k=e(91115),ge=e(28808),me=e(54464),R=e(99100),ue=e(31472),fe=e(66419),t=e(85893),Me=["type","defaultRender"],q=["type","defaultRender"],ie=["type","defaultRender"];function pe(j){var x;return(x=j!=null?j:[])===null||x===void 0?void 0:x.filter(function(m){return typeof m!="number"})}var B=[{title:(0,t.jsx)(d.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0,search:!1,width:"80px"},{title:(0,t.jsx)(d.FormattedMessage,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:!0},{title:(0,t.jsx)(d.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",sorter:!0,valueEnum:{draft:{text:(0,t.jsx)(E.Z,{children:(0,t.jsx)(d.FormattedMessage,{id:"draft",defaultMessage:"draft"})}),status:"draft"},archived:{text:(0,t.jsx)(E.Z,{color:"error",children:(0,t.jsx)(d.FormattedMessage,{id:"archived",defaultMessage:"archived"})}),status:"archived"},published:{text:(0,t.jsx)(E.Z,{color:"success",children:(0,t.jsx)(d.FormattedMessage,{id:"published",defaultMessage:"published"})}),status:"published"},published_unactivated:{text:(0,t.jsx)(E.Z,{color:"processing",children:(0,t.jsx)(d.FormattedMessage,{id:"published_unactivated",defaultMessage:"published_unactivated"})}),status:"published_unactivated"}}},{title:(0,t.jsx)(d.FormattedMessage,{id:"product",defaultMessage:"base_price"}),dataIndex:"product",sorter:!1,valueType:"textarea",search:!1,render:function(x,m){return m.product&&m.product.price?(0,t.jsx)(d.Link,{to:"/courses/list/".concat(m.id,"/product"),children:(0,t.jsx)(L.ZP,{type:"primary",icon:(0,t.jsx)(le.Z,{}),children:(0,t.jsx)("span",{children:(0,fe.RW)(m.product.price,2,100)})})}):m.public?(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(h.Z,{})," ",(0,t.jsx)(d.FormattedMessage,{id:"public_course",defaultMessage:"public course"})]}):(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(h.Z,{})," ",(0,t.jsx)(d.FormattedMessage,{id:"no_pricing",defaultMessage:"no pricing"})]})}},{title:(0,t.jsx)(d.FormattedMessage,{id:"duration",defaultMessage:"Duration"}),dataIndex:"duration",sorter:!0,valueType:"textarea",search:!1},{title:(0,t.jsx)(d.FormattedMessage,{id:"author_tutor"}),dataIndex:"authors",key:"authors",sorter:!1,render:function(x,m){var M;return(0,t.jsx)(t.Fragment,{children:pe((M=m.authors)!==null&&M!==void 0?M:[]).map(function(c){return(0,t.jsx)(E.Z,{children:"".concat(c.first_name," ").concat(c.last_name)},"".concat(m==null?void 0:m.id,"-").concat(c.id))})})},renderFormItem:function(x,m,M){var c=m.type,a=m.defaultRender,r=A()(m,Me);if(c==="form")return null;var u=M.getFieldValue("state");return(0,t.jsx)(ce.Z,P()(P()({multiple:!0},r),{},{state:{type:u}}))}},{title:(0,t.jsx)(d.FormattedMessage,{id:"categories",defaultMessage:"Categories"}),dataIndex:"category_id",key:"category_id",sorter:!1,renderFormItem:function(x,m,M){var c=m.type,a=m.defaultRender,r=A()(m,q);if(c==="form")return null;var u=M.getFieldValue("state");return(0,t.jsx)(_e.Z,P()(P()({},r),{},{state:{type:u}}))},render:function(x,m){var M;return(0,t.jsx)(Y.Fragment,{children:(M=m.categories)===null||M===void 0?void 0:M.map(function(c){return z()(c)==="object"?(0,t.jsx)(E.Z,{children:c.name},c.name):(0,t.jsx)(E.Z,{children:c},c)})})}},{title:(0,t.jsx)(d.FormattedMessage,{id:"tags",defaultMessage:"Tags"}),dataIndex:"tag",key:"tag",sorter:!1,renderFormItem:function(x,m,M){var c=m.type,a=m.defaultRender,r=A()(m,ie);if(c==="form")return null;var u=M.getFieldValue("state");return(0,t.jsx)(ne.Z,P()(P()({},r),{},{state:{type:u},multiple:!0}))},render:function(x,m){var M;return(0,t.jsx)(Y.Fragment,{children:(M=m.tags)===null||M===void 0?void 0:M.map(function(c){return z()(c)==="object"?(0,t.jsx)(E.Z,{children:c.title},c.title):(0,t.jsx)(E.Z,{children:c},c)})})}}],W=i.Z.Title,ee=i.Z.Text,K=function(){var x=(0,Y.useState)(!1),m=f()(x,2),M=m[0],c=m[1],a=(0,Y.useRef)(),r=(0,d.useIntl)(),u=(0,me.T)(),l=u.checkPermission,n=(0,ge.Z)("EscolaLms\\Courses\\Models\\Course"),o=(0,d.useParams)(),xe=o.courseTab,Pe=(0,Y.useMemo)(function(){var H;return n.state!=="loaded"?[]:((H=n==null?void 0:n.list)!==null&&H!==void 0?H:[]).reduce(function(g,_){var b,U=(0,d.getLocale)(),$=_==null||(b=_.extra)===null||b===void 0||(b=b.find(function(O){return O==null?void 0:O[U]}))===null||b===void 0?void 0:b[U];switch(_.type){case ue.fS.Boolean:return[].concat(I()(g),[{title:$!=null?$:(0,t.jsx)(d.FormattedMessage,{id:_.name}),dataIndex:_.name,hideInSearch:!0,width:100,render:function(S,T){return(0,t.jsx)(E.Z,{color:T!=null&&T[_.name]?"green":"red",children:T!=null&&T[_.name]?(0,t.jsx)(d.FormattedMessage,{id:"true"}):(0,t.jsx)(d.FormattedMessage,{id:"false"})})}}]);case ue.fS.Varchar:return[].concat(I()(g),[{title:$!=null?$:(0,t.jsx)(d.FormattedMessage,{id:_.name}),dataIndex:_.name,hideInSearch:!0}]);default:return g}},[])},[n]),Te=(0,Y.useCallback)(function(){var H=p()(s()().mark(function g(_){var b,U;return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return c(!0),b=D.ZP.loading((0,t.jsx)(d.FormattedMessage,{id:"loading",defaultMessage:"loading"})),O.prev=2,O.next=5,(0,R.oA)(_).then(function(S){c(!1),S.success&&D.ZP.success(r.formatMessage({id:S.message}))});case 5:return b(),c(!1),(U=a.current)===null||U===void 0||U.reload(),O.abrupt("return",!0);case 11:return O.prev=11,O.t0=O.catch(2),b(),D.ZP.error((0,t.jsx)(d.FormattedMessage,{id:"error",defaultMessage:"error"})),c(!1),O.abrupt("return",!1);case 17:case"end":return O.stop()}},g,null,[[2,11]])}));return function(g){return H.apply(this,arguments)}}(),[a]),Ee=(0,Y.useCallback)(function(){var H=p()(s()().mark(function g(_){var b,U,$,O;return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return c(!0),b=D.ZP.loading((0,t.jsx)(d.FormattedMessage,{id:"loading",defaultMessage:"loading"})),T.prev=2,T.next=5,(0,R.wQ)(_);case 5:return U=T.sent,T.next=8,U;case 8:$=T.sent,$.success&&(D.ZP.success(r.formatMessage({id:U.message})),O=$.data,window.open(O,"_blank")),T.next=15;break;case 12:T.prev=12,T.t0=T.catch(2),D.ZP.error((0,t.jsx)(d.FormattedMessage,{id:"error",defaultMessage:"error"}));case 15:return T.prev=15,b(),c(!1),T.finish(15);case 19:case"end":return T.stop()}},g,null,[[2,12,15,19]])}));return function(g){return H.apply(this,arguments)}}(),[]),Fe=(0,Y.useCallback)(function(){var H=p()(s()().mark(function g(_){var b,U,$;return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return c(!0),b=D.ZP.loading((0,t.jsx)(d.FormattedMessage,{id:"loading",defaultMessage:"loading"})),S.prev=2,S.next=5,(0,R.wc)(_);case 5:return U=S.sent,U.success&&(D.ZP.success(r.formatMessage({id:U.message})),b(),c(!1),($=a.current)===null||$===void 0||$.reload()),S.abrupt("return",!0);case 10:return S.prev=10,S.t0=S.catch(2),b(),c(!1),S.abrupt("return",!1);case 15:case"end":return S.stop()}},g,null,[[2,10]])}));return function(g){return H.apply(this,arguments)}}(),[]);return(0,t.jsxs)(he._z,{children:[(0,t.jsxs)(Z.ZP,{ghost:!0,gutter:20,style:{marginBottom:20},children:[(0,t.jsx)(Z.ZP,{layout:"center",style:{height:"100%"},children:(0,t.jsxs)(d.Link,{to:"/courses/list/new",style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsx)(ae.Z,{style:{fontSize:"32px"}}),(0,t.jsx)(W,{level:5,style:{marginBottom:0},children:(0,t.jsx)(d.FormattedMessage,{id:"create_new",defaultMessage:"Create new"})})]},"new")}),l(k.Z.CourseImport)&&(0,t.jsx)(Z.ZP,{layout:"center",style:{height:"100%"},children:(0,t.jsx)("div",{className:"course-upload",children:(0,t.jsx)(X.Z,{title:r.formatMessage({id:"import_file"}),url:"/api/admin/courses/zip/import",name:"file",accept:".zip",onChange:function(g){g.file.status==="done"&&g.file.response&&g.file.response.success&&D.ZP.success(r.formatMessage({id:g.file.response.message})),g.file.response&&g.file.status==="error"&&(D.ZP.error(r.formatMessage({id:g.file.response.message})),console.error(g.file.response))}},"upload")})}),(0,t.jsx)(Z.ZP,{layout:"center",style:{backgroundColor:"#FFED8E"},children:(0,t.jsxs)("a",{href:"https://docs.wellms.io/app-guide/",target:"_blank",rel:"noopener noreferrer",style:{textAlign:"center"},children:[(0,t.jsx)(W,{level:5,children:(0,t.jsx)(d.FormattedMessage,{id:"course_guide_title",defaultMessage:"Not sure how to create a course?"})}),(0,t.jsx)(ee,{children:(0,t.jsx)(d.FormattedMessage,{id:"course_guide_text",defaultMessage:"Check out our guide and learn how to do it."})})]})})]})," ",(0,t.jsxs)(Z.ZP,{tabs:{type:"card",activeKey:xe,onChange:function(g){d.history.push("/courses/".concat(g))}},children:[(0,t.jsx)(Z.ZP.TabPane,{tab:(0,t.jsx)(d.FormattedMessage,{id:"list"}),children:(0,t.jsx)(de.ZP,{loading:M,headerTitle:r.formatMessage({id:"menu.Courses",defaultMessage:"Courses List"}),actionRef:a,rowKey:"id",search:{layout:"vertical"},request:function(g,_){var b=g.pageSize,U=g.current,$=g.title,O=g.active,S=g.category_id,T=g.tag,be=g.status,Oe=g.authors;return c(!0),(0,R.N7)(P()({title:$||void 0,status:be,per_page:b,page:U,category_id:S,"tag[]":T?[T]:void 0,authors:Oe,active:O&&O},(0,fe.di)(_,"created_at"))).then(function(Ce){return c(!1),Ce.success?{data:Ce.data,total:Ce.meta.total,success:!0}:[]})},columns:[].concat(B,I()(Pe),[{title:(0,t.jsx)(d.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(g,_){return[(0,t.jsx)(d.Link,{to:"/courses/list/".concat(_.id),children:(0,t.jsx)(ve.Z,{title:(0,t.jsx)(d.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(L.ZP,{type:"primary",icon:(0,t.jsx)(J.Z,{})})})},"edit"),(0,t.jsx)(je.Z,{title:(0,t.jsx)(d.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return _.id&&Te(_.id)},okText:(0,t.jsx)(d.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,t.jsx)(d.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,t.jsx)(ve.Z,{title:(0,t.jsx)(d.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,t.jsx)(L.ZP,{type:"primary",icon:(0,t.jsx)(N.Z,{}),danger:!0})})},"delete"),(l(k.Z.CourseExport)||l(k.Z.CourseExportAuthored))&&(0,t.jsx)(ve.Z,{title:(0,t.jsx)(d.FormattedMessage,{id:"export",defaultMessage:"export"}),children:(0,t.jsx)(L.ZP,{onClick:function(){return Ee(Number(_.id))},icon:(0,t.jsx)(se.Z,{})})},"export"),l(k.Z.COURSES_CLONE)&&(0,t.jsx)(ve.Z,{title:(0,t.jsx)(d.FormattedMessage,{id:"clone",defaultMessage:"clone"}),children:(0,t.jsx)(L.ZP,{onClick:function(){return _.id&&Fe(_.id)},icon:(0,t.jsx)(oe.Z,{})})},"clone")]}}])})},"list"),(0,t.jsx)(Z.ZP.TabPane,{tab:(0,t.jsx)(d.FormattedMessage,{id:"ModelFields"}),children:(0,t.jsx)(G.ZP,{class_type:"EscolaLms\\Courses\\Models\\Course"})},"fields")]})]})},y=K},99100:function(ye,Q,e){e.d(Q,{BN:function(){return le},Cn:function(){return _e},Cx:function(){return x},DY:function(){return X},HV:function(){return Y},Hf:function(){return ae},Jb:function(){return ie},N7:function(){return F},Nx:function(){return oe},O1:function(){return Me},P6:function(){return N},Pd:function(){return fe},XR:function(){return w},aA:function(){return he},fg:function(){return B},iI:function(){return ge},if:function(){return y},oA:function(){return ce},ps:function(){return i},sI:function(){return ve},ue:function(){return E},vJ:function(){return R},wQ:function(){return ee},wc:function(){return M}});var te=e(15009),s=e.n(te),re=e(97857),p=e.n(re),V=e(13769),I=e.n(V),C=e(99289),f=e.n(C),v=e(80854),z=["authors"];function F(a,r){return P.apply(this,arguments)}function P(){return P=f()(s()().mark(function a(r,u){var l,n;return s()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return l=r.authors,n=I()(r,z),xe.abrupt("return",(0,v.request)("/api/admin/courses",p()({method:"GET",useCache:!1,params:p()(p()({},n),{},{"authors[]":l})},u||{})));case 2:case"end":return xe.stop()}},a)})),P.apply(this,arguments)}function w(a,r,u){return A.apply(this,arguments)}function A(){return A=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r),p()({method:"GET",useCache:l!==void 0?l:!0},u||{})));case 1:case"end":return o.stop()}},a)})),A.apply(this,arguments)}function le(a,r){return h.apply(this,arguments)}function h(){return h=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/topics/".concat(r),p()({method:"GET"},u||{})));case 1:case"end":return n.stop()}},a)})),h.apply(this,arguments)}function ae(a,r,u){return J.apply(this,arguments)}function J(){return J=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r),p()({method:"POST",headers:{"Content-Type":"application/json"},data:u},l||{})));case 1:case"end":return o.stop()}},a)})),J.apply(this,arguments)}function N(a,r){return se.apply(this,arguments)}function se(){return se=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/courses",p()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return n.stop()}},a)})),se.apply(this,arguments)}function oe(a,r,u){return Z.apply(this,arguments)}function Z(){return Z=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r,"/program"),p()({method:"GET",useCache:!1,headers:{"Content-Type":"application/json"},data:u},l||{})));case 1:case"end":return o.stop()}},a)})),Z.apply(this,arguments)}function he(a,r){return de.apply(this,arguments)}function de(){return de=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/lessons",p()({method:"POST",data:r},u||{})));case 1:case"end":return n.stop()}},a)})),de.apply(this,arguments)}function E(a,r,u){return L.apply(this,arguments)}function L(){return L=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/stats/course/".concat(r),p()({method:"GET",params:{"stats[]":u}},l||{})));case 1:case"end":return o.stop()}},a)})),L.apply(this,arguments)}function i(a,r,u){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/stats/topic/".concat(r),p()({params:{"stats[]":u}},l!=null?l:{})));case 1:case"end":return o.stop()}},a)})),D.apply(this,arguments)}function ve(a,r,u){return je.apply(this,arguments)}function je(){return je=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/lessons/".concat(r,"?_method=PUT"),p()({method:"POST",data:u},l||{})));case 1:case"end":return o.stop()}},a)})),je.apply(this,arguments)}function Y(a,r){return d.apply(this,arguments)}function d(){return d=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/topics",p()({method:"POST",data:r},u||{})));case 1:case"end":return n.stop()}},a)})),d.apply(this,arguments)}function _e(a,r,u){return G.apply(this,arguments)}function G(){return G=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/topics/".concat(r,"?_method=PUT"),p()({method:"POST",data:u},l||{})));case 1:case"end":return o.stop()}},a)})),G.apply(this,arguments)}function X(a,r){return ne.apply(this,arguments)}function ne(){return ne=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/courses/sort",p()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return n.stop()}},a)})),ne.apply(this,arguments)}function ce(a){return k.apply(this,arguments)}function k(){return k=f()(s()().mark(function a(r){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r),{method:"DELETE"}));case 1:case"end":return l.stop()}},a)})),k.apply(this,arguments)}function ge(a){return me.apply(this,arguments)}function me(){return me=f()(s()().mark(function a(r){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/admin/lessons/".concat(r),{method:"DELETE"}));case 1:case"end":return l.stop()}},a)})),me.apply(this,arguments)}function R(a){return ue.apply(this,arguments)}function ue(){return ue=f()(s()().mark(function a(r){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,v.request)("/api/admin/topics/".concat(r),{method:"DELETE"}));case 1:case"end":return l.stop()}},a)})),ue.apply(this,arguments)}function fe(a,r,u){return t.apply(this,arguments)}function t(){return t=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r,"/access"),p()({method:"GET",useCache:!1,headers:{"Content-Type":"application/json"},data:u},l||{})));case 1:case"end":return o.stop()}},a)})),t.apply(this,arguments)}function Me(a,r,u){return q.apply(this,arguments)}function q(){return q=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r,"/access/set"),p()({method:"POST",headers:{"Content-Type":"application/json"},data:u},l||{})));case 1:case"end":return o.stop()}},a)})),q.apply(this,arguments)}function ie(a,r){return pe.apply(this,arguments)}function pe(){return pe=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/topics/".concat(r,"/resources"),p()({method:"GET",useCache:!1,headers:{"Content-Type":"application/json"}},u||{})));case 1:case"end":return n.stop()}},a)})),pe.apply(this,arguments)}function B(a,r,u){return W.apply(this,arguments)}function W(){return W=f()(s()().mark(function a(r,u,l){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,v.request)("/api/admin/topics/".concat(r,"/resources/").concat(u),p()({method:"DELETE",headers:{"Content-Type":"application/json"}},l||{})));case 1:case"end":return o.stop()}},a)})),W.apply(this,arguments)}function ee(a,r){return K.apply(this,arguments)}function K(){return K=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r,"/export"),p()({method:"GET",useCache:!1},u||{})));case 1:case"end":return n.stop()}},a)})),K.apply(this,arguments)}function y(a,r){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/lessons/".concat(r,"/clone"),p()({method:"POST",headers:{"Content-Type":"application/json"}},u||{})));case 1:case"end":return n.stop()}},a)})),j.apply(this,arguments)}function x(a,r){return m.apply(this,arguments)}function m(){return m=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/topics/".concat(r,"/clone"),p()({method:"POST",headers:{"Content-Type":"application/json"}},u||{})));case 1:case"end":return n.stop()}},a)})),m.apply(this,arguments)}function M(a,r){return c.apply(this,arguments)}function c(){return c=f()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.request)("/api/admin/courses/".concat(r,"/clone"),p()({method:"GET",headers:{"Content-Type":"application/json"}},u||{})));case 1:case"end":return n.stop()}},a)})),c.apply(this,arguments)}}}]);
