(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{A6KM:function(je,H,t){"use strict";t.d(H,"a",function(){return ie});var V=t("OaEy"),$=t("2fM7"),oe=t("T2oS"),ue=t("W9HT"),ne=t("oBTY"),Y=t("tJVT"),W=t("q1tI"),se=t.n(W),_=t("H6aw"),l=t("EmS3"),N=t("Gb5Y"),G=t("9kvl"),n=t("nKUr"),v=t.n(n),w=function(C){return C.map(function(F){return"name"in F?{id:Number(F.id),name:F.name}:{id:Number(F.id),name:F.title?F.title:""}})},ie=function(C){var F=C.value,Z=C.onChange,i=C.multiple,ee=i===void 0?!1:i,L=C.defaultValue,le=C.modelType,a=le===void 0?"COURSE":le,te=Object(W.useState)([]),X=Object(Y.a)(te,2),R=X[0],ae=X[1],fe=Object(W.useState)(!1),me=Object(Y.a)(fe,2),he=me[0],Oe=me[1],j=Object(W.useRef)(),pe=Object(W.useCallback)(function(O){var U,Q,B,e;switch(a){case"COURSE":return Object(_.e)(O,{signal:j==null||(U=j.current)===null||U===void 0?void 0:U.signal});case"WEBINAR":return Object(l.f)(O,{signal:j==null||(Q=j.current)===null||Q===void 0?void 0:Q.signal});case"CONSULTATIONS":return Object(N.b)(O,{signal:j==null||(B=j.current)===null||B===void 0?void 0:B.signal});default:return Object(_.e)(O,{signal:j==null||(e=j.current)===null||e===void 0?void 0:e.signal})}},[a,j]),ge=Object(W.useCallback)(function(O){var U,Q,B,e;switch(a){case"COURSE":return Object(_.k)(Number(O),{signal:(U=j.current)===null||U===void 0?void 0:U.signal});case"WEBINAR":return Object(l.d)(Number(O),{signal:(Q=j.current)===null||Q===void 0?void 0:Q.signal});case"CONSULTATIONS":return Object(N.e)(Number(O),{signal:(B=j.current)===null||B===void 0?void 0:B.signal});default:return Object(_.k)(Number(O),{signal:(e=j.current)===null||e===void 0?void 0:e.signal})}},[a,j]),ce=Object(W.useCallback)(function(O){Oe(!0),j.current&&j.current.abort(),j.current=new AbortController,pe(O?{title:O}:{}).then(function(U){U.success&&ae(w(U.data)),Oe(!1)}).catch(function(){return Oe(!1)})},[a]),be=Object(W.useCallback)(function(O){ce(O)},[ce]);return Object(W.useEffect)(function(){return j.current=new AbortController,F&&ge(Number(F)).then(function(O){O&&O.success&&ae(function(U){return[].concat(Object(ne.a)(U),Object(ne.a)(w([O.data])))})}),function(){j.current&&j.current.abort()}},[F,a]),Object(n.jsx)($.a,{defaultValue:L,onFocus:function(){return ce()},allowClear:!0,style:{width:"100%"},value:F,onChange:Z,mode:ee?"multiple":void 0,showSearch:!0,onSearch:be,placeholder:Object(n.jsx)(G.a,{id:"select_content",defaultMessage:"select_content"}),optionFilterProp:"children",filterOption:function(U,Q){if(Q&&Q.children){var B;return(Q==null||(B=Q.children)===null||B===void 0?void 0:B.toString().toLowerCase().indexOf(U.toLowerCase()))>=0}return!0},notFoundContent:he?Object(n.jsx)(ue.a,{size:"small"}):null,optionLabelProp:"label",children:R.map(function(O){return Object(n.jsx)($.a.Option,{value:O.id,label:O.name,children:O.name},O.id)})})}},FhbG:function(je,H,t){"use strict";t.r(H),t.d(H,"ModelTypes",function(){return Me}),t.d(H,"QuestionareForm",function(){return Pe});var V=t("+L6B"),$=t("2/Rp"),oe=t("14J3"),ue=t("BMrR"),ne=t("jCWc"),Y=t("kPKH"),W=t("T2oS"),se=t("W9HT"),_=t("miYZ"),l=t("tsqr"),N=t("oBTY"),G=t("jrin"),n=t("k1fw"),v=t("qLMh"),w=t("9og8"),ie=t("y8nQ"),d=t("Vl3Y"),C=t("tJVT"),F=t("tU7J"),Z=t("wFql"),i=t("q1tI"),ee=t("tMyG"),L=t("nhC9"),le=t("Ty5D"),a=t("9kvl"),te=t("Qurx"),X=t("F/zT"),R=t("HuWs"),ae=t("VMEa"),fe=t("A6KM"),me=t("P2fV"),he=t("NJEC"),Oe=t("5Dmo"),j=t("3S7+"),pe=t("xvlK"),ge=t("G3dp"),ce=t("/MfK"),be=t("Qiat"),O=t("rmhi"),U=t("yj/a"),Q=t("FJDo"),B=t("/y+f"),e=t("nKUr"),Fe=function(y){var o=Object(a.l)(),S=y.visible,E=y.onVisibleChange,h=y.onFinish,c=y.id,z=y.questionsList,D=d.a.useForm(),b=Object(C.a)(D,1),u=b[0];Object(i.useEffect)(function(){typeof c=="number"&&c>0?Object(R.h)(c).then(function(r){r.success&&u.setFieldsValue(r.data)}):u.resetFields()},[c,u]);var f=Object.values(B.f).map(function(r){return{name:r,label:o.formatMessage({id:"QuestionType.".concat(r)}),value:r,disabled:r===B.f.Review&&z.findIndex(function(K){var p=K.type;return p===B.f.Review})!==-1}});return Object(e.jsxs)(O.a,{form:u,title:o.formatMessage({id:typeof c=="number"&&c>0?"question_edit":"question_add",defaultMessage:typeof c=="number"&&c>0?"question_edit":"question_add"}),width:"400px",visible:S,onVisibleChange:E,onFinish:h,children:[Object(e.jsx)(U.a,{name:"type",options:f,label:Object(e.jsx)(a.a,{id:"type"}),initialValue:B.f.Rate}),Object(e.jsx)(te.a,{width:"lg",name:"title",label:Object(e.jsx)(a.a,{id:"title"}),tooltip:Object(e.jsx)(a.a,{id:"title"}),placeholder:o.formatMessage({id:"title"})}),Object(e.jsx)(te.a,{width:"lg",name:"description",label:Object(e.jsx)(a.a,{id:"description"}),tooltip:Object(e.jsx)(a.a,{id:"description"}),placeholder:o.formatMessage({id:"description"})}),Object(e.jsx)(Q.a,{width:"lg",name:"position",label:Object(e.jsx)(a.a,{id:"position"}),tooltip:Object(e.jsx)(a.a,{id:"position"}),placeholder:o.formatMessage({id:"position",defaultMessage:"position"}),min:0,max:9999,fieldProps:{step:1}}),Object(e.jsx)(X.a,{initialValue:!0,name:"active",label:Object(e.jsx)(a.a,{id:"is_active",defaultMessage:"is_active"})}),Object(e.jsx)(X.a,{initialValue:!0,name:"public_answers",label:Object(e.jsx)(a.a,{id:"show_hide_on_front",defaultMessage:"show_hide_on_front"})})]})},Re=Fe,Ae=t("c+yx"),Le=function(y){var o=y.questionnaireId,S=y.questions,E=y.fetchData,h=Object(a.l)(),c=Object(i.useState)(!1),z=Object(C.a)(c,2),D=z[0],b=z[1],u=Object(i.useMemo)(function(){return[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!1,sorter:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0,sorter:!0,renderText:function(g,M){return h.formatMessage({id:"QuestionType.".concat(M.type)})}},{title:Object(e.jsx)(a.a,{id:"description",defaultMessage:"description"}),dataIndex:"description",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"position",defaultMessage:"position"}),dataIndex:"position",hideInSearch:!0,sorter:!0}]},[]),f=Object(i.useRef)(),r=function(){var p=Object(w.a)(Object(v.a)().mark(function g(M,s){var q;return Object(v.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return q=l.b.loading(h.formatMessage({id:"loading"})),I.prev=1,I.next=4,s&&s!==-1?Object(R.g)(s,Object(n.a)(Object(n.a)({},M),{},{questionnaire_id:o})):Object(R.a)(Object(n.a)(Object(n.a)({},M),{},{questionnaire_id:o}));case 4:return q(),E(),l.b.success(h.formatMessage({id:"success"})),I.abrupt("return",!0);case 10:return I.prev=10,I.t0=I.catch(1),q(),l.b.error(h.formatMessage({id:"error"})),I.abrupt("return",!1);case 15:case"end":return I.stop()}},g,null,[[1,10]])}));return function(M,s){return p.apply(this,arguments)}}(),K=Object(i.useCallback)(function(){var p=Object(w.a)(Object(v.a)().mark(function g(M){var s;return Object(v.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return s=l.b.loading(h.formatMessage({id:"loading"})),P.prev=1,P.next=4,Object(R.e)(M);case 4:return s(),E(),P.abrupt("return",!0);case 9:return P.prev=9,P.t0=P.catch(1),s(),l.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),P.abrupt("return",!1);case 14:case"end":return P.stop()}},g,null,[[1,9]])}));return function(g){return p.apply(this,arguments)}}(),[f,h]);return Object(i.useEffect)(function(){var p;(p=f.current)===null||p===void 0||p.reload()},[S,E]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(be.a,{headerTitle:h.formatMessage({id:"question_list",defaultMessage:"question_list"}),actionRef:f,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(e.jsxs)($.a,{type:"primary",onClick:function(){b(-1)},children:[Object(e.jsx)(pe.a,{})," ",Object(e.jsx)(a.a,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"primary")]},columns:[].concat(Object(N.a)(u),[{title:Object(e.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(g,M){return[Object(e.jsx)(j.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(ge.a,{}),onClick:function(){return M.id&&b(M.id)}})},"edit"),Object(e.jsx)(he.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return M.id&&K(M.id)},okText:Object(e.jsx)(a.a,{id:"yes"}),cancelText:Object(e.jsx)(a.a,{id:"no"}),children:Object(e.jsx)(j.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(ce.a,{}),danger:!0})})},"delete")]}}]),request:function(g,M){var s=g.title,q=M&&Object.entries(M)[0];return new Promise(function(P){var I=S?Object(N.a)(S):[];s&&(I=I.filter(function(Ce){return Ce.title.toLowerCase().includes(s.toLowerCase())})),q&&(I=Object(Ae.i)(I,q[0],q[1]!=="ascend")),P({data:I,success:!0,total:I.length})})}}),Object(e.jsx)(Re,{id:D,visible:Number.isInteger(D),onVisibleChange:function(g){return g===!1&&b(!1)},questionsList:S!=null?S:[],onFinish:function(){var p=Object(w.a)(Object(v.a)().mark(function g(M){var s;return Object(v.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,r(M,Number(D));case 2:s=P.sent,s&&b(!1);case 4:case"end":return P.stop()}},g)}));return function(g){return p.apply(this,arguments)}}()})]})},Ue=Le,Be=t("PpiC"),Ke=t("Vpfc"),We=t("0WSk"),Ne=t("sWYD"),Qe=t("mGZj"),Ve=["type"],$e=function(y){var o=y.record,S=d.a.useForm(),E=Object(C.a)(S,1),h=E[0],c=Object(a.l)(),z=Object(i.useMemo)(function(){return{onValuesChange:function(b,u){var f=u,r=f.visible_on_front;Object(R.c)(o.id,{visible_on_front:r}).then(function(K){l.b.success(Object(e.jsx)(a.a,{id:"question_answer_visibility_changed",defaultMessage:K.message}))}).catch(function(){return l.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"}))})},submitter:{render:function(){return null}}}},[]);return Object(e.jsx)(ae.a,Object(n.a)(Object(n.a)({form:h},z),{},{children:Object(e.jsx)(X.a,{name:"visible_on_front",initialValue:o.visible_on_front,checkedChildren:c.formatMessage({id:"visible",defaultMessage:"visible"}),unCheckedChildren:c.formatMessage({id:"hidden",defaultMessage:"hidden"})})}))},we=function(y){var o=y.questionnaireId,S=y.questions,E=Object(i.useMemo)(function(){return S&&S.reduce(function(D,b){return Object(n.a)(Object(n.a)({},D),{},Object(G.a)({},b.id,b.title))},{})},[S]),h=[{title:Object(e.jsx)(a.a,{id:"questions",defaultMessage:"questions"}),dataIndex:"question_id",hideInSearch:!1,valueEnum:E,valueType:"select"}],c=Object(a.l)(),z=[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(e.jsx)(a.a,{id:"updated_at",defaultMessage:"updated_at"}),dataIndex:"updated_at",hideInSearch:!0,render:function(b,u){return u.updated_at?new Date(u.updated_at).toLocaleString():"-"},sorter:!0},{title:Object(e.jsx)(a.a,{id:"updated_at",defaultMessage:"updated_at"}),dataIndex:"date",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"date",fieldProps:{allowEmpty:[!0]}},{title:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"question_title",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"note",defaultMessage:"note"}),dataIndex:"note",hideInSearch:!0,sorter:!0,render:function(b,u){var f,r;return u.note&&((f=u.note)===null||f===void 0?void 0:f.length)>64?((r=u.note)===null||r===void 0?void 0:r.slice(0,64))+"...":u.note}},{title:Object(e.jsx)(a.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",hideInSearch:!1,render:function(b,u){var f,r;return Object(e.jsxs)("div",{children:[Object(e.jsx)(Ke.a,{type:"App\\Models\\User",type_id:u.user_id}),Object(e.jsx)("p",{className:"list-paragraph",children:(f=u.user)===null||f===void 0?void 0:f.name}),Object(e.jsx)("p",{className:"list-paragraph",children:(r=u.user)===null||r===void 0?void 0:r.email})]})},renderFormItem:function(b,u,f){var r=u.type,K=Object(Be.a)(u,Ve);if(r==="form")return null;var p=f.getFieldValue("state");return Object(e.jsx)(We.a,Object(n.a)(Object(n.a)({},K),{},{state:{type:p}}))}},{title:Object(e.jsx)(a.a,{id:"sum_rate",defaultMessage:"sum_rate"}),dataIndex:"rate",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"show_hide_on_front",defaultMessage:"show_hide_on_front"}),dataIndex:"visible_on_front",hideInSearch:!0,sorter:!1,render:function(b,u){return Object(e.jsx)($e,{record:u})}}];return Object(e.jsx)(be.a,{headerTitle:c.formatMessage({id:"answers",defaultMessage:"answers"}),search:{layout:"vertical"},rowKey:"id",request:function(b,u){var f=b.pageSize,r=b.current,K=b.question_id,p=b.user_id,g=b.date,M=u&&Object.entries(u)[0];return Object(R.i)(o,{per_page:f,page:r,question_id:K,user_id:p,updated_at:g?Object(Ne.a)(new Date(g),Qe.a):void 0,order_by:M&&M[0],order:M?M[1]==="ascend"?"ASC":"DESC":void 0}).then(function(s){return s.success?{data:s.data,success:!0}:[]})},columns:[].concat(z,h)})},Je=we,at=t("OaEy"),ye=t("2fM7"),rt=t("fOrg"),Ge=t("+KLJ"),ze=t("LDJE"),He={isGroup:!0,xField:"label",yField:"value",seriesField:"type",marginRatio:0},Ye=function(y){var o=y.state,S=Object(a.l)();return Object(e.jsxs)(L.a,{headerBordered:!0,style:{height:"500px"},children:[o.mode==="loading"&&Object(e.jsx)(se.a,{}),o.mode==="loaded"&&o.value.length>0?Object(e.jsx)(ze.a,Object(n.a)(Object(n.a)({},He),{},{data:[].concat(Object(N.a)(o.value),Object(N.a)(o.value)).map(function(E,h){return{label:E.title,value:h>o.value.length-1?E.count_answers:Number(E.avg_rate),type:h>o.value.length-1?S.formatMessage({id:"answers"}):"Rating"}})})):o.mode!=="loading"&&Object(e.jsx)("p",{children:Object(e.jsx)(a.a,{id:"no_data",defaultMessage:"no_data"})}),o.mode==="error"&&Object(e.jsx)(Ge.a,{message:o.error.data.message,type:"error"})]})},Ze=Ye,Xe=function(y){var o=y.questionnaireId,S=y.models,E=Object(i.useState)(""),h=Object(C.a)(E,2),c=h[0],z=h[1],D=Object(i.useState)({mode:"init"}),b=Object(C.a)(D,2),u=b[0],f=b[1];return Object(i.useEffect)(function(){f({mode:"loading"});var r=function(){var K=Object(w.a)(Object(v.a)().mark(function p(){var g;return Object(v.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!c){s.next=7;break}return s.next=4,Object(R.m)(o,Number(c.split("/")[0]),Number(c.split("/")[1]));case 4:s.t0=s.sent,s.next=10;break;case 7:return s.next=9,Object(R.m)(o);case 9:s.t0=s.sent;case 10:g=s.t0,g.success&&f({mode:"loaded",value:g.data}),s.next=17;break;case 14:s.prev=14,s.t1=s.catch(0),f({mode:"error",error:s.t1});case 17:case"end":return s.stop()}},p,null,[[0,14]])}));return function(){return K.apply(this,arguments)}}();r()},[o,S,c]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Z.a.Title,{level:5,children:Object(e.jsx)(a.a,{id:"questionnaire.raports.filter",defaultMessage:"questionnaire.raports.filter"})}),Object(e.jsx)(ye.a,{allowClear:!0,style:{minWidth:"400px"},onChange:function(K){return z(K)},children:S.map(function(r){return Object(e.jsxs)(ye.a.Option,{value:"".concat(r.model_type_id,"/").concat(r.model_id),children:[Object(e.jsx)(a.a,{id:r.model_type_title,defaultMessage:r.model_type_title})," ","- ",r.model_title]},r.id)})}),Object(e.jsx)(L.a,{split:"vertical",children:Object(e.jsx)(L.a,{colSpan:24,layout:"center",children:Object(e.jsx)(Ze,{state:u})})})]})},qe=Xe,nt=t("GCLz"),_e=Z.a.Title,Me;(function(re){re[re.COURSE=1]="COURSE"})(Me||(Me={}));var Pe=function(){var y,o,S=Object(le.l)(),E=S.questionnaireId,h=Object(a.l)(),c=E==="new",z=d.a.useForm(),D=Object(C.a)(z,1),b=D[0],u=Object(i.useState)(),f=Object(C.a)(u,2),r=f[0],K=f[1],p=Object(i.useState)("questionnaire"),g=Object(C.a)(p,2),M=g[0],s=g[1],q=Object(i.useState)(),P=Object(C.a)(q,2),I=P[0],Ce=P[1],ke=Object(i.useState)({}),Se=Object(C.a)(ke,2),Ee=Se[0],Te=Se[1],Ie=Object(i.useCallback)(Object(w.a)(Object(v.a)().mark(function T(){var m;return Object(v.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(R.k)();case 2:m=x.sent,m.success&&Ce(m.data);case 4:case"end":return x.stop()}},T)})),[]),De=Object(i.useCallback)(function(T,m){return T.reduce(function(A,x){return(A[x[m]]=A[x[m]]||[]).push(x.model_id),A},{})},[]),de=Object(i.useCallback)(Object(w.a)(Object(v.a)().mark(function T(){var m;return Object(v.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(R.j)(Number(E));case 2:m=x.sent,m.success&&(K(Object(n.a)({},m.data)),m.data.models&&Te(De(m.data.models,"model_type_id")));case 4:case"end":return x.stop()}},T)})),[E,De]);Object(i.useEffect)(function(){if(Ie(),c){K({title:"new"});return}de()},[E,de,Ie,c]);var et=Object(i.useCallback)(function(T,m){Te(function(A){return Object(n.a)(Object(n.a)({},A),{},Object(G.a)({},m,T))})},[]),xe=Object(i.useCallback)(function(T){var m=[];return Object.keys(T).map(function(A){m.push.apply(m,Object(N.a)(T[A].map(function(x){return{model_id:x,model_type_id:Number(A)}})))}),m},[]),tt=Object(i.useMemo)(function(){return{onFinish:function(){var T=Object(w.a)(Object(v.a)().mark(function A(x){var k,ve;return Object(v.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(J.prev=0,!c){J.next=9;break}return J.next=4,Object(R.d)(Object(n.a)(Object(n.a)({},x),{},{models:xe(Ee)}));case 4:k=J.sent,k.success&&a.f.push("/other/questionnaire/".concat(k.data.id)),l.b.success(Object(e.jsx)(a.a,{id:"success",defaultMessage:"success"})),J.next=14;break;case 9:return J.next=11,Object(R.p)(Number(r==null?void 0:r.id),Object(n.a)(Object(n.a)({},x),{},{models:xe(Ee)}));case 11:ve=J.sent,ve.success&&de(),l.b.success(Object(e.jsx)(a.a,{id:"success",defaultMessage:"success"}));case 14:J.next=19;break;case 16:J.prev=16,J.t0=J.catch(0),l.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"}));case 19:case"end":return J.stop()}},A,null,[[0,16]])}));function m(A){return T.apply(this,arguments)}return m}(),initialValues:r}},[r,Ee,de,xe,c]);return r?Object(e.jsx)(ee.a,{title:Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(a.a,{id:r!=null&&r.title?"questionnaire":"new_questionnaire"})}),header:{breadcrumb:{routes:[{path:"other/questionnaire",breadcrumbName:h.formatMessage({id:"menu.Other activities.Questionnaire"})},{path:String(E),breadcrumbName:h.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(r==null?void 0:r.title)}]}},children:Object(e.jsxs)(L.a,{tabs:{type:"card",defaultActiveKey:"questionnaire",activeKey:M,onChange:function(m){return s(m)}},children:[Object(e.jsxs)(L.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"questionnaire",defaultMessage:"questionnaire"}),children:[Object(e.jsx)(_e,{level:3,children:Object(e.jsx)(a.a,{id:"questionnaire",defaultMessage:"questionnaire"})})," ",Object(e.jsx)(ae.a,Object(n.a)(Object(n.a)({},tt),{},{form:b,children:Object(e.jsxs)(ue.a,{children:[Object(e.jsx)(Y.a,{span:6,children:Object(e.jsx)(te.a,{label:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),rules:[{required:!0}],width:"md",name:"title"})}),Object(e.jsx)(Y.a,{children:Object(e.jsx)(X.a,{initialValue:!0,name:"active",label:Object(e.jsx)(a.a,{id:"is_active",defaultMessage:"is_active"})})})]})}))]},"questionnaire"),Object(e.jsx)(L.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"questions",defaultMessage:"questions"}),disabled:c,children:Object(e.jsx)(Ue,{questionnaireId:Number(E),questions:r.questions||[],fetchData:de})},"questions"),Object(e.jsx)(L.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"answers",defaultMessage:"answers"}),disabled:c,children:Object(e.jsx)(Je,{questionnaireId:Number(E),questions:r.questions||[]})},"answers"),I&&I.map(function(T){var m,A,x;return Object(e.jsxs)(L.a.TabPane,{tab:"".concat(h.formatMessage({id:"assign"})," ").concat(h.formatMessage({id:"to"})," ").concat(h.formatMessage({id:(m=T.title)===null||m===void 0?void 0:m.replace(T.title.charAt(0),T.title.charAt(0).toUpperCase())})),disabled:c,children:[Object(e.jsx)(fe.a,{defaultValue:((A=r.models)===null||A===void 0?void 0:A.filter(function(k){return k.model_type_title===T.title}).map(function(k){return{value:k.model_id,label:k.model_title}}))||[],multiple:!0,onChange:function(ve){return et(ve,T.id)},modelType:(x=T.title)===null||x===void 0?void 0:x.toUpperCase()}),Object(e.jsx)($.a,{className:"submit-btn",type:"primary",onClick:function(){return b.submit()},children:Object(e.jsx)(a.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})]},String(T.id))}),Object(e.jsx)(L.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"menu.reports",defaultMessage:"menu.reports"}),disabled:c||((y=r.models)===null||y===void 0?void 0:y.length)===0,children:(r==null?void 0:r.models)&&(r==null||(o=r.models)===null||o===void 0?void 0:o.length)>0&&Object(e.jsx)(qe,{questionnaireId:Number(E),models:r.models})},"raport")]})}):Object(e.jsx)(se.a,{})},st=H.default=Pe},GCLz:function(je,H,t){},LDJE:function(je,H,t){"use strict";var V=t("q1tI"),$=t.n(V),oe=t("ma/q"),ue=t("ZIEt"),ne=t("QpZ9"),Y=t("GzfL"),W=t("Scwr"),se=function(l,N){var G={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&N.indexOf(n)<0&&(G[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,n=Object.getOwnPropertySymbols(l);v<n.length;v++)N.indexOf(n[v])<0&&Object.prototype.propertyIsEnumerable.call(l,n[v])&&(G[n[v]]=l[n[v]]);return G},_=Object(V.forwardRef)(function(l,N){var G=l.chartRef,n=l.style,v=n===void 0?{height:"inherit"}:n,w=l.className,ie=l.loading,d=l.loadingTemplate,C=l.errorTemplate,F=se(l,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Z=Object(ue.a)(oe.a,F),i=Z.chart,ee=Z.container;return Object(V.useEffect)(function(){Object(ne.a)(G,i.current)},[i.current]),Object(V.useImperativeHandle)(N,function(){return{getChart:function(){return i.current}}}),$.a.createElement(Y.a,{errorTemplate:C},ie&&$.a.createElement(W.a,{loadingTemplate:d,theme:l.theme}),$.a.createElement("div",{className:w,style:v,ref:ee}))});H.a=_},"yj/a":function(je,H,t){"use strict";var V=t("VTBJ"),$=t("Ff2n"),oe=t("nKUr"),ue=t.n(oe),ne=t("uX+g"),Y=t("q1tI"),W=t.n(Y),se=t("lS/g"),_=t("adzw"),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],N=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],G=W.a.forwardRef(function(d,C){var F=d.fieldProps,Z=d.children,i=d.params,ee=d.proFieldProps,L=d.mode,le=d.valueEnum,a=d.request,te=d.showSearch,X=d.options,R=Object($.a)(d,l),ae=Object(Y.useContext)(se.b);return Object(oe.jsx)(_.a,Object(V.a)(Object(V.a)({valueEnum:Object(ne.a)(le),request:a,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(V.a)({options:X,mode:L,showSearch:te,getPopupContainer:ae.getPopupContainer},F),ref:C,proFieldProps:ee},R),{},{children:Z}))}),n=W.a.forwardRef(function(d,C){var F=d.fieldProps,Z=d.children,i=d.params,ee=d.proFieldProps,L=d.mode,le=d.valueEnum,a=d.request,te=d.options,X=Object($.a)(d,N),R=Object(V.a)({options:te,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},F),ae=Object(Y.useContext)(se.b);return Object(oe.jsx)(_.a,Object(V.a)(Object(V.a)({valueEnum:Object(ne.a)(le),request:a,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(V.a)({getPopupContainer:ae.getPopupContainer},R),ref:C,proFieldProps:ee},X),{},{children:Z}))}),v=G,w=n,ie=v;ie.SearchSelect=w,ie.displayName="ProFormComponent",H.a=ie}}]);

//# sourceMappingURL=p__Questionnaire__form.edcc20f0.async.js.map