(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"5tKr":function(U,O,e){"use strict";e.d(O,"b",function(){return h}),e.d(O,"a",function(){return u});var o=e("x+uP"),c=e("VTBJ"),D=e("HaE+"),i=e("9kvl");function h(_,r){return d.apply(this,arguments)}function d(){return d=Object(D.a)(Object(o.a)().mark(function _(r,a){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(i.f)("/api/admin/scorm",Object(c.a)({params:Object(c.a)(Object(c.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return s.stop()}},_)})),d.apply(this,arguments)}function E(_,r){return l.apply(this,arguments)}function l(){return l=Object(D.a)(Object(o.a)().mark(function _(r,a){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(i.f)("/api/admin/scorm/scos",Object(c.a)({params:Object(c.a)(Object(c.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return s.stop()}},_)})),l.apply(this,arguments)}function u(_,r){return n.apply(this,arguments)}function n(){return n=Object(D.a)(Object(o.a)().mark(function _(r,a){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(i.f)("/api/admin/scorm/".concat(r),Object(c.a)({method:"DELETE"},a||{})));case 1:case"end":return s.stop()}},_)})),n.apply(this,arguments)}},"DBJ/":function(U,O,e){"use strict";var o=e("VTBJ"),c=e("y8nQ"),D=e("Vl3Y"),i=e("etVw"),h=e("9kvl"),d=e("qFDU"),E=e("nKUr"),l=e.n(E);function u(n){var _=n.onChange,r=n.onUpload,a=n.url,j=n.name,s=n.extra,K=n.accept,v=n.data,C=n.wrapInForm,b=C===void 0?!0:C,g=n.title,t=n.formProps,B=Object(h.i)();return v&&v[j]&&delete v[j],Object(E.jsx)(d.a,{condition:b,wrap:function(P){return Object(E.jsx)(D.a,Object(o.a)(Object(o.a)({},t),{},{children:P}))},children:Object(E.jsx)(i.a,{title:g||" ".concat(B.formatMessage({id:"upload_click_here"})),placeholder:B.formatMessage({id:"upload_click_here"}),onChange:function(P){_&&_(P),P.file.status==="done"&&r&&r(P.file.response)},label:Object(E.jsx)(h.a,{id:"upload"}),max:2,fieldProps:{data:v,accept:K,name:j,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(a),extra:s})})}O.a=u},"RY+t":function(U,O,e){"use strict";var o=e("DBJ/"),c=e("q1tI"),D=e.n(c),i=e("nKUr"),h=e.n(i),d=function(l){var u=l.onSuccess,n=l.onError;return Object(i.jsx)(o.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(r){if(r.file.response){var a=r.file.response.response;a.success?u(a.data.model):n(a)}}})};O.a=d},"w76+":function(U,O,e){"use strict";e.r(O);var o=e("P2fV"),c=e("NJEC"),D=e("5Dmo"),i=e("3S7+"),h=e("+L6B"),d=e("2/Rp"),E=e("miYZ"),l=e("tsqr"),u=e("x+uP"),n=e("HaE+"),_=e("q1tI"),r=e.n(_),a=e("9kvl"),j=e("55Ip"),s=e("tMyG"),K=e("Qiat"),v=e("Dx9A"),C=e("/MfK"),b=e("5tKr"),g=e("RY+t"),t=e("nKUr"),B=e.n(t),L=function(){var x=Object(n.a)(Object(u.a)().mark(function M(R){return Object(u.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(b.a)(R);case 2:return m.abrupt("return",!0);case 3:case"end":return m.stop()}},M)}));return function(R){return x.apply(this,arguments)}}(),P=function(){var M=Object(_.useRef)(),R=Object(a.i)(),W=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(g.a,{onSuccess:function(){M.current&&M.current.reload(),l.default.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(f){return l.default.error(f)}})]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(I,f){return[f.scos.map(function(p){return Object(t.jsx)(j.a,{to:"/scorms/preview/".concat(p.uuid),children:Object(t.jsx)(i.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(d.a,{size:"small",icon:Object(t.jsx)(v.a,{}),type:"primary",children:p.title})})},p.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(I,f){return[Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(n.a)(Object(u.a)().mark(function p(){var A;return Object(u.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,L(f.id);case 2:A=T.sent,A&&M.current&&M.current.reload();case 4:case"end":return T.stop()}},p)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(i.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(d.a,{type:"primary",icon:Object(t.jsx)(C.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(s.a,{children:Object(t.jsx)(K.a,{headerTitle:R.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:M,rowKey:"id",search:{},request:function(I){var f=I.pageSize,p=I.current;return Object(b.b)({pageSize:f,current:p}).then(function(A){return A.success?{data:A.data.data,total:A.data.total,success:!0}:[]})},columns:W})})};O.default=P}}]);
