(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"8j+T":function(T,_,e){"use strict";function s(d){for(var f in d)_.hasOwnProperty(f)||(_[f]=d[f])}Object.defineProperty(_,"__esModule",{value:!0}),s(e("Xljc"))},"Ecy+":function(T,_,e){"use strict";var s=e("fOrg"),d=e("+KLJ"),f=e("g9YV"),O=e("wCAj"),m=e("T2oS"),l=e("W9HT"),n=e("+L6B"),t=e("2/Rp"),r=e("k1fw"),a=e("tJVT"),o=e("q1tI"),u=e.n(o),i=e("I+Rq"),c=e("w/VK"),v=e("9kvl"),D=e("nhC9"),U=e("Mo4S"),g=e("8j+T"),x=e.n(g),E=e("nKUr"),P=e.n(E),R=[{title:Object(E.jsx)(v.a,{id:"label",defaultMessage:"label"}),dataIndex:"label",key:"label"},{title:Object(E.jsx)(v.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",key:"value"}],F=function(A){var b=A.metric,K=A.header,S=K===void 0?!0:K,W=A.asDonut,z=W===void 0?!1:W,H=A.customLabelTitle,C=A.customLabelContent,G=Object(o.useState)({mode:"init"}),V=Object(a.a)(G,2),h=V[0],y=V[1],J=Object(v.l)(),N={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(j){var M=j.percent;return M>=.01?"".concat((M*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}],legend:{itemValue:{alignRight:!0,formatter:function(j,M){if(C&&"value"in h){var L=h.value.find(function(I){var B=I.label;return B===M.name});return L?C(L):j}return j}}}},w={appendPadding:20,innerRadius:.6,label:Object(r.a)(Object(r.a)({},N.label),{},{offset:"-50%"}),legend:{itemWidth:void 0,itemName:{formatter:function(j){return H?H(j):j}},offsetX:-24,itemValue:{formatter:function(j,M){if(C&&"value"in h){var L=h.value.find(function(I){var B=I.label;return B===M.value});return L?C(L):void 0}}}}},X=Object(r.a)(Object(r.a)({},N),z?w:{});Object(o.useEffect)(function(){y({mode:"loading"}),Object(c.b)({metric:b}).then(function(p){p.success?y({mode:"loaded",value:p.data}):y({mode:"error",error:p.message})}).catch(function(p){return y({mode:"error",error:p.toString()})})},[b]);var $=Object(o.useCallback)(function(){if(h.mode==="loaded"){var p={filename:b.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:J.formatMessage({id:b.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},j=new g.ExportToCsv(p);j.generateCsv(h.value)}},[h]);return Object(E.jsxs)(D.a,{title:S&&Object(E.jsx)(v.a,{id:b.split("\\").pop(),defaultMessage:b.split("\\").pop()}),extra:S&&Object(E.jsxs)(t.a,{icon:Object(E.jsx)(U.a,{}),size:"small",onClick:function(){return $()},children:[" ",Object(E.jsx)(v.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[h.mode==="loading"&&Object(E.jsx)(l.a,{}),h.mode==="loaded"&&Object(E.jsxs)("div",{children:[Object(E.jsx)(i.a,Object(r.a)(Object(r.a)({},X),{},{data:h.value})),S&&Object(E.jsx)(O.a,{pagination:!1,size:"small",dataSource:h.value,columns:R})]}),h.mode==="error"&&Object(E.jsx)(d.a,{message:h.error,type:"error"})]})};_.a=F},"I+Rq":function(T,_,e){"use strict";var s=e("q1tI"),d=e.n(s),f=e("ma/q"),O=e("ZIEt"),m=e("QpZ9"),l=e("GzfL"),n=e("Scwr"),t=function(a,o){var u={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.indexOf(i)<0&&(u[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(a);c<i.length;c++)o.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(a,i[c])&&(u[i[c]]=a[i[c]]);return u},r=Object(s.forwardRef)(function(a,o){var u=a.chartRef,i=a.style,c=i===void 0?{height:"inherit"}:i,v=a.className,D=a.loading,U=a.loadingTemplate,g=a.errorTemplate,x=t(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),E=Object(O.a)(f.b,x),P=E.chart,R=E.container;return Object(s.useEffect)(function(){Object(m.a)(u,P.current)},[P.current]),Object(s.useImperativeHandle)(o,function(){return{getChart:function(){return P.current}}}),d.a.createElement(l.a,{errorTemplate:g},D&&d.a.createElement(n.a,{loadingTemplate:U,theme:a.theme}),d.a.createElement("div",{className:v,style:c,ref:R}))});_.a=r},Mo4S:function(T,_,e){"use strict";var s=e("VTBJ"),d=e("q1tI"),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"},O=f,m=e("6VBw"),l=function(r,a){return d.createElement(m.a,Object(s.a)(Object(s.a)({},r),{},{ref:a,icon:O}))};l.displayName="FileExcelOutlined";var n=_.a=d.forwardRef(l)},Xljc:function(T,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var s=function(){function n(){}return n.EOL=`\r
`,n.BOM="\uFEFF",n.DEFAULT_FIELD_SEPARATOR=",",n.DEFAULT_DECIMAL_SEPARATOR=".",n.DEFAULT_QUOTE='"',n.DEFAULT_SHOW_TITLE=!1,n.DEFAULT_TITLE="My Generated Report",n.DEFAULT_FILENAME="generated",n.DEFAULT_SHOW_LABELS=!1,n.DEFAULT_USE_TEXT_FILE=!1,n.DEFAULT_USE_BOM=!0,n.DEFAULT_HEADER=[],n.DEFAULT_KEYS_AS_HEADERS=!1,n}();_.CsvConfigConsts=s,_.ConfigDefaults={filename:s.DEFAULT_FILENAME,fieldSeparator:s.DEFAULT_FIELD_SEPARATOR,quoteStrings:s.DEFAULT_QUOTE,decimalSeparator:s.DEFAULT_DECIMAL_SEPARATOR,showLabels:s.DEFAULT_SHOW_LABELS,showTitle:s.DEFAULT_SHOW_TITLE,title:s.DEFAULT_TITLE,useTextFile:s.DEFAULT_USE_TEXT_FILE,useBom:s.DEFAULT_USE_BOM,headers:s.DEFAULT_HEADER,useKeysAsHeaders:s.DEFAULT_KEYS_AS_HEADERS};var d=function(){function n(t){this._csv="";var r=t||{};this._options=l({},_.ConfigDefaults,r),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(n.prototype,"options",{get:function(){return this._options},set:function(r){this._options=l({},_.ConfigDefaults,r)},enumerable:!0,configurable:!0}),n.prototype.generateCsv=function(t,r){if(r===void 0&&(r=!1),this._csv="",this._parseData(t),this._options.useBom&&(this._csv+=s.BOM),this._options.showTitle&&(this._csv+=this._options.title+`\r

`),this._getHeaders(),this._getBody(),this._csv==""){console.log("Invalid data");return}if(r)return this._csv;var a=this._options.useTextFile?"plain":"csv",o=this._options.useTextFile?".txt":".csv",u=new Blob([this._csv],{type:"text/"+a+";charset=utf8;"});if(navigator.msSaveBlob){var i=this._options.filename.replace(/ /g,"_")+o;navigator.msSaveBlob(u,i)}else{var c=this._options.useTextFile?"text":"csv",v="data:attachment/"+c+";charset=utf-8,"+encodeURI(this._csv),D=document.createElement("a");D.href=URL.createObjectURL(u),D.setAttribute("visibility","hidden"),D.download=this._options.filename.replace(/ /g,"_")+o,document.body.appendChild(D),D.click(),document.body.removeChild(D)}},n.prototype._getHeaders=function(){if(!(!this._options.showLabels&&!this._options.useKeysAsHeaders)){var t=this._options.useKeysAsHeaders,r=t?Object.keys(this._data[0]):this._options.headers;if(r.length>0){for(var a="",o=0;o<r.length;o++)a+=r[o]+this._options.fieldSeparator;a=a.slice(0,-1),this._csv+=a+s.EOL}}},n.prototype._getBody=function(){for(var t=Object.keys(this._data[0]),r=0;r<this._data.length;r++){for(var a="",o=0;o<t.length;o++){var u=t[o];a+=this._formatData(this._data[r][u])+this._options.fieldSeparator}a=a.slice(0,-1),this._csv+=a+s.EOL}},n.prototype._formatData=function(t){return this._options.decimalSeparator==="locale"&&this._isFloat(t)?t.toLocaleString():this._options.decimalSeparator!=="."&&this._isFloat(t)?t.toString().replace(".",this._options.decimalSeparator):typeof t=="string"?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):typeof t=="boolean"?t?"TRUE":"FALSE":t},n.prototype._isFloat=function(t){return+t===t&&(!isFinite(t)||Boolean(t%1))},n.prototype._parseData=function(t){return this._data=typeof t!="object"?JSON.parse(t):t,this._data},n}();_.ExportToCsv=d;var f=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;function m(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function l(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var a,o=m(n),u,i=1;i<arguments.length;i++){a=Object(arguments[i]);for(var c in a)f.call(a,c)&&(o[c]=a[c]);if(Object.getOwnPropertySymbols){u=Object.getOwnPropertySymbols(a);for(var v=0;v<u.length;v++)O.call(a,u[v])&&(o[u[v]]=a[u[v]])}}return o}},dgLD:function(T,_,e){"use strict";e.r(_);var s=e("q1tI"),d=e.n(s),f=e("tMyG"),O=e("Ecy+"),m=e("nhC9"),l=e("nKUr"),n=e.n(l);_.default=function(){return Object(l.jsxs)(f.a,{children:[Object(l.jsxs)(m.a,{split:"vertical",children:[Object(l.jsx)(m.a,{colSpan:12,layout:"center",children:Object(l.jsx)(O.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(l.jsx)(m.a,{colSpan:12,layout:"center",children:Object(l.jsx)(O.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(l.jsxs)(m.a,{split:"vertical",children:[Object(l.jsx)(m.a,{colSpan:12,layout:"center",children:Object(l.jsx)(O.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(l.jsx)(m.a,{colSpan:12,layout:"center",children:Object(l.jsx)(O.a,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}},"w/VK":function(T,_,e){"use strict";e.d(_,"b",function(){return m}),e.d(_,"a",function(){return n});var s=e("qLMh"),d=e("k1fw"),f=e("9og8"),O=e("9kvl");function m(r,a){return l.apply(this,arguments)}function l(){return l=Object(f.a)(Object(s.a)().mark(function r(a,o){return Object(s.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.i)("/api/admin/reports/report",Object(d.a)({params:a,method:"GET",useCache:!1},o||{})));case 1:case"end":return i.stop()}},r)})),l.apply(this,arguments)}function n(r,a,o){return t.apply(this,arguments)}function t(){return t=Object(f.a)(Object(s.a)().mark(function r(a,o,u){return Object(s.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(O.i)("/api/admin/stats/course/".concat(a,"/export"),Object(d.a)({params:o,method:"GET",useCache:!1,responseType:"blob",headers:{accept:"application/vnd.ms-excel"}},u||{})));case 1:case"end":return c.stop()}},r)})),t.apply(this,arguments)}}}]);
