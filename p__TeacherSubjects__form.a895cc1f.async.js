(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/y+f":function(Ke,fe,t){"use strict";t.d(fe,"f",function(){return i}),t.d(fe,"d",function(){return O}),t.d(fe,"e",function(){return C}),t.d(fe,"c",function(){return de}),t.d(fe,"a",function(){return a}),t.d(fe,"b",function(){return Ae});var i;(function(d){d.Unselected="",d.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",d.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",d.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",d.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",d.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",d.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",d.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",d.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",d.Project="EscolaLms\\TopicTypeProject\\Models\\Project",d.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(i||(i={}));var Z;(function(d){d.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",d.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(Z||(Z={}));var $;(function(d){d.draft="draft",d.published="published",d.archived="archived"})($||($={}));var O;(function(d){d.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",d.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",d.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(O||(O={}));var C;(function(d){d.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(C||(C={}));var u;(function(d){d.cart_fixed="cart_fixed",d.cart_percent="cart_percent",d.product_fixed="product_fixed",d.product_percent="product_percent"})(u||(u={}));var de;(function(d){d.MULTIPLE_CHOICE="multiple_choice",d.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",d.TRUE_FALSE="true_false",d.SHORT_ANSWERS="short_answers",d.MATCHING="matching",d.NUMERICAL_QUESTION="numerical_question",d.ESSAY="essay",d.DESCRIPTION="description"})(de||(de={}));var a;(function(d){d.PRESENT="present",d.ABSENT="absent"})(a||(a={}));var Ae;(function(d){d.Manual="manual",d.TeamsForms="teams_forms",d.TeamsLecture="teams_lecture",d.TestPortal="test_portal"})(Ae||(Ae={}))},"0JQy":function(Ke,fe){var t="\\ud800-\\udfff",i="\\u0300-\\u036f",Z="\\ufe20-\\ufe2f",$="\\u20d0-\\u20ff",O=i+Z+$,C="\\ufe0e\\ufe0f",u="["+t+"]",de="["+O+"]",a="\\ud83c[\\udffb-\\udfff]",Ae="(?:"+de+"|"+a+")",d="[^"+t+"]",ie="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="\\u200d",re=Ae+"?",Pe="["+C+"]?",nt="(?:"+xe+"(?:"+[d,ie,Se].join("|")+")"+Pe+re+")*",Oe=Pe+re+nt,ze="(?:"+[d+de+"?",de,ie,Se,u].join("|")+")",We=RegExp(a+"(?="+a+")|"+ze+Oe,"g");function h(m){return m.match(We)||[]}Ke.exports=h},"5R/X":function(Ke,fe,t){},"5Syx":function(Ke,fe,t){"use strict";t.d(fe,"c",function(){return $e}),t.d(fe,"b",function(){return st}),t.d(fe,"a",function(){return ee});var i=t("OaEy"),Z=t("2fM7"),$=t("g9YV"),O=t("wCAj"),C=t("BoS7"),u=t("Sdc0"),de=t("jrin"),a=t("k1fw"),Ae=t("DYRE"),d=t("zeV3"),ie=t("+BJd"),Se=t("mr32"),xe=t("oBTY"),re=t("tJVT"),Pe=t("q1tI"),nt=t.n(Pe),Oe=t("9kvl"),ze=t("Vpfc"),We=t("nhC9"),h=t("LDJE"),m=t("nKUr"),Je=t.n(m),Ye=function(w){return w.topicable.content.contents?Object.values(w.topicable.content.contents)[0].library:"H5P"},$e=function(w){var v=w.topics,J=w.stats,ve=Object(Pe.useState)(!1),G=Object(re.a)(ve,2),j=G[0],he=G[1],Ee=Object(Pe.useMemo)(function(){return[{title:Object(m.jsx)(Oe.a,{id:"user"}),dataIndex:"id",render:function(Ie){return Object(m.jsx)(ze.a,{type:"App\\Models\\User",type_id:Ie})}},{title:Object(m.jsx)(Oe.a,{id:"email"}),dataIndex:"email"}].concat(Object(xe.a)(v.map(function(_e){var Ie,ye=(Ie=_e.topicable_type)===null||Ie===void 0?void 0:Ie.split("\\").pop();return ye==="H5P"&&(ye=Ye(_e)),{render:function(D){var Q=0,ge=0;switch(D&&(D.started_at&&D.finished_at?Q=1:D.started_at&&(Q=2),ge=D.seconds/60),Q){case 1:return Object(m.jsxs)(d.b,{children:[Object(m.jsx)(Se.a,{color:"success",children:"F"}),j&&Object(m.jsxs)("small",{children:[ge.toFixed(2),"m"]})]});case 2:return Object(m.jsxs)(d.b,{children:[Object(m.jsx)(Se.a,{color:"blue",children:"S"}),j&&Object(m.jsxs)("small",{children:[ge.toFixed(2),"m"]})]});case 0:default:return Object(m.jsx)(nt.a.Fragment,{children:Object(m.jsx)(Se.a,{color:"error",children:"N"})})}},title:Object(m.jsxs)("small",{children:[Object(m.jsx)(Se.a,{children:ye})," ",_e.title]}),dataIndex:_e.id}})))},[v,j]),Re=Object(Pe.useMemo)(function(){return J.map(function(_e){return v.reduce(function(Ie,ye){var we=_e.topics.find(function(D){return D.id===ye.id});return Object(a.a)(Object(a.a)({},Ie),{},Object(de.a)({},Number(ye.id),we!=null?we:0))},{email:_e.email,id:_e.id})})},[J,v]);return Object(m.jsx)(O.a,{title:function(){return Object(m.jsxs)(d.b,{children:[Object(m.jsx)(Oe.a,{id:"Finished",defaultMessage:"Finished:"})," ",Object(m.jsx)(Se.a,{color:"success",children:"F"}),Object(m.jsx)(Oe.a,{id:"Started",defaultMessage:"Started:"})," ",Object(m.jsx)(Se.a,{color:"blue",children:"S"}),Object(m.jsx)(Oe.a,{id:"NotStarted",defaultMessage:"Not Started:"})," ",Object(m.jsx)(Se.a,{color:"error",children:"N"}),Object(m.jsx)(Oe.a,{id:"ShowMinutes",defaultMessage:"Show minutes spent on topic:"})," ",Object(m.jsx)(u.a,{checked:j,onChange:function(ye){return he(ye)}})]})},columns:Ee,dataSource:Re,size:"small",scroll:{x:1500}})},st=function(w){var v=w.stats,J=Object(Pe.useMemo)(function(){return[{title:"user",dataIndex:"id",render:function(j){return Object(m.jsx)(ze.a,{type:"App\\Models\\User",type_id:j})}},{title:"email",dataIndex:"email"},{title:Object(m.jsx)(Oe.a,{id:"finished_at",defaultMessage:"Finished at"}),dataIndex:"finished_at"}]},[]),ve=Object(Pe.useMemo)(function(){return v.map(function(G){var j=G.id,he=G.email,Ee=G.finished_at;return{id:j,email:he,finished_at:Ee}})},[v]);return Object(m.jsx)(O.a,{title:function(){return Object(m.jsx)(d.b,{children:Object(m.jsx)(Oe.a,{id:"course.finished",defaultMessage:"Finished"})})},columns:J,dataSource:ve,size:"small",scroll:{x:500}})},ee=function(w){var v=w.stats,J=Object(Pe.useState)(null),ve=Object(re.a)(J,2),G=ve[0],j=ve[1],he=Object(Pe.useState)(null),Ee=Object(re.a)(he,2),Re=Ee[0],_e=Ee[1],Ie=Object(Oe.l)(),ye=Object(Pe.useMemo)(function(){return v.flatMap(function(D){return Object.values(D.attempts).flatMap(function(Q){var ge=Q.dates,U=Q.attempt,ct=Object.values(ge).flatMap(function(Ve){var Ze=Ve.date,Be=Ve.seconds_total;return{date:Ze,attempt:U,seconds_total:Be,email:D.email}});return ct})})},[v]),we={xField:"date",yField:"seconds_total",seriesField:"attempt",isStack:!0,xAxis:{label:{autoHide:!0,autoRotate:!1}},slider:{start:0,end:1},label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}};return Object(m.jsx)(We.a,{title:Object(m.jsxs)(d.b,{children:[Object(m.jsx)(Oe.a,{id:"course.interactions_time_in_days"}),Object(m.jsx)(Z.a,{showSearch:!0,value:G,onChange:function(Q){j(Q),_e(null)},placeholder:Object(m.jsx)(Oe.a,{id:"select_person",defaultMessage:"Select a person"}),children:v.map(function(D){var Q=D.id,ge=D.email;return Object(m.jsx)(Z.a.Option,{value:ge,children:ge},Q)})}),Object(m.jsx)(Z.a,{value:Re,onChange:function(Q){return _e(Q)},disabled:G===null,placeholder:Object(m.jsx)(Oe.a,{id:"select_attempt",defaultMessage:"Select attempt"}),children:Object(xe.a)(new Set(ye.filter(function(D){var Q=D.email;return Q===G}).map(function(D){var Q=D.attempt;return Q}))).map(function(D){return Object(m.jsxs)(Z.a.Option,{value:D,children:[Object(m.jsx)(Oe.a,{id:"attempt",defaultMessage:"Attempt"})," ",D]},D)})})]}),colSpan:12,layout:"center",children:Object(m.jsx)("div",{style:{overflow:"auto",minHeight:"400px",width:"100%"},children:Object(m.jsx)(h.a,Object(a.a)(Object(a.a)({},we),{},{tooltip:{title:"".concat(Ie.formatMessage({id:"attempt"})),formatter:function(Q){var ge=Math.floor(+Q.seconds_total/60),U=+Q.seconds_total>60?+Q.seconds_total-ge*60:0;return{name:Q.attempt,value:"".concat(ge,"m ").concat(U,"s")}}},data:ye.filter(function(D){var Q=D.email;return Q===G}).filter(function(D){var Q=D.attempt;return Number.isInteger(Re)?Q===Re:!0})}))})})}},Em2t:function(Ke,fe,t){var i=t("bahg"),Z=t("quyA"),$=t("0JQy");function O(C){return Z(C)?$(C):i(C)}Ke.exports=O},Hn4i:function(Ke,fe,t){"use strict";var i=t("y8nQ"),Z=t("Vl3Y"),$=t("+L6B"),O=t("2/Rp"),C=t("rePB"),u=t("ODXe"),de=t("Ff2n"),a=t("x+uP"),Ae=t("HaE+"),d=t("VTBJ"),ie=t("nKUr"),Se=t.n(ie),xe=t("xvlK"),re=t("WuYN"),Pe=t("VMEa"),nt=t("LQCs"),Oe=t("ft2k"),ze=t("uX+g"),We=t("+i8S"),h=t("ipCM"),m=t("6cGi"),Je=t("ub+h"),Ye=t("bG1m"),$e=t("q1tI"),st=t.n($e),ee=t("mWMg"),X=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],w=["record","position","creatorButtonText","newRecordType","parentKey","style"],v=st.a.createContext(void 0);function J(j){var he=j.children,Ee=j.record,Re=j.position,_e=j.newRecordType,Ie=j.parentKey,ye=Object($e.useContext)(v);return st.a.cloneElement(he,Object(d.a)(Object(d.a)({},he.props),{},{onClick:function(){var we=Object(Ae.a)(Object(a.a)().mark(function Q(ge){var U,ct,Ve,Ze;return Object(a.a)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(U=(ct=he.props).onClick)===null||U===void 0?void 0:U.call(ct,ge);case 2:if(Ze=ae.sent,Ze!==!1){ae.next=5;break}return ae.abrupt("return");case 5:ye==null||(Ve=ye.current)===null||Ve===void 0||Ve.addEditRecord(Ee,{position:Re,newRecordType:_e,parentKey:Ie});case 6:case"end":return ae.stop()}},Q)}));function D(Q){return we.apply(this,arguments)}return D}()}))}function ve(j){var he,Ee,Re=Object(nt.d)(),_e=j.onTableChange,Ie=j.maxLength,ye=j.formItemProps,we=j.recordCreatorProps,D=j.rowKey,Q=j.controlled,ge=j.defaultValue,U=j.onChange,ct=j.editableFormRef,Ve=Object(de.a)(j,X),Ze=Object(Oe.a)(j.value),Be=Object($e.useRef)(),ae=Object($e.useRef)();Object($e.useImperativeHandle)(Ve.actionRef,function(){return Be.current});var ot=Object(m.a)(function(){return j.value||ge||[]},{value:j.value,onChange:j.onChange}),dt=Object(u.a)(ot,2),V=dt[0],ht=dt[1],Qe=st.a.useMemo(function(){return typeof D=="function"?D:function(De,se){return De[D]||se}},[D]),K=function(se){if(typeof se=="number"&&!j.name){if(se>=V.length)return se;var ce=V&&V[se];return Qe==null?void 0:Qe(ce,se)}if((typeof se=="string"||se>=V.length)&&j.name){var oe=V.findIndex(function(z,Te){var Ce;return(Qe==null||(Ce=Qe(z,Te))===null||Ce===void 0?void 0:Ce.toString())===(se==null?void 0:se.toString())});return oe}return se};Object($e.useImperativeHandle)(ct,function(){var De=function(oe){var z,Te;if(oe==null)throw new Error("rowIndex is required");var Ce=K(oe),et=[j.name,(z=Ce==null?void 0:Ce.toString())!==null&&z!==void 0?z:""].flat(1).filter(Boolean);return(Te=ae.current)===null||Te===void 0?void 0:Te.getFieldValue(et)},se=function(){var oe,z=[j.name].flat(1).filter(Boolean);if(Array.isArray(z)&&z.length===0){var Te,Ce=(Te=ae.current)===null||Te===void 0?void 0:Te.getFieldsValue();return Array.isArray(Ce)?Ce:Object.keys(Ce).map(function(et){return Ce[et]})}return(oe=ae.current)===null||oe===void 0?void 0:oe.getFieldValue(z)};return Object(d.a)(Object(d.a)({},ae.current),{},{getRowData:De,getRowsData:se,setRowData:function(oe,z){var Te,Ce,et,bt;if(oe==null)throw new Error("rowIndex is required");var ft=K(oe),mt=[j.name,(Te=ft==null?void 0:ft.toString())!==null&&Te!==void 0?Te:""].flat(1).filter(Boolean),Ot=((Ce=ae.current)===null||Ce===void 0||(et=Ce.getFieldsValue)===null||et===void 0?void 0:et.call(Ce))||{},vt=Object(Ye.a)(Ot,mt,Object(d.a)(Object(d.a)({},De(oe)),z||{}));return(bt=ae.current)===null||bt===void 0?void 0:bt.setFieldsValue(vt)}})}),Object($e.useEffect)(function(){!j.controlled||V.forEach(function(De,se){var ce;(ce=ae.current)===null||ce===void 0||ce.setFieldsValue(Object(C.a)({},Qe(De,se),De))},{})},[V,j.controlled]),Object($e.useEffect)(function(){if(j.name){var De;ae.current=j==null||(De=j.editable)===null||De===void 0?void 0:De.form}},[(he=j.editable)===null||he===void 0?void 0:he.form,j.name]);var A=we||{},P=A.record,L=A.position,e=A.creatorButtonText,k=A.newRecordType,Le=A.parentKey,He=A.style,_t=Object(de.a)(A,w),gt=L==="top",lt=Object($e.useMemo)(function(){return Ie&&Ie<=(V==null?void 0:V.length)?!1:we!==!1&&Object(ie.jsx)(J,{record:Object(ze.a)(P,V==null?void 0:V.length,V)||{},position:L,parentKey:Object(ze.a)(Le,V==null?void 0:V.length,V),newRecordType:k,children:Object(ie.jsx)(O.a,Object(d.a)(Object(d.a)({type:"dashed",style:Object(d.a)({display:"block",margin:"10px 0",width:"100%"},He),icon:Object(ie.jsx)(xe.a,{})},_t),{},{children:e||Re.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[we,Ie,V==null?void 0:V.length]),St=Object($e.useMemo)(function(){return lt?gt?{components:{header:{wrapper:function(se){var ce,oe=se.className,z=se.children;return Object(ie.jsxs)("thead",{className:oe,children:[z,Object(ie.jsxs)("tr",{style:{position:"relative"},children:[Object(ie.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:lt}),Object(ie.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(ce=Ve.columns)===null||ce===void 0?void 0:ce.length,children:lt})]})]})}}}}:{tableViewRender:function(se,ce){var oe,z;return Object(ie.jsxs)(ie.Fragment,{children:[(oe=(z=j.tableViewRender)===null||z===void 0?void 0:z.call(j,se,ce))!==null&&oe!==void 0?oe:ce,lt]})}}:{}},[gt,lt]),jt=Object(d.a)({},j.editable),Et=Object(We.a)(function(De,se){var ce,oe,z;if((ce=j.editable)===null||ce===void 0||(oe=ce.onValuesChange)===null||oe===void 0||oe.call(ce,De,se),(z=j.onValuesChange)===null||z===void 0||z.call(j,se,De),j.controlled){var Te;j==null||(Te=j.onChange)===null||Te===void 0||Te.call(j,se)}});return((j==null?void 0:j.onValuesChange)||((Ee=j.editable)===null||Ee===void 0?void 0:Ee.onValuesChange)||j.controlled&&(j==null?void 0:j.onChange))&&(jt.onValuesChange=Et),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(v.Provider,{value:Be,children:Object(ie.jsx)(ee.a,Object(d.a)(Object(d.a)(Object(d.a)({search:!1,options:!1,pagination:!1,rowKey:D,revalidateOnFocus:!1},Ve),St),{},{tableLayout:"fixed",actionRef:Be,onChange:_e,editable:Object(d.a)(Object(d.a)({},jt),{},{formProps:Object(d.a)({formRef:ae},jt.formProps)}),dataSource:V,onDataSourceChange:function(se){if(ht(se),j.name&&L==="top"){var ce,oe=Object(Ye.a)({},[j.name].flat(1).filter(Boolean),se);(ce=ae.current)===null||ce===void 0||ce.setFieldsValue(oe)}}}))}),j.name?Object(ie.jsx)(re.a,{name:[j.name],children:function(se){var ce,oe,z=Object(Je.a)(se,[j.name].flat(1)),Te=z==null?void 0:z.find(function(Ce,et){return!Object(h.a)(Ce,Ze==null?void 0:Ze[et])});return Te&&Ze&&(j==null||(ce=j.editable)===null||ce===void 0||(oe=ce.onValuesChange)===null||oe===void 0||oe.call(ce,Te,z)),null}}):null]})}function G(j){var he=Pe.a.useFormInstance();return j.name?Object(ie.jsx)(Z.a.Item,Object(d.a)(Object(d.a)({style:{maxWidth:"100%"}},j==null?void 0:j.formItemProps),{},{name:j.name,children:Object(ie.jsx)(ve,Object(d.a)(Object(d.a)({},j),{},{editable:Object(d.a)(Object(d.a)({},j.editable),{},{form:he})}))})):Object(ie.jsx)(ve,Object(d.a)({},j))}G.RecordCreator=J,fe.a=G},KxBF:function(Ke,fe){function t(i,Z,$){var O=-1,C=i.length;Z<0&&(Z=-Z>C?0:C+Z),$=$>C?C:$,$<0&&($+=C),C=Z>$?0:$-Z>>>0,Z>>>=0;for(var u=Array(C);++O<C;)u[O]=i[O+Z];return u}Ke.exports=t},LDJE:function(Ke,fe,t){"use strict";var i=t("q1tI"),Z=t.n(i),$=t("ma/q"),O=t("ZIEt"),C=t("QpZ9"),u=t("GzfL"),de=t("Scwr"),a=function(d,ie){var Se={};for(var xe in d)Object.prototype.hasOwnProperty.call(d,xe)&&ie.indexOf(xe)<0&&(Se[xe]=d[xe]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,xe=Object.getOwnPropertySymbols(d);re<xe.length;re++)ie.indexOf(xe[re])<0&&Object.prototype.propertyIsEnumerable.call(d,xe[re])&&(Se[xe[re]]=d[xe[re]]);return Se},Ae=Object(i.forwardRef)(function(d,ie){var Se=d.chartRef,xe=d.style,re=xe===void 0?{height:"inherit"}:xe,Pe=d.className,nt=d.loading,Oe=d.loadingTemplate,ze=d.errorTemplate,We=a(d,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),h=Object(O.a)($.a,We),m=h.chart,Je=h.container;return Object(i.useEffect)(function(){Object(C.a)(Se,m.current)},[m.current]),Object(i.useImperativeHandle)(ie,function(){return{getChart:function(){return m.current}}}),Z.a.createElement(u.a,{errorTemplate:ze},nt&&Z.a.createElement(de.a,{loadingTemplate:Oe,theme:d.theme}),Z.a.createElement("div",{className:Pe,style:re,ref:Je}))});fe.a=Ae},bahg:function(Ke,fe){function t(i){return i.split("")}Ke.exports=t},olry:function(Ke,fe,t){"use strict";t.r(fe);var i=t("k1fw"),Z=t("+L6B"),$=t("2/Rp"),O=t("T2oS"),C=t("W9HT"),u=t("q1tI"),de=t("nhC9"),a=t("9kvl"),Ae=t("55Ip"),d=t("Ty5D"),ie=t("tMyG"),Se=t("my69"),xe=t("huej"),re=t("mJ0o"),Pe=t("EhlZ"),nt=t("P2fV"),Oe=t("NJEC"),ze=t("5Dmo"),We=t("3S7+"),h=t("qLMh"),m=t("9og8"),Je=t("sWYD"),Ye=t("G3dp"),$e=t("lbgm"),st=t("/MfK"),ee=t("Qiat"),X=t("mGZj");function w(o,c){return v.apply(this,arguments)}function v(){return v=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/exams",Object(i.a)({method:"GET",useCache:!1,params:c},r||{})));case 1:case"end":return n.stop()}},o)})),v.apply(this,arguments)}function J(o,c){return ve.apply(this,arguments)}function ve(){return ve=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/exams",Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},r||{})));case 1:case"end":return n.stop()}},o)})),ve.apply(this,arguments)}function G(o,c,r){return j.apply(this,arguments)}function j(){return j=Object(m.a)(Object(h.a)().mark(function o(c,r,s){return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(a.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"PUT",data:r,useCache:!1},s||{})));case 1:case"end":return l.stop()}},o)})),j.apply(this,arguments)}function he(o,c){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},o)})),Ee.apply(this,arguments)}function Re(o,c){return _e.apply(this,arguments)}function _e(){return _e=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"DELETE"},r||{})));case 1:case"end":return n.stop()}},o)})),_e.apply(this,arguments)}function Ie(o,c,r,s){return ye.apply(this,arguments)}function ye(){return ye=Object(m.a)(Object(h.a)().mark(function o(c,r,s,n){return Object(h.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",Object(a.i)("/api/admin/exams/".concat(c,"/users/").concat(r),Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},n||{})));case 1:case"end":return b.stop()}},o)})),ye.apply(this,arguments)}function we(o,c,r){return D.apply(this,arguments)}function D(){return D=Object(m.a)(Object(h.a)().mark(function o(c,r,s){return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(a.i)("/api/admin/exams/".concat(c,"/users/").concat(r),Object(i.a)({method:"DELETE"},s||{})));case 1:case"end":return l.stop()}},o)})),D.apply(this,arguments)}var Q=t("giR+"),ge=t("fyUT"),U=t("tJVT"),ct=t("14J3"),Ve=t("BMrR"),Ze=t("jCWc"),Be=t("kPKH"),ae=t("VMEa"),ot=t("Qurx"),dt=t("lR9U"),V=t("/y+f"),ht=t("2qtc"),Qe=t("kLXV"),K=t("OaEy"),A=t("2fM7"),P=t("oBTY"),L=t("DBJ/"),e=t("nKUr"),k=[V.b.TeamsLecture,V.b.TestPortal,V.b.TeamsForms];function Le(o){var c=o.showSelectAll,r=c===void 0?!0:c,s=o.options,n=s===void 0?[]:s,l=o.value,b=o.onChange,f=Object(u.useCallback)(function(){b==null||b(n.map(function(S){return S.value}),n)},[b,n]),x=Object(u.useCallback)(function(){b==null||b([],[])},[b]),_=Object(u.useMemo)(function(){return r?[{label:l!=null&&l.length?Object(e.jsx)($.a,{type:"link",onClick:x,children:Object(e.jsx)(a.a,{id:"deselect_all"})}):Object(e.jsx)($.a,{type:"link",onClick:f,children:Object(e.jsx)(a.a,{id:"select_all"})}),options:n}]:n},[f,x,n,r,l==null?void 0:l.length]);return{options:_,value:l,onChange:b}}var He=function(c){var r=c.open,s=c.closeModal,n=c.onSuccess,l=c.type,b=Object(re.b)(),f=b.teacherSubjectData,x=b.semester_subject_id,_=b.groupUsers,S=b.getGroupUsers,y=Object(u.useState)(),T=Object(U.a)(y,2),R=T[0],E=T[1],H=Object(u.useState)([]),p=Object(U.a)(H,2),N=p[0],me=p[1],g={type:l,semester_subject_id:x},W=Object(u.useCallback)(function(F){F.success&&E(F.data.results)},[]),I=Object(u.useMemo)(function(){var F;return((F=f==null?void 0:f.groups)!==null&&F!==void 0?F:[]).map(function(pe){var Me=pe.id,ne=pe.name;return{label:ne,value:Me}})},[]),B=Object(u.useCallback)(function(F){me(F);var pe=F.reduce(function(Me,ne){var te,je=(te=_.byId)===null||te===void 0?void 0:te[ne];if(!je)return Me;var Y=je.users.map(function(q){var Fe=q.id,M=q.email,be=q.first_name,le=q.last_name;return{email:M,first_name:be,last_name:le,user_id:Fe,result:0}});return[].concat(Object(P.a)(Me),Object(P.a)(Y))},[]);E(pe!=null&&pe.length?pe:void 0)},[_.byId]),ue=Le({options:I,onChange:B,value:N});return Object(u.useEffect)(function(){if(l===V.b.Manual&&r){var F;f==null||(F=f.groups)===null||F===void 0||F.forEach(function(pe){var Me=pe.id;return S(Me)})}},[l,r]),Object(e.jsxs)(Qe.a,{title:Object(e.jsx)(a.a,{id:"TeacherSubjects.Exams.".concat(l,"Convert")}),width:"40vw",open:r,onCancel:s,onOk:function(){R&&n(R)},okButtonProps:{disabled:!R},children:[k.includes(l)&&Object(e.jsx)(L.a,{name:"file",url:"/api/admin/exams/parse",onUpload:W,onChange:function(pe){return!pe.fileList.length&&E(void 0)},maxFiles:1,data:g,hideLabel:!0}),l===V.b.Manual&&Object(e.jsx)(A.a,Object(i.a)(Object(i.a)({},ue),{},{placeholder:Object(e.jsx)(a.a,{id:"select_groups"}),mode:"multiple",style:{width:"100%"}}))]})},_t=function(c){var r=c.onSelect;return Object(e.jsxs)(Ve.a,{gutter:[16,16],children:[Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(V.b.TeamsForms)},children:Object(e.jsx)(a.a,{id:"uploadFile.MsTeamsForms",defaultMessage:"uploadFile.MsTeamsForms"})})}),Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(V.b.TestPortal)},children:Object(e.jsx)(a.a,{id:"uploadFile.TestPortal",defaultMessage:"uploadFile.TestPortal"})})}),Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(V.b.TeamsLecture)},children:Object(e.jsx)(a.a,{id:"uploadFile.MsTeams",defaultMessage:"uploadFile.MsTeams"})})}),Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(V.b.Manual)},children:Object(e.jsx)(a.a,{id:"uploadGradesManually",defaultMessage:"uploadGradesManually"})})})]})},gt=[{title:Object(e.jsx)(a.a,{id:"first_name"}),dataIndex:"first_name",editable:!1},{title:Object(e.jsx)(a.a,{id:"last_name"}),dataIndex:"last_name",editable:!1},{title:Object(e.jsx)(a.a,{id:"examResult"}),dataIndex:"result",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(a.a,{id:"number_between",values:{min:0,max:100}})}]}}],lt=function(c){var r=c.exam_id,s=ae.a.useForm(),n=Object(U.a)(s,1),l=n[0],b=Object(u.useState)(),f=Object(U.a)(b,2),x=f[0],_=f[1],S=Object(u.useState)(),y=Object(U.a)(S,2),T=y[0],R=y[1],E=Object(u.useState)(!1),H=Object(U.a)(E,2),p=H[0],N=H[1],me=Object(re.b)(),g=me.semester_subject_id,W=Object(u.useMemo)(function(){return(T!=null?T:[]).map(function(B){var ue=B.user_id;return ue})},[T]);Object(u.useEffect)(function(){var B=Number(r);r==="new"&&(_(void 0),R(void 0),l.resetFields()),r!=="new"&&!Number.isNaN(B)&&(N(!0),he(B).then(function(ue){if(ue.success){var F=ue.data,pe=F.type,Me=F.results,ne=F.title,te=F.weight,je=F.passed_at;_(pe),R(Me),l.setFieldsValue({title:ne,weight:te,passed_at:je})}}).finally(function(){return N(!1)}))},[r]);var I=Object(u.useCallback)(function(){_(void 0),R(void 0)},[]);return p?Object(e.jsx)(C.a,{}):Object(e.jsxs)(e.Fragment,{children:[x&&Object(e.jsx)(He,{open:Boolean(x&&!T),type:x,closeModal:I,onSuccess:R}),Object(e.jsxs)(ae.a,{form:l,submitter:x===void 0||!T?!1:void 0,onFinish:function(){var B=Object(m.a)(Object(h.a)().mark(function ue(F){var pe,Me,ne,te,je,Y,q;return Object(h.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(pe=T==null?void 0:T.every(function(be){var le=be.result;return typeof le=="number"&&le>=0&&le<=100}),!(pe&&typeof g=="number")){M.next=16;break}if(Me=F.title,ne=F.passed_at,te=F.weight,je=Number(r),Y={type:x,semester_subject_id:g,title:Me,passed_at:ne,weight:te,results:T},!Number.isNaN(je)){M.next=11;break}return M.next=8,J(Y);case 8:M.t0=M.sent,M.next=14;break;case 11:return M.next=13,G(je,Y);case 13:M.t0=M.sent;case 14:q=M.t0,q.success&&a.f.push("/teacher/subjects/".concat(g,"/exams"));case 16:return M.abrupt("return",!0);case 17:case"end":return M.stop()}},ue)}));return function(ue){return B.apply(this,arguments)}}(),onReset:I,children:[Object(e.jsxs)(ae.a.Group,{children:[Object(e.jsx)(ot.a,{label:Object(e.jsx)(a.a,{id:"examTitle",defaultMessage:"examTitle"}),rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})}],width:"lg",name:"title"}),Object(e.jsx)(dt.a,{label:Object(e.jsx)(a.a,{id:"datePassingExam",defaultMessage:"datePassingExam"}),rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})}],width:"lg",name:"passed_at"}),Object(e.jsx)(ae.a.Item,{name:"weight",label:Object(e.jsx)(a.a,{id:"examImportance",defaultMessage:"examImportance"}),rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})},{type:"number",min:1,max:100,message:Object(e.jsx)(a.a,{id:"number_between",values:{min:1,max:100}})}],children:Object(e.jsx)(ge.a,{})})]}),x&&T&&Object(e.jsx)(ee.a,{rowKey:"user_id",editable:{type:"single",editableKeys:W,onValuesChange:function(ue,F){return R(F)}},cardProps:{bodyStyle:{paddingInline:0}},search:!1,dataSource:T,columns:gt}),!T&&Object(e.jsx)(_t,{onSelect:_})]})]})},St=[{title:Object(e.jsx)(a.a,{id:"first_name"}),dataIndex:"first_name"},{title:Object(e.jsx)(a.a,{id:"last_name"}),dataIndex:"last_name"},{title:Object(e.jsx)(a.a,{id:"examResult"}),dataIndex:"result",hideInSearch:!0}],jt=function(c){var r=c.exam_id;return Object(e.jsx)(ee.a,{rowKey:"user_id",search:!1,headerTitle:Object(e.jsx)(a.a,{id:"examResults"}),request:Object(m.a)(Object(h.a)().mark(function s(){var n;return Object(h.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,he(r);case 2:if(n=b.sent,!n.success){b.next=5;break}return b.abrupt("return",{total:n.data.results.length,success:!0,data:n.data.results});case 5:return b.abrupt("return",[]);case 6:case"end":return b.stop()}},s)})),columns:St})},Et=[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0},{title:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0,render:function(c,r){return Object(e.jsx)(a.a,{id:"ExamGradeType.".concat(r.type)})}},{title:Object(e.jsx)(a.a,{id:"TeacherSubjects.Exams.exam_date",defaultMessage:"Exam date"}),dataIndex:"passed_at",sorter:!0,render:function(c,r){return r.passed_at&&Object(Je.a)(new Date(r.passed_at),X.c)}},{title:Object(e.jsx)(a.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",sorter:!0,render:function(c,r){return r.weight+"%"}},{title:Object(e.jsx)(a.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",sorter:!0,render:function(c,r){return r.created_at&&Object(Je.a)(new Date(r.created_at),X.c)}},{title:Object(e.jsx)(a.a,{id:"semester",defaultMessage:"Semester"}),dataIndex:"semester",sorter:!0,render:function(c,r){return Object(e.jsx)(a.a,{id:"SemesterType.".concat(r.semester.type),values:{year:r.semester.year}})}}],De=function(){var c,r,s=Object(u.useRef)(),n=Object(re.b)(),l=n.semester_subject_id,b=Object(d.k)(),f=Object(u.useMemo)(function(){var S,y,T;return{exam_id:(S=(y=b.query)===null||y===void 0?void 0:y.exam_id)!==null&&S!==void 0?S:null,results:(T=b.query)===null||T===void 0?void 0:T.results}},[(c=b.query)===null||c===void 0?void 0:c.exam_id,(r=b.query)===null||r===void 0?void 0:r.results]),x=f.exam_id,_=f.results;return _!==null&&!Number.isNaN(Number(_))?Object(e.jsx)(jt,{exam_id:Number(_)}):x!==null?Object(e.jsx)(lt,{exam_id:x}):Object(e.jsx)(ee.a,{headerTitle:Object(e.jsx)(a.a,{id:"exams"}),actionRef:s,search:!1,rowKey:"id",request:function(){var S=Object(m.a)(Object(h.a)().mark(function y(T,R){var E,H,p,N;return Object(h.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(E=T.current,H=T.pageSize,l!==null){g.next=3;break}return g.abrupt("return",{data:[],total:0,success:!1});case 3:return p=R&&Object.entries(R)[0],g.next=6,w({per_page:H,page:E,semester_subject_id:Number.isNaN(l)?void 0:l,order_by:p&&p[0],order:p&&(p[1]==="ascend"?"ASC":"DESC")});case 6:if(N=g.sent,!N.success){g.next=9;break}return g.abrupt("return",{data:N.data,total:N.meta.total,success:!0});case 9:return g.abrupt("return",{data:[],total:0,success:!1});case 10:case"end":return g.stop()}},y)}));return function(y,T){return S.apply(this,arguments)}}(),columns:[].concat(Et,[{title:Object(e.jsx)(a.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(y,T){return[Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(T.semester_subject_id,"/exams?exam_id=").concat(T.id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Ye.a,{})})})},"edit"),Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(T.semester_subject_id,"/exams?results=").concat(T.id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(a.a,{id:"TeacherSubjects.Exams.results",defaultMessage:"results"}),children:Object(e.jsx)($.a,{icon:Object(e.jsx)($e.a,{})})})},"results"),Object(e.jsx)(Oe.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(m.a)(Object(h.a)().mark(function R(){var E;return Object(h.a)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Re(T.id);case 2:E=p.sent,E.success&&s.current&&s.current.reload();case 4:case"end":return p.stop()}},R)})),okText:Object(e.jsx)(a.a,{id:"yes"}),cancelText:Object(e.jsx)(a.a,{id:"no"}),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(st.a,{}),danger:!0})})},"delete")]}}])})},se=t("DYRE"),ce=t("zeV3"),oe=t("tU7J"),z=t("wFql"),Te=t("4KAj"),Ce=t("o0Ox"),et=[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"user_id",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"first_name",defaultMessage:"First name"}),dataIndex:"first_name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"last_name",defaultMessage:"Last name"}),dataIndex:"last_name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"groupName",defaultMessage:"Group name"}),dataIndex:"group_name",hideInSearch:!0}],bt=function(){var c,r=Object(u.useState)(!1),s=Object(U.a)(r,2),n=s[0],l=s[1],b=Object(re.b)(),f=b.teacherSubjectData,x=Object(u.useState)([]),_=Object(U.a)(x,2),S=_[0],y=_[1],T=Object(u.useRef)(),R=Object(u.useMemo)(function(){return S.reduce(function(p,N){var me,g=[];return N==null||(me=N.users)===null||me===void 0||me.reduce(function(W,I){var B={group_id:N.id,group_name:N.name,user_id:I.id,first_name:I.first_name,last_name:I.last_name,email:I.email};return g.push(B),Object(i.a)(Object(i.a)({},W),B)},{}),l(!1),[].concat(Object(P.a)(p),g)},[])},[S]),E=function(N){Object(Ce.a)({parent_id:f==null?void 0:f.group_id,"id[]":N}).then(function(me){me.success&&y(me.data)})},H=function(N){l(!0),E(N)};return Object(u.useEffect)(function(){E()},[]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(de.a,{children:Object(e.jsxs)(ce.b,{children:[Object(e.jsx)(z.a.Title,{level:5,children:Object(e.jsx)(a.a,{id:"select_user_group",defaultMessage:"Select group"})}),Object(e.jsx)(A.a,{allowClear:!0,mode:"multiple",style:{minWidth:"400px"},onChange:H,onClear:E,children:f==null||(c=f.groups)===null||c===void 0?void 0:c.map(function(p){return Object(e.jsx)(A.a.Option,{value:p.id,children:p.name},p.id)})})]})}),Object(e.jsx)(ee.a,{actionRef:T,rowKey:"user_id",search:!1,loading:n,dataSource:R!=null?R:[],columns:[].concat(et,[{hideInSearch:!0,title:Object(e.jsx)(a.a,{id:"msTeams"}),dataIndex:"teamsLink",valueType:"option",render:function(){return[Object(e.jsx)(Ae.a,{to:"#",children:Object(e.jsx)(We.a,{title:Object(e.jsx)(a.a,{id:"msTeams",defaultMessage:"teams"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Te.a,{})})})},"teamsLink")]}}])})]})},ft=bt,mt=t("jrin");function Ot(o,c){return vt.apply(this,arguments)}function vt(){return vt=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/schedules/groups/".concat(c),Object(i.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},o)})),vt.apply(this,arguments)}function Kt(o,c,r,s){return yt.apply(this,arguments)}function yt(){return yt=Object(m.a)(Object(h.a)().mark(function o(c,r,s,n){return Object(h.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",Object(a.i)("/api/admin/schedules/".concat(c,"/attendances"),Object(i.a)({data:{attendances:[{user_id:r,value:s}]},method:"POST"},n||{})));case 1:case"end":return b.stop()}},o)})),yt.apply(this,arguments)}var Ra=t("sRBo"),Bt=t("kaz8"),Vt=function(c){var r=c.currentData,s=c.recordData,n=c.groupId,l=c.onSuccess,b=Object(u.useState)(!1),f=Object(U.a)(b,2),x=f[0],_=f[1],S=function(){_(!0),Kt(r.id,s.id,(s==null?void 0:s[String(r.date_from)])===V.a.PRESENT?V.a.ABSENT:V.a.PRESENT).then(function(T){T.success&&Ot(Number(n)).then(function(R){R.success&&(l(R.data),_(!1))})})};return x?Object(e.jsx)(C.a,{size:"small"}):Object(e.jsx)(Bt.a,{checked:(s==null?void 0:s[String(r.date_from)])===V.a.PRESENT,onChange:function(){return S()}})},Ht=Vt,Jt=function(){var c,r,s,n,l,b=Object(re.b)(),f=b.teacherSubjectData,x=Object(u.useRef)(),_=Object(a.l)(),S=Object(u.useState)(!1),y=Object(U.a)(S,2),T=y[0],R=y[1],E=Object(u.useState)(),H=Object(U.a)(E,2),p=H[0],N=H[1],me=Object(u.useState)(),g=Object(U.a)(me,2),W=g[0],I=g[1],B=Object(u.useState)({id:(c=f==null||(r=f.groups)===null||r===void 0?void 0:r[0].id)!==null&&c!==void 0?c:null,name:f==null||(s=f.groups)===null||s===void 0?void 0:s[0].name}),ue=Object(U.a)(B,2),F=ue[0],pe=ue[1],Me=Object(u.useMemo)(function(){var Y;return((Y=W==null?void 0:W.users)!==null&&Y!==void 0?Y:[]).reduce(function(q,Fe){var M={id:Fe.id,first_name:Fe.first_name,last_name:Fe.last_name,academic_teacher_id:Fe.academic_teacher_id},be=(p!=null?p:[]).reduce(function(le,Ge){var Ue=Ge.attendances.find(function(Xe){return Xe.user_id===Fe.id});return Object(i.a)(Object(i.a)({},le),{},Object(mt.a)({},String(Ge.date_from),Ue==null?void 0:Ue.value))},{});return M.academic_teacher_id?Object(P.a)(q):[].concat(Object(P.a)(q),[Object(i.a)(Object(i.a)({},M),be)])},[])},[W,p]),ne=Object(u.useMemo)(function(){var Y=(p!=null?p:[]).reduce(function(q,Fe){return[].concat(Object(P.a)(q),[{title:String(Object(Je.a)(new Date(Fe.date_from),X.c)),dataIndex:String(Fe.date_from),hideInSearch:!0,width:100,align:"center",render:function(be,le){return Object(e.jsx)(Ht,{currentData:Fe,recordData:le,onSuccess:function(Ue){return N(Ue)},groupId:F.id})}}])},[]);return console.log({columns:ne}),R(!1),[{title:Object(e.jsx)(a.a,{id:"nameAndSurname",defaultMessage:"Name and surname"}),hideInSearch:!0,fixed:"left",render:function(Fe,M){return"".concat(M.first_name," ").concat(M.last_name)}}].concat(Object(P.a)(Y))},[p]),te=function(q){var Fe,M=f==null||(Fe=f.groups)===null||Fe===void 0?void 0:Fe.find(function(be){return be.id===q});return M?M==null?void 0:M.name:""},je=function(q){R(!0),pe({id:q,name:te(q)})};return Object(u.useEffect)(function(){F.id&&(Ot(F.id).then(function(Y){Y.success&&N(Y.data)}),Object(Ce.b)(F.id).then(function(Y){Y.success&&I(Y.data)}))},[F]),console.log({studentAttendanceList:Me}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(de.a,{children:Object(e.jsxs)(ce.b,{children:[Object(e.jsx)(z.a.Title,{level:5,children:Object(e.jsx)(a.a,{id:"select_user_group",defaultMessage:"Select group"})}),Object(e.jsx)(A.a,{style:{minWidth:"400px"},onChange:je,defaultValue:f==null||(n=f.groups)===null||n===void 0?void 0:n[0].id,children:f==null||(l=f.groups)===null||l===void 0?void 0:l.map(function(Y){return Object(e.jsx)(A.a.Option,{value:Y.id,children:Y.name},Y.id)})})]})}),ne.length===1?Object(e.jsx)(a.a,{id:"noAttendanceSchedule",defaultMessage:"No attendance schedule for this group..."}):Object(e.jsx)(ee.a,{headerTitle:"".concat(_.formatMessage({id:"attendances",defaultMessage:"Attendances"})," (").concat(F.name,")"),actionRef:x,rowKey:"group_id",search:!1,loading:T,dataSource:Me!=null?Me:[],scroll:{x:1500},columns:Object(P.a)(ne)})]})},zt=Jt,Ia=t("/zsF"),Tt=t("PArb"),Yt=t("Hn4i"),Zt=t("bRQS");function $t(o,c,r){return Ct.apply(this,arguments)}function Ct(){return Ct=Object(m.a)(Object(h.a)().mark(function o(c,r,s){return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(a.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(r,"/grades"),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return l.stop()}},o)})),Ct.apply(this,arguments)}function Qt(o,c,r,s){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(m.a)(Object(h.a)().mark(function o(c,r,s,n){return Object(h.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",Object(a.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(r,"/grades"),Object(i.a)({method:"POST",data:s},n||{})));case 1:case"end":return b.stop()}},o)})),Mt.apply(this,arguments)}function Xt(o,c){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/lesson-group-users",Object(i.a)({method:"GET",params:{"groups[]":c},useCache:!1},r||{})));case 1:case"end":return n.stop()}},o)})),Pt.apply(this,arguments)}function kt(o,c,r){return Dt.apply(this,arguments)}function Dt(){return Dt=Object(m.a)(Object(h.a)().mark(function o(c,r,s){return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(a.i)("/api/admin/lesson-group-users/groups/".concat(c,"/users/").concat(r),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return l.stop()}},o)})),Dt.apply(this,arguments)}function qt(o){return At.apply(this,arguments)}function At(){return At=Object(m.a)(Object(h.a)().mark(function o(c){return Object(h.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(a.i)("/api/admin/grade-terms",Object(i.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return s.stop()}},o)})),At.apply(this,arguments)}function ea(o,c){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/grade-scales/".concat(c),Object(i.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},o)})),Rt.apply(this,arguments)}function ta(o,c){return It.apply(this,arguments)}function It(){return It=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/final-grades",Object(i.a)({method:"POST",data:c},r||{})));case 1:case"end":return n.stop()}},o)})),It.apply(this,arguments)}function aa(o,c,r){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(m.a)(Object(h.a)().mark(function o(c,r,s){return Object(h.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(a.i)("/api/admin/final-grades/".concat(c),Object(i.a)({method:"PATCH",data:r},s||{})));case 1:case"end":return l.stop()}},o)})),Lt.apply(this,arguments)}var na=[{title:Object(e.jsx)(a.a,{id:"grade"}),dataIndex:"grade",editable:!1},{title:Object(e.jsx)(a.a,{id:"degree"}),dataIndex:"name",editable:!1},{title:Object(e.jsx)(a.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(a.a,{id:"number_between",values:{min:0,max:100}})}]}}],ra=function(){var c,r,s=Object(a.m)("@@initialState"),n=s.initialState,l=Object(re.b)(),b=l.semester_subject_id,f=l.tutors,x=ae.a.useForm(),_=Object(U.a)(x,1),S=_[0],y=Object(u.useState)([]),T=Object(U.a)(y,2),R=T[0],E=T[1],H=Object(u.useRef)(),p=Object(u.useState)(!1),N=Object(U.a)(p,2),me=N[0],g=N[1],W=Object(u.useState)(null),I=Object(U.a)(W,2),B=I[0],ue=I[1],F=Object(u.useMemo)(function(){return!!f.data.find(function(ne){var te,je=ne.id;return je===(n==null||(te=n.currentUser)===null||te===void 0?void 0:te.id)})},[f.data,n==null||(c=n.currentUser)===null||c===void 0?void 0:c.id]),pe=Object(u.useMemo)(function(){return f.data.map(function(ne){var te=ne.id,je=ne.first_name,Y=ne.last_name;return{label:"".concat(je," ").concat(Y),value:te}})},[f.data]);Object(u.useEffect)(function(){var ne,te;if(!F||!(n!=null&&(ne=n.currentUser)!==null&&ne!==void 0&&ne.id)){var je;if((je=f.data)!==null&&je!==void 0&&je[0]){var Y;ue((Y=f.data)===null||Y===void 0?void 0:Y[0].id)}return}ue(n==null||(te=n.currentUser)===null||te===void 0?void 0:te.id)},[n==null||(r=n.currentUser)===null||r===void 0?void 0:r.id,F]),Object(u.useEffect)(function(){b===null||B===null||(g(!0),$t(b,B).then(function(ne){if(ne.success){var te,je=((te=ne.data.grade_scale)!==null&&te!==void 0?te:[]).map(function(Y,q){return Object(i.a)(Object(i.a)({},Y),{},{id:String((q+1)*100)})});S.setFieldValue("table",je)}}).finally(function(){g(!1)}))},[b,B]);var Me=Object(u.useCallback)(function(){var ne=Object(m.a)(Object(h.a)().mark(function te(je){return Object(h.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!(b===null||B===null)){q.next=2;break}return q.abrupt("return");case 2:return q.next=4,Qt(b,B,{grade_scale:je.table});case 4:case"end":return q.stop()}},te)}));return function(te){return ne.apply(this,arguments)}}(),[B,b]);return f.loading?Object(e.jsx)(C.a,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ae.a.Item,{label:Object(e.jsx)(a.a,{id:"menu.Teacher"}),children:Object(e.jsx)(A.a,{disabled:F,placeholder:Object(e.jsx)(a.a,{id:"select"}),options:pe,value:B,onChange:function(te){return ue(te)}})}),Object(e.jsx)(Tt.a,{}),Object(e.jsx)(ae.a,{form:S,onFinish:Me,submitter:{render:function(te,je){var Y=Object(U.a)(je,2),q=Y[1];return[q]}},children:Object(e.jsx)(Yt.a,{name:"table",rowKey:"id",actionRef:H,formItemProps:{label:Object(e.jsx)(a.a,{id:"grades-scale"})},cardProps:{bodyStyle:{padding:0}},recordCreatorProps:!1,loading:me,columns:[].concat(na,[{title:Object(e.jsx)(a.a,{id:"options"}),valueType:"option",render:function(te,je){return Object(e.jsx)($.a,{type:"primary",onClick:function(){var q;return(q=H.current)===null||q===void 0?void 0:q.startEditable(je.id)},icon:Object(e.jsx)(Ye.a,{})})}}]),editable:{form:S,type:"multiple",editableKeys:R,saveText:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Zt.a,{})}),onChange:E,actionRender:function(te,je,Y){return[Y.save]}}})})]})},La=t("qbNl"),sa=t("JBPa"),Ga=t("Awhp"),ca=t("KrTs"),ia=t("wd/R"),tt=t.n(ia),Ua=t("5R/X");function ua(o,c){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(m.a)(Object(h.a)().mark(function o(c,r){return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(a.i)("/api/admin/schedules",Object(i.a)({params:c,method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},o)})),Gt.apply(this,arguments)}var la=function(){var c=Object(u.useState)(null),r=Object(U.a)(c,2),s=r[0],n=r[1],l=Object(u.useState)([]),b=Object(U.a)(l,2),f=b[0],x=b[1],_=Object(re.b)(),S=_.semester_subject_id,y=tt()(),T=Object(u.useMemo)(function(){return f.map(function(g){return{id:g.id,title:"".concat(g.group.name," (").concat(g.term_status.name,")"),start:tt()(g.date_from).toDate(),end:tt()(g.date_to).toDate(),tutor_name:"".concat(g.tutor.first_name," ").concat(g.tutor.last_name),tutor_email:g.tutor.email,semester:g.semester.name,group:g.group.name,subject:g.subject.name}})},[f]),R=Object(u.useCallback)(function(g,W){ua({semester_subject_id:S,date_form:g.toDate(),date_to:W.toDate()}).then(function(I){I.success&&x(I.data)})},[S]),E=Object(u.useCallback)(function(g){n(g)},[]),H=Object(u.useCallback)(function(){n(null)},[]),p=Object(u.useCallback)(function(g){return g.isSame(y,"day")?"warning":g.isAfter(y,"day")?"success":"error"},[]),N=Object(u.useCallback)(function(g){var W=T.filter(function(I){return tt()(I.start).isSame(g,"day")});return Object(e.jsx)("ul",{className:"events",children:W.map(function(I){return Object(e.jsx)("li",{onClick:function(){return E(I)},children:Object(e.jsx)(ca.a,{status:p(tt()(I.start)),text:I.title})},I.id)})})},[f]),me=Object(u.useCallback)(function(g,W){var I=tt()(g).startOf(W).subtract(1,"month"),B=tt()(g).endOf(W).add(1,"month");R(I,B)},[]);return Object(u.useEffect)(function(){var g=tt()().startOf("month"),W=tt()().endOf("month");R(g,W)},[]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(z.a.Title,{level:4,children:Object(e.jsx)(a.a,{id:"schedule",defaultMessage:"Schedule"})}),Object(e.jsx)(sa.a,{dateCellRender:N,onPanelChange:me}),Object(e.jsxs)(Qe.a,{open:s!==null,title:"".concat(s==null?void 0:s.subject,": ").concat(s==null?void 0:s.title),onCancel:H,footer:null,children:[Object(e.jsxs)(z.a.Paragraph,{children:[Object(e.jsx)(a.a,{id:"tutorName",defaultMessage:"Tutor"}),": ",s==null?void 0:s.tutor_name]}),Object(e.jsxs)(z.a.Paragraph,{children:[Object(e.jsx)(a.a,{id:"email",defaultMessage:"Email"}),": ",s==null?void 0:s.tutor_email]}),Object(e.jsxs)(z.a.Paragraph,{children:[Object(e.jsx)(a.a,{id:"group",defaultMessage:"Group"}),": ",s==null?void 0:s.group]}),Object(e.jsxs)(z.a.Paragraph,{children:[Object(e.jsx)(a.a,{id:"semester",defaultMessage:"Semester"}),": ",s==null?void 0:s.semester]}),Object(e.jsxs)(z.a.Paragraph,{children:[Object(e.jsx)(a.a,{id:"started_at",defaultMessage:"Start date"}),":",s&&tt()(s.start).format(X.b)]}),Object(e.jsxs)(z.a.Paragraph,{children:[Object(e.jsx)(a.a,{id:"end_at",defaultMessage:"End date"}),":",s&&tt()(s.end).format(X.b)]})]})]})},da=la,Ut=t("PpiC"),oa=t("Vpfc"),Fa=t("miYZ"),pt=t("tsqr"),Nt=t("yj/a"),Wt=t("5Syx"),Ft=t("H6aw"),ja=t("p3I6"),ba=["attendances"],fa=["results"];function ma(o,c){var r=Object(u.useState)({loading:!1}),s=Object(U.a)(r,2),n=s[0],l=s[1];return Object(u.useEffect)(function(){l(function(b){return Object(i.a)(Object(i.a)({},b),{},{loading:!0})}),kt(o,c).then(function(b){b.success&&l(function(f){return Object(i.a)(Object(i.a)({},f),{},{data:b.data})})}).finally(function(){l(function(b){return Object(i.a)(Object(i.a)({},b),{},{loading:!1})})})},[c,o]),{finalGrades:n}}function Oa(){var o=Object(u.useState)({loading:!1}),c=Object(U.a)(o,2),r=c[0],s=c[1];return Object(u.useEffect)(function(){s(function(n){return Object(i.a)(Object(i.a)({},n),{},{loading:!0})}),qt().then(function(n){n.success&&s(function(l){return Object(i.a)(Object(i.a)({},l),{},{data:n.data})})}).finally(function(){s(function(n){return Object(i.a)(Object(i.a)({},n),{},{loading:!1})})})},[]),{gradeTerms:r}}function va(o){var c=Object(u.useState)({loading:!1}),r=Object(U.a)(c,2),s=r[0],n=r[1];return Object(u.useEffect)(function(){o!==void 0&&(n(function(l){return Object(i.a)(Object(i.a)({},l),{},{loading:!0})}),ea(o).then(function(l){l.success&&n(function(b){return Object(i.a)(Object(i.a)({},b),{},{data:l.data})})}).finally(function(){n(function(l){return Object(i.a)(Object(i.a)({},l),{},{loading:!1})})}))},[o]),{subjectGradeScales:s}}function ha(o,c){var r=Object(u.useState)({loading:!1}),s=Object(U.a)(r,2),n=s[0],l=s[1];return Object(u.useEffect)(function(){typeof o!="number"||typeof c!="number"||(l(function(b){return Object(i.a)(Object(i.a)({},b),{},{loading:!0})}),$t(o,c).then(function(b){b.success&&l(function(f){return Object(i.a)(Object(i.a)({},f),{},{data:b.data.grade_scale})})}).finally(function(){l(function(b){return Object(i.a)(Object(i.a)({},b),{},{loading:!1})})}))},[o,c]),{tutorGradeScales:n}}function ga(o,c){var r=Object(u.useState)({loading:!1}),s=Object(U.a)(r,2),n=s[0],l=s[1],b=Object(u.useCallback)(function(){l(function(x){return Object(i.a)(Object(i.a)({},x),{},{loading:!0})}),Ot(o).then(function(x){if(x.success){var _=x.data.reduce(function(S,y){var T=y.attendances,R=Object(Ut.a)(y,ba),E=T.find(function(H){return Boolean(H.user_id)});return E?[].concat(Object(P.a)(S),[Object(i.a)(Object(i.a)({},R),{},{attendance:E})]):S},[]);l(function(S){return Object(i.a)(Object(i.a)({},S),{},{data:_})})}}).finally(function(){l(function(x){return Object(i.a)(Object(i.a)({},x),{},{loading:!1})})})},[o,c]),f=Object(u.useCallback)(function(x,_){l(function(S){return Object(i.a)(Object(i.a)({},S),{},{loading:!0})}),Kt(x,c,_).then(function(S){S.success?pt.b.success(S.message):pt.b.error(S.message)}).finally(function(){b(),l(function(S){return Object(i.a)(Object(i.a)({},S),{},{loading:!1})})})},[b,c]);return Object(u.useEffect)(function(){b()},[b]),{userAttendanceSchedules:n,fetchUserAttendanceSchedules:b,updateUserAttendanceSchedules:f}}function pa(o){var c=Object(u.useState)({loading:!1}),r=Object(U.a)(c,2),s=r[0],n=r[1];return Object(u.useEffect)(function(){n(function(l){return Object(i.a)(Object(i.a)({},l),{},{loading:!0})}),w({student_id:o}).then(function(l){if(l.success){var b=l.data.reduce(function(f,x){var _=Object(U.a)(x.results,1),S=_[0],y=Object(Ut.a)(x,fa);return S?[].concat(Object(P.a)(f),[Object(i.a)(Object(i.a)({},y),{},{result:S})]):f},[]);n(function(f){return Object(i.a)(Object(i.a)({},f),{},{data:b})})}}).finally(function(){n(function(l){return Object(i.a)(Object(i.a)({},l),{},{loading:!1})})})},[o]),{studentExams:s}}function xa(o,c){var r=Object(u.useState)({loading:!1}),s=Object(U.a)(r,2),n=s[0],l=s[1],b=Object(u.useState)({loading:!1}),f=Object(U.a)(b,2),x=f[0],_=f[1],S=Object(u.useState)({loading:!1}),y=Object(U.a)(S,2),T=y[0],R=y[1];return Object(u.useEffect)(function(){l(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Object(Ft.e)({group_id:o}).then(function(E){E.success&&l(function(H){return Object(i.a)(Object(i.a)({},H),{},{data:E.data})})}).finally(function(){l(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})})},[o]),Object(u.useEffect)(function(){!n.data||(R(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Promise.all(n.data.map(function(E){var H=E.id;return Object(Ft.m)(Number(H))})).then(function(E){E.forEach(function(H){H.success&&R(function(p){return Object(i.a)(Object(i.a)({},p),{},{data:Object(i.a)(Object(i.a)({},p.data),{},Object(mt.a)({},Number(H.data.id),Object(ja.c)(H.data.lessons)))})})})}).finally(function(){R(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})}),_(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Promise.all(n.data.map(function(E){var H=E.id;return Object(Ft.l)(Number(H),["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics","EscolaLms\\Reports\\Stats\\Course\\AttendanceList"]).then(function(p){if(p.success){var N,me,g=((N=p.data["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics"])!==null&&N!==void 0?N:[]).filter(function(I){return I.id===c}),W=(me=p.data["EscolaLms\\Reports\\Stats\\Course\\AttendanceList"])!==null&&me!==void 0?me:[];_(function(I){return Object(i.a)(Object(i.a)({},I),{},{data:Object(i.a)(Object(i.a)({},I.data),{},Object(mt.a)({},Number(H),{finishedTopics:g,attendanceList:W}))})})}})})).finally(function(){return _(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})}))},[n.data,c]),{userCourses:n,userCoursesStats:x,userCoursesTopics:T}}var _a=[{title:Object(e.jsx)(a.a,{id:"grade"}),dataIndex:"grade"},{title:Object(e.jsx)(a.a,{id:"degree"}),dataIndex:"name"},{title:Object(e.jsx)(a.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent"}],Sa=[{title:Object(e.jsx)(a.a,{id:"date"}),dataIndex:"date_from",render:function(c,r){return Object(Je.a)(new Date(r.date_from),X.c)}}],Ea=[{title:Object(e.jsx)(a.a,{id:"name"}),dataIndex:"title"},{title:Object(e.jsx)(a.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",valueType:"percent"},{title:Object(e.jsx)(a.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",render:function(c,r){return Object(Je.a)(new Date(r.created_at),X.c)}},{title:Object(e.jsx)(a.a,{id:"grade"}),dataIndex:"result",render:function(c,r){return"".concat(r.result.result,"%")}}],ya=[{title:Object(e.jsx)(a.a,{id:"name"}),dataIndex:"name"},{title:Object(e.jsx)(a.a,{id:"issued_at"}),dataIndex:"grade",render:function(c,r){var s,n;return(s=r.grade)!==null&&s!==void 0&&s.grade_date?Object(Je.a)(new Date((n=r.grade)===null||n===void 0?void 0:n.grade_date),X.c):"-"}},{title:Object(e.jsx)(a.a,{id:"grade"}),dataIndex:"grade",render:function(c,r){var s,n;return(s=(n=r.grade)===null||n===void 0?void 0:n.grade_name)!==null&&s!==void 0?s:"-"}}],xt=6,Ta=function(c){var r,s,n=c.user_id,l=c.group_id,b=Object(re.b)(),f=b.semester_subject_id,x=pa(n),_=x.studentExams,S=ma(l,n),y=S.finalGrades,T=Oa(),R=T.gradeTerms,E=va((r=y.data)===null||r===void 0?void 0:r.s_subject_scale_form_id),H=E.subjectGradeScales,p=ha(f,(s=y.data)===null||s===void 0?void 0:s.tutor_id),N=p.tutorGradeScales,me=ga(l,n),g=me.userAttendanceSchedules,W=me.updateUserAttendanceSchedules,I=xa(l,n),B=I.userCourses,ue=I.userCoursesStats,F=I.userCoursesTopics,pe=ae.a.useForm(),Me=Object(U.a)(pe,1),ne=Me[0],te=Object(u.useMemo)(function(){var M;return((M=R.data)!==null&&M!==void 0?M:[]).map(function(be){var le=be.id,Ge=be.name;return{label:Ge,value:le}})},[R.data]),je=Object(u.useMemo)(function(){var M;return((M=H.data)!==null&&M!==void 0?M:[]).map(function(be){var le=be.name,Ge=be.id;return{label:le,value:Ge}})},[H.data]),Y=Object(u.useMemo)(function(){var M,be,le,Ge=((M=_.data)!==null&&M!==void 0?M:[]).reduce(function(qe,at){var Aa=at.result,wt=at.weight;return[qe[0]+Aa.result*wt,qe[1]+wt]},[0,0]),Ue=Object(U.a)(Ge,2),Xe=Ue[0],rt=Ue[1],it=Number.isNaN(Xe/rt)?0:Xe/rt,ut=((be=N.data)!==null&&be!==void 0?be:[]).sort(function(qe,at){return qe.grade_value-at.grade_value}).reduce(function(qe,at){return[].concat(Object(P.a)(qe),[Object(i.a)(Object(i.a)({},at),{},{isWeightedAverageGreater:it>=at.grade_value})])},[]);if(ut.every(function(qe){var at=qe.isWeightedAverageGreater;return at})){var Ne;return(Ne=ut.at(-1))===null||Ne===void 0?void 0:Ne.name}var ke=ut.findIndex(function(qe){var at=qe.isWeightedAverageGreater;return!at});return ke<0?"":(le=ut[ke-1])===null||le===void 0?void 0:le.name},[_.data,N.data]),q=Object(u.useCallback)(function(){var M=Object(m.a)(Object(h.a)().mark(function be(le){var Ge,Ue,Xe,rt,it;return Object(h.a)().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(Xe=le.grade_scale_id,rt=le.grade_term_id,((Ge=y.data)===null||Ge===void 0?void 0:Ge.id)!==void 0){Ne.next=3;break}return Ne.abrupt("return");case 3:if(it=(Ue=y.data)===null||Ue===void 0?void 0:Ue.grades.find(function(ke){var qe=ke.grade_term;return qe.id===rt}),!it){Ne.next=7;break}return aa(it.id,{grade_scale_id:Xe}).then(function(ke){pt.b[ke.success?"success":"error"](ke.message),a.f.push("/teacher/subjects/".concat(f,"/final-grades"))}),Ne.abrupt("return");case 7:ta({grade_scale_id:Xe,grade_term_id:rt,lesson_group_user_id:y.data.id}).then(function(ke){pt.b[ke.success?"success":"error"](ke.message),a.f.push("/teacher/subjects/".concat(f,"/final-grades"))});case 8:case"end":return Ne.stop()}},be)}));return function(be){return M.apply(this,arguments)}}(),[y.data,f]),Fe=Object(u.useMemo)(function(){var M;return((M=R.data)!==null&&M!==void 0?M:[]).map(function(be){var le;return Object(i.a)(Object(i.a)({},be),{},{grade:(le=y.data)===null||le===void 0?void 0:le.grades.find(function(Ge){var Ue=Ge.grade_term;return Ue.id===be.id})})})},[y.data,R.data]);return y.loading?Object(e.jsx)(C.a,{}):Object(e.jsxs)(e.Fragment,{children:[y.data&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(z.a.Text,{style:{fontSize:"16px",fontWeight:500},children:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.Student",values:y.data.user})}),Object(e.jsx)(Tt.a,{})]}),Object(e.jsxs)(Ve.a,{gutter:[48,48],justify:"space-between",children:[Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.StudentPartialGrades"}),search:!1,pagination:{pageSize:xt},dataSource:_.data,loading:_.loading,columns:Ea,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.FinalGrades"}),search:!1,pagination:{pageSize:xt},dataSource:Fe,loading:y.loading||R.loading,columns:ya,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.Attendances"}),search:!1,options:!1,pagination:{pageSize:xt},cardProps:{bodyStyle:{padding:0}},dataSource:g.data,loading:g.loading,columns:[].concat(Sa,[{title:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.Attendance"}),dataIndex:"attendance",render:function(be,le){return Object(e.jsx)(Bt.a,{onChange:function(Ue){return W(le.id,Ue.target.checked?V.a.PRESENT:V.a.ABSENT)},checked:le.attendance.value===V.a.PRESENT})}}])})}),Object(e.jsx)(Be.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.GradesScale"}),search:!1,options:!1,pagination:{pageSize:xt},cardProps:{bodyStyle:{padding:0}},dataSource:N.data,loading:N.loading,columns:_a})}),B.loading&&!B.data||ue.loading&&!ue.data||F.loading&&!F.data&&Object(e.jsx)(C.a,{}),B.data&&ue.data&&F.data&&B.data.map(function(M){var be,le,Ge,Ue,Xe,rt,it,ut,Ne=M.id,ke=M.title;return Object(e.jsxs)(Be.a,{span:24,children:[Object(e.jsx)(z.a.Text,{style:{fontSize:"16px",fontWeight:500},children:ke}),Object(e.jsx)(Wt.c,{topics:(be=(le=F.data)===null||le===void 0?void 0:le[Number(Ne)])!==null&&be!==void 0?be:[],stats:(Ge=(Ue=ue.data)===null||Ue===void 0||(Xe=Ue[Number(Ne)])===null||Xe===void 0?void 0:Xe.finishedTopics)!==null&&Ge!==void 0?Ge:[]}),Object(e.jsx)(Wt.a,{stats:(rt=(it=ue.data)===null||it===void 0||(ut=it[Number(Ne)])===null||ut===void 0?void 0:ut.attendanceList)!==null&&rt!==void 0?rt:[]})]},Ne)})]}),Object(e.jsx)(ae.a,{form:ne,onFinish:q,children:Object(e.jsxs)(ae.a.Group,{style:{display:"flex",flexDirection:"column",paddingTop:"48px"},title:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.IssueAssessment"}),titleStyle:{flex:"unset"},align:"center",children:[Object(e.jsx)(Nt.a,{name:"grade_term_id",rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})}],label:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.GradeTerm"}),options:te,width:"sm",fieldProps:{loading:R.loading}}),Object(e.jsx)(Nt.a,{name:"grade_scale_id",rules:[{required:!0,message:Object(e.jsx)(a.a,{id:"field_required"})}],label:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.FinalGrade"}),options:je,fieldProps:{loading:y.loading||H.loading}}),Object(e.jsx)(ae.a.Item,{children:Object(e.jsx)(a.a,{id:"TeacherSubjects.FinalGrades.ProposedGrade",values:{grade:Y}})})]})})]})},Ca=["grades"],Ma=[{title:Object(e.jsx)(a.a,{id:"group"}),dataIndex:"group_id",render:function(c,r){return Object(e.jsx)(oa.a,{type:"Students",type_id:r.group_id},r.group_id)}},{title:Object(e.jsx)(a.a,{id:"first_name"}),dataIndex:"user",render:function(c,r){return r.user.first_name}},{title:Object(e.jsx)(a.a,{id:"last_name"}),dataIndex:"user",render:function(c,r){return r.user.last_name}},{title:Object(e.jsx)(a.a,{id:"grade"}),dataIndex:"grades",render:function(c,r){return Object(e.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:r.grades.length?r.grades.map(function(s){var n=s.grade_name,l=s.grade_term,b=s.id;return Object(e.jsxs)(z.a.Text,{children:[l.name,": ",n]},b)}):"-"})}}],Pa=function(){var c,r,s,n=Object(d.k)(),l=Object(u.useMemo)(function(){var W,I,B,ue;return{user_id:Number.isNaN(Number((W=n.query)===null||W===void 0?void 0:W.user_id))?null:Number((I=n.query)===null||I===void 0?void 0:I.user_id),group_id:Number.isNaN(Number((B=n.query)===null||B===void 0?void 0:B.group_id))?null:Number((ue=n.query)===null||ue===void 0?void 0:ue.group_id)}},[(c=n.query)===null||c===void 0?void 0:c.user_id,(r=n.query)===null||r===void 0?void 0:r.group_id]),b=l.user_id,f=l.group_id,x=Object(re.b)(),_=x.teacherSubjectData,S=x.semester_subject_id,y=Object(u.useState)({loading:!1}),T=Object(U.a)(y,2),R=T[0],E=T[1],H=Object(u.useState)([Number(_==null||(s=_.groups)===null||s===void 0?void 0:s[0].id)]),p=Object(U.a)(H,2),N=p[0],me=p[1],g=Object(u.useMemo)(function(){var W;return((W=_==null?void 0:_.groups)!==null&&W!==void 0?W:[]).map(function(I){var B=I.id,ue=I.name;return{label:ue,value:B}})},[_==null?void 0:_.groups]);return Object(u.useEffect)(function(){if(typeof b!="number"){if(!N.length){E({loading:!1});return}E(function(W){return Object(i.a)(Object(i.a)({},W),{},{loading:!0})}),Xt(N).then(function(W){if(W.success){var I=W.data.map(function(B){var ue=B.grades,F=Object(Ut.a)(B,Ca);return Object(i.a)(Object(i.a)({},F),{},{grades:ue.sort(function(pe,Me){return new Date(Me.grade_date).getTime()-new Date(pe.grade_date).getTime()})})});E(function(B){return Object(i.a)(Object(i.a)({},B),{},{dataSource:I})})}}).finally(function(){E(function(W){return Object(i.a)(Object(i.a)({},W),{},{loading:!1})})})}},[N,b]),b!==null&&f!==null?Object(e.jsx)(Ta,{user_id:b,group_id:f}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ae.a.Item,{label:Object(e.jsx)(a.a,{id:"group"}),children:Object(e.jsx)(A.a,{allowClear:!0,mode:"multiple",options:g,value:N,onChange:function(I){return me(I)}})}),Object(e.jsx)(Tt.a,{}),Object(e.jsx)(ee.a,{rowKey:"id",search:!1,loading:R.loading,dataSource:R.dataSource,columns:[].concat(Ma,[{title:Object(e.jsx)(a.a,{id:"options"}),render:function(I,B){return[Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(S,"/final-grades?user_id=").concat(B.user.id,"&group_id=").concat(B.group_id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(a.a,{id:"edit"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Ye.a,{})})})},"edit")]}}])})]})},Da=function(c){var r,s,n=c.tab,l=Object(a.l)(),b=Object(a.m)("@@initialState"),f=b.setInitialState,x=b.initialState,_=Object(re.b)(),S=_.teacherSubjectData,y=_.semester_subject_id,T=_.tutors,R=Object(u.useCallback)(Object(xe.a)(x==null?void 0:x.currentUser),[x==null?void 0:x.currentUser]),E=Object(u.useMemo)(function(){return!!T.data.find(function(H){var p,N=H.id;return N===(x==null||(p=x.currentUser)===null||p===void 0?void 0:p.id)})||R(Se.a.TeacherListGradeScale)},[]);return S?Object(e.jsx)(ie.a,{title:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(a.a,{id:S==null||(r=S.subject)===null||r===void 0?void 0:r.name}),", ",Object(e.jsx)(a.a,{id:n})]}),tabBarExtraContent:Object(e.jsxs)("div",{style:{display:"flex",padding:"12px",gap:"12px"},children:[Object(e.jsx)($.a,{type:"primary",onClick:function(){return console.log("MSTeams")},children:Object(e.jsx)(a.a,{id:"msTeams",defaultMessage:"msTeams"})}),Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(y,"/exams?exam_id=new"),children:Object(e.jsx)($.a,{type:"primary",children:Object(e.jsx)(a.a,{id:"uploadGrades",defaultMessage:"uploadGrades"})})})]}),header:{breadcrumb:{routes:[{path:"teacher",breadcrumbName:l.formatMessage({id:"Teacher"})},{path:"subjects",breadcrumbName:l.formatMessage({id:"Subjects"})},{path:String(y),breadcrumbName:String((s=S.subject)===null||s===void 0?void 0:s.name)},{path:String(n),breadcrumbName:l.formatMessage({id:n,defaultMessage:String(n)})}]}},children:Object(e.jsxs)(de.a,{bodyStyle:{padding:"24px"},tabs:{type:"card",activeKey:n,onChange:function(p){f(Object(i.a)({},x)),a.f.push("/teacher/subjects/".concat(y,"/").concat(p))}},children:[Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"groups"}),children:Object(e.jsx)(Pe.b,{})},"groups"),Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"students"}),children:Object(e.jsx)(ft,{})},"students"),Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"exams"}),children:Object(e.jsx)(De,{})},"exams"),Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"schedule"}),children:Object(e.jsx)(da,{})},"schedule"),Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"attendance"}),children:Object(e.jsx)(zt,{})},"attendance"),E&&Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"grades-scale"}),children:Object(e.jsx)(ra,{})},"grades-scale"),Object(e.jsx)(de.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"final-grades"}),children:Object(e.jsx)(Pa,{})},"final-grades")]})}):Object(e.jsx)(C.a,{})},Ka=fe.default=function(){var o=Object(d.l)(),c=o.subjectId,r=o.tab,s=r===void 0?"groups":r;return Object(e.jsx)(re.a,{semester_subject_id:Number(c),children:Object(e.jsx)(Da,{tab:s})})}},p3I6:function(Ke,fe,t){"use strict";t.d(fe,"b",function(){return re}),t.d(fe,"c",function(){return Oe}),t.d(fe,"a",function(){return st});var i=t("miYZ"),Z=t("tsqr"),$=t("tJVT"),O=t("k1fw"),C=t("oBTY"),u=t("q1tI"),de=t.n(u),a=t("9kvl"),Ae=t("Ty5D"),d=t("H6aw"),ie=t("/y+f"),Se=t("nKUr"),xe=t.n(Se),re=de.a.createContext({}),Pe=function(){return Math.round(Math.random()*99999)},nt=function ee(X){return X.reduce(function(w,v){return[].concat(Object(C.a)(w),Object(C.a)(v.lessons?ee(v.lessons):[]),[v])},[])},Oe=function ee(X){return X.reduce(function(w,v){var J;return[].concat(Object(C.a)(w),Object(C.a)(v.lessons?ee(v.lessons):[]),Object(C.a)((J=v.topics)!==null&&J!==void 0?J:[]))},[])},ze=function ee(X,w,v){return X.map(function(J){var ve,G;return Object(O.a)(Object(O.a)({},J),{},{lessons:J.lessons?ee(J.lessons,w,v):[],topics:J.id===w?[].concat(Object(C.a)((ve=J.topics)!==null&&ve!==void 0?ve:[]),[v]):(G=J.topics)!==null&&G!==void 0?G:[]})})},We=function ee(X,w,v){return X.map(function(J){var ve,G,j;return Object(O.a)(Object(O.a)({},J),{},{lessons:ee((ve=J.lessons)!==null&&ve!==void 0?ve:[],w,v),topics:(G=(j=J.topics)===null||j===void 0?void 0:j.map(function(he){return he.id===w?v:he}))!==null&&G!==void 0?G:[]})})},h=function ee(X,w,v){return v?X.map(function(J){return Object(O.a)(Object(O.a)({},J),{},{lessons:[].concat(Object(C.a)(J.lessons?ee(J.lessons,w,v):[]),Object(C.a)(J.id===v?[w]:[]))})}):[].concat(Object(C.a)(X),[w])},m=function ee(X,w,v){return X.map(function(J){return Object(O.a)(Object(O.a)({},J.id===w?v:J),{},{lessons:J.lessons?ee(J.lessons,w,v):[]})})},Je=function ee(X,w){return X.map(function(v){return Object(O.a)(Object(O.a)({},v),{},{parent_id:w,lessons:v.lessons?ee(v.lessons,v.id):[]})})},Ye=function ee(X,w){return X.filter(function(v){return v.id!==w}).map(function(v){return Object(O.a)(Object(O.a)({},v),{},{lessons:v.lessons?ee(v.lessons,w):[]})})},$e=function ee(X,w){return X.map(function(v){return Object(O.a)(Object(O.a)({},v),{},{lessons:v.lessons?ee(v.lessons,w):[],topics:v.topics?v.topics.filter(function(J){return J.id!==w}):[]})})},st=function(X){var w=X.children,v=X.id,J=Object(u.useState)(),ve=Object($.a)(J,2),G=ve[0],j=ve[1],he=Object(a.l)(),Ee=Object(u.useMemo)(function(){return G&&G.lessons?Oe(G.lessons):[]},[G]),Re=Object(u.useMemo)(function(){return G&&G.lessons?nt(G.lessons):[]},[G]),_e=Object(u.useState)([]),Ie=Object($.a)(_e,2),ye=Ie[0],we=Ie[1],D=Object(Ae.k)();Object(u.useEffect)(function(){we([])},[]);var Q=Object(u.useCallback)(function(){Object(d.m)(v).then(function(K){return K.success&&j(Object(O.a)(Object(O.a)({},K.data),{},{lessons:Je(K.data.lessons)}))})},[v]);Object(u.useEffect)(function(){Q()},[Q]);var ge=Object(u.useCallback)(function(K){var A=Re.find(function(P){var L;return P==null||(L=P.topics)===null||L===void 0?void 0:L.find(function(e){return e.id===K})});return A?A.id:null},[Re]),U=Object(u.useMemo)(function(){var K,A;return(K=D.query)!==null&&K!==void 0&&K.lesson?{mode:"lesson",id:Number(D.query.lesson),value:Re.find(function(P){return P.id===Number(D.query.lesson)})}:(A=D.query)!==null&&A!==void 0&&A.topic?{mode:"topic",id:Number(D.query.topic),value:Ee.find(function(P){return P.id===Number(D.query.topic)})}:{mode:"init"}},[D.query,G,Re,Ee]),ct=Object(u.useCallback)(function(K){var A={course_id:v,topics:[],isNew:!0,id:G?G.lessons.length+1:Pe(),order:0,title:he.formatMessage({id:"add_title_here"}),active:!0,parent_id:K};return j(function(P){var L;return Object(O.a)(Object(O.a)({},P),{},{lessons:h((L=P==null?void 0:P.lessons)!==null&&L!==void 0?L:[],A,K)})}),A},[v,G]),Ve=Object(u.useCallback)(function(K,A){var P=Re.find(function(e){return e.id===K}),L=P&&P.isNew;return(L?Object(d.g)(A):Object(d.u)(K,A)).then(function(e){return Z.b.success(e.message),Q(),e.success&&j(function(k){var Le;return Object(O.a)(Object(O.a)({},k),{},{lessons:m((Le=k==null?void 0:k.lessons)!==null&&Le!==void 0?Le:[],K,Object(O.a)(Object(O.a)({},e.data),{},{isNew:!1}))})})})},[G]),Ze=Object(u.useCallback)(function(K){var A=Re.find(function(L){return L.id===K});if(!!A){var P=A.isNew;P?j(function(L){var e;return Object(O.a)(Object(O.a)({},L),{},{lessons:Ye((e=L==null?void 0:L.lessons)!==null&&e!==void 0?e:[],K)})}):Object(d.o)(K).then(function(L){L.success&&(Z.b.success(L.message),j(function(e){var k;return Object(O.a)(Object(O.a)({},e),{},{lessons:Ye((k=e==null?void 0:e.lessons)!==null&&k!==void 0?k:[],K)})}))})}},[G]),Be=Object(u.useCallback)(function(K,A){var P,L=ge(K),e=Re.find(function(He){return He.id===L}),k=e&&((P=e.topics)===null||P===void 0?void 0:P.find(function(He){return He.id===K})),Le=k==null?void 0:k.isNew;return(Le?Object(d.h)(A):Object(d.v)(K,A)).then(function(He){He.success&&(Z.b.success(He.message),Q(),a.f.push("/courses/list/".concat(v,"/program/?topic=").concat(He.data.id)),(k==null?void 0:k.topicable_type)===ie.f.Video&&setTimeout(function(){Q()},5e3))})},[ge,G,Q]),ae=Object(u.useCallback)(function(K){var A=ge(K),P=Re.find(function(k){return k.id===A});if(!!P){var L=Ee==null?void 0:Ee.find(function(k){return k.id===K}),e=L==null?void 0:L.isNew;e&&!L.topicable?j(function(k){var Le;return Object(O.a)(Object(O.a)({},k),{},{lessons:$e((Le=k==null?void 0:k.lessons)!==null&&Le!==void 0?Le:[],K)})}):Object(d.p)(K).then(function(k){k.success&&(Z.b.success(k.message),j(function(Le){var He;return Object(O.a)(Object(O.a)({},Le),{},{lessons:$e((He=Le==null?void 0:Le.lessons)!==null&&He!==void 0?He:[],K)})}))})}},[G,ge]),ot=Object(u.useCallback)(function(K,A){var P={lesson_id:K,isNew:!0,id:Pe(),title:he.formatMessage({id:"add_title_here"}),active:!0,topicable_type:A};return j(function(L){var e;return Object(O.a)(Object(O.a)({},L),{},{lessons:ze((e=L==null?void 0:L.lessons)!==null&&e!==void 0?e:[],K,P)})}),P},[]),dt=function(A,P){j(function(L){var e;return Object(O.a)(Object(O.a)({},L),{},{lessons:We((e=L==null?void 0:L.lessons)!==null&&e!==void 0?e:[],A,P.file.response.data)})}),a.f.push("/courses/list/".concat(v,"/program/?topic=").concat(P.file.response.data.id))},V=Object(u.useCallback)(function(K){return Object(d.d)(K).then(function(A){if(A.success){Z.b.success(A.message);var P=ge(K);j(function(L){var e;return Object(O.a)(Object(O.a)({},L),{},{lessons:L?(e=L.lessons)===null||e===void 0?void 0:e.map(function(k){if(k.id===P){var Le=k.topics||[];return Object(O.a)(Object(O.a)({},k),{},{topics:[].concat(Object(C.a)(Le),[A.data])})}return k}):[]})})}})},[G,ge]),ht=Object(u.useCallback)(function(K){return Object(d.c)(K).then(function(A){A.success&&(Z.b.success(A.message),j(function(P){return Object(O.a)(Object(O.a)({},P),{},{lessons:P?[].concat(Object(C.a)(P.lessons),[A.data]):[]})}))})},[]),Qe={state:G,h5ps:ye,id:v,addNewLesson:ct,updateLesson:Ve,updateTopic:Be,deleteLesson:Ze,addNewTopic:ot,deleteTopic:ae,onTopicUploaded:dt,cloneTopic:V,cloneLesson:ht,currentEditMode:U,getLessons:Q};return Object(Se.jsx)(re.Provider,{value:Qe,children:w})}},quyA:function(Ke,fe){var t="\\ud800-\\udfff",i="\\u0300-\\u036f",Z="\\ufe20-\\ufe2f",$="\\u20d0-\\u20ff",O=i+Z+$,C="\\ufe0e\\ufe0f",u="\\u200d",de=RegExp("["+u+t+O+C+"]");function a(Ae){return de.test(Ae)}Ke.exports=a},wy8a:function(Ke,fe,t){var i=t("KxBF");function Z($,O,C){var u=$.length;return C=C===void 0?u:C,!O&&C>=u?$:i($,O,C)}Ke.exports=Z}}]);
