(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/y+f":function(H,m,e){"use strict";e.d(m,"c",function(){return p}),e.d(m,"a",function(){return n}),e.d(m,"b",function(){return h});var p;(function(o){o.Unselected="",o.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",o.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",o.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",o.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",o.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",o.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",o.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",o.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco"})(p||(p={}));var f;(function(o){o.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",o.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(f||(f={}));var x;(function(o){o.draft="draft",o.published="published",o.archived="archived"})(x||(x={}));var n;(function(o){o.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",o.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",o.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(n||(n={}));var h;(function(o){o.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(h||(h={}));var A;(function(o){o.cart_fixed="cart_fixed",o.cart_percent="cart_percent",o.product_fixed="product_fixed",o.product_percent="product_percent"})(A||(A={}))},"0eZe":function(H,m,e){"use strict";var p=e("14J3"),f=e("BMrR"),x=e("jCWc"),n=e("kPKH"),h=e("5NDa"),A=e("5rEg"),o=e("T2oS"),I=e("W9HT"),y=e("miYZ"),P=e("tsqr"),v=e("k1fw"),M=e("9og8"),_=e("tJVT"),g=e("WmNS"),c=e.n(g),s=e("q1tI"),d=e("VMEa"),j=e("Qurx"),i=e("5qq5"),C=e("F/zT"),b=e("FJDo"),E=e("nhC9"),a=e("9kvl"),u=e("vzes"),r=e("DVQu"),O=e("Gn8c"),T=e("TWax"),l=e("90Xc"),D=e("5Dmo"),U=e("3S7+"),k=e("+L6B"),re=e("2/Rp"),pe=e("0WSk"),Pe=e("Qiat"),Ce=e("/MfK"),t=e("nKUr"),Q=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],F=function(R){var L=R.id,w=Object(a.i)(),G=Object(s.useRef)(),ie=Object(s.useState)(!1),N=Object(_.a)(ie,2),le=N[0],$=N[1],oe=d.a.useForm(),_e=Object(_.a)(oe,1),K=_e[0],fe=Object(s.useCallback)(function(){var ae=Object(M.a)(c.a.mark(function ue(q){var J;return c.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return $(!0),X.next=3,Object(r.d)(Number(L),{user_id:q.user_id});case 3:K.resetFields(),(J=G.current)===null||J===void 0||J.reload(),$(!1);case 6:case"end":return X.stop()}},ue)}));return function(ue){return ae.apply(this,arguments)}}(),[L]),V=Object(s.useCallback)(function(){var ae=Object(M.a)(c.a.mark(function ue(q){var J;return c.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return $(!0),X.next=3,Object(r.e)(Number(L),{user_id:q});case 3:(J=G.current)===null||J===void 0||J.reload(),$(!1);case 5:case"end":return X.stop()}},ue)}));return function(ue){return ae.apply(this,arguments)}}(),[L]);return Object(t.jsxs)(s.Fragment,{children:[Object(t.jsx)(d.a,{layout:"inline",onFinish:fe,form:K,children:Object(t.jsx)(d.a.Group,{children:Object(t.jsx)(d.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"user_to_add"}),valuePropName:"value",children:Object(t.jsx)(pe.a,{})})})}),Object(t.jsx)(Pe.a,{defaultSize:"small",loading:le,search:!1,headerTitle:w.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:G,rowKey:"id",request:Object(M.a)(c.a.mark(function ae(){return c.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return $(!0),q.abrupt("return",Object(r.c)(Number(L)).then(function(J){return $(!1),J.success&&J.data.users?{data:J.data.users,total:J.data.users.length,success:!0}:J.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return q.stop()}},ae)})),columns:[].concat(Q,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(ue,q){return[Object(t.jsx)(U.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(re.a,{type:"primary",icon:Object(t.jsx)(Ce.a,{}),danger:!0,onClick:function(){return V(q.id)}})})]}}])})]})},B=F,z=e("5RzD"),W=e("rnuo"),Y=e("c+yx"),Me=e("hd5d"),xe=e("DYRE"),Ae=e("zeV3"),se=e("rWUb"),Be=e("OaEy"),Ue=e("2fM7"),Se=function(R){var L=R.value,w=R.onChange,G=R.multiple,ie=G===void 0?!1:G,N=R.params,le=Object(s.useState)([]),$=Object(_.a)(le,2),oe=$[0],_e=$[1],K=Object(s.useState)(!1),fe=Object(_.a)(K,2),V=fe[0],ae=fe[1],ue=Object(s.useState)([]),q=Object(_.a)(ue,2),J=q[0],Ie=q[1],X=Object(s.useRef)(),be=Object(s.useCallback)(function(){ae(!0),X.current&&X.current.abort(),X.current=new AbortController,Object(se.e)(N,{signal:X.current.signal}).then(function(ee){ee.success&&_e(ee.data),ae(!1)}).catch(function(){return ae(!1)})},[]);return Object(s.useEffect)(function(){var ee=new AbortController;if(L){var ve=Array.isArray(L)?L:[L],he=ve.map(function(je){return typeof je=="object"?Number(je.id):Number(je)});Ie(he)}return function(){ee.abort()}},[L]),Object(t.jsx)(Ue.a,{onFocus:function(){return be()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:J,onChange:w,mode:ie?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(ve,he){if(he&&he.children){var je;return(he==null||(je=he.children)===null||je===void 0?void 0:je.toString().toLowerCase().indexOf(ve&&ve.toLowerCase()||""))>=0}return!1},notFoundContent:V?Object(t.jsx)(I.a,{size:"small"}):null,children:oe.map(function(ee){return Object(t.jsxs)(Ue.a.Option,{value:ee.id,children:[ee.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:ee.channel.split("\\").pop()}),":",ee.event&&Object(t.jsx)(a.a,{id:ee.event.split("\\").pop()})]})]},ee.id)})})},Fe=Se,Le=e("/y+f"),We=function(R){var L=R.productId,w=Object(s.useState)(!1),G=Object(_.a)(w,2),ie=G[0],N=G[1],le=Object(s.useState)(),$=Object(_.a)(le,2),oe=$[0],_e=$[1],K=Object(a.i)(),fe=Object(s.useCallback)(function(){N(!0),typeof oe=="number"&&Object(se.g)(Number(oe),L).then(function(V){V.success?P.default.success(V.message):P.default.error(V.message)}).catch(function(V){return P.default.error(V.toString())}).finally(function(){return N(!1)})},[oe,L]);return Object(t.jsxs)(Ae.b,{children:[Object(t.jsx)(Se,{params:{event:Le.b.ManuallyTriggeredEvent},multiple:!1,value:oe,onChange:function(ae){return _e(ae)}}),Object(t.jsx)(U.a,{title:K.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(re.a,{loading:ie,onClick:function(){return fe()},disabled:!oe,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},Te=We,Re=function(R){return R.map(function(L){return{class:L.productable_type,id:Number(L.productable_id)}})},de=function(R){var L=Array.isArray(R)?R:[R],w=L.map(function(G){return typeof G=="object"?G:{id:parseInt(G.split(":")[1]),class:G.split(":")[0]}});return w},te=function(R){var L=R.tab,w=L===void 0?"attributes":L,G=R.onTabChange,ie=R.id,N=R.productable,le=R.onProductSaved,$=Object(a.i)(),oe=Object(s.useState)(ie),_e=Object(_.a)(oe,2),K=_e[0],fe=_e[1],V=Object(s.useMemo)(function(){return K==="new"},[K]),ae=Object(s.useState)(!0),ue=Object(_.a)(ae,2),q=ue[0],J=ue[1],Ie=d.a.useForm(),X=Object(_.a)(Ie,1),be=X[0],ee=Object(s.useState)(!1),ve=Object(_.a)(ee,2),he=ve[0],je=ve[1];Object(s.useEffect)(function(){N&&N.class_id&&N.class_type&&(Object(r.f)({productable_id:Number(N.class_id),productable_type:N.class_type}).then(function(ne){ne.success&&fe(ne.data.id)}).catch(function(){console.log("err"),fe("new")}),be.setFieldsValue({productables:[{class:N.class_type,id:N.class_id}]}))},[N]);var $e=Object(s.useCallback)(Object(M.a)(c.a.mark(function ne(){var S,ye,ge,De;return c.a.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(!(K&&K!=="new")){Ee.next=5;break}return Ee.next=3,Object(r.c)(Number(K));case 3:S=Ee.sent,S.success&&(De=Object(v.a)(Object(v.a)({},S.data),{},{categories:(ye=S.data.categories)===null||ye===void 0?void 0:ye.map(Y.a),tags:(ge=S.data.tags)===null||ge===void 0?void 0:ge.map(function(ce){return Object(Y.f)(ce)}),productables:S.data.productables?Re(S.data.productables):[]}),be.setFieldsValue(De),je(S.data.type==="bundle"));case 5:J(!1);case 6:case"end":return Ee.stop()}},ne)})),[K]);Object(s.useEffect)(function(){K&&$e()},[K]);var Ke=Object(s.useMemo)(function(){return{onValuesChange:function(S){S.type&&je(S.type==="bundle")},onFinish:function(){var ne=Object(M.a)(c.a.mark(function ye(ge){var De,Oe;return c.a.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(De=Object(v.a)(Object(v.a)({},ge),{},{productables:ge.productables?de(ge.productables):void 0}),!V){ce.next=8;break}return ce.next=4,Object(r.a)(De);case 4:Oe=ce.sent,Oe.success&&(le&&le(Oe.data),fe(Oe.data.id),be.setFieldsValue(Oe.data)),ce.next=12;break;case 8:return ce.next=10,Object(r.i)(Number(K),De);case 10:Oe=ce.sent,Oe.success&&le&&le(Oe.data);case 12:P.default.success(Oe.message);case 13:case"end":return ce.stop()}},ye)}));function S(ye){return ne.apply(this,arguments)}return S}()}},[K,le]);return q?Object(t.jsx)(I.a,{}):Object(t.jsxs)(E.a,{tabs:{type:"card",activeKey:w,onChange:function(S){return G(S)}},children:[Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:Object(t.jsxs)(d.a,Object(v.a)(Object(v.a)({},Ke),{},{form:be,children:[Object(t.jsxs)(d.a.Group,{children:[Object(t.jsx)(j.a,{width:"md",name:"name",initialValue:V&&N?N.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:$.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(d.a.Item,{style:{minWidth:104*3},name:"productables",label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(u.a,{multiple:he,disabled:N!==void 0})})]}),Object(t.jsxs)(d.a.Group,{children:[Object(t.jsx)(i.a.Group,{disabled:N!==void 0,initialValue:K&&K!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:$.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:$.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(C.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(d.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(b.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:$.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(b.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:$.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:V?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(S){return"".concat(S,"%")},parser:function(S){return S?S.replace("%",""):""}}}),Object(t.jsx)(d.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(S){return Object(t.jsx)(A.a,{disabled:!0,readOnly:!0,value:S.getFieldValue("price")?Math.round(parseInt(S.getFieldValue("price"))*(1+parseInt(S.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(d.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(S){return Object(t.jsx)(A.a,{disabled:!0,readOnly:!0,value:S.getFieldValue("price")?Math.round(parseInt(S.getFieldValue("price"))*(parseInt(S.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(b.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:$.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(b.a,{initialValue:V?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:$.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(d.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(j.a,{width:"md",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:$.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(b.a,{initialValue:V?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:$.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(b.a,{initialValue:V?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:$.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(j.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:$.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]}),!V&&Object(t.jsx)(d.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(Me.a,{directory:"products/".concat(K,"/wysiwyg")})})]}))},"attributes"),!V&&Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"media"}),children:Object(t.jsx)(d.a,Object(v.a)(Object(v.a)({},Ke),{},{form:be,children:Object(t.jsx)(O.a,{wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(K,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(S){return S.file.response.data.poster_url},setPath:function(S){return be.setFieldsValue(S)}})}))},"media"),!V&&Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"categories_and_tags"}),children:Object(t.jsx)(d.a,Object(v.a)(Object(v.a)({},Ke),{},{form:be,children:Object(t.jsxs)(f.a,{children:[Object(t.jsx)(n.a,{span:12,children:Object(t.jsx)(d.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(T.a,{})})}),Object(t.jsx)(n.a,{span:12,children:Object(t.jsx)(d.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(W.a,{})})})]})}))},"categories"),!V&&Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users"}),children:Object(t.jsx)(f.a,{children:Object(t.jsx)(n.a,{span:12,children:K&&Object(t.jsx)(B,{id:K})})})},"users")," ",!V&&Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission"}),children:Object(t.jsx)(f.a,{children:Object(t.jsx)(n.a,{span:12,children:K&&Object(t.jsx)(z.a,{id:Number(K),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!V&&K&&Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(f.a,{children:Object(t.jsx)(n.a,{span:12,children:Object(t.jsx)(Te,{productId:Number(K)})})})},"template")]})},me=m.a=te},"5RzD":function(H,m,e){"use strict";var p=e("miYZ"),f=e("tsqr"),x=e("k1fw"),n=e("P2fV"),h=e("NJEC"),A=e("5Dmo"),o=e("3S7+"),I=e("+L6B"),y=e("2/Rp"),P=e("9og8"),v=e("tJVT"),M=e("WmNS"),_=e.n(M),g=e("q1tI"),c=e("VMEa"),s=e("9kvl"),d=e("Qiat"),j=e("xvlK"),i=e("/MfK");function C(Q,F){return b.apply(this,arguments)}function b(){return b=Object(P.a)(_.a.mark(function Q(F,B){return _.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",Object(s.f)("/api/admin/user-submissions",Object(x.a)({method:"GET",params:Object(x.a)(Object(x.a)({},F),{},{per_page:F&&F.pageSize,page:F&&F.current})},B||{})));case 1:case"end":return W.stop()}},Q)})),b.apply(this,arguments)}function E(Q,F){return a.apply(this,arguments)}function a(){return a=Object(P.a)(_.a.mark(function Q(F,B){return _.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",Object(s.f)("/api/admin/user-submissions",Object(x.a)({method:"POST",headers:{"Content-Type":"application/json"},data:F},B||{})));case 1:case"end":return W.stop()}},Q)})),a.apply(this,arguments)}function u(Q,F){return r.apply(this,arguments)}function r(){return r=Object(P.a)(_.a.mark(function Q(F,B){return _.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",Object(s.f)("/api/admin/user-submissions/".concat(F),Object(x.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},B||{})));case 1:case"end":return W.stop()}},Q)})),r.apply(this,arguments)}var O=e("y8nQ"),T=e("Vl3Y"),l=e("rmhi"),D=e("Qurx"),U=e("nKUr"),k=function(F){var B=Object(s.i)(),z=F.visible,W=F.onVisibleChange,Y=F.onFinish,Me=F.id,xe=T.a.useForm(),Ae=Object(v.a)(xe,1),se=Ae[0];return Object(U.jsx)(l.a,{form:se,title:B.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:z,onVisibleChange:W,onFinish:Y,children:Object(U.jsx)(c.a.Group,{children:Object(U.jsx)(D.a,{width:"md",name:"email",label:Object(U.jsx)(s.a,{id:"email"}),tooltip:Object(U.jsx)(s.a,{id:"email_tooltip"}),placeholder:B.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},re=k,pe=e("MvUh"),Pe=[{title:Object(U.jsx)(s.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(U.jsx)(s.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(U.jsx)(s.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],Ce=function(F){var B=F.id,z=F.type,W=Object(s.i)(),Y=Object(g.useRef)(),Me=Object(g.useState)(!1),xe=Object(v.a)(Me,2),Ae=xe[0],se=xe[1],Be=c.a.useForm(),Ue=Object(v.a)(Be,1),Se=Ue[0],Fe=Object(g.useState)(!1),Le=Object(v.a)(Fe,2),We=Le[0],Te=Le[1],Re=Object(g.useCallback)(function(){var de=Object(P.a)(_.a.mark(function te(me){var Z;return _.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return se(!0),L.next=3,u(Number(me));case 3:(Z=Y.current)===null||Z===void 0||Z.reload(),se(!1);case 5:case"end":return L.stop()}},te)}));return function(te){return de.apply(this,arguments)}}(),[B,z]);return Object(U.jsxs)(g.Fragment,{children:[Object(U.jsx)(d.a,{defaultSize:"small",loading:Ae,search:{labelWidth:120},headerTitle:W.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:Y,toolBarRender:function(){return[Object(U.jsxs)(y.a,{type:"primary",onClick:function(){return Te(!0)},children:[Object(U.jsx)(j.a,{})," ",Object(U.jsx)(s.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var de=Object(P.a)(_.a.mark(function te(me){var Z,R,L;return _.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Z=me.email,R=me.pageSize,L=me.current,se(!0),G.abrupt("return",C({email:Z,pageSize:R,current:L,morphable_type:z,morphable_id:B}).then(function(ie){return se(!1),ie.success?{data:ie.data,total:ie.data.length,success:!0}:ie.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return G.stop()}},te)}));return function(te){return de.apply(this,arguments)}}(),columns:[].concat(Pe,[{title:Object(U.jsx)(s.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(te,me){return[Object(U.jsx)(h.a,{title:Object(U.jsx)(s.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return Re(me.id)},okText:Object(U.jsx)(s.a,{id:"yes"}),cancelText:Object(U.jsx)(s.a,{id:"no"}),children:Object(U.jsx)(o.a,{title:Object(U.jsx)(s.a,{id:"delete",defaultMessage:"delete"}),children:Object(U.jsx)(y.a,{type:"primary",icon:Object(U.jsx)(i.a,{}),danger:!0})})},"delete")]}}])})," ",Object(U.jsx)(re,{visible:We,onVisibleChange:function(te){return te===!1&&Te(!1)},onFinish:function(){var de=Object(P.a)(_.a.mark(function te(me){var Z,R;return _.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return se(!0),w.prev=1,w.next=4,E(Object(x.a)(Object(x.a)({},me),{},{morphable_id:B,morphable_type:z}));case 4:Z=w.sent,Z.success&&(Se.resetFields(),(R=Y.current)===null||R===void 0||R.reload(),se(!1),Te(!1)),w.next=13;break;case 8:w.prev=8,w.t0=w.catch(1),Te(!1),f.default.error(Object(U.jsx)(s.a,{id:"error",defaultMessage:"error"})),se(!1);case 13:case"end":return w.stop()}},te,null,[[1,8]])}));return function(te){return de.apply(this,arguments)}}()})]})},t=m.a=Ce},"90Xc":function(H,m,e){},BAh9:function(H,m,e){"use strict";e.d(m,"a",function(){return A}),e.d(m,"b",function(){return I}),e.d(m,"e",function(){return P}),e.d(m,"d",function(){return M}),e.d(m,"c",function(){return _});var p=e("k1fw"),f=e("9og8"),x=e("WmNS"),n=e.n(x),h=e("9kvl");function A(c,s){return o.apply(this,arguments)}function o(){return o=Object(f.a)(n.a.mark(function c(s,d){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.f)("/api/admin/file/list",Object(p.a)({method:"GET",params:s},d||{})));case 1:case"end":return i.stop()}},c)})),o.apply(this,arguments)}function I(c,s){return y.apply(this,arguments)}function y(){return y=Object(f.a)(n.a.mark(function c(s,d){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.f)("/api/admin/file/find",Object(p.a)({method:"GET",params:s},d||{})));case 1:case"end":return i.stop()}},c)})),y.apply(this,arguments)}function P(c,s,d){return v.apply(this,arguments)}function v(){return v=Object(f.a)(n.a.mark(function c(s,d,j){var i;return n.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return i=new FormData,i.append("file[]",s),i.append("target",d),b.abrupt("return",Object(h.f)("/api/admin/file/upload",Object(p.a)({method:"POST",data:i},j||{})));case 4:case"end":return b.stop()}},c)})),v.apply(this,arguments)}var M=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(s,"&w=").concat(d)};function _(c,s){return g.apply(this,arguments)}function g(){return g=Object(f.a)(n.a.mark(function c(s,d){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.f)("/api/admin/file/delete",Object(p.a)({method:"DELETE",data:{url:s}},d||{})));case 1:case"end":return i.stop()}},c)})),g.apply(this,arguments)}},"DBJ/":function(H,m,e){"use strict";var p=e("k1fw"),f=e("y8nQ"),x=e("Vl3Y"),n=e("etVw"),h=e("9kvl"),A=e("qFDU"),o=e("nKUr"),I=e.n(o);function y(P){var v=P.onChange,M=P.onUpload,_=P.url,g=P.name,c=P.extra,s=P.accept,d=P.data,j=P.wrapInForm,i=j===void 0?!0:j,C=P.title,b=P.formProps,E=Object(h.i)();return d&&d[g]&&delete d[g],Object(o.jsx)(A.a,{condition:i,wrap:function(u){return Object(o.jsx)(x.a,Object(p.a)(Object(p.a)({},b),{},{children:u}))},children:Object(o.jsx)(n.a,{title:C||Object(o.jsx)(h.a,{id:"upload_click_here"}),placeholder:E.formatMessage({id:"upload_click_here"}),onChange:function(u){v&&v(u),u.file.status==="done"&&M&&M(u.file.response)},label:Object(o.jsx)(h.a,{id:"upload"}),max:2,fieldProps:{data:d,accept:s,name:g,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(_),extra:c})})}m.a=y},DVQu:function(H,m,e){"use strict";e.d(m,"h",function(){return A}),e.d(m,"a",function(){return I}),e.d(m,"c",function(){return P}),e.d(m,"i",function(){return M}),e.d(m,"b",function(){return g}),e.d(m,"g",function(){return s}),e.d(m,"f",function(){return j}),e.d(m,"d",function(){return C}),e.d(m,"e",function(){return E});var p=e("k1fw"),f=e("9og8"),x=e("WmNS"),n=e.n(x),h=e("9kvl");function A(u,r){return o.apply(this,arguments)}function o(){return o=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/products",Object(p.a)({method:"GET",params:Object(p.a)(Object(p.a)({},r),{},{free:typeof r.free!="undefined"?r.free?1:0:void 0,per_page:r.pageSize,page:r.current})},O||{})));case 1:case"end":return l.stop()}},u)})),o.apply(this,arguments)}function I(u,r){return y.apply(this,arguments)}function y(){return y=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/products",Object(p.a)({method:"POST",data:r},O||{})));case 1:case"end":return l.stop()}},u)})),y.apply(this,arguments)}function P(u,r){return v.apply(this,arguments)}function v(){return v=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/products/".concat(r),Object(p.a)({method:"GET"},O||{})));case 1:case"end":return l.stop()}},u)})),v.apply(this,arguments)}function M(u,r,O){return _.apply(this,arguments)}function _(){return _=Object(f.a)(n.a.mark(function u(r,O,T){return n.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)("/api/admin/products/".concat(r,"?_method=PUT"),Object(p.a)({method:"POST",data:O},T||{})));case 1:case"end":return D.stop()}},u)})),_.apply(this,arguments)}function g(u,r){return c.apply(this,arguments)}function c(){return c=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/products/".concat(r),Object(p.a)({method:"DELETE"},O||{})));case 1:case"end":return l.stop()}},u)})),c.apply(this,arguments)}function s(u){return d.apply(this,arguments)}function d(){return d=Object(f.a)(n.a.mark(function u(r){return n.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(h.f)("/api/admin/productables",Object(p.a)({method:"GET"},r||{})));case 1:case"end":return T.stop()}},u)})),d.apply(this,arguments)}function j(u,r){return i.apply(this,arguments)}function i(){return i=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/productables/product",Object(p.a)({method:"GET",params:r},O||{})));case 1:case"end":return l.stop()}},u)})),i.apply(this,arguments)}function C(u,r,O){return b.apply(this,arguments)}function b(){return b=Object(f.a)(n.a.mark(function u(r,O,T){return n.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)("/api/admin/products/".concat(r,"/attach"),Object(p.a)({method:"POST",data:O},T||{})));case 1:case"end":return D.stop()}},u)})),b.apply(this,arguments)}function E(u,r,O){return a.apply(this,arguments)}function a(){return a=Object(f.a)(n.a.mark(function u(r,O,T){return n.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)("/api/admin/products/".concat(r,"/detach"),Object(p.a)({method:"POST",data:O},T||{})));case 1:case"end":return D.stop()}},u)})),a.apply(this,arguments)}},Gn8c:function(H,m,e){"use strict";var p=e("14J3"),f=e("BMrR"),x=e("XCrF"),n=e("1GRj"),h=e("jCWc"),A=e("kPKH"),o=e("+L6B"),I=e("2/Rp"),y=e("jrin"),P=e("q1tI"),v=e.n(P),M=e("VMEa"),_=e("DBJ/"),g=e("9kvl"),c=e("nKUr"),s=e.n(c),d=function(i){var C=i.title,b=i.action,E=i.form_name,a=i.src_name,u=i.getUploadedSrcField,r=i.setPath,O=i.wrapInForm,T=O===void 0?!0:O;return Object(c.jsx)(M.a.Group,{title:Object(c.jsx)(g.a,{id:C}),children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(A.a,{children:Object(c.jsx)(M.a.Item,{shouldUpdate:!0,children:function(D){return Object(c.jsxs)(v.a.Fragment,{children:[Object(c.jsx)(_.a,{wrapInForm:T,accept:"image/*",name:E,url:b,onChange:function(k){if(k.file.status==="done"){var re;if(D.setFieldsValue(Object(y.a)({},a,u(k))),(re=k.file.response)!==null&&re!==void 0&&re.success){var pe;r((pe={},Object(y.a)(pe,"".concat(E,"_url"),k.file.response.data["".concat(E,"_url")]),Object(y.a)(pe,"".concat(E,"_path"),k.file.response.data["".concat(E,"_path")]),pe))}}}}),Object(c.jsx)(I.a,{danger:!0,onClick:function(){var k;return[r((k={},Object(y.a)(k,"".concat(E,"_url"),""),Object(y.a)(k,"".concat(E,"_path"),""),k)),D.setFieldsValue(Object(y.a)({},a,""))]},children:Object(c.jsx)(g.a,{id:"delete"})})]})}})}),Object(c.jsx)(A.a,{span:24,children:Object(c.jsx)(M.a.Item,{shouldUpdate:!0,children:function(D){return Object(c.jsx)(n.a,{width:200,src:D.getFieldValue(a)})}})})]})})};m.a=d},JifO:function(H,m,e){"use strict";e.d(m,"c",function(){return A}),e.d(m,"a",function(){return I}),e.d(m,"b",function(){return P}),e.d(m,"d",function(){return M}),e.d(m,"f",function(){return g}),e.d(m,"e",function(){return s});var p=e("k1fw"),f=e("9og8"),x=e("WmNS"),n=e.n(x),h=e("9kvl");function A(j){return o.apply(this,arguments)}function o(){return o=Object(f.a)(n.a.mark(function j(i){return n.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",Object(h.f)("/api/admin/categories/tree",Object(p.a)({method:"GET",useCache:!1},i||{})));case 1:case"end":return b.stop()}},j)})),o.apply(this,arguments)}function I(j){return y.apply(this,arguments)}function y(){return y=Object(f.a)(n.a.mark(function j(i){return n.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",Object(h.f)("/api/admin/categories",Object(p.a)({method:"GET",useCache:!1},i||{})));case 1:case"end":return b.stop()}},j)})),y.apply(this,arguments)}function P(j,i){return v.apply(this,arguments)}function v(){return v=Object(f.a)(n.a.mark(function j(i,C){return n.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(h.f)("/api/admin/categories/".concat(i),Object(p.a)({method:"GET",useCache:!1},C||{})));case 1:case"end":return E.stop()}},j)})),v.apply(this,arguments)}function M(j,i){return _.apply(this,arguments)}function _(){return _=Object(f.a)(n.a.mark(function j(i,C){return n.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(h.f)("/api/admin/categories",Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"},data:i},C||{})));case 1:case"end":return E.stop()}},j)})),_.apply(this,arguments)}function g(j,i,C){return c.apply(this,arguments)}function c(){return c=Object(f.a)(n.a.mark(function j(i,C,b){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(h.f)("/api/admin/categories/".concat(i),Object(p.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:C},b||{})));case 1:case"end":return a.stop()}},j)})),c.apply(this,arguments)}function s(j,i,C){return d.apply(this,arguments)}function d(){return d=Object(f.a)(n.a.mark(function j(i,C,b){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(h.f)("/api/admin/categories/".concat(i),Object(p.a)({method:"DELETE",headers:{"Content-Type":"application/json"},data:C},b||{})));case 1:case"end":return a.stop()}},j)})),d.apply(this,arguments)}},MvUh:function(H,m,e){},TWax:function(H,m,e){"use strict";var p=e("ozfa"),f=e("MJZm"),x=e("T2oS"),n=e("W9HT"),h=e("tJVT"),A=e("q1tI"),o=e.n(A),I=e("JifO"),y=e("nKUr"),P=e.n(y),v=function _(g){return g.subcategories&&g.subcategories.length?{title:g.name,key:g.id,children:g.subcategories.map(function(c){return _(c)})}:{title:g.name,key:g.id}},M=function(g){var c=g.value,s=g.onChange,d=g.multiple,j=d===void 0?!0:d,i=Object(A.useState)([]),C=Object(h.a)(i,2),b=C[0],E=C[1];Object(A.useEffect)(function(){Object(I.c)().then(function(u){return E(u.data)})},[]);var a=Object(A.useMemo)(function(){return b.map(function(u){return v(u)})},[b]);return b.length===0?Object(y.jsx)(n.a,{}):Object(y.jsx)(f.a,{multiple:j,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:c,onCheck:function(r){if(typeof r=="object"&&!Array.isArray(r)&&r.checked){var O=r.checked;return s&&Array.isArray(O)&&s(O)}},treeData:a,disabled:b.length===0})};m.a=M},hd5d:function(H,m,e){"use strict";var p=e("9og8"),f=e("WmNS"),x=e.n(f),n=e("q1tI"),h=e.n(n),A=e("3Ef1"),o=e.n(A),I=e("BAh9"),y=e("vtG9"),P=e.n(y),v=e("9kvl"),M=e("nKUr"),_=e.n(M),g=function(s){var d=s.value,j=s.onChange,i=s.directory,C=i===void 0?"/wysiwyg":i,b=Object(v.i)();return Object(M.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(M.jsx)(o.a,{uploadImage:function(){var E=Object(p.a)(x.a.mark(function a(u){var r,O;return x.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(I.e)(u,C);case 2:if(r=l.sent,!r.success){l.next=6;break}return O=r.data[0].name.includes("/")?r.data[0].name:"".concat(C).concat(r.data[0].name),l.abrupt("return",Object(I.d)(O,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return l.stop()}},a)}));return function(a){return E.apply(this,arguments)}}(),defaultValue:d||"",onChange:function(a){return j&&j(a())},placeholder:b.formatMessage({id:"wysiwyg_placeholder"})})})};m.a=g},kMBS:function(H,m,e){"use strict";e.d(m,"a",function(){return A});var p=e("k1fw"),f=e("9og8"),x=e("WmNS"),n=e.n(x),h=e("9kvl");function A(I){return o.apply(this,arguments)}function o(){return o=Object(f.a)(n.a.mark(function I(y){return n.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(h.f)("/api/tags/unique",Object(p.a)({method:"GET",useCache:!1},y||{})));case 1:case"end":return v.stop()}},I)})),o.apply(this,arguments)}},rWUb:function(H,m,e){"use strict";e.d(m,"e",function(){return A}),e.d(m,"d",function(){return I}),e.d(m,"a",function(){return P}),e.d(m,"h",function(){return M}),e.d(m,"b",function(){return g}),e.d(m,"i",function(){return s}),e.d(m,"c",function(){return j}),e.d(m,"f",function(){return C}),e.d(m,"g",function(){return E});var p=e("k1fw"),f=e("9og8"),x=e("WmNS"),n=e.n(x),h=e("9kvl");function A(u,r){return o.apply(this,arguments)}function o(){return o=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/templates",Object(p.a)({method:"GET",useCache:!1,params:Object(p.a)(Object(p.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},O||{})));case 1:case"end":return l.stop()}},u)})),o.apply(this,arguments)}function I(u,r){return y.apply(this,arguments)}function y(){return y=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/templates/".concat(r),Object(p.a)({method:"GET"},O||{})));case 1:case"end":return l.stop()}},u)})),y.apply(this,arguments)}function P(u,r){return v.apply(this,arguments)}function v(){return v=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/templates",Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},O||{})));case 1:case"end":return l.stop()}},u)})),v.apply(this,arguments)}function M(u,r,O){return _.apply(this,arguments)}function _(){return _=Object(f.a)(n.a.mark(function u(r,O,T){return n.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)("/api/admin/templates/".concat(r),Object(p.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:O},T||{})));case 1:case"end":return D.stop()}},u)})),_.apply(this,arguments)}function g(u,r){return c.apply(this,arguments)}function c(){return c=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/templates/".concat(r),Object(p.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},O||{})));case 1:case"end":return l.stop()}},u)})),c.apply(this,arguments)}function s(u){return d.apply(this,arguments)}function d(){return d=Object(f.a)(n.a.mark(function u(r){return n.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(h.f)("/api/admin/templates/variables",Object(p.a)({method:"GET"},r||{})));case 1:case"end":return T.stop()}},u)})),d.apply(this,arguments)}function j(u,r){return i.apply(this,arguments)}function i(){return i=Object(f.a)(n.a.mark(function u(r,O){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(h.f)("/api/admin/templates/".concat(r,"/preview"),Object(p.a)({method:"GET"},O||{})));case 1:case"end":return l.stop()}},u)})),i.apply(this,arguments)}function C(u,r,O){return b.apply(this,arguments)}function b(){return b=Object(f.a)(n.a.mark(function u(r,O,T){return n.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)("/api/admin/events/trigger-manually/".concat(r),Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:O}},T||{})));case 1:case"end":return D.stop()}},u)})),b.apply(this,arguments)}function E(u,r,O){return a.apply(this,arguments)}function a(){return a=Object(f.a)(n.a.mark(function u(r,O,T){return n.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)("/api/admin/products/".concat(O,"/trigger-event-manually/").concat(r),Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"}},T||{})));case 1:case"end":return D.stop()}},u)})),a.apply(this,arguments)}},rnuo:function(H,m,e){"use strict";var p=e("tJVT"),f=e("OaEy"),x=e("2fM7"),n=e("q1tI"),h=e.n(n),A=e("kMBS"),o=e("nKUr"),I=e.n(o),y=x.a.Option,P=function(M){var _=M.value,g=M.onChange,c=Object(n.useState)([]),s=Object(p.a)(c,2),d=s[0],j=s[1];return Object(n.useEffect)(function(){Object(A.a)().then(function(i){return j(i.data)})},[]),Object(o.jsx)(x.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:g,value:_,children:d.map(function(i){return Object(o.jsx)(y,{value:i.title,children:i.title},i.title)})})};m.a=P},vtG9:function(H,m,e){},vzes:function(H,m,e){"use strict";var p=e("OaEy"),f=e("2fM7"),x=e("+BJd"),n=e("mr32"),h=e("T2oS"),A=e("W9HT"),o=e("tJVT"),I=e("q1tI"),y=e.n(I),P=e("9kvl"),v=e("DVQu"),M=e("nKUr"),_=e.n(M),g=function(j){return"".concat(j.productable_type,":").concat(j.productable_id)},c=function(j){return"".concat(j.class,":").concat(j.id)},s=function(j){var i=j.value,C=j.onChange,b=j.multiple,E=b===void 0?!1:b,a=j.disabled,u=a===void 0?!1:a,r=Object(I.useState)([]),O=Object(o.a)(r,2),T=O[0],l=O[1],D=Object(I.useState)(!1),U=Object(o.a)(D,2),k=U[0],re=U[1],pe=Object(I.useState)([]),Pe=Object(o.a)(pe,2),Ce=Pe[0],t=Pe[1],Q=Object(I.useRef)(),F=Object(I.useCallback)(function(){re(!0),Q.current&&Q.current.abort(),Q.current=new AbortController,Object(v.g)({signal:Q.current.signal}).then(function(B){B.success&&l(B.data),re(!1)}).catch(function(){return re(!1)})},[]);return Object(I.useEffect)(function(){F()},[]),Object(I.useEffect)(function(){var B=new AbortController;if(i){var z=Array.isArray(i)?i:[i],W=z.map(function(Y){return typeof Y=="object"?c(Y):String(Y)});t(W)}return function(){B.abort()}},[i]),Object(M.jsx)(f.a,{disabled:u,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:Ce,onChange:C,mode:E?"multiple":void 0,showSearch:!0,placeholder:Object(M.jsx)(P.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(z,W){if(W&&W.children){var Y;return(W==null||(Y=W.children)===null||Y===void 0?void 0:Y.toString().toLowerCase().indexOf(z&&z.toLowerCase()||""))>=0}return!1},notFoundContent:k?Object(M.jsx)(A.a,{size:"small"}):null,children:T.map(function(B){var z=g(B);return Object(M.jsxs)(f.a.Option,{value:z,children:[Object(M.jsx)(n.a,{children:Object(M.jsx)(P.a,{id:B.productable_type.split("\\").pop(),defaultMessage:B.productable_type.split("\\").pop()})})," ",B.name," ",Object(M.jsxs)("small",{children:["id:",B.productable_id]})]},z)})})};m.a=s}}]);
