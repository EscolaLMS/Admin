(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{Dmw0:function(_,C,e){"use strict";e.d(C,"a",function(){return S});var q=e("+L6B"),ee=e("2/Rp"),te=e("14J3"),ae=e("BMrR"),$=e("jCWc"),v=e("kPKH"),le=e("5NDa"),y=e("5rEg"),P=e("tJVT"),K=e("jrin"),d=e("k1fw"),O=e("q1tI"),F=e.n(O),ne=e("u95b"),se=e.n(ne),Q=e("9kvl"),Y=e("cYEv"),s=e("nKUr"),n=e.n(s),U=function(){return Object(Q.d)().reduce(function(T,r){return Object(d.a)(Object(d.a)({},T),{},Object(K.a)({},r,""))},{})},S=function(T){var r=T.value,z=T.onChange,H=Object(O.useState)(U()),W=Object(P.a)(H,2),g=W[0],B=W[1];Object(O.useEffect)(function(){var t=typeof r=="object"?r:JSON.parse(r!=null?r:"{}");B(Object.assign(U(),t))},[r]),Object(O.useEffect)(function(){z&&JSON.stringify(g)!==JSON.stringify(r)&&z(g)},[g]);var Z=Object(O.useCallback)(function(){B(function(t){return Object(d.a)(Object(d.a)({},t),{},{lang:""})})},[]),V=Object(O.useCallback)(function(t,h,L){B(function(E){return Object.entries(E).reduce(function(p,J,ie){return ie===t?Object(d.a)(Object(d.a)({},p),{},Object(K.a)({},h,L)):Object(d.a)(Object(d.a)({},p),{},Object(K.a)({},J[0],J[1]))},{})})},[]);return Object(s.jsxs)("div",{children:[Object.entries(g).map(function(t,h){return Object(s.jsxs)(ae.a,{children:[Object(s.jsx)(v.a,{span:6,children:Object(s.jsx)(y.a,{disabled:Object(Q.d)().includes(t[0]),value:t[0],maxLength:5,onChange:function(E){return V(h,E.target.value,t[1])}})}),Object(s.jsx)(v.a,{span:24-6,children:Object(s.jsx)(y.a,{value:t[1],onChange:function(E){return V(h,t[0],E.target.value)}})})]},h)}),Object(s.jsx)(ee.a,{onClick:function(){return Z()},icon:Object(s.jsx)(Y.a,{})})]})},re=S},bFc7:function(_,C,e){"use strict";e.r(C),e.d(C,"TableColumns",function(){return p});var q=e("jrin"),ee=e("P2fV"),te=e("NJEC"),ae=e("5Dmo"),$=e("3S7+"),v=e("k1fw"),le=e("+L6B"),y=e("2/Rp"),P=e("qLMh"),K=e("miYZ"),d=e("tsqr"),O=e("9og8"),F=e("tJVT"),ne=e("tU7J"),se=e("wFql"),Q=e("+BJd"),Y=e("mr32"),s=e("q1tI"),n=e("9kvl"),U=e("Qiat"),S=e("tMyG"),re=e("xvlK"),G=e("G3dp"),T=e("/MfK"),r=e("twdk"),z=e("y8nQ"),H=e("Vl3Y"),W=e("rmhi"),g=e("Qurx"),B=e("VMEa"),Z=e("BBow"),V=e("Dmw0"),t=e("nKUr"),h=function(o){var D=Object(n.l)(),b=o.visible,I=o.onVisibleChange,M=o.onFinish,c=o.id,N=H.a.useForm(),X=Object(F.a)(N,1),l=X[0];return Object(s.useEffect)(function(){typeof c=="number"&&c>0?Object(r.c)(c).then(function(R){R.success&&l.setFieldsValue(R.data)}):l.resetFields()},[c,l]),Object(t.jsxs)(W.a,{form:l,title:D.formatMessage({id:typeof c=="number"&&c>0?"editTranslation":"newTranslation",defaultMessage:typeof c=="number"&&c>0?"editTranslation":"newTranslation"}),width:"700px",visible:b,onVisibleChange:I,onFinish:function(A){return M(Object(v.a)({},A))},onValuesChange:function(A){A.name&&l.setFieldsValue({slug:Object(Z.a)(A.name)})},children:[Object(t.jsx)(g.a,{label:Object(t.jsx)(n.a,{id:"group",defaultMessage:"group"}),width:"md",name:"group",initialValue:"*"}),Object(t.jsx)(g.a,{width:"md",name:"key",label:Object(t.jsx)(n.a,{id:"key"}),placeholder:D.formatMessage({id:"key"}),required:!0}),Object(t.jsx)(B.a.Item,{name:"text",label:Object(t.jsx)(n.a,{id:"translationJsonText"}),tooltip:Object(t.jsx)(n.a,{id:"translationJsonText_tooltip"}),valuePropName:"value",children:Object(t.jsx)(V.a,{})})]})},L=h,E=e("c+yx"),p=[{title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0,hideInSearch:!0,width:"80px"},{title:Object(t.jsx)(n.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",sorter:!0},{title:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",sorter:!0},{title:Object(t.jsx)(n.a,{id:"text",defaultMessage:"text"}),dataIndex:"text",sorter:!0,hideInSearch:!0,render:function(o,D){return Object(t.jsx)(s.Fragment,{children:Object.entries(D.text).map(function(b){return Object(t.jsxs)(se.a.Paragraph,{children:[Object(t.jsx)(Y.a,{children:b[0]}),b[1]]},b[0])})})}}],J=function(){var o=Object(s.useRef)(),D=Object(s.useState)(!1),b=Object(F.a)(D,2),I=b[0],M=b[1],c=Object(s.useState)(!1),N=Object(F.a)(c,2),X=N[0],l=N[1],R=Object(n.l)(),A=Object(s.useCallback)(function(){var x=Object(O.a)(Object(P.a)().mark(function i(u){var j,m;return Object(P.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l(!0),j=d.b.loading(Object(t.jsx)(n.a,{id:"loading",defaultMessage:"loading"})),a.prev=2,a.next=5,Object(r.b)(u).then(function(f){l(!1),f.success&&d.b.success(f.message)});case 5:return j(),l(!1),(m=o.current)===null||m===void 0||m.reload(),a.abrupt("return",!0);case 11:return a.prev=11,a.t0=a.catch(2),j(),d.b.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"})),l(!1),a.abrupt("return",!1);case 17:case"end":return a.stop()}},i,null,[[2,11]])}));return function(i){return x.apply(this,arguments)}}(),[o]);return Object(t.jsxs)(S.a,{children:[Object(t.jsx)(U.a,{headerTitle:R.formatMessage({id:"menu.Configuration.Translations",defaultMessage:"Translations"}),search:{layout:"vertical"},loading:X,actionRef:o,rowKey:"id",toolBarRender:function(){return[Object(t.jsxs)(y.a,{type:"primary",onClick:function(){M(-1)},children:[Object(t.jsx)(re.a,{})," ",Object(t.jsx)(n.a,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"primary")]},request:function(i,u){var j=i.pageSize,m=i.current,w=i.group,a=i.key;return l(!0),Object(r.e)(Object(v.a)({per_page:j,page:m,group:w||void 0,key:a||void 0},Object(E.b)(u,"created_at"))).then(function(f){return l(!1),f.success?{data:f.data,total:f.meta.total,success:!0}:[]}).finally(function(){l(!1)})},columns:[].concat(p,[{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(i,u){return[Object(t.jsx)($.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(y.a,{type:"primary",icon:Object(t.jsx)(G.a,{}),onClick:function(){return u.id&&M(u.id)}})},"edit"),Object(t.jsx)(te.a,{title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return u.id&&A(u.id)},okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)($.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(y.a,{type:"primary",icon:Object(t.jsx)(T.a,{}),danger:!0})})},"delete")]}}])})," ",Object(t.jsx)(L,{id:I,visible:Number.isInteger(I),onVisibleChange:function(i){return i===!1&&M(!1)},onFinish:function(){var x=Object(O.a)(Object(P.a)().mark(function i(u){var j,m;return Object(P.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(u.text=Object.entries(u.text).reduce(function(f,k){return k[1]!==""?Object(v.a)(Object(v.a)({},f),{},Object(q.a)({},k[0],k[1])):f},{}),I!==-1){a.next=7;break}return a.next=4,Object(r.a)(u);case 4:return j=a.sent,j&&(M(!1),o.current&&o.current.reload()),a.abrupt("return");case 7:return a.next=9,Object(r.f)(Number(I),u);case 9:m=a.sent,m&&(M(!1),o.current&&o.current.reload());case 11:case"end":return a.stop()}},i)}));return function(i){return x.apply(this,arguments)}}()})]})},ie=C.default=J},u95b:function(_,C,e){}}]);

//# sourceMappingURL=p__Translations.24129cd6.async.js.map