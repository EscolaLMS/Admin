(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"3dVZ":function(vt,ht,Ve){},BiO0:function(vt,ht,Ve){"use strict";var qe=Ve("VTBJ"),Ye=Ve("Ff2n"),lt=Ve("nKUr"),et=Ve.n(lt),$=Ve("q1tI"),ne=Ve.n($),T=Ve("adzw"),C=["fieldProps","proFieldProps"],g=function(h,f){var w=h.fieldProps,m=h.proFieldProps,o=Object(Ye.a)(h,C);return Object(lt.jsx)(T.a,Object(qe.a)({ref:f,valueType:"textarea",fieldProps:w,proFieldProps:m},o))};ht.a=ne.a.forwardRef(g)},"D6/r":function(vt,ht,Ve){},H7XF:function(vt,ht,Ve){"use strict";ht.byteLength=C,ht.toByteArray=p,ht.fromByteArray=w;for(var qe=[],Ye=[],lt=typeof Uint8Array!="undefined"?Uint8Array:Array,et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=0,ne=et.length;$<ne;++$)qe[$]=et[$],Ye[et.charCodeAt($)]=$;Ye["-".charCodeAt(0)]=62,Ye["_".charCodeAt(0)]=63;function T(m){var o=m.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=m.indexOf("=");i===-1&&(i=o);var e=i===o?0:4-i%4;return[i,e]}function C(m){var o=T(m),i=o[0],e=o[1];return(i+e)*3/4-e}function g(m,o,i){return(o+i)*3/4-i}function p(m){var o,i=T(m),e=i[0],r=i[1],n=new lt(g(m,e,r)),t=0,s=r>0?e-4:e,d;for(d=0;d<s;d+=4)o=Ye[m.charCodeAt(d)]<<18|Ye[m.charCodeAt(d+1)]<<12|Ye[m.charCodeAt(d+2)]<<6|Ye[m.charCodeAt(d+3)],n[t++]=o>>16&255,n[t++]=o>>8&255,n[t++]=o&255;return r===2&&(o=Ye[m.charCodeAt(d)]<<2|Ye[m.charCodeAt(d+1)]>>4,n[t++]=o&255),r===1&&(o=Ye[m.charCodeAt(d)]<<10|Ye[m.charCodeAt(d+1)]<<4|Ye[m.charCodeAt(d+2)]>>2,n[t++]=o>>8&255,n[t++]=o&255),n}function h(m){return qe[m>>18&63]+qe[m>>12&63]+qe[m>>6&63]+qe[m&63]}function f(m,o,i){for(var e,r=[],n=o;n<i;n+=3)e=(m[n]<<16&16711680)+(m[n+1]<<8&65280)+(m[n+2]&255),r.push(h(e));return r.join("")}function w(m){for(var o,i=m.length,e=i%3,r=[],n=16383,t=0,s=i-e;t<s;t+=n)r.push(f(m,t,t+n>s?s:t+n));return e===1?(o=m[i-1],r.push(qe[o>>2]+qe[o<<4&63]+"==")):e===2&&(o=(m[i-2]<<8)+m[i-1],r.push(qe[o>>10]+qe[o>>4&63]+qe[o<<2&63]+"=")),r.join("")}},HDXh:function(vt,ht,Ve){"use strict";(function(qe){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var Ye=Ve("H7XF"),lt=Ve("kVK+"),et=Ve("v3Qx");ht.Buffer=C,ht.SlowBuffer=r,ht.INSPECT_MAX_BYTES=50,C.TYPED_ARRAY_SUPPORT=qe.TYPED_ARRAY_SUPPORT!==void 0?qe.TYPED_ARRAY_SUPPORT:$(),ht.kMaxLength=ne();function $(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch(k){return!1}}function ne(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function T(z,k){if(ne()<k)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(z=new Uint8Array(k),z.__proto__=C.prototype):(z===null&&(z=new C(k)),z.length=k),z}function C(z,k,I){if(!C.TYPED_ARRAY_SUPPORT&&!(this instanceof C))return new C(z,k,I);if(typeof z=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,z)}return g(this,z,k,I)}C.poolSize=8192,C._augment=function(z){return z.__proto__=C.prototype,z};function g(z,k,I,W){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&k instanceof ArrayBuffer?o(z,k,I,W):typeof k=="string"?w(z,k,I):i(z,k)}C.from=function(z,k,I){return g(null,z,k,I)},C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0}));function p(z){if(typeof z!="number")throw new TypeError('"size" argument must be a number');if(z<0)throw new RangeError('"size" argument must not be negative')}function h(z,k,I,W){return p(k),k<=0?T(z,k):I!==void 0?typeof W=="string"?T(z,k).fill(I,W):T(z,k).fill(I):T(z,k)}C.alloc=function(z,k,I){return h(null,z,k,I)};function f(z,k){if(p(k),z=T(z,k<0?0:e(k)|0),!C.TYPED_ARRAY_SUPPORT)for(var I=0;I<k;++I)z[I]=0;return z}C.allocUnsafe=function(z){return f(null,z)},C.allocUnsafeSlow=function(z){return f(null,z)};function w(z,k,I){if((typeof I!="string"||I==="")&&(I="utf8"),!C.isEncoding(I))throw new TypeError('"encoding" must be a valid string encoding');var W=n(k,I)|0;z=T(z,W);var ee=z.write(k,I);return ee!==W&&(z=z.slice(0,ee)),z}function m(z,k){var I=k.length<0?0:e(k.length)|0;z=T(z,I);for(var W=0;W<I;W+=1)z[W]=k[W]&255;return z}function o(z,k,I,W){if(k.byteLength,I<0||k.byteLength<I)throw new RangeError("'offset' is out of bounds");if(k.byteLength<I+(W||0))throw new RangeError("'length' is out of bounds");return I===void 0&&W===void 0?k=new Uint8Array(k):W===void 0?k=new Uint8Array(k,I):k=new Uint8Array(k,I,W),C.TYPED_ARRAY_SUPPORT?(z=k,z.__proto__=C.prototype):z=m(z,k),z}function i(z,k){if(C.isBuffer(k)){var I=e(k.length)|0;return z=T(z,I),z.length===0||k.copy(z,0,0,I),z}if(k){if(typeof ArrayBuffer!="undefined"&&k.buffer instanceof ArrayBuffer||"length"in k)return typeof k.length!="number"||ge(k.length)?T(z,0):m(z,k);if(k.type==="Buffer"&&et(k.data))return m(z,k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function e(z){if(z>=ne())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ne().toString(16)+" bytes");return z|0}function r(z){return+z!=z&&(z=0),C.alloc(+z)}C.isBuffer=function(k){return!!(k!=null&&k._isBuffer)},C.compare=function(k,I){if(!C.isBuffer(k)||!C.isBuffer(I))throw new TypeError("Arguments must be Buffers");if(k===I)return 0;for(var W=k.length,ee=I.length,ae=0,oe=Math.min(W,ee);ae<oe;++ae)if(k[ae]!==I[ae]){W=k[ae],ee=I[ae];break}return W<ee?-1:ee<W?1:0},C.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(k,I){if(!et(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return C.alloc(0);var W;if(I===void 0)for(I=0,W=0;W<k.length;++W)I+=k[W].length;var ee=C.allocUnsafe(I),ae=0;for(W=0;W<k.length;++W){var oe=k[W];if(!C.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(ee,ae),ae+=oe.length}return ee};function n(z,k){if(C.isBuffer(z))return z.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(z)||z instanceof ArrayBuffer))return z.byteLength;typeof z!="string"&&(z=""+z);var I=z.length;if(I===0)return 0;for(var W=!1;;)switch(k){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":case void 0:return ve(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return de(z).length;default:if(W)return ve(z).length;k=(""+k).toLowerCase(),W=!0}}C.byteLength=n;function t(z,k,I){var W=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,k>>>=0,I<=k))return"";for(z||(z="utf8");;)switch(z){case"hex":return G(this,k,I);case"utf8":case"utf-8":return F(this,k,I);case"ascii":return J(this,k,I);case"latin1":case"binary":return Q(this,k,I);case"base64":return H(this,k,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,k,I);default:if(W)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),W=!0}}C.prototype._isBuffer=!0;function s(z,k,I){var W=z[k];z[k]=z[I],z[I]=W}C.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<k;I+=2)s(this,I,I+1);return this},C.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<k;I+=4)s(this,I,I+3),s(this,I+1,I+2);return this},C.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<k;I+=8)s(this,I,I+7),s(this,I+1,I+6),s(this,I+2,I+5),s(this,I+3,I+4);return this},C.prototype.toString=function(){var k=this.length|0;return k===0?"":arguments.length===0?F(this,0,k):t.apply(this,arguments)},C.prototype.equals=function(k){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:C.compare(this,k)===0},C.prototype.inspect=function(){var k="",I=ht.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(k+=" ... ")),"<Buffer "+k+">"},C.prototype.compare=function(k,I,W,ee,ae){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(I===void 0&&(I=0),W===void 0&&(W=k?k.length:0),ee===void 0&&(ee=0),ae===void 0&&(ae=this.length),I<0||W>k.length||ee<0||ae>this.length)throw new RangeError("out of range index");if(ee>=ae&&I>=W)return 0;if(ee>=ae)return-1;if(I>=W)return 1;if(I>>>=0,W>>>=0,ee>>>=0,ae>>>=0,this===k)return 0;for(var oe=ae-ee,Ee=W-I,Le=Math.min(oe,Ee),Ie=this.slice(ee,ae),He=k.slice(I,W),Ke=0;Ke<Le;++Ke)if(Ie[Ke]!==He[Ke]){oe=Ie[Ke],Ee=He[Ke];break}return oe<Ee?-1:Ee<oe?1:0};function d(z,k,I,W,ee){if(z.length===0)return-1;if(typeof I=="string"?(W=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,isNaN(I)&&(I=ee?0:z.length-1),I<0&&(I=z.length+I),I>=z.length){if(ee)return-1;I=z.length-1}else if(I<0)if(ee)I=0;else return-1;if(typeof k=="string"&&(k=C.from(k,W)),C.isBuffer(k))return k.length===0?-1:b(z,k,I,W,ee);if(typeof k=="number")return k=k&255,C.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(z,k,I):Uint8Array.prototype.lastIndexOf.call(z,k,I):b(z,[k],I,W,ee);throw new TypeError("val must be string, number or Buffer")}function b(z,k,I,W,ee){var ae=1,oe=z.length,Ee=k.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(z.length<2||k.length<2)return-1;ae=2,oe/=2,Ee/=2,I/=2}function Le(dt,xt){return ae===1?dt[xt]:dt.readUInt16BE(xt*ae)}var Ie;if(ee){var He=-1;for(Ie=I;Ie<oe;Ie++)if(Le(z,Ie)===Le(k,He===-1?0:Ie-He)){if(He===-1&&(He=Ie),Ie-He+1===Ee)return He*ae}else He!==-1&&(Ie-=Ie-He),He=-1}else for(I+Ee>oe&&(I=oe-Ee),Ie=I;Ie>=0;Ie--){for(var Ke=!0,rt=0;rt<Ee;rt++)if(Le(z,Ie+rt)!==Le(k,rt)){Ke=!1;break}if(Ke)return Ie}return-1}C.prototype.includes=function(k,I,W){return this.indexOf(k,I,W)!==-1},C.prototype.indexOf=function(k,I,W){return d(this,k,I,W,!0)},C.prototype.lastIndexOf=function(k,I,W){return d(this,k,I,W,!1)};function E(z,k,I,W){I=Number(I)||0;var ee=z.length-I;W?(W=Number(W),W>ee&&(W=ee)):W=ee;var ae=k.length;if(ae%2!=0)throw new TypeError("Invalid hex string");W>ae/2&&(W=ae/2);for(var oe=0;oe<W;++oe){var Ee=parseInt(k.substr(oe*2,2),16);if(isNaN(Ee))return oe;z[I+oe]=Ee}return oe}function A(z,k,I,W){return V(ve(k,z.length-I),z,I,W)}function S(z,k,I,W){return V(we(k),z,I,W)}function L(z,k,I,W){return S(z,k,I,W)}function O(z,k,I,W){return V(de(k),z,I,W)}function N(z,k,I,W){return V(ke(k,z.length-I),z,I,W)}C.prototype.write=function(k,I,W,ee){if(I===void 0)ee="utf8",W=this.length,I=0;else if(W===void 0&&typeof I=="string")ee=I,W=this.length,I=0;else if(isFinite(I))I=I|0,isFinite(W)?(W=W|0,ee===void 0&&(ee="utf8")):(ee=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ae=this.length-I;if((W===void 0||W>ae)&&(W=ae),k.length>0&&(W<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var oe=!1;;)switch(ee){case"hex":return E(this,k,I,W);case"utf8":case"utf-8":return A(this,k,I,W);case"ascii":return S(this,k,I,W);case"latin1":case"binary":return L(this,k,I,W);case"base64":return O(this,k,I,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,k,I,W);default:if(oe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),oe=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(z,k,I){return k===0&&I===z.length?Ye.fromByteArray(z):Ye.fromByteArray(z.slice(k,I))}function F(z,k,I){I=Math.min(z.length,I);for(var W=[],ee=k;ee<I;){var ae=z[ee],oe=null,Ee=ae>239?4:ae>223?3:ae>191?2:1;if(ee+Ee<=I){var Le,Ie,He,Ke;switch(Ee){case 1:ae<128&&(oe=ae);break;case 2:Le=z[ee+1],(Le&192)==128&&(Ke=(ae&31)<<6|Le&63,Ke>127&&(oe=Ke));break;case 3:Le=z[ee+1],Ie=z[ee+2],(Le&192)==128&&(Ie&192)==128&&(Ke=(ae&15)<<12|(Le&63)<<6|Ie&63,Ke>2047&&(Ke<55296||Ke>57343)&&(oe=Ke));break;case 4:Le=z[ee+1],Ie=z[ee+2],He=z[ee+3],(Le&192)==128&&(Ie&192)==128&&(He&192)==128&&(Ke=(ae&15)<<18|(Le&63)<<12|(Ie&63)<<6|He&63,Ke>65535&&Ke<1114112&&(oe=Ke))}}oe===null?(oe=65533,Ee=1):oe>65535&&(oe-=65536,W.push(oe>>>10&1023|55296),oe=56320|oe&1023),W.push(oe),ee+=Ee}return j(W)}var Y=4096;function j(z){var k=z.length;if(k<=Y)return String.fromCharCode.apply(String,z);for(var I="",W=0;W<k;)I+=String.fromCharCode.apply(String,z.slice(W,W+=Y));return I}function J(z,k,I){var W="";I=Math.min(z.length,I);for(var ee=k;ee<I;++ee)W+=String.fromCharCode(z[ee]&127);return W}function Q(z,k,I){var W="";I=Math.min(z.length,I);for(var ee=k;ee<I;++ee)W+=String.fromCharCode(z[ee]);return W}function G(z,k,I){var W=z.length;(!k||k<0)&&(k=0),(!I||I<0||I>W)&&(I=W);for(var ee="",ae=k;ae<I;++ae)ee+=ce(z[ae]);return ee}function X(z,k,I){for(var W=z.slice(k,I),ee="",ae=0;ae<W.length;ae+=2)ee+=String.fromCharCode(W[ae]+W[ae+1]*256);return ee}C.prototype.slice=function(k,I){var W=this.length;k=~~k,I=I===void 0?W:~~I,k<0?(k+=W,k<0&&(k=0)):k>W&&(k=W),I<0?(I+=W,I<0&&(I=0)):I>W&&(I=W),I<k&&(I=k);var ee;if(C.TYPED_ARRAY_SUPPORT)ee=this.subarray(k,I),ee.__proto__=C.prototype;else{var ae=I-k;ee=new C(ae,void 0);for(var oe=0;oe<ae;++oe)ee[oe]=this[oe+k]}return ee};function R(z,k,I){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+k>I)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function(k,I,W){k=k|0,I=I|0,W||R(k,I,this.length);for(var ee=this[k],ae=1,oe=0;++oe<I&&(ae*=256);)ee+=this[k+oe]*ae;return ee},C.prototype.readUIntBE=function(k,I,W){k=k|0,I=I|0,W||R(k,I,this.length);for(var ee=this[k+--I],ae=1;I>0&&(ae*=256);)ee+=this[k+--I]*ae;return ee},C.prototype.readUInt8=function(k,I){return I||R(k,1,this.length),this[k]},C.prototype.readUInt16LE=function(k,I){return I||R(k,2,this.length),this[k]|this[k+1]<<8},C.prototype.readUInt16BE=function(k,I){return I||R(k,2,this.length),this[k]<<8|this[k+1]},C.prototype.readUInt32LE=function(k,I){return I||R(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},C.prototype.readUInt32BE=function(k,I){return I||R(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},C.prototype.readIntLE=function(k,I,W){k=k|0,I=I|0,W||R(k,I,this.length);for(var ee=this[k],ae=1,oe=0;++oe<I&&(ae*=256);)ee+=this[k+oe]*ae;return ae*=128,ee>=ae&&(ee-=Math.pow(2,8*I)),ee},C.prototype.readIntBE=function(k,I,W){k=k|0,I=I|0,W||R(k,I,this.length);for(var ee=I,ae=1,oe=this[k+--ee];ee>0&&(ae*=256);)oe+=this[k+--ee]*ae;return ae*=128,oe>=ae&&(oe-=Math.pow(2,8*I)),oe},C.prototype.readInt8=function(k,I){return I||R(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},C.prototype.readInt16LE=function(k,I){I||R(k,2,this.length);var W=this[k]|this[k+1]<<8;return W&32768?W|4294901760:W},C.prototype.readInt16BE=function(k,I){I||R(k,2,this.length);var W=this[k+1]|this[k]<<8;return W&32768?W|4294901760:W},C.prototype.readInt32LE=function(k,I){return I||R(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},C.prototype.readInt32BE=function(k,I){return I||R(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},C.prototype.readFloatLE=function(k,I){return I||R(k,4,this.length),lt.read(this,k,!0,23,4)},C.prototype.readFloatBE=function(k,I){return I||R(k,4,this.length),lt.read(this,k,!1,23,4)},C.prototype.readDoubleLE=function(k,I){return I||R(k,8,this.length),lt.read(this,k,!0,52,8)},C.prototype.readDoubleBE=function(k,I){return I||R(k,8,this.length),lt.read(this,k,!1,52,8)};function K(z,k,I,W,ee,ae){if(!C.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ee||k<ae)throw new RangeError('"value" argument is out of bounds');if(I+W>z.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function(k,I,W,ee){if(k=+k,I=I|0,W=W|0,!ee){var ae=Math.pow(2,8*W)-1;K(this,k,I,W,ae,0)}var oe=1,Ee=0;for(this[I]=k&255;++Ee<W&&(oe*=256);)this[I+Ee]=k/oe&255;return I+W},C.prototype.writeUIntBE=function(k,I,W,ee){if(k=+k,I=I|0,W=W|0,!ee){var ae=Math.pow(2,8*W)-1;K(this,k,I,W,ae,0)}var oe=W-1,Ee=1;for(this[I+oe]=k&255;--oe>=0&&(Ee*=256);)this[I+oe]=k/Ee&255;return I+W},C.prototype.writeUInt8=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,1,255,0),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[I]=k&255,I+1};function q(z,k,I,W){k<0&&(k=65535+k+1);for(var ee=0,ae=Math.min(z.length-I,2);ee<ae;++ee)z[I+ee]=(k&255<<8*(W?ee:1-ee))>>>(W?ee:1-ee)*8}C.prototype.writeUInt16LE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):q(this,k,I,!0),I+2},C.prototype.writeUInt16BE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):q(this,k,I,!1),I+2};function D(z,k,I,W){k<0&&(k=4294967295+k+1);for(var ee=0,ae=Math.min(z.length-I,4);ee<ae;++ee)z[I+ee]=k>>>(W?ee:3-ee)*8&255}C.prototype.writeUInt32LE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I+3]=k>>>24,this[I+2]=k>>>16,this[I+1]=k>>>8,this[I]=k&255):D(this,k,I,!0),I+4},C.prototype.writeUInt32BE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):D(this,k,I,!1),I+4},C.prototype.writeIntLE=function(k,I,W,ee){if(k=+k,I=I|0,!ee){var ae=Math.pow(2,8*W-1);K(this,k,I,W,ae-1,-ae)}var oe=0,Ee=1,Le=0;for(this[I]=k&255;++oe<W&&(Ee*=256);)k<0&&Le===0&&this[I+oe-1]!==0&&(Le=1),this[I+oe]=(k/Ee>>0)-Le&255;return I+W},C.prototype.writeIntBE=function(k,I,W,ee){if(k=+k,I=I|0,!ee){var ae=Math.pow(2,8*W-1);K(this,k,I,W,ae-1,-ae)}var oe=W-1,Ee=1,Le=0;for(this[I+oe]=k&255;--oe>=0&&(Ee*=256);)k<0&&Le===0&&this[I+oe+1]!==0&&(Le=1),this[I+oe]=(k/Ee>>0)-Le&255;return I+W},C.prototype.writeInt8=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,1,127,-128),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[I]=k&255,I+1},C.prototype.writeInt16LE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):q(this,k,I,!0),I+2},C.prototype.writeInt16BE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):q(this,k,I,!1),I+2},C.prototype.writeInt32LE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8,this[I+2]=k>>>16,this[I+3]=k>>>24):D(this,k,I,!0),I+4},C.prototype.writeInt32BE=function(k,I,W){return k=+k,I=I|0,W||K(this,k,I,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):D(this,k,I,!1),I+4};function Z(z,k,I,W,ee,ae){if(I+W>z.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function le(z,k,I,W,ee){return ee||Z(z,k,I,4,34028234663852886e22,-34028234663852886e22),lt.write(z,k,I,W,23,4),I+4}C.prototype.writeFloatLE=function(k,I,W){return le(this,k,I,!0,W)},C.prototype.writeFloatBE=function(k,I,W){return le(this,k,I,!1,W)};function se(z,k,I,W,ee){return ee||Z(z,k,I,8,17976931348623157e292,-17976931348623157e292),lt.write(z,k,I,W,52,8),I+8}C.prototype.writeDoubleLE=function(k,I,W){return se(this,k,I,!0,W)},C.prototype.writeDoubleBE=function(k,I,W){return se(this,k,I,!1,W)},C.prototype.copy=function(k,I,W,ee){if(W||(W=0),!ee&&ee!==0&&(ee=this.length),I>=k.length&&(I=k.length),I||(I=0),ee>0&&ee<W&&(ee=W),ee===W||k.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("sourceStart out of bounds");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),k.length-I<ee-W&&(ee=k.length-I+W);var ae=ee-W,oe;if(this===k&&W<I&&I<ee)for(oe=ae-1;oe>=0;--oe)k[oe+I]=this[oe+W];else if(ae<1e3||!C.TYPED_ARRAY_SUPPORT)for(oe=0;oe<ae;++oe)k[oe+I]=this[oe+W];else Uint8Array.prototype.set.call(k,this.subarray(W,W+ae),I);return ae},C.prototype.fill=function(k,I,W,ee){if(typeof k=="string"){if(typeof I=="string"?(ee=I,I=0,W=this.length):typeof W=="string"&&(ee=W,W=this.length),k.length===1){var ae=k.charCodeAt(0);ae<256&&(k=ae)}if(ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!C.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee)}else typeof k=="number"&&(k=k&255);if(I<0||this.length<I||this.length<W)throw new RangeError("Out of range index");if(W<=I)return this;I=I>>>0,W=W===void 0?this.length:W>>>0,k||(k=0);var oe;if(typeof k=="number")for(oe=I;oe<W;++oe)this[oe]=k;else{var Ee=C.isBuffer(k)?k:ve(new C(k,ee).toString()),Le=Ee.length;for(oe=0;oe<W-I;++oe)this[oe+I]=Ee[oe%Le]}return this};var fe=/[^+\/0-9A-Za-z-_]/g;function he(z){if(z=re(z).replace(fe,""),z.length<2)return"";for(;z.length%4!=0;)z=z+"=";return z}function re(z){return z.trim?z.trim():z.replace(/^\s+|\s+$/g,"")}function ce(z){return z<16?"0"+z.toString(16):z.toString(16)}function ve(z,k){k=k||Infinity;for(var I,W=z.length,ee=null,ae=[],oe=0;oe<W;++oe){if(I=z.charCodeAt(oe),I>55295&&I<57344){if(!ee){if(I>56319){(k-=3)>-1&&ae.push(239,191,189);continue}else if(oe+1===W){(k-=3)>-1&&ae.push(239,191,189);continue}ee=I;continue}if(I<56320){(k-=3)>-1&&ae.push(239,191,189),ee=I;continue}I=(ee-55296<<10|I-56320)+65536}else ee&&(k-=3)>-1&&ae.push(239,191,189);if(ee=null,I<128){if((k-=1)<0)break;ae.push(I)}else if(I<2048){if((k-=2)<0)break;ae.push(I>>6|192,I&63|128)}else if(I<65536){if((k-=3)<0)break;ae.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((k-=4)<0)break;ae.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return ae}function we(z){for(var k=[],I=0;I<z.length;++I)k.push(z.charCodeAt(I)&255);return k}function ke(z,k){for(var I,W,ee,ae=[],oe=0;oe<z.length&&!((k-=2)<0);++oe)I=z.charCodeAt(oe),W=I>>8,ee=I%256,ae.push(ee),ae.push(W);return ae}function de(z){return Ye.toByteArray(he(z))}function V(z,k,I,W){for(var ee=0;ee<W&&!(ee+I>=k.length||ee>=z.length);++ee)k[ee+I]=z[ee];return ee}function ge(z){return z!==z}}).call(this,Ve("IyRk"))},Iab2:function(vt,ht,Ve){(function(qe){var Ye,lt,et;(function($,ne){lt=[],Ye=ne,et=typeof Ye=="function"?Ye.apply(ht,lt):Ye,et!==void 0&&(vt.exports=et)})(this,function(){"use strict";function $(f,w){return typeof w=="undefined"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function ne(f,w,m){var o=new XMLHttpRequest;o.open("GET",f),o.responseType="blob",o.onload=function(){h(o.response,w,m)},o.onerror=function(){console.error("could not download file")},o.send()}function T(f){var w=new XMLHttpRequest;w.open("HEAD",f,!1);try{w.send()}catch(m){}return 200<=w.status&&299>=w.status}function C(f){try{f.dispatchEvent(new MouseEvent("click"))}catch(m){var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(w)}}var g=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof qe=="object"&&qe.global===qe?qe:void 0,p=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=g.saveAs||(typeof window!="object"||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!p?function(f,w,m){var o=g.URL||g.webkitURL,i=document.createElement("a");w=w||f.name||"download",i.download=w,i.rel="noopener",typeof f=="string"?(i.href=f,i.origin===location.origin?C(i):T(i.href)?ne(f,w,m):C(i,i.target="_blank")):(i.href=o.createObjectURL(f),setTimeout(function(){o.revokeObjectURL(i.href)},4e4),setTimeout(function(){C(i)},0))}:"msSaveOrOpenBlob"in navigator?function(f,w,m){if(w=w||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob($(f,m),w);else if(T(f))ne(f,w,m);else{var o=document.createElement("a");o.href=f,o.target="_blank",setTimeout(function(){C(o)})}}:function(f,w,m,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof f=="string")return ne(f,w,m);var i=f.type==="application/octet-stream",e=/constructor/i.test(g.HTMLElement)||g.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&e||p)&&typeof FileReader!="undefined"){var n=new FileReader;n.onloadend=function(){var d=n.result;d=r?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=d:location=d,o=null},n.readAsDataURL(f)}else{var t=g.URL||g.webkitURL,s=t.createObjectURL(f);o?o.location=s:location.href=s,o=null,setTimeout(function(){t.revokeObjectURL(s)},4e4)}});g.saveAs=h.saveAs=h,vt.exports=h})}).call(this,Ve("IyRk"))},PGov:function(vt,ht,Ve){"use strict";var qe=Ve("i8i4"),Ye=Ve.n(qe),lt=Ve("oOwn"),et=Ve.n(lt),$=Ve("bBst"),ne=Ve.n($),T=Ve("q1tI"),C=Ve.n(T);function g(R,K,q){return K in R?Object.defineProperty(R,K,{value:q,enumerable:!0,configurable:!0,writable:!0}):R[K]=q,R}function p(R){for(var K=1;K<arguments.length;K++){var q=arguments[K]!=null?arguments[K]:{},D=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(q).filter(function(Z){return Object.getOwnPropertyDescriptor(q,Z).enumerable}))),D.forEach(function(Z){g(R,Z,q[Z])})}return R}function h(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")}function f(R,K){for(var q=0;q<K.length;q++){var D=K[q];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(R,D.key,D)}}function w(R,K,q){return K&&f(R.prototype,K),q&&f(R,q),R}function m(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(q){return typeof q}:m=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},m(R)}function o(R){return typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?o=function(q){return m(q)}:o=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":m(q)},o(R)}function i(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function e(R,K){return K&&(o(K)==="object"||typeof K=="function")?K:i(R)}function r(R){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},r(R)}function n(R,K){return n=Object.setPrototypeOf||function(D,Z){return D.__proto__=Z,D},n(R,K)}function t(R,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(K&&K.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),K&&n(R,K)}function s(R){if(Array.isArray(R)){for(var K=0,q=new Array(R.length);K<R.length;K++)q[K]=R[K];return q}}function d(R){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]")return Array.from(R)}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E(R){return s(R)||d(R)||b()}var A={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},S=function R(){var K=this;h(this,R),this.startListen=function(q){!q||q.addEventListener("keydown",K.f)},this.stopListen=function(q){!q||q.removeEventListener("keydown",K.f)},this.add=function(q,D){var Z=q;return typeof Z!="object"&&(Z=[Z]),K.listeners[K.index]={keyCode:Z,fn:D},K.index++},this.remove=function(q){delete K.listeners[q]},this.removeAll=function(){K.listeners={},K.index=1},this.index=1,this.listeners={},this.f=function(q){if(!!q){var D=q.keyCode||q.which;Object.values(K.listeners).forEach(function(Z){var le=Z.keyCode,se=Z.fn;le.includes(D)&&(q.stopPropagation(),q.preventDefault(),se(q))})}}},L=new S,O=function(R){t(K,R);function K(){var q,D;h(this,K);for(var Z=arguments.length,le=new Array(Z),se=0;se<Z;se++)le[se]=arguments[se];return D=e(this,(q=r(K)).call.apply(q,[this].concat(le))),D.selectItem=function(){var fe=D.props,he=fe.item,re=fe.onSelectHandler;re(he)},D}return w(K,[{key:"shouldComponentUpdate",value:function(D){return this.props.item!==D.item||this.props.selected!==D.selected||this.props.style!==D.style||this.props.className!==D.className}},{key:"render",value:function(){var D=this,Z=this.props,le=Z.component,se=Z.style,fe=Z.onClickHandler,he=Z.item,re=Z.selected,ce=Z.className,ve=Z.innerRef;return C.a.createElement("li",{className:"rta__item  ".concat(re===!0?"rta__item--selected":""," ").concat(ce||""),style:se},C.a.createElement("div",{className:"rta__entity ".concat(re===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:fe,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){D.clicked=!0,D.selectItem()},onTouchEnd:function(ke){ke.preventDefault(),D.clicked&&fe(ke)},onTouchMove:function(){D.clicked=!1},onTouchCancel:function(){D.clicked=!1},ref:ve},C.a.createElement(le,{selected:re,entity:he})))}}]),K}(C.a.Component),N=function(R){t(K,R);function K(){var q,D;h(this,K);for(var Z=arguments.length,le=new Array(Z),se=0;se<Z;se++)le[se]=arguments[se];return D=e(this,(q=r(K)).call.apply(q,[this].concat(le))),D.state={selectedItem:null},D.cachedIdOfItems=new Map,D.onPressEnter=function(fe){typeof fe!="undefined"&&fe.preventDefault();var he=D.props.values;D.modifyText(he[D.getPositionInList()])},D.getPositionInList=function(){var fe=D.props.values,he=D.state.selectedItem;return he?fe.findIndex(function(re){return D.getId(re)===D.getId(he)}):0},D.getId=function(fe){if(D.cachedIdOfItems.has(fe))return D.cachedIdOfItems.get(fe);var he=D.props.getTextToReplace(fe),re=function(){if(he){if(he.key)return he.key;if(typeof fe=="string"||!fe.key)return he.text}if(!fe.key)throw new Error("Item ".concat(JSON.stringify(fe),' has to have defined "key" property'));return fe.key},ce=re();return D.cachedIdOfItems.set(fe,ce),ce},D.listeners=[],D.itemsRef={},D.modifyText=function(fe){if(!!fe){var he=D.props.onSelect;he(fe)}},D.selectItem=function(fe){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,re=D.props.onItemHighlighted;D.state.selectedItem!==fe&&D.setState({selectedItem:fe},function(){re(fe),he&&D.props.dropdownScroll(D.itemsRef[D.getId(fe)])})},D.scroll=function(fe){fe.preventDefault();var he=D.props.values,re=fe.keyCode||fe.which,ce=D.getPositionInList(),ve;switch(re){case A.DOWN:ve=ce+1;break;case A.UP:ve=ce-1;break;default:ve=ce;break}ve=(ve%he.length+he.length)%he.length,D.selectItem(he[ve],[A.DOWN,A.UP].includes(re))},D.isSelected=function(fe){var he=D.state.selectedItem;return he?D.getId(he)===D.getId(fe):!1},D}return w(K,[{key:"componentDidMount",value:function(){this.listeners.push(L.add([A.DOWN,A.UP],this.scroll),L.add([A.ENTER,A.TAB],this.onPressEnter));var D=this.props.values;D&&D[0]&&this.selectItem(D[0])}},{key:"componentDidUpdate",value:function(D){var Z=this,le=D.values,se=this.props.values,fe=le.map(function(re){return Z.getId(re)}).join(""),he=se.map(function(re){return Z.getId(re)}).join("");fe!==he&&se&&se[0]&&this.selectItem(se[0])}},{key:"componentWillUnmount",value:function(){for(var D;this.listeners.length;)D=this.listeners.pop(),L.remove(D)}},{key:"render",value:function(){var D=this,Z=this.props,le=Z.values,se=Z.component,fe=Z.style,he=Z.itemClassName,re=Z.className,ce=Z.itemStyle;return C.a.createElement("ul",{className:"rta__list ".concat(re||""),style:fe},le.map(function(ve){return C.a.createElement(O,{key:D.getId(ve),innerRef:function(ke){D.itemsRef[D.getId(ve)]=ke},selected:D.isSelected(ve),item:ve,className:he,style:ce,onClickHandler:D.onPressEnter,onSelectHandler:D.selectItem,component:se})}))}}]),K}(C.a.Component);function H(R,K){var q=parseInt(getComputedStyle(K).getPropertyValue("height"),10),D=parseInt(getComputedStyle(R).getPropertyValue("height"),10)-q,Z=K.offsetTop,le=R.scrollTop;Z<le+D&&le<Z||(R.scrollTop=Z)}var F="next",Y={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},j=function(K){return console.error("RTA: dataProvider fails: ".concat(K,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},J=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],Q=function(K){return E(K).map(function(q){return J.includes(q)?"\\".concat(q):q}).join("")},G=function(R){t(K,R);function K(){return h(this,K),e(this,r(K).apply(this,arguments))}return w(K,[{key:"componentDidMount",value:function(){var D=this.props.boundariesElement;if(typeof D=="string"){var Z=document.querySelector(D);if(!Z)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=Z}else if(D instanceof HTMLElement)this.containerElem=D;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var D,Z,le=this.props.top||0,se=this.props.left||0,fe=[],he=[],re=0,ce=0,ve=this.containerElem.getBoundingClientRect(),we=this.ref.getBoundingClientRect(),ke=this.props.textareaRef.getBoundingClientRect(),de=window.getComputedStyle(this.ref),V=parseInt(de.getPropertyValue("margin-top"),10),ge=parseInt(de.getPropertyValue("margin-bottom"),10),z=parseInt(de.getPropertyValue("margin-left"),10),k=parseInt(de.getPropertyValue("margin-right"),10),I=V+ge+ke.top+le+we.height,W=z+k+ke.left+se+we.width;W>ve.right&&ke.left+se>we.width?(ce=se-we.width,fe.push(Y.X.LEFT),he.push(Y.X.RIGHT)):(ce=se,fe.push(Y.X.RIGHT),he.push(Y.X.LEFT)),I>ve.bottom&&ke.top+le>we.height?(re=le-we.height,fe.push(Y.Y.TOP),he.push(Y.Y.BOTTOM)):(re=le,fe.push(Y.Y.BOTTOM),he.push(Y.Y.TOP)),this.props.renderToBody&&(re+=ke.top,ce+=ke.left),this.ref.style.top="".concat(re,"px"),this.ref.style.left="".concat(ce,"px"),(D=this.ref.classList).remove.apply(D,he),(Z=this.ref.classList).add.apply(Z,fe)}},{key:"render",value:function(){var D=this,Z=this.props,le=Z.style,se=Z.className,fe=Z.innerRef,he=Z.children,re=Z.renderToBody,ce=document.body,ve=C.a.createElement("div",{ref:function(ke){D.ref=ke,fe(ke)},className:"rta__autocomplete ".concat(se||""),style:le},he);return re&&ce!==null?Ye.a.createPortal(ve,ce):ve}}]),K}(C.a.Component),X=function(R){t(K,R);function K(q){var D;h(this,K),D=e(this,r(K).call(this,q)),D.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},D.escListenerInit=function(){D.escListener||(D.escListener=L.add(A.ESC,D._closeAutocomplete))},D.escListenerDestroy=function(){D.escListener&&(L.remove(D.escListener),D.escListener=null)},D.getSelectionPosition=function(){return D.textareaRef?{selectionStart:D.textareaRef.selectionStart,selectionEnd:D.textareaRef.selectionEnd}:null},D.getSelectedText=function(){if(!D.textareaRef)return null;var he=D.textareaRef,re=he.selectionStart,ce=he.selectionEnd;return re===ce?null:D.state.value.substr(re,ce-re)},D.setCaretPosition=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!D.textareaRef||(D.textareaRef.focus(),D.textareaRef.setSelectionRange(he,he))},D.getCaretPosition=function(){if(!D.textareaRef)return 0;var he=D.textareaRef.selectionEnd;return he},D._handleCaretChange=function(he){var re=function(){var we=D.getCaretPosition()-1;D.lastTrigger=D.lastTrigger?we:0};if(he.type==="keydown"){var ce=he.keyCode||he.which;switch(ce){case A.UP:case A.DOWN:D._isAutocompleteOpen()||re();break;case A.LEFT:case A.RIGHT:re();break;default:}return}re()},D._onSelect=function(he){var re=D.state,ce=re.selectionEnd,ve=re.currentTrigger,we=re.value,ke=D.props.onItemSelected;if(!!ve){var de=D._getTextToReplace(ve);if(!de){D._closeAutocomplete();return}var V=de(he);if(!V){D._closeAutocomplete();return}ke&&ke({currentTrigger:ve,item:he});var ge=function(Ie,He,Ke){switch(Ie){case"start":return Ke;case"next":case"end":return Ke+He.length;default:if(!Number.isInteger(Ie))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return Ie}},z=we.slice(0,ce),k=Q(ve),I=z.length-z.lastIndexOf(ve),W=z.search(new RegExp("(?!".concat(k,")$")))-I,ee=V.caretPosition==="next"?"".concat(V.text," "):V.text,ae=ge(V.caretPosition,ee,W),oe=z.substring(0,W)+ee,Ee=we.replace(z,oe);D.setState({value:Ee,dataLoading:!1},function(){var Le=D.tokenRegExpEnding.exec(ee),Ie=Le?Le[0].length:1;D.lastTrigger=ae&&ae-Ie,D.textareaRef.value=Ee,D.textareaRef.selectionEnd=ae,D._changeHandler();var He=D.textareaRef.scrollTop;D.setCaretPosition(ae),window.chrome&&(D.textareaRef.scrollTop=He)})}},D._getTextToReplace=function(he){var re=D.props.trigger[he];if(!he||!re)return null;var ce=re.output;return function(ve){if(typeof ve=="object"&&(!ce||typeof ce!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(ce){var we=ce(ve,he);if(we===void 0||typeof we=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(we),'". Check the implementation for trigger "').concat(he,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(we===null)return null;if(typeof we=="string")return{text:we,caretPosition:F};if(!we.text&&typeof we.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(he,`"
`));if(!we.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(he,`"
`));return we}if(typeof ve!="string")throw new Error(`Output item should be string
`);return{text:"".concat(he).concat(ve).concat(he),caretPosition:F}}},D._getCurrentTriggerSettings=function(){var he=D.state.currentTrigger;return he?D.props.trigger[he]:null},D._getValuesFromProvider=function(){var he=D.state,re=he.currentTrigger,ce=he.actualToken,ve=D._getCurrentTriggerSettings();if(!(!re||!ve)){var we=ve.dataProvider,ke=ve.component;if(typeof we!="function")throw new Error("Trigger provider has to be a function!");D.setState({dataLoading:!0});var de=we(ce);de instanceof Promise||(de=Promise.resolve(de)),de.then(function(V){if(!Array.isArray(V))throw new Error("Trigger provider has to provide an array!");if(typeof ke!="function")throw new Error("Component should be defined!");if(re===D.state.currentTrigger){if(!V.length){D._closeAutocomplete();return}D.setState({dataLoading:!1,data:V,component:ke})}}).catch(function(V){return j(V.message)})}},D._getSuggestions=function(){var he=D.state,re=he.currentTrigger,ce=he.data;return!re||!ce||ce&&!ce.length?null:ce},D._createRegExp=function(){var he=D.props.trigger;D.tokenRegExp=new RegExp("(".concat(Object.keys(he).sort(function(re,ce){return re<ce?1:re>ce?-1:0}).map(function(re){return Q(re)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),D.tokenRegExpEnding=new RegExp("(".concat(Object.keys(he).sort(function(re,ce){return re<ce?1:re>ce?-1:0}).map(function(re){return Q(re)}).join("|"),")$"))},D._closeAutocomplete=function(){var he=D.state.currentTrigger;D.escListenerDestroy(),D.setState({data:null,dataLoading:!1,currentTrigger:null},function(){he&&D._onItemHighlightedHandler(null)})},D._cleanUpProps=function(){var he=p({},D.props),re=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var ce in he)re.includes(ce)&&delete he[ce];return he},D._changeHandler=function(he){var re=D.props,ce=re.trigger,ve=re.onChange,we=re.minChar,ke=re.onCaretPositionChange,de=re.movePopupAsYouType,V=D.state,ge=V.top,z=V.left,k=he;k||(k=new ne.a("change",{bubbles:!0}),D.textareaRef.dispatchEvent(k));var I=k.target||D.textareaRef,W=I.selectionEnd,ee=I.value;if(D.lastValueBubbledEvent=ee,ve&&k&&(k.persist&&k.persist(),ve(new Proxy(k,{get:function(Ut,kt,rr){return kt==="target"?I:Reflect.get(Ut,kt,rr)}}))),ke){var ae=D.getCaretPosition();ke(ae)}D.setState({value:ee});var oe=function(){var Ut=et()(I,W),kt=Ut.top,rr=Ut.left;D.setState({top:kt-D.textareaRef.scrollTop||0,left:rr})},Ee=function(Ut){D.lastTrigger=W-Ut,D._closeAutocomplete(),oe()};if(W<=D.lastTrigger){var Le=ee.slice(0,W),Ie=D.tokenRegExp.exec(Le);Ee(Ie?Ie[0].length:0)}var He=ee.slice(D.lastTrigger,W),Ke=D.tokenRegExp.exec(He),rt=Ke&&Ke[0],dt=Ke&&Ke[1]||null,xt=dt?dt.length-1:0,It=D.tokenRegExpEnding.exec(He);if(It?Ee(It[0].length):D._isAutocompleteOpen()||D._closeAutocomplete(),(!rt||rt.length<=we+xt)&&(D.state.currentTrigger&&!ce[D.state.currentTrigger].allowWhitespace||!D.state.currentTrigger)){D._closeAutocomplete();return}if(dt&&ce[dt].afterWhitespace&&!/\s/.test(ee[W-rt.length-1])&&ee[W-rt.length-1]!==void 0){D._closeAutocomplete();return}if(D.state.currentTrigger&&ce[D.state.currentTrigger].allowWhitespace){if(Ke=new RegExp("".concat(Q(D.state.currentTrigger),".*$")).exec(ee.slice(0,W)),rt=Ke&&Ke[0],!rt){D._closeAutocomplete();return}dt=Object.keys(ce).find(function(Bt){return Bt.slice(0,xt+1)===rt.slice(0,xt+1)})||null}var Ot=rt.slice(1);if(!!dt){(de||ge===null&&z===null||D.state.currentTrigger!==dt)&&oe(),D.escListenerInit();var pt=D._getTextToReplace(dt);D.setState({selectionEnd:W,currentTrigger:dt,textToReplace:pt,actualToken:Ot},function(){try{D._getValuesFromProvider()}catch(Bt){j(Bt.message)}})}},D._selectHandler=function(he){var re=D.props,ce=re.onCaretPositionChange,ve=re.onSelect;if(ce){var we=D.getCaretPosition();ce(we)}ve&&(he.persist(),ve(he))},D._shouldStayOpen=function(he){var re=he.relatedTarget;return re===null&&(re=document.activeElement),!!(D.dropdownRef&&re instanceof Node&&D.dropdownRef.contains(re))},D._onClick=function(he){var re=D.props.onClick;re&&(he.persist(),re(he)),!D._shouldStayOpen(he)&&D._closeAutocomplete()},D._onBlur=function(he){var re=D.props.onBlur;re&&(he.persist(),re(he)),!D._shouldStayOpen(he)&&D._closeAutocomplete()},D._onScrollHandler=function(){D._closeAutocomplete()},D._onItemHighlightedHandler=function(he){var re=D.props.onItemHighlighted,ce=D.state.currentTrigger;if(re)if(typeof re=="function")re({currentTrigger:ce,item:he});else throw new Error("`onItemHighlighted` has to be a function")},D._dropdownScroll=function(he){var re=D.props.scrollToItem;if(!!re){if(re===!0){H(D.dropdownRef,he);return}if(typeof re!="function"||re.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");re(D.dropdownRef,he)}},D._isAutocompleteOpen=function(){var he=D.state,re=he.dataLoading,ce=he.currentTrigger,ve=D._getSuggestions();return!!((re||ve)&&ce)},D._textareaRef=function(he){D.props.innerRef&&D.props.innerRef(he),D.textareaRef=he},D.lastTrigger=0,D.escListener=null;var Z=D.props,le=Z.loadingComponent,se=Z.trigger,fe=Z.value;if(fe&&(D.state.value=fe),D._createRegExp(),!le)throw new Error("RTA: loadingComponent is not defined");if(!se)throw new Error("RTA: trigger is not defined");return D}return w(K,[{key:"componentDidMount",value:function(){L.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(D){var Z=D.trigger,le=D.value,se=this.props,fe=se.trigger,he=se.value;Object.keys(fe).join("")!==Object.keys(Z).join("")&&this._createRegExp(),le!==he&&this.lastValueBubbledEvent!==he&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),L.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var D=this,Z=this.props,le=Z.loadingComponent,se=Z.style,fe=Z.className,he=Z.listStyle,re=Z.itemStyle,ce=Z.boundariesElement,ve=Z.movePopupAsYouType,we=Z.listClassName,ke=Z.itemClassName,de=Z.dropdownClassName,V=Z.dropdownStyle,ge=Z.containerStyle,z=Z.containerClassName,k=Z.loaderStyle,I=Z.loaderClassName,W=Z.textAreaComponent,ee=Z.renderToBody,ae=this.state,oe=ae.left,Ee=ae.top,Le=ae.dataLoading,Ie=ae.component,He=ae.value,Ke=ae.textToReplace,rt=this._isAutocompleteOpen(),dt=this._getSuggestions(),xt={},It;return W.component?(It=W.component,xt[W.ref]=this._textareaRef):(It=W,xt.ref=this._textareaRef),C.a.createElement("div",{className:"rta ".concat(Le===!0?"rta--loading":""," ").concat(z||""),style:ge},C.a.createElement(It,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(fe||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:He,style:se},xt)),rt&&C.a.createElement(G,{innerRef:function(pt){D.dropdownRef=pt},top:Ee,left:oe,style:V,className:de,movePopupAsYouType:ve,boundariesElement:ce,textareaRef:this.textareaRef,renderToBody:ee},dt&&Ie&&Ke&&C.a.createElement(N,{values:dt,component:Ie,style:he,className:we,itemClassName:ke,itemStyle:re,getTextToReplace:Ke,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Le&&C.a.createElement("div",{className:"rta__loader ".concat(dt!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(I||""),style:k},C.a.createElement(le,{data:dt}))))}}],[{key:"getDerivedStateFromProps",value:function(D){var Z=D.value;return Z==null?null:{value:Z}}}]),K}(C.a.Component);X.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},ht.a=X},UF3W:function(vt,ht,Ve){(function(qe){/*! For license information please see reportbro.js.LICENSE.txt */(function(){var Ye={1924:function(ne,T,C){"use strict";var g=C(210),p=C(5559),h=p(g("String.prototype.indexOf"));ne.exports=function(f,w){var m=g(f,!!w);return typeof m=="function"&&h(f,".prototype.")>-1?p(m):m}},5559:function(ne,T,C){"use strict";var g=C(8612),p=C(210),h=p("%Function.prototype.apply%"),f=p("%Function.prototype.call%"),w=p("%Reflect.apply%",!0)||g.call(f,h),m=p("%Object.getOwnPropertyDescriptor%",!0),o=p("%Object.defineProperty%",!0),i=p("%Math.max%");if(o)try{o({},"a",{value:1})}catch(r){o=null}ne.exports=function(r){var n=w(g,f,arguments);if(m&&o){var t=m(n,"length");t.configurable&&o(n,"length",{value:1+i(0,r.length-(arguments.length-1))})}return n};var e=function(){return w(g,h,arguments)};o?o(ne.exports,"apply",{value:e}):ne.exports.apply=e},251:function(ne,T,C){var g=C(2215),p=C(2584),h=C(609),f=C(8420),w=C(2847),m=C(8923),o=Date.prototype.getTime;function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}ne.exports=function r(n,t,s){var d=s||{};return!!(d.strict?h(n,t):n===t)||(!n||!t||typeof n!="object"&&typeof t!="object"?d.strict?h(n,t):n==t:function(b,E,A){var S,L;if(typeof b!=typeof E||i(b)||i(E)||b.prototype!==E.prototype||p(b)!==p(E))return!1;var O=f(b),N=f(E);if(O!==N)return!1;if(O||N)return b.source===E.source&&w(b)===w(E);if(m(b)&&m(E))return o.call(b)===o.call(E);var H=e(b),F=e(E);if(H!==F)return!1;if(H||F){if(b.length!==E.length)return!1;for(S=0;S<b.length;S++)if(b[S]!==E[S])return!1;return!0}if(typeof b!=typeof E)return!1;try{var Y=g(b),j=g(E)}catch(J){return!1}if(Y.length!==j.length)return!1;for(Y.sort(),j.sort(),S=Y.length-1;S>=0;S--)if(Y[S]!=j[S])return!1;for(S=Y.length-1;S>=0;S--)if(!r(b[L=Y[S]],E[L],A))return!1;return!0}(n,t,d))}},4289:function(ne,T,C){"use strict";var g=C(2215),p=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",h=Object.prototype.toString,f=Array.prototype.concat,w=Object.defineProperty,m=w&&function(){var e={};try{for(var r in w(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),o=function(r,n,t,s){var d;(!(n in r)||typeof(d=s)=="function"&&h.call(d)==="[object Function]"&&s())&&(m?w(r,n,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[n]=t)},i=function(r,n){var t=arguments.length>2?arguments[2]:{},s=g(n);p&&(s=f.call(s,Object.getOwnPropertySymbols(n)));for(var d=0;d<s.length;d+=1)o(r,s[d],n[s[d]],t[s[d]])};i.supportsDescriptors=!!m,ne.exports=i},5987:function(ne){"use strict";var T={single_source_shortest_paths:function(g,p,h){var f={},w={};w[p]=0;var m,o,i,e,r,n,t,s=T.PriorityQueue.make();for(s.push(p,0);!s.empty();)for(i in o=(m=s.pop()).value,e=m.cost,r=g[o]||{})r.hasOwnProperty(i)&&(n=e+r[i],t=w[i],(w[i]===void 0||t>n)&&(w[i]=n,s.push(i,n),f[i]=o));if(h!==void 0&&w[h]===void 0){var d=["Could not find a path from ",p," to ",h,"."].join("");throw new Error(d)}return f},extract_shortest_path_from_predecessor_list:function(g,p){for(var h=[],f=p;f;)h.push(f),g[f],f=g[f];return h.reverse(),h},find_path:function(g,p,h){var f=T.single_source_shortest_paths(g,p,h);return T.extract_shortest_path_from_predecessor_list(f,h)},PriorityQueue:{make:function(g){var p,h=T.PriorityQueue,f={};for(p in g=g||{},h)h.hasOwnProperty(p)&&(f[p]=h[p]);return f.queue=[],f.sorter=g.sorter||h.default_sorter,f},default_sorter:function(g,p){return g.cost-p.cost},push:function(g,p){var h={value:g,cost:p};this.queue.push(h),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};ne.exports=T},2378:function(ne){"use strict";ne.exports=function(T){for(var C=[],g=T.length,p=0;p<g;p++){var h=T.charCodeAt(p);if(h>=55296&&h<=56319&&g>p+1){var f=T.charCodeAt(p+1);f>=56320&&f<=57343&&(h=1024*(h-55296)+f-56320+65536,p+=1)}h<128?C.push(h):h<2048?(C.push(h>>6|192),C.push(63&h|128)):h<55296||h>=57344&&h<65536?(C.push(h>>12|224),C.push(h>>6&63|128),C.push(63&h|128)):h>=65536&&h<=1114111?(C.push(h>>18|240),C.push(h>>12&63|128),C.push(h>>6&63|128),C.push(63&h|128)):C.push(239,191,189)}return new Uint8Array(C).buffer}},4470:function(ne){"use strict";var T=Object.prototype.hasOwnProperty,C=Object.prototype.toString,g=Object.defineProperty,p=Object.getOwnPropertyDescriptor,h=function(i){return typeof Array.isArray=="function"?Array.isArray(i):C.call(i)==="[object Array]"},f=function(i){if(!i||C.call(i)!=="[object Object]")return!1;var e,r=T.call(i,"constructor"),n=i.constructor&&i.constructor.prototype&&T.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!r&&!n)return!1;for(e in i);return e===void 0||T.call(i,e)},w=function(i,e){g&&e.name==="__proto__"?g(i,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):i[e.name]=e.newValue},m=function(i,e){if(e==="__proto__"){if(!T.call(i,e))return;if(p)return p(i,e).value}return i[e]};ne.exports=function o(){var i,e,r,n,t,s,d=arguments[0],b=1,E=arguments.length,A=!1;for(typeof d=="boolean"&&(A=d,d=arguments[1]||{},b=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});b<E;++b)if((i=arguments[b])!=null)for(e in i)r=m(d,e),d!==(n=m(i,e))&&(A&&n&&(f(n)||(t=h(n)))?(t?(t=!1,s=r&&h(r)?r:[]):s=r&&f(r)?r:{},w(d,{name:e,newValue:o(A,s,n)})):n!==void 0&&w(d,{name:e,newValue:n}));return d}},7529:function(ne){var T=-1;function C(o,i,e){if(o==i)return o?[[0,o]]:[];(e<0||o.length<e)&&(e=null);var r=p(o,i),n=o.substring(0,r);r=h(o=o.substring(r),i=i.substring(r));var t=o.substring(o.length-r),s=function(d,b){var E;if(!d)return[[1,b]];if(!b)return[[T,d]];var A=d.length>b.length?d:b,S=d.length>b.length?b:d,L=A.indexOf(S);if(L!=-1)return E=[[1,A.substring(0,L)],[0,S],[1,A.substring(L+S.length)]],d.length>b.length&&(E[0][0]=E[2][0]=T),E;if(S.length==1)return[[T,d],[1,b]];var O=function(G,X){var R=G.length>X.length?G:X,K=G.length>X.length?X:G;if(R.length<4||2*K.length<R.length)return null;function q(ce,ve,we){for(var ke,de,V,ge,z=ce.substring(we,we+Math.floor(ce.length/4)),k=-1,I="";(k=ve.indexOf(z,k+1))!=-1;){var W=p(ce.substring(we),ve.substring(k)),ee=h(ce.substring(0,we),ve.substring(0,k));I.length<ee+W&&(I=ve.substring(k-ee,k)+ve.substring(k,k+W),ke=ce.substring(0,we-ee),de=ce.substring(we+W),V=ve.substring(0,k-ee),ge=ve.substring(k+W))}return 2*I.length>=ce.length?[ke,de,V,ge,I]:null}var D,Z,le,se,fe,he=q(R,K,Math.ceil(R.length/4)),re=q(R,K,Math.ceil(R.length/2));return he||re?(D=re?he&&he[4].length>re[4].length?he:re:he,G.length>X.length?(Z=D[0],le=D[1],se=D[2],fe=D[3]):(se=D[0],fe=D[1],Z=D[2],le=D[3]),[Z,le,se,fe,D[4]]):null}(d,b);if(O){var N=O[0],H=O[1],F=O[2],Y=O[3],j=O[4],J=C(N,F),Q=C(H,Y);return J.concat([[0,j]],Q)}return function(G,X){for(var R=G.length,K=X.length,q=Math.ceil((R+K)/2),D=q,Z=2*q,le=new Array(Z),se=new Array(Z),fe=0;fe<Z;fe++)le[fe]=-1,se[fe]=-1;le[D+1]=0,se[D+1]=0;for(var he=R-K,re=he%2!=0,ce=0,ve=0,we=0,ke=0,de=0;de<q;de++){for(var V=-de+ce;V<=de-ve;V+=2){for(var ge=D+V,z=(ae=V==-de||V!=de&&le[ge-1]<le[ge+1]?le[ge+1]:le[ge-1]+1)-V;ae<R&&z<K&&G.charAt(ae)==X.charAt(z);)ae++,z++;if(le[ge]=ae,ae>R)ve+=2;else if(z>K)ce+=2;else if(re&&(W=D+he-V)>=0&&W<Z&&se[W]!=-1&&ae>=(I=R-se[W]))return g(G,X,ae,z)}for(var k=-de+we;k<=de-ke;k+=2){for(var I,W=D+k,ee=(I=k==-de||k!=de&&se[W-1]<se[W+1]?se[W+1]:se[W-1]+1)-k;I<R&&ee<K&&G.charAt(R-I-1)==X.charAt(K-ee-1);)I++,ee++;if(se[W]=I,I>R)ke+=2;else if(ee>K)we+=2;else if(!re){var ae;if((ge=D+he-k)>=0&&ge<Z&&le[ge]!=-1&&(z=D+(ae=le[ge])-ge,ae>=(I=R-I)))return g(G,X,ae,z)}}}return[[T,G],[1,X]]}(d,b)}(o=o.substring(0,o.length-r),i=i.substring(0,i.length-r));return n&&s.unshift([0,n]),t&&s.push([0,t]),f(s),e!=null&&(s=function(d,b){var E=function(H,F){if(F===0)return[0,H];for(var Y=0,j=0;j<H.length;j++){var J=H[j];if(J[0]===T||J[0]===0){var Q=Y+J[1].length;if(F===Q)return[j+1,H];if(F<Q){H=H.slice();var G=F-Y,X=[J[0],J[1].slice(0,G)],R=[J[0],J[1].slice(G)];return H.splice(j,1,X,R),[j+1,H]}Y=Q}}throw new Error("cursor_pos is out of bounds!")}(d,b),A=E[1],S=E[0],L=A[S],O=A[S+1];if(L==null||L[0]!==0)return d;if(O!=null&&L[1]+O[1]===O[1]+L[1])return A.splice(S,2,O,L),m(A,S,2);if(O!=null&&O[1].indexOf(L[1])===0){A.splice(S,2,[O[0],L[1]],[0,L[1]]);var N=O[1].slice(L[1].length);return N.length>0&&A.splice(S+2,0,[O[0],N]),m(A,S,3)}return d}(s,e)),function(d){for(var b=!1,E=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},A=2;A<d.length;A+=1)d[A-2][0]===0&&(S=d[A-2][1]).charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319&&d[A-1][0]===T&&E(d[A-1][1])&&d[A][0]===1&&E(d[A][1])&&(b=!0,d[A-1][1]=d[A-2][1].slice(-1)+d[A-1][1],d[A][1]=d[A-2][1].slice(-1)+d[A][1],d[A-2][1]=d[A-2][1].slice(0,-1));var S;if(!b)return d;var L=[];for(A=0;A<d.length;A+=1)d[A][1].length>0&&L.push(d[A]);return L}(s)}function g(o,i,e,r){var n=o.substring(0,e),t=i.substring(0,r),s=o.substring(e),d=i.substring(r),b=C(n,t),E=C(s,d);return b.concat(E)}function p(o,i){if(!o||!i||o.charAt(0)!=i.charAt(0))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,t=0;e<n;)o.substring(t,n)==i.substring(t,n)?t=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function h(o,i){if(!o||!i||o.charAt(o.length-1)!=i.charAt(i.length-1))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,t=0;e<n;)o.substring(o.length-n,o.length-t)==i.substring(i.length-n,i.length-t)?t=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function f(o){o.push([0,""]);for(var i,e=0,r=0,n=0,t="",s="";e<o.length;)switch(o[e][0]){case 1:n++,s+=o[e][1],e++;break;case T:r++,t+=o[e][1],e++;break;case 0:r+n>1?(r!==0&&n!==0&&((i=p(s,t))!==0&&(e-r-n>0&&o[e-r-n-1][0]==0?o[e-r-n-1][1]+=s.substring(0,i):(o.splice(0,0,[0,s.substring(0,i)]),e++),s=s.substring(i),t=t.substring(i)),(i=h(s,t))!==0&&(o[e][1]=s.substring(s.length-i)+o[e][1],s=s.substring(0,s.length-i),t=t.substring(0,t.length-i))),r===0?o.splice(e-n,r+n,[1,s]):n===0?o.splice(e-r,r+n,[T,t]):o.splice(e-r-n,r+n,[T,t],[1,s]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&o[e-1][0]==0?(o[e-1][1]+=o[e][1],o.splice(e,1)):e++,n=0,r=0,t="",s=""}o[o.length-1][1]===""&&o.pop();var d=!1;for(e=1;e<o.length-1;)o[e-1][0]==0&&o[e+1][0]==0&&(o[e][1].substring(o[e][1].length-o[e-1][1].length)==o[e-1][1]?(o[e][1]=o[e-1][1]+o[e][1].substring(0,o[e][1].length-o[e-1][1].length),o[e+1][1]=o[e-1][1]+o[e+1][1],o.splice(e-1,1),d=!0):o[e][1].substring(0,o[e+1][1].length)==o[e+1][1]&&(o[e-1][1]+=o[e+1][1],o[e][1]=o[e][1].substring(o[e+1][1].length)+o[e+1][1],o.splice(e+1,1),d=!0)),e++;d&&f(o)}var w=C;function m(o,i,e){for(var r=i+e-1;r>=0&&r>=i-1;r--)if(r+1<o.length){var n=o[r],t=o[r+1];n[0]===t[1]&&o.splice(r,2,[n[0],n[1]+t[1]])}return o}w.INSERT=1,w.DELETE=T,w.EQUAL=0,ne.exports=w},7648:function(ne){"use strict";var T="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,g=Object.prototype.toString,p="[object Function]";ne.exports=function(h){var f=this;if(typeof f!="function"||g.call(f)!==p)throw new TypeError(T+f);for(var w,m=C.call(arguments,1),o=function(){if(this instanceof w){var s=f.apply(this,m.concat(C.call(arguments)));return Object(s)===s?s:this}return f.apply(h,m.concat(C.call(arguments)))},i=Math.max(0,f.length-m.length),e=[],r=0;r<i;r++)e.push("$"+r);if(w=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this,arguments); }")(o),f.prototype){var n=function(){};n.prototype=f.prototype,w.prototype=new n,n.prototype=null}return w}},8612:function(ne,T,C){"use strict";var g=C(7648);ne.exports=Function.prototype.bind||g},5972:function(ne){"use strict";var T=function(){return typeof function(){}.name=="string"},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch(p){C=null}T.functionsHaveConfigurableNames=function(){if(!T()||!C)return!1;var p=C(function(){},"name");return!!p&&!!p.configurable};var g=Function.prototype.bind;T.boundFunctionsHaveNames=function(){return T()&&typeof g=="function"&&function(){}.bind().name!==""},ne.exports=T},210:function(ne,T,C){"use strict";var g,p=SyntaxError,h=Function,f=TypeError,w=function(Q){try{return h('"use strict"; return ('+Q+").constructor;")()}catch(G){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(J){m=null}var o=function(){throw new f},i=m?function(){try{return o}catch(J){try{return m(arguments,"callee").get}catch(Q){return o}}}():o,e=C(1405)(),r=Object.getPrototypeOf||function(J){return J.__proto__},n={},t=typeof Uint8Array=="undefined"?g:r(Uint8Array),s={"%AggregateError%":typeof AggregateError=="undefined"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?g:ArrayBuffer,"%ArrayIteratorPrototype%":e?r([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics=="undefined"?g:Atomics,"%BigInt%":typeof BigInt=="undefined"?g:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?g:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?g:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array=="undefined"?g:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?g:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e?r(r([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map=="undefined"?g:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&e?r(new Map()[Symbol.iterator]()):g,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?g:Promise,"%Proxy%":typeof Proxy=="undefined"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?g:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&e?r(new Set()[Symbol.iterator]()):g,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e?r(""[Symbol.iterator]()):g,"%Symbol%":e?Symbol:g,"%SyntaxError%":p,"%ThrowTypeError%":i,"%TypedArray%":t,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array=="undefined"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?g:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?g:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?g:WeakSet},d=function J(Q){var G;if(Q==="%AsyncFunction%")G=w("async function () {}");else if(Q==="%GeneratorFunction%")G=w("function* () {}");else if(Q==="%AsyncGeneratorFunction%")G=w("async function* () {}");else if(Q==="%AsyncGenerator%"){var X=J("%AsyncGeneratorFunction%");X&&(G=X.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var R=J("%AsyncGenerator%");R&&(G=r(R.prototype))}return s[Q]=G,G},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=C(8612),A=C(7642),S=E.call(Function.call,Array.prototype.concat),L=E.call(Function.apply,Array.prototype.splice),O=E.call(Function.call,String.prototype.replace),N=E.call(Function.call,String.prototype.slice),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,Y=function(Q){var G=N(Q,0,1),X=N(Q,-1);if(G==="%"&&X!=="%")throw new p("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&G!=="%")throw new p("invalid intrinsic syntax, expected opening `%`");var R=[];return O(Q,H,function(K,q,D,Z){R[R.length]=D?O(Z,F,"$1"):q||K}),R},j=function(Q,G){var X,R=Q;if(A(b,R)&&(R="%"+(X=b[R])[0]+"%"),A(s,R)){var K=s[R];if(K===n&&(K=d(R)),K===void 0&&!G)throw new f("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:X,name:R,value:K}}throw new p("intrinsic "+Q+" does not exist!")};ne.exports=function(J,Q){if(typeof J!="string"||J.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Q!="boolean")throw new f('"allowMissing" argument must be a boolean');var G=Y(J),X=G.length>0?G[0]:"",R=j("%"+X+"%",Q),K=R.name,q=R.value,D=!1,Z=R.alias;Z&&(X=Z[0],L(G,S([0,1],Z)));for(var le=1,se=!0;le<G.length;le+=1){var fe=G[le],he=N(fe,0,1),re=N(fe,-1);if((he==='"'||he==="'"||he==="`"||re==='"'||re==="'"||re==="`")&&he!==re)throw new p("property names with quotes must have matching quotes");if(fe!=="constructor"&&se||(D=!0),A(s,K="%"+(X+="."+fe)+"%"))q=s[K];else if(q!=null){if(!(fe in q)){if(!Q)throw new f("base intrinsic for "+J+" exists, but the property is not available.");return}if(m&&le+1>=G.length){var ce=m(q,fe);q=(se=!!ce)&&"get"in ce&&!("originalValue"in ce.get)?ce.get:q[fe]}else se=A(q,fe),q=q[fe];se&&!D&&(s[K]=q)}}return q}},1405:function(ne,T,C){"use strict";var g=typeof Symbol!="undefined"&&Symbol,p=C(5419);ne.exports=function(){return typeof g=="function"&&typeof Symbol=="function"&&typeof g("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&p()}},5419:function(ne){"use strict";ne.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var T={},C=Symbol("test"),g=Object(C);if(typeof C=="string"||Object.prototype.toString.call(C)!=="[object Symbol]"||Object.prototype.toString.call(g)!=="[object Symbol]")return!1;for(C in T[C]=42,T)return!1;if(typeof Object.keys=="function"&&Object.keys(T).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(T).length!==0)return!1;var p=Object.getOwnPropertySymbols(T);if(p.length!==1||p[0]!==C||!Object.prototype.propertyIsEnumerable.call(T,C))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(T,C);if(h.value!==42||h.enumerable!==!0)return!1}return!0}},7642:function(ne,T,C){"use strict";var g=C(8612);ne.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},2584:function(ne,T,C){"use strict";var g=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",p=C(1924)("Object.prototype.toString"),h=function(o){return!(g&&o&&typeof o=="object"&&Symbol.toStringTag in o)&&p(o)==="[object Arguments]"},f=function(o){return!!h(o)||o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&p(o)!=="[object Array]"&&p(o.callee)==="[object Function]"},w=function(){return h(arguments)}();h.isLegacyArguments=f,ne.exports=w?h:f},8923:function(ne){"use strict";var T=Date.prototype.getDay,C=Object.prototype.toString,g=typeof Symbol=="function"&&!!Symbol.toStringTag;ne.exports=function(p){return typeof p=="object"&&p!==null&&(g?function(h){try{return T.call(h),!0}catch(f){return!1}}(p):C.call(p)==="[object Date]")}},8420:function(ne,T,C){"use strict";var g,p,h,f,w=C(1924),m=C(5419)()&&!!Symbol.toStringTag;if(m){g=w("Object.prototype.hasOwnProperty"),p=w("RegExp.prototype.exec"),h={};var o=function(){throw h};f={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(f[Symbol.toPrimitive]=o)}var i=w("Object.prototype.toString"),e=Object.getOwnPropertyDescriptor;ne.exports=m?function(r){if(!r||typeof r!="object")return!1;var n=e(r,"lastIndex");if(!n||!g(n,"value"))return!1;try{p(r,f)}catch(t){return t===h}}:function(r){return!(!r||typeof r!="object"&&typeof r!="function")&&i(r)==="[object RegExp]"}},5961:function(ne,T,C){"use strict";var g=r(C(2289)),p=r(C(2276)),h=r(C(5443)),f=r(C(7044)),w=r(C(9972)),m=r(C(5065)),o=r(C(8532)),i=C(2362),e=r(C(6025));function r(S){return S&&S.__esModule?S:{default:S}}var n=function(){},t=function(L,O,N){var H=new n;if(L===void 0)throw Error("No element to render on was provided.");return H._renderProperties=(0,w.default)(L),H._encodings=[],H._options=e.default,H._errorHandler=new o.default(H),O!==void 0&&((N=N||{}).format||(N.format=E()),H.options(N)[N.format](O,N).render()),H};for(var s in t.getModule=function(S){return g.default[S]},g.default)g.default.hasOwnProperty(s)&&d(g.default,s);function d(S,L){n.prototype[L]=n.prototype[L.toUpperCase()]=n.prototype[L.toLowerCase()]=function(O,N){var H=this;return H._errorHandler.wrapBarcodeCall(function(){N.text=N.text===void 0?void 0:""+N.text;var F=(0,p.default)(H._options,N);F=(0,m.default)(F);var Y=S[L],j=b(O,Y,F);return H._encodings.push(j),H})}}function b(S,L,O){var N=new L(S=""+S,O);if(!N.valid())throw new i.InvalidInputException(N.constructor.name,S);var H=N.encode();H=(0,h.default)(H);for(var F=0;F<H.length;F++)H[F].options=(0,p.default)(O,H[F].options);return H}function E(){return g.default.CODE128?"CODE128":Object.keys(g.default)[0]}function A(S,L,O){L=(0,h.default)(L);for(var N=0;N<L.length;N++)L[N].options=(0,p.default)(O,L[N].options),(0,f.default)(L[N].options);(0,f.default)(O),new S.renderer(S.element,L,O).render(),S.afterRender&&S.afterRender()}n.prototype.options=function(S){return this._options=(0,p.default)(this._options,S),this},n.prototype.blank=function(S){var L=new Array(S+1).join("0");return this._encodings.push({data:L}),this},n.prototype.init=function(){var S;if(this._renderProperties)for(var L in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){S=this._renderProperties[L];var O=(0,p.default)(this._options,S.options);O.format=="auto"&&(O.format=E()),this._errorHandler.wrapBarcodeCall(function(){var N=b(O.value,g.default[O.format.toUpperCase()],O);A(S,N,O)})}},n.prototype.render=function(){if(!this._renderProperties)throw new i.NoElementException;if(Array.isArray(this._renderProperties))for(var S=0;S<this._renderProperties.length;S++)A(this._renderProperties[S],this._encodings,this._options);else A(this._renderProperties,this._encodings,this._options);return this},n.prototype._defaults=e.default,typeof window!="undefined"&&(window.JsBarcode=t),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(S,L){var O=[];return jQuery(this).each(function(){O.push(this)}),t(O,S,L)}),ne.exports=t},8012:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function C(g,p){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,C),this.data=g,this.text=p.text||g,this.options=p}},2089:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=(g=C(8012))&&g.__esModule?g:{default:g},f=C(4602),w=function(m){function o(i,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i.substring(1),e));return r.bytes=i.split("").map(function(n){return n.charCodeAt(0)}),r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),p(o,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=f.SET_BY_CODE[r];if(n===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&e.unshift(f.FNC1);var t=o.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:o.getBar(r)+t.result+o.getBar((t.checksum+r)%f.MODULO)+o.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return typeof e=="string"&&(e=e.toLowerCase()==="true"),e}}],[{key:"getBar",value:function(e){return f.BARS[e]?f.BARS[e].toString():""}},{key:"correctIndex",value:function(e,r){if(r===f.SET_A){var n=e.shift();return n<32?n+64:n-32}return r===f.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var t=void 0,s=void 0;if(e[0]>=200){s=e.shift()-105;var d=f.SWAP[s];d!==void 0?t=o.next(e,r+1,d):(n!==f.SET_A&&n!==f.SET_B||s!==f.SHIFT||(e[0]=n===f.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),t=o.next(e,r+1,n))}else s=o.correctIndex(e,n),t=o.next(e,r+1,n);var b=s*r;return{result:o.getBar(s)+t.result,checksum:b+t.checksum}}}]),o}(h.default);T.default=w},8238:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=(g=C(2089))&&g.__esModule?g:{default:g},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.A_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),p(o,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),o}(h.default);T.default=w},1180:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=(g=C(2089))&&g.__esModule?g:{default:g},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.B_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),p(o,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),o}(h.default);T.default=w},944:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=(g=C(2089))&&g.__esModule?g:{default:g},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.C_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),p(o,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),o}(h.default);T.default=w},8845:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=h(C(2089)),p=h(C(7293));function h(m){return m&&m.__esModule?m:{default:m}}function f(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}var w=function(m){function o(i,e){if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,(0,p.default)(i),e));else r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return f(r)}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),o}(g.default);T.default=w},7293:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=C(4602),p=function(i){return i.match(new RegExp("^"+g.A_CHARS+"*"))[0].length},h=function(i){return i.match(new RegExp("^"+g.B_CHARS+"*"))[0].length},f=function(i){return i.match(new RegExp("^"+g.C_CHARS+"*"))[0]};function w(o,i){var e=i?g.A_CHARS:g.B_CHARS,r=o.match(new RegExp("^("+e+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+m(o.substring(r[1].length));var n=o.match(new RegExp("^"+e+"+"))[0];return n.length===o.length?o:n+String.fromCharCode(i?205:206)+w(o.substring(n.length),!i)}function m(o){var i=f(o),e=i.length;if(e===o.length)return o;o=o.substring(e);var r=p(o)>=h(o);return i+String.fromCharCode(r?206:205)+w(o,r)}T.default=function(o){var i=void 0;if(f(o).length>=2)i=g.C_START_CHAR+m(o);else{var e=p(o)>h(o);i=(e?g.A_START_CHAR:g.B_START_CHAR)+w(o,e)}return i.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,n){return String.fromCharCode(203)+n})}},4602:function(ne,T){"use strict";var C;function g(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}Object.defineProperty(T,"__esModule",{value:!0});var p=T.SET_A=0,h=T.SET_B=1,f=T.SET_C=2,w=(T.SHIFT=98,T.START_A=103),m=T.START_B=104,o=T.START_C=105;T.MODULO=103,T.STOP=106,T.FNC1=207,T.SET_BY_CODE=(g(C={},w,p),g(C,m,h),g(C,o,f),C),T.SWAP={101:p,100:h,99:f},T.A_START_CHAR=String.fromCharCode(208),T.B_START_CHAR=String.fromCharCode(209),T.C_START_CHAR=String.fromCharCode(210),T.A_CHARS="[\0-_\xC8-\xCF]",T.B_CHARS="[ -\x7F\xC8-\xCF]",T.C_CHARS="(\xCF*[0-9]{2}\xCF*)",T.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},4935:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CODE128C=T.CODE128B=T.CODE128A=T.CODE128=void 0;var g=w(C(8845)),p=w(C(8238)),h=w(C(1180)),f=w(C(944));function w(m){return m&&m.__esModule?m:{default:m}}T.CODE128=g.default,T.CODE128A=p.default,T.CODE128B=h.default,T.CODE128C=f.default},3361:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CODE39=void 0;var g,p=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),h=function(i){function e(r,n){return function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this,e),r=r.toUpperCase(),n.mod43&&(r+=function(t){return f[t]}(function(t){for(var s=0,d=0;d<t.length;d++)s+=o(t[d]);return s%43}(r))),function(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?t:s}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),p(e,[{key:"encode",value:function(){for(var n=m("*"),t=0;t<this.data.length;t++)n+=m(this.data[t])+"0";return{data:n+=m("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(((g=C(8012))&&g.__esModule?g:{default:g}).default),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],w=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(i){return function(e){return w[e].toString(2)}(o(i))}function o(i){return f.indexOf(i)}T.CODE39=h},6454:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=C(1239),h=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.fontSize=!e.flat&&e.fontSize>10*e.width?10*e.width:e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),g(o,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,r){return this.text.substr(e,r)}},{key:"leftEncode",value:function(e,r){return(0,h.default)(e,r)}},{key:"rightText",value:function(e,r){return this.text.substr(e,r)}},{key:"rightEncode",value:function(e,r){return(0,h.default)(e,r)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:p.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:e},{data:p.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:e},{data:p.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){return{data:[p.SIDE_BIN,this.leftEncode(),p.MIDDLE_BIN,this.rightEncode(),p.SIDE_BIN].join(""),text:this.text}}}]),o}(f(C(8012)).default);T.default=w},23:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),h=function i(e,r,n){e===null&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,r);if(t===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:i(s,r,n)}if("value"in t)return t.value;var d=t.get;return d!==void 0?d.call(n):void 0},f=C(1239),w=(g=C(6454))&&g.__esModule?g:{default:g},m=function(e){return(10-e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,n,t){return t%2?r+3*n:r+n},0)%10)%10},o=function(i){function e(r,n){(function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=m(r));var t=function(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return t.lastChar=n.lastChar,t}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),p(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),t=f.EAN13_STRUCTURE[this.data[0]];return h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,t)}},{key:"rightText",value:function(){return h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(w.default);T.default=o},6552:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=C(1239),h=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),g(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var e=p.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,h.default)(this.data,e,"01"),text:this.text}}}]),o}(f(C(8012)).default);T.default=w},9668:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=C(1239),h=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),g(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var e,r=p.EAN5_STRUCTURE[e=this.data,e.split("").map(function(n){return+n}).reduce(function(n,t,s){return s%2?n+9*t:n+3*t},0)%10];return{data:"1011"+(0,h.default)(this.data,r,"01"),text:this.text}}}]),o}(f(C(8012)).default);T.default=w},5218:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),h=function o(i,e,r){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(n===void 0){var t=Object.getPrototypeOf(i);return t===null?void 0:o(t,e,r)}if("value"in n)return n.value;var s=n.get;return s!==void 0?s.call(r):void 0},f=(g=C(6454))&&g.__esModule?g:{default:g},w=function(i){return(10-i.substr(0,7).split("").map(function(e){return+e}).reduce(function(e,r,n){return n%2?e+r:e+3*r},0)%10)%10},m=function(o){function i(e,r){return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e.search(/^[0-9]{7}$/)!==-1&&(e+=w(e)),function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,r))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),p(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===w(this.data)}},{key:"leftText",value:function(){return h(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return h(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return h(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return h(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),i}(f.default);T.default=m},5314:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}();T.checksum=w;var p=h(C(5532));function h(m){return m&&m.__esModule?m:{default:m}}var f=function(m){function o(i,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),i.search(/^[0-9]{11}$/)!==-1&&(i+=w(i));var r=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.displayValue=e.displayValue,e.fontSize>10*e.width?r.fontSize=10*e.width:r.fontSize=e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),g(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==w(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,p.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,p.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,p.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,p.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,p.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,p.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),o}(h(C(8012)).default);function w(m){var o,i=0;for(o=1;o<11;o+=2)i+=parseInt(m[o]);for(o=0;o<11;o+=2)i+=3*parseInt(m[o]);return(10-i%10)%10}T.default=f},930:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=function(){function n(t,s){for(var d=0;d<s.length;d++){var b=s[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(t,b.key,b)}}return function(t,s,d){return s&&n(t.prototype,s),d&&n(t,d),t}}(),p=w(C(5532)),h=w(C(8012)),f=C(5314);function w(n){return n&&n.__esModule?n:{default:n}}function m(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}var o=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],i=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],e=function(n){function t(s,d){(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,t);var b=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s,d));if(b.isValid=!1,s.search(/^[0-9]{6}$/)!==-1)b.middleDigits=s,b.upcA=r(s,"0"),b.text=d.text||""+b.upcA[0]+s+b.upcA[b.upcA.length-1],b.isValid=!0;else{if(s.search(/^[01][0-9]{7}$/)===-1||(b.middleDigits=s.substring(1,s.length-1),b.upcA=r(b.middleDigits,s[0]),b.upcA[b.upcA.length-1]!==s[s.length-1]))return m(b);b.isValid=!0}return b.displayValue=d.displayValue,d.fontSize>10*d.width?b.fontSize=10*d.width:b.fontSize=d.fontSize,b.guardHeight=d.height+b.fontSize/2+d.textMargin,b}return function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(s,d):s.__proto__=d)}(t,n),g(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=this.encodeMiddleDigits(),{data:d+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101",options:{height:this.guardHeight}}),d.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),d.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),d}},{key:"encodeMiddleDigits",value:function(){var d=this.upcA[0],b=this.upcA[this.upcA.length-1],E=i[parseInt(b)][parseInt(d)];return(0,p.default)(this.middleDigits,E)}}]),t}(h.default);function r(n,t){for(var s=parseInt(n[n.length-1]),d=o[s],b="",E=0,A=0;A<d.length;A++){var S=d[A];b+=S==="X"?n[E++]:S}return(b=""+t+b)+(0,f.checksum)(b)}T.default=e},1239:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SIDE_BIN="101",T.MIDDLE_BIN="01010",T.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},T.EAN2_STRUCTURE=["LL","LG","GL","GG"],T.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],T.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},5532:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=C(1239);T.default=function(p,h,f){var w=p.split("").map(function(o,i){return g.BINARIES[h[i]]}).map(function(o,i){return o?o[p[i]]:""});if(f){var m=p.length-1;w=w.map(function(o,i){return i<m?o+f:o})}return w.join("")}},5321:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UPCE=T.UPC=T.EAN2=T.EAN5=T.EAN8=T.EAN13=void 0;var g=o(C(23)),p=o(C(5218)),h=o(C(9668)),f=o(C(6552)),w=o(C(5314)),m=o(C(930));function o(i){return i&&i.__esModule?i:{default:i}}T.EAN13=g.default,T.EAN8=p.default,T.EAN5=h.default,T.EAN2=f.default,T.UPC=w.default,T.UPCE=m.default},6447:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.GenericBarcode=void 0;var g,p=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),h=function(f){function w(m,o){return function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o))}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),p(w,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),w}(((g=C(8012))&&g.__esModule?g:{default:g}).default);T.GenericBarcode=h},3074:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),h=C(4477);function f(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function w(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?o:i}var m=function(o){function i(){return f(this,i),w(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),p(i,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,n=this.data.match(/.{2}/g).map(function(t){return r.encodePair(t)}).join("");return{data:h.START_BIN+n+h.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var n=h.BINARIES[r[1]];return h.BINARIES[r[0]].split("").map(function(t,s){return(t==="1"?"111":"1")+(n[s]==="1"?"000":"0")}).join("")}}]),i}(((g=C(8012))&&g.__esModule?g:{default:g}).default);T.default=m},6972:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=(g=C(3074))&&g.__esModule?g:{default:g},f=function(o){var i=o.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,r,n){return e+r*(3-n%2*2)},0);return 10*Math.ceil(i/10)-i},w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),i.search(/^[0-9]{13}$/)!==-1&&(i+=f(i)),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),p(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),o}(h.default);T.default=w},4477:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.START_BIN="1010",T.END_BIN="11101",T.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5984:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ITF14=T.ITF=void 0;var g=h(C(3074)),p=h(C(6972));function h(f){return f&&f.__esModule?f:{default:f}}T.ITF=g.default,T.ITF14=p.default},2582:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function w(m,o){for(var i=0;i<o.length;i++){var e=o[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,o,i){return o&&w(m.prototype,o),i&&w(m,i),m}}(),h=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),p(m,[{key:"encode",value:function(){for(var i="110",e=0;e<this.data.length;e++){var r=parseInt(this.data[e]).toString(2);r=f(r,4-r.length);for(var n=0;n<r.length;n++)i+=r[n]=="0"?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(((g=C(8012))&&g.__esModule?g:{default:g}).default);function f(w,m){for(var o=0;o<m;o++)w="0"+w;return w}T.default=h},7839:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=(g=C(2582))&&g.__esModule?g:{default:g},h=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,h.mod10)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(p.default);T.default=f},8035:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=(g=C(2582))&&g.__esModule?g:{default:g},h=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,h.mod10)(o),o+=(0,h.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(p.default);T.default=f},5883:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=(g=C(2582))&&g.__esModule?g:{default:g},h=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,h.mod11)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(p.default);T.default=f},6287:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=(g=C(2582))&&g.__esModule?g:{default:g},h=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,h.mod11)(o),o+=(0,h.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(p.default);T.default=f},4348:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.mod10=function(C){for(var g=0,p=0;p<C.length;p++){var h=parseInt(C[p]);(p+C.length)%2==0?g+=h:g+=2*h%10+Math.floor(2*h/10)}return(10-g%10)%10},T.mod11=function(C){for(var g=0,p=[2,3,4,5,6,7],h=0;h<C.length;h++){var f=parseInt(C[C.length-1-h]);g+=p[h%p.length]*f}return(11-g%11)%11}},8458:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.MSI1110=T.MSI1010=T.MSI11=T.MSI10=T.MSI=void 0;var g=m(C(2582)),p=m(C(7839)),h=m(C(5883)),f=m(C(8035)),w=m(C(6287));function m(o){return o&&o.__esModule?o:{default:o}}T.MSI=g.default,T.MSI10=p.default,T.MSI11=h.default,T.MSI1010=f.default,T.MSI1110=w.default},123:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.codabar=void 0;var g,p=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),h=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m.toUpperCase(),o));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),p(w,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var o=[],i=this.getEncodings(),e=0;e<this.data.length;e++)o.push(i[this.data.charAt(e)]),e!==this.data.length-1&&o.push("0");return{text:this.text,data:o.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),w}(((g=C(8012))&&g.__esModule?g:{default:g}).default);T.codabar=h},2289:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=C(3361),p=C(4935),h=C(5321),f=C(5984),w=C(8458),m=C(3840),o=C(123),i=C(6447);T.default={CODE39:g.CODE39,CODE128:p.CODE128,CODE128A:p.CODE128A,CODE128B:p.CODE128B,CODE128C:p.CODE128C,EAN13:h.EAN13,EAN8:h.EAN8,EAN5:h.EAN5,EAN2:h.EAN2,UPC:h.UPC,UPCE:h.UPCE,ITF14:f.ITF14,ITF:f.ITF,MSI:w.MSI,MSI10:w.MSI10,MSI11:w.MSI11,MSI1010:w.MSI1010,MSI1110:w.MSI1110,pharmacode:m.pharmacode,codabar:o.codabar,GenericBarcode:i.GenericBarcode}},3840:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.pharmacode=void 0;var g,p=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),h=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w);var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o));return i.number=parseInt(m,10),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),p(w,[{key:"encode",value:function(){for(var o=this.number,i="";!isNaN(o)&&o!=0;)o%2==0?(i="11100"+i,o=(o-2)/2):(i="100"+i,o=(o-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),w}(((g=C(8012))&&g.__esModule?g:{default:g}).default);T.pharmacode=h},8532:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var C=function(){function p(h,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,f,w){return f&&p(h.prototype,f),w&&p(h,w),h}}(),g=function(){function p(h){(function(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")})(this,p),this.api=h}return C(p,[{key:"handleCatch",value:function(f){if(f.name!=="InvalidInputException")throw f;if(this.api._options.valid===this.api._defaults.valid)throw f.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(f){try{var w=f.apply(void 0,arguments);return this.api._options.valid(!0),w}catch(m){return this.handleCatch(m),this.api}}}]),p}();T.default=g},2362:function(ne,T){"use strict";function C(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}function g(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}function p(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}Object.defineProperty(T,"__esModule",{value:!0});var h=function(m){function o(i,e){C(this,o);var r=g(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=e,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return p(o,Error),o}(),f=function(m){function o(){C(this,o);var i=g(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return p(o,Error),o}(),w=function(m){function o(){C(this,o);var i=g(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return p(o,Error),o}();T.InvalidInputException=h,T.InvalidElementException=f,T.NoElementException=w},7044:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(C){return C.marginTop=C.marginTop||C.margin,C.marginBottom=C.marginBottom||C.margin,C.marginRight=C.marginRight||C.margin,C.marginLeft=C.marginLeft||C.margin,C}},3898:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=h(C(5065)),p=h(C(6025));function h(f){return f&&f.__esModule?f:{default:f}}T.default=function(f){var w={};for(var m in p.default)p.default.hasOwnProperty(m)&&(f.hasAttribute("jsbarcode-"+m.toLowerCase())&&(w[m]=f.getAttribute("jsbarcode-"+m.toLowerCase())),f.hasAttribute("data-"+m.toLowerCase())&&(w[m]=f.getAttribute("data-"+m.toLowerCase())));return w.value=f.getAttribute("jsbarcode-value")||f.getAttribute("data-value"),(0,g.default)(w)}},9972:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},p=w(C(3898)),h=w(C(2804)),f=C(2362);function w(m){return m&&m.__esModule?m:{default:m}}T.default=function m(o){if(typeof o=="string")return function(t){var s=document.querySelectorAll(t);if(s.length!==0){for(var d=[],b=0;b<s.length;b++)d.push(m(s[b]));return d}}(o);if(Array.isArray(o)){for(var i=[],e=0;e<o.length;e++)i.push(m(o[e]));return i}if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLImageElement)return r=o,{element:n=document.createElement("canvas"),options:(0,p.default)(r),renderer:h.default.CanvasRenderer,afterRender:function(){r.setAttribute("src",n.toDataURL())}};if(o&&o.nodeName&&o.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&o instanceof SVGElement)return{element:o,options:(0,p.default)(o),renderer:h.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLCanvasElement)return{element:o,options:(0,p.default)(o),renderer:h.default.CanvasRenderer};if(o&&o.getContext)return{element:o,renderer:h.default.CanvasRenderer};if(o&&(o===void 0?"undefined":g(o))==="object"&&!o.nodeName)return{element:o,renderer:h.default.ObjectRenderer};throw new f.InvalidElementException;var r,n}},5443:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(C){var g=[];return function p(h){if(Array.isArray(h))for(var f=0;f<h.length;f++)p(h[f]);else h.text=h.text||"",h.data=h.data||"",g.push(h)}(C),g}},2276:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var C=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g[f]=h[f])}return g};T.default=function(g,p){return C({},g,p)}},5065:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(C){var g=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var p in g)g.hasOwnProperty(p)&&typeof C[p=g[p]]=="string"&&(C[p]=parseInt(C[p],10));return typeof C.displayValue=="string"&&(C.displayValue=C.displayValue!="false"),C}},6025:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8204:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=(g=C(2276))&&g.__esModule?g:{default:g},f=C(7899),w=function(){function m(o,i,e){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.canvas=o,this.encodings=i,this.options=e}return p(m,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var e=(0,h.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(e,this.encodings[i]),this.drawCanvasText(e,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,f.calculateEncodingAttributes)(this.encodings,this.options,i);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,e){var r,n=this.canvas.getContext("2d"),t=e.data;r=i.textPosition=="top"?i.marginTop+i.fontSize+i.textMargin:i.marginTop,n.fillStyle=i.lineColor;for(var s=0;s<t.length;s++){var d=s*i.width+e.barcodePadding;t[s]==="1"?n.fillRect(d,r,i.width,i.height):t[s]&&n.fillRect(d,r,i.width,i.height*t[s])}}},{key:"drawCanvasText",value:function(i,e){var r,n,t=this.canvas.getContext("2d"),s=i.fontOptions+" "+i.fontSize+"px "+i.font;i.displayValue&&(n=i.textPosition=="top"?i.marginTop+i.fontSize-i.textMargin:i.height+i.textMargin+i.marginTop+i.fontSize,t.font=s,i.textAlign=="left"||e.barcodePadding>0?(r=0,t.textAlign="left"):i.textAlign=="right"?(r=e.width-1,t.textAlign="right"):(r=e.width/2,t.textAlign="center"),t.fillText(e.text,r,n))}},{key:"moveCanvasDrawing",value:function(i){this.canvas.getContext("2d").translate(i.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),m}();T.default=w},2804:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=f(C(8204)),p=f(C(6917)),h=f(C(8652));function f(w){return w&&w.__esModule?w:{default:w}}T.default={CanvasRenderer:g.default,SVGRenderer:p.default,ObjectRenderer:h.default}},8652:function(ne,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var C=function(){function p(h,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,f,w){return f&&p(h.prototype,f),w&&p(h,w),h}}(),g=function(){function p(h,f,w){(function(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")})(this,p),this.object=h,this.encodings=f,this.options=w}return C(p,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),p}();T.default=g},7899:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.getTotalWidthOfEncodings=T.calculateEncodingAttributes=T.getBarcodePadding=T.getEncodingHeight=T.getMaximumHeightOfEncodings=void 0;var g,p=(g=C(2276))&&g.__esModule?g:{default:g};function h(m,o){return o.height+(o.displayValue&&m.text.length>0?o.fontSize+o.textMargin:0)+o.marginTop+o.marginBottom}function f(m,o,i){if(i.displayValue&&o<m){if(i.textAlign=="center")return Math.floor((m-o)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(m-o)}return 0}function w(m,o,i){var e;if(i)e=i;else{if(typeof document=="undefined")return 0;e=document.createElement("canvas").getContext("2d")}e.font=o.fontOptions+" "+o.fontSize+"px "+o.font;var r=e.measureText(m);return r?r.width:0}T.getMaximumHeightOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)m[i].height>o&&(o=m[i].height);return o},T.getEncodingHeight=h,T.getBarcodePadding=f,T.calculateEncodingAttributes=function(m,o,i){for(var e=0;e<m.length;e++){var r,n=m[e],t=(0,p.default)(o,n.options);r=t.displayValue?w(n.text,t,i):0;var s=n.data.length*t.width;n.width=Math.ceil(Math.max(r,s)),n.height=h(n,t),n.barcodePadding=f(r,s,t)}},T.getTotalWidthOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)o+=m[i].width;return o}},6917:function(ne,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g,p=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),h=(g=C(2276))&&g.__esModule?g:{default:g},f=C(7899),w="http://www.w3.org/2000/svg",m=function(){function o(i,e,r){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this.svg=i,this.encodings=e,this.options=r,this.document=r.xmlDocument||document}return p(o,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var n=this.encodings[r],t=(0,h.default)(this.options,n.options),s=this.createGroup(e,t.marginTop,this.svg);this.setGroupOptions(s,t),this.drawSvgBarcode(s,t,n),this.drawSVGText(s,t,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,r),this.options.background&&this.drawRect(0,0,n,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,r,n){var t,s=n.data;t=r.textPosition=="top"?r.fontSize+r.textMargin:0;for(var d=0,b=0,E=0;E<s.length;E++)b=E*r.width+n.barcodePadding,s[E]==="1"?d++:d>0&&(this.drawRect(b-r.width*d,t,r.width*d,r.height,e),d=0);d>0&&this.drawRect(b-r.width*(d-1),t,r.width*d,r.height,e)}},{key:"drawSVGText",value:function(e,r,n){var t,s,d=this.document.createElementNS(w,"text");r.displayValue&&(d.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),s=r.textPosition=="top"?r.fontSize-r.textMargin:r.height+r.textMargin+r.fontSize,r.textAlign=="left"||n.barcodePadding>0?(t=0,d.setAttribute("text-anchor","start")):r.textAlign=="right"?(t=n.width-1,d.setAttribute("text-anchor","end")):(t=n.width/2,d.setAttribute("text-anchor","middle")),d.setAttribute("x",t),d.setAttribute("y",s),d.appendChild(this.document.createTextNode(n.text)),e.appendChild(d))}},{key:"setSvgAttributes",value:function(e,r){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",r+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+r),n.setAttribute("xmlns",w),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,r,n){var t=this.document.createElementNS(w,"g");return t.setAttribute("transform","translate("+e+", "+r+")"),n.appendChild(t),t}},{key:"setGroupOptions",value:function(e,r){e.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(e,r,n,t,s){var d=this.document.createElementNS(w,"rect");return d.setAttribute("x",e),d.setAttribute("y",r),d.setAttribute("width",n),d.setAttribute("height",t),s.appendChild(d),d}}]),o}();T.default=m},4244:function(ne){"use strict";var T=function(g){return g!=g};ne.exports=function(C,g){return C===0&&g===0?1/C==1/g:C===g||!(!T(C)||!T(g))}},609:function(ne,T,C){"use strict";var g=C(4289),p=C(5559),h=C(4244),f=C(5624),w=C(2281),m=p(f(),Object);g(m,{getPolyfill:f,implementation:h,shim:w}),ne.exports=m},5624:function(ne,T,C){"use strict";var g=C(4244);ne.exports=function(){return typeof Object.is=="function"?Object.is:g}},2281:function(ne,T,C){"use strict";var g=C(5624),p=C(4289);ne.exports=function(){var h=g();return p(Object,{is:h},{is:function(){return Object.is!==h}}),h}},8987:function(ne,T,C){"use strict";var g;if(!Object.keys){var p=Object.prototype.hasOwnProperty,h=Object.prototype.toString,f=C(1414),w=Object.prototype.propertyIsEnumerable,m=!w.call({toString:null},"toString"),o=w.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(s){var d=s.constructor;return d&&d.prototype===s},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window=="undefined")return!1;for(var t in window)try{if(!r["$"+t]&&p.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{e(window[t])}catch(s){return!0}}catch(s){return!0}return!1}();g=function(s){var d=s!==null&&typeof s=="object",b=h.call(s)==="[object Function]",E=f(s),A=d&&h.call(s)==="[object String]",S=[];if(!d&&!b&&!E)throw new TypeError("Object.keys called on a non-object");var L=o&&b;if(A&&s.length>0&&!p.call(s,0))for(var O=0;O<s.length;++O)S.push(String(O));if(E&&s.length>0)for(var N=0;N<s.length;++N)S.push(String(N));else for(var H in s)L&&H==="prototype"||!p.call(s,H)||S.push(String(H));if(m)for(var F=function(j){if(typeof window=="undefined"||!n)return e(j);try{return e(j)}catch(J){return!1}}(s),Y=0;Y<i.length;++Y)F&&i[Y]==="constructor"||!p.call(s,i[Y])||S.push(i[Y]);return S}}ne.exports=g},2215:function(ne,T,C){"use strict";var g=Array.prototype.slice,p=C(1414),h=Object.keys,f=h?function(m){return h(m)}:C(8987),w=Object.keys;f.shim=function(){if(Object.keys){var m=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);m||(Object.keys=function(o){return p(o)?w(g.call(o)):w(o)})}else Object.keys=f;return Object.keys||f},ne.exports=f},1414:function(ne){"use strict";var T=Object.prototype.toString;ne.exports=function(C){var g=T.call(C),p=g==="[object Arguments]";return p||(p=g!=="[object Array]"&&C!==null&&typeof C=="object"&&typeof C.length=="number"&&C.length>=0&&T.call(C.callee)==="[object Function]"),p}},2592:function(ne,T,C){var g=C(7138),p=C(5115),h=C(6907),f=C(3776);function w(m,o,i,e,r){var n=[].slice.call(arguments,1),t=n.length,s=typeof n[t-1]=="function";if(!s&&!g())throw new Error("Callback required as last argument");if(!s){if(t<1)throw new Error("Too few arguments provided");return t===1?(i=o,o=e=void 0):t!==2||o.getContext||(e=i,i=o,o=void 0),new Promise(function(b,E){try{var A=p.create(i,e);b(m(A,o,e))}catch(S){E(S)}})}if(t<2)throw new Error("Too few arguments provided");t===2?(r=i,i=o,o=e=void 0):t===3&&(o.getContext&&r===void 0?(r=e,e=void 0):(r=e,e=i,i=o,o=void 0));try{var d=p.create(i,e);r(null,m(d,o,e))}catch(b){r(b)}}T.create=p.create,T.toCanvas=w.bind(null,h.render),T.toDataURL=w.bind(null,h.renderToDataURL),T.toString=w.bind(null,function(m,o,i){return f.render(m,i)})},7138:function(ne){ne.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},1845:function(ne,T,C){var g=C(242).getSymbolSize;T.getRowColCoords=function(p){if(p===1)return[];for(var h=Math.floor(p/7)+2,f=g(p),w=f===145?26:2*Math.ceil((f-13)/(2*h-2)),m=[f-7],o=1;o<h-1;o++)m[o]=m[o-1]-w;return m.push(6),m.reverse()},T.getPositions=function(p){for(var h=[],f=T.getRowColCoords(p),w=f.length,m=0;m<w;m++)for(var o=0;o<w;o++)m===0&&o===0||m===0&&o===w-1||m===w-1&&o===0||h.push([f[m],f[o]]);return h}},8260:function(ne,T,C){var g=C(6910),p=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function h(f){this.mode=g.ALPHANUMERIC,this.data=f}h.getBitsLength=function(f){return 11*Math.floor(f/2)+f%2*6},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(f){var w;for(w=0;w+2<=this.data.length;w+=2){var m=45*p.indexOf(this.data[w]);m+=p.indexOf(this.data[w+1]),f.put(m,11)}this.data.length%2&&f.put(p.indexOf(this.data[w]),6)},ne.exports=h},7245:function(ne){function T(){this.buffer=[],this.length=0}T.prototype={get:function(g){var p=Math.floor(g/8);return(this.buffer[p]>>>7-g%8&1)==1},put:function(g,p){for(var h=0;h<p;h++)this.putBit((g>>>p-h-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(g){var p=Math.floor(this.length/8);this.buffer.length<=p&&this.buffer.push(0),g&&(this.buffer[p]|=128>>>this.length%8),this.length++}},ne.exports=T},3280:function(ne){function T(C){if(!C||C<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=C,this.data=new Uint8Array(C*C),this.reservedBit=new Uint8Array(C*C)}T.prototype.set=function(C,g,p,h){var f=C*this.size+g;this.data[f]=p,h&&(this.reservedBit[f]=!0)},T.prototype.get=function(C,g){return this.data[C*this.size+g]},T.prototype.xor=function(C,g,p){this.data[C*this.size+g]^=p},T.prototype.isReserved=function(C,g){return this.reservedBit[C*this.size+g]},ne.exports=T},3424:function(ne,T,C){var g=C(2378),p=C(6910);function h(f){this.mode=p.BYTE,this.data=new Uint8Array(g(f))}h.getBitsLength=function(f){return 8*f},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(f){for(var w=0,m=this.data.length;w<m;w++)f.put(this.data[w],8)},ne.exports=h},5393:function(ne,T,C){var g=C(4908),p=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],h=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];T.getBlocksCount=function(f,w){switch(w){case g.L:return p[4*(f-1)+0];case g.M:return p[4*(f-1)+1];case g.Q:return p[4*(f-1)+2];case g.H:return p[4*(f-1)+3];default:return}},T.getTotalCodewordsCount=function(f,w){switch(w){case g.L:return h[4*(f-1)+0];case g.M:return h[4*(f-1)+1];case g.Q:return h[4*(f-1)+2];case g.H:return h[4*(f-1)+3];default:return}}},4908:function(ne,T){T.L={bit:1},T.M={bit:0},T.Q={bit:3},T.H={bit:2},T.isValid=function(C){return C&&C.bit!==void 0&&C.bit>=0&&C.bit<4},T.from=function(C,g){if(T.isValid(C))return C;try{return function(p){if(typeof p!="string")throw new Error("Param is not a string");switch(p.toLowerCase()){case"l":case"low":return T.L;case"m":case"medium":return T.M;case"q":case"quartile":return T.Q;case"h":case"high":return T.H;default:throw new Error("Unknown EC Level: "+p)}}(C)}catch(p){return g}}},6526:function(ne,T,C){var g=C(242).getSymbolSize;T.getPositions=function(p){var h=g(p);return[[0,0],[h-7,0],[0,h-7]]}},1642:function(ne,T,C){var g=C(242),p=g.getBCHDigit(1335);T.getEncodedBits=function(h,f){for(var w=h.bit<<3|f,m=w<<10;g.getBCHDigit(m)-p>=0;)m^=1335<<g.getBCHDigit(m)-p;return 21522^(w<<10|m)}},9729:function(ne,T){var C=new Uint8Array(512),g=new Uint8Array(256);(function(){for(var p=1,h=0;h<255;h++)C[h]=p,g[p]=h,p<<=1,256&p&&(p^=285);for(var f=255;f<512;f++)C[f]=C[f-255]})(),T.log=function(p){if(p<1)throw new Error("log("+p+")");return g[p]},T.exp=function(p){return C[p]},T.mul=function(p,h){return p===0||h===0?0:C[g[p]+g[h]]}},5442:function(ne,T,C){var g=C(6910),p=C(242);function h(f){this.mode=g.KANJI,this.data=f}h.getBitsLength=function(f){return 13*f},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(f){var w;for(w=0;w<this.data.length;w++){var m=p.toSJIS(this.data[w]);if(m>=33088&&m<=40956)m-=33088;else{if(!(m>=57408&&m<=60351))throw new Error("Invalid SJIS character: "+this.data[w]+`
Make sure your charset is UTF-8`);m-=49472}m=192*(m>>>8&255)+(255&m),f.put(m,13)}},ne.exports=h},7126:function(ne,T){T.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function C(g,p,h){switch(g){case T.Patterns.PATTERN000:return(p+h)%2==0;case T.Patterns.PATTERN001:return p%2==0;case T.Patterns.PATTERN010:return h%3==0;case T.Patterns.PATTERN011:return(p+h)%3==0;case T.Patterns.PATTERN100:return(Math.floor(p/2)+Math.floor(h/3))%2==0;case T.Patterns.PATTERN101:return p*h%2+p*h%3==0;case T.Patterns.PATTERN110:return(p*h%2+p*h%3)%2==0;case T.Patterns.PATTERN111:return(p*h%3+(p+h)%2)%2==0;default:throw new Error("bad maskPattern:"+g)}}T.isValid=function(g){return g!=null&&g!==""&&!isNaN(g)&&g>=0&&g<=7},T.from=function(g){return T.isValid(g)?parseInt(g,10):void 0},T.getPenaltyN1=function(g){for(var p=g.size,h=0,f=0,w=0,m=null,o=null,i=0;i<p;i++){f=w=0,m=o=null;for(var e=0;e<p;e++){var r=g.get(i,e);r===m?f++:(f>=5&&(h+=f-5+3),m=r,f=1),r=g.get(e,i),r===o?w++:(w>=5&&(h+=w-5+3),o=r,w=1)}f>=5&&(h+=f-5+3),w>=5&&(h+=w-5+3)}return h},T.getPenaltyN2=function(g){for(var p=g.size,h=0,f=0;f<p-1;f++)for(var w=0;w<p-1;w++){var m=g.get(f,w)+g.get(f,w+1)+g.get(f+1,w)+g.get(f+1,w+1);m!==4&&m!==0||h++}return 3*h},T.getPenaltyN3=function(g){for(var p=g.size,h=0,f=0,w=0,m=0;m<p;m++){f=w=0;for(var o=0;o<p;o++)f=f<<1&2047|g.get(m,o),o>=10&&(f===1488||f===93)&&h++,w=w<<1&2047|g.get(o,m),o>=10&&(w===1488||w===93)&&h++}return 40*h},T.getPenaltyN4=function(g){for(var p=0,h=g.data.length,f=0;f<h;f++)p+=g.data[f];return 10*Math.abs(Math.ceil(100*p/h/5)-10)},T.applyMask=function(g,p){for(var h=p.size,f=0;f<h;f++)for(var w=0;w<h;w++)p.isReserved(w,f)||p.xor(w,f,C(g,w,f))},T.getBestMask=function(g,p){for(var h=Object.keys(T.Patterns).length,f=0,w=1/0,m=0;m<h;m++){p(m),T.applyMask(m,g);var o=T.getPenaltyN1(g)+T.getPenaltyN2(g)+T.getPenaltyN3(g)+T.getPenaltyN4(g);T.applyMask(m,g),o<w&&(w=o,f=m)}return f}},6910:function(ne,T,C){var g=C(3114),p=C(7007);T.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},T.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},T.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},T.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},T.MIXED={bit:-1},T.getCharCountIndicator=function(h,f){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!g.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?h.ccBits[0]:f<27?h.ccBits[1]:h.ccBits[2]},T.getBestModeForData=function(h){return p.testNumeric(h)?T.NUMERIC:p.testAlphanumeric(h)?T.ALPHANUMERIC:p.testKanji(h)?T.KANJI:T.BYTE},T.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},T.isValid=function(h){return h&&h.bit&&h.ccBits},T.from=function(h,f){if(T.isValid(h))return h;try{return function(w){if(typeof w!="string")throw new Error("Param is not a string");switch(w.toLowerCase()){case"numeric":return T.NUMERIC;case"alphanumeric":return T.ALPHANUMERIC;case"kanji":return T.KANJI;case"byte":return T.BYTE;default:throw new Error("Unknown mode: "+w)}}(h)}catch(w){return f}}},1085:function(ne,T,C){var g=C(6910);function p(h){this.mode=g.NUMERIC,this.data=h.toString()}p.getBitsLength=function(h){return 10*Math.floor(h/3)+(h%3?h%3*3+1:0)},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(h){var f,w,m;for(f=0;f+3<=this.data.length;f+=3)w=this.data.substr(f,3),m=parseInt(w,10),h.put(m,10);var o=this.data.length-f;o>0&&(w=this.data.substr(f),m=parseInt(w,10),h.put(m,3*o+1))},ne.exports=p},6143:function(ne,T,C){var g=C(9729);T.mul=function(p,h){for(var f=new Uint8Array(p.length+h.length-1),w=0;w<p.length;w++)for(var m=0;m<h.length;m++)f[w+m]^=g.mul(p[w],h[m]);return f},T.mod=function(p,h){for(var f=new Uint8Array(p);f.length-h.length>=0;){for(var w=f[0],m=0;m<h.length;m++)f[m]^=g.mul(h[m],w);for(var o=0;o<f.length&&f[o]===0;)o++;f=f.slice(o)}return f},T.generateECPolynomial=function(p){for(var h=new Uint8Array([1]),f=0;f<p;f++)h=T.mul(h,new Uint8Array([1,g.exp(f)]));return h}},5115:function(ne,T,C){var g=C(242),p=C(4908),h=C(7245),f=C(3280),w=C(1845),m=C(6526),o=C(7126),i=C(5393),e=C(2882),r=C(3103),n=C(1642),t=C(6910),s=C(6130);function d(E,A,S){var L=E.size,O=n.getEncodedBits(A,S),N,H;for(N=0;N<15;N++)H=(O>>N&1)==1,N<6?E.set(N,8,H,!0):N<8?E.set(N+1,8,H,!0):E.set(L-15+N,8,H,!0),N<8?E.set(8,L-N-1,H,!0):N<9?E.set(8,15-N-1+1,H,!0):E.set(8,15-N-1,H,!0);E.set(L-8,8,1,!0)}function b(E,A,S,L){var O;if(Array.isArray(E))O=s.fromArray(E);else{if(typeof E!="string")throw new Error("Invalid data");{var N=A;if(!N){var H=s.rawSplit(E);N=r.getBestVersionForData(H,S)}O=s.fromString(E,N||40)}}var F=r.getBestVersionForData(O,S);if(!F)throw new Error("The amount of data is too big to be stored in a QR Code");if(A){if(A<F)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+F+`.
`)}else A=F;var Y=function(Q,G,X){var R=new h;X.forEach(function(Z){R.put(Z.mode.bit,4),R.put(Z.getLength(),t.getCharCountIndicator(Z.mode,Q)),Z.write(R)});var K=8*(g.getSymbolTotalCodewords(Q)-i.getTotalCodewordsCount(Q,G));for(R.getLengthInBits()+4<=K&&R.put(0,4);R.getLengthInBits()%8!=0;)R.putBit(0);for(var q=(K-R.getLengthInBits())/8,D=0;D<q;D++)R.put(D%2?17:236,8);return function(Z,le,se){for(var fe=g.getSymbolTotalCodewords(le),he=fe-i.getTotalCodewordsCount(le,se),re=i.getBlocksCount(le,se),ce=re-fe%re,ve=Math.floor(fe/re),we=Math.floor(he/re),ke=we+1,de=ve-we,V=new e(de),ge=0,z=new Array(re),k=new Array(re),I=0,W=new Uint8Array(Z.buffer),ee=0;ee<re;ee++){var ae=ee<ce?we:ke;z[ee]=W.slice(ge,ge+ae),k[ee]=V.encode(z[ee]),ge+=ae,I=Math.max(I,ae)}var oe=new Uint8Array(fe),Ee,Le,Ie=0;for(Ee=0;Ee<I;Ee++)for(Le=0;Le<re;Le++)Ee<z[Le].length&&(oe[Ie++]=z[Le][Ee]);for(Ee=0;Ee<de;Ee++)for(Le=0;Le<re;Le++)oe[Ie++]=k[Le][Ee];return oe}(R,Q,G)}(A,S,O),j=g.getSymbolSize(A),J=new f(j);return function(Q,G){for(var X=Q.size,R=m.getPositions(G),K=0;K<R.length;K++)for(var q=R[K][0],D=R[K][1],Z=-1;Z<=7;Z++)if(!(q+Z<=-1||X<=q+Z))for(var le=-1;le<=7;le++)D+le<=-1||X<=D+le||(Z>=0&&Z<=6&&(le===0||le===6)||le>=0&&le<=6&&(Z===0||Z===6)||Z>=2&&Z<=4&&le>=2&&le<=4?Q.set(q+Z,D+le,!0,!0):Q.set(q+Z,D+le,!1,!0))}(J,A),function(Q){for(var G=Q.size,X=8;X<G-8;X++){var R=X%2==0;Q.set(X,6,R,!0),Q.set(6,X,R,!0)}}(J),function(Q,G){for(var X=w.getPositions(G),R=0;R<X.length;R++)for(var K=X[R][0],q=X[R][1],D=-2;D<=2;D++)for(var Z=-2;Z<=2;Z++)D===-2||D===2||Z===-2||Z===2||D===0&&Z===0?Q.set(K+D,q+Z,!0,!0):Q.set(K+D,q+Z,!1,!0)}(J,A),d(J,S,0),A>=7&&function(Q,G){for(var X=Q.size,R=r.getEncodedBits(G),K,q,D,Z=0;Z<18;Z++)K=Math.floor(Z/3),q=Z%3+X-8-3,D=(R>>Z&1)==1,Q.set(K,q,D,!0),Q.set(q,K,D,!0)}(J,A),function(Q,G){for(var X=Q.size,R=-1,K=X-1,q=7,D=0,Z=X-1;Z>0;Z-=2)for(Z===6&&Z--;;){for(var le=0;le<2;le++)if(!Q.isReserved(K,Z-le)){var se=!1;D<G.length&&(se=(G[D]>>>q&1)==1),Q.set(K,Z-le,se),q--,q===-1&&(D++,q=7)}if(K+=R,K<0||X<=K){K-=R,R=-R;break}}}(J,Y),isNaN(L)&&(L=o.getBestMask(J,d.bind(null,J,S))),o.applyMask(L,J),d(J,S,L),{modules:J,version:A,errorCorrectionLevel:S,maskPattern:L,segments:O}}T.create=function(E,A){if(E===void 0||E==="")throw new Error("No input text");var S,L,O=p.M;return A!==void 0&&(O=p.from(A.errorCorrectionLevel,p.M),S=r.from(A.version),L=o.from(A.maskPattern),A.toSJISFunc&&g.setToSJISFunction(A.toSJISFunc)),b(E,S,O,L)}},2882:function(ne,T,C){var g=C(6143);function p(h){this.genPoly=void 0,this.degree=h,this.degree&&this.initialize(this.degree)}p.prototype.initialize=function(h){this.degree=h,this.genPoly=g.generateECPolynomial(this.degree)},p.prototype.encode=function(h){if(!this.genPoly)throw new Error("Encoder not initialized");var f=new Uint8Array(h.length+this.degree);f.set(h);var w=g.mod(f,this.genPoly),m=this.degree-w.length;if(m>0){var o=new Uint8Array(this.degree);return o.set(w,m),o}return w},ne.exports=p},7007:function(ne,T){var C="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";C=C.replace(/u/g,"\\u");var g="(?:(?![A-Z0-9 $%*+\\-./:]|"+C+`)(?:.|[\r
]))+`;T.KANJI=new RegExp(C,"g"),T.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),T.BYTE=new RegExp(g,"g"),T.NUMERIC=new RegExp("[0-9]+","g"),T.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var p=new RegExp("^"+C+"$"),h=new RegExp("^[0-9]+$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");T.testKanji=function(w){return p.test(w)},T.testNumeric=function(w){return h.test(w)},T.testAlphanumeric=function(w){return f.test(w)}},6130:function(ne,T,C){var g=C(6910),p=C(1085),h=C(8260),f=C(3424),w=C(5442),m=C(7007),o=C(242),i=C(5987);function e(d){return unescape(encodeURIComponent(d)).length}function r(d,b,E){for(var A=[],S;(S=d.exec(E))!==null;)A.push({data:S[0],index:S.index,mode:b,length:S[0].length});return A}function n(d){var b=r(m.NUMERIC,g.NUMERIC,d),E=r(m.ALPHANUMERIC,g.ALPHANUMERIC,d),A,S;return o.isKanjiModeEnabled()?(A=r(m.BYTE,g.BYTE,d),S=r(m.KANJI,g.KANJI,d)):(A=r(m.BYTE_KANJI,g.BYTE,d),S=[]),b.concat(E,A,S).sort(function(L,O){return L.index-O.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function t(d,b){switch(b){case g.NUMERIC:return p.getBitsLength(d);case g.ALPHANUMERIC:return h.getBitsLength(d);case g.KANJI:return w.getBitsLength(d);case g.BYTE:return f.getBitsLength(d)}}function s(d,b){var E,A=g.getBestModeForData(d);if(E=g.from(b,A),E!==g.BYTE&&E.bit<A.bit)throw new Error('"'+d+'" cannot be encoded with mode '+g.toString(E)+`.
 Suggested mode is: `+g.toString(A));switch(E!==g.KANJI||o.isKanjiModeEnabled()||(E=g.BYTE),E){case g.NUMERIC:return new p(d);case g.ALPHANUMERIC:return new h(d);case g.KANJI:return new w(d);case g.BYTE:return new f(d)}}T.fromArray=function(d){return d.reduce(function(b,E){return typeof E=="string"?b.push(s(E,null)):E.data&&b.push(s(E.data,E.mode)),b},[])},T.fromString=function(d,b){for(var E=function(N){for(var H=[],F=0;F<N.length;F++){var Y=N[F];switch(Y.mode){case g.NUMERIC:H.push([Y,{data:Y.data,mode:g.ALPHANUMERIC,length:Y.length},{data:Y.data,mode:g.BYTE,length:Y.length}]);break;case g.ALPHANUMERIC:H.push([Y,{data:Y.data,mode:g.BYTE,length:Y.length}]);break;case g.KANJI:H.push([Y,{data:Y.data,mode:g.BYTE,length:e(Y.data)}]);break;case g.BYTE:H.push([{data:Y.data,mode:g.BYTE,length:e(Y.data)}])}}return H}(n(d,o.isKanjiModeEnabled())),A=function(N,H){for(var F={},Y={start:{}},j=["start"],J=0;J<N.length;J++){for(var Q=N[J],G=[],X=0;X<Q.length;X++){var R=Q[X],K=""+J+X;G.push(K),F[K]={node:R,lastCount:0},Y[K]={};for(var q=0;q<j.length;q++){var D=j[q];F[D]&&F[D].node.mode===R.mode?(Y[D][K]=t(F[D].lastCount+R.length,R.mode)-t(F[D].lastCount,R.mode),F[D].lastCount+=R.length):(F[D]&&(F[D].lastCount=R.length),Y[D][K]=t(R.length,R.mode)+4+g.getCharCountIndicator(R.mode,H))}}j=G}for(var Z=0;Z<j.length;Z++)Y[j[Z]].end=0;return{map:Y,table:F}}(E,b),S=i.find_path(A.map,"start","end"),L=[],O=1;O<S.length-1;O++)L.push(A.table[S[O]].node);return T.fromArray(L.reduce(function(N,H){var F=N.length-1>=0?N[N.length-1]:null;return F&&F.mode===H.mode?(N[N.length-1].data+=H.data,N):(N.push(H),N)},[]))},T.rawSplit=function(d){return T.fromArray(n(d,o.isKanjiModeEnabled()))}},242:function(ne,T){var C,g=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];T.getSymbolSize=function(p){if(!p)throw new Error('"version" cannot be null or undefined');if(p<1||p>40)throw new Error('"version" should be in range from 1 to 40');return 4*p+17},T.getSymbolTotalCodewords=function(p){return g[p]},T.getBCHDigit=function(p){for(var h=0;p!==0;)h++,p>>>=1;return h},T.setToSJISFunction=function(p){if(typeof p!="function")throw new Error('"toSJISFunc" is not a valid function.');C=p},T.isKanjiModeEnabled=function(){return C!==void 0},T.toSJIS=function(p){return C(p)}},3114:function(ne,T){T.isValid=function(C){return!isNaN(C)&&C>=1&&C<=40}},3103:function(ne,T,C){var g=C(242),p=C(5393),h=C(4908),f=C(6910),w=C(3114),m=g.getBCHDigit(7973);function o(e,r){return f.getCharCountIndicator(e,r)+4}function i(e,r){var n=0;return e.forEach(function(t){var s=o(t.mode,r);n+=s+t.getBitsLength()}),n}T.from=function(e,r){return w.isValid(e)?parseInt(e,10):r},T.getCapacity=function(e,r,n){if(!w.isValid(e))throw new Error("Invalid QR Code version");n===void 0&&(n=f.BYTE);var t=8*(g.getSymbolTotalCodewords(e)-p.getTotalCodewordsCount(e,r));if(n===f.MIXED)return t;var s=t-o(n,e);switch(n){case f.NUMERIC:return Math.floor(s/10*3);case f.ALPHANUMERIC:return Math.floor(s/11*2);case f.KANJI:return Math.floor(s/13);case f.BYTE:default:return Math.floor(s/8)}},T.getBestVersionForData=function(e,r){var n,t=h.from(r,h.M);if(Array.isArray(e)){if(e.length>1)return function(s,d){for(var b=1;b<=40;b++)if(i(s,b)<=T.getCapacity(b,d,f.MIXED))return b}(e,t);if(e.length===0)return 1;n=e[0]}else n=e;return function(s,d,b){for(var E=1;E<=40;E++)if(d<=T.getCapacity(E,b,s))return E}(n.mode,n.getLength(),t)},T.getEncodedBits=function(e){if(!w.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;g.getBCHDigit(r)-m>=0;)r^=7973<<g.getBCHDigit(r)-m;return e<<12|r}},6907:function(ne,T,C){var g=C(9653);T.render=function(p,h,f){var w=f,m=h;w!==void 0||h&&h.getContext||(w=h,h=void 0),h||(m=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),w=g.getOptions(w);var o=g.getImageWidth(p.modules.size,w),i=m.getContext("2d"),e=i.createImageData(o,o);return g.qrToImageData(e.data,p,w),function(r,n,t){r.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=t,n.width=t,n.style.height=t+"px",n.style.width=t+"px"}(i,m,o),i.putImageData(e,0,0),m},T.renderToDataURL=function(p,h,f){var w=f;w!==void 0||h&&h.getContext||(w=h,h=void 0),w||(w={});var m=T.render(p,h,w),o=w.type||"image/png",i=w.rendererOpts||{};return m.toDataURL(o,i.quality)}},3776:function(ne,T,C){var g=C(9653);function p(f,w){var m=f.a/255,o=w+'="'+f.hex+'"';return m<1?o+" "+w+'-opacity="'+m.toFixed(2).slice(1)+'"':o}function h(f,w,m){var o=f+w;return m!==void 0&&(o+=" "+m),o}T.render=function(f,w,m){var o=g.getOptions(w),i=f.modules.size,e=f.modules.data,r=i+2*o.margin,n=o.color.light.a?"<path "+p(o.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",t="<path "+p(o.color.dark,"stroke")+' d="'+function(b,E,A){for(var S="",L=0,O=!1,N=0,H=0;H<b.length;H++){var F=Math.floor(H%E),Y=Math.floor(H/E);F||O||(O=!0),b[H]?(N++,H>0&&F>0&&b[H-1]||(S+=O?h("M",F+A,.5+Y+A):h("m",L,0),L=0,O=!1),F+1<E&&b[H+1]||(S+=h("h",N),N=0)):L++}return S}(e,i,o.margin)+'"/>',s='viewBox="0 0 '+r+" "+r+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+s+' shape-rendering="crispEdges">'+n+t+`</svg>
`;return typeof m=="function"&&m(null,d),d}},9653:function(ne,T){function C(g){if(typeof g=="number"&&(g=g.toString()),typeof g!="string")throw new Error("Color should be defined as hex string");var p=g.slice().replace("#","").split("");if(p.length<3||p.length===5||p.length>8)throw new Error("Invalid hex color: "+g);p.length!==3&&p.length!==4||(p=Array.prototype.concat.apply([],p.map(function(f){return[f,f]}))),p.length===6&&p.push("F","F");var h=parseInt(p.join(""),16);return{r:h>>24&255,g:h>>16&255,b:h>>8&255,a:255&h,hex:"#"+p.slice(0,6).join("")}}T.getOptions=function(g){g||(g={}),g.color||(g.color={});var p=g.margin===void 0||g.margin===null||g.margin<0?4:g.margin,h=g.width&&g.width>=21?g.width:void 0,f=g.scale||4;return{width:h,scale:h?4:f,margin:p,color:{dark:C(g.color.dark||"#000000ff"),light:C(g.color.light||"#ffffffff")},type:g.type,rendererOpts:g.rendererOpts||{}}},T.getScale=function(g,p){return p.width&&p.width>=g+2*p.margin?p.width/(g+2*p.margin):p.scale},T.getImageWidth=function(g,p){var h=T.getScale(g,p);return Math.floor((g+2*p.margin)*h)},T.qrToImageData=function(g,p,h){for(var f=p.modules.size,w=p.modules.data,m=T.getScale(f,h),o=Math.floor((f+2*h.margin)*m),i=h.margin*m,e=[h.color.light,h.color.dark],r=0;r<o;r++)for(var n=0;n<o;n++){var t=4*(r*o+n),s=h.color.light;r>=i&&n>=i&&r<o-i&&n<o-i&&(s=e[w[Math.floor((r-i)/m)*f+Math.floor((n-i)/m)]?1:0]),g[t++]=s.r,g[t++]=s.g,g[t++]=s.b,g[t]=s.a}}},4175:function(ne,T,C){var g=C(7529),p=C(251),h=C(4470),f=C(4644),w=String.fromCharCode(0),m=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};m.prototype.insert=function(o,i){var e={};return o.length===0?this:(e.insert=o,i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e))},m.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},m.prototype.retain=function(o,i){if(o<=0)return this;var e={retain:o};return i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e)},m.prototype.push=function(o){var i=this.ops.length,e=this.ops[i-1];if(o=h(!0,{},o),typeof e=="object"){if(typeof o.delete=="number"&&typeof e.delete=="number")return this.ops[i-1]={delete:e.delete+o.delete},this;if(typeof e.delete=="number"&&o.insert!=null&&(i-=1,typeof(e=this.ops[i-1])!="object"))return this.ops.unshift(o),this;if(p(o.attributes,e.attributes)){if(typeof o.insert=="string"&&typeof e.insert=="string")return this.ops[i-1]={insert:e.insert+o.insert},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof e.retain=="number")return this.ops[i-1]={retain:e.retain+o.retain},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this}}return i===this.ops.length?this.ops.push(o):this.ops.splice(i,0,o),this},m.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},m.prototype.filter=function(o){return this.ops.filter(o)},m.prototype.forEach=function(o){this.ops.forEach(o)},m.prototype.map=function(o){return this.ops.map(o)},m.prototype.partition=function(o){var i=[],e=[];return this.forEach(function(r){(o(r)?i:e).push(r)}),[i,e]},m.prototype.reduce=function(o,i){return this.ops.reduce(o,i)},m.prototype.changeLength=function(){return this.reduce(function(o,i){return i.insert?o+f.length(i):i.delete?o-i.delete:o},0)},m.prototype.length=function(){return this.reduce(function(o,i){return o+f.length(i)},0)},m.prototype.slice=function(o,i){o=o||0,typeof i!="number"&&(i=1/0);for(var e=[],r=f.iterator(this.ops),n=0;n<i&&r.hasNext();){var t;n<o?t=r.next(o-n):(t=r.next(i-n),e.push(t)),n+=f.length(t)}return new m(e)},m.prototype.compose=function(o){var i=f.iterator(this.ops),e=f.iterator(o.ops),r=[],n=e.peek();if(n!=null&&typeof n.retain=="number"&&n.attributes==null){for(var t=n.retain;i.peekType()==="insert"&&i.peekLength()<=t;)t-=i.peekLength(),r.push(i.next());n.retain-t>0&&e.next(n.retain-t)}for(var s=new m(r);i.hasNext()||e.hasNext();)if(e.peekType()==="insert")s.push(e.next());else if(i.peekType()==="delete")s.push(i.next());else{var d=Math.min(i.peekLength(),e.peekLength()),b=i.next(d),E=e.next(d);if(typeof E.retain=="number"){var A={};typeof b.retain=="number"?A.retain=d:A.insert=b.insert;var S=f.attributes.compose(b.attributes,E.attributes,typeof b.retain=="number");if(S&&(A.attributes=S),s.push(A),!e.hasNext()&&p(s.ops[s.ops.length-1],A)){var L=new m(i.rest());return s.concat(L).chop()}}else typeof E.delete=="number"&&typeof b.retain=="number"&&s.push(E)}return s.chop()},m.prototype.concat=function(o){var i=new m(this.ops.slice());return o.ops.length>0&&(i.push(o.ops[0]),i.ops=i.ops.concat(o.ops.slice(1))),i},m.prototype.diff=function(o,i){if(this.ops===o.ops)return new m;var e=[this,o].map(function(d){return d.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:w;throw new Error("diff() called "+(d===o?"on":"with")+" non-document")}).join("")}),r=new m,n=g(e[0],e[1],i),t=f.iterator(this.ops),s=f.iterator(o.ops);return n.forEach(function(d){for(var b=d[1].length;b>0;){var E=0;switch(d[0]){case g.INSERT:E=Math.min(s.peekLength(),b),r.push(s.next(E));break;case g.DELETE:E=Math.min(b,t.peekLength()),t.next(E),r.delete(E);break;case g.EQUAL:E=Math.min(t.peekLength(),s.peekLength(),b);var A=t.next(E),S=s.next(E);p(A.insert,S.insert)?r.retain(E,f.attributes.diff(A.attributes,S.attributes)):r.push(S).delete(E)}b-=E}}),r.chop()},m.prototype.eachLine=function(o,i){i=i||`
`;for(var e=f.iterator(this.ops),r=new m,n=0;e.hasNext();){if(e.peekType()!=="insert")return;var t=e.peek(),s=f.length(t)-e.peekLength(),d=typeof t.insert=="string"?t.insert.indexOf(i,s)-s:-1;if(d<0)r.push(e.next());else if(d>0)r.push(e.next(d));else{if(o(r,e.next(1).attributes||{},n)===!1)return;n+=1,r=new m}}r.length()>0&&o(r,{},n)},m.prototype.transform=function(o,i){if(i=!!i,typeof o=="number")return this.transformPosition(o,i);for(var e=f.iterator(this.ops),r=f.iterator(o.ops),n=new m;e.hasNext()||r.hasNext();)if(e.peekType()!=="insert"||!i&&r.peekType()==="insert")if(r.peekType()==="insert")n.push(r.next());else{var t=Math.min(e.peekLength(),r.peekLength()),s=e.next(t),d=r.next(t);if(s.delete)continue;d.delete?n.push(d):n.retain(t,f.attributes.transform(s.attributes,d.attributes,i))}else n.retain(f.length(e.next()));return n.chop()},m.prototype.transformPosition=function(o,i){i=!!i;for(var e=f.iterator(this.ops),r=0;e.hasNext()&&r<=o;){var n=e.peekLength(),t=e.peekType();e.next(),t!=="delete"?(t==="insert"&&(r<o||!i)&&(o+=n),r+=n):o-=Math.min(n,o-r)}return o},ne.exports=m},4644:function(ne,T,C){var g=C(251),p=C(4470),h={attributes:{compose:function(m,o,i){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var e=p(!0,{},o);for(var r in i||(e=Object.keys(e).reduce(function(n,t){return e[t]!=null&&(n[t]=e[t]),n},{})),m)m[r]!==void 0&&o[r]===void 0&&(e[r]=m[r]);return Object.keys(e).length>0?e:void 0},diff:function(m,o){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var i=Object.keys(m).concat(Object.keys(o)).reduce(function(e,r){return g(m[r],o[r])||(e[r]=o[r]===void 0?null:o[r]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(m,o,i){if(typeof m!="object")return o;if(typeof o=="object"){if(!i)return o;var e=Object.keys(o).reduce(function(r,n){return m[n]===void 0&&(r[n]=o[n]),r},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(m){return new f(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function f(w){this.ops=w,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(w){w||(w=1/0);var m=this.ops[this.index];if(m){var o=this.offset,i=h.length(m);if(w>=i-o?(w=i-o,this.index+=1,this.offset=0):this.offset+=w,typeof m.delete=="number")return{delete:w};var e={};return m.attributes&&(e.attributes=m.attributes),typeof m.retain=="number"?e.retain=w:typeof m.insert=="string"?e.insert=m.insert.substr(o,w):e.insert=m.insert,e}return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?h.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var w=this.offset,m=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=w,this.index=m,[o].concat(i)}return[]},ne.exports=h},6095:function(ne){var T;T=function(){return function(g){var p={};function h(f){if(p[f])return p[f].exports;var w=p[f]={i:f,l:!1,exports:{}};return g[f].call(w.exports,w,w.exports,h),w.l=!0,w.exports}return h.m=g,h.c=p,h.d=function(f,w,m){h.o(f,w)||Object.defineProperty(f,w,{configurable:!1,enumerable:!0,get:m})},h.n=function(f){var w=f&&f.__esModule?function(){return f.default}:function(){return f};return h.d(w,"a",w),w},h.o=function(f,w){return Object.prototype.hasOwnProperty.call(f,w)},h.p="",h(h.s=109)}([function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=h(17),w=h(18),m=h(19),o=h(45),i=h(46),e=h(47),r=h(48),n=h(49),t=h(12),s=h(32),d=h(33),b=h(31),E=h(1),A={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:f.default,Format:w.default,Leaf:m.default,Embed:r.default,Scroll:o.default,Block:e.default,Inline:i.default,Text:n.default,Attributor:{Attribute:t.default,Class:s.default,Style:d.default,Store:b.default}};p.default=A},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var b in d)d.hasOwnProperty(b)&&(s[b]=d[b])},function(s,d){function b(){this.constructor=s}f(s,d),s.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)});Object.defineProperty(p,"__esModule",{value:!0});var m=function(s){function d(b){var E=this;return b="[Parchment] "+b,(E=s.call(this,b)||this).message=b,E.name=E.constructor.name,E}return w(d,s),d}(Error);p.ParchmentError=m;var o,i={},e={},r={},n={};function t(s,d){var b;if(d===void 0&&(d=o.ANY),typeof s=="string")b=n[s]||i[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)b=n.text;else if(typeof s=="number")s&o.LEVEL&o.BLOCK?b=n.block:s&o.LEVEL&o.INLINE&&(b=n.inline);else if(s instanceof HTMLElement){var E=(s.getAttribute("class")||"").split(/\s+/);for(var A in E)if(b=e[E[A]])break;b=b||r[s.tagName]}return b==null?null:d&o.LEVEL&b.scope&&d&o.TYPE&b.scope?b:null}p.DATA_KEY="__blot",function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"}(o=p.Scope||(p.Scope={})),p.create=function(s,d){var b=t(s);if(b==null)throw new m("Unable to create "+s+" blot");var E=b,A=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:E.create(d);return new E(A,d)},p.find=function s(d,b){return b===void 0&&(b=!1),d==null?null:d[p.DATA_KEY]!=null?d[p.DATA_KEY].blot:b?s(d.parentNode,b):null},p.query=t,p.register=function s(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];if(d.length>1)return d.map(function(S){return s(S)});var E=d[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new m("Invalid definition");if(E.blotName==="abstract")throw new m("Cannot register abstract class");if(n[E.blotName||E.attrName]=E,typeof E.keyName=="string")i[E.keyName]=E;else if(E.className!=null&&(e[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(S){return S.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var A=Array.isArray(E.tagName)?E.tagName:[E.tagName];A.forEach(function(S){r[S]!=null&&E.className!=null||(r[S]=E)})}return E}},function(g,p,h){var f=h(51),w=h(11),m=h(3),o=h(20),i=String.fromCharCode(0),e=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};e.prototype.insert=function(r,n){var t={};return r.length===0?this:(t.insert=r,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(t.attributes=n),this.push(t))},e.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},e.prototype.retain=function(r,n){if(r<=0)return this;var t={retain:r};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(t.attributes=n),this.push(t)},e.prototype.push=function(r){var n=this.ops.length,t=this.ops[n-1];if(r=m(!0,{},r),typeof t=="object"){if(typeof r.delete=="number"&&typeof t.delete=="number")return this.ops[n-1]={delete:t.delete+r.delete},this;if(typeof t.delete=="number"&&r.insert!=null&&(n-=1,typeof(t=this.ops[n-1])!="object"))return this.ops.unshift(r),this;if(w(r.attributes,t.attributes)){if(typeof r.insert=="string"&&typeof t.insert=="string")return this.ops[n-1]={insert:t.insert+r.insert},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof t.retain=="number")return this.ops[n-1]={retain:t.retain+r.retain},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this}}return n===this.ops.length?this.ops.push(r):this.ops.splice(n,0,r),this},e.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},e.prototype.filter=function(r){return this.ops.filter(r)},e.prototype.forEach=function(r){this.ops.forEach(r)},e.prototype.map=function(r){return this.ops.map(r)},e.prototype.partition=function(r){var n=[],t=[];return this.forEach(function(s){(r(s)?n:t).push(s)}),[n,t]},e.prototype.reduce=function(r,n){return this.ops.reduce(r,n)},e.prototype.changeLength=function(){return this.reduce(function(r,n){return n.insert?r+o.length(n):n.delete?r-n.delete:r},0)},e.prototype.length=function(){return this.reduce(function(r,n){return r+o.length(n)},0)},e.prototype.slice=function(r,n){r=r||0,typeof n!="number"&&(n=1/0);for(var t=[],s=o.iterator(this.ops),d=0;d<n&&s.hasNext();){var b;d<r?b=s.next(r-d):(b=s.next(n-d),t.push(b)),d+=o.length(b)}return new e(t)},e.prototype.compose=function(r){var n=o.iterator(this.ops),t=o.iterator(r.ops),s=[],d=t.peek();if(d!=null&&typeof d.retain=="number"&&d.attributes==null){for(var b=d.retain;n.peekType()==="insert"&&n.peekLength()<=b;)b-=n.peekLength(),s.push(n.next());d.retain-b>0&&t.next(d.retain-b)}for(var E=new e(s);n.hasNext()||t.hasNext();)if(t.peekType()==="insert")E.push(t.next());else if(n.peekType()==="delete")E.push(n.next());else{var A=Math.min(n.peekLength(),t.peekLength()),S=n.next(A),L=t.next(A);if(typeof L.retain=="number"){var O={};typeof S.retain=="number"?O.retain=A:O.insert=S.insert;var N=o.attributes.compose(S.attributes,L.attributes,typeof S.retain=="number");if(N&&(O.attributes=N),E.push(O),!t.hasNext()&&w(E.ops[E.ops.length-1],O)){var H=new e(n.rest());return E.concat(H).chop()}}else typeof L.delete=="number"&&typeof S.retain=="number"&&E.push(L)}return E.chop()},e.prototype.concat=function(r){var n=new e(this.ops.slice());return r.ops.length>0&&(n.push(r.ops[0]),n.ops=n.ops.concat(r.ops.slice(1))),n},e.prototype.diff=function(r,n){if(this.ops===r.ops)return new e;var t=[this,r].map(function(A){return A.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:i;throw new Error("diff() called "+(A===r?"on":"with")+" non-document")}).join("")}),s=new e,d=f(t[0],t[1],n),b=o.iterator(this.ops),E=o.iterator(r.ops);return d.forEach(function(A){for(var S=A[1].length;S>0;){var L=0;switch(A[0]){case f.INSERT:L=Math.min(E.peekLength(),S),s.push(E.next(L));break;case f.DELETE:L=Math.min(S,b.peekLength()),b.next(L),s.delete(L);break;case f.EQUAL:L=Math.min(b.peekLength(),E.peekLength(),S);var O=b.next(L),N=E.next(L);w(O.insert,N.insert)?s.retain(L,o.attributes.diff(O.attributes,N.attributes)):s.push(N).delete(L)}S-=L}}),s.chop()},e.prototype.eachLine=function(r,n){n=n||`
`;for(var t=o.iterator(this.ops),s=new e,d=0;t.hasNext();){if(t.peekType()!=="insert")return;var b=t.peek(),E=o.length(b)-t.peekLength(),A=typeof b.insert=="string"?b.insert.indexOf(n,E)-E:-1;if(A<0)s.push(t.next());else if(A>0)s.push(t.next(A));else{if(r(s,t.next(1).attributes||{},d)===!1)return;d+=1,s=new e}}s.length()>0&&r(s,{},d)},e.prototype.transform=function(r,n){if(n=!!n,typeof r=="number")return this.transformPosition(r,n);for(var t=o.iterator(this.ops),s=o.iterator(r.ops),d=new e;t.hasNext()||s.hasNext();)if(t.peekType()!=="insert"||!n&&s.peekType()==="insert")if(s.peekType()==="insert")d.push(s.next());else{var b=Math.min(t.peekLength(),s.peekLength()),E=t.next(b),A=s.next(b);if(E.delete)continue;A.delete?d.push(A):d.retain(b,o.attributes.transform(E.attributes,A.attributes,n))}else d.retain(o.length(t.next()));return d.chop()},e.prototype.transformPosition=function(r,n){n=!!n;for(var t=o.iterator(this.ops),s=0;t.hasNext()&&s<=r;){var d=t.peekLength(),b=t.peekType();t.next(),b!=="delete"?(b==="insert"&&(s<r||!n)&&(r+=d),s+=d):r-=Math.min(d,r-s)}return r},g.exports=e},function(g,p){"use strict";var h=Object.prototype.hasOwnProperty,f=Object.prototype.toString,w=Object.defineProperty,m=Object.getOwnPropertyDescriptor,o=function(t){return typeof Array.isArray=="function"?Array.isArray(t):f.call(t)==="[object Array]"},i=function(t){if(!t||f.call(t)!=="[object Object]")return!1;var s,d=h.call(t,"constructor"),b=t.constructor&&t.constructor.prototype&&h.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!d&&!b)return!1;for(s in t);return s===void 0||h.call(t,s)},e=function(t,s){w&&s.name==="__proto__"?w(t,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):t[s.name]=s.newValue},r=function(t,s){if(s==="__proto__"){if(!h.call(t,s))return;if(m)return m(t,s).value}return t[s]};g.exports=function n(){var t,s,d,b,E,A,S=arguments[0],L=1,O=arguments.length,N=!1;for(typeof S=="boolean"&&(N=S,S=arguments[1]||{},L=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});L<O;++L)if((t=arguments[L])!=null)for(s in t)d=r(S,s),S!==(b=r(t,s))&&(N&&b&&(i(b)||(E=o(b)))?(E?(E=!1,A=d&&o(d)?d:[]):A=d&&i(d)?d:{},e(S,{name:s,newValue:n(N,A,b)})):b!==void 0&&e(S,{name:s,newValue:b}));return S}},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.BlockEmbed=p.bubbleFormats=void 0;var f=function(){function L(O,N){for(var H=0;H<N.length;H++){var F=N[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,N,H){return N&&L(O.prototype,N),H&&L(O,H),O}}(),w=function L(O,N,H){O===null&&(O=Function.prototype);var F=Object.getOwnPropertyDescriptor(O,N);if(F===void 0){var Y=Object.getPrototypeOf(O);return Y===null?void 0:L(Y,N,H)}if("value"in F)return F.value;var j=F.get;return j!==void 0?j.call(H):void 0},m=t(h(3)),o=t(h(2)),i=t(h(0)),e=t(h(16)),r=t(h(6)),n=t(h(7));function t(L){return L&&L.__esModule?L:{default:L}}function s(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")}function d(L,O){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?L:O}function b(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}var E=function(L){function O(){return s(this,O),d(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return b(O,L),f(O,[{key:"attach",value:function(){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new o.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,F){var Y=i.default.query(H,i.default.Scope.BLOCK_ATTRIBUTE);Y!=null&&this.attributes.attribute(Y,F)}},{key:"formatAt",value:function(H,F,Y,j){this.format(Y,j)}},{key:"insertAt",value:function(H,F,Y){if(typeof F=="string"&&F.endsWith(`
`)){var j=i.default.create(A.blotName);this.parent.insertBefore(j,H===0?this:this.next),j.insertAt(0,F.slice(0,-1))}else w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,H,F,Y)}}]),O}(i.default.Embed);E.scope=i.default.Scope.BLOCK_BLOT;var A=function(L){function O(N){s(this,O);var H=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N));return H.cache={},H}return b(O,L),f(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(H,F){return F.length()===0?H:H.insert(F.value(),S(F))},new o.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(H,F){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,H,F),this.cache={}}},{key:"formatAt",value:function(H,F,Y,j){F<=0||(i.default.query(Y,i.default.Scope.BLOCK)?H+F===this.length()&&this.format(Y,j):w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,H,Math.min(F,this.length()-H-1),Y,j),this.cache={})}},{key:"insertAt",value:function(H,F,Y){if(Y!=null)return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,H,F,Y);if(F.length!==0){var j=F.split(`
`),J=j.shift();J.length>0&&(H<this.length()-1||this.children.tail==null?w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),J):this.children.tail.insertAt(this.children.tail.length(),J),this.cache={});var Q=this;j.reduce(function(G,X){return(Q=Q.split(G,!0)).insertAt(0,X),X.length},H+J.length)}}},{key:"insertBefore",value:function(H,F){var Y=this.children.head;w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,H,F),Y instanceof e.default&&Y.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(H,F){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,H,F),this.cache={}}},{key:"optimize",value:function(H){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(F&&(H===0||H>=this.length()-1)){var Y=this.clone();return H===0?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}var j=w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,H,F);return this.cache={},j}}]),O}(i.default.Block);function S(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L==null?O:(typeof L.formats=="function"&&(O=(0,m.default)(O,L.formats())),L.parent==null||L.parent.blotName=="scroll"||L.parent.statics.scope!==L.statics.scope?O:S(L.parent,O))}A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[r.default,i.default.Embed,n.default],p.bubbleFormats=S,p.BlockEmbed=E,p.default=A},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.overload=p.expandConfig=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},w=function(Q,G){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return function(X,R){var K=[],q=!0,D=!1,Z=void 0;try{for(var le,se=X[Symbol.iterator]();!(q=(le=se.next()).done)&&(K.push(le.value),!R||K.length!==R);q=!0);}catch(fe){D=!0,Z=fe}finally{try{!q&&se.return&&se.return()}finally{if(D)throw Z}}return K}(Q,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function J(Q,G){for(var X=0;X<G.length;X++){var R=G[X];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(Q,R.key,R)}}return function(Q,G,X){return G&&J(Q.prototype,G),X&&J(Q,X),Q}}();h(50);var o=A(h(2)),i=A(h(14)),e=A(h(8)),r=A(h(9)),n=A(h(0)),t=h(15),s=A(t),d=A(h(3)),b=A(h(10)),E=A(h(34));function A(J){return J&&J.__esModule?J:{default:J}}function S(J,Q,G){return Q in J?Object.defineProperty(J,Q,{value:G,enumerable:!0,configurable:!0,writable:!0}):J[Q]=G,J}function L(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")}var O=(0,b.default)("quill"),N=function(){function J(Q){var G=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,J),this.options=H(Q,X),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",Q);this.options.debug&&J.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new e.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new s.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(e.default.events.EDITOR_CHANGE,function(q){q===e.default.events.TEXT_CHANGE&&G.root.classList.toggle("ql-blank",G.editor.isBlank())}),this.emitter.on(e.default.events.SCROLL_UPDATE,function(q,D){var Z=G.selection.lastRange,le=Z&&Z.length===0?Z.index:void 0;F.call(G,function(){return G.editor.update(null,D,le)},q)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return m(J,null,[{key:"debug",value:function(G){G===!0&&(G="log"),b.default.level(G)}},{key:"find",value:function(G){return G.__quill||n.default.find(G)}},{key:"import",value:function(G){return this.imports[G]==null&&O.error("Cannot import "+G+". Are you sure it was registered?"),this.imports[G]}},{key:"register",value:function(G,X){var R=this,K=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof G!="string"){var q=G.attrName||G.blotName;typeof q=="string"?this.register("formats/"+q,G,X):Object.keys(G).forEach(function(D){R.register(D,G[D],X)})}else this.imports[G]==null||K||O.warn("Overwriting "+G+" with",X),this.imports[G]=X,(G.startsWith("blots/")||G.startsWith("formats/"))&&X.blotName!=="abstract"?n.default.register(X):G.startsWith("modules")&&typeof X.register=="function"&&X.register()}}]),m(J,[{key:"addContainer",value:function(G){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof G=="string"){var R=G;(G=document.createElement("div")).classList.add(R)}return this.container.insertBefore(G,X),G}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(G,X,R){var K=this,q=Y(G,X,R),D=w(q,4);return G=D[0],X=D[1],R=D[3],F.call(this,function(){return K.editor.deleteText(G,X)},R,G,-1*X)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var G=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(G),this.container.classList.toggle("ql-disabled",!G)}},{key:"focus",value:function(){var G=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=G,this.scrollIntoView()}},{key:"format",value:function(G,X){var R=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;return F.call(this,function(){var q=R.getSelection(!0),D=new o.default;if(q==null)return D;if(n.default.query(G,n.default.Scope.BLOCK))D=R.editor.formatLine(q.index,q.length,S({},G,X));else{if(q.length===0)return R.selection.format(G,X),D;D=R.editor.formatText(q.index,q.length,S({},G,X))}return R.setSelection(q,e.default.sources.SILENT),D},K)}},{key:"formatLine",value:function(G,X,R,K,q){var D,Z=this,le=Y(G,X,R,K,q),se=w(le,4);return G=se[0],X=se[1],D=se[2],q=se[3],F.call(this,function(){return Z.editor.formatLine(G,X,D)},q,G,0)}},{key:"formatText",value:function(G,X,R,K,q){var D,Z=this,le=Y(G,X,R,K,q),se=w(le,4);return G=se[0],X=se[1],D=se[2],q=se[3],F.call(this,function(){return Z.editor.formatText(G,X,D)},q,G,0)}},{key:"getBounds",value:function(G){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;R=typeof G=="number"?this.selection.getBounds(G,X):this.selection.getBounds(G.index,G.length);var K=this.container.getBoundingClientRect();return{bottom:R.bottom-K.top,height:R.height,left:R.left-K.left,right:R.right-K.left,top:R.top-K.top,width:R.width}}},{key:"getContents",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-G,R=Y(G,X),K=w(R,2);return G=K[0],X=K[1],this.editor.getContents(G,X)}},{key:"getFormat",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof G=="number"?this.editor.getFormat(G,X):this.editor.getFormat(G.index,G.length)}},{key:"getIndex",value:function(G){return G.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(G){return this.scroll.leaf(G)}},{key:"getLine",value:function(G){return this.scroll.line(G)}},{key:"getLines",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof G!="number"?this.scroll.lines(G.index,G.length):this.scroll.lines(G,X)}},{key:"getModule",value:function(G){return this.theme.modules[G]}},{key:"getSelection",value:function(){var G=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return G&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-G,R=Y(G,X),K=w(R,2);return G=K[0],X=K[1],this.editor.getText(G,X)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(G,X,R){var K=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:J.sources.API;return F.call(this,function(){return K.editor.insertEmbed(G,X,R)},q,G)}},{key:"insertText",value:function(G,X,R,K,q){var D,Z=this,le=Y(G,0,R,K,q),se=w(le,4);return G=se[0],D=se[2],q=se[3],F.call(this,function(){return Z.editor.insertText(G,X,D)},q,G,X.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(G,X,R){this.clipboard.dangerouslyPasteHTML(G,X,R)}},{key:"removeFormat",value:function(G,X,R){var K=this,q=Y(G,X,R),D=w(q,4);return G=D[0],X=D[1],R=D[3],F.call(this,function(){return K.editor.removeFormat(G,X)},R,G)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(G){var X=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return F.call(this,function(){G=new o.default(G);var K=X.getLength(),q=X.editor.deleteText(0,K),D=X.editor.applyDelta(G),Z=D.ops[D.ops.length-1];return Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&(X.editor.deleteText(X.getLength()-1,1),D.delete(1)),q.compose(D)},R)}},{key:"setSelection",value:function(G,X,R){if(G==null)this.selection.setRange(null,X||J.sources.API);else{var K=Y(G,X,R),q=w(K,4);G=q[0],X=q[1],R=q[3],this.selection.setRange(new t.Range(G,X),R),R!==e.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(G){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API,R=new o.default().insert(G);return this.setContents(R,X)}},{key:"update",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,X=this.scroll.update(G);return this.selection.update(G),X}},{key:"updateContents",value:function(G){var X=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return F.call(this,function(){return G=new o.default(G),X.editor.applyDelta(G,R)},R,!0)}}]),J}();function H(J,Q){if((Q=(0,d.default)(!0,{container:J,modules:{clipboard:!0,keyboard:!0,history:!0}},Q)).theme&&Q.theme!==N.DEFAULTS.theme){if(Q.theme=N.import("themes/"+Q.theme),Q.theme==null)throw new Error("Invalid theme "+Q.theme+". Did you register it?")}else Q.theme=E.default;var G=(0,d.default)(!0,{},Q.theme.DEFAULTS);[G,Q].forEach(function(R){R.modules=R.modules||{},Object.keys(R.modules).forEach(function(K){R.modules[K]===!0&&(R.modules[K]={})})});var X=Object.keys(G.modules).concat(Object.keys(Q.modules)).reduce(function(R,K){var q=N.import("modules/"+K);return q==null?O.error("Cannot load "+K+" module. Are you sure you registered it?"):R[K]=q.DEFAULTS||{},R},{});return Q.modules!=null&&Q.modules.toolbar&&Q.modules.toolbar.constructor!==Object&&(Q.modules.toolbar={container:Q.modules.toolbar}),Q=(0,d.default)(!0,{},N.DEFAULTS,{modules:X},G,Q),["bounds","container","scrollingContainer"].forEach(function(R){typeof Q[R]=="string"&&(Q[R]=document.querySelector(Q[R]))}),Q.modules=Object.keys(Q.modules).reduce(function(R,K){return Q.modules[K]&&(R[K]=Q.modules[K]),R},{}),Q}function F(J,Q,G,X){if(this.options.strict&&!this.isEnabled()&&Q===e.default.sources.USER)return new o.default;var R=G==null?null:this.getSelection(),K=this.editor.delta,q=J();if(R!=null&&(G===!0&&(G=R.index),X==null?R=j(R,q,Q):X!==0&&(R=j(R,G,X,Q)),this.setSelection(R,e.default.sources.SILENT)),q.length()>0){var D,Z,le=[e.default.events.TEXT_CHANGE,q,K,Q];(D=this.emitter).emit.apply(D,[e.default.events.EDITOR_CHANGE].concat(le)),Q!==e.default.sources.SILENT&&(Z=this.emitter).emit.apply(Z,le)}return q}function Y(J,Q,G,X,R){var K={};return typeof J.index=="number"&&typeof J.length=="number"?typeof Q!="number"?(R=X,X=G,G=Q,Q=J.length,J=J.index):(Q=J.length,J=J.index):typeof Q!="number"&&(R=X,X=G,G=Q,Q=0),(G===void 0?"undefined":f(G))==="object"?(K=G,R=X):typeof G=="string"&&(X!=null?K[G]=X:R=G),[J,Q,K,R=R||e.default.sources.API]}function j(J,Q,G,X){if(J==null)return null;var R=void 0,K=void 0;if(Q instanceof o.default){var q=[J.index,J.index+J.length].map(function(se){return Q.transformPosition(se,X!==e.default.sources.USER)}),D=w(q,2);R=D[0],K=D[1]}else{var Z=[J.index,J.index+J.length].map(function(se){return se<Q||se===Q&&X===e.default.sources.USER?se:G>=0?se+G:Math.max(Q,se+G)}),le=w(Z,2);R=le[0],K=le[1]}return new t.Range(R,K-R)}N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=e.default.events,N.sources=e.default.sources,N.version="1.3.7",N.imports={delta:o.default,parchment:n.default,"core/module":r.default,"core/theme":E.default},p.expandConfig=H,p.overload=Y,p.default=N},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function t(s,d){for(var b=0;b<d.length;b++){var E=d[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(s,E.key,E)}}return function(s,d,b){return d&&t(s.prototype,d),b&&t(s,b),s}}(),w=function t(s,d,b){s===null&&(s=Function.prototype);var E=Object.getOwnPropertyDescriptor(s,d);if(E===void 0){var A=Object.getPrototypeOf(s);return A===null?void 0:t(A,d,b)}if("value"in E)return E.value;var S=E.get;return S!==void 0?S.call(b):void 0},m=i(h(7)),o=i(h(0));function i(t){return t&&t.__esModule?t:{default:t}}function e(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function r(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?t:s}var n=function(t){function s(){return e(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(s,t),f(s,[{key:"formatAt",value:function(b,E,A,S){if(s.compare(this.statics.blotName,A)<0&&o.default.query(A,o.default.Scope.BLOT)){var L=this.isolate(b,E);S&&L.wrap(A,S)}else w(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"formatAt",this).call(this,b,E,A,S)}},{key:"optimize",value:function(b){if(w(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"optimize",this).call(this,b),this.parent instanceof s&&s.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(b,E){var A=s.order.indexOf(b),S=s.order.indexOf(E);return A>=0||S>=0?A-S:b===E?0:b<E?-1:1}}]),s}(o.default.Inline);n.allowedChildren=[n,o.default.Embed,m.default],n.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],p.default=n},function(g,p,h){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=h(0))&&f.__esModule?f:{default:f}).default.Text);p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function r(n,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,s){return t&&r(n.prototype,t),s&&r(n,s),n}}(),w=function r(n,t,s){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var b=Object.getPrototypeOf(n);return b===null?void 0:r(b,t,s)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(s):void 0},m=o(h(54));function o(r){return r&&r.__esModule?r:{default:r}}var i=(0,o(h(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(r){document.addEventListener(r,function(){for(var n=arguments.length,t=Array(n),s=0;s<n;s++)t[s]=arguments[s];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(d){var b;d.__quill&&d.__quill.emitter&&(b=d.__quill.emitter).handleDOM.apply(b,t)})})});var e=function(r){function n(){(function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,n);var t=function(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.listeners={},t.on("error",i.error),t}return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}(n,r),f(n,[{key:"emit",value:function(){i.log.apply(i,arguments),w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(s){for(var d=arguments.length,b=Array(d>1?d-1:0),E=1;E<d;E++)b[E-1]=arguments[E];(this.listeners[s.type]||[]).forEach(function(A){var S=A.node,L=A.handler;(s.target===S||S.contains(s.target))&&L.apply(void 0,[s].concat(b))})}},{key:"listenDOM",value:function(s,d,b){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push({node:d,handler:b})}}]),n}(m.default);e.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},e.sources={API:"api",SILENT:"silent",USER:"user"},p.default=e},function(g,p,h){"use strict";function f(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(p,"__esModule",{value:!0});var w=function m(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f(this,m),this.quill=o,this.options=i};w.DEFAULTS={},p.default=w},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=["error","warn","log","info"],w="warn";function m(i){if(f.indexOf(i)<=f.indexOf(w)){for(var e,r=arguments.length,n=Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];(e=console)[i].apply(e,n)}}function o(i){return f.reduce(function(e,r){return e[r]=m.bind(console,r,i),e},{})}m.level=o.level=function(i){w=i},p.default=o},function(g,p,h){var f=Array.prototype.slice,w=h(52),m=h(53),o=g.exports=function(r,n,t){return t||(t={}),r===n||(r instanceof Date&&n instanceof Date?r.getTime()===n.getTime():!r||!n||typeof r!="object"&&typeof n!="object"?t.strict?r===n:r==n:function(s,d,b){var E,A;if(i(s)||i(d)||s.prototype!==d.prototype)return!1;if(m(s))return!!m(d)&&(s=f.call(s),d=f.call(d),o(s,d,b));if(e(s)){if(!e(d)||s.length!==d.length)return!1;for(E=0;E<s.length;E++)if(s[E]!==d[E])return!1;return!0}try{var S=w(s),L=w(d)}catch(O){return!1}if(S.length!=L.length)return!1;for(S.sort(),L.sort(),E=S.length-1;E>=0;E--)if(S[E]!=L[E])return!1;for(E=S.length-1;E>=0;E--)if(A=S[E],!o(s[A],d[A],b))return!1;return typeof s==typeof d}(r,n,t))};function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=h(1),w=function(){function m(o,i,e){e===void 0&&(e={}),this.attrName=o,this.keyName=i;var r=f.Scope.TYPE&f.Scope.ATTRIBUTE;e.scope!=null?this.scope=e.scope&f.Scope.LEVEL|r:this.scope=f.Scope.ATTRIBUTE,e.whitelist!=null&&(this.whitelist=e.whitelist)}return m.keys=function(o){return[].map.call(o.attributes,function(i){return i.name})},m.prototype.add=function(o,i){return!!this.canAdd(o,i)&&(o.setAttribute(this.keyName,i),!0)},m.prototype.canAdd=function(o,i){return f.query(o,f.Scope.BLOT&(this.scope|f.Scope.TYPE))!=null&&(this.whitelist==null||(typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1))},m.prototype.remove=function(o){o.removeAttribute(this.keyName)},m.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},m}();p.default=w},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.Code=void 0;var f=function(L,O){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function(N,H){var F=[],Y=!0,j=!1,J=void 0;try{for(var Q,G=N[Symbol.iterator]();!(Y=(Q=G.next()).done)&&(F.push(Q.value),!H||F.length!==H);Y=!0);}catch(X){j=!0,J=X}finally{try{!Y&&G.return&&G.return()}finally{if(j)throw J}}return F}(L,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function S(L,O){for(var N=0;N<O.length;N++){var H=O[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(L,H.key,H)}}return function(L,O,N){return O&&S(L.prototype,O),N&&S(L,N),L}}(),m=function S(L,O,N){L===null&&(L=Function.prototype);var H=Object.getOwnPropertyDescriptor(L,O);if(H===void 0){var F=Object.getPrototypeOf(L);return F===null?void 0:S(F,O,N)}if("value"in H)return H.value;var Y=H.get;return Y!==void 0?Y.call(N):void 0},o=t(h(2)),i=t(h(0)),e=t(h(4)),r=t(h(6)),n=t(h(7));function t(S){return S&&S.__esModule?S:{default:S}}function s(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function d(S,L){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||typeof L!="object"&&typeof L!="function"?S:L}function b(S,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);S.prototype=Object.create(L&&L.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(S,L):S.__proto__=L)}var E=function(S){function L(){return s(this,L),d(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return b(L,S),L}(r.default);E.blotName="code",E.tagName="CODE";var A=function(S){function L(){return s(this,L),d(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return b(L,S),w(L,[{key:"delta",value:function(){var N=this,H=this.domNode.textContent;return H.endsWith(`
`)&&(H=H.slice(0,-1)),H.split(`
`).reduce(function(F,Y){return F.insert(Y).insert(`
`,N.formats())},new o.default)}},{key:"format",value:function(N,H){if(N!==this.statics.blotName||!H){var F=this.descendant(n.default,this.length()-1),Y=f(F,1)[0];Y!=null&&Y.deleteAt(Y.length()-1,1),m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,N,H)}}},{key:"formatAt",value:function(N,H,F,Y){if(H!==0&&i.default.query(F,i.default.Scope.BLOCK)!=null&&(F!==this.statics.blotName||Y!==this.statics.formats(this.domNode))){var j=this.newlineIndex(N);if(!(j<0||j>=N+H)){var J=this.newlineIndex(N,!0)+1,Q=j-J+1,G=this.isolate(J,Q),X=G.next;G.format(F,Y),X instanceof L&&X.formatAt(0,N-J+H-Q,F,Y)}}}},{key:"insertAt",value:function(N,H,F){if(F==null){var Y=this.descendant(n.default,N),j=f(Y,2),J=j[0],Q=j[1];J.insertAt(Q,H)}}},{key:"length",value:function(){var N=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?N:N+1}},{key:"newlineIndex",value:function(N){var H=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(H)return this.domNode.textContent.slice(0,N).lastIndexOf(`
`);var F=this.domNode.textContent.slice(N).indexOf(`
`);return F>-1?N+F:-1}},{key:"optimize",value:function(N){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,N);var H=this.next;H!=null&&H.prev===this&&H.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===H.statics.formats(H.domNode)&&(H.optimize(N),H.moveChildren(this),H.remove())}},{key:"replace",value:function(N){m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,N),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(H){var F=i.default.find(H);F==null?H.parentNode.removeChild(H):F instanceof i.default.Embed?F.remove():F.unwrap()})}}],[{key:"create",value:function(N){var H=m(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,N);return H.setAttribute("spellcheck",!1),H}},{key:"formats",value:function(){return!0}}]),L}(e.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",p.Code=E,p.default=A},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},w=function(F,Y){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(j,J){var Q=[],G=!0,X=!1,R=void 0;try{for(var K,q=j[Symbol.iterator]();!(G=(K=q.next()).done)&&(Q.push(K.value),!J||Q.length!==J);G=!0);}catch(D){X=!0,R=D}finally{try{!G&&q.return&&q.return()}finally{if(X)throw R}}return Q}(F,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function H(F,Y){for(var j=0;j<Y.length;j++){var J=Y[j];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(F,J.key,J)}}return function(F,Y,j){return Y&&H(F.prototype,Y),j&&H(F,j),F}}(),o=S(h(2)),i=S(h(20)),e=S(h(0)),r=S(h(13)),n=S(h(24)),t=h(4),s=S(t),d=S(h(16)),b=S(h(21)),E=S(h(11)),A=S(h(3));function S(H){return H&&H.__esModule?H:{default:H}}var L=/^[ -~]*$/,O=function(){function H(F){(function(Y,j){if(!(Y instanceof j))throw new TypeError("Cannot call a class as a function")})(this,H),this.scroll=F,this.delta=this.getDelta()}return m(H,[{key:"applyDelta",value:function(Y){var j=this,J=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),(Y=function(G){return G.reduce(function(X,R){if(R.insert===1){var K=(0,b.default)(R.attributes);return delete K.image,X.insert({image:R.attributes.image},K)}if(R.attributes==null||R.attributes.list!==!0&&R.attributes.bullet!==!0||((R=(0,b.default)(R)).attributes.list?R.attributes.list="ordered":(R.attributes.list="bullet",delete R.attributes.bullet)),typeof R.insert=="string"){var q=R.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return X.insert(q,R.attributes)}return X.push(R)},new o.default)}(Y)).reduce(function(G,X){var R=X.retain||X.delete||X.insert.length||1,K=X.attributes||{};if(X.insert!=null){if(typeof X.insert=="string"){var q=X.insert;q.endsWith(`
`)&&J&&(J=!1,q=q.slice(0,-1)),G>=Q&&!q.endsWith(`
`)&&(J=!0),j.scroll.insertAt(G,q);var D=j.scroll.line(G),Z=w(D,2),le=Z[0],se=Z[1],fe=(0,A.default)({},(0,t.bubbleFormats)(le));if(le instanceof s.default){var he=le.descendant(e.default.Leaf,se),re=w(he,1)[0];fe=(0,A.default)(fe,(0,t.bubbleFormats)(re))}K=i.default.attributes.diff(fe,K)||{}}else if(f(X.insert)==="object"){var ce=Object.keys(X.insert)[0];if(ce==null)return G;j.scroll.insertAt(G,ce,X.insert[ce])}Q+=R}return Object.keys(K).forEach(function(ve){j.scroll.formatAt(G,R,ve,K[ve])}),G+R},0),Y.reduce(function(G,X){return typeof X.delete=="number"?(j.scroll.deleteAt(G,X.delete),G):G+(X.retain||X.insert.length||1)},0),this.scroll.batchEnd(),this.update(Y)}},{key:"deleteText",value:function(Y,j){return this.scroll.deleteAt(Y,j),this.update(new o.default().retain(Y).delete(j))}},{key:"formatLine",value:function(Y,j){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(G){if(J.scroll.whitelist==null||J.scroll.whitelist[G]){var X=J.scroll.lines(Y,Math.max(j,1)),R=j;X.forEach(function(K){var q=K.length();if(K instanceof r.default){var D=Y-K.offset(J.scroll),Z=K.newlineIndex(D+R)-D+1;K.formatAt(D,Z,G,Q[G])}else K.format(G,Q[G]);R-=q})}}),this.scroll.optimize(),this.update(new o.default().retain(Y).retain(j,(0,b.default)(Q)))}},{key:"formatText",value:function(Y,j){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(G){J.scroll.formatAt(Y,j,G,Q[G])}),this.update(new o.default().retain(Y).retain(j,(0,b.default)(Q)))}},{key:"getContents",value:function(Y,j){return this.delta.slice(Y,Y+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Y,j){return Y.concat(j.delta())},new o.default)}},{key:"getFormat",value:function(Y){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=[],Q=[];j===0?this.scroll.path(Y).forEach(function(X){var R=w(X,1)[0];R instanceof s.default?J.push(R):R instanceof e.default.Leaf&&Q.push(R)}):(J=this.scroll.lines(Y,j),Q=this.scroll.descendants(e.default.Leaf,Y,j));var G=[J,Q].map(function(X){if(X.length===0)return{};for(var R=(0,t.bubbleFormats)(X.shift());Object.keys(R).length>0;){var K=X.shift();if(K==null)return R;R=N((0,t.bubbleFormats)(K),R)}return R});return A.default.apply(A.default,G)}},{key:"getText",value:function(Y,j){return this.getContents(Y,j).filter(function(J){return typeof J.insert=="string"}).map(function(J){return J.insert}).join("")}},{key:"insertEmbed",value:function(Y,j,J){return this.scroll.insertAt(Y,j,J),this.update(new o.default().retain(Y).insert(function(Q,G,X){return G in Q?Object.defineProperty(Q,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):Q[G]=X,Q}({},j,J)))}},{key:"insertText",value:function(Y,j){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Y,j),Object.keys(Q).forEach(function(G){J.scroll.formatAt(Y,j.length,G,Q[G])}),this.update(new o.default().retain(Y).insert(j,(0,b.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Y=this.scroll.children.head;return Y.statics.blotName===s.default.blotName&&!(Y.children.length>1)&&Y.children.head instanceof d.default}},{key:"removeFormat",value:function(Y,j){var J=this.getText(Y,j),Q=this.scroll.line(Y+j),G=w(Q,2),X=G[0],R=G[1],K=0,q=new o.default;X!=null&&(K=X instanceof r.default?X.newlineIndex(R)-R+1:X.length()-R,q=X.delta().slice(R,R+K-1).insert(`
`));var D=this.getContents(Y,j+K).diff(new o.default().insert(J).concat(q)),Z=new o.default().retain(Y).concat(D);return this.applyDelta(Z)}},{key:"update",value:function(Y){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(L)&&e.default.find(j[0].target)){var G=e.default.find(j[0].target),X=(0,t.bubbleFormats)(G),R=G.offset(this.scroll),K=j[0].oldValue.replace(n.default.CONTENTS,""),q=new o.default().insert(K),D=new o.default().insert(G.value()),Z=new o.default().retain(R).concat(q.diff(D,J));Y=Z.reduce(function(le,se){return se.insert?le.insert(se.insert,X):le.push(se)},new o.default),this.delta=Q.compose(Y)}else this.delta=this.getDelta(),Y&&(0,E.default)(Q.compose(Y),this.delta)||(Y=Q.diff(this.delta,J));return Y}}]),H}();function N(H,F){return Object.keys(F).reduce(function(Y,j){return H[j]==null||(F[j]===H[j]?Y[j]=F[j]:Array.isArray(F[j])?F[j].indexOf(H[j])<0&&(Y[j]=F[j].concat([H[j]])):Y[j]=[F[j],H[j]]),Y},{})}p.default=O},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.Range=void 0;var f=function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(O,N){var H=[],F=!0,Y=!1,j=void 0;try{for(var J,Q=O[Symbol.iterator]();!(F=(J=Q.next()).done)&&(H.push(J.value),!N||H.length!==N);F=!0);}catch(G){Y=!0,j=G}finally{try{!F&&Q.return&&Q.return()}finally{if(Y)throw j}}return H}(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(S,L){for(var O=0;O<L.length;O++){var N=L[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,L,O){return L&&A(S.prototype,L),O&&A(S,O),S}}(),m=r(h(0)),o=r(h(21)),i=r(h(11)),e=r(h(8));function r(A){return A&&A.__esModule?A:{default:A}}function n(A){if(Array.isArray(A)){for(var S=0,L=Array(A.length);S<A.length;S++)L[S]=A[S];return L}return Array.from(A)}function t(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}var s=(0,r(h(10)).default)("quill:selection"),d=function A(S){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;t(this,A),this.index=S,this.length=L},b=function(){function A(S,L){var O=this;t(this,A),this.emitter=L,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,e.default.sources.USER),1)}),this.emitter.on(e.default.events.EDITOR_CHANGE,function(N,H){N===e.default.events.TEXT_CHANGE&&H.length()>0&&O.update(e.default.sources.SILENT)}),this.emitter.on(e.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var N=O.getNativeRange();N!=null&&N.start.node!==O.cursor.textNode&&O.emitter.once(e.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch(H){}})}}),this.emitter.on(e.default.events.SCROLL_OPTIMIZE,function(N,H){if(H.range){var F=H.range,Y=F.startNode,j=F.startOffset,J=F.endNode,Q=F.endOffset;O.setNativeRange(Y,j,J,Q)}}),this.update(e.default.sources.SILENT)}return w(A,[{key:"handleComposition",value:function(){var L=this;this.root.addEventListener("compositionstart",function(){L.composing=!0}),this.root.addEventListener("compositionend",function(){if(L.composing=!1,L.cursor.parent){var O=L.cursor.restore();if(!O)return;setTimeout(function(){L.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var L=this;this.emitter.listenDOM("mousedown",document.body,function(){L.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){L.mouseDown=!1,L.update(e.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(L,O){if(this.scroll.whitelist==null||this.scroll.whitelist[L]){this.scroll.update();var N=this.getNativeRange();if(N!=null&&N.native.collapsed&&!m.default.query(L,m.default.Scope.BLOCK)){if(N.start.node!==this.cursor.textNode){var H=m.default.find(N.start.node,!1);if(H==null)return;if(H instanceof m.default.Leaf){var F=H.split(N.start.offset);H.parent.insertBefore(this.cursor,F)}else H.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(L,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();L=Math.min(L,N-1),O=Math.min(L+O,N-1)-L;var H=void 0,F=this.scroll.leaf(L),Y=f(F,2),j=Y[0],J=Y[1];if(j==null)return null;var Q=j.position(J,!0),G=f(Q,2);H=G[0],J=G[1];var X=document.createRange();if(O>0){X.setStart(H,J);var R=this.scroll.leaf(L+O),K=f(R,2);if(j=K[0],J=K[1],j==null)return null;var q=j.position(J,!0),D=f(q,2);return H=D[0],J=D[1],X.setEnd(H,J),X.getBoundingClientRect()}var Z="left",le=void 0;return H instanceof Text?(J<H.data.length?(X.setStart(H,J),X.setEnd(H,J+1)):(X.setStart(H,J-1),X.setEnd(H,J),Z="right"),le=X.getBoundingClientRect()):(le=j.domNode.getBoundingClientRect(),J>0&&(Z="right")),{bottom:le.top+le.height,height:le.height,left:le[Z],right:le[Z],top:le.top,width:0}}},{key:"getNativeRange",value:function(){var L=document.getSelection();if(L==null||L.rangeCount<=0)return null;var O=L.getRangeAt(0);if(O==null)return null;var N=this.normalizeNative(O);return s.info("getNativeRange",N),N}},{key:"getRange",value:function(){var L=this.getNativeRange();return L==null?[null,null]:[this.normalizedToRange(L),L]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(L){var O=this,N=[[L.start.node,L.start.offset]];L.native.collapsed||N.push([L.end.node,L.end.offset]);var H=N.map(function(j){var J=f(j,2),Q=J[0],G=J[1],X=m.default.find(Q,!0),R=X.offset(O.scroll);return G===0?R:X instanceof m.default.Container?R+X.length():R+X.index(Q,G)}),F=Math.min(Math.max.apply(Math,n(H)),this.scroll.length()-1),Y=Math.min.apply(Math,[F].concat(n(H)));return new d(Y,F-Y)}},{key:"normalizeNative",value:function(L){if(!E(this.root,L.startContainer)||!L.collapsed&&!E(this.root,L.endContainer))return null;var O={start:{node:L.startContainer,offset:L.startOffset},end:{node:L.endContainer,offset:L.endOffset},native:L};return[O.start,O.end].forEach(function(N){for(var H=N.node,F=N.offset;!(H instanceof Text)&&H.childNodes.length>0;)if(H.childNodes.length>F)H=H.childNodes[F],F=0;else{if(H.childNodes.length!==F)break;F=(H=H.lastChild)instanceof Text?H.data.length:H.childNodes.length+1}N.node=H,N.offset=F}),O}},{key:"rangeToNative",value:function(L){var O=this,N=L.collapsed?[L.index]:[L.index,L.index+L.length],H=[],F=this.scroll.length();return N.forEach(function(Y,j){Y=Math.min(F-1,Y);var J,Q=O.scroll.leaf(Y),G=f(Q,2),X=G[0],R=G[1],K=X.position(R,j!==0),q=f(K,2);J=q[0],R=q[1],H.push(J,R)}),H.length<2&&(H=H.concat(H)),H}},{key:"scrollIntoView",value:function(L){var O=this.lastRange;if(O!=null){var N=this.getBounds(O.index,O.length);if(N!=null){var H=this.scroll.length()-1,F=this.scroll.line(Math.min(O.index,H)),Y=f(F,1)[0],j=Y;if(O.length>0){var J=this.scroll.line(Math.min(O.index+O.length,H));j=f(J,1)[0]}if(Y!=null&&j!=null){var Q=L.getBoundingClientRect();N.top<Q.top?L.scrollTop-=Q.top-N.top:N.bottom>Q.bottom&&(L.scrollTop+=N.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(L,O){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,F=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(s.info("setNativeRange",L,O,N,H),L==null||this.root.parentNode!=null&&L.parentNode!=null&&N.parentNode!=null){var Y=document.getSelection();if(Y!=null)if(L!=null){this.hasFocus()||this.root.focus();var j=(this.getNativeRange()||{}).native;if(j==null||F||L!==j.startContainer||O!==j.startOffset||N!==j.endContainer||H!==j.endOffset){L.tagName=="BR"&&(O=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode),N.tagName=="BR"&&(H=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var J=document.createRange();J.setStart(L,O),J.setEnd(N,H),Y.removeAllRanges(),Y.addRange(J)}}else Y.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(L){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;if(typeof O=="string"&&(N=O,O=!1),s.info("setRange",L),L!=null){var H=this.rangeToNative(L);this.setNativeRange.apply(this,n(H).concat([O]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,O=this.lastRange,N=this.getRange(),H=f(N,2),F=H[0],Y=H[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,i.default)(O,this.lastRange)){var j;!this.composing&&Y!=null&&Y.native.collapsed&&Y.start.node!==this.cursor.textNode&&this.cursor.restore();var J,Q=[e.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(O),L];(j=this.emitter).emit.apply(j,[e.default.events.EDITOR_CHANGE].concat(Q)),L!==e.default.sources.SILENT&&(J=this.emitter).emit.apply(J,Q)}}}]),A}();function E(A,S){try{S.parentNode}catch(L){return!1}return S instanceof Text&&(S=S.parentNode),A.contains(S)}p.Range=d,p.default=b},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function r(n,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,s){return t&&r(n.prototype,t),s&&r(n,s),n}}(),m=function r(n,t,s){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var b=Object.getPrototypeOf(n);return b===null?void 0:r(b,t,s)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(s):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}(n,r),w(n,[{key:"insertInto",value:function(s,d){s.children.length===0?m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"insertInto",this).call(this,s,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),n}(((f=h(0))&&f.__esModule?f:{default:f}).default.Embed);e.blotName="break",e.tagName="BR",p.default=e},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s])},function(n,t){function s(){this.constructor=n}f(n,t),n.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(44),o=h(30),i=h(1),e=function(n){function t(s){var d=n.call(this,s)||this;return d.build(),d}return w(t,n),t.prototype.appendChild=function(s){this.insertBefore(s)},t.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(s){s.attach()})},t.prototype.build=function(){var s=this;this.children=new m.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(d){try{var b=r(d);s.insertBefore(b,s.children.head||void 0)}catch(E){if(E instanceof i.ParchmentError)return;throw E}})},t.prototype.deleteAt=function(s,d){if(s===0&&d===this.length())return this.remove();this.children.forEachAt(s,d,function(b,E,A){b.deleteAt(E,A)})},t.prototype.descendant=function(s,d){var b=this.children.find(d),E=b[0],A=b[1];return s.blotName==null&&s(E)||s.blotName!=null&&E instanceof s?[E,A]:E instanceof t?E.descendant(s,A):[null,-1]},t.prototype.descendants=function(s,d,b){d===void 0&&(d=0),b===void 0&&(b=Number.MAX_VALUE);var E=[],A=b;return this.children.forEachAt(d,b,function(S,L,O){(s.blotName==null&&s(S)||s.blotName!=null&&S instanceof s)&&E.push(S),S instanceof t&&(E=E.concat(S.descendants(s,L,A))),A-=O}),E},t.prototype.detach=function(){this.children.forEach(function(s){s.detach()}),n.prototype.detach.call(this)},t.prototype.formatAt=function(s,d,b,E){this.children.forEachAt(s,d,function(A,S,L){A.formatAt(S,L,b,E)})},t.prototype.insertAt=function(s,d,b){var E=this.children.find(s),A=E[0],S=E[1];if(A)A.insertAt(S,d,b);else{var L=b==null?i.create("text",d):i.create(d,b);this.appendChild(L)}},t.prototype.insertBefore=function(s,d){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return s instanceof b}))throw new i.ParchmentError("Cannot insert "+s.statics.blotName+" into "+this.statics.blotName);s.insertInto(this,d)},t.prototype.length=function(){return this.children.reduce(function(s,d){return s+d.length()},0)},t.prototype.moveChildren=function(s,d){this.children.forEach(function(b){s.insertBefore(b,d)})},t.prototype.optimize=function(s){if(n.prototype.optimize.call(this,s),this.children.length===0)if(this.statics.defaultChild!=null){var d=i.create(this.statics.defaultChild);this.appendChild(d),d.optimize(s)}else this.remove()},t.prototype.path=function(s,d){d===void 0&&(d=!1);var b=this.children.find(s,d),E=b[0],A=b[1],S=[[this,s]];return E instanceof t?S.concat(E.path(A,d)):(E!=null&&S.push([E,A]),S)},t.prototype.removeChild=function(s){this.children.remove(s)},t.prototype.replace=function(s){s instanceof t&&s.moveChildren(this),n.prototype.replace.call(this,s)},t.prototype.split=function(s,d){if(d===void 0&&(d=!1),!d){if(s===0)return this;if(s===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(s,this.length(),function(E,A,S){E=E.split(A,d),b.appendChild(E)}),b},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(s,d){var b=this,E=[],A=[];s.forEach(function(S){S.target===b.domNode&&S.type==="childList"&&(E.push.apply(E,S.addedNodes),A.push.apply(A,S.removedNodes))}),A.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var L=i.find(S);L!=null&&(L.domNode.parentNode!=null&&L.domNode.parentNode!==b.domNode||L.detach())}}),E.filter(function(S){return S.parentNode==b.domNode}).sort(function(S,L){return S===L?0:S.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var L=null;S.nextSibling!=null&&(L=i.find(S.nextSibling));var O=r(S);O.next==L&&O.next!=null||(O.parent!=null&&O.parent.removeChild(b),b.insertBefore(O,L||void 0))})},t}(o.default);function r(n){var t=i.find(n);if(t==null)try{t=i.create(n)}catch(s){t=i.create(i.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(d){t.domNode.appendChild(d)}),n.parentNode&&n.parentNode.replaceChild(t.domNode,n),t.attach()}return t}p.default=e},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s])},function(n,t){function s(){this.constructor=n}f(n,t),n.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(12),o=h(31),i=h(17),e=h(1),r=function(n){function t(s){var d=n.call(this,s)||this;return d.attributes=new o.default(d.domNode),d}return w(t,n),t.formats=function(s){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?s.tagName.toLowerCase():void 0)},t.prototype.format=function(s,d){var b=e.query(s);b instanceof m.default?this.attributes.attribute(b,d):d&&(b==null||s===this.statics.blotName&&this.formats()[s]===d||this.replaceWith(s,d))},t.prototype.formats=function(){var s=this.attributes.values(),d=this.statics.formats(this.domNode);return d!=null&&(s[this.statics.blotName]=d),s},t.prototype.replaceWith=function(s,d){var b=n.prototype.replaceWith.call(this,s,d);return this.attributes.copy(b),b},t.prototype.update=function(s,d){var b=this;n.prototype.update.call(this,s,d),s.some(function(E){return E.target===b.domNode&&E.type==="attributes"})&&this.attributes.build()},t.prototype.wrap=function(s,d){var b=n.prototype.wrap.call(this,s,d);return b instanceof t&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},t}(i.default);p.default=r},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(30),o=h(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.value=function(n){return!0},r.prototype.index=function(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},r.prototype.position=function(n,t){var s=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(s+=1),[this.parent.domNode,s]},r.prototype.value=function(){var n;return(n={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},r.scope=o.Scope.INLINE_BLOT,r}(m.default);p.default=i},function(g,p,h){var f=h(11),w=h(3),m={attributes:{compose:function(e,r,n){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var t=w(!0,{},r);for(var s in n||(t=Object.keys(t).reduce(function(d,b){return t[b]!=null&&(d[b]=t[b]),d},{})),e)e[s]!==void 0&&r[s]===void 0&&(t[s]=e[s]);return Object.keys(t).length>0?t:void 0},diff:function(e,r){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var n=Object.keys(e).concat(Object.keys(r)).reduce(function(t,s){return f(e[s],r[s])||(t[s]=r[s]===void 0?null:r[s]),t},{});return Object.keys(n).length>0?n:void 0},transform:function(e,r,n){if(typeof e!="object")return r;if(typeof r=="object"){if(!n)return r;var t=Object.keys(r).reduce(function(s,d){return e[d]===void 0&&(s[d]=r[d]),s},{});return Object.keys(t).length>0?t:void 0}}},iterator:function(e){return new o(e)},length:function(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.insert=="string"?e.insert.length:1}};function o(i){this.ops=i,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(i){i||(i=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=m.length(e);if(i>=n-r?(i=n-r,this.index+=1,this.offset=0):this.offset+=i,typeof e.delete=="number")return{delete:i};var t={};return e.attributes&&(t.attributes=e.attributes),typeof e.retain=="number"?t.retain=i:typeof e.insert=="string"?t.insert=e.insert.substr(r,i):t.insert=e.insert,t}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?m.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=i,this.index=e,[r].concat(n)}return[]},g.exports=m},function(g,p){var h=function(){"use strict";function f(n,t){return t!=null&&n instanceof t}var w,m,o;try{w=Map}catch(n){w=function(){}}try{m=Set}catch(n){m=function(){}}try{o=Promise}catch(n){o=function(){}}function i(n,t,s,d,b){typeof t=="object"&&(s=t.depth,d=t.prototype,b=t.includeNonEnumerable,t=t.circular);var E=[],A=[],S=typeof qe!="undefined";return t===void 0&&(t=!0),s===void 0&&(s=1/0),function L(O,N){if(O===null)return null;if(N===0)return O;var H,F;if(typeof O!="object")return O;if(f(O,w))H=new w;else if(f(O,m))H=new m;else if(f(O,o))H=new o(function(q,D){O.then(function(Z){q(L(Z,N-1))},function(Z){D(L(Z,N-1))})});else if(i.__isArray(O))H=[];else if(i.__isRegExp(O))H=new RegExp(O.source,r(O)),O.lastIndex&&(H.lastIndex=O.lastIndex);else if(i.__isDate(O))H=new Date(O.getTime());else{if(S&&qe.isBuffer(O))return H=qe.allocUnsafe?qe.allocUnsafe(O.length):new qe(O.length),O.copy(H),H;f(O,Error)?H=Object.create(O):d===void 0?(F=Object.getPrototypeOf(O),H=Object.create(F)):(H=Object.create(d),F=d)}if(t){var Y=E.indexOf(O);if(Y!=-1)return A[Y];E.push(O),A.push(H)}for(var j in f(O,w)&&O.forEach(function(q,D){var Z=L(D,N-1),le=L(q,N-1);H.set(Z,le)}),f(O,m)&&O.forEach(function(q){var D=L(q,N-1);H.add(D)}),O){var J;F&&(J=Object.getOwnPropertyDescriptor(F,j)),J&&J.set==null||(H[j]=L(O[j],N-1))}if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(O);for(j=0;j<Q.length;j++){var G=Q[j];(!(R=Object.getOwnPropertyDescriptor(O,G))||R.enumerable||b)&&(H[G]=L(O[G],N-1),R.enumerable||Object.defineProperty(H,G,{enumerable:!1}))}}if(b){var X=Object.getOwnPropertyNames(O);for(j=0;j<X.length;j++){var R,K=X[j];(R=Object.getOwnPropertyDescriptor(O,K))&&R.enumerable||(H[K]=L(O[K],N-1),Object.defineProperty(H,K,{enumerable:!1}))}}return H}(n,s)}function e(n){return Object.prototype.toString.call(n)}function r(n){var t="";return n.global&&(t+="g"),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),t}return i.clonePrototype=function(n){if(n===null)return null;var t=function(){};return t.prototype=n,new t},i.__objToStr=e,i.__isDate=function(n){return typeof n=="object"&&e(n)==="[object Date]"},i.__isArray=function(n){return typeof n=="object"&&e(n)==="[object Array]"},i.__isRegExp=function(n){return typeof n=="object"&&e(n)==="[object RegExp]"},i.__getRegExpFlags=r,i}();typeof g=="object"&&g.exports&&(g.exports=h)},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(O,N){var H=[],F=!0,Y=!1,j=void 0;try{for(var J,Q=O[Symbol.iterator]();!(F=(J=Q.next()).done)&&(H.push(J.value),!N||H.length!==N);F=!0);}catch(G){Y=!0,j=G}finally{try{!F&&Q.return&&Q.return()}finally{if(Y)throw j}}return H}(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(S,L){for(var O=0;O<L.length;O++){var N=L[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,L,O){return L&&A(S.prototype,L),O&&A(S,O),S}}(),m=function A(S,L,O){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,L);if(N===void 0){var H=Object.getPrototypeOf(S);return H===null?void 0:A(H,L,O)}if("value"in N)return N.value;var F=N.get;return F!==void 0?F.call(O):void 0},o=d(h(0)),i=d(h(8)),e=h(4),r=d(e),n=d(h(16)),t=d(h(13)),s=d(h(25));function d(A){return A&&A.__esModule?A:{default:A}}function b(A){return A instanceof r.default||A instanceof e.BlockEmbed}var E=function(A){function S(L,O){(function(H,F){if(!(H instanceof F))throw new TypeError("Cannot call a class as a function")})(this,S);var N=function(H,F){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?H:F}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L));return N.emitter=O.emitter,Array.isArray(O.whitelist)&&(N.whitelist=O.whitelist.reduce(function(H,F){return H[F]=!0,H},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return function(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}(S,A),w(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,N){var H=this.line(O),F=f(H,2),Y=F[0],j=F[1],J=this.line(O+N),Q=f(J,1)[0];if(m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,O,N),Q!=null&&Y!==Q&&j>0){if(Y instanceof e.BlockEmbed||Q instanceof e.BlockEmbed)return void this.optimize();if(Y instanceof t.default){var G=Y.newlineIndex(Y.length(),!0);if(G>-1&&(Y=Y.split(G+1))===Q)return void this.optimize()}else if(Q instanceof t.default){var X=Q.newlineIndex(0);X>-1&&Q.split(X+1)}var R=Q.children.head instanceof n.default?null:Q.children.head;Y.moveChildren(Q,R),Y.remove()}this.optimize()}},{key:"enable",value:function(){var O=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,N,H,F){(this.whitelist==null||this.whitelist[H])&&(m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,O,N,H,F),this.optimize())}},{key:"insertAt",value:function(O,N,H){if(H==null||this.whitelist==null||this.whitelist[N]){if(O>=this.length())if(H==null||o.default.query(N,o.default.Scope.BLOCK)==null){var F=o.default.create(this.statics.defaultChild);this.appendChild(F),H==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),F.insertAt(0,N,H)}else{var Y=o.default.create(N,H);this.appendChild(Y)}else m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,O,N,H);this.optimize()}}},{key:"insertBefore",value:function(O,N){if(O.statics.scope===o.default.Scope.INLINE_BLOT){var H=o.default.create(this.statics.defaultChild);H.appendChild(O),O=H}m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,O,N)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(b,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function F(Y,j,J){var Q=[],G=J;return Y.children.forEachAt(j,J,function(X,R,K){b(X)?Q.push(X):X instanceof o.default.Container&&(Q=Q.concat(F(X,R,G))),G-=K}),Q};return H(this,O,N)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,O,N),O.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,O,N))}},{key:"path",value:function(O){return m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var N=i.default.sources.USER;typeof O=="string"&&(N=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,N,O),m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,N,O)}}}]),S}(o.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[r.default,e.BlockEmbed,s.default],p.default=E},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SHORTKEY=p.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},w=function(R,K){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function(q,D){var Z=[],le=!0,se=!1,fe=void 0;try{for(var he,re=q[Symbol.iterator]();!(le=(he=re.next()).done)&&(Z.push(he.value),!D||Z.length!==D);le=!0);}catch(ce){se=!0,fe=ce}finally{try{!le&&re.return&&re.return()}finally{if(se)throw fe}}return Z}(R,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function X(R,K){for(var q=0;q<K.length;q++){var D=K[q];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(R,D.key,D)}}return function(R,K,q){return K&&X(R.prototype,K),q&&X(R,q),R}}(),o=E(h(21)),i=E(h(11)),e=E(h(3)),r=E(h(2)),n=E(h(20)),t=E(h(0)),s=E(h(5)),d=E(h(10)),b=E(h(9));function E(X){return X&&X.__esModule?X:{default:X}}function A(X,R,K){return R in X?Object.defineProperty(X,R,{value:K,enumerable:!0,configurable:!0,writable:!0}):X[R]=K,X}var S=(0,d.default)("quill:keyboard"),L=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",O=function(X){function R(K,q){(function(Z,le){if(!(Z instanceof le))throw new TypeError("Cannot call a class as a function")})(this,R);var D=function(Z,le){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!le||typeof le!="object"&&typeof le!="function"?Z:le}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,K,q));return D.bindings={},Object.keys(D.options.bindings).forEach(function(Z){(Z!=="list autofill"||K.scroll.whitelist==null||K.scroll.whitelist.list)&&D.options.bindings[Z]&&D.addBinding(D.options.bindings[Z])}),D.addBinding({key:R.keys.ENTER,shiftKey:null},j),D.addBinding({key:R.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(D.addBinding({key:R.keys.BACKSPACE},{collapsed:!0},H),D.addBinding({key:R.keys.DELETE},{collapsed:!0},F)):(D.addBinding({key:R.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),D.addBinding({key:R.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),D.addBinding({key:R.keys.BACKSPACE},{collapsed:!1},Y),D.addBinding({key:R.keys.DELETE},{collapsed:!1},Y),D.addBinding({key:R.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),D.listen(),D}return function(K,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);K.prototype=Object.create(q&&q.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(K,q):K.__proto__=q)}(R,X),m(R,null,[{key:"match",value:function(q,D){return D=G(D),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Z){return!!D[Z]!==q[Z]&&D[Z]!==null})&&D.key===(q.which||q.keyCode)}}]),m(R,[{key:"addBinding",value:function(q){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},le=G(q);if(le==null||le.key==null)return S.warn("Attempted to add invalid keyboard binding",le);typeof D=="function"&&(D={handler:D}),typeof Z=="function"&&(Z={handler:Z}),le=(0,e.default)(le,D,Z),this.bindings[le.key]=this.bindings[le.key]||[],this.bindings[le.key].push(le)}},{key:"listen",value:function(){var q=this;this.quill.root.addEventListener("keydown",function(D){if(!D.defaultPrevented){var Z=D.which||D.keyCode,le=(q.bindings[Z]||[]).filter(function(ae){return R.match(D,ae)});if(le.length!==0){var se=q.quill.getSelection();if(se!=null&&q.quill.hasFocus()){var fe=q.quill.getLine(se.index),he=w(fe,2),re=he[0],ce=he[1],ve=q.quill.getLeaf(se.index),we=w(ve,2),ke=we[0],de=we[1],V=se.length===0?[ke,de]:q.quill.getLeaf(se.index+se.length),ge=w(V,2),z=ge[0],k=ge[1],I=ke instanceof t.default.Text?ke.value().slice(0,de):"",W=z instanceof t.default.Text?z.value().slice(k):"",ee={collapsed:se.length===0,empty:se.length===0&&re.length()<=1,format:q.quill.getFormat(se),offset:ce,prefix:I,suffix:W};le.some(function(ae){if(ae.collapsed!=null&&ae.collapsed!==ee.collapsed||ae.empty!=null&&ae.empty!==ee.empty||ae.offset!=null&&ae.offset!==ee.offset)return!1;if(Array.isArray(ae.format)){if(ae.format.every(function(oe){return ee.format[oe]==null}))return!1}else if(f(ae.format)==="object"&&!Object.keys(ae.format).every(function(oe){return ae.format[oe]===!0?ee.format[oe]!=null:ae.format[oe]===!1?ee.format[oe]==null:(0,i.default)(ae.format[oe],ee.format[oe])}))return!1;return!(ae.prefix!=null&&!ae.prefix.test(ee.prefix)||ae.suffix!=null&&!ae.suffix.test(ee.suffix)||ae.handler.call(q,se,ee)===!0)})&&D.preventDefault()}}}})}}]),R}(b.default);function N(X,R){var K,q=X===O.keys.LEFT?"prefix":"suffix";return A(K={key:X,shiftKey:R,altKey:null},q,/^$/),A(K,"handler",function(D){var Z=D.index;X===O.keys.RIGHT&&(Z+=D.length+1);var le=this.quill.getLeaf(Z);return!(w(le,1)[0]instanceof t.default.Embed&&(X===O.keys.LEFT?R?this.quill.setSelection(D.index-1,D.length+1,s.default.sources.USER):this.quill.setSelection(D.index-1,s.default.sources.USER):R?this.quill.setSelection(D.index,D.length+1,s.default.sources.USER):this.quill.setSelection(D.index+D.length+1,s.default.sources.USER),1))}),K}function H(X,R){if(!(X.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(X.index),q=w(K,1)[0],D={};if(R.offset===0){var Z=this.quill.getLine(X.index-1),le=w(Z,1)[0];if(le!=null&&le.length()>1){var se=q.formats(),fe=this.quill.getFormat(X.index-1,1);D=n.default.attributes.diff(se,fe)||{}}}var he=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(R.prefix)?2:1;this.quill.deleteText(X.index-he,he,s.default.sources.USER),Object.keys(D).length>0&&this.quill.formatLine(X.index-he,he,D,s.default.sources.USER),this.quill.focus()}}function F(X,R){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(R.suffix)?2:1;if(!(X.index>=this.quill.getLength()-K)){var q={},D=0,Z=this.quill.getLine(X.index),le=w(Z,1)[0];if(R.offset>=le.length()-1){var se=this.quill.getLine(X.index+1),fe=w(se,1)[0];if(fe){var he=le.formats(),re=this.quill.getFormat(X.index,1);q=n.default.attributes.diff(he,re)||{},D=fe.length()}}this.quill.deleteText(X.index,K,s.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(X.index+D-1,K,q,s.default.sources.USER)}}function Y(X){var R=this.quill.getLines(X),K={};if(R.length>1){var q=R[0].formats(),D=R[R.length-1].formats();K=n.default.attributes.diff(D,q)||{}}this.quill.deleteText(X,s.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(X.index,1,K,s.default.sources.USER),this.quill.setSelection(X.index,s.default.sources.SILENT),this.quill.focus()}function j(X,R){var K=this;X.length>0&&this.quill.scroll.deleteAt(X.index,X.length);var q=Object.keys(R.format).reduce(function(D,Z){return t.default.query(Z,t.default.Scope.BLOCK)&&!Array.isArray(R.format[Z])&&(D[Z]=R.format[Z]),D},{});this.quill.insertText(X.index,`
`,q,s.default.sources.USER),this.quill.setSelection(X.index+1,s.default.sources.SILENT),this.quill.focus(),Object.keys(R.format).forEach(function(D){q[D]==null&&(Array.isArray(R.format[D])||D!=="link"&&K.quill.format(D,R.format[D],s.default.sources.USER))})}function J(X){return{key:O.keys.TAB,shiftKey:!X,format:{"code-block":!0},handler:function(K){var q=t.default.query("code-block"),D=K.index,Z=K.length,le=this.quill.scroll.descendant(q,D),se=w(le,2),fe=se[0],he=se[1];if(fe!=null){var re=this.quill.getIndex(fe),ce=fe.newlineIndex(he,!0)+1,ve=fe.newlineIndex(re+he+Z),we=fe.domNode.textContent.slice(ce,ve).split(`
`);he=0,we.forEach(function(ke,de){X?(fe.insertAt(ce+he,q.TAB),he+=q.TAB.length,de===0?D+=q.TAB.length:Z+=q.TAB.length):ke.startsWith(q.TAB)&&(fe.deleteAt(ce+he,q.TAB.length),he-=q.TAB.length,de===0?D-=q.TAB.length:Z-=q.TAB.length),he+=ke.length+1}),this.quill.update(s.default.sources.USER),this.quill.setSelection(D,Z,s.default.sources.SILENT)}}}}function Q(X){return{key:X[0].toUpperCase(),shortKey:!0,handler:function(K,q){this.quill.format(X,!q.format[X],s.default.sources.USER)}}}function G(X){if(typeof X=="string"||typeof X=="number")return G({key:X});if((X===void 0?"undefined":f(X))==="object"&&(X=(0,o.default)(X,!1)),typeof X.key=="string")if(O.keys[X.key.toUpperCase()]!=null)X.key=O.keys[X.key.toUpperCase()];else{if(X.key.length!==1)return null;X.key=X.key.toUpperCase().charCodeAt(0)}return X.shortKey&&(X[L]=X.shortKey,delete X.shortKey),X}O.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},O.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:O.keys.TAB,format:["blockquote","indent","list"],handler:function(R,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",s.default.sources.USER)}},outdent:{key:O.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(R,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",s.default.sources.USER)}},"outdent backspace":{key:O.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(R,K){K.format.indent!=null?this.quill.format("indent","-1",s.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,s.default.sources.USER)}},"indent code-block":J(!0),"outdent code-block":J(!1),"remove tab":{key:O.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(R){this.quill.deleteText(R.index-1,1,s.default.sources.USER)}},tab:{key:O.keys.TAB,handler:function(R){this.quill.history.cutoff();var K=new r.default().retain(R.index).delete(R.length).insert("	");this.quill.updateContents(K,s.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(R.index+1,s.default.sources.SILENT)}},"list empty enter":{key:O.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(R,K){this.quill.format("list",!1,s.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,s.default.sources.USER)}},"checklist enter":{key:O.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(R){var K=this.quill.getLine(R.index),q=w(K,2),D=q[0],Z=q[1],le=(0,e.default)({},D.formats(),{list:"checked"}),se=new r.default().retain(R.index).insert(`
`,le).retain(D.length()-Z-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,s.default.sources.USER),this.quill.setSelection(R.index+1,s.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:O.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(R,K){var q=this.quill.getLine(R.index),D=w(q,2),Z=D[0],le=D[1],se=new r.default().retain(R.index).insert(`
`,K.format).retain(Z.length()-le-1).retain(1,{header:null});this.quill.updateContents(se,s.default.sources.USER),this.quill.setSelection(R.index+1,s.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(R,K){var q=K.prefix.length,D=this.quill.getLine(R.index),Z=w(D,2),le=Z[0],se=Z[1];if(se>q)return!0;var fe=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":fe="unchecked";break;case"[x]":fe="checked";break;case"-":case"*":fe="bullet";break;default:fe="ordered"}this.quill.insertText(R.index," ",s.default.sources.USER),this.quill.history.cutoff();var he=new r.default().retain(R.index-se).delete(q+1).retain(le.length()-2-se).retain(1,{list:fe});this.quill.updateContents(he,s.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(R.index-q,s.default.sources.SILENT)}},"code exit":{key:O.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(R){var K=this.quill.getLine(R.index),q=w(K,2),D=q[0],Z=q[1],le=new r.default().retain(R.index+D.length()-Z-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(le,s.default.sources.USER)}},"embed left":N(O.keys.LEFT,!1),"embed left shift":N(O.keys.LEFT,!0),"embed right":N(O.keys.RIGHT,!1),"embed right shift":N(O.keys.RIGHT,!0)}},p.default=O,p.SHORTKEY=L},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function r(n,t,s){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var b=Object.getPrototypeOf(n);return b===null?void 0:r(b,t,s)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(s):void 0},w=function(){function r(n,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,s){return t&&r(n.prototype,t),s&&r(n,s),n}}(),m=i(h(0)),o=i(h(7));function i(r){return r&&r.__esModule?r:{default:r}}var e=function(r){function n(t,s){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return d.selection=s,d.textNode=document.createTextNode(n.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}(n,r),w(n,null,[{key:"value",value:function(){}}]),w(n,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(s,d){if(this._length!==0)return f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,s,d);for(var b=this,E=0;b!=null&&b.statics.scope!==m.default.Scope.BLOCK_BLOT;)E+=b.offset(b.parent),b=b.parent;b!=null&&(this._length=n.CONTENTS.length,b.optimize(),b.formatAt(E,n.CONTENTS.length,s,d),this._length=0)}},{key:"index",value:function(s,d){return s===this.textNode?0:f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"index",this).call(this,s,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var s=this.textNode,d=this.selection.getNativeRange(),b=void 0,E=void 0,A=void 0;if(d!=null&&d.start.node===s&&d.end.node===s){var S=[s,d.start.offset,d.end.offset];b=S[0],E=S[1],A=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==n.CONTENTS){var L=this.textNode.data.split(n.CONTENTS).join("");this.next instanceof o.default?(b=this.next.domNode,this.next.insertAt(0,L),this.textNode.data=n.CONTENTS):(this.textNode.data=L,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(n.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var O=function(N,H){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(F,Y){var j=[],J=!0,Q=!1,G=void 0;try{for(var X,R=F[Symbol.iterator]();!(J=(X=R.next()).done)&&(j.push(X.value),!Y||j.length!==Y);J=!0);}catch(K){Q=!0,G=K}finally{try{!J&&R.return&&R.return()}finally{if(Q)throw G}}return j}(N,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([E,A].map(function(N){return Math.max(0,Math.min(b.data.length,N-1))}),2);return E=O[0],A=O[1],{startNode:b,startOffset:E,endNode:b,endOffset:A}}}}},{key:"update",value:function(s,d){var b=this;if(s.some(function(A){return A.type==="characterData"&&A.target===b.textNode})){var E=this.restore();E&&(d.range=E)}}},{key:"value",value:function(){return""}}]),n}(m.default.Embed);e.blotName="cursor",e.className="ql-cursor",e.tagName="span",e.CONTENTS="\uFEFF",p.default=e},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=o(h(0)),w=h(4),m=o(w);function o(n){return n&&n.__esModule?n:{default:n}}function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}var r=function(n){function t(){return i(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(s,d):s.__proto__=d)}(t,n),t}(f.default.Container);r.allowedChildren=[m.default,w.BlockEmbed,r],p.default=r},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ColorStyle=p.ColorClass=p.ColorAttributor=void 0;var f,w=function(){function s(d,b){for(var E=0;E<b.length;E++){var A=b[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,b,E){return b&&s(d.prototype,b),E&&s(d,E),d}}(),m=function s(d,b,E){d===null&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,b);if(A===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:s(S,b,E)}if("value"in A)return A.value;var L=A.get;return L!==void 0?L.call(E):void 0},o=(f=h(0))&&f.__esModule?f:{default:f};function i(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}function e(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}var r=function(s){function d(){return i(this,d),e(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}(d,s),w(d,[{key:"value",value:function(E){var A=m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,E);return A.startsWith("rgb(")?"#"+(A=A.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join(""):A}}]),d}(o.default.Attributor.Style),n=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),t=new r("color","color",{scope:o.default.Scope.INLINE});p.ColorAttributor=r,p.ColorClass=n,p.ColorStyle=t},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.sanitize=p.default=void 0;var f,w=function(){function n(t,s){for(var d=0;d<s.length;d++){var b=s[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(t,b.key,b)}}return function(t,s,d){return s&&n(t.prototype,s),d&&n(t,d),t}}(),m=function n(t,s,d){t===null&&(t=Function.prototype);var b=Object.getOwnPropertyDescriptor(t,s);if(b===void 0){var E=Object.getPrototypeOf(t);return E===null?void 0:n(E,s,d)}if("value"in b)return b.value;var A=b.get;return A!==void 0?A.call(d):void 0};function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}var e=function(n){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(s,d):s.__proto__=d)}(t,n),w(t,[{key:"format",value:function(d,b){if(d!==this.statics.blotName||!b)return m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,d,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(d){var b=m(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,d);return d=this.sanitize(d),b.setAttribute("href",d),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return r(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),t}(((f=h(6))&&f.__esModule?f:{default:f}).default);function r(n,t){var s=document.createElement("a");s.href=n;var d=s.href.slice(0,s.href.indexOf(":"));return t.indexOf(d)>-1}e.blotName="link",e.tagName="A",e.SANITIZED_URL="about:blank",e.PROTOCOL_WHITELIST=["http","https","mailto","tel"],p.default=e,p.sanitize=r},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=function(){function t(s,d){for(var b=0;b<d.length;b++){var E=d[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(s,E.key,E)}}return function(s,d,b){return d&&t(s.prototype,d),b&&t(s,b),s}}(),m=i(h(23)),o=i(h(107));function i(t){return t&&t.__esModule?t:{default:t}}var e=0;function r(t,s){t.setAttribute(s,t.getAttribute(s)!=="true")}var n=function(){function t(s){var d=this;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t),this.select=s,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){d.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case m.default.keys.ENTER:d.togglePicker();break;case m.default.keys.ESCAPE:d.escape(),b.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return w(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),r(this.label,"aria-expanded"),r(this.options,"aria-hidden")}},{key:"buildItem",value:function(d){var b=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),d.hasAttribute("value")&&E.setAttribute("data-value",d.getAttribute("value")),d.textContent&&E.setAttribute("data-label",d.textContent),E.addEventListener("click",function(){b.selectItem(E,!0)}),E.addEventListener("keydown",function(A){switch(A.keyCode){case m.default.keys.ENTER:b.selectItem(E,!0),A.preventDefault();break;case m.default.keys.ESCAPE:b.escape(),A.preventDefault()}}),E}},{key:"buildLabel",value:function(){var d=document.createElement("span");return d.classList.add("ql-picker-label"),d.innerHTML=o.default,d.tabIndex="0",d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),this.container.appendChild(d),d}},{key:"buildOptions",value:function(){var d=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+e,e+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(E){var A=d.buildItem(E);b.appendChild(A),E.selected===!0&&d.selectItem(A)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var d=this;[].slice.call(this.select.attributes).forEach(function(b){d.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var d=this;this.close(),setTimeout(function(){return d.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(d){var b=arguments.length>1&&arguments[1]!==void 0&&arguments[1],E=this.container.querySelector(".ql-selected");if(d!==E&&(E!=null&&E.classList.remove("ql-selected"),d!=null&&(d.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(d.parentNode.children,d),d.hasAttribute("data-value")?this.label.setAttribute("data-value",d.getAttribute("data-value")):this.label.removeAttribute("data-value"),d.hasAttribute("data-label")?this.label.setAttribute("data-label",d.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":f(Event))==="object"){var A=document.createEvent("Event");A.initEvent("change",!0,!0),this.select.dispatchEvent(A)}this.close()}}},{key:"update",value:function(){var d=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];d=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var E=d!=null&&d!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),t}();p.default=n},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=S(h(0)),w=S(h(5)),m=h(4),o=S(m),i=S(h(16)),e=S(h(25)),r=S(h(24)),n=S(h(35)),t=S(h(6)),s=S(h(22)),d=S(h(7)),b=S(h(55)),E=S(h(42)),A=S(h(23));function S(L){return L&&L.__esModule?L:{default:L}}w.default.register({"blots/block":o.default,"blots/block/embed":m.BlockEmbed,"blots/break":i.default,"blots/container":e.default,"blots/cursor":r.default,"blots/embed":n.default,"blots/inline":t.default,"blots/scroll":s.default,"blots/text":d.default,"modules/clipboard":b.default,"modules/history":E.default,"modules/keyboard":A.default}),f.default.register(o.default,i.default,r.default,t.default,s.default,d.default),p.default=w.default},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=h(1),w=function(){function m(o){this.domNode=o,this.domNode[f.DATA_KEY]={blot:this}}return Object.defineProperty(m.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),m.create=function(o){if(this.tagName==null)throw new f.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o).toString()===o&&(o=parseInt(o))),i=typeof o=="number"?document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?document.createElement(o):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},m.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},m.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return f.create(o)},m.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[f.DATA_KEY]},m.prototype.deleteAt=function(o,i){this.isolate(o,i).remove()},m.prototype.formatAt=function(o,i,e,r){var n=this.isolate(o,i);if(f.query(e,f.Scope.BLOT)!=null&&r)n.wrap(e,r);else if(f.query(e,f.Scope.ATTRIBUTE)!=null){var t=f.create(this.statics.scope);n.wrap(t),t.format(e,r)}},m.prototype.insertAt=function(o,i,e){var r=e==null?f.create("text",i):f.create(i,e),n=this.split(o);this.parent.insertBefore(r,n)},m.prototype.insertInto=function(o,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var e=null;o.children.insertBefore(this,i),i!=null&&(e=i.domNode),this.domNode.parentNode==o.domNode&&this.domNode.nextSibling==e||o.domNode.insertBefore(this.domNode,e),this.parent=o,this.attach()},m.prototype.isolate=function(o,i){var e=this.split(o);return e.split(i),e},m.prototype.length=function(){return 1},m.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this==o?0:this.parent.children.offset(this)+this.parent.offset(o)},m.prototype.optimize=function(o){this.domNode[f.DATA_KEY]!=null&&delete this.domNode[f.DATA_KEY].mutations},m.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},m.prototype.replace=function(o){o.parent!=null&&(o.parent.insertBefore(this,o.next),o.remove())},m.prototype.replaceWith=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return e.replace(this),e},m.prototype.split=function(o,i){return o===0?this:this.next},m.prototype.update=function(o,i){},m.prototype.wrap=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return this.parent!=null&&this.parent.insertBefore(e,this.next),e.appendChild(this),e},m.blotName="abstract",m}();p.default=w},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=h(12),w=h(32),m=h(33),o=h(1),i=function(){function e(r){this.attributes={},this.domNode=r,this.build()}return e.prototype.attribute=function(r,n){n?r.add(this.domNode,n)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},e.prototype.build=function(){var r=this;this.attributes={};var n=f.default.keys(this.domNode),t=w.default.keys(this.domNode),s=m.default.keys(this.domNode);n.concat(t).concat(s).forEach(function(d){var b=o.query(d,o.Scope.ATTRIBUTE);b instanceof f.default&&(r.attributes[b.attrName]=b)})},e.prototype.copy=function(r){var n=this;Object.keys(this.attributes).forEach(function(t){var s=n.attributes[t].value(n.domNode);r.format(t,s)})},e.prototype.move=function(r){var n=this;this.copy(r),Object.keys(this.attributes).forEach(function(t){n.attributes[t].remove(n.domNode)}),this.attributes={}},e.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(n,t){return n[t]=r.attributes[t].value(r.domNode),n},{})},e}();p.default=i},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i,e){return(i.getAttribute("class")||"").split(/\s+/).filter(function(r){return r.indexOf(e+"-")===0})}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(this.remove(r),r.classList.add(this.keyName+"-"+n),!0)},e.prototype.remove=function(r){m(r,this.keyName).forEach(function(n){r.classList.remove(n)}),r.classList.length===0&&r.removeAttribute("class")},e.prototype.value=function(r){var n=(m(r,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(r,n)?n:""},e}(h(12).default);p.default=o},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i){var e=i.split("-"),r=e.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return e[0]+r}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(n){return n.split(":")[0].trim()})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(r.style[m(this.keyName)]=n,!0)},e.prototype.remove=function(r){r.style[m(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},e.prototype.value=function(r){var n=r.style[m(this.keyName)];return this.canAdd(r,n)?n:""},e}(h(12).default);p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.options=i,this.modules={}}return f(m,[{key:"init",value:function(){var i=this;Object.keys(this.options.modules).forEach(function(e){i.modules[e]==null&&i.addModule(e)})}},{key:"addModule",value:function(i){var e=this.quill.constructor.import("modules/"+i);return this.modules[i]=new e(this.quill,this.options.modules[i]||{}),this.modules[i]}}]),m}();w.DEFAULTS={modules:{}},w.themes={default:w},p.default=w},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function n(t,s){for(var d=0;d<s.length;d++){var b=s[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(t,b.key,b)}}return function(t,s,d){return s&&n(t.prototype,s),d&&n(t,d),t}}(),w=function n(t,s,d){t===null&&(t=Function.prototype);var b=Object.getOwnPropertyDescriptor(t,s);if(b===void 0){var E=Object.getPrototypeOf(t);return E===null?void 0:n(E,s,d)}if("value"in b)return b.value;var A=b.get;return A!==void 0?A.call(d):void 0},m=i(h(0)),o=i(h(7));function i(n){return n&&n.__esModule?n:{default:n}}var e="\uFEFF",r=function(n){function t(s){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t);var d=function(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s));return d.contentNode=document.createElement("span"),d.contentNode.setAttribute("contenteditable",!1),[].slice.call(d.domNode.childNodes).forEach(function(b){d.contentNode.appendChild(b)}),d.leftGuard=document.createTextNode(e),d.rightGuard=document.createTextNode(e),d.domNode.appendChild(d.leftGuard),d.domNode.appendChild(d.contentNode),d.domNode.appendChild(d.rightGuard),d}return function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(s,d):s.__proto__=d)}(t,n),f(t,[{key:"index",value:function(d,b){return d===this.leftGuard?0:d===this.rightGuard?1:w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,d,b)}},{key:"restore",value:function(d){var b=void 0,E=void 0,A=d.data.split(e).join("");if(d===this.leftGuard)if(this.prev instanceof o.default){var S=this.prev.length();this.prev.insertAt(S,A),b={startNode:this.prev.domNode,startOffset:S+A.length}}else E=document.createTextNode(A),this.parent.insertBefore(m.default.create(E),this),b={startNode:E,startOffset:A.length};else d===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,A),b={startNode:this.next.domNode,startOffset:A.length}):(E=document.createTextNode(A),this.parent.insertBefore(m.default.create(E),this.next),b={startNode:E,startOffset:A.length}));return d.data=e,b}},{key:"update",value:function(d,b){var E=this;d.forEach(function(A){if(A.type==="characterData"&&(A.target===E.leftGuard||A.target===E.rightGuard)){var S=E.restore(A.target);S&&(b.range=S)}})}}]),t}(m.default.Embed);p.default=r},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.AlignStyle=p.AlignClass=p.AlignAttribute=void 0;var f,w=(f=h(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new w.default.Attributor.Attribute("align","align",m),i=new w.default.Attributor.Class("align","ql-align",m),e=new w.default.Attributor.Style("align","text-align",m);p.AlignAttribute=o,p.AlignClass=i,p.AlignStyle=e},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.BackgroundStyle=p.BackgroundClass=void 0;var f,w=(f=h(0))&&f.__esModule?f:{default:f},m=h(26),o=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),i=new m.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});p.BackgroundClass=o,p.BackgroundStyle=i},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.DirectionStyle=p.DirectionClass=p.DirectionAttribute=void 0;var f,w=(f=h(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},o=new w.default.Attributor.Attribute("direction","dir",m),i=new w.default.Attributor.Class("direction","ql-direction",m),e=new w.default.Attributor.Style("direction","direction",m);p.DirectionAttribute=o,p.DirectionClass=i,p.DirectionStyle=e},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.FontClass=p.FontStyle=void 0;var f,w=function(){function d(b,E){for(var A=0;A<E.length;A++){var S=E[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,A){return E&&d(b.prototype,E),A&&d(b,A),b}}(),m=function d(b,E,A){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var L=Object.getPrototypeOf(b);return L===null?void 0:d(L,E,A)}if("value"in S)return S.value;var O=S.get;return O!==void 0?O.call(A):void 0},o=(f=h(0))&&f.__esModule?f:{default:f};function i(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}function e(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?d:b}var r={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},n=new o.default.Attributor.Class("font","ql-font",r),t=function(d){function b(){return i(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}(b,d),w(b,[{key:"value",value:function(A){return m(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,A).replace(/["']/g,"")}}]),b}(o.default.Attributor.Style),s=new t("font","font-family",r);p.FontStyle=s,p.FontClass=n},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SizeStyle=p.SizeClass=void 0;var f,w=(f=h(0))&&f.__esModule?f:{default:f},m=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});p.SizeClass=m,p.SizeStyle=o},function(g,p,h){"use strict";g.exports={align:{"":h(76),center:h(77),right:h(78),justify:h(79)},background:h(80),blockquote:h(81),bold:h(82),clean:h(83),code:h(58),"code-block":h(58),color:h(84),direction:{"":h(85),rtl:h(86)},float:{center:h(87),full:h(88),left:h(89),right:h(90)},formula:h(91),header:{1:h(92),2:h(93)},italic:h(94),image:h(95),indent:{"+1":h(96),"-1":h(97)},link:h(98),list:{ordered:h(99),bullet:h(100),check:h(101)},script:{sub:h(102),super:h(103)},strike:h(104),underline:h(105),video:h(106)}},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.getLastChangeIndex=p.default=void 0;var f=function(){function r(n,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,s){return t&&r(n.prototype,t),s&&r(n,s),n}}(),w=o(h(0)),m=o(h(5));function o(r){return r&&r.__esModule?r:{default:r}}var i=function(r){function n(t,s){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,s));return d.lastRecorded=0,d.ignoreChange=!1,d.clear(),d.quill.on(m.default.events.EDITOR_CHANGE,function(b,E,A,S){b!==m.default.events.TEXT_CHANGE||d.ignoreChange||(d.options.userOnly&&S!==m.default.sources.USER?d.transform(E):d.record(E,A))}),d.quill.keyboard.addBinding({key:"Z",shortKey:!0},d.undo.bind(d)),d.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},d.redo.bind(d)),/Win/i.test(navigator.platform)&&d.quill.keyboard.addBinding({key:"Y",shortKey:!0},d.redo.bind(d)),d}return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}(n,r),f(n,[{key:"change",value:function(s,d){if(this.stack[s].length!==0){var b=this.stack[s].pop();this.stack[d].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[s],m.default.sources.USER),this.ignoreChange=!1;var E=e(b[s]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(s,d){if(s.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(d),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var A=this.stack.undo.pop();b=b.compose(A.undo),s=A.redo.compose(s)}else this.lastRecorded=E;this.stack.undo.push({redo:s,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(s){this.stack.undo.forEach(function(d){d.undo=s.transform(d.undo,!0),d.redo=s.transform(d.redo,!0)}),this.stack.redo.forEach(function(d){d.undo=s.transform(d.undo,!0),d.redo=s.transform(d.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(o(h(9)).default);function e(r){var n=r.reduce(function(s,d){return s+(d.delete||0)},0),t=r.length()-n;return function(s){var d=s.ops[s.ops.length-1];return d!=null&&(d.insert!=null?typeof d.insert=="string"&&d.insert.endsWith(`
`):d.attributes!=null&&Object.keys(d.attributes).some(function(b){return w.default.query(b,w.default.Scope.BLOCK)!=null}))}(r)&&(t-=1),t}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},p.default=i,p.getLastChangeIndex=e},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.BaseTooltip=void 0;var f=function(){function Q(G,X){for(var R=0;R<X.length;R++){var K=X[R];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,X,R){return X&&Q(G.prototype,X),R&&Q(G,R),G}}(),w=function Q(G,X,R){G===null&&(G=Function.prototype);var K=Object.getOwnPropertyDescriptor(G,X);if(K===void 0){var q=Object.getPrototypeOf(G);return q===null?void 0:Q(q,X,R)}if("value"in K)return K.value;var D=K.get;return D!==void 0?D.call(R):void 0},m=b(h(3)),o=b(h(2)),i=b(h(8)),e=b(h(23)),r=b(h(34)),n=b(h(59)),t=b(h(60)),s=b(h(28)),d=b(h(61));function b(Q){return Q&&Q.__esModule?Q:{default:Q}}function E(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function A(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||typeof G!="object"&&typeof G!="function"?Q:G}function S(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var L=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],H=["1","2","3",!1],F=["small",!1,"large","huge"],Y=function(Q){function G(X,R){E(this,G);var K=A(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,R));return X.emitter.listenDOM("click",document.body,function q(D){if(!document.body.contains(X.root))return document.body.removeEventListener("click",q);K.tooltip==null||K.tooltip.root.contains(D.target)||document.activeElement===K.tooltip.textbox||K.quill.hasFocus()||K.tooltip.hide(),K.pickers!=null&&K.pickers.forEach(function(Z){Z.container.contains(D.target)||Z.close()})}),K}return S(G,Q),f(G,[{key:"addModule",value:function(R){var K=w(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"addModule",this).call(this,R);return R==="toolbar"&&this.extendToolbar(K),K}},{key:"buildButtons",value:function(R,K){R.forEach(function(q){(q.getAttribute("class")||"").split(/\s+/).forEach(function(D){if(D.startsWith("ql-")&&(D=D.slice("ql-".length),K[D]!=null))if(D==="direction")q.innerHTML=K[D][""]+K[D].rtl;else if(typeof K[D]=="string")q.innerHTML=K[D];else{var Z=q.value||"";Z!=null&&K[D][Z]&&(q.innerHTML=K[D][Z])}})})}},{key:"buildPickers",value:function(R,K){var q=this;this.pickers=R.map(function(D){if(D.classList.contains("ql-align"))return D.querySelector("option")==null&&J(D,L),new t.default(D,K.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){var Z=D.classList.contains("ql-background")?"background":"color";return D.querySelector("option")==null&&J(D,O,Z==="background"?"#ffffff":"#000000"),new n.default(D,K[Z])}return D.querySelector("option")==null&&(D.classList.contains("ql-font")?J(D,N):D.classList.contains("ql-header")?J(D,H):D.classList.contains("ql-size")&&J(D,F)),new s.default(D)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){q.pickers.forEach(function(D){D.update()})})}}]),G}(r.default);Y.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var G=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&((X=document.createElement("input")).setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var R=new FileReader;R.onload=function(K){var q=G.quill.getSelection(!0);G.quill.updateContents(new o.default().retain(q.index).delete(q.length).insert({image:K.target.result}),i.default.sources.USER),G.quill.setSelection(q.index+1,i.default.sources.SILENT),X.value=""},R.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(Q){function G(X,R){E(this,G);var K=A(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,X,R));return K.textbox=K.root.querySelector('input[type="text"]'),K.listen(),K}return S(G,Q),f(G,[{key:"listen",value:function(){var R=this;this.textbox.addEventListener("keydown",function(K){e.default.match(K,"enter")?(R.save(),K.preventDefault()):e.default.match(K,"escape")&&(R.cancel(),K.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),K!=null?this.textbox.value=K:R!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+R)||""),this.root.setAttribute("data-mode",R)}},{key:"restoreFocus",value:function(){var R=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=R}},{key:"save",value:function(){var R,K,q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,i.default.sources.USER)),this.quill.root.scrollTop=D;break;case"video":q=(K=(R=q).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":R;case"formula":if(!q)break;var Z=this.quill.getSelection(!0);if(Z!=null){var le=Z.index+Z.length;this.quill.insertEmbed(le,this.root.getAttribute("data-mode"),q,i.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(le+1," ",i.default.sources.USER),this.quill.setSelection(le+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),G}(d.default);function J(Q,G){var X=arguments.length>2&&arguments[2]!==void 0&&arguments[2];G.forEach(function(R){var K=document.createElement("option");R===X?K.setAttribute("selected","selected"):K.setAttribute("value",R),Q.appendChild(K)})}p.BaseTooltip=j,p.default=Y},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var m=[],o=0;o<arguments.length;o++)m[o]=arguments[o];this.insertBefore(m[0],null),m.length>1&&this.append.apply(this,m.slice(1))},w.prototype.contains=function(m){for(var o,i=this.iterator();o=i();)if(o===m)return!0;return!1},w.prototype.insertBefore=function(m,o){m&&(m.next=o,o!=null?(m.prev=o.prev,o.prev!=null&&(o.prev.next=m),o.prev=m,o===this.head&&(this.head=m)):this.tail!=null?(this.tail.next=m,m.prev=this.tail,this.tail=m):(m.prev=null,this.head=this.tail=m),this.length+=1)},w.prototype.offset=function(m){for(var o=0,i=this.head;i!=null;){if(i===m)return o;o+=i.length(),i=i.next}return-1},w.prototype.remove=function(m){this.contains(m)&&(m.prev!=null&&(m.prev.next=m.next),m.next!=null&&(m.next.prev=m.prev),m===this.head&&(this.head=m.next),m===this.tail&&(this.tail=m.prev),this.length-=1)},w.prototype.iterator=function(m){return m===void 0&&(m=this.head),function(){var o=m;return m!=null&&(m=m.next),o}},w.prototype.find=function(m,o){o===void 0&&(o=!1);for(var i,e=this.iterator();i=e();){var r=i.length();if(m<r||o&&m===r&&(i.next==null||i.next.length()!==0))return[i,m];m-=r}return[null,0]},w.prototype.forEach=function(m){for(var o,i=this.iterator();o=i();)m(o)},w.prototype.forEachAt=function(m,o,i){if(!(o<=0))for(var e,r=this.find(m),n=r[0],t=m-r[1],s=this.iterator(n);(e=s())&&t<m+o;){var d=e.length();m>t?i(e,m-t,Math.min(o,t+d-m)):i(e,0,Math.min(d,m+o-t)),t+=d}},w.prototype.map=function(m){return this.reduce(function(o,i){return o.push(m(i)),o},[])},w.prototype.reduce=function(m,o){for(var i,e=this.iterator();i=e();)o=m(o,i);return o},w}();p.default=f},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var t in n)n.hasOwnProperty(t)&&(r[t]=n[t])},function(r,n){function t(){this.constructor=r}f(r,n),r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(17),o=h(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},e=function(r){function n(t){var s=r.call(this,t)||this;return s.scroll=s,s.observer=new MutationObserver(function(d){s.update(d)}),s.observer.observe(s.domNode,i),s.attach(),s}return w(n,r),n.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(t,s){this.update(),t===0&&s===this.length()?this.children.forEach(function(d){d.remove()}):r.prototype.deleteAt.call(this,t,s)},n.prototype.formatAt=function(t,s,d,b){this.update(),r.prototype.formatAt.call(this,t,s,d,b)},n.prototype.insertAt=function(t,s,d){this.update(),r.prototype.insertAt.call(this,t,s,d)},n.prototype.optimize=function(t,s){var d=this;t===void 0&&(t=[]),s===void 0&&(s={}),r.prototype.optimize.call(this,s);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)t.push(b.pop());for(var E=function O(N,H){H===void 0&&(H=!0),N!=null&&N!==d&&N.domNode.parentNode!=null&&(N.domNode[o.DATA_KEY].mutations==null&&(N.domNode[o.DATA_KEY].mutations=[]),H&&O(N.parent))},A=function O(N){N.domNode[o.DATA_KEY]!=null&&N.domNode[o.DATA_KEY].mutations!=null&&(N instanceof m.default&&N.children.forEach(O),N.optimize(s))},S=t,L=0;S.length>0;L+=1){if(L>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(O){var N=o.find(O.target,!0);N!=null&&(N.domNode===O.target&&(O.type==="childList"?(E(o.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(H){var F=o.find(H,!1);E(F,!1),F instanceof m.default&&F.children.forEach(function(Y){E(Y,!1)})})):O.type==="attributes"&&E(N.prev)),E(N))}),this.children.forEach(A),b=(S=[].slice.call(this.observer.takeRecords())).slice();b.length>0;)t.push(b.pop())}},n.prototype.update=function(t,s){var d=this;s===void 0&&(s={}),(t=t||this.observer.takeRecords()).map(function(b){var E=o.find(b.target,!0);return E==null?null:E.domNode[o.DATA_KEY].mutations==null?(E.domNode[o.DATA_KEY].mutations=[b],E):(E.domNode[o.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b!=null&&b!==d&&b.domNode[o.DATA_KEY]!=null&&b.update(b.domNode[o.DATA_KEY].mutations||[],s)}),this.domNode[o.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,s),this.optimize(t,s)},n.blotName="scroll",n.defaultChild="block",n.scope=o.Scope.BLOCK_BLOT,n.tagName="DIV",n}(m.default);p.default=e},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(18),o=h(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){if(n.tagName!==r.tagName)return e.formats.call(this,n)},r.prototype.format=function(n,t){var s=this;n!==this.statics.blotName||t?e.prototype.format.call(this,n,t):(this.children.forEach(function(d){d instanceof m.default||(d=d.wrap(r.blotName,!0)),s.attributes.copy(d)}),this.unwrap())},r.prototype.formatAt=function(n,t,s,d){this.formats()[s]!=null||o.query(s,o.Scope.ATTRIBUTE)?this.isolate(n,t).format(s,d):e.prototype.formatAt.call(this,n,t,s,d)},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var s=this.next;s instanceof r&&s.prev===this&&function(d,b){if(Object.keys(d).length!==Object.keys(b).length)return!1;for(var E in d)if(d[E]!==b[E])return!1;return!0}(t,s.formats())&&(s.moveChildren(this),s.remove())},r.blotName="inline",r.scope=o.Scope.INLINE_BLOT,r.tagName="SPAN",r}(m.default);p.default=i},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(18),o=h(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){var t=o.query(r.blotName).tagName;if(n.tagName!==t)return e.formats.call(this,n)},r.prototype.format=function(n,t){o.query(n,o.Scope.BLOCK)!=null&&(n!==this.statics.blotName||t?e.prototype.format.call(this,n,t):this.replaceWith(r.blotName))},r.prototype.formatAt=function(n,t,s,d){o.query(s,o.Scope.BLOCK)!=null?this.format(s,d):e.prototype.formatAt.call(this,n,t,s,d)},r.prototype.insertAt=function(n,t,s){if(s==null||o.query(t,o.Scope.INLINE)!=null)e.prototype.insertAt.call(this,n,t,s);else{var d=this.split(n),b=o.create(t,s);d.parent.insertBefore(b,d)}},r.prototype.update=function(n,t){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,n,t)},r.blotName="block",r.scope=o.Scope.BLOCK_BLOT,r.tagName="P",r}(m.default);p.default=i},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var e in i)i.hasOwnProperty(e)&&(o[e]=i[e])},function(o,i){function e(){this.constructor=o}f(o,i),o.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(p,"__esModule",{value:!0});var m=function(o){function i(){return o!==null&&o.apply(this,arguments)||this}return w(i,o),i.formats=function(e){},i.prototype.format=function(e,r){o.prototype.formatAt.call(this,0,this.length(),e,r)},i.prototype.formatAt=function(e,r,n,t){e===0&&r===this.length()?this.format(n,t):o.prototype.formatAt.call(this,e,r,n,t)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(h(19).default);p.default=m},function(g,p,h){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(p,"__esModule",{value:!0});var m=h(19),o=h(1),i=function(e){function r(n){var t=e.call(this,n)||this;return t.text=t.statics.value(t.domNode),t}return w(r,e),r.create=function(n){return document.createTextNode(n)},r.value=function(n){var t=n.data;return t.normalize&&(t=t.normalize()),t},r.prototype.deleteAt=function(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)},r.prototype.index=function(n,t){return this.domNode===n?t:-1},r.prototype.insertAt=function(n,t,s){s==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):e.prototype.insertAt.call(this,n,t,s)},r.prototype.length=function(){return this.text.length},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof r&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},r.prototype.position=function(n,t){return t===void 0&&(t=!1),[this.domNode,n]},r.prototype.split=function(n,t){if(t===void 0&&(t=!1),!t){if(n===0)return this;if(n===this.length())return this.next}var s=o.create(this.domNode.splitText(n));return this.parent.insertBefore(s,this.next),this.text=this.statics.value(this.domNode),s},r.prototype.update=function(n,t){var s=this;n.some(function(d){return d.type==="characterData"&&d.target===s.domNode})&&(this.text=this.statics.value(this.domNode))},r.prototype.value=function(){return this.text},r.blotName="text",r.scope=o.Scope.INLINE_BLOT,r}(m.default);p.default=i},function(g,p,h){"use strict";var f=document.createElement("div");if(f.classList.toggle("test-class",!1),f.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(m,o){return arguments.length>1&&!this.contains(m)==!o?o:w.call(this,m)}}String.prototype.startsWith||(String.prototype.startsWith=function(m,o){return o=o||0,this.substr(o,m.length)===m}),String.prototype.endsWith||(String.prototype.endsWith=function(m,o){var i=this.toString();(typeof o!="number"||!isFinite(o)||Math.floor(o)!==o||o>i.length)&&(o=i.length),o-=m.length;var e=i.indexOf(m,o);return e!==-1&&e===o}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("predicate must be a function");for(var i,e=Object(this),r=e.length>>>0,n=arguments[1],t=0;t<r;t++)if(i=e[t],o.call(n,i,t,e))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(g,p){var h=-1;function f(n,t,s){if(n==t)return n?[[0,n]]:[];(s<0||n.length<s)&&(s=null);var d=m(n,t),b=n.substring(0,d);d=o(n=n.substring(d),t=t.substring(d));var E=n.substring(n.length-d),A=function(S,L){var O;if(!S)return[[1,L]];if(!L)return[[h,S]];var N=S.length>L.length?S:L,H=S.length>L.length?L:S,F=N.indexOf(H);if(F!=-1)return O=[[1,N.substring(0,F)],[0,H],[1,N.substring(F+H.length)]],S.length>L.length&&(O[0][0]=O[2][0]=h),O;if(H.length==1)return[[h,S],[1,L]];var Y=function(q,D){var Z=q.length>D.length?q:D,le=q.length>D.length?D:q;if(Z.length<4||2*le.length<Z.length)return null;function se(de,V,ge){for(var z,k,I,W,ee=de.substring(ge,ge+Math.floor(de.length/4)),ae=-1,oe="";(ae=V.indexOf(ee,ae+1))!=-1;){var Ee=m(de.substring(ge),V.substring(ae)),Le=o(de.substring(0,ge),V.substring(0,ae));oe.length<Le+Ee&&(oe=V.substring(ae-Le,ae)+V.substring(ae,ae+Ee),z=de.substring(0,ge-Le),k=de.substring(ge+Ee),I=V.substring(0,ae-Le),W=V.substring(ae+Ee))}return 2*oe.length>=de.length?[z,k,I,W,oe]:null}var fe,he,re,ce,ve,we=se(Z,le,Math.ceil(Z.length/4)),ke=se(Z,le,Math.ceil(Z.length/2));return we||ke?(fe=ke?we&&we[4].length>ke[4].length?we:ke:we,q.length>D.length?(he=fe[0],re=fe[1],ce=fe[2],ve=fe[3]):(ce=fe[0],ve=fe[1],he=fe[2],re=fe[3]),[he,re,ce,ve,fe[4]]):null}(S,L);if(Y){var j=Y[0],J=Y[1],Q=Y[2],G=Y[3],X=Y[4],R=f(j,Q),K=f(J,G);return R.concat([[0,X]],K)}return function(q,D){for(var Z=q.length,le=D.length,se=Math.ceil((Z+le)/2),fe=se,he=2*se,re=new Array(he),ce=new Array(he),ve=0;ve<he;ve++)re[ve]=-1,ce[ve]=-1;re[fe+1]=0,ce[fe+1]=0;for(var we=Z-le,ke=we%2!=0,de=0,V=0,ge=0,z=0,k=0;k<se;k++){for(var I=-k+de;I<=k-V;I+=2){for(var W=fe+I,ee=(Ie=I==-k||I!=k&&re[W-1]<re[W+1]?re[W+1]:re[W-1]+1)-I;Ie<Z&&ee<le&&q.charAt(Ie)==D.charAt(ee);)Ie++,ee++;if(re[W]=Ie,Ie>Z)V+=2;else if(ee>le)de+=2;else if(ke&&(Ee=fe+we-I)>=0&&Ee<he&&ce[Ee]!=-1&&Ie>=(oe=Z-ce[Ee]))return w(q,D,Ie,ee)}for(var ae=-k+ge;ae<=k-z;ae+=2){for(var oe,Ee=fe+ae,Le=(oe=ae==-k||ae!=k&&ce[Ee-1]<ce[Ee+1]?ce[Ee+1]:ce[Ee-1]+1)-ae;oe<Z&&Le<le&&q.charAt(Z-oe-1)==D.charAt(le-Le-1);)oe++,Le++;if(ce[Ee]=oe,oe>Z)z+=2;else if(Le>le)ge+=2;else if(!ke){var Ie;if((W=fe+we-ae)>=0&&W<he&&re[W]!=-1&&(ee=fe+(Ie=re[W])-W,Ie>=(oe=Z-oe)))return w(q,D,Ie,ee)}}}return[[h,q],[1,D]]}(S,L)}(n=n.substring(0,n.length-d),t=t.substring(0,t.length-d));return b&&A.unshift([0,b]),E&&A.push([0,E]),i(A),s!=null&&(A=function(S,L){var O=function(J,Q){if(Q===0)return[0,J];for(var G=0,X=0;X<J.length;X++){var R=J[X];if(R[0]===h||R[0]===0){var K=G+R[1].length;if(Q===K)return[X+1,J];if(Q<K){J=J.slice();var q=Q-G,D=[R[0],R[1].slice(0,q)],Z=[R[0],R[1].slice(q)];return J.splice(X,1,D,Z),[X+1,J]}G=K}}throw new Error("cursor_pos is out of bounds!")}(S,L),N=O[1],H=O[0],F=N[H],Y=N[H+1];if(F==null||F[0]!==0)return S;if(Y!=null&&F[1]+Y[1]===Y[1]+F[1])return N.splice(H,2,Y,F),r(N,H,2);if(Y!=null&&Y[1].indexOf(F[1])===0){N.splice(H,2,[Y[0],F[1]],[0,F[1]]);var j=Y[1].slice(F[1].length);return j.length>0&&N.splice(H+2,0,[Y[0],j]),r(N,H,3)}return S}(A,s)),function(S){for(var L=!1,O=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},N=2;N<S.length;N+=1)S[N-2][0]===0&&(H=S[N-2][1]).charCodeAt(H.length-1)>=55296&&H.charCodeAt(H.length-1)<=56319&&S[N-1][0]===h&&O(S[N-1][1])&&S[N][0]===1&&O(S[N][1])&&(L=!0,S[N-1][1]=S[N-2][1].slice(-1)+S[N-1][1],S[N][1]=S[N-2][1].slice(-1)+S[N][1],S[N-2][1]=S[N-2][1].slice(0,-1));var H;if(!L)return S;var F=[];for(N=0;N<S.length;N+=1)S[N][1].length>0&&F.push(S[N]);return F}(A)}function w(n,t,s,d){var b=n.substring(0,s),E=t.substring(0,d),A=n.substring(s),S=t.substring(d),L=f(b,E),O=f(A,S);return L.concat(O)}function m(n,t){if(!n||!t||n.charAt(0)!=t.charAt(0))return 0;for(var s=0,d=Math.min(n.length,t.length),b=d,E=0;s<b;)n.substring(E,b)==t.substring(E,b)?E=s=b:d=b,b=Math.floor((d-s)/2+s);return b}function o(n,t){if(!n||!t||n.charAt(n.length-1)!=t.charAt(t.length-1))return 0;for(var s=0,d=Math.min(n.length,t.length),b=d,E=0;s<b;)n.substring(n.length-b,n.length-E)==t.substring(t.length-b,t.length-E)?E=s=b:d=b,b=Math.floor((d-s)/2+s);return b}function i(n){n.push([0,""]);for(var t,s=0,d=0,b=0,E="",A="";s<n.length;)switch(n[s][0]){case 1:b++,A+=n[s][1],s++;break;case h:d++,E+=n[s][1],s++;break;case 0:d+b>1?(d!==0&&b!==0&&((t=m(A,E))!==0&&(s-d-b>0&&n[s-d-b-1][0]==0?n[s-d-b-1][1]+=A.substring(0,t):(n.splice(0,0,[0,A.substring(0,t)]),s++),A=A.substring(t),E=E.substring(t)),(t=o(A,E))!==0&&(n[s][1]=A.substring(A.length-t)+n[s][1],A=A.substring(0,A.length-t),E=E.substring(0,E.length-t))),d===0?n.splice(s-b,d+b,[1,A]):b===0?n.splice(s-d,d+b,[h,E]):n.splice(s-d-b,d+b,[h,E],[1,A]),s=s-d-b+(d?1:0)+(b?1:0)+1):s!==0&&n[s-1][0]==0?(n[s-1][1]+=n[s][1],n.splice(s,1)):s++,b=0,d=0,E="",A=""}n[n.length-1][1]===""&&n.pop();var S=!1;for(s=1;s<n.length-1;)n[s-1][0]==0&&n[s+1][0]==0&&(n[s][1].substring(n[s][1].length-n[s-1][1].length)==n[s-1][1]?(n[s][1]=n[s-1][1]+n[s][1].substring(0,n[s][1].length-n[s-1][1].length),n[s+1][1]=n[s-1][1]+n[s+1][1],n.splice(s-1,1),S=!0):n[s][1].substring(0,n[s+1][1].length)==n[s+1][1]&&(n[s-1][1]+=n[s+1][1],n[s][1]=n[s][1].substring(n[s+1][1].length)+n[s+1][1],n.splice(s+1,1),S=!0)),s++;S&&i(n)}var e=f;function r(n,t,s){for(var d=t+s-1;d>=0&&d>=t-1;d--)if(d+1<n.length){var b=n[d],E=n[d+1];b[0]===E[1]&&n.splice(d,2,[b[0],b[1]+E[1]])}return n}e.INSERT=1,e.DELETE=h,e.EQUAL=0,g.exports=e},function(g,p){function h(f){var w=[];for(var m in f)w.push(m);return w}(g.exports=typeof Object.keys=="function"?Object.keys:h).shim=h},function(g,p){var h=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function f(m){return Object.prototype.toString.call(m)=="[object Arguments]"}function w(m){return m&&typeof m=="object"&&typeof m.length=="number"&&Object.prototype.hasOwnProperty.call(m,"callee")&&!Object.prototype.propertyIsEnumerable.call(m,"callee")||!1}(p=g.exports=h?f:w).supported=f,p.unsupported=w},function(g,p){"use strict";var h=Object.prototype.hasOwnProperty,f="~";function w(){}function m(i,e,r){this.fn=i,this.context=e,this.once=r||!1}function o(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(f=!1)),o.prototype.eventNames=function(){var i,e,r=[];if(this._eventsCount===0)return r;for(e in i=this._events)h.call(i,e)&&r.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(i)):r},o.prototype.listeners=function(i,e){var r=f?f+i:i,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var t=0,s=n.length,d=new Array(s);t<s;t++)d[t]=n[t].fn;return d},o.prototype.emit=function(i,e,r,n,t,s){var d=f?f+i:i;if(!this._events[d])return!1;var b,E,A=this._events[d],S=arguments.length;if(A.fn){switch(A.once&&this.removeListener(i,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,e),!0;case 3:return A.fn.call(A.context,e,r),!0;case 4:return A.fn.call(A.context,e,r,n),!0;case 5:return A.fn.call(A.context,e,r,n,t),!0;case 6:return A.fn.call(A.context,e,r,n,t,s),!0}for(E=1,b=new Array(S-1);E<S;E++)b[E-1]=arguments[E];A.fn.apply(A.context,b)}else{var L,O=A.length;for(E=0;E<O;E++)switch(A[E].once&&this.removeListener(i,A[E].fn,void 0,!0),S){case 1:A[E].fn.call(A[E].context);break;case 2:A[E].fn.call(A[E].context,e);break;case 3:A[E].fn.call(A[E].context,e,r);break;case 4:A[E].fn.call(A[E].context,e,r,n);break;default:if(!b)for(L=1,b=new Array(S-1);L<S;L++)b[L-1]=arguments[L];A[E].fn.apply(A[E].context,b)}}return!0},o.prototype.on=function(i,e,r){var n=new m(e,r||this),t=f?f+i:i;return this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],n]:this._events[t].push(n):(this._events[t]=n,this._eventsCount++),this},o.prototype.once=function(i,e,r){var n=new m(e,r||this,!0),t=f?f+i:i;return this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],n]:this._events[t].push(n):(this._events[t]=n,this._eventsCount++),this},o.prototype.removeListener=function(i,e,r,n){var t=f?f+i:i;if(!this._events[t])return this;if(!e)return--this._eventsCount==0?this._events=new w:delete this._events[t],this;var s=this._events[t];if(s.fn)s.fn!==e||n&&!s.once||r&&s.context!==r||(--this._eventsCount==0?this._events=new w:delete this._events[t]);else{for(var d=0,b=[],E=s.length;d<E;d++)(s[d].fn!==e||n&&!s[d].once||r&&s[d].context!==r)&&b.push(s[d]);b.length?this._events[t]=b.length===1?b[0]:b:--this._eventsCount==0?this._events=new w:delete this._events[t]}return this},o.prototype.removeAllListeners=function(i){var e;return i?(e=f?f+i:i,this._events[e]&&(--this._eventsCount==0?this._events=new w:delete this._events[e])):(this._events=new w,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=f,o.EventEmitter=o,g!==void 0&&(g.exports=o)},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.matchText=p.matchSpacing=p.matchNewline=p.matchBlot=p.matchAttributor=p.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},w=function(ce,ve){if(Array.isArray(ce))return ce;if(Symbol.iterator in Object(ce))return function(we,ke){var de=[],V=!0,ge=!1,z=void 0;try{for(var k,I=we[Symbol.iterator]();!(V=(k=I.next()).done)&&(de.push(k.value),!ke||de.length!==ke);V=!0);}catch(W){ge=!0,z=W}finally{try{!V&&I.return&&I.return()}finally{if(ge)throw z}}return de}(ce,ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function re(ce,ve){for(var we=0;we<ve.length;we++){var ke=ve[we];ke.enumerable=ke.enumerable||!1,ke.configurable=!0,"value"in ke&&(ke.writable=!0),Object.defineProperty(ce,ke.key,ke)}}return function(ce,ve,we){return ve&&re(ce.prototype,ve),we&&re(ce,we),ce}}(),o=O(h(3)),i=O(h(2)),e=O(h(0)),r=O(h(5)),n=O(h(10)),t=O(h(9)),s=h(36),d=h(37),b=O(h(13)),E=h(26),A=h(38),S=h(39),L=h(40);function O(re){return re&&re.__esModule?re:{default:re}}function N(re,ce,ve){return ce in re?Object.defineProperty(re,ce,{value:ve,enumerable:!0,configurable:!0,writable:!0}):re[ce]=ve,re}var H=(0,n.default)("quill:clipboard"),F="__ql-matcher",Y=[[Node.TEXT_NODE,he],[Node.TEXT_NODE,se],["br",function(re,ce){return R(ce,`
`)||ce.insert(`
`),ce}],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,function(re,ce){var ve={},we=re.style||{};return we.fontStyle&&X(re).fontStyle==="italic"&&(ve.italic=!0),we.fontWeight&&(X(re).fontWeight.startsWith("bold")||parseInt(X(re).fontWeight)>=700)&&(ve.bold=!0),Object.keys(ve).length>0&&(ce=G(ce,ve)),parseFloat(we.textIndent||0)>0&&(ce=new i.default().insert("	").concat(ce)),ce}],["li",function(re,ce){var ve=e.default.query(re);if(ve==null||ve.blotName!=="list-item"||!R(ce,`
`))return ce;for(var we=-1,ke=re.parentNode;!ke.classList.contains("ql-clipboard");)(e.default.query(ke)||{}).blotName==="list"&&(we+=1),ke=ke.parentNode;return we<=0?ce:ce.compose(new i.default().retain(ce.length()-1).retain(1,{indent:we}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new i.default}]],j=[s.AlignAttribute,A.DirectionAttribute].reduce(function(re,ce){return re[ce.keyName]=ce,re},{}),J=[s.AlignStyle,d.BackgroundStyle,E.ColorStyle,A.DirectionStyle,S.FontStyle,L.SizeStyle].reduce(function(re,ce){return re[ce.keyName]=ce,re},{}),Q=function(re){function ce(ve,we){(function(de,V){if(!(de instanceof V))throw new TypeError("Cannot call a class as a function")})(this,ce);var ke=function(de,V){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||typeof V!="object"&&typeof V!="function"?de:V}(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,ve,we));return ke.quill.root.addEventListener("paste",ke.onPaste.bind(ke)),ke.container=ke.quill.addContainer("ql-clipboard"),ke.container.setAttribute("contenteditable",!0),ke.container.setAttribute("tabindex",-1),ke.matchers=[],Y.concat(ke.options.matchers).forEach(function(de){var V=w(de,2),ge=V[0],z=V[1];(we.matchVisual||z!==fe)&&ke.addMatcher(ge,z)}),ke}return function(ve,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof we);ve.prototype=Object.create(we&&we.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),we&&(Object.setPrototypeOf?Object.setPrototypeOf(ve,we):ve.__proto__=we)}(ce,re),m(ce,[{key:"addMatcher",value:function(we,ke){this.matchers.push([we,ke])}},{key:"convert",value:function(we){if(typeof we=="string")return this.container.innerHTML=we.replace(/\>\r?\n +\</g,"><"),this.convert();var ke=this.quill.getFormat(this.quill.selection.savedRange.index);if(ke[b.default.blotName]){var de=this.container.innerText;return this.container.innerHTML="",new i.default().insert(de,N({},b.default.blotName,ke[b.default.blotName]))}var V=this.prepareMatching(),ge=w(V,2),z=ge[0],k=ge[1],I=q(this.container,z,k);return R(I,`
`)&&I.ops[I.ops.length-1].attributes==null&&(I=I.compose(new i.default().retain(I.length()-1).delete(1))),H.log("convert",this.container.innerHTML,I),this.container.innerHTML="",I}},{key:"dangerouslyPasteHTML",value:function(we,ke){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;if(typeof we=="string")this.quill.setContents(this.convert(we),ke),this.quill.setSelection(0,r.default.sources.SILENT);else{var V=this.convert(ke);this.quill.updateContents(new i.default().retain(we).concat(V),de),this.quill.setSelection(we+V.length(),r.default.sources.SILENT)}}},{key:"onPaste",value:function(we){var ke=this;if(!we.defaultPrevented&&this.quill.isEnabled()){var de=this.quill.getSelection(),V=new i.default().retain(de.index),ge=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(r.default.sources.SILENT),setTimeout(function(){V=V.concat(ke.convert()).delete(de.length),ke.quill.updateContents(V,r.default.sources.USER),ke.quill.setSelection(V.length()-de.length,r.default.sources.SILENT),ke.quill.scrollingContainer.scrollTop=ge,ke.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var we=this,ke=[],de=[];return this.matchers.forEach(function(V){var ge=w(V,2),z=ge[0],k=ge[1];switch(z){case Node.TEXT_NODE:de.push(k);break;case Node.ELEMENT_NODE:ke.push(k);break;default:[].forEach.call(we.container.querySelectorAll(z),function(I){I[F]=I[F]||[],I[F].push(k)})}}),[ke,de]}}]),ce}(t.default);function G(re,ce,ve){return(ce===void 0?"undefined":f(ce))==="object"?Object.keys(ce).reduce(function(we,ke){return G(we,ke,ce[ke])},re):re.reduce(function(we,ke){return ke.attributes&&ke.attributes[ce]?we.push(ke):we.insert(ke.insert,(0,o.default)({},N({},ce,ve),ke.attributes))},new i.default)}function X(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var ce="__ql-computed-style";return re[ce]||(re[ce]=window.getComputedStyle(re))}function R(re,ce){for(var ve="",we=re.ops.length-1;we>=0&&ve.length<ce.length;--we){var ke=re.ops[we];if(typeof ke.insert!="string")break;ve=ke.insert+ve}return ve.slice(-1*ce.length)===ce}function K(re){if(re.childNodes.length===0)return!1;var ce=X(re);return["block","list-item"].indexOf(ce.display)>-1}function q(re,ce,ve){return re.nodeType===re.TEXT_NODE?ve.reduce(function(we,ke){return ke(re,we)},new i.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(we,ke){var de=q(ke,ce,ve);return ke.nodeType===re.ELEMENT_NODE&&(de=ce.reduce(function(V,ge){return ge(ke,V)},de),de=(ke[F]||[]).reduce(function(V,ge){return ge(ke,V)},de)),we.concat(de)},new i.default):new i.default}function D(re,ce,ve){return G(ve,re,!0)}function Z(re,ce){var ve=e.default.Attributor.Attribute.keys(re),we=e.default.Attributor.Class.keys(re),ke=e.default.Attributor.Style.keys(re),de={};return ve.concat(we).concat(ke).forEach(function(V){var ge=e.default.query(V,e.default.Scope.ATTRIBUTE);ge!=null&&(de[ge.attrName]=ge.value(re),de[ge.attrName])||((ge=j[V])==null||ge.attrName!==V&&ge.keyName!==V||(de[ge.attrName]=ge.value(re)||void 0),(ge=J[V])==null||ge.attrName!==V&&ge.keyName!==V||(ge=J[V],de[ge.attrName]=ge.value(re)||void 0))}),Object.keys(de).length>0&&(ce=G(ce,de)),ce}function le(re,ce){var ve=e.default.query(re);if(ve==null)return ce;if(ve.prototype instanceof e.default.Embed){var we={},ke=ve.value(re);ke!=null&&(we[ve.blotName]=ke,ce=new i.default().insert(we,ve.formats(re)))}else typeof ve.formats=="function"&&(ce=G(ce,ve.blotName,ve.formats(re)));return ce}function se(re,ce){return R(ce,`
`)||(K(re)||ce.length()>0&&re.nextSibling&&K(re.nextSibling))&&ce.insert(`
`),ce}function fe(re,ce){if(K(re)&&re.nextElementSibling!=null&&!R(ce,`

`)){var ve=re.offsetHeight+parseFloat(X(re).marginTop)+parseFloat(X(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+1.5*ve&&ce.insert(`
`)}return ce}function he(re,ce){var ve=re.data;if(re.parentNode.tagName==="O:P")return ce.insert(ve.trim());if(ve.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return ce;if(!X(re.parentNode).whiteSpace.startsWith("pre")){var we=function(de,V){return(V=V.replace(/[^\u00a0]/g,"")).length<1&&de?" ":V};ve=(ve=ve.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,we.bind(we,!0)),(re.previousSibling==null&&K(re.parentNode)||re.previousSibling!=null&&K(re.previousSibling))&&(ve=ve.replace(/^\s+/,we.bind(we,!1))),(re.nextSibling==null&&K(re.parentNode)||re.nextSibling!=null&&K(re.nextSibling))&&(ve=ve.replace(/\s+$/,we.bind(we,!1)))}return ce.insert(ve)}Q.DEFAULTS={matchers:[],matchVisual:!0},p.default=Q,p.matchAttributor=Z,p.matchBlot=le,p.matchNewline=se,p.matchSpacing=fe,p.matchText=he},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function r(n,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,s){return t&&r(n.prototype,t),s&&r(n,s),n}}(),m=function r(n,t,s){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var b=Object.getPrototypeOf(n);return b===null?void 0:r(b,t,s)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(s):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}(n,r),w(n,[{key:"optimize",value:function(s){m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,s),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),n}(((f=h(6))&&f.__esModule?f:{default:f}).default);e.blotName="bold",e.tagName=["STRONG","B"],p.default=e},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.addControls=p.default=void 0;var f=function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(O,N){var H=[],F=!0,Y=!1,j=void 0;try{for(var J,Q=O[Symbol.iterator]();!(F=(J=Q.next()).done)&&(H.push(J.value),!N||H.length!==N);F=!0);}catch(G){Y=!0,j=G}finally{try{!F&&Q.return&&Q.return()}finally{if(Y)throw j}}return H}(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(S,L){for(var O=0;O<L.length;O++){var N=L[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,L,O){return L&&A(S.prototype,L),O&&A(S,O),S}}(),m=n(h(2)),o=n(h(0)),i=n(h(5)),e=n(h(10)),r=n(h(9));function n(A){return A&&A.__esModule?A:{default:A}}function t(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?A:S}var s=(0,e.default)("quill:toolbar"),d=function(A){function S(L,O){(function(Y,j){if(!(Y instanceof j))throw new TypeError("Cannot call a class as a function")})(this,S);var N,H=t(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L,O));if(Array.isArray(H.options.container)){var F=document.createElement("div");E(F,H.options.container),L.container.parentNode.insertBefore(F,L.container),H.container=F}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;return H.container instanceof HTMLElement?(H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(Y){H.addHandler(Y,H.options.handlers[Y])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(Y){H.attach(Y)}),H.quill.on(i.default.events.EDITOR_CHANGE,function(Y,j){Y===i.default.events.SELECTION_CHANGE&&H.update(j)}),H.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var Y=H.quill.selection.getRange(),j=f(Y,1)[0];H.update(j)}),H):(N=s.error("Container required for toolbar",H.options),t(H,N))}return function(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}(S,A),w(S,[{key:"addHandler",value:function(O,N){this.handlers[O]=N}},{key:"attach",value:function(O){var N=this,H=[].find.call(O.classList,function(Y){return Y.indexOf("ql-")===0});if(H){if(H=H.slice("ql-".length),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null)return void s.warn("ignoring attaching to disabled format",H,O);if(o.default.query(H)==null)return void s.warn("ignoring attaching to nonexistent format",H,O)}var F=O.tagName==="SELECT"?"change":"click";O.addEventListener(F,function(Y){var j=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var J=O.options[O.selectedIndex];j=!J.hasAttribute("selected")&&(J.value||!1)}else j=!O.classList.contains("ql-active")&&(O.value||!O.hasAttribute("value")),Y.preventDefault();N.quill.focus();var Q=N.quill.selection.getRange(),G=f(Q,1)[0];if(N.handlers[H]!=null)N.handlers[H].call(N,j);else if(o.default.query(H).prototype instanceof o.default.Embed){if(!(j=prompt("Enter "+H)))return;N.quill.updateContents(new m.default().retain(G.index).delete(G.length).insert(function(X,R,K){return R in X?Object.defineProperty(X,R,{value:K,enumerable:!0,configurable:!0,writable:!0}):X[R]=K,X}({},H,j)),i.default.sources.USER)}else N.quill.format(H,j,i.default.sources.USER);N.update(G)}),this.controls.push([H,O])}}},{key:"update",value:function(O){var N=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(H){var F=f(H,2),Y=F[0],j=F[1];if(j.tagName==="SELECT"){var J=void 0;if(O==null)J=null;else if(N[Y]==null)J=j.querySelector("option[selected]");else if(!Array.isArray(N[Y])){var Q=N[Y];typeof Q=="string"&&(Q=Q.replace(/\"/g,'\\"')),J=j.querySelector('option[value="'+Q+'"]')}J==null?(j.value="",j.selectedIndex=-1):J.selected=!0}else if(O==null)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var G=N[Y]===j.getAttribute("value")||N[Y]!=null&&N[Y].toString()===j.getAttribute("value")||N[Y]==null&&!j.getAttribute("value");j.classList.toggle("ql-active",G)}else j.classList.toggle("ql-active",N[Y]!=null)})}}]),S}(r.default);function b(A,S,L){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+S),L!=null&&(O.value=L),A.appendChild(O)}function E(A,S){Array.isArray(S[0])||(S=[S]),S.forEach(function(L){var O=document.createElement("span");O.classList.add("ql-formats"),L.forEach(function(N){if(typeof N=="string")b(O,N);else{var H=Object.keys(N)[0],F=N[H];Array.isArray(F)?function(Y,j,J){var Q=document.createElement("select");Q.classList.add("ql-"+j),J.forEach(function(G){var X=document.createElement("option");G!==!1?X.setAttribute("value",G):X.setAttribute("selected","selected"),Q.appendChild(X)}),Y.appendChild(Q)}(O,H,F):b(O,H,F)}}),A.appendChild(O)})}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var S=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(N){o.default.query(N,o.default.Scope.INLINE)!=null&&S.quill.format(N,!1)})}else this.quill.removeFormat(L,i.default.sources.USER)},direction:function(S){var L=this.quill.getFormat().align;S==="rtl"&&L==null?this.quill.format("align","right",i.default.sources.USER):S||L!=="right"||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",S,i.default.sources.USER)},indent:function(S){var L=this.quill.getSelection(),O=this.quill.getFormat(L),N=parseInt(O.indent||0);if(S==="+1"||S==="-1"){var H=S==="+1"?1:-1;O.direction==="rtl"&&(H*=-1),this.quill.format("indent",N+H,i.default.sources.USER)}},link:function(S){S===!0&&(S=prompt("Enter link URL:")),this.quill.format("link",S,i.default.sources.USER)},list:function(S){var L=this.quill.getSelection(),O=this.quill.getFormat(L);S==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",S,i.default.sources.USER)}}},p.default=d,p.addControls=E},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,r);if(t===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:i(s,r,n)}if("value"in t)return t.value;var d=t.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var t=function(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return t.label.innerHTML=n,t.container.classList.add("ql-color-picker"),[].slice.call(t.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(s){s.classList.add("ql-primary")}),t}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"buildItem",value:function(n){var t=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,n);return t.style.backgroundColor=n.getAttribute("value")||"",t}},{key:"selectItem",value:function(n,t){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,t);var s=this.label.querySelector(".ql-color-label"),d=n&&n.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=d:s.style.fill=d)}}]),e}(((f=h(28))&&f.__esModule?f:{default:f}).default);p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,r);if(t===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:i(s,r,n)}if("value"in t)return t.value;var d=t.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var t=function(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return t.container.classList.add("ql-icon-picker"),[].forEach.call(t.container.querySelectorAll(".ql-picker-item"),function(s){s.innerHTML=n[s.getAttribute("data-value")||""]}),t.defaultItem=t.container.querySelector(".ql-selected"),t.selectItem(t.defaultItem),t}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"selectItem",value:function(n,t){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,t),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),e}(((f=h(28))&&f.__esModule?f:{default:f}).default);p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){var e=this;(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.boundsContainer=i||document.body,this.root=o.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){e.root.style.marginTop=-1*e.quill.root.scrollTop+"px"}),this.hide()}return f(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(i){var e=i.left+i.width/2-this.root.offsetWidth/2,r=i.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),t=this.root.getBoundingClientRect(),s=0;if(t.right>n.right&&(s=n.right-t.right,this.root.style.left=e+s+"px"),t.left<n.left&&(s=n.left-t.left,this.root.style.left=e+s+"px"),t.bottom>n.bottom){var d=t.bottom-t.top,b=i.bottom-i.top+d;this.root.style.top=r-b+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m}();p.default=w},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function O(N,H,F){N===null&&(N=Function.prototype);var Y=Object.getOwnPropertyDescriptor(N,H);if(Y===void 0){var j=Object.getPrototypeOf(N);return j===null?void 0:O(j,H,F)}if("value"in Y)return Y.value;var J=Y.get;return J!==void 0?J.call(F):void 0},w=function(){function O(N,H){for(var F=0;F<H.length;F++){var Y=H[F];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(N,Y.key,Y)}}return function(N,H,F){return H&&O(N.prototype,H),F&&O(N,F),N}}(),m=s(h(3)),o=s(h(8)),i=h(43),e=s(i),r=s(h(27)),n=h(15),t=s(h(41));function s(O){return O&&O.__esModule?O:{default:O}}function d(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function b(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||typeof N!="object"&&typeof N!="function"?O:N}function E(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(O){function N(H,F){d(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=A);var Y=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,H,F));return Y.quill.container.classList.add("ql-snow"),Y}return E(N,O),w(N,[{key:"extendToolbar",value:function(F){F.container.classList.add("ql-snow"),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),t.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),t.default),this.tooltip=new L(this.quill,this.options.bounds),F.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Y,j){F.handlers.link.call(F,!j.format.link)})}}]),N}(e.default);S.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){if(N){var H=this.quill.getSelection();if(H==null||H.length==0)return;var F=this.quill.getText(H);/^\S+@\S+\.\S+$/.test(F)&&F.indexOf("mailto:")!==0&&(F="mailto:"+F),this.quill.theme.tooltip.edit("link",F)}else this.quill.format("link",!1)}}}}});var L=function(O){function N(H,F){d(this,N);var Y=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,H,F));return Y.preview=Y.root.querySelector("a.ql-preview"),Y}return E(N,O),w(N,[{key:"listen",value:function(){var F=this;f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Y){F.root.classList.contains("ql-editing")?F.save():F.edit("link",F.preview.textContent),Y.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Y){if(F.linkRange!=null){var j=F.linkRange;F.restoreFocus(),F.quill.formatText(j,"link",!1,o.default.sources.USER),delete F.linkRange}Y.preventDefault(),F.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(Y,j,J){if(Y!=null){if(Y.length===0&&J===o.default.sources.USER){var Q=function(K,q){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function(D,Z){var le=[],se=!0,fe=!1,he=void 0;try{for(var re,ce=D[Symbol.iterator]();!(se=(re=ce.next()).done)&&(le.push(re.value),!Z||le.length!==Z);se=!0);}catch(ve){fe=!0,he=ve}finally{try{!se&&ce.return&&ce.return()}finally{if(fe)throw he}}return le}(K,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(F.quill.scroll.descendant(r.default,Y.index),2),G=Q[0],X=Q[1];if(G!=null){F.linkRange=new n.Range(Y.index-X,G.length());var R=r.default.formats(G.domNode);return F.preview.textContent=R,F.preview.setAttribute("href",R),F.show(),void F.position(F.quill.getBounds(F.linkRange))}}else delete F.linkRange;F.hide()}})}},{key:"show",value:function(){f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),N}(i.BaseTooltip);L.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),p.default=S},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=se(h(29)),w=h(36),m=h(38),o=h(64),i=se(h(65)),e=se(h(66)),r=h(67),n=se(r),t=h(37),s=h(26),d=h(39),b=h(40),E=se(h(56)),A=se(h(68)),S=se(h(27)),L=se(h(69)),O=se(h(70)),N=se(h(71)),H=se(h(72)),F=se(h(73)),Y=h(13),j=se(Y),J=se(h(74)),Q=se(h(75)),G=se(h(57)),X=se(h(41)),R=se(h(28)),K=se(h(59)),q=se(h(60)),D=se(h(61)),Z=se(h(108)),le=se(h(62));function se(fe){return fe&&fe.__esModule?fe:{default:fe}}f.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":t.BackgroundClass,"attributors/class/color":s.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":t.BackgroundStyle,"attributors/style/color":s.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":b.SizeStyle},!0),f.default.register({"formats/align":w.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":o.IndentClass,"formats/background":t.BackgroundStyle,"formats/color":s.ColorStyle,"formats/font":d.FontClass,"formats/size":b.SizeClass,"formats/blockquote":i.default,"formats/code-block":j.default,"formats/header":e.default,"formats/list":n.default,"formats/bold":E.default,"formats/code":Y.Code,"formats/italic":A.default,"formats/link":S.default,"formats/script":L.default,"formats/strike":O.default,"formats/underline":N.default,"formats/image":H.default,"formats/video":F.default,"formats/list/item":r.ListItem,"modules/formula":J.default,"modules/syntax":Q.default,"modules/toolbar":G.default,"themes/bubble":Z.default,"themes/snow":le.default,"ui/icons":X.default,"ui/picker":R.default,"ui/icon-picker":q.default,"ui/color-picker":K.default,"ui/tooltip":D.default},!0),p.default=f.default},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.IndentClass=void 0;var f,w=function(){function t(s,d){for(var b=0;b<d.length;b++){var E=d[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(s,E.key,E)}}return function(s,d,b){return d&&t(s.prototype,d),b&&t(s,b),s}}(),m=function t(s,d,b){s===null&&(s=Function.prototype);var E=Object.getOwnPropertyDescriptor(s,d);if(E===void 0){var A=Object.getPrototypeOf(s);return A===null?void 0:t(A,d,b)}if("value"in E)return E.value;var S=E.get;return S!==void 0?S.call(b):void 0},o=(f=h(0))&&f.__esModule?f:{default:f};function i(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function e(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?t:s}var r=function(t){function s(){return i(this,s),e(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(s,t),w(s,[{key:"add",value:function(b,E){if(E==="+1"||E==="-1"){var A=this.value(b)||0;E=E==="+1"?A+1:A-1}return E===0?(this.remove(b),!0):m(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,b,E)}},{key:"canAdd",value:function(b,E){return m(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,b,E)||m(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,b,parseInt(E))}},{key:"value",value:function(b){return parseInt(m(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,b))||void 0}}]),s}(o.default.Attributor.Class),n=new r("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});p.IndentClass=n},function(g,p,h){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=h(4))&&f.__esModule?f:{default:f}).default);o.blotName="blockquote",o.tagName="blockquote",p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function e(r,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}var i=function(e){function r(){return m(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(r,e),w(r,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),r}(((f=h(4))&&f.__esModule?f:{default:f}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],p.default=i},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.ListItem=void 0;var f=function(){function b(E,A){for(var S=0;S<A.length;S++){var L=A[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,A,S){return A&&b(E.prototype,A),S&&b(E,S),E}}(),w=function b(E,A,S){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,A);if(L===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:b(O,A,S)}if("value"in L)return L.value;var N=L.get;return N!==void 0?N.call(S):void 0},m=e(h(0)),o=e(h(4)),i=e(h(25));function e(b){return b&&b.__esModule?b:{default:b}}function r(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function n(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}function t(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var s=function(b){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return t(E,b),f(E,[{key:"format",value:function(S,L){S!==d.blotName||L?w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,L):this.replaceWith(m.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,L){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,L),this):(this.parent.unwrap(),w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,S,L))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:w(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,S)}}]),E}(o.default);s.blotName="list-item",s.tagName="LI";var d=function(b){function E(A){r(this,E);var S=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A)),L=function(N){if(N.target.parentNode===A){var H=S.statics.formats(A),F=m.default.find(N.target);H==="checked"?F.format("list","unchecked"):H==="unchecked"&&F.format("list","checked")}};return A.addEventListener("touchstart",L),A.addEventListener("mousedown",L),S}return t(E,b),f(E,null,[{key:"create",value:function(S){var L=S==="ordered"?"OL":"UL",O=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,L);return S!=="checked"&&S!=="unchecked"||O.setAttribute("data-checked",S==="checked"),O}},{key:"formats",value:function(S){return S.tagName==="OL"?"ordered":S.tagName==="UL"?S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),f(E,[{key:"format",value:function(S,L){this.children.length>0&&this.children.tail.format(S,L)}},{key:"formats",value:function(){return S={},L=this.statics.blotName,O=this.statics.formats(this.domNode),L in S?Object.defineProperty(S,L,{value:O,enumerable:!0,configurable:!0,writable:!0}):S[L]=O,S;var S,L,O}},{key:"insertBefore",value:function(S,L){if(S instanceof s)w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,S,L);else{var O=L==null?this.length():L.offset(this),N=this.split(O);N.parent.insertBefore(S,N)}}},{key:"optimize",value:function(S){w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,S);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&L.domNode.tagName===this.domNode.tagName&&L.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(L.moveChildren(this),L.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var L=m.default.create(this.statics.defaultChild);S.moveChildren(L),this.appendChild(L)}w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,S)}}]),E}(i.default);d.blotName="list",d.scope=m.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[s],p.ListItem=s,p.default=d},function(g,p,h){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=h(56))&&f.__esModule?f:{default:f}).default);o.blotName="italic",o.tagName=["EM","I"],p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function r(n,t){for(var s=0;s<t.length;s++){var d=t[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,s){return t&&r(n.prototype,t),s&&r(n,s),n}}(),m=function r(n,t,s){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var b=Object.getPrototypeOf(n);return b===null?void 0:r(b,t,s)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(s):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}(n,r),w(n,null,[{key:"create",value:function(s){return s==="super"?document.createElement("sup"):s==="sub"?document.createElement("sub"):m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,s)}},{key:"formats",value:function(s){return s.tagName==="SUB"?"sub":s.tagName==="SUP"?"super":void 0}}]),n}(((f=h(6))&&f.__esModule?f:{default:f}).default);e.blotName="script",e.tagName=["SUB","SUP"],p.default=e},function(g,p,h){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=h(6))&&f.__esModule?f:{default:f}).default);o.blotName="strike",o.tagName="S",p.default=o},function(g,p,h){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(p,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=h(6))&&f.__esModule?f:{default:f}).default);o.blotName="underline",o.tagName="U",p.default=o},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function s(d,b){for(var E=0;E<b.length;E++){var A=b[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,b,E){return b&&s(d.prototype,b),E&&s(d,E),d}}(),m=function s(d,b,E){d===null&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,b);if(A===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:s(S,b,E)}if("value"in A)return A.value;var L=A.get;return L!==void 0?L.call(E):void 0},o=(f=h(0))&&f.__esModule?f:{default:f},i=h(27);function e(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}function r(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}var n=["alt","height","width"],t=function(s){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}(d,s),w(d,[{key:"format",value:function(E,A){n.indexOf(E)>-1?A?this.domNode.setAttribute(E,A):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,A)}}],[{key:"create",value:function(E){var A=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return typeof E=="string"&&A.setAttribute("src",this.sanitize(E)),A}},{key:"formats",value:function(E){return n.reduce(function(A,S){return E.hasAttribute(S)&&(A[S]=E.getAttribute(S)),A},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,i.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.default.Embed);t.blotName="image",t.tagName="IMG",p.default=t},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f,w=function(){function s(d,b){for(var E=0;E<b.length;E++){var A=b[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,b,E){return b&&s(d.prototype,b),E&&s(d,E),d}}(),m=function s(d,b,E){d===null&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,b);if(A===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:s(S,b,E)}if("value"in A)return A.value;var L=A.get;return L!==void 0?L.call(E):void 0},o=h(4),i=(f=h(27))&&f.__esModule?f:{default:f};function e(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}function r(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}var n=["height","width"],t=function(s){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}(d,s),w(d,[{key:"format",value:function(E,A){n.indexOf(E)>-1?A?this.domNode.setAttribute(E,A):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,A)}}],[{key:"create",value:function(E){var A=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return A.setAttribute("frameborder","0"),A.setAttribute("allowfullscreen",!0),A.setAttribute("src",this.sanitize(E)),A}},{key:"formats",value:function(E){return n.reduce(function(A,S){return E.hasAttribute(S)&&(A[S]=E.getAttribute(S)),A},{})}},{key:"sanitize",value:function(E){return i.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.BlockEmbed);t.blotName="video",t.className="ql-video",t.tagName="IFRAME",p.default=t},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.FormulaBlot=void 0;var f=function(){function b(E,A){for(var S=0;S<A.length;S++){var L=A[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,A,S){return A&&b(E.prototype,A),S&&b(E,S),E}}(),w=function b(E,A,S){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,A);if(L===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:b(O,A,S)}if("value"in L)return L.value;var N=L.get;return N!==void 0?N.call(S):void 0},m=e(h(35)),o=e(h(5)),i=e(h(9));function e(b){return b&&b.__esModule?b:{default:b}}function r(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function n(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}function t(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var s=function(b){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return t(E,b),f(E,null,[{key:"create",value:function(S){var L=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,L,{throwOnError:!1,errorColor:"#f00"}),L.setAttribute("data-value",S)),L}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),E}(m.default);s.blotName="formula",s.className="ql-formula",s.tagName="SPAN";var d=function(b){function E(){r(this,E);var A=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return A}return t(E,b),f(E,null,[{key:"register",value:function(){o.default.register(s,!0)}}]),E}(i.default);p.FormulaBlot=s,p.default=d},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.CodeToken=p.CodeBlock=void 0;var f=function(){function E(A,S){for(var L=0;L<S.length;L++){var O=S[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,S,L){return S&&E(A.prototype,S),L&&E(A,L),A}}(),w=function E(A,S,L){A===null&&(A=Function.prototype);var O=Object.getOwnPropertyDescriptor(A,S);if(O===void 0){var N=Object.getPrototypeOf(A);return N===null?void 0:E(N,S,L)}if("value"in O)return O.value;var H=O.get;return H!==void 0?H.call(L):void 0},m=e(h(0)),o=e(h(5)),i=e(h(9));function e(E){return E&&E.__esModule?E:{default:E}}function r(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function n(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?E:A}function t(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var s=function(E){function A(){return r(this,A),n(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return t(A,E),f(A,[{key:"replaceWith",value:function(L){this.domNode.textContent=this.domNode.textContent,this.attach(),w(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,L)}},{key:"highlight",value:function(L){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=L(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),A}(e(h(13)).default);s.className="ql-syntax";var d=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),b=function(E){function A(S,L){r(this,A);var O=n(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,S,L));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var N=null;return O.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(N),N=setTimeout(function(){O.highlight(),N=null},O.options.interval)}),O.highlight(),O}return t(A,E),f(A,null,[{key:"register",value:function(){o.default.register(d,!0),o.default.register(s,!0)}}]),f(A,[{key:"highlight",value:function(){var L=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(s).forEach(function(N){N.highlight(L.options.highlight)}),this.quill.update(o.default.sources.SILENT),O!=null&&this.quill.setSelection(O,o.default.sources.SILENT)}}}]),A}(i.default);b.DEFAULTS={highlight:window.hljs==null?null:function(E){return window.hljs.highlightAuto(E).value},interval:1e3},p.CodeBlock=s,p.CodeToken=d,p.default=b},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(g,p){g.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(g,p){g.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(g,p){g.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(g,p){g.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(g,p){g.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(g,p,h){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=p.BubbleTooltip=void 0;var f=function L(O,N,H){O===null&&(O=Function.prototype);var F=Object.getOwnPropertyDescriptor(O,N);if(F===void 0){var Y=Object.getPrototypeOf(O);return Y===null?void 0:L(Y,N,H)}if("value"in F)return F.value;var j=F.get;return j!==void 0?j.call(H):void 0},w=function(){function L(O,N){for(var H=0;H<N.length;H++){var F=N[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,N,H){return N&&L(O.prototype,N),H&&L(O,H),O}}(),m=t(h(3)),o=t(h(8)),i=h(43),e=t(i),r=h(15),n=t(h(41));function t(L){return L&&L.__esModule?L:{default:L}}function s(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")}function d(L,O){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?L:O}function b(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],A=function(L){function O(N,H){s(this,O),H.modules.toolbar!=null&&H.modules.toolbar.container==null&&(H.modules.toolbar.container=E);var F=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,H));return F.quill.container.classList.add("ql-bubble"),F}return b(O,L),w(O,[{key:"extendToolbar",value:function(H){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(H.container),this.buildButtons([].slice.call(H.container.querySelectorAll("button")),n.default),this.buildPickers([].slice.call(H.container.querySelectorAll("select")),n.default)}}]),O}(e.default);A.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(L){function O(N,H){s(this,O);var F=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,H));return F.quill.on(o.default.events.EDITOR_CHANGE,function(Y,j,J,Q){if(Y===o.default.events.SELECTION_CHANGE)if(j!=null&&j.length>0&&Q===o.default.sources.USER){F.show(),F.root.style.left="0px",F.root.style.width="",F.root.style.width=F.root.offsetWidth+"px";var G=F.quill.getLines(j.index,j.length);if(G.length===1)F.position(F.quill.getBounds(j));else{var X=G[G.length-1],R=F.quill.getIndex(X),K=Math.min(X.length()-1,j.index+j.length-R),q=F.quill.getBounds(new r.Range(R,K));F.position(q)}}else document.activeElement!==F.textbox&&F.quill.hasFocus()&&F.hide()}),F}return b(O,L),w(O,[{key:"listen",value:function(){var H=this;f(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){H.root.classList.remove("ql-editing")}),this.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!H.root.classList.contains("ql-hidden")){var F=H.quill.getSelection();F!=null&&H.position(H.quill.getBounds(F))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(H){var F=f(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,H),Y=this.root.querySelector(".ql-tooltip-arrow");if(Y.style.marginLeft="",F===0)return F;Y.style.marginLeft=-1*F-Y.offsetWidth/2+"px"}}]),O}(i.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),p.BubbleTooltip=S,p.default=A},function(g,p,h){g.exports=h(63)}]).default},ne.exports=T()},3697:function(ne,T,C){"use strict";var g=C(5972).functionsHaveConfigurableNames(),p=Object,h=TypeError;ne.exports=function(){if(this!=null&&this!==p(this))throw new h("RegExp.prototype.flags getter called on non-object");var f="";return this.hasIndices&&(f+="d"),this.global&&(f+="g"),this.ignoreCase&&(f+="i"),this.multiline&&(f+="m"),this.dotAll&&(f+="s"),this.unicode&&(f+="u"),this.sticky&&(f+="y"),f},g&&Object.defineProperty&&Object.defineProperty(ne.exports,"name",{value:"get flags"})},2847:function(ne,T,C){"use strict";var g=C(4289),p=C(5559),h=C(3697),f=C(1721),w=C(2753),m=p(f());g(m,{getPolyfill:f,implementation:h,shim:w}),ne.exports=m},1721:function(ne,T,C){"use strict";var g=C(3697),p=C(4289).supportsDescriptors,h=Object.getOwnPropertyDescriptor;ne.exports=function(){if(p&&/a/gim.flags==="gim"){var f=h(RegExp.prototype,"flags");if(f&&typeof f.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var w="",m={};if(Object.defineProperty(m,"hasIndices",{get:function(){w+="d"}}),Object.defineProperty(m,"sticky",{get:function(){w+="y"}}),w==="dy")return f.get}}return g}},2753:function(ne,T,C){"use strict";var g=C(4289).supportsDescriptors,p=C(1721),h=Object.getOwnPropertyDescriptor,f=Object.defineProperty,w=TypeError,m=Object.getPrototypeOf,o=/a/;ne.exports=function(){if(!g||!m)throw new w("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var i=p(),e=m(o),r=h(e,"flags");return r&&r.get===i||f(e,"flags",{configurable:!0,enumerable:!1,get:i}),i}}},lt={};function et($){var ne=lt[$];if(ne!==void 0)return ne.exports;var T=lt[$]={exports:{}};return Ye[$].call(T.exports,T,T.exports,et),T.exports}et.n=function($){var ne=$&&$.__esModule?function(){return $.default}:function(){return $};return et.d(ne,{a:ne}),ne},et.d=function($,ne){for(var T in ne)et.o(ne,T)&&!et.o($,T)&&Object.defineProperty($,T,{enumerable:!0,get:ne[T]})},et.o=function($,ne){return Object.prototype.hasOwnProperty.call($,ne)},function(){"use strict";function $(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function ne(M,P){for(var c=0;c<P.length;c++){var _=P[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(M,_.key,_)}}function T(M,P,c){return P&&ne(M.prototype,P),c&&ne(M,c),Object.defineProperty(M,"prototype",{writable:!1}),M}function C(M,P){return C=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},C(M,P)}function g(M,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(P&&P.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),P&&C(M,P)}function p(M){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},p(M)}function h(M,P){if(P&&(p(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(M)}function f(M){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},f(M)}var w=function(){function M(){$(this,M)}return T(M,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(c){return!1}},{key:"replace",value:function(c){}}]),M}();function m(M,P){for(;!Object.prototype.hasOwnProperty.call(M,P)&&(M=f(M))!==null;);return M}function o(){return o=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(M,P,c){var _=m(M,P);if(_){var x=Object.getOwnPropertyDescriptor(_,P);return x.get?x.get.call(arguments.length<3?M:c):x.value}},o.apply(this,arguments)}w.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var i=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l){var y;if($(this,x),(y=_.call(this)).objId=v.getId(),y.moveToParentId=a.getId(),y.moveToPosition=u,y.oldParentId=v.getParent().getId(),y.oldPosition=v.getSiblingPosition(),y.oldContainerId=null,y.moveToContainerId=null,v.getData()instanceof z){var B=v.getData();y.oldContainerId=B.getValue("containerId");var U=l.getMainPanel().getContainerByItem(a);U!==null&&(y.moveToContainerId=U.getId())}return y.rb=l,y}return T(x,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var a=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<a&&a--,this.moveTo(this.moveToParentId,a,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(a,u,l){var y=this.rb.getDataObject(this.objId),B=this.rb.getDataObject(a);y!==null&&B!==null&&(y.getPanelItem().moveToPosition(B.getPanelItem(),u),y.getPanelItem().openParentItems(),this.rb.notifyEvent(y,w.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),x}(w),e=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l,y){var B;$(this,x),(B=_.call(this)).objId=v,B.field=a,B.value=u,B.type=l,B.rb=y;var U=y.getDataObject(v);return B.oldValue=U.getValue(a),B.firstExecution=!0,B.select=!0,B.notifyChange=!0,B}return T(x,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(a){var u=this.rb.getDataObject(this.objId);if(u.setValue(this.field,a),this.field==="name"){var l=document.getElementById("rbro_menu_item_name".concat(this.objId));l.textContent=a,l.setAttribute("title",a),this.rb.notifyEvent(u,w.operation.rename)}!this.notifyChange||this.type===x.type.richText&&this.firstExecution||this.rb.notifyEvent(u,w.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(a){this.notifyChange=a}},{key:"allowReplace",value:function(a){return a instanceof x&&(this.type===x.type.text||this.type===x.type.richText)&&this.objId===a.objId&&this.field===a.field}},{key:"replace",value:function(a){this.oldValue=a.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),x}(w);e.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var r=function(){function M(P,c,_){$(this,M),this.rb=_,this.id=P,this.panelItem=null,this.name=c,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return T(M,[{key:"init",value:function(c){this.owner=c,this.el=c.getElement(),this.elContent=c.getContentElement(),this.panelItem=c.getPanelItem(),this.parent=c.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var c=this.parent;c!==null;)this.level++,c=c.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(c){this.elContent!==null&&this.elContent.append(c)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(c){this.parent=c,this.initLevel()}},{key:"isChildOf",value:function(c){for(var _=this.getParent();_!==null;){if(_===c)return!0;_=_.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(c){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(c){if(c!==null&&c!==this){var _=this.getOffset(),x=c.getOffset();return{x:_.x-x.x,y:_.y-x.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(c,_){var x=this.getOffset(),v=this.getSize();return c-=x.x,_-=x.y,c>=0&&_>=0&&c<v.width&&_<v.height}},{key:"clearErrors",value:function(){}}]),M}();function n(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}function t(M,P,c){var _=document.createElement(M);if(P)for(var x in P)P.hasOwnProperty(x)&&_.setAttribute(x,P[x]);return c&&(_.textContent=c),_}function s(M){for(;M.firstChild;)M.removeChild(M.firstChild)}function d(M,P,c,_){var x=_||{};c&&(x.for=c),M.append(t("label",x,P+":"))}function b(M){var P=M.getBoundingClientRect();return{top:P.top+window.scrollY,left:P.left+window.scrollX}}function E(M){M.addEventListener("keyup",function(P){var c=P.target.value,_=c.replace(/[^0-9]/g,"");c!==_&&(P.target.value=_)})}function A(M,P,c){var _=parseFloat(M.replace(",","."));return isNaN(_)||_<P?""+P:_>c?""+c:M}function S(M){if(typeof M=="number")return M;if(typeof M=="string"&&M!==""){var P=parseFloat(M.replace(",","."));if(!isNaN(P))return P}return 0}function L(M,P){var c=Math.ceil(M/P)*P;return c-M<=P>>1?c:c-P}function O(M,P){return Math.floor(M/P)*P}function N(M,P){return Math.ceil(M/P)*P}function H(M,P,c){var _=M;if(P!==c)for(;_.indexOf(P)!==-1;)_=_.replace(P,c);return _}function F(M,P,c,_){var x,v={shown:!1,paletteId:P.getAttribute("id")+"_select"},a=_.getProperty("colors"),u=t("div",{class:"rbroColorPalette rbroHidden"}),l=function(U,te){var ie=typeof Symbol!="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(!ie){if(Array.isArray(U)||(ie=function(Re,Ne){if(Re){if(typeof Re=="string")return n(Re,Ne);var je=Object.prototype.toString.call(Re).slice(8,-1);return je==="Object"&&Re.constructor&&(je=Re.constructor.name),je==="Map"||je==="Set"?Array.from(Re):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?n(Re,Ne):void 0}}(U))||te&&U&&typeof U.length=="number"){ie&&(U=ie);var ye=0,be=function(){};return{s:be,n:function(){return ye>=U.length?{done:!0}:{done:!1,value:U[ye++]}},e:function(Ne){throw Ne},f:be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,Se=!0,Pe=!1;return{s:function(){ie=ie.call(U)},n:function(){var Ne=ie.next();return Se=Ne.done,Ne},e:function(Ne){Pe=!0,_e=Ne},f:function(){try{Se||ie.return==null||ie.return()}finally{if(Pe)throw _e}}}}(a);try{for(l.s();!(x=l.n()).done;){var y=x.value;u.append(t("span",{style:"color: ".concat(y),"data-value":y,class:"rbroColorPaletteItem"}))}}catch(U){l.e(U)}finally{l.f()}c&&u.append(t("span",{"data-value":"clear",class:"rbroClearColorPalette"},_.getLabel("clear"))),u.addEventListener("click",function(U){var te=U.target.dataset.value;te&&(te==="clear"?(P.value="",P.dispatchEvent(new Event("change"))):P.value=te,P.dispatchEvent(new Event("change"))),u.classList.add("rbroHidden"),U.stopImmediatePropagation()});var B=t("div",{id:v.paletteId,class:"rbroColorPicker"});return B.addEventListener("click",function(U){u.classList.toggle("rbroHidden"),v.shown=!v.shown}),M.prepend(B),M.append(u),P.addEventListener("focus",function(U){M.classList.add("rbroActive")}),P.addEventListener("blur",function(U){M.classList.remove("rbroActive")}),v.documentClickListener=function(U){var te=U.target.id;v.shown&&te!==v.paletteId&&(u.classList.add("rbroHidden"),v.shown=!1)},document.addEventListener("click",v.documentClickListener),v.destroy=function(){v.documentClickListener&&(document.removeEventListener("click",v.documentClickListener),v.documentClickListener=null)},v}function Y(M){return!M||/^#[0-9A-F]{6}$/i.test(M)}function j(M){if(!(window.TouchEvent&&M instanceof TouchEvent))return{x:M.pageX,y:M.pageY};if(M.touches.length>0){var P=M.touches[M.touches.length-1];return{x:P.pageX,y:P.pageY}}return null}String.prototype.reverse=function(){return this.split("").reverse().join("")};var J=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l,y){var B;return $(this,x),(B=_.call(this,u,l,y)).panelItem=null,B.bandType=v,B.section=a,a||(v===x.bandType.header?(B.id="0_header",B.name=y.getLabel("bandHeader")):v===x.bandType.content?(B.id="0_content",B.name=y.getLabel("bandContent"),B.allowAllElements=!0):v===x.bandType.footer&&(B.id="0_footer",B.name=y.getLabel("bandFooter"))),B.el=null,B}return T(x,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(a){return a!==z.type.tableText&&(this.bandType===x.bandType.content||a!==z.type.pageBreak&&a!==z.type.table&&a!==z.type.section)}},{key:"getOffset",value:function(){var a=0;if(this.section)this.owner!==null&&(a=this.owner.getAbsolutePosition().y);else{var u=this.rb.getDocumentProperties();this.bandType===x.bandType.content&&u.getValue("header")?a=S(u.getValue("headerSize")):this.bandType===x.bandType.footer&&(a=this.rb.getDocument().getHeight()-S(u.getValue("footerSize")))}return{x:0,y:a}}},{key:"getSize",value:function(){var a=this.rb.getDocumentProperties(),u=a.getValue("width")-a.getValue("marginLeftVal")-a.getValue("marginRightVal"),l=0;return this.section?this.owner!==null&&(l=this.owner.getValue("heightVal")):this.bandType===x.bandType.header?l=a.getValue("headerSizeVal"):this.bandType===x.bandType.content?l=a.getValue("height")-a.getValue("headerSizeVal")-a.getValue("footerSizeVal")-a.getValue("marginTopVal")-a.getValue("marginBottomVal"):this.bandType===x.bandType.footer&&(l=a.getValue("footerSizeVal")),{width:u,height:l}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(a,u){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&o(f(x.prototype),"isInside",this).call(this,a,u)}}]),x}(r);function Q(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}function G(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return X(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?X(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function X(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}J.bandType={header:"header",content:"content",footer:"footer"};var R=function(){function M(P,c,_){$(this,M),this.rb=_,this.id=P,this.name=_.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=M.alignment.left,this.verticalAlignment=M.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=_.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(c)}return T(M,[{key:"setInitialData",value:function(c){for(var _ in c)c.hasOwnProperty(_)&&this.hasOwnProperty(_)&&(this[_]=c[_]);this.borderWidthVal=S(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,_){if(this[c]=_,c.indexOf("border")!==-1&&(c==="borderWidth"&&(this.borderWidthVal=S(_)),M.setBorderValue(this,c,"",_,this.rb)),c!=="name"){var x,v=G(this.rb.getDocElements(!0));try{for(v.s();!(x=v.n()).done;)x.value.updateChangedStyle(this.getId())}catch(a){v.e(a)}finally{v.f()}}}},{key:"addCommandsForChangedProperty",value:function(c,_,x,v){var a,u=""+this.getId(),l=G(this.rb.getDocElements(!0));try{for(l.s();!(a=l.n()).done;){var y=a.value;if(y.hasProperty("styleId")){if(y.getValue("styleId")===u&&y.getValue(c)!==_){var B=new e(y.getId(),c,_,x,this.rb);B.disableSelect(),v.addCommand(B)}if(y.getValue("cs_styleId")===u&&y.getValue("cs_"+c)!==_){var U=new e(y.getId(),"cs_"+c,_,x,this.rb);U.disableSelect(),v.addCommand(U)}}}}catch(te){l.e(te)}finally{l.f()}}},{key:"addCommandsForDelete",value:function(c){var _,x,v=G(this.rb.getDocElements(!0));try{for(v.s();!(x=v.n()).done;){var a=x.value;a.getElementType()!==z.type.text&&a.getElementType()!==z.type.tableText||!a.getValue("styleId")||S(a.getValue("styleId"))!==this.id||(_=new e(a.getId(),"styleId","",e.type.text,this.rb),c.addCommand(_))}}catch(u){v.e(u)}finally{v.f()}_=new K(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),c.addCommand(_)}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var c,_={},x=G(this.getFields());try{for(x.s();!(c=x.n()).done;){var v=c.value;_[v]=this.getValue(v)}}catch(a){x.e(a)}finally{x.f()}return _}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(c,_,x,v,a){var u=_;if(x.length>0&&(u=u.substr(x.length)),u==="borderLeft"||u==="borderTop"||u==="borderRight"||u==="borderBottom"){var l=c.getValue("".concat(x,"borderLeft"))&&c.getValue("".concat(x,"borderTop"))&&c.getValue("".concat(x,"borderRight"))&&c.getValue("".concat(x,"borderBottom")),y="".concat(x,"borderAll");l!==c[y]&&(c[y]=l,a.notifyEvent(c,w.operation.change,y))}}}]),M}();R.font={courier:"courier",helvetica:"helvetica",times:"times"},R.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var K=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l,y,B){var U;return $(this,x),(U=_.call(this)).add=v,U.initialData=a,U.parentId=l,U.position=y,U.rb=B,U.id=u,U}return T(x,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var u=new R(this.id,this.initialData,this.rb),l=new fe("style",a.getPanelItem(),u,{draggable:!0},this.rb);l.openParentItems(),u.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),this.rb.addStyle(u)}}},{key:"deleteStyle",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteStyle(a))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),x}(w);function q(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return D(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?D(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function D(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var Z=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a){var u;return $(this,x),(u=_.call(this)).name=v,u.rb=a,u.commands=[],u.selectObjectIds=[],u.selectionCmdIndex=[],u}return T(x,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex[this.selectionCmdIndex.length-1],u=0;u<this.commands.length;u++){var l=this.commands[u];l instanceof e&&l.setNotifyChange(u>=a)}for(var y=0;y<this.commands.length;y++)this.commands[y].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,u=this.commands.length-1;u>=0;u--){var l=this.commands[u];l instanceof e&&l.setNotifyChange(u<a)}for(var y=this.commands.length-1;y>=0;y--)this.commands[y].undo();this.selectObjects()}},{key:"addCommand",value:function(a){a instanceof e&&a.disableSelect(),this.commands.push(a)}},{key:"addSelection",value:function(a){this.selectObjectIds.indexOf(a)===-1&&this.selectObjectIds.push(a),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var a,u=!0,l=q(this.selectObjectIds);try{for(l.s();!(a=l.n()).done;){var y=a.value;if(!this.rb.isSelectedObject(y)){u=!1;break}}}catch(ye){l.e(ye)}finally{l.f()}if(!u){var B,U=!0,te=q(this.selectObjectIds);try{for(te.s();!(B=te.n()).done;){var ie=B.value;this.rb.selectObject(ie,U),U=!1}}catch(ye){te.e(ye)}finally{te.f()}}}},{key:"allowReplace",value:function(a){if(a instanceof x){var u=a.getCommands();if(this.commands.length===u.length){for(var l=0;l<this.commands.length;l++)if(!this.commands[l].allowReplace(u[l]))return!1;return!0}}return!1}},{key:"replace",value:function(a){for(var u=a.getCommands(),l=0;l<this.commands.length;l++)this.commands[l].replace(u[l])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),x}(w);function le(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return se(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?se(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function se(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var fe=function(){function M(P,c,_,x,v){var a=this;$(this,M),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,x),this.panelName=P;var u=_!==null?_.getName():"";this.id=_!==null?_.getId():x.id,this.parent=c,this.data=_,this.rb=v,this.children=[],this.dragEnterCount=0,this.element=t("li"),this.properties.visible||this.element.classList.add("rbroHidden");var l=t("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(l.setAttribute("draggable","true"),l.addEventListener("dragstart",function(te){te.dataTransfer.setData("text/plain",""),te.dataTransfer.effectAllowed="move",a.rb.startBrowserDrag("panelItem",null,a.id),te.stopPropagation()})),l.addEventListener("dragover",function(te){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(te.preventDefault(),te.stopPropagation())}),l.addEventListener("dragenter",function(te){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(l.classList.add("rbroMenuItemDragOver"),a.dragEnterCount++,te.preventDefault())}),l.addEventListener("dragleave",function(te){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(a.dragEnterCount--,a.dragEnterCount===0&&l.classList.remove("rbroMenuItemDragOver"))}),l.addEventListener("drop",function(te){if(a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id){var ie=a.getDropObjectInfo();if(ie.allowDrop){a.dragEnterCount--,l.classList.remove("rbroMenuItemDragOver");var ye=new Z("Move panel item",a.rb),be=a.rb.getDataObject(a.rb.getBrowserDragId());if(be instanceof z&&be.getValue("containerId")!==ie.container.getId()){be.checkBounds(be.getValue("xVal"),be.getValue("yVal"),be.getValue("widthVal"),be.getValue("heightVal"),ie.container.getSize(),ye);var _e=new e(be.getId(),"containerId",ie.container.getId(),e.type.internal,a.rb);ye.addCommand(_e)}var Se=new i(be.getPanelItem(),ie.panel,ie.position,a.rb);return ye.addCommand(Se),a.rb.executeCommand(ye),te.preventDefault(),!1}}});var y=t("div",{class:"rbroMenuItemText"});if(y.append(t("span",{id:"rbro_menu_item_name".concat(this.id)},u)),this.properties.showAdd){var B=t("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});B.addEventListener("click",function(te){if(P==="parameter"){var ie=new he(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(ie)}else if(P==="style"){var ye=new K(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(ye)}var be=a.children[a.children.length-1];a.rb.selectObject(be.getId(),!0),te.stopPropagation()}),l.append(B)}if(this.properties.showDelete){var U=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});U.addEventListener("click",function(te){var ie=null;P==="parameter"?ie=new he(!1,a.getData().toJS(),a.getId(),a.parent.getId(),a.getSiblingPosition(),a.rb):(P==="style"||a.isDocElementPanel()&&a.getData()instanceof z)&&(ie=new Z("Delete",a),a.getData().addCommandsForDelete(ie)),ie!==null&&a.rb.executeCommand(ie),te.stopPropagation()}),l.append(U)}l.addEventListener("click",function(te){if(!a.properties.hasDetails||document.getElementById("rbro_menu_item".concat(a.id)).classList.contains("rbroMenuItemActive")){var ie=document.getElementById("rbro_menu_item_children".concat(a.id));ie&&(l.classList.toggle("rbroMenuItemOpen"),ie.classList.toggle("rbroHidden"))}if(a.properties.hasDetails)if(a.rb.isSelectedObject(a.id))te.shiftKey&&a.rb.deselectObject(a.id);else{var ye=!0;a.isDocElementPanel()&&(ye=!te.shiftKey),a.rb.selectObject(a.id,ye)}}),this.properties.hasChildren&&(l.classList.add("rbroMenuItemNoChildren"),y.append(t("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(t("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),l.prepend(y),this.element.prepend(l)}return T(M,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(c){this.data=c,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=c!==null?c.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var c=[],_=this.getParent();_!==null;)c.push(_.id),_=_.getParent();return c}},{key:"openParentItems",value:function(){for(var c=this.getParent();c!==null;)c.open(),c=c.getParent()}},{key:"open",value:function(){var c=document.getElementById("rbro_menu_item_children".concat(this.getId()));c&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),c.classList.remove("rbroHidden"))}},{key:"close",value:function(){var c=document.getElementById("rbro_menu_item_children".concat(this.getId()));c&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),c.classList.add("rbroHidden"))}},{key:"appendChild",value:function(c){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(c),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(c.getElement())}},{key:"insertChild",value:function(c,_){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),c!==-1?this.children.splice(c,0,_):this.children.push(_);var x=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));c>=0&&c<x.length?x[c].before(_.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(_.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(c){return this.getChildByNameExclude(c,null)}},{key:"getChildByNameExclude",value:function(c,_){var x,v=le(this.children);try{for(v.s();!(x=v.n()).done;){var a=x.value;if(a.getData()!==null&&a.getData()!==_&&a.getData().getName()===c)return a}}catch(u){v.e(u)}finally{v.f()}return null}},{key:"removeChild",value:function(c){this.removeChildInternal(c,!0)}},{key:"removeChildInternal",value:function(c,_){for(var x=0;x<this.children.length;x++)if(c.getId()===this.children[x].getId()){this.children.splice(x,1),_&&c.getElement().remove(),this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemNoChildren");break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var c=this.getParent().getChildren(),_=0;_<c.length;_++)if(c[_]===this)return _}return 0}},{key:"moveTo",value:function(c){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=c,c.appendChild(this)}},{key:"moveToPosition",value:function(c,_){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=c,c.insertChild(_,this)}},{key:"clear",value:function(){this.children.length>0&&(s(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var c={allowDrop:!1,panel:null,position:-1,container:null},_=this.rb.getDataObject(this.rb.getBrowserDragId());if(_!==null){var x=!1;if(_ instanceof z){if(this.data instanceof z&&this.data.isDroppingAllowed()?(c.container=this.data.getLinkedContainer(),c.container===null&&(c.container=this.data.getContainer(),x=!0)):this.panelName==="band"&&(c.container=this.data),c.container!==null&&c.container.isElementAllowed(_.getElementType())){c.allowDrop=!0;var v,a=le(_.getLinkedContainers());try{for(a.s();!(v=a.n()).done;){var u=v.value;if(u===c.container||c.container.isChildOf(u)){c.allowDrop=!1;break}}}catch(y){a.e(y)}finally{a.f()}}}else if(_ instanceof de)if(this.data instanceof de){var l=this.data.getParent();l!==null?l.getValue("type")===de.type.array?_.getValue("type")!==de.type.array&&_.getValue("type")!==de.type.map&&_.getValue("type")!==de.type.sum&&_.getValue("type")!==de.type.average&&(c.allowDrop=!0,x=!0):l.getValue("type")===de.type.map&&_.getValue("type")!==de.type.array&&_.getValue("type")!==de.type.map&&(c.allowDrop=!0,x=!0):(c.allowDrop=!0,x=!0)}else this.panelName==="parameter"&&(c.allowDrop=!0);else _ instanceof R&&(this.data instanceof R?(c.allowDrop=!0,x=!0):this.panelName==="style"&&(c.allowDrop=!0));c.allowDrop&&(x?(c.panel=this.getParent(),c.position=this.getSiblingPosition()+1):(c.panel=this,c.position=0),(c.panel===null||c.panel===_.getPanelItem().getParent()&&c.position===_.getPanelItem().getSiblingPosition())&&(c.allowDrop=!1))}return c}},{key:"isDocElementPanel",value:function(){return this.panelName===z.type.text||this.panelName===z.type.image||this.panelName===z.type.line||this.panelName===z.type.table||this.panelName===z.type.pageBreak||this.panelName===z.type.barCode||this.panelName===z.type.frame||this.panelName===z.type.section}}]),M}(),he=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l,y,B){var U;return $(this,x),(U=_.call(this)).add=v,U.initialData=a,U.parentId=l,U.position=y,U.rb=B,U.id=u,U.showDelete=!0,U}return T(x,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(a){this.showDelete=a}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var u=new de(this.id,this.initialData,this.rb);this.rb.addParameter(u);var l=new fe("parameter",a.getPanelItem(),u,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);l.openParentItems(),u.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),u.setup(),this.rb.notifyEvent(u,w.operation.add)}}},{key:"deleteParameter",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteParameter(a))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),x}(w);function re(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return ce(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?ce(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function ce(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var ve,we,ke,de=function(){function M(P,c,_){$(this,M),this.rb=_,this.id=P,this.name=_.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=M.type.string,this.arrayItemType=M.type.string,this.eval=!_.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.children=[],this.editable=_.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(c)}return T(M,[{key:"setInitialData",value:function(c){for(var _ in c)c.hasOwnProperty(_)&&this.hasOwnProperty(_)&&(this[_]=c[_]);"showOnlyNameType"in c&&c.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(c){c?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===M.type.array||this.type===M.type.map){var c,_=re(this.children);try{for(_.s();!(c=_.n()).done;){var x=c.value,v=new M(x.id||this.rb.getUniqueId(),x,this.rb);this.rb.addParameter(v);var a=new fe("parameter",this.panelItem,v,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!0},this.rb);v.setPanelItem(a),this.panelItem.appendChild(a),v.setup(),this.rb.notifyEvent(v,w.operation.add)}}catch(u){_.e(u)}finally{_.f()}}this.updateMenuItemDisplay()}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var c,_=this.id;if(this.type===M.type.array||this.type===M.type.map)for(var x=this.children.slice(),v=0;v<x.length;){var a=x[v];a.id>_&&(_=a.id),a.type!==M.type.array&&a.type!==M.type.map||x.push.apply(x,function(u){if(Array.isArray(u))return Q(u)}(c=a.children)||function(u){if(typeof Symbol!="undefined"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}(c)||function(u,l){if(u){if(typeof u=="string")return Q(u,l);var y=Object.prototype.toString.call(u).slice(8,-1);return y==="Object"&&u.constructor&&(y=u.constructor.name),y==="Map"||y==="Set"?Array.from(u):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?Q(u,l):void 0}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),v++}return _}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,_){this[c]=_,c==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.type===M.type.array||this.type===M.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none")}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof M?this.panelItem.getParent().getData():null}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(c,_,x){this.addCommandForChangedParameterName(c,_,"expression",x);var v,a=re(this.getChildren());try{for(a.s();!(v=a.n()).done;)v.value.addCommandsForChangedParameterName(c,_,x)}catch(u){a.e(u)}finally{a.f()}}},{key:"addCommandForChangedParameterName",value:function(c,_,x,v){var a,u,l=c.getParent();if(l!==null&&l.getValue("type")===M.type.map?(a="${"+l.getName()+"."+c.getName()+"}",u="${"+l.getName()+"."+_+"}"):c.getValue("type")===M.type.map?(a="${"+c.getName()+".",u="${"+_+"."):(a="${"+c.getName()+"}",u="${"+_+"}"),this.getValue(x).indexOf(a)!==-1){var y=new e(this.id,x,H(this.getValue(x),a,u),e.type.text,this.rb);v.addCommand(y)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(c,_,x){var v=_.length>0?_[0]:null;if(v!==null&&(v.type===M.type.array||v.type===M.type.map))try{var a=v.getTestData(!0);this.renameTestDataParameter(a,this.getName(),c,_,0);var u=JSON.stringify(a);if(this.testData!==u){var l=new e(v.getId(),"testData",u,e.type.text,this.rb);x.addCommand(l)}}catch(y){}}},{key:"renameTestDataParameter",value:function(c,_,x,v,a){var u,l=a+1,y=l<v.length,B=y?v[l].getName():_,U=re(c);try{for(U.s();!(u=U.n()).done;){var te=u.value;B in te&&(y?this.renameTestDataParameter(te[B],_,x,v,l):(te[x]=te[B],delete te[B]))}}catch(ie){U.e(ie)}finally{U.f()}}},{key:"addCommandsForChangedParameterType",value:function(c,_){if(this.type!==M.type.array&&c===M.type.array){var x={name:"row_number",type:M.type.number,eval:!1,editable:!1,showOnlyNameType:!0},v=new he(!0,x,this.rb.getUniqueId(),this.getId(),0,this.rb);v.setShowDelete(!1),_.addCommand(v)}else if(this.type===M.type.array&&c!==M.type.array){var a,u=re(this.getChildren());try{for(u.s();!(a=u.n()).done;){var l=a.value;if(l.getValue("name")==="row_number"&&!l.getValue("editable")){var y=new he(!1,l.toJS(),l.getId(),this.getId(),l.getPanelItem().getSiblingPosition(),this.rb);_.addCommand(y);break}}}catch(B){u.e(B)}finally{u.f()}}}},{key:"toJS",value:function(){var c,_={},x=re(this.getFields());try{for(x.s();!(c=x.n()).done;){var v=c.value;_[v]=this.getValue(v)}}catch(B){x.e(B)}finally{x.f()}if(this.type===M.type.array||this.type===M.type.map){var a,u=[],l=re(this.panelItem.getChildren());try{for(l.s();!(a=l.n()).done;){var y=a.value;u.push(y.getData().toJS())}}catch(B){l.e(B)}finally{l.f()}_.children=u}return _}},{key:"getChildren",value:function(){var c=[];if(this.type===M.type.array||this.type===M.type.map){var _,x=re(this.panelItem.getChildren());try{for(x.s();!(_=x.n()).done;){var v=_.value;c.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}}return c}},{key:"appendParameterItems",value:function(c,_){this.appendParameterItemsWithPrefix(c,_,"")}},{key:"appendParameterItemsWithPrefix",value:function(c,_,x){if(this.type===M.type.map){var v,a=[],u=[],l=re(this.getChildren());try{for(l.s();!(v=l.n()).done;){var y=v.value;y.type===M.type.map?u.push(y):y.isAllowed(_)&&a.push(y)}}catch(_e){l.e(_e)}finally{l.f()}if(a.length>0){c.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:x+this.name});var B,U=re(a);try{for(U.s();!(B=U.n()).done;){var te=B.value,ie=x+this.name+"."+te.getName();c.push({name:ie,nameLowerCase:ie.toLowerCase(),id:te.getId(),description:""})}}catch(_e){U.e(_e)}finally{U.f()}}for(var ye=0,be=u;ye<be.length;ye++)be[ye].appendParameterItemsWithPrefix(c,_,x+this.name+".")}else this.isAllowed(_)&&c.push({name:x+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:""})}},{key:"isAllowed",value:function(c){return this.type!==M.type.array?!Array.isArray(c)||c.indexOf(this.type)!==-1:Array.isArray(c)&&c.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(c,_,x){if(this.type===M.type.array){var v,a=!0,u=re(this.panelItem.getChildren());try{for(u.s();!(v=u.n()).done;){var l=v.value.getData();if(!Array.isArray(_)||_.indexOf(l.getValue("type"))!==-1){if(x){a&&c.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var y=l.getName();c.push({name:y,nameLowerCase:y.toLowerCase(),id:l.getId(),description:""})}else{var B=this.name+"."+l.getName();c.push({name:B,nameLowerCase:B.toLowerCase(),id:l.getId(),description:""})}a=!1}}}catch(te){u.e(te)}finally{u.f()}}if(x){var U=this.getParent();U!==null&&U.appendFieldParameterItems(c,_,x)}}},{key:"getParameterFields",value:function(){var c=[];if(this.type===M.type.array||this.type===M.type.simpleArray||this.type===M.type.map)if(this.type===M.type.simpleArray)c.push({name:"data",type:this.arrayItemType,parameter:this});else{var _,x=re(this.getChildren());try{for(x.s();!(_=x.n()).done;){var v=_.value;v.showOnlyNameType||c.push({name:v.getName(),type:v.getValue("type"),parameter:v})}}catch(a){x.e(a)}finally{x.f()}}return c}},{key:"getTestData",value:function(c){var _=null;try{_=JSON.parse(this.testData)}catch(x){}return this.type!==M.type.array&&this.type!==M.type.simpleArray&&this.type!==M.type.map||!_?null:this.getSanitizedTestData(this,_,c)}},{key:"getSanitizedTestData",value:function(c,_,x){var v;if(c.type===M.type.map)_&&Object.getPrototypeOf(_)===Object.prototype||(_={}),v=this.getSanitizedTestDataMap(c,_,x);else{Array.isArray(_)||(_=[]),v=[];var a,u=re(_);try{for(u.s();!(a=u.n()).done;){var l=a.value;this.type===M.type.array?(l&&Object.getPrototypeOf(l)===Object.prototype||(l={}),v.push(this.getSanitizedTestDataMap(c,l,x))):this.type===M.type.simpleArray&&v.push(this.getSanitizedTestDataValue(c.arrayItemType,l,x))}}catch(y){u.e(y)}finally{u.f()}}return v}},{key:"getSanitizedTestDataMap",value:function(c,_,x){var v,a={},u=re(c.getChildren());try{for(u.s();!(v=u.n()).done;){var l=v.value;if(!l.showOnlyNameType){var y=l.name in _?_[l.name]:null;if(l.type===M.type.array||l.type===M.type.map)a[l.name]=this.getSanitizedTestData(l,y,x);else if(l.type===M.type.simpleArray){var B=y;Array.isArray(B)||(B=[]);var U,te=[],ie=re(B);try{for(ie.s();!(U=ie.n()).done;){var ye=U.value;if(Object.getPrototypeOf(ye)===Object.prototype){var be=this.getSanitizedTestDataValue(l.arrayItemType,ye.data,x);x?te.push({data:be}):te.push(be)}}}catch(_e){ie.e(_e)}finally{ie.f()}a[l.name]=te}else a[l.name]=this.getSanitizedTestDataValue(l.type,y,x)}}}catch(_e){u.e(_e)}finally{u.f()}return a}},{key:"getSanitizedTestDataValue",value:function(c,_,x){var v=null;if(c===M.type.string)typeof _=="string"&&(v=_);else if(c===M.type.number){if(typeof _=="number")v=_;else if(typeof _=="string"){var a=Number(_.replaceAll(",","."));isNaN(a)||(v=a)}}else c===M.type.boolean?v=typeof _=="boolean"?_:Boolean(_):c===M.type.date?typeof _=="string"&&M.dateRegex.test(_)&&(v=_):c===M.type.image&&(v=_&&Object.getPrototypeOf(_)===Object.prototype&&"data"in _&&"filename"in _?x?_:_.data:x?{data:"",filename:""}:"");return v}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"removeIds",value:function(c){if(c.children){var _,x=re(c.children);try{for(x.s();!(_=x.n()).done;){var v=_.value;"id"in v&&delete v.id}}catch(a){x.e(a)}finally{x.f()}}}}]),M}();function V(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return ge(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?ge(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function ge(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}ke=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(we="dateRegex")in(ve=de)?Object.defineProperty(ve,we,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ve[we]=ke,de.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var z=function(){function M(P,c,_,x,v){$(this,M),this.rb=v,this.id=c,this.name=P,this.panelItem=null,this.x="0",this.y="0",this.width=""+_,this.height=""+x,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return T(M,[{key:"setInitialData",value:function(c){for(var _ in c)c.hasOwnProperty(_)&&this.hasOwnProperty(_)&&(this[_]=c[_]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=S(this.x),this.yVal=S(this.y),this.widthVal=S(this.width),this.heightVal=S(this.height)}},{key:"setup",value:function(c){var _=this.getContainer();if(_!==null){var x=_.getContentSize();this.xVal+this.widthVal>x.width&&(this.xVal=x.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>x.height&&(this.yVal=x.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var c=this;this.el.addEventListener("dblclick",function(_){c.rb.isSelectedObject(c.id)||(c.rb.selectObject(c.id,!0),_.stopPropagation())}),this.el.addEventListener("mousedown",function(_){_.shiftKey?(c.rb.deselectObject(c.id),_.stopPropagation()):c.rb.isSelectedObject(c.id)?(c.rb.getDocument().startDrag(_.pageX,_.pageY,c.id,c.containerId,c.getElementType(),M.dragType.element),_.stopPropagation()):c.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(_){if(c.rb.isSelectedObject(c.id)){var x=j(_);c.rb.getDocument().startDrag(x.x,x.y,c.id,c.containerId,c.getElementType(),M.dragType.element)}_.preventDefault()}),this.el.addEventListener("touchmove",function(_){c.rb.getDocument().processDrag(_)}),this.el.addEventListener("touchend",function(_){c.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var c=this;this.el.addEventListener("dblclick",function(_){c.handleDoubleClick(_)}),this.el.addEventListener("mousedown",function(_){c.handleClick(_,!1)}),this.el.addEventListener("touchstart",function(_){if(c.rb.isSelectedObject(c.id)){var x=j(_);c.rb.getDocument().startDrag(x.x,x.y,c.id,c.containerId,c.getElementType(),M.dragType.element),_.preventDefault()}else c.handleClick(_,!0)}),this.el.addEventListener("touchmove",function(_){c.rb.isSelectedObject(c.id)&&c.rb.getDocument().processDrag(_)}),this.el.addEventListener("touchend",function(_){c.rb.isSelectedObject(c.id)&&c.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(c){this.handleClick(c,!0)}},{key:"handleClick",value:function(c,_){if(this.rb.isSelectedObject(this.id))c.shiftKey?this.rb.deselectObject(this.id):_||this.rb.getDocument().startDrag(c.pageX,c.pageY,this.id,this.containerId,this.getElementType(),M.dragType.element),c.stopPropagation();else if(_||!this.isContainerSelected()){var x=!0;if(c.shiftKey){var v=[];this.appendContainerChildren(v);for(var a=0,u=v;a<u.length;a++){var l=u[a];if(this.rb.isSelectedObject(l.getId())){x=!1;break}}}x&&this.rb.selectObject(this.id,!c.shiftKey),c.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var c=this.getLinkedContainer();return c?[c]:[]}},{key:"getContainerContentSize",value:function(){var c=this.getContainer();return c!==null?c.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var c=this.getContainer();c!==null&&c.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var c=this.getContainer();return c!==null&&c.isSelected()}},{key:"appendContainerChildren",value:function(c){if(this.linkedContainerId!==null&&this.panelItem!==null){var _,x=V(this.panelItem.getChildren());try{for(x.s();!(_=x.n()).done;){var v=_.value;v.getData()instanceof M&&(c.push(v.getData()),v.getData().appendContainerChildren(c))}}catch(a){x.e(a)}finally{x.f()}}}},{key:"getAbsolutePosition",value:function(){var c={x:this.xVal,y:this.yVal},_=this.getContainer();if(_!==null){var x=_.getOffset();c.x+=x.x,c.y+=x.y}return c}},{key:"checkBounds",value:function(c,_,x,v,a,u){if(c+x>a.width&&(c=a.width-x),c<0&&(c=0),c+x>a.width&&(x=a.width-c),_+v>a.height&&(_=a.height-v),_<0&&(_=0),_+v>a.height&&(v=a.height-_),c!==this.xVal&&this.hasProperty("x")){var l=new e(this.id,"x",""+c,e.type.text,this.rb);l.disableSelect(),u.addCommand(l)}if(_!==this.yVal&&this.hasProperty("y")){var y=new e(this.id,"y",""+_,e.type.text,this.rb);y.disableSelect(),u.addCommand(y)}if(x!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(x,!0,u),v!==this.getDisplayHeight()&&this.hasProperty("height")){var B=new e(this.id,"height",""+v,e.type.text,this.rb);B.disableSelect(),u.addCommand(B)}var U=this.getLinkedContainer();if(U!==null&&U.getPanelItem()!==null){var te,ie={width:x,height:v},ye=V(U.getPanelItem().getChildren());try{for(ye.s();!(te=ye.n()).done;){var be=te.value;if(be.getData()instanceof M){var _e=be.getData();_e.checkBounds(_e.getValue("xVal"),_e.getValue("yVal"),_e.getDisplayWidth(),_e.getDisplayHeight(),ie,u)}}}catch(Se){ye.e(Se)}finally{ye.f()}}}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,_){if(this[c]=_,c==="x"||c==="y"||c==="width"||c==="height")this[c+"Val"]=S(_),this.updateDisplay();else if(c==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var x=this.getLinkedContainers();if(x.length>0){var v,a=this.getContainer(),u=V(x);try{for(u.s();!(v=u.n()).done;)v.value.setParent(a)}catch(B){u.e(B)}finally{u.f()}}var l,y=V(this.rb.getContainers());try{for(y.s();!(l=y.n()).done;)l.value.initLevel()}catch(B){y.e(B)}finally{y.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(c)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(c)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(c,_){return _}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var c=this.getProperties();return c.splice(0,0,"id","containerId"),c}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(c){return this.getProperties().indexOf(c)!==-1}},{key:"getElementType",value:function(){return M.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(c,_,x,v){this.el!==null&&(this.el.style.left=this.rb.toPixel(c),this.el.style.top=this.rb.toPixel(_),this.el.style.width=this.rb.toPixel(x),this.el.style.height=this.rb.toPixel(v))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(c){S(this.styleId)===c&&this.updateStyle()}},{key:"getDragDiff",value:function(c,_,x,v){var a,u,l={x:0,y:0},y=this.xVal,B=this.yVal,U=y+this.getDisplayWidth(),te=B+this.getDisplayHeight(),ie=this.getMinWidth(),ye=this.getMaxWidth(),be=this.getMinHeight();if(x===M.dragType.element)a=y+c,v!==0&&(a=L(a,v)),u=B+_,v!==0&&(u=L(u,v)),l.x=a-y,l.y=u-B;else{var _e=this.getContainerContentSize();x!==M.dragType.sizerNW&&x!==M.dragType.sizerN&&x!==M.dragType.sizerNE||(u=B+_,v!==0&&(u=L(u,v)),u>te-be?u=v!==0?O(te-be,v):te-be:u<0&&(u=0),l.y=u-B),x!==M.dragType.sizerNE&&x!==M.dragType.sizerE&&x!==M.dragType.sizerSE||(a=U+c,v!==0&&(a=L(a,v)),a<y+ie?a=v!==0?N(y+ie,v):y+ie:a>ye&&(a=ye),l.x=a-U),x!==M.dragType.sizerSE&&x!==M.dragType.sizerS&&x!==M.dragType.sizerSW||(u=te+_,v!==0&&(u=L(u,v)),u<B+be?u=v!==0?N(B+be,v):B+be:u>_e.height&&(u=_e.height),l.y=u-te),x!==M.dragType.sizerSW&&x!==M.dragType.sizerW&&x!==M.dragType.sizerNW||(a=y+c,v!==0&&(a=L(a,v)),a>U-ie?a=v!==0?O(U-ie,v):U-ie:a<0&&(a=0),l.x=a-y)}return l}},{key:"updateDrag",value:function(c,_,x,v,a){var u=this.xVal,l=this.yVal,y=u+this.getDisplayWidth(),B=l+this.getDisplayHeight(),U=this.getMaxWidth(),te=this.getContainerContentSize();x===M.dragType.element?(y=(u+=c)+this.getDisplayWidth(),B=(l+=_)+this.getDisplayHeight()):(x!==M.dragType.sizerNW&&x!==M.dragType.sizerN&&x!==M.dragType.sizerNE||(l+=_),x!==M.dragType.sizerNE&&x!==M.dragType.sizerE&&x!==M.dragType.sizerSE||(y+=c),x!==M.dragType.sizerSE&&x!==M.dragType.sizerS&&x!==M.dragType.sizerSW||(B+=_),x!==M.dragType.sizerSW&&x!==M.dragType.sizerW&&x!==M.dragType.sizerNW||(u+=c),u<0&&(u=0),y<u&&(y=u),l<0&&(l=0),B<l&&(B=l),y>U&&(y=U),B>te.height&&(B=te.height));var ie=y-u,ye=B-l;if(a!==null){var be=!1,_e=this.getContainer(),Se={width:0,height:0};if(v!==null&&v.getId()!==this.getContainerId()){if(be=!0,Se=v.getContentSize(),_e!==null){var Pe=v.getOffsetTo(_e);u-=Pe.x,l-=Pe.y}}else Se=_e.getContentSize();if(!be||v.isElementAllowed(this.getElementType())){var Re=a.getCommands().length;if(this.checkBounds(u,l,ie,ye,Se,a),be){var Ne=new e(this.id,"containerId",v.getId(),e.type.internal,this.rb);a.addCommand(Ne),Ne=new i(this.getPanelItem(),v.getPanelItem(),v.getPanelItem().getChildren().length,this.rb),a.addCommand(Ne)}a.getCommands().length===Re&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(u,l,ie,ye)}},{key:"select",value:function(){var c=this;if(this.el!==null){var _,x=this.getSizerContainerElement(),v=V(this.getSizers());try{var a=function(){var l=_.value,y=l,B=t("div",{class:"rbroSizer rbroSizer".concat(l)});B.addEventListener("mousedown",function(U){c.rb.getDocument().startDrag(U.pageX,U.pageY,c.id,c.containerId,c.getElementType(),M.dragType["sizer"+y]),U.stopPropagation()}),B.addEventListener("touchstart",function(U){if(c.rb.isSelectedObject(c.id)){var te=j(U);c.rb.getDocument().startDrag(te.x,te.y,c.id,c.containerId,c.getElementType(),M.dragType["sizer"+y])}U.preventDefault(),U.stopPropagation()}),B.addEventListener("touchmove",function(U){c.rb.getDocument().processDrag(U)}),B.addEventListener("touchend",function(U){c.rb.getDocument().stopDrag()}),x.append(B)};for(v.s();!(_=v.n()).done;)a()}catch(u){v.e(u)}finally{v.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var c,_=V(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(_.s();!(c=_.n()).done;)c.value.remove()}catch(x){_.e(x)}finally{_.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var c=this.getValue("dataSource").trim();if(c.length>=3&&c.substr(0,2)==="${"&&c.charAt(c.length-1)==="}")return c.substring(2,c.length-1)}return null}},{key:"getAllDataSources",value:function(){var c=[],_=[];this.getAllDataSourceParameterNames(_,null);for(var x=_.length-1;x>=0;x--){var v,a=_[x],u=null,l=V(c);try{for(l.s();!(v=l.n()).done;){var y,B=V(v.value.parameters);try{for(B.s();!(y=B.n()).done;){var U=y.value;if(U.getName()===a){u=U;break}}}catch(te){B.e(te)}finally{B.f()}}}catch(te){l.e(te)}finally{l.f()}u===null&&(u=this.rb.getParameterByName(a)),u!==null&&u.getValue("type")===de.type.array&&c.unshift({name:a,parameters:u.getChildren()})}return c}},{key:"getAllDataSourceParameterNames",value:function(c,_){if((this.getElementType()===M.type.table||this.getElementType()===M.type.section)&&_&&_.getValue("bandType")===J.bandType.content){var x=this.getDataSourceParameterName();x!==null&&c.push(x)}var v=this.getPanelItem();if(v!==null){var a=v.getParent();a!==null&&a.getData()instanceof M&&a.getData().getAllDataSourceParameterNames(c,this)}}},{key:"addCommandsForChangedParameterName",value:function(c,_,x){}},{key:"addCommandForChangedParameterName",value:function(c,_,x,v){var a=c.getParent(),u=this.getAllDataSources(),l=null,y=null;if(a!==null&&a.getValue("type")===de.type.array){var B,U=V(u);try{for(U.s();!(B=U.n()).done;)if(B.value.parameters.indexOf(c)!==-1){l="${"+c.getName()+"}",y="${"+_+"}";break}}catch(je){U.e(je)}finally{U.f()}}else if(a!==null&&a.getValue("type")===de.type.map)l="${"+a.getName()+"."+c.getName()+"}",y="${"+a.getName()+"."+_+"}";else if(c.getValue("type")===de.type.map)l="${"+c.getName()+".",y="${"+_+".";else{var te,ie=!1,ye=V(u);try{for(ye.s();!(te=ye.n()).done;){var be,_e=V(te.value.parameters);try{for(_e.s();!(be=_e.n()).done;)if(be.value.getName()===c.getName()){ie=!0;break}}catch(je){_e.e(je)}finally{_e.f()}}}catch(je){ye.e(je)}finally{ye.f()}ie||(l="${"+c.getName()+"}",y="${"+_+"}")}if(l!==null&&y!==null){var Se=this.getValue(x),Pe=e.type.text;if(p(Se)==="object"&&(Se=JSON.stringify(Se),Pe=e.type.richText),Se.indexOf(l)!==-1){var Re=H(Se,l,y);Pe===e.type.richText&&(Re=JSON.parse(Re));var Ne=new e(this.id,x,Re,Pe,this.rb);v.addCommand(Ne)}}}},{key:"addCommandsForDelete",value:function(c){var _=[];this.appendContainerChildren(_),_.push(this);for(var x=0,v=_;x<v.length;x++){var a=v[x],u=new Pt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),a.getPanelItem().getSiblingPosition(),this.rb);c.addCommand(u)}}},{key:"addCommandsForChangedWidth",value:function(c,_,x){var v=new e(this.id,"width",""+c,e.type.text,this.rb);_&&v.disableSelect(),x.addCommand(v)}},{key:"addChildren",value:function(c){}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var c,_={elementType:this.getElementType()},x=V(this.getFields());try{for(x.s();!(c=x.n()).done;){var v=c.value;["x","y","width","height"].indexOf(v)===-1?_[v]=this.getValue(v):_[v]=this.getValue(v+"Val")}}catch(a){x.e(a)}finally{x.f()}return _}}]),M}();z.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},z.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var k=et(5961),I=et.n(k),W=et(2592),ee=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementImage"),v,80,80,u)).elBarCode=null,l.content="",l.format="CODE128",l.displayValue=!1,l.barWidth="2",l.errorCorrectionLevel="M",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.name=l.rb.getLabel("docElementBarCode"),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,u){o(f(x.prototype),"setValue",this).call(this,a,u),a!=="content"&&a!=="format"&&a!=="displayValue"&&a!=="barWidth"&&a!=="height"&&a!=="errorCorrectionLevel"||(this.updateBarCode(),this.updateDisplay())}},{key:"getProperties",value:function(){return["x","y","height","content","format","displayValue","barWidth","errorCorrectionLevel","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return z.type.barCode}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(u),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y))}},{key:"getSizers",value:function(){return["N","S"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elBarCode=t("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.el.append(this.elBarCode),this.appendToContainer(),this.updateBarCode(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var a=this.content;a===""&&(a="https://www.reportbro.com");var u={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};W.toCanvas(this.elBarCode,a,u)}else{var l=!1,y={format:this.format,height:this.displayValue?this.heightVal-22:this.heightVal,margin:0,displayValue:this.displayValue,width:2},B=S(this.barWidth);if(B&&(y.width=B),this.content!==""&&this.content.indexOf("${")===-1)try{I()("#"+this.elBarCode.id,this.content,y),l=!0}catch(te){}if(!l){var U="";this.format==="CODE39"||this.format==="CODE128"?U="12345678":this.format==="EAN13"?U="5901234123457":this.format==="EAN8"?U="96385074":this.format==="EAN5"?U="12345":this.format==="EAN2"?U="12":this.format==="ITF14"?U="12345678901231":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(U="1234"),this.elBarCode.style.width="",this.elBarCode.style.height="",I()("#"+this.elBarCode.id,U,y)}this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal}}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"content",l),this.addCommandForChangedParameterName(a,u,"printIf",l)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),x}(z),ae=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){return $(this,x),_.call(this,v,a,u)}return T(x,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(a){return a!==z.type.pageBreak&&a!==z.type.frame&&a!==z.type.section}},{key:"getOffset",value:function(){var a=0,u=0;if(this.owner!==null&&(a=this.owner.getValue("xVal"),u=this.owner.getValue("yVal")),this.parent!==null){var l=this.parent.getOffset();a+=l.x,u+=l.y}return{x:a,y:u}}},{key:"getSize",value:function(){var a=0,u=0;return this.owner!==null&&(a=this.owner.getValue("widthVal"),u=this.owner.getValue("heightVal")),{width:a,height:u}}},{key:"getContentSize",value:function(){var a=0,u=0;if(this.owner!==null){a=this.owner.getValue("widthVal"),u=this.owner.getValue("heightVal");var l=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(a-=l),this.owner.getValue("borderRight")&&(a-=l),this.owner.getValue("borderTop")&&(u-=l),this.owner.getValue("borderBottom")&&(u-=l)}return{width:a,height:u}}}]),x}(r),oe=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementFrame"),v,100,100,u)).frame=null,l.setupComplete=!1,l.elContent=null,l.elContentFrame=null,l.label="",l.backgroundColor="",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.borderColor="#000000",l.borderWidth="1",l.shrinkToContentHeight=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=S(l.borderWidth),l}return T(x,[{key:"setup",value:function(a){this.borderWidthVal=S(this.borderWidth),o(f(x.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new ae(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(a,u){a.indexOf("border")!==-1&&(this[a]=u,a==="borderWidth"&&(this.borderWidthVal=S(u)),R.setBorderValue(this,a,"",u,this.rb)),o(f(x.prototype),"setValue",this).call(this,a,u),a==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(u),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y)),this.borderLeft&&(l-=this.borderWidthVal),this.borderRight&&(l-=this.borderWidthVal),this.borderTop&&(y-=this.borderWidthVal),this.borderBottom&&(y-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(l),this.elContentFrame.style.height=this.rb.toPixel(y)}},{key:"updateStyle",value:function(){var a;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(a=this.getValue("borderTop")?"solid":"none",a+=this.getValue("borderRight")?" solid":" none",a+=this.getValue("borderBottom")?" solid":" none",a+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):a="none",this.elContent.style.borderStyle=a,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return z.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=t("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"printIf",l)}},{key:"getClassName",value:function(){return"FrameElement"}}]),x}(z),Ee=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementImage"),v,80,80,u)).source="",l.image="",l.imageWidth=0,l.imageHeight=0,l.imageRatio=0,l.imageFilename="",l.elImg=null,l.elContent=null,l.horizontalAlignment=R.alignment.left,l.verticalAlignment=R.alignment.top,l.backgroundColor="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(a,u){o(f(x.prototype),"setValue",this).call(this,a,u),a!=="source"&&a!=="imageFilename"||this.updateName(),a!=="source"&&a!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return z.type.image}},{key:"updateDisplayInternal",value:function(a,u,l,y){if(this.el!==null){this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(u),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y);var B=0,U=0;if(this.imageRatio!==0&&(B=this.imageWidth<l?this.imageWidth:l,U=this.imageHeight<y?this.imageHeight:y,B!==this.imageWidth||U!==this.imageHeight)){var te=Math.floor(U*this.imageRatio);te<l?B=te:U=Math.floor(B/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(B),this.elImg.style.height=this.rb.toPixel(U)}}},{key:"updateStyle",value:function(){var a=this.getValue("horizontalAlignment"),u=this.getValue("verticalAlignment"),l="rbroDocElementAlign"+a.charAt(0).toUpperCase()+a.slice(1),y="rbroDocElementVAlign"+u.charAt(0).toUpperCase()+u.slice(1);this.elContent.style.textAlign=a,this.elContent.style.verticalAlign=u,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(l),this.elContent.classList.add(y)}},{key:"createElement",value:function(){var a=this;this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=t("img",{src:""}),this.elImg.addEventListener("load",function(u){a.imageWidth=a.elImg.naturalWidth,a.imageHeight=a.elImg.naturalHeight,a.imageHeight!==0?a.imageRatio=a.imageWidth/a.imageHeight:a.imageRatio=0,a.updateDisplay()}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,o(f(x.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var a=document.getElementById("rbro_menu_item_name".concat(this.id));a.textContent=this.name,a.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"source",l),this.addCommandForChangedParameterName(a,u,"printIf",l)}},{key:"getClassName",value:function(){return"ImageElement"}}]),x}(z),Le=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementLine"),v,100,1,u)).color="#000000",l.setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,u){o(f(x.prototype),"setValue",this).call(this,a,u),a==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return z.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"printIf",l)}},{key:"getClassName",value:function(){return"LineElement"}}]),x}(z),Ie=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementPageBreak"),v,-1,1,u)).setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,u){o(f(x.prototype),"setValue",this).call(this,a,u)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return z.type.pageBreak}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(u),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),x}(z),He=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l){var y;$(this,x);var B=u===J.bandType.header?l.getLabel("bandHeader"):u===J.bandType.footer?l.getLabel("bandFooter"):l.getLabel("bandContent");return(y=_.call(this,B,v,0,100,l)).setupComplete=!1,y.band=null,y.bandType=u,y.repeatHeader=!1,y.alwaysPrintOnSamePage=!0,y.shrinkToContentHeight=!1,y.parentId=a.parentId,y.heightVal=0,y.visible=u===J.bandType.content,y.setInitialData(a),y}return T(x,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new J(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var a={x:0,y:0},u=this.getParent();return u!==null&&(a=u.getAbsolutePosition()),a.y+=this.yVal,a}},{key:"setValue",value:function(a,u){if(o(f(x.prototype),"setValue",this).call(this,a,u),a==="height"){this[a+"Val"]=S(u);var l=this.getParent();l!==null&&l.updateBands(this)}}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return this.bandType===J.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(a,u,l,y){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(u),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(y),this.setupComplete)){var B=this.getParent();B!==null&&B.updateHeight(this,y)}}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(t("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(a){this.visible=a,a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),x}(z);function Ke(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var rt=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementSection"),v,-1,60,u)).setupComplete=!1,l.elDividerHeader=null,l.elDividerFooter=null,l.elDividerBottom=null,l.dataSource="",l.label="",l.header=!1,l.footer=!1,l.headerData=null,l.contentData=null,l.footerData=null,l.setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(J.bandType.header,null),this.contentData=this.createBand(J.bandType.content,null),this.footerData=this.createBand(J.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,u){var l,y,B=a+"Data",U={hasChildren:!0,showDelete:!1};u?l=u:this[B]?y=(l=this[B]).id:l={},l.parentId=this.id,l.containerId=this.containerId,y||(y=this.rb.getUniqueId());var te=0;a===J.bandType.header?l.y=""+te:a===J.bandType.content?(this.header&&this.headerData!==null&&(te+=this.headerData.getValue("heightVal")),l.y=""+te):a===J.bandType.footer&&(this.header&&this.headerData!==null&&(te+=this.headerData.getValue("heightVal")),this.contentData!==null&&(te+=this.contentData.getValue("heightVal")),l.y=""+te),(a===J.bandType.header&&!this.header||a===J.bandType.footer&&!this.footer)&&(U.visible=!1);var ie=new He(y,l,a,this.rb);this.rb.addDataObject(ie);var ye=new fe("section_band",this.panelItem,ie,U,this.rb);return ie.setPanelItem(ye),this.panelItem.appendChild(ye),ie.setup(),a===J.bandType.header?ie.show(this.header):a===J.bandType.footer&&ie.show(this.footer),ie}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var a=this.id;return this.footerData!==null&&(a=this.footerData.getMaxId()),a}},{key:"appendContainerChildren",value:function(a){this.headerData!==null&&this.headerData.appendContainerChildren(a),this.contentData!==null&&this.contentData.appendContainerChildren(a),this.footerData!==null&&this.footerData.appendContainerChildren(a)}},{key:"setValue",value:function(a,u){o(f(x.prototype),"setValue",this).call(this,a,u),a==="label"||a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(u),u?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(u),u?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a==="containerId"&&(this.headerData.containerId=u,this.contentData.containerId=u,this.footerData.containerId=u),a!=="header"&&a!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.el!==null&&(this.el.style.top=this.rb.toPixel(u),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(y))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return z.type.section}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),u=0,l=["N","S"];u<l.length;u++){var y=l[u];a.append(t("div",{class:"rbroSizer rbroSizer".concat(y," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this);var a,u=function(l,y){var B=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!B){if(Array.isArray(l)||(B=function(_e,Se){if(_e){if(typeof _e=="string")return Ke(_e,Se);var Pe=Object.prototype.toString.call(_e).slice(8,-1);return Pe==="Object"&&_e.constructor&&(Pe=_e.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(_e):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?Ke(_e,Se):void 0}}(l))||y&&l&&typeof l.length=="number"){B&&(l=B);var U=0,te=function(){};return{s:te,n:function(){return U>=l.length?{done:!0}:{done:!1,value:l[U++]}},e:function(Se){throw Se},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,ye=!0,be=!1;return{s:function(){B=B.call(l)},n:function(){var Se=B.next();return ye=Se.done,Se},e:function(Se){be=!0,ie=Se},f:function(){try{ye||B.return==null||B.return()}finally{if(be)throw ie}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(u.s();!(a=u.n()).done;)a.value.classList.remove("rbroHighlightBandDescription")}catch(l){u.e(l)}finally{u.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(t("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=t("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=t("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(a){this.widthVal=a,this.width=""+a,this.headerData!==null&&(this.headerData.widthVal=a,this.headerData.width=""+a),this.contentData!==null&&(this.contentData.widthVal=a,this.contentData.width=""+a),this.footerData!==null&&(this.footerData.widthVal=a,this.footerData.width=""+a)}},{key:"updateHeight",value:function(a,u){var l=0;this.header&&this.headerData!==null?(a===this.headerData?l+=u:l+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(l),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(a===this.contentData?l+=u:l+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(l),this.elDividerFooter.classList.remove("rbroHidden"),a===this.footerData?l+=u:l+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(l),this.height=""+l,this.heightVal=l,this.updateDisplay()}},{key:"updateBands",value:function(a){if(this.setupComplete){var u=0;this.header&&(this.headerData!==a&&this.headerData.setValue("y",""+u),u+=this.headerData.getValue("heightVal")),this.contentData!==a&&this.contentData.setValue("y",""+u),u+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==a&&this.footerData.setValue("y",""+u)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var a,u=[],l=0,y=["headerData","contentData","footerData"];l<y.length;l++){var B=y[l];this[B]!==null&&(a=this[B].getLinkedContainer())!==null&&u.push(a)}return u}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"dataSource",l),this.addCommandForChangedParameterName(a,u,"printIf",l)}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.headerData=this.headerData.toJS(),a.contentData=this.contentData.toJS(),a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"SectionElement"}}]),x}(z);function dt(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return xt(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?xt(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function xt(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var It=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementText"),v,100,20,u)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.content="",l.richText=!1,l.richTextContent=null,l.richTextHtml="",l.eval=!1,l.styleId="",l.bold=!1,l.italic=!1,l.underline=!1,l.strikethrough=!1,l.horizontalAlignment=R.alignment.left,l.verticalAlignment=R.alignment.top,l.textColor="#000000",l.backgroundColor="",l.font=u.getProperty("defaultFont"),l.fontSize=12,l.lineSpacing=1,l.borderColor="#000000",l.borderWidth="1",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.paddingLeft="2",l.paddingTop="2",l.paddingRight="2",l.paddingBottom="2",l.cs_condition="",l.cs_styleId="",l.cs_bold=!1,l.cs_italic=!1,l.cs_underline=!1,l.cs_strikethrough=!1,l.cs_horizontalAlignment=R.alignment.left,l.cs_verticalAlignment=R.alignment.top,l.cs_textColor="#000000",l.cs_backgroundColor="",l.cs_font=R.font.helvetica,l.cs_fontSize=12,l.cs_lineSpacing=1,l.cs_borderColor="#000000",l.cs_borderWidth="1",l.cs_borderAll=!1,l.cs_borderLeft=!1,l.cs_borderTop=!1,l.cs_borderRight=!1,l.cs_borderBottom=!1,l.cs_paddingLeft="2",l.cs_paddingTop="2",l.cs_paddingRight="2",l.cs_paddingBottom="2",l.alwaysPrintOnSamePage=!0,l.pattern="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.spreadsheet_textWrap=!1,l.setInitialData(a),l.borderWidthVal=S(l.borderWidth),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(a){o(f(x.prototype),"handleDoubleClick",this).call(this,a);var u=document.getElementById("rbro_doc_element_content");u.focus(),typeof u.selectionStart=="number"&&(u.selectionStart=u.selectionEnd=u.value.length)}},{key:"setValue",value:function(a,u){a.indexOf("border")!==-1&&(this[a]=u,a.substr(0,3)==="cs_"?(a==="cs_borderWidth"&&(this.borderWidthVal=S(u)),R.setBorderValue(this,a,"cs_",u,this.rb)):(a==="borderWidth"&&(this.borderWidthVal=S(u)),R.setBorderValue(this,a,"",u,this.rb))),o(f(x.prototype),"setValue",this).call(this,a,u),a==="content"?this.updateContent(u):a==="width"||a==="height"?this.updateDisplay():a==="richText"?(u?this.setupRichText():this.updateContent(this.content),this.updateStyle()):a==="richTextContent"?this.updateRichTextContent(u):a==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=u)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return z.type.text}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(u),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y));var B=this.getContentSize(l,y,this.getStyle());this.elContentText.style.width=this.rb.toPixel(B.width),this.elContentText.style.height=this.rb.toPixel(B.height)}},{key:"getStyle",value:function(){var a=this;if(this.styleId!==""){var u=this.rb.getDataObject(this.styleId);u!==null&&(a=u)}return a}},{key:"addCommandsForChangedStyle",value:function(a,u,l,y){if(a!==""){var B=this.rb.getStyleById(a);if(B!==null){var U,te=dt(B.getFields().slice(2));try{for(te.s();!(U=te.n()).done;){var ie=U.value,ye=u+ie,be=B.getValue(ie);if(be!==this.getValue(ye)){var _e=l[ye],Se=new e(this.getId(),ye,be,_e.type,this.rb);Se.disableSelect(),y.addCommand(Se)}}}catch(Pe){te.e(Pe)}finally{te.f()}}}y.addCommand(new e(this.getId(),u+"styleId",a,e.type.select,this.rb))}},{key:"getContentSize",value:function(a,u,l){var y=l.getValue("borderWidthVal");return a-=S(l.getValue("paddingLeft"))+S(l.getValue("paddingRight")),l.getValue("borderLeft")&&(a-=y),l.getValue("borderRight")&&(a-=y),u-=S(l.getValue("paddingTop"))+S(l.getValue("paddingBottom")),l.getValue("borderTop")&&(u-=y),l.getValue("borderBottom")&&(u-=y),{width:a,height:u}}},{key:"updateStyle",value:function(){var a,u={},l=this.getStyle(),y="",B="",U=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),l);u.width=this.rb.toPixel(U.width),u.height=this.rb.toPixel(U.height);var te=l.getValue("horizontalAlignment"),ie=l.getValue("verticalAlignment"),ye="rbroDocElementAlign"+te.charAt(0).toUpperCase()+te.slice(1),be="rbroDocElementVAlign"+ie.charAt(0).toUpperCase()+ie.slice(1);u["vertical-align"]=ie,u["background-color"]=l.getValue("backgroundColor"),this.richText?(u["font-weight"]="unset",u["font-style"]="normal",u["text-decoration"]="none",u["text-align"]="unset",u.color="#000000",u["font-family"]=this.rb.getProperty("defaultFont"),u["font-size"]="12px"):(u["font-weight"]=l.getValue("bold")?"bold":"",u["font-style"]=l.getValue("italic")?"italic":"normal",l.getValue("underline")&&l.getValue("strikethrough")?u["text-decoration"]="underline line-through":l.getValue("underline")?u["text-decoration"]="underline":l.getValue("strikethrough")?u["text-decoration"]="line-through":u["text-decoration"]="none",u["text-align"]=te,u.color=l.getValue("textColor"),u["font-family"]=l.getValue("font"),u["font-size"]=l.getValue("fontSize")+"px"),u["line-height"]=l.getValue("lineSpacing"),l.getValue("borderLeft")||l.getValue("borderTop")||l.getValue("borderRight")||l.getValue("borderBottom")?(a=l.getValue("borderTop")?"solid":"none",a+=l.getValue("borderRight")?" solid":" none",a+=l.getValue("borderBottom")?" solid":" none",a+=l.getValue("borderLeft")?" solid":" none",y=l.getValue("borderWidthVal")+"px",B=l.getValue("borderColor")):a="none",l.getValue("paddingLeft")!==""||l.getValue("paddingTop")!==""||l.getValue("paddingRight")!==""||l.getValue("paddingBottom")!==""?(u.padding=this.rb.toPixel(l.getValue("paddingTop")),u.padding+=" "+this.rb.toPixel(l.getValue("paddingRight")),u.padding+=" "+this.rb.toPixel(l.getValue("paddingBottom")),u.padding+=" "+this.rb.toPixel(l.getValue("paddingLeft"))):u.padding="",this.elContent.style.borderStyle=a,this.elContent.style.borderWidth=y,this.elContent.style.borderColor=B,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(ye),this.elContent.classList.add(be);var _e="";for(var Se in u)_e+=Se+": "+u[Se]+";";this.elContentText.style.cssText=_e}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(a){a.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=a;var u=document.getElementById("rbro_menu_item_name".concat(this.id));u.textContent=this.name,u.setAttribute("title",this.name),this.elContentTextData.textContent=a}},{key:"updateRichTextContent",value:function(a){var u="";if(a&&a.ops){var l,y=dt(a.ops);try{for(y.s();!(l=y.n()).done;){var B=l.value;"insert"in B&&(u+=B.insert)}}catch(te){y.e(te)}finally{y.f()}(u=u.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(u=u.substr(0,80)),u=u.trim()}this.name=u===""?this.rb.getLabel("docElementText"):u;var U=document.getElementById("rbro_menu_item_name".concat(this.id));U.textContent=this.name,U.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"content",l),this.addCommandForChangedParameterName(a,u,"richTextContent",l),this.addCommandForChangedParameterName(a,u,"richTextHtml",l),this.addCommandForChangedParameterName(a,u,"printIf",l),this.addCommandForChangedParameterName(a,u,"cs_condition",l)}},{key:"toJS",value:function(){for(var a=o(f(x.prototype),"toJS",this).call(this),u=0,l=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];u<l.length;u++){var y=l[u];a[y]=S(this.getValue(y))}return a}},{key:"getClassName",value:function(){return"TextElement"}}]),x}(z),Ot=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,v,a,u)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.colspan=a.colspan||"",l.colspanVal=1,l.columnIndex=a.columnIndex,l.parentId=a.parentId,l.tableId=a.tableId,l.displayWidth=l.widthVal,l.lastTouchStartTime=0,l.updateColspanVal(),l}return T(x,[{key:"setInitialData",value:function(a){this.growWeight=0,o(f(x.prototype),"setInitialData",this).call(this,a)}},{key:"registerEventHandlers",value:function(){var a=this;this.el.addEventListener("dblclick",function(u){a.rb.isSelectedObject(a.id)||a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!u.shiftKey),u.stopPropagation())}),this.el.addEventListener("mousedown",function(u){a.rb.isSelectedObject(a.id)?(u.shiftKey&&a.rb.deselectObject(a.id),u.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!u.shiftKey),u.stopPropagation())}),this.el.addEventListener("touchstart",function(u){a.rb.isSelectedObject(a.id)||(new Date().getTime()-a.lastTouchStartTime<1e3?a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!0),u.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!0),u.stopPropagation())),a.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var a=this.getTable();return a!==null?a.getContainerId():null}},{key:"getValue",value:function(a){return a==="xReadOnly"?this.getOffsetX():o(f(x.prototype),"getValue",this).call(this,a)}},{key:"setValue",value:function(a,u){if(o(f(x.prototype),"setValue",this).call(this,a,u),a==="width"){var l=this.getTable();l!==null&&(l.updateColumnWidth(this.columnIndex,u),l.updateColumnDisplay())}else if(a==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(a==="colspan"){this.updateColspanVal();var y=this.rb.getDataObject(this.tableId);y!==null&&y.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(a,u){if(a==="width"){var l=S(u);if(this.colspanVal>1){var y=this.rb.getDataObject(this.parentId);if(y!==null){var B=this.getNextCellIndex(),U=y.getSingleCellWidths();B>U.length&&(B=U.length);for(var te=this.columnIndex+1;te<B;te++)l+=U[te]}}return u===""&&l===0?"":""+l}return u}},{key:"setWidth",value:function(a){this.width=a,this.widthVal=S(a)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(a){this.displayWidth=a}},{key:"getDisplayWidthSplit",value:function(a){if(this.colspanVal===1)return[a];var u=[20],l=20,y=this.rb.getDataObject(this.parentId);if(y!==null){var B=this.getNextCellIndex(),U=y.getSingleCellWidths();B>U.length&&(B=U.length);for(var te=this.columnIndex+1;te<B;te++)u.push(U[te]),l+=U[te];var ie=a-l;if(ie>0)u[0]+=ie;else if(ie<0){var ye=1;for(ie=-ie;ye<u.length;){if(u[ye]-20>ie){u[ye]-=ie;break}ie-=u[ye]-20,u[ye]=20,ye++}}}return u}},{key:"updateColspanVal",value:function(){this.colspanVal=S(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,1,"id"),a}},{key:"getProperties",value:function(){var a=["xReadOnly","width","content","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_textWrap"],u=this.rb.getDataObject(this.parentId);return u!==null&&u.getValue("bandType")===J.bandType.header&&(a.push("printIf"),a.push("growWeight")),a}},{key:"getElementType",value:function(){return z.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.updateDisplayInternalNotify(a,u,l,y,!0)}},{key:"updateDisplayInternalNotify",value:function(a,u,l,y,B){this.el!==null&&(this.el.style.width=this.rb.toPixel(l-1));var U=this.getContentSize(l,y,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(U.width),this.elContentText.style.height=this.rb.toPixel(U.height),B){var te=this.rb.getDataObject(this.tableId);if(te!==null){for(var ie=this.rb.getDataObject(this.parentId),ye=l,be=ie.getSingleCellWidths(),_e=0;_e<be.length;_e++)(_e<this.columnIndex||_e>=this.columnIndex+this.colspanVal)&&(ye+=be[_e]);for(var Se=this.getDisplayWidthSplit(l),Pe=0;Pe<Se.length;Pe++)te.notifyColumnWidthResized(ie,this.columnIndex+Pe,Se[Pe],ye)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var a=this.rb.getDataObject(this.tableId),u=this.rb.getDataObject(this.parentId);if(a!==null&&u!==null){for(var l=this.rb.getDocumentProperties().getContentSize().width,y=u.getSingleCellWidths(),B=0,U=0;U<y.length;U++)(U<this.columnIndex||U>=this.columnIndex+this.colspanVal)&&(B+=y[U]);return l-B-a.xVal}return 0}},{key:"getOffsetX",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){for(var u=a.getSingleCellWidths(),l=0,y=0;y<this.columnIndex;y++)l+=u[y];return l}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=t("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(a,u,l){var y=this.getDisplayWidthSplit(a),B=this.getParent();if(B!==null)for(var U=y.length-1;U>=0;U--){var te=new e(B.getColumn(this.columnIndex+U).getId(),"width",""+y[U],e.type.text,this.rb);(u||U>0)&&te.disableSelect(),l.addCommand(te)}}},{key:"insertColumn",value:function(a){var u=this.getParent(),l=this.getTable();if(u!==null&&l!==null){var y=u.getColumnIndex(this);if(y!==-1){var B=new Z("Insert column"),U=new Pt(!1,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb);B.addCommand(U);var te=S(l.getValue("columns"))+1;l.setValue("columns",te),l.getValue("headerData").createColumns(te,!0,y,a);for(var ie=0;ie<l.getValue("contentDataRows").length;ie++)l.getValue("contentDataRows")[ie].createColumns(te,!0,y,a);l.getValue("footerData").createColumns(te,!0,y,a),U=new Pt(!0,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb),B.addCommand(U),this.rb.executeCommand(B),this.rb.selectObject(this.getParent().getValue("columnData")[a?y:y+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var a=this.getParent(),u=this.getTable();if(a!==null&&u!==null){var l=a.getColumnIndex(this);if(l!==-1){var y=new Z("Delete column"),B=new Pt(!1,u.getPanelItem().getPanelName(),u.toJS(),u.getId(),u.getContainerId(),-1,this.rb);y.addCommand(B);var U=S(u.getValue("columns"))-1;u.setValue("columns",U);var te=u.getValue("widthVal");u.setValue("width",te-this.widthVal),u.getValue("headerData").deleteColumn(l);for(var ie=0;ie<u.getValue("contentDataRows").length;ie++)u.getValue("contentDataRows")[ie].deleteColumn(l);u.getValue("footerData").deleteColumn(l),B=new Pt(!0,u.getPanelItem().getPanelName(),u.toJS(),u.getId(),u.getContainerId(),-1,this.rb),y.addCommand(B),this.rb.executeCommand(y)}}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.growWeight=S(a.growWeight),a}},{key:"getClassName",value:function(){return"TableTextElement"}}]),x}(It);function pt(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return Bt(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Bt(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function Bt(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var Ut=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l){var y;$(this,x);var B=u==="header"?l.getLabel("bandHeader"):u==="footer"?l.getLabel("bandFooter"):l.getLabel("bandContent");return(y=_.call(this,B,v,0,20,l)).bandType=u,y.repeatHeader=!1,y.alwaysPrintOnSamePage=!0,y.pageBreak=!1,y.backgroundColor="",y.alternateBackgroundColor="",y.groupExpression="",y.repeatGroupHeader=!1,y.parentId=a.parentId,y.columnData=[],y.heightVal=0,y.setInitialData(a),y}return T(x,[{key:"setInitialData",value:function(a){for(var u in a)a.hasOwnProperty(u)&&this.hasOwnProperty(u)&&(this[u]=a[u]);this.heightVal=S(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var a,u=this.id,l=pt(this.columnData);try{for(l.s();!(a=l.n()).done;){var y=a.value;y.getId()>u&&(u=y.getId())}}catch(B){l.e(B)}finally{l.f()}return u}},{key:"getContainerId",value:function(){var a=this.getParent();return a!==null?a.getContainerId():null}},{key:"setValue",value:function(a,u){if(this[a]=u,a==="height"){var l=S(u);this[a+"Val"]=l;var y,B=pt(this.getElement().querySelectorAll("td"));try{for(B.s();!(y=B.n()).done;)y.value.style.height=this.rb.toPixel(l)}catch(ye){B.e(ye)}finally{B.f()}var U,te=pt(this.columnData);try{for(te.s();!(U=te.n()).done;)U.value.setValue(a,u)}catch(ye){te.e(ye)}finally{te.f()}var ie=this.getParent();ie!==null&&ie.updateHeight()}else a==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id"),a}},{key:"getProperties",value:function(){var a=["height","backgroundColor"];return this.bandType===J.bandType.header?a.push("repeatHeader"):this.bandType===J.bandType.content&&(a.push("alternateBackgroundColor"),a.push("groupExpression"),a.push("printIf"),a.push("alwaysPrintOnSamePage"),a.push("pageBreak"),a.push("repeatGroupHeader")),a}},{key:"updateDisplayInternal",value:function(a,u,l,y){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var a=0;a<this.columnData.length;a++)this.rb.deleteDataObject(this.columnData[a]);o(f(x.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(a,u,l,y){if(this.panelItem!==null){if(u)for(var B=0;B<this.columnData.length;B++)this.columnData[B].remove(),B>=a&&this.rb.deleteDataObject(this.columnData[B]);for(var U=[],te=0;te<a;te++){var ie=void 0,ye=void 0,be=u?20:100,_e=te;l!==-1&&(y?te===l?(be=this.columnData[l].getValue("widthVal"),_e=-1):te>=l&&_e--:te===l+1?(be=this.columnData[l].getValue("widthVal"),_e=-1):te>l&&_e--),_e!==-1&&_e<this.columnData.length?((ie=this.columnData[_e]).columnIndex=te,ye=ie.id,u||(ie.band=this.band,ie.parentId=this.id,ie.tableId=this.parentId,ie.height=this.height)):ie={band:this.band,columnIndex:te,parentId:this.id,tableId:this.parentId,width:be,height:this.height},ye||(ye=this.rb.getUniqueId());var Se=new Ot(ye,ie,this.rb);U.push(Se),this.rb.addDataObject(Se);var Pe=new fe(z.type.text,this.panelItem,Se,{showDelete:!1},this.rb);Se.setPanelItem(Pe),this.panelItem.appendChild(Pe)}this.columnData=U;for(var Re=0,Ne=U;Re<Ne.length;Re++)Ne[Re].setup(!0);this.updateColumnDisplay();var je,Fe=pt(this.getElement().querySelectorAll("td"));try{for(Fe.s();!(je=Fe.n()).done;)je.value.style.height=this.rb.toPixel(this.heightVal)}catch(Xe){Fe.e(Xe)}finally{Fe.f()}}}},{key:"deleteColumn",value:function(a){a<this.columnData.length&&(this.columnData[a].remove(),this.rb.deleteDataObject(this.columnData[a]),this.columnData.splice(a,1))}},{key:"show",value:function(a){a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(a,u){a<this.columnData.length&&this.columnData[a].setWidth(u)}},{key:"updateColumnDisplay",value:function(){for(var a=0;a<this.columnData.length;){var u=this.columnData[a],l=u.getValue("widthVal"),y=u.getValue("colspanVal");if(u.getElement().style.display="",y>1){var B=a+y<this.columnData.length?a+y:this.columnData.length;for(a++;a<B;)l+=this.columnData[a].getValue("widthVal"),this.columnData[a].getElement().style.display="none",a++}else a++;u.setDisplayWidth(l),u.updateDisplay()}}},{key:"getColumn",value:function(a){return a>=0&&a<this.columnData.length?this.columnData[a]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(a,u){for(var l=0;l<this.columnData.length;){var y=this.columnData[l],B=y.getNextCellIndex();if(B>a){if(B>l+1)for(var U=l;U<B&&U<this.columnData.length;U++)U!==a&&(u+=this.columnData[U].getValue("widthVal"));y.updateDisplayInternalNotify(0,0,u,y.getValue("heightVal"),!1);break}l=B}}},{key:"getColumnIndex",value:function(a){for(var u=0;u<this.columnData.length;u++)if(a===this.columnData[u])return u;return-1}},{key:"getWidth",value:function(){for(var a=0,u=0;u<this.columnData.length;){var l=this.columnData[u];a+=l.getDisplayWidth();var y=l.getValue("colspanVal");y>1?u+=y:u++}return a}},{key:"getSingleCellWidths",value:function(){var a,u=[],l=pt(this.columnData);try{for(l.s();!(a=l.n()).done;){var y=a.value;u.push(y.getValue("widthVal"))}}catch(B){l.e(B)}finally{l.f()}return u}},{key:"insertRow",value:function(a){var u=this.getParent();if(u!==null){var l=u.getContentRowIndex(this);if(l!==-1){var y=new Z("Insert row"),B=new Pt(!1,u.getPanelItem().getPanelName(),u.toJS(),u.getId(),u.getContainerId(),-1,this.rb);y.addCommand(B);var U=S(u.getValue("contentRows"))+1;u.setValue("contentRows",U);var te,ie=u.getValue("contentDataRows")[l],ye={height:ie.height,columnData:[]},be=pt(ie.columnData);try{for(be.s();!(te=be.n()).done;){var _e=te.value;ye.columnData.push({width:_e.width})}}catch(Pe){be.e(Pe)}finally{be.f()}var Se=u.createBand("content",-1,ye);u.getValue("contentDataRows").splice(a?l:l+1,0,Se),B=new Pt(!0,u.getPanelItem().getPanelName(),u.toJS(),u.getId(),u.getContainerId(),-1,this.rb),y.addCommand(B),this.rb.executeCommand(y),this.rb.selectObject(Se.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var a=this.getParent();if(a!==null){var u=a.getContentRowIndex(this),l=S(a.getValue("contentRows"));if(u!==-1&&l>1){var y=new Z("Delete row"),B=new Pt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb);y.addCommand(B),a.setValue("contentRows",l-1),a.getValue("contentDataRows").splice(u,1),B=new Pt(!0,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb),y.addCommand(B),this.rb.executeCommand(y)}}}},{key:"addChildren",value:function(a){var u,l=pt(this.columnData);try{for(l.s();!(u=l.n()).done;){var y=u.value;a.push(y)}}catch(B){l.e(B)}finally{l.f()}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.columnData=[];var u,l=pt(this.columnData);try{for(l.s();!(u=l.n()).done;){var y=u.value;a.columnData.push(y.toJS())}}catch(B){l.e(B)}finally{l.f()}return a}},{key:"getClassName",value:function(){return"TableBandElement"}}]),x}(z);function kt(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return rr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?rr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function rr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var Qt=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u){var l;return $(this,x),(l=_.call(this,u.getLabel("docElementTable"),v,200,40,u)).setupComplete=!1,l.dataSource="",l.borderColor="#000000",l.borderWidth="1",l.border=x.border.grid,l.header=!0,l.footer=!1,l.contentRows="1",l.columns="2",l.headerData=null,l.contentDataRows=[],l.footerData=null,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=S(l.borderWidth),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var u=S(this.contentRows);u<1&&(u=1);for(var l=[],y=0;y<u;y++)l.push(this.createBand("content",y,null));this.contentDataRows=l,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,u,l){var y,B,U=a+(a==="content"?"DataRows":"Data"),te={hasChildren:!0,showDelete:!1};l?y=l:this[U]&&(a!=="content"||u!==-1&&u<this[U].length)?B=(y=a==="content"?this[U][u]:this[U]).id:y={},y.parentId=this.id,B||(B=this.rb.getUniqueId()),(a==="header"&&!this.header||a==="footer"&&!this.footer)&&(te.visible=!1);var ie=new Ut(B,y,a,this.rb);this.rb.addDataObject(ie);var ye=new fe("table_band",this.panelItem,ie,te,this.rb);ie.setPanelItem(ye),this.panelItem.appendChild(ye),ie.setup();var be=S(this.columns);return ie.createColumns(be,!1,-1,!1),ye.open(),a==="header"?ie.show(this.header):a==="footer"&&ie.show(this.footer),ie}},{key:"getMaxId",value:function(){var a,u=this.id;(a=this.headerData.getMaxId())>u&&(u=a);for(var l=0;l<this.contentDataRows.length;l++)(a=this.contentDataRows[l].getMaxId())>u&&(u=a);return(a=this.footerData.getMaxId())>u&&(u=a),u}},{key:"setValue",value:function(a,u){o(f(x.prototype),"setValue",this).call(this,a,u),a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(u),u?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(u),u?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a.indexOf("border")!==-1&&(a==="borderWidth"&&(this.borderWidthVal=S(u)),this.updateStyle()),a!=="header"&&a!=="footer"&&a!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(a,u,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(u))}},{key:"updateStyle",value:function(){var a,u=this.el.querySelector("table");this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.frame?(u.style.borderStyle="solid",u.style.borderWidth=this.borderWidthVal+"px",u.style.borderColor=this.borderColor):u.style.borderStyle="none";var l="",y="",B="";this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.row?(l="solid none solid none",y=this.borderWidthVal+"px",B=this.borderColor):l="none";var U=this.headerData.getElement();for(U.style.borderStyle=l,U.style.borderWidth=y,U.style.borderColor=B,a=0;a<this.contentDataRows.length;a++){var te=this.contentDataRows[a].getElement();te.style.borderStyle=l,te.style.borderWidth=y,te.style.borderColor=B}var ie=this.footerData.getElement();ie.style.borderStyle=l,ie.style.borderWidth=y,ie.style.borderColor=B,this.border===x.border.grid?(l="none solid none solid",y=this.borderWidthVal+"px",B=this.borderColor):l="none";var ye,be=kt(this.headerData.getElement().querySelectorAll("td"));try{for(be.s();!(ye=be.n()).done;){var _e=ye.value;_e.style.borderStyle=l,_e.style.borderWidth=y,_e.style.borderColor=B}}catch(Je){be.e(Je)}finally{be.f()}for(a=0;a<this.contentDataRows.length;a++){var Se,Pe=kt(this.contentDataRows[a].getElement().querySelectorAll("td"));try{for(Pe.s();!(Se=Pe.n()).done;){var Re=Se.value;Re.style.borderStyle=l,Re.style.borderWidth=y,Re.style.borderColor=B}}catch(Je){Pe.e(Je)}finally{Pe.f()}}var Ne,je=kt(this.footerData.getElement().querySelectorAll("td"));try{for(je.s();!(Ne=je.n()).done;){var Fe=Ne.value;Fe.style.borderStyle=l,Fe.style.borderWidth=y,Fe.style.borderColor=B}}catch(Je){je.e(Je)}finally{je.f()}for(var Xe=0,$e=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];Xe<$e.length;Xe++){var We=$e[Xe];this.el.classList.remove(We)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","width"),a}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return z.type.table}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),u=0,l=["NE","SE","SW","NW"];u<l.length;u++){var y=l[u];a.append(t("div",{class:"rbroSizer rbroSizer".concat(y," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{class:"rbroDocElement rbroTableElement"});var a=t("table",{id:"rbro_el_table".concat(this.id)});a.append(t("thead",{id:"rbro_el_table_header".concat(this.id)})),a.append(t("tbody",{id:"rbro_el_table_content".concat(this.id)})),a.append(t("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(a),this.appendToContainer(),this.registerEventHandlers(),a.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var a=0;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,o(f(x.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(a,u){if(this.setupComplete){this.headerData.updateColumnWidth(a,u);for(var l=0;l<this.contentDataRows.length;l++)this.contentDataRows[l].updateColumnWidth(a,u);this.footerData.updateColumnWidth(a,u)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var a=0;a<this.contentDataRows.length;a++)this.contentDataRows[a].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var a=0;this.header&&(a+=this.headerData.getHeight());for(var u=0;u<this.contentDataRows.length;u++)a+=this.contentDataRows[u].getHeight();this.footer&&(a+=this.footerData.getHeight()),this.height=""+a,this.heightVal=a}}},{key:"notifyColumnWidthResized",value:function(a,u,l,y){if(this.setupComplete){a!==this.headerData&&this.headerData.notifyColumnWidthResized(u,l);for(var B=0;B<this.contentDataRows.length;B++)a!==this.contentDataRows[B]&&this.contentDataRows[B].notifyColumnWidthResized(u,l);a!==this.footerData&&this.footerData.notifyColumnWidthResized(u,l),this.width=""+y,this.widthVal=y,document.getElementById("rbro_el_table".concat(this.id)).style.width=y+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(a){for(var u=0;u<this.contentDataRows.length;u++)if(a===this.contentDataRows[u])return u;return-1}},{key:"addChildren",value:function(a){var u;for(a.push(this.headerData),u=0;u<this.contentDataRows.length;u++)a.push(this.contentDataRows[u]);for(a.push(this.footerData),this.headerData.addChildren(a),u=0;u<this.contentDataRows.length;u++)this.contentDataRows[u].addChildren(a);this.footerData.addChildren(a)}},{key:"addCommandsForChangedParameterName",value:function(a,u,l){this.addCommandForChangedParameterName(a,u,"dataSource",l)}},{key:"createSpaceForNewColumns",value:function(a,u){for(var l=x.getColumnMinWidth(),y=a*l,B=u-1;B>=0;){var U=this.headerData.getColumn(B),te=U.getValue("widthVal")-l,ie=l;if(te>y&&(ie=U.getValue("widthVal")-y),this.updateColumnWidth(B,ie),(y-=te)<=0)break;B--}}},{key:"hasEnoughAvailableSpace",value:function(a){var u=S(this.columns),l=Math.floor(this.widthVal/x.getColumnMinWidth());return!(a>u&&a>l)}},{key:"addCommandsForChangedColumns",value:function(a,u){if(this.hasEnoughAvailableSpace(a)){var l=S(this.columns),y=new Pt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(u.addCommand(y),a>l)this.createSpaceForNewColumns(a-l,l);else if(a<l){for(var B=0,U=0;U<a;U++)B+=this.headerData.getColumn(U).getValue("widthVal");var te=this.headerData.getColumn(a-1);this.widthVal-B>0&&this.updateColumnWidth(a-1,te.getValue("widthVal")+(this.widthVal-B))}this.columns=a,this.headerData.createColumns(a,!0,-1,!1);for(var ie=0;ie<this.contentDataRows.length;ie++)this.contentDataRows[ie].createColumns(a,!0,-1,!1);this.footerData.createColumns(a,!0,-1,!1),y=new Pt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),u.addCommand(y)}}},{key:"addCommandsForChangedContentRows",value:function(a,u){if(a!==S(this.contentRows)){var l,y=new Pt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(u.addCommand(y),a<this.contentDataRows.length){for(l=a;l<this.contentDataRows.length;l++)this.rb.deleteDataObject(this.contentDataRows[l]),this.contentDataRows[l].remove();this.contentDataRows.splice(a,this.contentDataRows.length-a)}else{var B;if(this.contentDataRows.length>0){B={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var U,te=kt(this.contentDataRows[0].columnData);try{for(te.s();!(U=te.n()).done;){var ie=U.value;B.columnData.push({width:ie.width})}}catch(ye){te.e(ye)}finally{te.f()}}for(l=this.contentDataRows.length;l<a;l++)this.contentDataRows.push(this.createBand("content",l,B))}this.contentRows=""+a,y=new Pt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),u.addCommand(y)}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.headerData=this.headerData.toJS();for(var u=[],l=0;l<this.contentDataRows.length;l++)u.push(this.contentDataRows[l].toJS());return a.contentDataRows=u,a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(a){for(var u=0,l=["headerData","footerData"];u<l.length;u++){var y=l[u];x.removeBandIds(a[y])}for(var B=0;B<a.contentDataRows.length;B++)x.removeBandIds(a.contentDataRows[B])}},{key:"removeBandIds",value:function(a){delete a.id;var u,l=kt(a.columnData);try{for(l.s();!(u=l.n()).done;)delete u.value.id}catch(y){l.e(y)}finally{l.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),x}(z);Qt.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var Pt=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a,u,l,y,B,U){var te;return $(this,x),(te=_.call(this)).add=v,te.elementType=a,te.initialData=u,te.parentId=y,te.position=B,te.rb=U,te.id=l,te.firstExecution=!0,te}return T(x,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var a=x.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(a,w.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=a.toJS())}}},{key:"deleteElement",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&this.rb.deleteDocElement(a)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(a,u,l,y,B,U){var te,ie={draggable:!0};l===z.type.text?te=new It(a,u,U):l===z.type.line?te=new Le(a,u,U):l===z.type.image?te=new Ee(a,u,U):l===z.type.pageBreak?te=new Ie(a,u,U):l===z.type.table?(te=new Qt(a,u,U),ie.hasChildren=!0):l===z.type.frame?(te=new oe(a,u,U),ie.hasChildren=!0):l===z.type.section?(te=new rt(a,u,U),ie.hasChildren=!0):l===z.type.barCode&&(te=new ee(a,u,U)),U.addDocElement(te);var ye=te.getContainer().getPanelItem(),be=new fe(l,ye,te,ie,U);return te.setPanelItem(be),ye.insertChild(y,be),te.setup(B),te}}]),x}(w);function Ft(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return vr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?vr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function vr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var ir=function(){function M(P,c,_){$(this,M),this.rootElement=P,this.rb=_,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=c,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=z.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return T(M,[{key:"render",value:function(){var c=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(l){c.rb.isDocElementSelected()&&!l.shiftKey&&c.rb.deselectAll(!0);var y=b(c.elDocContent);c.startSelectionArea(c.getCoordWithoutZoom(l.pageX-y.left),c.getCoordWithoutZoom(l.pageY-y.top))});var _=t("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(_.addEventListener("mousedown",function(l){l.stopPropagation()}),this.elTabPdfLayout=t("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(l){c.setDocumentTab(M.tab.pdfLayout)}),_.append(this.elTabPdfLayout),this.elTabPdfPreview=t("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(l){c.setDocumentTab(M.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var x=t("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});x.addEventListener("click",function(l){c.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(x)}var v=t("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});v.addEventListener("click",function(l){c.closePdfPreviewTab()}),this.elTabPdfPreview.append(v),_.append(this.elTabPdfPreview),this.elPanel.append(_);var a=this.rb.getDocumentProperties();this.elDoc=t("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=t("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=t("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=t("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=t("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=t("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=t("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=t("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=t("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=t("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=t("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=t("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var u=a.getPageSize();this.updatePageSize(u.width,u.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(M.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var c=this;this.elDocContent.addEventListener("dragover",function(_){c.processDragover(_)}),this.elDocContent.addEventListener("dragenter",function(_){c.rb.isBrowserDragActive("docElement")&&(c.dragEnterCount++,_.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(_){if(c.rb.isBrowserDragActive("docElement")&&(c.dragEnterCount--,c.dragEnterCount===0)){var x,v=Ft(document.querySelectorAll(".rbroElementContainer"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(a){v.e(a)}finally{v.f()}c.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(_){return c.processDrop(_),!1})}},{key:"processMouseMove",value:function(c){if(this.dragging)this.processDrag(c);else if(this.selectionAreaStarted){var _=b(this.elDocContent),x=this.getSelectionArea(this.getCoordWithoutZoom(c.pageX-_.left),this.getCoordWithoutZoom(c.pageY-_.top));this.elSelectionArea.style.left=this.rb.toPixel(x.left),this.elSelectionArea.style.top=this.rb.toPixel(x.top),this.elSelectionArea.style.width=this.rb.toPixel(x.width),this.elSelectionArea.style.height=this.rb.toPixel(x.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(c){if(this.rb.isBrowserDragActive("docElement")){var _=j(c),x=null;_!==null&&(x=this.getContainer(_.x,_.y,this.dragElementType,[]),this.dragCurrentX=_.x,this.dragCurrentY=_.y);var v=x!==null?x.getId():null;if(v!==this.dragContainerId){var a,u=Ft(document.querySelectorAll(".rbroElementContainer"));try{for(u.s();!(a=u.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(l){u.e(l)}finally{u.f()}x!==null&&x.dragOver(),this.dragContainerId=v}c.preventDefault(),c.stopPropagation()}}},{key:"processDrop",value:function(c){if(this.rb.isBrowserDragActive("docElement")){var _=j(c);_!==null&&(this.dragCurrentX=_.x,this.dragCurrentY=_.y);var x,v=Ft(document.querySelectorAll(".rbroElementContainer"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(ye){v.e(ye)}finally{v.f()}for(var a=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);a!==null&&!a.isElementAllowed(this.dragElementType);)a=a.getParent();if(a!==null&&a.isElementAllowed(this.dragElementType)){var u=b(this.elDocContent),l=this.getCoordWithoutZoom(this.dragCurrentX-u.left),y=this.getCoordWithoutZoom(this.dragCurrentY-u.top),B=a.getOffset();if(l-=B.x,y-=B.y,!c.ctrlKey&&this.rb.getDocument().isGridVisible()){var U=this.rb.getDocument().getGridSize();l=L(l,U),y=L(y,U)}var te={x:""+l,y:""+y,containerId:a.getId()},ie=new Pt(!0,this.dragElementType,te,this.rb.getUniqueId(),a.getId(),-1,this.rb);this.rb.executeCommand(ie)}c.preventDefault()}}},{key:"processDrag",value:function(c){var _=j(c);if(this.dragType===z.dragType.element){var x=this.getContainer(_.x,_.y,this.dragElementType,this.dragLinkedContainers),v=x!==null?x.getId():null;if(v!==this.dragCurrentContainerId){var a,u=Ft(document.querySelectorAll(".rbroElementContainer"));try{for(u.s();!(a=u.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(B){u.e(B)}finally{u.f()}x!==null&&v!==this.dragContainerId&&x.dragOver()}this.dragCurrentContainerId=v}this.dragCurrentX=_.x,this.dragCurrentY=_.y,this.dragSnapToGrid=!c.ctrlKey;var l=this.rb.getDataObject(this.dragObjectId);if(l!==null){var y=l.getDragDiff(this.getCoordWithoutZoom(_.x-this.dragStartX),this.getCoordWithoutZoom(_.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(y.x,y.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(c,_){this.elDoc.style.width=this.rb.toPixel(c),this.elDoc.style.height=this.rb.toPixel(_)}},{key:"updatePageMargins",value:function(){var c=this.rb.getDocumentProperties(),_=S(c.getValue("marginLeft")),x=S(c.getValue("marginTop")),v=S(c.getValue("marginRight")),a=S(c.getValue("marginBottom")),u=this.rb.toPixel(_),l=this.rb.toPixel(x-1),y=this.rb.toPixel(v),B=this.rb.toPixel(a);this.elDividerMarginLeft.style.left=u,this.elDividerMarginTop.style.top=l,_!==0?(this.elDividerMarginLeft.style.left=u,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",x!==0?(this.elDividerMarginTop.style.top=l,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",v!==0?(this.elDividerMarginRight.style.right=y,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",a!==0?(this.elDividerMarginBottom.style.bottom=B,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=u,this.elDocContent.style.top=l,this.elDocContent.style.right=y,this.elDocContent.style.bottom=B}},{key:"updateHeader",value:function(){var c=this.rb.getDocumentProperties();if(c.getValue("header")){var _=this.rb.toPixel(c.getValue("headerSize"));this.elHeader.style.height=_,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(S(c.getValue("marginTop"))+S(c.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=_}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var c=this.rb.getDocumentProperties();if(c.getValue("footer")){var _=this.rb.toPixel(c.getValue("footerSize"));this.elFooter.style.height=_,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(S(c.getValue("marginBottom"))+S(c.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=_}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(c){var _,x=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),v=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),a=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),u=Ft(x);try{for(u.s();!(_=u.n()).done;)_.value.classList.remove("rbroActive")}catch(Pe){u.e(Pe)}finally{u.f()}if(c===M.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var l,y=Ft(v);try{for(y.s();!(l=y.n()).done;){var B=l.value;B.classList.remove("rbroDisabled"),B.draggable=!0}}catch(Pe){y.e(Pe)}finally{y.f()}var U,te=Ft(a);try{for(te.s();!(U=te.n()).done;)U.value.disabled=!1}catch(Pe){te.e(Pe)}finally{te.f()}}else if(this.pdfPreviewExists&&c===M.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var ie,ye=Ft(v);try{for(ye.s();!(ie=ye.n()).done;){var be=ie.value;be.classList.add("rbroDisabled"),be.draggable=!1}}catch(Pe){ye.e(Pe)}finally{ye.f()}var _e,Se=Ft(a);try{for(Se.s();!(_e=Se.n()).done;)_e.value.disabled=!0}catch(Pe){Se.e(Pe)}finally{Se.f()}}}},{key:"openPdfPreviewTab",value:function(c,_){if(s(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),_&&Object.keys(_).length>0){var x=this,v=new XMLHttpRequest;for(var a in v.responseType="blob",v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE)if(v.status===200){var l=document.createElement("object");l.type="application/pdf",l.width="100%",l.height="100%",x.pdfPreviewObjectURL=URL.createObjectURL(v.response),l.data=x.pdfPreviewObjectURL,x.elPdfPreview.append(l)}else alert("preview failed")},v.open("GET",c,!0),_)_.hasOwnProperty(a)&&v.setRequestHeader(a,_[a]);v.send()}else{var u=t("object",{data:c,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(u)}this.pdfPreviewExists=!0,this.setDocumentTab(M.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,s(this.elPdfPreview),this.setDocumentTab(M.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var c=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),c++):this.elTabPdfPreview.classList.add("rbroHidden"),c>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(c,_,x,v){var a=b(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(c-a.left),this.getCoordWithoutZoom(_-a.top),x,v)}},{key:"getContentScrollPosY",value:function(){var c=b(this.elDocContent);return b(this.elPanel).top-c.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var c=0;c<this.zoomLevels.length-1;c++)if(this.zoom===this.zoomLevels[c]){this.updateZoomLevel(this.zoomLevels[c+1]);break}}},{key:"zoomOut",value:function(){for(var c=1;c<this.zoomLevels.length;c++)if(this.zoom===this.zoomLevels[c]){this.updateZoomLevel(this.zoomLevels[c-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(c){this.zoom=c;var _=this.rb.getDocumentProperties().getPageSize(),x=_.width*(c/100),v=_.height*(c/100),a=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),u=getComputedStyle(this.elPanel),l=parseInt(u.paddingTop)||0,y=parseInt(u.paddingBottom)||0,B=this.elPanel.clientHeight-l-y,U=0;c!==100?(_.width>a?(this.elDoc.style.transformOrigin="",c<100&&x<a&&(U=Math.round((a-x)/2))):x>a?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(U,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=c+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=x<a?"hidden":"",this.elPanel.style.overflowY=v<B?"hidden":""}},{key:"getCoordWithoutZoom",value:function(c){return Math.round(c*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(c){return c===J.bandType.header?this.elHeader:c===J.bandType.content?this.elContent:c===J.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(c,_,x,v,a,u){this.dragging=!0,this.dragStartX=this.dragCurrentX=c,this.dragStartY=this.dragCurrentY=_,this.dragElementType=a,this.dragType=u,this.dragObjectId=x,this.dragContainerId=v,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var l=this.rb.getDataObject(this.dragObjectId);l&&(this.dragLinkedContainers=l.getLinkedContainers())}},{key:"stopDrag",value:function(){var c=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),_=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),x=this.rb.getDataObject(this.dragObjectId);if(x===null||c===0&&_===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var v=null;this.dragType===z.dragType.element&&(v=this.rb.getDataObject(this.dragCurrentContainerId));var a=this.rb.getSelectedObjects();if(a.length>1&&v!==null){for(var u=a[0].getContainerId(),l=1;l<a.length;l++)if(a[l].getContainerId()!==u){v=null;break}}var y=x.getDragDiff(c,_,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(y.x,y.y,this.dragType,v,!0)}this.dragging=!1,this.dragType=z.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var B,U=Ft(document.querySelectorAll(".rbroElementContainer"));try{for(U.s();!(B=U.n()).done;)B.value.classList.remove("rbroElementDragOver")}catch(te){U.e(te)}finally{U.f()}}},{key:"startBrowserDrag",value:function(c){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=c,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(c,_){this.selectionAreaStarted=!0,this.selectionAreaStartX=c,this.selectionAreaStartY=_}},{key:"stopSelectionArea",value:function(c,_,x){var v=this.getSelectionArea(c,_);if(v.width>10&&v.height>10){var a,u=Ft(this.rb.getDocElements(!0));try{for(u.s();!(a=u.n()).done;){var l=a.value;if(l.isAreaSelectionAllowed()){var y=l.getAbsolutePosition();if(v.left<y.x+l.getValue("widthVal")&&v.left+v.width>=y.x&&v.top<y.y+l.getValue("heightVal")&&v.top+v.height>=y.y){var B=!0;if(l.getContainerId()){var U=l.getContainer();U!==null&&U.isSelected()&&(B=!1)}B&&(this.rb.selectObject(l.getId(),x),x=!1)}}}}catch(te){u.e(te)}finally{u.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(c,_){var x={};return c>this.selectionAreaStartX?(x.left=this.selectionAreaStartX,x.width=c-this.selectionAreaStartX):(x.left=c,x.width=this.selectionAreaStartX-c),_>this.selectionAreaStartY?(x.top=this.selectionAreaStartY,x.height=_-this.selectionAreaStartY):(x.top=_,x.height=this.selectionAreaStartY-_),x}},{key:"mouseUp",value:function(c){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var _=b(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(c.pageX-_.left),this.getCoordWithoutZoom(c.pageY-_.top),!c.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),M}();ir.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var Ht,Cr,br=typeof Map=="function"?new Map:(Ht=[],Cr=[],{has:function(P){return Ht.indexOf(P)>-1},get:function(P){return Cr[Ht.indexOf(P)]},set:function(P,c){Ht.indexOf(P)===-1&&(Ht.push(P),Cr.push(c))},delete:function(P){var c=Ht.indexOf(P);c>-1&&(Ht.splice(c,1),Cr.splice(c,1))}}),Hr=function(P){return new Event(P,{bubbles:!0})};try{new Event("test")}catch(M){Hr=function(c){var _=document.createEvent("Event");return _.initEvent(c,!0,!1),_}}function an(M){var P=br.get(M);P&&P.destroy()}function ln(M){var P=br.get(M);P&&P.update()}var _r=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((_r=function(P){return P}).destroy=function(M){return M},_r.update=function(M){return M}):((_r=function(P,c){return P&&Array.prototype.forEach.call(P.length?P:[P],function(_){return function(x){if(x&&x.nodeName&&x.nodeName==="TEXTAREA"&&!br.has(x)){var v,a=null,u=null,l=null,y=function(){x.clientWidth!==u&&ie()},B=function(ye){window.removeEventListener("resize",y,!1),x.removeEventListener("input",ie,!1),x.removeEventListener("keyup",ie,!1),x.removeEventListener("autosize:destroy",B,!1),x.removeEventListener("autosize:update",ie,!1),Object.keys(ye).forEach(function(be){x.style[be]=ye[be]}),br.delete(x)}.bind(x,{height:x.style.height,resize:x.style.resize,overflowY:x.style.overflowY,overflowX:x.style.overflowX,wordWrap:x.style.wordWrap});x.addEventListener("autosize:destroy",B,!1),"onpropertychange"in x&&"oninput"in x&&x.addEventListener("keyup",ie,!1),window.addEventListener("resize",y,!1),x.addEventListener("input",ie,!1),x.addEventListener("autosize:update",ie,!1),x.style.overflowX="hidden",x.style.wordWrap="break-word",br.set(x,{destroy:B,update:ie}),(v=window.getComputedStyle(x,null)).resize==="vertical"?x.style.resize="none":v.resize==="both"&&(x.style.resize="horizontal"),a=v.boxSizing==="content-box"?-(parseFloat(v.paddingTop)+parseFloat(v.paddingBottom)):parseFloat(v.borderTopWidth)+parseFloat(v.borderBottomWidth),isNaN(a)&&(a=0),ie()}function U(ye){var be=x.style.width;x.style.width="0px",x.style.width=be,x.style.overflowY=ye}function te(){if(x.scrollHeight!==0){var ye=function(_e){for(var Se=[];_e&&_e.parentNode&&_e.parentNode instanceof Element;)_e.parentNode.scrollTop&&Se.push({node:_e.parentNode,scrollTop:_e.parentNode.scrollTop}),_e=_e.parentNode;return Se}(x),be=document.documentElement&&document.documentElement.scrollTop;x.style.height="",x.style.height=x.scrollHeight+a+"px",u=x.clientWidth,ye.forEach(function(_e){_e.node.scrollTop=_e.scrollTop}),be&&(document.documentElement.scrollTop=be)}}function ie(){te();var ye=Math.round(parseFloat(x.style.height)),be=window.getComputedStyle(x,null),_e=be.boxSizing==="content-box"?Math.round(parseFloat(be.height)):x.offsetHeight;if(_e<ye?be.overflowY==="hidden"&&(U("scroll"),te(),_e=be.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight):be.overflowY!=="hidden"&&(U("hidden"),te(),_e=be.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight),l!==_e){l=_e;var Se=Hr("autosize:resized");try{x.dispatchEvent(Se)}catch(Pe){}}}}(_)}),P}).destroy=function(M){return M&&Array.prototype.forEach.call(M.length?M:[M],an),M},_r.update=function(M){return M&&Array.prototype.forEach.call(M.length?M:[M],ln),M});var Lt=_r;function lr(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return qr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?qr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function qr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var jt=function(){function M(P,c){$(this,M),this.rootElement=P,this.rb=c,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.nextRowId=-1,this.rowMap=null}return T(M,[{key:"render",value:function(){var c=this;this.elWindow=t("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=t("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(x){x.stopPropagation()}),this.elWindow.append(this.elContent);var _=t("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});_.addEventListener("click",function(x){c.hide()}),this.elWindow.append(_),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(c,_,x,v,a,u,l){var y=this,B=window.innerWidth,U=window.innerHeight,te=null,ie=null;if(this.input=x!==""?document.getElementById(x):null,this.objId=_,this.type=a,this.items=c,s(this.elContent),this.rootParameter=l,this.nextRowId=1,this.rowMap={},u&&(ie=u.getSelection()),a===M.type.testData){var ye=l.getTestData(!0);this.createTestDataTable(this.elContent,l,ye);var be=Math.round(.8*B),_e=Math.round(.8*U),Se=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((B-be)/2)+"px",this.elWindow.style.top=Math.round((U-_e)/2)+Se+"px",this.elWindow.style.width=be+"px",this.elWindow.style.height=_e+"px",document.body.append(t("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{a!==M.type.parameterSet&&a!==M.type.parameterAppend||((te=t("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder")})).addEventListener("input",function($e){y.filterParameters(te.value)}),this.elContent.append(te));var Pe=t("ul");Pe.addEventListener("mousedown",function($e){$e.preventDefault()});var Re,Ne=lr(c);try{var je=function(){var We=Re.value,Je=t("li");if(We.separator){a!==M.type.parameterSet&&a!==M.type.parameterAppend||!We.id||Je.setAttribute("id","parameter_group_"+We.id);var it="rbroPopupItemSeparator";We.separatorClass&&(it+=" "+We.separatorClass),Je.setAttribute("class",it)}else a!==M.type.parameterSet&&a!==M.type.parameterAppend||!We.id||Je.setAttribute("id","parameter_"+We.id),Je.addEventListener("mousedown",function(ze){if(a===M.type.pattern)y.input.value=We.name,y.input.dispatchEvent(new Event("input")),y.hide();else if(a===M.type.parameterSet)y.input.value="${"+We.name+"}",y.input.dispatchEvent(new Event("input")),Lt.update(y.input),y.hide();else if(a===M.type.parameterAppend){var Ge="${"+We.name+"}";u?ie&&u.insertText(ie.index,Ge):(function(Ze,Ae){if(document.selection)Ze.focus(),document.selection.createRange().text=Ae,Ze.focus();else if(Ze.selectionStart||Ze.selectionStart===0){var ot=Ze.selectionStart,Qe=Ze.selectionEnd,gt=Ze.scrollTop;Ze.value=Ze.value.substring(0,ot)+Ae+Ze.value.substring(Qe,Ze.value.length),Ze.focus(),Ze.selectionStart=ot+Ae.length,Ze.selectionEnd=ot+Ae.length,Ze.scrollTop=gt}else Ze.value+=Ae,Ze.focus()}(y.input,Ge),Lt.update(y.input),y.input.dispatchEvent(new Event("input"))),y.hide()}ze.preventDefault()});Je.append(t("div",{class:"rbroPopupItemHeader"},We.name)),We.description&&We.description!==""&&Je.append(t("div",{class:"rbroPopupItemDescription"},We.description)),Pe.append(Je)};for(Ne.s();!(Re=Ne.n()).done;)je()}catch($e){Ne.e($e)}finally{Ne.f()}this.elContent.append(Pe);var Fe=b(this.input),Xe=Fe.top;Xe<U/2||Xe<300?Xe+this.input.clientHeight+300<U&&(Xe+=this.input.clientHeight):Xe-=300,this.elWindow.style.left=Fe.left+"px",this.elWindow.style.top=Xe+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,te!==null&&te.focus()}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===M.type.testData){var c=this.getTestData(this.elContent,this.rootParameter),_=this.rb.getDataObject(this.objId),x=JSON.stringify(c);if(_!==null&&_.getValue("testData")!==x){var v=new e(this.objId,"testData",x,e.type.text,this.rb);this.rb.executeCommand(v)}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),s(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"createTestDataTable",value:function(c,_,x){var v,a=this,u=_.getParameterFields(),l=t("div"),y=t("table"),B=t("tr"),U=t("tbody");_.type===de.type.array||_.type===de.type.simpleArray?Array.isArray(x)||(x=[]):_.type===de.type.map&&(x&&Object.getPrototypeOf(x)===Object.prototype||(x={}));var te=t("th");_.type===de.type.map&&(te.style.display="none"),B.append(te);var ie,ye=lr(u);try{for(ye.s();!(ie=ye.n()).done;){var be=ie.value,_e=t("th",{},be.name);be.type===de.type.image&&_e.append(t("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),B.append(_e)}}catch(je){ye.e(je)}finally{ye.f()}var Se=t("thead");if(Se.append(B),y.append(Se),_.type===de.type.map){var Pe=[x];this.addTestDataRow(U,_,u,Pe,0)}else{var Re=Array.isArray(x)?x:[];if(Re.length===0)this.addEmptyTestDataRow(U,_,u);else for(v=0;v<Re.length;v++)this.addTestDataRow(U,_,u,Re,v)}if(y.append(U),l.append(y),_.type!==de.type.map){var Ne=t("div",{class:"rbroButton rbroFullWidthButton"});Ne.append(t("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("parameterAddTestData"))),Ne.addEventListener("click",function(je){a.addEmptyTestDataRow(U,_,u)}),l.append(Ne)}s(c),c.append(l)}},{key:"addEmptyTestDataRow",value:function(c,_,x){var v,a={},u=lr(x);try{for(u.s();!(v=u.n()).done;){var l=v.value;l.type===de.type.array||l.type===de.type.simpleArray?a[l.name]=[]:l.type===de.type.map?a[l.name]={}:a[l.name]=""}}catch(B){u.e(B)}finally{u.f()}var y=[a];this.addTestDataRow(c,_,x,y,0)}},{key:"addTestDataRow",value:function(c,_,x,v,a){var u=this,l=v[a],y=t("tr");y.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:l},this.nextRowId++;var B=t("td");if(_.type!==de.type.map){var U=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});U.addEventListener("click",function(Se){var Pe=Se.target.parentElement.parentElement,Re=Pe.dataset.rowId;Pe.remove();var Ne=u.rowMap[Re];v.splice(v.indexOf(Ne.data),1),delete u.rowMap[Re]}),B.append(U)}else B.style.display="none";y.append(B);var te,ie=x.length,ye=lr(x);try{for(ye.s();!(te=ye.n()).done;){var be=te.value,_e=be.type===de.type.array||be.type===de.type.simpleArray?[]:"";l!==null&&be.name in l&&(_e=l[be.name]),this.appendColumn(y,be,_e,l,ie)}}catch(Se){ye.e(Se)}finally{ye.f()}c.append(y)}},{key:"appendColumn",value:function(c,_,x,v,a){var u=this,l=t("td");if(_.type===de.type.array||_.type===de.type.simpleArray||_.type===de.type.map){var y=t("div",{class:"expandableCell"}),B=t("span",{class:"rbroIcon-plus"});y.append(B);var U=t("span");if(y.append(U),y.addEventListener("click",function(Re){var Ne=!y.classList.contains("rbroExpandedCell"),je=c.nextElementSibling;if(je&&je.tagName==="TR"){var Fe=je.querySelector("td table");if(Fe){var Xe,$e=lr(c.querySelectorAll(".expandableCell"));try{for($e.s();!(Xe=$e.n()).done;){var We=Xe.value;if(We.classList.contains("rbroExpandedCell")){We.classList.remove("rbroExpandedCell");var Je=We.children[0],it=We.children[1];Je.classList.remove("rbroIcon-minus"),Je.classList.add("rbroIcon-plus");var ze=u.rowMap[je.dataset.rowId];if(ze.type==="table"&&(ze.parentData[ze.field.name]=u.getTestData(Fe,ze.field.parameter),ze.field.type===de.type.array||ze.field.type===de.type.simpleArray)){var Ge=ze.field.name in v&&Array.isArray(v[ze.field.name])?v[ze.field.name].length:0;u.setTableRowCount(it,Ge)}break}}}catch(Qe){$e.e(Qe)}finally{$e.f()}je.remove()}}if(Ne){var Ze=t("tr");Ze.dataset.rowId=String(u.nextRowId),u.rowMap[String(u.nextRowId)]={type:"table",field:_,parentData:v},u.nextRowId++;var Ae=t("td",{colspan:String(a+1)}),ot=v[_.name];u.createTestDataTable(Ae,_.parameter,ot),Ze.append(Ae),c.insertAdjacentElement("afterend",Ze),y.classList.add("rbroExpandedCell"),B.classList.remove("rbroIcon-plus"),B.classList.add("rbroIcon-minus"),U.textContent=""}}),_.type===de.type.array||_.type===de.type.simpleArray){var te=_.name in v&&Array.isArray(v[_.name])?v[_.name].length:0;this.setTableRowCount(U,te)}l.append(y)}else if(_.type===de.type.image){var ie=t("div",{class:"rbroImageFileContainer"}),ye=t("input",{type:"file"});ye.addEventListener("change",function(Re){var Ne=Re.target.files;if(Ne&&Ne[0]){var je=new FileReader,Fe=u.rb,Xe=Ne[0].name;je.onload=function($e){v[_.name]={data:$e.target.result,filename:Xe},be.classList.remove("rbroHidden"),_e.textContent=Xe},je.onerror=function($e){alert(Fe.getLabel("docElementLoadImageErrorMsg"))},je.readAsDataURL(Ne[0])}}),ie.append(ye);var be=t("div",{class:"rbroImageFile rbroHidden"}),_e=t("div");be.append(_e);var Se=t("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Se.addEventListener("click",function(Re){ye.value="",v[_.name]={data:"",filename:""},be.classList.add("rbroHidden"),_e.textContent=""}),be.append(Se),ie.append(be),x.filename&&(_e.textContent=x.filename,be.classList.remove("rbroHidden")),l.append(ie)}else{var Pe=t("input");_.type===de.type.boolean?(Pe.setAttribute("type","checkbox"),x&&(Pe.checked=!0),l.classList.add("rbroTestDataCheckbox")):(Pe.setAttribute("type","text"),x&&Pe.setAttribute("value",x)),Pe.addEventListener("focus",function(Re){Pe.parentElement.classList.add("rbroHasFocus")}),Pe.addEventListener("blur",function(Re){Pe.parentElement.classList.remove("rbroHasFocus")}),_.type===de.type.number?function(Re){var Ne=this;Re.addEventListener("keyup",function(je){var Fe=je.target.value,Xe=Fe.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),$e=Ne.className,We=$e?$e.indexOf("decimalPlaces"):-1;if(We!==-1){We+=13;var Je,it=$e.indexOf(" ",We);Je=parseInt(it!==-1?$e.substring(We,it):$e.substr(We),10),isNaN(Je)||((We=Xe.indexOf("."))===-1&&(We=Xe.indexOf(",")),We!==-1&&Xe.length-1-We>Je&&(Xe=Xe.substring(0,We+Je+1)))}Fe!==Xe&&(je.target.value=Xe)})}(Pe):_.type===de.type.date&&Pe.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")),l.append(Pe)}c.append(l)}},{key:"getTestData",value:function(c,_){var x=_.getParameterFields(),v=null;_.type===de.type.array||_.type===de.type.simpleArray?v=[]:_.type===de.type.map&&(v={});var a,u=lr(c.querySelector("tbody").children);try{for(u.s();!(a=u.n()).done;){var l=a.value,y=this.rowMap[l.dataset.rowId];if(y.type==="table")y.parentData[y.field.name]=this.getTestData(l,y.field.parameter);else{var B,U=y.data,te=l.querySelectorAll("input"),ie=0,ye=lr(x);try{for(ye.s();!(B=ye.n()).done;){var be=B.value;if(be.type!==de.type.array&&be.type!==de.type.simpleArray&&be.type!==de.type.map){var _e=te[ie];be.type===de.type.boolean?U[be.name]=_e.checked:be.type!==de.type.image&&(U[be.name]=_e.value.trim()),ie++}}}catch(Se){ye.e(Se)}finally{ye.f()}_.type===de.type.array||_.type===de.type.simpleArray?v.push(U):_.type===de.type.map&&(v=U)}}}catch(Se){u.e(Se)}finally{u.f()}return v}},{key:"setTableRowCount",value:function(c,_){c.textContent=_===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):_===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(_))}},{key:"filterParameters",value:function(c){var _=null,x=0;if(this.items!==null){c=c.toLowerCase();var v,a=lr(this.items);try{for(a.s();!(v=a.n()).done;){var u=v.value;u.separator?(_!==null&&(document.getElementById("parameter_group_"+_).style.display=x>0?"block":"none"),_=u.id?u.id:null,x=0):u.nameLowerCase.indexOf(c)!==-1?(document.getElementById("parameter_"+u.id).style.display="block",_!==-1&&x++):document.getElementById("parameter_"+u.id).style.display="none"}}catch(l){a.e(l)}finally{a.f()}_!==null&&(document.getElementById("parameter_group_"+_).style.display=x>0?"block":"none")}}}]),M}();function Wr(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return Gr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Gr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function Gr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}jt.type={parameterSet:0,parameterAppend:1,pattern:2,testData:3};var Kt=function(){function M(P){$(this,M),this.rb=P,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=M.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=M.unit.mm,this.orientation=M.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=M.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=M.display.always,this.headerSizeVal=this.header?S(this.headerSize):0,this.footerSizeVal=this.footer?S(this.footerSize):0,this.patternLocale=P.getProperty("patternLocale"),this.patternCurrencySymbol=P.getProperty("patternCurrencySymbol"),this.width=0,this.height=0}return T(M,[{key:"setInitialData",value:function(c){for(var _ in c)c.hasOwnProperty(_)&&this.hasOwnProperty(_)&&(this[_]=c[_]);this.headerSizeVal=this.header?S(this.headerSize):0,this.footerSizeVal=this.footer?S(this.footerSize):0,this.marginLeftVal=S(this.marginLeft),this.marginTopVal=S(this.marginTop),this.marginRightVal=S(this.marginRight),this.marginBottomVal=S(this.marginBottom)}},{key:"setup",value:function(){var c=this.getPageSize();this.updatePageSize(c),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,_){if(this[c]=_,c==="marginLeft"||c==="marginTop"||c==="marginRight"||c==="marginBottom"?(this[c+"Val"]=S(_),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):c==="header"?this.updateHeader():c==="footer"&&this.updateFooter(),c!=="header"&&c!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?S(this.headerSize):0),c!=="footer"&&c!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?S(this.footerSize):0),c==="pageFormat"||c==="pageWidth"||c==="pageHeight"||c==="unit"||c==="orientation"||c==="contentHeight"||c==="marginTop"||c==="marginBottom"){var x=this.getPageSize();this.updatePageSize(x)}}},{key:"updatePageSize",value:function(c){this.width=c.width,this.height=c.height,this.rb.getDocument().updatePageSize(c.width,c.height);var _,x=Wr(this.rb.getDocElements(!0));try{for(x.s();!(_=x.n()).done;){var v=_.value;v instanceof rt&&v.setWidth(c.width)}}catch(a){x.e(a)}finally{x.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var c,_,x;return this.pageFormat===M.pageFormat.A4?(this.orientation===M.orientation.portrait?(c=210,_=297):(c=297,_=210),x=M.unit.mm):this.pageFormat===M.pageFormat.A5?(this.orientation===M.orientation.portrait?(c=148,_=210):(c=210,_=148),x=M.unit.mm):this.pageFormat===M.pageFormat.letter?(this.orientation===M.orientation.portrait?(c=8.5,_=11):(c=11,_=8.5),x=M.unit.inch):(c=S(this.pageWidth),_=S(this.pageHeight),x=this.unit),x===M.unit.mm?(c=Math.round(72*c/25.4),_=Math.round(72*_/25.4)):(c=Math.round(72*c),_=Math.round(72*_)),this.contentHeight.trim()!==""&&(_=S(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:c,height:_}}},{key:"getContentSize",value:function(){var c,_=this.getPageSize();return c=this.contentHeight.trim()!==""?S(this.contentHeight):_.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:_.width-this.marginLeftVal-this.marginRightVal,height:c}}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var c,_={},x=Wr(this.getFields());try{for(x.s();!(c=x.n()).done;){var v=c.value;_[v]=this.getValue(v)}}catch(a){x.e(a)}finally{x.f()}return _}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),M}();Kt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Kt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Kt.unit={mm:"mm",inch:"inch"},Kt.orientation={portrait:"portrait",landscape:"landscape"},Kt.display={always:"always",notOnFirstPage:"not_on_first_page"};var sn={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Leer",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter {info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterAddTestData:"Zeile hinzuf\xFCgen",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataNoFields:"Keine Felder f\xFCr diese Liste definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementHeight:"Height",docElementImage:"Image",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetTextWrap:"Text wrap",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Empty panel",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgFontNotAvailable:"Font not available on server",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter {info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterAddTestData:"Add row",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataNoFields:"No fields defined for this list",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function mr(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return Kr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Kr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function Kr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var Ir=function(){function M(P,c,_,x){$(this,M),this.idPrefix=P,this.dataBaseClass=c,this.panelId=P+"_panel",this.rootElement=_,this.rb=x,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return T(M,[{key:"render",value:function(c){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(c,_,x){var v="".concat(this.idPrefix,"_").concat(c.fieldId);x?document.getElementById(v).classList.add("rbroDifferentValues"):document.getElementById(v).classList.remove("rbroDifferentValues");var a=document.getElementById(v);if(c.type===e.type.text)x?(a.value="",a.setAttribute("placeholder",this.differentValuesLabel)):(a.value=_,a.setAttribute("placeholder",""));else if(c.type===e.type.richText)this.quill&&(x||!_?this.quill.setContents({},"silent"):this.quill.setContents(_,"silent"));else if(c.type===e.type.select)a.value=_;else if(c.type===e.type.checkbox)a.checked=!x&&_;else if(c.type===e.type.button)x?a.classList.remove("rbroButtonActive"):_?a.classList.add("rbroButtonActive"):a.classList.remove("rbroButtonActive");else if(c.type===e.type.buttonGroup){var u,l=mr(a.querySelectorAll("button"));try{for(l.s();!(u=l.n()).done;)u.value.classList.remove("rbroButtonActive")}catch(B){l.e(B)}finally{l.f()}x||a.querySelector('button[value="'.concat(_,'"]')).classList.add("rbroButtonActive")}else if(c.type===e.type.color){var y=document.getElementById(v+"_select");x?c.allowEmpty?(a.value="",y.style.color="",y.classList.add("rbroTransparentColorSelect")):(a.value="#000000",y.style.color="#000000",y.classList.remove("rbroTransparentColorSelect")):(a.value=_,y.style.color=_,_?y.classList.remove("rbroTransparentColorSelect"):y.classList.add("rbroTransparentColorSelect"))}else c.type===e.type.filename&&(x?(a.textContent=this.differentFilesLabel,document.getElementById(v+"_container").classList.remove("rbroHidden")):(a.textContent=_,_===""?document.getElementById(v+"_container").classList.add("rbroHidden"):document.getElementById(v+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(c){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(c,_,x){c instanceof this.dataBaseClass&&this.rb.isSelectedObject(c.id)&&_===w.operation.change&&this.updateDisplay(x)}},{key:"updateErrors",value:function(){var c,_=document.getElementById(this.panelId),x=_.querySelectorAll(".rbroFormRow"),v=_.querySelectorAll(".rbroErrorMessage"),a=mr(x);try{for(a.s();!(c=a.n()).done;)c.value.classList.remove("rbroError")}catch(Pe){a.e(Pe)}finally{a.f()}var u,l=mr(v);try{for(l.s();!(u=l.n()).done;)u.value.textContent=""}catch(Pe){l.e(Pe)}finally{l.f()}var y=this.rb.getSelectedObject();if(y!==null){var B,U=mr(y.getErrors());try{for(U.s();!(B=U.n()).done;){var te=B.value,ie=this.propertyDescriptors[te.field];if(ie){if("section"in ie){var ye=ie.section;document.getElementById("".concat(this.idPrefix,"_").concat(ye,"_header")).classList.add("rbroError")}var be=this.rb.getLabel(te.msg_key);te.info&&(be=be.replace("${info}",'<span class="rbroErrorMessageInfo">'+te.info.replace("<","&lt;").replace(">","&gt;")+"</span>"));var _e=this.getRowId(ie);document.getElementById(_e).classList.add("rbroError");var Se;Se="errorMsgId"in ie?ie.errorMsgId:"".concat(this.idPrefix,"_").concat(ie.fieldId,"_error"),document.getElementById(Se).innerHTML=be}}}catch(Pe){U.e(Pe)}finally{U.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var c=this.rb.getSelectedObject();if(c!==null){var _,x=mr(c.getErrors());try{for(x.s();!(_=x.n()).done;){var v=_.value,a=this.propertyDescriptors[v.field];if(a&&"section"in a){var u=a.section,l=document.getElementById("".concat(this.idPrefix,"_").concat(u,"_header"));l.classList.contains("rbroPanelSectionHeaderOpen")||l.dispatchEvent(new Event("click"))}}}catch(Se){x.e(Se)}finally{x.f()}var y,B="",U=-1,te=mr(c.getErrors());try{for(te.s();!(y=te.n()).done;){var ie=y.value,ye=this.propertyDescriptors[ie.field];if(ye){var be=this.getRowId(ye),_e=b(document.getElementById(be)).top;(B===""||_e<U)&&(B=be,U=_e)}}}catch(Se){te.e(Se)}finally{te.f()}B!==""&&(document.getElementById("rbro_detail_panel").scrollTop=U)}}},{key:"getRowId",value:function(c){return"rowId"in c?c.rowId:"".concat(this.idPrefix,"_").concat(c.fieldId,"_row")}}]),M}();function Zr(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return Yr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Yr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function Yr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var wr=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a){var u;return $(this,x),(u=_.call(this,"rbro_style",R,v,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:e.type.select,fieldId:"line_spacing"},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:e.type.text,fieldId:"border_width"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},u}return T(x,[{key:"render",value:function(){var a=this,u=t("div",{id:"rbro_style_panel",class:"rbroHidden"}),l=t("div",{class:"rbroFormRow"});d(l,this.rb.getLabel("styleName"),"rbro_style_name");var y=t("div",{class:"rbroFormField"}),B=t("input",{id:"rbro_style_name"});B.addEventListener("input",function(U){var te=a.rb.getSelectedObject();te!==null&&(B.value.trim()!==""?a.rb.executeCommand(new e(te.getId(),"name",B.value,e.type.text,a.rb)):B.value=te.getName())}),y.append(B),l.append(y),u.append(l),x.renderStyle(u,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(u)}},{key:"destroy",value:function(){x.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(a){var u=this.rb.getSelectedObject();if(u!==null&&u instanceof R){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],B=u.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,B,!1)}}}}],[{key:"renderStyle",value:function(a,u,l,y,B,U){var te,ie;d(te=t("div",{id:"rbro_".concat(u,"textstyle_row"),class:"rbroFormRow"}),U.getLabel("styleTextStyle")),ie=t("div",{class:"rbroFormField"});var ye=t("div",{id:"rbro_".concat(u,"textstyle")}),be=t("button",{id:"rbro_".concat(u,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:U.getLabel("styleBold")});be.addEventListener("click",function(ut){for(var Ce=!be.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"bold"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"bold"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("bold",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),ye.append(be);var _e=t("button",{id:"rbro_".concat(u,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:U.getLabel("styleItalic")});_e.addEventListener("click",function(ut){for(var Ce=!_e.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"italic"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"italic"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("italic",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),ye.append(_e);var Se=t("button",{id:"rbro_".concat(u,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:U.getLabel("styleUnderline")});Se.addEventListener("click",function(ut){for(var Ce=!Se.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"underline"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"underline"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("underline",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),ye.append(Se);var Pe=t("button",{id:"rbro_".concat(u,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:U.getLabel("styleStrikethrough")});Pe.addEventListener("click",function(ut){for(var Ce=!Pe.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"strikethrough"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"strikethrough"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("strikethrough",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),ye.append(Pe),ie.append(ye),te.append(ie),a.append(te),d(te=t("div",{id:"rbro_".concat(u,"alignment_row"),class:"rbroFormRow"}),U.getLabel("styleAlignment")),ie=t("div",{class:"rbroFormField"});var Re=t("div",{id:"rbro_".concat(u,"halignment")}),Ne=t("button",{id:"rbro_".concat(u,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:U.getLabel("styleHAlignmentLeft")});Ne.addEventListener("click",function(ut){for(var Ce=R.alignment.left,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"horizontalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"horizontalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"horizontalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("horizontalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(Ne);var je=t("button",{id:"rbro_".concat(u,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:U.getLabel("styleHAlignmentCenter")});je.addEventListener("click",function(ut){for(var Ce=R.alignment.center,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"horizontalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"horizontalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"horizontalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("horizontalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(je);var Fe=t("button",{id:"rbro_".concat(u,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:U.getLabel("styleHAlignmentRight")});Fe.addEventListener("click",function(ut){for(var Ce=R.alignment.right,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"horizontalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"horizontalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"horizontalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("horizontalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(Fe);var Xe=t("button",{id:"rbro_".concat(u,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:U.getLabel("styleHAlignmentJustify")});Xe.addEventListener("click",function(ut){for(var Ce=R.alignment.justify,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"horizontalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"horizontalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"horizontalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("horizontalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(Xe),ie.append(Re);var $e=t("div",{id:"rbro_".concat(u,"valignment")}),We=t("button",{id:"rbro_".concat(u,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:U.getLabel("styleVAlignmentTop")});We.addEventListener("click",function(ut){for(var Ce=R.alignment.top,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"verticalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"verticalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"verticalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("verticalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),$e.append(We);var Je=t("button",{id:"rbro_".concat(u,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:U.getLabel("styleVAlignmentMiddle")});Je.addEventListener("click",function(ut){for(var Ce=R.alignment.middle,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"verticalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"verticalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"verticalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("verticalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),$e.append(Je);var it=t("button",{id:"rbro_".concat(u,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:U.getLabel("styleVAlignmentBottom")});it.addEventListener("click",function(ut){for(var Ce=R.alignment.bottom,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"verticalAlignment"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"verticalAlignment"),Ce,e.type.buttonGroup,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"verticalAlignment"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("verticalAlignment",Ce,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),$e.append(it),ie.append($e),te.append(ie),a.append(te),d(te=t("div",{id:"rbro_".concat(u,"text_color_row"),class:"rbroFormRow"}),U.getLabel("styleTextColor"),"rbro_".concat(u,"text_color")),ie=t("div",{class:"rbroFormField"});var ze=t("div",{class:"rbroColorPickerContainer"}),Ge=t("input",{id:"rbro_".concat(u,"text_color")});Ge.addEventListener("change",function(ut){var Ce=Ge.value;if(Y(Ce)){for(var pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"textColor"),Ce,e.type.color,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"textColor"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("textColor",Ce,e.type.color,pe)}pe.isEmpty()||U.executeCommand(pe)}}),ze.append(Ge),B[l+"textColor"]=F(ze,Ge,!1,U),ie.append(ze),te.append(ie),a.append(te),d(te=t("div",{id:"rbro_".concat(u,"background_color_row"),class:"rbroFormRow"}),U.getLabel("styleBackgroundColor"),"rbro_".concat(u,"background_color")),ie=t("div",{class:"rbroFormField"});var Ze=t("div",{class:"rbroColorPickerContainer"}),Ae=t("input",{id:"rbro_".concat(u,"background_color")});if(Ae.addEventListener("change",function(ut){var Ce=Ae.value;if(Y(Ce)){for(var pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"backgroundColor"),Ce,e.type.color,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"backgroundColor"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("backgroundColor",Ce,e.type.color,pe)}pe.isEmpty()||U.executeCommand(pe)}}),Ze.append(Ae),B[l+"backgroundColor"]=F(Ze,Ae,!0,U),ie.append(Ze),te.append(ie),a.append(te),y){d(te=t("div",{id:"rbro_".concat(u,"alternate_background_color_row"),class:"rbroFormRow"}),U.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(u,"alternate_background_color")),ie=t("div",{class:"rbroFormField"});var ot=t("div",{class:"rbroColorPickerContainer"}),Qe=t("input",{id:"rbro_".concat(u,"alternate_background_color")});Qe.addEventListener("change",function(ut){var Ce=Qe.value;if(Y(Ce)){for(var pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"alternateBackgroundColor"),Ce,e.type.color,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"alternateBackgroundColor"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("alternateBackgroundColor",Ce,e.type.color,pe)}pe.isEmpty()||U.executeCommand(pe)}}),ot.append(Qe),B[l+"alternateBackgroundColor"]=F(ot,Qe,!0,U),ie.append(ot),te.append(ie),a.append(te)}d(te=t("div",{id:"rbro_".concat(u,"font_row"),class:"rbroFormRow"}),U.getLabel("styleFont"),"rbro_".concat(u,"font")),ie=t("div",{class:"rbroFormField rbroSplit rbroSelectFont"});var gt,ft=t("select",{id:"rbro_".concat(u,"font")}),st=Zr(U.getFonts());try{for(st.s();!(gt=st.n()).done;){var Tt=gt.value;ft.append(t("option",{value:Tt.value},Tt.name))}}catch(ut){st.e(ut)}finally{st.f()}ft.addEventListener("change",function(ut){for(var Ce=ft.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"font"),Ce,e.type.select,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"font"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("font",Ce,e.type.select,pe)}pe.isEmpty()||U.executeCommand(pe)}),ie.append(ft);var Ct,mt=t("select",{id:"rbro_".concat(u,"font_size")}),_t=Zr(U.getProperty("fontSizes"));try{for(_t.s();!(Ct=_t.n()).done;){var St=Ct.value;mt.append(t("option",{value:St},String(St)))}}catch(ut){_t.e(ut)}finally{_t.f()}mt.addEventListener("change",function(ut){for(var Ce=mt.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"fontSize"),Ce,e.type.select,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"fontSize"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("fontSize",Ce,e.type.select,pe)}pe.isEmpty()||U.executeCommand(pe)}),ie.append(mt),ie.append(t("span",{},U.getLabel("styleFontSizeUnit"))),ie.append(t("div",{id:"rbro_".concat(u,"font_error"),class:"rbroErrorMessage"})),te.append(ie),a.append(te),d(te=t("div",{id:"rbro_".concat(u,"line_spacing_row"),class:"rbroFormRow"}),U.getLabel("styleLineSpacing"),"rbro_".concat(u,"line_spacing")),ie=t("div",{class:"rbroFormField"});for(var bt=t("select",{id:"rbro_".concat(u,"line_spacing")}),ct=0,zt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];ct<zt.length;ct++){var Nt=zt[ct];bt.append(t("option",{value:Nt},Nt))}bt.addEventListener("change",function(ut){for(var Ce=bt.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"lineSpacing"),Ce,e.type.select,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"lineSpacing"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("lineSpacing",Ce,e.type.select,pe),pe.isEmpty()||U.executeCommand(pe)}}),ie.append(bt),te.append(ie),a.append(te);var Mt=t("div",{id:"rbro_".concat(u,"border_div")});d(te=t("div",{id:"rbro_".concat(u,"border_row"),class:"rbroFormRow"}),U.getLabel("styleBorder")),ie=t("div",{class:"rbroFormField"});var wt=t("div",{id:"rbro_".concat(u,"border")}),Zt=t("button",{id:"rbro_".concat(u,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(l,"borderAll"),title:U.getLabel("styleBorderAll")});Zt.addEventListener("click",function(ut){for(var Ce=!Zt.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"borderLeft"),Ce,e.type.button,U)),pe.addCommand(new e(ue.getId(),"".concat(l,"borderTop"),Ce,e.type.button,U)),pe.addCommand(new e(ue.getId(),"".concat(l,"borderRight"),Ce,e.type.button,U)),pe.addCommand(new e(ue.getId(),"".concat(l,"borderBottom"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderLeft"))===Ce&&ue.getValue("".concat(l,"borderTop"))===Ce&&ue.getValue("".concat(l,"borderRight"))===Ce&&ue.getValue("".concat(l,"borderBottom"))===Ce||pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&(ue.addCommandsForChangedProperty("borderLeft",Ce,e.type.button,pe),ue.addCommandsForChangedProperty("borderTop",Ce,e.type.button,pe),ue.addCommandsForChangedProperty("borderRight",Ce,e.type.button,pe),ue.addCommandsForChangedProperty("borderBottom",Ce,e.type.button,pe))}pe.isEmpty()||U.executeCommand(pe)}),wt.append(Zt);var Wt=t("button",{id:"rbro_".concat(u,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(l,"borderLeft"),title:U.getLabel("orientationLeft")});Wt.addEventListener("click",function(ut){for(var Ce=!Wt.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"borderLeft"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderLeft"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("borderLeft",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),wt.append(Wt);var nr=t("button",{id:"rbro_".concat(u,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(l,"borderTop"),title:U.getLabel("orientationTop")});nr.addEventListener("click",function(ut){for(var Ce=!nr.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"borderTop"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderTop"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("borderTop",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),wt.append(nr);var er=t("button",{id:"rbro_".concat(u,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(l,"borderRight"),title:U.getLabel("orientationRight")});er.addEventListener("click",function(ut){for(var Ce=!er.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"borderRight"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderRight"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("borderRight",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),wt.append(er);var Gt=t("button",{id:"rbro_".concat(u,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(l,"borderBottom"),title:U.getLabel("orientationBottom")});if(Gt.addEventListener("click",function(ut){for(var Ce=!Gt.classList.contains("rbroButtonActive"),pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"borderBottom"),Ce,e.type.button,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderBottom"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("borderBottom",Ce,e.type.button,pe)}pe.isEmpty()||U.executeCommand(pe)}),wt.append(Gt),ie.append(wt),te.append(ie),Mt.append(te),y){d(te=t("div",{id:"rbro_".concat(u,"table_border_row"),class:"rbroFormRow"}),U.getLabel("styleBorder")),ie=t("div",{class:"rbroFormField"});var Dt=t("div",{id:"rbro_".concat(u,"table_border")}),or=t("button",{id:"rbro_".concat(u,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(l,"grid"),title:U.getLabel("docElementBorderGrid")});or.addEventListener("click",function(ut){for(var Ce=Qt.border.grid,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"border"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"border"),Ce,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Dt.append(or);var Yt=t("button",{id:"rbro_".concat(u,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(l,"frame_row"),title:U.getLabel("docElementBorderFrameRow")});Yt.addEventListener("click",function(ut){for(var Ce=Qt.border.frameRow,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"border"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"border"),Ce,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Dt.append(Yt);var tr=t("button",{id:"rbro_".concat(u,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(l,"frame"),title:U.getLabel("docElementBorderFrame")});tr.addEventListener("click",function(ut){for(var Ce=Qt.border.frame,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"border"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"border"),Ce,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Dt.append(tr);var Et=t("button",{id:"rbro_".concat(u,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(l,"row"),title:U.getLabel("docElementBorderRow")});Et.addEventListener("click",function(ut){for(var Ce=Qt.border.row,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"border"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"border"),Ce,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Dt.append(Et);var Vt=t("button",{id:"rbro_".concat(u,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(l,"none"),title:U.getLabel("docElementBorderNone")});Vt.addEventListener("click",function(ut){for(var Ce=Qt.border.none,pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"border"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"border"),Ce,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Dt.append(Vt),ie.append(Dt),te.append(ie),Mt.append(te)}d(te=t("div",{id:"rbro_".concat(u,"border_color_row"),class:"rbroFormRow"}),U.getLabel("styleBorderColor"),"rbro_".concat(u,"border_color")),ie=t("div",{class:"rbroFormField"});var ar=t("div",{class:"rbroColorPickerContainer"}),Xt=t("input",{id:"rbro_".concat(u,"border_color")});Xt.addEventListener("change",function(ut){var Ce=Xt.value;if(Y(Ce)){for(var pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"borderColor"),Ce,e.type.color,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderColor"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("borderColor",Ce,e.type.color,pe)}pe.isEmpty()||U.executeCommand(pe)}}),ar.append(Xt),B[l+"borderColor"]=F(ar,Xt,!1,U),ie.append(ar),te.append(ie),Mt.append(te),d(te=t("div",{id:"rbro_".concat(u,"border_width_row"),class:"rbroFormRow"}),U.getLabel("styleBorderWidth"),"rbro_".concat(u,"border_width")),ie=t("div",{class:"rbroFormField"});var $t=t("input",{id:"rbro_".concat(u,"border_width"),type:"number",step:"0.5"});$t.addEventListener("input",function(ut){var Ce=$t.value;Ce!==""&&(Ce=A(Ce,.5,99)),Ce!==$t.value&&($t.value=Ce);for(var pe=U.getSelectedObjects(),Me=!1,Te=pe.length-1;Te>=0;Te--)if(pe[Te].getValue("".concat(l,"borderWidth"))!==Ce){Me=!0;break}if(Me){for(var ue=new Z("Set value",U),nt=pe.length-1;nt>=0;nt--){var Ue=pe[nt];ue.addSelection(Ue.getId()),ue.addCommand(new e(Ue.getId(),"".concat(l,"borderWidth"),Ce,e.type.text,U)),Ue instanceof z&&Ue.getValue("".concat(l,"styleId"))!==""?Ue.getValue("".concat(l,"borderWidth"))!==Ce&&ue.addCommand(new e(Ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ue instanceof R&&Ue.addCommandsForChangedProperty("borderWidth",Ce,e.type.text,ue)}ue.isEmpty()||U.executeCommand(ue)}}),ie.append($t),te.append(ie),Mt.append(te),a.append(Mt),d(te=t("div",{id:"rbro_".concat(u,"padding_row"),class:"rbroFormRow"}),U.getLabel("stylePadding"),"rbro_".concat(u,"padding")),ie=t("div",{class:"rbroFormField rbroSmallInput"});var Rt=t("div",{class:"rbroColumnCenter"}),sr=t("input",{id:"rbro_".concat(u,"padding_top"),placeholder:U.getLabel("orientationTop"),type:"number"});sr.addEventListener("input",function(ut){for(var Ce=sr.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"paddingTop"),Ce,e.type.text,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingTop"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("paddingTop",Ce,e.type.text,pe)}pe.isEmpty()||U.executeCommand(pe)}),Rt.append(sr),ie.append(Rt);var ur=t("div",{class:"rbroSplit"}),dr=t("input",{id:"rbro_".concat(u,"padding_left"),placeholder:U.getLabel("orientationLeft"),type:"number"});dr.addEventListener("input",function(ut){for(var Ce=dr.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"paddingLeft"),Ce,e.type.text,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingLeft"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("paddingLeft",Ce,e.type.text,pe)}pe.isEmpty()||U.executeCommand(pe)}),ur.append(dr);var cr=t("input",{id:"rbro_".concat(u,"padding_right"),placeholder:U.getLabel("orientationRight"),type:"number"});cr.addEventListener("input",function(ut){for(var Ce=cr.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"paddingRight"),Ce,e.type.text,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingRight"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("paddingRight",Ce,e.type.text,pe)}pe.isEmpty()||U.executeCommand(pe)}),ur.append(cr),ie.append(ur);var Er=t("div",{class:"rbroColumnCenter"}),hr=t("input",{id:"rbro_".concat(u,"padding_bottom"),placeholder:U.getLabel("orientationBottom"),type:"number"});hr.addEventListener("input",function(ut){for(var Ce=hr.value,pe=new Z("Set value",U),Me=U.getSelectedObjects(),Te=Me.length-1;Te>=0;Te--){var ue=Me[Te];pe.addSelection(ue.getId()),pe.addCommand(new e(ue.getId(),"".concat(l,"paddingBottom"),Ce,e.type.text,U)),ue instanceof z&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingBottom"))!==Ce&&pe.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof R&&ue.addCommandsForChangedProperty("paddingBottom",Ce,e.type.text,pe)}pe.isEmpty()||U.executeCommand(pe)}),Er.append(hr),ie.append(Er),te.append(ie),a.append(te)}},{key:"destroyStyle",value:function(a,u){u[a+"textColor"].destroy(),u[a+"backgroundColor"].destroy(),a+"alternateBackgroundColor"in u&&u[a+"alternateBackgroundColor"].destroy(),u[a+"borderColor"].destroy()}}]),x}(Ir),un=et(6095),yr=et.n(un),cn=et(4175),Xr=et.n(cn);function qt(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return $r(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?$r(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function $r(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var dn=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a){var u;for(var l in $(this,x),(u=_.call(this,"rbro_doc_element",z,v,a)).propertyDescriptors={label:{type:e.type.text,fieldId:"label"},content:{type:e.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:e.type.checkbox,fieldId:"rich_text"},richTextContent:{type:e.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:e.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:e.type.text,fieldId:"data_source"},xReadOnly:{type:e.type.text,fieldId:"x_read_only"},x:{type:e.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:e.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:e.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth"},height:{type:e.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:e.type.text,fieldId:"colspan"},format:{type:e.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:e.type.checkbox,fieldId:"display_value",visibleIf:"format==CODE128"},barWidth:{type:e.type.text,fieldId:"bar_width",visibleIf:"format==CODE128"},errorCorrectionLevel:{type:e.type.select,fieldId:"error_correction_level",visibleIf:"format==QRCode"},source:{type:e.type.text,fieldId:"source"},image:{type:e.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:e.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:e.type.text,fieldId:"columns"},header:{type:e.type.checkbox,fieldId:"header"},contentRows:{type:e.type.text,fieldId:"content_rows"},footer:{type:e.type.checkbox,fieldId:"footer"},color:{type:e.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:e.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:e.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:e.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:e.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:e.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:e.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:e.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:e.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:e.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:e.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:e.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:e.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},growWeight:{type:e.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:e.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:e.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:e.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:e.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_bold:{type:e.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:e.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:e.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:e.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:e.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:e.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:e.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:e.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:e.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:e.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:e.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:e.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:e.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:e.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:e.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:e.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:e.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:e.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:e.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:e.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:e.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:e.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:e.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_textWrap:{type:e.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},a.getProperty("showPlusFeatures")||(delete u.propertyDescriptors.richText,delete u.propertyDescriptors.richTextContent),u.visibleIfFields=[],u.propertyDescriptors)if(u.propertyDescriptors.hasOwnProperty(l)){var y=u.propertyDescriptors[l];if("visibleIf"in y){var B=y.visibleIf;B.substr(0,1)==="!"&&(B=B.substr(1)),u.visibleIfFields.includes(B)||u.visibleIfFields.push(B)}}return u}return T(x,[{key:"render",value:function(){var a,u,l,y=this,B=t("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),u=t("div",{class:"rbroFormField"});var U=t("input",{id:"rbro_doc_element_label"});U.addEventListener("input",function(tt){for(var Oe=U.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"label",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(U),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var te=t("textarea",{id:"rbro_doc_element_data_source",rows:1});te.addEventListener("input",function(tt){for(var Oe=te.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"dataSource",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Lt(te),u.append(te),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,[de.type.array]),null,"rbro_doc_element_data_source","dataSource",jt.type.parameterSet)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var ie=t("textarea",{id:"rbro_doc_element_content",rows:1});if(ie.addEventListener("input",function(tt){for(var Oe=ie.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"content",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),ie.addEventListener("blur",function(tt){y.rb.getPopupWindow().hide()}),Lt(ie),u.append(ie),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me),null,"rbro_doc_element_content","content",jt.type.parameterAppend)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),this.rb.getProperty("showPlusFeatures")){d(a=t("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),u=t("div",{class:"rbroFormField"});var ye=t("label",{class:"switch-light switch-material"}),be=t("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});be.addEventListener("change",function(tt){for(var Oe=be.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"richText",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),ye.append(be);var _e=t("span");if(_e.append(t("span")),_e.append(t("span")),_e.append(t("a")),ye.append(_e),u.append(ye),u.append(t("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var Se=t("div",{class:"rbroInfo"});Se.innerHTML=this.rb.getLabel("plusFeatureInfo"),u.append(Se)}a.append(u),B.append(a),a=t("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var Pe,Re=this.rb.getProperty("colors"),Ne=t("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),je=t("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),Fe=qt(Re);try{for(Fe.s();!(Pe=Fe.n()).done;){var Xe=Pe.value;Ne.append(t("option",{value:Xe},Xe)),je.append(t("option",{value:Xe},Xe))}}catch(tt){Fe.e(tt)}finally{Fe.f()}Ne.append(t("option",{value:"clear-color"})),je.append(t("option",{value:"clear-color"}));var $e,We=t("select",{class:"ql-font"}),Je=this.rb.getProperty("defaultFont"),it=qt(this.rb.getFonts());try{for(it.s();!($e=it.n()).done;){var ze=$e.value,Ge={value:ze.value};ze.value===Je&&(Ge.selected="selected"),We.append(t("option",Ge,ze.name))}}catch(tt){it.e(tt)}finally{it.f()}var Ze,Ae=t("select",{class:"ql-size"}),ot=qt(this.rb.getProperty("fontSizes"));try{for(ot.s();!(Ze=ot.n()).done;){var Qe=Ze.value,gt={value:Qe+"px"};Qe===12&&(gt.selected="selected"),Ae.append(t("option",gt,Qe+"pt"))}}catch(tt){ot.e(tt)}finally{ot.f()}var ft=t("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),st=t("span",{class:"ql-formats"});st.append(t("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),st.append(t("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),st.append(t("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),st.append(t("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),ft.append(st),(st=t("span",{class:"ql-formats"})).append(t("button",{class:"ql-link"})),ft.append(st),(st=t("span",{class:"ql-formats"})).append(t("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),ft.append(st),(st=t("span",{class:"ql-formats"})).append(Ne),st.append(je),ft.append(st),ft.append(We),ft.append(Ae),ft.append(t("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),a.append(ft);var Tt=t("div",{id:"rbro_doc_element_rich_text_content"});a.append(Tt),u.append(t("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),B.append(a)}d(a=t("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),u=t("div",{class:"rbroFormField"});var Ct=t("input",{id:"rbro_doc_element_eval",type:"checkbox"});Ct.addEventListener("change",function(tt){for(var Oe=new Z("Set value",y.rb),me=y.rb.getSelectedObjects(),De=Ct.checked,xe=me.length-1;xe>=0;xe--){var Be=me[xe];Oe.addSelection(Be.getId()),Oe.addCommand(new e(Be.getId(),"eval",De,e.type.checkbox,y.rb))}Oe.isEmpty()||y.rb.executeCommand(Oe)}),u.append(Ct),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),u=t("div",{class:"rbroFormField"});var mt=t("select",{id:"rbro_doc_element_format"});mt.append(t("option",{value:"CODE128"},"CODE128")),mt.append(t("option",{value:"QRCode"},"QR Code")),mt.addEventListener("change",function(tt){for(var Oe=mt.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"format",Oe,e.type.select,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(mt),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),u=t("div",{class:"rbroFormField"});var _t=t("input",{id:"rbro_doc_element_display_value",type:"checkbox"});_t.addEventListener("change",function(tt){for(var Oe=_t.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"displayValue",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(_t),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),u=t("div",{class:"rbroFormField"});var St=t("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1"});St.addEventListener("input",function(tt){var Oe=St.value;Oe!==""&&(Oe=A(Oe,1,3)),Oe!==St.value&&(St.value=Oe);for(var me=y.rb.getSelectedObjects(),De=!1,xe=me.length-1;xe>=0;xe--)if(me[xe].getValue("barWidth")!==Oe){De=!0;break}if(De){for(var Be=new Z("Set value",y.rb),yt=me.length-1;yt>=0;yt--){var At=me[yt];Be.addSelection(At.getId()),Be.addCommand(new e(At.getId(),"barWidth",Oe,e.type.text,y.rb))}Be.isEmpty()||y.rb.executeCommand(Be)}}),u.append(St),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),u=t("div",{class:"rbroFormField"});var bt=t("select",{id:"rbro_doc_element_error_correction_level"});bt.append(t("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),bt.append(t("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),bt.append(t("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),bt.append(t("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),bt.addEventListener("change",function(tt){for(var Oe=bt.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"errorCorrectionLevel",Oe,e.type.select,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(bt),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var ct=t("textarea",{id:"rbro_doc_element_source",rows:1});ct.addEventListener("input",function(tt){for(var Oe=ct.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"source",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Lt(ct),u.append(ct),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,[de.type.image,de.type.string]),null,"rbro_doc_element_source","source",jt.type.parameterSet)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),u=t("div",{class:"rbroFormField"});var zt=t("input",{id:"rbro_doc_element_image",type:"file"});zt.addEventListener("change",function(tt){var Oe=tt.target.files;if(Oe&&Oe[0]){var me=new FileReader,De=y.rb,xe=Oe[0].name;me.onload=function(Be){for(var yt=new Z("Load image",De),At=De.getSelectedObjects(),Jt=At.length-1;Jt>=0;Jt--){var fr=At[Jt];yt.addSelection(fr.getId()),yt.addCommand(new e(fr.getId(),"image",Be.target.result,e.type.file,De)),yt.addCommand(new e(fr.getId(),"imageFilename",xe,e.type.filename,De))}yt.isEmpty()||De.executeCommand(yt)},me.onerror=function(Be){alert(De.getLabel("docElementLoadImageErrorMsg"))},me.readAsDataURL(Oe[0])}}),u.append(zt);var Nt=t("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});Nt.append(t("div",{id:"rbro_doc_element_image_filename"}));var Mt=t("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Mt.addEventListener("click",function(tt){zt.value="";for(var Oe=new Z("Clear image",y.rb),me=y.rb.getSelectedObjects(),De=me.length-1;De>=0;De--){var xe=me[De];Oe.addSelection(xe.getId()),Oe.addCommand(new e(xe.getId(),"image","",e.type.file,y.rb)),Oe.addCommand(new e(xe.getId(),"imageFilename","",e.type.filename,y.rb))}Oe.isEmpty()||y.rb.executeCommand(Oe)}),Nt.append(Mt),u.append(Nt),u.append(t("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),u=t("div",{class:"rbroFormField"});var wt=t("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});u.append(wt),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),u=t("div",{class:"rbroFormField rbroSplit"});var Zt=t("input",{id:"rbro_doc_element_x",type:"number"});Zt.addEventListener("input",function(tt){for(var Oe=Zt.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"x",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Zt);var Wt=t("input",{id:"rbro_doc_element_y",type:"number"});Wt.addEventListener("input",function(tt){for(var Oe=Wt.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"y",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Wt),u.append(t("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),u=t("div",{class:"rbroFormField rbroSplit"});var nr=t("input",{id:"rbro_doc_element_width",type:"number"});nr.addEventListener("input",function(tt){for(var Oe=nr.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"width",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(nr);var er=t("input",{id:"rbro_doc_element_height",type:"number"});er.addEventListener("input",function(tt){for(var Oe=er.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"height",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(er),u.append(t("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),u=t("div",{class:"rbroFormField"});var Gt=t("input",{id:"rbro_doc_element_colspan",type:"number"});Gt.addEventListener("change",function(tt){var Oe=Gt.value.trim();Oe!==""&&(Oe=A(Oe,1,9)),Oe!==Gt.value&&(Gt.value=Oe);for(var me=y.rb.getSelectedObjects(),De=!1,xe=me.length-1;xe>=0;xe--)if(me[xe].getValue("colspan")!==Oe){De=!0;break}if(De){for(var Be=new Z("Set value",y.rb),yt=me.length-1;yt>=0;yt--){var At=me[yt];Be.addSelection(At.getId()),Be.addCommand(new e(At.getId(),"colspan",Oe,e.type.text,y.rb))}Be.isEmpty()||y.rb.executeCommand(Be)}}),u.append(Gt),u.append(t("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),u=t("div",{class:"rbroFormField"});var Dt=t("input",{id:"rbro_doc_element_columns",type:"number"});Dt.addEventListener("change",function(tt){var Oe=A(Dt.value,1,99);Oe!==Dt.value&&(Dt.value=Oe);for(var me=S(Oe),De=y.rb.getSelectedObjects(),xe=!1,Be=!0,yt=De.length-1;yt>=0;yt--){var At=De[yt];At.getValue("columns")!==Oe&&(xe=!0),At.hasEnoughAvailableSpace(me)||(Be=!1)}if(Be||De.length!==1||(Dt.value=De[0].getValue("columns")),xe&&Be){for(var Jt=new Z("Set value",y.rb),fr=De.length-1;fr>=0;fr--){var on=De[fr];Jt.addSelection(on.getId()),on.addCommandsForChangedColumns(me,Jt)}Jt.isEmpty()||y.rb.executeCommand(Jt)}}),u.append(Dt),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),u=t("div",{class:"rbroFormField"});var or=t("label",{class:"switch-light switch-material"}),Yt=t("input",{id:"rbro_doc_element_header",type:"checkbox"});Yt.addEventListener("change",function(tt){for(var Oe=Yt.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"header",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),or.append(Yt);var tr=t("span");tr.append(t("span")),tr.append(t("span")),tr.append(t("a")),or.append(tr),u.append(or),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),u=t("div",{class:"rbroFormField"});var Et=t("input",{id:"rbro_doc_element_content_rows",type:"number"});Et.addEventListener("change",function(tt){var Oe=A(Et.value,1,99),me=S(Oe);Oe!==Et.value&&(Et.value=Oe);for(var De=y.rb.getSelectedObjects(),xe=!1,Be=De.length-1;Be>=0;Be--)if(De[Be].getValue("contentRows")!==Oe){xe=!0;break}if(xe){for(var yt=new Z("Set value",y.rb),At=De.length-1;At>=0;At--){var Jt=De[At];yt.addSelection(Jt.getId()),Jt.addCommandsForChangedContentRows(me,yt)}yt.isEmpty()||y.rb.executeCommand(yt)}}),u.append(Et),a.append(u),B.append(a),d(a=t("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),u=t("div",{class:"rbroFormField"});var Vt=t("label",{class:"switch-light switch-material"}),ar=t("input",{id:"rbro_doc_element_footer",type:"checkbox"});ar.addEventListener("change",function(tt){for(var Oe=ar.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"footer",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Vt.append(ar);var Xt=t("span");Xt.append(t("span")),Xt.append(t("span")),Xt.append(t("a")),Vt.append(Xt),u.append(Vt),a.append(u),B.append(a);var $t=t("div",{id:"rbro_doc_element_style_section_container"}),Rt=t("div",{class:"rbroPanelSectionHeader"}),sr=t("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(a=t("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function(tt){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),sr.classList.toggle("rbroIcon-plus"),sr.classList.toggle("rbroIcon-minus"),sr.classList.contains("rbroIcon-minus")){var Oe=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Oe}}),Rt.append(sr),Rt.append(t("span",{},this.rb.getLabel("docElementStyle"))),a.append(Rt),$t.append(a);var ur=t("div",{id:"rbro_doc_element_style_section"});d(a=t("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),u=t("div",{class:"rbroFormField"});var dr=t("div",{class:"rbroColorPickerContainer"}),cr=t("input",{id:"rbro_doc_element_color"});cr.addEventListener("change",function(tt){var Oe=cr.value;if(Y(Oe)){for(var me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"color",Oe,e.type.color,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}}),dr.append(cr),this.controls.color=F(dr,cr,!1,this.rb),u.append(dr),a.append(u),ur.append(a),d(a=t("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),u=t("div",{class:"rbroFormField"}),this.elStyle=t("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function(tt){for(var Oe=new Z("Set value",y.rb),me=y.rb.getSelectedObjects(),De=me.length-1;De>=0;De--){var xe=me[De];Oe.addSelection(xe.getId()),xe.addCommandsForChangedStyle(y.elStyle.value,"",y.propertyDescriptors,Oe)}Oe.isEmpty()||y.rb.executeCommand(Oe)}),u.append(this.elStyle),a.append(u),ur.append(a);var Er=t("div",{id:"rbro_doc_element_style_settings"});wr.renderStyle(Er,"doc_element_","",!0,this.controls,this.rb),ur.append(Er),$t.append(ur),B.append($t);var hr=t("div",{id:"rbro_doc_element_print_section_container"}),ut=t("div",{class:"rbroPanelSectionHeader"}),Ce=t("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(tt){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),Ce.classList.toggle("rbroIcon-plus"),Ce.classList.toggle("rbroIcon-minus"),Ce.classList.contains("rbroIcon-minus")){var Oe=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Oe}Lt.update(document.getElementById("rbro_doc_element_print_if"))}),ut.append(Ce),ut.append(t("span",{},this.rb.getLabel("docElementPrintSettings"))),a.append(ut),hr.append(a);var pe=t("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var Me=t("textarea",{id:"rbro_doc_element_group_expression",rows:1});Me.addEventListener("input",function(tt){for(var Oe=Me.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"groupExpression",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Me.addEventListener("blur",function(tt){y.rb.getPopupWindow().hide()}),Lt(Me),u.append(Me),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me),null,"rbro_doc_element_group_expression","groupExpression",jt.type.parameterSet)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),u=t("div",{class:"rbroFormField"});var Te=t("input",{id:"rbro_doc_element_page_break",type:"checkbox"});Te.addEventListener("change",function(tt){for(var Oe=Te.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"pageBreak",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Te),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),u=t("div",{class:"rbroFormField"});var ue=t("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});ue.addEventListener("change",function(tt){for(var Oe=ue.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"repeatGroupHeader",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(ue),u.append(t("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var nt=t("textarea",{id:"rbro_doc_element_print_if",rows:1});nt.addEventListener("input",function(tt){for(var Oe=nt.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"printIf",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Lt(nt),u.append(nt),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me),null,"rbro_doc_element_print_if","printIf",jt.type.parameterAppend)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),u=t("div",{class:"rbroFormField"});var Ue=t("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Ue.addEventListener("change",function(tt){for(var Oe=Ue.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"repeatHeader",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Ue),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),u=t("div",{class:"rbroFormField"});var Tr=t("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Tr.addEventListener("change",function(tt){for(var Oe=Tr.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"removeEmptyElement",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Tr),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),u=t("div",{class:"rbroFormField"});var Dr=t("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});Dr.addEventListener("change",function(tt){for(var Oe=Dr.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"alwaysPrintOnSamePage",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Dr),u.append(t("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),u=t("div",{class:"rbroFormField"});var Lr=t("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});Lr.addEventListener("change",function(tt){for(var Oe=Lr.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"shrinkToContentHeight",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Lr),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var Rr=t("input",{id:"rbro_doc_element_pattern"});Rr.addEventListener("input",function(tt){for(var Oe=Rr.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"pattern",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Rr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){y.rb.getPopupWindow().show(y.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",jt.type.pattern)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var jr=t("input",{id:"rbro_doc_element_link"});jr.addEventListener("input",function(tt){for(var Oe=jr.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"link",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(jr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me),null,"rbro_doc_element_link","link",jt.type.parameterSet)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),a.append(u),pe.append(a),d(a=t("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),u=t("div",{class:"rbroFormField"});var pr=t("select",{id:"rbro_doc_element_grow_weight"});pr.append(t("option",{value:"0"},"-")),pr.append(t("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),pr.append(t("option",{value:"2"},"2")),pr.append(t("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),pr.addEventListener("change",function(tt){for(var Oe=pr.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"growWeight",Oe,e.type.select,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(pr),u.append(t("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),a.append(u),pe.append(a),hr.append(pe),B.append(hr);var Br=t("div",{id:"rbro_doc_element_cs_style_section_container"}),Nr=t("div",{class:"rbroPanelSectionHeader"}),kr=t("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(tt){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),kr.classList.toggle("rbroIcon-plus"),kr.classList.toggle("rbroIcon-minus"),kr.classList.contains("rbroIcon-minus")){var Oe=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Oe}}),Nr.append(kr),Nr.append(t("span",{},this.rb.getLabel("docElementConditionalStyle"))),a.append(Nr),Br.append(a);var Sr=t("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),u=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var Or=t("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Or.addEventListener("input",function(tt){for(var Oe=Or.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"cs_condition",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Lt(Or),u.append(Or),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var Oe=y.rb.getSelectedObjects(),me=Oe.length===1?Oe[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me),null,"rbro_doc_element_cs_condition","cs_condition",jt.type.parameterAppend)}),u.append(l),u.append(t("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),a.append(u),Sr.append(a),d(a=t("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),u=t("div",{class:"rbroFormField"}),this.elCsStyle=t("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function(tt){for(var Oe=y.elCsStyle.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),Be.addCommandsForChangedStyle(Oe,"cs_",y.propertyDescriptors,me)}me.isEmpty()||y.rb.executeCommand(me)}),u.append(this.elCsStyle),a.append(u),Sr.append(a);var nn=t("div",{id:"rbro_doc_element_cs_style_settings"});wr.renderStyle(nn,"doc_element_cs_","cs_",!1,this.controls,this.rb),Sr.append(nn),Br.append(Sr),B.append(Br);var Pr=t("div",{id:"rbro_doc_element_spreadsheet_section_container"}),Mr=t("div",{class:"rbroPanelSectionHeader"}),Ar=t("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(tt){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Ar.classList.toggle("rbroIcon-plus"),Ar.classList.toggle("rbroIcon-minus"),Ar.classList.contains("rbroIcon-minus")){var Oe=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Oe}}),Mr.append(Ar),Mr.append(t("span",{},this.rb.getLabel("docElementSpreadsheet"))),a.append(Mr),Pr.append(a);var gr=t("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),u=t("div",{class:"rbroFormField"});var Fr=t("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});Fr.addEventListener("change",function(tt){for(var Oe=Fr.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"spreadsheet_hide",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Fr),a.append(u),gr.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),u=t("div",{class:"rbroFormField"});var xr=t("input",{id:"rbro_doc_element_spreadsheet_column",type:"number"});xr.addEventListener("input",function(tt){var Oe=xr.value;Oe!==""&&(Oe=A(Oe,1,99)),Oe!==xr.value&&(xr.value=Oe);for(var me=y.rb.getSelectedObjects(),De=!1,xe=me.length-1;xe>=0;xe--)if(me[xe].getValue("spreadsheet_column")!==Oe){De=!0;break}if(De){for(var Be=new Z("Set value",y.rb),yt=me.length-1;yt>=0;yt--){var At=me[yt];Be.addSelection(At.getId()),Be.addCommand(new e(At.getId(),"spreadsheet_column",Oe,e.type.text,y.rb))}Be.isEmpty()||y.rb.executeCommand(Be)}}),u.append(xr),u.append(t("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),a.append(u),gr.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),u=t("div",{class:"rbroFormField"});var zr=t("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number"});zr.addEventListener("input",function(tt){for(var Oe=zr.value,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"spreadsheet_colspan",Oe,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(zr),u.append(t("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),a.append(u),gr.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),u=t("div",{class:"rbroFormField"});var Vr=t("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Vr.addEventListener("change",function(tt){for(var Oe=Vr.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"spreadsheet_addEmptyRow",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Vr),a.append(u),gr.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),u=t("div",{class:"rbroFormField"});var Ur=t("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Ur.addEventListener("change",function(tt){for(var Oe=Ur.checked,me=new Z("Set value",y.rb),De=y.rb.getSelectedObjects(),xe=De.length-1;xe>=0;xe--){var Be=De[xe];me.addSelection(Be.getId()),me.addCommand(new e(Be.getId(),"spreadsheet_textWrap",Oe,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),u.append(Ur),a.append(u),gr.append(a),Pr.append(gr),this.rb.getProperty("enableSpreadsheet")||(Pr.style.display="none"),B.append(Pr),document.getElementById("rbro_detail_panel").append(B),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){s(this.elStyle),s(this.elCsStyle),this.elStyle.append(t("option",{value:""},this.rb.getLabel("styleNone"))),this.elCsStyle.append(t("option",{value:""},this.rb.getLabel("styleNone")));var a,u=qt(this.rb.getStyles());try{for(u.s();!(a=u.n()).done;){var l=a.value;this.elStyle.append(t("option",{value:l.getId()},l.getName())),this.elCsStyle.append(t("option",{value:l.getId()},l.getName()))}}catch(y){u.e(y)}finally{u.f()}}},{key:"setupRichText",value:function(){var a=this,u=yr().import("formats/link"),l=u.sanitize;u.sanitize=function(je){var Fe=je;return/^\w+:/.test(Fe)||Fe.startsWith("${")?Fe:(/^https?:/.test(Fe)||(Fe=Fe.startsWith("/")?"http:"+Fe:"http://"+Fe),l.call(this,Fe))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(je){var Fe=a.rb.getSelectedObjects(),Xe=Fe.length===1?Fe[0]:null;a.rb.getPopupWindow().show(a.rb.getParameterItems(Xe),null,"rbro_doc_element_rich_text_content","richTextContent",jt.type.parameterAppend,a.quill)});var y,B=yr().import("formats/font"),U=[],te=qt(this.rb.getFonts());try{for(te.s();!(y=te.n()).done;){var ie=y.value;U.push(ie.value)}}catch(je){te.e(je)}finally{te.f()}B.whitelist=U,yr().register(B,!0);var ye,be=yr().import("attributors/style/size"),_e=[],Se=qt(this.rb.getProperty("fontSizes"));try{for(Se.s();!(ye=Se.n()).done;){var Pe=ye.value;_e.push(Pe+"px")}}catch(je){Se.e(je)}finally{Se.f()}be.whitelist=_e,yr().register(be,!0);var Re=new(yr())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});Re.getModule("toolbar").addHandler("color",function(je){je==="clear-color"?Re.format("color",""):Re.format("color",je)}),Re.getModule("toolbar").addHandler("background",function(je){je==="clear-color"?Re.format("background",""):Re.format("background",je)});var Ne=this.rb;Re.on("text-change",function(je,Fe,Xe){for(var $e=Re.getContents(),We=Re.root.innerHTML,Je=new Z("Set value",Ne),it=Ne.getSelectedObjects(),ze=it.length-1;ze>=0;ze--){var Ge=it[ze];Je.addSelection(Ge.getId()),Je.addCommand(new e(Ge.getId(),"richTextContent",$e,e.type.richText,Ne)),Je.addCommand(new e(Ge.getId(),"richTextHtml",We,e.type.text,Ne))}Je.isEmpty()||Ne.executeCommand(Je)}),this.quill=Re}},{key:"destroy",value:function(){this.controls.color.destroy(),wr.destroyStyle("",this.controls),wr.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(a){var u,l=this.rb.getSelectedObjects(),y={},B={},U=qt(l);try{for(U.s();!(u=U.n()).done;){var te,ie=qt(u.value.getProperties());try{for(ie.s();!(te=ie.n()).done;){var ye=te.value;ye in B?B[ye]+=1:B[ye]=1}}catch(wt){ie.e(wt)}finally{ie.f()}}}catch(wt){U.e(wt)}finally{U.f()}for(var be in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(be)){var _e=this.propertyDescriptors[be],Se=null,Pe=null,Re=!1;if("visibleIf"in _e){var Ne=_e.visibleIf;if(Ne.startsWith("!"))Se=Ne.substr(1),Pe=!0,Re=!0;else{var je=Ne.indexOf("==");je===-1&&(je=Ne.indexOf("!="))!==-1&&(Re=!0),je!==-1?(Se=Ne.substr(0,je),Pe=Ne.substr(je+2)):(Se=Ne,Pe=!0)}}if(a===null||be===a||Se!==null&&Se===a){var Fe=!1;if(be in B)if(B[be]===l.length){var Xe,$e=null,We=!1,Je=qt(l);try{for(Je.s();!(Xe=Je.n()).done;){var it=Xe.value,ze=it.getUpdateValue(be,it.getValue(be));if($e===null)$e=ze;else if(_e.type===e.type.richText){if(ze&&$e&&new(Xr())(ze).diff(new(Xr())($e)).ops.length>0){We=!0;break}}else if(ze!==$e){We=!0;break}}}catch(wt){Je.e(wt)}finally{Je.f()}if(We&&_e.type===e.type.select&&_e.allowEmpty&&($e=""),o(f(x.prototype),"setValue",this).call(this,_e,$e,We),"section"in _e){var Ge=_e.section;Ge in y?y[Ge]+=1:y[Ge]=1}Fe=!0}else delete B[be];if(Fe&&Se){var Ze,Ae=qt(l);try{for(Ae.s();!(Ze=Ae.n()).done;){var ot=Ze.value.getValue(Se);if(typeof Pe=="boolean"&&typeof ot!="boolean"&&(ot=!!ot),!Re&&ot!==Pe||Re&&ot===Pe){Fe=!1,delete B[be];break}}}catch(wt){Ae.e(wt)}finally{Ae.f()}}if("singleRowProperty"in _e&&!_e.singleRowProperty){var Qe="rbro_doc_element_".concat(_e.fieldId);Fe?document.getElementById(Qe).classList.remove("rbroHidden"):document.getElementById(Qe).classList.add("rbroHidden")}else{var gt=this.getRowId(_e);Fe?document.getElementById(gt).classList.remove("rbroHidden"):document.getElementById(gt).classList.add("rbroHidden")}}}if(a===null||this.visibleIfFields.includes(a)){for(var ft in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(ft)){var st=this.propertyDescriptors[ft];if("rowId"in st&&"rowProperties"in st){var Tt,Ct=0,mt=qt(st.rowProperties);try{for(mt.s();!(Tt=mt.n()).done;)Tt.value in B&&Ct++}catch(wt){mt.e(wt)}finally{mt.f()}if("labelId"in st){var _t=st.defaultLabel;if(Ct===1){var St,bt=qt(st.rowProperties);try{for(bt.s();!(St=bt.n()).done;){var ct=St.value;if(ct in B){_t=this.propertyDescriptors[ct].singlePropertyLabel;break}}}catch(wt){bt.e(wt)}finally{bt.f()}}document.getElementById(st.labelId).textContent=this.rb.getLabel(_t)+":"}Ct>0?document.getElementById(st.rowId).classList.remove("rbroHidden"):document.getElementById(st.rowId).classList.add("rbroHidden")}}for(var zt=0,Nt=["style","print","cs_style","spreadsheet"];zt<Nt.length;zt++){var Mt=Nt[zt];Mt in y?document.getElementById("rbro_doc_element_".concat(Mt,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(Mt,"_section_container")).classList.add("rbroHidden")}}x.updateAutosizeInputs(a)}},{key:"show",value:function(){this.renderStyleSelect(),o(f(x.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(a,u,l){a instanceof R?(u===w.operation.add||u===w.operation.remove||u===w.operation.move||u===w.operation.change&&l==="name")&&this.renderStyleSelect():o(f(x.prototype),"notifyEvent",this).call(this,a,u,l)}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="dataSource"||Lt.update(document.getElementById("rbro_doc_element_data_source")),a!==null&&a!=="content"||Lt.update(document.getElementById("rbro_doc_element_content")),a!==null&&a!=="source"||Lt.update(document.getElementById("rbro_doc_element_source")),a!==null&&a!=="expression"||Lt.update(document.getElementById("rbro_doc_element_group_expression")),a!==null&&a!=="printIf"||Lt.update(document.getElementById("rbro_doc_element_print_if"))}}]),x}(Ir),hn=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a){var u;return $(this,x),(u=_.call(this,"rbro_document_properties",Kt,v,a)).propertyDescriptors={pageFormat:{type:e.type.text,fieldId:"page_format"},pageWidth:{type:e.type.text,fieldId:"page_width"},pageHeight:{type:e.type.text,fieldId:"page_height"},unit:{type:e.type.select,fieldId:"unit"},orientation:{type:e.type.select,fieldId:"orientation"},contentHeight:{type:e.type.text,fieldId:"content_height"},marginLeft:{type:e.type.text,fieldId:"page_margin_left"},marginTop:{type:e.type.text,fieldId:"page_margin_top"},marginRight:{type:e.type.text,fieldId:"page_margin_right"},marginBottom:{type:e.type.text,fieldId:"page_margin_bottom"},header:{type:e.type.checkbox,fieldId:"header"},headerSize:{type:e.type.text,fieldId:"header_size"},headerDisplay:{type:e.type.select,fieldId:"header_display"},footer:{type:e.type.checkbox,fieldId:"footer"},footerSize:{type:e.type.text,fieldId:"footer_size"},footerDisplay:{type:e.type.select,fieldId:"footer_display"},patternLocale:{type:e.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:e.type.select,fieldId:"pattern_currency_symbol"}},u}return T(x,[{key:"render",value:function(a){var u=this,l=t("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),y=t("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});d(y,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var B=t("div",{class:"rbroFormField"}),U=t("select",{id:"rbro_document_properties_page_format"});U.append(t("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),U.append(t("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),U.append(t("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),U.append(t("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),U.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"pageFormat",U.value,e.type.select,u.rb);u.rb.executeCommand(Fe)}}),B.append(U);var te=t("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),ie=t("input",{id:"rbro_document_properties_page_width",maxlength:"5"});ie.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"pageWidth",ie.value,e.type.select,u.rb);u.rb.executeCommand(Fe)}}),E(ie),te.append(ie);var ye=t("input",{id:"rbro_document_properties_page_height",maxlength:"5"});ye.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"pageHeight",ye.value,e.type.text,u.rb);u.rb.executeCommand(Fe)}}),E(ye),te.append(ye);var be=t("select",{id:"rbro_document_properties_unit"});be.append(t("option",{value:"mm"},"mm")),be.append(t("option",{value:"inch"},"inch")),te.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"unit",be.value,e.type.select,u.rb);u.rb.executeCommand(Fe)}}),te.append(be),B.append(te),B.append(t("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),y.append(B),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),B=t("div",{class:"rbroFormField"});var _e=t("select",{id:"rbro_document_properties_orientation"});_e.append(t("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),_e.append(t("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),_e.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"orientation",_e.value,e.type.select,u.rb);u.rb.executeCommand(Fe)}}),B.append(_e),y.append(B),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),B=t("div",{class:"rbroFormField"});var Se=t("input",{id:"rbro_document_properties_content_height"});Se.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"contentHeight",Se.value,e.type.text,u.rb);u.rb.executeCommand(Fe)}}),E(Se),B.append(Se),B.append(t("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),y.append(B),l.append(y),this.renderMarginControls(l),this.renderHeaderFooter(l),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),B=t("div",{class:"rbroFormField"});var Pe=t("select",{id:"rbro_document_properties_pattern_locale"});Pe.append(t("option",{value:"de"},"de")),Pe.append(t("option",{value:"en"},"en")),Pe.append(t("option",{value:"es"},"es")),Pe.append(t("option",{value:"fr"},"fr")),Pe.append(t("option",{value:"it"},"it")),Pe.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"patternLocale",Pe.value,e.type.select,u.rb);u.rb.executeCommand(Fe)}}),B.append(Pe),y.append(B),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),B=t("div",{class:"rbroFormField"});var Re=t("input",{id:"rbro_document_properties_pattern_currency_symbol"});Re.addEventListener("change",function(Ne){var je=u.rb.getSelectedObject();if(je!==null){var Fe=new e(je.getId(),"patternCurrencySymbol",Re.value,e.type.text,u.rb);u.rb.executeCommand(Fe)}}),B.append(Re),y.append(B),l.append(y),document.getElementById("rbro_detail_panel").append(l)}},{key:"renderMarginControls",value:function(a){var u=this,l=t("div",{class:"rbroFormRow"});d(l,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var y=t("div",{class:"rbroFormField rbroSmallInput"}),B=t("div",{class:"rbroColumnCenter"}),U=t("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop")});U.addEventListener("change",function(Se){var Pe=u.rb.getSelectedObject();if(Pe!==null){var Re=new e(Pe.getId(),"marginTop",U.value,e.type.text,u.rb);u.rb.executeCommand(Re)}}),E(U),B.append(U),y.append(B);var te=t("div",{class:"rbroSplit"}),ie=t("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft")});ie.addEventListener("change",function(Se){var Pe=u.rb.getSelectedObject();if(Pe!==null){var Re=new e(Pe.getId(),"marginLeft",ie.value,e.type.text,u.rb);u.rb.executeCommand(Re)}}),E(ie),te.append(ie);var ye=t("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight")});ye.addEventListener("change",function(Se){var Pe=u.rb.getSelectedObject();if(Pe!==null){var Re=new e(Pe.getId(),"marginRight",ye.value,e.type.text,u.rb);u.rb.executeCommand(Re)}}),E(ye),te.append(ye),y.append(te);var be=t("div",{class:"rbroColumnCenter"}),_e=t("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom")});_e.addEventListener("change",function(Se){var Pe=u.rb.getSelectedObject();if(Pe!==null){var Re=new e(Pe.getId(),"marginBottom",_e.value,e.type.text,u.rb);u.rb.executeCommand(Re)}}),E(_e),be.append(_e),y.append(be),l.append(y),a.append(l)}},{key:"renderHeaderFooter",value:function(a){var u=this,l=t("div",{class:"rbroFormRowContainer"}),y=t("div",{class:"rbroFormRow"});d(y,this.rb.getLabel("header"),"rbro_document_properties_header");var B=t("div",{class:"rbroFormField"}),U=t("label",{class:"switch-light switch-material"}),te=t("input",{id:"rbro_document_properties_header",type:"checkbox"});te.addEventListener("change",function($e){var We=u.rb.getSelectedObject();if(We!==null){var Je=new e(We.getId(),"header",te.checked,e.type.checkbox,u.rb);u.rb.executeCommand(Je)}}),U.append(te);var ie=t("span");ie.append(t("span")),ie.append(t("span")),ie.append(t("a")),U.append(ie),B.append(U),y.append(B),l.append(y);var ye=t("div",{id:"rbro_document_properties_header_settings"});d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),B=t("div",{class:"rbroFormField"});var be=t("input",{id:"rbro_document_properties_header_size"});be.addEventListener("change",function($e){var We=u.rb.getSelectedObject();if(We!==null){var Je=new e(We.getId(),"headerSize",be.value,e.type.text,u.rb);u.rb.executeCommand(Je)}}),E(be),B.append(be),y.append(B),ye.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),B=t("div",{class:"rbroFormField"});var _e=t("select",{id:"rbro_document_properties_header_display"});_e.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),_e.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),_e.addEventListener("change",function($e){var We=u.rb.getSelectedObject();if(We!==null){var Je=new e(We.getId(),"headerDisplay",_e.value,e.type.select,u.rb);u.rb.executeCommand(Je)}}),B.append(_e),y.append(B),ye.append(y),l.append(ye),a.append(l);var Se=t("div",{class:"rbroFormRowContainer"});d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),B=t("div",{class:"rbroFormField"});var Pe=t("label",{class:"switch-light switch-material"}),Re=t("input",{id:"rbro_document_properties_footer",type:"checkbox"});Re.addEventListener("change",function($e){var We=u.rb.getSelectedObject();if(We!==null){var Je=new e(We.getId(),"footer",Re.checked,e.type.checkbox,u.rb);u.rb.executeCommand(Je)}}),Pe.append(Re);var Ne=t("span");Ne.append(t("span")),Ne.append(t("span")),Ne.append(t("a")),Pe.append(Ne),B.append(Pe),y.append(B),Se.append(y);var je=t("div",{id:"rbro_document_properties_footer_settings"});d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),B=t("div",{class:"rbroFormField"});var Fe=t("input",{id:"rbro_document_properties_footer_size"});Fe.addEventListener("change",function($e){var We=u.rb.getSelectedObject();if(We!==null){var Je=new e(We.getId(),"footerSize",Fe.value,e.type.text,u.rb);u.rb.executeCommand(Je)}}),E(Fe),B.append(Fe),y.append(B),je.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),B=t("div",{class:"rbroFormField"});var Xe=t("select",{id:"rbro_document_properties_footer_display"});Xe.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Xe.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Xe.addEventListener("change",function($e){var We=u.rb.getSelectedObject();if(We!==null){var Je=new e(We.getId(),"footerDisplay",Xe.value,e.type.select,u.rb);u.rb.executeCommand(Je)}}),B.append(Xe),y.append(B),je.append(y),Se.append(je),a.append(Se)}},{key:"updateDisplay",value:function(a){var u=this.rb.getSelectedObject();if(u!==null&&u instanceof Kt){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],B=u.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,B,!1)}x.updateVisibileRows(u,a)}}}],[{key:"updateVisibileRows",value:function(a,u){u!==null&&u!=="pageFormat"||(a.getValue("pageFormat")===Kt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="block":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),u!==null&&u!=="header"||(a.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),u!==null&&u!=="footer"||(a.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),x}(Ir),pn=function(){function M(P,c){$(this,M),this.rootElement=P,this.rb=c}return T(M,[{key:"render",value:function(){var c=t("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});c.append(t("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(c)}},{key:"destroy",value:function(){}},{key:"show",value:function(c){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(c,_){}},{key:"updateErrors",value:function(){}}]),M}();function Jr(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return Qr(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Qr(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function Qr(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var fn=function(M){g(x,M);var P,c,_=(P=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(P);if(c){var u=f(this).constructor;v=Reflect.construct(a,arguments,u)}else v=a.apply(this,arguments);return h(this,v)});function x(v,a){var u;return $(this,x),(u=_.call(this,"rbro_parameter",de,v,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},type:{type:e.type.select,fieldId:"type"},arrayItemType:{type:e.type.select,fieldId:"array_item_type"},eval:{type:e.type.checkbox,fieldId:"eval"},nullable:{type:e.type.checkbox,fieldId:"nullable"},pattern:{type:e.type.text,fieldId:"pattern"},expression:{type:e.type.text,fieldId:"expression"},testData:{type:e.type.text,fieldId:"test_data"},testDataBoolean:{type:e.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:e.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:e.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1}},u.parameterTypeOptions=[],u}return T(x,[{key:"render",value:function(a){var u=this,l=t("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),y=t("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});d(y,this.rb.getLabel("parameterName"),"rbro_parameter_name");var B=t("div",{class:"rbroFormField"}),U=t("input",{id:"rbro_parameter_name"});U.addEventListener("input",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=U.value;if(Ge!==ze.getName()){var Ze=new Z("Rename parameter"),Ae=new e(ze.getId(),"name",Ge,e.type.text,u.rb);Ze.addCommand(Ae);for(var ot=[],Qe=null,gt=ze.getParent();gt!==null;)Qe=gt,ot.unshift(Qe),gt=Qe.getParent();ze.addUpdateTestDataCmdForChangedParameterName(Ge,ot,Ze);var ft=null;if((ft=Qe!==null?Qe.getPanelItem():u.rb.getMainPanel().getParametersItem())!==null&&ft.getChildByNameExclude(ze.getName(),ze)===null&&ft.getChildByNameExclude(Ge,ze)===null){var st,Tt=Jr(u.rb.getDocElements(!0));try{for(Tt.s();!(st=Tt.n()).done;)st.value.addCommandsForChangedParameterName(ze,Ge,Ze)}catch(_t){Tt.e(_t)}finally{Tt.f()}var Ct,mt=Jr(u.rb.getParameters());try{for(mt.s();!(Ct=mt.n()).done;)Ct.value.addCommandsForChangedParameterName(ze,Ge,Ze)}catch(_t){mt.e(_t)}finally{mt.f()}}u.rb.executeCommand(Ze)}}}),B.append(U),B.append(t("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),y.append(B),l.append(y),d(y=t("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),B=t("div",{class:"rbroFormField"});var te=t("select",{id:"rbro_parameter_type"});if(te.addEventListener("change",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new Z("Set parameter type"),Ze=te.value,Ae=new e(ze.getId(),"type",Ze,e.type.select,u.rb);Ge.addCommand(Ae),ze.addCommandsForChangedParameterType(Ze,Ge),u.rb.executeCommand(Ge)}}),B.append(te),B.append(t("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var ie=t("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});ie.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),B.append(ie)}y.append(B),l.append(y),d(y=t("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),B=t("div",{class:"rbroFormField"});var ye=t("select",{id:"rbro_parameter_array_item_type"});if(ye.append(t("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),ye.append(t("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),ye.append(t("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),ye.append(t("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),ye.addEventListener("change",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new e(ze.getId(),"arrayItemType",ye.value,e.type.select,u.rb);u.rb.executeCommand(Ge)}}),B.append(ye),B.append(t("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),y.append(B),l.append(y),this.rb.getProperty("adminMode")){d(y=t("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),B=t("div",{class:"rbroFormField"});var be=t("input",{id:"rbro_parameter_eval",type:"checkbox"});be.addEventListener("change",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new e(ze.getId(),"eval",be.checked,e.type.checkbox,u.rb);u.rb.executeCommand(Ge)}}),B.append(be),y.append(B),l.append(y)}d(y=t("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),B=t("div",{class:"rbroFormField"});var _e=t("input",{id:"rbro_parameter_nullable",type:"checkbox"});_e.addEventListener("change",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new e(ze.getId(),"nullable",_e.checked,e.type.checkbox,u.rb);u.rb.executeCommand(Ge)}}),B.append(_e),y.append(B),l.append(y),d(y=t("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),B=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var Se=t("input",{id:"rbro_parameter_pattern"});Se.addEventListener("input",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new e(ze.getId(),"pattern",Se.value,e.type.text,u.rb);u.rb.executeCommand(Ge)}}),B.append(Se);var Pe=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});Pe.addEventListener("click",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge,Ze=ze.getValue("type");Ge=(Ze===de.type.simpleArray?ze.getValue("arrayItemType"):Ze)===de.type.date?u.rb.getProperty("patternDates"):u.rb.getProperty("patternNumbers"),u.rb.getPopupWindow().show(Ge,ze.getId(),"rbro_parameter_pattern","pattern",jt.type.pattern)}}),B.append(Pe),B.append(t("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),y.append(B),l.append(y),d(y=t("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),B=t("div",{class:"rbroFormField rbroSplit rbroSelector"});var Re=t("textarea",{id:"rbro_parameter_expression",rows:"1"});Re.addEventListener("input",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new e(ze.getId(),"expression",Re.value,e.type.text,u.rb);u.rb.executeCommand(Ge)}}),Lt(Re),B.append(Re),(Pe=t("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(it){var ze,Ge,Ze=u.rb.getSelectedObject();Ze!==null&&(Ze.getValue("type")===de.type.sum||Ze.getValue("type")===de.type.average?(ze=u.rb.getArrayFieldParameterItems([de.type.number]),Ge=jt.type.parameterSet):(ze=u.rb.getParameterItems(Ze),Ge=jt.type.parameterAppend),u.rb.getPopupWindow().show(ze,Ze.getId(),"rbro_parameter_expression","expression",Ge))}),B.append(Pe),B.append(t("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),y.append(B),l.append(y);var Ne=t("div",{id:"rbro_parameter_test_data_container"});d(y=t("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),B=t("div",{class:"rbroFormField"});var je=t("input",{id:"rbro_parameter_test_data"});je.addEventListener("change",function(it){var ze=u.rb.getSelectedObject();if(ze!==null){var Ge=new e(ze.getId(),"testData",je.value,e.type.text,u.rb);u.rb.executeCommand(Ge)}}),B.append(je),B.append(t("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),y.append(B),Ne.append(y),d(y=t("div",{id:"rbro_parameter_edit_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_edit_test_data_row"),B=t("div",{class:"rbroFormField"});var Fe=t("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});Fe.append(t("span",{},this.rb.getLabel("parameterEditTestData"))),Fe.append(t("span",{class:"rbroIcon-edit"})),Fe.addEventListener("click",function(it){var ze=u.rb.getSelectedObject();ze!==null&&(ze.getParameterFields().length>0?u.rb.getPopupWindow().show(null,ze.getId(),"","testData",jt.type.testData,null,ze):alert(u.rb.getLabel("parameterEditTestDataNoFields")))}),B.append(Fe),B.append(t("div",{id:"rbro_parameter_edit_test_data_error",class:"rbroErrorMessage"})),y.append(B),Ne.append(y),d(y=t("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),B=t("div",{class:"rbroFormField"});var Xe=t("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Xe.addEventListener("change",function(it){var ze=Xe.checked,Ge=rb.getSelectedObject();if(Ge!==null){var Ze=new e(Ge.getId(),"testDataBoolean",ze,e.type.checkbox,u.rb);u.rb.executeCommand(Ze)}}),B.append(Xe),y.append(B),Ne.append(y),d(y=t("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),B=t("div",{class:"rbroFormField"});var $e=t("input",{id:"rbro_parameter_test_data_image",type:"file"});$e.addEventListener("change",function(it){var ze=it.target.files;if(ze&&ze[0]){var Ge=new FileReader,Ze=u.rb,Ae=ze[0].name;Ge.onload=function(ot){var Qe=new Z("Load image",Ze),gt=Ze.getSelectedObject();gt!==null&&(Qe.addSelection(gt.getId()),Qe.addCommand(new e(gt.getId(),"testDataImage",ot.target.result,e.type.file,Ze)),Qe.addCommand(new e(gt.getId(),"testDataImageFilename",Ae,e.type.filename,Ze))),Qe.isEmpty()||Ze.executeCommand(Qe)},Ge.onerror=function(ot){alert(Ze.getLabel("docElementLoadImageErrorMsg"))},Ge.readAsDataURL(ze[0])}}),B.append($e);var We=t("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});We.append(t("div",{id:"rbro_parameter_test_data_image_filename"}));var Je=t("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Je.addEventListener("click",function(it){$e.value="";var ze=new Z("Clear image",u.rb),Ge=rb.getSelectedObject();Ge!==null&&(ze.addSelection(Ge.getId()),ze.addCommand(new e(Ge.getId(),"testDataImage","",e.type.file,u.rb)),ze.addCommand(new e(Ge.getId(),"testDataImageFilename","",e.type.filename,u.rb))),ze.isEmpty()||u.rb.executeCommand(ze)}),We.append(Je),B.append(We),B.append(t("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),B.append(t("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),y.append(B),Ne.append(y),l.append(Ne),document.getElementById("rbro_detail_panel").append(l)}},{key:"updateVisibileRows",value:function(a,u){var l=a.getValue("type"),y=l===de.type.simpleArray?a.getValue("arrayItemType"):l,B=a.getValue("showOnlyNameType"),U=null;if(a.getPanelItem()!==null&&a.getPanelItem().getParent().getData()instanceof de&&(U=a.getPanelItem().getParent().getData()),u===null){var te=a.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!te,document.getElementById("rbro_parameter_type").disabled=!te,document.getElementById("rbro_parameter_eval").disabled=!te,document.getElementById("rbro_parameter_nullable").disabled=!te,document.getElementById("rbro_parameter_pattern").disabled=!te,document.getElementById("rbro_parameter_expression").disabled=!te,te?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(u!==null&&u!=="type"||(l===de.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",l===de.type.string||l===de.type.number||l===de.type.boolean||l===de.type.date||l===de.type.array||l===de.type.simpleArray||l===de.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),u!==null&&u!=="type"&&u!=="arrayItemType"||(y!==de.type.number&&y!==de.type.date&&y!==de.type.sum&&y!==de.type.average||B?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),u!==null&&u!=="type"&&u!=="eval"||(l===de.type.sum||l===de.type.average||B?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_row").style.display="none"):(l===de.type.image||l===de.type.array||l===de.type.simpleArray||l===de.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),U!==null||a.getValue("eval")&&(l===de.type.string||l===de.type.number||l===de.type.boolean||l===de.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),l===de.type.array||l===de.type.simpleArray||l===de.type.map?document.getElementById("rbro_parameter_edit_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data_row").style.display="none",l===de.type.string||l===de.type.number||l===de.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",l===de.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",l===de.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(U===null||l!==de.type.map&&l!==de.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!a.getValue("eval")||l!==de.type.string&&l!==de.type.number&&l!==de.type.boolean&&l!==de.type.date)&&l!==de.type.sum&&l!==de.type.average||B?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),u===null){var ie=[],ye=U!==null&&U.getValue("type")===de.type.array;ie.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),ie.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),ie.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),ie.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),ie.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),(U===null||this.rb.getProperty("showPlusFeatures"))&&ie.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),ie.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(U===null||this.rb.getProperty("showPlusFeatures"))&&ie.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),ye||(ie.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),ie.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var be=!1;if(ie.length!==this.parameterTypeOptions.length)be=!0;else for(var _e=0;_e<ie.length;_e++)if(ie[_e].value!==this.parameterTypeOptions[_e].value){be=!0;break}if(be){var Se=document.getElementById("rbro_parameter_type");s(Se);for(var Pe=0;Pe<ie.length;Pe++){var Re=ie[Pe];Se.append(t("option",{value:Re.value},Re.label))}this.parameterTypeOptions=ie}}}},{key:"updateDisplay",value:function(a){var u=this.rb.getSelectedObject();if(u!==null&&u instanceof de){for(var l in this.updateVisibileRows(u,a),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],B=u.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,B,!1)}a!==null&&a!=="type"||(u.getValue("type")===de.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),x.updateAutosizeInputs(a)}}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="expression"||Lt.update(document.getElementById("rbro_parameter_expression"))}}]),x}(Ir);function en(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return tn(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?tn(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function tn(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var mn=function(){function M(P,c,_,x,v,a,u){$(this,M),this.rootElement=P,this.rb=u,this.headerItem=new fe("band",null,c,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},u),this.documentItem=new fe("band",null,_,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},u),this.footerItem=new fe("band",null,x,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},u),this.parametersItem=new fe("parameter",null,v,{hasChildren:!0,showAdd:u.getProperty("adminMode"),showDelete:!1,hasDetails:!1},u),this.stylesItem=new fe("style",null,a,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},u),this.documentPropertiesItem=new fe("documentProperties",null,u.getDocumentProperties(),{showDelete:!1,hasDetails:!0},u),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,c.setPanelItem(this.headerItem),_.setPanelItem(this.documentItem),x.setPanelItem(this.footerItem),v.setPanelItem(this.parametersItem),a.setPanelItem(this.stylesItem)}return T(M,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(c){for(;c!==null;){if(c.getData()instanceof r)return c.getData();c=c.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var c=this,_=document.getElementById("rbro_main_panel_list");this.appendChildren(_,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(x){c.dragMainPanelSizer=!0,c.dragMainPanelSizerStartX=x.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(c,_){var x,v=en(_);try{for(v.s();!(x=v.n()).done;){var a=x.value;c.append(a.getElement());var u=a.getChildren();u.length>0&&this.appendChildren(c,u)}}catch(l){v.e(l)}finally{v.f()}}},{key:"processMouseMove",value:function(c){if(this.dragMainPanelSizer){var _=this.mainPanelWidth+(c.pageX-this.dragMainPanelSizerStartX);return _=this.checkMainPanelWidth(_),this.updateMainPanelWidth(_),!0}return!1}},{key:"mouseUp",value:function(c){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(c.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var c=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(c+=92),c}},{key:"updateMainPanelWidth",value:function(c){document.getElementById("rbro_main_panel").style.width=c+"px",document.getElementById("rbro_main_panel_sizer").style.left=c+"px",document.getElementById("rbro_detail_panel").style.left=c+this.mainPanelSizerWidth+"px";var _=c+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(_+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=c+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(_,"px)")}},{key:"checkMainPanelWidth",value:function(c){return c<150?150:c>500?500:c}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var c,_=en(this.items);try{for(_.s();!(c=_.n()).done;)c.value.clear()}catch(x){_.e(x)}finally{_.f()}}}]),M}(),yn=function(){function M(P,c){$(this,M),this.rootElement=P,this.rb=c}return T(M,[{key:"render",value:function(){var c,_=this,x=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",v=document.getElementById("rbro_menu_panel"),a=t("div",{class:"rbroToolButtonContainer"});(c=t("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(t("span",{class:"rbroIcon-save"})),c.append(t("span",{class:x},this.rb.getLabel("menuSave"))),c.addEventListener("click",function(Ae){_.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(c.style.display="none"),a.append(c),this.rb.getProperty("menuShowDebug")&&((c=t("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(t("span",{class:"rbroIcon-console"})),c.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),c.addEventListener("click",function(Ae){console.log(JSON.stringify(_.rb.getReport()))}),a.append(c),(c=t("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(t("span",{class:"rbroIcon-insert-report"})),c.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),c.addEventListener("click",function(Ae){var ot=prompt("Paste report template here to load report");if(ot)try{var Qe=JSON.parse(ot);p(Qe.docElements)==="object"&&p(Qe.parameters)==="object"&&p(Qe.styles)==="object"&&p(Qe.documentProperties)==="object"?(_.rb.load(Qe),_.rb.setModified(!0)):alert("Invalid report template data")}catch(gt){alert("Invalid report template data")}}),a.append(c)),(c=t("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(t("span",{class:"rbroIcon-undo"})),c.append(t("span",{class:x},this.rb.getLabel("menuUndo"))),c.addEventListener("click",function(Ae){_.rb.undoCommand()}),a.append(c),(c=t("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(t("span",{class:"rbroIcon-redo"})),c.append(t("span",{class:x},this.rb.getLabel("menuRedo"))),c.addEventListener("click",function(Ae){_.rb.redoCommand()}),a.append(c),(c=t("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(t("span",{class:"rbroIcon-play"})),c.append(t("span",{class:x},this.rb.getLabel("menuPreview"))),c.addEventListener("click",function(Ae){_.rb.preview()}),a.append(c),v.append(a);var u,l=t("div",{class:"rbroElementButtonContainer"}),y=t("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(u=t("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(t("span",{class:"rbroIcon-text"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.text,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.text,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(t("span",{class:"rbroIcon-line"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.line,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.line,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(t("span",{class:"rbroIcon-image"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.image,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.image,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(t("span",{class:"rbroIcon-barcode"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.barCode,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.barCode,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(t("span",{class:"rbroIcon-table"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.table,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.table,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(t("span",{class:"rbroIcon-frame"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.frame,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.frame,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(t("span",{class:"rbroIcon-section"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.section,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.section,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),(u=t("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(t("span",{class:"rbroIcon-page-break"})),u.addEventListener("dragstart",function(Ae){Ae.dataTransfer.setData("text/plain",""),Ae.dataTransfer.effectAllowed="copy",_.rb.startBrowserDrag("docElement",z.type.pageBreak,""),Ae.stopPropagation()}),u.addEventListener("touchstart",function(Ae){_.rb.startBrowserDrag("docElement",z.type.pageBreak,""),Ae.preventDefault()}),u.addEventListener("touchmove",function(Ae){_.rb.getDocument().processDragover(Ae)}),u.addEventListener("touchend",function(Ae){_.rb.getDocument().processDrop(Ae)}),y.append(u),l.append(y);var B=t("div",{class:"rbroActionButtons"}),U=t("div",{id:"rbro_menu_align",style:"display: none;"}),te=t("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});te.addEventListener("click",function(Ae){_.rb.alignSelections(R.alignment.left)}),U.append(te);var ie=t("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});ie.addEventListener("click",function(Ae){_.rb.alignSelections(R.alignment.center)}),U.append(ie);var ye=t("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});ye.addEventListener("click",function(Ae){_.rb.alignSelections(R.alignment.right)}),U.append(ye),B.append(U);var be=t("div",{id:"rbro_menu_valign",style:"display: none;"}),_e=t("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});_e.addEventListener("click",function(Ae){_.rb.alignSelections(R.alignment.top)}),be.append(_e);var Se=t("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});Se.addEventListener("click",function(Ae){_.rb.alignSelections(R.alignment.middle)}),be.append(Se);var Pe=t("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});Pe.addEventListener("click",function(Ae){_.rb.alignSelections(R.alignment.bottom)}),be.append(Pe),B.append(be);var Re=t("div",{id:"rbro_menu_column_actions",style:"display: none;"}),Ne=t("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});Ne.addEventListener("click",function(Ae){var ot=_.rb.getSelectedObject();ot instanceof Ot&&ot.insertColumn(!0)}),Re.append(Ne);var je=t("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});je.addEventListener("click",function(Ae){var ot=_.rb.getSelectedObject();ot instanceof Ot&&ot.insertColumn(!1)}),Re.append(je);var Fe=t("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Fe.addEventListener("click",function(Ae){var ot=_.rb.getSelectedObject();ot instanceof Ot&&ot.deleteColumn()}),Re.append(Fe),B.append(Re);var Xe=t("div",{id:"rbro_menu_row_actions",style:"display: none;"}),$e=t("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});$e.addEventListener("click",function(Ae){var ot=_.rb.getSelectedObject();ot instanceof Ot&&ot.getParent()!==null&&ot.getParent().insertRow(!0)}),Xe.append($e);var We=t("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});We.addEventListener("click",function(Ae){var ot=_.rb.getSelectedObject();ot instanceof Ot&&ot.getParent()!==null&&ot.getParent().insertRow(!1)}),Xe.append(We);var Je=t("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Je.addEventListener("click",function(Ae){var ot=_.rb.getSelectedObject();ot instanceof Ot&&ot.getParent()!==null&&ot.getParent().deleteRow()}),Xe.append(Je),B.append(Xe);var it=t("div",{id:"rbro_menu_zoom",class:"rbroZoom"});it.append(t("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var ze=t("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});ze.addEventListener("click",function(Ae){_.rb.getDocument().zoomIn()}),it.append(ze);var Ge=t("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});Ge.addEventListener("click",function(Ae){_.rb.getDocument().zoomOut()}),it.append(Ge),B.append(it);var Ze=t("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});Ze.addEventListener("click",function(Ae){Ze.classList.toggle("rbroButtonActive"),_.rb.getDocument().toggleGrid()}),B.append(Ze),l.append(B),v.append(l)}},{key:"updateZoomButtons",value:function(c,_){c?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),_?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),M}();function at(M,P){var c=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!c){if(Array.isArray(M)||(c=function(l,y){if(l){if(typeof l=="string")return rn(l,y);var B=Object.prototype.toString.call(l).slice(8,-1);return B==="Object"&&l.constructor&&(B=l.constructor.name),B==="Map"||B==="Set"?Array.from(l):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?rn(l,y):void 0}}(M))||P&&M&&typeof M.length=="number"){c&&(M=c);var _=0,x=function(){};return{s:x,n:function(){return _>=M.length?{done:!0}:{done:!1,value:M[_++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,u=!1;return{s:function(){c=c.call(M)},n:function(){var y=c.next();return a=y.done,y},e:function(y){u=!0,v=y},f:function(){try{a||c.return==null||c.return()}finally{if(u)throw v}}}}function rn(M,P){(P==null||P>M.length)&&(P=M.length);for(var c=0,_=new Array(P);c<P;c++)_[c]=M[c];return _}var gn=function(){function M(P,c){var _=this;if($(this,M),this.element=P,this.nextId=1,this.locale=sn[c&&c.localeKey||"en_us"],this.properties={additionalFonts:[],adminMode:!0,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:R.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:R.font.courier},{name:"Helvetica",value:R.font.helvetica},{name:"Times New Roman",value:R.font.times}],highlightUnusedParameters:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},c){for(var x in c)this.properties.hasOwnProperty(x)&&(this.properties[x]=c[x]);Object.assign(this.locale,c.locale||{})}this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var v,a=!1,u=at(this.properties.fonts);try{for(u.s();!(v=u.n()).done;){var l=v.value;if(this.properties.defaultFont===l.value){a=!0;break}}}catch(y){u.e(y)}finally{u.f()}if(a||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new ir(P,this.properties.showGrid,this),this.popupWindow=new jt(P,this),this.docElements=[],this.headerBand=new J(J.bandType.header,!1,"","",this),this.contentBand=new J(J.bandType.content,!1,"","",this),this.footerBand=new J(J.bandType.footer,!1,"","",this),this.parameterContainer=new r("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new r("0_styles",this.getLabel("styles"),this),this.documentProperties=new Kt(this),this.clipboardElements=[],this.mainPanel=new mn(P,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new yn(P,this),this.activeDetailPanel="none",this.detailPanels={none:new pn(P,this),docElement:new dn(P,this),parameter:new fn(P,this),style:new wr(P,this),documentProperties:new hn(P,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(y){if(!_.detailPanels[_.activeDetailPanel].isKeyEventDisabled()){if(y.metaKey||y.ctrlKey)switch(y.which){case 67:if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)){var B,U,te,ie=!1,ye={},be=at(_.selections);try{for(be.s();!(te=be.n()).done;){var _e=te.value,Se=_.getDataObject(_e);if((Se instanceof z&&!(Se instanceof Ot)||Se instanceof de&&!Se.showOnlyNameType||Se instanceof R)&&(ie||(_.clipboardElements=[],ie=!0),!(Se.getId()in ye)))if(ye[Se.getId()]=!0,B=Se.toJS(),_.clipboardElements.push(B),Se instanceof z){if(B.baseClass="DocElement",Se instanceof oe){var Pe=[];Se.appendContainerChildren(Pe);for(var Re=0,Ne=Pe;Re<Ne.length;Re++){var je=Ne[Re];if(je.getId()in ye){for(U=0;U<_.clipboardElements.length;U++)if(je.getId()===_.clipboardElements[U].id){_.clipboardElements.splice(U,1);break}}else ye[je.getId()]=!0;(B=je.toJS()).baseClass="DocElement",_.clipboardElements.push(B)}}}else Se instanceof de?B.baseClass="Parameter":Se instanceof R&&(B.baseClass="Style")}}catch(Rt){be.e(Rt)}finally{be.f()}y.preventDefault()}break;case 86:if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)){var Fe,Xe,$e=new Z("Paste from clipboard",_),We={},Je=[],it=at(_.clipboardElements);try{for(it.s();!(Xe=it.n()).done;){var ze=Xe.value,Ge=Object.assign({},ze);if(Ge.id=_.getUniqueId(),Je.push(Ge),Ge.baseClass==="DocElement"){if(Ge.linkedContainerId){var Ze=_.getUniqueId();We[Ge.linkedContainerId]=Ze,Ge.linkedContainerId=Ze}Ge.elementType===z.type.table&&Qt.removeIds(Ge)}}}catch(Rt){it.e(Rt)}finally{it.f()}for(var Ae=0,ot=Je;Ae<ot.length;Ae++){var Qe=ot[Ae];if(Qe.baseClass==="DocElement"){if(Qe.containerId in We)Qe.containerId=We[Qe.containerId];else{var gt=0,ft=_.getDataObject(Qe.containerId);if(ft!==null){var st=ft.getOffset(),Tt=ft.getContentSize(),Ct=_.getDocument().getContentScrollPosY();Ct>st.y&&Ct+Qe.height<st.y+Tt.height&&(gt=Ct-st.y)}Qe.x=0,Qe.y=gt}Fe=new Pt(!0,Qe.elementType,Qe,Qe.id,Qe.containerId,-1,_),$e.addCommand(Fe)}else if(Qe.baseClass==="Parameter"||Qe.baseClass==="Style"){var mt=_.getLabel("nameCopySuffix"),_t=Qe.name+" (".concat(mt,")"),St=Qe.baseClass==="Parameter"?_.parameterContainer.getPanelItem():_.styleContainer.getPanelItem();if(St!==null&&St.getChildByName(_t))for(var bt=2;bt<=99&&(_t=Qe.name+" (".concat(mt," ").concat(bt,")"),St.getChildByName(_t)!==null);bt++);Qe.name=_t,Qe.baseClass==="Parameter"?(de.removeIds(Qe),Fe=new he(!0,Qe,Qe.id,_.parameterContainer.getId(),-1,_),$e.addCommand(Fe)):Qe.baseClass==="Style"&&(Fe=new K(!0,Qe,Qe.id,_.styleContainer.getId(),-1,_),$e.addCommand(Fe))}}if(!$e.isEmpty()){_.executeCommand($e);var ct,zt=!0,Nt=at(Je);try{for(Nt.s();!(ct=Nt.n()).done;){var Mt=ct.value;_.selectObject(Mt.id,zt),zt=!1}}catch(Rt){Nt.e(Rt)}finally{Nt.f()}}y.preventDefault()}break;case 89:_.redoCommand(),y.preventDefault();break;case 90:_.undoCommand(),y.preventDefault()}else if(y.which===27)_.popupWindow.hide();else if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement))switch(y.which){case 8:case 46:var wt,Zt=new Z("Delete",_),Wt=at(_.selections);try{for(Wt.s();!(wt=Wt.n()).done;){var nr=wt.value,er=_.getDataObject(nr);er instanceof z&&er.addCommandsForDelete(Zt)}}catch(Rt){Wt.e(Rt)}finally{Wt.f()}Zt.isEmpty()||_.executeCommand(Zt),y.preventDefault();break;case 37:case 38:case 39:case 40:var Gt,Dt=new Z("Move element",_),or=y.which===37||y.which===39?"x":"y",Yt=(_.getDocumentProperties().getContentSize().width,at(_.selections));try{for(Yt.s();!(Gt=Yt.n()).done;){var tr=Gt.value,Et=_.getDataObject(tr);if(Et instanceof z&&Et.hasProperty(or)){var Vt=null;if(y.which===37)Et.getValue("xVal")>0&&(Vt=Et.getValue("xVal")-1);else if(y.which===38)Et.getValue("yVal")>0&&(Vt=Et.getValue("yVal")-1);else if(y.which===39){var ar=Et.getContainerContentSize();Et.getValue("xVal")+Et.getValue("widthVal")<ar.width&&(Vt=Et.getValue("xVal")+1)}else if(y.which===40){var Xt=Et.getContainerContentSize();Et.getValue("yVal")+Et.getValue("heightVal")<Xt.height&&(Vt=Et.getValue("yVal")+1)}if(Vt!==null){var $t=new e(tr,or,Vt,e.type.text,_);Dt.addCommand($t)}}}}catch(Rt){Yt.e(Rt)}finally{Yt.f()}Dt.isEmpty()||_.executeCommand(Dt),y.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return T(M,[{key:"validateProperties",value:function(c){if(!Array.isArray(c.colors))return console.error('"colors" property must be an array'),!1;var _,x=!1,v=at(c.colors);try{for(v.s();!(_=v.n()).done;){var a=_.value;if(!a||!Y(a))return console.error('"colors" property contains invalid color value'),!1;a==="#000000"&&(x=!0)}}catch(B){v.e(B)}finally{v.f()}if(!x)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(c.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var u,l=at(c.fontSizes);try{for(l.s();!(u=l.n()).done;){var y=u.value;if(typeof y!="number"||y<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(B){l.e(B)}finally{l.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var c=0,_=[{name:"page_count",type:de.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:de.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];c<_.length;c++){var x=_[c],v=new de(this.getUniqueId(),x,this),a=this.mainPanel.getParametersItem(),u=new fe("parameter",a,v,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);v.setPanelItem(u),a.appendChild(u),v.setup(),this.addParameter(v)}}},{key:"render",value:function(){var c=this;s(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(t("div",{class:"rbroLogo"})),this.element.append(t("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var _=t("div",{class:"rbroContainer"}),x=t("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var v in x.append(t("ul",{id:"rbro_main_panel_list"})),_.append(x),_.append(t("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),_.append(t("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),_.append(t("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(_),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[v].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(a){c.mainPanel.mouseUp(a),c.document.mouseUp(a),c.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(a){c.document.windowResized()}),this.element.addEventListener("dragstart",function(a){a.preventDefault()}),this.element.addEventListener("mousemove",function(a){c.mainPanel.processMouseMove(a)||c.document.processMouseMove(a)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(c){return c in this.locale?this.locale[c]:c}},{key:"getProperty",value:function(c){return this.properties[c]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var c=[];if(this.properties.patternNumbers.length>0){c.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var _,x=at(this.properties.patternNumbers);try{for(x.s();!(_=x.n()).done;){var v=_.value;c.push(v)}}catch(y){x.e(y)}finally{x.f()}}if(this.properties.patternDates.length>0){c.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var a,u=at(this.properties.patternDates);try{for(u.s();!(a=u.n()).done;){var l=a.value;c.push(l)}}catch(y){u.e(y)}finally{u.f()}}return c}},{key:"getParameterItems",value:function(c,_){var x=[],v=this.getMainPanel().getParametersItem().getChildren(),a=0;if(c instanceof z){var u,l=at(c.getAllDataSources());try{for(l.s();!(u=l.n()).done;){var y=u.value;if(y.parameters.length>0){x.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+a,name:this.getLabel("parametersDataSource")}),a++;var B,U=[],te=at(y.parameters);try{for(te.s();!(B=te.n()).done;){var ie=B.value;ie.type===de.type.map?ie.appendParameterItems(U,_):ie.appendParameterItems(x,_)}}catch(je){te.e(je)}finally{te.f()}for(var ye=0,be=U;ye<be.length;ye++){var _e=be[ye];x.push(_e)}}}}catch(je){l.e(je)}finally{l.f()}}else c instanceof de&&c.appendFieldParameterItems(x,_,!0);x.push({separator:!0,name:this.getLabel("parameters")});var Se,Pe=[],Re=at(v);try{for(Re.s();!(Se=Re.n()).done;){var Ne=Se.value.getData();Ne.getValue("type")===de.type.map?Ne.appendParameterItems(Pe,_):Ne.appendParameterItems(x,_)}}catch(je){Re.e(je)}finally{Re.f()}return x.concat(Pe)}},{key:"getArrayFieldParameterItems",value:function(c){var _=[],x=this.getMainPanel().getParametersItem().getChildren();_.push({separator:!0,name:this.getLabel("parameters")});var v,a=at(x);try{for(a.s();!(v=a.n()).done;){var u=v.value.getData();u.getValue("type")===de.type.array&&u.appendFieldParameterItems(_,c,!1)}}catch(l){a.e(l)}finally{a.f()}return _}},{key:"appendContainerDocElements",value:function(c,_,x){var v,a=at(c.getPanelItem().getChildren());try{for(a.s();!(v=a.n()).done;){var u=v.value;if(u.getData()instanceof z){var l=u.getData();_?(x.push(l),l.addChildren(x)):x.push(l.toJS());var y=[];if(l instanceof rt)y=l.getLinkedContainers();else{var B=l.getLinkedContainer();B!==null&&y.push(B)}var U,te=at(y);try{for(te.s();!(U=te.n()).done;){var ie=U.value;this.appendContainerDocElements(ie,_,x)}}catch(ye){te.e(ye)}finally{te.f()}}}}catch(ye){a.e(ye)}finally{a.f()}}},{key:"getDocElements",value:function(c){var _=[];return this.appendContainerDocElements(this.headerBand,c,_),this.appendContainerDocElements(this.contentBand,c,_),this.appendContainerDocElements(this.footerBand,c,_),_}},{key:"setDetailPanel",value:function(c){c!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=c,this.detailPanels[c].show())}},{key:"notifyEvent",value:function(c,_,x){this.detailPanels[this.activeDetailPanel].notifyEvent(c,_,x)}},{key:"addParameter",value:function(c){this.addDataObject(c)}},{key:"addStyle",value:function(c){this.addDataObject(c),this.notifyEvent(c,w.operation.add)}},{key:"getStyles",value:function(){var c,_=[],x=at(this.getMainPanel().getStylesItem().getChildren());try{for(x.s();!(c=x.n()).done;){var v=c.value;_.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}return _}},{key:"getParameters",value:function(){var c,_=[],x=at(this.getMainPanel().getParametersItem().getChildren());try{for(x.s();!(c=x.n()).done;){var v=c.value;_.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}return _}},{key:"addDocElement",value:function(c){this.docElements.push(c),this.addDataObject(c)}},{key:"deleteDocElements",value:function(){for(var c=0;c<this.docElements.length;c++)this.deleteDataObject(this.docElements[c]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(c){if(c.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var _=this.commandStack[this.commandStack.length-1];c.allowReplace(_)&&(c.replace(_),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(c),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(c,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var c=this.commandStack[this.lastCommandIndex];c.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex>=0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(c,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var c=this.commandStack[this.lastCommandIndex];c.do(),this.modified=!0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(c,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var c,_=0,x={x:0,y:0},v=!0,a=!0,u=at(this.selections);try{for(u.s();!(c=u.n()).done;){var l=c.value,y=this.getDataObject(l);if(y instanceof z&&y.hasProperty("x")){_++;var B=y.getContainer().getOffset();_===1?x=B:(B.x!==x.x&&(v=!1),B.y!==x.y&&(a=!1))}}}catch(je){u.e(je)}finally{u.f()}var U=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(_>1){v?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",a?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var te,ie=at(U);try{for(ie.s();!(te=ie.n()).done;)te.value.style.display="none"}catch(je){ie.e(je)}finally{ie.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var ye=null;if(this.selections.length===1&&(ye=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",ye instanceof Ot){var be,_e=at(U);try{for(_e.s();!(be=_e.n()).done;)be.value.style.display="none"}catch(je){_e.e(je)}finally{_e.f()}var Se=ye.getTable(),Pe=ye.getParent();Se!==null&&S(Se.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),Se!==null&&Pe!==null&&Pe.getValue("bandType")===J.bandType.content?(S(Se.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var Re,Ne=at(U);try{for(Ne.s();!(Re=Ne.n()).done;)Re.value.removeAttribute("style")}catch(je){Ne.e(je)}finally{Ne.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var c=0;c<this.commandStack.length;c++)c>this.lastCommandIndex?console.log("( "+c+" "+this.commandStack[c].getName()+" )"):console.log(c+" "+this.commandStack[c].getName())}},{key:"addDataObject",value:function(c){this.objectMap[c.getId()]=c}},{key:"deleteDataObject",value:function(c){this.isSelectedObject(c.getId())&&this.deselectObject(c.getId()),c.getId()in this.objectMap&&(c.remove(),delete this.objectMap[c.getId()])}},{key:"getDataObject",value:function(c){return c!==null&&c in this.objectMap?this.objectMap[c]:null}},{key:"getSelectedObjects",value:function(){var c,_=[],x=at(this.selections);try{for(x.s();!(c=x.n()).done;){var v=c.value,a=this.getDataObject(v);a!==null&&_.push(a)}}catch(u){x.e(u)}finally{x.f()}return _}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(c){return this.selections.indexOf(c)!==-1}},{key:"isDocElementSelected",value:function(){var c,_=at(this.selections);try{for(_.s();!(c=_.n()).done;){var x=c.value;if(this.getDataObject(x)instanceof z)return!0}}catch(v){_.e(v)}finally{_.f()}return!1}},{key:"isTableElementSelected",value:function(c){var _,x=at(this.selections);try{for(x.s();!(_=x.n()).done;){var v=_.value,a=this.getDataObject(v);if(a instanceof Ot&&a.getValue("tableId")===c)return!0}}catch(u){x.e(u)}finally{x.f()}return!1}},{key:"selectObject",value:function(c,_){var x="none",v=this.getDataObject(c);if(_){if(v!==null&&this.selections.length===1&&this.selections[0]===c)return;this.deselectAll(!0)}v!==null&&(v instanceof z?x="docElement":v instanceof de?x="parameter":v instanceof R?x="style":v instanceof Kt&&(x="documentProperties"),this.selections.push(c),v.select(),v.getPanelItem()!==null&&(v.getPanelItem().openParentItems(),v.getPanelItem().setActive()),x!==this.activeDetailPanel&&this.setDetailPanel(x),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(v,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(c){this.deselectObjectInternal(c,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(c,_){var x=this.getDataObject(c);if(x!==null&&(x.deselect(),x.getPanelItem()!==null&&x.getPanelItem().setInactive()),_){var v=this.selections.indexOf(c);v!==-1&&this.selections.splice(v,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}x!==null&&this.properties.selectCallback&&this.properties.selectCallback(x,!1)}},{key:"deselectAll",value:function(c){var _,x=at(this.selections);try{for(x.s();!(_=x.n()).done;){var v=_.value;this.deselectObjectInternal(v,!1)}}catch(a){x.e(a)}finally{x.f()}this.selections=[],c&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(c,_,x,v){for(var a=null,u=-1,l=0;l<this.containers.length;l++){var y=this.containers[l];if(y.getLevel()>u&&y.isElementAllowed(x)&&y.isInside(c,_)){var B,U=!1,te=at(v);try{for(te.s();!(B=te.n()).done;){var ie=B.value;if(y===ie||y.isChildOf(ie)){U=!0;break}}}catch(ye){te.e(ye)}finally{te.f()}U||(a=y,u=y.getLevel())}}return a}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(c){this.containers.push(c),this.addDataObject(c)}},{key:"deleteContainer",value:function(c){for(var _=0;_<this.containers.length;_++)if(this.containers[_].getId()===c.getId()){this.containers.splice(_,1);break}this.deleteDataObject(c)}},{key:"startBrowserDrag",value:function(c,_,x){this.browserDragType=c,this.browserDragId=x,this.getDocument().startBrowserDrag(_)}},{key:"isBrowserDragActive",value:function(c){return this.browserDragType===c}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(c,_,x,v,a){var u;a&&(u=new Z(x===z.dragType.element?"Update position":"Resize",this));var l,y=at(this.selections);try{for(y.s();!(l=y.n()).done;){var B=l.value,U=this.getDataObject(B);U!==null&&(x!==z.dragType.element||U.isDraggingAllowed())&&U.updateDrag(c,_,x,v,a?u:null)}}catch(te){y.e(te)}finally{y.f()}a&&!u.isEmpty()&&this.executeCommand(u)}},{key:"alignSelections",value:function(c){var _,x,v,a,u,l=Number.MAX_VALUE,y=Number.MIN_VALUE,B=Number.MAX_VALUE,U=Number.MIN_VALUE,te=0,ie=at(this.selections);try{for(ie.s();!(u=ie.n()).done;){var ye=u.value,be=this.getDataObject(ye);be instanceof z&&be.hasProperty("x")&&(te++,_=be.getValue("xVal"),x=be.getValue("yVal"),v=be.getValue("widthVal"),a=be.getValue("heightVal"),_<l&&(l=_),_+v>y&&(y=_+v),x<B&&(B=x),x+a>U&&(U=x+a))}}catch(Ge){ie.e(Ge)}finally{ie.f()}var _e=l+(y-l)/2,Se=B+(U-B)/2;if(te>1){var Pe,Re=new Z("Align elements",this),Ne=at(this.selections);try{for(Ne.s();!(Pe=Ne.n()).done;){var je=Pe.value,Fe=this.getDataObject(je);if(Fe instanceof z&&!(Fe instanceof Ie))switch(c){case R.alignment.left:var Xe=new e(Fe.getId(),"x",""+l,e.type.text,this);Re.addCommand(Xe);break;case R.alignment.center:var $e=new e(Fe.getId(),"x",""+(_e-Fe.getValue("widthVal")/2),e.type.text,this);Re.addCommand($e);break;case R.alignment.right:var We=new e(Fe.getId(),"x",""+(y-Fe.getValue("widthVal")),e.type.text,this);Re.addCommand(We);break;case R.alignment.top:var Je=new e(Fe.getId(),"y",""+B,e.type.text,this);Re.addCommand(Je);break;case R.alignment.middle:var it=new e(Fe.getId(),"y",""+(Se-Fe.getValue("heightVal")/2),e.type.text,this);Re.addCommand(it);break;case R.alignment.bottom:var ze=new e(Fe.getId(),"y",""+(U-Fe.getValue("heightVal")),e.type.text,this);Re.addCommand(ze)}}}catch(Ge){Ne.e(Ge)}finally{Ne.f()}this.executeCommand(Re)}}},{key:"toPixel",value:function(c){return c===""||typeof c=="string"&&(c=parseFloat(c.replace(",",".")),isNaN(c))?"0px":c+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(t("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var c=document.getElementById("rbro_loading_div");c&&c.remove()}},{key:"getTestData",value:function(){var c,_={},x=at(this.getParameters());try{for(x.s();!(c=x.n()).done;){var v=c.value;if(!v.getValue("showOnlyNameType")){var a=v.getValue("type");a===de.type.array||a===de.type.simpleArray||a===de.type.map?_[v.getName()]=v.getTestData(!1):a===de.type.string||a===de.type.number||a===de.type.date?_[v.getName()]=v.getValue("testData"):a===de.type.boolean?_[v.getName()]=v.getValue("testDataBoolean"):a===de.type.image&&(_[v.getName()]=v.getValue("testDataImage"))}}}catch(u){x.e(u)}finally{x.f()}return _}},{key:"previewInternal",value:function(c,_){var x=this,v=this.getRequestParameters();this.clearErrors();var a=v.reportServerHeaders;a["Content-Type"]="application/json",v.reportServerBasicAuth&&(a.Authorization="Basic "+btoa(v.reportServerBasicAuth.username+":"+v.reportServerBasicAuth.password)),this.showLoading();var u=new AbortController,l=setTimeout(function(){return u.abort()},v.reportServerTimeout);fetch(v.reportServerUrl,{signal:u.signal,method:"PUT",headers:a,body:JSON.stringify({report:this.getReport(),outputFormat:Kt.outputFormat.pdf,data:c,isTestData:_})}).then(function(y){if(!y.ok)throw Error(y.statusText);return y}).then(function(y){return y.text()}).then(function(y){if(clearTimeout(l),x.hideLoading(),y.substring(0,4)==="key:")x.reportKey=y.substring(4),x.getDocument().openPdfPreviewTab(v.reportServerUrl+"?key="+x.reportKey+"&outputFormat=pdf",a);else{x.reportKey=null;try{var B=JSON.parse(y);B.errors.length>0&&x.processErrors(B.errors,!1)}catch(U){alert("preview failed")}}}).catch(function(y){clearTimeout(l),x.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var c={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(c),c}},{key:"setModified",value:function(c){this.modified=c,this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var c={docElements:[],parameters:[],styles:[],version:4};c.docElements=this.getDocElements(!1);var _,x=at(this.getParameters());try{for(x.s();!(_=x.n()).done;){var v=_.value;c.parameters.push(v.toJS())}}catch(y){x.e(y)}finally{x.f()}var a,u=at(this.getStyles());try{for(u.s();!(a=u.n()).done;){var l=a.value;c.styles.push(l.toJS())}}catch(y){u.e(y)}finally{u.f()}return c.documentProperties=this.documentProperties.toJS(),c}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var c=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(c)),this.modified=!1}catch(a){}if(this.getProperty("highlightUnusedParameters")){var _,x=at(this.getParameters());try{for(x.s();!(_=x.n()).done;){var v=_.value;v.editable&&v.setHighlightUnused(!1)}}catch(a){x.e(a)}finally{x.f()}}this.updateMenuButtons()}},{key:"load",value:function(c){var _,x=at(this.getParameters());try{for(x.s();!(_=x.n()).done;){var v=_.value;this.deleteDataObject(v)}}catch(ct){x.e(ct)}finally{x.f()}var a,u=at(this.getStyles());try{for(u.s();!(a=u.n()).done;){var l=a.value;this.deleteDataObject(l)}}catch(ct){u.e(ct)}finally{u.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),c.version<2){var y,B=at(c.docElements);try{for(B.s();!(y=B.n()).done;){var U=y.value;U.elementType===z.type.table&&(U.contentDataRows=[U.contentData],U.contentRows="1")}}catch(ct){B.e(ct)}finally{B.f()}}if(c.version<3){var te,ie=at(c.docElements);try{for(ie.s();!(te=ie.n()).done;){var ye=te.value;if(ye.elementType===z.type.table){for(var be=0,_e=0;_e<ye.headerData.columnData.length;_e++)be+=ye.headerData.columnData[_e].width;ye.width=be}}}catch(ct){ie.e(ct)}finally{ie.f()}}if(c.version<4){var Se,Pe=at(c.parameters);try{for(Pe.s();!(Se=Pe.n()).done;){var Re=Se.value;if(Re.type===de.type.map){var Ne,je={},Fe=at(Re.children);try{for(Fe.s();!(Ne=Fe.n()).done;){var Xe=Ne.value;je[Xe.name]=Xe.testData,Xe.testData=""}}catch(ct){Fe.e(ct)}finally{Fe.f()}Re.testData=JSON.stringify(je)}else Re.type===de.type.boolean&&(Re.testDataBoolean=Boolean(Re.testData))}}catch(ct){Pe.e(ct)}finally{Pe.f()}}this.documentProperties.setInitialData(c.documentProperties),this.documentProperties.setup();var $e,We=at(c.styles);try{for(We.s();!($e=We.n()).done;){var Je=$e.value;this.createStyle(Je)}}catch(ct){We.e(ct)}finally{We.f()}var it,ze=at(c.parameters);try{for(ze.s();!(it=ze.n()).done;){var Ge=it.value;this.createParameter(Ge)}}catch(ct){ze.e(ct)}finally{ze.f()}var Ze,Ae=at(c.docElements);try{for(Ae.s();!(Ze=Ae.n()).done;){var ot=Ze.value;this.createDocElement(ot)}}catch(ct){Ae.e(ct)}finally{Ae.f()}if(this.getProperty("highlightUnusedParameters")){var Qe,gt=this.getDocElements(!0),ft=at(this.getParameters());try{for(ft.s();!(Qe=ft.n()).done;){var st=Qe.value;if(st.editable){var Tt,Ct=new Z("Temp group"),mt=at(gt);try{for(mt.s();!(Tt=mt.n()).done;)Tt.value.addCommandsForChangedParameterName(st,st.getName(),Ct)}catch(ct){mt.e(ct)}finally{mt.f()}var _t,St=at(this.getParameters());try{for(St.s();!(_t=St.n()).done;){var bt=_t.value;bt.getId()!==st.getId()&&bt.addCommandsForChangedParameterName(st,st.getName(),Ct)}}catch(ct){St.e(ct)}finally{St.f()}Ct.isEmpty()&&st.setHighlightUnused(!0)}}}catch(ct){ft.e(ct)}finally{ft.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var c=null;try{c=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(_){}c!==null&&this.load(c)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(c){this.previewInternal(c,!1)}},{key:"downloadSpreadsheet",value:function(){var c=this.getRequestParameters(),_=c.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx",x=c.reportServerHeaders;if(this.reportKey!==null)if(x&&Object.keys(x).length>0){var v=new XMLHttpRequest;for(var a in v.responseType="blob",v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE)if(v.status===200){var u=URL.createObjectURL(v.response);window.open(u,"_blank")}else alert("download failed")},v.open("GET",_,!0),x)x.hasOwnProperty(a)&&v.setRequestHeader(a,x[a]);v.send()}else window.open(_,"_blank")}},{key:"processErrors",value:function(c,_){(_===void 0||_)&&this.clearErrors();var x,v=at(c);try{for(v.s();!(x=v.n()).done;){var a=x.value;if(a.object_id){document.getElementById("rbro_menu_item".concat(a.object_id)).classList.add("rbroError");var u=this.getDataObject(a.object_id);u!==null&&u.addError(a)}}}catch(l){v.e(l)}finally{v.f()}c.length>0&&(this.deselectAll(!1),this.selectObject(c[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var c,_=at(document.querySelectorAll(".rbroMenuItem"));try{for(_.s();!(c=_.n()).done;)c.value.classList.remove("rbroError")}catch(y){_.e(y)}finally{_.f()}var x,v=at(document.querySelectorAll(".rbroFormRow"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroError")}catch(y){v.e(y)}finally{v.f()}var a,u=at(document.querySelectorAll(".rbroErrorMessage"));try{for(u.s();!(a=u.n()).done;)a.value.textContent=""}catch(y){u.e(y)}finally{u.f()}for(var l in this.objectMap)this.objectMap[l].clearErrors()}},{key:"destroy",value:function(){for(var c in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[c].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(c){var _=this.getDataObject(c);return _ instanceof z?_:null}},{key:"getParameterById",value:function(c){var _=this.getDataObject(c);return _ instanceof de?_:null}},{key:"getParameterByName",value:function(c){var _,x=at(this.getParameters());try{for(x.s();!(_=x.n()).done;){var v=_.value;if(v.getValue("name")===c)return v}}catch(a){x.e(a)}finally{x.f()}return null}},{key:"getStyleById",value:function(c){var _=this.getDataObject(c);return _ instanceof R?_:null}},{key:"createDocElement",value:function(c){var _=Pt.createElement(c.id,c,c.elementType,-1,!1,this),x=_.getMaxId();return x>=this.nextId&&(this.nextId=x+1),_}},{key:"createParameter",value:function(c){var _=new de(c.id,c,this),x=this.mainPanel.getParametersItem(),v=new fe("parameter",x,_,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!0},this);_.setPanelItem(v),x.appendChild(v),_.setup(),_.getValue("type")!==de.type.array&&_.getValue("type")!==de.type.map&&(document.getElementById("rbro_menu_item_add".concat(_.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(_.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(_.getId())).style.display="none"),this.addParameter(_);var a=_.getMaxId();return a>=this.nextId&&(this.nextId=a+1),_}},{key:"createStyle",value:function(c){var _=new R(c.id,c,this),x=this.mainPanel.getStylesItem(),v=new fe("style",x,_,{draggable:!0},this);return _.setPanelItem(v),x.appendChild(v),this.addStyle(_),c.id>=this.nextId&&(this.nextId=c.id+1),_}},{key:"deleteDocElement",value:function(c){for(var _=0;_<this.docElements.length;_++)if(this.docElements[_].getId()===c.getId()){this.docElements.splice(_,1),this.deleteDataObject(c),this.notifyEvent(c,w.operation.remove);break}}},{key:"deleteParameter",value:function(c){this.deleteDataObject(c),c.getPanelItem().getParent().removeChild(c.getPanelItem()),this.notifyEvent(c,w.operation.remove)}},{key:"deleteStyle",value:function(c){this.deleteDataObject(c),c.getPanelItem().getParent().removeChild(c.getPanelItem()),this.notifyEvent(c,w.operation.remove)}}]),M}();ht.ReportBro=gn}()})()}).call(this,Ve("HDXh").Buffer)},bBst:function(vt,ht,Ve){(function(qe){var Ye=qe.CustomEvent;function lt(){try{var et=new Ye("cat",{detail:{foo:"bar"}});return et.type==="cat"&&et.detail.foo==="bar"}catch($){}return!1}vt.exports=lt()?Ye:typeof document!="undefined"&&typeof document.createEvent=="function"?function($,ne){var T=document.createEvent("CustomEvent");return ne?T.initCustomEvent($,ne.bubbles,ne.cancelable,ne.detail):T.initCustomEvent($,!1,!1,void 0),T}:function($,ne){var T=document.createEventObject();return T.type=$,ne?(T.bubbles=Boolean(ne.bubbles),T.cancelable=Boolean(ne.cancelable),T.detail=ne.detail):(T.bubbles=!1,T.cancelable=!1,T.detail=void 0),T}}).call(this,Ve("IyRk"))},bXNp:function(vt,ht,Ve){},fu2T:function(vt,ht,Ve){"use strict";var qe=Ve("EFp3"),Ye=Ve.n(qe),lt=Ve("3dVZ"),et=Ve.n(lt)},gK9i:function(vt,ht,Ve){"use strict";var qe=Ve("wx14"),Ye=Ve("rePB"),lt=Ve("UESt"),et=Ve("TSYQ"),$=Ve.n(et),ne=Ve("KQm4"),T=Ve("1OyB"),C=Ve("vuIU"),g=Ve("Ji7U"),p=Ve("LK+K"),h=Ve("U8pU"),f=Ve("Zm9Q"),w=Ve("q1tI"),m=Ve("Gytx"),o=Ve.n(m),i=Ve("Ff2n"),e=Ve("8XRh"),r=Ve("ODXe"),n=w.forwardRef(function(R,K){var q,D=R.prefixCls,Z=R.forceRender,le=R.className,se=R.style,fe=R.children,he=R.isActive,re=R.role,ce=w.useState(he||Z),ve=Object(r.a)(ce,2),we=ve[0],ke=ve[1];return w.useEffect(function(){(Z||he)&&ke(!0)},[Z,he]),we?w.createElement("div",{ref:K,className:$()("".concat(D,"-content"),(q={},Object(Ye.a)(q,"".concat(D,"-content-active"),he),Object(Ye.a)(q,"".concat(D,"-content-inactive"),!he),q),le),style:se,role:re},w.createElement("div",{className:"".concat(D,"-content-box")},fe)):null});n.displayName="PanelContent";var t=n,s=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],d=function(R){Object(g.a)(q,R);var K=Object(p.a)(q);function q(){var D;Object(T.a)(this,q);for(var Z=arguments.length,le=new Array(Z),se=0;se<Z;se++)le[se]=arguments[se];return D=K.call.apply(K,[this].concat(le)),D.onItemClick=function(){var fe=D.props,he=fe.onItemClick,re=fe.panelKey;typeof he=="function"&&he(re)},D.handleKeyPress=function(fe){(fe.key==="Enter"||fe.keyCode===13||fe.which===13)&&D.onItemClick()},D.renderIcon=function(){var fe=D.props,he=fe.showArrow,re=fe.expandIcon,ce=fe.prefixCls,ve=fe.collapsible;if(!he)return null;var we=typeof re=="function"?re(D.props):w.createElement("i",{className:"arrow"});return we&&w.createElement("div",{className:"".concat(ce,"-expand-icon"),onClick:ve==="header"||ve==="icon"?D.onItemClick:null},we)},D.renderTitle=function(){var fe=D.props,he=fe.header,re=fe.prefixCls,ce=fe.collapsible;return w.createElement("span",{className:"".concat(re,"-header-text"),onClick:ce==="header"?D.onItemClick:null},he)},D}return Object(C.a)(q,[{key:"shouldComponentUpdate",value:function(Z){return!o()(this.props,Z)}},{key:"render",value:function(){var Z,le,se=this.props,fe=se.className,he=se.id,re=se.style,ce=se.prefixCls,ve=se.headerClass,we=se.children,ke=se.isActive,de=se.destroyInactivePanel,V=se.accordion,ge=se.forceRender,z=se.openMotion,k=se.extra,I=se.collapsible,W=Object(i.a)(se,s),ee=I==="disabled",ae=I==="header",oe=I==="icon",Ee=$()((Z={},Object(Ye.a)(Z,"".concat(ce,"-item"),!0),Object(Ye.a)(Z,"".concat(ce,"-item-active"),ke),Object(Ye.a)(Z,"".concat(ce,"-item-disabled"),ee),Z),fe),Le=$()("".concat(ce,"-header"),(le={},Object(Ye.a)(le,ve,ve),Object(Ye.a)(le,"".concat(ce,"-header-collapsible-only"),ae),Object(Ye.a)(le,"".concat(ce,"-icon-collapsible-only"),oe),le)),Ie={className:Le,"aria-expanded":ke,"aria-disabled":ee,onKeyPress:this.handleKeyPress};!ae&&!oe&&(Ie.onClick=this.onItemClick,Ie.role=V?"tab":"button",Ie.tabIndex=ee?-1:0);var He=k!=null&&typeof k!="boolean";return delete W.header,delete W.panelKey,delete W.onItemClick,delete W.showArrow,delete W.expandIcon,w.createElement("div",Object(qe.a)({},W,{className:Ee,style:re,id:he}),w.createElement("div",Ie,this.renderIcon(),this.renderTitle(),He&&w.createElement("div",{className:"".concat(ce,"-extra")},k)),w.createElement(e.default,Object(qe.a)({visible:ke,leavedClassName:"".concat(ce,"-content-hidden")},z,{forceRender:ge,removeOnLeave:de}),function(Ke,rt){var dt=Ke.className,xt=Ke.style;return w.createElement(t,{ref:rt,prefixCls:ce,className:dt,style:xt,isActive:ke,forceRender:ge,role:V?"tabpanel":null},we)}))}}]),q}(w.Component);d.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var b=d;function E(R){var K=R;if(!Array.isArray(K)){var q=Object(h.a)(K);K=q==="number"||q==="string"?[K]:[]}return K.map(function(D){return String(D)})}var A=function(R){Object(g.a)(q,R);var K=Object(p.a)(q);function q(D){var Z;Object(T.a)(this,q),Z=K.call(this,D),Z.onClickItem=function(he){var re=Z.state.activeKey;if(Z.props.accordion)re=re[0]===he?[]:[he];else{re=Object(ne.a)(re);var ce=re.indexOf(he),ve=ce>-1;ve?re.splice(ce,1):re.push(he)}Z.setActiveKey(re)},Z.getNewChild=function(he,re){if(!he)return null;var ce=Z.state.activeKey,ve=Z.props,we=ve.prefixCls,ke=ve.openMotion,de=ve.accordion,V=ve.destroyInactivePanel,ge=ve.expandIcon,z=ve.collapsible,k=he.key||String(re),I=he.props,W=I.header,ee=I.headerClass,ae=I.destroyInactivePanel,oe=I.collapsible,Ee=!1;de?Ee=ce[0]===k:Ee=ce.indexOf(k)>-1;var Le=oe!=null?oe:z,Ie={key:k,panelKey:k,header:W,headerClass:ee,isActive:Ee,prefixCls:we,destroyInactivePanel:ae!=null?ae:V,openMotion:ke,accordion:de,children:he.props.children,onItemClick:Le==="disabled"?null:Z.onClickItem,expandIcon:ge,collapsible:Le};return typeof he.type=="string"?he:(Object.keys(Ie).forEach(function(He){typeof Ie[He]=="undefined"&&delete Ie[He]}),w.cloneElement(he,Ie))},Z.getItems=function(){var he=Z.props.children;return Object(f.a)(he).map(Z.getNewChild)},Z.setActiveKey=function(he){"activeKey"in Z.props||Z.setState({activeKey:he}),Z.props.onChange(Z.props.accordion?he[0]:he)};var le=D.activeKey,se=D.defaultActiveKey,fe=se;return"activeKey"in D&&(fe=le),Z.state={activeKey:E(fe)},Z}return Object(C.a)(q,[{key:"shouldComponentUpdate",value:function(Z,le){return!o()(this.props,Z)||!o()(this.state,le)}},{key:"render",value:function(){var Z,le=this.props,se=le.prefixCls,fe=le.className,he=le.style,re=le.accordion,ce=$()((Z={},Object(Ye.a)(Z,se,!0),Object(Ye.a)(Z,fe,!!fe),Z));return w.createElement("div",{className:ce,style:he,role:re?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(Z){var le={};return"activeKey"in Z&&(le.activeKey=E(Z.activeKey)),le}}]),q}(w.Component);A.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},A.Panel=b;var S=A,L=S,O=S.Panel,N=Ve("bT9E"),H=Ve("H84U"),F=Ve("EXcs"),Y=Ve("0n0R"),j=function(K){var q=w.useContext(H.b),D=q.getPrefixCls,Z=K.prefixCls,le=K.className,se=le===void 0?"":le,fe=K.showArrow,he=fe===void 0?!0:fe,re=D("collapse",Z),ce=$()(Object(Ye.a)({},"".concat(re,"-no-arrow"),!he),se);return w.createElement(L.Panel,Object(qe.a)({},K,{prefixCls:re,className:ce}))},J=j,Q=function(K){var q,D=w.useContext(H.b),Z=D.getPrefixCls,le=D.direction,se=K.prefixCls,fe=K.className,he=fe===void 0?"":fe,re=K.bordered,ce=re===void 0?!0:re,ve=K.ghost,we=K.expandIconPosition,ke=we===void 0?"start":we,de=Z("collapse",se),V=w.useMemo(function(){return ke==="left"?"start":ke==="right"?"end":ke},[ke]),ge=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=K.expandIcon,oe=ae?ae(ee):w.createElement(lt.a,{rotate:ee.isActive?90:void 0});return Object(Y.a)(oe,function(){return{className:$()(oe.props.className,"".concat(de,"-arrow"))}})},z=$()("".concat(de,"-icon-position-").concat(V),(q={},Object(Ye.a)(q,"".concat(de,"-borderless"),!ce),Object(Ye.a)(q,"".concat(de,"-rtl"),le==="rtl"),Object(Ye.a)(q,"".concat(de,"-ghost"),!!ve),q),he),k=Object(qe.a)(Object(qe.a)({},F.a),{motionAppear:!1,leavedClassName:"".concat(de,"-content-hidden")}),I=function(){var ee=K.children;return Object(f.a)(ee).map(function(ae,oe){var Ee;if((Ee=ae.props)===null||Ee===void 0?void 0:Ee.disabled){var Le=ae.key||String(oe),Ie=ae.props,He=Ie.disabled,Ke=Ie.collapsible,rt=Object(qe.a)(Object(qe.a)({},Object(N.a)(ae.props,["disabled"])),{key:Le,collapsible:Ke!=null?Ke:He?"disabled":void 0});return Object(Y.a)(ae,rt)}return ae})};return w.createElement(L,Object(qe.a)({openMotion:k},K,{expandIcon:ge,prefixCls:de,className:z}),I())};Q.Panel=J;var G=Q,X=ht.a=G},"kVK+":function(vt,ht){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ht.read=function(Ve,qe,Ye,lt,et){var $,ne,T=et*8-lt-1,C=(1<<T)-1,g=C>>1,p=-7,h=Ye?et-1:0,f=Ye?-1:1,w=Ve[qe+h];for(h+=f,$=w&(1<<-p)-1,w>>=-p,p+=T;p>0;$=$*256+Ve[qe+h],h+=f,p-=8);for(ne=$&(1<<-p)-1,$>>=-p,p+=lt;p>0;ne=ne*256+Ve[qe+h],h+=f,p-=8);if($===0)$=1-g;else{if($===C)return ne?NaN:(w?-1:1)*Infinity;ne=ne+Math.pow(2,lt),$=$-g}return(w?-1:1)*ne*Math.pow(2,$-lt)},ht.write=function(Ve,qe,Ye,lt,et,$){var ne,T,C,g=$*8-et-1,p=(1<<g)-1,h=p>>1,f=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=lt?0:$-1,m=lt?1:-1,o=qe<0||qe===0&&1/qe<0?1:0;for(qe=Math.abs(qe),isNaN(qe)||qe===Infinity?(T=isNaN(qe)?1:0,ne=p):(ne=Math.floor(Math.log(qe)/Math.LN2),qe*(C=Math.pow(2,-ne))<1&&(ne--,C*=2),ne+h>=1?qe+=f/C:qe+=f*Math.pow(2,1-h),qe*C>=2&&(ne++,C/=2),ne+h>=p?(T=0,ne=p):ne+h>=1?(T=(qe*C-1)*Math.pow(2,et),ne=ne+h):(T=qe*Math.pow(2,h-1)*Math.pow(2,et),ne=0));et>=8;Ve[Ye+w]=T&255,w+=m,T/=256,et-=8);for(ne=ne<<et|T,g+=et;g>0;Ve[Ye+w]=ne&255,w+=m,ne/=256,g-=8);Ve[Ye+w-m]|=o*128}},oOwn:function(vt,ht,Ve){(function(){var qe=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Ye=typeof window!="undefined",lt=Ye&&window.mozInnerScreenX!=null;function et($,ne,T){if(!Ye)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var C=T&&T.debug||!1;if(C){var g=document.querySelector("#input-textarea-caret-position-mirror-div");g&&g.parentNode.removeChild(g)}var p=document.createElement("div");p.id="input-textarea-caret-position-mirror-div",document.body.appendChild(p);var h=p.style,f=window.getComputedStyle?getComputedStyle($):$.currentStyle;h.whiteSpace="pre-wrap",$.nodeName!=="INPUT"&&(h.wordWrap="break-word"),h.position="absolute",C||(h.visibility="hidden"),qe.forEach(function(o){h[o]=f[o]}),lt?$.scrollHeight>parseInt(f.height)&&(h.overflowY="scroll"):h.overflow="hidden",p.textContent=$.value.substring(0,ne),$.nodeName==="INPUT"&&(p.textContent=p.textContent.replace(/\s/g,"\xA0"));var w=document.createElement("span");w.textContent=$.value.substring(ne)||".",p.appendChild(w);var m={top:w.offsetTop+parseInt(f.borderTopWidth),left:w.offsetLeft+parseInt(f.borderLeftWidth)};return C?w.style.backgroundColor="#aaa":document.body.removeChild(p),m}typeof vt.exports!="undefined"?vt.exports=et:Ye&&(window.getCaretCoordinates=et)})()},tneF:function(vt,ht,Ve){"use strict";var qe=Ve("sRBo"),Ye=Ve("kaz8"),lt=Ve("VTBJ"),et=Ve("Ff2n"),$=Ve("nKUr"),ne=Ve.n($),T=Ve("uX+g"),C=Ve("q1tI"),g=Ve.n(C),p=Ve("WFLz"),h=Ve("adzw"),f=["options","fieldProps","proFieldProps","valueEnum"],w=g.a.forwardRef(function(e,r){var n=e.options,t=e.fieldProps,s=e.proFieldProps,d=e.valueEnum,b=Object(et.a)(e,f);return Object($.jsx)(h.a,Object(lt.a)({ref:r,valueType:"checkbox",valueEnum:Object(T.a)(d,void 0),fieldProps:Object(lt.a)({options:n},t),lightProps:Object(lt.a)({labelFormatter:function(){return Object($.jsx)(h.a,Object(lt.a)({ref:r,valueType:"checkbox",mode:"read",valueEnum:Object(T.a)(d,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(lt.a)({options:n},t),proFieldProps:s},b))}},b.lightProps),proFieldProps:s},b))}),m=g.a.forwardRef(function(e,r){var n=e.fieldProps,t=e.children;return Object($.jsx)(Ye.a,Object(lt.a)(Object(lt.a)({ref:r},n),{},{children:t}))}),o=Object(p.a)(m,{valuePropName:"checked"}),i=o;i.Group=w,ht.a=i},v3Qx:function(vt,ht){var Ve={}.toString;vt.exports=Array.isArray||function(qe){return Ve.call(qe)=="[object Array]"}},xOOu:function(vt,ht,Ve){(function(qe,Ye,lt){var et,et;/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function($){vt.exports=$()})(function(){return function $(ne,T,C){function g(f,w){if(!T[f]){if(!ne[f]){var m=typeof et=="function"&&et;if(!w&&m)return et(f,!0);if(p)return p(f,!0);var o=new Error("Cannot find module '"+f+"'");throw o.code="MODULE_NOT_FOUND",o}var i=T[f]={exports:{}};ne[f][0].call(i.exports,function(e){var r=ne[f][1][e];return g(r||e)},i,i.exports,$,ne,T,C)}return T[f].exports}for(var p=typeof et=="function"&&et,h=0;h<C.length;h++)g(C[h]);return g}({1:[function($,ne,T){"use strict";var C=$("./utils"),g=$("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";T.encode=function(h){for(var f,w,m,o,i,e,r,n=[],t=0,s=h.length,d=s,b=C.getTypeOf(h)!=="string";t<h.length;)d=s-t,m=b?(f=h[t++],w=t<s?h[t++]:0,t<s?h[t++]:0):(f=h.charCodeAt(t++),w=t<s?h.charCodeAt(t++):0,t<s?h.charCodeAt(t++):0),o=f>>2,i=(3&f)<<4|w>>4,e=1<d?(15&w)<<2|m>>6:64,r=2<d?63&m:64,n.push(p.charAt(o)+p.charAt(i)+p.charAt(e)+p.charAt(r));return n.join("")},T.decode=function(h){var f,w,m,o,i,e,r=0,n=0,t="data:";if(h.substr(0,t.length)===t)throw new Error("Invalid base64 input, it looks like a data url.");var s,d=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===p.charAt(64)&&d--,h.charAt(h.length-2)===p.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(s=g.uint8array?new Uint8Array(0|d):new Array(0|d);r<h.length;)f=p.indexOf(h.charAt(r++))<<2|(o=p.indexOf(h.charAt(r++)))>>4,w=(15&o)<<4|(i=p.indexOf(h.charAt(r++)))>>2,m=(3&i)<<6|(e=p.indexOf(h.charAt(r++))),s[n++]=f,i!==64&&(s[n++]=w),e!==64&&(s[n++]=m);return s}},{"./support":30,"./utils":32}],2:[function($,ne,T){"use strict";var C=$("./external"),g=$("./stream/DataWorker"),p=$("./stream/Crc32Probe"),h=$("./stream/DataLengthProbe");function f(w,m,o,i,e){this.compressedSize=w,this.uncompressedSize=m,this.crc32=o,this.compression=i,this.compressedContent=e}f.prototype={getContentWorker:function(){var m=new g(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),o=this;return m.on("end",function(){if(this.streamInfo.data_length!==o.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new g(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(w,m,o){return w.pipe(new p).pipe(new h("uncompressedSize")).pipe(m.compressWorker(o)).pipe(new h("compressedSize")).withStreamInfo("compression",m)},ne.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function($,ne,T){"use strict";var C=$("./stream/GenericWorker");T.STORE={magic:"\0\0",compressWorker:function(){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},T.DEFLATE=$("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function($,ne,T){"use strict";var C=$("./utils"),g=function(){for(var p,h=[],f=0;f<256;f++){p=f;for(var w=0;w<8;w++)p=1&p?3988292384^p>>>1:p>>>1;h[f]=p}return h}();ne.exports=function(p,h){return p!==void 0&&p.length?C.getTypeOf(p)!=="string"?function(f,w,m,o){var i=g,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w[r])];return-1^f}(0|h,p,p.length,0):function(f,w,m,o){var i=g,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w.charCodeAt(r))];return-1^f}(0|h,p,p.length,0):0}},{"./utils":32}],5:[function($,ne,T){"use strict";T.base64=!1,T.binary=!1,T.dir=!1,T.createFolders=!0,T.date=null,T.compression=null,T.compressionOptions=null,T.comment=null,T.unixPermissions=null,T.dosPermissions=null},{}],6:[function($,ne,T){"use strict";var C=null;C=typeof Promise!="undefined"?Promise:$("lie"),ne.exports={Promise:C}},{lie:37}],7:[function($,ne,T){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",g=$("pako"),p=$("./utils"),h=$("./stream/GenericWorker"),f=C?"uint8array":"array";function w(m,o){h.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=o,this.meta={}}T.magic="\b\0",p.inherits(w,h),w.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(f,m.data),!1)},w.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(o){m.push({data:o,meta:m.meta})}},T.compressWorker=function(m){return new w("Deflate",m)},T.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function($,ne,T){"use strict";function C(i,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&i),i>>>=8;return n}function g(i,e,r,n,t,s){var d,b,E=i.file,A=i.compression,S=s!==f.utf8encode,L=p.transformTo("string",s(E.name)),O=p.transformTo("string",f.utf8encode(E.name)),N=E.comment,H=p.transformTo("string",s(N)),F=p.transformTo("string",f.utf8encode(N)),Y=O.length!==E.name.length,j=F.length!==N.length,J="",Q="",G="",X=E.dir,R=E.date,K={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(K.crc32=i.crc32,K.compressedSize=i.compressedSize,K.uncompressedSize=i.uncompressedSize);var q=0;e&&(q|=8),S||!Y&&!j||(q|=2048);var D=0,Z=0;X&&(D|=16),t==="UNIX"?(Z=798,D|=function(se,fe){var he=se;return se||(he=fe?16893:33204),(65535&he)<<16}(E.unixPermissions,X)):(Z=20,D|=function(se){return 63&(se||0)}(E.dosPermissions)),d=R.getUTCHours(),d<<=6,d|=R.getUTCMinutes(),d<<=5,d|=R.getUTCSeconds()/2,b=R.getUTCFullYear()-1980,b<<=4,b|=R.getUTCMonth()+1,b<<=5,b|=R.getUTCDate(),Y&&(Q=C(1,1)+C(w(L),4)+O,J+="up"+C(Q.length,2)+Q),j&&(G=C(1,1)+C(w(H),4)+F,J+="uc"+C(G.length,2)+G);var le="";return le+=`
\0`,le+=C(q,2),le+=A.magic,le+=C(d,2),le+=C(b,2),le+=C(K.crc32,4),le+=C(K.compressedSize,4),le+=C(K.uncompressedSize,4),le+=C(L.length,2),le+=C(J.length,2),{fileRecord:m.LOCAL_FILE_HEADER+le+L+J,dirRecord:m.CENTRAL_FILE_HEADER+C(Z,2)+le+C(H.length,2)+"\0\0\0\0"+C(D,4)+C(n,4)+L+J+H}}var p=$("../utils"),h=$("../stream/GenericWorker"),f=$("../utf8"),w=$("../crc32"),m=$("../signature");function o(i,e,r,n){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(o,h),o.prototype.push=function(i){var e=i.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,h.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},o.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var e=this.streamFiles&&!i.file.dir;if(e){var r=g(i,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(i){this.accumulate=!1;var e=this.streamFiles&&!i.file.dir,r=g(i,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(n){return m.DATA_DESCRIPTOR+C(n.crc32,4)+C(n.compressedSize,4)+C(n.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var i=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-i,n=function(t,s,d,b,E){var A=p.transformTo("string",E(b));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(t,2)+C(t,2)+C(s,4)+C(d,4)+C(A.length,2)+A}(this.dirRecords.length,r,i,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(i){this._sources.push(i);var e=this;return i.on("data",function(r){e.processChunk(r)}),i.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),i.on("error",function(r){e.error(r)}),this},o.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(i){var e=this._sources;if(!h.prototype.error.call(this,i))return!1;for(var r=0;r<e.length;r++)try{e[r].error(i)}catch(n){}return!0},o.prototype.lock=function(){h.prototype.lock.call(this);for(var i=this._sources,e=0;e<i.length;e++)i[e].lock()},ne.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function($,ne,T){"use strict";var C=$("../compressions"),g=$("./ZipFileWorker");T.generateWorker=function(p,h,f){var w=new g(h.streamFiles,f,h.platform,h.encodeFileName),m=0;try{p.forEach(function(o,i){m++;var e=function(s,d){var b=s||d,E=C[b];if(!E)throw new Error(b+" is not a valid compression method !");return E}(i.options.compression,h.compression),r=i.options.compressionOptions||h.compressionOptions||{},n=i.dir,t=i.date;i._compressWorker(e,r).withStreamInfo("file",{name:o,dir:n,date:t,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=m}catch(o){w.error(o)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function($,ne,T){"use strict";function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new C;for(var p in this)typeof this[p]!="function"&&(g[p]=this[p]);return g}}(C.prototype=$("./object")).loadAsync=$("./load"),C.support=$("./support"),C.defaults=$("./defaults"),C.version="3.10.1",C.loadAsync=function(g,p){return new C().loadAsync(g,p)},C.external=$("./external"),ne.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function($,ne,T){"use strict";var C=$("./utils"),g=$("./external"),p=$("./utf8"),h=$("./zipEntries"),f=$("./stream/Crc32Probe"),w=$("./nodejsUtils");function m(o){return new g.Promise(function(i,e){var r=o.decompressed.getContentWorker().pipe(new f);r.on("error",function(n){e(n)}).on("end",function(){r.streamInfo.crc32!==o.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}ne.exports=function(o,i){var e=this;return i=C.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),w.isNode&&w.isStream(o)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",o,!0,i.optimizedBinaryString,i.base64).then(function(r){var n=new h(i);return n.load(r),n}).then(function(r){var n=[g.Promise.resolve(r)],t=r.files;if(i.checkCRC32)for(var s=0;s<t.length;s++)n.push(m(t[s]));return g.Promise.all(n)}).then(function(r){for(var n=r.shift(),t=n.files,s=0;s<t.length;s++){var d=t[s],b=d.fileNameStr,E=C.resolve(d.fileNameStr);e.file(E,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:i.createFolders}),d.dir||(e.file(E).unsafeOriginalName=b)}return n.zipComment.length&&(e.comment=n.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function($,ne,T){"use strict";var C=$("../utils"),g=$("../stream/GenericWorker");function p(h,f){g.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}C.inherits(p,g),p.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(w){f.push({data:w,meta:{percent:0}})}).on("error",function(w){f.isPaused?this.generatedError=w:f.error(w)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},p.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},ne.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function($,ne,T){"use strict";var C=$("readable-stream").Readable;function g(p,h,f){C.call(this,h),this._helper=p;var w=this;p.on("data",function(m,o){w.push(m)||w._helper.pause(),f&&f(o)}).on("error",function(m){w.emit("error",m)}).on("end",function(){w.push(null)})}$("../utils").inherits(g,C),g.prototype._read=function(){this._helper.resume()},ne.exports=g},{"../utils":32,"readable-stream":16}],14:[function($,ne,T){"use strict";ne.exports={isNode:typeof qe!="undefined",newBufferFrom:function(g,p){if(qe.from&&qe.from!==Uint8Array.from)return qe.from(g,p);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new qe(g,p)},allocBuffer:function(g){if(qe.alloc)return qe.alloc(g);var p=new qe(g);return p.fill(0),p},isBuffer:function(g){return qe.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function($,ne,T){"use strict";function C(E,A,S){var L,O=p.getTypeOf(A),N=p.extend(S||{},w);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(E=t(E)),N.createFolders&&(L=n(E))&&s.call(this,L,!0);var H=O==="string"&&N.binary===!1&&N.base64===!1;S&&S.binary!==void 0||(N.binary=!H),(A instanceof m&&A.uncompressedSize===0||N.dir||!A||A.length===0)&&(N.base64=!1,N.binary=!0,A="",N.compression="STORE",O="string");var F=null;F=A instanceof m||A instanceof h?A:e.isNode&&e.isStream(A)?new r(E,A):p.prepareContent(E,A,N.binary,N.optimizedBinaryString,N.base64);var Y=new o(E,F,N);this.files[E]=Y}var g=$("./utf8"),p=$("./utils"),h=$("./stream/GenericWorker"),f=$("./stream/StreamHelper"),w=$("./defaults"),m=$("./compressedObject"),o=$("./zipObject"),i=$("./generate"),e=$("./nodejsUtils"),r=$("./nodejs/NodejsStreamInputAdapter"),n=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var S=A.lastIndexOf("/");return 0<S?A.substring(0,S):""},t=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},s=function(A,S){return S=S!==void 0?S:w.createFolders,A=t(A),this.files[A]||C.call(this,A,null,{dir:!0,createFolders:S}),this.files[A]};function d(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var S,L,O;for(S in this.files)O=this.files[S],(L=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&A(L,O)},filter:function(A){var S=[];return this.forEach(function(L,O){A(L,O)&&S.push(O)}),S},file:function(A,S,L){if(arguments.length!==1)return A=this.root+A,C.call(this,A,S,L),this;if(d(A)){var O=A;return this.filter(function(H,F){return!F.dir&&O.test(H)})}var N=this.files[this.root+A];return N&&!N.dir?N:null},folder:function(A){if(!A)return this;if(d(A))return this.filter(function(N,H){return H.dir&&A.test(N)});var S=this.root+A,L=s.call(this,S),O=this.clone();return O.root=L.name,O},remove:function(A){A=this.root+A;var S=this.files[A];if(S||(A.slice(-1)!=="/"&&(A+="/"),S=this.files[A]),S&&!S.dir)delete this.files[A];else for(var L=this.filter(function(N,H){return H.name.slice(0,A.length)===A}),O=0;O<L.length;O++)delete this.files[L[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var S,L={};try{if((L=p.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");p.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var O=L.comment||this.comment||"";S=i.generateWorker(this,L,O)}catch(N){(S=new h("error")).error(N)}return new f(S,L.type||"string",L.mimeType)},generateAsync:function(A,S){return this.generateInternalStream(A).accumulate(S)},generateNodeStream:function(A,S){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(S)}};ne.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function($,ne,T){"use strict";ne.exports=$("stream")},{stream:void 0}],17:[function($,ne,T){"use strict";var C=$("./DataReader");function g(p){C.call(this,p);for(var h=0;h<this.data.length;h++)p[h]=255&p[h]}$("../utils").inherits(g,C),g.prototype.byteAt=function(p){return this.data[this.zero+p]},g.prototype.lastIndexOfSignature=function(p){for(var h=p.charCodeAt(0),f=p.charCodeAt(1),w=p.charCodeAt(2),m=p.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===h&&this.data[o+1]===f&&this.data[o+2]===w&&this.data[o+3]===m)return o-this.zero;return-1},g.prototype.readAndCheckSignature=function(p){var h=p.charCodeAt(0),f=p.charCodeAt(1),w=p.charCodeAt(2),m=p.charCodeAt(3),o=this.readData(4);return h===o[0]&&f===o[1]&&w===o[2]&&m===o[3]},g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},ne.exports=g},{"../utils":32,"./DataReader":18}],18:[function($,ne,T){"use strict";var C=$("../utils");function g(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var f,w=0;for(this.checkOffset(h),f=this.index+h-1;f>=this.index;f--)w=(w<<8)+this.byteAt(f);return this.index+=h,w},readString:function(h){return C.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},ne.exports=g},{"../utils":32}],19:[function($,ne,T){"use strict";var C=$("./Uint8ArrayReader");function g(p){C.call(this,p)}$("../utils").inherits(g,C),g.prototype.readData=function(p){this.checkOffset(p);var h=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},ne.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function($,ne,T){"use strict";var C=$("./DataReader");function g(p){C.call(this,p)}$("../utils").inherits(g,C),g.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},g.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},g.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},g.prototype.readData=function(p){this.checkOffset(p);var h=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},ne.exports=g},{"../utils":32,"./DataReader":18}],21:[function($,ne,T){"use strict";var C=$("./ArrayReader");function g(p){C.call(this,p)}$("../utils").inherits(g,C),g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,h},ne.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function($,ne,T){"use strict";var C=$("../utils"),g=$("../support"),p=$("./ArrayReader"),h=$("./StringReader"),f=$("./NodeBufferReader"),w=$("./Uint8ArrayReader");ne.exports=function(m){var o=C.getTypeOf(m);return C.checkSupport(o),o!=="string"||g.uint8array?o==="nodebuffer"?new f(m):g.uint8array?new w(C.transformTo("uint8array",m)):new p(C.transformTo("array",m)):new h(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function($,ne,T){"use strict";T.LOCAL_FILE_HEADER="PK",T.CENTRAL_FILE_HEADER="PK",T.CENTRAL_DIRECTORY_END="PK",T.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",T.ZIP64_CENTRAL_DIRECTORY_END="PK",T.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function($,ne,T){"use strict";var C=$("./GenericWorker"),g=$("../utils");function p(h){C.call(this,"ConvertWorker to "+h),this.destType=h}g.inherits(p,C),p.prototype.processChunk=function(h){this.push({data:g.transformTo(this.destType,h.data),meta:h.meta})},ne.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function($,ne,T){"use strict";var C=$("./GenericWorker"),g=$("../crc32");function p(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}$("../utils").inherits(p,C),p.prototype.processChunk=function(h){this.streamInfo.crc32=g(h.data,this.streamInfo.crc32||0),this.push(h)},ne.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function($,ne,T){"use strict";var C=$("../utils"),g=$("./GenericWorker");function p(h){g.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}C.inherits(p,g),p.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}g.prototype.processChunk.call(this,h)},ne.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function($,ne,T){"use strict";var C=$("../utils"),g=$("./GenericWorker");function p(h){g.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(w){f.dataIsReady=!0,f.data=w,f.max=w&&w.length||0,f.type=C.getTypeOf(w),f.isPaused||f._tickAndRepeat()},function(w){f.error(w)})}C.inherits(p,g),p.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},ne.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function($,ne,T){"use strict";function C(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(p){this.emit("data",p)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(p){this.emit("error",p)}return!0},error:function(p){return!this.isFinished&&(this.isPaused?this.generatedError=p:(this.isFinished=!0,this.emit("error",p),this.previous&&this.previous.error(p),this.cleanUp()),!0)},on:function(p,h){return this._listeners[p].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(p,h){if(this._listeners[p])for(var f=0;f<this._listeners[p].length;f++)this._listeners[p][f].call(this,h)},pipe:function(p){return p.registerPrevious(this)},registerPrevious:function(p){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=p.streamInfo,this.mergeStreamInfo(),this.previous=p;var h=this;return p.on("data",function(f){h.processChunk(f)}),p.on("end",function(){h.end()}),p.on("error",function(f){h.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var p=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),p=!0),this.previous&&this.previous.resume(),!p},flush:function(){},processChunk:function(p){this.push(p)},withStreamInfo:function(p,h){return this.extraStreamInfo[p]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var p in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,p)&&(this.streamInfo[p]=this.extraStreamInfo[p])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var p="Worker "+this.name;return this.previous?this.previous+" -> "+p:p}},ne.exports=C},{}],29:[function($,ne,T){"use strict";var C=$("../utils"),g=$("./ConvertWorker"),p=$("./GenericWorker"),h=$("../base64"),f=$("../support"),w=$("../external"),m=null;if(f.nodestream)try{m=$("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function o(e,r){return new w.Promise(function(n,t){var s=[],d=e._internalType,b=e._outputType,E=e._mimeType;e.on("data",function(A,S){s.push(A),r&&r(S)}).on("error",function(A){s=[],t(A)}).on("end",function(){try{var A=function(S,L,O){switch(S){case"blob":return C.newBlob(C.transformTo("arraybuffer",L),O);case"base64":return h.encode(L);default:return C.transformTo(S,L)}}(b,function(S,L){var O,N=0,H=null,F=0;for(O=0;O<L.length;O++)F+=L[O].length;switch(S){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(H=new Uint8Array(F),O=0;O<L.length;O++)H.set(L[O],N),N+=L[O].length;return H;case"nodebuffer":return qe.concat(L);default:throw new Error("concat : unsupported type '"+S+"'")}}(d,s),E);n(A)}catch(S){t(S)}s=[]}).resume()})}function i(e,r,n){var t=r;switch(r){case"blob":case"arraybuffer":t="uint8array";break;case"base64":t="string"}try{this._internalType=t,this._outputType=r,this._mimeType=n,C.checkSupport(t),this._worker=e.pipe(new g(t)),e.lock()}catch(s){this._worker=new p("error"),this._worker.error(s)}}i.prototype={accumulate:function(r){return o(this,r)},on:function(r,n){var t=this;return r==="data"?this._worker.on(r,function(s){n.call(t,s.data,s.meta)}):this._worker.on(r,function(){C.delay(n,arguments,t)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(r){if(C.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},r)}},ne.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function($,ne,T){"use strict";if(T.base64=!0,T.array=!0,T.string=!0,T.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",T.nodebuffer=typeof qe!="undefined",T.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")T.blob=!1;else{var C=new ArrayBuffer(0);try{T.blob=new Blob([C],{type:"application/zip"}).size===0}catch(p){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(C),T.blob=g.getBlob("application/zip").size===0}catch(h){T.blob=!1}}}try{T.nodestream=!!$("readable-stream").Readable}catch(p){T.nodestream=!1}},{"readable-stream":16}],31:[function($,ne,T){"use strict";for(var C=$("./utils"),g=$("./support"),p=$("./nodejsUtils"),h=$("./stream/GenericWorker"),f=new Array(256),w=0;w<256;w++)f[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;f[254]=f[254]=1;function m(){h.call(this,"utf-8 decode"),this.leftOver=null}function o(){h.call(this,"utf-8 encode")}T.utf8encode=function(i){return g.nodebuffer?p.newBufferFrom(i,"utf-8"):function(e){var r,n,t,s,d,b=e.length,E=0;for(s=0;s<b;s++)(64512&(n=e.charCodeAt(s)))==55296&&s+1<b&&(64512&(t=e.charCodeAt(s+1)))==56320&&(n=65536+(n-55296<<10)+(t-56320),s++),E+=n<128?1:n<2048?2:n<65536?3:4;for(r=g.uint8array?new Uint8Array(E):new Array(E),s=d=0;d<E;s++)(64512&(n=e.charCodeAt(s)))==55296&&s+1<b&&(64512&(t=e.charCodeAt(s+1)))==56320&&(n=65536+(n-55296<<10)+(t-56320),s++),n<128?r[d++]=n:(n<2048?r[d++]=192|n>>>6:(n<65536?r[d++]=224|n>>>12:(r[d++]=240|n>>>18,r[d++]=128|n>>>12&63),r[d++]=128|n>>>6&63),r[d++]=128|63&n);return r}(i)},T.utf8decode=function(i){return g.nodebuffer?C.transformTo("nodebuffer",i).toString("utf-8"):function(e){var r,n,t,s,d=e.length,b=new Array(2*d);for(r=n=0;r<d;)if((t=e[r++])<128)b[n++]=t;else if(4<(s=f[t]))b[n++]=65533,r+=s-1;else{for(t&=s===2?31:s===3?15:7;1<s&&r<d;)t=t<<6|63&e[r++],s--;1<s?b[n++]=65533:t<65536?b[n++]=t:(t-=65536,b[n++]=55296|t>>10&1023,b[n++]=56320|1023&t)}return b.length!==n&&(b.subarray?b=b.subarray(0,n):b.length=n),C.applyFromCharCode(b)}(i=C.transformTo(g.uint8array?"uint8array":"array",i))},C.inherits(m,h),m.prototype.processChunk=function(i){var e=C.transformTo(g.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=function(s,d){var b;for((d=d||s.length)>s.length&&(d=s.length),b=d-1;0<=b&&(192&s[b])==128;)b--;return b<0||b===0?d:b+f[s[b]]>d?b:d}(e),t=e;n!==e.length&&(g.uint8array?(t=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(t=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:T.utf8decode(t),meta:i.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:T.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},T.Utf8DecodeWorker=m,C.inherits(o,h),o.prototype.processChunk=function(i){this.push({data:T.utf8encode(i.data),meta:i.meta})},T.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function($,ne,T){"use strict";var C=$("./support"),g=$("./base64"),p=$("./nodejsUtils"),h=$("./external");function f(r){return r}function w(r,n){for(var t=0;t<r.length;++t)n[t]=255&r.charCodeAt(t);return n}$("setimmediate"),T.newBlob=function(r,n){T.checkSupport("blob");try{return new Blob([r],{type:n})}catch(s){try{var t=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return t.append(r),t.getBlob(n)}catch(d){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(n,t,s){var d=[],b=0,E=n.length;if(E<=s)return String.fromCharCode.apply(null,n);for(;b<E;)t==="array"||t==="nodebuffer"?d.push(String.fromCharCode.apply(null,n.slice(b,Math.min(b+s,E)))):d.push(String.fromCharCode.apply(null,n.subarray(b,Math.min(b+s,E)))),b+=s;return d.join("")},stringifyByChar:function(n){for(var t="",s=0;s<n.length;s++)t+=String.fromCharCode(n[s]);return t},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(r){return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch(r){return!1}}()}};function o(r){var n=65536,t=T.getTypeOf(r),s=!0;if(t==="uint8array"?s=m.applyCanBeUsed.uint8array:t==="nodebuffer"&&(s=m.applyCanBeUsed.nodebuffer),s)for(;1<n;)try{return m.stringifyByChunk(r,t,n)}catch(d){n=Math.floor(n/2)}return m.stringifyByChar(r)}function i(r,n){for(var t=0;t<r.length;t++)n[t]=r[t];return n}T.applyFromCharCode=o;var e={};e.string={string:f,array:function(n){return w(n,new Array(n.length))},arraybuffer:function(n){return e.string.uint8array(n).buffer},uint8array:function(n){return w(n,new Uint8Array(n.length))},nodebuffer:function(n){return w(n,p.allocBuffer(n.length))}},e.array={string:o,array:f,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return p.newBufferFrom(n)}},e.arraybuffer={string:function(n){return o(new Uint8Array(n))},array:function(n){return i(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:f,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return p.newBufferFrom(new Uint8Array(n))}},e.uint8array={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:f,nodebuffer:function(n){return p.newBufferFrom(n)}},e.nodebuffer={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return e.nodebuffer.uint8array(n).buffer},uint8array:function(n){return i(n,new Uint8Array(n.length))},nodebuffer:f},T.transformTo=function(r,n){if(n=n||"",!r)return n;T.checkSupport(r);var t=T.getTypeOf(n);return e[t][r](n)},T.resolve=function(r){for(var n=r.split("/"),t=[],s=0;s<n.length;s++){var d=n[s];d==="."||d===""&&s!==0&&s!==n.length-1||(d===".."?t.pop():t.push(d))}return t.join("/")},T.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":C.nodebuffer&&p.isBuffer(r)?"nodebuffer":C.uint8array&&r instanceof Uint8Array?"uint8array":C.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},T.checkSupport=function(r){if(!C[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},T.MAX_VALUE_16BITS=65535,T.MAX_VALUE_32BITS=-1,T.pretty=function(r){var n,t,s="";for(t=0;t<(r||"").length;t++)s+="\\x"+((n=r.charCodeAt(t))<16?"0":"")+n.toString(16).toUpperCase();return s},T.delay=function(r,n,t){setImmediate(function(){r.apply(t||null,n||[])})},T.inherits=function(r,n){function t(){}t.prototype=n.prototype,r.prototype=new t},T.extend=function(){var r,n,t={};for(r=0;r<arguments.length;r++)for(n in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],n)&&t[n]===void 0&&(t[n]=arguments[r][n]);return t},T.prepareContent=function(r,n,t,s,d){return h.Promise.resolve(n).then(function(b){return C.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader!="undefined"?new h.Promise(function(E,A){var S=new FileReader;S.onload=function(L){E(L.target.result)},S.onerror=function(L){A(L.target.error)},S.readAsArrayBuffer(b)}):b}).then(function(b){var E=T.getTypeOf(b);return E?(E==="arraybuffer"?b=T.transformTo("uint8array",b):E==="string"&&(d?b=g.decode(b):t&&s!==!0&&(b=function(A){return w(A,C.uint8array?new Uint8Array(A.length):new Array(A.length))}(b))),b):h.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function($,ne,T){"use strict";var C=$("./reader/readerFor"),g=$("./utils"),p=$("./signature"),h=$("./zipEntry"),f=$("./support");function w(m){this.files=[],this.loadOptions=m}w.prototype={checkSignature:function(o){if(!this.reader.readAndCheckSignature(o)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(i)+", expected "+g.pretty(o)+")")}},isSignature:function(o,i){var e=this.reader.index;this.reader.setIndex(o);var r=this.reader.readString(4)===i;return this.reader.setIndex(e),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var o=this.reader.readData(this.zipCommentLength),i=f.uint8array?"uint8array":"array",e=g.transformTo(i,o);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,i,e,r=this.zip64EndOfCentralSize-44;0<r;)o=this.reader.readInt(2),i=this.reader.readInt(4),e=this.reader.readData(i),this.zip64ExtensibleData[o]={id:o,length:i,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var o,i;for(o=0;o<this.files.length;o++)i=this.files[o],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var o;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(o=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(o);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var o=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(o<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(o);var i=o;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(o=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(o),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var r=i-e;if(0<r)this.isSignature(i,p.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(o){this.reader=C(o)},load:function(o){this.prepareReader(o),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ne.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function($,ne,T){"use strict";var C=$("./reader/readerFor"),g=$("./utils"),p=$("./compressedObject"),h=$("./crc32"),f=$("./utf8"),w=$("./compressions"),m=$("./support");function o(i,e){this.options=i,this.loadOptions=e}o.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var r,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((r=function(t){for(var s in w)if(Object.prototype.hasOwnProperty.call(w,s)&&w[s].magic===t)return w[s];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,r,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var r=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(r),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=C(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var r,n,t,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)r=e.readInt(2),n=e.readInt(2),t=e.readData(n),this.extraFields[r]={id:r,length:n,value:t};e.setIndex(s)},handleUTF8:function(){var e=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var r=this.findExtraFieldUnicodePath();if(r!==null)this.fileNameStr=r;else{var n=g.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var t=this.findExtraFieldUnicodeComment();if(t!==null)this.fileCommentStr=t;else{var s=g.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var r=C(e.value);return r.readInt(1)!==1||h(this.fileName)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var r=C(e.value);return r.readInt(1)!==1||h(this.fileComment)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null}},ne.exports=o},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function($,ne,T){"use strict";function C(e,r,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=r,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var g=$("./stream/StreamHelper"),p=$("./stream/DataWorker"),h=$("./utf8"),f=$("./compressedObject"),w=$("./stream/GenericWorker");C.prototype={internalStream:function(r){var n=null,t="string";try{if(!r)throw new Error("No output type specified.");var s=(t=r.toLowerCase())==="string"||t==="text";t!=="binarystring"&&t!=="text"||(t="string"),n=this._decompressWorker();var d=!this._dataBinary;d&&!s&&(n=n.pipe(new h.Utf8EncodeWorker)),!d&&s&&(n=n.pipe(new h.Utf8DecodeWorker))}catch(b){(n=new w("error")).error(b)}return new g(n,t,"")},async:function(r,n){return this.internalStream(r).accumulate(n)},nodeStream:function(r,n){return this.internalStream(r||"nodebuffer").toNodejsStream(n)},_compressWorker:function(r,n){if(this._data instanceof f&&this._data.compression.magic===r.magic)return this._data.getCompressedWorker();var t=this._decompressWorker();return this._dataBinary||(t=t.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(t,r,n)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof w?this._data:new p(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],o=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<m.length;i++)C.prototype[m[i]]=o;ne.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function($,ne,T){(function(C){"use strict";var g,p,h=C.MutationObserver||C.WebKitMutationObserver;if(h){var f=0,w=new h(e),m=C.document.createTextNode("");w.observe(m,{characterData:!0}),g=function(){m.data=f=++f%2}}else if(C.setImmediate||C.MessageChannel===void 0)g="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var r=C.document.createElement("script");r.onreadystatechange=function(){e(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},C.document.documentElement.appendChild(r)}:function(){setTimeout(e,0)};else{var o=new C.MessageChannel;o.port1.onmessage=e,g=function(){o.port2.postMessage(0)}}var i=[];function e(){var r,n;p=!0;for(var t=i.length;t;){for(n=i,i=[],r=-1;++r<t;)n[r]();t=i.length}p=!1}ne.exports=function(r){i.push(r)!==1||p||g()}}).call(this,typeof Ye!="undefined"?Ye:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function($,ne,T){"use strict";var C=$("immediate");function g(){}var p={},h=["REJECTED"],f=["FULFILLED"],w=["PENDING"];function m(t){if(typeof t!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,t!==g&&r(this,t)}function o(t,s,d){this.promise=t,typeof s=="function"&&(this.onFulfilled=s,this.callFulfilled=this.otherCallFulfilled),typeof d=="function"&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function i(t,s,d){C(function(){var b;try{b=s(d)}catch(E){return p.reject(t,E)}b===t?p.reject(t,new TypeError("Cannot resolve promise with itself")):p.resolve(t,b)})}function e(t){var s=t&&t.then;if(t&&(typeof t=="object"||typeof t=="function")&&typeof s=="function")return function(){s.apply(t,arguments)}}function r(t,s){var d=!1;function b(S){d||(d=!0,p.reject(t,S))}function E(S){d||(d=!0,p.resolve(t,S))}var A=n(function(){s(E,b)});A.status==="error"&&b(A.value)}function n(t,s){var d={};try{d.value=t(s),d.status="success"}catch(b){d.status="error",d.value=b}return d}(ne.exports=m).prototype.finally=function(t){if(typeof t!="function")return this;var s=this.constructor;return this.then(function(d){return s.resolve(t()).then(function(){return d})},function(d){return s.resolve(t()).then(function(){throw d})})},m.prototype.catch=function(t){return this.then(null,t)},m.prototype.then=function(t,s){if(typeof t!="function"&&this.state===f||typeof s!="function"&&this.state===h)return this;var d=new this.constructor(g);return this.state!==w?i(d,this.state===f?t:s,this.outcome):this.queue.push(new o(d,t,s)),d},o.prototype.callFulfilled=function(t){p.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){p.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)},p.resolve=function(t,s){var d=n(e,s);if(d.status==="error")return p.reject(t,d.value);var b=d.value;if(b)r(t,b);else{t.state=f,t.outcome=s;for(var E=-1,A=t.queue.length;++E<A;)t.queue[E].callFulfilled(s)}return t},p.reject=function(t,s){t.state=h,t.outcome=s;for(var d=-1,b=t.queue.length;++d<b;)t.queue[d].callRejected(s);return t},m.resolve=function(t){return t instanceof this?t:p.resolve(new this(g),t)},m.reject=function(t){var s=new this(g);return p.reject(s,t)},m.all=function(t){var s=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=t.length,b=!1;if(!d)return this.resolve([]);for(var E=new Array(d),A=0,S=-1,L=new this(g);++S<d;)O(t[S],S);return L;function O(N,H){s.resolve(N).then(function(F){E[H]=F,++A!==d||b||(b=!0,p.resolve(L,E))},function(F){b||(b=!0,p.reject(L,F))})}},m.race=function(t){var s=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=t.length,b=!1;if(!d)return this.resolve([]);for(var E=-1,A=new this(g);++E<d;)S=t[E],s.resolve(S).then(function(L){b||(b=!0,p.resolve(A,L))},function(L){b||(b=!0,p.reject(A,L))});var S;return A}},{immediate:36}],38:[function($,ne,T){"use strict";var C={};(0,$("./lib/utils/common").assign)(C,$("./lib/deflate"),$("./lib/inflate"),$("./lib/zlib/constants")),ne.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function($,ne,T){"use strict";var C=$("./zlib/deflate"),g=$("./utils/common"),p=$("./utils/strings"),h=$("./zlib/messages"),f=$("./zlib/zstream"),w=Object.prototype.toString,m=0,o=-1,i=0,e=8;function r(t){if(!(this instanceof r))return new r(t);this.options=g.assign({level:o,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},t||{});var s=this.options;s.raw&&0<s.windowBits?s.windowBits=-s.windowBits:s.gzip&&0<s.windowBits&&s.windowBits<16&&(s.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var d=C.deflateInit2(this.strm,s.level,s.method,s.windowBits,s.memLevel,s.strategy);if(d!==m)throw new Error(h[d]);if(s.header&&C.deflateSetHeader(this.strm,s.header),s.dictionary){var b;if(b=typeof s.dictionary=="string"?p.string2buf(s.dictionary):w.call(s.dictionary)==="[object ArrayBuffer]"?new Uint8Array(s.dictionary):s.dictionary,(d=C.deflateSetDictionary(this.strm,b))!==m)throw new Error(h[d]);this._dict_set=!0}}function n(t,s){var d=new r(s);if(d.push(t,!0),d.err)throw d.msg||h[d.err];return d.result}r.prototype.push=function(t,s){var d,b,E=this.strm,A=this.options.chunkSize;if(this.ended)return!1;b=s===~~s?s:s===!0?4:0,typeof t=="string"?E.input=p.string2buf(t):w.call(t)==="[object ArrayBuffer]"?E.input=new Uint8Array(t):E.input=t,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new g.Buf8(A),E.next_out=0,E.avail_out=A),(d=C.deflate(E,b))!==1&&d!==m)return this.onEnd(d),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(E.output,E.next_out))):this.onData(g.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&d!==1);return b===4?(d=C.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===m):b!==2||(this.onEnd(m),!(E.avail_out=0))},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},T.Deflate=r,T.deflate=n,T.deflateRaw=function(t,s){return(s=s||{}).raw=!0,n(t,s)},T.gzip=function(t,s){return(s=s||{}).gzip=!0,n(t,s)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function($,ne,T){"use strict";var C=$("./zlib/inflate"),g=$("./utils/common"),p=$("./utils/strings"),h=$("./zlib/constants"),f=$("./zlib/messages"),w=$("./zlib/zstream"),m=$("./zlib/gzheader"),o=Object.prototype.toString;function i(r){if(!(this instanceof i))return new i(r);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},r||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||r&&r.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&(15&n.windowBits)==0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var t=C.inflateInit2(this.strm,n.windowBits);if(t!==h.Z_OK)throw new Error(f[t]);this.header=new m,C.inflateGetHeader(this.strm,this.header)}function e(r,n){var t=new i(n);if(t.push(r,!0),t.err)throw t.msg||f[t.err];return t.result}i.prototype.push=function(r,n){var t,s,d,b,E,A,S=this.strm,L=this.options.chunkSize,O=this.options.dictionary,N=!1;if(this.ended)return!1;s=n===~~n?n:n===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof r=="string"?S.input=p.binstring2buf(r):o.call(r)==="[object ArrayBuffer]"?S.input=new Uint8Array(r):S.input=r,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new g.Buf8(L),S.next_out=0,S.avail_out=L),(t=C.inflate(S,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&O&&(A=typeof O=="string"?p.string2buf(O):o.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,t=C.inflateSetDictionary(this.strm,A)),t===h.Z_BUF_ERROR&&N===!0&&(t=h.Z_OK,N=!1),t!==h.Z_STREAM_END&&t!==h.Z_OK)return this.onEnd(t),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&t!==h.Z_STREAM_END&&(S.avail_in!==0||s!==h.Z_FINISH&&s!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(d=p.utf8border(S.output,S.next_out),b=S.next_out-d,E=p.buf2string(S.output,d),S.next_out=b,S.avail_out=L-b,b&&g.arraySet(S.output,S.output,d,b,0),this.onData(E)):this.onData(g.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(N=!0)}while((0<S.avail_in||S.avail_out===0)&&t!==h.Z_STREAM_END);return t===h.Z_STREAM_END&&(s=h.Z_FINISH),s===h.Z_FINISH?(t=C.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,t===h.Z_OK):s!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(S.avail_out=0))},i.prototype.onData=function(r){this.chunks.push(r)},i.prototype.onEnd=function(r){r===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},T.Inflate=i,T.inflate=e,T.inflateRaw=function(r,n){return(n=n||{}).raw=!0,e(r,n)},T.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function($,ne,T){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";T.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var w=f.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var m in w)w.hasOwnProperty(m)&&(h[m]=w[m])}}return h},T.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var g={arraySet:function(f,w,m,o,i){if(w.subarray&&f.subarray)f.set(w.subarray(m,m+o),i);else for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){var w,m,o,i,e,r;for(w=o=0,m=f.length;w<m;w++)o+=f[w].length;for(r=new Uint8Array(o),w=i=0,m=f.length;w<m;w++)e=f[w],r.set(e,i),i+=e.length;return r}},p={arraySet:function(f,w,m,o,i){for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){return[].concat.apply([],f)}};T.setTyped=function(h){h?(T.Buf8=Uint8Array,T.Buf16=Uint16Array,T.Buf32=Int32Array,T.assign(T,g)):(T.Buf8=Array,T.Buf16=Array,T.Buf32=Array,T.assign(T,p))},T.setTyped(C)},{}],42:[function($,ne,T){"use strict";var C=$("./common"),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch(m){g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(m){p=!1}for(var h=new C.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function w(m,o){if(o<65537&&(m.subarray&&p||!m.subarray&&g))return String.fromCharCode.apply(null,C.shrinkBuf(m,o));for(var i="",e=0;e<o;e++)i+=String.fromCharCode(m[e]);return i}h[254]=h[254]=1,T.string2buf=function(m){var o,i,e,r,n,t=m.length,s=0;for(r=0;r<t;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<t&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),s+=i<128?1:i<2048?2:i<65536?3:4;for(o=new C.Buf8(s),r=n=0;n<s;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<t&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),i<128?o[n++]=i:(i<2048?o[n++]=192|i>>>6:(i<65536?o[n++]=224|i>>>12:(o[n++]=240|i>>>18,o[n++]=128|i>>>12&63),o[n++]=128|i>>>6&63),o[n++]=128|63&i);return o},T.buf2binstring=function(m){return w(m,m.length)},T.binstring2buf=function(m){for(var o=new C.Buf8(m.length),i=0,e=o.length;i<e;i++)o[i]=m.charCodeAt(i);return o},T.buf2string=function(m,o){var i,e,r,n,t=o||m.length,s=new Array(2*t);for(i=e=0;i<t;)if((r=m[i++])<128)s[e++]=r;else if(4<(n=h[r]))s[e++]=65533,i+=n-1;else{for(r&=n===2?31:n===3?15:7;1<n&&i<t;)r=r<<6|63&m[i++],n--;1<n?s[e++]=65533:r<65536?s[e++]=r:(r-=65536,s[e++]=55296|r>>10&1023,s[e++]=56320|1023&r)}return w(s,e)},T.utf8border=function(m,o){var i;for((o=o||m.length)>m.length&&(o=m.length),i=o-1;0<=i&&(192&m[i])==128;)i--;return i<0||i===0?o:i+h[m[i]]>o?i:o}},{"./common":41}],43:[function($,ne,T){"use strict";ne.exports=function(C,g,p,h){for(var f=65535&C|0,w=C>>>16&65535|0,m=0;p!==0;){for(p-=m=2e3<p?2e3:p;w=w+(f=f+g[h++]|0)|0,--m;);f%=65521,w%=65521}return f|w<<16|0}},{}],44:[function($,ne,T){"use strict";ne.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function($,ne,T){"use strict";var C=function(){for(var g,p=[],h=0;h<256;h++){g=h;for(var f=0;f<8;f++)g=1&g?3988292384^g>>>1:g>>>1;p[h]=g}return p}();ne.exports=function(g,p,h,f){var w=C,m=f+h;g^=-1;for(var o=f;o<m;o++)g=g>>>8^w[255&(g^p[o])];return-1^g}},{}],46:[function($,ne,T){"use strict";var C,g=$("../utils/common"),p=$("./trees"),h=$("./adler32"),f=$("./crc32"),w=$("./messages"),m=0,o=4,i=0,e=-2,r=-1,n=4,t=2,s=8,d=9,b=286,E=30,A=19,S=2*b+1,L=15,O=3,N=258,H=N+O+1,F=42,Y=113,j=1,J=2,Q=3,G=4;function X(V,ge){return V.msg=w[ge],ge}function R(V){return(V<<1)-(4<V?9:0)}function K(V){for(var ge=V.length;0<=--ge;)V[ge]=0}function q(V){var ge=V.state,z=ge.pending;z>V.avail_out&&(z=V.avail_out),z!==0&&(g.arraySet(V.output,ge.pending_buf,ge.pending_out,z,V.next_out),V.next_out+=z,ge.pending_out+=z,V.total_out+=z,V.avail_out-=z,ge.pending-=z,ge.pending===0&&(ge.pending_out=0))}function D(V,ge){p._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ge),V.block_start=V.strstart,q(V.strm)}function Z(V,ge){V.pending_buf[V.pending++]=ge}function le(V,ge){V.pending_buf[V.pending++]=ge>>>8&255,V.pending_buf[V.pending++]=255&ge}function se(V,ge){var z,k,I=V.max_chain_length,W=V.strstart,ee=V.prev_length,ae=V.nice_match,oe=V.strstart>V.w_size-H?V.strstart-(V.w_size-H):0,Ee=V.window,Le=V.w_mask,Ie=V.prev,He=V.strstart+N,Ke=Ee[W+ee-1],rt=Ee[W+ee];V.prev_length>=V.good_match&&(I>>=2),ae>V.lookahead&&(ae=V.lookahead);do if(Ee[(z=ge)+ee]===rt&&Ee[z+ee-1]===Ke&&Ee[z]===Ee[W]&&Ee[++z]===Ee[W+1]){W+=2,z++;do;while(Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&Ee[++W]===Ee[++z]&&W<He);if(k=N-(He-W),W=He-N,ee<k){if(V.match_start=ge,ae<=(ee=k))break;Ke=Ee[W+ee-1],rt=Ee[W+ee]}}while((ge=Ie[ge&Le])>oe&&--I!=0);return ee<=V.lookahead?ee:V.lookahead}function fe(V){var ge,z,k,I,W,ee,ae,oe,Ee,Le,Ie=V.w_size;do{if(I=V.window_size-V.lookahead-V.strstart,V.strstart>=Ie+(Ie-H)){for(g.arraySet(V.window,V.window,Ie,Ie,0),V.match_start-=Ie,V.strstart-=Ie,V.block_start-=Ie,ge=z=V.hash_size;k=V.head[--ge],V.head[ge]=Ie<=k?k-Ie:0,--z;);for(ge=z=Ie;k=V.prev[--ge],V.prev[ge]=Ie<=k?k-Ie:0,--z;);I+=Ie}if(V.strm.avail_in===0)break;if(ee=V.strm,ae=V.window,oe=V.strstart+V.lookahead,Ee=I,Le=void 0,Le=ee.avail_in,Ee<Le&&(Le=Ee),z=Le===0?0:(ee.avail_in-=Le,g.arraySet(ae,ee.input,ee.next_in,Le,oe),ee.state.wrap===1?ee.adler=h(ee.adler,ae,Le,oe):ee.state.wrap===2&&(ee.adler=f(ee.adler,ae,Le,oe)),ee.next_in+=Le,ee.total_in+=Le,Le),V.lookahead+=z,V.lookahead+V.insert>=O)for(W=V.strstart-V.insert,V.ins_h=V.window[W],V.ins_h=(V.ins_h<<V.hash_shift^V.window[W+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[W+O-1])&V.hash_mask,V.prev[W&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=W,W++,V.insert--,!(V.lookahead+V.insert<O)););}while(V.lookahead<H&&V.strm.avail_in!==0)}function he(V,ge){for(var z,k;;){if(V.lookahead<H){if(fe(V),V.lookahead<H&&ge===m)return j;if(V.lookahead===0)break}if(z=0,V.lookahead>=O&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+O-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),z!==0&&V.strstart-z<=V.w_size-H&&(V.match_length=se(V,z)),V.match_length>=O)if(k=p._tr_tally(V,V.strstart-V.match_start,V.match_length-O),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=O){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+O-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else k=p._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(k&&(D(V,!1),V.strm.avail_out===0))return j}return V.insert=V.strstart<O-1?V.strstart:O-1,ge===o?(D(V,!0),V.strm.avail_out===0?Q:G):V.last_lit&&(D(V,!1),V.strm.avail_out===0)?j:J}function re(V,ge){for(var z,k,I;;){if(V.lookahead<H){if(fe(V),V.lookahead<H&&ge===m)return j;if(V.lookahead===0)break}if(z=0,V.lookahead>=O&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+O-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=O-1,z!==0&&V.prev_length<V.max_lazy_match&&V.strstart-z<=V.w_size-H&&(V.match_length=se(V,z),V.match_length<=5&&(V.strategy===1||V.match_length===O&&4096<V.strstart-V.match_start)&&(V.match_length=O-1)),V.prev_length>=O&&V.match_length<=V.prev_length){for(I=V.strstart+V.lookahead-O,k=p._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-O),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+O-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=O-1,V.strstart++,k&&(D(V,!1),V.strm.avail_out===0))return j}else if(V.match_available){if((k=p._tr_tally(V,0,V.window[V.strstart-1]))&&D(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return j}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(k=p._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<O-1?V.strstart:O-1,ge===o?(D(V,!0),V.strm.avail_out===0?Q:G):V.last_lit&&(D(V,!1),V.strm.avail_out===0)?j:J}function ce(V,ge,z,k,I){this.good_length=V,this.max_lazy=ge,this.nice_length=z,this.max_chain=k,this.func=I}function ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=s,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(2*S),this.dyn_dtree=new g.Buf16(2*(2*E+1)),this.bl_tree=new g.Buf16(2*(2*A+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(L+1),this.heap=new g.Buf16(2*b+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(2*b+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function we(V){var ge;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=t,(ge=V.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?F:Y,V.adler=ge.wrap===2?0:1,ge.last_flush=m,p._tr_init(ge),i):X(V,e)}function ke(V){var ge=we(V);return ge===i&&function(z){z.window_size=2*z.w_size,K(z.head),z.max_lazy_match=C[z.level].max_lazy,z.good_match=C[z.level].good_length,z.nice_match=C[z.level].nice_length,z.max_chain_length=C[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=O-1,z.match_available=0,z.ins_h=0}(V.state),ge}function de(V,ge,z,k,I,W){if(!V)return e;var ee=1;if(ge===r&&(ge=6),k<0?(ee=0,k=-k):15<k&&(ee=2,k-=16),I<1||d<I||z!==s||k<8||15<k||ge<0||9<ge||W<0||n<W)return X(V,e);k===8&&(k=9);var ae=new ve;return(V.state=ae).strm=V,ae.wrap=ee,ae.gzhead=null,ae.w_bits=k,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=I+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+O-1)/O),ae.window=new g.Buf8(2*ae.w_size),ae.head=new g.Buf16(ae.hash_size),ae.prev=new g.Buf16(ae.w_size),ae.lit_bufsize=1<<I+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new g.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=ge,ae.strategy=W,ae.method=z,ke(V)}C=[new ce(0,0,0,0,function(V,ge){var z=65535;for(z>V.pending_buf_size-5&&(z=V.pending_buf_size-5);;){if(V.lookahead<=1){if(fe(V),V.lookahead===0&&ge===m)return j;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var k=V.block_start+z;if((V.strstart===0||V.strstart>=k)&&(V.lookahead=V.strstart-k,V.strstart=k,D(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-H&&(D(V,!1),V.strm.avail_out===0))return j}return V.insert=0,ge===o?(D(V,!0),V.strm.avail_out===0?Q:G):(V.strstart>V.block_start&&(D(V,!1),V.strm.avail_out),j)}),new ce(4,4,8,4,he),new ce(4,5,16,8,he),new ce(4,6,32,32,he),new ce(4,4,16,16,re),new ce(8,16,32,32,re),new ce(8,16,128,128,re),new ce(8,32,128,256,re),new ce(32,128,258,1024,re),new ce(32,258,258,4096,re)],T.deflateInit=function(V,ge){return de(V,ge,s,15,8,0)},T.deflateInit2=de,T.deflateReset=ke,T.deflateResetKeep=we,T.deflateSetHeader=function(V,ge){return V&&V.state?V.state.wrap!==2?e:(V.state.gzhead=ge,i):e},T.deflate=function(V,ge){var z,k,I,W;if(!V||!V.state||5<ge||ge<0)return V?X(V,e):e;if(k=V.state,!V.output||!V.input&&V.avail_in!==0||k.status===666&&ge!==o)return X(V,V.avail_out===0?-5:e);if(k.strm=V,z=k.last_flush,k.last_flush=ge,k.status===F)if(k.wrap===2)V.adler=0,Z(k,31),Z(k,139),Z(k,8),k.gzhead?(Z(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Z(k,255&k.gzhead.time),Z(k,k.gzhead.time>>8&255),Z(k,k.gzhead.time>>16&255),Z(k,k.gzhead.time>>24&255),Z(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Z(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(Z(k,255&k.gzhead.extra.length),Z(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(V.adler=f(V.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Z(k,3),k.status=Y);else{var ee=s+(k.w_bits-8<<4)<<8;ee|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(ee|=32),ee+=31-ee%31,k.status=Y,le(k,ee),k.strstart!==0&&(le(k,V.adler>>>16),le(k,65535&V.adler)),V.adler=1}if(k.status===69)if(k.gzhead.extra){for(I=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),q(V),I=k.pending,k.pending!==k.pending_buf_size));)Z(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),q(V),I=k.pending,k.pending===k.pending_buf_size)){W=1;break}W=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,Z(k,W)}while(W!==0);k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),W===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),q(V),I=k.pending,k.pending===k.pending_buf_size)){W=1;break}W=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,Z(k,W)}while(W!==0);k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),W===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&q(V),k.pending+2<=k.pending_buf_size&&(Z(k,255&V.adler),Z(k,V.adler>>8&255),V.adler=0,k.status=Y)):k.status=Y),k.pending!==0){if(q(V),V.avail_out===0)return k.last_flush=-1,i}else if(V.avail_in===0&&R(ge)<=R(z)&&ge!==o)return X(V,-5);if(k.status===666&&V.avail_in!==0)return X(V,-5);if(V.avail_in!==0||k.lookahead!==0||ge!==m&&k.status!==666){var ae=k.strategy===2?function(oe,Ee){for(var Le;;){if(oe.lookahead===0&&(fe(oe),oe.lookahead===0)){if(Ee===m)return j;break}if(oe.match_length=0,Le=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,Le&&(D(oe,!1),oe.strm.avail_out===0))return j}return oe.insert=0,Ee===o?(D(oe,!0),oe.strm.avail_out===0?Q:G):oe.last_lit&&(D(oe,!1),oe.strm.avail_out===0)?j:J}(k,ge):k.strategy===3?function(oe,Ee){for(var Le,Ie,He,Ke,rt=oe.window;;){if(oe.lookahead<=N){if(fe(oe),oe.lookahead<=N&&Ee===m)return j;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=O&&0<oe.strstart&&(Ie=rt[He=oe.strstart-1])===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]){Ke=oe.strstart+N;do;while(Ie===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]&&Ie===rt[++He]&&He<Ke);oe.match_length=N-(Ke-He),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=O?(Le=p._tr_tally(oe,1,oe.match_length-O),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(Le=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),Le&&(D(oe,!1),oe.strm.avail_out===0))return j}return oe.insert=0,Ee===o?(D(oe,!0),oe.strm.avail_out===0?Q:G):oe.last_lit&&(D(oe,!1),oe.strm.avail_out===0)?j:J}(k,ge):C[k.level].func(k,ge);if(ae!==Q&&ae!==G||(k.status=666),ae===j||ae===Q)return V.avail_out===0&&(k.last_flush=-1),i;if(ae===J&&(ge===1?p._tr_align(k):ge!==5&&(p._tr_stored_block(k,0,0,!1),ge===3&&(K(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),q(V),V.avail_out===0))return k.last_flush=-1,i}return ge!==o?i:k.wrap<=0?1:(k.wrap===2?(Z(k,255&V.adler),Z(k,V.adler>>8&255),Z(k,V.adler>>16&255),Z(k,V.adler>>24&255),Z(k,255&V.total_in),Z(k,V.total_in>>8&255),Z(k,V.total_in>>16&255),Z(k,V.total_in>>24&255)):(le(k,V.adler>>>16),le(k,65535&V.adler)),q(V),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?i:1)},T.deflateEnd=function(V){var ge;return V&&V.state?(ge=V.state.status)!==F&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==Y&&ge!==666?X(V,e):(V.state=null,ge===Y?X(V,-3):i):e},T.deflateSetDictionary=function(V,ge){var z,k,I,W,ee,ae,oe,Ee,Le=ge.length;if(!V||!V.state||(W=(z=V.state).wrap)===2||W===1&&z.status!==F||z.lookahead)return e;for(W===1&&(V.adler=h(V.adler,ge,Le,0)),z.wrap=0,Le>=z.w_size&&(W===0&&(K(z.head),z.strstart=0,z.block_start=0,z.insert=0),Ee=new g.Buf8(z.w_size),g.arraySet(Ee,ge,Le-z.w_size,z.w_size,0),ge=Ee,Le=z.w_size),ee=V.avail_in,ae=V.next_in,oe=V.input,V.avail_in=Le,V.next_in=0,V.input=ge,fe(z);z.lookahead>=O;){for(k=z.strstart,I=z.lookahead-(O-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[k+O-1])&z.hash_mask,z.prev[k&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=k,k++,--I;);z.strstart=k,z.lookahead=O-1,fe(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=O-1,z.match_available=0,V.next_in=ae,V.input=oe,V.avail_in=ee,z.wrap=W,i},T.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function($,ne,T){"use strict";ne.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function($,ne,T){"use strict";ne.exports=function(C,g){var p,h,f,w,m,o,i,e,r,n,t,s,d,b,E,A,S,L,O,N,H,F,Y,j,J;p=C.state,h=C.next_in,j=C.input,f=h+(C.avail_in-5),w=C.next_out,J=C.output,m=w-(g-C.avail_out),o=w+(C.avail_out-257),i=p.dmax,e=p.wsize,r=p.whave,n=p.wnext,t=p.window,s=p.hold,d=p.bits,b=p.lencode,E=p.distcode,A=(1<<p.lenbits)-1,S=(1<<p.distbits)-1;e:do{d<15&&(s+=j[h++]<<d,d+=8,s+=j[h++]<<d,d+=8),L=b[s&A];t:for(;;){if(s>>>=O=L>>>24,d-=O,(O=L>>>16&255)==0)J[w++]=65535&L;else{if(!(16&O)){if((64&O)==0){L=b[(65535&L)+(s&(1<<O)-1)];continue t}if(32&O){p.mode=12;break e}C.msg="invalid literal/length code",p.mode=30;break e}N=65535&L,(O&=15)&&(d<O&&(s+=j[h++]<<d,d+=8),N+=s&(1<<O)-1,s>>>=O,d-=O),d<15&&(s+=j[h++]<<d,d+=8,s+=j[h++]<<d,d+=8),L=E[s&S];r:for(;;){if(s>>>=O=L>>>24,d-=O,!(16&(O=L>>>16&255))){if((64&O)==0){L=E[(65535&L)+(s&(1<<O)-1)];continue r}C.msg="invalid distance code",p.mode=30;break e}if(H=65535&L,d<(O&=15)&&(s+=j[h++]<<d,(d+=8)<O&&(s+=j[h++]<<d,d+=8)),i<(H+=s&(1<<O)-1)){C.msg="invalid distance too far back",p.mode=30;break e}if(s>>>=O,d-=O,(O=w-m)<H){if(r<(O=H-O)&&p.sane){C.msg="invalid distance too far back",p.mode=30;break e}if(Y=t,(F=0)===n){if(F+=e-O,O<N){for(N-=O;J[w++]=t[F++],--O;);F=w-H,Y=J}}else if(n<O){if(F+=e+n-O,(O-=n)<N){for(N-=O;J[w++]=t[F++],--O;);if(F=0,n<N){for(N-=O=n;J[w++]=t[F++],--O;);F=w-H,Y=J}}}else if(F+=n-O,O<N){for(N-=O;J[w++]=t[F++],--O;);F=w-H,Y=J}for(;2<N;)J[w++]=Y[F++],J[w++]=Y[F++],J[w++]=Y[F++],N-=3;N&&(J[w++]=Y[F++],1<N&&(J[w++]=Y[F++]))}else{for(F=w-H;J[w++]=J[F++],J[w++]=J[F++],J[w++]=J[F++],2<(N-=3););N&&(J[w++]=J[F++],1<N&&(J[w++]=J[F++]))}break}}break}}while(h<f&&w<o);h-=N=d>>3,s&=(1<<(d-=N<<3))-1,C.next_in=h,C.next_out=w,C.avail_in=h<f?f-h+5:5-(h-f),C.avail_out=w<o?o-w+257:257-(w-o),p.hold=s,p.bits=d}},{}],49:[function($,ne,T){"use strict";var C=$("../utils/common"),g=$("./adler32"),p=$("./crc32"),h=$("./inffast"),f=$("./inftrees"),w=1,m=2,o=0,i=-2,e=1,r=852,n=592;function t(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(F){var Y;return F&&F.state?(Y=F.state,F.total_in=F.total_out=Y.total=0,F.msg="",Y.wrap&&(F.adler=1&Y.wrap),Y.mode=e,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new C.Buf32(r),Y.distcode=Y.distdyn=new C.Buf32(n),Y.sane=1,Y.back=-1,o):i}function b(F){var Y;return F&&F.state?((Y=F.state).wsize=0,Y.whave=0,Y.wnext=0,d(F)):i}function E(F,Y){var j,J;return F&&F.state?(J=F.state,Y<0?(j=0,Y=-Y):(j=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?i:(J.window!==null&&J.wbits!==Y&&(J.window=null),J.wrap=j,J.wbits=Y,b(F))):i}function A(F,Y){var j,J;return F?(J=new s,(F.state=J).window=null,(j=E(F,Y))!==o&&(F.state=null),j):i}var S,L,O=!0;function N(F){if(O){var Y;for(S=new C.Buf32(512),L=new C.Buf32(32),Y=0;Y<144;)F.lens[Y++]=8;for(;Y<256;)F.lens[Y++]=9;for(;Y<280;)F.lens[Y++]=7;for(;Y<288;)F.lens[Y++]=8;for(f(w,F.lens,0,288,S,0,F.work,{bits:9}),Y=0;Y<32;)F.lens[Y++]=5;f(m,F.lens,0,32,L,0,F.work,{bits:5}),O=!1}F.lencode=S,F.lenbits=9,F.distcode=L,F.distbits=5}function H(F,Y,j,J){var Q,G=F.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new C.Buf8(G.wsize)),J>=G.wsize?(C.arraySet(G.window,Y,j-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(J<(Q=G.wsize-G.wnext)&&(Q=J),C.arraySet(G.window,Y,j-J,Q,G.wnext),(J-=Q)?(C.arraySet(G.window,Y,j-J,J,0),G.wnext=J,G.whave=G.wsize):(G.wnext+=Q,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=Q))),0}T.inflateReset=b,T.inflateReset2=E,T.inflateResetKeep=d,T.inflateInit=function(F){return A(F,15)},T.inflateInit2=A,T.inflate=function(F,Y){var j,J,Q,G,X,R,K,q,D,Z,le,se,fe,he,re,ce,ve,we,ke,de,V,ge,z,k,I=0,W=new C.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return i;(j=F.state).mode===12&&(j.mode=13),X=F.next_out,Q=F.output,K=F.avail_out,G=F.next_in,J=F.input,R=F.avail_in,q=j.hold,D=j.bits,Z=R,le=K,ge=o;e:for(;;)switch(j.mode){case e:if(j.wrap===0){j.mode=13;break}for(;D<16;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(2&j.wrap&&q===35615){W[j.check=0]=255&q,W[1]=q>>>8&255,j.check=p(j.check,W,2,0),D=q=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&q)<<8)+(q>>8))%31){F.msg="incorrect header check",j.mode=30;break}if((15&q)!=8){F.msg="unknown compression method",j.mode=30;break}if(D-=4,V=8+(15&(q>>>=4)),j.wbits===0)j.wbits=V;else if(V>j.wbits){F.msg="invalid window size",j.mode=30;break}j.dmax=1<<V,F.adler=j.check=1,j.mode=512&q?10:12,D=q=0;break;case 2:for(;D<16;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(j.flags=q,(255&j.flags)!=8){F.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){F.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=q>>8&1),512&j.flags&&(W[0]=255&q,W[1]=q>>>8&255,j.check=p(j.check,W,2,0)),D=q=0,j.mode=3;case 3:for(;D<32;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}j.head&&(j.head.time=q),512&j.flags&&(W[0]=255&q,W[1]=q>>>8&255,W[2]=q>>>16&255,W[3]=q>>>24&255,j.check=p(j.check,W,4,0)),D=q=0,j.mode=4;case 4:for(;D<16;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}j.head&&(j.head.xflags=255&q,j.head.os=q>>8),512&j.flags&&(W[0]=255&q,W[1]=q>>>8&255,j.check=p(j.check,W,2,0)),D=q=0,j.mode=5;case 5:if(1024&j.flags){for(;D<16;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}j.length=q,j.head&&(j.head.extra_len=q),512&j.flags&&(W[0]=255&q,W[1]=q>>>8&255,j.check=p(j.check,W,2,0)),D=q=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(R<(se=j.length)&&(se=R),se&&(j.head&&(V=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),C.arraySet(j.head.extra,J,G,se,V)),512&j.flags&&(j.check=p(j.check,J,se,G)),R-=se,G+=se,j.length-=se),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(R===0)break e;for(se=0;V=J[G+se++],j.head&&V&&j.length<65536&&(j.head.name+=String.fromCharCode(V)),V&&se<R;);if(512&j.flags&&(j.check=p(j.check,J,se,G)),R-=se,G+=se,V)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(R===0)break e;for(se=0;V=J[G+se++],j.head&&V&&j.length<65536&&(j.head.comment+=String.fromCharCode(V)),V&&se<R;);if(512&j.flags&&(j.check=p(j.check,J,se,G)),R-=se,G+=se,V)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;D<16;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(q!==(65535&j.check)){F.msg="header crc mismatch",j.mode=30;break}D=q=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),F.adler=j.check=0,j.mode=12;break;case 10:for(;D<32;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}F.adler=j.check=t(q),D=q=0,j.mode=11;case 11:if(j.havedict===0)return F.next_out=X,F.avail_out=K,F.next_in=G,F.avail_in=R,j.hold=q,j.bits=D,2;F.adler=j.check=1,j.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(j.last){q>>>=7&D,D-=7&D,j.mode=27;break}for(;D<3;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}switch(j.last=1&q,D-=1,3&(q>>>=1)){case 0:j.mode=14;break;case 1:if(N(j),j.mode=20,Y!==6)break;q>>>=2,D-=2;break e;case 2:j.mode=17;break;case 3:F.msg="invalid block type",j.mode=30}q>>>=2,D-=2;break;case 14:for(q>>>=7&D,D-=7&D;D<32;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if((65535&q)!=(q>>>16^65535)){F.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&q,D=q=0,j.mode=15,Y===6)break e;case 15:j.mode=16;case 16:if(se=j.length){if(R<se&&(se=R),K<se&&(se=K),se===0)break e;C.arraySet(Q,J,G,se,X),R-=se,G+=se,K-=se,X+=se,j.length-=se;break}j.mode=12;break;case 17:for(;D<14;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(j.nlen=257+(31&q),q>>>=5,D-=5,j.ndist=1+(31&q),q>>>=5,D-=5,j.ncode=4+(15&q),q>>>=4,D-=4,286<j.nlen||30<j.ndist){F.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;D<3;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}j.lens[ee[j.have++]]=7&q,q>>>=3,D-=3}for(;j.have<19;)j.lens[ee[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,z={bits:j.lenbits},ge=f(0,j.lens,0,19,j.lencode,0,j.work,z),j.lenbits=z.bits,ge){F.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;ce=(I=j.lencode[q&(1<<j.lenbits)-1])>>>16&255,ve=65535&I,!((re=I>>>24)<=D);){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(ve<16)q>>>=re,D-=re,j.lens[j.have++]=ve;else{if(ve===16){for(k=re+2;D<k;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(q>>>=re,D-=re,j.have===0){F.msg="invalid bit length repeat",j.mode=30;break}V=j.lens[j.have-1],se=3+(3&q),q>>>=2,D-=2}else if(ve===17){for(k=re+3;D<k;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}D-=re,V=0,se=3+(7&(q>>>=re)),q>>>=3,D-=3}else{for(k=re+7;D<k;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}D-=re,V=0,se=11+(127&(q>>>=re)),q>>>=7,D-=7}if(j.have+se>j.nlen+j.ndist){F.msg="invalid bit length repeat",j.mode=30;break}for(;se--;)j.lens[j.have++]=V}}if(j.mode===30)break;if(j.lens[256]===0){F.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,z={bits:j.lenbits},ge=f(w,j.lens,0,j.nlen,j.lencode,0,j.work,z),j.lenbits=z.bits,ge){F.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,z={bits:j.distbits},ge=f(m,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,z),j.distbits=z.bits,ge){F.msg="invalid distances set",j.mode=30;break}if(j.mode=20,Y===6)break e;case 20:j.mode=21;case 21:if(6<=R&&258<=K){F.next_out=X,F.avail_out=K,F.next_in=G,F.avail_in=R,j.hold=q,j.bits=D,h(F,le),X=F.next_out,Q=F.output,K=F.avail_out,G=F.next_in,J=F.input,R=F.avail_in,q=j.hold,D=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;ce=(I=j.lencode[q&(1<<j.lenbits)-1])>>>16&255,ve=65535&I,!((re=I>>>24)<=D);){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(ce&&(240&ce)==0){for(we=re,ke=ce,de=ve;ce=(I=j.lencode[de+((q&(1<<we+ke)-1)>>we)])>>>16&255,ve=65535&I,!(we+(re=I>>>24)<=D);){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}q>>>=we,D-=we,j.back+=we}if(q>>>=re,D-=re,j.back+=re,j.length=ve,ce===0){j.mode=26;break}if(32&ce){j.back=-1,j.mode=12;break}if(64&ce){F.msg="invalid literal/length code",j.mode=30;break}j.extra=15&ce,j.mode=22;case 22:if(j.extra){for(k=j.extra;D<k;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}j.length+=q&(1<<j.extra)-1,q>>>=j.extra,D-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;ce=(I=j.distcode[q&(1<<j.distbits)-1])>>>16&255,ve=65535&I,!((re=I>>>24)<=D);){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if((240&ce)==0){for(we=re,ke=ce,de=ve;ce=(I=j.distcode[de+((q&(1<<we+ke)-1)>>we)])>>>16&255,ve=65535&I,!(we+(re=I>>>24)<=D);){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}q>>>=we,D-=we,j.back+=we}if(q>>>=re,D-=re,j.back+=re,64&ce){F.msg="invalid distance code",j.mode=30;break}j.offset=ve,j.extra=15&ce,j.mode=24;case 24:if(j.extra){for(k=j.extra;D<k;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}j.offset+=q&(1<<j.extra)-1,q>>>=j.extra,D-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){F.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(K===0)break e;if(se=le-K,j.offset>se){if((se=j.offset-se)>j.whave&&j.sane){F.msg="invalid distance too far back",j.mode=30;break}fe=se>j.wnext?(se-=j.wnext,j.wsize-se):j.wnext-se,se>j.length&&(se=j.length),he=j.window}else he=Q,fe=X-j.offset,se=j.length;for(K<se&&(se=K),K-=se,j.length-=se;Q[X++]=he[fe++],--se;);j.length===0&&(j.mode=21);break;case 26:if(K===0)break e;Q[X++]=j.length,K--,j.mode=21;break;case 27:if(j.wrap){for(;D<32;){if(R===0)break e;R--,q|=J[G++]<<D,D+=8}if(le-=K,F.total_out+=le,j.total+=le,le&&(F.adler=j.check=j.flags?p(j.check,Q,le,X-le):g(j.check,Q,le,X-le)),le=K,(j.flags?q:t(q))!==j.check){F.msg="incorrect data check",j.mode=30;break}D=q=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;D<32;){if(R===0)break e;R--,q+=J[G++]<<D,D+=8}if(q!==(4294967295&j.total)){F.msg="incorrect length check",j.mode=30;break}D=q=0}j.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return i}return F.next_out=X,F.avail_out=K,F.next_in=G,F.avail_in=R,j.hold=q,j.bits=D,(j.wsize||le!==F.avail_out&&j.mode<30&&(j.mode<27||Y!==4))&&H(F,F.output,F.next_out,le-F.avail_out)?(j.mode=31,-4):(Z-=F.avail_in,le-=F.avail_out,F.total_in+=Z,F.total_out+=le,j.total+=le,j.wrap&&le&&(F.adler=j.check=j.flags?p(j.check,Q,le,F.next_out-le):g(j.check,Q,le,F.next_out-le)),F.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(Z==0&&le===0||Y===4)&&ge===o&&(ge=-5),ge)},T.inflateEnd=function(F){if(!F||!F.state)return i;var Y=F.state;return Y.window&&(Y.window=null),F.state=null,o},T.inflateGetHeader=function(F,Y){var j;return F&&F.state?(2&(j=F.state).wrap)==0?i:((j.head=Y).done=!1,o):i},T.inflateSetDictionary=function(F,Y){var j,J=Y.length;return F&&F.state?(j=F.state).wrap!==0&&j.mode!==11?i:j.mode===11&&g(1,Y,J,0)!==j.check?-3:H(F,Y,J,J)?(j.mode=31,-4):(j.havedict=1,o):i},T.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function($,ne,T){"use strict";var C=$("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ne.exports=function(w,m,o,i,e,r,n,t){var s,d,b,E,A,S,L,O,N,H=t.bits,F=0,Y=0,j=0,J=0,Q=0,G=0,X=0,R=0,K=0,q=0,D=null,Z=0,le=new C.Buf16(16),se=new C.Buf16(16),fe=null,he=0;for(F=0;F<=15;F++)le[F]=0;for(Y=0;Y<i;Y++)le[m[o+Y]]++;for(Q=H,J=15;1<=J&&le[J]===0;J--);if(J<Q&&(Q=J),J===0)return e[r++]=20971520,e[r++]=20971520,t.bits=1,0;for(j=1;j<J&&le[j]===0;j++);for(Q<j&&(Q=j),F=R=1;F<=15;F++)if(R<<=1,(R-=le[F])<0)return-1;if(0<R&&(w===0||J!==1))return-1;for(se[1]=0,F=1;F<15;F++)se[F+1]=se[F]+le[F];for(Y=0;Y<i;Y++)m[o+Y]!==0&&(n[se[m[o+Y]]++]=Y);if(S=w===0?(D=fe=n,19):w===1?(D=g,Z-=257,fe=p,he-=257,256):(D=h,fe=f,-1),F=j,A=r,X=Y=q=0,b=-1,E=(K=1<<(G=Q))-1,w===1&&852<K||w===2&&592<K)return 1;for(;;){for(L=F-X,N=n[Y]<S?(O=0,n[Y]):n[Y]>S?(O=fe[he+n[Y]],D[Z+n[Y]]):(O=96,0),s=1<<F-X,j=d=1<<G;e[A+(q>>X)+(d-=s)]=L<<24|O<<16|N|0,d!==0;);for(s=1<<F-1;q&s;)s>>=1;if(s!==0?(q&=s-1,q+=s):q=0,Y++,--le[F]==0){if(F===J)break;F=m[o+n[Y]]}if(Q<F&&(q&E)!==b){for(X===0&&(X=Q),A+=j,R=1<<(G=F-X);G+X<J&&!((R-=le[G+X])<=0);)G++,R<<=1;if(K+=1<<G,w===1&&852<K||w===2&&592<K)return 1;e[b=q&E]=Q<<24|G<<16|A-r|0}}return q!==0&&(e[A+q]=F-X<<24|64<<16|0),t.bits=Q,0}},{"../utils/common":41}],51:[function($,ne,T){"use strict";ne.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function($,ne,T){"use strict";var C=$("../utils/common"),g=0,p=1;function h(I){for(var W=I.length;0<=--W;)I[W]=0}var f=0,w=29,m=256,o=m+1+w,i=30,e=19,r=2*o+1,n=15,t=16,s=7,d=256,b=16,E=17,A=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(o+2));h(H);var F=new Array(2*i);h(F);var Y=new Array(512);h(Y);var j=new Array(256);h(j);var J=new Array(w);h(J);var Q,G,X,R=new Array(i);function K(I,W,ee,ae,oe){this.static_tree=I,this.extra_bits=W,this.extra_base=ee,this.elems=ae,this.max_length=oe,this.has_stree=I&&I.length}function q(I,W){this.dyn_tree=I,this.max_code=0,this.stat_desc=W}function D(I){return I<256?Y[I]:Y[256+(I>>>7)]}function Z(I,W){I.pending_buf[I.pending++]=255&W,I.pending_buf[I.pending++]=W>>>8&255}function le(I,W,ee){I.bi_valid>t-ee?(I.bi_buf|=W<<I.bi_valid&65535,Z(I,I.bi_buf),I.bi_buf=W>>t-I.bi_valid,I.bi_valid+=ee-t):(I.bi_buf|=W<<I.bi_valid&65535,I.bi_valid+=ee)}function se(I,W,ee){le(I,ee[2*W],ee[2*W+1])}function fe(I,W){for(var ee=0;ee|=1&I,I>>>=1,ee<<=1,0<--W;);return ee>>>1}function he(I,W,ee){var ae,oe,Ee=new Array(n+1),Le=0;for(ae=1;ae<=n;ae++)Ee[ae]=Le=Le+ee[ae-1]<<1;for(oe=0;oe<=W;oe++){var Ie=I[2*oe+1];Ie!==0&&(I[2*oe]=fe(Ee[Ie]++,Ie))}}function re(I){var W;for(W=0;W<o;W++)I.dyn_ltree[2*W]=0;for(W=0;W<i;W++)I.dyn_dtree[2*W]=0;for(W=0;W<e;W++)I.bl_tree[2*W]=0;I.dyn_ltree[2*d]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function ce(I){8<I.bi_valid?Z(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function ve(I,W,ee,ae){var oe=2*W,Ee=2*ee;return I[oe]<I[Ee]||I[oe]===I[Ee]&&ae[W]<=ae[ee]}function we(I,W,ee){for(var ae=I.heap[ee],oe=ee<<1;oe<=I.heap_len&&(oe<I.heap_len&&ve(W,I.heap[oe+1],I.heap[oe],I.depth)&&oe++,!ve(W,ae,I.heap[oe],I.depth));)I.heap[ee]=I.heap[oe],ee=oe,oe<<=1;I.heap[ee]=ae}function ke(I,W,ee){var ae,oe,Ee,Le,Ie=0;if(I.last_lit!==0)for(;ae=I.pending_buf[I.d_buf+2*Ie]<<8|I.pending_buf[I.d_buf+2*Ie+1],oe=I.pending_buf[I.l_buf+Ie],Ie++,ae===0?se(I,oe,W):(se(I,(Ee=j[oe])+m+1,W),(Le=S[Ee])!==0&&le(I,oe-=J[Ee],Le),se(I,Ee=D(--ae),ee),(Le=L[Ee])!==0&&le(I,ae-=R[Ee],Le)),Ie<I.last_lit;);se(I,d,W)}function de(I,W){var ee,ae,oe,Ee=W.dyn_tree,Le=W.stat_desc.static_tree,Ie=W.stat_desc.has_stree,He=W.stat_desc.elems,Ke=-1;for(I.heap_len=0,I.heap_max=r,ee=0;ee<He;ee++)Ee[2*ee]!==0?(I.heap[++I.heap_len]=Ke=ee,I.depth[ee]=0):Ee[2*ee+1]=0;for(;I.heap_len<2;)Ee[2*(oe=I.heap[++I.heap_len]=Ke<2?++Ke:0)]=1,I.depth[oe]=0,I.opt_len--,Ie&&(I.static_len-=Le[2*oe+1]);for(W.max_code=Ke,ee=I.heap_len>>1;1<=ee;ee--)we(I,Ee,ee);for(oe=He;ee=I.heap[1],I.heap[1]=I.heap[I.heap_len--],we(I,Ee,1),ae=I.heap[1],I.heap[--I.heap_max]=ee,I.heap[--I.heap_max]=ae,Ee[2*oe]=Ee[2*ee]+Ee[2*ae],I.depth[oe]=(I.depth[ee]>=I.depth[ae]?I.depth[ee]:I.depth[ae])+1,Ee[2*ee+1]=Ee[2*ae+1]=oe,I.heap[1]=oe++,we(I,Ee,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(rt,dt){var xt,It,Ot,pt,Bt,Ut,kt=dt.dyn_tree,rr=dt.max_code,Qt=dt.stat_desc.static_tree,Pt=dt.stat_desc.has_stree,Ft=dt.stat_desc.extra_bits,vr=dt.stat_desc.extra_base,ir=dt.stat_desc.max_length,Ht=0;for(pt=0;pt<=n;pt++)rt.bl_count[pt]=0;for(kt[2*rt.heap[rt.heap_max]+1]=0,xt=rt.heap_max+1;xt<r;xt++)ir<(pt=kt[2*kt[2*(It=rt.heap[xt])+1]+1]+1)&&(pt=ir,Ht++),kt[2*It+1]=pt,rr<It||(rt.bl_count[pt]++,Bt=0,vr<=It&&(Bt=Ft[It-vr]),Ut=kt[2*It],rt.opt_len+=Ut*(pt+Bt),Pt&&(rt.static_len+=Ut*(Qt[2*It+1]+Bt)));if(Ht!==0){do{for(pt=ir-1;rt.bl_count[pt]===0;)pt--;rt.bl_count[pt]--,rt.bl_count[pt+1]+=2,rt.bl_count[ir]--,Ht-=2}while(0<Ht);for(pt=ir;pt!==0;pt--)for(It=rt.bl_count[pt];It!==0;)rr<(Ot=rt.heap[--xt])||(kt[2*Ot+1]!==pt&&(rt.opt_len+=(pt-kt[2*Ot+1])*kt[2*Ot],kt[2*Ot+1]=pt),It--)}}(I,W),he(Ee,Ke,I.bl_count)}function V(I,W,ee){var ae,oe,Ee=-1,Le=W[1],Ie=0,He=7,Ke=4;for(Le===0&&(He=138,Ke=3),W[2*(ee+1)+1]=65535,ae=0;ae<=ee;ae++)oe=Le,Le=W[2*(ae+1)+1],++Ie<He&&oe===Le||(Ie<Ke?I.bl_tree[2*oe]+=Ie:oe!==0?(oe!==Ee&&I.bl_tree[2*oe]++,I.bl_tree[2*b]++):Ie<=10?I.bl_tree[2*E]++:I.bl_tree[2*A]++,Ee=oe,Ke=(Ie=0)===Le?(He=138,3):oe===Le?(He=6,3):(He=7,4))}function ge(I,W,ee){var ae,oe,Ee=-1,Le=W[1],Ie=0,He=7,Ke=4;for(Le===0&&(He=138,Ke=3),ae=0;ae<=ee;ae++)if(oe=Le,Le=W[2*(ae+1)+1],!(++Ie<He&&oe===Le)){if(Ie<Ke)for(;se(I,oe,I.bl_tree),--Ie!=0;);else oe!==0?(oe!==Ee&&(se(I,oe,I.bl_tree),Ie--),se(I,b,I.bl_tree),le(I,Ie-3,2)):Ie<=10?(se(I,E,I.bl_tree),le(I,Ie-3,3)):(se(I,A,I.bl_tree),le(I,Ie-11,7));Ee=oe,Ke=(Ie=0)===Le?(He=138,3):oe===Le?(He=6,3):(He=7,4)}}h(R);var z=!1;function k(I,W,ee,ae){le(I,(f<<1)+(ae?1:0),3),function(oe,Ee,Le,Ie){ce(oe),Ie&&(Z(oe,Le),Z(oe,~Le)),C.arraySet(oe.pending_buf,oe.window,Ee,Le,oe.pending),oe.pending+=Le}(I,W,ee,!0)}T._tr_init=function(I){z||(function(){var W,ee,ae,oe,Ee,Le=new Array(n+1);for(oe=ae=0;oe<w-1;oe++)for(J[oe]=ae,W=0;W<1<<S[oe];W++)j[ae++]=oe;for(j[ae-1]=oe,oe=Ee=0;oe<16;oe++)for(R[oe]=Ee,W=0;W<1<<L[oe];W++)Y[Ee++]=oe;for(Ee>>=7;oe<i;oe++)for(R[oe]=Ee<<7,W=0;W<1<<L[oe]-7;W++)Y[256+Ee++]=oe;for(ee=0;ee<=n;ee++)Le[ee]=0;for(W=0;W<=143;)H[2*W+1]=8,W++,Le[8]++;for(;W<=255;)H[2*W+1]=9,W++,Le[9]++;for(;W<=279;)H[2*W+1]=7,W++,Le[7]++;for(;W<=287;)H[2*W+1]=8,W++,Le[8]++;for(he(H,o+1,Le),W=0;W<i;W++)F[2*W+1]=5,F[2*W]=fe(W,5);Q=new K(H,S,m+1,o,n),G=new K(F,L,0,i,n),X=new K(new Array(0),O,0,e,s)}(),z=!0),I.l_desc=new q(I.dyn_ltree,Q),I.d_desc=new q(I.dyn_dtree,G),I.bl_desc=new q(I.bl_tree,X),I.bi_buf=0,I.bi_valid=0,re(I)},T._tr_stored_block=k,T._tr_flush_block=function(I,W,ee,ae){var oe,Ee,Le=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(Ie){var He,Ke=4093624447;for(He=0;He<=31;He++,Ke>>>=1)if(1&Ke&&Ie.dyn_ltree[2*He]!==0)return g;if(Ie.dyn_ltree[18]!==0||Ie.dyn_ltree[20]!==0||Ie.dyn_ltree[26]!==0)return p;for(He=32;He<m;He++)if(Ie.dyn_ltree[2*He]!==0)return p;return g}(I)),de(I,I.l_desc),de(I,I.d_desc),Le=function(Ie){var He;for(V(Ie,Ie.dyn_ltree,Ie.l_desc.max_code),V(Ie,Ie.dyn_dtree,Ie.d_desc.max_code),de(Ie,Ie.bl_desc),He=e-1;3<=He&&Ie.bl_tree[2*N[He]+1]===0;He--);return Ie.opt_len+=3*(He+1)+5+5+4,He}(I),oe=I.opt_len+3+7>>>3,(Ee=I.static_len+3+7>>>3)<=oe&&(oe=Ee)):oe=Ee=ee+5,ee+4<=oe&&W!==-1?k(I,W,ee,ae):I.strategy===4||Ee===oe?(le(I,2+(ae?1:0),3),ke(I,H,F)):(le(I,4+(ae?1:0),3),function(Ie,He,Ke,rt){var dt;for(le(Ie,He-257,5),le(Ie,Ke-1,5),le(Ie,rt-4,4),dt=0;dt<rt;dt++)le(Ie,Ie.bl_tree[2*N[dt]+1],3);ge(Ie,Ie.dyn_ltree,He-1),ge(Ie,Ie.dyn_dtree,Ke-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Le+1),ke(I,I.dyn_ltree,I.dyn_dtree)),re(I),ae&&ce(I)},T._tr_tally=function(I,W,ee){return I.pending_buf[I.d_buf+2*I.last_lit]=W>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&W,I.pending_buf[I.l_buf+I.last_lit]=255&ee,I.last_lit++,W===0?I.dyn_ltree[2*ee]++:(I.matches++,W--,I.dyn_ltree[2*(j[ee]+m+1)]++,I.dyn_dtree[2*D(W)]++),I.last_lit===I.lit_bufsize-1},T._tr_align=function(I){le(I,2,3),se(I,d,H),function(W){W.bi_valid===16?(Z(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function($,ne,T){"use strict";ne.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function($,ne,T){(function(C){(function(g,p){"use strict";if(!g.setImmediate){var h,f,w,m,o=1,i={},e=!1,r=g.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(g);n=n&&n.setTimeout?n:g,h={}.toString.call(g.process)==="[object process]"?function(b){lt.nextTick(function(){s(b)})}:function(){if(g.postMessage&&!g.importScripts){var b=!0,E=g.onmessage;return g.onmessage=function(){b=!1},g.postMessage("","*"),g.onmessage=E,b}}()?(m="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",d,!1):g.attachEvent("onmessage",d),function(b){g.postMessage(m+b,"*")}):g.MessageChannel?((w=new MessageChannel).port1.onmessage=function(b){s(b.data)},function(b){w.port2.postMessage(b)}):r&&"onreadystatechange"in r.createElement("script")?(f=r.documentElement,function(b){var E=r.createElement("script");E.onreadystatechange=function(){s(b),E.onreadystatechange=null,f.removeChild(E),E=null},f.appendChild(E)}):function(b){setTimeout(s,0,b)},n.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var E=new Array(arguments.length-1),A=0;A<E.length;A++)E[A]=arguments[A+1];var S={callback:b,args:E};return i[o]=S,h(o),o++},n.clearImmediate=t}function t(b){delete i[b]}function s(b){if(e)setTimeout(s,0,b);else{var E=i[b];if(E){e=!0;try{(function(A){var S=A.callback,L=A.args;switch(L.length){case 0:S();break;case 1:S(L[0]);break;case 2:S(L[0],L[1]);break;case 3:S(L[0],L[1],L[2]);break;default:S.apply(p,L)}})(E)}finally{t(b),e=!1}}}}function d(b){b.source===g&&typeof b.data=="string"&&b.data.indexOf(m)===0&&s(+b.data.slice(m.length))}})(typeof self=="undefined"?C===void 0?this:C:self)}).call(this,typeof Ye!="undefined"?Ye:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this,Ve("HDXh").Buffer,Ve("IyRk"),Ve("Q2Ig"))},"yj/a":function(vt,ht,Ve){"use strict";var qe=Ve("VTBJ"),Ye=Ve("Ff2n"),lt=Ve("nKUr"),et=Ve.n(lt),$=Ve("uX+g"),ne=Ve("q1tI"),T=Ve.n(ne),C=Ve("lS/g"),g=Ve("adzw"),p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=T.a.forwardRef(function(e,r){var n=e.fieldProps,t=e.children,s=e.params,d=e.proFieldProps,b=e.mode,E=e.valueEnum,A=e.request,S=e.showSearch,L=e.options,O=Object(Ye.a)(e,p),N=Object(ne.useContext)(C.b);return Object(lt.jsx)(g.a,Object(qe.a)(Object(qe.a)({valueEnum:Object($.a)(E),request:A,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(qe.a)({options:L,mode:b,showSearch:S,getPopupContainer:N.getPopupContainer},n),ref:r,proFieldProps:d},O),{},{children:t}))}),w=T.a.forwardRef(function(e,r){var n=e.fieldProps,t=e.children,s=e.params,d=e.proFieldProps,b=e.mode,E=e.valueEnum,A=e.request,S=e.options,L=Object(Ye.a)(e,h),O=Object(qe.a)({options:S,mode:b||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},n),N=Object(ne.useContext)(C.b);return Object(lt.jsx)(g.a,Object(qe.a)(Object(qe.a)({valueEnum:Object($.a)(E),request:A,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(qe.a)({getPopupContainer:N.getPopupContainer},O),ref:r,proFieldProps:d},L),{},{children:t}))}),m=f,o=w,i=m;i.SearchSelect=o,i.displayName="ProFormComponent",ht.a=i}}]);
