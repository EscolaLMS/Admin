(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{Jfn2:function(w,I,e){"use strict";var G=e("k1fw"),P=e("XCrF"),E=e("1GRj"),m=e("PpiC"),c=e("q1tI"),M=e.n(c),O=e("nKUr"),v=e.n(O),j=["path","size","srcSizes","alt"],l=function(d){var x=d.path,r=d.size,p=d.srcSizes,C=d.alt,u=C===void 0?"LMS Image":C,h=Object(m.a)(d,j),n="".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(x,"&w=").concat(p?p[0]:r),s=p&&p.map(function(_){return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(x,"&w=").concat(_," ").concat(_,"w")});return Object(O.jsx)("div",{className:"escolalms-image",children:Object(O.jsx)(E.a,Object(G.a)({src:n,srcSet:s&&s.join(","),alt:u},h))})};I.a=l},YDZB:function(w,I,e){"use strict";var G=e("2qtc"),P=e("kLXV"),E=e("7Kak"),m=e("9yH6"),c=e("+L6B"),M=e("2/Rp"),O=e("tJVT"),v=e("q1tI"),j=e.n(v),l=e("gU/Y"),t=e("9kvl"),d=e("u95b"),x=e.n(d),r=e("nKUr"),p=e.n(r),C=function(h){var n=h.value,s=h.onChange,_=Object(v.useState)(!1),T=Object(O.a)(_,2),R=T[0],i=T[1],F=Object(v.useCallback)(function(){i(!1)},[]),k=Object(v.useState)("code"),H=Object(O.a)(k,2),a=H[0],q=H[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(M.a,{type:"primary",onClick:function(){return i(!0)},size:"small",children:Object(r.jsx)(t.a,{id:"json_editor"})}),Object(r.jsxs)(P.a,{title:"JSON",visible:R,onOk:F,onCancel:F,children:[Object(r.jsxs)(m.a.Group,{onChange:function(N){return q(N.target.value)},value:a,children:[Object(r.jsx)(m.a,{value:"tree",children:"tree"}),Object(r.jsx)(m.a,{value:"view",children:"view"}),Object(r.jsx)(m.a,{value:"form",children:"form"}),Object(r.jsx)(m.a,{value:"code",children:"code"}),Object(r.jsx)(m.a,{value:"text",children:"text"})]}),Object(r.jsx)(l.a,{mode:a,value:n,onChange:function(N){return s&&s(N)}},a)]})]})};I.a=C},YDsB:function(w,I,e){"use strict";var G=e("YDZB"),P=e("/y+f"),E=e("FJDo"),m=e("tneF"),c=e("Qurx"),M=e("VMEa"),O=e("BiO0"),v=e("q1tI"),j=e.n(v),l=e("9kvl"),t=e("nKUr"),d=e.n(t),x=function(p){var C=p.field,u=Object(l.l)(),h=function(s){var _,T,R=Object(l.e)(),i=s==null||(_=s.extra)===null||_===void 0||(T=_.find(function(F){return F==null?void 0:F[R]}))===null||T===void 0?void 0:T[R];switch(s.type){case P.d.Number:return Object(t.jsx)(E.a,{width:"md",name:s.name,label:i!=null?i:Object(t.jsx)(l.a,{id:s.name}),tooltip:Object(t.jsx)(l.a,{id:s.name}),placeholder:u.formatMessage({id:s.name,defaultMessage:s.name}),min:1,max:1024,fieldProps:{step:1}});case P.d.Boolean:return Object(t.jsx)(m.a,{name:s.name,children:i!=null?i:Object(t.jsx)(l.a,{id:s.name})});case P.d.Varchar:return Object(t.jsx)(c.a,{width:"md",name:s.name,label:i!=null?i:Object(t.jsx)(l.a,{id:s.name}),tooltip:Object(t.jsx)(l.a,{id:s.name}),placeholder:u.formatMessage({id:s.name})});case P.d.Json:return Object(t.jsx)(M.a.Item,{name:s.name,label:i!=null?i:Object(t.jsx)(l.a,{id:s.name}),tooltip:Object(t.jsx)(l.a,{id:s.name}),valuePropName:"value",children:Object(t.jsx)(G.a,{})});case P.d.Text:default:return Object(t.jsx)(O.a,{width:"md",name:s.name,label:i!=null?i:Object(t.jsx)(l.a,{id:s.name}),tooltip:Object(t.jsx)(l.a,{id:s.name}),placeholder:u.formatMessage({id:s.name})})}};return Object(t.jsx)(t.Fragment,{children:h(C)})};I.a=x},"jd+0":function(w,I,e){"use strict";e.r(I);var G=e("T2oS"),P=e("W9HT"),E=e("miYZ"),m=e("tsqr"),c=e("qLMh"),M=e("k1fw"),O=e("9og8"),v=e("tJVT"),j=e("q1tI"),l=e.n(j),t=e("VMEa"),d=e("Qurx"),x=e("nhC9"),r=e("VK58"),p=e("TpMl"),C=e("tMyG"),u=e("Jfn2"),h=e("Ty5D"),n=e("9kvl"),s=e("+L6B"),_=e("2/Rp"),T=e("Qiat"),R=e("xvlK"),i=e("Xcxh"),F=e("y8nQ"),k=e("Vl3Y"),H=e("rmhi"),a=e("nKUr"),q=function(b){var K=Object(n.l)(),W=b.visible,J=b.onVisibleChange,S=b.onFinish,$=k.a.useForm(),f=Object(v.a)($,1),V=f[0];return Object(j.useEffect)(function(){return function(){V.resetFields()}},[]),Object(a.jsx)(H.a,{form:V,title:K.formatMessage({id:"newSetting",defaultMessage:"newSetting"}),width:"30vw",visible:W,onVisibleChange:J,onFinish:S,children:Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(d.a,{label:Object(a.jsx)(n.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"}),Object(a.jsx)(d.a,{label:Object(a.jsx)(n.a,{id:"value",defaultMessage:"value"}),rules:[{required:!0}],width:"md",name:"value"})]})})},Q=q,N=function(b){var K=b.user,W=b.isProfile,J=W===void 0?!1:W,S=Object(j.useRef)(),$=Object(n.l)(),f=Object(j.useState)(!1),V=Object(v.a)(f,2),X=V[0],z=V[1],D=Object(j.useState)("PATCH"),g=Object(v.a)(D,2),L=g[0],A=g[1],y=[{title:Object(a.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(a.jsx)(n.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInSearch:!0}],B=Object(j.useCallback)(function(o){var U=o&&Object.entries(o).map(function(Z){return{key:Z[0],value:Z[1]}});return U},[K]);return Object(a.jsxs)(l.a.Fragment,{children:[Object(a.jsx)(T.a,{headerTitle:$.formatMessage({id:"menu.settings"}),actionRef:S,rowKey:"id",search:!1,toolBarRender:J?function(){return[Object(a.jsxs)(_.a,{type:"primary",onClick:function(){z(-1),A("PATCH")},children:[Object(a.jsx)(R.a,{})," ",Object(a.jsx)(n.a,{id:"pages.searchTable.new"})]},"primary"),Object(a.jsxs)(_.a,{color:"yellow",type:"primary",onClick:function(){z(-1),A("PUT")},children:[Object(a.jsx)(i.a,{})," ",Object(a.jsx)(n.a,{id:"user.settings.overwrite"})]},"primary")]}:!1,request:function(){return Object(r.e)(Number(K)).then(function(U){return U.success?{data:B(U.data)}:[]})},columns:y}),Object(a.jsx)(Q,{id:X,visible:Number.isInteger(X),onVisibleChange:function(U){return U===!1&&z(!1)},onFinish:function(){var o=Object(O.a)(Object(c.a)().mark(function U(Z){var ae;return Object(c.a)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,Object(r.h)(Number(K),L,Z);case 2:ae=Y.sent,ae.success&&(z(!1),S.current&&S.current.reload());case 4:case"end":return Y.stop()}},U)}));return function(U){return o.apply(this,arguments)}}()})]})},te=N,se=e("YDsB"),ne=e("02ly"),re=I.default=function(){var ee=Object(h.l)(),b=Object(n.l)(),K=ee.tab,W=K===void 0?"general":K,J=Object(p.a)("EscolaLms\\Auth\\Models\\User"),S=Object(j.useState)(),$=Object(v.a)(S,2),f=$[0],V=$[1];Object(j.useEffect)(function(){var D=function(){var g=Object(O.a)(Object(c.a)().mark(function L(){var A;return Object(c.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Object(r.f)();case 2:A=B.sent,A.success&&V(Object(M.a)(Object(M.a)({},A.data),{},{bio:A.data.bio||""}));case 4:case"end":return B.stop()}},L)}));return function(){return g.apply(this,arguments)}}();D()},[]);var X=Object(j.useMemo)(function(){return{onFinish:function(){var D=Object(O.a)(Object(c.a)().mark(function L(A){var y;return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(r.i)(A);case 2:y=o.sent,m.b.success(y.message);case 4:case"end":return o.stop()}},L)}));function g(L){return D.apply(this,arguments)}return g}(),initialValues:f}},[f]),z=Object(j.useMemo)(function(){return{onFinish:function(){var D=Object(O.a)(Object(c.a)().mark(function L(A){var y;return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(r.j)(A);case 2:y=o.sent,m.b.success(y.message);case 4:case"end":return o.stop()}},L)}));function g(L){return D.apply(this,arguments)}return g}(),initialValues:f}},[f]);return f?Object(a.jsx)(C.a,{title:Object(a.jsx)(n.a,{id:"my_profile"}),header:{breadcrumb:{routes:[{path:"my-profile",breadcrumbName:b.formatMessage({id:"my_profile"})},{path:String(W),breadcrumbName:b.formatMessage({id:String(W)})}]}},children:Object(a.jsxs)(x.a,{tabs:{type:"card",activeKey:W,onChange:function(g){return n.f.push("/my-profile/".concat(g))}},children:[Object(a.jsx)(x.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"general"}),children:Object(a.jsxs)(t.a,Object(M.a)(Object(M.a)({},X),{},{children:[Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(d.a,{width:"md",name:"first_name",label:Object(a.jsx)(n.a,{id:"first_name"}),tooltip:Object(a.jsx)(n.a,{id:"first_name"}),placeholder:b.formatMessage({id:"first_name"}),required:!0}),Object(a.jsx)(d.a,{width:"md",name:"last_name",label:Object(a.jsx)(n.a,{id:"last_name"}),tooltip:Object(a.jsx)(n.a,{id:"last_name"}),placeholder:b.formatMessage({id:"last_name"}),required:!0})]}),Object(a.jsx)(t.a.Group,{children:J.state==="loaded"&&J.list.map(function(D){return Object(a.jsx)(se.a,{field:D},D.id)})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsxs)(t.a.Item,{name:"avatar",label:Object(a.jsx)(n.a,{id:"avatar"}),children:[f.path_avatar&&Object(a.jsx)(u.a,{path:f.path_avatar,size:600,width:200}),Object(a.jsx)(ne.a,{folder:"avatars/".concat(f.id),url:"/api/profile/upload-avatar",name:"avatar",accept:"image/*",onUpload:function(g){g.success}})]})})]}))},"general"),Object(a.jsx)(x.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"change_password"}),children:Object(a.jsxs)(t.a,Object(M.a)(Object(M.a)({},z),{},{children:[Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(d.a.Password,{width:"md",name:"current_password",label:Object(a.jsx)(n.a,{id:"current_password"}),placeholder:b.formatMessage({id:"current_password"}),required:!0})}),Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(d.a.Password,{width:"md",name:"new_password",label:Object(a.jsx)(n.a,{id:"new_password"}),placeholder:b.formatMessage({id:"new_password"}),required:!0}),Object(a.jsx)(d.a.Password,{width:"md",name:"new_confirm_password",label:Object(a.jsx)(n.a,{id:"new_confirm_password"}),placeholder:b.formatMessage({id:"new_confirm_password"}),required:!0})]})]}))},"change_password"),Object(a.jsx)(x.a.TabPane,{tab:Object(a.jsx)(n.a,{id:"user.settings"}),children:Object(a.jsx)(te,{user:String(f.id),isProfile:!0})},"user_settings")]})}):Object(a.jsx)(P.a,{})}},tneF:function(w,I,e){"use strict";var G=e("sRBo"),P=e("kaz8"),E=e("VTBJ"),m=e("Ff2n"),c=e("nKUr"),M=e.n(c),O=e("uX+g"),v=e("q1tI"),j=e.n(v),l=e("WFLz"),t=e("adzw"),d=["options","fieldProps","proFieldProps","valueEnum"],x=j.a.forwardRef(function(u,h){var n=u.options,s=u.fieldProps,_=u.proFieldProps,T=u.valueEnum,R=Object(m.a)(u,d);return Object(c.jsx)(t.a,Object(E.a)({ref:h,valueType:"checkbox",valueEnum:Object(O.a)(T,void 0),fieldProps:Object(E.a)({options:n},s),lightProps:Object(E.a)({labelFormatter:function(){return Object(c.jsx)(t.a,Object(E.a)({ref:h,valueType:"checkbox",mode:"read",valueEnum:Object(O.a)(T,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(E.a)({options:n},s),proFieldProps:_},R))}},R.lightProps),proFieldProps:_},R))}),r=j.a.forwardRef(function(u,h){var n=u.fieldProps,s=u.children;return Object(c.jsx)(P.a,Object(E.a)(Object(E.a)({ref:h},n),{},{children:s}))}),p=Object(l.a)(r,{valuePropName:"checked"}),C=p;C.Group=x,I.a=C}}]);

//# sourceMappingURL=p__Users__myProfile.67b8bd38.async.js.map