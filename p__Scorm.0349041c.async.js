(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"5tKr":function(K,E,e){"use strict";e.d(E,"b",function(){return I}),e.d(E,"a",function(){return v});var m=e("qLMh"),j=e("k1fw"),M=e("9og8"),h=e("9kvl");function I(d,a){return O.apply(this,arguments)}function O(){return O=Object(M.a)(Object(m.a)().mark(function d(a,r){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(h.i)("/api/admin/scorm",Object(j.a)({params:Object(j.a)(Object(j.a)({},a),{},{per_page:a.pageSize,page:a.current}),method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},d)})),O.apply(this,arguments)}function B(d,a){return p.apply(this,arguments)}function p(){return p=Object(M.a)(Object(m.a)().mark(function d(a,r){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(h.i)("/api/admin/scorm/scos",Object(j.a)({params:Object(j.a)(Object(j.a)({},a),{},{per_page:a.pageSize,page:a.current}),method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},d)})),p.apply(this,arguments)}function v(d,a){return l.apply(this,arguments)}function l(){return l=Object(M.a)(Object(m.a)().mark(function d(a,r){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(h.i)("/api/admin/scorm/".concat(a),Object(j.a)({method:"DELETE"},r||{})));case 1:case"end":return n.stop()}},d)})),l.apply(this,arguments)}},"DBJ/":function(K,E,e){"use strict";var m=e("k1fw"),j=e("y8nQ"),M=e("Vl3Y"),h=e("tJVT"),I=e("etVw"),O=e("q1tI"),B=e.n(O),p=e("9kvl"),v=e("qFDU"),l=e("nKUr"),d=e.n(l);function a(r){var g=r.onChange,n=r.onUpload,U=r.url,S=r.name,P=r.extra,L=r.accept,t=r.data,A=r.wrapInForm,R=A===void 0?!0:A,C=r.title,y=r.formProps,T=r.maxFiles,x=r.clearListAfterUpload,c=Object(O.useState)(),f=Object(h.a)(c,2),b=f[0],i=f[1],u=Object(p.l)();return t&&t[S]&&delete t[S],Object(l.jsx)(v.a,{condition:R,wrap:function(o){return Object(l.jsx)(M.a,Object(m.a)(Object(m.a)({},y),{},{children:o}))},children:Object(l.jsx)(I.a,{title:C||" ".concat(u.formatMessage({id:"upload_click_here"})),placeholder:u.formatMessage({id:"upload_click_here"}),onChange:function(o){i(o),g&&g(o),o.file.status==="done"&&(n&&n(o.file.response),x&&i(void 0))},label:Object(l.jsx)(p.a,{id:"upload"}),max:T!=null?T:2,fieldProps:{data:t,accept:L,name:S,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(U),extra:P,fileList:b==null?void 0:b.fileList})})}E.a=a},"w76+":function(K,E,e){"use strict";e.r(E);var m=e("P2fV"),j=e("NJEC"),M=e("5Dmo"),h=e("3S7+"),I=e("+L6B"),O=e("2/Rp"),B=e("miYZ"),p=e("tsqr"),v=e("qLMh"),l=e("9og8"),d=e("q1tI"),a=e("9kvl"),r=e("55Ip"),g=e("tMyG"),n=e("Qiat"),U=e("Dx9A"),S=e("/MfK"),P=e("5tKr"),L=e("DBJ/"),t=e("nKUr"),A=function(c){var f=c.onSuccess,b=c.onError;return Object(t.jsx)(L.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(u){if(u.file.response){var s=u.file.response.response;s.success?f(s.data.model):b(s)}}})},R=A,C=function(){var x=Object(l.a)(Object(v.a)().mark(function c(f){return Object(v.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(P.a)(f);case 2:return i.abrupt("return",!0);case 3:case"end":return i.stop()}},c)}));return function(f){return x.apply(this,arguments)}}(),y=function(){var c=Object(d.useRef)(),f=Object(a.l)(),b=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(R,{onSuccess:function(){c.current&&c.current.reload(),p.b.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(s){return p.b.error(s.message||s.toString())}},"upload")]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(u,s){return[s.scos.map(function(o){return Object(t.jsx)(r.a,{to:"/courses/scorms/preview/".concat(o.uuid),children:Object(t.jsxs)(h.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:[Object(t.jsx)(O.a,{size:"small",icon:Object(t.jsx)(U.a,{}),type:"primary",children:o.title})," "]})},o.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(u,s){return[Object(t.jsx)(j.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(l.a)(Object(v.a)().mark(function o(){var _;return Object(v.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,C(s.id);case 2:_=D.sent,_&&c.current&&c.current.reload();case 4:case"end":return D.stop()}},o)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(h.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(O.a,{type:"primary",icon:Object(t.jsx)(S.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(g.a,{children:Object(t.jsx)(n.a,{headerTitle:f.formatMessage({id:"menu.Courses.SCORMs",defaultMessage:"scorms"}),actionRef:c,rowKey:"id",search:{},request:function(u){var s=u.pageSize,o=u.current;return Object(P.b)({pageSize:s,current:o}).then(function(_){return _.success?{data:_.data.data,total:_.data.total,success:!0}:[]})},columns:b})})},T=E.default=y}}]);
