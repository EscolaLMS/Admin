{"version":3,"sources":["webpack:///../../src/abstract/group.ts","webpack:///../../src/crosshair/base.ts","webpack:///../../src/crosshair/line.ts","webpack:///../../src/crosshair/circle.ts","webpack:///../../src/crosshair/css-const.ts","webpack:///../../src/crosshair/html-theme.ts","webpack:///../../src/crosshair/html.ts","webpack:///../src/constant.ts","webpack:///../../src/util/event.ts","webpack:///../src/index.ts","webpack:///../../src/bbox/register.ts","webpack:///../../src/bbox/rect.ts","webpack:///../../src/bbox/circle.ts","webpack:///../../src/bbox/util.ts","webpack:///../../src/bbox/polyline.ts","webpack:///../../src/bbox/polygon.ts","webpack:///../../src/bbox/text.ts","webpack:///../../src/bbox/path.ts","webpack:///../../src/bbox/line.ts","webpack:///../../src/bbox/ellipse.ts","webpack:///../../src/bbox/index.ts","webpack:///./node_modules/size-sensor/lib/constant.js","webpack:///../../src/scrollbar/scrollbar.ts","webpack:///../../src/util/util.ts","webpack:///../../src/legend/base.ts","webpack:///../../src/legend/category.ts","webpack:///../../src/legend/continuous.ts","webpack:///../../src/event/graph-event.ts","webpack:///../src/group.ts","webpack:///../src/ext.ts","webpack:///../../src/adjusts/stack.ts","webpack:///../../src/tick-method/register.ts","webpack:///../src/base.ts","webpack:///../../src/category/base.ts","webpack:///../src/fecha.ts","webpack:///../../src/util/bisector.ts","webpack:///../../src/util/time.ts","webpack:///../../src/category/time.ts","webpack:///../../src/continuous/base.ts","webpack:///../../src/continuous/linear.ts","webpack:///../../src/util/math.ts","webpack:///../../src/continuous/log.ts","webpack:///../../src/continuous/pow.ts","webpack:///../../src/continuous/time.ts","webpack:///../../src/continuous/quantize.ts","webpack:///../../src/continuous/quantile.ts","webpack:///../src/factory.ts","webpack:///../../src/identity/index.ts","webpack:///../../src/tick-method/cat.ts","webpack:///../../src/util/d3-linear.ts","webpack:///../../src/util/interval.ts","webpack:///../../src/util/strict-limit.ts","webpack:///../../src/tick-method/d3-linear.ts","webpack:///../../src/util/pretty-number.ts","webpack:///../../src/util/extended.ts","webpack:///../../src/tick-method/linear.ts","webpack:///../../src/tick-method/log.ts","webpack:///../../src/util/pretty.ts","webpack:///../../src/tick-method/pow.ts","webpack:///../../src/tick-method/quantile.ts","webpack:///../../src/tick-method/r-prettry.ts","webpack:///../../src/tick-method/time.ts","webpack:///../../src/tick-method/time-cat.ts","webpack:///../../src/tick-method/time-pretty.ts","webpack:///../../src/tick-method/index.ts","webpack:///../../src/adjusts/symmetric.ts","webpack:///../../src/util/draw.ts","webpack:///./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack:///../../src/util/svg.ts","webpack:///../../src/util/text.ts","webpack:///../../src/util/label.ts","webpack:///../../src/tooltip/html-theme.ts","webpack:///../../src/util/align.ts","webpack:///../../src/tooltip/html.ts","webpack:///../src/util.ts","webpack:///../src/line.ts","webpack:///../src/bezier.ts","webpack:///../src/quadratic.ts","webpack:///../src/cubic.ts","webpack:///../src/ellipse.ts","webpack:///../src/arc.ts","webpack:///../src/segments.ts","webpack:///../src/polyline.ts","webpack:///../src/polygon.ts","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-interpolate/src/value.js","webpack:///../../src/util/color.ts","webpack:///../../src/animate/timeline.ts","webpack:///../../src/event/event-contoller.ts","webpack:///../../src/abstract/canvas.ts","webpack:///./node_modules/size-sensor/lib/sensors/index.js","webpack:///./node_modules/@ant-design/plots/es/errorBoundary/index.js","webpack:///./node_modules/fmin/build/fmin.js","webpack:///./node_modules/gl-matrix/esm/mat3.js","webpack:///./node_modules/lodash-es/_root.js","webpack:///../../src/adjusts/jitter.ts","webpack:///../../src/util/theme.ts","webpack:///./node_modules/lodash-es/stubFalse.js","webpack:///../../src/abstract/base.ts","webpack:///../src/parse-path.ts","webpack:///../src/catmull-rom-2-bezier.ts","webpack:///../src/fill-path.ts","webpack:///../src/fill-path-by-diff.ts","webpack:///../src/format-path.ts","webpack:///../src/rect-path.ts","webpack:///../src/parse-path-string.ts","webpack:///../src/path-2-absolute.ts","webpack:///../../src/process/arc-2-cubic.ts","webpack:///../../src/process/quad-2-cubic.ts","webpack:///../../src/process/line-2-cubic.ts","webpack:///../../src/process/segment-2-cubic.ts","webpack:///../src/path-2-curve.ts","webpack:///../src/path-intersection.ts","webpack:///../src/parse-path-array.ts","webpack:///../src/get-arc-params.ts","webpack:///../src/path-2-segments.ts","webpack:///../src/get-line-intersect.ts","webpack:///../src/point-in-polygon.ts","webpack:///../src/is-polygons-intersect.ts","webpack:///../../src/abstract/shape.ts","webpack:///../../src/abstract/group-component.ts","webpack:///../../src/abstract/container.ts","webpack:///../../src/abstract/component.ts","webpack:///./node_modules/size-sensor/lib/debounce.js","webpack:///./node_modules/size-sensor/lib/sensorPool.js","webpack:///./node_modules/size-sensor/lib/sensors/object.js","webpack:///../../src/adjusts/adjust.ts","webpack:///./node_modules/@ant-design/plots/es/utils/getChart.js","webpack:///../../src/shape/base.ts","webpack:///../../src/shape/circle.ts","webpack:///../../src/shape/ellipse.ts","webpack:///../../src/shape/image.ts","webpack:///../../../src/util/in-stroke/line.ts","webpack:///../../src/shape/line.ts","webpack:///../../src/shape/marker.ts","webpack:///../../../src/util/in-path/point-in-path.ts","webpack:///../../../src/util/in-path/polygon.ts","webpack:///../../../src/util/in-stroke/arc.ts","webpack:///../../src/util/path.ts","webpack:///../../src/shape/path.ts","webpack:///../../../src/util/in-stroke/polyline.ts","webpack:///../../src/shape/polygon.ts","webpack:///../../src/shape/polyline.ts","webpack:///../../../src/util/in-stroke/rect.ts","webpack:///../../../src/util/in-stroke/rect-radius.ts","webpack:///../../src/shape/rect.ts","webpack:///../../src/shape/text.ts","webpack:///../src/shared/uid.ts","webpack:///../src/web/Svg.tsx","webpack:///../src/web/ContentLoader.tsx","webpack:///../src/web/presets/FacebookStyle.tsx","webpack:///../src/web/presets/InstagramStyle.tsx","webpack:///../src/web/presets/CodeStyle.tsx","webpack:///../src/web/presets/ListStyle.tsx","webpack:///../src/web/presets/BulletListStyle.tsx","webpack:///./node_modules/@ant-design/plots/es/utils/createLoading.js","webpack:///./node_modules/d3-regression/dist/d3-regression.js","webpack:///./node_modules/d3-ease/src/linear.js","webpack:///./node_modules/d3-ease/src/quad.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-ease/src/poly.js","webpack:///./node_modules/d3-ease/src/sin.js","webpack:///./node_modules/d3-ease/src/math.js","webpack:///./node_modules/d3-ease/src/exp.js","webpack:///./node_modules/d3-ease/src/circle.js","webpack:///./node_modules/d3-ease/src/bounce.js","webpack:///./node_modules/d3-ease/src/back.js","webpack:///./node_modules/d3-ease/src/elastic.js","webpack:///../../src/animate/register.ts","webpack:///./node_modules/lodash-es/isBuffer.js","webpack:///./node_modules/lodash-es/_freeGlobal.js","webpack:///./node_modules/@ant-design/plots/es/utils/render.js","webpack:///./node_modules/@ant-design/plots/es/utils/createNode.js","webpack:///./node_modules/@ant-design/plots/es/utils/utils.js","webpack:///./node_modules/@ant-design/plots/es/hooks/useChart.js","webpack:///./node_modules/gl-matrix/esm/vec2.js","webpack:///../../src/shape/dom.ts","webpack:///../../../src/shape/marker/symbols.ts","webpack:///../../../src/shape/marker/index.ts","webpack:///../../src/util/format.ts","webpack:///../../src/util/matrix.ts","webpack:///../../src/util/dom.ts","webpack:///./node_modules/size-sensor/lib/id.js","webpack:///../../src/abstract/html-component.ts","webpack:///./node_modules/detect-browser/es/index.js","webpack:///../../src/trend/constant.ts","webpack:///../../src/trend/path.ts","webpack:///../../src/trend/trend.ts","webpack:///../../src/slider/handler.ts","webpack:///../../src/slider/constant.ts","webpack:///../../src/slider/slider.ts","webpack:///../src/add-event-listener.ts","webpack:///../src/create-dom.ts","webpack:///../src/get-style.ts","webpack:///../src/get-height.ts","webpack:///../src/get-outer-height.ts","webpack:///../src/get-width.ts","webpack:///../src/get-outer-width.ts","webpack:///../src/get-ratio.ts","webpack:///../src/modify-css.ts","webpack:///../../src/axis/base.ts","webpack:///../../../src/axis/overlap/auto-ellipsis.ts","webpack:///../../../src/axis/overlap/auto-hide.ts","webpack:///../../../src/axis/overlap/auto-rotate.ts","webpack:///../../src/axis/line.ts","webpack:///../../src/axis/circle.ts","webpack:///../src/is-array-like.ts","webpack:///../src/contains.ts","webpack:///../src/filter.ts","webpack:///../src/difference.ts","webpack:///../src/is-type.ts","webpack:///../src/is-function.ts","webpack:///../src/is-nil.ts","webpack:///../src/is-array.ts","webpack:///../src/is-object.ts","webpack:///../src/each.ts","webpack:///../src/keys.ts","webpack:///../src/is-match.ts","webpack:///../src/is-object-like.ts","webpack:///../src/is-plain-object.ts","webpack:///../src/find.ts","webpack:///../src/find-index.ts","webpack:///../src/first-value.ts","webpack:///../src/flatten.ts","webpack:///../src/flatten-deep.ts","webpack:///../src/max.ts","webpack:///../src/min.ts","webpack:///../src/get-range.ts","webpack:///../src/pull.ts","webpack:///../src/pull-at.ts","webpack:///../src/reduce.ts","webpack:///../src/remove.ts","webpack:///../src/is-string.ts","webpack:///../src/sort-by.ts","webpack:///../src/uniq.ts","webpack:///../src/union.ts","webpack:///../src/values-of-key.ts","webpack:///../src/head.ts","webpack:///../src/last.ts","webpack:///../src/starts-with.ts","webpack:///../src/ends-with.ts","webpack:///../src/every.ts","webpack:///../src/some.ts","webpack:///../src/group-by.ts","webpack:///../src/group-to-map.ts","webpack:///../src/get-wrap-behavior.ts","webpack:///../src/wrap-behavior.ts","webpack:///../src/number2color.ts","webpack:///../src/parse-radius.ts","webpack:///../src/clamp.ts","webpack:///../src/fixed-base.ts","webpack:///../src/is-number.ts","webpack:///../src/is-decimal.ts","webpack:///../src/is-even.ts","webpack:///../src/is-integer.ts","webpack:///../src/is-negative.ts","webpack:///../src/is-number-equal.ts","webpack:///../src/is-odd.ts","webpack:///../src/is-positive.ts","webpack:///../src/max-by.ts","webpack:///../src/min-by.ts","webpack:///../src/mod.ts","webpack:///../src/to-degree.ts","webpack:///../src/to-integer.ts","webpack:///../src/to-radian.ts","webpack:///../src/for-in.ts","webpack:///../src/has.ts","webpack:///../src/has-key.ts","webpack:///../src/values.ts","webpack:///../src/has-value.ts","webpack:///../src/to-string.ts","webpack:///../src/lower-case.ts","webpack:///../src/lower-first.ts","webpack:///../src/substitute.ts","webpack:///../src/upper-case.ts","webpack:///../src/upper-first.ts","webpack:///../src/get-type.ts","webpack:///../src/is-arguments.ts","webpack:///../src/is-boolean.ts","webpack:///../src/is-date.ts","webpack:///../src/is-error.ts","webpack:///../src/is-finite.ts","webpack:///../src/is-null.ts","webpack:///../src/is-prototype.ts","webpack:///../src/is-reg-exp.ts","webpack:///../src/is-undefined.ts","webpack:///../src/is-element.ts","webpack:///../src/request-animation-frame.ts","webpack:///../src/clear-animation-frame.ts","webpack:///../src/mix.ts","webpack:///../src/augment.ts","webpack:///../src/clone.ts","webpack:///../src/debounce.ts","webpack:///../src/memoize.ts","webpack:///../src/deep-mix.ts","webpack:///../src/extend.ts","webpack:///../src/index-of.ts","webpack:///../src/is-empty.ts","webpack:///../src/is-equal.ts","webpack:///../src/is-equal-with.ts","webpack:///../src/map.ts","webpack:///../src/map-values.ts","webpack:///../src/get.ts","webpack:///../src/set.ts","webpack:///../src/pick.ts","webpack:///../src/omit.ts","webpack:///../src/throttle.ts","webpack:///../src/to-array.ts","webpack:///../src/unique-id.ts","webpack:///../src/noop.ts","webpack:///../src/identity.ts","webpack:///../src/size.ts","webpack:///../src/measure-text-width.ts","webpack:///../src/get-ellipsis-text.ts","webpack:///../src/cache.ts","webpack:///./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack:///../../src/util/state.ts","webpack:///../../src/adjusts/dodge.ts","webpack:///../../src/util/offscreen.ts","webpack:///../../src/engine/index.ts","webpack:///../../src/attributes/base.ts","webpack:///../../src/attributes/color.ts","webpack:///../../src/attributes/opacity.ts","webpack:///../../src/attributes/position.ts","webpack:///../../src/attributes/shape.ts","webpack:///../../src/attributes/size.ts","webpack:///../../src/coord/base.ts","webpack:///../../src/coord/cartesian.ts","webpack:///../../src/coord/helix.ts","webpack:///../../src/coord/polar.ts","webpack:///../src/dependents.ts","webpack:///../../src/util/graphics.ts","webpack:///../../src/util/helper.ts","webpack:///../../src/util/bbox.ts","webpack:///../../src/util/coordinate.ts","webpack:///../../src/util/scale.ts","webpack:///../../src/util/axis.ts","webpack:///../../src/facet/facet.ts","webpack:///../../src/facet/index.ts","webpack:///../../../src/interaction/action/base.ts","webpack:///../../../src/interaction/action/callback.ts","webpack:///../../../src/interaction/action/register.ts","webpack:///../../../../src/geometry/shape/util/path.ts","webpack:///../../../src/interaction/action/util.ts","webpack:///../../src/interaction/context.ts","webpack:///../../src/interaction/interaction.ts","webpack:///../../src/interaction/grammar-interaction.ts","webpack:///../../src/interaction/index.ts","webpack:///../../../src/theme/util/create-by-style-sheet.ts","webpack:///../../../src/theme/style-sheet/light.ts","webpack:///../../../src/theme/util/create-theme.ts","webpack:///../../src/theme/index.ts","webpack:///../../src/util/tooltip.ts","webpack:///../../src/util/padding.ts","webpack:///../../../src/chart/controller/index.ts","webpack:///../../../src/chart/controller/coordinate.ts","webpack:///../../src/chart/event.ts","webpack:///../../../src/chart/layout/index.ts","webpack:///../../../src/chart/util/scale-pool.ts","webpack:///../../../src/chart/layout/padding-cal.ts","webpack:///../../../src/chart/layout/auto.ts","webpack:///../../../src/chart/util/sync-view-padding.ts","webpack:///../../src/chart/view.ts","webpack:///../../src/chart/chart.ts","webpack:///../../../src/chart/controller/base.ts","webpack:///../../../src/chart/controller/tooltip.ts","webpack:///../../../src/animate/animation/index.ts","webpack:///../../src/animate/index.ts","webpack:///../../../src/geometry/shape/constant.ts","webpack:///../../../src/geometry/element/index.ts","webpack:///../../../src/geometry/label/index.ts","webpack:///../../../src/geometry/shape/base.ts","webpack:///../../../src/geometry/util/group-data.ts","webpack:///../../../src/geometry/util/is-model-change.ts","webpack:///../../../src/geometry/util/parse-fields.ts","webpack:///../../../src/geometry/util/diff.ts","webpack:///../../src/geometry/base.ts","webpack:///../../src/util/transform.ts","webpack:///../../../../src/geometry/label/util/index.ts","webpack:///../../src/component/update-label.ts","webpack:///../../src/component/labels.ts","webpack:///../../../src/geometry/label/base.ts","webpack:///../../src/util/attr.ts","webpack:///../../src/util/marker.ts","webpack:///../../src/util/legend.ts","webpack:///../../../../src/geometry/shape/util/get-path-points.ts","webpack:///../../../../src/geometry/shape/util/get-style.ts","webpack:///../../../../src/geometry/shape/util/split-points.ts","webpack:///../../../../src/geometry/shape/line/util.ts","webpack:///../../../../src/geometry/shape/line/index.ts","webpack:///../src/core.ts","webpack:///../../../src/theme/style-sheet/dark.ts","webpack:///../../src/geometry/path.ts","webpack:///../../../../src/geometry/shape/area/util.ts","webpack:///../../../../src/geometry/shape/area/index.ts","webpack:///../../src/geometry/area.ts","webpack:///../../../../src/geometry/shape/edge/index.ts","webpack:///../../src/geometry/edge.ts","webpack:///../../src/geometry/heatmap.ts","webpack:///../../../../src/geometry/shape/interval/util.ts","webpack:///../../../../src/geometry/shape/interval/index.ts","webpack:///../../../src/geometry/util/shape-size.ts","webpack:///../../src/geometry/interval.ts","webpack:///../../src/geometry/line.ts","webpack:///../../../../src/geometry/shape/point/util.ts","webpack:///../../../../src/geometry/shape/point/index.ts","webpack:///../../src/geometry/point.ts","webpack:///../../../../src/geometry/shape/polygon/index.ts","webpack:///../../src/geometry/polygon.ts","webpack:///../../../../src/geometry/shape/schema/index.ts","webpack:///../../src/geometry/schema.ts","webpack:///../../../../src/geometry/shape/violin/index.ts","webpack:///../../src/geometry/violin.ts","webpack:///../../../../src/geometry/shape/area/line.ts","webpack:///../../../../src/geometry/shape/area/smooth.ts","webpack:///../../../../src/geometry/shape/area/smooth-line.ts","webpack:///../../../../src/geometry/shape/edge/util.ts","webpack:///../../../../src/geometry/shape/edge/arc.ts","webpack:///../../../../src/geometry/shape/edge/smooth.ts","webpack:///../../../../src/geometry/shape/edge/vhv.ts","webpack:///../../../../src/geometry/shape/interval/funnel.ts","webpack:///../../../../src/geometry/shape/interval/hollow-rect.ts","webpack:///../../../../src/geometry/shape/interval/line.ts","webpack:///../../../../src/geometry/shape/interval/pyramid.ts","webpack:///../../../../src/geometry/shape/interval/tick.ts","webpack:///../../../../src/geometry/shape/line/step.ts","webpack:///../../../../src/geometry/shape/point/hollow.ts","webpack:///../../../../src/geometry/shape/point/image.ts","webpack:///../../../../src/geometry/shape/point/solid.ts","webpack:///../../../../src/geometry/shape/schema/box.ts","webpack:///../../../../src/geometry/shape/schema/candle.ts","webpack:///../../../../src/geometry/shape/polygon/square.ts","webpack:///../../../../src/geometry/shape/violin/smooth.ts","webpack:///../../../../src/geometry/shape/violin/hollow.ts","webpack:///../../../src/geometry/label/interval.ts","webpack:///../../../src/geometry/label/polar.ts","webpack:///../../../src/geometry/label/pie.ts","webpack:///../../../../../src/geometry/label/layout/pie/distribute.ts","webpack:///../../../../../src/geometry/label/layout/pie/util.ts","webpack:///../../../../../src/geometry/label/layout/pie/outer.ts","webpack:///../../../../../src/geometry/label/layout/pie/spider.ts","webpack:///../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack:///../../../../src/geometry/label/layout/limit-in-shape.ts","webpack:///../../../../src/geometry/label/layout/overlap.ts","webpack:///../../src/util/collision-detect.ts","webpack:///../../../../src/geometry/label/util/createWorker.ts","webpack:///../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack:///../../../../src/geometry/label/layout/hide-overlap.ts","webpack:///../../../../src/geometry/label/layout/adjust-color.ts","webpack:///../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack:///../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack:///../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack:///../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack:///../../src/util/context.ts","webpack:///../../../../src/geometry/label/layout/limit-in-plot.ts","webpack:///../../../src/animate/animation/fade.ts","webpack:///../../../src/animate/animation/util.ts","webpack:///../../../src/animate/animation/grow-in.ts","webpack:///../../../src/animate/animation/path-in.ts","webpack:///../../../src/animate/animation/position-update.ts","webpack:///../../../src/animate/animation/scale-in.ts","webpack:///../../../src/animate/animation/sector-path-update.ts","webpack:///../../../src/animate/animation/wave-in.ts","webpack:///../../../src/animate/animation/zoom.ts","webpack:///../../src/util/facet.ts","webpack:///../../src/facet/circle.ts","webpack:///../../src/facet/list.ts","webpack:///../../src/facet/matrix.ts","webpack:///../../src/facet/mirror.ts","webpack:///../../src/facet/rect.ts","webpack:///../../src/facet/tree.ts","webpack:///../../src/util/stat.ts","webpack:///../../src/util/annotation.ts","webpack:///../../../src/chart/controller/annotation.ts","webpack:///../../src/util/grid.ts","webpack:///../../../src/chart/controller/axis.ts","webpack:///../../src/util/direction.ts","webpack:///../../../src/chart/controller/legend.ts","webpack:///../../../src/chart/controller/slider.ts","webpack:///../../../src/chart/controller/scrollbar.ts","webpack:///../../../src/interaction/action/active-region.ts","webpack:///../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack:///../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack:///../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack:///../../../../src/interaction/action/element/state-base.ts","webpack:///../../../../src/interaction/action/element/state.ts","webpack:///../../../../src/interaction/action/element/active.ts","webpack:///../../../../src/interaction/action/element/link-by-color.ts","webpack:///../../../../src/interaction/action/element/range-state.ts","webpack:///../../../../src/interaction/action/element/range-active.ts","webpack:///../../../../src/interaction/action/element/single-state.ts","webpack:///../../../../src/interaction/action/element/single-active.ts","webpack:///../../../../src/interaction/action/element/highlight-util.ts","webpack:///../../../../src/interaction/action/element/highlight.ts","webpack:///../../../../src/interaction/action/element/highlight-by-color.ts","webpack:///../../../../src/interaction/action/element/highlight-by-x.ts","webpack:///../../../../src/interaction/action/element/range-highlight.ts","webpack:///../../../../src/interaction/action/element/single-highlight.ts","webpack:///../../../../src/interaction/action/element/range-selected.ts","webpack:///../../../../src/interaction/action/element/selected.ts","webpack:///../../../../src/interaction/action/element/single-selected.ts","webpack:///../../../../src/interaction/action/component/list-state.ts","webpack:///../../../../src/interaction/action/component/list-active.ts","webpack:///../../../../src/interaction/action/component/list-highlight-util.ts","webpack:///../../../../src/interaction/action/component/list-highlight.ts","webpack:///../../../../src/interaction/action/component/list-selected.ts","webpack:///../../../../src/interaction/action/component/list-unchecked.ts","webpack:///../../../../src/interaction/action/component/list-checked.ts","webpack:///../../../../src/interaction/action/component/list-focus.ts","webpack:///../../../../src/interaction/action/component/list-radio.ts","webpack:///../../../../src/interaction/action/mask/base.ts","webpack:///../../../../src/interaction/action/mask/circle.ts","webpack:///../../../../src/interaction/action/mask/rect.ts","webpack:///../../../../src/interaction/action/mask/dim-rect.ts","webpack:///../../../../src/interaction/action/mask/path.ts","webpack:///../../../../src/interaction/action/mask/smooth-path.ts","webpack:///../../../../../src/interaction/action/mask/multiple/base.ts","webpack:///../../../../../src/interaction/action/mask/multiple/rect.ts","webpack:///../../../../../src/interaction/action/mask/multiple/dim-rect.ts","webpack:///../../../../../src/interaction/action/mask/multiple/circle.ts","webpack:///../../../../../src/interaction/action/mask/multiple/path.ts","webpack:///../../../../../src/interaction/action/mask/multiple/smooth-path.ts","webpack:///../../../src/interaction/action/cursor.ts","webpack:///../../../../src/interaction/action/data/filter.ts","webpack:///../../../../src/interaction/action/data/range-filter.ts","webpack:///../../../../src/interaction/action/data/sibling-filter.ts","webpack:///../../../../src/interaction/action/element/filter.ts","webpack:///../../../../src/interaction/action/element/sibling-filter.ts","webpack:///../../../../src/interaction/action/view/button.ts","webpack:///../../../../src/interaction/action/view/drag.ts","webpack:///../../../../src/interaction/action/view/move.ts","webpack:///../../../../src/interaction/action/view/scale-transform.ts","webpack:///../../../../src/interaction/action/view/scale-translate.ts","webpack:///../../../../src/interaction/action/view/scale-zoom.ts","webpack:///../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack:///../../../../../src/interaction/action/component/axis/axis-description.ts","webpack:///../../src/utils/invariant.ts","webpack:///../../src/utils/pick.ts","webpack:///../../src/utils/data.ts","webpack:///../../src/utils/deep-assign.ts","webpack:///../../src/utils/dom.ts","webpack:///../../src/utils/flow.ts","webpack:///../../src/utils/geometry.ts","webpack:///../../src/utils/kebab-case.ts","webpack:///../../src/utils/label.ts","webpack:///../../src/utils/context.ts","webpack:///../../src/utils/measure-text.ts","webpack:///../../src/utils/number.ts","webpack:///../../src/utils/padding.ts","webpack:///../../src/utils/path.ts","webpack:///../../src/utils/statistic.ts","webpack:///../../src/utils/template.ts","webpack:///../../src/utils/view.ts","webpack:///../../../src/utils/pattern/util.ts","webpack:///../../../src/utils/pattern/dot.ts","webpack:///../../../src/utils/pattern/line.ts","webpack:///../../../src/utils/pattern/square.ts","webpack:///../../../src/utils/pattern/index.ts","webpack:///../../src/adaptor/pattern.ts","webpack:///../../src/adaptor/common.ts","webpack:///../../src/core/global.ts","webpack:///../../src/core/locale.ts","webpack:///../../src/locales/en_US.ts","webpack:///../../src/locales/zh_CN.ts","webpack:///../../src/utils/tooltip.ts","webpack:///../../../src/adaptor/geometries/base.ts","webpack:///../../../src/adaptor/geometries/area.ts","webpack:///../../../src/adaptor/geometries/edge.ts","webpack:///../../../src/adaptor/geometries/interval.ts","webpack:///../../../src/adaptor/geometries/line.ts","webpack:///../../../src/adaptor/geometries/point.ts","webpack:///../../../src/adaptor/geometries/polygon.ts","webpack:///../../../src/adaptor/geometries/schema.ts","webpack:///../../../src/adaptor/geometries/violin.ts","webpack:///../../src/core/plot.ts","webpack:///../../../src/utils/transform/percent.ts","webpack:///../../../src/plots/line/adaptor.ts","webpack:///../../../src/plots/area/adaptor.ts","webpack:///../../../src/plots/area/constants.ts","webpack:///../../../src/plots/area/index.ts","webpack:///../../../src/interactions/actions/reset-button.ts","webpack:///../../src/interactions/brush.ts","webpack:///../../src/adaptor/brush.ts","webpack:///../../src/adaptor/connected-area.ts","webpack:///../../src/utils/conversion.ts","webpack:///../../src/adaptor/conversion-tag.ts","webpack:///../../../src/plots/column/adaptor.ts","webpack:///../../../src/plots/bar/adaptor.ts","webpack:///../../../src/plots/bar/constants.ts","webpack:///../../../src/plots/bar/index.ts","webpack:///../../../src/plots/column/constants.ts","webpack:///../../../src/plots/column/index.ts","webpack:///../../../src/plots/funnel/constant.ts","webpack:///../../../../src/plots/funnel/geometries/common.ts","webpack:///../../../../src/plots/funnel/geometries/basic.ts","webpack:///../../../../src/plots/funnel/geometries/compare.ts","webpack:///../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack:///../../../../src/plots/funnel/geometries/facet.ts","webpack:///../../../../src/plots/funnel/interactions/funnel-conversion-tag.ts","webpack:///../../../../src/plots/funnel/interactions/index.ts","webpack:///../../../src/plots/funnel/adaptor.ts","webpack:///../../../src/plots/funnel/index.ts","webpack:///../../../src/plots/gauge/constants.ts","webpack:///../../../src/plots/gauge/utils.ts","webpack:///../../../src/plots/gauge/adaptor.ts","webpack:///../../../../src/plots/gauge/shapes/indicator.ts","webpack:///../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack:///../../../src/plots/gauge/index.ts","webpack:///../../../src/utils/transform/histogram.ts","webpack:///../../../src/plots/histogram/constant.ts","webpack:///../../../src/plots/histogram/adaptor.ts","webpack:///../../../src/plots/histogram/index.ts","webpack:///../../../src/plots/line/constants.ts","webpack:///../../../../src/plots/line/interactions/marker-active.ts","webpack:///../../../../src/plots/line/interactions/index.ts","webpack:///../../../src/plots/line/index.ts","webpack:///../../../src/plots/pie/contants.ts","webpack:///../../src/utils/matrix.ts","webpack:///../../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack:///../../../../src/plots/pie/interactions/util.ts","webpack:///../../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack:///../../../../src/plots/pie/interactions/index.ts","webpack:///../../../src/plots/pie/utils.ts","webpack:///../../../src/plots/pie/adaptor.ts","webpack:///../../../src/plots/pie/index.ts","webpack:///../../../src/plots/progress/constants.ts","webpack:///../../../src/plots/progress/utils.ts","webpack:///../../../src/plots/progress/adaptor.ts","webpack:///../../../src/plots/progress/index.ts","webpack:///../../../src/plots/ring-progress/adaptor.ts","webpack:///../../../src/plots/ring-progress/constants.ts","webpack:///../../../src/plots/ring-progress/index.ts","webpack:///../../../src/plots/scatter/util.ts","webpack:///../../../src/plots/scatter/adaptor.ts","webpack:///../../../src/plots/scatter/constant.ts","webpack:///../../src/interactions/drag-move.ts","webpack:///../../../src/plots/scatter/index.ts","webpack:///../../../src/plots/stock/constant.ts","webpack:///../../../src/plots/stock/utils.ts","webpack:///../../../src/plots/stock/adaptor.ts","webpack:///../../../src/plots/stock/index.ts","webpack:///../../../src/plots/tiny-line/utils.ts","webpack:///../../../src/plots/tiny-line/constants.ts","webpack:///../../../src/plots/tiny-area/adaptor.ts","webpack:///../../../src/plots/tiny-area/constants.ts","webpack:///../../../src/plots/tiny-area/index.ts","webpack:///../../../src/plots/tiny-column/adaptor.ts","webpack:///../../../src/plots/tiny-column/constants.ts","webpack:///../../../src/plots/tiny-column/index.ts","webpack:///../../../src/plots/tiny-line/adaptor.ts","webpack:///../../../src/plots/tiny-line/index.ts","webpack:///../../../src/plots/mix/utils.ts","webpack:///../../../src/plots/mix/adaptor.ts","webpack:///../../../../src/plots/mix/interactions/utils.ts","webpack:///../../../../src/plots/mix/interactions/association.ts","webpack:///../../../src/plots/mix/index.ts","webpack:///../src/lab.ts","webpack:///../../../src/plots/bidirectional-bar/constant.ts","webpack:///../../../src/plots/bidirectional-bar/utils.ts","webpack:///../../../src/plots/bidirectional-bar/adaptor.ts","webpack:///../../../src/plots/bidirectional-bar/index.ts","webpack:///../../../src/plots/box/constant.ts","webpack:///../../../src/plots/box/utils.ts","webpack:///../../../src/plots/box/adaptor.ts","webpack:///../../../src/plots/box/index.ts","webpack:///../../../src/plots/bullet/utils.ts","webpack:///../../../src/plots/bullet/adaptor.ts","webpack:///../../../src/plots/bullet/constant.ts","webpack:///../../../src/plots/bullet/index.ts","webpack:///../../../src/utils/transform/chord.ts","webpack:///../../../src/plots/chord/constant.ts","webpack:///../../../src/plots/chord/adaptor.ts","webpack:///../../../src/plots/chord/index.ts","webpack:///../../../src/plots/circle-packing/constant.ts","webpack:///../../../src/interactions/actions/drill-down.ts","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///../../../src/utils/hierarchy/util.ts","webpack:///../../../src/utils/hierarchy/pack.ts","webpack:///../../../src/plots/circle-packing/utils.ts","webpack:///../../../src/plots/circle-packing/adaptor.ts","webpack:///../../src/interactions/drill-down.ts","webpack:///../../../src/plots/circle-packing/index.ts","webpack:///../../../src/plots/dual-axes/constant.ts","webpack:///../../../src/plots/dual-axes/types.ts","webpack:///../../../../src/plots/dual-axes/util/option.ts","webpack:///../../../../src/plots/dual-axes/util/geometry.ts","webpack:///../../../../src/plots/dual-axes/util/legend.ts","webpack:///../../../../src/plots/dual-axes/util/render-sider.ts","webpack:///../../../src/plots/dual-axes/adaptor.ts","webpack:///../../../src/plots/dual-axes/index.ts","webpack:///../../../src/plots/facet/utils.ts","webpack:///../../../src/plots/facet/adaptor.ts","webpack:///../../../src/plots/facet/constant.ts","webpack:///../../../src/plots/facet/index.ts","webpack:///../../../src/plots/heatmap/adaptor.ts","webpack:///../../../src/plots/heatmap/constant.ts","webpack:///../../../../src/plots/heatmap/shapes/circle.ts","webpack:///../../../../src/plots/heatmap/shapes/square.ts","webpack:///../../../src/plots/heatmap/index.ts","webpack:///../../../src/plots/liquid/utils.ts","webpack:///../../../src/plots/liquid/adaptor.ts","webpack:///../../../src/plots/liquid/constants.ts","webpack:///../../../../src/plots/liquid/shapes/liquid.ts","webpack:///../../../src/plots/liquid/index.ts","webpack:///../../../src/plots/radar/adaptor.ts","webpack:///../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack:///../../../../src/plots/radar/interactions/index.ts","webpack:///../../../src/plots/radar/index.ts","webpack:///../../../src/plots/radial-bar/utils.ts","webpack:///../../../src/plots/radial-bar/adaptor.ts","webpack:///../../../src/plots/radial-bar/constant.ts","webpack:///../../../src/plots/radial-bar/index.ts","webpack:///../../../src/plots/rose/adaptor.ts","webpack:///../../../src/plots/rose/constant.ts","webpack:///../../../src/plots/rose/index.ts","webpack:///../../../src/plots/sankey/constant.ts","webpack:///../../../src/plots/sankey/circle.ts","webpack:///../../../../src/plots/sankey/sankey/align.ts","webpack:///../../../../src/plots/sankey/sankey/helper.ts","webpack:///../../../../src/plots/sankey/sankey/sankey.ts","webpack:///../../../src/plots/sankey/layout.ts","webpack:///../../../src/plots/sankey/helper.ts","webpack:///../../../src/plots/sankey/adaptor.ts","webpack:///../../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack:///../../../../src/plots/sankey/interactions/node-draggable.ts","webpack:///../../../src/plots/sankey/index.ts","webpack:///../../../src/plots/sunburst/constant.ts","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/partition.js","webpack:///../../../src/utils/hierarchy/partition.ts","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///../../../src/utils/hierarchy/treemap.ts","webpack:///../../../src/plots/sunburst/utils.ts","webpack:///../../../src/plots/sunburst/adaptor.ts","webpack:///../../../src/plots/sunburst/index.ts","webpack:///../../../src/plots/treemap/utils.ts","webpack:///../../../src/plots/treemap/adaptor.ts","webpack:///../../../src/plots/treemap/constant.ts","webpack:///../../../src/plots/treemap/index.ts","webpack:///../../../src/plots/venn/constant.ts","webpack:///../../../../src/plots/venn/interactions/util.ts","webpack:///../../../../../src/plots/venn/interactions/actions/active.ts","webpack:///../../../../../src/plots/venn/interactions/actions/highlight.ts","webpack:///../../../../../src/plots/venn/interactions/actions/selected.ts","webpack:///../../../../src/plots/venn/interactions/index.ts","webpack:///../../../src/plots/venn/label.ts","webpack:///./node_modules/lodash-es/isArray.js","webpack:///./node_modules/lodash-es/_Symbol.js","webpack:///./node_modules/lodash-es/_getRawTag.js","webpack:///./node_modules/lodash-es/_objectToString.js","webpack:///./node_modules/lodash-es/_baseGetTag.js","webpack:///./node_modules/lodash-es/isObjectLike.js","webpack:///./node_modules/lodash-es/isString.js","webpack:///./node_modules/lodash-es/_arrayEach.js","webpack:///./node_modules/lodash-es/_createBaseFor.js","webpack:///./node_modules/lodash-es/_baseFor.js","webpack:///./node_modules/lodash-es/_baseTimes.js","webpack:///./node_modules/lodash-es/_baseIsArguments.js","webpack:///./node_modules/lodash-es/isArguments.js","webpack:///./node_modules/lodash-es/_isIndex.js","webpack:///./node_modules/lodash-es/isLength.js","webpack:///./node_modules/lodash-es/_baseIsTypedArray.js","webpack:///./node_modules/lodash-es/_baseUnary.js","webpack:///./node_modules/lodash-es/isTypedArray.js","webpack:///./node_modules/lodash-es/_arrayLikeKeys.js","webpack:///./node_modules/lodash-es/_isPrototype.js","webpack:///./node_modules/lodash-es/_overArg.js","webpack:///./node_modules/lodash-es/_nativeKeys.js","webpack:///./node_modules/lodash-es/_baseKeys.js","webpack:///./node_modules/lodash-es/isObject.js","webpack:///./node_modules/lodash-es/isFunction.js","webpack:///./node_modules/lodash-es/isArrayLike.js","webpack:///./node_modules/lodash-es/keys.js","webpack:///./node_modules/lodash-es/_baseForOwn.js","webpack:///./node_modules/lodash-es/_createBaseEach.js","webpack:///./node_modules/lodash-es/_baseEach.js","webpack:///./node_modules/lodash-es/identity.js","webpack:///./node_modules/lodash-es/_castFunction.js","webpack:///./node_modules/lodash-es/forEach.js","webpack:///./node_modules/lodash-es/_listCacheClear.js","webpack:///./node_modules/lodash-es/eq.js","webpack:///./node_modules/lodash-es/_assocIndexOf.js","webpack:///./node_modules/lodash-es/_listCacheDelete.js","webpack:///./node_modules/lodash-es/_listCacheGet.js","webpack:///./node_modules/lodash-es/_listCacheHas.js","webpack:///./node_modules/lodash-es/_listCacheSet.js","webpack:///./node_modules/lodash-es/_ListCache.js","webpack:///./node_modules/lodash-es/_stackClear.js","webpack:///./node_modules/lodash-es/_stackDelete.js","webpack:///./node_modules/lodash-es/_stackGet.js","webpack:///./node_modules/lodash-es/_stackHas.js","webpack:///./node_modules/lodash-es/_coreJsData.js","webpack:///./node_modules/lodash-es/_isMasked.js","webpack:///./node_modules/lodash-es/_toSource.js","webpack:///./node_modules/lodash-es/_baseIsNative.js","webpack:///./node_modules/lodash-es/_getValue.js","webpack:///./node_modules/lodash-es/_getNative.js","webpack:///./node_modules/lodash-es/_Map.js","webpack:///./node_modules/lodash-es/_nativeCreate.js","webpack:///./node_modules/lodash-es/_hashClear.js","webpack:///./node_modules/lodash-es/_hashDelete.js","webpack:///./node_modules/lodash-es/_hashGet.js","webpack:///./node_modules/lodash-es/_hashHas.js","webpack:///./node_modules/lodash-es/_hashSet.js","webpack:///./node_modules/lodash-es/_Hash.js","webpack:///./node_modules/lodash-es/_mapCacheClear.js","webpack:///./node_modules/lodash-es/_isKeyable.js","webpack:///./node_modules/lodash-es/_getMapData.js","webpack:///./node_modules/lodash-es/_mapCacheDelete.js","webpack:///./node_modules/lodash-es/_mapCacheGet.js","webpack:///./node_modules/lodash-es/_mapCacheHas.js","webpack:///./node_modules/lodash-es/_mapCacheSet.js","webpack:///./node_modules/lodash-es/_MapCache.js","webpack:///./node_modules/lodash-es/_stackSet.js","webpack:///./node_modules/lodash-es/_Stack.js","webpack:///./node_modules/lodash-es/_setCacheAdd.js","webpack:///./node_modules/lodash-es/_setCacheHas.js","webpack:///./node_modules/lodash-es/_SetCache.js","webpack:///./node_modules/lodash-es/_arraySome.js","webpack:///./node_modules/lodash-es/_cacheHas.js","webpack:///./node_modules/lodash-es/_equalArrays.js","webpack:///./node_modules/lodash-es/_Uint8Array.js","webpack:///./node_modules/lodash-es/_mapToArray.js","webpack:///./node_modules/lodash-es/_setToArray.js","webpack:///./node_modules/lodash-es/_equalByTag.js","webpack:///./node_modules/lodash-es/_arrayPush.js","webpack:///./node_modules/lodash-es/_baseGetAllKeys.js","webpack:///./node_modules/lodash-es/_arrayFilter.js","webpack:///./node_modules/lodash-es/stubArray.js","webpack:///./node_modules/lodash-es/_getSymbols.js","webpack:///./node_modules/lodash-es/_getAllKeys.js","webpack:///./node_modules/lodash-es/_equalObjects.js","webpack:///./node_modules/lodash-es/_DataView.js","webpack:///./node_modules/lodash-es/_Promise.js","webpack:///./node_modules/lodash-es/_Set.js","webpack:///./node_modules/lodash-es/_WeakMap.js","webpack:///./node_modules/lodash-es/_getTag.js","webpack:///./node_modules/lodash-es/_baseIsEqualDeep.js","webpack:///./node_modules/lodash-es/_baseIsEqual.js","webpack:///./node_modules/lodash-es/isEqual.js","webpack:///../../../src/plots/venn/shape.ts","webpack:///../../../src/utils/color/blend.ts","webpack:///../../../../src/plots/venn/layout/circleintersection.ts","webpack:///../../../../src/plots/venn/layout/diagram.ts","webpack:///../../../../src/plots/venn/layout/layout.ts","webpack:///../../../src/plots/venn/utils.ts","webpack:///../../../src/plots/venn/adaptor.ts","webpack:///../../../src/plots/venn/index.ts","webpack:///../../../src/plots/violin/constant.ts","webpack:///../../../src/utils/transform/quantile.ts","webpack:///../../../src/plots/violin/utils.ts","webpack:///../../../src/plots/violin/adaptor.ts","webpack:///../../../src/plots/violin/index.ts","webpack:///../../../src/plots/waterfall/constant.ts","webpack:///../../../src/plots/waterfall/shape.ts","webpack:///../../../src/plots/waterfall/utils.ts","webpack:///../../../src/plots/waterfall/adaptor.ts","webpack:///../../../src/plots/waterfall/index.ts","webpack:///../../../src/plots/word-cloud/constant.ts","webpack:///../../../src/utils/transform/word-cloud.ts","webpack:///../../../src/plots/word-cloud/utils.ts","webpack:///../../../src/plots/word-cloud/adaptor.ts","webpack:///../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack:///../../../src/plots/word-cloud/index.ts","webpack:///../../src/plugin/index.ts","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/gl-matrix/esm/vec3.js","webpack:///../../src/util/arc-params.ts","webpack:///../../src/util/arrow.ts","webpack:///./node_modules/pdfast/src/index.js","webpack:///../../src/util/parse.ts","webpack:///../../src/util/hit.ts","webpack:///../src/canvas.ts","webpack:///./node_modules/size-sensor/lib/index.js","webpack:///../../src/tooltip/css-const.ts","webpack:///../../src/util/graphic.ts","webpack:///../../src/annotation/line.ts","webpack:///../../src/annotation/text.ts","webpack:///../../src/annotation/arc.ts","webpack:///../../src/annotation/region.ts","webpack:///../../src/annotation/image.ts","webpack:///../../src/annotation/data-marker.ts","webpack:///../../src/annotation/data-region.ts","webpack:///../../src/annotation/region-filter.ts","webpack:///../../src/annotation/shape.ts","webpack:///../../src/annotation/html.ts","webpack:///../../src/defs/gradient.ts","webpack:///../../src/defs/shadow.ts","webpack:///../../src/defs/arrow.ts","webpack:///../../src/defs/clip.ts","webpack:///../../src/defs/pattern.ts","webpack:///../../src/defs/index.ts","webpack:///../../src/grid/base.ts","webpack:///../../src/grid/circle.ts","webpack:///../../src/grid/line.ts","webpack:///./node_modules/lodash-es/_nodeUtil.js","webpack:///./node_modules/gl-matrix/esm/common.js","webpack:///./node_modules/pdfast/src/helper.js","webpack:///../../src/abstract/element.ts"],"names":["__extends","AbstractGroup","clone","_super","call","children","getChildren","i","length","child","add","Container","CrosshairBase","cfg","getDefaultCfg","name","type","line","text","textBackground","capture","defaultCfg","style","lineWidth","stroke","Theme","lineColor","position","offset","autoRotate","content","fill","textColor","textAlign","textBaseline","fontFamily","padding","group","get","renderLine","renderText","renderBackground","isNil","textPoint","getTextPoint","matrix","angle","getRotateAngle","getMatrixByAngle","addShape","id","getElementId","attrs","path","getLinePath","textId","textShape","findById","textBBox","getBBox","formatPadding","backgroundShape","x","y","width","height","attr","toBack","GroupComponent","LineCrosshair","locationType","start","end","getLocation","Math","atan2","tangentAngle","PI","center","radius","startAngle","endAngle","point","getCirclePoint","offsetX","cos","offsetY","sin","startPoint","endPoint","large","abs","sweep","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","_a","CssConst","backgroundColor","color","HtmlCrosshair","containerTpl","crosshairTpl","textTpl","domStyles","containerClassName","defaultStyles","HtmlTheme","align","resetText","resetPosition","container","getContainer","crosshairEl","createDom","appendChild","applyStyle","set","textEl","substitute","innerHTML","remove","initCrossHair","minX","min","minY","isVertical","modifyCSS","toPx","top","left","alignText","clientWidth","hasKey","updateInner","HtmlComponent","DEFAULT_Y","MARGIN_RATIO","DODGE_RATIO","GAP","eventName","eventObject","event","GraphEvent","target","propagationPath","push","emitDelegation","parent","getParent","cache","Map","method","shape","r","bbox1","bbox2","maxX","max","maxY","bbox","startArrowShape","endArrowShape","startArrowBBox","endArrowBBox","getCanvasBBox","mergeBBox","xArr","yArr","points","Util","getBBoxByArray","mergeArrowBBox","fontSize","lineHeight","font","assembleFont","getTextWidth","getTextHeight","segments","segmentsWithAngle","segment","params","prePoint","box","command","QuadUtil","CubicUtil","arcParams","EllipseArcUtil","cx","cy","rx","ry","xRotation","currentPoint","nextPoint","filter","item","Number","isNaN","Infinity","extra","getExtraFromSegmentWithAngle","xExtra","yExtra","currentAndPre","pow","currentAndNext","preAndNext","currentAngle","acos","sqrt","isNumberEqual","xAngle","yAngle","path2Segments","getPathBox","y1","x2","y2","x1","register","rect","circle","polyline","polygon","ellipse","Object","defineProperty","exports","value","SizeSensorId","SensorTabIndex","SensorClassName","DEFAULT_STYLE","trackColor","thumbColor","size","lineCap","DEFAULT_THEME","default","hover","_this","noop","isMobile","e","originalEvent","preventDefault","clientX","clientY","startPos","isHorizontal","bindLaterEvent","containerDOM","getContainerDOM","events","addEventListener","onMouseMove","onMouseUp","clearEvents","forEach","thumbOffset","endPos","diff","updateThumbOffset","thumbLen","getBoundingClientRect","newOffset","validateRange","theme","getElementByLocalId","draw","Scrollbar","curValue","getValue","newValue","clamp","setValue","range","getRange","originalValue","update","delegateEmit","minThumbLen","renderTrackShape","renderThumbShape","moveElementTo","bindEvents","trackLen","_b","deepMix","themeSize","cursor","on","onStartEvent","trackShape","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","canvas","emitOffsetChange","emit","ratio","right","bottom","isNumber","isArray","childNodes","removeChild","elements","cName","className","match","RegExp","region","xs","map","ys","apply","percent","p1","p2","dx","dy","wait","interval","Promise","resolve","setTimeout","near","EPSILON","includes","box1","box2","createBBox","element","clipShape","getClip","clipBBox","isGroup","minX_1","maxX_1","minY_1","maxY_1","each","getBBoxWithClip","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","intersectBBox","newElement","newClipShape","setClip","clipCfg","number","lineLength","distance","offsetPercent","getValueByPercent","LegendBase","layout","title","background","getLayoutBBox","maxWidth","maxHeight","resetLocation","resetDraw","drawTitle","drawLegendContent","drawBackground","titleCfg","spacing","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","opacity","textStyle","fontWeight","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","itemGroup","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","animate","totalPagesCnt","Category","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","items","itemStates","itemBackground","pageNavigator","symbol","alignRight","formatter","active","nameStyle","unchecked","uncheckedColor","markerStyle","inactive","mix","clear","render","state","itemElement","getItems","index","indexOf","offsetGroup","createOffScreenGroup","drawItem","getItemHeight","updateElements","clearUpdateStatus","rst","v","k","getItemsByState","setItemState","hasState","processItems","drawItems","itemContainerGroup","addGroup","startX","startY","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","isFunction","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","x0","y0","x3","y3","showRadio","radioShape","tip","groupId","subContainer","delegateObject","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","ellipsisLabel","valueShape","drawRadio","backShape","applyItemStates","subGroups","findAll","navigation","drawNavigation","navigationBBox","pages","widthLimit","newItemXPos","maxRow","maxRowHeight_1","navigationX_1","shouldWrap","cntPerPage_1","floor","ceil","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","rightArrow","onNavigationAfter","cursorX","updateArrowPath","direction","arrow","translate","getMatrixByTranslate","states","getItemStates","hasStates","itemStates_1","elName","split","statesStyle","getStatesStyle","HANDLER_HEIGHT_RATIO","HANDLER_TRIANGLE_RATIO","ContinueLegend","colors","track","rail","label","handler","slidable","step","defaultLength","getCurrentValue","originValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","drawLabels","fixedElements","resetTrack","bindHandlersEvent","ev","minValue","getValueByCanvasPoint","currentValue","maxValue","preValue","curDiff","dValue","drawLabel","labelCfg","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","localId","w","h","railCfg","getRailPath","count","railShape","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","isVertcal","getRailCanvasBBox","round","values","__spreadArrays","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","maxLength","upperFirst","elementsLength","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","timeStamp","defaultPrevented","propagationStopped","Group","createSVGElement","parentNode","targetAttrs","afterAttrsChange","context","createPath","changeType","refreshElement","Shape","el","drawChildren","SVG_ATTR_MAP","setAttribute","setTransform","out","a","transMat","mat3","fromTranslation","multiply","rad","rotateMat","fromRotation","scaleMat","fromScaling","a1","m","actions","concat","len","action","leftTranslate","leftScale","leftRotate","leftMultiply","v1","v2","direct","ang","vec2","angleLargeThanPI","flag","RGB_REG","regexLG","regexRG","regexColorStop","isGradientColor","val","test","createTmp","document","createElement","display","body","arr","toHex","rgb2arr","str","parseInt","substr","x16Value","toString","calColor","fixedPercent","steps","arr2rgb","iEl","toRGB","defaultView","getComputedStyle","getPropertyValue","matches","exec","cArray","s","gradient","colorArray","isString","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","memoize","registerAdjust","Dodge","Jitter","Stack","Symmetric","Cache","_","NaN","_c","_d","reverseOrder","adjustNames","groupDataArray","yField","d","processStack","processOneDimStack","reverse","groupedDataArray","slice","xField","positive","negative","dataArray","data","xKey","has","xValue","newXValue","stackHeight","stackValue","Adjust","methodCache","key","__cfg__","initCfg","init","Scale","assign","constructor","ticks","tick","idx","isObject","getText","tickValue","scale","res","setDomain","isEmpty","getConfig","calculateTicks","tickMethod","getTickMethod","Error","translateIndexMap","buildIndexMap","undefined","order","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","args","Base","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","toLowerCase","origObj","obj","dayNames","monthNames","monthNamesShort","shorten","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","replace","pad","String","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","toUpperCase","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","now","Date","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","prototype","getTime","literals","$0","$1","combinedI18nSettings","shift","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","regex","requiredField","field","keys","parser","dateTZ","validateFields","UTC","parse","getter","_lo","_hi","lo","hi","mid","FORMAT_METHOD","time","fecha1","fecha","isDate","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","tickCount","bisector","o","last","TimeCat","toTimeStamp","tickIndex","result","timeFormat","sort","Continuous","getScalePercent","firstTick","head","lastTick","minLimit","maxLimit","nice","Linear","getInvertPercent","b","E","log","base","positiveMin","num","eSplit","num1","num2","num1Digits","digitLength","num2Digits","baseNum","Log","appendPercent","tmp","getLogPositiveMin","Pow","exponent","calBase","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","TypeError","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","unshift","Quantile","cls","getClass","Identity","tickInterval","showLast","ticks_1","__","lastValue","linear","D3Linear","domain","DEFAULT_COUNT","e10","e5","e2","_domain","Array","from","i0","i1","stop","tickIncrement","d3ArrayTicks","n","isFinite","power","LN10","error","snapType","div","snapMultiple","maxTick","fixedBase","availableInterval","defaultMin","defaultMax","tickMin","tickMax","d3Linear","strictLimit","parseFloat","toFixed","DEFAULT_Q","ALL_Q","eps","q","Q","j","lmin","lmax","lstep","mod","dMin","dMax","lMin","lMax","rt","span","half","onlyLoose","step_1","prettyNumber","best","score","sm","simplicityMax","dm","densityMax","delta","z","log10","cm","coverageMax","minStart","maxStart","i_1","lStep","simplicity","c","coverage","g","density","l","legibility","extended","avg","h5","unit","nu","ns","pretty","p","sorted","quantileSorted","getTickInterval","catTicks","date","minYear","getYear","maxYear","minMonth","maxMonth","yearInterval","createYear","monthInterval","mmMoth","dMonths","diffMonth","creatMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","console","warn","registerTickMethod","cat","timeCat","rPretty","timePretty","quantile","registerScale","mergeData","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dim","dimValues","flattenValues","SHAPE_ATTRS_MAP","name_1","transform","setLineDash","parseStyle","globalAlpha","visible","skipDraw","refreshElements","parent_1","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","destroyed","clearChanged","cacheCanvasBBox","isAllow","isInView","intersectRect","arcParamsCache","startArrow","endArrow","startMovePoint","beginPath","tangent","getStartTangent","ArrowUtil","lastPath","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","getArcParams","sweepFlag","scaleX","scaleY","rotate","arc","closePath","_cacheCanvasBBox","cacheBox","validCache","validBBox","mergeRegion","minXArr","minYArr","maxXArr","maxYArr","getRefreshRegion","viewRegion","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","create","__assign","t","arguments","getOwnPropertySymbols","propertyIsEnumerable","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","reject","next","done","adopt","then","fulfilled","rejected","sent","trys","ops","f","verb","Symbol","iterator","op","pop","k2","ar","__read","il","jl","__await","asyncIterator","resume","settle","fulfill","__values","cooked","raw","__esModule","receiver","privateMap","model","shadowOffsetX","shadowOffsetY","blur","shadowBlur","shadowColor","removeAttribute","find","addShadow","join","clip","hasAttribute","addClip","ELLIPSIS_CODE","charAtLength","charCodeAt","reseveLength","charLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ELLIPSIS_CODE_LENGTH","OPTIMIZE_THRESHOLD","labels","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","limitLength","pick","ellipsisText","getEllipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","reserveLength","newText","ellipsisString","visibility","zIndex","transition","boxShadow","borderRadius","marginBottom","margin","listStyleType","marginRight","float","marginLeft","limitBox","hits","px","py","getPointByPosition","outSides","getOutSides","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","initContainer","getHtmlContentNode","resetStyles","applyStyles","hasOneKey","cacheDoms","removeDom","getOffset","regionToBBox","getAlignPoint","resetCrosshairs","node","curContainer","replaceChild","elem","isElement","titleDom","getElementsByClassName","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","styleName","colorUtil","substituteObj","domStr","itemDom","applyChildrenStyles","clearDom","pointAt","pointDistance","cross","lengthSquare","pointToLine","u","tCallback","v0","segNum","increaseRate","_t","d1","prev","d2","totalLength","nextX","nextY","p0","onet","xt","quadraticAt","yt","controlPoint1","controlPoint2","iterationCount","quadratics","divideQuadratic","quadraticLength","xExtrema","extrema","yExtrema","nearestPoint","interpolationAt","divide","derivativeAt","piMod","p3","extremas","t1","t2","discSqrt","disc","x4","y4","cubicAt","c1","c2","c3","c12","c23","snapLength","cubics","divideCubic","cubicLength","absv","relativeX","relativeY","squareA","squareB","nearestX","nearestY","ex","ey","rx1","ry1","qx","qy","hypot","delta_c","asin","delta_t","copysign","atan","tan","xDim","xAt","yDim","yAt","relativeVector","relativePoint","getAngle","getPoint","vector","derivativeXAt","derivativeYAt","to","length_1","seg","analyzePoints","startRatio","currentRatio","localRatio","minDistance","distance_1","lengthOfSegment","pointAtSegments","distanceAtSegment","angleAtSegments","getAllPoints","frame","timeout","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","setFrame","window","requestAnimationFrame","bind","clearNow","_call","_time","_next","Timer","timer","restart","callback","delay","sleep","timerFlush","nap","t0","clearTimeout","wake","clearInterval","setInterval","poke","factory","definition","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","Color","copy","channels","displayable","rgb","hex","color_formatHex","formatHex","formatHex8","color_formatHex8","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","trim","rgbn","Rgb","rgba","hsla","rgbConvert","extend","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","Hsl","hsl","m2","m1","hsl2rgb","clamph","clampt","v3","t3","basis","constant","nogamma","exponential","gamma","colorRgb","rgbGamma","spline","rgbBasis","rgbSpline","rgbBasisClosed","basisClosed","ArrayBuffer","isView","DataView","isNumberArray","numberArray","genericArray","nb","na","setTime","reA","reB","source","bi","lastIndex","am","bm","bs","one","zero","string","valueOf","object","isColorProp","prop","IDENTITY_MATRIX","animation","cProps","toAttrs","interf","isEqual","fromAttrs","toPath","fromPath","PathUtil","pathFormatted","toPathPoint","fromPathPoint","cPathPoint","interpolate","matrixFn","interpolateArray","currentMatrix","elapsed","startTime","_paused","duration","easing","easeFn","getEasing","repeat","onFrame","_update","Timeline","isFinished","animations","d3Timer","current","animators","removeAnimator","isAnimatePaused","splice","autoDraw","toEnd","animator","stopAnimate","CLICK_OFFSET","LEFT_BTN_CODE","DELEGATION_SPLIT","EVENTS","eventObj","currentTarget","delegateTarget","bubbles","relativeShape","isOverEvent","fromShape","toShape","isCanvas","isParent","_triggerEvent","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","removeEventListener","getShape","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","dist","_getEventObj","emitTargetEvent","bubbleEvent","_clearEvents","PX_SUFFIX","browser","detect","isFirefox","initDom","initEvents","initTimeline","Canvas","getElementById","setDOMSize","eventController","timeline","isBrowser","onCanvasChange","supportCSSTransform","layerX","layerY","getPointByClient","clientInfo","touches","changedTouches","destroy","ADJUST_MAP","getAdjust","ctor","createSensor","_object","require","_resizeObserver","ResizeObserver","ErrorBoundary","hasError","renderError","errorTemplate","props","React","message","getDerivedStateFromError","getDerivedStateFromProps","nextProps","Fragment","Component","global","parameters","maxIterations","tolerance","fA","fB","fMid","zeros","ret","dot","w1","w2","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","maxDiff","N","simplex","fx","sortOrder","centroid","reflected","contracted","expanded","iteration","history","sortedSimplex","worst","weightedSum","updateSimplex","shouldReduce","pk","phi0","phiPrime0","fxprime","phi","phi_old","phiPrime","a0","a_lo","a_high","phi_lo","zoom","initial","yk","temp","wolfeLineSearch","alpha","delta_k","beta_k","norm2","learnRate","functionCalls","inner","bisect","nelderMead","conjugateGradient","gradientDescent","gradientDescentLineSearch","zerosM","glMatrix","Float32Array","m00","m01","m02","m10","m11","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","b00","b02","b10","b12","b20","b22","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","mul","sub","subtract","SHAPE_TO_TAGS","image","dom","fillStyle","fillOpacity","strokeStyle","strokeOpacity","lineJoin","lineDash","lineDashOffset","miterLimit","fontStyle","fontVariant","class","preserveAspectRatio","freeSelf","self","root","freeGlobal","Function","random","adjustData","groupData","dimValue","adjustGroup","pre","randomNumber","getAdjustRange","getAdjustOffset","activeTextColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","stubFalse","off","EE","regexTags","regexDot","tag","charAt","parsePath","smooth","isLoop","constraint","cps","hasConstraint","prevPoint","nextCp0","cp1","cp0","prevIdx","d0","sum","crp","pointList","controlPointList","smoothBezier","cp2","catmullRom2Bezier","middlePoints","recurse","leftSegments","decasteljau","cmd","splitCurve","sourceLen","targetLen","segmentsToFill","filled","reduce","splitSegment","del","modify","levenshteinDistance","sourceSegment","targetSegment","getMinDiff","diffMatrix","changes","minPos","former","formerEnd","_getSegmentPoints","_splitPoints","SPACES","PATH_COMMAND","PATH_VALUES","pathString","paramCounts","REGEX_MD","pathArray","parsePathString","needProcess","mx","my","pa0","dots","first","ii","pa","preParams","upCmd","jj","symetricT","toSymmetry","symetricS","TAU","mapToEllipse","cosphi","sinphi","centerx","centery","xp","yp","approxUnitArc","ang1","ang2","vectorAngle","ux","uy","vx","vy","sign","getArcCenter","largeArcFlag","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","arcToBezier","xAxisRotation","curves","lambda","curve","LAF","SF","cur","r13","r23","s1","s2","arcToCubic","quadToCubic","lineToCubic","needZCommandIndexes","path2Absolute","allPathCommands","pathCommand","seglen","zCommandIndexes","segmentToCubic","fixArc","pi","ni","base3","p4","bezlen","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","tvalues","bounds","b2ac","sqrtb2ac","jlen","mt","intersect","nx","ny","denominator","px2","py2","isPointInsideBBox","r1","r2","r0","rectPath","vb","isBBoxIntersect","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","ax","ay","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","is","interPathHelper","path1","path2","path2Curve","x1m","y1m","x2m","y2m","pj","intr","kk","segment1","segment2","p2s","vMag","vRatio","point1","point2","toRadian","arcFlag","cxp","cyp","theta","vAngle","dTheta","isSamePoint","nextParams","lastStartMovePointIndex","startTangent","endTangent","cp","preSegment","_e","_f","_g","_h","dx1","dy1","dx2","dy2","isBetween","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","isHit","onSegment","dcmp","lines","isIntersect","getLineIntersect","points1","points2","isIn","isPointInPolygon","lines1","parseToLines","lines2","lineIntersectPolygon","AbstractShape","refX","refY","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","applyMatrix","totalMatrix","getTotalMatrix","topLeft","multiplyVec2","topRight","bottomLeft","bottomRight","shadowLeft","shadowRight","shadowTop","shadowBottom","vec","invertFromMatrix","inBBox","_isInBBox","isOnlyHitBox","isClipped","isInShape","Element","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","inst","offScreenRender","offScreenGroup","deleteElements","applyOffset","initEvent","show","hide","removeEvent","getInnerLayoutBBox","applyMatrix2BBox","evt","once","initGroup","propagationDelegate","GroupClass","getGroupBase","newGroup","getDelegateObject","isComponent","component","renderInner","appendDelegateObject","registerElement","Ctor","restCfg","updateAutoRender","elmentName","animateCfg","originOpacity","elementName","originElement","newAttrs","originGroup","animateOption","preElement","elementId","childComponent","origChildComponent","newCfg","difference","replaceAttrs","getReplaceAttrs","updateAnimation","updateClip","siblings","registerNewGroup","appear","enter","addAnimation","parentObject","originAttrs","deleteArray","leave","callbackAnimCfg","removeElement","removeAnimation","SHAPE_MAP","INDEX","setCanvas","setTimeline","removeFromArray","compare","childMinX","childMaxX","childMinY","childMaxY","onAttrChange","_applyChildrenMarix","preTotalMatrix","shapeType","ShapeBase","getShapeBase","groupClass","tmpCfg","TmpGroupClass","isAllowCapture","_findShape","getCanvas","preParent","_applyElementMatrix","getComparer","obj1","obj2","getChildByIndex","contain","fn","LOCATION_FIELD_MAP","none","originCfg","afterUpdate","setCapture","location","fields","_default","_len","_key","removeSensor","getSensor","Sensors","_id","_interopRequireDefault","_sensors","_constant","sensorId","getAttribute","newId","sensor","clean","_debounce","whenDestroy","listeners","newSensor","onload","contentDocument","resizeListener","overflow","pointerEvents","listener","cb","unbind","dimValuesMap","isAdjust","mergedData","getDimValues","adjustDim","record","dims","getChart","chartRef","chart","getDefaultAttrs","lineAppendWidth","getHitLineWidth","bboxMethod","getBBoxMethod","halfLineWidth","isClipShape","save","applyAttrsToContext","restore","_afterDraw","_applyClip","drawPath","getViewRange","getCanvasViewBox","strokeAndFill","afterDrawPath","isFill","isStroke","isInStrokeOrPath","Circle","absDistance","squareX","squareY","Ellipse","halfLineWith","ellipseDistance","HTMLElement","nodeName","ImageShape","_setImage","img","image_1","Image","_afterLoading","crossOrigin","src","sx","sy","swidth","sheight","drawImage","LineUtil","Line","setArrow","inLine","startArrowDistance","endArrowDistance","Symbols","square","diamond","triangle","diffY","Marker","_resetParamsCache","_getR","_getPath","paramsCache","ctx","getOffScreenContext","isPointInPath","ext","hasArc","inBox","qDistance","cDistance","vec3","inArc","polygons","polylines","extractPolygons","isPointInStroke","isInPolygon","Path","_setPathArr","getSegments","getTotalLength","extractResutl","isInPolygons","_calculateCurve","_setTcache","tCache","subt","nextSeg","pathToCurve","tempLength","segmentT","segmentL","segmentN","isClose","Polygon","inPolyline","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","parseRadius","r3","r4","Text","_assembleFont","_setText","textArr","startsWith","spaceingY","_getSpaceingY","subY","subText","fillText","strokeText","_drawTextArr","_drawText","substring","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","uid","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","React.createElement","role","clipPath","stopColor","stopOpacity","attributeName","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","ReactContentLoaderInstagram","ReactContentLoaderCode","ReactContentLoaderListStyle","ReactContentLoaderBulletList","ChartLoading","loadingTemplate","renderLoading","alignItems","justifyContent","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_i","_s","err","X","Float64Array","Y","xv","yv","iterations","uY","predict","SSE","SST","visitPoints","sse","sst","xmin","xmax","LOG10E","precision","maxIter","iter","found","midpoint","mp","uX","uXY","uX2","slope","intercept","YL","XY","XYL","X2Y","ly","_ols","ols","_ols2","_slicedToArray","exp","interpose","rSquared","determination","X2","maxiters","epsilon","bandwidth","_points","_points2","bw","yhat","residuals","robustWeights","edge","W","denom","xk","tricube","xkw","updateInterval","medianResidual","median","arg","_w","output","loess","cnt","lb","lx","logarithmic","X3","X4","n0","X2X2","quadratic","coefficients","_o","quad","lhs","rhs","coef","gaussianElimination","uncenter","polynomial","YS","regressionExp","regressionLinear","regressionLoess","regressionLog","regressionPoly","regressionPow","regressionQuad","version","polyIn","custom","polyOut","polyInOut","halfPi","tpmt","b9","bounceOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","EASING_MAP","d3Ease","freeExports","nodeType","freeModule","module","moduleExports","Buffer","nativeIsBuffer","isBuffer","__awaiter","__generator","fullClone","ReactDOM","reactRender","unmountComponentAtNode","createRoot","mainVersion","skip","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","usingClientEntryPoint","MARK","toggleWarning","modernRender","legacyRender","unmount","modernUnmount","legacyUnmount","TOOLTIP_CONTAINER_MAPPING","createNode","uuid","mountPoint","isType","getType","deepClone","hasPath","setPath","__rest","ChartClass","config","useRef","chartOptions","onReady","onEvent","toDataURL","encoderOptions","downloadImage","imageName","base64","href","download","click","reactDomToString","_uuid","statisticCustomHtml","statisticDom","processConfig","tooltip","useEffect","changeData","currentData","currentPercent","currentConfig","inputData","inputValue","inputPercent","inputConfig","changeType_1","typeMaps","currentKeys_1","chartInstance","sinC","cosC","mag","cosine","sqrDist","squaredDistance","sqrLen","squaredLength","stride","canFill","canStroke","shadow","_setColor","addGradient","addPattern","setShadow","elementFromPoint","isEqualNode","Dom","HTMLDocument","ImageData","getContext","putImageData","addArrow","getDefaultArrow","triangleDown","func","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","LETTER_SPACING","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","createElementNS","sorter","childList","toArray","fragment","createDocumentFragment","targetIndex","currentIndex","insertBefore","targetNext","parentChildren","clipPathEl","defsEl","children_1","sortDom","devicePixelRatio","region1","region2","clientHeight","initCapture","initVisible","hasClass","containerCss","styles","cssName","__spreadArray","pack","BrowserInfo","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","getNodeVersion","ua","matched","uaMatch","matchUserAgent","matchedRule","versionParts","createVersionParts","detectOS","searchBotMatch","isNode","WILDCARD","EventEmitter","_events","wildcardEvents","doEmit","es","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","getSmoothLinePath","lineY","areaPath","lineYPx","getAreaLineY","Trend","isArea","backgroundStyle","lineStyle","areaStyle","dataToPath","linePathToAreaPath","DEFAULT_HANDLER_STYLE","highLightFill","Handler","FOREGROUND_STYLE","DEFAULT_HANDLER_WIDTH","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","minTextShape","silent","maxTextShape","foregroundShape","handlerWidth","handlerHeight","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","PADDING","minBBox","maxBBox","eventType","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tr","tbody","thead","tfoot","td","th","initConstants","contains","defaultValue","getStyle","offsetHeight","getHeight","bTop","pTop","pBottom","bBottom","mTop","mBottom","offsetWidth","getWidth","bLeft","pLeft","pRight","bRight","mRight","mLeft","css","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","autoEllipsis","iconStyle","description","labelStyle","tickLineStyle","enable","threshold","drawLine","drawTicks","updateTickStates","getSideVector","labelGroup","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawTickLines","applyTickStates","page_1","optimizedTicks","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleHeight","titlePoint","getAxisVector","angleTo","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","x5","y5","x6","y6","x7","y7","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipsisTail","ellipseLabels","isRotate","getAngleByMatrix","minGap","overlap","prevBBox","labelsGroup","reversed","autoHideCfg","hasHide","curBBox","isHide","isOverlap","firstBBox","getMaxLabelWidth","equidistance","reserveOne","preLabel","parityHide","tickWidth","setLabelsAngle","fixedAngle","customRotate","labelRotate","regionX","regionY","axisVector","normal","normalize","verticalVector","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","getDefault","overlapCfg","verticalFactor_1","newAlign","unregisterElement","vecLen","isArrayLike","_keys","isMatch","isObjectLike","isPlainObject","getPrototypeOf","proto","predicate","_predicate","fromIndex","findIndex","firstValue","flatten","flattenDeep","curr","filterValues","getMax","getMin","arrPrototype","pull","pullAt","indexes","previous","comparer","keys_1","sortBy","union","sources","uniq","tmpMap","endsWith","every","some","condition","groupBy","paramscondition_1","row","unique","groups","groupToMap","array","getWrapBehavior","wrapBehavior","numColorCache","numberToColor","isDecimal","isEven","isInteger","isNegative","PRECISION","isOdd","isPositive","maxItem","minItem","DEGREE","toDegree","radian","RADIAN","degree","lowerCase","lowerFirst","upperCase","isArguments","isBoolean","isError","isNull","objectProto","isPrototype","isRegExp","isUndefined","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","src1","src2","src3","_mix","augment","immediate","later","callNow","debounce","resolver","memoized","MAX_MIX_LEVEL","level","maxLevel","_deepMix","subclass","superclass","overrides","staticOverrides","Tmp","superObj","other","valueKeys","otherKeys","identity","keyArr","options","leading","throttled","remaining","trailing","cancel","prefix","isArraylike","measureText","STEP","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","currentText","currentWidth","default_1","def","observe","disconnect","identityMatrix","xVector","transformMat3","getMatrix","setMatrix","translateMatrix","stateStyles","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","marginRatio","xDimensionLegenth","adjustDataArray","cacheMap","frameIndex","getDistribution","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","offScreenCtx","LAYER","DIRECTION","COMPONENT_TYPE","GROUP_Z_INDEX","FORE","MID","BG","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_ATTRS","FIELD_ORIGIN","MIN_CHART_WIDTH","MIN_CHART_HEIGHT","COMPONENT_MAX_VIEW_PERCENTAGE","ENGINES","G","engine","ele","paddingLeft","paddingRight","paddingTop","paddingBottom","autoFit","getElementSize","changeVisible","toScaleString","invert","_parseCfg","Attribute","param","_toOriginParam","scales","leftPercent","names","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","Position","xi","yi","ATTRIBUTE_MAP","registerAttribute","Opacity","Size","isTransposed","originalMatrix","Coordinate","isReflect","inverted","convertPoint","invertMatrix","invertPoint","isReflectX","isReflectY","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","getCoordinate","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","centerX","centerY","Set","angleInRadian","startAngleInRadian","endAngleInRadian","polarToCartesian","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","getPointsBox","coordStartAngle","coordEndAngle","diffAngle","uniqueValues","sourceShape","targetShape","targetLength","padValue","padEnd","sourceLength","sourceArray","targetArray","sourceArray_1_1","BBox","subBBox","TOP","TOP_LEFT","TOP_RIGHT","fromRange","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","gap","getRegionBBox","isPolar","getRadius","convert","endAngle_1","center_1","radius_1","startState","getSectorPath","startAngle_1","endState","dateRegex","scaleDef","attrType","geometryType","validData","getScale","valuesOfKey","getDefaultType","ScaleCtor","newScale","change","alias","widthRatio","isFullCircle","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","isAxisVertical","axisTheme","axisOptions","startVector","normalVector","axes","axisOption","getName","view","Facet","createContainer","getData","facets","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","foregroundGroup","getLayer","createFacetViews","facetToView","removeView","viewBBox","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","getTheme","getOptions","coordinateOption","geometries","coordinateType","getXYFields","xOption","getAxisOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","actionName","actionOption","ActionClass","isInCircle","coord","curPoint","angleRange","getDistanceToCenter","middleConvertPoint","subPath","_points2path","constaint","splinePath","catmullRom2bezier","_convertArr","_convertArcPath","transposed","equals","_convertPolarPath","_filterFullCirleLine","maskShape","getMaskBBoxByShape","maskBBox","isValidMaskBBox","maskShapes","bBox","getMaskPathByMaskShape","gEvent","isList","isSlider","isMultipleMask","getMultiMaskedElements","maskPath","getMaskPath","getElementsByPath","getMaskBBox","getIntersectElements","maskPathList","getMultiMaskPathList","flatMap","maskBBoxList","getMultiMaskBBoxList","sibling","getSiblingMultiMaskedElements","getSiblingMaskElementsByBBox","getSiblingPoint","geom","views","subView","getElements","getElementValue","stateName","getElementsBy","getModel","shapeBBox","pathToPoints","shapePoints","toPoints","isPolygonsIntersect","getComponents","co","normalPoint","point2Normalize","records","xFiled","getScaleByField","Context","getCurrentPoint","isPointInPlot","getCurrentShape","components","isInBox","Interaction","actionStr","getAction","createAction","methodName","actionObject","STEP_NAMES","START","SHOW_ENABLE","END","ROLLBACK","PROCESSING","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","createCallbackAction","parseAction","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","executeAction","afterExecute","throttle","nameArr","Interactions","interaction","interaciton","getInteraction","styleSheet","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","area","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","createAxisStyles","legendStyles","createLegendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","bowtie","hexagon","plus","hyphen","schema","candle","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","TITLE_CLASS","marginTop","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","dataMarker","annotationDataMarkerLineLength","autoAdjust","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","antvLight","themeCfg","styleSheetCfg","themeObject","createThemeByStyleSheet","defaultTheme","createTheme","Themes","value1","value2","xScale","getXScale","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","positionAttr","getFields","titleField","titleScale","tooltipTitle","attributes","attribute","getAttributesForLegend","attributes_1_1","tmpScale","tmpScaleDef","scaleDefs","inferedScaleType","inferScaleType","valueScale","eachValue","nameScale","groupScales","getGroupScales","getTooltipValueScale","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","filterYValue","snapEqual","firstIdx","lastIdx","middleIdx","showNil","getTooltipTitle","tooltipOption","mappingData","callbackParams","itemCfg","fields_1_1","addItem","getTooltipValue","getTooltipName","tooltipCfg","dataArray_1_1","findDataByPoint","elementsMap","getTooltipItems","geometries_1_1","tooltipItems","getTooltipItemsByHitShape","getTooltipItemsByFindData","findItemsFromView","childView","paddingArray","LOAD_COMPONENT_CONTROLLERS","plugin","option","wrapperOption","CoordinateController","isTheta","C","hasAction","transpose","execActions","resetMatrix","includeActions","shouldExec","Event","GEvent","getController","controller","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","createScaleByField","syncScales","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","getDefaultCategoryScaleRange","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","isAutoPadding","parsePadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentBBox","exceed","componentPadding","expand","inc","PC","syncPadding","instance","autoPadding","getComponentControllerNames","defaultLayout","createViewEvent","doPlotEvent","uniqueId","backgroundGroup","middleGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","fromData","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","coordinateBBox","opt","existInteraction","createInteraction","BEFORE_CHANGE_DATA","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","layer","isPointInCoordinate","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","calculatePadding","shrink","tooltipController","syncViewPaddingFn","defaultSyncViewPadding","doLayout","getCoordinateClipCfg","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","getComponentController","ALL_EVENTS","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","geometryScales","groupFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","renderer","pixelRatio","localRefresh","defaultInteractions","wrapperElement","getChartSize","getEngine","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","uniqItems","subItem","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","tooltipMarkersGroup","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","markerDefaultCfg","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getAngleByPoint","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","textCfg","firstItem","getGuideGroup","toFront","originalItems","customItems","ANIMATIONS_MAP","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","animateType","parsedAnimateCfg","parseAnimateConfig","animateFunction","getAnimation","minYPoint","BACKGROUND_SHAPE","offscreenGroup","elementIndex","shapeFactory","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","doAnimate","stateStatus","sortZIndex","zIndexReversed","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","convertPolarPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","factoryName","geomObj","shapeObj","appendConditions","values_1_1","eachGroup","currentModel","preModel","keyItem","added","updated","removed","keyIncluded","sortable","useDeferredLabel","userTheme","Geometry","positionCfg","parseFields","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","getDefaultAnimateCfg","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","getShapeFactory","yVal","xVal","length_2","groupScale","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","fs","length_4","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","isModelChange","removed_1_1","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1_1","xScale_2","getXDimensionLength","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","mergeArray","tmpMin","tmpMax","length_5","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","getGeometryLabel","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","rotateRadian","getRotateMatrix","labelItem","boxPadding","rotation","xOverlap","yOverlap","dones","getOverlapArea","updateAnimateCfg","fromChild","toChild","updateLabel","getCount","Labels","createOffscreenGroup","renderLabel","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","layouts","all","getGeometryLabelLayout","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","getLabelBackgroundInfo","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelPoint","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","themedLabelCfg","labelPointCfg","getOffsetVector","offsetPoint","isAvg","isFunnel","getPolygonCentroid","getDimValue","setLabelPosition","getLabelOffsetPoint","labelScales","originText","getLabelText","callbackCfg","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","restArgs","MarkerSymbols","diffX","STROKES_SYMBOLS","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getMappingValue","getShapeMarker","isInPolar","omit","adpatorMarkerStyle","handleUserMarkerStyle","setMarkerSymbol","itemMarker","legendTheme","isValueEmpty","connectNulls","showSinglePoint","filtered","isYNil","leftPoints","rightPoints","leftPath","getSplinePath","rightPath","sizeName","eachY","LineSymbols","shapeAttrs","getPathPoints","eachLinePoints","getPath","isStack","topPoints","bottomPoints","splitPoints","topPath","getSinglePath","bottomPath","getRangePath","LineShapeFactory","registerShapeFactory","registerShape","getShapeAttrs","getLineMarker","VERSION","getLegendItems","getDelegationObject","createDarkStyleSheet","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","antvDark","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","AreaShapeFactory","yItem","startOnZero","Area","EdgeShapeFactory","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorAttr","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","clearRect","valueField","getShadowCanvasCtx","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","pixels","palette","ColorUtil","yMin","yMax","xMin","xMax","isClosed","firstPoint","minLength","isReflectYTransposed_1","bump","opposite","coor","getRectPath","isPyramid","swap","IntervalShapeFactory","getRectPoints","backgroundCfg","getBackgroundRectStyle","backgroundPath","getBackgroundRectPath","getRectWithCornerRadius","getIntervalRectPath","sourceArr","xValues","findMinDistance","normalizedSize","wr","dodgeCount","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","coordinateWidth","getMaxScale","SHAPES","HOLLOW_SHAPES","pointPosition","points_1_1","PointShapeFactory","drawPoints","Point","PolygonShapeFactory","subX","xCount","yCount","xOffset","yOffset","SchemaShapeFactory","Schema","ViolinShapeFactory","sizeArr","normalizeSize","_size","isMin","isMax","getViolinPath","Violin","_sizeField","sizeField","getConstraint","getQPath","arc1","arc2","getArcShapePath","getArcShapeWeightPath","getArcPath","getCPath","getSmoothPath","CORNER_PERCENT","getVHVPath","getFunnelPath","getLinePoints","getTickPoints","getTickPath","interpolateCallback","middleX","middleY","interpolatePoint","interpolatePoints","getInterpolatePoints","getInterpolatePath","getInterpolateShapeAttrs","min1","max1","halfSize","pointsArray","parseValue","getBoxPoints","getBoxPath","yValues","getCandleYValues","getCandlePoints","getCandlePath","getRectAttrs","getSmoothViolinPath","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","appendAngle","PieLabel","isLabelLimit","MARGIN","plotRange","isRight","overlapping","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","labelShapes_1_1","rPow2","dyPow2","lineHeight_1","totalR","totalHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","antiCollision","innerPoint","itemX","itemY","invisible","endY","smoothConnector","breakPoint","breakPoint3","xSign","slope1","slope2","labels_1_1","LEFT_HALF_KEY","RIGHT_HALF_KEY","separateLabels","labelsContainerRange","dxPow2","dx_offset","drawLabelline","INFLECTION_OFFSET","LABEL_OFFSET_X","LABEL_TEXT_LINE_OFFSET","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","MAX_TIMES","yGap","xGap","Greedy","hasGap","bitmap","greedy","maxTimes","dt","maxDelta","dxdy","nt","fillGap","times","accessedCache","spiralFill","adjustLabelPosition","AB","BC","deg","rotateAtPoint","scalars","projection1","projection2","isValidBox","isIntersectRect","rect1Points","rect2Points","getAxes","getProjection","isProjectionOverlap","url","worker","Worker","onmessage","queue","onmessageerror","MyWorker","onError","postMessage","terminate","blob","Blob","BlobBuilder","append","getBlob","URL","createObjectURL","generateUtils","methods","hideOverlap","eventData","JSON","createWorker","layoutCode","memoKey","stringify","post","e_1","preset","isContrastColorWhite","isDark","fromObject","bgColor","fillWhite","findLabelTextShape","shouldInShapeSingle","inShape","shouldInShape","moveInShape","MAX_CNT","filteredLabels","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","checkShapeOverlap","sortedLabels","hasSome","rightText","sortedCollections","sortLabels","upFail","downFail","getCanvasContext","DOT_WIDTH","getCoordinateBBox","translateX_1","textShapes","textBox","scaledMatrix","endMatrix","transformShape","doScaleAnimate","arcPath","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","getArcStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","pathCommands","getArcInfo","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","doShapeZoom","getDefaultTitleCfg","renderTitle","avgAngle","facetR","getAnglePoint","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","getFactTitleConfig","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","scaled","getMedian","getMean","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","xPos","yPos","parsePercentPosition","getNormalizedValue","viewData","startXValue","endXValue","parsePosition","sp","ep","start_1","end_1","start_2","end_2","start_3","end_3","start_4","end_4","position_1","textContent","position_2","start_5","end_5","getRegionPoints","start_6","end_6","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","wrappedRender","_k","html_1","position_3","wrappedHtml","html","getComponentContainer","createAnnotation","newCache","preTick","currentTick","middleValue","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","getAxisRegion","getCircleAxisCenterRadius","getCircleGridItems","getLineGridItems","updatedCache","updateXAxes","updateYAxes","xAxisOption","getAxisDirection","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","getAxisTitleText","axisThemeCfg","getAxisThemeCfg","optionWithTitle","getAxisTitleOptions","getAxisFactorByRegion","canvasWidth","canvasHeight","showGrid","gridThemeCfg","getGridThemeCfg","gridCfg","verticalScale","parentBBox","tl","br","reflectX","reflectY","getTransposedDirection","getScaleDirection","getReflectDirection","layoutBBox","getLegendLayout","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","directionToPosition","setLocation","cut","eachLegend","existCo","getComponentById","getLegendOption","getCategoryCfg","getContinuousCfg","getDirection","createFieldLegend","customCfg","createCustomLegend","loopLegends","getGeometries","doEach","isRootView","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","getLegendThemeCfg","themePageNavigator","userPageNavigator","getCustomLegendItems","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","xScaleValues","DEFAULT_PADDING","DEFAULT_SIZE","DEFAULT_CATEGORY_SIZE","MIN_THUMB_LENGTH","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","findItemsFromViewRecurisive","ActiveRegion","getItemsOfView","xValue_1","elements_1","eleData","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","regionPath","TooltipAction","lastTimeStamp","showDelay","preLoc","curLoc","isCursorEntered","SiblingTooltip","getSilbings","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","getElementsByState","setElementState","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","getCurrentElement","isElementChange","setStateByElement","isItemIgnore","event_1","getItem","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","linkGroup","group_1","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","isMask","getMaskedElements","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","isInRecords","getSiblingMaskElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","INACTIVE","ACTIVE","ElementHighlight","setHighlightBy","setElementHighlight","activeElements","allCancel_1","clearHighlight","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","clearList","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","allChecked","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","inPlot","normalStart","normalEnd","clampPoint","DimRect","PathMask","resize","getSpline","SmoothPathMask","MultipleMaskBase","maskType","multiPoints","recordPoints","recordPointStart","updateShapesCapture","getCurMaskShapeIndex","recordPointContinue","recordPointClear","getRecordPoints","lastPoints","isCapture","RectMultiMask","DimRectMultiMask","MultipleRectMask","CircleMultiMask","PathMultiMask","MultiplePathMask","SmoothPathMultiMask","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","getFilter","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","PADDING_RIGHT","PADDING_TOP","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","DISTANCE","Drag","dragStart","MIN_DISTANCE","Move","startMatrix","isMoving","DIM_X","DIM_Y","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","curRange","wheelEvent","deltaY","DEFAULT_WHEELDELTA","MousewheelScroll","wheelDelta","scrollbarController","currentStart","nextStart","isWheelDown","correction","nextRatio","AXIS_DESCRIPTION_TOOLTIP","AxisDescription","descriptionTooltipStyle","registerTheme","registerEngine","CanvasEngine","SVGEngine","registerGeometry","Edge","registerGeometryLabel","registerGeometryLabelLayout","distribute","fixedOverlap","limitInShape","limitInCanvas","pieOuterLabelLayout","adjustColor","intervalAdjustPosition","intervalHideOverlap","pointAdjustPosition","pieSpiderLabelLayout","pathAdjustPosition","registerAnimation","fadeIn","fadeOut","growInX","growInXY","growInY","scaleInX","scaleInY","waveIn","zoomIn","zoomOut","positionUpdate","sectorPathUpdate","pathIn","registerComponentController","registerAction","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","isInPlot","registerInteraction","showEnable","processing","rollback","isPointInView","AXIS_META_CONFIG_KEYS","LEVEL","BRAND","argIndex","getMessage","numberData","gtZero","ltZero","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","weight","rawData","WARN","deep","deepAssign","flows","getAllElements","getAllElementsRecursively","labelOptions","metrics","currentAppendPadding","normalPadding","paddings","normalPaddings","finalPadding","points2Path","styleObject","shapeStyleKeys","kebabCase","renderStatistic","plotType","titleOpt","statistic","contentOpt","containerW","liquidShape","setStatisticContainerStyle","adapteStyle","customHtml","renderGaugeStatistic","polarCoord","polarCenter","polarMaxY","containerWidth","getViews","animationCfg","getPixelRatio","fillRect","isStagger","unitSize","symbolsPos","dpr","defaultDotPatternCfg","dotCfg","getUnitPatternSize","getSymbolsPosition","initCanvas","drawDot","pattern","createPattern","transformMatrix","defaultLinePatternCfg","Path2D","lineCfg","defaultSquarePatternCfg","strokeRect","squareCfg","squares","drawSquare","createDotPattern","createLinePattern","createSquarePattern","patternOption","colorAttribute","seriesValue","CanvasPattern","getCanvasPattern","seriesField","removeInteraction","addViewAnimation","meta","annotationOptions","annotationController","yAxis","GLOBAL","locale","LocaleMap","localeObj","template","EN_US_LOCALE","general","increase","decrease","conversionTag","waterfall","ZH_CN_LOCALE","defaultFields","shapeField","styleField","mappingFields","tileMappingField","tooltipFields","getMappingField","getMappingFunction","transformLabel","getTooltipMapping","groupField","columnBackground","otherAdaptor","stepType","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","getDefaultOptions","createG2","Plot","xAxis","chartSize","getContainerSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","incoming","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","measure","as","sumMap","groupValue","isRealNumber","percentage","asField","isPercent","lineShape","pointMapping","areaMapping","pointState","areaState","primary","areaParams","flow","adjustYMetaByZero","lineGeometry","findGeometry","areaShape","lineMapping","chartData","getDataWhetherPercentage","tooltipOptions","lineParams","pointParams","areaGeometry","transformations","DEFAULT_OPTIONS","BUTTON_ACTION_CONFIG","buttonStyle","drawText","interactionType","brushType","isStartEnable","getInteractionCfg","BRUSH_TYPES","brush","enabled","buttonConfig","INTERACTION_MAP","getStartStages","disable","connectedArea","horizontal","headSize","conversionTagFormatter","elemPrev","elemNext","pointPrev","pointNext","totalWidth","textWidth","cWidth","cEnd","textAdjusted","renderArrowTag","renderTextTag","disabled","getConversionTagOptionsWithDefaults","renderTag","columnStyle","percentData","getDeepPercent","stackedItem","percentYMeta","isRange","tooltipFormatter_1","datas","customItems_1","isBar","defaultOptions","columnTooltip","brushInteraction","verticalAxis","horizontalAxis","coordinateOptions","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","barStyle","Bar","switchedFieldOptions","Column","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","minSize","CONVERSION_TAG_NAME","formatData","maxYFieldValue","maxBy","getLineCoordinate","lineOption","formatter_1","transformData","funnelStyle","baseGeometry","geo","datumIndex","initLineOption","conversionTagComponent","compareField","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","preItemX","preItemY","basicFunnel","ConversionTagAction","rendering","conversionTag_1","compareConversionTag","basicConversionTag","FUNNEL_CONVERSION_TAG","FUNNEL_LEGEND_FILTER","interactionStart","getLocale","defaultOption","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","Funnel","FUNNEL_CONVERSATION_FIELD","RANGE_VALUE","RANGE_TYPE","PERCENT","DEFAULT_COLOR","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","pin","clampTicks","processRangeData","gaugeStyle","meter","rangeWidth","indicatorData","getIndicatorData","rangeData","getRangeData","rangeColor","contentOption","transformContent","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","TOTAL","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","binWidth","binNumber","LN2","binField","stackField","originData_copy","_binWidth","_defaultBinNumber","sturges","bins","bin","getBinKey","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","binHistogram","Histogram","MarkerActiveAction","getView","InteractionAction","pieStyle","ORIGIN_MATRIX","ulMatrix","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","PIE_STATISTIC","defaultOffset","angleField","processIllegalData","isAllZero","percentageField_1","dataum","angleScale","content_1","LABEL_LAYOUT_TYPE_MAP","outer","spider","labelLayoutType","labelLayoutCfg","adaptOffset","titleOpt_1","contentOpt_1","metaFormatter","dataValue","getTotalValue","transformStatisticOptions","startStages_1","stage","pieAnnotation","Pie","prevOptions","prevData","curData","clampPercent","progressStyle","getProgressData","Progress","RingProgress","REGRESSION_MAP","poly","xBaseline","yBaseline","textOffset","defaultConfig","regionStyle","xScaleView","yScaleView","pathData","regressionLine","algorithm","customEquation","equation","reg","getRegressionEquation","getMeta","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","fieldMeta","getCustomValue","getMetaMinMax","roundByPrecision","safeFormat","isOneX","isOneY","meta_1","pointStyle","newOptions","transformOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","quadrant","labels_1","regionStyle_1","defaultConfig_1","getQuadrantDefaultConfig","quadrants","equationStyle_1","top_1","showEquation_1","defaultStyle_1","defaulEquationStyle_1","scatterAnnotation","BRUSH_FILTER_EVENTS","Scatter","Y_FIELD","TREND_FIELD","TREND_UP","TREND_DOWN","DEFAULT_TOOLTIP_OPTIONS","defaultContent","risingFill","fallingFill","close_1","high","low","open_1","stockStyle","getStockData","baseMeta","Stock","X_FIELD","pointOptions","lineOptions","seriesData","getTinyData","TinyArea","TinyColumn","TinyLine","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","column","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","plot","viewOfG2","geometryAdaptor","plots","execPlotAdaptor","multiView","multiPlot","Association","linkField","data_1","getSiblingViews","getAssociationItems","Mix","Stage","DEV","BETA","STABLE","Lab","notice","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data2","data1","__axisPosition","firstView","secondView","secondViewData","firstViewData","findViewById","aliasMap","metaKey","commonInteraction","commonLimitInPlot","commonTheme","commonAnimation","leftGeometry","rightGeometry","leftLabelCfg","textAlignMap","positionMap_1","textBaselineMap","BidirectionalBar","BOX_RANGE","BOX_RANGE_ALIAS","BOX_SYNC_NAME","OUTLIERS_VIEW_ID","boxStyle","newData","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersField","outliersStyle","outliersView","outliersViewData","outliersData","syncName","outliersPoint","Box","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","getSeriesFieldKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","Bullet","nodeWidthRatio","nodePaddingRatio","sourceWeight","targetWeight","nodeById","edges","forIn","inEdges","outEdges","frequency","sortMethods","localeCompare","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","chordLayoutOptions","chordLayoutInputData","processGraph","sortNodes","outputNodes","layoutNodes","outputLinks","locatingEdges","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodeStyle","edgeStyle","transformDataToNodeLinkData","chordLayout","nodesData","edgesData","link","chordData","nodeView","edgeView","edgeOptions","getAllGeometriesRecursively","edgeGeometry","nodeGeometry","Chord","RAW_FIELDS","hierarchyConfig","drilldown","PADDING_LEFT","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","depth","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerShape","dividerBox","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","d3","ab","xa","xb","ya","yb","aa","ca","sj","sk","place","Node","intersects","enclose","packEnclose","required","constantZero","eachBefore","radiusLeaf","eachAfter","packChildren","translateChild","defaultRadius","optional","that","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","leaves","mapChildren","objectChildren","childs","computeHeight","hierarchy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_find","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","node_copy","node_iterator","NODE_INDEX_FIELD","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","defaultField","index_1","eachNode","getField","packLayout","d3Hierarchy","getAllNodes","enableDrillDown","ancestorNode","containerSize","tempPadding","resolveAllPadding","wSize","hSize","restWidthPadding","restHeightPadding","finalTop","finalRight","finalBottom","finalLeft","finalSize","diameter","tempAppendPadding","appendPaddingByDrilldown","getAdjustAppendPadding","resolvePaddingForCircle","circleSize","nameFormatter","valueFormatter","baseInteraction","adaptorInteraction","isParentNode","inCenter","CirclePacking","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","AxisType","DualAxesGeometry","isColumn","transformAttribute","a2_1","a1_1","axisType","Left","Right","FIELD_KEY","isLine","adjust_1","legendItemName","isGeometry","viewId","attrItems","doSliderFilter","sliderValue","allLine","geometryOptions","transformObjectToArray","getGeometryOption","SORT_MAP","drawSingleGeometry","themeColor","leftView","rightView","getYAxisWithDefault","commonAnnotation","leftLegend_1","rightLegend_1","leftItems","getViewLegendItems","rightItems","yF","legendItem_1","curLegendItem","createViews","DualAxes","facetType","restFacetCfg","viewOptions","execViewAdaptor","plotOptions","facetAdaptor","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","radiusRatio","maxSideLength","lenRatio","sideLength","CAT_VALUE","liquidStyle","outline","wave","getLiquidData","border","DURATION","defaultAttrs","waveLength","waterLevel","phase","_phase","waveRight","getWaterWavePositions","waveCount","waveAttrs","getWaterWavePath","lerp","cpX","cpY","GOLDEN_SECTION_RATIO","builtInShapeByName","minXPoint","getFillAttrs","outlineAttrs","getLineAttrs","buildPath","shapePath","waves","addWaterWave","Liquid","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","Radar","maxAngle","yData","formatRadian","stackedData","valueItem","actualData","getStackedData","getScaleMax","intervalGeometry","RadialBar","sectorStyle","Rose","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","graphMatrix","removedData","getNodes","visited","dfsNode","DFS","sourceLinks","targetLinks","minBy","targetDepth","ascendingBreadth","graph","defaultId","justify","linkSort","defaultNodes","defaultLinks","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","computeLinkBreadths","sankey","nodeId","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","fixedValue","sumBy","maxDepth","maxValueBy","kx","columns","ky","minValueBy","nodes_6","reorderLinks","computeNodeLayers","initializeNodeBreadths","beta","relaxRightToLeft","relaxLeftToRight","value_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","value_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","sourceLinks_2","ascendingTargetBreadth","targetLinks_2","ascendingSourceBreadth","ALIGN_METHOD","sankeyLayoutOptions","sankeyProcessor","getNodeAlignFunction","layoutData","tx","dataType","sankeyLayoutInputData","isNodeLink","cutoffCircle","sankeyLayout","getNodePaddingRatio","getNodeWidthRatio","nodeState","edgeState","transformToViewsData","DRAG_INTERACTION","nodeDraggable","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","Sankey","isLast","nodesView","edgesView","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","sunburstStyle","positionNode","roundNode","treemapDice","partition","ignoreParentValue","meanXReduce","maxYReduce","separation","defaultSeparation","nodeSize","previousNode","meanX","leafLeft","leafRight","cluster","preroot","ambiguous","parentId","defaultParentId","nodeKey","nodeByKey","stratify","wm","wp","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","executeShifts","apportion","vip","vop","vom","sip","sop","sim","som","nextRight","nextLeft","moveSubtree","nextAncestor","nodeValue","sumValue","newRatio","minRatio","dice","treemapSlice","squarifyRatio","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","_squarify","resquarify","tileMethod","getTileMethod","activeDepth","polygonAdaptor","pathFormatter","Sunburst","findInteraction","enableInteraction","drillDownInteraction","drillDownAction","curPath","rectStyle","enableDrillInteraction","basePolygon","viewZoomInteraction","Treemap","transData","resetDrillDown","ID_FIELD","PATH_FIELD","blendMode","ElementActiveAction","getActionClass","VennElementActive","placeElementsOrdered","syncElementsPos","toggle","ElementHighlightAction","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","VennLabel","customLabelInfo","nativeObjectToString","symToStringTag","toStringTag","isOwn","unmasked","getRawTag","objectToString","nullTag","undefinedTag","baseGetTag","stringTag","iteratee","arrayEach","fromRight","keysFunc","iterable","createBaseFor","baseFor","baseTimes","argsTag","baseIsArguments","reIsUint","isIndex","isLength","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","nodeIsTypedArray","nodeUtil","isTypedArray","inherited","isArr","isArg","isBuff","skipIndexes","arrayLikeKeys","overArg","nativeKeys","baseKeys","asyncTag","genTag","proxyTag","baseForOwn","eachFunc","collection","createBaseEach","baseEach","castFunction","__data__","listCacheClear","eq","assocIndexOf","arrayProto","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","entry","ListCache","stackClear","stackDelete","stackGet","stackHas","coreJsData","maskSrcKey","IE_PROTO","isMasked","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","getNative","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","pairs","stackSet","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","equalArrays","Uint8Array","mapToArray","setToArray","symbolTag","symbolProto","symbolValueOf","byteLength","byteOffset","buffer","stacked","equalByTag","arrayPush","symbolsFunc","baseGetAllKeys","resIndex","arrayFilter","stubArray","nativeGetSymbols","getSymbols","getAllKeys","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","equalObjects","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqualDeep","baseIsEqual","fillAttrs","c0","blendObject","screen","overlay","darken","lighten","dodge","burn","innerBlend","mode","blendRgbArr","colorToArr","g0","g1","rgbaArr","SMALL","stats","intersectionPoints","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","parentIndex","angleDiff","circleArea","smallest","disjoint","circleCircleIntersection","interior","exterior","circleMargin","solution","valid","areaStats","intersectionArea","computeTextCentre","circleids","circleid","areas","overlapped","getOverlappingCircles","sets","areaids","exclude","overlaps","setid","centre","tokens","circlePath","wide","initialLayout","bestInitialLayout","loss","lossFunction","addMissingAreas","setids","setid_1","positions","circleOverlap","ids","distances","constraints","distanceFromIntersectArea","xj","yj","dij","greedyLayout","constrained","constrainedMDSLayout","constrainedLoss","greedyLoss","restarts","matrices","getDistanceMatrices","norm","constrainedMDSGradient","setOverlaps","rowid","mostOverlapped","positioned","positionSet","setIndex","isPositioned","extraPoints","bestLoss","bestPoint","localLoss","indices","getCircles","orientation","orientationOrder","largestX","largestY","xRoot","yRoot","maxDistance","disjointClusters","minMax","xRange","yRange","clusters","disjointCluster","orientateCircles","getBoundingBox","returnBounds","centreing","addCluster","xScaling","yScaling","scaling","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","vennData","venn","scaleSolution","textCenters","computeTextCentres","setCircles","intersectionAreaPath","legalArr","testArr","LEGEND_SPACE","map_1","currSets","filterSets","islegalSets","layoutVennData","schemaGeometry","colorOptions","transformColor","MAP_1","vennInteraction","Venn","VIOLIN_Y_FIELD","VIOLIN_SIZE_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","MIN_MAX_VIEW_ID","QUANTILE_VIEW_ID","MEDIAN_VIEW_ID","kde","sampleSize","violinStyle","sd","newLeft","newRight","quickselect","multiQuantileSelect","results","quantileIndex","quantileSelect","toBoxValue","q1","q3","toViolinValue","pdfOptions","pdfResults","pdf","violinSize","violinY","transformViolinData","resultList","seriesGroup","series","TOOLTIP_FIELDS","minMaxView","quantileView","medianView","legendField_1","legendOptions","violinView","baseAnnotation","boxView","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","leaderLineCfg","linkPath","newYField","processed","dIdx","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","Waterfall","WORD_CLOUD_COLOR_FIELD","timeInterval","wordStyle","rotationSteps","rotateRatio","spiral","words","tagCloud","imageMask","tags","_tags","cloudRadians","cw","ch","contextAndRatio","sprite","maxh","sr","cr","wcr","wsr","hcr","hsr","xoff","yoff","hasText","w32","seenRow","board","sw","msx","spirals","archimedean","archimedeanSpiral","rectangular","rectangularSpiral","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","cloudText","cloudCanvas","cloud","zeroArray","cloudSprite","hasImage","cloudBounds","_bounds","willReadFrequently","cloudCollide","collideRects","can","cxt","imageData","functor","rawOptions","chartPadding","wordField","placementStrategy","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","wordCloud","resolvePadding","rej","HTMLImageElement","onerror","ERROR","fMax_1","fMin_1","resolveRotate","perSize","numbers","getTextAttrs","WordCloud","processImageMask","catch","registerLocale","adaptors","descriptorIn","contextIn","initializers","extraInitializers","kind","descriptor","access","addInitializer","accept","useValue","configurable","__createBinding","writable","enumerable","__setModuleDefault","env","async","dispose","asyncDispose","_SuppressedError","SuppressedError","suppressed","rec","fail","__decorate","__param","__metadata","__exportStar","__spread","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","__classPrivateFieldGet","__classPrivateFieldSet","__classPrivateFieldIn","__addDisposableResource","__disposeResources","az","bx","by","bz","factorTimes2","factor1","factor2","factor3","factor4","inverseFactor","inverseFactorTimesTwo","zScale","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","mag1","mag2","isStart","arrowShape","isArrowShape","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","_addCustomizedArrow","_addDefaultArrow","DEFAULT_WIDTH","LN_2","helper","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","xToBucket","partialArea","generatePartialAreas","kernel","fullArea","initalValue","bucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","inside","accumulator","gradAccumulator","partialAreas","getExpectedValueFromPdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","regexPR","addColorStop","gradientStr","tanTheta","tanTheta2","createLinearGradient","addStop","fy","fr","createRadialGradient","patternStr","complete","parseLineGradient","parseRadialGradient","parsePattern","getRefXY","preTest","curShape","_clearFrame","getMergedRegion","clipView","mergeView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","checkRefresh","_drawRegion","_drawAll","AbstractCanvas","catmullRomToBezier","iLen","ellipsePath","pathToAbsolute","crz","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","_120","f1","f2","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m3","m4","newres","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","T","pp","fixM","seg2","seg2len","parsePathArray","intersection","fillPath","fillPathByDiff","formatPath","ver","_sensorPool","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","tagCfg","ellipsisPosition","tagGroup","maxTextLength","tagBg","applyTranslate","applyRotate","LineAnnotation","TextAnnotation","textGroup","ArcAnnotation","renderArc","largeFlag","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","renderPoint","textAttrs","isVertival","translateX","translateY","xFactor","yFactor","lineDisplay","DataRegionAnnotation","pointsToBBox","RegionFilterAnnotation","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlAnnotation","alignX","alignY","domWidth","getOuterWidth","domHeight","getOuterHeight","lineCount","getLineSpaceing","measureWidth","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","srcElement","tagName","viewRange","allowDraw","GridBase","alternateColor","closed","drawGrid","prePoints","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","drawAlternateRegion","getAlternatePath","lineType","getLineType","sweepFlag_1","freeProcess","types","binding","ARRAY_TYPE","RANDOM","findMin","findMax","MATRIX","CLONE_CFGS","RESERVED_PORPS","initAttrs","initAnimate","getDefaultMatrix","setAttr","applyTo","parentMatrix","multiplyMatrix","Cons","_cloneArrayAttr","cons","cfgName","isPaused","initTimer","pauseCallback","resumeCallback","formatToAttrs","getFormatToAttrs","getFormatFromAttrs","checkExistedAttrs","addAnimator","pauseTime","_pauseTime","paths","getEvents","subName","emitDelegateEvent","this_1","newMatrix","targetX","targetY","move","ratioX","ratioY"],"mappings":"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","file":"vendors~p__Courses__form~p__Questionnaire__form~p__Reports~p__TeacherSubjects__form~p__Welcome.f0a11aeb.async.js","sourcesContent":[null,null,null,null,null,null,null,"/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n",null,"export const version = '2.4.31';\n\n// G2 \nimport * as G2 from '@antv/g2';\n/**  adaptor  */\nimport { animation, annotation, interaction, legend, scale, theme, tooltip } from './adaptor/common';\n// \nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/**  geometry  adaptor */\nexport { area, interval, line, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  AreaGeometryOptions,\n  IntervalGeometryOptions,\n  LineGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/** Adaptor  */\nexport type { Adaptor, Params } from './core/adaptor';\n/**  */\nexport { setGlobal } from './core/global';\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n/**  Lab  export */\nexport { Lab } from './lab';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n//  | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n// circle-packing  | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n//  | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n//  | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { addWaterWave, Liquid } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n//  Mix\nexport { Mix as Mix, Mix as MultiView } from './plots/mix';\nexport type { MixOptions, MixOptions as MultiViewOptions } from './plots/mix';\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n// K | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n//  | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n// \nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n//  | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n//  | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n// \nexport * from './types';\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n/**  getCanvasPatterng  */\nexport { getCanvasPattern } from './utils/pattern';\nexport { G2 };\n/**    */\nexport { registerLocale };\n\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n",null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeSensorId = exports.SensorTabIndex = exports.SensorClassName = void 0;\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;",null,null,null,null,null,null,null,null,null,null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,"import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n",null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\nvar _object = require(\"./object\");\nvar _resizeObserver = require(\"./resizeObserver\");\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Fragment } from 'react';\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false,\n        };\n        _this.renderError = function (e) {\n            var errorTemplate = _this.props.errorTemplate;\n            switch (e) {\n                default:\n                    if (typeof errorTemplate === 'function') {\n                        return errorTemplate(e);\n                    }\n                    return errorTemplate ? errorTemplate : React.createElement(\"h5\", null,\n                        \"\\u7EC4\\u4EF6\\u51FA\\u9519\\u4E86\\uFF0C\\u8BF7\\u6838\\u67E5\\u540E\\u91CD\\u8BD5\\uFF1A \",\n                        e.message);\n            }\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return { hasError: true, error: error };\n    };\n    ErrorBoundary.getDerivedStateFromProps = function (nextProps, state) {\n        if (state.children !== nextProps.children) {\n            return {\n                children: nextProps.children,\n                hasError: false,\n                error: undefined,\n            };\n        }\n        return null;\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.renderError(this.state.error);\n        }\n        return React.createElement(Fragment, null, this.props.children);\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport default ErrorBoundary;\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n",null,null,"/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = exports.Sensors = void 0;\nvar _id = _interopRequireDefault(require(\"./id\"));\nvar _sensors = require(\"./sensors\");\nvar _constant = require(\"./constant\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n\n/**\n * When destroy the sensor, remove it from the pool\n */\nexports.Sensors = Sensors;\nfunction clean(sensorId) {\n  // exist, then remove from pool\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n}\n\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId);\n\n  // 1. if the sensor exists, then use it\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  }\n\n  // 2. not exist, then create one\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element, function () {\n    return clean(newId);\n  });\n  // add sensor into pool\n  Sensors[newId] = sensor;\n  return sensor;\n};\n\n/**\n *  sensor\n * @param sensor\n */\nexports.getSensor = getSensor;\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId);\n  // remove event, dom of the sensor used\n  sensor.destroy();\n  clean(sensorId);\n};\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\nvar _constant = require(\"../constant\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar createSensor = function createSensor(element, whenDestroy) {\n  var sensor = undefined;\n  // callback\n  var listeners = [];\n\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n    var obj = document.createElement('object');\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener);\n      //  resize\n      resizeListener();\n    };\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html';\n\n    // append into dom\n    element.appendChild(obj);\n    // for ie, should set data attribute delay, or will be white screen\n    obj.data = 'about:blank';\n    return obj;\n  };\n\n  /**\n   * trigger listeners\n   */\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n\n  /**\n   * destroy all\n   */\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      }\n      // remove dom\n      sensor.parentNode.removeChild(sensor);\n      // initial variable\n      element.removeAttribute(_constant.SizeSensorId);\n      sensor = undefined;\n      listeners = [];\n      whenDestroy && whenDestroy();\n    }\n  };\n\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n\n    // no listener, and sensor is exist\n    // then destroy the sensor\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\nexports.createSensor = createSensor;",null,"import { isFunction } from '@antv/util';\n/**\n * \n */\nexport var getChart = function (chartRef, chart) {\n    if (!chartRef) {\n        return;\n    }\n    if (isFunction(chartRef)) {\n        chartRef(chart);\n    }\n    else {\n        chartRef.current = chart;\n    }\n};\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderInstagram: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 400 460\" {...props}>\n    <circle cx=\"31\" cy=\"31\" r=\"15\" />\n    <rect x=\"58\" y=\"18\" rx=\"2\" ry=\"2\" width=\"140\" height=\"10\" />\n    <rect x=\"58\" y=\"34\" rx=\"2\" ry=\"2\" width=\"140\" height=\"10\" />\n    <rect x=\"0\" y=\"60\" rx=\"2\" ry=\"2\" width=\"400\" height=\"400\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderInstagram\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderCode: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 340 84\" {...props}>\n    <rect x=\"0\" y=\"0\" width=\"67\" height=\"11\" rx=\"3\" />\n    <rect x=\"76\" y=\"0\" width=\"140\" height=\"11\" rx=\"3\" />\n    <rect x=\"127\" y=\"48\" width=\"53\" height=\"11\" rx=\"3\" />\n    <rect x=\"187\" y=\"48\" width=\"72\" height=\"11\" rx=\"3\" />\n    <rect x=\"18\" y=\"48\" width=\"100\" height=\"11\" rx=\"3\" />\n    <rect x=\"0\" y=\"71\" width=\"37\" height=\"11\" rx=\"3\" />\n    <rect x=\"18\" y=\"23\" width=\"140\" height=\"11\" rx=\"3\" />\n    <rect x=\"166\" y=\"23\" width=\"173\" height=\"11\" rx=\"3\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderCode\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderListStyle: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 400 110\" {...props}>\n    <rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\n    <rect x=\"20\" y=\"20\" rx=\"3\" ry=\"3\" width=\"220\" height=\"10\" />\n    <rect x=\"20\" y=\"40\" rx=\"3\" ry=\"3\" width=\"170\" height=\"10\" />\n    <rect x=\"0\" y=\"60\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\n    <rect x=\"20\" y=\"80\" rx=\"3\" ry=\"3\" width=\"200\" height=\"10\" />\n    <rect x=\"20\" y=\"100\" rx=\"3\" ry=\"3\" width=\"80\" height=\"10\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderListStyle\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderBulletList: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 245 125\" {...props}>\n    <circle cx=\"10\" cy=\"20\" r=\"8\" />\n    <rect x=\"25\" y=\"15\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    <circle cx=\"10\" cy=\"50\" r=\"8\" />\n    <rect x=\"25\" y=\"45\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    <circle cx=\"10\" cy=\"80\" r=\"8\" />\n    <rect x=\"25\" y=\"75\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    <circle cx=\"10\" cy=\"110\" r=\"8\" />\n    <rect x=\"25\" y=\"105\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderBulletList\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\nvar ChartLoading = function (_a) {\n    var loadingTemplate = _a.loadingTemplate, _b = _a.theme, theme = _b === void 0 ? 'light' : _b;\n    var renderLoading = function () {\n        if (loadingTemplate) {\n            return loadingTemplate;\n        }\n        return (React.createElement(ContentLoader, { viewBox: \"0 0 400 180\", width: 200, height: 90, speed: 1, backgroundColor: theme === 'dark' ? '#262626' : '#D9D9D9' },\n            React.createElement(\"rect\", { x: \"20\", y: \"5\", rx: \"0\", ry: \"0\", width: \"1\", height: \"170\" }),\n            React.createElement(\"rect\", { x: \"20\", y: \"175\", rx: \"0\", ry: \"0\", width: \"360\", height: \"1\" }),\n            React.createElement(\"rect\", { x: \"40\", y: \"75\", rx: \"0\", ry: \"0\", width: \"35\", height: \"100\" }),\n            React.createElement(\"rect\", { x: \"80\", y: \"125\", rx: \"0\", ry: \"0\", width: \"35\", height: \"50\" }),\n            React.createElement(\"rect\", { x: \"120\", y: \"105\", rx: \"0\", ry: \"0\", width: \"35\", height: \"70\" }),\n            React.createElement(\"rect\", { x: \"160\", y: \"35\", rx: \"0\", ry: \"0\", width: \"35\", height: \"140\" }),\n            React.createElement(\"rect\", { x: \"200\", y: \"55\", rx: \"0\", ry: \"0\", width: \"35\", height: \"120\" }),\n            React.createElement(\"rect\", { x: \"240\", y: \"15\", rx: \"0\", ry: \"0\", width: \"35\", height: \"160\" }),\n            React.createElement(\"rect\", { x: \"280\", y: \"135\", rx: \"0\", ry: \"0\", width: \"35\", height: \"40\" }),\n            React.createElement(\"rect\", { x: \"320\", y: \"85\", rx: \"0\", ry: \"0\", width: \"35\", height: \"90\" })));\n    };\n    return (React.createElement(\"div\", { className: \"charts-loading-container\", style: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n        } }, renderLoading()));\n};\nexport default ChartLoading;\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,"import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as ReactDOM from 'react-dom';\n// Let compiler not to search module usage\nvar fullClone = __assign({}, ReactDOM);\nvar version = fullClone.version, reactRender = fullClone.render, unmountComponentAtNode = fullClone.unmountComponentAtNode;\nvar createRoot;\ntry {\n    var mainVersion = Number((version || '').split('.')[0]);\n    if (mainVersion >= 18) {\n        (createRoot = fullClone.createRoot);\n    }\n}\ncatch (e) {\n    // Do nothing;\n}\nfunction toggleWarning(skip) {\n    var __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    if (__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n        typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object') {\n        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n    }\n}\nvar MARK = '__rc_react_root__';\nfunction modernRender(node, container) {\n    toggleWarning(true);\n    var root = container[MARK] || createRoot(container);\n    toggleWarning(false);\n    root.render(node);\n    container[MARK] = root;\n}\nfunction legacyRender(node, container) {\n    reactRender(node, container);\n}\n/** @private Test usage. Not work in prod */\nexport function _r(node, container) {\n    if (process.env.NODE_ENV !== 'production') {\n        return legacyRender(node, container);\n    }\n}\nexport function render(node, container) {\n    if (createRoot) {\n        modernRender(node, container);\n        return;\n    }\n    legacyRender(node, container);\n}\n// ========================= Unmount ==========================\nfunction modernUnmount(container) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            // Delay to unmount to avoid React 18 sync warning\n            return [2 /*return*/, Promise.resolve().then(function () {\n                    var _a;\n                    (_a = container[MARK]) === null || _a === void 0 ? void 0 : _a.unmount();\n                    delete container[MARK];\n                })];\n        });\n    });\n}\nfunction legacyUnmount(container) {\n    unmountComponentAtNode(container);\n}\n/** @private Test usage. Not work in prod */\nexport function _u(container) {\n    if (process.env.NODE_ENV !== 'production') {\n        return legacyUnmount(container);\n    }\n}\nexport function unmount(container) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            if (createRoot !== undefined) {\n                // Delay to unmount to avoid React 18 sync warning\n                return [2 /*return*/, modernUnmount(container)];\n            }\n            legacyUnmount(container);\n            return [2 /*return*/];\n        });\n    });\n}\n","import { render } from './render';\nvar TOOLTIP_CONTAINER_MAPPING = new Map();\nvar createNode = function (children, type, uuid) {\n    var mountPoint = document.createElement('div');\n    if (type === 'tooltip') {\n        mountPoint.setAttribute('data-uuid', uuid);\n        if (TOOLTIP_CONTAINER_MAPPING.has(uuid)) {\n            mountPoint = TOOLTIP_CONTAINER_MAPPING.get(uuid);\n        }\n        else {\n            TOOLTIP_CONTAINER_MAPPING.set(uuid, mountPoint);\n        }\n        mountPoint.className = 'g2-tooltip';\n    }\n    render(children, mountPoint);\n    return mountPoint;\n};\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport var isType = function (value, type) {\n    var toString = {}.toString;\n    return toString.call(value) === \"[object \".concat(type, \"]\");\n};\nexport var clone = function (source) {\n    if (!source) {\n        return source;\n    }\n    var target = {};\n    // eslint-disable-next-line guard-for-in\n    for (var k in source) {\n        target[k] = source[k];\n    }\n    return target;\n};\nexport var getType = function (n) {\n    return Object.prototype.toString.call(n).slice(8, -1);\n};\n/**\n * \n * @param source \n */\nexport var deepClone = function (source) {\n    if (!source || typeof source !== 'object') {\n        return source;\n    }\n    var target;\n    if (Array.isArray(source)) {\n        target = source.map(function (item) { return deepClone(item); });\n    }\n    else {\n        target = {};\n        Object.keys(source).forEach(function (key) {\n            return (target[key] = deepClone(source[key]));\n        });\n    }\n    return target;\n};\n/**\n *  undefined\n */\nexport var hasPath = function (source, path) {\n    var current = source;\n    for (var i = 0; i < path.length; i += 1) {\n        if (current === null || current === void 0 ? void 0 : current[path[i]]) {\n            current = current[path[i]];\n        }\n        else {\n            current = undefined;\n            break;\n        }\n    }\n    return current;\n};\n/**\n *  params \n */\nexport var setPath = function (source, path, value) {\n    if (!source) {\n        return source;\n    }\n    var o = source;\n    path.forEach(function (key, idx) {\n        // \n        if (idx < path.length - 1) {\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return source;\n};\nexport var uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport createNode from '../utils/createNode';\nimport { hasPath, isType, deepClone, clone, setPath, uuid } from '../utils';\nexport default function useInit(ChartClass, config) {\n    var chart = useRef();\n    var chartOptions = useRef();\n    var container = useRef(null);\n    var onReady = config.onReady, onEvent = config.onEvent;\n    /**\n     * Get data base64\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var toDataURL = function (type, encoderOptions) {\n        var _a;\n        if (type === void 0) { type = 'image/png'; }\n        return (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    };\n    /**\n     * Download Iamge\n     * @param {string} name A name of image\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var downloadImage = function (name, type, encoderOptions) {\n        var _a;\n        if (name === void 0) { name = 'download'; }\n        if (type === void 0) { type = 'image/png'; }\n        var imageName = name;\n        if (name.indexOf('.') === -1) {\n            imageName = \"\".concat(name, \".\").concat(type.split('/')[1]);\n        }\n        var base64 = (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n        var a = document.createElement('a');\n        a.href = base64;\n        a.download = imageName;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        a = null;\n        return imageName;\n    };\n    var reactDomToString = function (source, path, type, _uuid) {\n        var statisticCustomHtml = hasPath(source, path);\n        setPath(source, path, function () {\n            var arg = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                arg[_i] = arguments[_i];\n            }\n            var statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml.apply(void 0, arg) : statisticCustomHtml;\n            if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n                return statisticDom;\n            }\n            return createNode(statisticDom, type, _uuid);\n        });\n    };\n    var processConfig = function () {\n        var _uuid = uuid();\n        // statistic\n        if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'content', 'customHtml']);\n        }\n        if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'title', 'customHtml']);\n        }\n        // tooltip\n        if (typeof config.tooltip === 'object') {\n            if (hasPath(config, ['tooltip', 'container'])) {\n                reactDomToString(config, ['tooltip', 'container'], 'tooltip', _uuid);\n            }\n            if (hasPath(config, ['tooltip', 'customContent'])) {\n                reactDomToString(config, ['tooltip', 'customContent'], 'tooltip', _uuid);\n            }\n        }\n    };\n    useEffect(function () {\n        if (chart.current && !isEqual(chartOptions.current, config)) {\n            var changeData = false;\n            if (chartOptions.current) {\n                //  options  data value  percent \n                var _a = chartOptions.current, currentData = _a.data, currentValue = _a.value, currentPercent = _a.percent, currentConfig = __rest(_a, [\"data\", \"value\", \"percent\"]);\n                var inputData = config.data, inputValue = config.value, inputPercent = config.percent, inputConfig = __rest(config, [\"data\", \"value\", \"percent\"]);\n                changeData = isEqual(currentConfig, inputConfig);\n            }\n            chartOptions.current = deepClone(config);\n            if (changeData && get(config, 'chartType') !== 'Mix') {\n                var changeType_1 = 'data';\n                var typeMaps = ['percent']; //  data  RingProgress\n                var currentKeys_1 = Object.keys(config);\n                typeMaps.forEach(function (type) {\n                    if (currentKeys_1.includes(type)) {\n                        changeType_1 = type;\n                    }\n                });\n                chart.current.changeData((config === null || config === void 0 ? void 0 : config[changeType_1]) || []);\n                chart.current.render();\n            }\n            else {\n                processConfig();\n                chart.current.update(config);\n            }\n        }\n    }, [config]);\n    useEffect(function () {\n        if (!container.current) {\n            return function () { return null; };\n        }\n        if (!chartOptions.current) {\n            chartOptions.current = deepClone(config);\n        }\n        processConfig();\n        var chartInstance = new ChartClass(container.current, __assign({}, config));\n        chartInstance.toDataURL = function (type, encoderOptions) {\n            return toDataURL(type, encoderOptions);\n        };\n        chartInstance.downloadImage = function (name, type, encoderOptions) {\n            return downloadImage(name, type, encoderOptions);\n        };\n        chartInstance.render();\n        chart.current = clone(chartInstance);\n        if (onReady) {\n            onReady(chartInstance);\n        }\n        var handler = function (event) {\n            if (onEvent) {\n                onEvent(chartInstance, event);\n            }\n        };\n        chartInstance.on('*', handler);\n        // \n        return function () {\n            if (chart.current) {\n                chart.current.destroy();\n                chart.current.off('*', handler);\n                chart.current = undefined;\n            }\n        };\n    }, []);\n    return {\n        chart: chart,\n        container: container,\n    };\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar id = 1;\n\n/**\n * generate unique id in application\n * @return {string}\n */\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\nexports[\"default\"] = _default;",null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\nvar _constant = require(\"../constant\");\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\nvar createSensor = function createSensor(element, whenDestroy) {\n  var sensor = undefined;\n  // callback\n  var listeners = [];\n\n  /**\n   * trigger listeners\n   */\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener);\n    // listen element\n    s.observe(element);\n\n    // trigger once\n    resizeListener();\n    return s;\n  };\n\n  /**\n   * listen with callback\n   * @param cb\n   */\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n\n  /**\n   * destroy\n   */\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n    element.removeAttribute(_constant.SizeSensorId);\n    whenDestroy && whenDestroy();\n  };\n\n  /**\n   * cancel bind\n   * @param cb\n   */\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n\n    // no listener, and sensor is exist\n    // then destroy the sensor\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\nexports.createSensor = createSensor;",null,null,null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  return getMaskBBoxByShape(maskShape, tolerance);\n}\n\n/**\n *  mask BBox \n */\nfunction isValidMaskBBox(maskShape, tolerance: number) {\n  const maskBBox = maskShape.getCanvasBBox();\n  const { width, height } = maskBBox;\n  return width > 0 && height > 0 && (width >= tolerance || height >= tolerance);\n}\n\n/**\n *  maskShape  mask  canvasBBox\n * @param maskShape\n * @param tolerance\n * @returns\n */\nfunction getMaskBBoxByShape(maskShape, tolerance: number) {\n  const maskBBox = maskShape.getCanvasBBox();\n  return isValidMaskBBox(maskShape, tolerance) ? maskBBox : null;\n}\n\n/**\n *  multiple  mask  canvasBBox \n * @param context \n * @param tolerance box \n * @returns\n */\nfunction getMultiMaskBBoxList(context: IInteractionContext, tolerance: number) {\n  const { maskShapes } = context.event;\n  return maskShapes.map((maskShape) => getMaskBBoxByShape(maskShape, tolerance)).filter((bBox) => !!bBox);\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  return getMaskPathByMaskShape(maskShape, tolerance);\n}\n\n/**\n *  maskShape  mask path\n * @param maskShape\n * @param tolerance box \n * @returns\n */\nfunction getMaskPathByMaskShape(maskShape, tolerance: number) {\n  return isValidMaskBBox(maskShape, tolerance) ? maskShape.attr('path') : null;\n}\n\n/**\n *  multiple  mask path \n * @param context \n * @param tolerance box \n * @returns\n */\nfunction getMultiMaskPathList(context: IInteractionContext, tolerance: number) {\n  const { maskShapes } = context.event;\n  return maskShapes.map((maskShape) => getMaskPathByMaskShape(maskShape, tolerance));\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return (target && target?.get('name') === 'mask') || isMultipleMask(context);\n}\n\n/**\n *  multiple mask \n * @param context\n * @returns\n */\nexport function isMultipleMask(context: IInteractionContext): boolean {\n  return context.event.target?.get('name') === 'multi-mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n\n  // multiple \n  if (isMultipleMask(context)) {\n    return getMultiMaskedElements(context, tolerance);\n  }\n\n  // \n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n *  multiple  mask  elements\n * @param context \n * @returns\n */\nfunction getMultiMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const { target } = context.event;\n  if (target.get('type') === 'path') {\n    const maskPathList = getMultiMaskPathList(context, tolerance);\n    if (maskPathList.length > 0) {\n      return maskPathList.flatMap((maskPath) => getElementsByPath(context.view, maskPath));\n    }\n    return null;\n  }\n  const maskBBoxList = getMultiMaskBBoxList(context, tolerance);\n  if (maskBBoxList.length > 0) {\n    return maskBBoxList.flatMap((maskBBox) => getIntersectElements(context.view, maskBBox));\n  }\n  return null;\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  // multiple \n  if (isMultipleMask(context)) {\n    return getSiblingMultiMaskedElements(context, sibling, tolerance);\n  }\n\n  // \n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getSiblingMaskElementsByBBox(maskBBox, context, sibling);\n}\n\n/**\n *  mashBBox  sibling  mask  elements\n * @param maskBBox\n * @param context \n * @param sibling sibling view\n * @returns\n */\nfunction getSiblingMaskElementsByBBox(maskBBox, context: IInteractionContext, sibling: View) {\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n *  sibling  multiple mask  elements\n * @param context \n * @param sibling sibling view\n * @param tolerance box \n * @returns\n */\nfunction getSiblingMultiMaskedElements(context: IInteractionContext, sibling: View, tolerance: number): Element[] {\n  const maskBBoxList = getMultiMaskBBoxList(context, tolerance);\n  if (maskBBoxList.length > 0) {\n    return maskBBoxList.flatMap((maskBBox) => getSiblingMaskElementsByBBox(maskBBox, context, sibling));\n  }\n  return null;\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    const components = this.getComponents();\n    //  render\n    for (let i = 0; i < components.length; i++) {\n      const co = components[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const theme = this.view.getTheme();\n      const markerDefaultCfg = get(theme, ['components', 'tooltip', 'marker'], {});\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...(isFunction(marker) ? { ...markerDefaultCfg, ...marker(item) } : marker),\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content, capture } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      capture,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.10';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        capture: false,\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        capture: false,\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { isFunction } from '@antv/util';\n\nclass MyWorker {\n  queue: any[] = [];\n  worker: Worker;\n\n  constructor(url) {\n    this.worker = new Worker(url);\n    this.worker.onmessage = (e: MessageEvent) => {\n      this.queue.shift()?.resolve(e);\n    };\n    this.worker.onmessageerror = (e: MessageEvent) => {\n      console.warn('[AntV G2] Web worker is not available');\n      this.queue.shift()?.reject(e);\n    };\n  }\n\n  post(params, onError?: () => any): Promise<MessageEvent> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ resolve, reject });\n      try {\n        this.worker.postMessage(params);\n      } catch (e) {\n        console.warn('[AntV G2] Web worker is not available');\n        isFunction(onError) && onError();\n      }\n    });\n  }\n\n  destroy() {\n    this.worker.terminate();\n  }\n}\n\nexport function createWorker(f: any) {\n  if (typeof window === 'undefined') return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new MyWorker(URL.createObjectURL(blob));\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n};\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport async function hideOverlap(\n  labelItems: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const boxes = labels.map((d, idx) => ({\n    ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n    visible: true,\n  }));\n  const memoKey = JSON.stringify(boxes);\n  const cb = (items: Item[]) => {\n    cache.set(memoKey, items);\n    each(items, ({ visible }, idx) => {\n      const labelShape = labels[idx];\n      if (visible) {\n        labelShape?.show();\n      } else {\n        labelShape?.hide();\n      }\n    });\n    return items;\n  };\n  if (cache.get(memoKey)) {\n    cb(cache.get(memoKey));\n  } else if (worker) {\n    // Do layout in worker.\n    try {\n      const params = JSON.stringify({ type: 'hide-overlap', items: boxes });\n      const res = await worker.post(params, () => cb(layout(boxes)));\n      cb(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error(e);\n      cb(layout(boxes));\n    }\n  } else {\n    // Normal layout in main thread.\n    cb(layout(boxes));\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual, isFunction } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  //  startAngle, endAngle  endAngle = Math.PI * 1.5 \n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n        isFunction(animateCfg.callback) && animateCfg.callback();\n      },\n    }\n  );\n}\n","import { isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n      isFunction(animateCfg.callback) && animateCfg.callback();\n    },\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { each, isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n            isFunction(animateCfg.callback) && animateCfg.callback();\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    let done = false;\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n          doWhat();\n          });\n          done = true;\n        }\n      });\n    }\n\n    if (!done) {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      if (ticks.length) ticks[ticks.length - 1].name = '';\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport View from '../../chart/view';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\nexport function getMaskAttrs(points) {\n  const currentPoint = last(points);\n  let r = 0;\n  let x = 0;\n  let y = 0;\n  if (points.length) {\n    const first = points[0];\n    r = distance(first, currentPoint) / 2;\n    x = (currentPoint.x + first.x) / 2;\n    y = (currentPoint.y + first.y) / 2;\n  }\n  return {\n    x,\n    y,\n    r,\n  };\n}\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\nexport function getRegion(points): Region {\n  return {\n    start: head(points),\n    end: last(points),\n  };\n}\n\n/**\n * \n * @param points\n * @returns\n */\nexport function getMaskAttrs(start, end) {\n  const x = Math.min(start.x, end.x);\n  const y = Math.min(start.y, end.y);\n  const width = Math.abs(end.x - start.x);\n  const height = Math.abs(end.y - start.y);\n  return {\n    x,\n    y,\n    width,\n    height,\n  };\n}\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion() {\n    return getRegion(this.points);\n  }\n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    return getMaskAttrs(start, end);\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\nexport function getRegion(points, dim, inPlot, coord): Region {\n  let start = null;\n  let end = null;\n  const normalStart = coord.invert(head(points));\n  const normalEnd = coord.invert(last(points));\n  if (inPlot) {\n    //  0 - 1 \n    clampPoint(normalStart);\n    clampPoint(normalEnd);\n  }\n  if (dim === 'x') {\n    // x , y \n    start = coord.convert({\n      x: normalStart.x,\n      y: 0,\n    });\n    end = coord.convert({\n      x: normalEnd.x,\n      y: 1,\n    });\n  } else {\n    // y , x \n    start = coord.convert({\n      x: 0,\n      y: normalStart.y,\n    });\n    end = coord.convert({\n      x: 1,\n      y: normalEnd.y,\n    });\n  }\n  return {\n    start,\n    end,\n  };\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion() {\n    const coord = this.context.view.getCoordinate();\n    return getRegion(this.points, this.dim, this.inPlot, coord);\n  }\n}\n\nexport default DimRect;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n *  mask \n * @param points\n * @returns\n */\nexport function getMaskPath(points) {\n  const path = [];\n  if (points.length) {\n    each(points, (point, index) => {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    path.push(['L', points[0].x, points[0].y]);\n  }\n  return path;\n}\n\nexport function getMaskAttrs(points) {\n  return {\n    path: getMaskPath(points),\n  };\n}\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  protected getMaskPath() {\n    return getMaskPath(this.points);\n  }\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n *  mask \n * @param points\n * @returns\n */\nexport function getMaskPath(points) {\n  return getSpline(points, true);\n}\n\nexport function getMaskAttrs(points) {\n  return {\n    path: getMaskPath(points),\n  };\n}\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  protected getMaskPath() {\n    return getMaskPath(this.points);\n  }\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n}\n\nexport default SmoothPathMask;\n","import { deepMix } from '@antv/util';\nimport Action from '../../base';\nimport { LooseObject } from '../../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MultipleMaskBase extends Action {\n  // mask \n  protected maskShapes = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  //  mask \n  protected recordPoints = null;\n  protected preMovePoint = null;\n  protected shapeType = 'path';\n  protected maskType = 'multi-mask';\n\n  /**\n   * \n   */\n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   *  mask \n   * @param type\n   */\n  protected emitEvent(type) {\n    const eventName = `${this.maskType}:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    const target = {\n      type: this.shapeType,\n      name: this.maskType,\n      get: (key: string) => (target.hasOwnProperty(key) ? target[key] : undefined),\n    };\n    view.emit(eventName, {\n      target,\n      maskShapes: this.maskShapes,\n      multiPoints: this.recordPoints,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  /**\n   *  mask\n   * @param index\n   */\n  private createMask(index: number) {\n    const view = this.context.view;\n    const points = this.recordPoints[index];\n    const maskAttrs = this.getMaskAttrs(points);\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    this.maskShapes.push(maskShape);\n  }\n\n  /**\n   *  mask shape attributes\n   * @param points\n   */\n  protected abstract getMaskAttrs(points: number[]): LooseObject;\n\n  /**\n   *  mask \n   */\n  protected getMaskPath(points) {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShapes.length > 0) {\n      this.maskShapes.forEach((maskShape) => maskShape.show());\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.recordPointStart();\n\n    this.starting = true;\n    // \n    this.moving = false;\n    //  index  mask\n    const index = this.recordPoints.length - 1;\n    this.createMask(index);\n    //  capture: falseresize \n    this.updateShapesCapture(false);\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n    this.updateShapesCapture(false);\n  }\n\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || this.maskShapes.length === 0) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n\n    //  event (x, y)  mask\n    const index = this.getCurMaskShapeIndex();\n    if (index > -1) {\n      this.recordPoints[index].forEach((point) => {\n        point.x += dx;\n        point.y += dy;\n      });\n      this.updateMask();\n      this.emitEvent('change');\n      this.preMovePoint = currentPoint;\n    }\n  }\n\n  /**\n   * \n   * @param maskStyle\n   */\n  protected updateMask(maskStyle?: LooseObject) {\n    this.recordPoints.forEach((points, index) => {\n      const attrs = deepMix({}, this.getMaskAttrs(points), maskStyle);\n      this.maskShapes[index].attr(attrs);\n    });\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    if (this.starting && this.maskShapes.length > 0) {\n      this.recordPointContinue();\n\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n    this.updateShapesCapture(true);\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    this.updateShapesCapture(true);\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShapes.length > 0) {\n      this.maskShapes.forEach((maskShape) => maskShape.hide());\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   *  mask\n   */\n  public remove() {\n    const index = this.getCurMaskShapeIndex();\n    if (index > -1) {\n      // event (x, y)  mask  mask\n      this.recordPoints.splice(index, 1);\n      this.maskShapes[index].remove();\n      this.maskShapes.splice(index, 1);\n      this.preMovePoint = null;\n      this.updateShapesCapture(true);\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   *  mask\n   */\n  public clearAll() {\n    this.recordPointClear();\n    this.maskShapes.forEach((maskShape) => maskShape.remove());\n    this.maskShapes = [];\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const index = this.getCurMaskShapeIndex();\n    if (index === -1) {\n      this.recordPointClear();\n      this.maskShapes.forEach((maskShape) => maskShape.remove());\n      this.maskShapes = [];\n      this.emitEvent('clearAll');\n    } else {\n      this.recordPoints.splice(index, 1);\n      this.maskShapes[index].remove();\n      this.maskShapes.splice(index, 1);\n      this.preMovePoint = null;\n      this.emitEvent('clearSingle');\n    }\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n    super.destroy();\n  }\n\n  /**\n   *  mask \n   */\n  protected getRecordPoints() {\n    return [...(this.recordPoints ?? [])];\n  }\n\n  /**\n   *  mask \n   */\n  protected recordPointStart() {\n    const recordPoints = this.getRecordPoints();\n    const currentPoint = this.getCurrentPoint();\n    this.recordPoints = [...recordPoints, [currentPoint]];\n  }\n\n  /**\n   *  mask \n   */\n  protected recordPointContinue() {\n    const recordPoints = this.getRecordPoints();\n    const currentPoint = this.getCurrentPoint();\n    const lastPoints = recordPoints.splice(-1, 1)[0] || [];\n    lastPoints.push(currentPoint);\n    this.recordPoints = [...recordPoints, lastPoints];\n  }\n\n  /**\n   *  mask  \n   */\n  protected recordPointClear() {\n    this.recordPoints = [];\n  }\n\n  /**\n   *  capture\n   * false: resize \n   * true: \n   * @param isCapture\n   */\n  protected updateShapesCapture(isCapture: boolean) {\n    this.maskShapes.forEach((maskShape) => maskShape.set('capture', isCapture));\n  }\n\n  /**\n   *\n   * @returns  event (x, y)  maskShape  index\n   */\n  protected getCurMaskShapeIndex() {\n    const currentPoint = this.getCurrentPoint();\n    return this.maskShapes.findIndex((maskShape) => {\n      const { width, height, r } = maskShape.attrs;\n      const isEmpty = width === 0 || height === 0 || r === 0;\n      return !isEmpty && maskShape.isHit(currentPoint.x, currentPoint.y);\n    });\n  }\n}\n\nexport default MultipleMaskBase;\n","import MultipleMaskBase from './base';\nimport { getRegion, getMaskAttrs } from '../rect';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMultiMask extends MultipleMaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(points) {\n    return getRegion(points);\n  }\n  protected getMaskAttrs(points) {\n    const { start, end } = this.getRegion(points);\n    return getMaskAttrs(start, end);\n  }\n}\n\nexport default RectMultiMask;\n","import MultipleRectMask from './rect';\nimport { getRegion } from '../dim-rect';\n\n/**\n * @ignore\n */\nclass DimRectMultiMask extends MultipleRectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(points) {\n    const coord = this.context.view.getCoordinate();\n    return getRegion(points, this.dim, this.inPlot, coord);\n  }\n}\n\nexport default DimRectMultiMask;\n","import MultipleMaskBase from './base';\nimport { getMaskAttrs } from '../circle';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMultiMask extends MultipleMaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs = getMaskAttrs;\n}\n\nexport default CircleMultiMask;\n","import MultipleMaskBase from './base';\nimport { getMaskAttrs, getMaskPath } from '../path';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMultiMask extends MultipleMaskBase {\n  protected getMaskPath = getMaskPath;\n  protected getMaskAttrs = getMaskAttrs;\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMultiMask;\n","import MultiplePathMask from './path';\nimport { getMaskPath, getMaskAttrs } from '../smooth-path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMultiMask extends MultiplePathMask {\n  protected getMaskPath = getMaskPath;\n  protected getMaskAttrs = getMaskAttrs;\n}\n\nexport default SmoothPathMultiMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n  /**\n   * \n   */\n  public zoomIn() {\n    this.setCursor('zoom-in');\n  }\n  /**\n   * \n   */\n  public zoomOut() {\n    this.setCursor('zoom-out');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { filter, get, isNumber } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { Element, Geometry, View } from '@antv/g2';\nimport { get, reduce } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Types } from '@antv/g2';\nimport { isArray, isNumber } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Point, Position } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","import { IGroup, View } from '@antv/g2';\nimport { each, get, isFunction, isNumber, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { kebabCase } from './kebab-case';\nimport { pick } from './pick';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Geometry, Types, View } from '@antv/g2';\nimport { each, isFunction } from '@antv/util';\nimport { Options } from '../types';\nimport { Animation } from '../types/animation';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n\n/**\n *  Geometries \n * @param view View\n * @param animation \n */\nexport function addViewAnimation(\n  view: View,\n  animation: Options['animation'],\n  geometries: Geometry<Types.ShapePoint>[] = view.geometries\n) {\n  //  view \n  if (typeof animation === 'boolean') {\n    view.animate(animation);\n  } else {\n    view.animate(true);\n  }\n\n  //  Geometry \n  each(geometries, (g: Geometry) => {\n    let animationCfg;\n    if (isFunction(animation)) {\n      animationCfg = animation(g.type || g.shapeType, g) || true;\n    } else {\n      animationCfg = animation;\n    }\n\n    g.animate(animationCfg as Animation);\n  });\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { drawBackground, getPixelRatio, initCanvas, transformMatrix } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\nimport { getCanvasPattern } from '../utils/pattern';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Axis } from '../types/axis';\nimport { Transformations } from '../types/coordinate';\nimport { Interaction } from '../types/interaction';\nimport { addViewAnimation, deepAssign, pick } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  addViewAnimation(chart, animation);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { isEmpty, isFunction, isNumber, isObject, isString, uniq } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, Datum, Options, RawFields, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: RawFields;\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField } = o;\n  let { rawFields } = o;\n\n  let fields = [];\n  rawFields = (isFunction(rawFields) ? rawFields(type, field) : rawFields) || [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: smooth ? 'smooth' : 'area',\n                tooltip: formatter,\n              },\n              area\n            ),\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import EE from '@antv/event-emitter';\nimport { Chart, Element, Event, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { bind } from 'size-sensor';\nimport { Annotation, Options, Size, StateCondition, StateName, StateObject } from '../types';\nimport { deepAssign, getAllElementsRecursively, getContainerSize, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  theme,\n  tooltip,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  pattern,\n  slider,\n  theme,\n  tooltip,\n  transformations,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { axis, legend, meta } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    areaShape,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: {\n        color,\n        style: areaStyle,\n        shape: areaShape,\n      },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { AreaOptions } from './types';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\n/** brush  */\nimport '../interactions/brush';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { BrushCfg, Interaction, Options as BaseOptions, Writable } from '../types';\nimport { deepAssign } from '../utils';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Element, registerInteraction, ShapeAttrs } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  // 0 / 0 \n  if (prev === 0 && next === 0) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n\n  if (prev === 0) {\n    return '';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { Coordinate, Element, Geometry, getTheme, IGroup, ShapeAttrs, View } from '@antv/g2';\nimport { each, find, isObject, map } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  state,\n  theme,\n  transformations,\n} from '../../adaptor/common';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { adjustYMetaByZero, deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] ?? datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const { customItems } = tooltipOptions;\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          // fix https://github.com/antvis/G2Plot/issues/3367\n          return customItems ? customItems(items) : items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Axis } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { BarOptions } from './types';\nexport { meta } from '../column/adaptor';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { BarOptions } from './types';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ColumnOptions } from './types';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { get, isFunction, isNumber, map, maxBy } from '@antv/util';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\n\nexport const CONVERSION_TAG_NAME = 'CONVERSION_TAG_NAME';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    // @ts-ignore\n    const { conversionTag, filteredData } = options;\n\n    const data = filteredData || chart.getOptions().data;\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          name: CONVERSION_TAG_NAME,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { findGeometry, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options, chart } = params;\n  const { maxSize } = options;\n\n  // \n  const dataArray = get(chart, ['geometries', '0', 'dataArray'], []);\n  const size = get(chart, ['options', 'data', 'length']);\n  const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [x[datumIndex - 1] || datumIndex - 0.5, percent],\n      end: [x[datumIndex - 1] || datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, isNumber, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { deepAssign, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\nexport function compareConversionTag(params: Params<FunnelOptions>) {\n  // @ts-ignore\n  const { chart, index, options } = params;\n  const { conversionTag, isTransposed } = options;\n  (isNumber(index) ? [chart] : chart.views).forEach((view, viewIndex) => {\n    // \n    const dataArray = get(view, ['geometries', '0', 'dataArray'], []);\n    const size = get(view, ['options', 'data', 'length']);\n    const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n    const getLineCoordinate = (\n      datum: Datum,\n      datumIndex: number,\n      data: Data,\n      initLineOption: Record<string, any>\n    ): Types.LineOption => {\n      const ratio = (index || viewIndex) === 0 ? -1 : 1;\n      return deepAssign({}, initLineOption, {\n        start: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n        end: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n        text: isTransposed\n          ? {\n              style: {\n                textAlign: 'start',\n              },\n            }\n          : {\n              offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n              style: {\n                textAlign: (index || viewIndex) === 0 ? 'end' : 'start',\n              },\n            },\n      });\n    };\n\n    conversionTagComponent(getLineCoordinate)(\n      deepAssign(\n        {},\n        {\n          chart: view,\n          options,\n        }\n      )\n    );\n  });\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  // @ts-ignore\n  chart.once('beforepaint', () => compareConversionTag(params));\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map, maxBy, reduce } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Params } from '../../../core/adaptor';\nimport { deepAssign, flow } from '../../../utils';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { Action } from '@antv/g2';\nimport { each, filter, get, map } from '@antv/util';\nimport { conversionTag as basicConversionTag } from '../geometries/basic';\nimport { CONVERSION_TAG_NAME, transformData } from '../geometries/common';\nimport { compareConversionTag } from '../geometries/compare';\nimport { FunnelOptions } from '../types';\n\n/**\n * Funnel  legend \n */\nexport class ConversionTagAction extends Action {\n  private rendering = false;\n  public change(options: FunnelOptions) {\n    // \n    if (!this.rendering) {\n      const { seriesField, compareField } = options;\n      const conversionTag = compareField ? compareConversionTag : basicConversionTag;\n      const { view } = this.context;\n      // \n      const views = seriesField || compareField ? view.views : [view];\n      map(views, (v, index) => {\n        //  annotations \n        const annotationController = v.getController('annotation');\n\n        const annotations = filter(\n          get(annotationController, ['option'], []),\n          ({ name }) => name !== CONVERSION_TAG_NAME\n        );\n\n        annotationController.clear(true);\n\n        each(annotations, (annotation) => {\n          if (typeof annotation === 'object') {\n            v.annotation()[annotation.type](annotation);\n          }\n        });\n\n        const data = get(v, ['filteredData'], v.getOptions().data);\n\n        conversionTag({\n          chart: v,\n          index,\n          options: {\n            ...options,\n            // @ts-ignore\n            filteredData: transformData(data, data, options),\n          },\n        });\n\n        v.filterData(data);\n        this.rendering = true;\n        v.render(true);\n      });\n    }\n    this.rendering = false;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { ConversionTagAction } from './funnel-conversion-tag';\n\nconst FUNNEL_CONVERSION_TAG = 'funnel-conversion-tag';\nexport const FUNNEL_LEGEND_FILTER = 'funnel-afterrender';\nexport const interactionStart = { trigger: 'afterrender', action: `${FUNNEL_CONVERSION_TAG}:change` };\n\nregisterAction(FUNNEL_CONVERSION_TAG, ConversionTagAction);\nregisterInteraction(FUNNEL_LEGEND_FILTER, {\n  start: [interactionStart],\n});\n","import { clone, each, isFunction } from '@antv/util';\nimport { animation, annotation, scale, theme, tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { facetFunnel } from './geometries/facet';\nimport { FUNNEL_LEGEND_FILTER, interactionStart } from './interactions';\nimport { FunnelOptions } from './types';\nimport type { Interaction } from './types';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<FunnelOptions, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  // @ts-ignore\n  const { interactions, dynamicHeight } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n  //   \n  if (!dynamicHeight) {\n    chart.interaction(FUNNEL_LEGEND_FILTER, {\n      start: [{ ...interactionStart, arg: options }],\n    });\n  } else {\n    chart.removeInteraction(FUNNEL_LEGEND_FILTER);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Element } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { StateCondition, StateName, StateObject } from '../..';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getAllElementsRecursively } from '../../utils';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\nimport './interactions';\nimport { FunnelOptions } from './types';\n\nexport type { FunnelOptions };\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size, uniq } from '@antv/util';\nimport { Data } from '../../types';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? uniq(ticks) : [0, clamp(percent, 0, 1), 1];\n  if (!clampTicks[0]) {\n    clampTicks.shift();\n  }\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { animation, annotation, interaction, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { DEFAULT_COLOR, INDICATEOR_VIEW_ID, PERCENT, RANGE_TYPE, RANGE_VALUE, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { clone, each, getRange, groupBy, hasKey, isEmpty, sortBy, valuesOfKey } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\nimport { HistogramOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { HistogramOptions } from './types';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { Geometry, InteractionAction, View } from '@antv/g2';\nimport { each, findIndex } from '@antv/util';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\nimport { LineOptions } from './types';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Action, Element, Util } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { Action, Types, Util, View } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { each, get, isArray, isEmpty, isFunction, isNil, isNumber, isString, toString } from '@antv/util';\nimport { animation, annotation, legend, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Data, Datum } from '../../types';\nimport { Interaction } from '../../types/interaction';\nimport { deepAssign, flow, processIllegalData, renderStatistic, template, transformLabel } from '../../utils';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle, shape } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport './interactions';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      //  progressStyle \n      current: `${clampPercent}`,\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      current: `${clampPercent}`,\n      type: 'target',\n      percent: 1,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { DEFAULT_COLOR } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'current',\n      yField: 'percent',\n      seriesField: 'type',\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getProgressData } from '../progress/utils';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { RingProgressOptions } from './types';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, isArray, isNumber } from '@antv/util';\nimport {\n  regressionExp,\n  regressionLinear,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\ntype D3RegressionResult = {\n  a?: number;\n  b?: number;\n  c?: number;\n  coefficients?: number[];\n  rSquared?: number;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm, equation: customEquation } = regressionLine;\n  let pathData: Array<[number, number]>;\n  let equation = null;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n    equation = customEquation;\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n    equation = getRegressionEquation(type, pathData as D3RegressionResult);\n  }\n  return [splinePath(pathData, config), equation];\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n\n/**\n * \n * @param {string} type - \n * @param {D3RegressionResult} res - \n * @return {string}\n */\nexport function getRegressionEquation(type: string, res: D3RegressionResult) {\n  const roundByPrecision = (n, p = 4) => Math.round(n * Math.pow(10, p)) / Math.pow(10, p);\n  const safeFormat = (value) => (Number.isFinite(value) ? roundByPrecision(value) : '?');\n\n  switch (type) {\n    case 'linear':\n      // y = ax + b\n      return `y = ${safeFormat(res.a)}x + ${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'exp':\n      // y = ae^(bx)\n      return `y = ${safeFormat(res.a)}e^(${safeFormat(res.b)}x), R^2 = ${safeFormat(res.rSquared)}`;\n    case 'log':\n      // y = a  ln(x) + b\n      return `y = ${safeFormat(res.a)}ln(x) + ${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'quad':\n      // y = ax^2 + bx + c\n      return `y = ${safeFormat(res.a)}x^2 + ${safeFormat(res.b)}x + ${safeFormat(res.c)}, R^2 = ${safeFormat(\n        res.rSquared\n      )}`;\n    case 'poly':\n      // y = anx^n + ... + a1x + a0\n      // eslint-disable-next-line no-case-declarations\n      let temp = `y = ${safeFormat(res.coefficients?.[0])} + ${safeFormat(res.coefficients?.[1])}x + ${safeFormat(\n        res.coefficients?.[2]\n      )}x^2`;\n      for (let i = 3; i < res.coefficients.length; ++i) {\n        temp += ` + ${safeFormat(res.coefficients[i])}x^${i}`;\n      }\n      return `${temp}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'pow':\n      // y = ax^b\n      return `y = ${safeFormat(res.a)}x^${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n  }\n  return null;\n}\n","import { isNumber } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { animation, annotation, interaction, scale, scrollbar, slider, theme } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { getMeta, getPath, getQuadrantDefaultConfig } from './util';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, equationStyle = {}, top = false, showEquation = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    const defaulEquationStyle = {\n      x: 20,\n      y: 20,\n      textAlign: 'left' as const,\n      textBaseline: 'middle' as const,\n      fontSize: 14,\n      fillOpacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const [path, equation] = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n        if (showEquation) {\n          group.addShape('text', {\n            name: 'regression-equation',\n            attrs: {\n              ...defaulEquationStyle,\n              ...equationStyle,\n              text: equation,\n            },\n          });\n        }\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, meta, transformOptions } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { ScatterOptions } from './types';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data: Record<string, any>[], yField: [string, string, string, string]) {\n  return map(data, (item) => {\n    const obj = item && { ...item };\n    if (isArray(yField) && obj) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { animation, annotation, interaction, slider, theme } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { animation, annotation, pattern, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyAreaOptions } from './types';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, pattern, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, theme, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Options } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { Area, AreaOptions } from '../area';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { Bar, BarOptions } from '../bar';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { Column, ColumnOptions } from '../column';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { Pie, PieOptions } from '../pie';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { Progress, ProgressOptions } from '../progress';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { Stock, StockOptions } from '../stock';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { Axis } from '../../types/axis';\nimport { Interaction } from '../../types/interaction';\nimport { Legend } from '../../types/legend';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { IGeometry, IView, MixOptions } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { Element, View } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Action, Element, registerAction, registerInteraction, View } from '@antv/g2';\nimport { each, get, isArray, map } from '@antv/util';\nimport { getAllElements, getSiblingViews, getViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { MixOptions } from './types';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Types } from '@antv/g2';\nimport { groupBy } from '@antv/util';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n  tooltip,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, findViewById, flow, transformLabel } from '../../utils';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as any).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign, findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, syncViewPadding, transformData } from './utils';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, annotation(), interaction, animation, theme)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow, transformLabel } from '../../utils';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        offsetX,\n        content: name,\n      };\n    },\n    labelEmit: true,\n    style: {\n      fill: '#8c8c8c',\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { interaction, state, theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { addViewAnimation, flow, getAllGeometriesRecursively, pick, transformDataToNodeLinkData } from '../../utils';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { EDGE_COLOR_FIELD, NODE_COLOR_FIELD, X_FIELD, Y_FIELD } from './constant';\nimport { ChordOptions } from './types';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  addViewAnimation(chart, animation, getAllGeometriesRecursively(chart));\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, isNil, last, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import { filter, isArray, isString } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { deepAssign, pick } from '../../utils';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { RAW_FIELDS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport { resolvePaddingForCircle, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { CirclePackingOptions } from './types';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { ColumnOptions } from '../column/types';\nimport { LineOptions } from '../line/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\nimport {\n  AxisType,\n  DualAxesGeometry,\n  DualAxesOptions,\n  GeometryColumnOption,\n  GeometryLineOption,\n  GeometryOption,\n} from '../types';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { line, point } from '../../../adaptor/geometries';\nimport { Params } from '../../../core/adaptor';\nimport { deepAssign, pick } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isColumn, isLine } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Util, View } from '@antv/g2';\nimport { get, isEmpty, isFunction, reduce } from '@antv/util';\nimport { Legend } from '../../../types/legend';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { Event, Scale, Types } from '@antv/g2';\nimport { each, every, find, findIndex, get, isBoolean, isEqual, isObject } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  annotation as commonAnnotation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n} from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { percent } from '../../utils/transform/percent';\nimport { findViewById } from '../../utils/view';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\nimport { AxisType, DualAxesGeometry, DualAxesOptions } from './types';\nimport { drawSingleGeometry } from './util/geometry';\nimport { getViewLegendItems } from './util/legend';\nimport { getGeometryOption, getYAxisWithDefault, isColumn, transformObjectToArray } from './util/option';\nimport { doSliderFilter } from './util/render-sider';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { DualAxesOptions } from './types';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Axis, Interaction, Options } from '../../types';\nimport { addViewAnimation, deepAssign, pick } from '../../utils';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  addViewAnimation(viewOfG2, animation as Options['animation']);\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { Axis, Interaction } from '../../types';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNumber } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle, meta } =\n    options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  let { min, max } = meta?.[sizeField] || {};\n                  min = isNumber(min) ? min : Math.min(...field);\n                  max = isNumber(max) ? max : Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  const coordinateOption = deepAssign({ actions: [] }, coordinate ?? { type: 'rect' });\n\n  if (reflect) {\n    coordinateOption.actions?.push?.(['reflect', reflect]);\n  }\n\n  chart.coordinate(coordinateOption);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\nimport { HeatmapOptions } from './types';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { animation, interaction, pattern, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { CustomInfo, LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, shapeStyle, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    percent,\n    radius,\n    outline,\n    wave,\n    shape,\n    shapeStyle,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { IGroup, IShape } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { isNumber, mix, reduce } from '@antv/util';\nimport { Point, ShapeStyle } from '../../../types';\nimport { transform } from '../../../utils/matrix';\nimport { CustomInfo, LiquidOptions } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 1 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { percent, radius: radio, shape, shapeStyle, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1.  shapeStyle \n    if (shapeStyle) {\n      container.addShape('path', {\n        name: 'shape',\n        attrs: {\n          path: shapePath,\n          ...shapeStyle,\n        },\n      });\n    }\n\n    //  0 \n    if (percent > 0) {\n      // 2. \n      const waves = container.addGroup({\n        name: 'waves',\n      });\n\n      // 3.  clip \n      const clipPath = waves.setClip({\n        type: 'path',\n        attrs: {\n          path: shapePath,\n        },\n      });\n\n      // 4. \n      addWaterWave(\n        center.x,\n        center.y,\n        1 - (cfg.points[1] as Point).y,\n        waveCount,\n        waveAttrs,\n        waves,\n        clipPath,\n        radius * 2,\n        waveLength,\n        animation\n      );\n    }\n\n    // 5.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 6.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n// register liquid shape\nimport './shapes/liquid';\nimport { LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\nexport { addWaterWave } from './shapes/liquid';\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { Action, registerComponentController, TooltipController, Util } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { RadarOptions } from './types';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, processIllegalData, transformLabel } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data, shape } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: shape || (type === 'line' ? 'line' : 'intervel'),\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RadialBarOptions } from './types';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isArray, isObject } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, LEVEL, log, transformLabel } from '../../utils';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, shape, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n          shape: shape,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RoseOptions } from './types';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, maxValueBy, minValueBy, sumBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isFunction, isString } from '@antv/util';\nimport { Datum } from '../../types';\nimport { center, justify, left, right, sankey } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | ((...args: any[]) => any);\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { Data } from '../../types';\nimport { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { cutoffCircle } from './circle';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport { COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID, X_FIELD, Y_FIELD } from './constant';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState, rawFields = [] } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      rawFields: ['source', 'target', ...rawFields],\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  addViewAnimation(chart, animation, geometries);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\nimport { transformToViewsData } from './helper';\n// \nimport './interactions';\nimport { SankeyOptions } from './types';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import { assign, isArray, reduce, size } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: (a: any, b: any) => any; // Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { Types } from '@antv/g2';\nimport { get, isFunction, uniq } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { SunburstOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [], shape } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n          shape,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\nimport { SunburstOptions } from './types';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { animation, annotation, interaction as commonInteraction, legend, theme, tooltip } from '../../adaptor/common';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { TreemapOptions } from './types';\nimport { enableDrillInteraction, findInteraction, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { TreemapOptions } from './types';\nimport { enableInteraction, resetDrillDown, transformData } from './utils';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { GeometryLabel, registerGeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import identity from './identity.js';\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nexport default castFunction;\n","import arrayEach from './_arrayEach.js';\nimport baseEach from './_baseEach.js';\nimport castFunction from './_castFunction.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nexport default forEach;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { Datum, Point } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\nimport { CustomInfo } from './types';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead } from 'fmin';\nimport { distance, getCenter, intersectionArea } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { bisect, conjugateGradient, nelderMead, norm2, scale, zeros, zerosM } from 'fmin';\nimport { circleCircleIntersection, circleOverlap, distance, intersectionArea } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { assign, memoize } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\nimport { blend } from '../../utils/color/blend';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { computeTextCentres, intersectionAreaPath } from './layout/diagram';\nimport { scaleSolution, venn } from './layout/layout';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { Geometry } from '@antv/g2';\nimport { deepMix, get, isArray, isEqual } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport {\n  deepAssign,\n  findGeometry,\n  flow,\n  getAdjustAppendPadding,\n  LEVEL,\n  log,\n  normalPadding,\n  resolveAllPadding,\n  transformLabel,\n} from '../../utils';\nimport { ID_FIELD } from './constant';\nimport './interactions';\nimport './label';\nimport './shape';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { getColorMap, islegalSets, layoutVennData } from './utils';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { VennOptions } from './types';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, max, min } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { each, get, omit, set } from '@antv/util';\nimport { annotation as baseAnnotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow, pick } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    addViewAnimation(view, animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Point } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { get, isNumber, isObject, isUndefined, reduce } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { animation, annotation, interaction, scale, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\nimport './shape';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    total,\n    leaderLine,\n    columnWidthRatio,\n    waterfallStyle,\n    risingFill,\n    fallingFill,\n    color,\n    shape,\n    customInfo,\n  } = options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        // \n        shape: shape || 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({\n    ...customInfo,\n    leaderLine,\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { assign, isFunction, isNil } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(\r\n      (canvas.getContext('2d', { willReadFrequently: true }) as CanvasRenderingContext2D)!.getImageData(0, 0, 1, 1).data\r\n        .length >> 2\r\n    );\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d', { willReadFrequently: true }) as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart, Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { getContainerSize, LEVEL, log } from '../../utils';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { IGroup, registerShape, ShapeAttrs, Types, Util } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// shape\nimport './shapes/word-cloud';\nimport { WordCloudOptions } from './types';\nimport { processImageMask, transform } from './utils';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { Adaptor } from '../core/adaptor';\nimport { PickOptions, Plot } from '../core/plot';\nimport { deepAssign } from '../utils';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,"'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n",null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\nvar _sensorPool = require(\"./sensorPool\");\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n\n  // listen with callback\n  sensor.bind(cb);\n\n  // return unbind function\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\nexports.bind = bind;\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\nexports.clear = clear;\nvar ver = \"1.0.2\";\nexports.ver = ver;",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n",null],"sourceRoot":""}