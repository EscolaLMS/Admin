"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5797,3507],{73197:function(re,A,e){e.r(A),e.d(A,{DictionaryTabNames:function(){return p},default:function(){return ne}});var V=e(97857),C=e.n(V),H=e(15009),i=e.n(H),J=e(99289),D=e.n(J),Y=e(5574),L=e.n(Y),k=e(47389),q=e(82061),ee=e(51042),te=e(16894),W=e(2453),B=e(66309),$=e(83062),K=e(14726),r=e(86738),c=e(67294),a=e(80854),j=e(42782),s=e(66419),w=e(61441),t=e(85893),z=function(){var f=D()(i()().mark(function g(n){return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,j.FX)(n).then(function(O){return O.success&&W.ZP.success(O.message),!0}));case 1:case"end":return d.stop()}},g)}));return function(n){return f.apply(this,arguments)}}(),x=function(){var g=(0,c.useRef)(),n=(0,a.useIntl)(),U=(0,a.useParams)(),d=U.dictionaryId,O=U.tab,X=[{title:(0,t.jsx)(a.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,t.jsx)(a.FormattedMessage,{id:"word",defaultMessage:"word"}),dataIndex:"word",sorter:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"categories",defaultMessage:"categories"}),dataIndex:"categories",sorter:!1,hideInSearch:!0,render:function(P,y){var v;return(0,t.jsx)(c.Fragment,{children:(v=y.categories)===null||v===void 0?void 0:v.map(function(h){return(0,t.jsx)(B.Z,{children:h.name},h.name)})})}},{hideInSearch:!0,title:(0,t.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",width:100,render:function(P,y){return[(0,t.jsx)(a.Link,{to:"/other/dictionary/".concat(d,"/").concat(O,"/").concat(y.id,"/").concat(w.DictionaryWordsTabNames.FORM),children:(0,t.jsx)($.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(K.ZP,{type:"primary",icon:(0,t.jsx)(k.Z,{})})})},"edit"),(0,t.jsx)(r.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:D()(i()().mark(function v(){var h;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,z(y.id);case 2:h=l.sent,h&&g.current&&g.current.reload();case 4:case"end":return l.stop()}},v)})),okText:(0,t.jsx)(a.FormattedMessage,{id:"yes"}),cancelText:(0,t.jsx)(a.FormattedMessage,{id:"no"}),children:(0,t.jsx)($.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,t.jsx)(K.ZP,{type:"primary",icon:(0,t.jsx)(q.Z,{}),danger:!0})})},"delete")]}}];return(0,t.jsx)(te.ZP,{headerTitle:n.formatMessage({id:"words",defaultMessage:"Words"}),actionRef:g,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,t.jsx)(a.Link,{to:"/other/dictionary/".concat(d,"/").concat(O,"/new/").concat(w.DictionaryWordsTabNames.FORM),children:(0,t.jsxs)(K.ZP,{type:"primary",children:[(0,t.jsx)(ee.Z,{})," ",(0,t.jsx)(a.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(P,y){var v=P.pageSize,h=P.current,b=P.word;return(0,j.uz)(C()({per_page:v,page:h,word:b,dictionary_id:Number(d)},(0,s.di)(y,"created_at"))).then(function(l){return l.success?{data:l.data,total:l.meta.total,success:!0}:[]})},columns:X})},F=x,I=e(26271),m=e(952),o=e(5966),Z=e(31199),S=e(74453),_=e(75081),G=e(71230),u=e(15746),p=function(f){return f.FORM="form",f.WORDS="words",f}({}),ne=function(){var f=(0,a.useIntl)(),g=(0,a.useParams)(),n=g.dictionaryId,U=g.tab,d=n==="new",O=(0,c.useState)(),X=L()(O,2),R=X[0],P=X[1],y=(0,c.useState)(!1),v=L()(y,2),h=v[0],b=v[1],l=m.ZP.useForm(),ie=L()(l,1),de=ie[0],se=(0,c.useCallback)(D()(i()().mark(function Q(){var T;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b(!0),E.next=3,(0,j.RC)(Number(n));case 3:T=E.sent,T.success&&P(T.data),b(!1);case 6:case"end":return E.stop()}},Q)})),[n]);(0,c.useEffect)(function(){if(n==="new"){P({});return}se()},[n,se]);var oe=(0,c.useMemo)(function(){return{onFinish:function(){var Q=D()(i()().mark(function ae(E){var N;return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(n!=="new"){M.next=7;break}return M.next=3,(0,j.Xk)(E);case 3:N=M.sent,N.success&&a.history.push("/other/dictionary/".concat(N.data.id,"/form")),M.next=10;break;case 7:return M.next=9,(0,j.ax)(Number(n),E);case 9:N=M.sent;case 10:W.ZP.success(N.message);case 11:case"end":return M.stop()}},ae)}));function T(ae){return Q.apply(this,arguments)}return T}(),initialValues:R}},[R,n]);return R?(0,t.jsx)(S._z,{title:d?(0,t.jsx)(a.FormattedMessage,{id:"new_dictionary"}):(0,t.jsx)(a.FormattedMessage,{id:"edit_dictionary"}),children:(0,t.jsxs)(I.ZP,{tabs:{type:"card",activeKey:U,onChange:function(T){a.history.push("/other/dictionary/".concat(n,"/").concat(T))}},children:[(0,t.jsx)(I.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"attributes"}),children:(0,t.jsxs)(m.ZP,C()(C()({},oe),{},{form:de,children:[(0,t.jsxs)(G.Z,{gutter:[16,16],children:[(0,t.jsx)(u.Z,{xs:{span:24},md:{span:12},children:(0,t.jsx)(o.Z,{name:"name",label:(0,t.jsx)(a.FormattedMessage,{id:"name"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"name"}),placeholder:f.formatMessage({id:"Name"}),required:!0})}),!d&&(0,t.jsx)(u.Z,{xs:{span:24},md:{span:12},children:(0,t.jsx)(o.Z,{name:"slug",label:(0,t.jsx)(a.FormattedMessage,{id:"slug"}),placeholder:f.formatMessage({id:"slug"}),disabled:!0,required:!0})}),(0,t.jsx)(u.Z,{xs:{span:24},md:{span:12},children:(0,t.jsx)(Z.Z,{name:"free_views_count",label:(0,t.jsx)(a.FormattedMessage,{id:"free_views_count"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"free_views_count_tooltip"}),placeholder:f.formatMessage({id:"Free views count"}),min:0})})]}),h&&(0,t.jsx)(_.Z,{})]}))},p.FORM),(0,t.jsx)(I.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"words"}),disabled:d,children:(0,t.jsx)(F,{})},p.WORDS)]})}):(0,t.jsx)(_.Z,{})}},17948:function(re,A,e){e.r(A);var V=e(97857),C=e.n(V),H=e(15009),i=e.n(H),J=e(99289),D=e.n(J),Y=e(47389),L=e(82061),k=e(51042),q=e(74453),ee=e(16894),te=e(2453),W=e(83062),B=e(14726),$=e(86738),K=e(67294),r=e(80854),c=e(42782),a=e(66419),j=e(73197),s=e(85893),w=function(){var z=D()(i()().mark(function x(F){return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,c.c)(F).then(function(o){return o.success&&te.ZP.success(o.message),!0}));case 1:case"end":return m.stop()}},x)}));return function(F){return z.apply(this,arguments)}}(),t=function(){var x=(0,K.useRef)(),F=(0,r.useIntl)(),I=[{title:(0,s.jsx)(r.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,s.jsx)(r.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",sorter:!0},{title:(0,s.jsx)(r.FormattedMessage,{id:"slug",defaultMessage:"slug"}),dataIndex:"slug",sorter:!0},{title:(0,s.jsx)(r.FormattedMessage,{id:"free_views_count",defaultMessage:"free_views_count"}),dataIndex:"free_views_count",sorter:!0},{hideInSearch:!0,title:(0,s.jsx)(r.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(o,Z){return[(0,s.jsx)(r.Link,{to:"/other/dictionary/".concat(Z.id,"/").concat(j.DictionaryTabNames.FORM),children:(0,s.jsx)(W.Z,{title:(0,s.jsx)(r.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,s.jsx)(B.ZP,{type:"primary",icon:(0,s.jsx)(Y.Z,{})})})},"edit"),(0,s.jsx)($.Z,{title:(0,s.jsx)(r.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:D()(i()().mark(function S(){var _;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,w(Z.id);case 2:_=u.sent,_&&x.current&&x.current.reload();case 4:case"end":return u.stop()}},S)})),okText:(0,s.jsx)(r.FormattedMessage,{id:"yes"}),cancelText:(0,s.jsx)(r.FormattedMessage,{id:"no"}),children:(0,s.jsx)(W.Z,{title:(0,s.jsx)(r.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,s.jsx)(B.ZP,{type:"primary",icon:(0,s.jsx)(L.Z,{}),danger:!0})})},"delete")]}}];return(0,s.jsx)(q._z,{children:(0,s.jsx)(ee.ZP,{headerTitle:F.formatMessage({id:"menu.Other activities.Dictionary",defaultMessage:"Dictionary"}),actionRef:x,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,s.jsx)(r.Link,{to:"/other/dictionary/new/".concat(j.DictionaryTabNames.FORM),children:(0,s.jsxs)(B.ZP,{type:"primary",children:[(0,s.jsx)(k.Z,{})," ",(0,s.jsx)(r.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(o,Z){var S=o.pageSize,_=o.current,G=o.name,u=o.slug;return(0,c.yX)(C()({per_page:S,page:_,name:G,slug:u},(0,a.di)(Z,"created_at"))).then(function(p){return p.success?{data:p.data,total:p.meta.total,success:!0}:[]})},columns:I})})};A.default=t}}]);
