(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"5tKr":function(T,g,e){"use strict";e.d(g,"b",function(){return C}),e.d(g,"a",function(){return h});var l=e("qLMh"),d=e("k1fw"),x=e("9og8"),O=e("9kvl");function C(o,t){return f.apply(this,arguments)}function f(){return f=Object(x.a)(Object(l.a)().mark(function o(t,m){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(O.i)("/api/admin/scorm",Object(d.a)({params:t,method:"GET",useCache:!1},m||{})));case 1:case"end":return a.stop()}},o)})),f.apply(this,arguments)}function A(o,t){return p.apply(this,arguments)}function p(){return p=Object(x.a)(Object(l.a)().mark(function o(t,m){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(O.i)("/api/admin/scorm/scos",Object(d.a)({params:Object(d.a)(Object(d.a)({},t),{},{per_page:t.pageSize,page:t.current}),method:"GET",useCache:!1},m||{})));case 1:case"end":return a.stop()}},o)})),p.apply(this,arguments)}function h(o,t){return b.apply(this,arguments)}function b(){return b=Object(x.a)(Object(l.a)().mark(function o(t,m){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(O.i)("/api/admin/scorm/".concat(t),Object(d.a)({method:"DELETE"},m||{})));case 1:case"end":return a.stop()}},o)})),b.apply(this,arguments)}},"w76+":function(T,g,e){"use strict";e.r(g);var l=e("P2fV"),d=e("NJEC"),x=e("5Dmo"),O=e("3S7+"),C=e("+L6B"),f=e("2/Rp"),A=e("miYZ"),p=e("tsqr"),h=e("qLMh"),b=e("9og8"),o=e("q1tI"),t=e("9kvl"),m=e("55Ip"),M=e("tMyG"),a=e("Qiat"),L=e("Dx9A"),R=e("/MfK"),D=e("5tKr"),P=e("DBJ/"),r=e("nKUr"),K=function(n){var v=n.onSuccess,y=n.onError,c=n.hideLabel;return Object(r.jsx)(P.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",hideLabel:c,onChange:function(s){if(s.file.response){var u=s.file.response.response;u.success?v(u.data.model):y(u)}}})},U=K,z=function(){var I=Object(b.a)(Object(h.a)().mark(function n(v){return Object(h.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(D.a)(v);case 2:return c.abrupt("return",!0);case 3:case"end":return c.stop()}},n)}));return function(v){return I.apply(this,arguments)}}(),B=function(){var n=Object(o.useRef)(),v=Object(t.l)(),y=[{title:Object(r.jsx)(t.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0},{title:Object(r.jsx)(t.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0,sorter:!0},{title:Object(r.jsx)(t.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(r.jsx)(U,{hideLabel:!0,onSuccess:function(){n.current&&n.current.reload(),p.b.success(Object(r.jsx)(t.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(s){return p.b.error(s.message||s.toString())}},"upload")]}},{title:Object(r.jsx)(t.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(j,s){return[s.scos.map(function(u){return Object(r.jsx)(m.a,{to:"/courses/scorms/preview/".concat(u.uuid),children:Object(r.jsxs)(O.a,{title:Object(r.jsx)(t.a,{id:"preview",defaultMessage:"preview"}),children:[Object(r.jsx)(f.a,{size:"small",icon:Object(r.jsx)(L.a,{}),type:"primary",children:u.title})," "]})},u.uuid)})]}},{hideInSearch:!0,title:Object(r.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(j,s){return[Object(r.jsx)(d.a,{title:Object(r.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(b.a)(Object(h.a)().mark(function u(){var E;return Object(h.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,z(s.id);case 2:E=i.sent,E&&n.current&&n.current.reload();case 4:case"end":return i.stop()}},u)})),okText:Object(r.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(r.jsx)(O.a,{title:Object(r.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(f.a,{type:"primary",icon:Object(r.jsx)(R.a,{}),danger:!0})})},"delete")]}}];return Object(r.jsx)(M.a,{children:Object(r.jsx)(a.a,{headerTitle:v.formatMessage({id:"menu.Courses.SCORMs",defaultMessage:"scorms"}),actionRef:n,rowKey:"id",search:{layout:"vertical"},request:function(j,s){var u=j.pageSize,E=j.current,S=s&&Object.entries(s)[0];return Object(D.b)({per_page:u,page:E,order_by:S&&S[0],order:S?S[1]==="ascend"?"ASC":"DESC":void 0}).then(function(i){return i.success?{data:i.data.data,total:i.data.total,success:!0}:[]})},columns:y})})},w=g.default=B}}]);
