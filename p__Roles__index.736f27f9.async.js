"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[787],{82061:function(y,f,e){var u=e(1413),s=e(67294),h=e(47046),d=e(84089),M=function(g,m){return s.createElement(d.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:m,icon:h.Z}))},_=s.forwardRef(M);f.Z=_},47389:function(y,f,e){var u=e(1413),s=e(67294),h=e(27363),d=e(84089),M=function(g,m){return s.createElement(d.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:m,icon:h.Z}))},_=s.forwardRef(M);f.Z=_},51042:function(y,f,e){var u=e(1413),s=e(67294),h=e(42110),d=e(84089),M=function(g,m){return s.createElement(d.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:m,icon:h.Z}))},_=s.forwardRef(M);f.Z=_},5966:function(y,f,e){var u=e(97685),s=e(1413),h=e(45987),d=e(21770),M=e(75842),_=e(55241),p=e(97435),g=e(67294),m=e(14186),v=e(85893),R=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],P="text",L=function(t){var r=t.fieldProps,c=t.proFieldProps,n=(0,h.Z)(t,R);return(0,v.jsx)(m.Z,(0,s.Z)({valueType:P,fieldProps:r,filedConfig:{valueType:P},proFieldProps:c},n))},j=function(t){var r=(0,d.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),c=(0,u.Z)(r,2),n=c[0],O=c[1];return(0,v.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(I){var T,K=I.getFieldValue(t.name||[]);return(0,v.jsx)(_.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},onOpenChange:function(a){return O(a)},content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(T=t.statusRender)===null||T===void 0?void 0:T.call(t,K),t.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:n,children:t.children}))}})},Z=function(t){var r=t.fieldProps,c=t.proFieldProps,n=(0,h.Z)(t,W),O=(0,g.useState)(!1),U=(0,u.Z)(O,2),I=U[0],T=U[1];return r!=null&&r.statusRender&&n.name?(0,v.jsx)(j,{name:n.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:I,onOpenChange:T,children:(0,v.jsx)("div",{children:(0,v.jsx)(m.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,p.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var a;r==null||(a=r.onBlur)===null||a===void 0||a.call(r,A),T(!1)},onClick:function(A){var a;r==null||(a=r.onClick)===null||a===void 0||a.call(r,A),T(!0)}}),proFieldProps:c,filedConfig:{valueType:P}},n))})}):(0,v.jsx)(m.Z,(0,s.Z)({valueType:"password",fieldProps:r,proFieldProps:c,filedConfig:{valueType:P}},n))},o=L;o.Password=Z,o.displayName="ProFormComponent",f.Z=o},16894:function(y,f,e){var u=e(48433);f.ZP=u.Z},74093:function(y,f,e){e.r(f),e.d(f,{TableColumns:function(){return I},default:function(){return K}});var u=e(15009),s=e.n(u),h=e(99289),d=e.n(h),M=e(5574),_=e.n(M),p=e(91680),g=e(51042),m=e(47389),v=e(82061),R=e(74453),W=e(16894),P=e(14726),L=e(86738),j=e(83062),Z=e(67294),o=e(80854),l=e(37476),t=e(952),r=e(5966),c=e(75842),n=e(85893),O=function(a){var $=(0,o.useIntl)(),S=a.visible,V=a.onVisibleChange,F=a.onFinish,b=a.id,x=c.Z.useForm(),E=_()(x,1),D=E[0];return(0,n.jsx)(l.Y,{form:D,title:$.formatMessage({id:b?"editSetting":"newSetting",defaultMessage:b?"editSetting":"newSetting"}),width:"30vw",visible:S,onVisibleChange:V,onFinish:F,children:(0,n.jsxs)(t.ZP.Group,{children:[(0,n.jsx)(r.Z,{label:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),rules:[{required:!0}],width:"md",name:"name"})," "]})})},U=O,I=[{title:(0,n.jsx)(o.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{width:"80%",title:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!1,sorter:!0}],T=function(){var a=(0,Z.useRef)(),$=(0,Z.useState)(!1),S=_()($,2),V=S[0],F=S[1],b=(0,o.useIntl)();return(0,n.jsxs)(R._z,{children:[(0,n.jsx)(W.ZP,{headerTitle:b.formatMessage({id:"menu.Users.Roles",defaultMessage:"roles"}),actionRef:a,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(P.ZP,{type:"primary",onClick:function(){return F(!0)},children:[(0,n.jsx)(g.Z,{})," ",(0,n.jsx)(o.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(E,D){var B=E.pageSize,C=E.current,w=E.name,i=D&&Object.entries(D)[0];return(0,p.uJ)({pageSize:B,current:C,name:w,order_by:i&&i[0],order:i?i[1]==="ascend"?"ASC":"DESC":void 0}).then(function(G){return G.success?{data:G.data,total:G.meta.total,success:!0}:[]})},columns:[].concat(I,[{hideInSearch:!0,title:(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(E,D){return[(0,n.jsx)(o.Link,{to:"/users/roles/".concat(D.name),children:(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{})})},"new"),(0,n.jsx)(L.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:d()(s()().mark(function B(){var C;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,p.Rd)(D.name);case 2:C=i.sent,C&&(F(!1),a.current&&a.current.reload());case 4:case"end":return i.stop()}},B)})),okText:(0,n.jsx)(o.FormattedMessage,{id:"yes"}),cancelText:(0,n.jsx)(o.FormattedMessage,{id:"no"}),children:(0,n.jsx)(j.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(v.Z,{}),danger:!0})})},"delete")]}}])}),(0,n.jsx)(U,{visible:V,onVisibleChange:function(E){return E===!1&&F(!1)},onFinish:function(){var x=d()(s()().mark(function E(D){var B,C;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,p.fA)(D);case 2:return B=i.sent,i.next=5,B;case 5:C=i.sent,C.success&&(F(!1),a.current&&(a.current.reload(),o.history.push("/users/roles/".concat(C.data.name))));case 7:case"end":return i.stop()}},E)}));return function(E){return x.apply(this,arguments)}}()})]})},K=T},91680:function(y,f,e){e.d(f,{Cv:function(){return Z},Rd:function(){return W},fA:function(){return v},iy:function(){return L},uJ:function(){return g}});var u=e(15009),s=e.n(u),h=e(97857),d=e.n(h),M=e(99289),_=e.n(M),p=e(80854);function g(l,t){return m.apply(this,arguments)}function m(){return m=_()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles",d()({method:"GET",useCache:!1,params:t},r||{})));case 1:case"end":return n.stop()}},l)})),m.apply(this,arguments)}function v(l,t){return R.apply(this,arguments)}function R(){return R=_()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},r||{})));case 1:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function W(l,t){return P.apply(this,arguments)}function P(){return P=_()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles/".concat(t),d()({method:"DELETE",headers:{"Content-Type":"application/json"}},r||{})));case 1:case"end":return n.stop()}},l)})),P.apply(this,arguments)}function L(l,t){return j.apply(this,arguments)}function j(){return j=_()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/admin/roles/".concat(t),d()({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},l)})),j.apply(this,arguments)}function Z(l,t,r){return o.apply(this,arguments)}function o(){return o=_()(s()().mark(function l(t,r,c){return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,p.request)("/api/admin/roles/".concat(t),d()({method:"PATCH",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return O.stop()}},l)})),o.apply(this,arguments)}}}]);
