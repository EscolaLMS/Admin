(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5tKr":function(U,l,e){"use strict";e.d(l,"b",function(){return c}),e.d(l,"a",function(){return j});var d=e("k1fw"),i=e("9og8"),A=e("WmNS"),s=e.n(A),v=e("9kvl");function c(a,r){return D.apply(this,arguments)}function D(){return D=Object(i.a)(s.a.mark(function a(r,n){return s.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(v.f)("/api/admin/scorm",Object(d.a)({params:Object(d.a)(Object(d.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},n||{})));case 1:case"end":return _.stop()}},a)})),D.apply(this,arguments)}function o(a,r){return m.apply(this,arguments)}function m(){return m=Object(i.a)(s.a.mark(function a(r,n){return s.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(v.f)("/api/admin/scorm/scos",Object(d.a)({params:Object(d.a)(Object(d.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},n||{})));case 1:case"end":return _.stop()}},a)})),m.apply(this,arguments)}function j(a,r){return u.apply(this,arguments)}function u(){return u=Object(i.a)(s.a.mark(function a(r,n){return s.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(v.f)("/api/admin/scorm/".concat(r),Object(d.a)({method:"DELETE"},n||{})));case 1:case"end":return _.stop()}},a)})),u.apply(this,arguments)}},"DBJ/":function(U,l,e){"use strict";var d=e("y8nQ"),i=e("Vl3Y"),A=e("etVw"),s=e("q1tI"),v=e.n(s),c=e("9kvl"),D=e("qFDU"),o=e("nKUr"),m=e.n(o),j=function(a){var r=a.onChange,n=a.url,O=a.name,_=a.extra,K=a.accept,p=a.data,T=a.wrapInForm,b=T===void 0?!0:T,R=Object(c.i)();return p&&p[O]&&delete p[O],Object(o.jsx)(D.a,{condition:b,wrap:function(B){return Object(o.jsx)(i.a,{children:B})},children:Object(o.jsx)(A.a,{title:Object(o.jsx)(c.a,{id:"upload_click_here"}),placeholder:R.formatMessage({id:"upload_click_here"}),onChange:r,label:Object(o.jsx)(c.a,{id:"upload"}),max:2,fieldProps:{data:p,accept:K,name:O,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(n),extra:_})})};l.a=j},"RY+t":function(U,l,e){"use strict";var d=e("DBJ/"),i=e("q1tI"),A=e.n(i),s=e("nKUr"),v=e.n(s),c=function(o){var m=o.onSuccess,j=o.onError;return Object(s.jsx)(d.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(a){if(a.file.response){var r=a.file.response.response;r.success?m(r.data.model):j(r)}}})};l.a=c},"w76+":function(U,l,e){"use strict";e.r(l);var d=e("P2fV"),i=e("NJEC"),A=e("5Dmo"),s=e("3S7+"),v=e("+L6B"),c=e("2/Rp"),D=e("miYZ"),o=e("tsqr"),m=e("9og8"),j=e("WmNS"),u=e.n(j),a=e("q1tI"),r=e.n(a),n=e("9kvl"),O=e("55Ip"),_=e("tMyG"),K=e("Qiat"),p=e("Dx9A"),T=e("/MfK"),b=e("5tKr"),R=e("RY+t"),t=e("nKUr"),B=e.n(t),x=function(){var L=Object(m.a)(u.a.mark(function M(g){return u.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(b.a)(g);case 2:return E.abrupt("return",!0);case 3:case"end":return E.stop()}},M)}));return function(g){return L.apply(this,arguments)}}(),S=function(){var M=Object(a.useRef)(),g=Object(n.i)(),W=[{title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(n.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(n.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(R.a,{onSuccess:function(){M.current&&M.current.reload(),o.default.success(Object(t.jsx)(n.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(P){return o.default.error(P)}})]}},{title:Object(t.jsx)(n.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(h,P){return[P.scos.map(function(f){return Object(t.jsx)(O.a,{to:"/scorms/preview/".concat(f.uuid),children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(c.a,{size:"small",icon:Object(t.jsx)(p.a,{}),type:"primary",children:f.title})})},f.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(n.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(h,P){return[Object(t.jsx)(i.a,{title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(m.a)(u.a.mark(function f(){var I;return u.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,x(P.id);case 2:I=C.sent,I&&M.current&&M.current.reload();case 4:case"end":return C.stop()}},f)})),okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(c.a,{type:"primary",icon:Object(t.jsx)(T.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(_.a,{children:Object(t.jsx)(K.a,{headerTitle:g.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:M,rowKey:"id",search:{labelWidth:120},request:function(h){var P=h.pageSize,f=h.current;return Object(b.b)({pageSize:P,current:f}).then(function(I){return I.success?{data:I.data.data,total:I.data.total,success:!0}:[]})},columns:W})})};l.default=S}}]);
