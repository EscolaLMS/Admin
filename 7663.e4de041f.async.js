!(function(){"use strict";var se=(fe,ue,re)=>new Promise((Q,ce)=>{var le=ee=>{try{q(re.next(ee))}catch(ae){ce(ae)}},J=ee=>{try{q(re.throw(ee))}catch(ae){ce(ae)}},q=ee=>ee.done?Q(ee.value):Promise.resolve(ee.value).then(le,J);q((re=re.apply(fe,ue)).next())});(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7663],{17663:function(fe,ue,re){re.d(ue,{Y:function(){return ye}});var Q=re(67294),ce={916:function(U,w,a){a.r(w),a.d(w,{AICCImpl:function(){return Z}});var g=a(635),j=a(941),M=a(989),n=a(340),s=a(589),A=a(784),R=n.aicc_constants.error_descriptions,p=function(z){(0,g.__extends)(b,z);function b(t){var d=this;return{}.hasOwnProperty.call(R,String(t))?d=z.call(this,t,R[String(t)].basicMessage,R[String(t)].detailMessage)||this:d=z.call(this,101,R[101].basicMessage,R[101].detailMessage)||this,d}return b}(A.ValidationError),S=a(319),T=a(797),I=a(449);function c(z,b,t){return(0,I.checkValidFormat)(z,b,T.scorm12_errors.TYPE_MISMATCH,p,t)}var u=a(417),f=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this)||this;return t.comments=new i,t}return b.prototype.initialize=function(){var t;z.prototype.initialize.call(this),(t=this.comments)===null||t===void 0||t.initialize()},b.prototype.reset=function(){var t;this._initialized=!1,(t=this.comments)===null||t===void 0||t.reset()},b.prototype.toJSON=function(){this.jsonString=!0;var t={comments:this.comments};return delete this.jsonString,t},b}(S.BaseCMI),i=function(z){(0,g.__extends)(b,z);function b(){return z.call(this,{children:n.aicc_constants.comments_children,errorCode:T.scorm12_errors.INVALID_SET_VALUE,errorClass:p})||this}return b}(s.CMIArray),h=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this)||this;return t._content="",t._location="",t._time="",t}return b.prototype.reset=function(){this._initialized=!1,this._content="",this._location="",this._time=""},Object.defineProperty(b.prototype,"content",{get:function(){return this._content},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._content=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"location",{get:function(){return this._location},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._location=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"time",{get:function(){return this._time},set:function(t){c(t,u.aicc_regex.CMITime)&&(this._time=t)},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={content:this.content,location:this.location,time:this.time};return delete this.jsonString,t},b}(S.BaseCMI),l=a(181),_=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this,n.aicc_constants.student_preference_children)||this;return t._lesson_type="",t._text_color="",t._text_location="",t._text_size="",t._video="",t.windows=new s.CMIArray({errorCode:T.scorm12_errors.INVALID_SET_VALUE,errorClass:p,children:""}),t}return b.prototype.initialize=function(){var t;z.prototype.initialize.call(this),(t=this.windows)===null||t===void 0||t.initialize()},Object.defineProperty(b.prototype,"lesson_type",{get:function(){return this._lesson_type},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._lesson_type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"text_color",{get:function(){return this._text_color},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._text_color=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"text_location",{get:function(){return this._text_location},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._text_location=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"text_size",{get:function(){return this._text_size},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._text_size=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"video",{get:function(){return this._video},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._video=t)},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={audio:this.audio,language:this.language,lesson_type:this.lesson_type,speed:this.speed,text:this.text,text_color:this.text_color,text_location:this.text_location,text_size:this.text_size,video:this.video,windows:this.windows};return delete this.jsonString,t},b}(l.CMIStudentPreference),O=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this)||this;return t.__children=n.aicc_constants.student_demographics_children,t._city="",t._class="",t._company="",t._country="",t._experience="",t._familiar_name="",t._instructor_name="",t._title="",t._native_language="",t._state="",t._street_address="",t._telephone="",t._years_experience="",t}return b.prototype.reset=function(){this._initialized=!1},Object.defineProperty(b.prototype,"_children",{get:function(){return this.__children},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"city",{get:function(){return this._city},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._city=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"class",{get:function(){return this._class},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._class=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"company",{get:function(){return this._company},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._company=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"country",{get:function(){return this._country},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._country=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"experience",{get:function(){return this._experience},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._experience=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"familiar_name",{get:function(){return this._familiar_name},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._familiar_name=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"instructor_name",{get:function(){return this._instructor_name},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._instructor_name=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"title",{get:function(){return this._title},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._title=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"native_language",{get:function(){return this._native_language},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._native_language=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this._state},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._state=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"street_address",{get:function(){return this._street_address},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._street_address=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"telephone",{get:function(){return this._telephone},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._telephone=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"years_experience",{get:function(){return this._years_experience},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._years_experience=t},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={city:this.city,class:this.class,company:this.company,country:this.country,experience:this.experience,familiar_name:this.familiar_name,instructor_name:this.instructor_name,title:this.title,native_language:this.native_language,state:this.state,street_address:this.street_address,telephone:this.telephone,years_experience:this.years_experience};return delete this.jsonString,t},b}(S.BaseCMI),L=a(434),C=function(z){(0,g.__extends)(b,z);function b(){return z.call(this,{children:n.aicc_constants.tries_children})||this}return b}(s.CMIArray),x=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this)||this;return t._status="",t._time="",t.score=new L.CMIScore({score_children:n.aicc_constants.score_children,score_range:u.aicc_regex.score_range,invalidErrorCode:T.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:T.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:T.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:p}),t}return b.prototype.initialize=function(){var t;z.prototype.initialize.call(this),(t=this.score)===null||t===void 0||t.initialize()},b.prototype.reset=function(){var t;this._initialized=!1,this._status="",this._time="",(t=this.score)===null||t===void 0||t.reset()},Object.defineProperty(b.prototype,"status",{get:function(){return this._status},set:function(t){c(t,u.aicc_regex.CMIStatus2)&&(this._status=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"time",{get:function(){return this._time},set:function(t){c(t,u.aicc_regex.CMITime)&&(this._time=t)},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={status:this.status,time:this.time,score:this.score};return delete this.jsonString,t},b}(S.BaseCMI),V=a(532),Y=function(z){(0,g.__extends)(b,z);function b(){return z.call(this,{children:n.aicc_constants.attempt_records_children})||this}return b}(s.CMIArray),G=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this)||this;return t._lesson_status="",t.score=new L.CMIScore({score_children:n.aicc_constants.score_children,score_range:u.aicc_regex.score_range,invalidErrorCode:T.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:T.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:T.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:p}),t}return b.prototype.initialize=function(){var t;z.prototype.initialize.call(this),this._lesson_status="",(t=this.score)===null||t===void 0||t.initialize()},b.prototype.reset=function(){var t;this._initialized=!1,(t=this.score)===null||t===void 0||t.reset()},Object.defineProperty(b.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(t){c(t,u.aicc_regex.CMIStatus2)&&(this._lesson_status=t)},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={lesson_status:this.lesson_status,score:this.score};return delete this.jsonString,t},b}(S.BaseCMI),$=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this,n.aicc_constants.student_data_children)||this;return t._tries_during_lesson="",t.tries=new C,t.attempt_records=new Y,t}return b.prototype.initialize=function(){var t,d;z.prototype.initialize.call(this),(t=this.tries)===null||t===void 0||t.initialize(),(d=this.attempt_records)===null||d===void 0||d.initialize()},b.prototype.reset=function(){var t,d;this._initialized=!1,(t=this.tries)===null||t===void 0||t.reset(!0),(d=this.attempt_records)===null||d===void 0||d.reset(!0)},Object.defineProperty(b.prototype,"tries_during_lesson",{get:function(){return this._tries_during_lesson},set:function(t){if(this.initialized)throw new p(T.scorm12_errors.READ_ONLY_ELEMENT);this._tries_during_lesson=t},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action,tries:this.tries,attempt_records:this.attempt_records};return delete this.jsonString,t},b}(V.CMIStudentData),X=function(z){(0,g.__extends)(b,z);function b(){return z.call(this,{children:n.aicc_constants.paths_children})||this}return b}(s.CMIArray),ie=function(z){(0,g.__extends)(b,z);function b(){var t=z.call(this)||this;return t._location_id="",t._date="",t._time="",t._status="",t._why_left="",t._time_in_element="",t}return b.prototype.reset=function(){this._initialized=!1,this._location_id="",this._date="",this._time="",this._status="",this._why_left="",this._time_in_element=""},Object.defineProperty(b.prototype,"location_id",{get:function(){return this._location_id},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._location_id=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"date",{get:function(){return this._date},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._date=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"time",{get:function(){return this._time},set:function(t){c(t,u.aicc_regex.CMITime)&&(this._time=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"status",{get:function(){return this._status},set:function(t){c(t,u.aicc_regex.CMIStatus2)&&(this._status=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"why_left",{get:function(){return this._why_left},set:function(t){c(t,u.aicc_regex.CMIString256)&&(this._why_left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"time_in_element",{get:function(){return this._time_in_element},set:function(t){c(t,u.aicc_regex.CMITime)&&(this._time_in_element=t)},enumerable:!1,configurable:!0}),b.prototype.toJSON=function(){this.jsonString=!0;var t={location_id:this.location_id,date:this.date,time:this.time,status:this.status,why_left:this.why_left,time_in_element:this.time_in_element};return delete this.jsonString,t},b}(S.BaseCMI),ne=function(z){(0,g.__extends)(b,z);function b(t){t===void 0&&(t=!1);var d=z.call(this,n.aicc_constants.cmi_children)||this;return t&&d.initialize(),d.student_preference=new _,d.student_data=new $,d.student_demographics=new O,d.evaluation=new f,d.paths=new X,d}return b.prototype.initialize=function(){var t,d,v,E,m;z.prototype.initialize.call(this),(t=this.student_preference)===null||t===void 0||t.initialize(),(d=this.student_data)===null||d===void 0||d.initialize(),(v=this.student_demographics)===null||v===void 0||v.initialize(),(E=this.evaluation)===null||E===void 0||E.initialize(),(m=this.paths)===null||m===void 0||m.initialize()},b.prototype.toJSON=function(){this.jsonString=!0;var t={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,student_demographics:this.student_demographics,interactions:this.interactions,evaluation:this.evaluation,paths:this.paths};return delete this.jsonString,t},b}(M.CMI),oe=a(331),te=a(864),Z=function(z){(0,g.__extends)(b,z);function b(t){var d=z.call(this,t)||this;return d.cmi=new ne,d.nav=new oe.NAV,d}return b.prototype.getChildElement=function(t,d,v){var E=z.prototype.getChildElement.call(this,t,d,v);return E||((0,te.stringMatches)(t,"cmi\\.evaluation\\.comments\\.\\d+")?E=new h:(0,te.stringMatches)(t,"cmi\\.student_data\\.tries\\.\\d+")?E=new x:(0,te.stringMatches)(t,"cmi\\.student_data\\.attempt_records\\.\\d+")?E=new G:(0,te.stringMatches)(t,"cmi\\.paths\\.\\d+")&&(E=new ie)),E},b.prototype.replaceWithAnotherScormAPI=function(t){this.cmi=t.cmi,this.nav=t.nav},b}(j.Scorm12Impl)},429:function(U,w,a){a.r(w),a.d(w,{default:function(){return T}});var g=a(635),j=a(589),M=a(784),n=a(340),s=a(864),A=a(56),R={autocommit:!1,autocommitSeconds:10,asyncCommit:!1,sendFullCommit:!0,lmsCommitUrl:!1,dataCommitFormat:"json",commitRequestDataType:"application/json;charset=UTF-8",autoProgress:!1,logLevel:A.LogLevelEnum.ERROR,selfReportSessionTime:!1,alwaysSendTotalTime:!1,renderCommonCommitFields:!1,strict_errors:!0,xhrHeaders:{},xhrWithCredentials:!1,fetchMode:"cors",responseHandler:function(I){return(0,g.__awaiter)(this,void 0,void 0,function(){var c,u;return(0,g.__generator)(this,function(f){switch(f.label){case 0:return typeof I=="undefined"?[3,2]:[4,I.text()];case 1:return c=f.sent(),u=null,c&&(u=JSON.parse(c)),u===null||!{}.hasOwnProperty.call(u,"result")?I.status===200?[2,{result:n.global_constants.SCORM_TRUE,errorCode:0}]:[2,{result:n.global_constants.SCORM_FALSE,errorCode:101}]:[2,{result:u.result,errorCode:u.errorCode?u.errorCode:u.result===n.global_constants.SCORM_TRUE?0:101}];case 2:return[2,{result:n.global_constants.SCORM_FALSE,errorCode:101}]}})})},requestHandler:function(I){return I},onLogMessage:function(I,c){switch(I){case"4":case 4:case"ERROR":case A.LogLevelEnum.ERROR:console.error(c);break;case"3":case 3:case"WARN":case A.LogLevelEnum.WARN:console.warn(c);break;case"2":case 2:case"INFO":case A.LogLevelEnum.INFO:console.info(c);break;case"1":case 1:case"DEBUG":case A.LogLevelEnum.DEBUG:console.debug?console.debug(c):console.log(c);break}},scoItemIds:[],scoItemIdValidator:!1,globalObjectiveIds:[]},p=function(){function I(c,u,f){this._cancelled=!1,this._API=c,this._timeout=setTimeout(this.wrapper.bind(this),u),this._callback=f}return I.prototype.cancel=function(){this._cancelled=!0,this._timeout&&clearTimeout(this._timeout)},I.prototype.wrapper=function(){var c=this;this._cancelled||function(){return(0,g.__awaiter)(c,void 0,void 0,function(){return(0,g.__generator)(this,function(u){switch(u.label){case 0:return[4,this._API.commit(this._callback)];case 1:return[2,u.sent()]}})})}()},I}(),S=function(){function I(c,u){var f=this.constructor;if(this._settings=R,f===I)throw new TypeError("Cannot construct BaseAPI instances directly");this.currentState=n.global_constants.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this._error_codes=c,u&&(this.settings=u),this.apiLogLevel=this.settings.logLevel,this.selfReportSessionTime=this.settings.selfReportSessionTime,this.apiLogLevel===void 0&&(this.apiLogLevel=A.LogLevelEnum.NONE)}return I.prototype.commonReset=function(c){this.apiLog("reset","Called",A.LogLevelEnum.INFO),this.settings=(0,g.__assign)((0,g.__assign)({},this.settings),c),this.clearScheduledCommit(),this.currentState=n.global_constants.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this.startingData=void 0},I.prototype.initialize=function(c,u,f){var i=n.global_constants.SCORM_FALSE;return this.isInitialized()?this.throwSCORMError(this._error_codes.INITIALIZED,u):this.isTerminated()?this.throwSCORMError(this._error_codes.TERMINATED,f):(this.selfReportSessionTime&&this.cmi.setStartTime(),this.currentState=n.global_constants.STATE_INITIALIZED,this.lastErrorCode="0",i=n.global_constants.SCORM_TRUE,this.processListeners(c)),this.apiLog(c,"returned: "+i,A.LogLevelEnum.INFO),this.clearSCORMError(i),i},I.prototype.apiLog=function(c,u,f,i){u=(0,s.formatMessage)(c,u,i),f>=this.apiLogLevel&&this.settings.onLogMessage(f,u)},Object.defineProperty(I.prototype,"error_codes",{get:function(){return this._error_codes},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"settings",{get:function(){return this._settings},set:function(c){this._settings=(0,g.__assign)((0,g.__assign)({},this._settings),c)},enumerable:!1,configurable:!0}),I.prototype.terminate=function(c,u){return(0,g.__awaiter)(this,void 0,void 0,function(){var f,i;return(0,g.__generator)(this,function(h){switch(h.label){case 0:return f=n.global_constants.SCORM_FALSE,this.checkState(u,this._error_codes.TERMINATION_BEFORE_INIT,this._error_codes.MULTIPLE_TERMINATION)?(this.currentState=n.global_constants.STATE_TERMINATED,[4,this.storeData(!0)]):[3,2];case 1:i=h.sent(),typeof i.errorCode!="undefined"&&i.errorCode>0&&this.throwSCORMError(i.errorCode),f=typeof i!="undefined"&&i.result?i.result:n.global_constants.SCORM_FALSE,u&&(this.lastErrorCode="0"),f=n.global_constants.SCORM_TRUE,this.processListeners(c),h.label=2;case 2:return this.apiLog(c,"returned: "+f,A.LogLevelEnum.INFO),this.clearSCORMError(f),[2,f]}})})},I.prototype.getValue=function(c,u,f){var i="";if(this.checkState(u,this._error_codes.RETRIEVE_BEFORE_INIT,this._error_codes.RETRIEVE_AFTER_TERM)){u&&(this.lastErrorCode="0");try{i=this.getCMIValue(f)}catch(h){i=this.handleValueAccessException(h,i)}this.processListeners(c,f)}return this.apiLog(c,": returned: "+i,A.LogLevelEnum.INFO,f),i===void 0?"":(this.clearSCORMError(i),i)},I.prototype.setValue=function(c,u,f,i,h){h!==void 0&&(h=String(h));var l=n.global_constants.SCORM_FALSE;if(this.checkState(f,this._error_codes.STORE_BEFORE_INIT,this._error_codes.STORE_AFTER_TERM)){f&&(this.lastErrorCode="0");try{l=this.setCMIValue(i,h)}catch(_){this.handleValueAccessException(_,l)}this.processListeners(c,i,h)}return l===void 0&&(l=n.global_constants.SCORM_FALSE),String(this.lastErrorCode)==="0"&&this.settings.autocommit&&this.scheduleCommit(this.settings.autocommitSeconds*1e3,u),this.apiLog(c,": "+h+": result: "+l,A.LogLevelEnum.INFO,i),this.clearSCORMError(l),l},I.prototype.commit=function(c){return(0,g.__awaiter)(this,arguments,void 0,function(u,f){var i,h;return f===void 0&&(f=!1),(0,g.__generator)(this,function(l){switch(l.label){case 0:return this.clearScheduledCommit(),i=n.global_constants.SCORM_FALSE,this.checkState(f,this._error_codes.COMMIT_BEFORE_INIT,this._error_codes.COMMIT_AFTER_TERM)?[4,this.storeData(!1)]:[3,2];case 1:h=l.sent(),h.errorCode&&h.errorCode>0&&this.throwSCORMError(h.errorCode),i=typeof h!="undefined"&&h.result?h.result:n.global_constants.SCORM_FALSE,this.apiLog(u," Result: "+i,A.LogLevelEnum.DEBUG,"HttpRequest"),f&&(this.lastErrorCode="0"),this.processListeners(u),l.label=2;case 2:return this.apiLog(u,"returned: "+i,A.LogLevelEnum.INFO),this.clearSCORMError(i),[2,i]}})})},I.prototype.getLastError=function(c){var u=String(this.lastErrorCode);return this.processListeners(c),this.apiLog(c,"returned: "+u,A.LogLevelEnum.INFO),u},I.prototype.getErrorString=function(c,u){var f="";return u!==null&&u!==""&&(f=this.getLmsErrorMessageDetails(u),this.processListeners(c)),this.apiLog(c,"returned: "+f,A.LogLevelEnum.INFO),f},I.prototype.getDiagnostic=function(c,u){var f="";return u!==null&&u!==""&&(f=this.getLmsErrorMessageDetails(u,!0),this.processListeners(c)),this.apiLog(c,"returned: "+f,A.LogLevelEnum.INFO),f},I.prototype.checkState=function(c,u,f){return this.isNotInitialized()?(this.throwSCORMError(u),!1):c&&this.isTerminated()?(this.throwSCORMError(f),!1):!0},I.prototype.getLmsErrorMessageDetails=function(c,u){throw new Error("The getLmsErrorMessageDetails method has not been implemented")},I.prototype.getCMIValue=function(c){throw new Error("The getCMIValue method has not been implemented")},I.prototype.setCMIValue=function(c,u){throw new Error("The setCMIValue method has not been implemented")},I.prototype._commonSetCMIValue=function(c,u,f,i){if(!f||f==="")return n.global_constants.SCORM_FALSE;for(var h=f.split("."),l=this,_=n.global_constants.SCORM_FALSE,O=!1,L="The data model element passed to ".concat(c," (").concat(f,") is not a valid SCORM data model element."),C=u?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,x=0;x<h.length;x++){var V=h[x];if(x===h.length-1)u&&V.substring(0,8)==="{target="?this.isInitialized()?this.throwSCORMError(this._error_codes.READ_ONLY_ELEMENT):l=(0,g.__assign)((0,g.__assign)({},l),{attribute:i}):this._checkObjectHasProperty(l,V)?((0,s.stringMatches)(f,"\\.correct_responses\\.\\d+")&&this.isInitialized()&&this.validateCorrectResponse(f,i),(!u||this.lastErrorCode==="0")&&(l[V]=i,_=n.global_constants.SCORM_TRUE)):this.throwSCORMError(C,L);else{if(l=l[V],!l){this.throwSCORMError(C,L);break}if(l instanceof j.CMIArray){var Y=parseInt(h[x+1],10);if(!isNaN(Y)){var G=l.childArray[Y];if(G)l=G,O=!0;else{var $=this.getChildElement(f,i,O);O=!0,$?(l.initialized&&$.initialize(),l.childArray.push($),l=$):this.throwSCORMError(C,L)}x++}}}}return _===n.global_constants.SCORM_FALSE&&this.apiLog(c,"There was an error setting the value for: ".concat(f,", value of: ").concat(i),A.LogLevelEnum.WARN),_},I.prototype._commonGetCMIValue=function(c,u,f){if(!f||f==="")return"";for(var i=f.split("."),h=this,l=null,_="The data model element passed to ".concat(c," (").concat(f,") has not been initialized."),O="The data model element passed to ".concat(c," (").concat(f,") is not a valid SCORM data model element."),L=u?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,C=0;C<i.length;C++){if(l=i[C],u){if(String(l).substring(0,8)==="{target="&&typeof h._isTargetValid=="function"){var x=String(l).substring(8,String(l).length-9);return h._isTargetValid(x)}else if(!this._checkObjectHasProperty(h,l)){this.throwSCORMError(L,O);return}}else if(C===i.length-1&&!this._checkObjectHasProperty(h,l)){this.throwSCORMError(L,O);return}if(h=h[l],h===void 0){this.throwSCORMError(L,O);break}if(h instanceof j.CMIArray){var V=parseInt(i[C+1],10);if(!isNaN(V)){var Y=h.childArray[V];if(Y)h=Y;else{this.throwSCORMError(this._error_codes.VALUE_NOT_INITIALIZED,_);break}C++}}}if(h==null)u||(l==="_children"?this.throwSCORMError(this._error_codes.CHILDREN_ERROR):l==="_count"&&this.throwSCORMError(this._error_codes.COUNT_ERROR));else return h},I.prototype.isInitialized=function(){return this.currentState===n.global_constants.STATE_INITIALIZED},I.prototype.isNotInitialized=function(){return this.currentState===n.global_constants.STATE_NOT_INITIALIZED},I.prototype.isTerminated=function(){return this.currentState===n.global_constants.STATE_TERMINATED},I.prototype.on=function(c,u){if(u)for(var f=c.split(" "),i=0;i<f.length;i++){var h=f[i].split(".");if(h.length===0)return;var l=h[0],_=null;h.length>1&&(_=c.replace(l+".","")),this.listenerArray.push({functionName:l,CMIElement:_,callback:u}),this.apiLog("on","Added event listener: ".concat(this.listenerArray.length),A.LogLevelEnum.INFO,l)}},I.prototype.off=function(c,u){if(u)for(var f=c.split(" "),i=function(O){var L=f[O].split(".");if(L.length===0)return{value:void 0};var C=L[0],x=null;L.length>1&&(x=c.replace(C+".",""));var V=h.listenerArray.findIndex(function(Y){return Y.functionName===C&&Y.CMIElement===x&&Y.callback===u});V!==-1&&(h.listenerArray.splice(V,1),h.apiLog("off","Removed event listener: ".concat(h.listenerArray.length),A.LogLevelEnum.INFO,C))},h=this,l=0;l<f.length;l++){var _=i(l);if(typeof _=="object")return _.value}},I.prototype.clear=function(c){for(var u=c.split(" "),f=function(_){var O=u[_].split(".");if(O.length===0)return{value:void 0};var L=O[0],C=null;O.length>1&&(C=c.replace(L+".","")),i.listenerArray=i.listenerArray.filter(function(x){return x.functionName!==L&&x.CMIElement!==C})},i=this,h=0;h<u.length;h++){var l=f(h);if(typeof l=="object")return l.value}},I.prototype.processListeners=function(c,u,f){this.apiLog(c,f,A.LogLevelEnum.INFO,u);for(var i=0;i<this.listenerArray.length;i++){var h=this.listenerArray[i],l=h.functionName===c,_=!!h.CMIElement,O=!1;u&&h.CMIElement&&h.CMIElement.substring(h.CMIElement.length-1)==="*"?O=u.indexOf(h.CMIElement.substring(0,h.CMIElement.length-1))===0:O=h.CMIElement===u,l&&(!_||O)&&(this.apiLog("processListeners","Processing listener: ".concat(h.functionName),A.LogLevelEnum.INFO,u),h.callback(u,f))}},I.prototype.throwSCORMError=function(c,u){u||(u=this.getLmsErrorMessageDetails(c)),this.apiLog("throwSCORMError",c+": "+u,A.LogLevelEnum.ERROR),this.lastErrorCode=String(c)},I.prototype.clearSCORMError=function(c){c!==void 0&&c!==n.global_constants.SCORM_FALSE&&(this.lastErrorCode="0")},I.prototype.loadFromFlattenedJSON=function(c,u){var f=this;if(u||(u=""),!this.isNotInitialized()){console.error("loadFromFlattenedJSON can only be called before the call to lmsInitialize.");return}function i(L,C,x){var V=L.match(x),Y;if(V!==null&&(Y=C.match(x))!==null){var G=Number(V[2]),$=Number(Y[2]);return G===$?V[3]==="id"?-1:V[3]==="type"?Y[3]==="id"?1:-1:1:G-$}return null}var h=/^(cmi\.interactions\.)(\d+)\.(.*)$/,l=/^(cmi\.objectives\.)(\d+)\.(.*)$/,_=Object.keys(c).map(function(L){return[String(L),c[L]]});_.sort(function(L,C){var x=L[0];L[1];var V=C[0];C[1];var Y;return(Y=i(x,V,h))!==null||(Y=i(x,V,l))!==null?Y:x<V?-1:x>V?1:0});var O;_.forEach(function(L){O={},O[L[0]]=L[1],f.loadFromJSON((0,s.unflatten)(O),u)})},I.prototype.loadFromJSON=function(c,u){if(u===void 0&&(u=""),!this.isNotInitialized()){console.error("loadFromJSON can only be called before the call to lmsInitialize.");return}u=u!==void 0?u:"cmi",this.startingData=c;for(var f in c)if({}.hasOwnProperty.call(c,f)&&c[f]){var i=(u?u+".":"")+f,h=c[f];if(h.childArray)for(var l=0;l<h.childArray.length;l++)this.loadFromJSON(h.childArray[l],i+"."+l);else h.constructor===Object?this.loadFromJSON(h,i):this.setCMIValue(i,h)}},I.prototype.renderCMIToJSONString=function(){var c=this.cmi;return this.settings.sendFullCommit?JSON.stringify({cmi:c}):JSON.stringify({cmi:c},function(u,f){return f===void 0?null:f},2)},I.prototype.renderCMIToJSONObject=function(){return JSON.parse(this.renderCMIToJSONString())},I.prototype.processHttpRequest=function(c,u){return(0,g.__awaiter)(this,arguments,void 0,function(f,i,h){var l,_,O,L=this;return h===void 0&&(h=!1),(0,g.__generator)(this,function(C){switch(C.label){case 0:return l=this,_={result:n.global_constants.SCORM_FALSE,errorCode:this.error_codes.GENERAL},h?(this.performFetch(f,i).then(function(x){return(0,g.__awaiter)(L,void 0,void 0,function(){return(0,g.__generator)(this,function(V){switch(V.label){case 0:return[4,this.transformResponse(x)];case 1:return V.sent(),[2]}})})}),[2,{result:n.global_constants.SCORM_TRUE,errorCode:0}]):(O=function(x,V,Y){return(0,g.__awaiter)(L,void 0,void 0,function(){var G,$;return(0,g.__generator)(this,function(X){switch(X.label){case 0:return X.trys.push([0,2,,3]),V=Y.requestHandler(V),[4,this.performFetch(x,V)];case 1:return G=X.sent(),[2,this.transformResponse(G)];case 2:return $=X.sent(),this.apiLog("processHttpRequest",$,A.LogLevelEnum.ERROR),l.processListeners("CommitError"),[2,_];case 3:return[2]}})})},[4,O(f,i,this.settings)]);case 1:return[2,C.sent()]}})})},I.prototype.scheduleCommit=function(c,u){this._timeout||(this._timeout=new p(this,c,u),this.apiLog("scheduleCommit","scheduled",A.LogLevelEnum.DEBUG,""))},I.prototype.clearScheduledCommit=function(){this._timeout&&(this._timeout.cancel(),this._timeout=void 0,this.apiLog("clearScheduledCommit","cleared",A.LogLevelEnum.DEBUG,""))},I.prototype._checkObjectHasProperty=function(c,u){return Object.hasOwnProperty.call(c,u)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(c),u)!=null||u in c},I.prototype.handleValueAccessException=function(c,u){return c instanceof M.ValidationError?(this.lastErrorCode=String(c.errorCode),u=n.global_constants.SCORM_FALSE):(c instanceof Error&&c.message?console.error(c.message):console.error(c),this.throwSCORMError(this._error_codes.GENERAL)),u},I.prototype.getCommitObject=function(c){var u=c||this.settings.alwaysSendTotalTime,f=this.settings.renderCommonCommitFields?this.renderCommitObject(u):this.renderCommitCMI(u);return[A.LogLevelEnum.DEBUG,"1",1,"DEBUG"].includes(this.apiLogLevel)&&(console.debug("Commit (terminated: "+(c?"yes":"no")+"): "),console.debug(f)),f},I.prototype.performFetch=function(c,u){return(0,g.__awaiter)(this,void 0,void 0,function(){return(0,g.__generator)(this,function(f){return[2,fetch(c,{method:"POST",mode:this.settings.fetchMode,body:u instanceof Array?u.join("&"):JSON.stringify(u),headers:(0,g.__assign)((0,g.__assign)({},this.settings.xhrHeaders),{"Content-Type":this.settings.commitRequestDataType}),credentials:this.settings.xhrWithCredentials?"include":void 0,keepalive:!0})]})})},I.prototype.transformResponse=function(c){return(0,g.__awaiter)(this,void 0,void 0,function(){var u,f;return(0,g.__generator)(this,function(i){switch(i.label){case 0:return typeof this.settings.responseHandler!="function"?[3,2]:[4,this.settings.responseHandler(c)];case 1:return f=i.sent(),[3,4];case 2:return[4,c.json()];case 3:f=i.sent(),i.label=4;case 4:return u=f,c.status>=200&&c.status<=299&&(u.result===!0||u.result===n.global_constants.SCORM_TRUE)?this.processListeners("CommitSuccess"):this.processListeners("CommitError"),[2,u]}})})},I}(),T=S},941:function(U,w,a){a.r(w),a.d(w,{Scorm12Impl:function(){return c}});var g=a(635),j=a(989),M=a(864),n=a(340),s=a(797),A=a(176),R=a(833),p=a(331),S=a(56),T=a(429),I=a(417),c=function(u){(0,g.__extends)(f,u);function f(i){var h=this;return i&&i.mastery_override===void 0&&(i.mastery_override=!1),h=u.call(this,s.scorm12_errors,i)||this,h.statusSetByModule=!1,h.cmi=new j.CMI,h.nav=new p.NAV,h.LMSInitialize=h.lmsInitialize,h.LMSFinish=h.lmsFinish,h.LMSGetValue=h.lmsGetValue,h.LMSSetValue=h.lmsSetValue,h.LMSCommit=h.lmsCommit,h.LMSGetLastError=h.lmsGetLastError,h.LMSGetErrorString=h.lmsGetErrorString,h.LMSGetDiagnostic=h.lmsGetDiagnostic,h}return f.prototype.reset=function(i){var h,l;this.commonReset(i),(h=this.cmi)===null||h===void 0||h.reset(),(l=this.nav)===null||l===void 0||l.reset()},f.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.cmi.core.lesson_status?this.statusSetByModule=!0:this.cmi.core.lesson_status="not attempted",this.initialize("LMSInitialize","LMS was already initialized!","LMS is already finished!")},f.prototype.lmsFinish=function(){var i=this;return function(){return(0,g.__awaiter)(i,void 0,void 0,function(){return(0,g.__generator)(this,function(h){switch(h.label){case 0:return[4,this.internalFinish()];case 1:return h.sent(),[2]}})})}(),n.global_constants.SCORM_TRUE},f.prototype.internalFinish=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var i;return(0,g.__generator)(this,function(h){switch(h.label){case 0:return[4,this.terminate("LMSFinish",!0)];case 1:return i=h.sent(),i===n.global_constants.SCORM_TRUE&&(this.nav.event!==""?this.nav.event==="continue"?this.processListeners("SequenceNext"):this.processListeners("SequencePrevious"):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,i]}})})},f.prototype.lmsGetValue=function(i){return this.getValue("LMSGetValue",!1,i)},f.prototype.lmsSetValue=function(i,h){return i==="cmi.core.lesson_status"&&(this.statusSetByModule=!0),this.setValue("LMSSetValue","LMSCommit",!1,i,h)},f.prototype.lmsCommit=function(){var i=this;return this.settings.asyncCommit?this.scheduleCommit(500,"LMSCommit"):function(){return(0,g.__awaiter)(i,void 0,void 0,function(){return(0,g.__generator)(this,function(h){switch(h.label){case 0:return[4,this.commit("LMSCommit",!1)];case 1:return h.sent(),[2]}})})}(),n.global_constants.SCORM_TRUE},f.prototype.lmsGetLastError=function(){return this.getLastError("LMSGetLastError")},f.prototype.lmsGetErrorString=function(i){return this.getErrorString("LMSGetErrorString",i)},f.prototype.lmsGetDiagnostic=function(i){return this.getDiagnostic("LMSGetDiagnostic",i)},f.prototype.setCMIValue=function(i,h){return this._commonSetCMIValue("LMSSetValue",!1,i,h)},f.prototype.getCMIValue=function(i){return this._commonGetCMIValue("getCMIValue",!1,i)},f.prototype.getChildElement=function(i,h,l){return(0,M.stringMatches)(i,"cmi\\.objectives\\.\\d+")?new A.CMIObjectivesObject:l&&(0,M.stringMatches)(i,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+")?new R.CMIInteractionsCorrectResponsesObject:l&&(0,M.stringMatches)(i,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+")?new R.CMIInteractionsObjectivesObject:!l&&(0,M.stringMatches)(i,"cmi\\.interactions\\.\\d+")?new R.CMIInteractionsObject:null},f.prototype.validateCorrectResponse=function(i,h){},f.prototype.getLmsErrorMessageDetails=function(i,h){var l="No Error",_="No Error";return i=String(i),n.scorm12_constants.error_descriptions[i]&&(l=n.scorm12_constants.error_descriptions[i].basicMessage,_=n.scorm12_constants.error_descriptions[i].detailMessage),h?_:l},f.prototype.replaceWithAnotherScormAPI=function(i){this.cmi=i.cmi},f.prototype.renderCommitCMI=function(i){var h=this.renderCMIToJSONObject();i&&(h.cmi.core.total_time=this.cmi.getCurrentTotalTime());var l=[],_=M.flatten(h);switch(this.settings.dataCommitFormat){case"flattened":return M.flatten(h);case"params":for(var O in _)({}).hasOwnProperty.call(_,O)&&l.push("".concat(O,"=").concat(_[O]));return l;case"json":default:return h}},f.prototype.renderCommitObject=function(i){var h=this.renderCommitCMI(i),l=this.cmi.getCurrentTotalTime(),_=M.getTimeAsSeconds(l,I.scorm12_regex.CMITimespan),O=this.cmi.core.lesson_status,L=S.CompletionStatus.unknown,C=S.SuccessStatus.unknown;O&&(L=O==="completed"||O==="passed"?S.CompletionStatus.completed:S.CompletionStatus.incomplete,O==="passed"?C=S.SuccessStatus.passed:O==="failed"&&(C=S.SuccessStatus.failed));var x=this.cmi.core.score,V=null;x&&(V={},Number.isNaN(Number.parseFloat(x.raw))||(V.raw=Number.parseFloat(x.raw)),Number.isNaN(Number.parseFloat(x.min))||(V.min=Number.parseFloat(x.min)),Number.isNaN(Number.parseFloat(x.max))||(V.max=Number.parseFloat(x.max)));var Y={successStatus:C,completionStatus:L,runtimeData:h,totalTimeSeconds:_};return V&&(Y.score=V),Y},f.prototype.storeData=function(i){return(0,g.__awaiter)(this,void 0,void 0,function(){var h,l,_,O,L;return(0,g.__generator)(this,function(C){switch(C.label){case 0:return i&&(h=this.cmi.core.lesson_status,(!this.cmi.core.lesson_status||!this.statusSetByModule&&this.cmi.core.lesson_status==="not attempted")&&(this.cmi.core.lesson_status="completed"),this.cmi.core.lesson_mode==="normal"?this.cmi.core.credit==="credit"&&this.settings.mastery_override&&this.cmi.student_data.mastery_score!==""&&this.cmi.core.score.raw!==""&&(this.cmi.core.lesson_status=parseFloat(this.cmi.core.score.raw)>=parseFloat(this.cmi.student_data.mastery_score)?"passed":"failed"):this.cmi.core.lesson_mode==="browse"&&(((L=(O=(_=this.startingData)===null||_===void 0?void 0:_.cmi)===null||O===void 0?void 0:O.core)===null||L===void 0?void 0:L.lesson_status)||"")===""&&h==="not attempted"&&(this.cmi.core.lesson_status="browsed")),l=this.getCommitObject(i),typeof this.settings.lmsCommitUrl!="string"?[3,2]:[4,this.processHttpRequest(this.settings.lmsCommitUrl,l,i)];case 1:return[2,C.sent()];case 2:return[2,{result:n.global_constants.SCORM_TRUE,errorCode:0}]}})})},f}(T.default)},809:function(U,w,a){a.r(w),a.d(w,{Scorm2004Impl:function(){return E}});var g=a(635),j=a(429),M=a(340),n=a(417),s=a(797),A=a(784),R=M.scorm2004_constants.error_descriptions,p=function(m){(0,g.__extends)(r,m);function r(e){var o=this;return{}.hasOwnProperty.call(R,String(e))?o=m.call(this,e,R[String(e)].basicMessage,R[String(e)].detailMessage)||this:o=m.call(this,101,R[101].basicMessage,R[101].detailMessage)||this,o}return r}(A.ValidationError),S=a(864),T=a(319),I=a(449);function c(m,r,e){return(0,I.checkValidFormat)(m,r,s.scorm2004_errors.TYPE_MISMATCH,p,e)}function u(m,r){return(0,I.checkValidRange)(m,r,s.scorm2004_errors.VALUE_OUT_OF_RANGE,p)}var f=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e.__children=M.scorm2004_constants.student_preference_children,e._audio_level="1",e._language="",e._delivery_speed="1",e._audio_captioning="0",e}return r.prototype.reset=function(){this._initialized=!1},Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"audio_level",{get:function(){return this._audio_level},set:function(e){c(e,n.scorm2004_regex.CMIDecimal)&&u(e,n.scorm2004_regex.audio_range)&&(this._audio_level=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"language",{get:function(){return this._language},set:function(e){c(e,n.scorm2004_regex.CMILang)&&(this._language=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delivery_speed",{get:function(){return this._delivery_speed},set:function(e){c(e,n.scorm2004_regex.CMIDecimal)&&u(e,n.scorm2004_regex.speed_range)&&(this._delivery_speed=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"audio_captioning",{get:function(){return this._audio_captioning},set:function(e){c(e,n.scorm2004_regex.CMISInteger)&&u(e,n.scorm2004_regex.text_range)&&(this._audio_captioning=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={audio_level:this.audio_level,language:this.language,delivery_speed:this.delivery_speed,audio_captioning:this.audio_captioning};return delete this.jsonString,e},r}(T.BaseCMI),i=a(589),h={"true-false":{format:"^true$|^false$",max:1,delimiter:"",unique:!1},choice:{format:n.scorm2004_regex.CMILongIdentifier,max:36,delimiter:"[,]",unique:!0},"fill-in":{format:n.scorm2004_regex.CMILangString250,max:10,delimiter:"[,]",unique:!1},"long-fill-in":{format:n.scorm2004_regex.CMILangString4000,max:1,delimiter:"",unique:!1},matching:{format:n.scorm2004_regex.CMIShortIdentifier,format2:n.scorm2004_regex.CMIShortIdentifier,max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1},performance:{format:"^$|"+n.scorm2004_regex.CMIShortIdentifier,format2:n.scorm2004_regex.CMIDecimal+"|^$|"+n.scorm2004_regex.CMIShortIdentifier,max:250,delimiter:"[,]",delimiter2:"[.]",unique:!1},sequencing:{format:n.scorm2004_regex.CMIShortIdentifier,max:36,delimiter:"[,]",unique:!1},likert:{format:n.scorm2004_regex.CMIShortIdentifier,max:1,delimiter:"",unique:!1},numeric:{format:n.scorm2004_regex.CMIDecimal,max:1,delimiter:"",unique:!1},other:{format:n.scorm2004_regex.CMIString4000,max:1,delimiter:"",unique:!1}},l={"true-false":{max:1,delimiter:"",unique:!1,duplicate:!1,format:"^true$|^false$",limit:1},choice:{max:36,delimiter:"[,]",unique:!0,duplicate:!1,format:n.scorm2004_regex.CMILongIdentifier},"fill-in":{max:10,delimiter:"[,]",unique:!1,duplicate:!1,format:n.scorm2004_regex.CMILangString250cr},"long-fill-in":{max:1,delimiter:"",unique:!1,duplicate:!0,format:n.scorm2004_regex.CMILangString4000},matching:{max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1,duplicate:!1,format:n.scorm2004_regex.CMIShortIdentifier,format2:n.scorm2004_regex.CMIShortIdentifier},performance:{max:250,delimiter:"[,]",delimiter2:"[.]",delimiter3:"[:]",unique:!1,duplicate:!1,format:"^$|"+n.scorm2004_regex.CMIShortIdentifier,format2:n.scorm2004_regex.CMIDecimal+"|^$|"+n.scorm2004_regex.CMIShortIdentifier},sequencing:{max:36,delimiter:"[,]",unique:!1,duplicate:!1,format:n.scorm2004_regex.CMIShortIdentifier},likert:{max:1,delimiter:"",unique:!1,duplicate:!1,format:n.scorm2004_regex.CMIShortIdentifier,limit:1},numeric:{max:2,delimiter:"[:]",unique:!1,duplicate:!1,format:n.scorm2004_regex.CMIDecimal,limit:1},other:{max:1,delimiter:"",unique:!1,duplicate:!1,format:n.scorm2004_regex.CMIString4000,limit:1}},_=function(m){(0,g.__extends)(r,m);function r(){return m.call(this,{children:M.scorm2004_constants.interactions_children,errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p})||this}return r}(i.CMIArray),O=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._id="",e._type="",e._timestamp="",e._weighting="",e._learner_response="",e._result="",e._latency="",e._description="",e.objectives=new i.CMIArray({errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p,children:M.scorm2004_constants.objectives_children}),e.correct_responses=new i.CMIArray({errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p,children:M.scorm2004_constants.correct_responses_children}),e}return r.prototype.initialize=function(){var e,o;m.prototype.initialize.call(this),(e=this.objectives)===null||e===void 0||e.initialize(),(o=this.correct_responses)===null||o===void 0||o.initialize()},r.prototype.reset=function(){this._initialized=!1,this._id="",this._type="",this._timestamp="",this._weighting="",this._learner_response="",this._result="",this._latency="",this._description="",this.objectives=new i.CMIArray({errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p,children:M.scorm2004_constants.objectives_children}),this.correct_responses=new i.CMIArray({errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p,children:M.scorm2004_constants.correct_responses_children})},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},set:function(e){c(e,n.scorm2004_regex.CMILongIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this._type},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMIType)&&(this._type=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timestamp",{get:function(){return this._timestamp},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMITime)&&(this._timestamp=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"weighting",{get:function(){return this._weighting},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMIDecimal)&&(this._weighting=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"learner_response",{get:function(){return this._learner_response},set:function(e){if(this.initialized&&(this._type===""||this._id===""))throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);var o=[],N=h[this.type];if(N){if(N!=null&&N.delimiter?o=e.split(N.delimiter):o[0]=e,o.length>0&&o.length<=N.max)for(var y=new RegExp(N.format),P=0;P<o.length;P++)if(N!=null&&N.delimiter2){var D=o[P].split(N.delimiter2);if(D.length===2)if(D[0].match(y)){if(!N.format2||!D[1].match(new RegExp(N.format2)))throw new p(s.scorm2004_errors.TYPE_MISMATCH)}else throw new p(s.scorm2004_errors.TYPE_MISMATCH);else throw new p(s.scorm2004_errors.TYPE_MISMATCH)}else if(o[P].match(y)){if(o[P]!==""&&N.unique){for(var B=0;B<P;B++)if(o[P]===o[B])throw new p(s.scorm2004_errors.TYPE_MISMATCH)}}else throw new p(s.scorm2004_errors.TYPE_MISMATCH);else throw new p(s.scorm2004_errors.GENERAL_SET_FAILURE);this._learner_response=e}else throw new p(s.scorm2004_errors.TYPE_MISMATCH)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"result",{get:function(){return this._result},set:function(e){c(e,n.scorm2004_regex.CMIResult)&&(this._result=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"latency",{get:function(){return this._latency},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMITimespan)&&(this._latency=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"description",{get:function(){return this._description},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMILangString250,!0)&&(this._description=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this.id,type:this.type,objectives:this.objectives,timestamp:this.timestamp,weighting:this.weighting,learner_response:this.learner_response,result:this.result,latency:this.latency,description:this.description,correct_responses:this.correct_responses};return delete this.jsonString,e},r}(T.BaseCMI),L=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._id="",e}return r.prototype.reset=function(){this._initialized=!1,this._id=""},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},set:function(e){c(e,n.scorm2004_regex.CMILongIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this.id};return delete this.jsonString,e},r}(T.BaseCMI),C=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._pattern="",e}return r.prototype.reset=function(){this._initialized=!1,this._pattern=""},Object.defineProperty(r.prototype,"pattern",{get:function(){return this._pattern},set:function(e){c(e,n.scorm2004_regex.CMIFeedback)&&(this._pattern=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={pattern:this.pattern};return delete this.jsonString,e},r}(T.BaseCMI),x=a(434),V=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this,{score_children:M.scorm2004_constants.score_children,max:"",invalidErrorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,invalidTypeCode:s.scorm2004_errors.TYPE_MISMATCH,invalidRangeCode:s.scorm2004_errors.VALUE_OUT_OF_RANGE,decimalRegex:n.scorm2004_regex.CMIDecimal,errorClass:p})||this;return e._scaled="",e}return r.prototype.reset=function(){this._initialized=!1,this._scaled="",this._raw="",this._min="",this._max=""},Object.defineProperty(r.prototype,"scaled",{get:function(){return this._scaled},set:function(e){c(e,n.scorm2004_regex.CMIDecimal)&&u(e,n.scorm2004_regex.scaled_range)&&(this._scaled=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={scaled:this.scaled,raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,e},r}(x.CMIScore),Y=function(m){(0,g.__extends)(r,m);function r(){return m.call(this,{children:M.scorm2004_constants.comments_children,errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p})||this}return r}(i.CMIArray),G=function(m){(0,g.__extends)(r,m);function r(){return m.call(this,{children:M.scorm2004_constants.comments_children,errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p})||this}return r}(i.CMIArray),$=function(m){(0,g.__extends)(r,m);function r(e){e===void 0&&(e=!1);var o=m.call(this)||this;return o._comment="",o._location="",o._timestamp="",o._comment="",o._location="",o._timestamp="",o._readOnlyAfterInit=e,o}return r.prototype.reset=function(){this._initialized=!1},Object.defineProperty(r.prototype,"comment",{get:function(){return this._comment},set:function(e){if(this.initialized&&this._readOnlyAfterInit)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);c(e,n.scorm2004_regex.CMILangString4000,!0)&&(this._comment=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"location",{get:function(){return this._location},set:function(e){if(this.initialized&&this._readOnlyAfterInit)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);c(e,n.scorm2004_regex.CMIString250)&&(this._location=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timestamp",{get:function(){return this._timestamp},set:function(e){if(this.initialized&&this._readOnlyAfterInit)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);c(e,n.scorm2004_regex.CMITime)&&(this._timestamp=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={comment:this.comment,location:this.location,timestamp:this.timestamp};return delete this.jsonString,e},r}(T.BaseCMI),X=function(m){(0,g.__extends)(r,m);function r(){return m.call(this,{children:M.scorm2004_constants.objectives_children,errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p})||this}return r.prototype.findObjectiveById=function(e){return this.childArray.find(function(o){return o.id===e})},r.prototype.findObjectiveByIndex=function(e){return this.childArray[e]},r.prototype.setObjectiveByIndex=function(e,o){this.childArray[e]=o},r}(i.CMIArray),ie=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._id="",e._success_status="unknown",e._completion_status="unknown",e._progress_measure="",e._description="",e.score=new V,e}return r.prototype.reset=function(){this._initialized=!1},r.prototype.initialize=function(){var e;m.prototype.initialize.call(this),(e=this.score)===null||e===void 0||e.initialize()},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},set:function(e){c(e,n.scorm2004_regex.CMILongIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"success_status",{get:function(){return this._success_status},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMISStatus)&&(this._success_status=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"completion_status",{get:function(){return this._completion_status},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMICStatus)&&(this._completion_status=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"progress_measure",{get:function(){return this._progress_measure},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMIDecimal)&&u(e,n.scorm2004_regex.progress_range)&&(this._progress_measure=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"description",{get:function(){return this._description},set:function(e){if(this.initialized&&this._id==="")throw new p(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);c(e,n.scorm2004_regex.CMILangString250,!0)&&(this._description=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this.id,success_status:this.success_status,completion_status:this.completion_status,progress_measure:this.progress_measure,description:this.description,score:this.score};return delete this.jsonString,e},r}(T.BaseCMI),ne=function(m){(0,g.__extends)(r,m);function r(e){e===void 0&&(e=!1);var o=m.call(this)||this;return o.__version="1.0",o.__children=M.scorm2004_constants.cmi_children,o._completion_status="unknown",o._completion_threshold="",o._credit="credit",o._entry="",o._exit="",o._launch_data="",o._learner_id="",o._learner_name="",o._location="",o._max_time_allowed="",o._mode="normal",o._progress_measure="",o._scaled_passing_score="",o._session_time="PT0H0M0S",o._success_status="unknown",o._suspend_data="",o._time_limit_action="continue,no message",o._total_time="",o.learner_preference=new f,o.score=new V,o.comments_from_learner=new G,o.comments_from_lms=new Y,o.interactions=new _,o.objectives=new X,e&&o.initialize(),o}return r.prototype.initialize=function(){var e,o,N,y,P,D;m.prototype.initialize.call(this),(e=this.learner_preference)===null||e===void 0||e.initialize(),(o=this.score)===null||o===void 0||o.initialize(),(N=this.comments_from_learner)===null||N===void 0||N.initialize(),(y=this.comments_from_lms)===null||y===void 0||y.initialize(),(P=this.interactions)===null||P===void 0||P.initialize(),(D=this.objectives)===null||D===void 0||D.initialize()},r.prototype.reset=function(){var e,o,N,y,P,D;this._initialized=!1,this._completion_status="incomplete",this._exit="",this._session_time="PT0H0M0S",this._progress_measure="",this._location="",(e=this.objectives)===null||e===void 0||e.reset(!1),(o=this.interactions)===null||o===void 0||o.reset(!0),(N=this.score)===null||N===void 0||N.reset(),(y=this.comments_from_learner)===null||y===void 0||y.reset(),(P=this.comments_from_lms)===null||P===void 0||P.reset(),(D=this.learner_preference)===null||D===void 0||D.reset()},Object.defineProperty(r.prototype,"_version",{get:function(){return this.__version},set:function(e){throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"completion_status",{get:function(){return this._completion_status},set:function(e){c(e,n.scorm2004_regex.CMICStatus)&&(this._completion_status=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"completion_threshold",{get:function(){return this._completion_threshold},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._completion_threshold=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"credit",{get:function(){return this._credit},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._credit=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"entry",{get:function(){return this._entry},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._entry=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"exit",{get:function(){if(!this.jsonString)throw new p(s.scorm2004_errors.WRITE_ONLY_ELEMENT);return this._exit},set:function(e){c(e,n.scorm2004_regex.CMIExit,!0)&&(this._exit=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"launch_data",{get:function(){return this._launch_data},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._launch_data=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"learner_id",{get:function(){return this._learner_id},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._learner_id=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"learner_name",{get:function(){return this._learner_name},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._learner_name=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"location",{get:function(){return this._location},set:function(e){c(e,n.scorm2004_regex.CMIString1000)&&(this._location=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._max_time_allowed=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._mode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"progress_measure",{get:function(){return this._progress_measure},set:function(e){c(e,n.scorm2004_regex.CMIDecimal)&&u(e,n.scorm2004_regex.progress_range)&&(this._progress_measure=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaled_passing_score",{get:function(){return this._scaled_passing_score},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._scaled_passing_score=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"session_time",{get:function(){if(!this.jsonString)throw new p(s.scorm2004_errors.WRITE_ONLY_ELEMENT);return this._session_time},set:function(e){c(e,n.scorm2004_regex.CMITimespan)&&(this._session_time=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"success_status",{get:function(){return this._success_status},set:function(e){c(e,n.scorm2004_regex.CMISStatus)&&(this._success_status=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(e){c(e,n.scorm2004_regex.CMIString64000,!0)&&(this._suspend_data=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._time_limit_action=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"total_time",{get:function(){return this._total_time},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);this._total_time=e},enumerable:!1,configurable:!0}),r.prototype.getCurrentTotalTime=function(){var e=this._session_time,o=this.start_time;if(typeof o!="undefined"&&o!==null){var N=new Date().getTime()-o;e=S.getSecondsAsISODuration(N/1e3)}return S.addTwoDurations(this._total_time,e,n.scorm2004_regex.CMITimespan)},r.prototype.toJSON=function(){this.jsonString=!0;var e={comments_from_learner:this.comments_from_learner,comments_from_lms:this.comments_from_lms,completion_status:this.completion_status,completion_threshold:this.completion_threshold,credit:this.credit,entry:this.entry,exit:this.exit,interactions:this.interactions,launch_data:this.launch_data,learner_id:this.learner_id,learner_name:this.learner_name,learner_preference:this.learner_preference,location:this.location,max_time_allowed:this.max_time_allowed,mode:this.mode,objectives:this.objectives,progress_measure:this.progress_measure,scaled_passing_score:this.scaled_passing_score,score:this.score,session_time:this.session_time,success_status:this.success_status,suspend_data:this.suspend_data,time_limit_action:this.time_limit_action};return delete this.jsonString,e},r}(T.BaseRootCMI),oe=["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","aar","abk","ave","afr","aka","amh","arg","ara","asm","ava","aym","aze","bak","bel","bul","bih","bis","bam","ben","tib","bod","bre","bos","cat","che","cha","cos","cre","cze","ces","chu","chv","wel","cym","dan","ger","deu","div","dzo","ewe","gre","ell","eng","epo","spa","est","baq","eus","per","fas","ful","fin","fij","fao","fre","fra","fry","gle","gla","glg","grn","guj","glv","hau","heb","hin","hmo","hrv","hat","hun","arm","hye","her","ina","ind","ile","ibo","iii","ipk","ido","ice","isl","ita","iku","jpn","jav","geo","kat","kon","kik","kua","kaz","kal","khm","kan","kor","kau","kas","kur","kom","cor","kir","lat","ltz","lug","lim","lin","lao","lit","lub","lav","mlg","mah","mao","mri","mac","mkd","mal","mon","mol","mar","may","msa","mlt","bur","mya","nau","nob","nde","nep","ndo","dut","nld","nno","nor","nbl","nav","nya","oci","oji","orm","ori","oss","pan","pli","pol","pus","por","que","roh","run","rum","ron","rus","kin","san","srd","snd","sme","sag","slo","sin","slk","slv","smo","sna","som","alb","sqi","srp","ssw","sot","sun","swe","swa","tam","tel","tgk","tha","tir","tuk","tgl","tsn","ton","tur","tso","tat","twi","tah","uig","ukr","urd","uzb","ven","vie","vol","wln","wol","xho","yid","yor","zha","chi","zho","zul"],te=oe,Z=a(56),z=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e.data=new t,e.nav=new b,e.data=new t,e}return r.prototype.initialize=function(){var e;m.prototype.initialize.call(this),(e=this.nav)===null||e===void 0||e.initialize()},r.prototype.reset=function(){var e;this._initialized=!1,(e=this.nav)===null||e===void 0||e.reset()},r.prototype.toJSON=function(){this.jsonString=!0;var e={nav:this.nav,data:this.data};return delete this.jsonString,e},r}(T.BaseCMI),b=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._request="_none_",e.request_valid=new v,e}return r.prototype.initialize=function(){var e;m.prototype.initialize.call(this),(e=this.request_valid)===null||e===void 0||e.initialize()},r.prototype.reset=function(){var e;this._initialized=!1,this._request="_none_",(e=this.request_valid)===null||e===void 0||e.reset()},Object.defineProperty(r.prototype,"request",{get:function(){return this._request},set:function(e){c(e,n.scorm2004_regex.NAVEvent)&&(this._request=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={request:this.request};return delete this.jsonString,e},r}(T.BaseCMI),t=function(m){(0,g.__extends)(r,m);function r(){return m.call(this,{children:M.scorm2004_constants.adl_data_children,errorCode:s.scorm2004_errors.READ_ONLY_ELEMENT,errorClass:p})||this}return r}(i.CMIArray),d=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._id="",e._store="",e}return r.prototype.reset=function(){this._initialized=!1},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},set:function(e){c(e,n.scorm2004_regex.CMILongIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"store",{get:function(){return this._store},set:function(e){c(e,n.scorm2004_regex.CMILangString4000)&&(this._store=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this._id,store:this._store};return delete this.jsonString,e},r}(T.BaseCMI),v=function(m){(0,g.__extends)(r,m);function r(){var e=m.call(this)||this;return e._continue="unknown",e._previous="unknown",e._choice={},e._jump={},e}return r.prototype.reset=function(){this._initialized=!1,this._continue="unknown",this._previous="unknown"},Object.defineProperty(r.prototype,"continue",{get:function(){return this._continue},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);c(e,n.scorm2004_regex.NAVBoolean)&&(this._continue=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"previous",{get:function(){return this._previous},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);c(e,n.scorm2004_regex.NAVBoolean)&&(this._previous=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choice",{get:function(){return this._choice},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);if(typeof e!="object")throw new p(s.scorm2004_errors.TYPE_MISMATCH);for(var o in e)({}).hasOwnProperty.call(e,o)&&c(e[o],n.scorm2004_regex.NAVBoolean)&&c(o,n.scorm2004_regex.NAVTarget)&&(this._choice[o]=Z.NAVBoolean[e[o]])},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"jump",{get:function(){return this._jump},set:function(e){if(this.initialized)throw new p(s.scorm2004_errors.READ_ONLY_ELEMENT);if(typeof e!="object")throw new p(s.scorm2004_errors.TYPE_MISMATCH);for(var o in e)({}).hasOwnProperty.call(e,o)&&c(e[o],n.scorm2004_regex.NAVBoolean)&&c(o,n.scorm2004_regex.NAVTarget)&&(this._jump[o]=Z.NAVBoolean[e[o]])},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={previous:this._previous,continue:this._continue,choice:this._choice,jump:this._jump};return delete this.jsonString,e},r}(T.BaseCMI),E=function(m){(0,g.__extends)(r,m);function r(e){var o=this;return e&&e.mastery_override===void 0&&(e.mastery_override=!1),o=m.call(this,s.scorm2004_errors,e)||this,o._version="1.0",o._globalObjectives=[],o.cmi=new ne,o.adl=new z,o.Initialize=o.lmsInitialize,o.Terminate=o.lmsFinish,o.GetValue=o.lmsGetValue,o.SetValue=o.lmsSetValue,o.Commit=o.lmsCommit,o.GetLastError=o.lmsGetLastError,o.GetErrorString=o.lmsGetErrorString,o.GetDiagnostic=o.lmsGetDiagnostic,o}return r.prototype.reset=function(e){var o,N;this.commonReset(e),(o=this.cmi)===null||o===void 0||o.reset(),(N=this.adl)===null||N===void 0||N.reset()},Object.defineProperty(r.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"globalObjectives",{get:function(){return this._globalObjectives},enumerable:!1,configurable:!0}),r.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.initialize("Initialize")},r.prototype.lmsFinish=function(){var e=this;return function(){return(0,g.__awaiter)(e,void 0,void 0,function(){return(0,g.__generator)(this,function(o){switch(o.label){case 0:return[4,this.internalFinish()];case 1:return o.sent(),[2]}})})}(),M.global_constants.SCORM_TRUE},r.prototype.internalFinish=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var e,o,N,y,P,D,B,F,W,H,K;return(0,g.__generator)(this,function(k){switch(k.label){case 0:return[4,this.terminate("Terminate",!0)];case 1:return e=k.sent(),e===M.global_constants.SCORM_TRUE&&(this.adl.nav.request!=="_none_"?(o={continue:"SequenceNext",previous:"SequencePrevious",choice:"SequenceChoice",jump:"SequenceJump",exit:"SequenceExit",exitAll:"SequenceExitAll",abandon:"SequenceAbandon",abandonAll:"SequenceAbandonAll"},N=this.adl.nav.request,y=new RegExp(n.scorm2004_regex.NAVEvent),P=N.match(y),D="",P&&(!((F=P.groups)===null||F===void 0)&&F.choice_target?(D=(W=P.groups)===null||W===void 0?void 0:W.choice_target,N="choice"):!((H=P.groups)===null||H===void 0)&&H.jump_target&&(D=(K=P.groups)===null||K===void 0?void 0:K.jump_target,N="jump")),B=o[N],B&&this.processListeners(B,"adl.nav.request",D)):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,e]}})})},r.prototype.lmsGetValue=function(e){var o="^adl\\.nav\\.request_valid\\.(choice|jump)\\.{target=\\S{0,}([a-zA-Z0-9-_]+)}$";if((0,S.stringMatches)(e,o)){var N=e.match(o),y=N[1],P=N[2].replace("{target=","").replace("}","");if(y==="choice"||y==="jump")return this.settings.scoItemIdValidator?String(this.settings.scoItemIdValidator(P)):String(this.settings.scoItemIds.includes(P))}return this.getValue("GetValue",!0,e)},r.prototype.lmsSetValue=function(e,o){return this.setValue("SetValue","Commit",!0,e,o)},r.prototype.lmsCommit=function(){var e=this;return this.settings.asyncCommit?this.scheduleCommit(500,"LMSCommit"):function(){return(0,g.__awaiter)(e,void 0,void 0,function(){return(0,g.__generator)(this,function(o){switch(o.label){case 0:return[4,this.commit("LMSCommit",!1)];case 1:return o.sent(),[2]}})})}(),M.global_constants.SCORM_TRUE},r.prototype.lmsGetLastError=function(){return this.getLastError("GetLastError")},r.prototype.lmsGetErrorString=function(e){return this.getErrorString("GetErrorString",e)},r.prototype.lmsGetDiagnostic=function(e){return this.getDiagnostic("GetDiagnostic",e)},r.prototype.setCMIValue=function(e,o){if((0,S.stringMatches)(e,"cmi\\.objectives\\.\\d+")){var N=e.split("."),y=Number(N[2]),P="cmi.objectives.".concat(y),D,B=(0,S.stringMatches)(e,"cmi\\.objectives\\.\\d+\\.id");if(B)D=o;else{var F=this.cmi.objectives.findObjectiveByIndex(y);D=F?F.id:void 0}var W=D&&this.settings.globalObjectiveIds.includes(D);if(W){var H=this._globalObjectives.findIndex(function(Ie){return Ie.id===D});if(H===-1){H=this._globalObjectives.length;var K=new ie;K.id=D,this._globalObjectives.push(K)}var k=e.replace(P,"_globalObjectives.".concat(H));this._commonSetCMIValue("SetGlobalObjectiveValue",!0,k,o)}}return this._commonSetCMIValue("SetValue",!0,e,o)},r.prototype.getChildElement=function(e,o,N){if((0,S.stringMatches)(e,"cmi\\.objectives\\.\\d+"))return new ie;if(N){if((0,S.stringMatches)(e,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+"))return this.createCorrectResponsesObject(e,o);if((0,S.stringMatches)(e,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+"))return new L}else if((0,S.stringMatches)(e,"cmi\\.interactions\\.\\d+"))return new O;return(0,S.stringMatches)(e,"cmi\\.comments_from_learner\\.\\d+")?new $:(0,S.stringMatches)(e,"cmi\\.comments_from_lms\\.\\d+")?new $(!0):(0,S.stringMatches)(e,"adl\\.data\\.\\d+")?new d:null},r.prototype.createCorrectResponsesObject=function(e,o){var N=e.split("."),y=Number(N[2]),P=this.cmi.interactions.childArray[y];if(this.isInitialized())if(!P.type)this.throwSCORMError(s.scorm2004_errors.DEPENDENCY_NOT_ESTABLISHED);else{this.checkDuplicateChoiceResponse(P,o);var D=l[P.type];D?this.checkValidResponseType(D,o,P.type):this.throwSCORMError(s.scorm2004_errors.GENERAL_SET_FAILURE,"Incorrect Response Type: "+P.type)}return this.lastErrorCode==="0"?new C:null},r.prototype.checkValidResponseType=function(e,o,N){var y=[];e!=null&&e.delimiter?y=String(o).split(e.delimiter):y[0]=o,y.length>0&&y.length<=e.max?this.checkCorrectResponseValue(N,y,o):y.length>e.max&&this.throwSCORMError(s.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Pattern Too Long")},r.prototype.checkDuplicateChoiceResponse=function(e,o){var N=e.correct_responses._count;if(e.type==="choice")for(var y=0;y<N&&this.lastErrorCode==="0";y++){var P=e.correct_responses.childArray[y];P.pattern===o&&this.throwSCORMError(s.scorm2004_errors.GENERAL_SET_FAILURE)}},r.prototype.validateCorrectResponse=function(e,o){var N=e.split("."),y=Number(N[2]),P=Number(N[4]),D=this.cmi.interactions.childArray[y],B=D.correct_responses._count;this.checkDuplicateChoiceResponse(D,o);var F=l[D.type];typeof F.limit=="undefined"||B<=F.limit?(this.checkValidResponseType(F,o,D.type),this.lastErrorCode==="0"&&(!F.duplicate||!this.checkDuplicatedPattern(D.correct_responses,P,o))||this.lastErrorCode==="0"&&o===""||this.lastErrorCode==="0"&&this.throwSCORMError(s.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Pattern Already Exists")):this.throwSCORMError(s.scorm2004_errors.GENERAL_SET_FAILURE,"Data Model Element Collection Limit Reached")},r.prototype.getCMIValue=function(e){return this._commonGetCMIValue("GetValue",!0,e)},r.prototype.getLmsErrorMessageDetails=function(e,o){var N="",y="";return e=String(e),M.scorm2004_constants.error_descriptions[e]&&(N=M.scorm2004_constants.error_descriptions[e].basicMessage,y=M.scorm2004_constants.error_descriptions[e].detailMessage),o?y:N},r.prototype.checkDuplicatedPattern=function(e,o,N){for(var y=!1,P=e._count,D=0;D<P&&!y;D++)D!==o&&e.childArray[D]===N&&(y=!0);return y},r.prototype.checkCorrectResponseValue=function(e,o,N){for(var y=l[e],P=new RegExp(y.format),D=0;D<o.length&&this.lastErrorCode==="0";D++)if(e.match("^(fill-in|long-fill-in|matching|performance|sequencing)$")&&(o[D]=this.removeCorrectResponsePrefixes(o[D])),y!=null&&y.delimiter2){var B=o[D].split(y.delimiter2);if(B.length===2){var F=B[0].match(P);F?(!y.format2||!B[1].match(new RegExp(y.format2)))&&this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH):this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH)}else this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH)}else{var F=o[D].match(P);if(!F&&N!==""||!F&&e==="true-false")this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH);else if(e==="numeric"&&o.length>1)Number(o[0])>Number(o[1])&&this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH);else if(o[D]!==""&&y.unique)for(var W=0;W<D&&this.lastErrorCode==="0";W++)o[D]===o[W]&&this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH)}},r.prototype.removeCorrectResponsePrefixes=function(e){for(var o=!1,N=!1,y=!1,P=new RegExp("^({(lang|case_matters|order_matters)=([^}]+)})"),D=e.match(P),B=null;D;){switch(D[2]){case"lang":if(B=e.match(n.scorm2004_regex.CMILangcr),B){var F=B[3];F!==void 0&&F.length>0&&(te.includes(F.toLowerCase())||this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH))}y=!0;break;case"case_matters":!y&&!o&&!N&&D[3]!=="true"&&D[3]!=="false"&&this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH),N=!0;break;case"order_matters":!N&&!y&&!o&&D[3]!=="true"&&D[3]!=="false"&&this.throwSCORMError(s.scorm2004_errors.TYPE_MISMATCH),o=!0;break}e=e.substring(D[1].length),D=e.match(P)}return e},r.prototype.replaceWithAnotherScormAPI=function(e){this.cmi=e.cmi,this.adl=e.adl},r.prototype.renderCommitCMI=function(e){var o=this.renderCMIToJSONObject();e&&(o.cmi.total_time=this.cmi.getCurrentTotalTime());var N=[],y=S.flatten(o);switch(this.settings.dataCommitFormat){case"flattened":return S.flatten(o);case"params":for(var P in y)({}).hasOwnProperty.call(y,P)&&N.push("".concat(P,"=").concat(y[P]));return N;case"json":default:return o}},r.prototype.renderCommitObject=function(e){var o=this.renderCommitCMI(e),N=this.cmi.getCurrentTotalTime(),y=S.getDurationAsSeconds(N,n.scorm2004_regex.CMITimespan),P=Z.CompletionStatus.unknown,D=Z.SuccessStatus.unknown;this.cmi.completion_status&&(this.cmi.completion_status==="completed"?P=Z.CompletionStatus.completed:this.cmi.completion_status==="incomplete"&&(P=Z.CompletionStatus.incomplete)),this.cmi.success_status&&(this.cmi.success_status==="passed"?D=Z.SuccessStatus.passed:this.cmi.success_status==="failed"&&(D=Z.SuccessStatus.failed));var B=this.cmi.score,F=null;B&&(F={},Number.isNaN(Number.parseFloat(B.raw))||(F.raw=Number.parseFloat(B.raw)),Number.isNaN(Number.parseFloat(B.min))||(F.min=Number.parseFloat(B.min)),Number.isNaN(Number.parseFloat(B.max))||(F.max=Number.parseFloat(B.max)),Number.isNaN(Number.parseFloat(B.scaled))||(F.scaled=Number.parseFloat(B.scaled)));var W={completionStatus:P,successStatus:D,totalTimeSeconds:y,runtimeData:o};return F&&(W.score=F),W},r.prototype.storeData=function(e){return(0,g.__awaiter)(this,void 0,void 0,function(){var o,N,y,P,D,B;return(0,g.__generator)(this,function(F){switch(F.label){case 0:return e&&this.cmi.mode==="normal"&&this.cmi.credit==="credit"&&(this.cmi.completion_threshold&&this.cmi.progress_measure&&(this.cmi.progress_measure>=this.cmi.completion_threshold?this.cmi.completion_status="completed":this.cmi.completion_status="incomplete"),this.cmi.scaled_passing_score&&this.cmi.score.scaled&&(this.cmi.score.scaled>=this.cmi.scaled_passing_score?this.cmi.success_status="passed":this.cmi.success_status="failed")),o=!1,this.adl.nav.request!==((B=(D=(P=this.startingData)===null||P===void 0?void 0:P.adl)===null||D===void 0?void 0:D.nav)===null||B===void 0?void 0:B.request)&&this.adl.nav.request!=="_none_"&&(o=!0),N=this.getCommitObject(e),typeof this.settings.lmsCommitUrl!="string"?[3,2]:[4,this.processHttpRequest(this.settings.lmsCommitUrl,N,e)];case 1:return y=F.sent(),o&&y.navRequest!==void 0&&y.navRequest!==""&&Function('"use strict";(() => { '.concat(y.navRequest," })()"))(),[2,y];case 2:return[2,{result:M.global_constants.SCORM_TRUE,errorCode:0}]}})})},r}(j.default)},589:function(U,w,a){a.r(w),a.d(w,{CMIArray:function(){return s}});var g=a(635),j=a(319),M=a(784),n=a(797),s=function(A){(0,g.__extends)(R,A);function R(p){var S=A.call(this)||this;return S.__children=p.children,S._errorCode=p.errorCode||n.scorm12_errors.GENERAL,S._errorClass=p.errorClass||M.BaseScormValidationError,S.childArray=[],S}return R.prototype.reset=function(p){if(p===void 0&&(p=!1),this._initialized=!1,p)this.childArray=[];else for(var S=0;S<this.childArray.length;S++)this.childArray[S].reset()},Object.defineProperty(R.prototype,"_children",{get:function(){return this.__children},set:function(p){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"_count",{get:function(){return this.childArray.length},set:function(p){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),R.prototype.toJSON=function(){this.jsonString=!0;for(var p={},S=0;S<this.childArray.length;S++)p[S+""]=this.childArray[S];return delete this.jsonString,p},R}(j.BaseCMI)},319:function(U,w,a){a.r(w),a.d(w,{BaseCMI:function(){return j},BaseRootCMI:function(){return M}});var g=a(635),j=function(){function n(){this.jsonString=!1,this._initialized=!1}return Object.defineProperty(n.prototype,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"start_time",{get:function(){return this._start_time},enumerable:!1,configurable:!0}),n.prototype.initialize=function(){this._initialized=!0},n.prototype.setStartTime=function(){this._start_time=new Date().getTime()},n}(),M=function(n){(0,g.__extends)(s,n);function s(){return n!==null&&n.apply(this,arguments)||this}return s}(j)},434:function(U,w,a){a.r(w),a.d(w,{CMIScore:function(){return R}});var g=a(635),j=a(340),M=a(417),n=a(319),s=a(449),A=a(797),R=function(p){(0,g.__extends)(S,p);function S(T){var I=p.call(this)||this;return I._raw="",I._min="",I.__children=T.score_children||j.scorm12_constants.score_children,I.__score_range=T.score_range?M.scorm12_regex.score_range:!1,I._max=T.max||T.max===""?T.max:"100",I.__invalid_error_code=T.invalidErrorCode||A.scorm12_errors.INVALID_SET_VALUE,I.__invalid_type_code=T.invalidTypeCode||A.scorm12_errors.TYPE_MISMATCH,I.__invalid_range_code=T.invalidRangeCode||A.scorm12_errors.VALUE_OUT_OF_RANGE,I.__decimal_regex=T.decimalRegex||M.scorm12_regex.CMIDecimal,I.__error_class=T.errorClass,I}return S.prototype.reset=function(){this._initialized=!1},Object.defineProperty(S.prototype,"_children",{get:function(){return this.__children},set:function(T){throw new this.__error_class(this.__invalid_error_code)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"raw",{get:function(){return this._raw},set:function(T){(0,s.checkValidFormat)(T,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,s.checkValidRange)(T,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._raw=T)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"min",{get:function(){return this._min},set:function(T){(0,s.checkValidFormat)(T,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,s.checkValidRange)(T,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._min=T)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"max",{get:function(){return this._max},set:function(T){(0,s.checkValidFormat)(T,this.__decimal_regex,this.__invalid_type_code,this.__error_class)&&(!this.__score_range||(0,s.checkValidRange)(T,this.__score_range,this.__invalid_range_code,this.__error_class))&&(this._max=T)},enumerable:!1,configurable:!0}),S.prototype.toJSON=function(){this.jsonString=!0;var T={raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,T},S}(n.BaseCMI)},449:function(U,w,a){a.r(w),a.d(w,{checkValidFormat:function(){return g},checkValidRange:function(){return j}});function g(M,n,s,A,R){if(typeof M!="string")return!1;var p=new RegExp(n),S=M.match(p);if(R&&M==="")return!0;if(M===void 0||!S||S[0]==="")throw new A(s);return!0}function j(M,n,s,A){var R=n.split("#");if(M=M*1,M>=R[0]){if(R[1]==="*"||M<=R[1])return!0;throw new A(s)}else throw new A(s)}},989:function(U,w,a){a.r(w),a.d(w,{CMI:function(){return i}});var g=a(635),j=a(340),M=a(797),n=a(417),s=a(179),A=a(319),R=a(915),p=a(434),S=a(864),T=function(h){(0,g.__extends)(l,h);function l(){var _=h.call(this)||this;return _.__children=j.scorm12_constants.core_children,_._student_id="",_._student_name="",_._lesson_location="",_._credit="",_._lesson_status="not attempted",_._entry="",_._total_time="",_._lesson_mode="normal",_._exit="",_._session_time="00:00:00",_._suspend_data="",_.score=new p.CMIScore({score_children:j.scorm12_constants.score_children,score_range:n.scorm12_regex.score_range,invalidErrorCode:M.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:M.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:M.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:s.Scorm12ValidationError}),_}return l.prototype.initialize=function(){var _;h.prototype.initialize.call(this),(_=this.score)===null||_===void 0||_.initialize()},l.prototype.reset=function(){var _;this._initialized=!1,this._exit="",this._entry="",this._session_time="00:00:00",(_=this.score)===null||_===void 0||_.reset()},Object.defineProperty(l.prototype,"_children",{get:function(){return this.__children},set:function(_){throw new s.Scorm12ValidationError(M.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"student_id",{get:function(){return this._student_id},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._student_id=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"student_name",{get:function(){return this._student_name},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._student_name=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lesson_location",{get:function(){return this._lesson_location},set:function(_){(0,R.check12ValidFormat)(_,n.scorm12_regex.CMIString256,!0)&&(this._lesson_location=_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"credit",{get:function(){return this._credit},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._credit=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(_){this.initialized?(0,R.check12ValidFormat)(_,n.scorm12_regex.CMIStatus)&&(this._lesson_status=_):(0,R.check12ValidFormat)(_,n.scorm12_regex.CMIStatus2)&&(this._lesson_status=_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"entry",{get:function(){return this._entry},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._entry=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"total_time",{get:function(){return this._total_time},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._total_time=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lesson_mode",{get:function(){return this._lesson_mode},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._lesson_mode=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(M.scorm12_errors.WRITE_ONLY_ELEMENT);return this._exit},set:function(_){(0,R.check12ValidFormat)(_,n.scorm12_regex.CMIExit,!0)&&(this._exit=_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"session_time",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(M.scorm12_errors.WRITE_ONLY_ELEMENT);return this._session_time},set:function(_){(0,R.check12ValidFormat)(_,n.scorm12_regex.CMITimespan)&&(this._session_time=_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(_){(0,R.check12ValidFormat)(_,n.scorm12_regex.CMIString4096,!0)&&(this._suspend_data=_)},enumerable:!1,configurable:!0}),l.prototype.getCurrentTotalTime=function(_){var O=this._session_time,L=_;if(typeof L!="undefined"&&L!==null){var C=new Date().getTime()-L;O=S.getSecondsAsHHMMSS(C/1e3)}return S.addHHMMSSTimeStrings(this._total_time,O,new RegExp(n.scorm12_regex.CMITimespan))},l.prototype.toJSON=function(){this.jsonString=!0;var _={student_id:this.student_id,student_name:this.student_name,lesson_location:this.lesson_location,credit:this.credit,lesson_status:this.lesson_status,entry:this.entry,lesson_mode:this.lesson_mode,exit:this.exit,session_time:this.session_time,score:this.score};return delete this.jsonString,_},l}(A.BaseCMI),I=a(176),c=a(532),u=a(181),f=a(833),i=function(h){(0,g.__extends)(l,h);function l(_,O,L){var C=h.call(this)||this;return C.__children="",C.__version="3.4",C._launch_data="",C._comments="",C._comments_from_lms="",L&&C.initialize(),C.__children=_||j.scorm12_constants.cmi_children,C.core=new T,C.objectives=new I.CMIObjectives,C.student_data=O||new c.CMIStudentData,C.student_preference=new u.CMIStudentPreference,C.interactions=new f.CMIInteractions,C}return l.prototype.reset=function(){var _,O,L;this._initialized=!1,this._launch_data="",this._comments="",(_=this.core)===null||_===void 0||_.reset(),this.objectives=new I.CMIObjectives,this.interactions=new f.CMIInteractions,(O=this.student_data)===null||O===void 0||O.reset(),(L=this.student_preference)===null||L===void 0||L.reset()},l.prototype.initialize=function(){var _,O,L,C,x;h.prototype.initialize.call(this),(_=this.core)===null||_===void 0||_.initialize(),(O=this.objectives)===null||O===void 0||O.initialize(),(L=this.student_data)===null||L===void 0||L.initialize(),(C=this.student_preference)===null||C===void 0||C.initialize(),(x=this.interactions)===null||x===void 0||x.initialize()},l.prototype.toJSON=function(){this.jsonString=!0;var _={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,interactions:this.interactions};return delete this.jsonString,_},Object.defineProperty(l.prototype,"_version",{get:function(){return this.__version},set:function(_){throw new s.Scorm12ValidationError(M.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_children",{get:function(){return this.__children},set:function(_){throw new s.Scorm12ValidationError(M.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"suspend_data",{get:function(){var _;return(_=this.core)===null||_===void 0?void 0:_.suspend_data},set:function(_){this.core&&(this.core.suspend_data=_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"launch_data",{get:function(){return this._launch_data},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._launch_data=_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"comments",{get:function(){return this._comments},set:function(_){(0,R.check12ValidFormat)(_,n.scorm12_regex.CMIString4096,!0)&&(this._comments=_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"comments_from_lms",{get:function(){return this._comments_from_lms},set:function(_){if(this.initialized)throw new s.Scorm12ValidationError(M.scorm12_errors.READ_ONLY_ELEMENT);this._comments_from_lms=_},enumerable:!1,configurable:!0}),l.prototype.getCurrentTotalTime=function(){return this.core.getCurrentTotalTime(this.start_time)},l}(A.BaseRootCMI)},833:function(U,w,a){a.r(w),a.d(w,{CMIInteractions:function(){return S},CMIInteractionsCorrectResponsesObject:function(){return c},CMIInteractionsObject:function(){return T},CMIInteractionsObjectivesObject:function(){return I}});var g=a(635),j=a(589),M=a(340),n=a(797),s=a(179),A=a(319),R=a(915),p=a(417),S=function(u){(0,g.__extends)(f,u);function f(){return u.call(this,{children:M.scorm12_constants.interactions_children,errorCode:n.scorm12_errors.INVALID_SET_VALUE,errorClass:s.Scorm12ValidationError})||this}return f}(j.CMIArray),T=function(u){(0,g.__extends)(f,u);function f(){var i=u.call(this)||this;return i._id="",i._time="",i._type="",i._weighting="",i._student_response="",i._result="",i._latency="",i.objectives=new j.CMIArray({errorCode:n.scorm12_errors.INVALID_SET_VALUE,errorClass:s.Scorm12ValidationError,children:M.scorm12_constants.objectives_children}),i.correct_responses=new j.CMIArray({errorCode:n.scorm12_errors.INVALID_SET_VALUE,errorClass:s.Scorm12ValidationError,children:M.scorm12_constants.correct_responses_children}),i}return f.prototype.initialize=function(){var i,h;u.prototype.initialize.call(this),(i=this.objectives)===null||i===void 0||i.initialize(),(h=this.correct_responses)===null||h===void 0||h.initialize()},f.prototype.reset=function(){var i,h;this._initialized=!1,this._id="",this._time="",this._type="",this._weighting="",this._student_response="",this._result="",this._latency="",(i=this.objectives)===null||i===void 0||i.reset(),(h=this.correct_responses)===null||h===void 0||h.reset()},Object.defineProperty(f.prototype,"id",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._id},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIIdentifier)&&(this._id=i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"time",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._time},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMITime)&&(this._time=i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"type",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._type},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIType)&&(this._type=i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"weighting",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._weighting},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIDecimal)&&(0,R.check12ValidRange)(i,p.scorm12_regex.weighting_range)&&(this._weighting=i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"student_response",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._student_response},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIFeedback,!0)&&(this._student_response=i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"result",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._result},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIResult)&&(this._result=i)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"latency",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._latency},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMITimespan)&&(this._latency=i)},enumerable:!1,configurable:!0}),f.prototype.toJSON=function(){this.jsonString=!0;var i={id:this.id,time:this.time,type:this.type,weighting:this.weighting,student_response:this.student_response,result:this.result,latency:this.latency,objectives:this.objectives,correct_responses:this.correct_responses};return delete this.jsonString,i},f}(A.BaseCMI),I=function(u){(0,g.__extends)(f,u);function f(){var i=u.call(this)||this;return i._id="",i}return f.prototype.reset=function(){this._initialized=!1,this._id=""},Object.defineProperty(f.prototype,"id",{get:function(){return this._id},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIIdentifier)&&(this._id=i)},enumerable:!1,configurable:!0}),f.prototype.toJSON=function(){this.jsonString=!0;var i={id:this.id};return delete this.jsonString,i},f}(A.BaseCMI),c=function(u){(0,g.__extends)(f,u);function f(){var i=u.call(this)||this;return i._pattern="",i}return f.prototype.reset=function(){this._initialized=!1,this._pattern=""},Object.defineProperty(f.prototype,"pattern",{get:function(){if(!this.jsonString)throw new s.Scorm12ValidationError(n.scorm12_errors.WRITE_ONLY_ELEMENT);return this._pattern},set:function(i){(0,R.check12ValidFormat)(i,p.scorm12_regex.CMIFeedback,!0)&&(this._pattern=i)},enumerable:!1,configurable:!0}),f.prototype.toJSON=function(){this.jsonString=!0;var i={pattern:this._pattern};return delete this.jsonString,i},f}(A.BaseCMI)},331:function(U,w,a){a.r(w),a.d(w,{NAV:function(){return s}});var g=a(635),j=a(319),M=a(915),n=a(417),s=function(A){(0,g.__extends)(R,A);function R(){var p=A.call(this)||this;return p._event="",p}return R.prototype.reset=function(){this._event="",this._initialized=!1},Object.defineProperty(R.prototype,"event",{get:function(){return this._event},set:function(p){(0,M.check12ValidFormat)(p,n.scorm12_regex.NAVEvent)&&(this._event=p)},enumerable:!1,configurable:!0}),R.prototype.toJSON=function(){this.jsonString=!0;var p={event:this.event};return delete this.jsonString,p},R}(j.BaseCMI)},176:function(U,w,a){a.r(w),a.d(w,{CMIObjectives:function(){return T},CMIObjectivesObject:function(){return I}});var g=a(635),j=a(319),M=a(434),n=a(340),s=a(417),A=a(797),R=a(179),p=a(915),S=a(589),T=function(c){(0,g.__extends)(u,c);function u(){return c.call(this,{children:n.scorm12_constants.objectives_children,errorCode:A.scorm12_errors.INVALID_SET_VALUE,errorClass:R.Scorm12ValidationError})||this}return u}(S.CMIArray),I=function(c){(0,g.__extends)(u,c);function u(){var f=c.call(this)||this;return f._id="",f._status="",f.score=new M.CMIScore({score_children:n.scorm12_constants.score_children,score_range:s.scorm12_regex.score_range,invalidErrorCode:A.scorm12_errors.INVALID_SET_VALUE,invalidTypeCode:A.scorm12_errors.TYPE_MISMATCH,invalidRangeCode:A.scorm12_errors.VALUE_OUT_OF_RANGE,errorClass:R.Scorm12ValidationError}),f}return u.prototype.reset=function(){var f;this._initialized=!1,this._id="",this._status="",(f=this.score)===null||f===void 0||f.reset()},Object.defineProperty(u.prototype,"id",{get:function(){return this._id},set:function(f){(0,p.check12ValidFormat)(f,s.scorm12_regex.CMIIdentifier)&&(this._id=f)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"status",{get:function(){return this._status},set:function(f){(0,p.check12ValidFormat)(f,s.scorm12_regex.CMIStatus2)&&(this._status=f)},enumerable:!1,configurable:!0}),u.prototype.toJSON=function(){this.jsonString=!0;var f={id:this.id,status:this.status,score:this.score};return delete this.jsonString,f},u}(j.BaseCMI)},532:function(U,w,a){a.r(w),a.d(w,{CMIStudentData:function(){return A}});var g=a(635),j=a(319),M=a(340),n=a(179),s=a(797),A=function(R){(0,g.__extends)(p,R);function p(S){var T=R.call(this)||this;return T._mastery_score="",T._max_time_allowed="",T._time_limit_action="",T.__children=S||M.scorm12_constants.student_data_children,T}return p.prototype.reset=function(){this._initialized=!1},Object.defineProperty(p.prototype,"_children",{get:function(){return this.__children},set:function(S){throw new n.Scorm12ValidationError(s.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"mastery_score",{get:function(){return this._mastery_score},set:function(S){if(this.initialized)throw new n.Scorm12ValidationError(s.scorm12_errors.READ_ONLY_ELEMENT);this._mastery_score=S},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(S){if(this.initialized)throw new n.Scorm12ValidationError(s.scorm12_errors.READ_ONLY_ELEMENT);this._max_time_allowed=S},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(S){if(this.initialized)throw new n.Scorm12ValidationError(s.scorm12_errors.READ_ONLY_ELEMENT);this._time_limit_action=S},enumerable:!1,configurable:!0}),p.prototype.toJSON=function(){this.jsonString=!0;var S={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action};return delete this.jsonString,S},p}(j.BaseCMI)},181:function(U,w,a){a.r(w),a.d(w,{CMIStudentPreference:function(){return p}});var g=a(635),j=a(319),M=a(340),n=a(179),s=a(915),A=a(417),R=a(797),p=function(S){(0,g.__extends)(T,S);function T(I){var c=S.call(this)||this;return c._audio="",c._language="",c._speed="",c._text="",c.__children=I||M.scorm12_constants.student_preference_children,c}return T.prototype.reset=function(){this._initialized=!1},Object.defineProperty(T.prototype,"_children",{get:function(){return this.__children},set:function(I){throw new n.Scorm12ValidationError(R.scorm12_errors.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"audio",{get:function(){return this._audio},set:function(I){(0,s.check12ValidFormat)(I,A.scorm12_regex.CMISInteger)&&(0,s.check12ValidRange)(I,A.scorm12_regex.audio_range)&&(this._audio=I)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"language",{get:function(){return this._language},set:function(I){(0,s.check12ValidFormat)(I,A.scorm12_regex.CMIString256)&&(this._language=I)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"speed",{get:function(){return this._speed},set:function(I){(0,s.check12ValidFormat)(I,A.scorm12_regex.CMISInteger)&&(0,s.check12ValidRange)(I,A.scorm12_regex.speed_range)&&(this._speed=I)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"text",{get:function(){return this._text},set:function(I){(0,s.check12ValidFormat)(I,A.scorm12_regex.CMISInteger)&&(0,s.check12ValidRange)(I,A.scorm12_regex.text_range)&&(this._text=I)},enumerable:!1,configurable:!0}),T.prototype.toJSON=function(){this.jsonString=!0;var I={audio:this.audio,language:this.language,speed:this.speed,text:this.text};return delete this.jsonString,I},T}(j.BaseCMI)},915:function(U,w,a){a.r(w),a.d(w,{check12ValidFormat:function(){return n},check12ValidRange:function(){return s}});var g=a(449),j=a(797),M=a(179);function n(A,R,p){return(0,g.checkValidFormat)(A,R,j.scorm12_errors.TYPE_MISMATCH,M.Scorm12ValidationError,p)}function s(A,R,p){if(!p&&A==="")throw new M.Scorm12ValidationError(j.scorm12_errors.VALUE_OUT_OF_RANGE);return(0,g.checkValidRange)(A,R,j.scorm12_errors.VALUE_OUT_OF_RANGE,M.Scorm12ValidationError)}},340:function(U,w,a){a.r(w),a.d(w,{aicc_constants:function(){return n},global_constants:function(){return j},scorm12_constants:function(){return M},scorm2004_constants:function(){return s}});var g=a(635),j={SCORM_TRUE:"true",SCORM_FALSE:"false",STATE_NOT_INITIALIZED:0,STATE_INITIALIZED:1,STATE_TERMINATED:2},M={cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions",core_children:"student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time",score_children:"raw,min,max",comments_children:"content,location,time",objectives_children:"id,score,status",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio,language,speed,text",interactions_children:"id,objectives,time,type,correct_responses,weighting,student_response,result,latency",error_descriptions:{101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use LMSGetDiagnostic for more information"},201:{basicMessage:"Invalid argument error",detailMessage:"Indicates that an argument represents an invalid data model element or is otherwise incorrect."},202:{basicMessage:"Element cannot have children",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_children" for a data model element that does not support the "_children" suffix.'},203:{basicMessage:"Element not an array - cannot have count",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_count" for a data model element that does not support the "_count" suffix.'},301:{basicMessage:"Not initialized",detailMessage:"Indicates that an API call was made before the call to lmsInitialize."},401:{basicMessage:"Not implemented error",detailMessage:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{basicMessage:"Invalid set value, element is a keyword",detailMessage:'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in "_children" and "_count").'},403:{basicMessage:"Element is read only",detailMessage:"LMSSetValue was called with a data model element that can only be read."},404:{basicMessage:"Element is write only",detailMessage:"LMSGetValue was called on a data model element that can only be written to."},405:{basicMessage:"Incorrect Data Type",detailMessage:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Element Value Out Of Range",detailMessage:"The numeric value supplied to a LMSSetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}},n=(0,g.__assign)((0,g.__assign)({},M),{cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation",student_preference_children:"audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows",student_data_children:"attempt_number,tries,mastery_score,max_time_allowed,time_limit_action",student_demographics_children:"city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience",tries_children:"time,status,score",attempt_records_children:"score,lesson_status",paths_children:"location_id,date,time,status,why_left,time_in_element"}),s={cmi_children:"_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time",comments_children:"comment,timestamp,location",score_children:"max,raw,scaled,min",objectives_children:"progress_measure,completion_status,success_status,description,score,id",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio_level,audio_captioning,delivery_speed,language",interactions_children:"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description",adl_data_children:"id,store",error_descriptions:{0:{basicMessage:"No Error",detailMessage:"No error occurred, the previous API call was successful."},101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use GetDiagnostic for more information."},102:{basicMessage:"General Initialization Failure",detailMessage:"Call to Initialize failed for an unknown reason."},103:{basicMessage:"Already Initialized",detailMessage:"Call to Initialize failed because Initialize was already called."},104:{basicMessage:"Content Instance Terminated",detailMessage:"Call to Initialize failed because Terminate was already called."},111:{basicMessage:"General Termination Failure",detailMessage:"Call to Terminate failed for an unknown reason."},112:{basicMessage:"Termination Before Initialization",detailMessage:"Call to Terminate failed because it was made before the call to Initialize."},113:{basicMessage:"Termination After Termination",detailMessage:"Call to Terminate failed because Terminate was already called."},122:{basicMessage:"Retrieve Data Before Initialization",detailMessage:"Call to GetValue failed because it was made before the call to Initialize."},123:{basicMessage:"Retrieve Data After Termination",detailMessage:"Call to GetValue failed because it was made after the call to Terminate."},132:{basicMessage:"Store Data Before Initialization",detailMessage:"Call to SetValue failed because it was made before the call to Initialize."},133:{basicMessage:"Store Data After Termination",detailMessage:"Call to SetValue failed because it was made after the call to Terminate."},142:{basicMessage:"Commit Before Initialization",detailMessage:"Call to Commit failed because it was made before the call to Initialize."},143:{basicMessage:"Commit After Termination",detailMessage:"Call to Commit failed because it was made after the call to Terminate."},201:{basicMessage:"General Argument Error",detailMessage:"An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument."},301:{basicMessage:"General Get Failure",detailMessage:"Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},351:{basicMessage:"General Set Failure",detailMessage:"Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},391:{basicMessage:"General Commit Failure",detailMessage:"Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information."},401:{basicMessage:"Undefined Data Model Element",detailMessage:"The data model element name passed to GetValue or SetValue is not a valid SCORM data model element."},402:{basicMessage:"Unimplemented Data Model Element",detailMessage:"The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant."},403:{basicMessage:"Data Model Element Value Not Initialized",detailMessage:"Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO."},404:{basicMessage:"Data Model Element Is Read Only",detailMessage:"SetValue was called with a data model element that can only be read."},405:{basicMessage:"Data Model Element Is Write Only",detailMessage:"GetValue was called on a data model element that can only be written to."},406:{basicMessage:"Data Model Element Type Mismatch",detailMessage:"SetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Data Model Element Value Out Of Range",detailMessage:"The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}}},56:function(U,w,a){a.r(w),a.d(w,{CompletionStatus:function(){return M},LogLevelEnum:function(){return n},NAVBoolean:function(){return g},SuccessStatus:function(){return j}});var g;(function(s){s.unknown="unknown",s.true="true",s.false="false"})(g||(g={}));var j;(function(s){s.passed="passed",s.failed="failed",s.unknown="unknown"})(j||(j={}));var M;(function(s){s.completed="completed",s.incomplete="incomplete",s.unknown="unknown"})(M||(M={}));var n;(function(s){s[s._=0]="_",s[s.DEBUG=1]="DEBUG",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.NONE=5]="NONE"})(n||(n={}))},797:function(U,w,a){a.r(w),a.d(w,{global_errors:function(){return j},scorm12_errors:function(){return M},scorm2004_errors:function(){return n}});var g=a(635),j={GENERAL:101,INITIALIZATION_FAILED:101,INITIALIZED:101,TERMINATED:101,TERMINATION_FAILURE:101,TERMINATION_BEFORE_INIT:101,MULTIPLE_TERMINATION:101,RETRIEVE_BEFORE_INIT:101,RETRIEVE_AFTER_TERM:101,STORE_BEFORE_INIT:101,STORE_AFTER_TERM:101,COMMIT_BEFORE_INIT:101,COMMIT_AFTER_TERM:101,ARGUMENT_ERROR:101,CHILDREN_ERROR:101,COUNT_ERROR:101,GENERAL_GET_FAILURE:101,GENERAL_SET_FAILURE:101,GENERAL_COMMIT_FAILURE:101,UNDEFINED_DATA_MODEL:101,UNIMPLEMENTED_ELEMENT:101,VALUE_NOT_INITIALIZED:101,INVALID_SET_VALUE:101,READ_ONLY_ELEMENT:101,WRITE_ONLY_ELEMENT:101,TYPE_MISMATCH:101,VALUE_OUT_OF_RANGE:101,DEPENDENCY_NOT_ESTABLISHED:101},M=(0,g.__assign)((0,g.__assign)({},j),{RETRIEVE_BEFORE_INIT:301,STORE_BEFORE_INIT:301,COMMIT_BEFORE_INIT:301,ARGUMENT_ERROR:201,CHILDREN_ERROR:202,COUNT_ERROR:203,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:401,VALUE_NOT_INITIALIZED:301,INVALID_SET_VALUE:402,READ_ONLY_ELEMENT:403,WRITE_ONLY_ELEMENT:404,TYPE_MISMATCH:405,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408}),n=(0,g.__assign)((0,g.__assign)({},j),{INITIALIZATION_FAILED:102,INITIALIZED:103,TERMINATED:104,TERMINATION_FAILURE:111,TERMINATION_BEFORE_INIT:112,MULTIPLE_TERMINATIONS:113,RETRIEVE_BEFORE_INIT:122,RETRIEVE_AFTER_TERM:123,STORE_BEFORE_INIT:132,STORE_AFTER_TERM:133,COMMIT_BEFORE_INIT:142,COMMIT_AFTER_TERM:143,ARGUMENT_ERROR:201,GENERAL_GET_FAILURE:301,GENERAL_SET_FAILURE:351,GENERAL_COMMIT_FAILURE:391,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:402,VALUE_NOT_INITIALIZED:403,READ_ONLY_ELEMENT:404,WRITE_ONLY_ELEMENT:405,TYPE_MISMATCH:406,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408})},417:function(U,w,a){a.r(w),a.d(w,{aicc_regex:function(){return M},scorm12_regex:function(){return j},scorm2004_regex:function(){return n}});var g=a(635),j={CMIString256:"^.{0,255}$",CMIString4096:"^.{0,4096}$",CMITime:"^(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)$",CMITimespan:"^([0-9]{2,}):([0-9]{2}):([0-9]{2})(.[0-9]{1,2})?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{0,3})(.[0-9]*)?$",CMIIdentifier:"^[\\u0021-\\u007E\\s]{0,255}$",CMIFeedback:"^.{0,255}$",CMIIndex:"[._](\\d+).",CMIStatus:"^(passed|completed|failed|incomplete|browsed)$",CMIStatus2:"^(passed|completed|failed|incomplete|browsed|not attempted)$",CMIExit:"^(time-out|suspend|logout|)$",CMIType:"^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$",CMIResult:"^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\.[0-9]*)?)$",NAVEvent:"^(previous|continue)$",score_range:"0#100",audio_range:"-1#100",speed_range:"-100#100",weighting_range:"-100#100",text_range:"-1#1"},M=(0,g.__assign)((0,g.__assign)({},j),{CMIIdentifier:"^\\w{1,255}$"}),n={CMIString200:"^[\\u0000-\\uFFFF]{0,200}$",CMIString250:"^[\\u0000-\\uFFFF]{0,250}$",CMIString1000:"^[\\u0000-\\uFFFF]{0,1000}$",CMIString4000:"^[\\u0000-\\uFFFF]{0,4000}$",CMIString64000:"^[\\u0000-\\uFFFF]{0,64000}$",CMILang:"^([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?$|^$",CMILangString250:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,250}$)?$",CMILangcr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?}))(.*?)$",CMILangString250cr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?})?(.{0,250})?)?$",CMILangString4000:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,4000}$)?$",CMITime:"^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$",CMITimespan:"^P(?:([.,\\d]+)Y)?(?:([.,\\d]+)M)?(?:([.,\\d]+)W)?(?:([.,\\d]+)D)?(?:T?(?:([.,\\d]+)H)?(?:([.,\\d]+)M)?(?:([.,\\d]+)S)?)?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{1,5})(\\.[0-9]{1,18})?$",CMIIdentifier:"^\\S{1,250}[a-zA-Z0-9]$",CMIShortIdentifier:"^[\\w\\.\\-\\_]{1,250}$",CMILongIdentifier:"^(?:(?!urn:)\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\S{1,4000}|.{1,4000})$",CMIFeedback:"^.*$",CMIIndex:"[._](\\d+).",CMIIndexStore:".N(\\d+).",CMICStatus:"^(completed|incomplete|not attempted|unknown)$",CMISStatus:"^(passed|failed|unknown)$",CMIExit:"^(time-out|suspend|logout|normal)$",CMIType:"^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$",CMIResult:"^(correct|incorrect|unanticipated|neutral|-?([0-9]{1,4})(\\.[0-9]{1,18})?)$",NAVEvent:"^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|_none_|(\\{target=(?<choice_target>\\S{0,}[a-zA-Z0-9-_]+)})?choice|(\\{target=(?<jump_target>\\S{0,}[a-zA-Z0-9-_]+)})?jump)$",NAVBoolean:"^(unknown|true|false$)",NAVTarget:"^{target=\\S{0,}[a-zA-Z0-9-_]+}$",scaled_range:"-1#1",audio_range:"0#*",speed_range:"0#*",text_range:"-1#1",progress_range:"0#1"}},784:function(U,w,a){a.r(w),a.d(w,{BaseScormValidationError:function(){return j},ValidationError:function(){return M}});var g=a(635),j=function(n){(0,g.__extends)(s,n);function s(A){var R=n.call(this,A.toString())||this;return R._errorCode=A,R.name="ScormValidationError",R}return Object.defineProperty(s.prototype,"errorCode",{get:function(){return this._errorCode},enumerable:!1,configurable:!0}),s}(Error),M=function(n){(0,g.__extends)(s,n);function s(A,R,p){var S=n.call(this,A)||this;return S._detailedMessage="",S.message=R,S._errorMessage=R,p&&(S._detailedMessage=p),S}return Object.defineProperty(s.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"detailedMessage",{get:function(){return this._detailedMessage},enumerable:!1,configurable:!0}),s}(j)},179:function(U,w,a){a.r(w),a.d(w,{Scorm12ValidationError:function(){return s}});var g=a(635),j=a(784),M=a(340),n=M.scorm12_constants.error_descriptions,s=function(A){(0,g.__extends)(R,A);function R(p){var S=this;return{}.hasOwnProperty.call(n,String(p))?S=A.call(this,p,n[String(p)].basicMessage,n[String(p)].detailMessage)||this:S=A.call(this,101,n[101].basicMessage,n[101].detailMessage)||this,S}return R}(j.ValidationError)},864:function(U,w,a){a.r(w),a.d(w,{SECONDS_PER_DAY:function(){return n},SECONDS_PER_HOUR:function(){return M},SECONDS_PER_MINUTE:function(){return j},SECONDS_PER_SECOND:function(){return g},addHHMMSSTimeStrings:function(){return I},addTwoDurations:function(){return T},countDecimals:function(){return f},flatten:function(){return c},formatMessage:function(){return i},getDurationAsSeconds:function(){return S},getSecondsAsHHMMSS:function(){return A},getSecondsAsISODuration:function(){return R},getTimeAsSeconds:function(){return p},stringMatches:function(){return h},unflatten:function(){return u}});var g=1,j=60,M=60*j,n=24*M,s={D:n,H:M,M:j,S:g};function A(l){if(!l||l<=0)return"00:00:00";var _=Math.floor(l/M),O=new Date(l*1e3),L=O.getUTCMinutes(),C=O.getSeconds(),x=l%1,V="";return f(x)>0&&(f(x)>2?V=x.toFixed(2):V=String(x),V="."+V.split(".")[1]),(_+":"+L+":"+C).replace(/\b\d\b/g,"0$&")+V}function R(l){if(!l||l<=0)return"PT0S";var _="P",O=l;for(var L in s){var C=s[L],x=Math.floor(O/C);O=O%C,f(O)>2&&(O=Number(Number(O).toFixed(2))),L==="S"&&O>0&&(x+=O),x&&((_.indexOf("D")>0||L==="H"||L==="M"||L==="S")&&_.indexOf("T")===-1&&(_+="T"),_+="".concat(x).concat(L))}return _}function p(l,_){if((typeof l=="number"||typeof l=="boolean")&&(l=String(l)),typeof _=="string"&&(_=new RegExp(_)),!l||!l.match(_))return 0;var O=l.split(":"),L=Number(O[0]),C=Number(O[1]),x=Number(O[2]);return L*3600+C*60+x}function S(l,_){if(typeof _=="string"&&(_=new RegExp(_)),!l||!l.match(_))return 0;var O=new RegExp(_).exec(l)||[],L=O[1];O[2];var C=O[4],x=O[5],V=O[6],Y=O[7],G=0;return G+=Number(Y)||0,G+=Number(V)*60||0,G+=Number(x)*3600||0,G+=Number(C)*(60*60*24)||0,G+=Number(L)*(60*60*24*365)||0,G}function T(l,_,O){var L=typeof O=="string"?new RegExp(O):O;return R(S(l,L)+S(_,L))}function I(l,_,O){return typeof O=="string"&&(O=new RegExp(O)),A(p(l,O)+p(_,O))}function c(l){var _={};function O(L,C){if(Object(L)!==L)_[C]=L;else if(Array.isArray(L))for(var x=0,V=L.length;x<V;x++)O(L[x],C+"["+x+"]"),V===0&&(_[C]=[]);else{var Y=!0;for(var G in L)({}).hasOwnProperty.call(L,G)&&(Y=!1,O(L[G],C?C+"."+G:G));Y&&C&&(_[C]={})}}return O(l,""),_}function u(l){if(Object(l)!==l||Array.isArray(l))return l;var _=/\.?([^.[\]]+)|\[(\d+)]/g,O={};for(var L in l)if({}.hasOwnProperty.call(l,L)){for(var C=O,x="",V=_.exec(L);V;)C=C[x]||(C[x]=V[2]?[]:{}),x=V[2]||V[1],V=_.exec(L);C[x]=l[L]}return O[""]||O}function f(l){if(Math.floor(l)===l||String(l).indexOf(".")<0)return 0;var _=l.toString().split(".")[1];return _.length||0}function i(l,_,O){var L=20,C="";C+=l;for(var x=L-C.length,V=0;V<x;V++)C+=" ";if(C+=": ",O){var Y=70;C+=O,x=Y-C.length;for(var G=0;G<x;G++)C+=" "}return _&&(C+=_),C}function h(l,_){return(l==null?void 0:l.match(_))!==null}},635:function(U,w,a){a.r(w),a.d(w,{__addDisposableResource:function(){return Z},__assign:function(){return M},__asyncDelegator:function(){return V},__asyncGenerator:function(){return x},__asyncValues:function(){return Y},__await:function(){return C},__awaiter:function(){return c},__classPrivateFieldGet:function(){return ne},__classPrivateFieldIn:function(){return te},__classPrivateFieldSet:function(){return oe},__createBinding:function(){return f},__decorate:function(){return s},__disposeResources:function(){return b},__esDecorate:function(){return R},__exportStar:function(){return i},__extends:function(){return j},__generator:function(){return u},__importDefault:function(){return ie},__importStar:function(){return X},__makeTemplateObject:function(){return G},__metadata:function(){return I},__param:function(){return A},__propKey:function(){return S},__read:function(){return l},__rest:function(){return n},__runInitializers:function(){return p},__setFunctionName:function(){return T},__spread:function(){return _},__spreadArray:function(){return L},__spreadArrays:function(){return O},__values:function(){return h}});var g=function(t,d){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var m in E)Object.prototype.hasOwnProperty.call(E,m)&&(v[m]=E[m])},g(t,d)};function j(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");g(t,d);function v(){this.constructor=t}t.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}var M=function(){return M=Object.assign||function(d){for(var v,E=1,m=arguments.length;E<m;E++){v=arguments[E];for(var r in v)Object.prototype.hasOwnProperty.call(v,r)&&(d[r]=v[r])}return d},M.apply(this,arguments)};function n(t,d){var v={};for(var E in t)Object.prototype.hasOwnProperty.call(t,E)&&d.indexOf(E)<0&&(v[E]=t[E]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,E=Object.getOwnPropertySymbols(t);m<E.length;m++)d.indexOf(E[m])<0&&Object.prototype.propertyIsEnumerable.call(t,E[m])&&(v[E[m]]=t[E[m]]);return v}function s(t,d,v,E){var m=arguments.length,r=m<3?d:E===null?E=Object.getOwnPropertyDescriptor(d,v):E,e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,d,v,E);else for(var o=t.length-1;o>=0;o--)(e=t[o])&&(r=(m<3?e(r):m>3?e(d,v,r):e(d,v))||r);return m>3&&r&&Object.defineProperty(d,v,r),r}function A(t,d){return function(v,E){d(v,E,t)}}function R(t,d,v,E,m,r){function e(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var o=E.kind,N=o==="getter"?"get":o==="setter"?"set":"value",y=!d&&t?E.static?t:t.prototype:null,P=d||(y?Object.getOwnPropertyDescriptor(y,E.name):{}),D,B=!1,F=v.length-1;F>=0;F--){var W={};for(var H in E)W[H]=H==="access"?{}:E[H];for(var H in E.access)W.access[H]=E.access[H];W.addInitializer=function(k){if(B)throw new TypeError("Cannot add initializers after decoration has completed");r.push(e(k||null))};var K=(0,v[F])(o==="accessor"?{get:P.get,set:P.set}:P[N],W);if(o==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(D=e(K.get))&&(P.get=D),(D=e(K.set))&&(P.set=D),(D=e(K.init))&&m.unshift(D)}else(D=e(K))&&(o==="field"?m.unshift(D):P[N]=D)}y&&Object.defineProperty(y,E.name,P),B=!0}function p(t,d,v){for(var E=arguments.length>2,m=0;m<d.length;m++)v=E?d[m].call(t,v):d[m].call(t);return E?v:void 0}function S(t){return typeof t=="symbol"?t:"".concat(t)}function T(t,d,v){return typeof d=="symbol"&&(d=d.description?"[".concat(d.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:v?"".concat(v," ",d):d})}function I(t,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,d)}function c(t,d,v,E){function m(r){return r instanceof v?r:new v(function(e){e(r)})}return new(v||(v=Promise))(function(r,e){function o(P){try{y(E.next(P))}catch(D){e(D)}}function N(P){try{y(E.throw(P))}catch(D){e(D)}}function y(P){P.done?r(P.value):m(P.value).then(o,N)}y((E=E.apply(t,d||[])).next())})}function u(t,d){var v={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},E,m,r,e=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return e.next=o(0),e.throw=o(1),e.return=o(2),typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e;function o(y){return function(P){return N([y,P])}}function N(y){if(E)throw new TypeError("Generator is already executing.");for(;e&&(e=0,y[0]&&(v=0)),v;)try{if(E=1,m&&(r=y[0]&2?m.return:y[0]?m.throw||((r=m.return)&&r.call(m),0):m.next)&&!(r=r.call(m,y[1])).done)return r;switch(m=0,r&&(y=[y[0]&2,r.value]),y[0]){case 0:case 1:r=y;break;case 4:return v.label++,{value:y[1],done:!1};case 5:v.label++,m=y[1],y=[0];continue;case 7:y=v.ops.pop(),v.trys.pop();continue;default:if(r=v.trys,!(r=r.length>0&&r[r.length-1])&&(y[0]===6||y[0]===2)){v=0;continue}if(y[0]===3&&(!r||y[1]>r[0]&&y[1]<r[3])){v.label=y[1];break}if(y[0]===6&&v.label<r[1]){v.label=r[1],r=y;break}if(r&&v.label<r[2]){v.label=r[2],v.ops.push(y);break}r[2]&&v.ops.pop(),v.trys.pop();continue}y=d.call(t,v)}catch(P){y=[6,P],m=0}finally{E=r=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var f=Object.create?function(t,d,v,E){E===void 0&&(E=v);var m=Object.getOwnPropertyDescriptor(d,v);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(t,E,m)}:function(t,d,v,E){E===void 0&&(E=v),t[E]=d[v]};function i(t,d){for(var v in t)v!=="default"&&!Object.prototype.hasOwnProperty.call(d,v)&&f(d,t,v)}function h(t){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&t[d],E=0;if(v)return v.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&E>=t.length&&(t=void 0),{value:t&&t[E++],done:!t}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,d){var v=typeof Symbol=="function"&&t[Symbol.iterator];if(!v)return t;var E=v.call(t),m,r=[],e;try{for(;(d===void 0||d-- >0)&&!(m=E.next()).done;)r.push(m.value)}catch(o){e={error:o}}finally{try{m&&!m.done&&(v=E.return)&&v.call(E)}finally{if(e)throw e.error}}return r}function _(){for(var t=[],d=0;d<arguments.length;d++)t=t.concat(l(arguments[d]));return t}function O(){for(var t=0,d=0,v=arguments.length;d<v;d++)t+=arguments[d].length;for(var E=Array(t),m=0,d=0;d<v;d++)for(var r=arguments[d],e=0,o=r.length;e<o;e++,m++)E[m]=r[e];return E}function L(t,d,v){if(v||arguments.length===2)for(var E=0,m=d.length,r;E<m;E++)(r||!(E in d))&&(r||(r=Array.prototype.slice.call(d,0,E)),r[E]=d[E]);return t.concat(r||Array.prototype.slice.call(d))}function C(t){return this instanceof C?(this.v=t,this):new C(t)}function x(t,d,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=v.apply(t,d||[]),m,r=[];return m=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",e),m[Symbol.asyncIterator]=function(){return this},m;function e(F){return function(W){return Promise.resolve(W).then(F,D)}}function o(F,W){E[F]&&(m[F]=function(H){return new Promise(function(K,k){r.push([F,H,K,k])>1||N(F,H)})},W&&(m[F]=W(m[F])))}function N(F,W){try{y(E[F](W))}catch(H){B(r[0][3],H)}}function y(F){F.value instanceof C?Promise.resolve(F.value.v).then(P,D):B(r[0][2],F)}function P(F){N("next",F)}function D(F){N("throw",F)}function B(F,W){F(W),r.shift(),r.length&&N(r[0][0],r[0][1])}}function V(t){var d,v;return d={},E("next"),E("throw",function(m){throw m}),E("return"),d[Symbol.iterator]=function(){return this},d;function E(m,r){d[m]=t[m]?function(e){return(v=!v)?{value:C(t[m](e)),done:!1}:r?r(e):e}:r}}function Y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=t[Symbol.asyncIterator],v;return d?d.call(t):(t=typeof h=="function"?h(t):t[Symbol.iterator](),v={},E("next"),E("throw"),E("return"),v[Symbol.asyncIterator]=function(){return this},v);function E(r){v[r]=t[r]&&function(e){return new Promise(function(o,N){e=t[r](e),m(o,N,e.done,e.value)})}}function m(r,e,o,N){Promise.resolve(N).then(function(y){r({value:y,done:o})},e)}}function G(t,d){return Object.defineProperty?Object.defineProperty(t,"raw",{value:d}):t.raw=d,t}var $=Object.create?function(t,d){Object.defineProperty(t,"default",{enumerable:!0,value:d})}:function(t,d){t.default=d};function X(t){if(t&&t.__esModule)return t;var d={};if(t!=null)for(var v in t)v!=="default"&&Object.prototype.hasOwnProperty.call(t,v)&&f(d,t,v);return $(d,t),d}function ie(t){return t&&t.__esModule?t:{default:t}}function ne(t,d,v,E){if(v==="a"&&!E)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?t!==d||!E:!d.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?E:v==="a"?E.call(t):E?E.value:d.get(t)}function oe(t,d,v,E,m){if(E==="m")throw new TypeError("Private method is not writable");if(E==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?t!==d||!m:!d.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return E==="a"?m.call(t,v):m?m.value=v:d.set(t,v),v}function te(t,d){if(d===null||typeof d!="object"&&typeof d!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?d===t:t.has(d)}function Z(t,d,v){if(d!=null){if(typeof d!="object"&&typeof d!="function")throw new TypeError("Object expected.");var E,m;if(v){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");E=d[Symbol.asyncDispose]}if(E===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");E=d[Symbol.dispose],v&&(m=E)}if(typeof E!="function")throw new TypeError("Object not disposable.");m&&(E=function(){try{m.call(this)}catch(r){return Promise.reject(r)}}),t.stack.push({value:d,dispose:E,async:v})}else v&&t.stack.push({async:!0});return d}var z=typeof SuppressedError=="function"?SuppressedError:function(t,d,v){var E=new Error(v);return E.name="SuppressedError",E.error=t,E.suppressed=d,E};function b(t){function d(r){t.error=t.hasError?new z(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var v,E=0;function m(){for(;v=t.stack.pop();)try{if(!v.async&&E===1)return E=0,t.stack.push(v),Promise.resolve().then(m);if(v.dispose){var r=v.dispose.call(v.value);if(v.async)return E|=2,Promise.resolve(r).then(m,function(e){return d(e),m()})}else E|=1}catch(e){d(e)}if(E===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return m()}w.default={__extends:j,__assign:M,__rest:n,__decorate:s,__param:A,__metadata:I,__awaiter:c,__generator:u,__createBinding:f,__exportStar:i,__values:h,__read:l,__spread:_,__spreadArrays:O,__spreadArray:L,__await:C,__asyncGenerator:x,__asyncDelegator:V,__asyncValues:Y,__makeTemplateObject:G,__importStar:X,__importDefault:ie,__classPrivateFieldGet:ne,__classPrivateFieldSet:oe,__classPrivateFieldIn:te,__addDisposableResource:Z,__disposeResources:b}}},le={};function J(U){var w=le[U];if(w!==void 0)return w.exports;var a=le[U]={exports:{}};return ce[U](a,a.exports,J),a.exports}(function(){J.d=function(U,w){for(var a in w)J.o(w,a)&&!J.o(U,a)&&Object.defineProperty(U,a,{enumerable:!0,get:w[a]})}})(),function(){J.o=function(U,w){return Object.prototype.hasOwnProperty.call(U,w)}}(),function(){J.r=function(U){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})}}();var q={};J.r(q),J.d(q,{AICC:function(){return me},Scorm12API:function(){return he},Scorm2004API:function(){return de}});var ee=J(916),ae=J(941),_e=J(809),he=ae.Scorm12Impl,de=_e.Scorm2004Impl,me=ee.AICCImpl,pe=q.AICC,ge=q.Scorm12API,Ee=q.Scorm2004API;function ve(U,w){w===void 0&&(w={});var a=w.insertAt;if(!(!U||typeof document=="undefined")){var g=document.head||document.getElementsByTagName("head")[0],j=document.createElement("style");j.type="text/css",a==="top"&&g.firstChild?g.insertBefore(j,g.firstChild):g.appendChild(j),j.styleSheet?j.styleSheet.cssText=U:j.appendChild(document.createTextNode(U))}}var Me=`.scorm-error {
  color: red;
}

.scorm-iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.scorm-loader {
  width: 48px;
  height: 48px;
  border: 3px solid #fff;
  border-bottom-color: grey;
  border-radius: 50%;
  display: inline-block;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
  margin: 0px auto !important;
}

@keyframes rotation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`;ve(Me);const ye=({uuid:U,apiUrl:w,serviceWorkerUrl:a="/service-worker-scorm.js",comunitate:g,onScormPost:j,onScormGet:M})=>{const[n,s]=(0,Q.useState)(!0),[A,R]=(0,Q.useState)(null),[p,S]=(0,Q.useState)(null),T=()=>se(this,null,function*(){if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported in this browser."),null;try{const i=yield navigator.serviceWorker.register(a,{scope:"/"});return i.active?i:yield new Promise(h=>{var l;(l=i.installing||i.waiting)===null||l===void 0||l.addEventListener("statechange",()=>{h(i)})})}catch(i){return console.error("SW registration failed:",i),null}}),I=i=>{window.API=new ge(i),g&&j&&M&&(window.API.on("LMSSetValue.cmi.*",(h,l)=>{j({cmi:{[h]:l}})}),window.API.on("LMSGetValue.cmi.*",h=>se(this,null,function*(){const l=yield M(h);window.API.LMSSetValue(h,l)})),window.API.on("LMSCommit",()=>{j({cmi:window.API.cmi})}))},c=i=>{window.API_1484_11=new Ee(i),g&&j&&M&&(window.API_1484_11.on("SetValue.cmi.*",(h,l)=>{j({cmi:{[h]:l}})}),window.API_1484_11.on("GetValue.cmi.*",h=>se(this,null,function*(){const l=yield M(h);window.API_1484_11.SetValue(h,l)})),window.API_1484_11.on("Commit",()=>{j({cmi:window.API_1484_11.cmi})}))},u=i=>{window.API=new pe(i)},f=i=>se(this,null,function*(){var h;try{const l=yield fetch(`${w}/api/scorm/show/${U}`);if(!l.ok)throw new Error("Failed to fetch SCORM settings");const{data:_}=yield l.json();(yield fetch(_.entry_url_zip,{method:"HEAD"})).ok||(yield fetch(`${w}/api/scorm/zip/${U}`)),(h=i.active)===null||h===void 0||h.postMessage(_.entry_url_zip),navigator.serviceWorker.addEventListener("message",L=>{const{scormObj:C}=L.data;if(!C)return;switch(console.log("SW scormObj:",C),C.version){case"2004":c(_);break;case"AICC":u(_);break;default:I(_)}const x=`${C.PREFIX}/${_.entry_url}`;R(x),s(!1)},{once:!0})}catch(l){console.error(l),S("Failed to load SCORM SCO"),s(!1)}});return(0,Q.useEffect)(()=>{se(this,null,function*(){s(!0),S(null),R(null);const i=yield T();if(!i){S("Service Worker registration failed."),s(!1);return}yield f(i)})},[U]),n?Q.createElement("div",{className:"scorm-loader"}):p?Q.createElement("div",{className:"scorm-serror"},p):A?Q.createElement("iframe",{className:"scorm-iframe",src:A,title:"SCORM Content"}):null}}}]);
}());
//# sourceMappingURL=7663.e4de041f.async.js.map