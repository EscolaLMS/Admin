(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{Dmw0:function(q,y,e){"use strict";e.d(y,"a",function(){return W});var ne=e("+L6B"),Q=e("2/Rp"),se=e("14J3"),K=e("BMrR"),Y=e("jCWc"),G=e("kPKH"),F=e("5NDa"),h=e("5rEg"),ee=e("tJVT"),E=e("jrin"),l=e("k1fw"),d=e("q1tI"),re=e.n(d),z=e("u95b"),ie=e.n(z),U=e("9kvl"),v=e("cYEv"),a=e("nKUr"),te=e.n(a),S=function(){return Object(U.d)().reduce(function(c,j){return Object(l.a)(Object(l.a)({},c),{},Object(E.a)({},j,""))},{})},W=function(c){var j=c.value,V=c.onChange,Z=Object(d.useState)(S()),B=Object(ee.a)(Z,2),T=B[0],L=B[1];Object(d.useEffect)(function(){var s=typeof j=="object"?j:JSON.parse(j!=null?j:"{}");L(Object.assign(S(),s))},[j]),Object(d.useEffect)(function(){V&&JSON.stringify(T)!==JSON.stringify(j)&&V(T)},[T]);var X=Object(d.useCallback)(function(){L(function(s){return Object(l.a)(Object(l.a)({},s),{},{lang:""})})},[]),t=Object(d.useCallback)(function(s,M,p){L(function(m){return Object.entries(m).reduce(function(J,_,N){return N===s?Object(l.a)(Object(l.a)({},J),{},Object(E.a)({},M,p)):Object(l.a)(Object(l.a)({},J),{},Object(E.a)({},_[0],_[1]))},{})})},[]);return Object(a.jsxs)("div",{children:[Object.entries(T).map(function(s,M){return Object(a.jsxs)(K.a,{children:[Object(a.jsx)(G.a,{span:6,children:Object(a.jsx)(h.a,{disabled:Object(U.d)().includes(s[0]),value:s[0],maxLength:5,onChange:function(m){return t(M,m.target.value,s[1])}})}),Object(a.jsx)(G.a,{span:24-6,children:Object(a.jsx)(h.a,{value:s[1],onChange:function(m){return t(M,s[0],m.target.value)}})})]},M)}),Object(a.jsx)(Q.a,{onClick:function(){return X()},icon:Object(a.jsx)(v.a,{})})]})},ae=W},bFc7:function(q,y,e){"use strict";e.r(y),e.d(y,"TableColumns",function(){return m});var ne=e("P2fV"),Q=e("NJEC"),se=e("5Dmo"),K=e("3S7+"),Y=e("k1fw"),G=e("+L6B"),F=e("2/Rp"),h=e("qLMh"),ee=e("miYZ"),E=e("tsqr"),l=e("9og8"),d=e("tJVT"),re=e("tU7J"),z=e("wFql"),ie=e("+BJd"),U=e("mr32"),v=e("q1tI"),a=e("9kvl"),te=e("Qiat"),S=e("tMyG"),W=e("xvlK"),ae=e("G3dp"),H=e("/MfK"),c=e("twdk"),j=e("y8nQ"),V=e("Vl3Y"),Z=e("rmhi"),B=e("Qurx"),T=e("VMEa"),L=e("BBow"),X=e("Dmw0"),t=e("nKUr"),s=function(i){var D=Object(a.l)(),b=i.visible,P=i.onVisibleChange,x=i.onFinish,O=i.id,$=V.a.useForm(),w=Object(d.a)($,1),o=w[0];return Object(v.useEffect)(function(){typeof O=="number"&&O>0?Object(c.c)(O).then(function(I){I.success&&o.setFieldsValue(I.data)}):o.resetFields()},[O,o]),Object(t.jsxs)(Z.a,{form:o,title:D.formatMessage({id:typeof O=="number"&&O>0?"editTranslation":"newTranslation",defaultMessage:typeof O=="number"&&O>0?"editTranslation":"newTranslation"}),width:"700px",visible:b,onVisibleChange:P,onFinish:function(R){return x(Object(Y.a)({},R))},onValuesChange:function(R){R.name&&o.setFieldsValue({slug:Object(L.a)(R.name)})},children:[Object(t.jsx)(B.a,{label:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),width:"md",name:"group",initialValue:"*"}),Object(t.jsx)(B.a,{width:"md",name:"key",label:Object(t.jsx)(a.a,{id:"key"}),placeholder:D.formatMessage({id:"key"}),required:!0}),Object(t.jsx)(T.a.Item,{name:"text",label:Object(t.jsx)(a.a,{id:"translationJsonText"}),tooltip:Object(t.jsx)(a.a,{id:"translationJsonText_tooltip"}),valuePropName:"value",children:Object(t.jsx)(X.a,{})})]})},M=s,p=e("c+yx"),m=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0,hideInSearch:!0,width:"80px"},{title:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",sorter:!0},{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",sorter:!0},{title:Object(t.jsx)(a.a,{id:"text",defaultMessage:"text"}),dataIndex:"text",sorter:!0,hideInSearch:!0,render:function(i,D){return Object(t.jsx)(v.Fragment,{children:Object.entries(D.text).map(function(b){return Object(t.jsxs)(z.a.Paragraph,{children:[Object(t.jsx)(U.a,{children:b[0]}),b[1]]},b[0])})})}}],J=function(){var i=Object(v.useRef)(),D=Object(v.useState)(!1),b=Object(d.a)(D,2),P=b[0],x=b[1],O=Object(v.useState)(!1),$=Object(d.a)(O,2),w=$[0],o=$[1],I=Object(a.l)(),R=Object(v.useCallback)(function(){var C=Object(l.a)(Object(h.a)().mark(function r(u){var f,g;return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),f=E.b.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),n.prev=2,n.next=5,Object(c.b)(u).then(function(A){o(!1),A.success&&E.b.success(A.message)});case 5:return f(),o(!1),(g=i.current)===null||g===void 0||g.reload(),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(2),f(),E.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),o(!1),n.abrupt("return",!1);case 17:case"end":return n.stop()}},r,null,[[2,11]])}));return function(r){return C.apply(this,arguments)}}(),[i]);return Object(t.jsxs)(S.a,{children:[Object(t.jsx)(te.a,{headerTitle:I.formatMessage({id:"menu.Configuration.Translations",defaultMessage:"Translations"}),search:{layout:"vertical"},loading:w,actionRef:i,rowKey:"id",toolBarRender:function(){return[Object(t.jsxs)(F.a,{type:"primary",onClick:function(){x(-1)},children:[Object(t.jsx)(W.a,{})," ",Object(t.jsx)(a.a,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"primary")]},request:function(r,u){var f=r.pageSize,g=r.current,k=r.group,n=r.key;return o(!0),Object(c.e)(Object(Y.a)({per_page:f,page:g,group:k||void 0,key:n||void 0},Object(p.b)(u,"created_at"))).then(function(A){return o(!1),A.success?{data:A.data,total:A.meta.total,success:!0}:[]}).finally(function(){o(!1)})},columns:[].concat(m,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(r,u){return[Object(t.jsx)(K.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(F.a,{type:"primary",icon:Object(t.jsx)(ae.a,{}),onClick:function(){return u.id&&x(u.id)}})},"edit"),Object(t.jsx)(Q.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return u.id&&R(u.id)},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(K.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(F.a,{type:"primary",icon:Object(t.jsx)(H.a,{}),danger:!0})})},"delete")]}}])})," ",Object(t.jsx)(M,{id:P,visible:Number.isInteger(P),onVisibleChange:function(r){return r===!1&&x(!1)},onFinish:function(){var C=Object(l.a)(Object(h.a)().mark(function r(u){var f,g;return Object(h.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(P!==-1){n.next=6;break}return n.next=3,Object(c.a)(u);case 3:return f=n.sent,f&&(x(!1),i.current&&i.current.reload()),n.abrupt("return");case 6:return n.next=8,Object(c.f)(Number(P),u);case 8:g=n.sent,g&&(x(!1),i.current&&i.current.reload());case 10:case"end":return n.stop()}},r)}));return function(r){return C.apply(this,arguments)}}()})]})},_=y.default=J},u95b:function(q,y,e){}}]);
