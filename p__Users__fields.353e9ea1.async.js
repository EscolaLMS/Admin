(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"0TUn":function(se,h,t){"use strict";t.d(h,"c",function(){return I}),t.d(h,"a",function(){return O}),t.d(h,"b",function(){return P});var d=t("WmNS"),a=t.n(d),A=t("k1fw"),i=t("9og8"),U=t("9kvl");function I(r,j){return y.apply(this,arguments)}function y(){return y=Object(i.a)(a.a.mark(function r(j,s){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(U.f)("/api/model-fields",Object(A.a)({method:"GET",params:j},s||{})));case 1:case"end":return n.stop()}},r)})),y.apply(this,arguments)}function O(r,j){return B.apply(this,arguments)}function B(){return B=Object(i.a)(a.a.mark(function r(j,s){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(U.f)("/api/admin/model-fields",Object(A.a)({method:"POST",data:j},s||{})));case 1:case"end":return n.stop()}},r)})),B.apply(this,arguments)}function P(r,j){return C.apply(this,arguments)}function C(){return C=Object(i.a)(a.a.mark(function r(j,s){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(U.f)("/api/admin/model-fields",Object(A.a)({method:"DELETE",data:j},s||{})));case 1:case"end":return n.stop()}},r)})),C.apply(this,arguments)}},YDZB:function(se,h,t){"use strict";var d=t("2qtc"),a=t("kLXV"),A=t("7Kak"),i=t("9yH6"),U=t("+L6B"),I=t("2/Rp"),y=t("tJVT"),O=t("q1tI"),B=t.n(O),P=t("gU/Y"),C=t("9kvl"),r=t("u95b"),j=t.n(r),s=t("nKUr"),D=t.n(s),n=function(V){var k=V.value,J=V.onChange,K=Object(O.useState)(!1),L=Object(y.a)(K,2),le=L[0],N=L[1],$=Object(O.useCallback)(function(){N(!1)},[]),G=Object(O.useState)("code"),Y=Object(y.a)(G,2),R=Y[0],q=Y[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)(I.a,{type:"primary",onClick:function(){return N(!0)},size:"small",children:Object(s.jsx)(C.a,{id:"json_editor"})}),Object(s.jsxs)(a.a,{title:"JSON",visible:le,onOk:$,onCancel:$,children:[Object(s.jsxs)(i.a.Group,{onChange:function(e){return q(e.target.value)},value:R,children:[Object(s.jsx)(i.a,{value:"tree",children:"tree"}),Object(s.jsx)(i.a,{value:"view",children:"view"}),Object(s.jsx)(i.a,{value:"form",children:"form"}),Object(s.jsx)(i.a,{value:"code",children:"code"}),Object(s.jsx)(i.a,{value:"text",children:"text"})]}),Object(s.jsx)(P.a,{mode:R,value:k,onChange:function(e){return J&&J(e)}},R)]})]})};h.a=n},i3PA:function(se,h,t){"use strict";t.r(h);var d=t("q1tI"),a=t("9kvl"),A=t("tMyG"),i=t("nhC9"),U=t("P2fV"),I=t("NJEC"),y=t("5Dmo"),O=t("3S7+"),B=t("+L6B"),P=t("2/Rp"),C=t("WmNS"),r=t.n(C),j=t("miYZ"),s=t("tsqr"),D=t("9og8"),n=t("tJVT"),ne=t("Qiat"),V=t("xvlK"),k=t("G3dp"),J=t("/MfK"),K=t("0TUn"),L=t("k1fw"),le=t("y8nQ"),N=t("Vl3Y"),$=t("rmhi"),G=t("Qurx"),Y=t("5qq5"),R=t("VMEa"),q=t("FJDo"),S=t("YDZB"),e=t("nKUr"),W;(function(M){M.BOOLEAN="boolean",M.NUMBER="number",M.VARCHAR="varchar",M.TEXT="text",M.JSON="json"})(W||(W={}));var oe=function(v){var p=v.visible,_=v.onVisibleChange,ee=v.onResponse,Q=v.class_type,Z=v.name,o=Z===void 0?"new":Z,H=v.fields,X=H===void 0?[]:H,g=Object(a.i)(),w=N.a.useForm(),F=Object(n.a)(w,1),T=F[0],z=Object(d.useCallback)(function(){var u=Object(D.a)(r.a.mark(function x(E){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(K.a)(Object(L.a)(Object(L.a)({},E),{},{class_type:Q,rules:JSON.stringify(E.rules),extra:JSON.stringify(E.extra)})).then(function(m){m.success&&ee(m.data)});case 2:return l.abrupt("return",!1);case 3:case"end":return l.stop()}},x)}));return function(x){return u.apply(this,arguments)}}(),[T]);return Object(d.useEffect)(function(){if(o!=="new"){var u=X.find(function(x){return x.name===o});u&&T.setFieldsValue(u)}else T.resetFields()},[o,T,X]),Object(e.jsxs)($.a,{form:T,title:g.formatMessage({id:o==="new"?"newModelField":"editModelField",defaultMessage:o==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:p,onVisibleChange:_,onFinish:z,children:[Object(e.jsx)(G.a,{required:!0,label:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),tooltip:Object(e.jsx)(a.a,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),Object(e.jsx)(Y.a.Group,{rules:[{required:!0}],name:"type",label:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),tooltip:Object(e.jsx)(a.a,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(W).map(function(u){return{label:g.formatMessage({id:W[u]}),value:W[u]}})}),Object(e.jsx)(G.a,{width:"md",name:"default",label:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),tooltip:Object(e.jsx)(a.a,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:g.formatMessage({id:"default"})}),Object(e.jsx)(R.a.Item,{name:"rules",label:Object(e.jsxs)("span",{children:[Object(e.jsx)(a.a,{id:"rules",defaultMessage:"rules"})," ",Object(e.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:Object(e.jsx)(a.a,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:Object(e.jsx)(a.a,{id:"available-validation-rules"}),valuePropName:"value",children:Object(e.jsx)(S.a,{})}),Object(e.jsx)(q.a,{width:"md",name:"visibility",label:Object(e.jsx)(a.a,{id:"visibility"}),tooltip:Object(e.jsx)(a.a,{id:"visibility_tooltip"}),placeholder:g.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var u=Object(D.a)(r.a.mark(function E(b,l){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(l)))-l)){c.next=2;break}return c.abrupt("return",Promise.reject(new Error(g.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return c.abrupt("return",Promise.resolve());case 3:case"end":return c.stop()}},E)}));function x(E,b){return u.apply(this,arguments)}return x}()}]}),Object(e.jsx)(R.a.Item,{name:"extra",label:Object(e.jsx)(a.a,{id:"extra"}),tooltip:Object(e.jsx)(a.a,{id:"extra"}),valuePropName:"value",children:Object(e.jsx)(S.a,{})})]})},de=oe,ue=[{title:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],ce=function(v){var p=v.class_type,_=Object(d.useRef)(),ee=Object(d.useState)(!1),Q=Object(n.a)(ee,2),Z=Q[0],o=Q[1],H=Object(a.i)(),X=Object(d.useState)(!1),g=Object(n.a)(X,2),w=g[0],F=g[1],T=Object(d.useState)([]),z=Object(n.a)(T,2),u=z[0],x=z[1],E=Object(d.useCallback)(function(){var b=Object(D.a)(r.a.mark(function l(m){var c,re,te,ae;return r.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c=m.class_type_to_remove,re=m.name,o(!0),te=s.default.loading(Object(e.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),f.prev=3,f.next=6,Object(K.b)({class_type:c,name:re}).then(function(ie){o(!1),ie.success&&s.default.success(ie.message)});case 6:return te(),o(!1),(ae=_.current)===null||ae===void 0||ae.reload(),f.abrupt("return",!0);case 12:return f.prev=12,f.t0=f.catch(3),te(),s.default.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),o(!1),f.abrupt("return",!1);case 18:case"end":return f.stop()}},l,null,[[3,12]])}));return function(l){return b.apply(this,arguments)}}(),[_]);return Object(e.jsxs)(d.Fragment,{children:[Object(e.jsx)(de,{fields:u,onResponse:function(){F(!1),_.current&&_.current.reload()},class_type:p,name:w,visible:typeof w=="string",onVisibleChange:function(l){return l===!1&&F(!1)}}),Object(e.jsx)(ne.a,{search:!1,headerTitle:H.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[Object(e.jsxs)(P.a,{type:"primary",onClick:function(){return F("new")},children:[Object(e.jsx)(V.a,{})," ",Object(e.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"new")]},loading:Z,actionRef:_,rowKey:"id",request:function(){return o(!0),Object(K.c)({class_type:p}).then(function(l){return o(!1),l.success?(x(l.data),{data:l.data,total:l.data.length,success:!0}):[]})},columns:[].concat(ue,[{title:Object(e.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(l,m){return[Object(e.jsx)(O.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(P.a,{type:"primary",icon:Object(e.jsx)(k.a,{}),onClick:function(){return F(m.name)}})},"edit"),Object(e.jsx)(I.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return m.name&&E({class_type_to_remove:p,name:m.name})},okText:Object(e.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(e.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(e.jsx)(O.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(P.a,{type:"primary",icon:Object(e.jsx)(J.a,{}),danger:!0})})},"delete")]}}])})]})},je=ce,me=function(){return Object(e.jsx)(A.a,{children:Object(e.jsxs)(i.a,{tabs:{type:"card",activeKey:"fields",onChange:function(p){switch(p){case"list":return a.d.push("/users");default:return a.d.push("/users/".concat(p))}}},children:[Object(e.jsx)(i.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"list"})},"list"),Object(e.jsx)(i.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"ModelFields"}),children:Object(e.jsx)(je,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},fe=h.default=me}}]);
