(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"2ult":function(V,_,e){"use strict";var n=e("OaEy"),t=e("2fM7"),W=e("T2oS"),C=e("W9HT"),o=e("oBTY"),I=e("tJVT"),P=e("q1tI"),F=e.n(P),x=e("ri8c"),S=e("9kvl"),K=e("nKUr"),z=e.n(K),p=function(L){var f=L.value,G=L.onChange,Z=L.multiple,c=Z===void 0?!1:Z,s=Object(P.useState)([]),h=Object(I.a)(s,2),T=h[0],l=h[1],g=Object(P.useState)(!1),b=Object(I.a)(g,2),ve=b[0],J=b[1],le=Object(P.useRef)(),Q=Object(P.useRef)(),r=Object(P.useCallback)(function(M){l(function(v){return[].concat(Object(o.a)(v),Object(o.a)(M)).filter(function(A,B,X){return X.findIndex(function($){return $.id===A.id})===B})})},[]);Object(P.useEffect)(function(){le.current=T},[T]);var oe=Object(P.useCallback)(function(M){J(!0),Q.current&&Q.current.abort(),Q.current=new AbortController,Object(x.g)({search:M},{signal:Q.current.signal}).then(function(v){v.success&&r(v.data),J(!1)}).catch(function(){return J(!1)})},[r]),ie=Object(P.useCallback)(function(M){oe(M)},[oe]);return Object(P.useEffect)(function(){var M=new AbortController;if(f){var v=Array.isArray(f)?f:[f];v.filter(function(A){var B;return!((B=le.current)!==null&&B!==void 0&&B.find(function(X){return X.id===A}))}).forEach(function(A){Object(x.f)(Number(A),{signal:M.signal}).then(function(B){B&&B.success&&r([B.data])})})}return function(){M.abort()}},[f,r]),Object(K.jsx)(t.a,{onFocus:function(){return oe()},allowClear:!0,style:{width:"100%"},value:f,onChange:G,mode:c?"multiple":void 0,showSearch:!0,onSearch:ie,placeholder:Object(K.jsx)(S.a,{id:"select_user_group",defaultMessage:"Select user group"}),optionFilterProp:"children",filterOption:function(v,A){if(A&&A.children){var B;return(A==null||(B=A.children)===null||B===void 0?void 0:B.toString().toLowerCase().indexOf(v.toLowerCase()))>=0}return!0},notFoundContent:ve?Object(K.jsx)(C.a,{size:"small"}):null,children:T.map(function(M){return Object(K.jsx)(t.a.Option,{value:M.id,children:M.name_with_breadcrumbs},M.id)})})};_.a=p},"F/zT":function(V,_,e){"use strict";var n=e("wx14"),t=e("VTBJ"),W=e("Ff2n"),C=e("q1tI"),o=e.n(C),I=e("adzw"),P=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],F=o.a.forwardRef(function(x,S){var K=x.fieldProps,z=x.unCheckedChildren,p=x.checkedChildren,m=x.proFieldProps,L=Object(W.a)(x,P);return o.a.createElement(I.a,Object(n.a)({valueType:"switch",mode:"edit",fieldProps:Object(t.a)({unCheckedChildren:z,checkedChildren:p},K),ref:S,valuePropName:"checked",proFieldProps:m,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},L))});_.a=F},Qurx:function(V,_,e){"use strict";var n=e("wx14"),t=e("Ff2n"),W=e("q1tI"),C=e.n(W),o=e("adzw"),I=["fieldProps","proFieldProps"],P=["fieldProps","proFieldProps"],F="text",x=function(p){var m=p.fieldProps,L=p.proFieldProps,f=Object(t.a)(p,I);return C.a.createElement(o.a,Object(n.a)({mode:"edit",valueType:F,fieldProps:m,filedConfig:{valueType:F},proFieldProps:L},f))},S=function(p){var m=p.fieldProps,L=p.proFieldProps,f=Object(t.a)(p,P);return C.a.createElement(o.a,Object(n.a)({mode:"edit",valueType:"password",fieldProps:m,proFieldProps:L,filedConfig:{valueType:F}},f))},K=x;K.Password=S,K.displayName="ProFormComponent",_.a=K},S76h:function(V,_,e){},TLLU:function(V,_,e){"use strict";var n=e("5OYt");function t(){return Object(n.a)()}_.a={useBreakpoint:t}},UNho:function(V,_,e){"use strict";e.r(_);var n=e("Mwp2"),t=e("VXEj"),W=e("+L6B"),C=e("2/Rp"),o=e("/zsF"),I=e("PArb"),P=e("tU7J"),F=e("wFql"),x=e("T2oS"),S=e("W9HT"),K=e("miYZ"),z=e("tsqr"),p=e("qLMh"),m=e("k1fw"),L=e("9og8"),f=e("tJVT"),G=e("q1tI"),Z=e.n(G),c=e("VMEa"),s=e("Qurx"),h=e("F/zT"),T=e("nhC9"),l=e("ri8c"),g=e("tMyG"),b=e("9kvl"),ve=e("Ty5D"),J=e("/MfK"),le=e("0WSk"),Q=e("2ult"),r=e("nKUr"),oe=e.n(r);_.default=function(){var ie=Object(b.i)(),M=Object(ve.l)(),v=M.group,A=v==="new",B=Object(G.useState)(),X=Object(f.a)(B,2),$=X[0],te=X[1],me=Object(G.useCallback)(Object(L.a)(Object(p.a)().mark(function D(){var O;return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.f)(Number(v));case 2:O=a.sent,O.success&&te(Object(m.a)({},O.data));case 4:case"end":return a.stop()}},D)})),[v]),Ce=Object(G.useCallback)(function(D){te(function(O){var R;return Object(m.a)(Object(m.a)({},O),{},{users:O?O==null||(R=O.users)===null||R===void 0?void 0:R.filter(function(a){return a.id!==D}):[]})}),Object(l.d)(Number(v),D).then(function(O){O.success&&te(function(R){return Object(m.a)(Object(m.a)({},R),{},{users:O.data})})})},[v]),ge=Object(G.useCallback)(function(D){var O;!D||$!=null&&(O=$.users)!==null&&O!==void 0&&O.find(function(R){return R.id===D})||Object(l.a)(Number(v),D).then(function(R){R.success&&te(function(a){return Object(m.a)(Object(m.a)({},a),{},{users:R.data})})})},[$,v]);Object(G.useEffect)(function(){if(v==="new"){te({});return}me()},[v,me]);var ye=Object(G.useMemo)(function(){return{onFinish:function(){var D=Object(L.a)(Object(p.a)().mark(function R(a){var d,i;return Object(p.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(i=Object(m.a)({},a),v!=="new"){E.next=8;break}return E.next=4,Object(l.b)(i);case 4:d=E.sent,d.success&&b.d.push("/user_groups/".concat(d.data.id)),E.next=11;break;case 8:return E.next=10,Object(l.e)(Number(v),i);case 10:d=E.sent;case 11:z.default.success(d.message);case 12:case"end":return E.stop()}},R)}));function O(R){return D.apply(this,arguments)}return O}(),initialValues:$}},[$,v]);return $?Object(r.jsx)(g.a,{title:A?Object(r.jsx)(b.a,{id:"new_user_group"}):Object(r.jsx)(b.a,{id:"edit_user_group"}),children:Object(r.jsx)(T.a,{children:Object(r.jsxs)(c.a,Object(m.a)(Object(m.a)({},ye),{},{children:[Object(r.jsxs)(c.a.Group,{children:[Object(r.jsx)(s.a,{width:"md",name:"name",label:Object(r.jsx)(b.a,{id:"name"}),tooltip:Object(r.jsx)(b.a,{id:"name"}),placeholder:ie.formatMessage({id:"name"}),required:!0}),Object(r.jsx)(c.a.Item,{style:{minWidth:"300px"},name:"parent_id",label:Object(r.jsx)(b.a,{id:"parent_id_group",defaultMessage:"parent_id_group"}),valuePropName:"value",children:Object(r.jsx)(Q.a,{})}),Object(r.jsx)(h.a,{name:"registerable",label:Object(r.jsx)(b.a,{id:"registerable"})})]}),v!=="new"&&Object(r.jsxs)(Z.a.Fragment,{children:[Object(r.jsxs)(c.a.Group,{children:[Object(r.jsx)(F.a,{children:Object(r.jsx)(b.a,{id:"add_person_to_group",defaultMessage:"Add User to group"})}),Object(r.jsx)(le.a,{onChange:function(O){return ge(Number(O))}})]}),Object(r.jsx)(I.a,{}),Object(r.jsx)(t.b,{size:"small",itemLayout:"horizontal",dataSource:$.users,renderItem:function(O){return Object(r.jsxs)(t.b.Item,{actions:[Object(r.jsxs)(C.a,{onClick:function(){return Ce(O.id)},type:"primary",icon:Object(r.jsx)(J.a,{}),size:"small",danger:!0,children:[" ",Object(r.jsx)(b.a,{id:"delete"})]})],children:[O.first_name," ",O.last_name," ",Object(r.jsx)("small",{children:O.email})]})}})]}),Object(r.jsx)(I.a,{})]}))})}):Object(r.jsx)(S.a,{})}},VzZb:function(V,_,e){},"aK+R":function(V,_,e){},df8c:function(V,_,e){},nhC9:function(V,_,e){"use strict";var n=e("VTBJ"),t=e("nKUr"),W=e("Znn+"),C=e("ZTPi"),o=e("rePB"),I=e("U8pU"),P=e("ODXe"),F=e("GNNt"),x=e("wEI+"),S=e("Ff2n"),K=e("1GLa"),z=e("TLLU"),p=e("UESt"),m=e("YSkC"),L=e("TSYQ"),f=e.n(L),G=e("BGR+"),Z=e("6cGi"),c=e("q1tI"),s=e.n(c),h=e("S76h"),T=function(d){var i=d.actions,j=d.prefixCls;return Array.isArray(i)&&(i==null?void 0:i.length)?Object(t.jsx)("ul",{className:"".concat(j,"-actions"),children:i.map(function(E,q){return Object(t.jsx)("li",{style:{width:"".concat(100/i.length,"%")},children:Object(t.jsx)("span",{children:E})},"action-".concat(q))})}):i?Object(t.jsx)("ul",{className:"".concat(j,"-actions"),children:i}):null},l=T,g=e("jCWc"),b=e("kPKH"),ve=e("14J3"),J=e("BMrR"),le=e("aK+R"),Q=function(d){var i=d.style,j=d.prefix;return Object(t.jsxs)("div",{className:"".concat(j,"-loading-content"),style:i,children:[Object(t.jsx)(J.a,{gutter:8,children:Object(t.jsx)(b.a,{span:22,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})})}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:8,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})}),Object(t.jsx)(b.a,{span:15,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})})]}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:6,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})}),Object(t.jsx)(b.a,{span:18,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})})]}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:13,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})}),Object(t.jsx)(b.a,{span:9,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})})]}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:4,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})}),Object(t.jsx)(b.a,{span:3,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})}),Object(t.jsx)(b.a,{span:16,children:Object(t.jsx)("div",{className:"".concat(j,"-loading-block")})})]})]})},r=Q,oe=e("df8c"),ie=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],M=z.a.useBreakpoint,v=s.a.forwardRef(function(a,d){var i,j,E,q=a.className,ae=a.style,ne=a.bodyStyle,w=ne===void 0?{}:ne,re=a.headStyle,Me=re===void 0?{}:re,fe=a.title,De=a.subTitle,de=a.extra,xe=a.tip,he=a.wrap,Qe=he===void 0?!1:he,Xe=a.layout,ue=a.loading,Be=a.gutter,we=Be===void 0?0:Be,ke=a.tooltip,Oe=a.split,Re=a.headerBordered,qe=Re===void 0?!1:Re,Ke=a.bordered,et=Ke===void 0?!1:Ke,We=a.children,Se=a.size,tt=a.actions,Ne=a.ghost,at=Ne===void 0?!1:Ne,Fe=a.hoverable,nt=Fe===void 0?!1:Fe,rt=a.direction,Ge=a.collapsed,ze=a.collapsible,st=ze===void 0?!1:ze,$e=a.collapsibleIconRender,Ve=a.defaultCollapsed,ct=Ve===void 0?!1:Ve,lt=a.onCollapse,ot=a.checked,Te=a.onChecked,Ae=a.tabs,Ue=a.type,_e=Object(S.a)(a,ie),it=Object(c.useContext)(x.default.ConfigContext),dt=it.getPrefixCls,Je=M(),ut=Object(Z.a)(ct,{value:Ge,onChange:lt}),Ye=Object(P.a)(ut,2),Ee=Ye[0],Ot=Ye[1],Pe=["xxl","xl","lg","md","sm","xs"],_t=function(U){var y=[0,0],Y=Array.isArray(U)?U:[U,0];return Y.forEach(function(H,ee){if(Object(I.a)(H)==="object")for(var k=0;k<Pe.length;k+=1){var be=Pe[k];if(Je[be]&&H[be]!==void 0){y[ee]=H[be];break}}else y[ee]=H||0}),y},je=function(U,y){return U?y:{}},jt=function(U){var y=U;if(Object(I.a)(U)==="object")for(var Y=0;Y<Pe.length;Y+=1){var H=Pe[Y];if(Je[H]&&U[H]!==void 0){y=U[H];break}}var ee=je(typeof y=="string"&&/\d%|\dpx/i.test(y),{width:y,flexShrink:0});return{span:y,colSpanStyle:ee}},u=dt("pro-card"),bt=_t(we),Ze=Object(P.a)(bt,2),se=Ze[0],ce=Ze[1],Ie=!1,Le=s.a.Children.toArray(We),vt=Le.map(function(N,U){var y;if(N==null||(y=N.type)===null||y===void 0?void 0:y.isProCard){var Y;Ie=!0;var H=N.props.colSpan,ee=jt(H),k=ee.span,be=ee.colSpanStyle,Et=f()(["".concat(u,"-col")],(Y={},Object(o.a)(Y,"".concat(u,"-split-vertical"),Oe==="vertical"&&U!==Le.length-1),Object(o.a)(Y,"".concat(u,"-split-horizontal"),Oe==="horizontal"&&U!==Le.length-1),Object(o.a)(Y,"".concat(u,"-col-").concat(k),typeof k=="number"&&k>=0&&k<=24),Y));return Object(t.jsx)("div",{style:Object(n.a)(Object(n.a)(Object(n.a)({},be),je(se>0,{paddingRight:se/2,paddingLeft:se/2})),je(ce>0,{paddingTop:ce/2,paddingBottom:ce/2})),className:Et,children:s.a.cloneElement(N)},"pro-card-col-".concat((N==null?void 0:N.key)||U))}return N}),mt=f()("".concat(u),q,(i={},Object(o.a)(i,"".concat(u,"-border"),et),Object(o.a)(i,"".concat(u,"-contain-card"),Ie),Object(o.a)(i,"".concat(u,"-loading"),ue),Object(o.a)(i,"".concat(u,"-split"),Oe==="vertical"||Oe==="horizontal"),Object(o.a)(i,"".concat(u,"-ghost"),at),Object(o.a)(i,"".concat(u,"-hoverable"),nt),Object(o.a)(i,"".concat(u,"-size-").concat(Se),Se),Object(o.a)(i,"".concat(u,"-type-").concat(Ue),Ue),Object(o.a)(i,"".concat(u,"-collapse"),Ee),Object(o.a)(i,"".concat(u,"-checked"),ot),i)),ft=f()("".concat(u,"-body"),(j={},Object(o.a)(j,"".concat(u,"-body-center"),Xe==="center"),Object(o.a)(j,"".concat(u,"-body-direction-column"),Oe==="horizontal"||rt==="column"),Object(o.a)(j,"".concat(u,"-body-wrap"),Qe&&Ie),j)),ht=Object(n.a)(Object(n.a)(Object(n.a)({},je(se>0,{marginRight:-se/2,marginLeft:-se/2})),je(ce>0,{marginTop:-ce/2,marginBottom:-ce/2})),w),He=s.a.isValidElement(ue)?ue:Object(t.jsx)(r,{prefix:u,style:w.padding===0||w.padding==="0px"?{padding:24}:void 0}),pe=st&&Ge===void 0&&($e?$e({collapsed:Ee}):Object(t.jsx)(p.a,{rotate:Ee?void 0:90,className:"".concat(u,"-collapsible-icon")}));return Object(t.jsxs)("div",Object(n.a)(Object(n.a)({className:mt,style:ae,ref:d,onClick:function(U){var y;Te==null||Te(U),_e==null||(y=_e.onClick)===null||y===void 0||y.call(_e,U)}},Object(G.a)(_e,["prefixCls","colSpan"])),{},{children:[(fe||de||pe)&&Object(t.jsxs)("div",{className:f()("".concat(u,"-header"),(E={},Object(o.a)(E,"".concat(u,"-header-border"),qe||Ue==="inner"),Object(o.a)(E,"".concat(u,"-header-collapsible"),pe),E)),style:Me,onClick:function(){pe&&Ot(!Ee)},children:[Object(t.jsxs)("div",{className:"".concat(u,"-title"),children:[pe,Object(t.jsx)(m.a,{label:fe,tooltip:ke||xe,subTitle:De})]}),de&&Object(t.jsx)("div",{className:"".concat(u,"-extra"),children:de})]}),Ae?Object(t.jsx)("div",{className:"".concat(u,"-tabs"),children:Object(t.jsx)(C.a,Object(n.a)(Object(n.a)({onChange:Ae.onChange},Ae),{},{children:ue?He:We}))}):Object(t.jsx)("div",{className:ft,style:ht,children:ue?He:vt}),Object(t.jsx)(l,{actions:tt,prefixCls:u})]}))}),A=v,B=e("u1OI"),X=function(d){var i=Object(c.useContext)(x.default.ConfigContext),j=i.getPrefixCls,E=j("pro-card-divider"),q=d.className,ae=d.style,ne=ae===void 0?{}:ae,w=d.type,re=f()(E,q,Object(o.a)({},"".concat(E,"-").concat(w),w));return Object(t.jsx)("div",{className:re,style:ne})},$=X,te=e("VzZb"),me=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],Ce=function(d){var i=d.key,j=d.tab,E=d.tabKey,q=d.disabled,ae=d.destroyInactiveTabPane,ne=d.children,w=d.className,re=d.style,Me=d.cardProps,fe=Object(S.a)(d,me),De=Object(c.useContext)(x.default.ConfigContext),de=De.getPrefixCls,xe=de("pro-card-tabpane"),he=f()(xe,w);return Object(t.jsx)(C.a.TabPane,Object(n.a)(Object(n.a)({tabKey:E,tab:j,className:he,style:re,disabled:q,destroyInactiveTabPane:ae},fe),{},{children:Object(t.jsx)(A,Object(n.a)(Object(n.a)({},Me),{},{children:ne}))}),i)},ge=Ce,ye=function(d){return Object(t.jsx)(A,Object(n.a)({bodyStyle:{padding:0}},d))},D=A;D.isProCard=!0,D.Divider=$,D.TabPane=ge,D.Group=ye;var O=D,R=_.a=O},ri8c:function(V,_,e){"use strict";e.d(_,"g",function(){return o}),e.d(_,"f",function(){return P}),e.d(_,"e",function(){return x}),e.d(_,"b",function(){return K}),e.d(_,"c",function(){return p}),e.d(_,"a",function(){return L}),e.d(_,"d",function(){return G});var n=e("qLMh"),t=e("k1fw"),W=e("9og8"),C=e("9kvl");function o(c,s){return I.apply(this,arguments)}function I(){return I=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups",Object(t.a)({params:Object(t.a)(Object(t.a)({},s),{},{per_page:s.pageSize,page:s.current,search:s.search?s.search:void 0,parent_id:s.parent_id}),method:"GET",useCache:!1},h||{})));case 1:case"end":return l.stop()}},c)})),I.apply(this,arguments)}function P(c,s){return F.apply(this,arguments)}function F(){return F=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s),Object(t.a)({method:"GET",useCache:!1},h||{})));case 1:case"end":return l.stop()}},c)})),F.apply(this,arguments)}function x(c,s,h){return S.apply(this,arguments)}function S(){return S=Object(W.a)(Object(n.a)().mark(function c(s,h,T){return Object(n.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s),Object(t.a)({data:h,method:"PUT"},T||{})));case 1:case"end":return g.stop()}},c)})),S.apply(this,arguments)}function K(c,s){return z.apply(this,arguments)}function z(){return z=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups",Object(t.a)({data:s,method:"POST"},h||{})));case 1:case"end":return l.stop()}},c)})),z.apply(this,arguments)}function p(c,s){return m.apply(this,arguments)}function m(){return m=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s),Object(t.a)({method:"DELETE"},h||{})));case 1:case"end":return l.stop()}},c)})),m.apply(this,arguments)}function L(c,s,h){return f.apply(this,arguments)}function f(){return f=Object(W.a)(Object(n.a)().mark(function c(s,h,T){return Object(n.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s,"/members"),Object(t.a)({data:{user_id:h},method:"POST"},T||{})));case 1:case"end":return g.stop()}},c)})),f.apply(this,arguments)}function G(c,s,h){return Z.apply(this,arguments)}function Z(){return Z=Object(W.a)(Object(n.a)().mark(function c(s,h,T){return Object(n.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s,"/members/").concat(h),Object(t.a)({method:"DELETE"},T||{})));case 1:case"end":return g.stop()}},c)})),Z.apply(this,arguments)}},u1OI:function(V,_,e){}}]);
