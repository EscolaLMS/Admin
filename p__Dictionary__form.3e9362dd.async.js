"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3507],{73197:function(de,C,a){a.r(C),a.d(C,{DictionaryTabNames:function(){return W},default:function(){return se}});var G=a(97857),T=a.n(G),K=a(15009),c=a.n(K),X=a(99289),Z=a.n(X),Q=a(5574),D=a.n(Q),V=a(47389),b=a(82061),H=a(51042),J=a(16894),N=a(2453),U=a(66309),$=a(83062),I=a(14726),Y=a(86738),g=a(67294),t=a(80854),y=a(42782),k=a(66419),L=a(61441),e=a(85893),q=function(){var i=Z()(c()().mark(function d(r){return c()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,y.FX)(r).then(function(h){return h.success&&N.ZP.success(h.message),!0}));case 1:case"end":return s.stop()}},d)}));return function(r){return i.apply(this,arguments)}}(),_=function(){var d=(0,g.useRef)(),r=(0,t.useIntl)(),M=(0,t.useParams)(),s=M.dictionaryId,h=M.tab,P=[{title:(0,e.jsx)(t.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,e.jsx)(t.FormattedMessage,{id:"word",defaultMessage:"word"}),dataIndex:"word",sorter:!0},{title:(0,e.jsx)(t.FormattedMessage,{id:"categories",defaultMessage:"categories"}),dataIndex:"categories",sorter:!1,hideInSearch:!0,render:function(m,f){var o;return(0,e.jsx)(g.Fragment,{children:(o=f.categories)===null||o===void 0?void 0:o.map(function(u){return(0,e.jsx)(U.Z,{children:u.name},u.name)})})}},{hideInSearch:!0,title:(0,e.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",width:100,render:function(m,f){return[(0,e.jsx)(t.Link,{to:"/other/dictionary/".concat(s,"/").concat(h,"/").concat(f.id,"/").concat(L.DictionaryWordsTabNames.FORM),children:(0,e.jsx)($.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,e.jsx)(I.ZP,{type:"primary",icon:(0,e.jsx)(V.Z,{})})})},"edit"),(0,e.jsx)(Y.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Z()(c()().mark(function o(){var u;return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(f.id);case 2:u=n.sent,u&&d.current&&d.current.reload();case 4:case"end":return n.stop()}},o)})),okText:(0,e.jsx)(t.FormattedMessage,{id:"yes"}),cancelText:(0,e.jsx)(t.FormattedMessage,{id:"no"}),children:(0,e.jsx)($.Z,{title:(0,e.jsx)(t.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,e.jsx)(I.ZP,{type:"primary",icon:(0,e.jsx)(b.Z,{}),danger:!0})})},"delete")]}}];return(0,e.jsx)(J.ZP,{headerTitle:r.formatMessage({id:"words",defaultMessage:"Words"}),actionRef:d,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,e.jsx)(t.Link,{to:"/other/dictionary/".concat(s,"/").concat(h,"/new/").concat(L.DictionaryWordsTabNames.FORM),children:(0,e.jsxs)(I.ZP,{type:"primary",children:[(0,e.jsx)(H.Z,{})," ",(0,e.jsx)(t.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(m,f){var o=m.pageSize,u=m.current,p=m.word;return(0,y.uz)(T()({per_page:o,page:u,word:p,dictionary_id:Number(s)},(0,k.di)(f,"created_at"))).then(function(n){return n.success?{data:n.data,total:n.meta.total,success:!0}:[]})},columns:P})},ee=_,S=a(26271),z=a(952),A=a(5966),ae=a(31199),te=a(74453),B=a(75081),re=a(71230),O=a(15746),W=function(i){return i.FORM="form",i.WORDS="words",i}({}),se=function(){var i=(0,t.useIntl)(),d=(0,t.useParams)(),r=d.dictionaryId,M=d.tab,s=r==="new",h=(0,g.useState)(),P=D()(h,2),x=P[0],m=P[1],f=(0,g.useState)(!1),o=D()(f,2),u=o[0],p=o[1],n=z.ZP.useForm(),ne=D()(n,1),ie=ne[0],E=(0,g.useCallback)(Z()(c()().mark(function R(){var j;return c()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return p(!0),v.next=3,(0,y.RC)(Number(r));case 3:j=v.sent,j.success&&m(j.data),p(!1);case 6:case"end":return v.stop()}},R)})),[r]);(0,g.useEffect)(function(){if(r==="new"){m({});return}E()},[r,E]);var oe=(0,g.useMemo)(function(){return{onFinish:function(){var R=Z()(c()().mark(function w(v){var F;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r!=="new"){l.next=7;break}return l.next=3,(0,y.Xk)(v);case 3:F=l.sent,F.success&&t.history.push("/other/dictionary/".concat(F.data.id,"/form")),l.next=10;break;case 7:return l.next=9,(0,y.ax)(Number(r),v);case 9:F=l.sent;case 10:N.ZP.success(F.message);case 11:case"end":return l.stop()}},w)}));function j(w){return R.apply(this,arguments)}return j}(),initialValues:x}},[x,r]);return x?(0,e.jsx)(te._z,{title:s?(0,e.jsx)(t.FormattedMessage,{id:"new_dictionary"}):(0,e.jsx)(t.FormattedMessage,{id:"edit_dictionary"}),children:(0,e.jsxs)(S.ZP,{tabs:{type:"card",activeKey:M,onChange:function(j){t.history.push("/other/dictionary/".concat(r,"/").concat(j))}},children:[(0,e.jsx)(S.ZP.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"attributes"}),children:(0,e.jsxs)(z.ZP,T()(T()({},oe),{},{form:ie,children:[(0,e.jsxs)(re.Z,{gutter:[16,16],children:[(0,e.jsx)(O.Z,{xs:{span:24},md:{span:12},children:(0,e.jsx)(A.Z,{name:"name",label:(0,e.jsx)(t.FormattedMessage,{id:"name"}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"name"}),placeholder:i.formatMessage({id:"Name"}),required:!0})}),!s&&(0,e.jsx)(O.Z,{xs:{span:24},md:{span:12},children:(0,e.jsx)(A.Z,{name:"slug",label:(0,e.jsx)(t.FormattedMessage,{id:"slug"}),placeholder:i.formatMessage({id:"slug"}),disabled:!0,required:!0})}),(0,e.jsx)(O.Z,{xs:{span:24},md:{span:12},children:(0,e.jsx)(ae.Z,{name:"free_views_count",label:(0,e.jsx)(t.FormattedMessage,{id:"free_views_count"}),tooltip:(0,e.jsx)(t.FormattedMessage,{id:"free_views_count_tooltip"}),placeholder:i.formatMessage({id:"Free views count"}),min:0})})]}),u&&(0,e.jsx)(B.Z,{})]}))},W.FORM),(0,e.jsx)(S.ZP.TabPane,{tab:(0,e.jsx)(t.FormattedMessage,{id:"words"}),disabled:s,children:(0,e.jsx)(ee,{})},W.WORDS)]})}):(0,e.jsx)(B.Z,{})}}}]);
